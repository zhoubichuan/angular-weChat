{"version":3,"sources":["webpack://ant-design-pro/./node_modules/@ant-design/pro-form/es/components/DateTimePicker/index.js","webpack://ant-design-pro/./src/pages/list/table-list2/components/UpdateForm.tsx","webpack://ant-design-pro/./src/pages/list/table-list2/service.ts","webpack://ant-design-pro/./src/pages/list/table-list2/index.tsx"],"names":["UpdateForm","props","size","dom","submitter","padding","updateModalVisible","onCancel","onSubmit","name","values","desc","required","message","min","target","template","value","label","type","frequency","month","week","params","options","request","method","data","handleAdd","fields","hide","addRule","handleUpdate","updateRule","key","handleRemove","selectedRows","removeRule","map","row","TableList","useState","createModalVisible","handleModalVisible","handleUpdateModalVisible","showDetail","setShowDetail","actionRef","useRef","currentRow","setCurrentRow","selectedRowsState","setSelectedRows","columns","title","dataIndex","tip","render","entity","valueType","sorter","hideInForm","renderText","val","_","record","labelWidth","rule","onChange","length","fontWeight","reduce","pre","item","callNo","current","reloadAndRest","success","reload","undefined","id"],"mappings":"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","file":"p__list__table-list2.5e568a69.async.js","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"fieldProps\", \"proFieldProps\"];\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useContext } from 'react';\nimport FieldContext from '../../FieldContext';\nimport ProField from '../Field';\nvar valueType = 'dateTime';\n/**\n * 时间日期选择组件\n *\n * @param\n */\n\nvar ProFormDateTimePicker = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var fieldProps = _ref.fieldProps,\n      proFieldProps = _ref.proFieldProps,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var context = useContext(FieldContext);\n  return _jsx(ProField, _objectSpread({\n    ref: ref,\n    fieldProps: _objectSpread({\n      getPopupContainer: context.getPopupContainer\n    }, fieldProps),\n    valueType: valueType,\n    proFieldProps: proFieldProps,\n    filedConfig: {\n      valueType: valueType,\n      customLightMode: true\n    }\n  }, rest));\n});\nexport default ProFormDateTimePicker;","import React from 'react';\nimport { Modal } from 'antd';\nimport {\n  ProFormSelect,\n  ProFormText,\n  ProFormTextArea,\n  StepsForm,\n  ProFormRadio,\n  ProFormDateTimePicker,\n} from '@ant-design/pro-form';\nimport type { TableListItem } from '../data';\n\nexport type FormValueType = {\n  target?: string;\n  template?: string;\n  type?: string;\n  time?: string;\n  frequency?: string;\n} & Partial<TableListItem>;\n\nexport type UpdateFormProps = {\n  onCancel: (flag?: boolean, formVals?: FormValueType) => void;\n  onSubmit: (values: FormValueType) => Promise<void>;\n  updateModalVisible: boolean;\n  values: Partial<TableListItem>;\n};\n\nconst UpdateForm: React.FC<UpdateFormProps> = (props) => {\n  return (\n    <StepsForm\n      stepsProps={{\n        size: 'small',\n      }}\n      stepsFormRender={(dom, submitter) => {\n        return (\n          <Modal\n            width={640}\n            bodyStyle={{\n              padding: '32px 40px 48px',\n            }}\n            destroyOnClose\n            title=\"规则配置\"\n            visible={props.updateModalVisible}\n            footer={submitter}\n            onCancel={() => {\n              props.onCancel();\n            }}\n          >\n            {dom}\n          </Modal>\n        );\n      }}\n      onFinish={props.onSubmit}\n    >\n      <StepsForm.StepForm\n        initialValues={{\n          name: props.values.name,\n          desc: props.values.desc,\n        }}\n        title=\"基本信息\"\n      >\n        <ProFormText\n          name=\"name\"\n          label=\"规则名称\"\n          width=\"md\"\n          rules={[\n            {\n              required: true,\n              message: '请输入规则名称！',\n            },\n          ]}\n        />\n        <ProFormTextArea\n          name=\"desc\"\n          width=\"md\"\n          label=\"规则描述\"\n          placeholder=\"请输入至少五个字符\"\n          rules={[\n            {\n              required: true,\n              message: '请输入至少五个字符的规则描述！',\n              min: 5,\n            },\n          ]}\n        />\n      </StepsForm.StepForm>\n      <StepsForm.StepForm\n        initialValues={{\n          target: '0',\n          template: '0',\n        }}\n        title=\"配置规则属性\"\n      >\n        <ProFormSelect\n          name=\"target\"\n          width=\"md\"\n          label=\"监控对象\"\n          valueEnum={{\n            0: '表一',\n            1: '表二',\n          }}\n        />\n        <ProFormSelect\n          name=\"template\"\n          width=\"md\"\n          label=\"规则模板\"\n          valueEnum={{\n            0: '规则模板一',\n            1: '规则模板二',\n          }}\n        />\n        <ProFormRadio.Group\n          name=\"type\"\n          label=\"规则类型\"\n          options={[\n            {\n              value: '0',\n              label: '强',\n            },\n            {\n              value: '1',\n              label: '弱',\n            },\n          ]}\n        />\n      </StepsForm.StepForm>\n      <StepsForm.StepForm\n        initialValues={{\n          type: '1',\n          frequency: 'month',\n        }}\n        title=\"设定调度周期\"\n      >\n        <ProFormDateTimePicker\n          name=\"time\"\n          width=\"md\"\n          label=\"开始时间\"\n          rules={[\n            {\n              required: true,\n              message: '请选择开始时间！',\n            },\n          ]}\n        />\n        <ProFormSelect\n          name=\"frequency\"\n          label=\"监控对象\"\n          width=\"md\"\n          valueEnum={{\n            month: '月',\n            week: '周',\n          }}\n        />\n      </StepsForm.StepForm>\n    </StepsForm>\n  );\n};\n\nexport default UpdateForm;\n","// @ts-ignore\n/* eslint-disable */\nimport { request } from 'umi';\nimport { TableListItem } from './data';\n\n/** 获取规则列表 GET /api/rule2 */\nexport async function rule(\n  params: {\n    // query\n    /** 当前的页码 */\n    current?: number;\n    /** 页面的容量 */\n    pageSize?: number;\n  },\n  options?: { [key: string]: any },\n) {\n  return request<{\n    data: TableListItem[];\n    /** 列表的内容总数 */\n    total?: number;\n    success?: boolean;\n  }>('/api/rule2', {\n    method: 'GET',\n    params: {\n      ...params,\n    },\n    ...(options || {}),\n  });\n}\n\n/** 新建规则 PUT /api/rule2 */\nexport async function updateRule(options?: { [key: string]: any }) {\n  return request<TableListItem>('/api/rule2', {\n    method: 'PUT',\n    data: { ...(options || {}) },\n  });\n}\n\n/** 新建规则 POST /api/rule2 */\nexport async function addRule(options?: { [key: string]: any }) {\n  return request<TableListItem>('/api/rule2', {\n    method: 'POST',\n    data: { ...(options || {}) },\n  });\n}\n\n/** 删除规则 DELETE /api/rule2 */\nexport async function removeRule(options?: { [key: string]: any }) {\n  return request<Record<string, any>>('/api/rule2', {\n    method: 'DELETE',\n    data: { ...(options || {}) },\n  });\n}\n","import { PlusOutlined } from '@ant-design/icons';\nimport { Button, message, Drawer } from 'antd';\nimport React, { useState, useRef } from 'react';\nimport { PageContainer, FooterToolbar } from '@ant-design/pro-layout';\nimport type { ProColumns, ActionType } from '@ant-design/pro-table';\nimport ProTable from '@ant-design/pro-table';\nimport { ModalForm, ProFormText } from '@ant-design/pro-form';\nimport type { ProDescriptionsItemProps } from '@ant-design/pro-descriptions';\nimport ProDescriptions from '@ant-design/pro-descriptions';\nimport type { FormValueType } from './components/UpdateForm';\nimport UpdateForm from './components/UpdateForm';\nimport { rule, addRule, updateRule, removeRule } from './service';\nimport type { TableListItem, TableListPagination } from './data';\n/**\n * 添加节点\n *\n * @param fields\n */\n\nconst handleAdd = async (fields: TableListItem) => {\n  const hide = message.loading('正在添加');\n\n  try {\n    await addRule({ ...fields });\n    hide();\n    message.success('添加成功');\n    return true;\n  } catch (error) {\n    hide();\n    message.error('添加失败请重试！');\n    return false;\n  }\n};\n/**\n * 更新节点\n *\n * @param fields\n */\n\nconst handleUpdate = async (fields: FormValueType) => {\n  const hide = message.loading('正在配置');\n\n  try {\n    await updateRule({\n      name: fields.name,\n      desc: fields.desc,\n      key: fields.key,\n    });\n    hide();\n    message.success('配置成功');\n    return true;\n  } catch (error) {\n    hide();\n    message.error('配置失败请重试！');\n    return false;\n  }\n};\n/**\n * 删除节点\n *\n * @param selectedRows\n */\n\nconst handleRemove = async (selectedRows: TableListItem[]) => {\n  const hide = message.loading('正在删除');\n  if (!selectedRows) return true;\n\n  try {\n    await removeRule({\n      key: selectedRows.map((row) => row.key),\n    });\n    hide();\n    message.success('删除成功，即将刷新');\n    return true;\n  } catch (error) {\n    hide();\n    message.error('删除失败，请重试');\n    return false;\n  }\n};\n\nconst TableList: React.FC = () => {\n  /** 新建窗口的弹窗 */\n  const [createModalVisible, handleModalVisible] = useState<boolean>(false);\n  /** 分布更新窗口的弹窗 */\n\n  const [updateModalVisible, handleUpdateModalVisible] = useState<boolean>(false);\n  const [showDetail, setShowDetail] = useState<boolean>(false);\n  const actionRef = useRef<ActionType>();\n  const [currentRow, setCurrentRow] = useState<TableListItem>();\n  const [selectedRowsState, setSelectedRows] = useState<TableListItem[]>([]);\n  /** 国际化配置 */\n\n  const columns: ProColumns<TableListItem>[] = [\n    {\n      title: '编号',\n      dataIndex: 'code',\n      tip: '规则名称是唯一的 key',\n      render: (dom, entity) => {\n        return (\n          <a\n            onClick={() => {\n              setCurrentRow(entity);\n              setShowDetail(true);\n            }}\n          >\n            {dom}\n          </a>\n        );\n      },\n    },\n    {\n      title: '报警设备',\n      dataIndex: 'device',\n      valueType: 'textarea',\n    },\n    {\n      title: '报警内容',\n      dataIndex: 'content',\n      sorter: true,\n      hideInForm: true,\n      renderText: (val: string) => `${val}万`,\n    },\n    {\n      title: '关联任务',\n      dataIndex: 'task',\n      hideInForm: true,\n    },\n    {\n      title: '报警次数',\n      sorter: true,\n      dataIndex: 'count',\n    },\n    {\n      title: '报警开始时间',\n      dataIndex: 'time',\n      hideInForm: true,\n    },\n    {\n      title: '报警类型',\n      sorter: true,\n      dataIndex: 'type',\n    },\n    {\n      title: '操作',\n      dataIndex: 'option',\n      valueType: 'option',\n      render: (_, record) => [\n        <a\n          key=\"config\"\n          onClick={() => {\n            handleUpdateModalVisible(true);\n            setCurrentRow(record);\n          }}\n        >\n          配置\n        </a>,\n        <a key=\"subscribeAlert\" href=\"https://procomponents.ant.design/\">\n          订阅警报\n        </a>,\n      ],\n    },\n  ];\n\n  return (\n    <PageContainer>\n      <ProTable<TableListItem, TableListPagination>\n        headerTitle=\"查询表格\"\n        actionRef={actionRef}\n        rowKey=\"key\"\n        search={{\n          labelWidth: 120,\n        }}\n        toolBarRender={() => [\n          <Button\n            type=\"primary\"\n            key=\"primary\"\n            onClick={() => {\n              handleModalVisible(true);\n            }}\n          >\n            <PlusOutlined /> 新建\n          </Button>,\n        ]}\n        request={rule}\n        columns={columns}\n        rowSelection={{\n          onChange: (_, selectedRows) => {\n            setSelectedRows(selectedRows);\n          },\n        }}\n      />\n      {selectedRowsState?.length > 0 && (\n        <FooterToolbar\n          extra={\n            <div>\n              已选择{' '}\n              <a\n                style={{\n                  fontWeight: 600,\n                }}\n              >\n                {selectedRowsState.length}\n              </a>{' '}\n              项 &nbsp;&nbsp;\n              <span>\n                服务调用次数总计 {selectedRowsState.reduce((pre, item) => pre + item.callNo!, 0)} 万\n              </span>\n            </div>\n          }\n        >\n          <Button\n            onClick={async () => {\n              await handleRemove(selectedRowsState);\n              setSelectedRows([]);\n              actionRef.current?.reloadAndRest?.();\n            }}\n          >\n            批量删除\n          </Button>\n          <Button type=\"primary\">批量审批</Button>\n        </FooterToolbar>\n      )}\n      <ModalForm\n        title=\"新建规则\"\n        width=\"400px\"\n        visible={createModalVisible}\n        onVisibleChange={handleModalVisible}\n        onFinish={async (value) => {\n          const success = await handleAdd(value as TableListItem);\n          if (success) {\n            handleModalVisible(false);\n            if (actionRef.current) {\n              actionRef.current.reload();\n            }\n          }\n        }}\n      >\n        <ProFormText\n          rules={[\n            {\n              required: true,\n              message: '规则名称为必填项',\n            },\n          ]}\n          width=\"md\"\n          label=\"编号\"\n          name=\"code\"\n        />\n        <ProFormText\n          rules={[\n            {\n              required: true,\n              message: '规则名称为必填项',\n            },\n          ]}\n          label=\"报警设备\"\n          width=\"md\"\n          name=\"device\"\n        />\n        <ProFormText\n          rules={[\n            {\n              required: true,\n              message: '规则名称为必填项',\n            },\n          ]}\n          label=\"报警内容\"\n          width=\"md\"\n          name=\"content\"\n        />\n        <ProFormText\n          rules={[\n            {\n              required: true,\n              message: '规则名称为必填项',\n            },\n          ]}\n          label=\"关联任务\"\n          width=\"md\"\n          name=\"task\"\n        />\n        <ProFormText\n          rules={[\n            {\n              required: true,\n              message: '规则名称为必填项',\n            },\n          ]}\n          label=\"报警次数\"\n          width=\"md\"\n          name=\"count\"\n        />\n        <ProFormText\n          rules={[\n            {\n              required: true,\n              message: '规则名称为必填项',\n            },\n          ]}\n          label=\"报警开始时间\"\n          width=\"md\"\n          name=\"time\"\n        />\n        <ProFormText\n          rules={[\n            {\n              required: true,\n              message: '规则名称为必填项',\n            },\n          ]}\n          label=\"报警类型\"\n          width=\"md\"\n          name=\"type\"\n        />\n        <ProFormText\n          rules={[\n            {\n              required: true,\n              message: '规则名称为必填项',\n            },\n          ]}\n          label=\"操作\"\n          width=\"md\"\n          name=\"option\"\n        />\n      </ModalForm>\n      <UpdateForm\n        onSubmit={async (value) => {\n          const success = await handleUpdate(value);\n\n          if (success) {\n            handleUpdateModalVisible(false);\n            setCurrentRow(undefined);\n\n            if (actionRef.current) {\n              actionRef.current.reload();\n            }\n          }\n        }}\n        onCancel={() => {\n          handleUpdateModalVisible(false);\n          setCurrentRow(undefined);\n        }}\n        updateModalVisible={updateModalVisible}\n        values={currentRow || {}}\n      />\n\n      <Drawer\n        width={600}\n        visible={showDetail}\n        onClose={() => {\n          setCurrentRow(undefined);\n          setShowDetail(false);\n        }}\n        closable={false}\n      >\n        {currentRow?.name && (\n          <ProDescriptions<TableListItem>\n            column={2}\n            title={currentRow?.name}\n            request={async () => ({\n              data: currentRow || {},\n            })}\n            params={{\n              id: currentRow?.name,\n            }}\n            columns={columns as ProDescriptionsItemProps<TableListItem>[]}\n          />\n        )}\n      </Drawer>\n    </PageContainer>\n  );\n};\n\nexport default TableList;\n"],"sourceRoot":""}