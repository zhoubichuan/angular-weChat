(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6869],{981:function(zt,C,x){"use strict";var s=x(75106),d=x(34283),y=x(16634),p=x(59301),n=x(92691),o=x.n(n),u=x(24877),r=x(84893),i=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],a=p.forwardRef(function(c,h){var v=c.className,f=c.component,m=c.viewBox,b=c.spin,M=c.rotate,O=c.tabIndex,E=c.onClick,A=c.children,j=(0,y.Z)(c,i);(0,r.Kp)(Boolean(f||A),"Should have `component` prop or `children`."),(0,r.C3)();var B=p.useContext(u.Z),D=B.prefixCls,T=D===void 0?"anticon":D,Y=o()(T,v),G=o()((0,d.Z)({},"".concat(T,"-spin"),!!b)),U=M?{msTransform:"rotate(".concat(M,"deg)"),transform:"rotate(".concat(M,"deg)")}:void 0,H=(0,s.Z)((0,s.Z)({},r.vD),{},{className:G,style:U,viewBox:m});m||delete H.viewBox;var J=function(){return f?p.createElement(f,(0,s.Z)({},H),A):A?((0,r.Kp)(Boolean(m)||p.Children.count(A)===1&&p.isValidElement(A)&&p.Children.only(A).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),p.createElement("svg",(0,s.Z)((0,s.Z)({},H),{},{viewBox:m}),A)):null},ut=O;return ut===void 0&&E&&(ut=-1),p.createElement("span",(0,s.Z)((0,s.Z)({role:"img"},j),{},{ref:h,tabIndex:ut,onClick:E,className:Y}),J())});a.displayName="AntdIcon",C.Z=a},99165:function(zt,C,x){"use strict";x.d(C,{Z:function(){return i}});var s=x(75106),d=x(16634),y=x(59301),p=x(981),n=["type","children"],o=new Set;function u(a){return Boolean(typeof a=="string"&&a.length&&!o.has(a))}function r(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=a[c];if(u(h)){var v=document.createElement("script");v.setAttribute("src",h),v.setAttribute("data-namespace",h),a.length>c+1&&(v.onload=function(){r(a,c+1)},v.onerror=function(){r(a,c+1)}),o.add(h),document.body.appendChild(v)}}function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.scriptUrl,h=a.extraCommonProps,v=h===void 0?{}:h;c&&typeof document!="undefined"&&typeof window!="undefined"&&typeof document.createElement=="function"&&(Array.isArray(c)?r(c.reverse()):r([c]));var f=y.forwardRef(function(m,b){var M=m.type,O=m.children,E=(0,d.Z)(m,n),A=null;return m.type&&(A=y.createElement("use",{xlinkHref:"#".concat(M)})),O&&(A=O),y.createElement(p.Z,(0,s.Z)((0,s.Z)((0,s.Z)({},v),E),{},{ref:b}),A)});return f.displayName="Iconfont",f}},17739:function(zt,C,x){"use strict";x.d(C,{Z:function(){return y}});var s=x(48093);function d(p,n){for(;!Object.prototype.hasOwnProperty.call(p,n)&&(p=(0,s.Z)(p),p!==null););return p}function y(){return typeof Reflect!="undefined"&&Reflect.get?y=Reflect.get.bind():y=function(n,o,u){var r=d(n,o);if(!!r){var i=Object.getOwnPropertyDescriptor(r,o);return i.get?i.get.call(arguments.length<3?n:u):i.value}},y.apply(this,arguments)}},1315:function(){},95756:function(zt){(function(C,x){zt.exports=x()})(window,function(){return function(C){var x={};function s(d){if(x[d])return x[d].exports;var y=x[d]={i:d,l:!1,exports:{}};return C[d].call(y.exports,y,y.exports,s),y.l=!0,y.exports}return s.m=C,s.c=x,s.d=function(d,y,p){s.o(d,y)||Object.defineProperty(d,y,{enumerable:!0,get:p})},s.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},s.t=function(d,y){if(1&y&&(d=s(d)),8&y||4&y&&typeof d=="object"&&d&&d.__esModule)return d;var p=Object.create(null);if(s.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:d}),2&y&&typeof d!="string")for(var n in d)s.d(p,n,function(o){return d[o]}.bind(null,n));return p},s.n=function(d){var y=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(y,"a",y),y},s.o=function(d,y){return Object.prototype.hasOwnProperty.call(d,y)},s.p="",s(s.s=820)}([,function(C,x,s){"use strict";var d=function(Pt,Xt,Ut){Pt.prototype=Xt.prototype=Ut,Ut.constructor=Pt};function y(kt,Pt){var Xt=Object.create(kt.prototype);for(var Ut in Pt)Xt[Ut]=Pt[Ut];return Xt}function p(){}var n="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3})$/,i=/^#([0-9a-f]{6})$/,a=new RegExp("^rgb\\("+[n,n,n]+"\\)$"),c=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),h=new RegExp("^rgba\\("+[n,n,n,o]+"\\)$"),v=new RegExp("^rgba\\("+[u,u,u,o]+"\\)$"),f=new RegExp("^hsl\\("+[o,u,u]+"\\)$"),m=new RegExp("^hsla\\("+[o,u,u,o]+"\\)$"),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function M(kt){var Pt;return kt=(kt+"").trim().toLowerCase(),(Pt=r.exec(kt))?new B((Pt=parseInt(Pt[1],16))>>8&15|Pt>>4&240,Pt>>4&15|240&Pt,(15&Pt)<<4|15&Pt,1):(Pt=i.exec(kt))?O(parseInt(Pt[1],16)):(Pt=a.exec(kt))?new B(Pt[1],Pt[2],Pt[3],1):(Pt=c.exec(kt))?new B(255*Pt[1]/100,255*Pt[2]/100,255*Pt[3]/100,1):(Pt=h.exec(kt))?E(Pt[1],Pt[2],Pt[3],Pt[4]):(Pt=v.exec(kt))?E(255*Pt[1]/100,255*Pt[2]/100,255*Pt[3]/100,Pt[4]):(Pt=f.exec(kt))?T(Pt[1],Pt[2]/100,Pt[3]/100,1):(Pt=m.exec(kt))?T(Pt[1],Pt[2]/100,Pt[3]/100,Pt[4]):b.hasOwnProperty(kt)?O(b[kt]):kt==="transparent"?new B(NaN,NaN,NaN,0):null}function O(kt){return new B(kt>>16&255,kt>>8&255,255&kt,1)}function E(kt,Pt,Xt,Ut){return Ut<=0&&(kt=Pt=Xt=NaN),new B(kt,Pt,Xt,Ut)}function A(kt){return kt instanceof p||(kt=M(kt)),kt?new B((kt=kt.rgb()).r,kt.g,kt.b,kt.opacity):new B}function j(kt,Pt,Xt,Ut){return arguments.length===1?A(kt):new B(kt,Pt,Xt,Ut==null?1:Ut)}function B(kt,Pt,Xt,Ut){this.r=+kt,this.g=+Pt,this.b=+Xt,this.opacity=+Ut}function D(kt){return((kt=Math.max(0,Math.min(255,Math.round(kt)||0)))<16?"0":"")+kt.toString(16)}function T(kt,Pt,Xt,Ut){return Ut<=0?kt=Pt=Xt=NaN:Xt<=0||Xt>=1?kt=Pt=NaN:Pt<=0&&(kt=NaN),new G(kt,Pt,Xt,Ut)}function Y(kt,Pt,Xt,Ut){return arguments.length===1?function(ct){if(ct instanceof G)return new G(ct.h,ct.s,ct.l,ct.opacity);if(ct instanceof p||(ct=M(ct)),!ct)return new G;if(ct instanceof G)return ct;var re=(ct=ct.rgb()).r/255,ve=ct.g/255,pe=ct.b/255,Me=Math.min(re,ve,pe),ge=Math.max(re,ve,pe),ce=NaN,ye=ge-Me,be=(ge+Me)/2;return ye?(ce=re===ge?(ve-pe)/ye+6*(ve<pe):ve===ge?(pe-re)/ye+2:(re-ve)/ye+4,ye/=be<.5?ge+Me:2-ge-Me,ce*=60):ye=be>0&&be<1?0:ce,new G(ce,ye,be,ct.opacity)}(kt):new G(kt,Pt,Xt,Ut==null?1:Ut)}function G(kt,Pt,Xt,Ut){this.h=+kt,this.s=+Pt,this.l=+Xt,this.opacity=+Ut}function U(kt,Pt,Xt){return 255*(kt<60?Pt+(Xt-Pt)*kt/60:kt<180?Xt:kt<240?Pt+(Xt-Pt)*(240-kt)/60:Pt)}d(p,M,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),d(B,j,y(p,{brighter:function(Pt){return Pt=Pt==null?1/.7:Math.pow(1/.7,Pt),new B(this.r*Pt,this.g*Pt,this.b*Pt,this.opacity)},darker:function(Pt){return Pt=Pt==null?.7:Math.pow(.7,Pt),new B(this.r*Pt,this.g*Pt,this.b*Pt,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+D(this.r)+D(this.g)+D(this.b)},toString:function(){var Pt=this.opacity;return((Pt=isNaN(Pt)?1:Math.max(0,Math.min(1,Pt)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(Pt===1?")":", "+Pt+")")}})),d(G,Y,y(p,{brighter:function(Pt){return Pt=Pt==null?1/.7:Math.pow(1/.7,Pt),new G(this.h,this.s,this.l*Pt,this.opacity)},darker:function(Pt){return Pt=Pt==null?.7:Math.pow(.7,Pt),new G(this.h,this.s,this.l*Pt,this.opacity)},rgb:function(){var Pt=this.h%360+360*(this.h<0),Xt=isNaN(Pt)||isNaN(this.s)?0:this.s,Ut=this.l,ct=Ut+(Ut<.5?Ut:1-Ut)*Xt,re=2*Ut-ct;return new B(U(Pt>=240?Pt-240:Pt+120,re,ct),U(Pt,re,ct),U(Pt<120?Pt+240:Pt-120,re,ct),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var H=Math.PI/180,J=180/Math.PI,ut=.96422,$=1,K=.82521,ot=4/29,at=6/29,ht=3*at*at,St=at*at*at;function pt(kt){if(kt instanceof gt)return new gt(kt.l,kt.a,kt.b,kt.opacity);if(kt instanceof Z){if(isNaN(kt.h))return new gt(kt.l,0,0,kt.opacity);var Pt=kt.h*H;return new gt(kt.l,Math.cos(Pt)*kt.c,Math.sin(Pt)*kt.c,kt.opacity)}kt instanceof B||(kt=A(kt));var Xt,Ut,ct=It(kt.r),re=It(kt.g),ve=It(kt.b),pe=_t((.2225045*ct+.7168786*re+.0606169*ve)/$);return ct===re&&re===ve?Xt=Ut=pe:(Xt=_t((.4360747*ct+.3850649*re+.1430804*ve)/ut),Ut=_t((.0139322*ct+.0971045*re+.7141733*ve)/K)),new gt(116*pe-16,500*(Xt-pe),200*(pe-Ut),kt.opacity)}function xt(kt,Pt){return new gt(kt,0,0,Pt==null?1:Pt)}function vt(kt,Pt,Xt,Ut){return arguments.length===1?pt(kt):new gt(kt,Pt,Xt,Ut==null?1:Ut)}function gt(kt,Pt,Xt,Ut){this.l=+kt,this.a=+Pt,this.b=+Xt,this.opacity=+Ut}function _t(kt){return kt>St?Math.pow(kt,1/3):kt/ht+ot}function Bt(kt){return kt>at?kt*kt*kt:ht*(kt-ot)}function At(kt){return 255*(kt<=.0031308?12.92*kt:1.055*Math.pow(kt,1/2.4)-.055)}function It(kt){return(kt/=255)<=.04045?kt/12.92:Math.pow((kt+.055)/1.055,2.4)}function lt(kt){if(kt instanceof Z)return new Z(kt.h,kt.c,kt.l,kt.opacity);if(kt instanceof gt||(kt=pt(kt)),kt.a===0&&kt.b===0)return new Z(NaN,0,kt.l,kt.opacity);var Pt=Math.atan2(kt.b,kt.a)*J;return new Z(Pt<0?Pt+360:Pt,Math.sqrt(kt.a*kt.a+kt.b*kt.b),kt.l,kt.opacity)}function X(kt,Pt,Xt,Ut){return arguments.length===1?lt(kt):new Z(Xt,Pt,kt,Ut==null?1:Ut)}function V(kt,Pt,Xt,Ut){return arguments.length===1?lt(kt):new Z(kt,Pt,Xt,Ut==null?1:Ut)}function Z(kt,Pt,Xt,Ut){this.h=+kt,this.c=+Pt,this.l=+Xt,this.opacity=+Ut}d(gt,vt,y(p,{brighter:function(Pt){return new gt(this.l+18*(Pt==null?1:Pt),this.a,this.b,this.opacity)},darker:function(Pt){return new gt(this.l-18*(Pt==null?1:Pt),this.a,this.b,this.opacity)},rgb:function(){var Pt=(this.l+16)/116,Xt=isNaN(this.a)?Pt:Pt+this.a/500,Ut=isNaN(this.b)?Pt:Pt-this.b/200;return new B(At(3.1338561*(Xt=ut*Bt(Xt))-1.6168667*(Pt=$*Bt(Pt))-.4906146*(Ut=K*Bt(Ut))),At(-.9787684*Xt+1.9161415*Pt+.033454*Ut),At(.0719453*Xt-.2289914*Pt+1.4052427*Ut),this.opacity)}})),d(Z,V,y(p,{brighter:function(Pt){return new Z(this.h,this.c,this.l+18*(Pt==null?1:Pt),this.opacity)},darker:function(Pt){return new Z(this.h,this.c,this.l-18*(Pt==null?1:Pt),this.opacity)},rgb:function(){return pt(this).rgb()}}));var W=-.14861,rt=1.78277,tt=-.29227,Q=-.90649,ft=1.97294,Et=ft*Q,Ct=ft*rt,Nt=rt*tt-Q*W;function Ft(kt,Pt,Xt,Ut){return arguments.length===1?function(ct){if(ct instanceof Rt)return new Rt(ct.h,ct.s,ct.l,ct.opacity);ct instanceof B||(ct=A(ct));var re=ct.r/255,ve=ct.g/255,pe=ct.b/255,Me=(Nt*pe+Et*re-Ct*ve)/(Nt+Et-Ct),ge=pe-Me,ce=(ft*(ve-Me)-tt*ge)/Q,ye=Math.sqrt(ce*ce+ge*ge)/(ft*Me*(1-Me)),be=ye?Math.atan2(ce,ge)*J-120:NaN;return new Rt(be<0?be+360:be,ye,Me,ct.opacity)}(kt):new Rt(kt,Pt,Xt,Ut==null?1:Ut)}function Rt(kt,Pt,Xt,Ut){this.h=+kt,this.s=+Pt,this.l=+Xt,this.opacity=+Ut}d(Rt,Ft,y(p,{brighter:function(Pt){return Pt=Pt==null?1/.7:Math.pow(1/.7,Pt),new Rt(this.h,this.s,this.l*Pt,this.opacity)},darker:function(Pt){return Pt=Pt==null?.7:Math.pow(.7,Pt),new Rt(this.h,this.s,this.l*Pt,this.opacity)},rgb:function(){var Pt=isNaN(this.h)?0:(this.h+120)*H,Xt=+this.l,Ut=isNaN(this.s)?0:this.s*Xt*(1-Xt),ct=Math.cos(Pt),re=Math.sin(Pt);return new B(255*(Xt+Ut*(W*ct+rt*re)),255*(Xt+Ut*(tt*ct+Q*re)),255*(Xt+Ut*(ft*ct)),this.opacity)}})),s.d(x,"a",function(){return M}),s.d(x,"h",function(){return j}),s.d(x,"e",function(){return Y}),s.d(x,"f",function(){return vt}),s.d(x,"d",function(){return V}),s.d(x,"g",function(){return X}),s.d(x,"c",function(){return xt}),s.d(x,"b",function(){return Ft})},,,,,,,,,,,,,,,function(C,x){C.exports=function(s){var d=typeof s;return s!=null&&(d=="object"||d=="function")}},function(C,x,s){"use strict";s.r(x);var d,y,p=0,n=0,o=0,u=1e3,r=0,i=0,a=0,c=typeof performance=="object"&&performance.now?performance:Date,h=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(D){setTimeout(D,17)};function v(){return i||(h(f),i=c.now()+a)}function f(){i=0}function m(){this._call=this._time=this._next=null}function b(D,T,Y){var G=new m;return G.restart(D,T,Y),G}function M(){v(),++p;for(var D,T=d;T;)(D=i-T._time)>=0&&T._call.call(null,D),T=T._next;--p}function O(){i=(r=c.now())+a,p=n=0;try{M()}finally{p=0,function(){for(var D,T,Y=d,G=1/0;Y;)Y._call?(G>Y._time&&(G=Y._time),D=Y,Y=Y._next):(T=Y._next,Y._next=null,Y=D?D._next=T:d=T);y=D,A(G)}(),i=0}}function E(){var D=c.now(),T=D-r;T>u&&(a-=T,r=D)}function A(D){p||(n&&(n=clearTimeout(n)),D-i>24?(D<1/0&&(n=setTimeout(O,D-c.now()-a)),o&&(o=clearInterval(o))):(o||(r=c.now(),o=setInterval(E,u)),p=1,h(O)))}m.prototype=b.prototype={constructor:m,restart:function(T,Y,G){if(typeof T!="function")throw new TypeError("callback is not a function");G=(G==null?v():+G)+(Y==null?0:+Y),this._next||y===this||(y?y._next=this:d=this,y=this),this._call=T,this._time=G,A()},stop:function(){this._call&&(this._call=null,this._time=1/0,A())}};var j=function(T,Y,G){var U=new m;return Y=Y==null?0:+Y,U.restart(function(H){U.stop(),T(H+Y)},Y,G),U},B=function(T,Y,G){var U=new m,H=Y;return Y==null?(U.restart(T,Y,G),U):(Y=+Y,G=G==null?v():+G,U.restart(function J(ut){ut+=H,U.restart(J,H+=Y,G),T(ut)},Y,G),U)};s.d(x,"now",function(){return v}),s.d(x,"timer",function(){return b}),s.d(x,"timerFlush",function(){return M}),s.d(x,"timeout",function(){return j}),s.d(x,"interval",function(){return B})},,function(C,x,s){var d=s(644),y={};d.merge(y,d,{mixin:function(n,o){var u=n.CFG?"CFG":"ATTRS";if(n&&o){n._mixins=o,n[u]=n[u]||{};var r={};y.each(o,function(i){y.augment(n,i);var a=i[u];a&&y.merge(r,a)}),n[u]=y.merge(r,n[u])}}}),C.exports=y},function(C,x,s){var d=s(117),y=typeof self=="object"&&self&&self.Object===Object&&self,p=d||y||Function("return this")();C.exports=p},,,function(C,x){C.exports=function(s){return s!=null&&typeof s=="object"}},,,function(C,x,s){var d={},y=s(682),p=s(748),n=s(257),o=s(727),u=s(726),r=s(725);n.mix(d,n,u,r,o,p,y),C.exports=d},,,,,,,,function(C,x,s){var d=s(38),y=s(250),p=s(249),n="[object Null]",o="[object Undefined]",u=d?d.toStringTag:void 0;C.exports=function(r){return r==null?r===void 0?o:n:u&&u in Object(r)?y(r):p(r)}},,,,function(C,x,s){var d=s(20).Symbol;C.exports=d},function(C,x,s){var d=s(34),y=s(23),p="[object Symbol]";C.exports=function(n){return typeof n=="symbol"||y(n)&&d(n)==p}},,,,,function(C,x,s){"use strict";function d(At){return+At}function y(At){return At*At}function p(At){return At*(2-At)}function n(At){return((At*=2)<=1?At*At:--At*(2-At)+1)/2}function o(At){return At*At*At}function u(At){return--At*At*At+1}function r(At){return((At*=2)<=1?At*At*At:(At-=2)*At*At+2)/2}s.r(x);var i=function At(It){function lt(X){return Math.pow(X,It)}return It=+It,lt.exponent=At,lt}(3),a=function At(It){function lt(X){return 1-Math.pow(1-X,It)}return It=+It,lt.exponent=At,lt}(3),c=function At(It){function lt(X){return((X*=2)<=1?Math.pow(X,It):2-Math.pow(2-X,It))/2}return It=+It,lt.exponent=At,lt}(3),h=Math.PI,v=h/2;function f(At){return 1-Math.cos(At*v)}function m(At){return Math.sin(At*v)}function b(At){return(1-Math.cos(h*At))/2}function M(At){return Math.pow(2,10*At-10)}function O(At){return 1-Math.pow(2,-10*At)}function E(At){return((At*=2)<=1?Math.pow(2,10*At-10):2-Math.pow(2,10-10*At))/2}function A(At){return 1-Math.sqrt(1-At*At)}function j(At){return Math.sqrt(1- --At*At)}function B(At){return((At*=2)<=1?1-Math.sqrt(1-At*At):Math.sqrt(1-(At-=2)*At)+1)/2}var D=4/11,T=6/11,Y=8/11,G=.75,U=9/11,H=10/11,J=.9375,ut=21/22,$=63/64,K=1/D/D;function ot(At){return 1-at(1-At)}function at(At){return(At=+At)<D?K*At*At:At<Y?K*(At-=T)*At+G:At<H?K*(At-=U)*At+J:K*(At-=ut)*At+$}function ht(At){return((At*=2)<=1?1-at(1-At):at(At-1)+1)/2}var St=function At(It){function lt(X){return X*X*((It+1)*X-It)}return It=+It,lt.overshoot=At,lt}(1.70158),pt=function At(It){function lt(X){return--X*X*((It+1)*X+It)+1}return It=+It,lt.overshoot=At,lt}(1.70158),xt=function At(It){function lt(X){return((X*=2)<1?X*X*((It+1)*X-It):(X-=2)*X*((It+1)*X+It)+2)/2}return It=+It,lt.overshoot=At,lt}(1.70158),vt=2*Math.PI,gt=function At(It,lt){var X=Math.asin(1/(It=Math.max(1,It)))*(lt/=vt);function V(Z){return It*Math.pow(2,10*--Z)*Math.sin((X-Z)/lt)}return V.amplitude=function(Z){return At(Z,lt*vt)},V.period=function(Z){return At(It,Z)},V}(1,.3),_t=function At(It,lt){var X=Math.asin(1/(It=Math.max(1,It)))*(lt/=vt);function V(Z){return 1-It*Math.pow(2,-10*(Z=+Z))*Math.sin((Z+X)/lt)}return V.amplitude=function(Z){return At(Z,lt*vt)},V.period=function(Z){return At(It,Z)},V}(1,.3),Bt=function At(It,lt){var X=Math.asin(1/(It=Math.max(1,It)))*(lt/=vt);function V(Z){return((Z=2*Z-1)<0?It*Math.pow(2,10*Z)*Math.sin((X-Z)/lt):2-It*Math.pow(2,-10*Z)*Math.sin((X+Z)/lt))/2}return V.amplitude=function(Z){return At(Z,lt*vt)},V.period=function(Z){return At(It,Z)},V}(1,.3);s.d(x,"easeLinear",function(){return d}),s.d(x,"easeQuad",function(){return n}),s.d(x,"easeQuadIn",function(){return y}),s.d(x,"easeQuadOut",function(){return p}),s.d(x,"easeQuadInOut",function(){return n}),s.d(x,"easeCubic",function(){return r}),s.d(x,"easeCubicIn",function(){return o}),s.d(x,"easeCubicOut",function(){return u}),s.d(x,"easeCubicInOut",function(){return r}),s.d(x,"easePoly",function(){return c}),s.d(x,"easePolyIn",function(){return i}),s.d(x,"easePolyOut",function(){return a}),s.d(x,"easePolyInOut",function(){return c}),s.d(x,"easeSin",function(){return b}),s.d(x,"easeSinIn",function(){return f}),s.d(x,"easeSinOut",function(){return m}),s.d(x,"easeSinInOut",function(){return b}),s.d(x,"easeExp",function(){return E}),s.d(x,"easeExpIn",function(){return M}),s.d(x,"easeExpOut",function(){return O}),s.d(x,"easeExpInOut",function(){return E}),s.d(x,"easeCircle",function(){return B}),s.d(x,"easeCircleIn",function(){return A}),s.d(x,"easeCircleOut",function(){return j}),s.d(x,"easeCircleInOut",function(){return B}),s.d(x,"easeBounce",function(){return at}),s.d(x,"easeBounceIn",function(){return ot}),s.d(x,"easeBounceOut",function(){return at}),s.d(x,"easeBounceInOut",function(){return ht}),s.d(x,"easeBack",function(){return xt}),s.d(x,"easeBackIn",function(){return St}),s.d(x,"easeBackOut",function(){return pt}),s.d(x,"easeBackInOut",function(){return xt}),s.d(x,"easeElastic",function(){return _t}),s.d(x,"easeElasticIn",function(){return gt}),s.d(x,"easeElasticOut",function(){return _t}),s.d(x,"easeElasticInOut",function(){return Bt})},function(C,x,s){var d=s(115),y=Array.isArray?Array.isArray:function(p){return d(p,"Array")};C.exports=y},function(C,x,s){var d=s(621),y=s(45);C.exports=function(p,n){if(p){if(y(p))for(var o=0,u=p.length;o<u&&n(p[o],o)!==!1;o++);else if(d(p)){for(var r in p)if(p.hasOwnProperty(r)&&n(p[r],r)===!1)break}}}},,,,,,,,,,,,function(C,x,s){var d=s(19),y=s(742),p=s(641),n=s(613),o=function r(i){r.superclass.constructor.call(this,i)};o.ATTRS={},d.extend(o,p);var u={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};d.augment(o,y,{isShape:!0,drawInner:function(i){var a=this._attrs;this.createPath(i);var c=i.globalAlpha;if(this.hasFill()){var h=a.fillOpacity;d.isNil(h)||h===1?i.fill():(i.globalAlpha=h,i.fill(),i.globalAlpha=c)}if(this.hasStroke()&&this._attrs.lineWidth>0){var v=a.strokeOpacity;d.isNil(v)||v===1||(i.globalAlpha=v),i.stroke()}this.afterPath(i)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(i,a){var c=[i,a,1];if(this.invert(c),this.isHitBox()){var h=this.getBBox();if(h&&!n.box(h.minX,h.maxX,h.minY,h.maxY,c[0],c[1]))return!1}var v=this._attrs.clip;return v?(v.invert(c,this.get("canvas")),!!v.isPointInPath(c[0],c[1])&&this.isPointInPath(c[0],c[1])):this.isPointInPath(c[0],c[1])},calculateBox:function(){return null},getHitLineWidth:function(){var i=this._attrs,a=i.lineAppendWidth||0;return(i.lineWidth||0)+a},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var i=this._cfg.box;return i||((i=this.calculateBox())&&(i.x=i.minX,i.y=i.minY,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY),this._cfg.box=i),i},clone:function(){var i=null,a=this._attrs,c={};return d.each(a,function(h,v){u[v]&&d.isArray(a[v])?c[v]=function(f){for(var m=[],b=0;b<f.length;b++)d.isArray(f[b])?m.push([].concat(f[b])):m.push(f[b]);return m}(a[v]):c[v]=a[v]}),i=new this.constructor({attrs:c}),i._cfg.zIndex=this._cfg.zIndex,i}}),C.exports=o},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.setMatrixArrayType=function(p){x.ARRAY_TYPE=p},x.toRadian=function(p){return p*y},x.equals=function(p,n){return Math.abs(p-n)<=d*Math.max(1,Math.abs(p),Math.abs(n))};var d=x.EPSILON=1e-6;x.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,x.RANDOM=Math.random;var y=Math.PI/180},,,,,,,,,,,,,,,,,,,,,,,,,function(C,x,s){var d=s(115);C.exports=function(y){return d(y,"Function")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(C,x){var s={}.toString;C.exports=function(d,y){return s.call(d)==="[object "+y+"]"}},function(C,x,s){var d;/*!
 * EventEmitter v5.1.0 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */(function(y){"use strict";function p(){}var n=p.prototype,o=y.EventEmitter;function u(i,a){for(var c=i.length;c--;)if(i[c].listener===a)return c;return-1}function r(i){return function(){return this[i].apply(this,arguments)}}n.getListeners=function(i){var a,c,h=this._getEvents();if(i instanceof RegExp)for(c in a={},h)h.hasOwnProperty(c)&&i.test(c)&&(a[c]=h[c]);else a=h[i]||(h[i]=[]);return a},n.flattenListeners=function(i){var a,c=[];for(a=0;a<i.length;a+=1)c.push(i[a].listener);return c},n.getListenersAsObject=function(i){var a,c=this.getListeners(i);return c instanceof Array&&((a={})[i]=c),a||c},n.addListener=function(i,a){if(!function f(m){return typeof m=="function"||m instanceof RegExp||!(!m||typeof m!="object")&&f(m.listener)}(a))throw new TypeError("listener must be a function");var c,h=this.getListenersAsObject(i),v=typeof a=="object";for(c in h)h.hasOwnProperty(c)&&u(h[c],a)===-1&&h[c].push(v?a:{listener:a,once:!1});return this},n.on=r("addListener"),n.addOnceListener=function(i,a){return this.addListener(i,{listener:a,once:!0})},n.once=r("addOnceListener"),n.defineEvent=function(i){return this.getListeners(i),this},n.defineEvents=function(i){for(var a=0;a<i.length;a+=1)this.defineEvent(i[a]);return this},n.removeListener=function(i,a){var c,h,v=this.getListenersAsObject(i);for(h in v)v.hasOwnProperty(h)&&(c=u(v[h],a))!==-1&&v[h].splice(c,1);return this},n.off=r("removeListener"),n.addListeners=function(i,a){return this.manipulateListeners(!1,i,a)},n.removeListeners=function(i,a){return this.manipulateListeners(!0,i,a)},n.manipulateListeners=function(i,a,c){var h,v,f=i?this.removeListener:this.addListener,m=i?this.removeListeners:this.addListeners;if(typeof a!="object"||a instanceof RegExp)for(h=c.length;h--;)f.call(this,a,c[h]);else for(h in a)a.hasOwnProperty(h)&&(v=a[h])&&(typeof v=="function"?f.call(this,h,v):m.call(this,h,v));return this},n.removeEvent=function(i){var a,c=typeof i,h=this._getEvents();if(c==="string")delete h[i];else if(i instanceof RegExp)for(a in h)h.hasOwnProperty(a)&&i.test(a)&&delete h[a];else delete this._events;return this},n.removeAllListeners=r("removeEvent"),n.emitEvent=function(i,a){var c,h,v,f,m=this.getListenersAsObject(i);for(f in m)if(m.hasOwnProperty(f))for(c=m[f].slice(0),v=0;v<c.length;v++)(h=c[v]).once===!0&&this.removeListener(i,h.listener),h.listener.apply(this,a||[])===this._getOnceReturnValue()&&this.removeListener(i,h.listener);return this},n.trigger=r("emitEvent"),n.emit=function(i){var a=Array.prototype.slice.call(arguments,1);return this.emitEvent(i,a)},n.setOnceReturnValue=function(i){return this._onceReturnValue=i,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},p.noConflict=function(){return y.EventEmitter=o,p},(d=function(){return p}.call(y,s,y,C))===void 0||(C.exports=d)})(this||{})},function(C,x,s){(function(d){var y=typeof d=="object"&&d&&d.Object===Object&&d;C.exports=y}).call(this,s(252))},function(C,x){C.exports=function(s){return s!==null&&typeof s!="function"&&isFinite(s.length)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(C,x,s){var d=s(115);C.exports=function(y){return d(y,"Number")}},function(C,x){C.exports=function(s){return s==null}},function(C,x,s){"use strict";s.r(x);var d=s(1);function y(Z,W,rt,tt,Q){var ft=Z*Z,Et=ft*Z;return((1-3*Z+3*ft-Et)*W+(4-6*ft+3*Et)*rt+(1+3*Z+3*ft-3*Et)*tt+Et*Q)/6}var p=function(W){var rt=W.length-1;return function(tt){var Q=tt<=0?tt=0:tt>=1?(tt=1,rt-1):Math.floor(tt*rt),ft=W[Q],Et=W[Q+1],Ct=Q>0?W[Q-1]:2*ft-Et,Nt=Q<rt-1?W[Q+2]:2*Et-ft;return y((tt-Q/rt)*rt,Ct,ft,Et,Nt)}},n=function(W){var rt=W.length;return function(tt){var Q=Math.floor(((tt%=1)<0?++tt:tt)*rt),ft=W[(Q+rt-1)%rt],Et=W[Q%rt],Ct=W[(Q+1)%rt],Nt=W[(Q+2)%rt];return y((tt-Q/rt)*rt,ft,Et,Ct,Nt)}},o=function(W){return function(){return W}};function u(Z,W){return function(rt){return Z+rt*W}}function r(Z,W){var rt=W-Z;return rt?u(Z,rt>180||rt<-180?rt-360*Math.round(rt/360):rt):o(isNaN(Z)?W:Z)}function i(Z){return(Z=+Z)==1?a:function(W,rt){return rt-W?function(tt,Q,ft){return tt=Math.pow(tt,ft),Q=Math.pow(Q,ft)-tt,ft=1/ft,function(Et){return Math.pow(tt+Et*Q,ft)}}(W,rt,Z):o(isNaN(W)?rt:W)}}function a(Z,W){var rt=W-Z;return rt?u(Z,rt):o(isNaN(Z)?W:Z)}var c=function Z(W){var rt=i(W);function tt(Q,ft){var Et=rt((Q=Object(d.h)(Q)).r,(ft=Object(d.h)(ft)).r),Ct=rt(Q.g,ft.g),Nt=rt(Q.b,ft.b),Ft=a(Q.opacity,ft.opacity);return function(Rt){return Q.r=Et(Rt),Q.g=Ct(Rt),Q.b=Nt(Rt),Q.opacity=Ft(Rt),Q+""}}return tt.gamma=Z,tt}(1);function h(Z){return function(W){var rt,tt,Q=W.length,ft=new Array(Q),Et=new Array(Q),Ct=new Array(Q);for(rt=0;rt<Q;++rt)tt=Object(d.h)(W[rt]),ft[rt]=tt.r||0,Et[rt]=tt.g||0,Ct[rt]=tt.b||0;return ft=Z(ft),Et=Z(Et),Ct=Z(Ct),tt.opacity=1,function(Nt){return tt.r=ft(Nt),tt.g=Et(Nt),tt.b=Ct(Nt),tt+""}}}var v=h(p),f=h(n),m=function(W,rt){var tt,Q=rt?rt.length:0,ft=W?Math.min(Q,W.length):0,Et=new Array(ft),Ct=new Array(Q);for(tt=0;tt<ft;++tt)Et[tt]=G(W[tt],rt[tt]);for(;tt<Q;++tt)Ct[tt]=rt[tt];return function(Nt){for(tt=0;tt<ft;++tt)Ct[tt]=Et[tt](Nt);return Ct}},b=function(W,rt){var tt=new Date;return rt-=W=+W,function(Q){return tt.setTime(W+rt*Q),tt}},M=function(W,rt){return rt-=W=+W,function(tt){return W+rt*tt}},O=function(W,rt){var tt,Q={},ft={};for(tt in W!==null&&typeof W=="object"||(W={}),rt!==null&&typeof rt=="object"||(rt={}),rt)tt in W?Q[tt]=G(W[tt],rt[tt]):ft[tt]=rt[tt];return function(Et){for(tt in Q)ft[tt]=Q[tt](Et);return ft}},E=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A=new RegExp(E.source,"g"),j,B,D,T,Y=function(W,rt){var tt,Q,ft,Et=E.lastIndex=A.lastIndex=0,Ct=-1,Nt=[],Ft=[];for(W+="",rt+="";(tt=E.exec(W))&&(Q=A.exec(rt));)(ft=Q.index)>Et&&(ft=rt.slice(Et,ft),Nt[Ct]?Nt[Ct]+=ft:Nt[++Ct]=ft),(tt=tt[0])===(Q=Q[0])?Nt[Ct]?Nt[Ct]+=Q:Nt[++Ct]=Q:(Nt[++Ct]=null,Ft.push({i:Ct,x:M(tt,Q)})),Et=A.lastIndex;return Et<rt.length&&(ft=rt.slice(Et),Nt[Ct]?Nt[Ct]+=ft:Nt[++Ct]=ft),Nt.length<2?Ft[0]?function(Rt){return function(kt){return Rt(kt)+""}}(Ft[0].x):function(Rt){return function(){return Rt}}(rt):(rt=Ft.length,function(Rt){for(var kt,Pt=0;Pt<rt;++Pt)Nt[(kt=Ft[Pt]).i]=kt.x(Rt);return Nt.join("")})},G=function(W,rt){var tt,Q=typeof rt;return rt==null||Q==="boolean"?o(rt):(Q==="number"?M:Q==="string"?(tt=Object(d.a)(rt))?(rt=tt,c):Y:rt instanceof d.a?c:rt instanceof Date?b:Array.isArray(rt)?m:typeof rt.valueOf!="function"&&typeof rt.toString!="function"||isNaN(rt)?O:M)(W,rt)},U=function(W,rt){return rt-=W=+W,function(tt){return Math.round(W+rt*tt)}},H=180/Math.PI,J={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ut=function(W,rt,tt,Q,ft,Et){var Ct,Nt,Ft;return(Ct=Math.sqrt(W*W+rt*rt))&&(W/=Ct,rt/=Ct),(Ft=W*tt+rt*Q)&&(tt-=W*Ft,Q-=rt*Ft),(Nt=Math.sqrt(tt*tt+Q*Q))&&(tt/=Nt,Q/=Nt,Ft/=Nt),W*Q<rt*tt&&(W=-W,rt=-rt,Ft=-Ft,Ct=-Ct),{translateX:ft,translateY:Et,rotate:Math.atan2(rt,W)*H,skewX:Math.atan(Ft)*H,scaleX:Ct,scaleY:Nt}};function $(Z,W,rt,tt){function Q(ft){return ft.length?ft.pop()+" ":""}return function(ft,Et){var Ct=[],Nt=[];return ft=Z(ft),Et=Z(Et),function(Ft,Rt,kt,Pt,Xt,Ut){if(Ft!==kt||Rt!==Pt){var ct=Xt.push("translate(",null,W,null,rt);Ut.push({i:ct-4,x:M(Ft,kt)},{i:ct-2,x:M(Rt,Pt)})}else(kt||Pt)&&Xt.push("translate("+kt+W+Pt+rt)}(ft.translateX,ft.translateY,Et.translateX,Et.translateY,Ct,Nt),function(Ft,Rt,kt,Pt){Ft!==Rt?(Ft-Rt>180?Rt+=360:Rt-Ft>180&&(Ft+=360),Pt.push({i:kt.push(Q(kt)+"rotate(",null,tt)-2,x:M(Ft,Rt)})):Rt&&kt.push(Q(kt)+"rotate("+Rt+tt)}(ft.rotate,Et.rotate,Ct,Nt),function(Ft,Rt,kt,Pt){Ft!==Rt?Pt.push({i:kt.push(Q(kt)+"skewX(",null,tt)-2,x:M(Ft,Rt)}):Rt&&kt.push(Q(kt)+"skewX("+Rt+tt)}(ft.skewX,Et.skewX,Ct,Nt),function(Ft,Rt,kt,Pt,Xt,Ut){if(Ft!==kt||Rt!==Pt){var ct=Xt.push(Q(Xt)+"scale(",null,",",null,")");Ut.push({i:ct-4,x:M(Ft,kt)},{i:ct-2,x:M(Rt,Pt)})}else kt===1&&Pt===1||Xt.push(Q(Xt)+"scale("+kt+","+Pt+")")}(ft.scaleX,ft.scaleY,Et.scaleX,Et.scaleY,Ct,Nt),ft=Et=null,function(Ft){for(var Rt,kt=-1,Pt=Nt.length;++kt<Pt;)Ct[(Rt=Nt[kt]).i]=Rt.x(Ft);return Ct.join("")}}}var K=$(function(Z){return Z==="none"?J:(j||(j=document.createElement("DIV"),B=document.documentElement,D=document.defaultView),j.style.transform=Z,Z=D.getComputedStyle(B.appendChild(j),null).getPropertyValue("transform"),B.removeChild(j),Z=Z.slice(7,-1).split(","),ut(+Z[0],+Z[1],+Z[2],+Z[3],+Z[4],+Z[5]))},"px, ","px)","deg)"),ot=$(function(Z){return Z==null?J:(T||(T=document.createElementNS("http://www.w3.org/2000/svg","g")),T.setAttribute("transform",Z),(Z=T.transform.baseVal.consolidate())?(Z=Z.matrix,ut(Z.a,Z.b,Z.c,Z.d,Z.e,Z.f)):J)},", ",")",")"),at=Math.SQRT2;function ht(Z){return((Z=Math.exp(Z))+1/Z)/2}var St=function(W,rt){var tt,Q,ft=W[0],Et=W[1],Ct=W[2],Nt=rt[0],Ft=rt[1],Rt=rt[2],kt=Nt-ft,Pt=Ft-Et,Xt=kt*kt+Pt*Pt;if(Xt<1e-12)Q=Math.log(Rt/Ct)/at,tt=function(ge){return[ft+ge*kt,Et+ge*Pt,Ct*Math.exp(at*ge*Q)]};else{var Ut=Math.sqrt(Xt),ct=(Rt*Rt-Ct*Ct+4*Xt)/(2*Ct*2*Ut),re=(Rt*Rt-Ct*Ct-4*Xt)/(2*Rt*2*Ut),ve=Math.log(Math.sqrt(ct*ct+1)-ct),pe=Math.log(Math.sqrt(re*re+1)-re);Q=(pe-ve)/at,tt=function(ge){var ce=ge*Q,ye=ht(ve),be=Ct/(2*Ut)*(ye*function(Oe){return((Oe=Math.exp(2*Oe))-1)/(Oe+1)}(at*ce+ve)-function(Oe){return((Oe=Math.exp(Oe))-1/Oe)/2}(ve));return[ft+be*kt,Et+be*Pt,Ct*ye/ht(at*ce+ve)]}}return tt.duration=1e3*Q,tt};function pt(Z){return function(W,rt){var tt=Z((W=Object(d.e)(W)).h,(rt=Object(d.e)(rt)).h),Q=a(W.s,rt.s),ft=a(W.l,rt.l),Et=a(W.opacity,rt.opacity);return function(Ct){return W.h=tt(Ct),W.s=Q(Ct),W.l=ft(Ct),W.opacity=Et(Ct),W+""}}}var xt=pt(r),vt=pt(a);function gt(Z,W){var rt=a((Z=Object(d.f)(Z)).l,(W=Object(d.f)(W)).l),tt=a(Z.a,W.a),Q=a(Z.b,W.b),ft=a(Z.opacity,W.opacity);return function(Et){return Z.l=rt(Et),Z.a=tt(Et),Z.b=Q(Et),Z.opacity=ft(Et),Z+""}}function _t(Z){return function(W,rt){var tt=Z((W=Object(d.d)(W)).h,(rt=Object(d.d)(rt)).h),Q=a(W.c,rt.c),ft=a(W.l,rt.l),Et=a(W.opacity,rt.opacity);return function(Ct){return W.h=tt(Ct),W.c=Q(Ct),W.l=ft(Ct),W.opacity=Et(Ct),W+""}}}var Bt=_t(r),At=_t(a);function It(Z){return function W(rt){function tt(Q,ft){var Et=Z((Q=Object(d.b)(Q)).h,(ft=Object(d.b)(ft)).h),Ct=a(Q.s,ft.s),Nt=a(Q.l,ft.l),Ft=a(Q.opacity,ft.opacity);return function(Rt){return Q.h=Et(Rt),Q.s=Ct(Rt),Q.l=Nt(Math.pow(Rt,rt)),Q.opacity=Ft(Rt),Q+""}}return rt=+rt,tt.gamma=W,tt}(1)}var lt=It(r),X=It(a),V=function(W,rt){for(var tt=new Array(rt),Q=0;Q<rt;++Q)tt[Q]=W(Q/(rt-1));return tt};s.d(x,"interpolate",function(){return G}),s.d(x,"interpolateArray",function(){return m}),s.d(x,"interpolateBasis",function(){return p}),s.d(x,"interpolateBasisClosed",function(){return n}),s.d(x,"interpolateDate",function(){return b}),s.d(x,"interpolateNumber",function(){return M}),s.d(x,"interpolateObject",function(){return O}),s.d(x,"interpolateRound",function(){return U}),s.d(x,"interpolateString",function(){return Y}),s.d(x,"interpolateTransformCss",function(){return K}),s.d(x,"interpolateTransformSvg",function(){return ot}),s.d(x,"interpolateZoom",function(){return St}),s.d(x,"interpolateRgb",function(){return c}),s.d(x,"interpolateRgbBasis",function(){return v}),s.d(x,"interpolateRgbBasisClosed",function(){return f}),s.d(x,"interpolateHsl",function(){return xt}),s.d(x,"interpolateHslLong",function(){return vt}),s.d(x,"interpolateLab",function(){return gt}),s.d(x,"interpolateHcl",function(){return Bt}),s.d(x,"interpolateHclLong",function(){return At}),s.d(x,"interpolateCubehelix",function(){return lt}),s.d(x,"interpolateCubehelixLong",function(){return X}),s.d(x,"quantize",function(){return V})},,,,,,,,,function(C,x,s){var d=s(609);C.exports={track:!1,defaultNodeSize:40,labelStyle:{fill:"#595959",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",fill:"#F2F4F5",radius:2},groupBackgroundPadding:[40,10,10,10],updateDuration:450,enterDuration:450,leaveDuration:450,updateEasing:"easeQuadOut",enterEasing:"easeQuadOut",leaveEasing:"easeQuadOut",version:d}},function(C,x,s){C.exports={Canvas:s(747),Group:s(642),Shape:s(58),Arc:s(638),Circle:s(637),Dom:s(636),Ellipse:s(635),Fan:s(634),Image:s(633),Line:s(632),Marker:s(611),Path:s(631),Polygon:s(630),Polyline:s(629),Rect:s(628),Text:s(627),PathSegment:s(600),PathUtil:s(610),Event:s(643),version:"3.3.5"}},function(C,x){var s=Object.prototype.toString;C.exports=function(d){return s.call(d)}},function(C,x,s){var d=s(38),y=Object.prototype,p=y.hasOwnProperty,n=y.toString,o=d?d.toStringTag:void 0;C.exports=function(u){var r=p.call(u,o),i=u[o];try{u[o]=void 0;var a=!0}catch(h){}var c=n.call(u);return a&&(r?u[o]=i:delete u[o]),c}},function(C,x,s){var d=s(16),y=s(39),p=NaN,n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,r=/^0o[0-7]+$/i,i=parseInt;C.exports=function(a){if(typeof a=="number")return a;if(y(a))return p;if(d(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=d(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=a.replace(n,"");var h=u.test(a);return h||r.test(a)?i(a.slice(2),h?2:8):o.test(a)?p:+a}},function(C,x){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch(d){typeof window=="object"&&(s=window)}C.exports=s},function(C,x,s){var d=s(20);C.exports=function(){return d.Date.now()}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.forEach=x.sqrLen=x.len=x.sqrDist=x.dist=x.div=x.mul=x.sub=void 0,x.create=y,x.clone=function(f){var m=new d.ARRAY_TYPE(3);return m[0]=f[0],m[1]=f[1],m[2]=f[2],m},x.length=p,x.fromValues=n,x.copy=function(f,m){return f[0]=m[0],f[1]=m[1],f[2]=m[2],f},x.set=function(f,m,b,M){return f[0]=m,f[1]=b,f[2]=M,f},x.add=function(f,m,b){return f[0]=m[0]+b[0],f[1]=m[1]+b[1],f[2]=m[2]+b[2],f},x.subtract=o,x.multiply=u,x.divide=r,x.ceil=function(f,m){return f[0]=Math.ceil(m[0]),f[1]=Math.ceil(m[1]),f[2]=Math.ceil(m[2]),f},x.floor=function(f,m){return f[0]=Math.floor(m[0]),f[1]=Math.floor(m[1]),f[2]=Math.floor(m[2]),f},x.min=function(f,m,b){return f[0]=Math.min(m[0],b[0]),f[1]=Math.min(m[1],b[1]),f[2]=Math.min(m[2],b[2]),f},x.max=function(f,m,b){return f[0]=Math.max(m[0],b[0]),f[1]=Math.max(m[1],b[1]),f[2]=Math.max(m[2],b[2]),f},x.round=function(f,m){return f[0]=Math.round(m[0]),f[1]=Math.round(m[1]),f[2]=Math.round(m[2]),f},x.scale=function(f,m,b){return f[0]=m[0]*b,f[1]=m[1]*b,f[2]=m[2]*b,f},x.scaleAndAdd=function(f,m,b,M){return f[0]=m[0]+b[0]*M,f[1]=m[1]+b[1]*M,f[2]=m[2]+b[2]*M,f},x.distance=i,x.squaredDistance=a,x.squaredLength=c,x.negate=function(f,m){return f[0]=-m[0],f[1]=-m[1],f[2]=-m[2],f},x.inverse=function(f,m){return f[0]=1/m[0],f[1]=1/m[1],f[2]=1/m[2],f},x.normalize=h,x.dot=v,x.cross=function(f,m,b){var M=m[0],O=m[1],E=m[2],A=b[0],j=b[1],B=b[2];return f[0]=O*B-E*j,f[1]=E*A-M*B,f[2]=M*j-O*A,f},x.lerp=function(f,m,b,M){var O=m[0],E=m[1],A=m[2];return f[0]=O+M*(b[0]-O),f[1]=E+M*(b[1]-E),f[2]=A+M*(b[2]-A),f},x.hermite=function(f,m,b,M,O,E){var A=E*E,j=A*(2*E-3)+1,B=A*(E-2)+E,D=A*(E-1),T=A*(3-2*E);return f[0]=m[0]*j+b[0]*B+M[0]*D+O[0]*T,f[1]=m[1]*j+b[1]*B+M[1]*D+O[1]*T,f[2]=m[2]*j+b[2]*B+M[2]*D+O[2]*T,f},x.bezier=function(f,m,b,M,O,E){var A=1-E,j=A*A,B=E*E,D=j*A,T=3*E*j,Y=3*B*A,G=B*E;return f[0]=m[0]*D+b[0]*T+M[0]*Y+O[0]*G,f[1]=m[1]*D+b[1]*T+M[1]*Y+O[1]*G,f[2]=m[2]*D+b[2]*T+M[2]*Y+O[2]*G,f},x.random=function(f,m){m=m||1;var b=2*d.RANDOM()*Math.PI,M=2*d.RANDOM()-1,O=Math.sqrt(1-M*M)*m;return f[0]=Math.cos(b)*O,f[1]=Math.sin(b)*O,f[2]=M*m,f},x.transformMat4=function(f,m,b){var M=m[0],O=m[1],E=m[2],A=b[3]*M+b[7]*O+b[11]*E+b[15];return A=A||1,f[0]=(b[0]*M+b[4]*O+b[8]*E+b[12])/A,f[1]=(b[1]*M+b[5]*O+b[9]*E+b[13])/A,f[2]=(b[2]*M+b[6]*O+b[10]*E+b[14])/A,f},x.transformMat3=function(f,m,b){var M=m[0],O=m[1],E=m[2];return f[0]=M*b[0]+O*b[3]+E*b[6],f[1]=M*b[1]+O*b[4]+E*b[7],f[2]=M*b[2]+O*b[5]+E*b[8],f},x.transformQuat=function(f,m,b){var M=b[0],O=b[1],E=b[2],A=b[3],j=m[0],B=m[1],D=m[2],T=O*D-E*B,Y=E*j-M*D,G=M*B-O*j,U=O*G-E*Y,H=E*T-M*G,J=M*Y-O*T,ut=2*A;return T*=ut,Y*=ut,G*=ut,U*=2,H*=2,J*=2,f[0]=j+T+U,f[1]=B+Y+H,f[2]=D+G+J,f},x.rotateX=function(f,m,b,M){var O=[],E=[];return O[0]=m[0]-b[0],O[1]=m[1]-b[1],O[2]=m[2]-b[2],E[0]=O[0],E[1]=O[1]*Math.cos(M)-O[2]*Math.sin(M),E[2]=O[1]*Math.sin(M)+O[2]*Math.cos(M),f[0]=E[0]+b[0],f[1]=E[1]+b[1],f[2]=E[2]+b[2],f},x.rotateY=function(f,m,b,M){var O=[],E=[];return O[0]=m[0]-b[0],O[1]=m[1]-b[1],O[2]=m[2]-b[2],E[0]=O[2]*Math.sin(M)+O[0]*Math.cos(M),E[1]=O[1],E[2]=O[2]*Math.cos(M)-O[0]*Math.sin(M),f[0]=E[0]+b[0],f[1]=E[1]+b[1],f[2]=E[2]+b[2],f},x.rotateZ=function(f,m,b,M){var O=[],E=[];return O[0]=m[0]-b[0],O[1]=m[1]-b[1],O[2]=m[2]-b[2],E[0]=O[0]*Math.cos(M)-O[1]*Math.sin(M),E[1]=O[0]*Math.sin(M)+O[1]*Math.cos(M),E[2]=O[2],f[0]=E[0]+b[0],f[1]=E[1]+b[1],f[2]=E[2]+b[2],f},x.angle=function(f,m){var b=n(f[0],f[1],f[2]),M=n(m[0],m[1],m[2]);h(b,b),h(M,M);var O=v(b,M);return O>1?0:O<-1?Math.PI:Math.acos(O)},x.str=function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},x.exactEquals=function(f,m){return f[0]===m[0]&&f[1]===m[1]&&f[2]===m[2]},x.equals=function(f,m){var b=f[0],M=f[1],O=f[2],E=m[0],A=m[1],j=m[2];return Math.abs(b-E)<=d.EPSILON*Math.max(1,Math.abs(b),Math.abs(E))&&Math.abs(M-A)<=d.EPSILON*Math.max(1,Math.abs(M),Math.abs(A))&&Math.abs(O-j)<=d.EPSILON*Math.max(1,Math.abs(O),Math.abs(j))};var d=function(f){if(f&&f.__esModule)return f;var m={};if(f!=null)for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(m[b]=f[b]);return m.default=f,m}(s(59));function y(){var f=new d.ARRAY_TYPE(3);return d.ARRAY_TYPE!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f}function p(f){var m=f[0],b=f[1],M=f[2];return Math.sqrt(m*m+b*b+M*M)}function n(f,m,b){var M=new d.ARRAY_TYPE(3);return M[0]=f,M[1]=m,M[2]=b,M}function o(f,m,b){return f[0]=m[0]-b[0],f[1]=m[1]-b[1],f[2]=m[2]-b[2],f}function u(f,m,b){return f[0]=m[0]*b[0],f[1]=m[1]*b[1],f[2]=m[2]*b[2],f}function r(f,m,b){return f[0]=m[0]/b[0],f[1]=m[1]/b[1],f[2]=m[2]/b[2],f}function i(f,m){var b=m[0]-f[0],M=m[1]-f[1],O=m[2]-f[2];return Math.sqrt(b*b+M*M+O*O)}function a(f,m){var b=m[0]-f[0],M=m[1]-f[1],O=m[2]-f[2];return b*b+M*M+O*O}function c(f){var m=f[0],b=f[1],M=f[2];return m*m+b*b+M*M}function h(f,m){var b=m[0],M=m[1],O=m[2],E=b*b+M*M+O*O;return E>0&&(E=1/Math.sqrt(E),f[0]=m[0]*E,f[1]=m[1]*E,f[2]=m[2]*E),f}function v(f,m){return f[0]*m[0]+f[1]*m[1]+f[2]*m[2]}x.sub=o,x.mul=u,x.div=r,x.dist=i,x.sqrDist=a,x.len=p,x.sqrLen=c,x.forEach=function(){var f=y();return function(m,b,M,O,E,A){var j=void 0,B=void 0;for(b||(b=3),M||(M=0),B=O?Math.min(O*b+M,m.length):m.length,j=M;j<B;j+=b)f[0]=m[j],f[1]=m[j+1],f[2]=m[j+2],E(f,f,A),m[j]=f[0],m[j+1]=f[1],m[j+2]=f[2];return m}}()},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.forEach=x.sqrLen=x.sqrDist=x.dist=x.div=x.mul=x.sub=x.len=void 0,x.create=y,x.clone=function(c){var h=new d.ARRAY_TYPE(2);return h[0]=c[0],h[1]=c[1],h},x.fromValues=function(c,h){var v=new d.ARRAY_TYPE(2);return v[0]=c,v[1]=h,v},x.copy=function(c,h){return c[0]=h[0],c[1]=h[1],c},x.set=function(c,h,v){return c[0]=h,c[1]=v,c},x.add=function(c,h,v){return c[0]=h[0]+v[0],c[1]=h[1]+v[1],c},x.subtract=p,x.multiply=n,x.divide=o,x.ceil=function(c,h){return c[0]=Math.ceil(h[0]),c[1]=Math.ceil(h[1]),c},x.floor=function(c,h){return c[0]=Math.floor(h[0]),c[1]=Math.floor(h[1]),c},x.min=function(c,h,v){return c[0]=Math.min(h[0],v[0]),c[1]=Math.min(h[1],v[1]),c},x.max=function(c,h,v){return c[0]=Math.max(h[0],v[0]),c[1]=Math.max(h[1],v[1]),c},x.round=function(c,h){return c[0]=Math.round(h[0]),c[1]=Math.round(h[1]),c},x.scale=function(c,h,v){return c[0]=h[0]*v,c[1]=h[1]*v,c},x.scaleAndAdd=function(c,h,v,f){return c[0]=h[0]+v[0]*f,c[1]=h[1]+v[1]*f,c},x.distance=u,x.squaredDistance=r,x.length=i,x.squaredLength=a,x.negate=function(c,h){return c[0]=-h[0],c[1]=-h[1],c},x.inverse=function(c,h){return c[0]=1/h[0],c[1]=1/h[1],c},x.normalize=function(c,h){var v=h[0],f=h[1],m=v*v+f*f;return m>0&&(m=1/Math.sqrt(m),c[0]=h[0]*m,c[1]=h[1]*m),c},x.dot=function(c,h){return c[0]*h[0]+c[1]*h[1]},x.cross=function(c,h,v){var f=h[0]*v[1]-h[1]*v[0];return c[0]=c[1]=0,c[2]=f,c},x.lerp=function(c,h,v,f){var m=h[0],b=h[1];return c[0]=m+f*(v[0]-m),c[1]=b+f*(v[1]-b),c},x.random=function(c,h){h=h||1;var v=2*d.RANDOM()*Math.PI;return c[0]=Math.cos(v)*h,c[1]=Math.sin(v)*h,c},x.transformMat2=function(c,h,v){var f=h[0],m=h[1];return c[0]=v[0]*f+v[2]*m,c[1]=v[1]*f+v[3]*m,c},x.transformMat2d=function(c,h,v){var f=h[0],m=h[1];return c[0]=v[0]*f+v[2]*m+v[4],c[1]=v[1]*f+v[3]*m+v[5],c},x.transformMat3=function(c,h,v){var f=h[0],m=h[1];return c[0]=v[0]*f+v[3]*m+v[6],c[1]=v[1]*f+v[4]*m+v[7],c},x.transformMat4=function(c,h,v){var f=h[0],m=h[1];return c[0]=v[0]*f+v[4]*m+v[12],c[1]=v[1]*f+v[5]*m+v[13],c},x.rotate=function(c,h,v,f){var m=h[0]-v[0],b=h[1]-v[1],M=Math.sin(f),O=Math.cos(f);return c[0]=m*O-b*M+v[0],c[1]=m*M+b*O+v[1],c},x.angle=function(c,h){var v=c[0],f=c[1],m=h[0],b=h[1],M=v*v+f*f;M>0&&(M=1/Math.sqrt(M));var O=m*m+b*b;O>0&&(O=1/Math.sqrt(O));var E=(v*m+f*b)*M*O;return E>1?0:E<-1?Math.PI:Math.acos(E)},x.str=function(c){return"vec2("+c[0]+", "+c[1]+")"},x.exactEquals=function(c,h){return c[0]===h[0]&&c[1]===h[1]},x.equals=function(c,h){var v=c[0],f=c[1],m=h[0],b=h[1];return Math.abs(v-m)<=d.EPSILON*Math.max(1,Math.abs(v),Math.abs(m))&&Math.abs(f-b)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))};var d=function(c){if(c&&c.__esModule)return c;var h={};if(c!=null)for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(h[v]=c[v]);return h.default=c,h}(s(59));function y(){var c=new d.ARRAY_TYPE(2);return d.ARRAY_TYPE!=Float32Array&&(c[0]=0,c[1]=0),c}function p(c,h,v){return c[0]=h[0]-v[0],c[1]=h[1]-v[1],c}function n(c,h,v){return c[0]=h[0]*v[0],c[1]=h[1]*v[1],c}function o(c,h,v){return c[0]=h[0]/v[0],c[1]=h[1]/v[1],c}function u(c,h){var v=h[0]-c[0],f=h[1]-c[1];return Math.sqrt(v*v+f*f)}function r(c,h){var v=h[0]-c[0],f=h[1]-c[1];return v*v+f*f}function i(c){var h=c[0],v=c[1];return Math.sqrt(h*h+v*v)}function a(c){var h=c[0],v=c[1];return h*h+v*v}x.len=i,x.sub=p,x.mul=n,x.div=o,x.dist=u,x.sqrDist=r,x.sqrLen=a,x.forEach=function(){var c=y();return function(h,v,f,m,b,M){var O=void 0,E=void 0;for(v||(v=2),f||(f=0),E=m?Math.min(m*v+f,h.length):h.length,O=f;O<E;O+=v)c[0]=h[O],c[1]=h[O+1],b(c,c,M),h[O]=c[0],h[O+1]=c[1];return h}}()},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.sub=x.mul=void 0,x.create=function(){var n=new d.ARRAY_TYPE(9);return d.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n},x.fromMat4=function(n,o){return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[4],n[4]=o[5],n[5]=o[6],n[6]=o[8],n[7]=o[9],n[8]=o[10],n},x.clone=function(n){var o=new d.ARRAY_TYPE(9);return o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o},x.copy=function(n,o){return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n},x.fromValues=function(n,o,u,r,i,a,c,h,v){var f=new d.ARRAY_TYPE(9);return f[0]=n,f[1]=o,f[2]=u,f[3]=r,f[4]=i,f[5]=a,f[6]=c,f[7]=h,f[8]=v,f},x.set=function(n,o,u,r,i,a,c,h,v,f){return n[0]=o,n[1]=u,n[2]=r,n[3]=i,n[4]=a,n[5]=c,n[6]=h,n[7]=v,n[8]=f,n},x.identity=function(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.transpose=function(n,o){if(n===o){var u=o[1],r=o[2],i=o[5];n[1]=o[3],n[2]=o[6],n[3]=u,n[5]=o[7],n[6]=r,n[7]=i}else n[0]=o[0],n[1]=o[3],n[2]=o[6],n[3]=o[1],n[4]=o[4],n[5]=o[7],n[6]=o[2],n[7]=o[5],n[8]=o[8];return n},x.invert=function(n,o){var u=o[0],r=o[1],i=o[2],a=o[3],c=o[4],h=o[5],v=o[6],f=o[7],m=o[8],b=m*c-h*f,M=-m*a+h*v,O=f*a-c*v,E=u*b+r*M+i*O;return E?(E=1/E,n[0]=b*E,n[1]=(-m*r+i*f)*E,n[2]=(h*r-i*c)*E,n[3]=M*E,n[4]=(m*u-i*v)*E,n[5]=(-h*u+i*a)*E,n[6]=O*E,n[7]=(-f*u+r*v)*E,n[8]=(c*u-r*a)*E,n):null},x.adjoint=function(n,o){var u=o[0],r=o[1],i=o[2],a=o[3],c=o[4],h=o[5],v=o[6],f=o[7],m=o[8];return n[0]=c*m-h*f,n[1]=i*f-r*m,n[2]=r*h-i*c,n[3]=h*v-a*m,n[4]=u*m-i*v,n[5]=i*a-u*h,n[6]=a*f-c*v,n[7]=r*v-u*f,n[8]=u*c-r*a,n},x.determinant=function(n){var o=n[0],u=n[1],r=n[2],i=n[3],a=n[4],c=n[5],h=n[6],v=n[7],f=n[8];return o*(f*a-c*v)+u*(-f*i+c*h)+r*(v*i-a*h)},x.multiply=y,x.translate=function(n,o,u){var r=o[0],i=o[1],a=o[2],c=o[3],h=o[4],v=o[5],f=o[6],m=o[7],b=o[8],M=u[0],O=u[1];return n[0]=r,n[1]=i,n[2]=a,n[3]=c,n[4]=h,n[5]=v,n[6]=M*r+O*c+f,n[7]=M*i+O*h+m,n[8]=M*a+O*v+b,n},x.rotate=function(n,o,u){var r=o[0],i=o[1],a=o[2],c=o[3],h=o[4],v=o[5],f=o[6],m=o[7],b=o[8],M=Math.sin(u),O=Math.cos(u);return n[0]=O*r+M*c,n[1]=O*i+M*h,n[2]=O*a+M*v,n[3]=O*c-M*r,n[4]=O*h-M*i,n[5]=O*v-M*a,n[6]=f,n[7]=m,n[8]=b,n},x.scale=function(n,o,u){var r=u[0],i=u[1];return n[0]=r*o[0],n[1]=r*o[1],n[2]=r*o[2],n[3]=i*o[3],n[4]=i*o[4],n[5]=i*o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n},x.fromTranslation=function(n,o){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=o[0],n[7]=o[1],n[8]=1,n},x.fromRotation=function(n,o){var u=Math.sin(o),r=Math.cos(o);return n[0]=r,n[1]=u,n[2]=0,n[3]=-u,n[4]=r,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.fromScaling=function(n,o){return n[0]=o[0],n[1]=0,n[2]=0,n[3]=0,n[4]=o[1],n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.fromMat2d=function(n,o){return n[0]=o[0],n[1]=o[1],n[2]=0,n[3]=o[2],n[4]=o[3],n[5]=0,n[6]=o[4],n[7]=o[5],n[8]=1,n},x.fromQuat=function(n,o){var u=o[0],r=o[1],i=o[2],a=o[3],c=u+u,h=r+r,v=i+i,f=u*c,m=r*c,b=r*h,M=i*c,O=i*h,E=i*v,A=a*c,j=a*h,B=a*v;return n[0]=1-b-E,n[3]=m-B,n[6]=M+j,n[1]=m+B,n[4]=1-f-E,n[7]=O-A,n[2]=M-j,n[5]=O+A,n[8]=1-f-b,n},x.normalFromMat4=function(n,o){var u=o[0],r=o[1],i=o[2],a=o[3],c=o[4],h=o[5],v=o[6],f=o[7],m=o[8],b=o[9],M=o[10],O=o[11],E=o[12],A=o[13],j=o[14],B=o[15],D=u*h-r*c,T=u*v-i*c,Y=u*f-a*c,G=r*v-i*h,U=r*f-a*h,H=i*f-a*v,J=m*A-b*E,ut=m*j-M*E,$=m*B-O*E,K=b*j-M*A,ot=b*B-O*A,at=M*B-O*j,ht=D*at-T*ot+Y*K+G*$-U*ut+H*J;return ht?(ht=1/ht,n[0]=(h*at-v*ot+f*K)*ht,n[1]=(v*$-c*at-f*ut)*ht,n[2]=(c*ot-h*$+f*J)*ht,n[3]=(i*ot-r*at-a*K)*ht,n[4]=(u*at-i*$+a*ut)*ht,n[5]=(r*$-u*ot-a*J)*ht,n[6]=(A*H-j*U+B*G)*ht,n[7]=(j*Y-E*H-B*T)*ht,n[8]=(E*U-A*Y+B*D)*ht,n):null},x.projection=function(n,o,u){return n[0]=2/o,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/u,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n},x.str=function(n){return"mat3("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+")"},x.frob=function(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)+Math.pow(n[3],2)+Math.pow(n[4],2)+Math.pow(n[5],2)+Math.pow(n[6],2)+Math.pow(n[7],2)+Math.pow(n[8],2))},x.add=function(n,o,u){return n[0]=o[0]+u[0],n[1]=o[1]+u[1],n[2]=o[2]+u[2],n[3]=o[3]+u[3],n[4]=o[4]+u[4],n[5]=o[5]+u[5],n[6]=o[6]+u[6],n[7]=o[7]+u[7],n[8]=o[8]+u[8],n},x.subtract=p,x.multiplyScalar=function(n,o,u){return n[0]=o[0]*u,n[1]=o[1]*u,n[2]=o[2]*u,n[3]=o[3]*u,n[4]=o[4]*u,n[5]=o[5]*u,n[6]=o[6]*u,n[7]=o[7]*u,n[8]=o[8]*u,n},x.multiplyScalarAndAdd=function(n,o,u,r){return n[0]=o[0]+u[0]*r,n[1]=o[1]+u[1]*r,n[2]=o[2]+u[2]*r,n[3]=o[3]+u[3]*r,n[4]=o[4]+u[4]*r,n[5]=o[5]+u[5]*r,n[6]=o[6]+u[6]*r,n[7]=o[7]+u[7]*r,n[8]=o[8]+u[8]*r,n},x.exactEquals=function(n,o){return n[0]===o[0]&&n[1]===o[1]&&n[2]===o[2]&&n[3]===o[3]&&n[4]===o[4]&&n[5]===o[5]&&n[6]===o[6]&&n[7]===o[7]&&n[8]===o[8]},x.equals=function(n,o){var u=n[0],r=n[1],i=n[2],a=n[3],c=n[4],h=n[5],v=n[6],f=n[7],m=n[8],b=o[0],M=o[1],O=o[2],E=o[3],A=o[4],j=o[5],B=o[6],D=o[7],T=o[8];return Math.abs(u-b)<=d.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(r-M)<=d.EPSILON*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(i-O)<=d.EPSILON*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(a-E)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(c-A)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(h-j)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(v-B)<=d.EPSILON*Math.max(1,Math.abs(v),Math.abs(B))&&Math.abs(f-D)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(m-T)<=d.EPSILON*Math.max(1,Math.abs(m),Math.abs(T))};var d=function(n){if(n&&n.__esModule)return n;var o={};if(n!=null)for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(o[u]=n[u]);return o.default=n,o}(s(59));function y(n,o,u){var r=o[0],i=o[1],a=o[2],c=o[3],h=o[4],v=o[5],f=o[6],m=o[7],b=o[8],M=u[0],O=u[1],E=u[2],A=u[3],j=u[4],B=u[5],D=u[6],T=u[7],Y=u[8];return n[0]=M*r+O*c+E*f,n[1]=M*i+O*h+E*m,n[2]=M*a+O*v+E*b,n[3]=A*r+j*c+B*f,n[4]=A*i+j*h+B*m,n[5]=A*a+j*v+B*b,n[6]=D*r+T*c+Y*f,n[7]=D*i+T*h+Y*m,n[8]=D*a+T*v+Y*b,n}function p(n,o,u){return n[0]=o[0]-u[0],n[1]=o[1]-u[1],n[2]=o[2]-u[2],n[3]=o[3]-u[3],n[4]=o[4]-u[4],n[5]=o[5]-u[5],n[6]=o[6]-u[6],n[7]=o[7]-u[7],n[8]=o[8]-u[8],n}x.mul=y,x.sub=p},function(C,x,s){function d(u,r,i){return r in u?Object.defineProperty(u,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[r]=i,u}var y=5,p=s(819);Math.sign=function(u){return(u=+u)==0||isNaN(u)?u:u>0?1:-1};var n=function(u){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),a.forEach(function(c){d(u,c,i[c])})}return u}({},p,{throttle:s(749),debounce:s(645),omit:function(r,i){var a={};return p.each(r,function(c,h){i.indexOf(h)===-1&&(a[h]=c)}),a},traverseTree:function(r,i,a,c){c===void 0&&(c=!1);var h=a(r);c&&i(r,null,null),h&&n.each(h,function(v,f){i(v,r,f),n.traverseTree(v,i,a)})},toAllPadding:function(r){var i=0,a=0,c=0,h=0;return n.isNumber(r)||n.isString(r)?i=a=c=h=r:n.isArray(r)&&(i=r[0],c=n.isNil(r[1])?r[0]:r[1],h=n.isNil(r[2])?r[0]:r[2],a=n.isNil(r[3])?c:r[3]),[i,c,h,a]},guid:function(){return"xxxxxxxx".replace(/[xy]/g,function(r){var i=16*Math.random()|0;return(r==="x"?i:3&i|8).toString(16)})},mix:function(){var r,i,a=n.toArray(arguments),c=a[0];if(c===!0)for(c=a[1],i=2;i<a.length;i++)o(c,r=a[i]);else for(i=1;i<a.length;i++)for(var h in r=a[i])r.hasOwnProperty(h)&&h!=="constructor"&&(c[h]=r[h]);return c},mixin:function(r,i){r&&i&&(r._mixins=i,r.ATTRS=r.ATTRS||{},n.each(i,function(a){n.augment(r,a)}),r.ATTRS=n.mix({},r.ATTRS))}});function o(u,r,i){for(var a in i=i||0,r)if(r.hasOwnProperty(a)){var c=r[a];c!==null&&n.isPlainObject(c)?(n.isPlainObject(u[a])||(u[a]={}),i<y?o(u[a],r[a],i+1):u[a]=r[a]):n.isArray(c)?(u[a]=[],u[a]=u[a].concat(c)):c!==void 0&&(u[a]=r[a])}}n.Array={remove:function(r,i){var a=n.indexOf(r,i);a!==-1&&r.splice(a,1)}},C.exports=n},function(C,x,s){var d=s(26),y={},p={draw:function(){}},n={defaultShapeType:null,getShape:function(u,r){return this[u]||this[r]||this[this.defaultShapeType]||p},getExtendShape:function(u,r){var i=this;if(d.isArray(u)){var a={};return u.forEach(function(c){i[c]&&(a=d.mix({},a,i.getShape(c,r)))}),a}return this.getShape(u,r)}};y.registerShapeManager=function(o,u){var r=d.mix({},n,u),i=d.upperFirst(o);return y[i]=r,y["register"+i]=function(a,c,h,v){d.isNil(h)&&d.isNil(v)&&(h=a);var f=r.getExtendShape(h,v),m=d.mix(!0,{},f,c);return m.type=a,r[a]=m,m},r},C.exports=y},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(C,x,s){var d=s(19),y=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,p=/[^\s\,]+/gi;C.exports={parseRadius:function(o){var u=0,r=0,i=0,a=0;return d.isArray(o)?o.length===1?u=r=i=a=o[0]:o.length===2?(u=i=o[0],r=a=o[1]):o.length===3?(u=o[0],r=a=o[1],i=o[2]):(u=o[0],r=o[1],i=o[2],a=o[3]):u=r=i=a=o,{r1:u,r2:r,r3:i,r4:a}},parsePath:function(o){return o=o||[],d.isArray(o)?o:d.isString(o)?(o=o.match(y),d.each(o,function(u,r){if((u=u.match(p))[0].length>1){var i=u[0].charAt(0);u.splice(1,0,u[0].substr(1)),u[0]=i}d.each(u,function(a,c){isNaN(a)||(u[c]=+a)}),o[r]=u}),o):void 0}}},function(C,x,s){var d=s(237);C.exports=function(y){return d(y)?"":y.toString()}},function(C,x,s){var d=s(115);C.exports=function(y){return d(y,"String")}},function(C,x,s){var d=s(619),y=s(115);C.exports=function(p){if(!d(p)||!y(p,"Object"))return!1;if(Object.getPrototypeOf(p)===null)return!0;for(var n=p;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(p)===n}},function(C,x,s){var d=function(y){function p(n){var o;return(o=y.call(this)||this).options=n,o}return function(n,o){n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o}(p,y),p.prototype.execute=function(){var n=this,o=this.options;this.roots.forEach(function(u){n.layout(u,o).eachNode(function(r){r.data.x=r.x+r.data.width/2+r.hgap,r.data.y=r.y+r.data.height/2+r.vgap})})},p}(s(622));C.exports=d},function(C,x,s){(function(d,y){C.exports=y()})(typeof self!="undefined"&&self,function(){return function(d){var y={};function p(n){if(y[n])return y[n].exports;var o=y[n]={i:n,l:!1,exports:{}};return d[n].call(o.exports,o,o.exports,p),o.l=!0,o.exports}return p.m=d,p.c=y,p.d=function(n,o,u){p.o(n,o)||Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:u})},p.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return p.d(o,"a",o),o},p.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},p.p="",p(p.s=5)}([function(d,y,p){var n=p(7);d.exports={assign:n}},function(d,y,p){var n=p(3),o=function(){function u(r,i){i===void 0&&(i={}),this.options=i,this.rootNode=n(r,i)}return u.prototype.execute=function(){throw new Error("please override this method")},u}();d.exports=o},function(d,y,p){var n=p(4),o=["LR","RL","TB","BT","H","V"],u=["LR","RL","H"],r=o[0];d.exports=function(i,a,c){var h=a.direction||r;if(a.isHorizontal=function(M){return u.indexOf(M)>-1}(h),h&&o.indexOf(h)===-1)throw new TypeError("Invalid direction: "+h);if(h===o[0])c(i,a);else if(h===o[1])c(i,a),i.right2left();else if(h===o[2])c(i,a);else if(h===o[3])c(i,a),i.bottom2top();else if(h===o[4]||h===o[5]){var v=n(i,a),f=v.left,m=v.right;c(f,a),c(m,a),a.isHorizontal?f.right2left():f.bottom2top(),m.translate(f.x-m.x,f.y-m.y),i.x=f.x,i.y=m.y;var b=i.getBoundingBox();a.isHorizontal?b.top<0&&i.translate(0,-b.top):b.left<0&&i.translate(-b.left,0)}return i.translate(-(i.x+i.width/2+i.hgap),-(i.y+i.height/2+i.vgap)),i}},function(d,y,p){var n=p(0),o={getId:function(i){return i.id||i.name},getHGap:function(i){return i.hgap||18},getVGap:function(i){return i.vgap||18},getChildren:function(i){return i.children},getHeight:function(i){return i.height||36},getWidth:function(i){var a=i.name||" ";return i.width||18*a.split("").length}};function u(r,i){var a=this;if(a.vgap=a.hgap=0,r instanceof u)return r;a.data=r;var c=i.getHGap(r),h=i.getVGap(r);return a.width=i.getWidth(r),a.height=i.getHeight(r),a.id=i.getId(r),a.x=a.y=0,a.depth=0,a.children||(a.children=[]),a.addGap(c,h),a}n.assign(u.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(i,a){this.hgap+=i,this.vgap+=a,this.width+=2*i,this.height+=2*a},eachNode:function(i){for(var a,c=[this];a=c.pop();)i(a),c=c.concat(a.children)},DFTraverse:function(i){this.eachNode(i)},BFTraverse:function(i){for(var a,c=[this];a=c.shift();)i(a),c=c.concat(a.children)},getBoundingBox:function(){var i={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(a){i.left=Math.min(i.left,a.x),i.top=Math.min(i.top,a.y),i.width=Math.max(i.width,a.x+a.width),i.height=Math.max(i.height,a.y+a.height)}),i},translate:function(i,a){i===void 0&&(i=0),a===void 0&&(a=0),this.eachNode(function(c){c.x+=i,c.y+=a})},right2left:function(){var i=this.getBoundingBox();this.eachNode(function(a){a.x=a.x-2*(a.x-i.left)-a.width}),this.translate(i.width,0)},bottom2top:function(){var i=this.getBoundingBox();this.eachNode(function(a){a.y=a.y-2*(a.y-i.top)-a.height}),this.translate(0,i.height)}}),d.exports=function(r,i,a){i===void 0&&(i={});var c,h=new u(r,i=n.assign({},o,i)),v=[h];if(!a&&!r.collapsed){for(;c=v.pop();)if(!c.data.collapsed){var f=i.getChildren(c.data),m=f?f.length:0;if(c.children=new Array(m),f&&m)for(var b=0;b<m;b++){var M=new u(f[b],i);c.children[b]=M,v.push(M),M.parent=c,M.depth=c.depth+1}}}return h}},function(d,y,p){var n=p(3);d.exports=function(o,u){for(var r=n(o.data,u,!0),i=n(o.data,u,!0),a=o.children.length,c=Math.round(a/2),h=u.getSide||function(m,b){return b<c?"right":"left"},v=0;v<a;v++){var f=o.children[v];h(f,v)==="right"?i.children.push(f):r.children.push(f)}return r.eachNode(function(m){m.isRoot()||(m.side="left")}),i.eachNode(function(m){m.isRoot()||(m.side="right")}),{left:r,right:i}}},function(d,y,p){var n={compactBox:p(6),dendrogram:p(9),indented:p(11),mindmap:p(13)};d.exports=n},function(d,y,p){var n=p(1),o=p(8),u=p(2),r=p(0),i=function(c){function h(){return c.apply(this,arguments)||this}return function(v,f){v.prototype=Object.create(f.prototype),v.prototype.constructor=v,v.__proto__=f}(h,c),h.prototype.execute=function(){return u(this.rootNode,this.options,o)},h}(n),a={};d.exports=function(c,h){return h=r.assign({},a,h),new i(c,h).execute()}},function(d,y){function p(n,o){for(var u in o)o.hasOwnProperty(u)&&u!=="constructor"&&o[u]!==void 0&&(n[u]=o[u])}d.exports=function(n,o,u,r){return o&&p(n,o),u&&p(n,u),r&&p(n,r),n}},function(d,y){function p(o,u,r,i){i===void 0&&(i=[]);var a=this;a.w=o||0,a.h=u||0,a.y=r||0,a.x=0,a.c=i||[],a.cs=i.length,a.prelim=0,a.mod=0,a.shift=0,a.change=0,a.tl=null,a.tr=null,a.el=null,a.er=null,a.msel=0,a.mser=0}function n(o,u){(function r(i,a,c){c?i.y+=a:i.x+=a,i.children.forEach(function(h){r(h,a,c)})})(o,-function r(i,a){var c=a?i.y:i.x;return i.children.forEach(function(h){c=Math.min(r(h,a),c)}),c}(o,u),u)}p.fromNode=function(o,u){if(!o)return null;var r=[];return o.children.forEach(function(i){r.push(p.fromNode(i,u))}),u?new p(o.height,o.width,o.x,r):new p(o.width,o.height,o.y,r)},d.exports=function(o,u){u===void 0&&(u={});var r=u.isHorizontal;function i(M){M.cs===0?(M.el=M,M.er=M,M.msel=M.mser=0):(M.el=M.c[0].el,M.msel=M.c[0].msel,M.er=M.c[M.cs-1].er,M.mser=M.c[M.cs-1].mser)}function a(M,O,E){for(var A=M.c[O-1],j=A.mod,B=M.c[O],D=B.mod;A!==null&&B!==null;){f(A)>E.low&&(E=E.nxt);var T=j+A.prelim+A.w-(D+B.prelim);T>0&&(D+=T,c(M,O,E.index,T));var Y=f(A),G=f(B);Y<=G&&(A=v(A))!==null&&(j+=A.mod),Y>=G&&(B=h(B))!==null&&(D+=B.mod)}!A&&B?function(U,H,J,ut){var $=U.c[0].el;$.tl=J;var K=ut-J.mod-U.c[0].msel;$.mod+=K,$.prelim-=K,U.c[0].el=U.c[H].el,U.c[0].msel=U.c[H].msel}(M,O,B,D):A&&!B&&function(U,H,J,ut){var $=U.c[H].er;$.tr=J;var K=ut-J.mod-U.c[H].mser;$.mod+=K,$.prelim-=K,U.c[H].er=U.c[H-1].er,U.c[H].mser=U.c[H-1].mser}(M,O,A,j)}function c(M,O,E,A){M.c[O].mod+=A,M.c[O].msel+=A,M.c[O].mser+=A,function(j,B,D,T){if(D!==B-1){var Y=B-D;j.c[D+1].shift+=T/Y,j.c[B].shift-=T/Y,j.c[B].change-=T-T/Y}}(M,O,E,A)}function h(M){return M.cs===0?M.tl:M.c[0]}function v(M){return M.cs===0?M.tr:M.c[M.cs-1]}function f(M){return M.y+M.h}function m(M,O,E){for(;E!==null&&M>=E.low;)E=E.nxt;return{low:M,index:O,nxt:E}}(function M(O,E,A){A===void 0&&(A=0),E?(O.x=A,A+=O.width):(O.y=A,A+=O.height),O.children.forEach(function(j){M(j,E,A)})})(o,r);var b=p.fromNode(o,r);return function M(O){if(O.cs!==0){M(O.c[0]);for(var E=m(f(O.c[0].el),0,null),A=1;A<O.cs;++A){M(O.c[A]);var j=f(O.c[A].er);a(O,A,E),E=m(j,A,E)}(function(B){B.prelim=(B.c[0].prelim+B.c[0].mod+B.c[B.cs-1].mod+B.c[B.cs-1].prelim+B.c[B.cs-1].w)/2-B.w/2})(O),i(O)}else i(O)}(b),function M(O,E){E+=O.mod,O.x=O.prelim+E,function(j){for(var B=0,D=0,T=0;T<j.cs;T++)B+=j.c[T].shift,D+=B+j.c[T].change,j.c[T].mod+=D}(O);for(var A=0;A<O.cs;A++)M(O.c[A],E)}(b,0),function M(O,E,A){A?E.y=O.x:E.x=O.x,O.c.forEach(function(j,B){M(j,E.children[B],A)})}(b,o,r),n(o,r),o}},function(d,y,p){var n=p(1),o=p(10),u=p(2),r=p(0),i=function(c){function h(){return c.apply(this,arguments)||this}return function(v,f){v.prototype=Object.create(f.prototype),v.prototype.constructor=v,v.__proto__=f}(h,c),h.prototype.execute=function(){return this.rootNode.width=0,u(this.rootNode,this.options,o)},h}(n),a={};d.exports=function(c,h){return h=r.assign({},a,h),new i(c,h).execute()}},function(d,y,p){var n=p(0),o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};d.exports=function(u,r){r===void 0&&(r={}),r=n.assign({},o,r);var i,a=0,c=function h(v){if(!v)return null;v.width=0,v.depth&&v.depth>a&&(a=v.depth);var f=v.children,m=f.length,b=new function(M,O){M===void 0&&(M=0),O===void 0&&(O=[]);var E=this;E.x=E.y=0,E.leftChild=E.rightChild=null,E.height=0,E.children=O}(v.height,[]);return f.forEach(function(M,O){var E=h(M);b.children.push(E),O===0&&(b.leftChild=E),O===m-1&&(b.rightChild=E)}),b.originNode=v,b.isLeaf=v.isLeaf(),b}(u);return function h(v){if(v.isLeaf||v.children.length===0)v.drawingDepth=a;else{var f=v.children.map(function(b){return h(b)}),m=Math.min.apply(null,f);v.drawingDepth=m-1}return v.drawingDepth}(c),function h(v){v.x=v.drawingDepth*r.rankSep,v.isLeaf?(v.y=0,i&&(v.y=i.y+i.height+r.nodeSep,v.originNode.parent!==i.originNode.parent&&(v.y+=r.subTreeSep)),i=v):(v.children.forEach(function(f){h(f)}),v.y=(v.leftChild.y+v.rightChild.y)/2)}(c),function h(v,f,m){m?(f.x=v.x,f.y=v.y):(f.x=v.y,f.y=v.x),v.children.forEach(function(b,M){h(b,f.children[M],m)})}(c,u,r.isHorizontal),u}},function(d,y,p){var n=p(1),o=p(12),u=p(4),r=p(0),i=["LR","RL","H"],a=i[0],c=function(v){function f(){return v.apply(this,arguments)||this}return function(m,b){m.prototype=Object.create(b.prototype),m.prototype.constructor=m,m.__proto__=b}(f,v),f.prototype.execute=function(){var m=this.options,b=this.rootNode;m.isHorizontal=!0;var M=m.indent,O=m.direction||a;if(O&&i.indexOf(O)===-1)throw new TypeError("Invalid direction: "+O);if(O===i[0])o(b,M);else if(O===i[1])o(b,M),b.right2left();else if(O===i[2]){var E=u(b,m),A=E.left,j=E.right;o(A,M),A.right2left(),o(j,M);var B=A.getBoundingBox();j.translate(B.width,0),b.x=j.x-b.width/2}return b},f}(n),h={};d.exports=function(v,f){return f=r.assign({},h,f),new c(v,f).execute()}},function(d,y){d.exports=function(p,n){n===void 0&&(n=20);var o=null;p.eachNode(function(u){(function(r,i,a){r.x+=a*r.depth,r.y=i?i.y+i.height:0})(u,o,n),o=u})}},function(d,y,p){var n=p(1),o=p(14),u=p(2),r=p(0),i=function(c){function h(){return c.apply(this,arguments)||this}return function(v,f){v.prototype=Object.create(f.prototype),v.prototype.constructor=v,v.__proto__=f}(h,c),h.prototype.execute=function(){return u(this.rootNode,this.options,o)},h}(n),a={};d.exports=function(c,h){return h=r.assign({},a,h),new i(c,h).execute()}},function(d,y,p){var n=p(0),o={getSubTreeSep:function(){return 0}};d.exports=function(u,r){r===void 0&&(r={}),r=n.assign({},o,r),u.parent={x:0,width:0,height:0,y:0},u.BFTraverse(function(i){i.x=i.parent.x+i.parent.width}),u.parent=null,function i(a,c){var h=0;return a.children.length?a.children.forEach(function(v){h+=i(v,c)}):h=a.height,a._subTreeSep=c.getSubTreeSep(a.data),a.totalHeight=Math.max(a.height,h)+2*a._subTreeSep,a.totalHeight}(u,r),u.startY=0,u.y=u.totalHeight/2-u.height/2,u.eachNode(function(i){var a=i.children,c=a.length;if(c){var h=a[0];if(h.startY=i.startY+i._subTreeSep,c===1)h.y=i.y+i.height/2-h.height/2;else{h.y=h.startY+h.totalHeight/2-h.height/2;for(var v=1;v<c;v++){var f=a[v];f.startY=a[v-1].startY+a[v-1].totalHeight,f.y=f.startY+f.totalHeight/2-f.height/2}}}}),function i(a){var c=a.children,h=c.length;if(h){c.forEach(function(O){i(O)});var v=c[0],f=c[h-1],m=f.y-v.y+f.height,b=0;if(c.forEach(function(O){b+=O.totalHeight}),m>a.height)a.y=v.y+m/2-a.height/2;else if(c.length!==1||a.height>b){var M=a.y+(a.height-m)/2-v.y;c.forEach(function(O){O.translate(0,M)})}else a.y=(v.y+v.height/2+f.y+f.height/2)/2-a.height/2}}(u)}}])})},function(C,x,s){var d=s(26),y=function(){var p=n.prototype;function n(o){var u=this.getDefaultCfg();d.mix(this,u,o),this._init()}return p.getDefaultCfg=function(){return{}},p._init=function(){},p.destroy=function(){},n}();C.exports=y},function(C,x,s){var d=s(19),y=s(613),p=s(612),n=s(640),o=s(639),u=d.vec3,r=d.mat3,i=["m","l","c","a","q","h","v","t","s","z"];function a(b,M,O){return{x:O.x+b,y:O.y+M}}function c(b,M){return{x:M.x+(M.x-b.x),y:M.y+(M.y-b.y)}}function h(b){return Math.sqrt(b[0]*b[0]+b[1]*b[1])}function v(b,M){return(b[0]*M[0]+b[1]*M[1])/(h(b)*h(M))}function f(b,M){return(b[0]*M[1]<b[1]*M[0]?-1:1)*Math.acos(v(b,M))}var m=function(M,O,E){this.preSegment=O,this.isLast=E,this.init(M,O)};d.augment(m,{init:function(M,O){var E=M[0];O=O||{endPoint:{x:0,y:0}};var A,j,B,D,T=i.indexOf(E)>=0,Y=T?E.toUpperCase():E,G=M,U=O.endPoint,H=G[1],J=G[2];switch(Y){default:break;case"M":D=T?a(H,J,U):{x:H,y:J},this.command="M",this.params=[U,D],this.subStart=D,this.endPoint=D;break;case"L":D=T?a(H,J,U):{x:H,y:J},this.command="L",this.params=[U,D],this.subStart=O.subStart,this.endPoint=D,this.endTangent=function(){return[D.x-U.x,D.y-U.y]},this.startTangent=function(){return[U.x-D.x,U.y-D.y]};break;case"H":D=T?a(H,0,U):{x:H,y:U.y},this.command="L",this.params=[U,D],this.subStart=O.subStart,this.endPoint=D,this.endTangent=function(){return[D.x-U.x,D.y-U.y]},this.startTangent=function(){return[U.x-D.x,U.y-D.y]};break;case"V":D=T?a(0,H,U):{x:U.x,y:H},this.command="L",this.params=[U,D],this.subStart=O.subStart,this.endPoint=D,this.endTangent=function(){return[D.x-U.x,D.y-U.y]},this.startTangent=function(){return[U.x-D.x,U.y-D.y]};break;case"Q":T?(A=a(H,J,U),j=a(G[3],G[4],U)):(A={x:H,y:J},j={x:G[3],y:G[4]}),this.command="Q",this.params=[U,A,j],this.subStart=O.subStart,this.endPoint=j,this.endTangent=function(){return[j.x-A.x,j.y-A.y]},this.startTangent=function(){return[U.x-A.x,U.y-A.y]};break;case"T":j=T?a(H,J,U):{x:H,y:J},O.command==="Q"?(A=c(O.params[1],U),this.command="Q",this.params=[U,A,j],this.subStart=O.subStart,this.endPoint=j,this.endTangent=function(){return[j.x-A.x,j.y-A.y]},this.startTangent=function(){return[U.x-A.x,U.y-A.y]}):(this.command="TL",this.params=[U,j],this.subStart=O.subStart,this.endPoint=j,this.endTangent=function(){return[j.x-U.x,j.y-U.y]},this.startTangent=function(){return[U.x-j.x,U.y-j.y]});break;case"C":T?(A=a(H,J,U),j=a(G[3],G[4],U),B=a(G[5],G[6],U)):(A={x:H,y:J},j={x:G[3],y:G[4]},B={x:G[5],y:G[6]}),this.command="C",this.params=[U,A,j,B],this.subStart=O.subStart,this.endPoint=B,this.endTangent=function(){return[B.x-j.x,B.y-j.y]},this.startTangent=function(){return[U.x-A.x,U.y-A.y]};break;case"S":T?(j=a(H,J,U),B=a(G[3],G[4],U)):(j={x:H,y:J},B={x:G[3],y:G[4]}),O.command==="C"?(A=c(O.params[2],U),this.command="C",this.params=[U,A,j,B],this.subStart=O.subStart,this.endPoint=B,this.endTangent=function(){return[B.x-j.x,B.y-j.y]},this.startTangent=function(){return[U.x-A.x,U.y-A.y]}):(this.command="SQ",this.params=[U,j,B],this.subStart=O.subStart,this.endPoint=B,this.endTangent=function(){return[B.x-j.x,B.y-j.y]},this.startTangent=function(){return[U.x-j.x,U.y-j.y]});break;case"A":var ut=H,$=J,K=G[3],ot=G[4],at=G[5];D=T?a(G[6],G[7],U):{x:G[6],y:G[7]},this.command="A";var ht=function(gt,_t,Bt,At,It,lt,X){var V=d.mod(d.toRadian(X),2*Math.PI),Z=gt.x,W=gt.y,rt=_t.x,tt=_t.y,Q=Math.cos(V)*(Z-rt)/2+Math.sin(V)*(W-tt)/2,ft=-1*Math.sin(V)*(Z-rt)/2+Math.cos(V)*(W-tt)/2,Et=Q*Q/(It*It)+ft*ft/(lt*lt);Et>1&&(It*=Math.sqrt(Et),lt*=Math.sqrt(Et));var Ct=It*It*(ft*ft)+lt*lt*(Q*Q),Nt=Math.sqrt((It*It*(lt*lt)-Ct)/Ct);Bt===At&&(Nt*=-1),isNaN(Nt)&&(Nt=0);var Ft=Nt*It*ft/lt,Rt=Nt*-lt*Q/It,kt=(Z+rt)/2+Math.cos(V)*Ft-Math.sin(V)*Rt,Pt=(W+tt)/2+Math.sin(V)*Ft+Math.cos(V)*Rt,Xt=f([1,0],[(Q-Ft)/It,(ft-Rt)/lt]),Ut=[(Q-Ft)/It,(ft-Rt)/lt],ct=[(-1*Q-Ft)/It,(-1*ft-Rt)/lt],re=f(Ut,ct);return v(Ut,ct)<=-1&&(re=Math.PI),v(Ut,ct)>=1&&(re=0),At===0&&re>0&&(re-=2*Math.PI),At===1&&re<0&&(re+=2*Math.PI),[gt,kt,Pt,It,lt,Xt,re,V,At]}(U,D,ot,at,ut,$,K);this.params=ht;var St=O.subStart;this.subStart=St,this.endPoint=D;var pt=ht[5]%(2*Math.PI);d.isNumberEqual(pt,2*Math.PI)&&(pt=0);var xt=ht[6]%(2*Math.PI);d.isNumberEqual(xt,2*Math.PI)&&(xt=0);var vt=.001;this.startTangent=function(){at===0&&(vt*=-1);var gt=ht[3]*Math.cos(pt-vt)+ht[1],_t=ht[4]*Math.sin(pt-vt)+ht[2];return[gt-St.x,_t-St.y]},this.endTangent=function(){var gt=ht[6];gt-2*Math.PI<1e-4&&(gt=0);var _t=ht[3]*Math.cos(pt+gt+vt)+ht[1],Bt=ht[4]*Math.sin(pt+gt-vt)+ht[2];return[U.x-_t,U.y-Bt]};break;case"Z":this.command="Z",this.params=[U,O.subStart],this.subStart=O.subStart,this.endPoint=O.subStart}},isInside:function(M,O,E){var A=this.command,j=this.params,B=this.box;if(B&&!y.box(B.minX,B.maxX,B.minY,B.maxY,M,O))return!1;switch(A){default:break;case"M":return!1;case"TL":case"L":case"Z":return y.line(j[0].x,j[0].y,j[1].x,j[1].y,E,M,O);case"SQ":case"Q":return y.quadraticline(j[0].x,j[0].y,j[1].x,j[1].y,j[2].x,j[2].y,E,M,O);case"C":return y.cubicline(j[0].x,j[0].y,j[1].x,j[1].y,j[2].x,j[2].y,j[3].x,j[3].y,E,M,O);case"A":var D=j,T=D[1],Y=D[2],G=D[3],U=D[4],H=D[5],J=D[6],ut=D[7],$=D[8],K=G>U?G:U,ot=G>U?1:G/U,at=G>U?U/G:1;D=[M,O,1];var ht=[1,0,0,0,1,0,0,0,1];return r.translate(ht,ht,[-T,-Y]),r.rotate(ht,ht,-ut),r.scale(ht,ht,[1/ot,1/at]),u.transformMat3(D,D,ht),y.arcline(0,0,K,H,H+J,1-$,E,D[0],D[1])}return!1},draw:function(M){var O,E,A,j=this.command,B=this.params;switch(j){default:break;case"M":M.moveTo(B[1].x,B[1].y);break;case"TL":case"L":M.lineTo(B[1].x,B[1].y);break;case"SQ":case"Q":O=B[1],E=B[2],M.quadraticCurveTo(O.x,O.y,E.x,E.y);break;case"C":O=B[1],E=B[2],A=B[3],M.bezierCurveTo(O.x,O.y,E.x,E.y,A.x,A.y);break;case"A":var D=B,T=D[1],Y=D[2],G=D[3],U=D[4],H=D[5],J=D[6],ut=D[7],$=D[8],K=G>U?G:U,ot=G>U?1:G/U,at=G>U?U/G:1;M.translate(T,Y),M.rotate(ut),M.scale(ot,at),M.arc(0,0,K,H,H+J,1-$),M.scale(1/ot,1/at),M.rotate(-ut),M.translate(-T,-Y);break;case"Z":M.closePath()}},getBBox:function(M){var O,E,A,j,B=M/2,D=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(D[0].x,D[1].x)-B,maxX:Math.max(D[0].x,D[1].x)+B,minY:Math.min(D[0].y,D[1].y)-B,maxY:Math.max(D[0].y,D[1].y)+B};break;case"SQ":case"Q":for(A=0,j=(E=n.extrema(D[0].x,D[1].x,D[2].x)).length;A<j;A++)E[A]=n.at(D[0].x,D[1].x,D[2].x,E[A]);for(E.push(D[0].x,D[2].x),A=0,j=(O=n.extrema(D[0].y,D[1].y,D[2].y)).length;A<j;A++)O[A]=n.at(D[0].y,D[1].y,D[2].y,O);O.push(D[0].y,D[2].y),this.box={minX:Math.min.apply(Math,E)-B,maxX:Math.max.apply(Math,E)+B,minY:Math.min.apply(Math,O)-B,maxY:Math.max.apply(Math,O)+B};break;case"C":for(A=0,j=(E=p.extrema(D[0].x,D[1].x,D[2].x,D[3].x)).length;A<j;A++)E[A]=p.at(D[0].x,D[1].x,D[2].x,D[3].x,E[A]);for(A=0,j=(O=p.extrema(D[0].y,D[1].y,D[2].y,D[3].y)).length;A<j;A++)O[A]=p.at(D[0].y,D[1].y,D[2].y,D[3].y,O[A]);E.push(D[0].x,D[3].x),O.push(D[0].y,D[3].y),this.box={minX:Math.min.apply(Math,E)-B,maxX:Math.max.apply(Math,E)+B,minY:Math.min.apply(Math,O)-B,maxY:Math.max.apply(Math,O)+B};break;case"A":var T=D,Y=T[1],G=T[2],U=T[3],H=T[4],J=T[5],ut=T[6],$=T[7],K=T[8],ot=J,at=J+ut,ht=o.xExtrema($,U,H),St=1/0,pt=-1/0,xt=[ot,at];for(A=2*-Math.PI;A<=2*Math.PI;A+=Math.PI){var vt=ht+A;K===1?ot<vt&&vt<at&&xt.push(vt):at<vt&&vt<ot&&xt.push(vt)}for(A=0,j=xt.length;A<j;A++){var gt=o.xAt($,U,H,Y,xt[A]);gt<St&&(St=gt),gt>pt&&(pt=gt)}var _t=o.yExtrema($,U,H),Bt=1/0,At=-1/0,It=[ot,at];for(A=2*-Math.PI;A<=2*Math.PI;A+=Math.PI){var lt=_t+A;K===1?ot<lt&&lt<at&&It.push(lt):at<lt&&lt<ot&&It.push(lt)}for(A=0,j=It.length;A<j;A++){var X=o.yAt($,U,H,G,It[A]);X<Bt&&(Bt=X),X>At&&(At=X)}this.box={minX:St-B,maxX:pt+B,minY:Bt-B,maxY:At+B}}}}),C.exports=m},function(C,x,s){var d=s(593),y=s(600),p=Math.PI,n=Math.sin,o=Math.cos,u=Math.atan2,r=10,i=p/3;function a(h,v,f,m,b,M,O){var E,A,j,B,D,T,Y;if(!v.fill){var G=v.arrowLength||r,U=v.arrowAngle?v.arrowAngle*p/180:i;Y=u(m-M,f-b),D=Math.abs(v.lineWidth*o(Y))/2,T=Math.abs(v.lineWidth*n(Y))/2,O&&(D=-D,T=-T),E=b+G*o(Y+U/2),A=M+G*n(Y+U/2),j=b+G*o(Y-U/2),B=M+G*n(Y-U/2),h.beginPath(),h.moveTo(E-D,A-T),h.lineTo(b-D,M-T),h.lineTo(j-D,B-T),h.moveTo(b-D,M-T),h.lineTo(b+D,M+T),h.moveTo(b,M),h.stroke()}}function c(h,v,f,m,b,M,O){var E=O?v.startArrow:v.endArrow,A=E.d,j=0,B=b-f,D=M-m,T=Math.atan(B/D);D===0&&B<0?j=Math.PI:B>0&&D>0?j=Math.PI/2-T:B<0&&D<0?j=-Math.PI/2-T:B>=0&&D<0?j=-T-Math.PI/2:B<=0&&D>0&&(j=Math.PI/2-T);var Y=function(U){var H,J=[],ut=d.parsePath(U.path);if(!Array.isArray(ut)||ut.length===0||ut[0][0]!=="M"&&ut[0][0]!=="m")return!1;for(var $=ut.length,K=0;K<ut.length;K++){var ot=ut[K];H=new y(ot,H,K===$-1),J.push(H)}return J}(E);if(Y){A&&(O?(b+=Math.sin(Math.abs(T))*A,M=M+Math.cos(Math.abs(T))*A-.5*h.lineWidth):(b-=Math.sin(Math.abs(T))*A,M=M-Math.cos(Math.abs(T))*A+.5*h.lineWidth)),h.save(),h.beginPath(),h.translate(b,M),h.rotate(j);for(var G=0;G<Y.length;G++)Y[G].draw(h);h.setTransform(1,0,0,1,0,0),h.fillStyle=h.strokeStyle,h.fill(),h.restore()}}C.exports={addStartArrow:function(v,f,m,b,M,O){typeof f.startArrow=="object"?c(v,f,m,b,M,O,!0):f.startArrow&&a(v,f,m,b,M,O,!0)},addEndArrow:function(v,f,m,b,M,O){typeof f.endArrow=="object"?c(v,f,m,b,M,O,!1):f.endArrow&&a(v,f,m,b,M,O,!1)}}},function(C,x,s){var d=s(19);function y(u,r,i,a){return{x:Math.cos(a)*i+u,y:Math.sin(a)*i+r}}function p(u,r,i,a){var c,h;return a?u<r?(c=r-u,h=2*Math.PI-i+u):u>i&&(c=2*Math.PI-u+r,h=u-i):(c=u-r,h=i-u),c>h?i:r}function n(u,r,i,a){var c=0;return i-r>=2*Math.PI&&(c=2*Math.PI),r=d.mod(r,2*Math.PI),i=d.mod(i,2*Math.PI)+c,u=d.mod(u,2*Math.PI),a?r>=i?u>i&&u<r?u:p(u,i,r,!0):u<r||u>i?u:p(u,r,i):r<=i?r<u&&u<i?u:p(u,r,i,!0):u>r||u<i?u:p(u,i,r)}function o(u,r,i,a,c,h,v,f,m){var b=[v,f],M=[u,r],O=d.vec2.subtract([],b,M),E=d.vec2.angleTo([1,0],O);E=n(E,a,c,h);var A=[i*Math.cos(E)+u,i*Math.sin(E)+r];return m&&(m.x=A[0],m.y=A[1]),d.vec2.distance(A,b)}C.exports={nearAngle:n,projectPoint:function(r,i,a,c,h,v,f,m){var b={};return o(r,i,a,c,h,v,f,m,b),b},pointDistance:o,box:function(r,i,a,c,h,v){var f=Math.PI/2,m=Math.PI,b=3*Math.PI/2,M=[],O=n(0,c,h,v);O===0&&M.push(y(r,i,a,0)),(O=n(f,c,h,v))===f&&M.push(y(r,i,a,f)),(O=n(m,c,h,v))===m&&M.push(y(r,i,a,m)),(O=n(b,c,h,v))===b&&M.push(y(r,i,a,b)),M.push(y(r,i,a,c)),M.push(y(r,i,a,h));var E=1/0,A=-1/0,j=1/0,B=-1/0;return d.each(M,function(D){E>D.x&&(E=D.x),A<D.x&&(A=D.x),j>D.y&&(j=D.y),B<D.y&&(B=D.y)}),{minX:E,minY:j,maxX:A,maxY:B}}}},function(C,x,s){var d=s(19).vec2;C.exports={at:function(p,n,o){return(n-p)*o+p},pointDistance:function(p,n,o,u,r,i){var a=[o-p,u-n];if(d.exactEquals(a,[0,0]))return NaN;var c=[-a[1],a[0]];d.normalize(c,c);var h=[r-p,i-n];return Math.abs(d.dot(h,c))},box:function(p,n,o,u,r){var i=r/2,a=Math.min(p,o),c=Math.max(p,o);return{minX:a-i,minY:Math.min(n,u)-i,maxX:c+i,maxY:Math.max(n,u)+i}},len:function(p,n,o,u){return Math.sqrt((o-p)*(o-p)+(u-n)*(u-n))}}},function(C,x,s){var d=s(118);C.exports=function(y){return d(y)?Array.prototype.slice.call(y):[]}},function(C,x,s){var d=s(118),y=Array.prototype.indexOf;C.exports=function(p,n){return!!d(p)&&y.call(p,n)>-1}},function(C,x){function s(d,y){for(var p in y)y.hasOwnProperty(p)&&p!=="constructor"&&y[p]!==void 0&&(d[p]=y[p])}C.exports=function(d,y,p,n){return y&&s(d,y),p&&s(d,p),n&&s(d,n),d}},,function(C,x,s){var d=s(26),y=function(){function p(o){d.mix(this,{id:"",type:null,model:{},group:null,animate:!1,modelCache:{},isItem:!0,visible:!0},o),this._init()}var n=p.prototype;return n._init=function(){this._initGroup(),this.draw()},n._mapping=function(){var o=this.mapper,u=this.model;o.mapping(u)},n._initGroup=function(){var o=this.group,u=this.model,r=this.type;o.isItemContainer=!0,o.id=u.id,o.itemType=r,o.model=u,o.item=this},n._calculateBBox=function(){var o=this.keyShape,u=this.group,r=d.getBBox(o,u);return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},n.getLabel=function(){return this.group.findByClass("label")[0]},n.getGraph=function(){return this.graph},n._setShapeObj=function(){var o=this.graph,u=this.type,r=this.getModel();this.shapeObj=o.getShapeObj(u,r)},n._afterDraw=function(){var o=this.graph;this._setGId(),this._cacheModel(),o.emit("afteritemdraw",{item:this})},n._cacheModel=function(){this.modelCache=d.mix({},this.model)},n._setGId=function(){var o=this.group,u=this.id,r=this.type;o.gid=u,o.deepEach(function(i,a,c){var h=a.gid;if(i.id=u,i.eventPreFix=r,i.gid=h+"-"+c,i.isShape){var v=i.get("type");i.gid+="-"+v}})},n._beforeDraw=function(){var o=this.graph,u=this.group;o.emit("beforeitemdraw",{item:this}),u.resetMatrix(),this.updateCollapsedParent()},n._shouldDraw=function(){return!0},n._getDiff=function(){var o=[],u=this.model,r=this.modelCache;return d.each(u,function(i,a){d.isEqual(i,r[a])||o.push(a)}),o.length!==0&&o},n._drawInner=function(){var o=this.animate;this.group.clear(!o),this._mapping(),this._setShapeObj();var u=this.shapeObj,r=u.draw(this);r&&(r.isKeyShape=!0,this.keyShape=r),u.afterDraw&&u.afterDraw(this)},n.deepEach=function(o,u){d.traverseTree(this,o,u||function(r){return r.getChildren()})},n.getShapeObj=function(){return this.shapeObj},n.updateCollapsedParent=function(){var o=this.dataMap;this.collapsedParent=function u(r,i){var a=i[r.parent];if(!a)return!1;if(a){var c=u(a,i);if(c)return c}return a.collapsed?a:void 0}(this.model,o)},n.isVisible=function(){return this.visible},n.hide=function(){var o=this.group,u=this.graph;u.emit("beforeitemhide",{item:this}),o.hide(),this.visible=!1,u.emit("afteritemhide",{item:this})},n.show=function(){var o=this.group,u=this.graph;u.emit("beforeitemshow",{item:this}),o.show(),this.visible=!0,u.emit("afteritemshow",{item:this})},n.draw=function(){this._beforeDraw(),this._shouldDraw()&&this._drawInner(),this._afterDraw()},n.forceUpdate=function(){this._beforeDraw(),this._drawInner(),this._afterDraw()},n.getCenter=function(){var o=this.getBBox();return{x:o.centerX,y:o.centerY}},n.getBBox=function(){return this.bbox||this._calculateBBox()},n.layoutUpdate=function(){this.isVisible()&&this.draw()},n.update=function(){this.draw()},n.getModel=function(){return this.model},n.getKeyShape=function(){return this.keyShape},n.getGraphicGroup=function(){return this.group},n.getHierarchy=function(){return this.graph.getHierarchy(this)},n.getParent=function(){var o=this.model;return this.itemMap[o.parent]},n.getAllParents=function(){for(var o=this.model,u=this.itemMap,r=[],i=o.parent;i&&u[i];){var a=u[i],c=a.getModel();r.push(a),i=c.parent}return r},n.getAllChildren=function(){var o=[];return this.deepEach(function(u){o.push(u)}),o},n.getChildren=function(){var o=this.id;return this.graph.getItems().filter(function(u){return u.model.parent===o})},n.toFront=function(){this.group.toFront()},n.toBack=function(){this.group.toBack()},n.destroy=function(){if(!this.destroyed){var o=this.animate,u=this.graph;u.emit("beforeitemdestroy",{item:this}),this.group.remove(!o),this.destroyed=!0,u.emit("afteritemdestroy",{item:this})}},p}();C.exports=y},function(C,x){C.exports="2.2.6"},function(C,x,s){var d=s(644),y=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,p=new RegExp("([a-z])["+y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+y+"]*,?["+y+"]*)+)","ig"),n=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+y+"]*,?["+y+"]*","ig"),o=function($){if(!$)return null;if(typeof $==typeof[])return $;var K={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ot=[];return String($).replace(p,function(at,ht,St){var pt=[],xt=ht.toLowerCase();if(St.replace(n,function(vt,gt){gt&&pt.push(+gt)}),xt==="m"&&pt.length>2&&(ot.push([ht].concat(pt.splice(0,2))),xt="l",ht=ht==="m"?"l":"L"),xt==="o"&&pt.length===1&&ot.push([ht,pt[0]]),xt==="r")ot.push([ht].concat(pt));else for(;pt.length>=K[xt]&&(ot.push([ht].concat(pt.splice(0,K[xt]))),K[xt]););}),ot},u=function($,K){for(var ot=[],at=0,ht=$.length;ht-2*!K>at;at+=2){var St=[{x:+$[at-2],y:+$[at-1]},{x:+$[at],y:+$[at+1]},{x:+$[at+2],y:+$[at+3]},{x:+$[at+4],y:+$[at+5]}];K?at?ht-4===at?St[3]={x:+$[0],y:+$[1]}:ht-2===at&&(St[2]={x:+$[0],y:+$[1]},St[3]={x:+$[2],y:+$[3]}):St[0]={x:+$[ht-2],y:+$[ht-1]}:ht-4===at?St[3]=St[2]:at||(St[0]={x:+$[at],y:+$[at+1]}),ot.push(["C",(-St[0].x+6*St[1].x+St[2].x)/6,(-St[0].y+6*St[1].y+St[2].y)/6,(St[1].x+6*St[2].x-St[3].x)/6,(St[1].y+6*St[2].y-St[3].y)/6,St[2].x,St[2].y])}return ot},r=function($,K,ot,at,ht){var St=[];if(ht===null&&at===null&&(at=ot),$=+$,K=+K,ot=+ot,at=+at,ht!==null){var pt=Math.PI/180,xt=$+ot*Math.cos(-at*pt),vt=$+ot*Math.cos(-ht*pt);St=[["M",xt,K+ot*Math.sin(-at*pt)],["A",ot,ot,0,+(ht-at>180),0,vt,K+ot*Math.sin(-ht*pt)]]}else St=[["M",$,K],["m",0,-at],["a",ot,at,0,1,1,0,2*at],["a",ot,at,0,1,1,0,-2*at],["z"]];return St},i=function($){if(!($=o($))||!$.length)return[["M",0,0]];var K,ot,at=[],ht=0,St=0,pt=0,xt=0,vt=0;$[0][0]==="M"&&(pt=ht=+$[0][1],xt=St=+$[0][2],vt++,at[0]=["M",ht,St]);for(var gt,_t,Bt=$.length===3&&$[0][0]==="M"&&$[1][0].toUpperCase()==="R"&&$[2][0].toUpperCase()==="Z",At=vt,It=$.length;At<It;At++){if(at.push(gt=[]),(K=(_t=$[At])[0])!==K.toUpperCase())switch(gt[0]=K.toUpperCase(),gt[0]){case"A":gt[1]=_t[1],gt[2]=_t[2],gt[3]=_t[3],gt[4]=_t[4],gt[5]=_t[5],gt[6]=+_t[6]+ht,gt[7]=+_t[7]+St;break;case"V":gt[1]=+_t[1]+St;break;case"H":gt[1]=+_t[1]+ht;break;case"R":for(var lt=2,X=(ot=[ht,St].concat(_t.slice(1))).length;lt<X;lt++)ot[lt]=+ot[lt]+ht,ot[++lt]=+ot[lt]+St;at.pop(),at=at.concat(u(ot,Bt));break;case"O":at.pop(),(ot=r(ht,St,_t[1],_t[2])).push(ot[0]),at=at.concat(ot);break;case"U":at.pop(),at=at.concat(r(ht,St,_t[1],_t[2],_t[3])),gt=["U"].concat(at[at.length-1].slice(-2));break;case"M":pt=+_t[1]+ht,xt=+_t[2]+St;break;default:for(var V=1,Z=_t.length;V<Z;V++)gt[V]=+_t[V]+(V%2?ht:St)}else if(K==="R")ot=[ht,St].concat(_t.slice(1)),at.pop(),at=at.concat(u(ot,Bt)),gt=["R"].concat(_t.slice(-2));else if(K==="O")at.pop(),(ot=r(ht,St,_t[1],_t[2])).push(ot[0]),at=at.concat(ot);else if(K==="U")at.pop(),at=at.concat(r(ht,St,_t[1],_t[2],_t[3])),gt=["U"].concat(at[at.length-1].slice(-2));else for(var W=0,rt=_t.length;W<rt;W++)gt[W]=_t[W];if((K=K.toUpperCase())!=="O")switch(gt[0]){case"Z":ht=+pt,St=+xt;break;case"H":ht=gt[1];break;case"V":St=gt[1];break;case"M":pt=gt[gt.length-2],xt=gt[gt.length-1];break;default:ht=gt[gt.length-2],St=gt[gt.length-1]}}return at},a=function($,K,ot,at){return[$,K,ot,at,ot,at]},c=function($,K,ot,at,ht,St){return[1/3*$+2/3*ot,1/3*K+2/3*at,1/3*ht+2/3*ot,1/3*St+2/3*at,ht,St]},h=function($,K){var ot,at=i($),ht=K&&i(K),St={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},pt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},xt=[],vt=[],gt="",_t="",Bt=function(tt,Q,ft){var Et,Ct;if(!tt)return["C",Q.x,Q.y,Q.x,Q.y,Q.x,Q.y];switch(!(tt[0]in{T:1,Q:1})&&(Q.qx=Q.qy=null),tt[0]){case"M":Q.X=tt[1],Q.Y=tt[2];break;case"A":tt=["C"].concat(function Nt(Ft,Rt,kt,Pt,Xt,Ut,ct,re,ve,pe){kt===Pt&&(kt+=1);var Me,ge,ce,ye,be,Oe=120*Math.PI/180,Xe=Math.PI/180*(+Xt||0),Ie=[],De=function(an,wn,hn){return{x:an*Math.cos(hn)-wn*Math.sin(hn),y:an*Math.sin(hn)+wn*Math.cos(hn)}};if(pe)ge=pe[0],ce=pe[1],ye=pe[2],be=pe[3];else{Ft=(Me=De(Ft,Rt,-Xe)).x,Rt=Me.y,re=(Me=De(re,ve,-Xe)).x,ve=Me.y,Ft===re&&Rt===ve&&(re+=1,ve+=1);var we=(Ft-re)/2,Be=(Rt-ve)/2,He=we*we/(kt*kt)+Be*Be/(Pt*Pt);He>1&&(kt*=He=Math.sqrt(He),Pt*=He);var We=kt*kt,Re=Pt*Pt,sn=(Ut===ct?-1:1)*Math.sqrt(Math.abs((We*Re-We*Be*Be-Re*we*we)/(We*Be*Be+Re*we*we)));ye=sn*kt*Be/Pt+(Ft+re)/2,be=sn*-Pt*we/kt+(Rt+ve)/2,ge=Math.asin(((Rt-be)/Pt).toFixed(9)),ce=Math.asin(((ve-be)/Pt).toFixed(9)),ge=Ft<ye?Math.PI-ge:ge,ce=re<ye?Math.PI-ce:ce,ge<0&&(ge=2*Math.PI+ge),ce<0&&(ce=2*Math.PI+ce),ct&&ge>ce&&(ge-=2*Math.PI),!ct&&ce>ge&&(ce-=2*Math.PI)}var en=ce-ge;if(Math.abs(en)>Oe){var Ue=ce,Dn=re,yn=ve;ce=ge+Oe*(ct&&ce>ge?1:-1),Ie=Nt(re=ye+kt*Math.cos(ce),ve=be+Pt*Math.sin(ce),kt,Pt,Xt,0,ct,Dn,yn,[ce,Ue,ye,be])}en=ce-ge;var Ge=Math.cos(ge),An=Math.sin(ge),Cn=Math.cos(ce),nn=Math.sin(ce),jn=Math.tan(en/4),bn=4/3*kt*jn,xn=4/3*Pt*jn,rn=[Ft,Rt],Ze=[Ft+bn*An,Rt-xn*Ge],un=[re+bn*nn,ve-xn*Cn],on=[re,ve];if(Ze[0]=2*rn[0]-Ze[0],Ze[1]=2*rn[1]-Ze[1],pe)return[Ze,un,on].concat(Ie);for(var cn=[],Le=0,pn=(Ie=[Ze,un,on].concat(Ie).join().split(",")).length;Le<pn;Le++)cn[Le]=Le%2?De(Ie[Le-1],Ie[Le],Xe).y:De(Ie[Le],Ie[Le+1],Xe).x;return cn}.apply(0,[Q.x,Q.y].concat(tt.slice(1))));break;case"S":ft==="C"||ft==="S"?(Et=2*Q.x-Q.bx,Ct=2*Q.y-Q.by):(Et=Q.x,Ct=Q.y),tt=["C",Et,Ct].concat(tt.slice(1));break;case"T":ft==="Q"||ft==="T"?(Q.qx=2*Q.x-Q.qx,Q.qy=2*Q.y-Q.qy):(Q.qx=Q.x,Q.qy=Q.y),tt=["C"].concat(c(Q.x,Q.y,Q.qx,Q.qy,tt[1],tt[2]));break;case"Q":Q.qx=tt[1],Q.qy=tt[2],tt=["C"].concat(c(Q.x,Q.y,tt[1],tt[2],tt[3],tt[4]));break;case"L":tt=["C"].concat(a(Q.x,Q.y,tt[1],tt[2]));break;case"H":tt=["C"].concat(a(Q.x,Q.y,tt[1],Q.y));break;case"V":tt=["C"].concat(a(Q.x,Q.y,Q.x,tt[1]));break;case"Z":tt=["C"].concat(a(Q.x,Q.y,Q.X,Q.Y))}return tt},At=function(tt,Q){if(tt[Q].length>7){tt[Q].shift();for(var ft=tt[Q];ft.length;)xt[Q]="A",ht&&(vt[Q]="A"),tt.splice(Q++,0,["C"].concat(ft.splice(0,6)));tt.splice(Q,1),ot=Math.max(at.length,ht&&ht.length||0)}},It=function(tt,Q,ft,Et,Ct){tt&&Q&&tt[Ct][0]==="M"&&Q[Ct][0]!=="M"&&(Q.splice(Ct,0,["M",Et.x,Et.y]),ft.bx=0,ft.by=0,ft.x=tt[Ct][1],ft.y=tt[Ct][2],ot=Math.max(at.length,ht&&ht.length||0))};ot=Math.max(at.length,ht&&ht.length||0);for(var lt=0;lt<ot;lt++){at[lt]&&(gt=at[lt][0]),gt!=="C"&&(xt[lt]=gt,lt&&(_t=xt[lt-1])),at[lt]=Bt(at[lt],St,_t),xt[lt]!=="A"&&gt==="C"&&(xt[lt]="C"),At(at,lt),ht&&(ht[lt]&&(gt=ht[lt][0]),gt!=="C"&&(vt[lt]=gt,lt&&(_t=vt[lt-1])),ht[lt]=Bt(ht[lt],pt,_t),vt[lt]!=="A"&&gt==="C"&&(vt[lt]="C"),At(ht,lt)),It(at,ht,St,pt,lt),It(ht,at,pt,St,lt);var X=at[lt],V=ht&&ht[lt],Z=X.length,W=ht&&V.length;St.x=X[Z-2],St.y=X[Z-1],St.bx=parseFloat(X[Z-4])||St.x,St.by=parseFloat(X[Z-3])||St.y,pt.bx=ht&&(parseFloat(V[W-4])||pt.x),pt.by=ht&&(parseFloat(V[W-3])||pt.y),pt.x=ht&&V[W-2],pt.y=ht&&V[W-1]}return ht?[at,ht]:at},v=/,?([a-z]),?/gi,f=function($){return $.join(",").replace(v,"$1")},m=function($,K,ot,at,ht){return $*($*(-3*K+9*ot-9*at+3*ht)+6*K-12*ot+6*at)-3*K+3*ot},b=function($,K,ot,at,ht,St,pt,xt,vt){vt===null&&(vt=1);for(var gt=(vt=vt>1?1:vt<0?0:vt)/2,_t=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Bt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],At=0,It=0;It<12;It++){var lt=gt*_t[It]+gt,X=m(lt,$,ot,ht,pt),V=m(lt,K,at,St,xt),Z=X*X+V*V;At+=Bt[It]*Math.sqrt(Z)}return gt*At},M=function($,K,ot,at,ht,St,pt,xt){if(!(Math.max($,ot)<Math.min(ht,pt)||Math.min($,ot)>Math.max(ht,pt)||Math.max(K,at)<Math.min(St,xt)||Math.min(K,at)>Math.max(St,xt))){var vt=($-ot)*(St-xt)-(K-at)*(ht-pt);if(vt){var gt=(($*at-K*ot)*(ht-pt)-($-ot)*(ht*xt-St*pt))/vt,_t=(($*at-K*ot)*(St-xt)-(K-at)*(ht*xt-St*pt))/vt,Bt=+gt.toFixed(2),At=+_t.toFixed(2);if(!(Bt<+Math.min($,ot).toFixed(2)||Bt>+Math.max($,ot).toFixed(2)||Bt<+Math.min(ht,pt).toFixed(2)||Bt>+Math.max(ht,pt).toFixed(2)||At<+Math.min(K,at).toFixed(2)||At>+Math.max(K,at).toFixed(2)||At<+Math.min(St,xt).toFixed(2)||At>+Math.max(St,xt).toFixed(2)))return{x:gt,y:_t}}}},O=function($,K,ot){return K>=$.x&&K<=$.x+$.width&&ot>=$.y&&ot<=$.y+$.height},E=function($,K,ot,at,ht){if(ht)return[["M",+$+ +ht,K],["l",ot-2*ht,0],["a",ht,ht,0,0,1,ht,ht],["l",0,at-2*ht],["a",ht,ht,0,0,1,-ht,ht],["l",2*ht-ot,0],["a",ht,ht,0,0,1,-ht,-ht],["l",0,2*ht-at],["a",ht,ht,0,0,1,ht,-ht],["z"]];var St=[["M",$,K],["l",ot,0],["l",0,at],["l",-ot,0],["z"]];return St.parsePathArray=f,St},A=function($,K,ot,at){return $===null&&($=K=ot=at=0),K===null&&(K=$.y,ot=$.width,at=$.height,$=$.x),{x:$,y:K,width:ot,w:ot,height:at,h:at,x2:$+ot,y2:K+at,cx:$+ot/2,cy:K+at/2,r1:Math.min(ot,at)/2,r2:Math.max(ot,at)/2,r0:Math.sqrt(ot*ot+at*at)/2,path:E($,K,ot,at),vb:[$,K,ot,at].join(" ")}},j=function($,K,ot,at,ht,St,pt,xt){d.isArray($)||($=[$,K,ot,at,ht,St,pt,xt]);var vt=function(gt,_t,Bt,At,It,lt,X,V){for(var Z,W,rt,tt,Q=[],ft=[[],[]],Et=0;Et<2;++Et)if(Et===0?(W=6*gt-12*Bt+6*It,Z=-3*gt+9*Bt-9*It+3*X,rt=3*Bt-3*gt):(W=6*_t-12*At+6*lt,Z=-3*_t+9*At-9*lt+3*V,rt=3*At-3*_t),Math.abs(Z)<1e-12){if(Math.abs(W)<1e-12)continue;(tt=-rt/W)>0&&tt<1&&Q.push(tt)}else{var Ct=W*W-4*rt*Z,Nt=Math.sqrt(Ct);if(!(Ct<0)){var Ft=(-W+Nt)/(2*Z);Ft>0&&Ft<1&&Q.push(Ft);var Rt=(-W-Nt)/(2*Z);Rt>0&&Rt<1&&Q.push(Rt)}}for(var kt,Pt=Q.length,Xt=Pt;Pt--;)kt=1-(tt=Q[Pt]),ft[0][Pt]=kt*kt*kt*gt+3*kt*kt*tt*Bt+3*kt*tt*tt*It+tt*tt*tt*X,ft[1][Pt]=kt*kt*kt*_t+3*kt*kt*tt*At+3*kt*tt*tt*lt+tt*tt*tt*V;return ft[0][Xt]=gt,ft[1][Xt]=_t,ft[0][Xt+1]=X,ft[1][Xt+1]=V,ft[0].length=ft[1].length=Xt+2,{min:{x:Math.min.apply(0,ft[0]),y:Math.min.apply(0,ft[1])},max:{x:Math.max.apply(0,ft[0]),y:Math.max.apply(0,ft[1])}}}.apply(null,$);return A(vt.min.x,vt.min.y,vt.max.x-vt.min.x,vt.max.y-vt.min.y)},B=function($,K,ot,at,ht,St,pt,xt,vt){var gt=1-vt,_t=Math.pow(gt,3),Bt=Math.pow(gt,2),At=vt*vt,It=At*vt,lt=$+2*vt*(ot-$)+At*(ht-2*ot+$),X=K+2*vt*(at-K)+At*(St-2*at+K),V=ot+2*vt*(ht-ot)+At*(pt-2*ht+ot),Z=at+2*vt*(St-at)+At*(xt-2*St+at);return{x:_t*$+3*Bt*vt*ot+3*gt*vt*vt*ht+It*pt,y:_t*K+3*Bt*vt*at+3*gt*vt*vt*St+It*xt,m:{x:lt,y:X},n:{x:V,y:Z},start:{x:gt*$+vt*ot,y:gt*K+vt*at},end:{x:gt*ht+vt*pt,y:gt*St+vt*xt},alpha:90-180*Math.atan2(lt-V,X-Z)/Math.PI}},D=function($,K,ot){if(!function(Ct,Nt){return Ct=A(Ct),Nt=A(Nt),O(Nt,Ct.x,Ct.y)||O(Nt,Ct.x2,Ct.y)||O(Nt,Ct.x,Ct.y2)||O(Nt,Ct.x2,Ct.y2)||O(Ct,Nt.x,Nt.y)||O(Ct,Nt.x2,Nt.y)||O(Ct,Nt.x,Nt.y2)||O(Ct,Nt.x2,Nt.y2)||(Ct.x<Nt.x2&&Ct.x>Nt.x||Nt.x<Ct.x2&&Nt.x>Ct.x)&&(Ct.y<Nt.y2&&Ct.y>Nt.y||Nt.y<Ct.y2&&Nt.y>Ct.y)}(j($),j(K)))return ot?0:[];for(var at=~~(b.apply(0,$)/8),ht=~~(b.apply(0,K)/8),St=[],pt=[],xt={},vt=ot?0:[],gt=0;gt<at+1;gt++){var _t=B.apply(0,$.concat(gt/at));St.push({x:_t.x,y:_t.y,t:gt/at})}for(var Bt=0;Bt<ht+1;Bt++){var At=B.apply(0,K.concat(Bt/ht));pt.push({x:At.x,y:At.y,t:Bt/ht})}for(var It=0;It<at;It++)for(var lt=0;lt<ht;lt++){var X=St[It],V=St[It+1],Z=pt[lt],W=pt[lt+1],rt=Math.abs(V.x-X.x)<.001?"y":"x",tt=Math.abs(W.x-Z.x)<.001?"y":"x",Q=M(X.x,X.y,V.x,V.y,Z.x,Z.y,W.x,W.y);if(Q){if(xt[Q.x.toFixed(4)]===Q.y.toFixed(4))continue;xt[Q.x.toFixed(4)]=Q.y.toFixed(4);var ft=X.t+Math.abs((Q[rt]-X[rt])/(V[rt]-X[rt]))*(V.t-X.t),Et=Z.t+Math.abs((Q[tt]-Z[tt])/(W[tt]-Z[tt]))*(W.t-Z.t);ft>=0&&ft<=1&&Et>=0&&Et<=1&&(ot?vt++:vt.push({x:Q.x,y:Q.y,t1:ft,t2:Et}))}}return vt};function T(ut,$){var K=[],ot=[];return ut.length&&function at(ht,St){if(ht.length===1)K.push(ht[0]),ot.push(ht[0]);else{for(var pt=[],xt=0;xt<ht.length-1;xt++)xt===0&&K.push(ht[0]),xt===ht.length-2&&ot.push(ht[xt+1]),pt[xt]=[(1-St)*ht[xt][0]+St*ht[xt+1][0],(1-St)*ht[xt][1]+St*ht[xt+1][1]];at(pt,St)}}(ut,$),{left:K,right:ot.reverse()}}var Y=function($,K,ot){if(ot===1)return[[].concat($)];var at=[];if(K[0]==="L"||K[0]==="C"||K[0]==="Q")at=at.concat(function(pt,xt,vt){var gt=[[pt[1],pt[2]]];vt=vt||2;var _t=[];xt[0]==="A"?(gt.push(xt[6]),gt.push(xt[7])):xt[0]==="C"?(gt.push([xt[1],xt[2]]),gt.push([xt[3],xt[4]]),gt.push([xt[5],xt[6]])):xt[0]==="S"||xt[0]==="Q"?(gt.push([xt[1],xt[2]]),gt.push([xt[3],xt[4]])):gt.push([xt[1],xt[2]]);for(var Bt=gt,At=1/vt,It=0;It<vt-1;It++){var lt=T(Bt,At/(1-At*It));_t.push(lt.left),Bt=lt.right}return _t.push(Bt),_t.map(function(X){var V=[];return X.length===4&&(V.push("C"),V=V.concat(X[2])),X.length>=3&&(X.length===3&&V.push("Q"),V=V.concat(X[1])),X.length===2&&V.push("L"),V=V.concat(X[X.length-1])})}($,K,ot));else{var ht=[].concat($);ht[0]==="M"&&(ht[0]="L");for(var St=0;St<=ot-1;St++)at.push(ht)}return at},G=function($,K){if($.length!==K.length)return!1;var ot=!0;return d.each($,function(at,ht){if(at!==K[ht])return ot=!1,!1}),ot};function U(ut,$,K){var ot=null,at=K;return $<at&&(at=$,ot="add"),ut<at&&(at=ut,ot="del"),{type:ot,min:at}}function H(ut,$,K){for(var ot,at=[].concat(ut),ht=1/(K+1),St=J($)[0],pt=1;pt<=K;pt++)ht*=pt,(ot=Math.floor(ut.length*ht))===0?at.unshift([St[0]*ht+ut[ot][0]*(1-ht),St[1]*ht+ut[ot][1]*(1-ht)]):at.splice(ot,0,[St[0]*ht+ut[ot][0]*(1-ht),St[1]*ht+ut[ot][1]*(1-ht)]);return at}function J(ut){var $=[];switch(ut[0]){case"M":case"L":$.push([ut[1],ut[2]]);break;case"A":$.push([ut[6],ut[7]]);break;case"Q":$.push([ut[3],ut[4]]),$.push([ut[1],ut[2]]);break;case"T":$.push([ut[1],ut[2]]);break;case"C":$.push([ut[5],ut[6]]),$.push([ut[1],ut[2]]),$.push([ut[3],ut[4]]);break;case"S":$.push([ut[3],ut[4]]),$.push([ut[1],ut[2]]);break;case"H":case"V":$.push([ut[1],ut[1]])}return $}C.exports={parsePathString:o,parsePathArray:f,pathTocurve:h,pathToAbsolute:i,catmullRomToBezier:u,rectPath:E,fillPath:function($,K){if($.length===1)return $;var ot=$.length-1,at=K.length-1,ht=ot/at,St=[];if($.length===1&&$[0][0]==="M"){for(var pt=0;pt<at-ot;pt++)$.push($[0]);return $}for(var xt=0;xt<at;xt++){var vt=Math.floor(ht*xt);St[vt]=(St[vt]||0)+1}var gt=St.reduce(function(_t,Bt,At){return At===ot?_t.concat($[ot]):_t.concat(Y($[At],$[At+1],Bt))},[]);return gt.unshift($[0]),K[at]!=="Z"&&K[at]!=="z"||gt.push("Z"),gt},fillPathByDiff:function($,K){var ot=function(lt,X){var V,Z,W=lt.length,rt=X.length,tt=0;if(W===0||rt===0)return null;for(var Q=[],ft=0;ft<=W;ft++)Q[ft]=[],Q[ft][0]={min:ft};for(var Et=0;Et<=rt;Et++)Q[0][Et]={min:Et};for(var Ct=1;Ct<=W;Ct++){V=lt[Ct-1];for(var Nt=1;Nt<=rt;Nt++){Z=X[Nt-1],tt=G(V,Z)?0:1;var Ft=Q[Ct-1][Nt].min+1,Rt=Q[Ct][Nt-1].min+1,kt=Q[Ct-1][Nt-1].min+tt;Q[Ct][Nt]=U(Ft,Rt,kt)}}return Q}($,K),at=$.length,ht=K.length,St=[],pt=1,xt=1;if(ot[at][ht]!==at){for(var vt=1;vt<=at;vt++){var gt=ot[vt][vt].min;xt=vt;for(var _t=pt;_t<=ht;_t++)ot[vt][_t].min<gt&&(gt=ot[vt][_t].min,xt=_t);pt=xt,ot[vt][pt].type&&St.push({index:vt-1,type:ot[vt][pt].type})}for(var Bt=St.length-1;Bt>=0;Bt--)pt=St[Bt].index,St[Bt].type==="add"?$.splice(pt,0,[].concat($[pt])):$.splice(pt,1)}var At=ht-(at=$.length);if(at<ht)for(var It=0;It<At;It++)$[at-1][0]==="z"||$[at-1][0]==="Z"?$.splice(at-2,0,$[at-2]):$.push($[at-1]),at+=1;return $},formatPath:function($,K){if($.length<=1)return $;for(var ot,at=0;at<K.length;at++)if($[at][0]!==K[at][0])switch(ot=J($[at]),K[at][0]){case"M":$[at]=["M"].concat(ot[0]);break;case"L":$[at]=["L"].concat(ot[0]);break;case"A":$[at]=[].concat(K[at]),$[at][6]=ot[0][0],$[at][7]=ot[0][1];break;case"Q":if(ot.length<2){if(!(at>0)){$[at]=K[at];break}ot=H(ot,$[at-1],1)}$[at]=["Q"].concat(ot.reduce(function(ht,St){return ht.concat(St)},[]));break;case"T":$[at]=["T"].concat(ot[0]);break;case"C":if(ot.length<3){if(!(at>0)){$[at]=K[at];break}ot=H(ot,$[at-1],2)}$[at]=["C"].concat(ot.reduce(function(ht,St){return ht.concat(St)},[]));break;case"S":if(ot.length<2){if(!(at>0)){$[at]=K[at];break}ot=H(ot,$[at-1],1)}$[at]=["S"].concat(ot.reduce(function(ht,St){return ht.concat(St)},[]));break;default:$[at]=K[at]}return $},intersection:function($,K){return function(ot,at,ht){var St,pt,xt,vt,gt,_t,Bt,At,It,lt;ot=h(ot),at=h(at);for(var X=ht?0:[],V=0,Z=ot.length;V<Z;V++){var W=ot[V];if(W[0]==="M")St=gt=W[1],pt=_t=W[2];else{W[0]==="C"?(St=(It=[St,pt].concat(W.slice(1)))[6],pt=It[7]):(It=[St,pt,St,pt,gt,_t,gt,_t],St=gt,pt=_t);for(var rt=0,tt=at.length;rt<tt;rt++){var Q=at[rt];if(Q[0]==="M")xt=Bt=Q[1],vt=At=Q[2];else{Q[0]==="C"?(xt=(lt=[xt,vt].concat(Q.slice(1)))[6],vt=lt[7]):(lt=[xt,vt,xt,vt,Bt,At,Bt,At],xt=Bt,vt=At);var ft=D(It,lt,ht);if(ht)X+=ft;else{for(var Et=0,Ct=ft.length;Et<Ct;Et++)ft[Et].segment1=V,ft[Et].segment2=rt,ft[Et].bez1=It,ft[Et].bez2=lt;X=X.concat(ft)}}}}}return X}($,K)}}},function(C,x,s){var d=s(19),y=s(58),p=s(593),n=s(600),o=function u(r){u.superclass.constructor.call(this,r)};o.Symbols={circle:function(r,i,a){return[["M",r,i],["m",-a,0],["a",a,a,0,1,0,2*a,0],["a",a,a,0,1,0,2*-a,0]]},square:function(r,i,a){return[["M",r-a,i-a],["L",r+a,i-a],["L",r+a,i+a],["L",r-a,i+a],["Z"]]},diamond:function(r,i,a){return[["M",r-a,i],["L",r,i-a],["L",r+a,i],["L",r,i+a],["Z"]]},triangle:function(r,i,a){var c=a*Math.sin(1/3*Math.PI);return[["M",r-a,i+c],["L",r,i-c],["L",r+a,i+c],["z"]]},"triangle-down":function(r,i,a){var c=a*Math.sin(1/3*Math.PI);return[["M",r-a,i-c],["L",r+a,i-c],["L",r,i+c],["Z"]]}},o.ATTRS={path:null,lineWidth:1},d.extend(o,y),d.augment(o,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var r=this._attrs,i=r.x,a=r.y,c=r.radius,h=this.getHitLineWidth()/2+c;return{minX:i-h,minY:a-h,maxX:i+h,maxY:a+h}},_getPath:function(){var r=this._attrs,i=r.x,a=r.y,c=r.radius||r.r,h=r.symbol||"circle";return(d.isFunction(h)?h:o.Symbols[h])(i,a,c)},createPath:function(r){var i=this._cfg.segments;if(!i||this._cfg.hasUpdate){var a,c=p.parsePath(this._getPath());r.beginPath(),i=[];for(var h=0;h<c.length;h++){var v=c[h];a=new n(v,a,h===c.length-1),i.push(a),a.draw(r)}this._cfg.segments=i,this._cfg.hasUpdate=!1}else{r.beginPath();for(var f=0;f<i.length;f++)i[f].draw(r)}}}),C.exports=o},function(C,x,s){var d=s(19),y=d.vec2;function p(u,r,i,a,c){var h=1-c;return h*h*(h*a+3*c*i)+c*c*(c*u+3*h*r)}function n(u,r,i,a,c,h,v,f,m,b,M){var O,E,A,j,B,D,T,Y,G=.005,U=1/0,H=[m,b];for(E=0;E<1;E+=.05)A=[p(u,i,c,v,E),p(r,a,h,f,E)],(j=y.squaredDistance(H,A))<U&&(O=E,U=j);U=1/0;for(var J=0;J<32&&!(G<1e-4);J++)Y=O+G,A=[p(u,i,c,v,T=O-G),p(r,a,h,f,T)],j=y.squaredDistance(H,A),T>=0&&j<U?(O=T,U=j):(D=[p(u,i,c,v,Y),p(r,a,h,f,Y)],B=y.squaredDistance(H,D),Y<=1&&B<U?(O=Y,U=B):G*=.5);return M&&(M.x=p(u,i,c,v,O),M.y=p(r,a,h,f,O)),Math.sqrt(U)}function o(u,r,i,a,c){return u*(u*(-3*r+9*i-9*a+3*c)+6*r-12*i+6*a)-3*r+3*i}C.exports={at:p,derivativeAt:function(r,i,a,c,h){var v=1-h;return 3*(((i-r)*v+2*(a-i)*h)*v+(c-a)*h*h)},projectPoint:function(r,i,a,c,h,v,f,m,b,M){var O={};return n(r,i,a,c,h,v,f,m,b,M,O),O},pointDistance:n,extrema:function(r,i,a,c){var h,v,f,m=3*r-9*i+9*a-3*c,b=6*i-12*a+6*c,M=3*a-3*c,O=[];if(d.isNumberEqual(m,0))d.isNumberEqual(b,0)||(h=-M/b)>=0&&h<=1&&O.push(h);else{var E=b*b-4*m*M;d.isNumberEqual(E,0)?O.push(-b/(2*m)):E>0&&(v=(-b-(f=Math.sqrt(E)))/(2*m),(h=(-b+f)/(2*m))>=0&&h<=1&&O.push(h),v>=0&&v<=1&&O.push(v))}return O},len:function(r,i,a,c,h,v,f,m,b){d.isNil(b)&&(b=1);for(var M=(b=b>1?1:b<0?0:b)/2,O=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],E=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],A=0,j=0;j<12;j++){var B=M*O[j]+M,D=o(B,r,a,h,f),T=o(B,i,c,v,m),Y=D*D+T*T;A+=E[j]*Math.sqrt(Y)}return M*A}}},function(C,x,s){var d=s(603),y=s(640),p=s(612),n=s(602);C.exports={line:function(u,r,i,a,c,h,v){var f=d.box(u,r,i,a,c);if(!this.box(f.minX,f.maxX,f.minY,f.maxY,h,v))return!1;var m=d.pointDistance(u,r,i,a,h,v);return!isNaN(m)&&m<=c/2},polyline:function(u,r,i,a){var c=u.length-1;if(c<1)return!1;for(var h=0;h<c;h++){var v=u[h][0],f=u[h][1],m=u[h+1][0],b=u[h+1][1];if(this.line(v,f,m,b,r,i,a))return!0}return!1},cubicline:function(u,r,i,a,c,h,v,f,m,b,M){return p.pointDistance(u,r,i,a,c,h,v,f,b,M)<=m/2},quadraticline:function(u,r,i,a,c,h,v,f,m){return y.pointDistance(u,r,i,a,c,h,f,m)<=v/2},arcline:function(u,r,i,a,c,h,v,f,m){return n.pointDistance(u,r,i,a,c,h,f,m)<=v/2},rect:function(u,r,i,a,c,h){return u<=c&&c<=u+i&&r<=h&&h<=r+a},circle:function(u,r,i,a,c){return Math.pow(a-u,2)+Math.pow(c-r,2)<=Math.pow(i,2)},box:function(u,r,i,a,c,h){return u<=c&&c<=r&&i<=h&&h<=a}}},function(C,x,s){var d=s(619),y=s(118),p=s(595);C.exports=function n(o,u){if(o===u)return!0;if(!o||!u||p(o)||p(u))return!1;if(y(o)||y(u)){if(o.length!==u.length)return!1;for(var r=!0,i=0;i<o.length&&(r=n(o[i],u[i]));i++);return r}if(d(o)||d(u)){var a=Object.keys(o),c=Object.keys(u);if(a.length!==c.length)return!1;for(var h=!0,v=0;v<a.length&&(h=n(o[a[v]],u[a[v]]));v++);return h}return!1}},function(C,x,s){var d=s(596),y=s(45),p=5;function n(o,u,r,i){for(var a in r=r||0,i=i||p,u)if(u.hasOwnProperty(a)){var c=u[a];c!==null&&d(c)?(d(o[a])||(o[a]={}),r<i?n(o[a],c,r+1,i):o[a]=u[a]):y(c)?(o[a]=[],o[a]=o[a].concat(c)):c!==void 0&&(o[a]=c)}}C.exports=function(){for(var o=new Array(arguments.length),u=o.length,r=0;r<u;r++)o[r]=arguments[r];for(var i=o[0],a=1;a<u;a++)n(i,o[a]);return i}},function(C,x,s){var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},y=s(45);C.exports=function p(n){if((n===void 0?"undefined":d(n))!=="object"||n===null)return n;var o=void 0;if(y(n)){o=[];for(var u=0,r=n.length;u<r;u++)d(n[u])==="object"&&n[u]!=null?o[u]=p(n[u]):o[u]=n[u]}else for(var i in o={},n)d(n[i])==="object"&&n[i]!=null?o[i]=p(n[i]):o[i]=n[i];return o}},function(C,x,s){var d=s(256);d.translate=function(y,p,n){var o=new Array(9);return d.fromTranslation(o,n),d.multiply(y,o,p)},d.rotate=function(y,p,n){var o=new Array(9);return d.fromRotation(o,n),d.multiply(y,o,p)},d.scale=function(y,p,n){var o=new Array(9);return d.fromScaling(o,n),d.multiply(y,o,p)},C.exports=d},function(C,x){C.exports=function(s,d,y){return s<d?d:s>y?y:s}},function(C,x){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};C.exports=function(d){return(d===void 0?"undefined":s(d))==="object"&&d!==null}},function(C,x,s){var d=s(46),y=s(118);C.exports=function(p,n){if(!y(p))return p;var o=[];return d(p,function(u,r){n(u,r)&&o.push(u)}),o}},function(C,x){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};C.exports=function(d){var y=d===void 0?"undefined":s(d);return d!==null&&y==="object"||y==="function"}},function(C,x){var s=function(){function d(){}return d.prototype.execute=function(){throw new Error("please override this method")},d}();C.exports=s},function(C,x,s){C.exports={CompactBoxTree:s(688),Dendrogram:s(687),IndentedTree:s(686),Mindmap:s(685),Base:s(622)}},function(C,x,s){var d=s(26),y=function(p){function n(u){var r={type:"node",isNode:!0,zIndex:3,edges:[],linkable:!0};return d.mix(r,u),p.call(this,r)||this}(function(u,r){u.prototype=Object.create(r.prototype),u.prototype.constructor=u,u.__proto__=r})(n,p);var o=n.prototype;return o.updatePosition=function(){var u=this.group,r=this.model;u.setMatrix([1,0,0,0,1,0,r.x?r.x:0,r.y?r.y:0,1]),this.bbox=this._calculateBBox()},o._shouldDraw=function(){var u=this._getDiff(),r=p.prototype._shouldDraw.call(this);return u&&!(u.length===2&&u.indexOf("x")!==-1&&u.indexOf("y")!==-1)&&!(u.length===1&&(u[0]==="x"||u[0]==="y"))&&r},o._afterDraw=function(){this.updatePosition(),p.prototype._afterDraw.call(this)},o.layoutUpdate=function(){this._beforeDraw(),this._afterDraw()},o.getEdges=function(){var u=this;return this.graph.getEdges().filter(function(r){var i=r.getModel();return i.source===u.id||i.target===u.id})},o.getInEdges=function(){var u=this;return this.getEdges().filter(function(r){return r.target===u})},o.getOutEdges=function(){var u=this;return this.getEdges().filter(function(r){return r.source===u})},o.getLinkPoints=function(u){var r=this.getAnchorPoints();if(d.isNumber(u)&&r[u])return[r[u]];var i=u.x,a=u.y,c=this.getBBox(),h=c.centerX,v=c.centerY,f=i-h,m=a-v,b=this.shapeObj,M=b.anchor||{},O=this.defaultIntersectBox,E=[];if(d.isEmpty(r)){switch(b.intersectBox||M.intersectBox||M.type||O){case"rect":E=[d.getIntersectPointRect(c,u)];break;case"path":if(this.keyShape&&this.keyShape.get("type")==="path"){var A=d.parsePathArray(["M",i,a,"L",h,v]);E=[d.intersection(A,this.keyShape.get("path"))]}break;default:E=[d.getIntersectPointCircle(i,a,c.centerX,c.centerY,Math.max(c.width,c.height)/2)]}d.isEmpty(E[0])&&(E=[{x:h,y:v}])}else E=r.map(function(j){var B=j.x-h,D=j.y-v,T=d.getArcOfVectors({x:f,y:m},{x:B,y:D});return d.mix({},j,{arc:T})}).sort(function(j,B){return j.arc-B.arc});return E},o.getAnchorPoints=function(u){var r,i=this.shapeObj,a=this.getBBox(),c=[],h=i.anchor||{};return r=d.isArray(h)?h:d.isFunction(h)?h(this):d.isFunction(h.points)?h.points(this):h.points,d.each(r,function(v,f){var m=d.mix({x:a.minX+v[0]*a.width,y:a.minY+v[1]*a.height},v[2],{index:f});c.push(m)}),this._anchorPoints=c,d.isNumber(u)?this._anchorPoints[u]:this._anchorPoints},n}(s(608));C.exports=y},function(C,x,s){function d(A,j,B){return j in A?Object.defineProperty(A,j,{value:B,enumerable:!0,configurable:!0,writable:!0}):A[j]=B,A}s(715),s(714),s(713);var y=s(712),p=s(710),n=s(683),o=s(26),u=s(706),r=s(248),i=s(704),a=s(702),c=s(700),h=s(699),v=s(697),f=s(696),m=s(695),b=s(692),M=s(691),O=[f,a,c,i,m,b,s(690),M,h,v],E=function(A){(function(D,T){D.prototype=Object.create(T.prototype),D.prototype.constructor=D,D.__proto__=T})(B,A);var j=B.prototype;function B(D){var T,Y={};return O.forEach(function(G){o.mix(Y,o.clone(G.CFG),D)}),(T=A.call(this,Y)||this)._pluginInit(),T.emit("beforeinit"),T._init(),T.emit("afterinit"),T}return j.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,plugins:[],fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "\u5FAE\u8F6F\u96C5\u9ED1", SimSun, "sans-serif"',nodeDefaultShape:void 0,edgeDefaultShape:void 0,groupDefaultShape:void 0,defaultIntersectBox:"circle",renderer:"canvas",_type:"graph",_controllers:{},_timers:{},_dataMap:{},_itemMap:{},_freezMap:{},_data:{},_delayRunObj:{}}},j._init=function(){var D=this;this._initData(),this._initContainer(),this._initCanvas(),O.forEach(function(T){T.INIT&&D[T.INIT]()}),this.initEvent()},j.initEvent=function(){},j._executeLayout=function(D,T,Y,G){o.isFunction(D)?D(T,Y,this):o.isObject(D)&&(D.nodes=T,D.edges=Y,D.groups=G,D.graph=this,D.execute())},j._pluginInit=function(){var D=this;this.get("plugins").forEach(function(T){D._initPlugin(T)})},j._initPlugin=function(D){D.graph=this,D.init&&D.init()},j._getTimer=function(D){return this.get("_timers")[D]},j._setTimer=function(D,T){this.get("_timers")[D]=T},j._getController=function(D){return this.get("_controllers")[D]},j._initContainer=function(){var D=this.get("container");D||(D=this.get("id")),D=o.initDOMContainer(D,"graph");var T=o.createDOM('<div class="graph-container"></div>',{position:"relative"});D.appendChild(T),this.set("_containerDOM",D),this.set("_graphContainer",T)},j._initCanvas=function(){var D=this.get("_graphContainer"),T=this.get("width"),Y=this.get("height"),G=this.get("fontFamily"),U=this.get("renderer"),H={width:T,height:Y,fontFamily:G,renderer:U,eventEnable:!1,containerDOM:D};U==="svg"&&(H.pixelRatio=1);var J=new r.Canvas(H),ut=J.get("el");ut.style.top=0,ut.style.left=0,ut.style.overflow="hidden",this.set("_canvas",J);var $=this.getMouseEventWrapper();$.style.outline="none",$.style["user-select"]="none",$.setAttribute("tabindex",20);var K=J.addGroup(),ot=K.addGroup();this.set("_itemGroup",ot),this.set("_rootGroup",K)},j._initData=function(){this.set("_dataMap",{}),this.set("_itemMap",{_nodes:[],_edges:[],_groups:[],_guides:[]}),this.set("_data",{})},j._refresh=function(){},j.getKeyboardEventWrapper=function(){var D=this.get("keyboardEventWrapper");return D||this.getMouseEventWrapper()},j.getMouseEventWrapper=function(){return this.get("_canvas").get("el")},j.addPlugin=function(D){var T=this.get("plugins");this._initPlugin(D),T.push(D)},j.getGraphContainer=function(){return this.get("_graphContainer")},j._sortGroup=function(D){var T=this.get("_dataMap"),Y={};D.forEach(function(G){var U=G.id,H=G.parent;for(Y[U]=1;H&&T[H];)Y[U]++,H=T[H].parent}),D.sort(function(G,U){return Y[U.id]-Y[G.id]})},j._addItems=function(D,T){var Y=this;this._addDatas(D,T),D==="group"&&this._sortGroup(T);var G=o.upperFirst(D),U=p[G],H=this.get("_itemMap"),J=this.get("_itemGroup"),ut=this.get("_dataMap"),$=this.get("animate"),K=this.get("defaultIntersectBox");if(!U)throw new Error("please set valid item type!");T.forEach(function(ot){var at=new U({id:ot.id,type:D,model:ot,group:J.addGroup(),graph:Y,mapper:Y._getController(D+"Mapper"),itemMap:H,animate:$,dataMap:ut,defaultIntersectBox:K});H[ot.id]=at,H["_"+D+"s"].push(at)})},j._removeItems=function(D){var T=this.get("_dataMap"),Y=this.get("_itemMap");D.forEach(function(G){delete T[G.id],delete Y[G.id],o.Array.remove(Y["_"+G.type+"s"],G),G.destroy()})},j._updateItems=function(D,T){D.forEach(function(Y,G){var U=T[G];U&&o.mix(Y.getModel(),U),Y.update()})},j._getShowEdge=function(D){var T=D.getSource(),Y=D.getTarget();return(T.linkable&&T.isVisible()||!T.linkable)&&(Y.linkable&&Y.isVisible()||!Y.linkable)&&D},j._addDatas=function(D,T){var Y=this.get("_dataMap");T.forEach(function(G){if(o.isNil(G.id)&&(G.id=o.guid()),Y[G.id])throw new Error("id:"+G.id+" has already been set, please set new one");Y[G.id]=G})},j._drawInner=function(){var D=this.get("_data"),T=this.get("_itemGroup"),Y=this.get("_dataMap"),G=this.get("_itemMap");D.nodes&&this._addItems("node",D.nodes),D.groups&&this._addItems("group",D.groups),D.edges&&this._addItems("edge",D.edges),D.guides&&this._addItems("guide",D.guides),T.sortBy(function(U){var H=U.id,J=G[H],ut=Y[H];return ut&&!o.isNil(ut.index)?ut.index:!J||J.destroyed||o.isNil(J.zIndex)?void 0:J.zIndex})},j._clearInner=function(){this.getItems().forEach(function(D){D&&D.destroy()})},j.preventAnimate=function(D){return this.set("_forcePreventAnimate",!0),D(),this.set("_forcePreventAnimate",!1),this},j.getShapeObj=function(D,T){if(!o.isObject(D)){var Y=o.upperFirst(D),G=n[Y],U=this.get(D+"DefaultShape");return G.getShape(T.shape,U)}return D.getShapeObj()},j.getSource=function(){return this.get("_sourceData")},j.parseSource=function(D){return D},j.getCanvas=function(){return this.get("_canvas")},j.getRootGroup=function(){return this.get("_rootGroup")},j.getItemGroup=function(){return this.get("_itemGroup")},j.source=function(D){return this.emit("beforesource"),this.set("_data",D),this.set("_sourceData",D),this.emit("aftersource"),this},j.render=function(){return this.emit("beforerender"),this.emit("beforedrawinner"),this._drawInner(),this.emit("afterdrawinner"),this.emit("afterrender"),this},j.reRender=function(){var D=this.get("_sourceData");return this.read(D),this},j.setCapture=function(D){this.get("_rootGroup").set("capture",D)},j.destroy=function(){this.emit("beforedestroy");var D=this.get("_canvas"),T=this.get("_graphContainer"),Y=this.get("_controllers"),G=this.get("_timers"),U=this.get("_windowForceResizeEvent"),H=this.get("plugins");return o.each(G,function(J){clearTimeout(J)}),o.each(Y,function(J){J.destroy()}),H.forEach(function(J){J.destroy&&J.destroy()}),D&&D.destroy(),T.destroy(),window.removeEventListener("resize",U),this.emit("afterdestroy"),A.prototype.destroy.call(this),this},j.save=function(){var D={nodes:[],edges:[],groups:[],guides:[]};return this.get("_itemGroup").get("children").forEach(function(T,Y){var G=T.model;if(G){var U=T.itemType,H=o.clone(G);H.index=Y,D[U+"s"].push(H)}}),D.nodes.length===0&&delete D.nodes,D.edges.length===0&&delete D.edges,D.groups.length===0&&delete D.groups,D.guides.length===0&&delete D.guides,D},j.add=function(D,T){var Y=[],G={action:"add",model:T,affectedItemIds:Y};this.emit("beforechange",G);var U=this.get("_itemMap");this._addItems(D,[T]);var H=U[T.id];return H.getAllParents().forEach(function(J){J.update()}),G.item=H,Y.push(T.id),this.emit("afterchange",G),H},j.remove=function(D){if((D=this.getItem(D))&&!D.destroyed){var T=[],Y=[],G={action:"remove",item:D,affectedItemIds:Y};if(D.isNode){var U=D.getEdges();T=T.concat(U)}if(D.isGroup){var H=D.getEdges(),J=D.getAllChildren(),ut=D.getCrossEdges(),$=D.getInnerEdges();T=T.concat(H,J,ut,$),T=o.uniq(T)}T.push(D);var K=D.getAllParents();return K.forEach(function(ot){Y.push(ot.id)}),T.forEach(function(ot){Y.push(ot.id)}),this.emit("beforechange",G),this._removeItems(T),K.forEach(function(ot){ot.update()}),this.emit("afterchange",G),this}},j.simpleUpdate=function(D,T){return this._updateItems([D],[T]),this.draw(),this},j.update=function(D,T){var Y=this.get("_itemMap");if((D=this.getItem(D))&&!D.destroyed&&T){var G=this.get("animate"),U=[],H=[],J=[],ut=D.getModel(),$=o.mix({},ut),K={action:"update",item:D,originModel:$,updateModel:T,affectedItemIds:J},ot=Y[$.parent];if(U.push(D),H.push(T),J.push(D.id),ot&&ot!==parent&&o.isGroup(ot)&&D.getAllParents().forEach(function(ht){U.push(ht),H.push(null),J.push(ht.id)}),T.parent){var at=Y[T.parent];if(!at)throw new Error("there is no "+T.parent+" exist, please add a new one!");U.push(at),H.push(null),J.push(at.id),at.getAllParents().forEach(function(ht){U.push(ht),H.push(null),J.push(ht.id)})}return(D.isNode||D.isGroup)&&D.getEdges().forEach(function(ht){U.push(ht),H.push(null),J.push(ht.id)}),D.isGroup&&!o.isNil(T.collapsed)&&(G&&D.deepEach(function(ht){J.push(ht.id)}),D.getCrossEdges().forEach(function(ht){U.push(ht),H.push(null),J.push(ht.id)})),this.emit("beforechange",K),this._updateItems(U,H),this.emit("afterchange",K),this}},j.read=function(D){var T=this;if(!D)throw new Error("please read valid data!");var Y={action:"changeData",data:D};return this.emit("beforechange",Y),this.preventAnimate(function(){T.clear(),T.source(D),T.render()}),this.emit("afterchange",Y),this},j.clear=function(){return this.emit("beforeclear"),this._clearInner(),this._initData(),this.emit("afterclear"),this},j.hide=function(D){var T=[],Y=[],G={item:D=this.getItem(D),affectedItemIds:Y};return T.push(D),D.isNode&&D.getEdges().forEach(function(U){T.push(U)}),D.isGroup&&(D.getEdges().forEach(function(U){T.push(U)}),D.deepEach(function(U){T.push(U)})),(T=o.uniq(T)).forEach(function(U){Y.push(U.id)}),this.emit("beforehide",G),T.forEach(function(U){U.hide()}),this.emit("afterhide",G),this},j.show=function(D){var T=this,Y=[],G=[],U={item:D=this.getItem(D),affectedItemIds:G};if(D.visible=!0,D.isEdge){var H=this._getShowEdge(D);H&&Y.push(H)}else Y.push(D);return D.isNode&&D.getEdges().forEach(function(J){(J=T._getShowEdge(J))&&Y.push(J)}),D.isGroup&&(D.getEdges().forEach(function(J){(J=T._getShowEdge(J))&&Y.push(J)}),D.deepEach(function(J){Y.push(J)})),(Y=o.uniq(Y)).forEach(function(J){G.push(J.id)}),this.emit("beforeshow",U),Y.forEach(function(J){J.show()}),this.emit("aftershow",U),this},j.getWidth=function(){return this.get("width")},j.getHeight=function(){return this.get("height")},j.changeSize=function(D,T){if(!(Math.abs(D)>=1/0||Math.abs(T)>=1/0)){var Y=this.get("_canvas");return D===this.get("width")&&T===this.get("height")||(this.emit("beforechangesize"),Y.changeSize(D,T),this.set("width",D),this.set("height",T),this.emit("afterchangesize"),this.draw()),this}console.warn("size parameter more than the maximum")},j.toFront=function(D){D=this.getItem(D);var T=this.get("_itemGroup"),Y=D.getGraphicGroup();o.toFront(Y,T),this.draw()},j.toBack=function(D){D=this.getItem(D);var T=this.get("_itemGroup"),Y=D.getGraphicGroup();o.toBack(Y,T),this.draw()},j.css=function(D){var T=this.getGraphContainer();o.modifyCSS(T,D)},j.saveImage=function(D){var T=this.getBBox(),Y=this.getFitViewPadding();return new u(function(G){for(var U=1;U<arguments.length;U++){var H=arguments[U]!=null?arguments[U]:{},J=Object.keys(H);typeof Object.getOwnPropertySymbols=="function"&&(J=J.concat(Object.getOwnPropertySymbols(H).filter(function(ut){return Object.getOwnPropertyDescriptor(H,ut).enumerable}))),J.forEach(function(ut){d(G,ut,H[ut])})}return G}({graph:this,width:T.width+Y[1]+Y[3],height:T.height+Y[0]+Y[2]},D)).toCanvas()},B}(y);O.forEach(function(A){o.mix(E.prototype,A.AUGMENT)}),C.exports=E},function(C,x){var s={registerBehaviour:function(y,p,n){p.dependences=n,s[y]=p},resetMode:function(y,p){var n,o=[];p._off();for(var u=0;u<y.length;u++)(n=s[y[u]])&&(n.dependences&&n.dependences.forEach(function(r){r&&o.indexOf(r)===-1&&(s[r](p),o.push(r))}),n&&o.indexOf(n)===-1&&n(p))}};C.exports=s},function(C,x,s){var d=s(19),y=s(58),p=function n(o){n.superclass.constructor.call(this,o)};p.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},d.extend(p,y),d.augment(p,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var o=this._attrs.fontSize;o&&+o<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+o/12,+o/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var o=this._attrs,u=o.fontSize,r=o.fontFamily,i=o.fontWeight,a=o.fontStyle,c=o.fontVariant;o.font=[a,c,i,u+"px",r].join(" ")},_setAttrText:function(){var o=this._attrs,u=o.text,r=null;if(d.isString(u)&&u.indexOf(`
`)!==-1){var i=(r=u.split(`
`)).length;o.lineCount=i}o.textArr=r},_getTextHeight:function(){var o=this._attrs,u=o.lineCount,r=1*o.fontSize;return u>1?r*u+this._getSpaceingY()*(u-1):r},isHitBox:function(){return!1},calculateBox:function(){var o=this._attrs,u=this._cfg;u.attrs&&!u.hasUpdate||(this._assembleFont(),this._setAttrText()),o.textArr||this._setAttrText();var r=o.x,i=o.y,a=this.measureText();if(!a)return{minX:r,minY:i,maxX:r,maxY:i};var c=this._getTextHeight(),h=o.textAlign,v=o.textBaseline,f=this.getHitLineWidth(),m={x:r,y:i-c};h&&(h==="end"||h==="right"?m.x-=a:h==="center"&&(m.x-=a/2)),v&&(v==="top"?m.y+=c:v==="middle"&&(m.y+=c/2)),this.set("startPoint",m);var b=f/2;return{minX:m.x-b,minY:m.y-b,maxX:m.x+a+b,maxY:m.y+c+b}},_getSpaceingY:function(){var o=this._attrs,u=o.lineHeight,r=1*o.fontSize;return u?u-r:.14*r},drawInner:function(o){var u=this._attrs,r=this._cfg;r.attrs&&!r.hasUpdate||(this._assembleFont(),this._setAttrText()),o.font=u.font;var i=u.text;if(i){var a=u.textArr,c=u.x,h=u.y;if(o.beginPath(),this.hasStroke()){var v=u.strokeOpacity;d.isNil(v)||v===1||(o.globalAlpha=v),a?this._drawTextArr(o,!1):o.strokeText(i,c,h),o.globalAlpha=1}if(this.hasFill()){var f=u.fillOpacity;d.isNil(f)||f===1||(o.globalAlpha=f),a?this._drawTextArr(o,!0):o.fillText(i,c,h)}r.hasUpdate=!1}},_drawTextArr:function(o,u){var r,i=this._attrs.textArr,a=this._attrs.textBaseline,c=1*this._attrs.fontSize,h=this._getSpaceingY(),v=this._attrs.x,f=this._attrs.y,m=this.getBBox(),b=m.maxY-m.minY;d.each(i,function(M,O){r=f+O*(h+c)-b+c,a==="middle"&&(r+=b-c-(b-c)/2),a==="top"&&(r+=b-c),u?o.fillText(M,v,r):o.strokeText(M,v,r)})},measureText:function(){var o,u=this._attrs,r=u.text,i=u.font,a=u.textArr,c=0;if(!d.isNil(r)){var h=document.createElement("canvas").getContext("2d");return h.save(),h.font=i,a?d.each(a,function(v){o=h.measureText(v).width,c<o&&(c=o),h.restore()}):(c=h.measureText(r).width,h.restore()),c}}}),C.exports=p},function(C,x,s){var d=s(19),y=s(593).parseRadius,p=s(58),n=function o(u){o.superclass.constructor.call(this,u)};n.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},d.extend(n,p),d.augment(n,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var u=this._attrs,r=u.x,i=u.y,a=u.width,c=u.height,h=this.getHitLineWidth()/2;return{minX:r-h,minY:i-h,maxX:r+a+h,maxY:i+c+h}},createPath:function(u){var r=this._attrs,i=r.x,a=r.y,c=r.width,h=r.height,v=r.radius;if((u=u||this.get("context")).beginPath(),v===0)u.rect(i,a,c,h);else{var f=y(v);u.moveTo(i+f.r1,a),u.lineTo(i+c-f.r2,a),f.r2!==0&&u.arc(i+c-f.r2,a+f.r2,f.r2,-Math.PI/2,0),u.lineTo(i+c,a+h-f.r3),f.r3!==0&&u.arc(i+c-f.r3,a+h-f.r3,f.r3,0,Math.PI/2),u.lineTo(i+f.r4,a+h),f.r4!==0&&u.arc(i+f.r4,a+h-f.r4,f.r4,Math.PI/2,Math.PI),u.lineTo(i,a+f.r1),f.r1!==0&&u.arc(i+f.r1,a+f.r1,f.r1,Math.PI,1.5*Math.PI),u.closePath()}}}),C.exports=n},function(C,x,s){var d=s(19),y=s(58),p=s(601),n=s(603),o=function u(r){u.superclass.constructor.call(this,r)};o.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},d.extend(o,y),d.augment(o,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var r=this._attrs,i=this.getHitLineWidth(),a=r.points;if(!a||a.length===0)return null;var c=1/0,h=1/0,v=-1/0,f=-1/0;d.each(a,function(b){var M=b[0],O=b[1];M<c&&(c=M),M>v&&(v=M),O<h&&(h=O),O>f&&(f=O)});var m=i/2;return{minX:c-m,minY:h-m,maxX:v+m,maxY:f+m}},_setTcache:function(){var r,i,a=this._attrs.points,c=0,h=0,v=[];a&&a.length!==0&&(d.each(a,function(f,m){a[m+1]&&(c+=n.len(f[0],f[1],a[m+1][0],a[m+1][1]))}),c<=0||(d.each(a,function(f,m){a[m+1]&&((r=[])[0]=h/c,i=n.len(f[0],f[1],a[m+1][0],a[m+1][1]),h+=i,r[1]=h/c,v.push(r))}),this.tCache=v))},createPath:function(r){var i,a,c=this._attrs.points;if(!(c.length<2)){for((r=r||this.get("context")).beginPath(),r.moveTo(c[0][0],c[0][1]),a=1,i=c.length-1;a<i;a++)r.lineTo(c[a][0],c[a][1]);r.lineTo(c[i][0],c[i][1])}},getStartTangent:function(){var r=this.__attrs.points,i=[];return i.push([r[1][0],r[1][1]]),i.push([r[0][0],r[0][1]]),i},getEndTangent:function(){var r=this.__attrs.points,i=r.length-1,a=[];return a.push([r[i-1][0],r[i-1][1]]),a.push([r[i][0],r[i][1]]),a},afterPath:function(r){var i=this._attrs,a=i.points,c=a.length-1;r=r||this.get("context"),i.startArrow&&p.addStartArrow(r,i,a[1][0],a[1][1],a[0][0],a[0][1]),i.endArrow&&p.addEndArrow(r,i,a[c-1][0],a[c-1][1],a[c][0],a[c][1])},getPoint:function(r){var i,a,c=this._attrs.points,h=this.tCache;return h||(this._setTcache(),h=this.tCache),d.each(h,function(v,f){r>=v[0]&&r<=v[1]&&(i=(r-v[0])/(v[1]-v[0]),a=f)}),{x:n.at(c[a][0],c[a+1][0],i),y:n.at(c[a][1],c[a+1][1],i)}}}),C.exports=o},function(C,x,s){var d=s(19),y=s(58),p=function n(o){n.superclass.constructor.call(this,o)};p.ATTRS={points:null,lineWidth:1},d.extend(p,y),d.augment(p,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this._attrs.points,u=this.getHitLineWidth();if(!o||o.length===0)return null;var r=1/0,i=1/0,a=-1/0,c=-1/0;d.each(o,function(v){var f=v[0],m=v[1];f<r&&(r=f),f>a&&(a=f),m<i&&(i=m),m>c&&(c=m)});var h=u/2;return{minX:r-h,minY:i-h,maxX:a+h,maxY:c+h}},createPath:function(o){var u=this._attrs.points;u.length<2||((o=o||this.get("context")).beginPath(),d.each(u,function(r,i){i===0?o.moveTo(r[0],r[1]):o.lineTo(r[0],r[1])}),o.closePath())}}),C.exports=p},function(C,x,s){var d=s(19),y=s(58),p=s(600),n=s(593),o=s(601),u=s(610),r=s(612),i=function a(c){a.superclass.constructor.call(this,c)};i.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},d.extend(i,y),d.augment(i,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(c){if(d.isNil(c))return this.setSilent("segments",null),void this.setSilent("box",void 0);var h,v=n.parsePath(c),f=[];if(d.isArray(v)&&v.length!==0&&(v[0][0]==="M"||v[0][0]==="m")){for(var m=v.length,b=0;b<v.length;b++){var M=v[b];h=new p(M,h,b===m-1),f.push(h)}this.setSilent("segments",f),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var c=this.get("segments");if(!c)return null;var h=this.getHitLineWidth(),v=1/0,f=-1/0,m=1/0,b=-1/0;return d.each(c,function(M){M.getBBox(h);var O=M.box;O&&(O.minX<v&&(v=O.minX),O.maxX>f&&(f=O.maxX),O.minY<m&&(m=O.minY),O.maxY>b&&(b=O.maxY))}),v===1/0||m===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:v,minY:m,maxX:f,maxY:b}},_setTcache:function(){var c,h,v,f,m=0,b=0,M=[],O=this._cfg.curve;O&&(d.each(O,function(E,A){v=O[A+1],f=E.length,v&&(m+=r.len(E[f-2],E[f-1],v[1],v[2],v[3],v[4],v[5],v[6]))}),d.each(O,function(E,A){v=O[A+1],f=E.length,v&&((c=[])[0]=b/m,h=r.len(E[f-2],E[f-1],v[1],v[2],v[3],v[4],v[5],v[6]),b+=h,c[1]=b/m,M.push(c))}),this._cfg.tCache=M)},_calculateCurve:function(){var c=this._attrs.path;this._cfg.curve=u.pathTocurve(c)},getStartTangent:function(){var c,h,v,f,m=this.get("segments");if(m.length>1)if(c=m[0].endPoint,h=m[1].endPoint,v=m[1].startTangent,f=[],d.isFunction(v)){var b=v();f.push([c.x-b[0],c.y-b[1]]),f.push([c.x,c.y])}else f.push([h.x,h.y]),f.push([c.x,c.y]);return f},getEndTangent:function(){var c,h,v,f,m=this.get("segments"),b=m.length;if(b>1)if(c=m[b-2].endPoint,h=m[b-1].endPoint,v=m[b-1].endTangent,f=[],d.isFunction(v)){var M=v();f.push([h.x-M[0],h.y-M[1]]),f.push([h.x,h.y])}else f.push([c.x,c.y]),f.push([h.x,h.y]);return f},getPoint:function(c){var h,v,f=this._cfg.tCache;f||(this._calculateCurve(),this._setTcache(),f=this._cfg.tCache);var m=this._cfg.curve;if(!f)return m?{x:m[0][1],y:m[0][2]}:null;d.each(f,function(E,A){c>=E[0]&&c<=E[1]&&(h=(c-E[0])/(E[1]-E[0]),v=A)});var b=m[v];if(d.isNil(b)||d.isNil(v))return null;var M=b.length,O=m[v+1];return{x:r.at(b[M-2],O[1],O[3],O[5],1-h),y:r.at(b[M-1],O[2],O[4],O[6],1-h)}},createPath:function(c){var h=this.get("segments");if(d.isArray(h)){(c=c||this.get("context")).beginPath();for(var v=h.length,f=0;f<v;f++)h[f].draw(c)}},afterPath:function(c){var h=this._attrs,v=this.get("segments"),f=h.path;if(c=c||this.get("context"),d.isArray(v)&&v.length!==1&&(h.startArrow||h.endArrow)&&f[f.length-1]!=="z"&&f[f.length-1]!=="Z"&&!h.fill){var m=this.getStartTangent();o.addStartArrow(c,h,m[0][0],m[0][1],m[1][0],m[1][1]);var b=this.getEndTangent();o.addEndArrow(c,h,b[0][0],b[0][1],b[1][0],b[1][1])}}}),C.exports=i},function(C,x,s){var d=s(19),y=s(58),p=s(601),n=s(603),o=function u(r){u.superclass.constructor.call(this,r)};o.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},d.extend(o,y),d.augment(o,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var r=this._attrs,i=r.x1,a=r.y1,c=r.x2,h=r.y2,v=this.getHitLineWidth();return n.box(i,a,c,h,v)},createPath:function(r){var i=this._attrs,a=i.x1,c=i.y1,h=i.x2,v=i.y2;(r=r||self.get("context")).beginPath(),r.moveTo(a,c),r.lineTo(h,v)},afterPath:function(r){var i=this._attrs,a=i.x1,c=i.y1,h=i.x2,v=i.y2;r=r||this.get("context"),i.startArrow&&p.addStartArrow(r,i,h,v,a,c),i.endArrow&&p.addEndArrow(r,i,a,c,h,v)},getPoint:function(r){var i=this._attrs;return{x:n.at(i.x1,i.x2,r),y:n.at(i.y1,i.y2,r)}}}),C.exports=o},function(C,x,s){var d=s(19),y=s(58),p=function n(o){n.superclass.constructor.call(this,o)};p.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},d.extend(p,y),d.augment(p,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var o=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===o.img||this._setAttrImg();var u=o.x,r=o.y;return{minX:u,minY:r,maxX:u+o.width,maxY:r+o.height}},_beforeSetLoading:function(o){var u=this.get("canvas");return o===!1&&this.get("toDraw")===!0&&(this._cfg.loading=!1,u.draw()),o},_setAttrImg:function(){var o=this,u=o._attrs,r=u.img;if(!d.isString(r))return r instanceof Image?(u.width||o.attr("width",r.width),u.height||o.attr("height",r.height),r):r instanceof HTMLElement&&d.isString(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"?(u.width||o.attr("width",Number(r.getAttribute("width"))),u.height||o.attr("height",Number(r.getAttribute("height"))),r):r instanceof ImageData?(u.width||o.attr("width",r.width),u.height||o.attr("height",r.height),r):null;var i=new Image;i.onload=function(){if(o.get("destroyed"))return!1;o.attr("imgSrc",r),o.attr("img",i);var a=o.get("callback");a&&a.call(o),o.set("loading",!1)},i.src=r,i.crossOrigin="Anonymous",o.set("loading",!0)},drawInner:function(o){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(o),this._cfg.hasUpdate=!1)},_drawImage:function(o){var u=this._attrs,r=u.x,i=u.y,a=u.img,c=u.width,h=u.height,v=u.sx,f=u.sy,m=u.swidth,b=u.sheight;this.set("toDraw",!1);var M=a;if(M instanceof ImageData&&((M=new Image).src=a),M instanceof Image||M instanceof HTMLElement&&d.isString(M.nodeName)&&M.nodeName.toUpperCase()==="CANVAS"){if(d.isNil(v)||d.isNil(f)||d.isNil(m)||d.isNil(b))return void o.drawImage(M,r,i,c,h);if(!(d.isNil(v)||d.isNil(f)||d.isNil(m)||d.isNil(b)))return void o.drawImage(M,v,f,m,b,r,i,c,h)}}}),C.exports=p},function(C,x,s){var d=s(19),y=s(58),p=s(602),n=function o(u){o.superclass.constructor.call(this,u)};n.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},d.extend(n,y),d.augment(n,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var u=this._attrs,r=u.x,i=u.y,a=u.rs,c=u.re,h=u.startAngle,v=u.endAngle,f=u.clockwise,m=this.getHitLineWidth(),b=p.box(r,i,a,h,v,f),M=p.box(r,i,c,h,v,f),O=m/2;return{minX:Math.min(b.minX,M.minX)-O,minY:Math.min(b.minY,M.minY)-O,maxX:Math.max(b.maxX,M.maxX)+O,maxY:Math.max(b.maxY,M.maxY)+O}},createPath:function(u){var r=this._attrs,i=r.x,a=r.y,c=r.rs,h=r.re,v=r.startAngle,f=r.endAngle,m=r.clockwise,b={x:Math.cos(v)*c+i,y:Math.sin(v)*c+a},M={x:Math.cos(v)*h+i,y:Math.sin(v)*h+a},O={x:Math.cos(f)*c+i,y:Math.sin(f)*c+a};(u=u||self.get("context")).beginPath(),u.moveTo(b.x,b.y),u.lineTo(M.x,M.y),u.arc(i,a,h,v,f,m),u.lineTo(O.x,O.y),u.arc(i,a,c,f,v,!m),u.closePath()}}),C.exports=n},function(C,x,s){var d=s(19),y=s(58),p=function n(o){n.superclass.constructor.call(this,o)};p.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},d.extend(p,y),d.augment(p,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this._attrs,u=o.x,r=o.y,i=o.rx,a=o.ry,c=this.getHitLineWidth(),h=i+c/2,v=a+c/2;return{minX:u-h,minY:r-v,maxX:u+h,maxY:r+v}},createPath:function(o){var u=this._attrs,r=u.x,i=u.y,a=u.rx,c=u.ry;o=o||self.get("context");var h=a>c?a:c,v=a>c?1:a/c,f=a>c?c/a:1,m=[1,0,0,0,1,0,0,0,1];d.mat3.scale(m,m,[v,f]),d.mat3.translate(m,m,[r,i]),o.beginPath(),o.save(),o.transform(m[0],m[1],m[3],m[4],m[6],m[7]),o.arc(0,0,h,0,2*Math.PI),o.restore(),o.closePath()}}),C.exports=p},function(C,x,s){var d=s(19),y=s(58),p=function n(o){n.superclass.constructor.call(this,o)};d.extend(p,y),d.augment(p,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var o=this._attrs,u=o.x,r=o.y,i=o.width,a=o.height,c=this.getHitLineWidth()/2;return{minX:u-c,minY:r-c,maxX:u+i+c,maxY:r+a+c}}}),C.exports=p},function(C,x,s){var d=s(19),y=s(58),p=function n(o){n.superclass.constructor.call(this,o)};p.ATTRS={x:0,y:0,r:0,lineWidth:1},d.extend(p,y),d.augment(p,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var o=this._attrs,u=o.x,r=o.y,i=o.r,a=this.getHitLineWidth()/2+i;return{minX:u-a,minY:r-a,maxX:u+a,maxY:r+a}},createPath:function(o){var u=this._attrs,r=u.x,i=u.y,a=u.r;o.beginPath(),o.arc(r,i,a,0,2*Math.PI,!1),o.closePath()}}),C.exports=p},function(C,x,s){var d=s(19),y=s(58),p=s(602),n=s(601);function o(i,a,c){return i+a*Math.cos(c)}function u(i,a,c){return i+a*Math.sin(c)}var r=function i(a){i.superclass.constructor.call(this,a)};r.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},d.extend(r,y),d.augment(r,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var a=this._attrs,c=a.x,h=a.y,v=a.r,f=a.startAngle,m=a.endAngle,b=a.clockwise,M=this.getHitLineWidth()/2,O=p.box(c,h,v,f,m,b);return O.minX-=M,O.minY-=M,O.maxX+=M,O.maxY+=M,O},getStartTangent:function(){var a=this._attrs,c=a.x,h=a.y,v=a.startAngle,f=a.r,m=a.clockwise,b=Math.PI/180;m&&(b*=-1);var M=[],O=o(c,f,v+b),E=u(h,f,v+b),A=o(c,f,v),j=u(h,f,v);return M.push([O,E]),M.push([A,j]),M},getEndTangent:function(){var a=this._attrs,c=a.x,h=a.y,v=a.endAngle,f=a.r,m=a.clockwise,b=Math.PI/180,M=[];m&&(b*=-1);var O=o(c,f,v+b),E=u(h,f,v+b),A=o(c,f,v),j=u(h,f,v);return M.push([A,j]),M.push([O,E]),M},createPath:function(a){var c=this._attrs,h=c.x,v=c.y,f=c.r,m=c.startAngle,b=c.endAngle,M=c.clockwise;(a=a||self.get("context")).beginPath(),a.arc(h,v,f,m,b,M)},afterPath:function(a){var c=this._attrs;if(a=a||this.get("context"),c.startArrow){var h=this.getStartTangent();n.addStartArrow(a,c,h[0][0],h[0][1],h[1][0],h[1][1])}if(c.endArrow){var v=this.getEndTangent();n.addEndArrow(a,c,v[0][0],v[0][1],v[1][0],v[1][1])}}}),C.exports=r},function(C,x){C.exports={xAt:function(d,y,p,n,o){return y*Math.cos(d)*Math.cos(o)-p*Math.sin(d)*Math.sin(o)+n},yAt:function(d,y,p,n,o){return y*Math.sin(d)*Math.cos(o)+p*Math.cos(d)*Math.sin(o)+n},xExtrema:function(d,y,p){return Math.atan(-p/y*Math.tan(d))},yExtrema:function(d,y,p){return Math.atan(p/(y*Math.tan(d)))}}},function(C,x,s){var d=s(19),y=d.vec2;function p(o,u,r,i){var a=1-i;return a*(a*o+2*i*u)+i*i*r}function n(o,u,r,i,a,c,h,v,f){var m,b,M,O,E,A,j,B=.005,D=1/0,T=[h,v];for(E=0;E<1;E+=.05)M=[p(o,r,a,E),p(u,i,c,E)],(b=y.squaredDistance(T,M))<D&&(m=E,D=b);for(D=1/0,j=0;j<32&&!(B<1e-4);j++){var Y=m-B,G=m+B;M=[p(o,r,a,Y),p(u,i,c,Y)],b=y.squaredDistance(T,M),Y>=0&&b<D?(m=Y,D=b):(O=[p(o,r,a,G),p(u,i,c,G)],A=y.squaredDistance(T,O),G<=1&&A<D?(m=G,D=A):B*=.5)}return f&&(f.x=p(o,r,a,m),f.y=p(u,i,c,m)),Math.sqrt(D)}C.exports={at:p,projectPoint:function(u,r,i,a,c,h,v,f){var m={};return n(u,r,i,a,c,h,v,f,m),m},pointDistance:n,extrema:function(u,r,i){var a=u+i-2*r;if(d.isNumberEqual(a,0))return[.5];var c=(u-r)/a;return c<=1&&c>=0?[c]:[]}}},function(C,x,s){var d=s(19),y=s(746),p=s(745),n=s(744),o=s(116),u=function(i){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},d.assign(this._cfg,this.getDefaultCfg(),i),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};u.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},d.augment(u,y,p,o,n,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(i,a){return i==="zIndex"&&this._beforeSetZIndex&&this._beforeSetZIndex(a),i==="loading"&&this._beforeSetLoading&&this._beforeSetLoading(a),this._cfg[i]=a,this},setSilent:function(i,a){this._cfg[i]=a},get:function(i){return this._cfg[i]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(i,a){var c=this._cfg,h=c.parent,v=c.el;return h&&d.remove(h.get("children"),this),v&&(a?h&&h._cfg.tobeRemoved.push(v):v.parentNode.removeChild(v)),(i||i===void 0)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var i=this._cfg,a=i.parent;if(a){var c=a._cfg.children,h=i.el,v=c.indexOf(this);c.splice(v,1),c.push(this),h&&(h.parentNode.removeChild(h),i.el=null)}},toBack:function(){var i=this._cfg,a=i.parent;if(a){var c=a._cfg.children,h=i.el,v=c.indexOf(this);if(c.splice(v,1),c.unshift(this),h){var f=h.parentNode;f.removeChild(h),f.insertBefore(h,f.firstChild)}}},_beforeSetZIndex:function(i){var a=this._cfg.parent;this._cfg.zIndex=i,d.isNil(a)||a.sort();var c=this._cfg.el;if(c){var h=a._cfg.children,v=h.indexOf(this),f=c.parentNode;f.removeChild(c),v===h.length-1?f.appendChild(c):f.insertBefore(c,f.childNodes[v])}return i},_setAttrs:function(i){return this.attr(i),i},setZIndex:function(i){return this._cfg.zIndex=i,this._beforeSetZIndex(i)},clone:function(){return d.clone(this)},getBBox:function(){}}),C.exports=u},function(C,x,s){var d=s(19),y=s(641),p=s(743),n={},o="_INDEX";function u(i,a,c){for(var h,v=i.length-1;v>=0;v--){var f=i[v];if(f._cfg.visible&&f._cfg.capture&&(f.isGroup?h=f.getShape(a,c):f.isHit(a,c)&&(h=f)),h)break}return h}var r=function i(a){i.superclass.constructor.call(this,a),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};d.extend(r,y),d.augment(r,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function a(c){if(!c._cfg&&c!==r){var h=c.superclass.constructor;h&&!h._cfg&&a(h),c._cfg={},d.merge(c._cfg,h._cfg),d.merge(c._cfg,c.CFG)}}(this.constructor),d.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(a,c){var h=this.get("canvas");c=c||{};var v=n[a];if(v||(v=d.upperFirst(a),n[a]=v),c.attrs&&h){var f=c.attrs;if(a==="text"){var m=h.get("fontFamily");m&&(f.fontFamily=f.fontFamily?f.fontFamily:m)}}c.canvas=h,c.type=a;var b=new p[v](c);return this.add(b),b},addGroup:function(a,c){var h,v=this.get("canvas");if(c=d.merge({},c),d.isFunction(a))c?(c.canvas=v,c.parent=this,h=new a(c)):h=new a({canvas:v,parent:this}),this.add(h);else if(d.isObject(a))a.canvas=v,h=new r(a),this.add(h);else{if(a!==void 0)return!1;h=new r,this.add(h)}return h},renderBack:function(a,c){var h=this.get("backShape"),v=this.getBBox();return d.merge(c,{x:v.minX-a[3],y:v.minY-a[0],width:v.width+a[1]+a[3],height:v.height+a[0]+a[2]}),h?h.attr(c):h=this.addShape("rect",{zIndex:-1,attrs:c}),this.set("backShape",h),this.sort(),h},removeChild:function(a,c){if(arguments.length>=2)this.contain(a)&&a.remove(c);else{if(arguments.length===1){if(!d.isBoolean(a))return this.contain(a)&&a.remove(!0),this;c=a}arguments.length===0&&(c=!0),r.superclass.remove.call(this,c)}return this},add:function(a){var c=this,h=c.get("children");if(d.isArray(a))d.each(a,function(m){var b=m.get("parent");b&&b.removeChild(m,!1),c._setCfgProperty(m)}),c._cfg.children=h.concat(a);else{var v=a,f=v.get("parent");f&&f.removeChild(v,!1),c._setCfgProperty(v),h.push(v)}return c},_setCfgProperty:function(a){var c=this._cfg;a.set("parent",this),a.set("canvas",c.canvas),c.timeline&&a.set("timeline",c.timeline)},contain:function(a){return this.get("children").indexOf(a)>-1},getChildByIndex:function(a){return this.get("children")[a]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var a=this.get("children").length-1;return this.getChildByIndex(a)},getBBox:function(){var a=1/0,c=-1/0,h=1/0,v=-1/0,f=this.get("children");f.length>0?d.each(f,function(b){if(b.get("visible")){if(b.isGroup&&b.get("children").length===0)return;var M=b.getBBox();if(!M)return!0;var O=[M.minX,M.minY,1],E=[M.minX,M.maxY,1],A=[M.maxX,M.minY,1],j=[M.maxX,M.maxY,1];b.apply(O),b.apply(E),b.apply(A),b.apply(j);var B=Math.min(O[0],E[0],A[0],j[0]),D=Math.max(O[0],E[0],A[0],j[0]),T=Math.min(O[1],E[1],A[1],j[1]),Y=Math.max(O[1],E[1],A[1],j[1]);B<a&&(a=B),D>c&&(c=D),T<h&&(h=T),Y>v&&(v=Y)}}):(a=0,c=0,h=0,v=0);var m={minX:a,minY:h,maxX:c,maxY:v};return m.x=m.minX,m.y=m.minY,m.width=m.maxX-m.minX,m.height=m.maxY-m.minY,m},getCount:function(){return this.get("children").length},sort:function(){var a=this.get("children");return d.each(a,function(c,h){return c[o]=h,c}),a.sort(function(c){return function(h,v){var f=c(h,v);return f===0?h[o]-v[o]:f}}(function(c,h){return c.get("zIndex")-h.get("zIndex")})),this},findById:function(a){return this.find(function(c){return c.get("id")===a})},find:function(a){if(d.isString(a))return this.findById(a);var c=this.get("children"),h=null;return d.each(c,function(v){if(a(v)?h=v:v.find&&(h=v.find(a)),h)return!1}),h},findAll:function(a){var c=this.get("children"),h=[],v=[];return d.each(c,function(f){a(f)&&h.push(f),f.findAllBy&&(v=f.findAllBy(a),h=h.concat(v))}),h},findBy:function(a){var c=this.get("children"),h=null;return d.each(c,function(v){if(a(v)?h=v:v.findBy&&(h=v.findBy(a)),h)return!1}),h},findAllBy:function(a){var c=this.get("children"),h=[],v=[];return d.each(c,function(f){a(f)&&h.push(f),f.findAllBy&&(v=f.findAllBy(a),h=h.concat(v))}),h},getShape:function(a,c){var h,v=this._attrs.clip,f=this._cfg.children;if(v){var m=[a,c,1];v.invert(m,this.get("canvas")),v.isPointInPath(m[0],m[1])&&(h=u(f,a,c))}else h=u(f,a,c);return h},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var a=this._cfg.children,c=0;c<a.length;c++)a[c].clearTotalMatrix()}},clear:function(a){for(var c=this._cfg.children,h=c.length-1;h>=0;h--)c[h].remove(!0,a);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),r.superclass.destroy.call(this))},clone:function(){var a=this._cfg.children,c=new r;return d.each(a,function(h){c.add(h.clone())}),c}}),C.exports=r},function(C,x,s){var d=s(19),y=function(n,o,u,r){this.type=n,this.target=null,this.currentTarget=null,this.bubbles=u,this.cancelable=r,this.timeStamp=new Date().getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=o};d.augment(y,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return d.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),C.exports=y},function(C,x,s){C.exports={isFunction:s(84),isObject:s(621),isBoolean:s(653),isNil:s(237),isString:s(595),isArray:s(45),isNumber:s(236),isEmpty:s(647),uniqueId:s(646),clone:s(616),deepMix:s(615),assign:s(606),merge:s(615),upperFirst:s(655),each:s(46),isEqual:s(614),toArray:s(604),extend:s(650),augment:s(651),remove:s(676),isNumberEqual:s(673),toRadian:s(669),toDegree:s(671),mod:s(672),clamp:s(618),createDom:s(681),modifyCSS:s(680),requestAnimationFrame:s(679),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:s(617),vec2:s(668),vec3:s(667),transform:s(666)}},function(C,x,s){var d=s(16),y=s(253),p=s(251),n="Expected a function",o=Math.max,u=Math.min;C.exports=function(r,i,a){var c,h,v,f,m,b,M=0,O=!1,E=!1,A=!0;if(typeof r!="function")throw new TypeError(n);function j(G){var U=c,H=h;return c=h=void 0,M=G,f=r.apply(H,U)}function B(G){var U=G-b;return b===void 0||U>=i||U<0||E&&G-M>=v}function D(){var G=y();if(B(G))return T(G);m=setTimeout(D,function(U){var H=i-(U-b);return E?u(H,v-(U-M)):H}(G))}function T(G){return m=void 0,A&&c?j(G):(c=h=void 0,f)}function Y(){var G=y(),U=B(G);if(c=arguments,h=this,b=G,U){if(m===void 0)return function(H){return M=H,m=setTimeout(D,i),O?j(H):f}(b);if(E)return m=setTimeout(D,i),j(b)}return m===void 0&&(m=setTimeout(D,i)),f}return i=p(i)||0,d(a)&&(O=!!a.leading,v=(E="maxWait"in a)?o(p(a.maxWait)||0,i):v,A="trailing"in a?!!a.trailing:A),Y.cancel=function(){m!==void 0&&clearTimeout(m),M=0,c=b=h=m=void 0},Y.flush=function(){return m===void 0?f:T(y())},Y}},function(C,x){var s=function(){var d={};return function(y){return d[y=y||"g"]?d[y]+=1:d[y]=1,y+d[y]}}();C.exports=s},function(C,x,s){var d=s(237),y=s(118),p=s(654),n=s(652),o=Object.prototype.hasOwnProperty;C.exports=function(u){if(d(u))return!0;if(y(u))return!u.length;var r=p(u);if(r==="Map"||r==="Set")return!u.size;if(n(u))return!Object.keys(u).length;for(var i in u)if(o.call(u,i))return!1;return!0}},function(C,x,s){var d=s(46),y=s(45),p=Object.prototype.hasOwnProperty;C.exports=function(n,o){if(!o||!y(n))return n;var u={},r=null;return d(n,function(i){r=o(i),p.call(u,r)?u[r].push(i):u[r]=[i]}),u}},function(C,x,s){var d=s(84),y=s(45),p=s(648);C.exports=function(n,o){if(!o)return{0:n};if(!d(o)){var u=y(o)?o:o.replace(/\s+/g,"").split("*");o=function(i){for(var a="_",c=0,h=u.length;c<h;c++)a+=i[u[c]]&&i[u[c]].toString();return a}}return p(n,o)}},function(C,x,s){var d=s(84),y=s(606);C.exports=function(p,n,o,u){d(n)||(o=n,n=p,p=function(){});var r=Object.create?function(a,c){return Object.create(a,{constructor:{value:c}})}:function(a,c){function h(){}h.prototype=a;var v=new h;return v.constructor=c,v},i=r(n.prototype,p);return p.prototype=y(i,p.prototype),p.superclass=r(n.prototype,n),y(i,o),y(p,u),p}},function(C,x,s){var d=s(84),y=s(604),p=s(606);C.exports=function(n){for(var o=y(arguments),u=1;u<o.length;u++){var r=o[u];d(r)&&(r=r.prototype),p(n.prototype,r)}}},function(C,x){var s=Object.prototype;C.exports=function(d){var y=d&&d.constructor;return d===(typeof y=="function"&&y.prototype||s)}},function(C,x,s){var d=s(115);C.exports=function(y){return d(y,"Boolean")}},function(C,x){var s={}.toString;C.exports=function(d){return s.call(d).replace(/^\[object /,"").replace(/\]$/,"")}},function(C,x,s){var d=s(594);C.exports=function(y){var p=d(y);return p.charAt(0).toUpperCase()+p.substring(1)}},function(C,x,s){var d=s(594);C.exports=function(y){return d(y).toUpperCase()}},function(C,x,s){var d=s(594);C.exports=function(y){return d(y).toLowerCase()}},function(C,x){C.exports=function(s,d){for(var y=[],p=0,n=s.length;n-2*!d>p;p+=2){var o=[{x:+s[p-2],y:+s[p-1]},{x:+s[p],y:+s[p+1]},{x:+s[p+2],y:+s[p+3]},{x:+s[p+4],y:+s[p+5]}];d?p?n-4===p?o[3]={x:+s[0],y:+s[1]}:n-2===p&&(o[2]={x:+s[0],y:+s[1]},o[3]={x:+s[2],y:+s[3]}):o[0]={x:+s[n-2],y:+s[n-1]}:n-4===p?o[3]=o[2]:p||(o[0]={x:+s[p],y:+s[p+1]}),y.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return y}},function(C,x){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,y=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),p=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig");C.exports=function(n){if(!n)return null;if((n===void 0?"undefined":s(n))===s([]))return n;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},u=[];return String(n).replace(y,function(r,i,a){var c=[],h=i.toLowerCase();if(a.replace(p,function(v,f){f&&c.push(+f)}),h==="m"&&c.length>2&&(u.push([i].concat(c.splice(0,2))),h="l",i=i==="m"?"l":"L"),h==="o"&&c.length===1&&u.push([i,c[0]]),h==="r")u.push([i].concat(c));else for(;c.length>=o[h]&&(u.push([i].concat(c.splice(0,o[h]))),o[h]););}),u}},function(C,x,s){var d=s(659),y=s(658);function p(n,o,u,r,i){var a=[];if(i===null&&r===null&&(r=u),n=+n,o=+o,u=+u,r=+r,i!==null){var c=Math.PI/180,h=n+u*Math.cos(-r*c),v=n+u*Math.cos(-i*c);a=[["M",h,o+u*Math.sin(-r*c)],["A",u,u,0,+(i-r>180),0,v,o+u*Math.sin(-i*c)]]}else a=[["M",n,o],["m",0,-r],["a",u,r,0,1,1,0,2*r],["a",u,r,0,1,1,0,-2*r],["z"]];return a}C.exports=function(n){if(!(n=d(n))||!n.length)return[["M",0,0]];var o=[],u=0,r=0,i=0,a=0,c=0,h=void 0,v=void 0;n[0][0]==="M"&&(i=u=+n[0][1],a=r=+n[0][2],c++,o[0]=["M",u,r]);for(var f,m,b=n.length===3&&n[0][0]==="M"&&n[1][0].toUpperCase()==="R"&&n[2][0].toUpperCase()==="Z",M=c,O=n.length;M<O;M++){if(o.push(f=[]),(h=(m=n[M])[0])!==h.toUpperCase())switch(f[0]=h.toUpperCase(),f[0]){case"A":f[1]=m[1],f[2]=m[2],f[3]=m[3],f[4]=m[4],f[5]=m[5],f[6]=+m[6]+u,f[7]=+m[7]+r;break;case"V":f[1]=+m[1]+r;break;case"H":f[1]=+m[1]+u;break;case"R":for(var E=2,A=(v=[u,r].concat(m.slice(1))).length;E<A;E++)v[E]=+v[E]+u,v[++E]=+v[E]+r;o.pop(),o=o.concat(y(v,b));break;case"O":o.pop(),(v=p(u,r,m[1],m[2])).push(v[0]),o=o.concat(v);break;case"U":o.pop(),o=o.concat(p(u,r,m[1],m[2],m[3])),f=["U"].concat(o[o.length-1].slice(-2));break;case"M":i=+m[1]+u,a=+m[2]+r;break;default:for(var j=1,B=m.length;j<B;j++)f[j]=+m[j]+(j%2?u:r)}else if(h==="R")v=[u,r].concat(m.slice(1)),o.pop(),o=o.concat(y(v,b)),f=["R"].concat(m.slice(-2));else if(h==="O")o.pop(),(v=p(u,r,m[1],m[2])).push(v[0]),o=o.concat(v);else if(h==="U")o.pop(),o=o.concat(p(u,r,m[1],m[2],m[3])),f=["U"].concat(o[o.length-1].slice(-2));else for(var D=0,T=m.length;D<T;D++)f[D]=m[D];if((h=h.toUpperCase())!=="O")switch(f[0]){case"Z":u=+i,r=+a;break;case"H":u=f[1];break;case"V":r=f[1];break;case"M":i=f[f.length-2],a=f[f.length-1];break;default:u=f[f.length-2],r=f[f.length-1]}}return o}},function(C,x,s){var d=s(660),y=function(o,u,r,i){return[o,u,r,i,r,i]},p=function(o,u,r,i,a,c){return[1/3*o+2/3*r,1/3*u+2/3*i,1/3*a+2/3*r,1/3*c+2/3*i,a,c]};C.exports=function(n,o){var u=d(n),r=o&&d(o),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],h=[],v="",f="",m=void 0,b=function(Y,G,U){var H=void 0,J=void 0;if(!Y)return["C",G.x,G.y,G.x,G.y,G.x,G.y];switch(!(Y[0]in{T:1,Q:1})&&(G.qx=G.qy=null),Y[0]){case"M":G.X=Y[1],G.Y=Y[2];break;case"A":Y=["C"].concat(function ut($,K,ot,at,ht,St,pt,xt,vt,gt){ot===at&&(ot+=1);var _t=120*Math.PI/180,Bt=Math.PI/180*(+ht||0),At=[],It=void 0,lt=void 0,X=void 0,V=void 0,Z=void 0,W=function(De,we,Be){return{x:De*Math.cos(Be)-we*Math.sin(Be),y:De*Math.sin(Be)+we*Math.cos(Be)}};if(gt)lt=gt[0],X=gt[1],V=gt[2],Z=gt[3];else{$=(It=W($,K,-Bt)).x,K=It.y,xt=(It=W(xt,vt,-Bt)).x,vt=It.y,$===xt&&K===vt&&(xt+=1,vt+=1);var rt=($-xt)/2,tt=(K-vt)/2,Q=rt*rt/(ot*ot)+tt*tt/(at*at);Q>1&&(ot*=Q=Math.sqrt(Q),at*=Q);var ft=ot*ot,Et=at*at,Ct=(St===pt?-1:1)*Math.sqrt(Math.abs((ft*Et-ft*tt*tt-Et*rt*rt)/(ft*tt*tt+Et*rt*rt)));V=Ct*ot*tt/at+($+xt)/2,Z=Ct*-at*rt/ot+(K+vt)/2,lt=Math.asin(((K-Z)/at).toFixed(9)),X=Math.asin(((vt-Z)/at).toFixed(9)),lt=$<V?Math.PI-lt:lt,X=xt<V?Math.PI-X:X,lt<0&&(lt=2*Math.PI+lt),X<0&&(X=2*Math.PI+X),pt&&lt>X&&(lt-=2*Math.PI),!pt&&X>lt&&(X-=2*Math.PI)}var Nt=X-lt;if(Math.abs(Nt)>_t){var Ft=X,Rt=xt,kt=vt;X=lt+_t*(pt&&X>lt?1:-1),At=ut(xt=V+ot*Math.cos(X),vt=Z+at*Math.sin(X),ot,at,ht,0,pt,Rt,kt,[X,Ft,V,Z])}Nt=X-lt;var Pt=Math.cos(lt),Xt=Math.sin(lt),Ut=Math.cos(X),ct=Math.sin(X),re=Math.tan(Nt/4),ve=4/3*ot*re,pe=4/3*at*re,Me=[$,K],ge=[$+ve*Xt,K-pe*Pt],ce=[xt+ve*ct,vt-pe*Ut],ye=[xt,vt];if(ge[0]=2*Me[0]-ge[0],ge[1]=2*Me[1]-ge[1],gt)return[ge,ce,ye].concat(At);for(var be=[],Oe=0,Xe=(At=[ge,ce,ye].concat(At).join().split(",")).length;Oe<Xe;Oe++)be[Oe]=Oe%2?W(At[Oe-1],At[Oe],Bt).y:W(At[Oe],At[Oe+1],Bt).x;return be}.apply(0,[G.x,G.y].concat(Y.slice(1))));break;case"S":U==="C"||U==="S"?(H=2*G.x-G.bx,J=2*G.y-G.by):(H=G.x,J=G.y),Y=["C",H,J].concat(Y.slice(1));break;case"T":U==="Q"||U==="T"?(G.qx=2*G.x-G.qx,G.qy=2*G.y-G.qy):(G.qx=G.x,G.qy=G.y),Y=["C"].concat(p(G.x,G.y,G.qx,G.qy,Y[1],Y[2]));break;case"Q":G.qx=Y[1],G.qy=Y[2],Y=["C"].concat(p(G.x,G.y,Y[1],Y[2],Y[3],Y[4]));break;case"L":Y=["C"].concat(y(G.x,G.y,Y[1],Y[2]));break;case"H":Y=["C"].concat(y(G.x,G.y,Y[1],G.y));break;case"V":Y=["C"].concat(y(G.x,G.y,G.x,Y[1]));break;case"Z":Y=["C"].concat(y(G.x,G.y,G.X,G.Y))}return Y},M=function(Y,G){if(Y[G].length>7){Y[G].shift();for(var U=Y[G];U.length;)c[G]="A",r&&(h[G]="A"),Y.splice(G++,0,["C"].concat(U.splice(0,6)));Y.splice(G,1),m=Math.max(u.length,r&&r.length||0)}},O=function(Y,G,U,H,J){Y&&G&&Y[J][0]==="M"&&G[J][0]!=="M"&&(G.splice(J,0,["M",H.x,H.y]),U.bx=0,U.by=0,U.x=Y[J][1],U.y=Y[J][2],m=Math.max(u.length,r&&r.length||0))};m=Math.max(u.length,r&&r.length||0);for(var E=0;E<m;E++){u[E]&&(v=u[E][0]),v!=="C"&&(c[E]=v,E&&(f=c[E-1])),u[E]=b(u[E],i,f),c[E]!=="A"&&v==="C"&&(c[E]="C"),M(u,E),r&&(r[E]&&(v=r[E][0]),v!=="C"&&(h[E]=v,E&&(f=h[E-1])),r[E]=b(r[E],a,f),h[E]!=="A"&&v==="C"&&(h[E]="C"),M(r,E)),O(u,r,i,a,E),O(r,u,a,i,E);var A=u[E],j=r&&r[E],B=A.length,D=r&&j.length;i.x=A[B-2],i.y=A[B-1],i.bx=parseFloat(A[B-4])||i.x,i.by=parseFloat(A[B-3])||i.y,a.bx=r&&(parseFloat(j[D-4])||a.x),a.by=r&&(parseFloat(j[D-3])||a.y),a.x=r&&j[D-2],a.y=r&&j[D-1]}return r?[u,r]:u}},function(C,x){var s=/,?([a-z]),?/gi;C.exports=function(d){return d.join(",").replace(s,"$1")}},function(C,x,s){var d=s(662);C.exports=function(y,p,n,o,u){if(u)return[["M",+y+ +u,p],["l",n-2*u,0],["a",u,u,0,0,1,u,u],["l",0,o-2*u],["a",u,u,0,0,1,-u,u],["l",2*u-n,0],["a",u,u,0,0,1,-u,-u],["l",0,2*u-o],["a",u,u,0,0,1,u,-u],["z"]];var r=[["M",y,p],["l",n,0],["l",0,o],["l",-n,0],["z"]];return r.parsePathArray=d,r}},function(C,x,s){var d=s(46),y=s(84),p=Object.values?function(n){return Object.values(n)}:function(n){var o=[];return d(n,function(u,r){y(n)&&r==="prototype"||o.push(u)}),o};C.exports=p},function(C,x){C.exports=function(s,d){return s.hasOwnProperty(d)}},function(C,x,s){var d=s(616),y=s(46),p=s(617);C.exports=function(n,o){return n=d(n),y(o,function(u){switch(u[0]){case"t":p.translate(n,n,[u[1],u[2]]);break;case"s":p.scale(n,n,[u[1],u[2]]);break;case"r":p.rotate(n,n,u[1]);break;case"m":p.multiply(n,n,u[1]);break;default:return!1}}),n}},function(C,x,s){var d=s(254);C.exports=d},function(C,x,s){var d=s(255),y=s(618);d.angle=function(p,n){var o=d.dot(p,n)/(d.length(p)*d.length(n));return Math.acos(y(o,-1,1))},d.direction=function(p,n){return p[0]*n[1]-n[0]*p[1]},d.angleTo=function(p,n,o){var u=d.angle(p,n),r=d.direction(p,n)>=0;return o?r?2*Math.PI-u:u:r?u:2*Math.PI-u},d.vertical=function(p,n,o){return o?(p[0]=n[1],p[1]=-1*n[0]):(p[0]=-1*n[1],p[1]=n[0]),p},C.exports=d},function(C,x){var s=Math.PI/180;C.exports=function(d){return s*d}},function(C,x){C.exports=parseInt},function(C,x){var s=180/Math.PI;C.exports=function(d){return s*d}},function(C,x){C.exports=function(s,d){return(s%d+d)%d}},function(C,x){C.exports=function(s,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-5;return Math.abs(s-d)<y}},function(C,x,s){var d=s(46),y=s(605);C.exports=function(p){var n=[];return d(p,function(o){y(n,o)||n.push(o)}),n}},function(C,x,s){var d=s(118),y=Array.prototype.splice;C.exports=function(p,n){if(!d(p))return[];for(var o=p?n.length:0,u=o-1;o--;){var r=void 0,i=n[o];o!==u&&i===r||(r=i,y.call(p,i,1))}return p}},function(C,x){var s=Array.prototype,d=s.splice,y=s.indexOf,p=s.slice;C.exports=function(n){for(var o=p.call(arguments,1),u=0;u<o.length;u++)for(var r=o[u],i=-1;(i=y.call(n,r))>-1;)d.call(n,i,1);return n}},function(C,x,s){var d=s(46),y=s(84),p=Object.keys?function(n){return Object.keys(n)}:function(n){var o=[];return d(n,function(u,r){y(n)&&r==="prototype"||o.push(r)}),o};C.exports=p},function(C,x,s){var d=s(677),y=s(237);C.exports=function(p,n){var o=d(n),u=o.length;if(y(p))return!u;for(var r=0;r<u;r+=1){var i=o[r];if(n[i]!==p[i]||!(i in p))return!1}return!0}},function(C,x){C.exports=function(s){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(d){return setTimeout(d,16)})(s)}},function(C,x){C.exports=function(s,d){if(s)for(var y in d)d.hasOwnProperty(y)&&(s.style[y]=d[y]);return s}},function(C,x){var s=document.createElement("table"),d=document.createElement("tr"),y=/^\s*<(\w+|!)[^>]*>/,p={tr:document.createElement("tbody"),tbody:s,thead:s,tfoot:s,td:d,th:d,"*":document.createElement("div")};C.exports=function(n){var o=y.test(n)&&RegExp.$1;o in p||(o="*");var u=p[o];n=n.replace(/(^\s*)|(\s*$)/g,""),u.innerHTML=""+n;var r=u.childNodes[0];return u.removeChild(r),r}},function(C,x,s){var d=s(257),y={isBetween:function(n,o,u){return n>=o&&n<=u},getLineIntersect:function(n,o,u,r){var i=u.x-n.x,a=u.y-n.y,c=o.x-n.x,h=o.y-n.y,v=r.x-u.x,f=r.y-u.y,m=c*f-h*v,b=null;if(m*m>.001*(c*c+h*h)*(v*v+f*f)){var M=(i*f-a*v)/m,O=(i*h-a*c)/m;y.isBetween(M,0,1)&&y.isBetween(O,0,1)&&(b={x:n.x+M*c,y:n.y+M*h})}return b},getIntersectPointRect:function(n,o){var u=n.minX,r=n.minY,i=n.maxX-n.minX,a=n.maxY-n.minY,c=[],h={x:u+i/2,y:r+a/2};c.push({x:u,y:r}),c.push({x:u+i,y:r}),c.push({x:u+i,y:r+a}),c.push({x:u,y:r+a}),c.push({x:u,y:r});for(var v=null,f=1;f<c.length&&!(v=y.getLineIntersect(c[f-1],c[f],h,o));f++);return v},getIntersectPointCircle:function(n,o,u,r,i){if(Math.sqrt(Math.pow(n-u,2)+Math.pow(o-r,2))<i)return null;var a=n-u,c=o-r,h=Math.sign(a),v=Math.sign(c),f=Math.atan(c/a);return{x:u+Math.abs(i*Math.cos(f))*h,y:r+Math.abs(i*Math.sin(f))*v}},applyMatrix:function(n,o,u){u===void 0&&(u=1);var r=[n.x,n.y,u];return d.vec3.transformMat3(r,r,o),{x:r[0],y:r[1]}},invertMatrix:function(n,o,u){u===void 0&&(u=1);var r=d.mat3.invert([],o),i=[n.x,n.y,u];return d.vec3.transformMat3(i,i,r),{x:i[0],y:i[1]}},radixSort:function(n,o){var u,r,i,a,c,h,v,f=10,m=1,b=[],M=1;for(i=0;i<n.length;i++)u=o(n[i]),r=(u=parseInt(u,10)).toString().length,u.toString().length>M&&(M=r);for(i=0;i<M;i++,m*=10,f*=10){for(a=0;a<n.length;a++)c=o(n[a]),b[c=parseInt(c%f/m,10)]===void 0&&(b[c]=[]),b[c].push(n[a]);for(h=0,a=0;a<b.length;a++)if(v=void 0,b[a]!==void 0)for(v=b[a].shift();v!==void 0;)n[h++]=v,v=b[a].shift()}return n},getArcOfVectors:function(n,o){var u=n.x,r=n.y,i=o.x,a=o.y,c=Math.sqrt(u*u+r*r),h=Math.sqrt(i*i+a*a);return Math.acos((u*i+r*a)/(c*h))}};C.exports=d.mix({},d,y)},function(C,x,s){var d=s(258);d.registerShapeManager("node",{defaultShapeType:"common"}),d.registerShapeManager("edge",{defaultShapeType:"common"}),d.registerShapeManager("group",{defaultShapeType:"common"}),d.registerShapeManager("guide",{defaultShapeType:"common"}),s(724),s(721),s(719),s(717),C.exports=d},function(C,x,s){var d=s(247),y=s(609),p=s(26);setTimeout(function(){var n=d.track;if(d.track){var o=new Image,u={pg:document.URL,r:new Date().getTime(),g6:!0,version:y,page_type:"syslog"};p.isObject(n)&&p.mix(u,n);var r=encodeURIComponent(JSON.stringify([u]));o.src="https://kcart.alipay.com/web/bi.do?BIProfile=merge&d="+r}},2e3)},function(C,x,s){var d=s(598),y=function(p){function n(o){var u;return(u=p.call(this,o)||this).layout=d.mindmap,u}return function(o,u){o.prototype=Object.create(u.prototype),o.prototype.constructor=o,o.__proto__=u}(n,p),n}(s(597));C.exports=y},function(C,x,s){var d=s(598),y=function(p){function n(o){var u;return(u=p.call(this,o)||this).layout=d.indented,u}return function(o,u){o.prototype=Object.create(u.prototype),o.prototype.constructor=o,o.__proto__=u}(n,p),n}(s(597));C.exports=y},function(C,x,s){var d=s(598),y=function(p){function n(o){var u;return(u=p.call(this,o)||this).layout=d.dendrogram,u}return function(o,u){o.prototype=Object.create(u.prototype),o.prototype.constructor=o,o.__proto__=u}(n,p),n}(s(597));C.exports=y},function(C,x,s){var d=s(598),y=function(p){function n(o){var u;return(u=p.call(this,o)||this).layout=d.compactBox,u}return function(o,u){o.prototype=Object.create(u.prototype),o.prototype.constructor=o,o.__proto__=u}(n,p),n}(s(597));C.exports=y},function(C,x,s){var d=s(26),y=s(625),p=s(623),n=function(o){function u(i){var a=d.mix({layout:new p.CompactBoxTree({getHGap:function(){return 10},getVGap:function(){return 10}}),_type:"tree"},i);return o.call(this,a)||this}(function(i,a){i.prototype=Object.create(a.prototype),i.prototype.constructor=i,i.__proto__=a})(u,o);var r=u.prototype;return r.initEvent=function(){var i=this;this.on("afterdrawinner",function(){i.get("_sourceData").roots.forEach(function(a){var c=i.find(a.id);i._setVisibleByCollapsed(c)})})},r._executeLayout=function(i){var a=this.get("_sourceData");d.isFunction(i)?i(a.roots,this):d.isObject(i)&&(i.roots=a.roots,i.graph=this,i.execute())},r.getHierarchy=function(i){i=this.getItem(i);for(var a=this.get("_dataMap"),c=i.getModel().parent,h=1;c;)c=a[c].parent,h++;return h},r.parseSource=function(i){var a=i.roots,c=this.get("_dataMap"),h=[],v=[];if(!a)throw new Error("please set data.roots!");return a.forEach(function(f){d.traverseTree(f,function(m,b){m.id||(m.id=d.guid()),b||(b=c[m.parent]),b&&(m.parent=b.id,b.id||(b.id=d.guid()),v.push({source:b.id,target:m.id,id:b.id+"-"+m.id})),h.push(m)},function(m){return m.children},!0)}),{nodes:h,edges:v}},r._setVisibleByCollapsed=function(i){var a=i.getModel();i.collapsedParent?(i.hide(),i.getEdges().forEach(function(c){c.hide()}),i.deepEach(function(c){c.hide(),c.getEdges().forEach(function(h){h.hide()})})):a.collapsed?i.deepEach(function(c){c.hide(),c.getEdges().forEach(function(h){h.hide()})}):i.deepEach(function(c){c.collapsedParent&&(c.hide(),c.getEdges().forEach(function(h){h.hide()}))})},r.source=function(i){var a=this.parseSource(i);this.emit("beforesource"),this.set("_sourceData",i),this.set("_data",a),this.emit("aftersource")},r._setNodeNth=function(i,a){var c=(i=this.getItem(i)).getModel(),h=i.getParent().getModel().children;d.Array.remove(h,c),h.splice(a,0,c)},r.getNth=function(i){var a=(i=this.getItem(i)).getModel();return i.getParent().getModel().children.indexOf(a)},r.add=function(i,a){var c,h=this.get("_dataMap")[a.parent],v={action:"add",model:a};if(i==="node"||i==="guide"){if(this.emit("beforechange",v),i==="node"){if(!h)throw new Error("please set available parent Id !");d.isArray(h.children)?h.children.push(a):h.children=[a];var f=this.parseSource({roots:[a]});this._addItems("node",f.nodes),this._addItems("edge",f.edges),c=this.find(a.id),this._setVisibleByCollapsed(c),d.isNil(a.nth)||this._setNodeNth(c,a.nth),this.find(h.id).forceUpdate()}else this._addItems(i,[a]),c=this.find(a.id);return v.item=c,this.emit("afterchange",v),c}console.warn("Tree do not support add type "+i+"!")},r.update=function(i,a){var c=this;if(a){var h=(i=this.getItem(i)).getModel(),v=d.mix({},h),f={action:"update",item:i,originModel:v,updateModel:a};if(this.emit("beforechange",f),this._updateItems([i],[a]),i.isNode){if("collapsed"in a&&(a.collapsed?i.deepEach(function(A){A.hide(),A.getEdges().forEach(function(j){j.hide()})}):i.deepEach(function(A){A.show(),A.getInEdges().forEach(function(j){j.show()})},function(A){return A.model.collapsed?null:A.getChildren()})),a.parent&&a.parent!==v.parent){var m=this.find(v.parent).getModel(),b=this.find(a.parent).getModel(),M=this.find(m.id+"-"+v.id),O={id:b.id+"-"+v.id,source:b.id,target:v.id};d.Array.remove(m.children,h),b.children?b.children.push(h):b.children=[h],this._removeItems([M]),this._addItems("edge",[O]),this.find(b.id).forceUpdate()}d.isArray(a.children)&&(v.children&&d.each(v.children,function(A){var j=c.find(A.id),B=[j];j.getEdges().forEach(function(D){B.push(D)}),c._removeItems(B)}),d.each(a.children,function(A){var j=c.parseSource({roots:[A]}),B=d.isNil(A.id)?d.guid():A.id;c._addItems("node",j.nodes),c._addItems("edge",j.edges),!A.parent&&c._addItems("edge",[{id:v.id+"-"+B,source:v.id,target:B}])})),d.isNil(a.nth)||this._setNodeNth(i,a.nth);var E=this.find(h.parent);E&&E.forceUpdate()}return this.emit("afterchange",f),this}},r.remove=function(i){var a=this.get("_dataMap"),c=[];if((i=this.getItem(i))&&!i.destroyed){var h={action:"remove",item:i};if(this.emit("beforechange",h),c.push(i),i.type==="node"){i.getEdges().forEach(function(m){c.push(m)});var v=i.getModel(),f=a[v.parent];i.deepEach(function(m){c.push(m),m.getEdges().forEach(function(b){c.push(b)})}),d.Array.remove(f.children,v),this.find(f.id).forceUpdate()}return this._removeItems(d.uniq(c)),this.emit("afterchange",h),this}},r.getRoots=function(){var i=this;return this.getSource().roots.map(function(a){return i.find(a.id)})},r.save=function(){var i={roots:d.clone(this.getSource().roots),guides:this.getGuides().map(function(a){return a.getModel()})};return i.roots.length===0&&delete i.roots,i.guides.length===0&&delete i.guides,i},u}(y);C.exports=n},function(C,x,s){var d=s(26),y={INIT:"_initForceFit"};y.AUGMENT={_initForceFit:function(){var n=this.get("width"),o=this.get("height");return n||o?n?o?void 0:(this.forceFit("height"),void this._bindForceEvent("height")):(this.forceFit("width"),void this._bindForceEvent("width")):(this.forceFit(),void this._bindForceEvent())},_bindForceEvent:function(n){var o=this,u=this._getTimer("forceFit"),r=function(){var a=setTimeout(function(){o.forceFit(n)},200);u&&clearTimeout(u),o._setTimer("forceFit",a)};window.addEventListener("resize",r),this.set("_windowForceResizeEvent",r)},forceFit:function(n){var o=this.get("_containerDOM"),u=this.get("width"),r=this.get("height"),i=d.getHeight(o),a=d.getWidth(o);return n==="width"?(this.changeSize(a,r),this):n==="height"?(this.changeSize(u,i),this):(this.changeSize(a,i),this)}},C.exports=y},function(C,x,s){var d=s(26),y={CFG:{fitView:void 0,fitViewPadding:10,minZoom:.2,maxZoom:10}};y.AUGMENT={getBBox:function(){var n=this.get("_itemGroup"),o=this.get("_itemMap"),u=n.get("children");return u.length>0?(u=u.filter(function(r){var i=o[r.id];return!!i&&i.getShapeObj().bboxCalculation!==!1}),d.getChildrenBBox(u)):{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},getFitViewPadding:function(){return d.toAllPadding(this.get("fitViewPadding"))},setFitView:function(n){if(!n)return this;if(n==="autoZoom")return this.autoZoom(),this;var o=this.getFitViewPadding(),u=this.get("width"),r=this.get("height"),i=this.getBBox(),a=i.maxX-i.minX,c=i.maxY-i.minY,h={x:0,y:0,width:u,height:r},v=d.getNineBoxPosition(n,h,a,c,o),f=[1,0,0,0,1,0,0,0,1];d.mat3.translate(f,f,[-i.minX+v.x,-i.minY+v.y]),this.updateMatrix(f)},_getZoomRatio:function(n){var o=this.get("maxZoom"),u=this.get("minZoom");return n<u&&(n=u),n>o&&(n=o),n},autoZoom:function(n){var o=this;n||(n=this.getFitViewPadding());var u=this.get("width"),r=this.get("height"),i=this.getBBox(),a=d.getAutoZoomMatrix({minX:0,minY:0,maxX:u,maxY:r},i,n,function(c){return o._getZoomRatio(c)});this.updateMatrix(a)},getZoom:function(){return this.getMatrix()[0]},updateMatrix:function(n){var o=this.getMatrix(),u={updateMatrix:n,originMatrix:o},r=o[0]!==n[0];return this.emit("beforeviewportchange",u),r&&this.emit("beforezoom",u),this.setMatrix(n),r&&this.emit("afterzoom",u),this.emit("afterviewportchange",u),this.draw(),this},zoom:function(n,o){if(!d.isNumber(n)){o=this._getZoomRatio(o);var u=this.get("_rootGroup"),r=d.clone(u.getMatrix()),i=r[6]+r[0]*n.x-o*n.x,a=r[7]+r[0]*n.y-o*n.y;return r[6]=0,r[7]=0,r[0]=o,r[4]=o,d.mat3.translate(r,r,[i,a]),this.updateMatrix(r),this}var c=this.get("width"),h=this.get("height");this.zoomByDom({x:c/2,y:h/2},n)},zoomByDom:function(n,o){var u=this.getPoint(n);return this.zoom(u,o),this},translate:function(n,o){var u=this.get("_rootGroup").getMatrix();return d.mat3.translate(u,u,[n,o]),this.updateMatrix(u),this},translateByDom:function(n,o){var u=this.get("_rootGroup").getMatrix()[0];return this.translate(n/u,o/u),this},getMatrix:function(){return this.get("_rootGroup").getMatrix()},setMatrix:function(n){this.get("_rootGroup").setMatrix(n)},getPoint:function(n){return this.getPointByDom(n)},getPointByDom:function(n){var o=this.get("_rootGroup").getMatrix();return d.invertMatrix(n,o)},getPointByCanvas:function(n){var o=this.get("_canvas").get("pixelRatio");return this.getPoint({x:n.x/o,y:n.y/o})},getPointByClient:function(n){var o=this.get("_canvas").getPointByClient(n.x,n.y);return this.getPointByCanvas(o)},getDomPoint:function(n){var o=this.get("_rootGroup").getMatrix();return d.applyMatrix(n,o)},getCanvasPoint:function(n){var o=this.get("_canvas").get("pixelRatio"),u=this.getDomPoint(n);return{x:u.x*o,y:u.y*o}},getClientPoint:function(n){var o=this.getCanvasPoint(n),u=this.get("_canvas").getClientByPoint(o.x,o.y);return{x:u.clientX,y:u.clientY}},focus:function(n){if(d.isString(n)&&(n=this.find(n)),n){var o=n.getCenter();this.focusPoint(o)}return this},focusPoint:function(n){var o=this.get("_rootGroup").getMatrix(),u=this.get("width"),r=this.get("height"),i=-o[6]+u/2-o[0]*n.x,a=-o[7]+r/2-o[0]*n.y;return this.translate(i,a),this},focusPointByDom:function(n){var o=this.getPoint(n);return this.focusPoint(o),this}},C.exports=y},function(C,x){var s={INIT:"_initDraw",AUGMENT:{_initDraw:function(){var y=this,p=this.get("_controllers").animate;["clear","show","hide","change","updatenodeposition"].forEach(function(n){p&&y.on("before"+n,function(o){var u=y.get("_forcePreventAnimate"),r=o?o.affectedItemIds:void 0;u!==!0&&p&&p.cacheGraph("startCache",r)}),y.on("after"+n,function(o){var u=o?o.affectedItemIds:void 0,r=y.get("_forcePreventAnimate");if(o&&o.action==="changeData"){var i=y.get("fitView");i&&y.setFitView(i)}r!==!0&&p?(p.cacheGraph("endCache",u),p.run()):y.draw()})})},draw:function(){this.get("_canvas").draw()},animateDraw:function(){this.get("_controllers").animate.run()}}};C.exports=s},function(C,x,s){var d=s(247);function y(u,r){var i=u.getGraphicGroup(),a=u.getBBox(),c=(a.minX+a.maxX)/2,h=(a.minY+a.maxY)/2,v=i.getMatrix()[0];i.transform([["t",-c,-h],["s",.01/v,.01/v],["t",c,h]]),i.animate({transform:[["t",-c,-h],["s",100*v,100*v],["t",c,h]]},d.enterDuration,d.enterEasing,r)}function p(u,r){var i=u.getGraphicGroup(),a=u.getBBox(),c=(a.minX+a.maxX)/2,h=(a.minY+a.maxY)/2,v=i.getMatrix()[0];i.animate({transform:[["t",-c,-h],["s",.01/v,.01/v],["t",c,h]]},d.leaveDuration,d.leaveEasing,r)}function n(u,r){u.deepEach(function(i){if(i.isShape){var a=i.attr("fillOpacity"),c=i.attr("strokeOpacity");i.attr({fillOpacity:0,strokeOpacity:0}),i.animate({fillOpacity:a,strokeOpacity:c},d.enterDuration,d.enterEasing,r)}})}function o(u,r){u.deepEach(function(i){var a=i.attr("fillOpacity"),c=i.attr("strokeOpacity");i.isShape&&i.animate({fillOpacity:0,strokeOpacity:0},d.leaveDuration,d.leaveEasing,function(){i.attr({fillOpacity:a,strokeOpacity:c}),r()})})}C.exports={enterScaleIn:function(r){var i=r.item;r.element.isItemContainer&&i.getKeyShape()&&y(i)},showScaleIn:function(r){var i=r.item;r.element.isItemContainer&&i.getKeyShape()&&y(i)},leaveScaleOut:function(r){var i=r.item,a=r.element,c=r.done;a.isItemContainer&&p(i,function(){c()})},hideScaleOut:function(r){var i=r.item,a=r.element,c=r.done;a.isItemContainer&&p(i,function(){c()})},enterFadeIn:function(r){var i=r.element,a=r.item;i.isItemContainer&&a.getKeyShape()&&n(i)},showFadeIn:function(r){var i=r.element,a=r.item;i.isItemContainer&&a.getKeyShape()&&n(i)},leaveFadeOut:function(r){var i=r.element,a=r.item,c=r.done;i.isItemContainer&&a.getKeyShape()&&o(i,c)},hideFadeOut:function(r){var i=r.element,a=r.item,c=r.done;i.isItemContainer&&a.getKeyShape()&&o(i,c)}}},function(C,x,s){function d(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}var y=s(599),p=s(693),n=s(26),o=s(247),u=["matrix","fillStyle","strokeStyle","endArrow","startArrow"],r=function(i){function a(){return i.apply(this,arguments)||this}(function(h,v){h.prototype=Object.create(v.prototype),h.prototype.constructor=h,h.__proto__=v})(a,i);var c=a.prototype;return c.getDefaultCfg=function(){return{show:"scaleIn",hide:"scaleOut",enter:"scaleIn",leave:"scaleOut",update:function(v){var f=v.element,m=v.endKeyFrame.props;f.animate(function(b){for(var M=1;M<arguments.length;M++){var O=arguments[M]!=null?arguments[M]:{},E=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(O).filter(function(A){return Object.getOwnPropertyDescriptor(O,A).enumerable}))),E.forEach(function(A){d(b,A,O[A])})}return b}({matrix:m.matrix},m.attrs),o.updateDuration,o.updateEasing)},graph:null,startCache:{},endCache:{},keykeyCache:{}}},c._init=function(){var h=this,v=this.graph,f=this.keykeyCache;v.on("afteritemdraw",function(m){m.item.getGraphicGroup().deepEach(function(b){f[b.gid]=h._getCache(b)},!0)})},c.cacheGraph=function(h,v){var f,m=this,b=this.graph;f=v?v.map(function(M){return b.find(M)}):b.getItems(),this[h]={},f.forEach(function(M){M&&m.cache(M,m[h],h)})},c._getCache=function(h){var v=this.keykeyCache;if(!n.isObject(h))return v[h];var f={props:{matrix:n.clone(h.getMatrix()),attrs:{}}};if(h.isShape){var m=h.attr();m=n.omit(m,u),f.props.attrs=n.clone(m)}return f},c._getAnimation=function(h,v){var f=this.graph,m=h.shapeObj,b=this[v],M=m[v+"Animation"]||m[v+"Animate"],O=f.get("_"+v+"Animation"),E=M||O||b;return n.isString(E)?p[v+n.upperFirst(E)]:E},c.cache=function(h,v,f){var m=this;h.getGraphicGroup().deepEach(function(b){var M=b.gid,O=f==="startCache"?m._getCache(b):m._getCache(b.gid);O.enterAnimate=m._getAnimation(h,"enter"),O.leaveAnimate=m._getAnimation(h,"leave"),O.showAnimate=m._getAnimation(h,"show"),O.hideAnimate=m._getAnimation(h,"hide"),O.updateAnimate=m._getAnimation(h,"update"),O.item=h,O.element=b,O.visible=b.get("visible"),v[M]=O},!0)},c._compare=function(){var h=this.startCache,v=this.endCache,f=[],m=[],b=[],M=[],O=[];n.each(v,function(E,A){var j=h[A];j?j.element.get("type")===E.element.get("type")&&(j.visible&&E.visible?b.push(A):j.visible&&!E.visible?M.push(A):!j.visible&&E.visible&&O.push(A)):f.push(A)}),n.each(h,function(E,A){v[A]||m.push(A)}),this.enterElements=f,this.leaveElements=m,this.updateElements=b,this.hideElements=M,this.showElements=O},c._addTween=function(){var h=this.enterElements,v=this.leaveElements,f=this.updateElements,m=this.hideElements,b=this.showElements,M=this.startCache,O=this.endCache;h.forEach(function(E){var A=O[E],j=A.enterAnimate;j&&j({element:A.element,item:A.item,endKeyFrame:A,startKeyFrame:null,startCache:M,endCache:O,done:function(){}})}),v.forEach(function(E){var A=M[E],j=A.leaveAnimate;if(j){var B=M[E].element;B.isItemContainer&&B.getParent().add(B),j({element:B,item:A.item,endKeyFrame:null,startKeyFrame:A,startCache:M,endCache:O,done:function(){B.isItemContainer&&B.remove()}})}}),f.forEach(function(E){var A=O[E],j=M[E],B=A.element,D=j.element,T=j.props,Y=A.props,G=A.updateAnimate;T.attrs&&B.attr(T.attrs),n.isEqual(T.matrix,Y.matrix)||B.setMatrix(T.matrix),G({element:B,item:A,endKeyFrame:A,startKeyFrame:j,startCache:M,endCache:O,done:function(){}}),D!==B&&D.remove()}),m.forEach(function(E){var A=O[E],j=M[E],B=A.hideAnimate;B&&(A.element.show(),B({element:A.element,item:A.item,endKeyFrame:A,startKeyFrame:j,startCache:M,endCache:O,done:function(){var T=A.item,Y=T.getGraphicGroup();!T.visible&&Y.hide()}}))}),b.forEach(function(E){var A=O[E],j=M[E],B=A.showAnimate;B&&B({element:A.element,item:A.item,endKeyFrame:A,startKeyFrame:j,startCache:M,endCache:O,done:function(){}})})},c.run=function(){this.graph.destroyed||(this._compare(),this._addTween())},a}(y);C.exports=r},function(C,x,s){function d(o,u,r){return u in o?Object.defineProperty(o,u,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[u]=r,o}var y=s(26),p=s(694),n={INIT:"_initAnimate",CFG:{animate:!1}};n.AUGMENT={_initAnimate:function(){var u=this.get("animate");if(u){var r=this.get("_controllers"),i={graph:this};y.isPlainObject(u)&&(i=function(a){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{},v=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(h).filter(function(f){return Object.getOwnPropertyDescriptor(h,f).enumerable}))),v.forEach(function(f){d(a,f,h[f])})}return a}({},i,u)),r.animate=new p(i)}}},C.exports=n},function(C,x,s){var d=s(26),y={INIT:"_initFilter",CFG:{filters:[]}};y.AUGMENT={_initFilter:function(){var n=this,o=this.get("filters");d.isFunction(o)&&this.set("filters",[o]),this.on("afterchange",function(u){var r=u.action;o.length>0&&r==="changeData"&&!n.destroyed&&n.filter()})},addFilter:function(n){return this.get("filters").push(n),n},removeFilter:function(n){var o=this.get("filters");this.set("filters",d.filter(o,n))},filter:function(){this.emit("beforefilter");var n=this.get("filters"),o=this.getItems(),u=this._getFilterItems();n.forEach(function(r){u=u.filter(r)}),o.forEach(function(r){u.indexOf(r)===-1?r.hide():r.show()}),this.draw(),this.emit("afterfilter")},_getFilterItems:function(){return this.getItems().filter(function(n){return n.getShapeObj().filter!==!1})}},C.exports=y},function(C,x,s){var d=s(26),y=s(626),p={CFG:{modes:{default:[]},mode:"default",_eventCache:{}},INIT:"_initModes"};p.AUGMENT={_initModes:function(){var o=this.get("mode");this.changeMode(o)},changeMode:function(o){var u=this.get("modes");d.isEmpty(u)||d.isEmpty(u[o])||(y.resetMode(u[o],this),this.set("mode",o))},addBehaviour:function(o,u){var r=this.get("modes");u=u||this.get("mode"),d.isEmpty(r[u])&&(r[u]=[]);var i=r[u],a=[].concat(o);return d.each(a,function(c){i.indexOf(c)===-1&&i.push(c)}),y.resetMode(r[u],this),this},removeBehaviour:function(o){var u=this.get("modes"),r=this.get("mode"),i=u[r];if(!d.isEmpty(i)){var a=[].concat(o);return i=i.filter(function(c){return a.indexOf(c)===-1}),u[r]=i,y.resetMode(i,this),this}},behaviourOn:function(o,u){var r=this._eventCache;r[o]||(r[o]=[]),r[o].push(u),this.on(o,u)},_off:function(){var o=this,u=this._eventCache;d.each(u,function(r,i){d.each(r,function(a){o.off(i,a)})}),this._eventCache={}}},C.exports=p},function(C,x,s){var d=s(599),y=s(26),p={MOUSEMOVE:"mousemove",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",CLICK:"click",DBLCLICK:"dblclick",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGLEAVE:"dragleave",DRAGEND:"dragend",DROP:"drop",CONTEXTMENU:"contextmenu",WHEEL:"wheel",KEYDOWN:"keydown",KEYUP:"keyup",KEYPRESS:"keypress",MOUSEWHEEL:"mousewheel"},n=[p.DBLCLICK,p.MOUSEDOWN,p.MOUSEUP,p.MOUSEENTER,p.MOUSELEAVE,p.MOUSEMOVE,p.CONTEXTMENU,p.WHEEL,p.MOUSEWHEEL],o=[p.KEYDOWN,p.KEYUP,p.KEYPRESS],u=function(r){function i(c){var h;return(h=r.call(this,c)||this)._domEvents=[],h._initEventStates(),h._registerEvents(),h}(function(c,h){c.prototype=Object.create(h.prototype),c.prototype.constructor=c,c.__proto__=h})(i,r);var a=i.prototype;return a._initEventStates=function(){this._pressing=!1,this._dragging=!1,this._currentEventObj={},this._dragEventObj={}},a._registerEvents=function(){this._registerMouseEvents(),this._registerKeyboardEvents()},a._registerKeyboardEvents=function(){var c=this.graph,h=c.getKeyboardEventWrapper(),v=this._domEvents,f=c.get("keyboardEnable");y.each(o,function(m){v.push(y.addEventListener(h,m,function(b){var M=!0;y.isFunction(f)&&(M=f()),M&&c.emit(m,{domEvent:b})}))})},a._registerMouseEvents=function(){var c=this,h=this,v=this.graph.getMouseEventWrapper(),f=this._domEvents;y.each(n,function(m){f.push(y.addEventListener(v,m,function(b){if(b.type!==p.MOUSEENTER||!b.fromElement||b.fromElement.parentNode&&!function(E,A){for(var j=E.parentNode;j;){if(j.tagName===A)return!0;j=j.parentNode}return!1}(b.fromElement,"foreignObject")){var M=c._currentEventObj;c._oldEventObj=M,c._processEventObj(b);var O=c._currentEventObj;h._simulateEvents(b,M,O),[p.MOUSELEAVE,p.MOUSEENTER].indexOf(b.type)!==-1&&h._triggerEvent("canvas:"+b.type),h._triggerEvent(b.type),b.type===p.MOUSELEAVE&&(c._dragging&&h._triggerEvent(p.DRAGLEAVE,y.mix({},O,{item:null,shape:null,currentItem:c._dragEventObj.item,currentShape:c._dragEventObj.shape})),h._initEventStates())}}))})},a.destroy=function(){var c=this._domEvents;y.each(c,function(h){h&&h.remove()}),this._domEvents=null},a._triggerEvent=function(c,h){if(h||(h=c==="mouseleave"?this._oldEventObj:this._currentEventObj),c==="mousedown"&&(h.button=this._button),h._type=c,this.emitGraphEvent(c,h),["canvas:"+p.MOUSELEAVE,"canvas:"+p.MOUSEENTER].indexOf(c)===-1){var v=h.shape&&h.shape.eventPreFix;if([p.DRAGSTART,p.DRAG,p.DRAGEND].indexOf(c)!==-1&&(v=h.currentShape&&h.currentShape.eventPreFix),v){var f=v+":"+c;h._type=f,y.isBoolean(h._isItemChange)?h._isItemChange&&this.emitGraphEvent(f,h):this.emitGraphEvent(f,h)}}},a.emitGraphEvent=function(c,h){this.graph.emit(c,h)},a._getDistanceToPress=function(c){return Math.pow(c.clientX-this._pressX,2)+Math.pow(c.clientY-this._pressY,2)},a._simulateEvents=function(c,h,v){h===void 0&&(h={}),v===void 0&&(v={});var f=this._dragEventObj.item,m=this._dragEventObj.shape;switch(c.type){case p.MOUSEDOWN:this._pressing=!0,this._button=c.button,this._pressX=c.clientX,this._pressY=c.clientY;break;case p.MOUSEMOVE:if(this._dragging){if(this._triggerEvent(p.DRAG,y.mix({},v,{button:this._button,currentItem:f,currentShape:m})),h.shape!==v.shape){var b=this._isItemChange(h,v);h.shape&&this._triggerEvent(p.DRAGLEAVE,y.mix({},v,{button:this._button,item:h.item,shape:h.shape,toItem:v.item,toShape:v.shape,currentItem:f,currentShape:m,_isItemChange:b})),v.shape&&this._triggerEvent(p.DRAGENTER,y.mix({},v,{button:this._button,currentItem:f,currentShape:m,fromItem:h.item,fromShape:h.shape,_isItemChange:b}))}}else this._pressing&&this._getDistanceToPress(c)>9&&(this._dragging=!0,this._dragEventObj=h,f=this._dragEventObj.item,m=this._dragEventObj.shape,this._triggerEvent(p.DRAGSTART,y.mix({},h,{button:this._button,currentItem:f,currentShape:m})));if(h.shape!==v.shape){var M=this._isItemChange(h,v);h.shape&&this._triggerEvent(p.MOUSELEAVE,y.mix({},v,{item:h.item,shape:h.shape,toItem:v.item,toShape:v.shape,_isItemChange:M})),v.shape&&this._triggerEvent(p.MOUSEENTER,y.mix({},v,{fromtItem:h.item,fromShape:h.shape,_isItemChange:M}))}break;case p.MOUSEUP:!this._dragging&&this._pressing?this._triggerEvent(p.CLICK,y.mix({},v,{button:this._button})):(this._triggerEvent(p.DROP,y.mix({},v,{button:this._button,currentItem:f,currentShape:m})),this._triggerEvent(p.DRAGEND,y.mix({},v,{button:this._button,currentItem:f,currentShape:m}))),this._pressing=!1,this._dragging=!1,this._dragEventObj={};break;default:return}},a._isItemChange=function(c,h){var v=c.shape,f=h.shape,m=v&&f&&(v.get("isItemChange")||f.get("isItemChange"));return m?m(f,v):y.isObject(c.item)&&y.isObject(h.item)?c.item.id!==h.item.id:c.item!==h.item},a._processEventObj=function(c){var h=this.graph.get("_canvas"),v=this._getEventObj(c,h);this._currentEventObj=v},a._parsePoint=function(c,h){return this.graph.getPointByCanvas({x:c,y:h})},a._getEventObj=function(c,h){var v=this.graph,f=c.clientX,m=c.clientY,b=h.getPointByClient(f,m),M=this._parsePoint(b.x,b.y),O=h.getShape(b.x,b.y,c),E=v.getItemByShape(O),A=h.get("pixelRatio");return{item:E,shape:O,x:M.x,y:M.y,domX:b.x/A,domY:b.y/A,domEvent:c}},i}(d);C.exports=u},function(C,x,s){var d={},y=s(698);d.INIT="_initEvents",d.CFG={keyboardEnable:!0},d.AUGMENT={_initEvents:function(){this.get("_controllers").events=new y({graph:this})}},C.exports=d},function(C,x,s){var d=s(26),y={};y.AUGMENT={find:function(n){return this.get("_itemMap")[n]},getNodes:function(){return this.get("_itemMap")._nodes},getEdges:function(){return this.get("_itemMap")._edges},getGroups:function(){return this.get("_itemMap")._groups},getGuides:function(){return this.get("_itemMap")._guides},getItems:function(){var n=this.get("_itemMap"),o=[];return d.each(n,function(u){u.type&&o.push(u)}),o},getItemByShape:function(n){return n?this.getItem(n.id):null},getItem:function(n){var o=this.get("_itemMap");return d.isObject(n)?n.destroyed&&(n=o[n.id]):n=o[n],n}},C.exports=y},function(C,x,s){var d=s(599),y=s(26),p=["color","shape","size","label","style"],n=function(o){function u(){return o.apply(this,arguments)||this}(function(i,a){i.prototype=Object.create(a.prototype),i.prototype.constructor=i,i.__proto__=a})(u,o);var r=u.prototype;return r._init=function(){var i=this,a={};y.each(p,function(c){a[c]={},i[c]=function(h){return a[c].input=h,i}}),this.channels=a},r.addChannels=function(i){var a=this.channels;y.each(i,function(c,h){a[h]={input:c}})},r.mapping=function(i){var a=this.channels;y.each(a,function(c,h){y.isFunction(c.input)?i[h]=c.input(i):c.input&&(i[h]=c.input)})},u}(d);C.exports=n},function(C,x,s){var d=s(701),y={INIT:"_initMapper"};y.AUGMENT={_initMapper:function(){var n=this.get("_controllers");n.nodeMapper=new d({graph:this}),n.edgeMapper=new d({graph:this}),n.groupMapper=new d({graph:this}),n.guideMapper=new d({graph:this})},node:function(n){var o=this._getController("nodeMapper");return n&&o.addChannels(n),o},edge:function(n){var o=this._getController("edgeMapper");return n&&o.addChannels(n),o},group:function(n){var o=this._getController("groupMapper");return n&&o.addChannels(n),this._getController("groupMapper")},guide:function(n){var o=this._getController("guideMapper");return n&&o.addChannels(n),this._getController("guideMapper")}},C.exports=y},function(C,x,s){var d=function(y){function p(){return y.apply(this,arguments)||this}(function(o,u){o.prototype=Object.create(u.prototype),o.prototype.constructor=o,o.__proto__=u})(p,y);var n=p.prototype;return n.getDefaultCfg=function(){return{graph:null,auto:!0,processor:null}},n._init=function(){var o=this,u=this.graph;u.on("afteritemdraw",function(r){var i=r.item,a=i.getKeyShape(),c=i.getModel();if(i.isEdge)c.lineWidth=a.attr("lineWidth");else if(i.isNode||i.isGroup){var h=i.getBBox();c.width=h.width,c.height=h.height}}),u.on("afterchange",function(r){var i=r.action;o.auto==="once"?i==="changeData"&&(u.destroyed||u.preventAnimate(function(){o.layout()})):o.auto&&!u.destroyed&&u.preventAnimate(function(){o.layout()})})},n.changeLayout=function(o){this.processor=o,this.layout()},n.layout=function(){var o=this.graph,u=this.getLayoutProcessor();o.emit("beforelayout");var r=o.getNodes().filter(function(c){return c.isVisible()}).map(function(c){return c.getModel()}),i=o.getEdges().filter(function(c){return c.isVisible()}).map(function(c){return c.getModel()}),a=o.getGroups().filter(function(c){return c.isVisible()}).map(function(c){return c.getModel()});o._executeLayout(u,r,i,a),o.updateNodePosition(),o.emit("afterlayout")},n.getLayoutProcessor=function(){return this.processor?this.processor:this.processer},p}(s(599));C.exports=d},function(C,x,s){var d=s(26),y=s(703),p={CFG:{layout:void 0},INIT:"_initLayout"};p.AUGMENT={_initLayout:function(){var o=this.get("_controllers"),u=this._getLayoutCfg();u&&(o.layout=new y(d.mix({graph:this},u)))},_getLayoutCfg:function(){var o=this.get("layout");return d.isPlainObject(o)?o:d.isFunction(o)||d.isObject(o)?{processor:o}:null},layout:function(){return this._getController("layout").layout(),this},updateNodePosition:function(o){var u=this.getGuides(),r=[],i=[];return this.emit("beforeupdatenodeposition"),o?(o.forEach(function(a){a.getEdges().forEach(function(h){i.push(h)});var c=a.getParent();c&&r.push(c)}),i=d.uniq(i),r=d.uniq(r)):(o=this.getNodes(),r=this.getGroups(),i=this.getEdges()),o.forEach(function(a){a.layoutUpdate()}),r.forEach(function(a){a.layoutUpdate()}),i.forEach(function(a){a.layoutUpdate()}),u.forEach(function(a){a.layoutUpdate()}),this.emit("afterupdatenodeposition"),this},changeLayout:function(o){return this._getController("layout").changeLayout(o),this},getLayout:function(){return this._getController("layout").getLayoutProcessor()}},C.exports=p},function(C,x,s){(function(d){"use strict";var y=function(){return{escape:function(M){return M.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:f,mimeType:function(M){var O=f(M).toLowerCase();return function(){var E="application/font-woff";return{woff:E,woff2:E,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[O]||""},dataAsUrl:function(M,O){return"data:"+O+";base64,"+M},isDataUrl:function(M){return M.search(/^(data:)/)!==-1},canvasToBlob:function(M){return M.toBlob?new Promise(function(O){M.toBlob(O)}):function(O){return new Promise(function(E){for(var A=window.atob(O.toDataURL().split(",")[1]),j=A.length,B=new Uint8Array(j),D=0;D<j;D++)B[D]=A.charCodeAt(D);E(new Blob([B],{type:"image/png"}))})}(M)},resolveUrl:function(M,O){var E=document.implementation.createHTMLDocument(),A=E.createElement("base");E.head.appendChild(A);var j=E.createElement("a");return E.body.appendChild(j),A.href=O,j.href=M,j.href},getAndEncode:function(M){var O=3e4;return r.impl.options.cacheBust&&(M+=(/\?/.test(M)?"&":"?")+new Date().getTime()),new Promise(function(E){var A,j=new XMLHttpRequest;if(j.onreadystatechange=function(){if(j.readyState===4){if(j.status!==200)return void(A?E(A):D("cannot fetch resource: "+M+", status: "+j.status));var T=new FileReader;T.onloadend=function(){var Y=T.result.split(/,/)[1];E(Y)},T.readAsDataURL(j.response)}},j.ontimeout=function(){A?E(A):D("timeout of "+O+"ms occured while fetching resource: "+M)},j.responseType="blob",j.timeout=O,j.open("GET",M,!0),j.send(),r.impl.options.imagePlaceholder){var B=r.impl.options.imagePlaceholder.split(/,/);B&&B[1]&&(A=B[1])}function D(T){console.error(T),E("")}})},uid:function(){var b=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+b++}}(),delay:function(M){return function(O){return new Promise(function(E){setTimeout(function(){E(O)},M)})}},asArray:function(M){for(var O=[],E=M.length,A=0;A<E;A++)O.push(M[A]);return O},escapeXhtml:function(M){return M.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(M){return new Promise(function(O,E){var A=new Image;A.onload=function(){O(A)},A.onerror=E,A.src=M})},width:function(M){var O=m(M,"border-left-width"),E=m(M,"border-right-width");return M.scrollWidth+O+E},height:function(M){var O=m(M,"border-top-width"),E=m(M,"border-bottom-width");return M.scrollHeight+O+E}};function f(b){var M=/\.([^\.\/]*?)$/g.exec(b);return M?M[1]:""}function m(b,M){var O=window.getComputedStyle(b).getPropertyValue(M);return parseFloat(O.replace("px",""))}}(),p=function(){var f=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(E,A,j){return m(E)?Promise.resolve(E).then(b).then(function(B){var D=Promise.resolve(E);return B.forEach(function(T){D=D.then(function(Y){return M(Y,T,A,j)})}),D}):Promise.resolve(E)},shouldProcess:m,impl:{readUrls:b,inline:M}};function m(O){return O.search(f)!==-1}function b(O){for(var E,A=[];(E=f.exec(O))!==null;)A.push(E[1]);return A.filter(function(j){return!y.isDataUrl(j)})}function M(O,E,A,j){return Promise.resolve(E).then(function(B){return A?y.resolveUrl(B,A):B}).then(j||y.getAndEncode).then(function(B){return y.dataAsUrl(B,y.mimeType(E))}).then(function(B){return O.replace(function(D){return new RegExp(`(url\\(['"]?)(`+y.escape(D)+`)(['"]?\\))`,"g")}(E),"$1"+B+"$3")})}}(),n=function(){return{resolveAll:function(){return f(document).then(function(b){return Promise.all(b.map(function(M){return M.resolve()}))}).then(function(b){return b.join(`
`)})},impl:{readAll:f}};function f(){return Promise.resolve(y.asArray(document.styleSheets)).then(function(b){var M=[];return b.forEach(function(O){try{y.asArray(O.cssRules||[]).forEach(M.push.bind(M))}catch(E){console.log("Error while reading CSS rules from "+O.href,E.toString())}}),M}).then(function(b){return b.filter(function(M){return M.type===CSSRule.FONT_FACE_RULE}).filter(function(M){return p.shouldProcess(M.style.getPropertyValue("src"))})}).then(function(b){return b.map(m)});function m(b){return{resolve:function(){var O=(b.parentStyleSheet||{}).href;return p.inlineAll(b.cssText,O)},src:function(){return b.style.getPropertyValue("src")}}}}}(),o=function(){return{inlineAll:function m(b){return b instanceof Element?function(M){var O=M.style.getPropertyValue("background");return O?p.inlineAll(O).then(function(E){M.style.setProperty("background",E,M.style.getPropertyPriority("background"))}).then(function(){return M}):Promise.resolve(M)}(b).then(function(){return b instanceof HTMLImageElement?f(b).inline():Promise.all(y.asArray(b.childNodes).map(function(M){return m(M)}))}):Promise.resolve(b)},impl:{newImage:f}};function f(m){return{inline:function(M){return y.isDataUrl(m.src)?Promise.resolve():Promise.resolve(m.src).then(M||y.getAndEncode).then(function(O){return y.dataAsUrl(O,y.mimeType(m.src))}).then(function(O){return new Promise(function(E,A){m.onload=E,m.onerror=A,m.src=O})})}}}}(),u={imagePlaceholder:void 0,cacheBust:!1},r={toSvg:i,toPng:function(m,b){return a(m,b||{}).then(function(M){return M.toDataURL()})},toJpeg:function(m,b){return a(m,b=b||{}).then(function(M){return M.toDataURL("image/jpeg",b.quality||1)})},toBlob:function(m,b){return a(m,b||{}).then(y.canvasToBlob)},toPixelData:function(m,b){return a(m,b||{}).then(function(M){return M.getContext("2d").getImageData(0,0,y.width(m),y.height(m)).data})},impl:{fontFaces:n,images:o,util:y,inliner:p,options:{}}};function i(f,m){return function(b){b.imagePlaceholder===void 0?r.impl.options.imagePlaceholder=u.imagePlaceholder:r.impl.options.imagePlaceholder=b.imagePlaceholder,b.cacheBust===void 0?r.impl.options.cacheBust=u.cacheBust:r.impl.options.cacheBust=b.cacheBust}(m=m||{}),Promise.resolve(f).then(function(b){return function(M,O,E){return!E&&O&&!O(M)?Promise.resolve():Promise.resolve(M).then(function(A){return A instanceof HTMLCanvasElement?y.makeImage(A.toDataURL()):A.cloneNode(!1)}).then(function(A){return function(j,B,D){var T=j.childNodes;return T.length===0?Promise.resolve(B):function(Y,G,U){var H=Promise.resolve();return G.forEach(function(J){H=H.then(function(){return c(J,U)}).then(function(ut){ut&&Y.appendChild(ut)})}),H}(B,y.asArray(T),D).then(function(){return B})}(M,A,O)}).then(function(A){return function(j,B){return B instanceof Element?Promise.resolve().then(function(){(function(D,T){D.cssText?T.cssText=D.cssText:function(Y,G){y.asArray(Y).forEach(function(U){G.setProperty(U,Y.getPropertyValue(U),Y.getPropertyPriority(U))})}(D,T)})(window.getComputedStyle(j),B.style)}).then(function(){[":before",":after"].forEach(function(D){(function(T){var Y=window.getComputedStyle(j,T),G=Y.getPropertyValue("content");if(G!==""&&G!=="none"){var U=y.uid();B.className=B.className+" "+U;var H=document.createElement("style");H.appendChild(function(J,ut,$){var K="."+J+":"+ut,ot=$.cssText?function(at){var ht=at.getPropertyValue("content");return at.cssText+" content: "+ht+";"}($):function(at){return y.asArray(at).map(function(ht){return ht+": "+at.getPropertyValue(ht)+(at.getPropertyPriority(ht)?" !important":"")}).join("; ")+";"}($);return document.createTextNode(K+"{"+ot+"}")}(U,T,Y)),B.appendChild(H)}})(D)})}).then(function(){j instanceof HTMLTextAreaElement&&(B.innerHTML=j.value),j instanceof HTMLInputElement&&B.setAttribute("value",j.value)}).then(function(){B instanceof SVGElement&&(B.setAttribute("xmlns","http://www.w3.org/2000/svg"),B instanceof SVGRectElement&&["width","height"].forEach(function(D){var T=B.getAttribute(D);T&&B.style.setProperty(D,T)}))}).then(function(){return B}):B}(M,A)})}(b,m.filter,!0)}).then(h).then(v).then(function(b){return m.bgcolor&&(b.style.backgroundColor=m.bgcolor),m.width&&(b.style.width=m.width+"px"),m.height&&(b.style.height=m.height+"px"),m.style&&Object.keys(m.style).forEach(function(M){b.style[M]=m.style[M]}),b}).then(function(b){return function(M,O,E){return Promise.resolve(M).then(function(A){return A.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(A)}).then(y.escapeXhtml).then(function(A){return'<foreignObject x="0" y="0" width="100%" height="100%">'+A+"</foreignObject>"}).then(function(A){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+O+'" height="'+E+'">'+A+"</svg>"}).then(function(A){return"data:image/svg+xml;charset=utf-8,"+A})}(b,m.width||y.width(f),m.height||y.height(f))})}function a(f,m){return i(f,m).then(y.makeImage).then(y.delay(100)).then(function(b){var M=function(O){var E=document.createElement("canvas");if(E.width=m.width||y.width(O),E.height=m.height||y.height(O),m.bgcolor){var A=E.getContext("2d");A.fillStyle=m.bgcolor,A.fillRect(0,0,E.width,E.height)}return E}(f);return M.getContext("2d").drawImage(b,0,0),M})}function c(f,m,b){if(!b&&m&&!m(f))return Promise.resolve();return Promise.resolve(f).then(M).then(function(A){return O(f,A,m)}).then(function(A){return E(f,A)});function M(A){return A instanceof HTMLCanvasElement?y.makeImage(A.toDataURL()):A.cloneNode(!1)}function O(A,j,B){var D=A.childNodes;return D.length===0?Promise.resolve(j):function(Y,G,U){var H=Promise.resolve();return G.forEach(function(J){H=H.then(function(){return c(J,U)}).then(function(ut){ut&&Y.appendChild(ut)})}),H}(j,y.asArray(D),B).then(function(){return j});function T(Y,G,U){var H=Promise.resolve();return G.forEach(function(J){H=H.then(function(){return c(J,U)}).then(function(ut){ut&&Y.appendChild(ut)})}),H}}function E(A,j){return j instanceof Element?Promise.resolve().then(function(){(function(G,U){G.cssText?U.cssText=G.cssText:function(H,J){y.asArray(H).forEach(function(ut){J.setProperty(ut,H.getPropertyValue(ut),H.getPropertyPriority(ut))})}(G,U)})(window.getComputedStyle(A),j.style)}).then(function(){[":before",":after"].forEach(function(G){(function(U){var H=window.getComputedStyle(A,U),J=H.getPropertyValue("content");if(!(J===""||J==="none")){var ut=y.uid();j.className=j.className+" "+ut;var $=document.createElement("style");$.appendChild(function(K,ot,at){var ht="."+K+":"+ot,St=at.cssText?function(pt){var xt=pt.getPropertyValue("content");return pt.cssText+" content: "+xt+";"}(at):function(pt){return y.asArray(pt).map(function(xt){return xt+": "+pt.getPropertyValue(xt)+(pt.getPropertyPriority(xt)?" !important":"")}).join("; ")+";"}(at);return document.createTextNode(ht+"{"+St+"}")}(ut,U,H)),j.appendChild($)}})(G)})}).then(function(){A instanceof HTMLTextAreaElement&&(j.innerHTML=A.value),A instanceof HTMLInputElement&&j.setAttribute("value",A.value)}).then(function(){j instanceof SVGElement&&(j.setAttribute("xmlns","http://www.w3.org/2000/svg"),j instanceof SVGRectElement&&["width","height"].forEach(function(G){var U=j.getAttribute(G);U&&j.style.setProperty(G,U)}))}).then(function(){return j}):j;function B(){function G(U,H){U.cssText?H.cssText=U.cssText:J(U,H);function J(ut,$){y.asArray(ut).forEach(function(K){$.setProperty(K,ut.getPropertyValue(K),ut.getPropertyPriority(K))})}}G(window.getComputedStyle(A),j.style)}function D(){function G(U){var H=window.getComputedStyle(A,U),J=H.getPropertyValue("content");if(J===""||J==="none")return;var ut=y.uid();j.className=j.className+" "+ut;var $=document.createElement("style");function K(ot,at,ht){var St="."+ot+":"+at,pt=ht.cssText?xt(ht):vt(ht);return document.createTextNode(St+"{"+pt+"}");function xt(gt){var _t=gt.getPropertyValue("content");return gt.cssText+" content: "+_t+";"}function vt(gt){return y.asArray(gt).map(_t).join("; ")+";";function _t(Bt){return Bt+": "+gt.getPropertyValue(Bt)+(gt.getPropertyPriority(Bt)?" !important":"")}}}$.appendChild(K(ut,U,H)),j.appendChild($)}[":before",":after"].forEach(function(U){G(U)})}function T(){A instanceof HTMLTextAreaElement&&(j.innerHTML=A.value),A instanceof HTMLInputElement&&j.setAttribute("value",A.value)}function Y(){j instanceof SVGElement&&(j.setAttribute("xmlns","http://www.w3.org/2000/svg"),j instanceof SVGRectElement&&["width","height"].forEach(function(G){var U=j.getAttribute(G);!U||j.style.setProperty(G,U)}))}}}function h(f){return n.resolveAll().then(function(m){var b=document.createElement("style");return f.appendChild(b),b.appendChild(document.createTextNode(m)),f})}function v(f){return o.inlineAll(f).then(function(){return f})}C.exports=r})()},function(C,x,s){function d(u,r,i){return r in u?Object.defineProperty(u,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[r]=i,u}var y=s(26),p=s(248),n=s(705),o=function(){function u(i){this.options=function(a){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{},v=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(h).filter(function(f){return Object.getOwnPropertyDescriptor(h,f).enumerable}))),v.forEach(function(f){d(a,f,h[f])})}return a}({graph:null,width:null,height:null,canvas:null,beforeTransform:function(){},afterTransform:function(){},drawCount:0},i)}var r=u.prototype;return r.getCanvas=function(){var i=this.options,a=i.width,c=i.height,h=i.canvas;if(!h){var v=y.createDOM("<canvas></canvas>");h=new p.Canvas({containerDOM:v,width:a,height:c})}return h.drawCount||(h.drawCount=0),h},r.drawInner=function(i,a){var c=this.options.graph,h=c.getCanvas(),v=c.get("renderer"),f=i.drawCount;if(v==="svg"){var m=[];h.deepEach(function(b){b.get("type")==="dom"&&m.push(b)}),m.length>0?m.forEach(function(b){var M=b.get("el");if(M){b.domImageOnload=!1;var O=b.attr("width"),E=b.attr("height");n.toPng(M,{width:O,height:E}).then(function(A){var j=new Image;j.src=A,j.onload=function(){if(f===i.drawCount-1){b.domImage=j,b.domImageOnload=!0;for(var B=0;B<m.length;B++){var D=m[B];if(!D.domImageOnload||D.get("destroyed"))break;D.domImageOnload&&B===m.length-1&&a()}}}})}}):a()}else a();i.drawCount+=1},r.toCanvas=function(){var i=this.options,a=i.graph,c=i.width,h=i.height,v=i.beforeTransform,f=i.limitRatio,m=i.afterTransform,b=this.getCanvas(),M=a.getBBox(),O=y.clone(a.getMatrix()),E=a.getFitViewPadding(),A=a.getCanvas(),j=y.getAutoZoomMatrix({minX:0,minY:0,maxX:c,maxY:h},M,E,f);return this.drawInner(b,function(){var B=A.get("children");b.set("children",B),v(j,O),a.setMatrix(j),b.draw(),a.setMatrix(O),m(j,O)}),b.matrix=j,b.get("el")},u}();C.exports=o},function(C,x,s){var d=s(26),y=function(p){function n(o){var u={type:"guide",isGuide:!0,zIndex:4};return d.mix(u,o),p.call(this,u)||this}return function(o,u){o.prototype=Object.create(u.prototype),o.prototype.constructor=o,o.__proto__=u}(n,p),n}(s(608));C.exports=y},function(C,x,s){var d=s(26),y=function(p){function n(u){var r={type:"group",isNode:!1,isGroup:!0,zIndex:1};return d.mix(r,u),p.call(this,r)||this}(function(u,r){u.prototype=Object.create(r.prototype),u.prototype.constructor=u,u.__proto__=r})(n,p);var o=n.prototype;return o._beforeDraw=function(){this.deepEach(function(u,r){r&&(u.zIndex=r.zIndex+1),u.updateCollapsedParent(),u.collapsedParent?u.hide():u.show()}),this.getInnerEdges().forEach(function(u){u.linkedItemVisible()?u.show():u.hide()}),p.prototype._beforeDraw.call(this)},o.updatePosition=function(){},o._shouldDraw=function(){return!0},o.getCrossEdges=function(){var u=[],r=this.getInnerEdges();this.deepEach(function(a){u.push(a.id)});var i=r.filter(function(a){var c=a.getModel();return u.indexOf(c.source)===-1||u.indexOf(c.target)===-1});return d.uniq(i)},o.getInnerEdges=function(){var u=[];return this.deepEach(function(r){r.getEdges().forEach(function(i){u.push(i)})}),d.uniq(u)},o.getChildrenBBox=function(){var u=this.getChildren().map(function(r){return r.getGraphicGroup()});return d.getChildrenBBox(u)},n}(s(624));C.exports=y},function(C,x,s){function d(n,o,u){return o in n?Object.defineProperty(n,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[o]=u,n}var y=s(26),p=function(n){function o(r){var i={type:"edge",isEdge:!0,zIndex:2};return y.mix(i,r),n.call(this,i)||this}(function(r,i){r.prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i})(o,n);var u=o.prototype;return u._init=function(){n.prototype._init.call(this)},u._beforeDraw=function(){var r=this.model,i=this.itemMap;y.isObject(r.source)?this.source=r.source:this.source=i[r.source],y.isObject(r.target)?this.target=r.target:this.target=i[r.target],n.prototype._beforeDraw.call(this)},u._afterDraw=function(){this.linkedItemVisible()||this.hide(),this._addArrow(),n.prototype._afterDraw.call(this)},u._addArrow=function(){var r=this.model,i=this.keyShape;if(i.get("type")==="path"){var a=this.shapeObj,c=i.attr("endArrow"),h=i.attr("startArrow"),v=r.endArrow||c,f=r.startArrow||h;h&&i.attr("startArrow",!1),c&&i.attr("endArrow",!1),v&&this._drawArrow(a.endArrow,"end"),f&&this._drawArrow(a.startArrow,"start")}},u._drawArrow=function(r,i){var a=r.path,c=r.shorten,h=r.tangent,v=r.ratio,f=r.style;h=h(this),c=c(this),a=a(this),f=f(this),v=v();var m=this.group,b=this.keyShape,M=y.parsePathString(b.attr("path")),O=M[M.length-1],E=M[0],A=b.getPoint(v);if(A&&!isNaN(A.x)){var j=m.addShape("path",{attrs:function(H){for(var J=1;J<arguments.length;J++){var ut=arguments[J]!=null?arguments[J]:{},$=Object.keys(ut);typeof Object.getOwnPropertySymbols=="function"&&($=$.concat(Object.getOwnPropertySymbols(ut).filter(function(K){return Object.getOwnPropertyDescriptor(ut,K).enumerable}))),$.forEach(function(K){d(H,K,ut[K])})}return H}({path:a},f)}),B=h[1][0]-h[0][0],D=h[1][1]-h[0][1],T=c/Math.sqrt(B*B+D*D),Y=[-B*T,-D*T],G=0,U=Math.atan(B/D);D===0&&B<0?G=Math.PI:B>0&&D>0?G=Math.PI/2-U:B<0&&D<0?G=-Math.PI/2-U:B>=0&&D<0?G=-U-Math.PI/2:B<=0&&D>0&&(G=Math.PI/2-U),j.rotate(G),j.translate(A.x,A.y),i==="end"?(O[O.length-1]=Y[1]+A.y,O[O.length-2]=Y[0]+A.x):(E[E.length-1]=Y[1]+A.y,E[E.length-2]=Y[0]+A.x),b.attr("path",M),this[i+"Arrow"]=j}},u._getControlPoints=function(){var r=this.model.controlPoints;return y.isArray(r)?r:[]},u._shouldDraw=function(){return n.prototype._shouldDraw.call(this)&&this.linkedItemVisible()},u._getPoint=function(r){if(r.isItem){var i=r.getBBox();return{x:i.centerX,y:i.centerY}}return{x:r.x,y:r.y}},u.linkedItemVisible=function(){var r=this.source,i=this.target;return y.isPlainObject(r)||y.isPlainObject(i)||r.isVisible()||i.isVisible()||r.collapsedParent!==i.collapsedParent},u.getSource=function(){var r=this.source,i=r.collapsedParent,a=this.itemMap;return i?a[i.id]:r},u.getTarget=function(){var r=this.target,i=r.collapsedParent,a=this.itemMap;return i?a[i.id]:r},u.getPoints=function(){var r=this.getSource(),i=this.getTarget(),a=this.model,c=this._getControlPoints(),h=this._getPoint(r),v=this._getPoint(i),f=[h].concat(c).concat([v]),m=f.length;if(r.isItem){var b=y.isNumber(this.model.sourceAnchor)&&r.id===a.source?this.model.sourceAnchor:f[1],M=r.getLinkPoints(b);f[0]=M[0]}if(i.isItem){var O=y.isNumber(this.model.targetAnchor)&&i.id===a.target?this.model.targetAnchor:f[m-2],E=i.getLinkPoints(O);f[m-1]=E[0]}return f},u.destroy=function(){var r=this.itemMap,i=this.model,a=r[i.source],c=r[i.target];a&&a.isItem&&y.Array.remove(a.edges,this),c&&c.isItem&&y.Array.remove(c.edges,this),n.prototype.destroy.call(this)},o}(s(608));C.exports=p},function(C,x,s){C.exports={Node:s(624),Edge:s(709),Group:s(708),Guide:s(707)}},function(C,x,s){var d;/*!
 * EventEmitter v5.2.5 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */(function(y){"use strict";function p(){}var n=p.prototype,o=y.EventEmitter;function u(i,a){for(var c=i.length;c--;)if(i[c].listener===a)return c;return-1}function r(i){return function(){return this[i].apply(this,arguments)}}n.getListeners=function(i){var a,c,h=this._getEvents();if(i instanceof RegExp)for(c in a={},h)h.hasOwnProperty(c)&&i.test(c)&&(a[c]=h[c]);else a=h[i]||(h[i]=[]);return a},n.flattenListeners=function(i){var a,c=[];for(a=0;a<i.length;a+=1)c.push(i[a].listener);return c},n.getListenersAsObject=function(i){var a,c=this.getListeners(i);return c instanceof Array&&((a={})[i]=c),a||c},n.addListener=function(i,a){if(!function f(m){return typeof m=="function"||m instanceof RegExp||!(!m||typeof m!="object")&&f(m.listener)}(a))throw new TypeError("listener must be a function");var c,h=this.getListenersAsObject(i),v=typeof a=="object";for(c in h)h.hasOwnProperty(c)&&u(h[c],a)===-1&&h[c].push(v?a:{listener:a,once:!1});return this},n.on=r("addListener"),n.addOnceListener=function(i,a){return this.addListener(i,{listener:a,once:!0})},n.once=r("addOnceListener"),n.defineEvent=function(i){return this.getListeners(i),this},n.defineEvents=function(i){for(var a=0;a<i.length;a+=1)this.defineEvent(i[a]);return this},n.removeListener=function(i,a){var c,h,v=this.getListenersAsObject(i);for(h in v)v.hasOwnProperty(h)&&(c=u(v[h],a))!==-1&&v[h].splice(c,1);return this},n.off=r("removeListener"),n.addListeners=function(i,a){return this.manipulateListeners(!1,i,a)},n.removeListeners=function(i,a){return this.manipulateListeners(!0,i,a)},n.manipulateListeners=function(i,a,c){var h,v,f=i?this.removeListener:this.addListener,m=i?this.removeListeners:this.addListeners;if(typeof a!="object"||a instanceof RegExp)for(h=c.length;h--;)f.call(this,a,c[h]);else for(h in a)a.hasOwnProperty(h)&&(v=a[h])&&(typeof v=="function"?f.call(this,h,v):m.call(this,h,v));return this},n.removeEvent=function(i){var a,c=typeof i,h=this._getEvents();if(c==="string")delete h[i];else if(i instanceof RegExp)for(a in h)h.hasOwnProperty(a)&&i.test(a)&&delete h[a];else delete this._events;return this},n.removeAllListeners=r("removeEvent"),n.emitEvent=function(i,a){var c,h,v,f,m=this.getListenersAsObject(i);for(f in m)if(m.hasOwnProperty(f))for(c=m[f].slice(0),v=0;v<c.length;v++)(h=c[v]).once===!0&&this.removeListener(i,h.listener),h.listener.apply(this,a||[])===this._getOnceReturnValue()&&this.removeListener(i,h.listener);return this},n.trigger=r("emitEvent"),n.emit=function(i){var a=Array.prototype.slice.call(arguments,1);return this.emitEvent(i,a)},n.setOnceReturnValue=function(i){return this._onceReturnValue=i,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},p.noConflict=function(){return y.EventEmitter=o,p},(d=function(){return p}.call(y,s,y,C))===void 0||(C.exports=d)})(typeof window!="undefined"?window:this||{})},function(C,x,s){var d=s(26),y=function(p){(function(u,r){u.prototype=Object.create(r.prototype),u.prototype.constructor=u,u.__proto__=r})(o,p);var n=o.prototype;function o(u){var r,i=(r=p.call(this)||this).getDefaultCfg();return r._cfg=d.mix({},i,u),r}return n.getDefaultCfg=function(){return{}},n.get=function(u){return this._cfg[u]},n.set=function(u,r){this._cfg[u]=r},n.destroy=function(){this._cfg={},this.removeAllListeners(),this.destroyed=!0},o}(s(711));C.exports=y},function(C,x,s){var d=s(26),y=s(248),p=function(){};d.augment(p,{drawInner:function(o){var u=d.clone(this.getTotalMatrix()),r=this._attrs,i=r.x,a=r.y,c=r.width,h=r.height;o.setTransform(u[0],u[1],u[3],u[4],u[6],u[7]),o.drawImage(this.domImage,i,a,c,h)}}),d.mixin(y.Dom,[p]),C.exports=p},function(C,x,s){var d=s(26),y=s(248),p=function(){};d.augment(p,{hasClass:function(o){var u=this.get("class");return!(!u||u.indexOf(o)===-1)}}),d.mixin(y.Shape,[p]),C.exports=p},function(C,x,s){var d=s(248),y=s(26),p=function(){};y.augment(p,{findByClass:function(o){var u=[];return this.deepEach(function(r){r.hasClass(o)&&u.push(r)}),u},hasClass:function(o){var u=this.get("class");return!(!u||u.indexOf(o)===-1)},deepEach:function(o,u){y.traverseTree(this,o,function(r){return r.get("children")},u)},sort:function(){var o=this.get("children");this.set("children",y.radixSort(o,function(u){return u.get("zIndex")}))},sortBy:function(o){var u=this.get("children");this.set("children",y.radixSort(u,o))},clear:function(o){for(var u=this._cfg.children,r=u.length-1;r>=0;r--)u[r].remove(o);return this._cfg.children=[],this}}),y.mixin(d.Group,[p]),C.exports=p},function(C,x,s){s(258).registerGuide("common",{draw:function(){console.warn("do not have this guide, please register one")}})},function(C,x,s){C.exports={common:s(716)}},function(C,x,s){function d(o,u,r){return u in o?Object.defineProperty(o,u,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[u]=r,o}var y=s(258),p=s(26),n=s(247);y.registerGroup("common",{draw:function(u){return u.getModel().collapsed?this.drawCollapsed(u):this.drawExpanded(u)},defaultWidth:184,defaultHeight:40,getLabel:function(u){return u.getModel().label},drawLabel:function(u,r,i){var a=this.getLabel(u);if(a){var c=u.getGraphicGroup(),h=[8,8];r+=h[0],i+=h[1];var v=u.getModel(),f=v.labelOffsetX,m=v.labelOffsetY,b=v.labelRotate;r=f?f+r:r,i=m?m+i:i;var M=p.mix(!0,{},n.labelStyle,{x:r,y:i,textAlign:"left",textBaseline:"top"});p.isObject(a)?p.mix(M,a):M.text=a;var O=c.addShape("text",{class:"label",attrs:M});if(b){var E=O.getBBox(),A=(E.maxX+E.minX)/2,j=(E.maxY+E.minY)/2;O.transform([["t",-A,-j],["r",b,b],["t",A,j]])}}},drawKeyShape:function(u,r){var i=r.x,a=r.y,c=r.width,h=r.height,v=u.getModel(),f=u.getGraphicGroup(),m=p.mix({},n.groupStyle,v.style),b=p.getRectPath(i,a,c,h,m.radius);return u.lastChildrenBox=r,f.addShape("path",{attrs:p.mix({},m,{path:b})})},getChildrenBBox:function(u){var r=function(c){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{},f=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(v).filter(function(m){return Object.getOwnPropertyDescriptor(v,m).enumerable}))),f.forEach(function(m){d(c,m,v[m])})}return c}({},u.lastChildrenBox),i=u.getModel();if(u.getChildren().length>0){var a=u.getChildrenBBox();r.x=a.minX-n.groupBackgroundPadding[3],r.y=a.minY-n.groupBackgroundPadding[0],r.width=a.maxX-a.minX+n.groupBackgroundPadding[3]+n.groupBackgroundPadding[1],r.height=a.maxY-a.minY+n.groupBackgroundPadding[0]+n.groupBackgroundPadding[2]}else r.width=this.defaultWidth,r.height=this.defaultHeight;return p.isNil(r.x)&&!p.isNil(i.x)&&(r.x=i.x),p.isNil(r.y)&&!p.isNil(i.y)&&(r.y=i.y),r},drawExpanded:function(u){var r=this.getChildrenBBox(u),i=this.drawKeyShape(u,r);return this.drawLabel(u,r.x,r.y),i},drawCollapsed:function(u){var r=this.getChildrenBBox(u);r.width=this.defaultWidth,r.height=this.defaultHeight;var i=this.drawKeyShape(u,r);return this.drawLabel(u,r.x,r.y),i},anchor:{intersectBox:"rect"}})},function(C,x,s){C.exports={common:s(718)}},function(C,x,s){function d(r){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{},c=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(a).filter(function(h){return Object.getOwnPropertyDescriptor(a,h).enumerable}))),c.forEach(function(h){y(r,h,a[h])})}return r}function y(r,i,a){return i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r}var p=s(258),n=s(26),o=s(247),u={path:function(i){var a=i.getKeyShape().attr("lineWidth"),c=10*(a=a>3?a:3)/3,h=4*a/3,v=4*a;return[["M",-c,h],["L",0,0],["L",-c,-h],["A",v,v,0,0,1,-c,h],["Z"]]},shorten:function(i){var a=i.getKeyShape().attr("lineWidth");return 3.1*(a>3?a:3)},style:function(i){var a=i.getKeyShape().attr();return{fillOpacity:a.strokeOpacity,fill:a.stroke}}};p.registerEdge("common",{draw:function(i){var a=this.drawKeyShape(i);return this.drawLabel(i,a),a},drawKeyShape:function(i){var a=i.getGraphicGroup(),c=this.getStyle(i),h=this.getPath(i);return a.addShape("path",{attrs:n.mix({},c,{path:h})})},getStyle:function(i){var a=i.getModel();return n.mix(!0,{},{stroke:a.color||"#A3B1BF",strokeOpacity:.92,lineAppendWidth:4,lineWidth:a.size||1},a.style)},getPath:function(i){var a=i.getPoints();return n.pointsToPolygon(a)},getLabel:function(i){return i.getModel().label},getDefaultLabelRectStyle:function(){return{fill:"white"}},getDefaultLabelRectPadding:function(){return n.toAllPadding([4,8])},drawLabel:function(i,a){var c=this.getLabel(i),h=i.getGraphicGroup(),v=i.getModel(),f=v.labelOffsetX,m=v.labelOffsetY,b=v.labelRotate;if(c){var M=a.getPoint(.5);if(!M)return;M.x=f?M.x+f:M.x,M.y=m?M.y+m:M.y;var O=n.mix(!0,{},o.labelStyle,M);n.isObject(c)?n.mix(O,c):O.text=c,c=h.addShape("text",{class:"label",attrs:O});var E=this.getDefaultLabelRectPadding(i),A=this.getDefaultLabelRectStyle(i),j=c.getBBox(),B=v.labelRectStyle?n.mix({},A,v.labelRectStyle):A,D=h.addShape("rect",{attrs:n.mix({},B,{x:j.minX-E[3],y:j.minY-E[0],width:j.maxX-j.minX+E[1]+E[3],height:j.maxY-j.minY+E[0]+E[2]})});if(b){var T=(j.maxX+j.minX)/2,Y=(j.maxY+j.minY)/2;c.transform([["t",-T,-Y],["r",b,b],["t",T,Y]]),D.transform([["t",-T,-Y],["r",b,b],["t",T,Y]])}n.toFront(c)}},startArrow:d({},u,{tangent:function(i){return i.getKeyShape().getStartTangent()},ratio:function(){return 0}}),endArrow:d({},u,{tangent:function(i){return i.getKeyShape().getEndTangent()},ratio:function(){return 1}})})},function(C,x,s){C.exports={common:s(720)}},function(C,x,s){var d=s(258),y=s(26);d.registerNode("html",{getHtml:function(n){return n.getModel().html},cssSize:!0,draw:function(n){var o=y.createDOM('<div class="g6-html-node-container"></div>'),u=n.getGraphicGroup(),r=n.getGraph();if(r.get("renderer")!=="svg")throw new Error("please use svg renderer draw html element !");var i=r.getGraphContainer(),a=this.getSize(n),c=this.getStyle(n),h=this.cssSize,v=this.getHtml(n);v=y.createDOM(v),o.css({position:"absolute",padding:"0px",margin:"0px"}),o.appendChild(v),i.appendChild(o),h&&(a[0]=o.width(),a[1]=o.height());var f=-a[0]/2,m=-a[1]/2,b=a[0],M=a[1],O=u.addShape("rect",{attrs:y.mix({},c,{x:f,y:m,width:b,height:M})});return u.addShape("dom",{attrs:y.mix({x:f,y:m,width:b,height:M,html:o})}),O}})},function(C,x,s){var d=s(258),y=s(26),p=s(247);d.registerNode("common",{draw:function(o){var u=o.getGraphicGroup(),r=this.drawLabel(o),i=this.drawKeyShape(o);return r&&y.toFront(r,u),i},getSize:function(o){var u=o.getModel().size;return y.isArray(u)?u:y.isNumber(u)?[u,u]:[p.defaultNodeSize,p.defaultNodeSize]},getStyle:function(o){var u=o.getModel();return y.mix(!0,{lineWidth:1,fill:u.color||"#40a9ff",stroke:u.color||"#096dd9",fillOpacity:.92},u.style)},getLabel:function(o){return o.getModel().label},drawKeyShape:function(o){var u=o.getGraphicGroup(),r=this.getStyle(o),i=this.getPath(o);return u.addShape("path",{attrs:y.mix({},r,{path:i})})},drawLabel:function(o){var u=o.getGraphicGroup(),r=this.getLabel(o),i=o.getModel(),a=i.labelOffsetX,c=i.labelOffsetY,h=i.labelRotate;if(!y.isNil(r)){var v=y.mix(!0,{},p.labelStyle,{x:a||0,y:c||0});y.isObject(r)?y.mix(v,r):v.text=r;var f=u.addShape("text",{class:"label",attrs:v});return h&&f.rotate(h),f}},getPath:function(o){var u=this.getSize(o);return y.getEllipsePath(0,0,u[0]/2,u[1]/2)}})},function(C,x,s){C.exports={common:s(723),html:s(722)}},function(C,x,s){var d=s(682),y=s(257),p={getAutoZoomMatrix:function(o,u,r,i){var a=[1,0,0,0,1,0,0,0,1],c=o.maxX-o.minX,h=o.maxY-o.minY,v=(u.maxX+u.minX)/2,f=(u.maxY+u.minY)/2,m=c-r[1]-r[3],b=h-r[0]-r[2],M=u.maxX-u.minX,O=u.maxY-u.minY,E=Math.min(b/O,m/M);return i&&(E=i(E)),d.mat3.translate(a,a,[-v,-f]),d.mat3.scale(a,a,[E,E]),d.mat3.translate(a,a,[c/2,h/2]),a},getNineBoxPosition:function(o,u,r,i,a){var c={};switch(o){case"tl":c.y=u.x+a[0],c.x=u.y+a[3];break;case"lc":c.y=(u.height-i)/2,c.x=a[3];break;case"bl":c.y=u.height-i-a[2],c.x=a[3];break;case"cc":c.y=(u.height-i)/2,c.x=(u.width-r)/2;break;case"tc":c.y=a[0],c.x=(u.width-r)/2;break;case"tr":c.y=a[0],c.x=u.width-r-a[1];break;case"rc":c.y=(u.height-i)/2,c.x=u.width-r-a[1];break;case"br":c.y=u.height-i-a[2],c.x=u.width-r-a[1];break;case"bc":c.y=u.height-i-a[2],c.x=(u.width-r)/2;break;default:c.y=u.x+a[0],c.x=u.y+a[3]}return c.x+=u.x,c.y+=u.y,c},getTotalBBox:function(o){var u=1/0,r=-1/0,i=1/0,a=-1/0;return o.forEach(function(c){c.minX<u&&(u=c.minX),c.maxX>r&&(r=c.maxX),c.minY<i&&(i=c.minY),c.maxY>a&&(a=c.maxY)}),{minX:u,minY:i,maxX:r,maxY:a,width:r-u,height:a-i}},getChildrenBBox:function(o){var u=1/0,r=-1/0,i=1/0,a=-1/0;y.each(o,function(h){var v=h.isGroup?p.getChildrenBBox(h.get("children")):h.getBBox();if(!v)return!0;var f=[v.minX,v.minY,1],m=[v.minX,v.maxY,1],b=[v.maxX,v.minY,1],M=[v.maxX,v.maxY,1];h.apply(f),h.apply(m),h.apply(b),h.apply(M);var O=Math.min(f[0],m[0],b[0],M[0]),E=Math.max(f[0],m[0],b[0],M[0]),A=Math.min(f[1],m[1],b[1],M[1]),j=Math.max(f[1],m[1],b[1],M[1]);O<u&&(u=O),E>r&&(r=E),A<i&&(i=A),j>a&&(a=j)});var c={minX:u,minY:i,maxX:r,maxY:a};return c.x=c.minX,c.y=c.minY,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY,c.centerX=(c.minX+c.maxX)/2,c.centerY=(c.minY+c.maxY)/2,c},getBBox:function(o,u){var r,i=o.getBBox(),a={x:i.minX,y:i.minY},c={x:i.maxX,y:i.maxY};if(u.isGroup){for(r=o;r!==u;){var h=r.getMatrix();a=d.applyMatrix(a,h),c=d.applyMatrix(c,h),r=r.getParent()}var v=r.getMatrix();a=d.applyMatrix(a,v),c=d.applyMatrix(c,v)}else a=d.applyMatrix(a,u),c=d.applyMatrix(c,u);return{minX:a.x,minY:a.y,maxX:c.x,maxY:c.y}},toBack:function(o){o.toBack()},toFront:function(o){o.toFront()}};C.exports=p},function(C,x,s){var d=s(257);C.exports={isNode:function(p){return p&&d.isObject(p)&&p.type==="node"},isEdge:function(p){return p&&d.isObject(p)&&p.type==="edge"},isGroup:function(p){return p&&d.isObject(p)&&p.type==="group"}}},function(C,x,s){var d=s(257),y={};d.mix(y,{addEventListener:function(n,o,u){return n.attachEvent?(n.attachEvent("on"+o,u),{remove:function(){n.detachEvent("on"+o,u)}}):n.addEventListener?(n.addEventListener(o,u,!1),{remove:function(){n.removeEventListener(o,u,!1)}}):void 0},createDOM:function(n,o){var u;return(u=d.isString(n)?d.createDom(n):n).bbox=u.getBoundingClientRect(),u.hide=function(){return u.style.visibility="hidden",u},u.show=function(){return u.style.visibility="visible",u},u.css=function(r){return d.modifyCSS(u,r),u},u.width=function(){return d.getWidth(u)},u.height=function(){return d.getHeight(u)},u.destroy=function(){u.parentNode&&u.parentNode.removeChild(u)},u.on=function(r,i){u.addEventListener(r,i)},u.off=function(r,i){u.removeEventListener(r,i)},u.css(o),u},initDOMContainer:function(n,o){if(!n)throw new Error("please set the container for the "+o+" !");return d.isString(n)&&(n=document.getElementById(n)),n}}),C.exports=y},function(C,x){var s={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};C.exports=function(d,y,p){var n=p.target||p.srcElement;if(!s[n.tagName]){for(var o=n.parentNode;o&&!s[o.tagName];)o=o.parentNode;n=o}return this._cfg.el===n?this:this.find(function(u){return u._cfg&&u._cfg.el===n})}},function(C,x,s){var d=s(19),y=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,p=function(){function n(o){var u=document.createElementNS("http://www.w3.org/2000/svg","pattern");u.setAttribute("patternUnits","userSpaceOnUse");var r=document.createElementNS("http://www.w3.org/2000/svg","image");u.appendChild(r);var i=d.uniqueId("pattern_");u.id=i,this.el=u,this.id=i,this.cfg=o;var a=y.exec(o)[2];r.setAttribute("href",a);var c=new Image;function h(){console.log(c.width,c.height),u.setAttribute("width",c.width),u.setAttribute("height",c.height)}return a.match(/^data:/i)||(c.crossOrigin="Anonymous"),c.src=a,c.complete?h():(c.onload=h,c.src=c.src),this}return n.prototype.match=function(o,u){return this.cfg===u},n}();C.exports=p},function(C,x,s){var d=s(19),y=function(){function p(o){this.type="clip";var u=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=u,this.id=d.uniqueId("clip_"),u.id=this.id;var r=o._cfg.el;return u.appendChild(r.cloneNode(!0)),this.cfg=o,this}var n=p.prototype;return n.match=function(){return!1},n.remove=function(){var o=this.el;o.parentNode.removeChild(o)},p}();C.exports=y},function(C,x,s){var d=s(19),y=function(){function p(o,u){var r=document.createElementNS("http://www.w3.org/2000/svg","marker"),i=d.uniqueId("marker_");r.setAttribute("id",i);var a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("stroke","none"),a.setAttribute("fill",o.stroke||"#000"),r.appendChild(a),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=a,this.id=i,this.cfg=o[u==="marker-start"?"startArrow":"endArrow"],this.stroke=o.stroke||"#000",this.cfg===!0?this._setDefaultPath(u,a):this._setMarker(o.lineWidth,a),this}var n=p.prototype;return n.match=function(){return!1},n._setDefaultPath=function(o,u){var r=this.el;u.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),r.setAttribute("refX",3),r.setAttribute("refY",3)},n._setMarker=function(o,u){var r=this.el,i=this.cfg.path,a=this.cfg.d;d.isArray(i)&&(i=i.map(function(c){return c.join(" ")}).join("")),u.setAttribute("d",i),r.appendChild(u),a&&r.setAttribute("refX",a/o)},n.update=function(o){var u=this.child;u.attr?u.attr("fill",o):u.setAttribute("fill",o)},p}();C.exports=y},function(C,x,s){var d=s(19),y={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},p={x:"-40%",y:"-40%",width:"200%",height:"200%"},n=function(){function o(r){this.type="filter";var i=document.createElementNS("http://www.w3.org/2000/svg","filter");return d.each(p,function(a,c){i.setAttribute(c,a)}),this.el=i,this.id=d.uniqueId("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,i),this}var u=o.prototype;return u.match=function(r,i){if(this.type!==r)return!1;var a=!0,c=this.cfg;return d.each(Object.keys(c),function(h){if(c[h]!==i[h])return a=!1,!1}),a},u.update=function(r,i){var a=this.cfg;return a[y[r]]=i,this._parseShadow(a,this.el),this},u._parseShadow=function(r,i){var a=`<feDropShadow 
      dx="`+(r.dx||0)+`" 
      dy="`+(r.dy||0)+`" 
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;i.innerHTML=a},o}();C.exports=n},function(C,x,s){var d=s(19),y=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,p=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,n=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function o(r){var i=r.match(n);if(!i)return"";var a="";return i.sort(function(c,h){return c=c.split(":"),h=h.split(":"),Number(c[0])-Number(h[0])}),d.each(i,function(c){c=c.split(":"),a+='<stop offset="'+c[0]+'" stop-color="'+c[1]+'"></stop>'}),a}var u=function(){function r(i){var a=null,c=d.uniqueId("gradient_");return i.toLowerCase()[0]==="l"?function(h,v){var f,m,b=y.exec(h),M=d.mod(d.toRadian(parseFloat(b[1])),2*Math.PI),O=b[2];M>=0&&M<.5*Math.PI?(f={x:0,y:0},m={x:1,y:1}):.5*Math.PI<=M&&M<Math.PI?(f={x:1,y:0},m={x:0,y:1}):Math.PI<=M&&M<1.5*Math.PI?(f={x:1,y:1},m={x:0,y:0}):(f={x:0,y:1},m={x:1,y:0});var E=Math.tan(M),A=E*E,j=(m.x-f.x+E*(m.y-f.y))/(A+1)+f.x,B=E*(m.x-f.x+E*(m.y-f.y))/(A+1)+f.y;v.setAttribute("x1",f.x),v.setAttribute("y1",f.y),v.setAttribute("x2",j),v.setAttribute("y2",B),v.innerHTML=o(O)}(i,a=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(h,v){var f=p.exec(h),m=parseFloat(f[1]),b=parseFloat(f[2]),M=parseFloat(f[3]),O=f[4];v.setAttribute("cx",m),v.setAttribute("cy",b),v.setAttribute("r",M),v.innerHTML=o(O)}(i,a=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),a.setAttribute("id",c),this.el=a,this.id=c,this.cfg=i,this}return r.prototype.match=function(i,a){return this.cfg===a},r}();C.exports=u},function(C,x,s){var d=s(19),y=s(733),p=s(732),n=s(731),o=s(730),u=s(729),r=function(){function i(c){var h=document.createElementNS("http://www.w3.org/2000/svg","defs"),v=d.uniqueId("defs_");h.id=v,c.appendChild(h),this.children=[],this.defaultArrow={},this.el=h,this.canvas=c}var a=i.prototype;return a.find=function(c,h){for(var v=this.children,f=null,m=0;m<v.length;m++)if(v[m].match(c,h)){f=v[m].id;break}return f},a.findById=function(c){for(var h=this.children,v=null,f=0;f<h.length;f++)if(h[f].id===c){v=h[f];break}return v},a.add=function(c){this.children.push(c),c.canvas=this.canvas,c.parent=this},a.getDefaultArrow=function(c,h){var v=c.stroke||c.strokeStyle;if(this.defaultArrow[v])return this.defaultArrow[v].id;var f=new n(c,h);return this.defaultArrow[v]=f,this.el.appendChild(f.el),f.id},a.addGradient=function(c){var h=new y(c);return this.el.appendChild(h.el),this.add(h),h.id},a.addArrow=function(c,h){var v=new n(c,h);return this.el.appendChild(v.el),v.id},a.addShadow=function(c){var h=new p(c);return this.el.appendChild(h.el),this.add(h),h.id},a.addPattern=function(c){var h=new u(c);return this.el.appendChild(h.el),this.add(h),h.id},a.addClip=function(c){var h=new o(c);return this.el.appendChild(h.el),this.add(h),h.id},i}();C.exports=r},function(C,x,s){var d=s(19),y=s(593).parseRadius,p=s(611),n=s(734),o={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},u={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},r={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},i={left:"left",start:"left",center:"middle",right:"end",end:"end"},a=function(){function c(v){if(!v)return null;var f=d.uniqueId("canvas_"),m=d.createDom('<svg id="'+f+'"></svg>');return v.appendChild(m),this.type="svg",this.canvas=m,this.context=new n(m),this.toDraw=!1,this}var h=c.prototype;return h.draw=function(v){var f=this;f.animateHandler?f.toDraw=!0:function m(){f.animateHandler=d.requestAnimationFrame(function(){f.animateHandler=void 0,f.toDraw&&m()});try{f._drawChildren(v)}catch(b){console.warn("error in draw canvas, detail as:"),console.warn(b),f.toDraw=!1}f.toDraw=!1}()},h.drawSync=function(v){this._drawChildren(v)},h._drawGroup=function(v,f){var m=v._cfg;m.removed||m.destroyed||(m.tobeRemoved&&(d.each(m.tobeRemoved,function(b){b.parentNode&&b.parentNode.removeChild(b)}),m.tobeRemoved=[]),this._drawShape(v,f),m.children&&m.children.length>0&&this._drawChildren(v))},h._drawChildren=function(v){var f,m=v._cfg.children;if(m)for(var b=0;b<m.length;b++)(f=m[b]).isGroup?this._drawGroup(f,b):this._drawShape(f,b)},h._drawShape=function(v,f){var m=v._attrs,b=v._cfg,M=b.el;b.removed||b.destroyed?M&&M.parentNode.removeChild(b.el):(!M&&b.parent&&(this._createDom(v,f),this._updateShape(v)),M=b.el,b.visible!==!1?(b.visible&&M.hasAttribute("visibility")&&M.removeAttribute("visibility"),b.hasUpdate&&this._updateShape(v),m.clip&&m.clip._cfg.hasUpdate&&this._updateShape(m.clip)):M.setAttribute("visibility","hidden"))},h._updateShape=function(v){var f=v._attrs,m=v._cfg.attrs;if(m)if(v._cfg.el||this._createDom(v),"clip"in f&&this._setClip(v,f.clip),("shadowOffsetX"in f||"shadowOffsetY"in f||"shadowBlur"in f||"shadowColor"in f)&&this._setShadow(v),v.type!=="text"){for(var b in v.type==="fan"&&this._updateFan(v),v.type==="marker"&&v._cfg.el.setAttribute("d",this._assembleMarker(f)),v.type==="rect"&&v._cfg.el.setAttribute("d",this._assembleRect(f)),f)f[b]!==m[b]&&this._setAttribute(v,b,f[b]);v._cfg.attrs=d.deepMix({},v._attrs),v._cfg.hasUpdate=!1}else this._updateText(v)},h._setAttribute=function(v,f,m){var b=v.type,M=v._attrs,O=v._cfg.el,E=this.context;if(b!=="marker"&&b!=="rect"||!~["x","y","radius","r"].indexOf(f))if(~["circle","ellipse"].indexOf(b)&&~["x","y"].indexOf(f))O.setAttribute("c"+f,parseInt(m,10));else{if(b==="polygon"&&f==="points")return m&&m.length!==0||(m=""),d.isArray(m)&&(m=(m=m.map(function(j){return j[0]+","+j[1]})).join(" ")),void O.setAttribute("points",m);if(f==="path"&&d.isArray(m))O.setAttribute("d",this._formatPath(m));else if(f!=="img"){if(f==="transform")return m?void this._setTransform(v):void O.removeAttribute("transform");if(f==="rotate")return m?void this._setTransform(v):void O.removeAttribute("transform");if(f!=="matrix")if(f!=="fillStyle"&&f!=="strokeStyle"){if(f!=="clip")if(~f.indexOf("Arrow"))if(f=u[f],m){var A=null;A=typeof m=="boolean"?E.getDefaultArrow(M,f):E.addArrow(M,f),O.setAttribute(f,"url(#"+A+")"),v._cfg[f]=A}else v._cfg[f]=null,O.removeAttribute(f);else f==="html"&&(typeof m=="string"?O.innerHTML=m:(O.innerHTML="",O.appendChild(m))),u[f]&&O.setAttribute(u[f],m)}else this._setColor(v,f,m);else this._setTransform(v)}else this._setImage(v,m)}},h._createDom=function(v,f){var m=o[v.type],b=v._attrs,M=v._cfg.parent,O=M._cfg.el;if(!m)throw new Error("the type"+v.type+"is not supported by svg");var E=document.createElementNS("http://www.w3.org/2000/svg",m);if(v._cfg.el=E,M)if(f===void 0)O.appendChild(E);else{var A=M._cfg.el.childNodes;O.tagName==="svg"&&(f+=1),A.length<=f?O.appendChild(E):O.insertBefore(E,A[f])}return v._cfg.attrs={},v.type==="text"?(E.setAttribute("paint-order","stroke"),E.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(b.stroke||b.strokeStyle||E.setAttribute("stroke","none"),b.fill||b.fillStyle||E.setAttribute("fill","none")),E},h._assembleMarker=function(v){var f=v.r;if(v.r===void 0&&(f=v.radius),isNaN(Number(v.x))||isNaN(Number(v.y))||isNaN(Number(f)))return"";var m="";return m=typeof v.symbol=="function"?v.symbol(v.x,v.y,f):p.Symbols[v.symbol||"circle"](v.x,v.y,f),d.isArray(m)&&(m=m.map(function(b){return b.join(" ")}).join("")),m},h._assembleRect=function(v){var f=v.x,m=v.y,b=v.width,M=v.height,O=v.radius;if(!O)return"M "+f+","+m+" l "+b+",0 l 0,"+M+" l"+-b+" 0 z";var E=y(O);return d.isArray(O)?O.length===1?E.r1=E.r2=E.r3=E.r4=O[0]:O.length===2?(E.r1=E.r3=O[0],E.r2=E.r4=O[1]):O.length===3?(E.r1=O[0],E.r2=E.r4=O[1],E.r3=O[2]):(E.r1=O[0],E.r2=O[1],E.r3=O[2],E.r4=O[3]):E.r1=E.r2=E.r3=E.r4=O,[["M "+(f+E.r1)+","+m],["l "+(b-E.r1-E.r2)+",0"],["a "+E.r2+","+E.r2+",0,0,1,"+E.r2+","+E.r2],["l 0,"+(M-E.r2-E.r3)],["a "+E.r3+","+E.r3+",0,0,1,"+-E.r3+","+E.r3],["l "+(E.r3+E.r4-b)+",0"],["a "+E.r4+","+E.r4+",0,0,1,"+-E.r4+","+-E.r4],["l 0,"+(E.r4+E.r1-M)],["a "+E.r1+","+E.r1+",0,0,1,"+E.r1+","+-E.r1],["z"]].join(" ")},h._formatPath=function(v){return~(v=v.map(function(f){return f.join(" ")}).join("")).indexOf("NaN")?"":v},h._setTransform=function(v){for(var f=v._attrs.matrix,m=v._cfg.el,b=[],M=0;M<9;M+=3)b.push(f[M]+","+f[M+1]);(b=b.join(",")).indexOf("NaN")===-1?m.setAttribute("transform","matrix("+b+")"):console.warn("invalid matrix:",f)},h._setImage=function(v,f){var m=v._attrs,b=v._cfg.el;if(d.isString(f))b.setAttribute("href",f);else if(f instanceof Image)m.width||(b.setAttribute("width",f.width),v._attrs.width=f.width),m.height||(b.setAttribute("height",f.height),v._attrs.height=f.height),b.setAttribute("href",f.src);else if(f instanceof HTMLElement&&d.isString(f.nodeName)&&f.nodeName.toUpperCase()==="CANVAS")b.setAttribute("href",f.toDataURL());else if(f instanceof ImageData){var M=document.createElement("canvas");M.setAttribute("width",f.width),M.setAttribute("height",f.height),M.getContext("2d").putImageData(f,0,0),m.width||(b.setAttribute("width",f.width),v._attrs.width=f.width),m.height||(b.setAttribute("height",f.height),v._attrs.height=f.height),b.setAttribute("href",M.toDataURL())}},h._updateFan=function(v){function f(J,ut,$){return{x:ut*Math.cos(J)+$.x,y:ut*Math.sin(J)+$.y}}var m=v._attrs,b=v._cfg,M={x:m.x,y:m.y},O=[],E=m.startAngle,A=m.endAngle;d.isNumberEqual(A-E,2*Math.PI)&&(A-=1e-5);var j=f(E,m.re,M),B=f(A,m.re,M),D=A>E?1:0,T=Math.abs(A-E)>Math.PI?1:0,Y=m.rs,G=m.re,U=f(E,m.rs,M),H=f(A,m.rs,M);m.rs>0?(O.push("M "+B.x+","+B.y),O.push("L "+H.x+","+H.y),O.push("A "+Y+","+Y+",0,"+T+","+(D===1?0:1)+","+U.x+","+U.y),O.push("L "+j.x+" "+j.y)):(O.push("M "+M.x+","+M.y),O.push("L "+j.x+","+j.y)),O.push("A "+G+","+G+",0,"+T+","+D+","+B.x+","+B.y),m.rs>0?O.push("L "+H.x+","+H.y):O.push("Z"),b.el.setAttribute("d",O.join(" "))},h._updateText=function(v){var f=v._attrs,m=v._cfg.attrs,b=v._cfg.el;for(var M in this._setFont(v),f)if(f[M]!==m[M]){if(M==="text"){this._setText(v,""+f[M]);continue}if(M==="fillStyle"||M==="strokeStyle"){this._setColor(v,M,f[M]);continue}if(M==="matrix"){this._setTransform(v);continue}u[M]&&b.setAttribute(u[M],f[M])}v._cfg.attrs=Object.assign({},v._attrs),v._cfg.hasUpdate=!1},h._setFont=function(v){var f=v.get("el"),m=v._attrs,b=m.fontSize;f.setAttribute("alignment-baseline",r[m.textBaseline]||"baseline"),f.setAttribute("text-anchor",i[m.textAlign]||"left"),b&&+b<12&&(m.matrix=[1,0,0,0,1,0,0,0,1],v.transform([["t",-m.x,-m.y],["s",+b/12,+b/12],["t",m.x,m.y]]))},h._setText=function(v,f){var m=v._cfg.el,b=v._attrs.textBaseline||"bottom";if(f)if(~f.indexOf(`
`)){var M=v._attrs.x,O=f.split(`
`),E=O.length-1,A="";d.each(O,function(j,B){B===0?b==="alphabetic"?A+='<tspan x="'+M+'" dy="'+-E+'em">'+j+"</tspan>":b==="top"?A+='<tspan x="'+M+'" dy="0.9em">'+j+"</tspan>":b==="middle"?A+='<tspan x="'+M+'" dy="'+-(E-1)/2+'em">'+j+"</tspan>":b==="bottom"?A+='<tspan x="'+M+'" dy="-'+(E+.3)+'em">'+j+"</tspan>":b==="hanging"&&(A+='<tspan x="'+M+'" dy="'+(-(E-1)-.3)+'em">'+j+"</tspan>"):A+='<tspan x="'+M+'" dy="1em">'+j+"</tspan>"}),m.innerHTML=A}else m.innerHTML=f;else m.innerHTML=""},h._setClip=function(v,f){var m=v._cfg.el;if(f)if(m.hasAttribute("clip-path"))f._cfg.hasUpdate&&this._updateShape(f);else{this._createDom(f),this._updateShape(f);var b=this.context.addClip(f);m.setAttribute("clip-path","url(#"+b+")")}else m.removeAttribute("clip-path")},h._setColor=function(v,f,m){var b=v._cfg.el,M=this.context;if(m)if(m=m.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(m)){var O=M.find("gradient",m);O||(O=M.addGradient(m)),b.setAttribute(u[f],"url(#"+O+")")}else if(/^[p,P]{1}[\s]*\(/.test(m)){var E=M.find("pattern",m);E||(E=M.addPattern(m)),b.setAttribute(u[f],"url(#"+E+")")}else b.setAttribute(u[f],m);else b.setAttribute(u[f],"none")},h._setShadow=function(v){var f=v._cfg.el,m=v._attrs,b={dx:m.shadowOffsetX,dy:m.shadowOffsetY,blur:m.shadowBlur,color:m.shadowColor};if(b.dx||b.dy||b.blur||b.color){var M=this.context.find("filter",b);M||(M=this.context.addShadow(b,this)),f.setAttribute("filter","url(#"+M+")")}else f.removeAttribute("filter")},c}();C.exports=a},function(C,x,s){C.exports={painter:s(735),getShape:s(728)}},function(C,x,s){var d=s(19),y=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,p=/[^\s\,]+/gi,n=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,r=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function i(a,c){var h=a.match(r);d.each(h,function(v){v=v.split(":"),c.addColorStop(v[0],v[1])})}C.exports={parsePath:function(c){return c=c||[],d.isArray(c)?c:d.isString(c)?(c=c.match(y),d.each(c,function(h,v){if((h=h.match(p))[0].length>1){var f=h[0].charAt(0);h.splice(1,0,h[0].substr(1)),h[0]=f}d.each(h,function(m,b){isNaN(m)||(h[b]=+m)}),c[v]=h}),c):void 0},parseStyle:function(c,h,v){if(d.isString(c)){if(c[1]==="("||c[2]==="("){if(c[0]==="l")return function(f,m,b){var M,O,E=n.exec(f),A=d.mod(d.toRadian(parseFloat(E[1])),2*Math.PI),j=E[2],B=m.getBBox();A>=0&&A<.5*Math.PI?(M={x:B.minX,y:B.minY},O={x:B.maxX,y:B.maxY}):.5*Math.PI<=A&&A<Math.PI?(M={x:B.maxX,y:B.minY},O={x:B.minX,y:B.maxY}):Math.PI<=A&&A<1.5*Math.PI?(M={x:B.maxX,y:B.maxY},O={x:B.minX,y:B.minY}):(M={x:B.minX,y:B.maxY},O={x:B.maxX,y:B.minY});var D=Math.tan(A),T=D*D,Y=(O.x-M.x+D*(O.y-M.y))/(T+1)+M.x,G=D*(O.x-M.x+D*(O.y-M.y))/(T+1)+M.y,U=b.createLinearGradient(M.x,M.y,Y,G);return i(j,U),U}(c,h,v);if(c[0]==="r")return function(f,m,b){var M=o.exec(f),O=parseFloat(M[1]),E=parseFloat(M[2]),A=parseFloat(M[3]),j=M[4];if(A===0){var B=j.match(r);return B[B.length-1].split(":")[1]}var D=m.getBBox(),T=D.maxX-D.minX,Y=D.maxY-D.minY,G=Math.sqrt(T*T+Y*Y)/2,U=b.createRadialGradient(D.minX+T*O,D.minY+Y*E,A*G,D.minX+T/2,D.minY+Y/2,G);return i(j,U),U}(c,h,v);if(c[0]==="p")return function(f,m,b){if(m.get("patternSource")&&m.get("patternSource")===f)return m.get("pattern");var M,O,E=u.exec(f),A=E[1],j=E[2];function B(){M=b.createPattern(O,A),m.setSilent("pattern",M),m.setSilent("patternSource",f)}switch(A){case"a":A="repeat";break;case"x":A="repeat-x";break;case"y":A="repeat-y";break;case"n":A="no-repeat";break;default:A="no-repeat"}return O=new Image,j.match(/^data:/i)||(O.crossOrigin="Anonymous"),O.src=j,O.complete?B():(O.onload=B,O.src=O.src),M}(c,h,v)}return c}}}},function(C,x,s){var d=s(19),y=s(737),p=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],n=function(){function o(r){if(!r)return null;var i=d.uniqueId("canvas_"),a=d.createDom('<canvas id="'+i+'"></canvas>');return r.appendChild(a),this.type="canvas",this.canvas=a,this.context=a.getContext("2d"),this.toDraw=!1,this}var u=o.prototype;return u.beforeDraw=function(){var r=this.canvas;this.context&&this.context.clearRect(0,0,r.width,r.height)},u.draw=function(r){var i=this;i.animateHandler?i.toDraw=!0:function a(){i.animateHandler=d.requestAnimationFrame(function(){i.animateHandler=void 0,i.toDraw&&a()}),i.beforeDraw();try{i._drawGroup(r)}catch(c){console.warn("error in draw canvas, detail as:"),console.warn(c),i.toDraw=!1}i.toDraw=!1}()},u.drawSync=function(r){this.beforeDraw(),this._drawGroup(r)},u._drawGroup=function(r){if(!r._cfg.removed&&!r._cfg.destroyed&&r._cfg.visible){var i=r._cfg.children,a=null;this.setContext(r);for(var c=0;c<i.length;c++)a=i[c],i[c].isGroup?this._drawGroup(a):this._drawShape(a);this.restoreContext(r)}},u._drawShape=function(r){r._cfg.removed||r._cfg.destroyed||!r._cfg.visible||(this.setContext(r),r.drawInner(this.context),this.restoreContext(r),r._cfg.attrs=r._attrs,r._cfg.hasUpdate=!1)},u.setContext=function(r){var i=this.context,a=r._attrs.clip;i.save(),a&&(a.resetTransform(i),a.createPath(i),i.clip()),this.resetContext(r),r.resetTransform(i)},u.restoreContext=function(){this.context.restore()},u.resetContext=function(r){var i=this.context,a=r._attrs;if(!r.isGroup){for(var c in a)if(p.indexOf(c)>-1){var h=a[c];c==="fillStyle"&&(h=y.parseStyle(h,r,i)),c==="strokeStyle"&&(h=y.parseStyle(h,r,i)),c==="lineDash"&&i.setLineDash?d.isArray(h)?i.setLineDash(h):d.isString(h)&&i.setLineDash(h.split(" ")):i[c]=h}}},o}();C.exports=n},function(C,x,s){C.exports={painter:s(738)}},function(C,x,s){C.exports={canvas:s(739),svg:s(736)}},function(C,x,s){var d=s(19),y=s(610),p=s(17),n=s(44),o=s(238),u=o.interpolate,r=o.interpolateArray,i=function(h){this._animators=[],this._current=0,this._timer=null,this.canvas=h};function a(c,h,v){var f,m=h.startTime;if(v<m+h.delay||h.isPaused)return!1;var b=h.duration,M=h.easing;if(v=v-m-h.delay,h.toAttrs.repeat)f=v%b/b,f=n[M](f);else{if(!((f=v/b)<1))return c.attr(h.toAttrs),h.toMatrix&&c.setMatrix(h.toMatrix),!0;f=n[M](f)}return function(O,E,A){var j={},B=E.toAttrs,D=E.fromAttrs,T=E.toMatrix;if(!O.get("destroyed")){var Y;for(var G in B)if(!d.isEqual(D[G],B[G]))if(G==="path"){var U=B[G],H=D[G];U.length>H.length?(U=y.parsePathString(B[G]),H=y.parsePathString(D[G]),H=y.fillPathByDiff(H,U),H=y.formatPath(H,U),E.fromAttrs.path=H,E.toAttrs.path=U):E.pathFormatted||(U=y.parsePathString(B[G]),H=y.parsePathString(D[G]),H=y.formatPath(H,U),E.fromAttrs.path=H,E.toAttrs.path=U,E.pathFormatted=!0),j[G]=[];for(var J=0;J<U.length;J++){for(var ut=U[J],$=H[J],K=[],ot=0;ot<ut.length;ot++)d.isNumber(ut[ot])&&$&&d.isNumber($[ot])?(Y=u($[ot],ut[ot]),K.push(Y(A))):K.push(ut[ot]);j[G].push(K)}}else Y=u(D[G],B[G]),j[G]=Y(A);if(T){var at=r(E.fromMatrix,T)(A);O.setMatrix(at)}O.attr(j)}}(c,h,f),!1}d.augment(i,{initTimer:function(){var h,v,f,m=this,b=this;b._timer=p.timer(function(M){if(b._current=M,m._animators.length>0){for(var O=m._animators.length-1;O>=0;O--)if((h=m._animators[O]).get("destroyed"))b.removeAnimator(O);else{if(!h.get("pause").isPaused)for(var E=(v=h.get("animators")).length-1;E>=0;E--)f=v[E],a(h,f,M)&&(v.splice(E,1),f.callback&&f.callback());v.length===0&&b.removeAnimator(O)}m.canvas.draw()}})},addAnimator:function(h){this._animators.push(h)},removeAnimator:function(h){this._animators.splice(h,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(h){h.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),C.exports=i},function(C,x,s){var d=s(19),y=s(613),p={arc:s(602),ellipse:s(639),line:s(603)},n=d.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function o(r,i,a){return a.createPath(n),n.isPointInPath(r,i)}var u={arc:function(i,a){var c=this._attrs,h=c.x,v=c.y,f=c.r,m=c.startAngle,b=c.endAngle,M=c.clockwise,O=this.getHitLineWidth();return!!this.hasStroke()&&y.arcline(h,v,f,m,b,M,O,i,a)},circle:function(i,a){var c=this._attrs,h=c.x,v=c.y,f=c.r,m=this.getHitLineWidth(),b=this.hasFill(),M=this.hasStroke();return b&&M?y.circle(h,v,f,i,a)||y.arcline(h,v,f,0,2*Math.PI,!1,m,i,a):b?y.circle(h,v,f,i,a):!!M&&y.arcline(h,v,f,0,2*Math.PI,!1,m,i,a)},dom:function(i,a){if(!this._cfg.el)return!1;var c=this._cfg.el.getBBox();return y.box(c.x,c.x+c.width,c.y,c.y+c.height,i,a)},ellipse:function(i,a){var c=this._attrs,h=this.hasFill(),v=this.hasStroke(),f=c.x,m=c.y,b=c.rx,M=c.ry,O=this.getHitLineWidth(),E=b>M?b:M,A=b>M?1:b/M,j=b>M?M/b:1,B=[i,a,1],D=[1,0,0,0,1,0,0,0,1];d.mat3.scale(D,D,[A,j]),d.mat3.translate(D,D,[f,m]);var T=d.mat3.invert([],D);return d.vec3.transformMat3(B,B,T),h&&v?y.circle(0,0,E,B[0],B[1])||y.arcline(0,0,E,0,2*Math.PI,!1,O,B[0],B[1]):h?y.circle(0,0,E,B[0],B[1]):!!v&&y.arcline(0,0,E,0,2*Math.PI,!1,O,B[0],B[1])},fan:function(i,a){var c=this,h=c.hasFill(),v=c.hasStroke(),f=c._attrs,m=f.x,b=f.y,M=f.rs,O=f.re,E=f.startAngle,A=f.endAngle,j=f.clockwise,B=[i-m,a-b],D=d.vec2.angleTo([1,0],B);function T(){var G=p.arc.nearAngle(D,E,A,j);if(d.isNumberEqual(D,G)){var U=d.vec2.squaredLength(B);if(M*M<=U&&U<=O*O)return!0}return!1}function Y(){var G=c.getHitLineWidth(),U={x:Math.cos(E)*M+m,y:Math.sin(E)*M+b},H={x:Math.cos(E)*O+m,y:Math.sin(E)*O+b},J={x:Math.cos(A)*M+m,y:Math.sin(A)*M+b},ut={x:Math.cos(A)*O+m,y:Math.sin(A)*O+b};return!!(y.line(U.x,U.y,H.x,H.y,G,i,a)||y.line(J.x,J.y,ut.x,ut.y,G,i,a)||y.arcline(m,b,M,E,A,j,G,i,a)||y.arcline(m,b,O,E,A,j,G,i,a))}return h&&v?T()||Y():h?T():!!v&&Y()},image:function(i,a){var c=this._attrs;if(this.get("toDraw")||!c.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===c.img||this._setAttrImg();var h=c.x,v=c.y,f=c.width,m=c.height;return y.rect(h,v,f,m,i,a)},line:function(i,a){var c=this._attrs,h=c.x1,v=c.y1,f=c.x2,m=c.y2,b=this.getHitLineWidth();return!!this.hasStroke()&&y.line(h,v,f,m,b,i,a)},path:function(i,a){var c=this,h=c.get("segments"),v=c.hasFill(),f=c.hasStroke();function m(){if(!d.isEmpty(h)){for(var b=c.getHitLineWidth(),M=0,O=h.length;M<O;M++)if(h[M].isInside(i,a,b))return!0;return!1}}return v&&f?o(i,a,c)||m():v?o(i,a,c):!!f&&m()},marker:function(i,a){var c=this._attrs,h=c.x,v=c.y,f=c.radius||c.r,m=this.getHitLineWidth();return y.circle(h,v,f+m/2,i,a)},polygon:function(i,a){var c=this,h=c.hasFill(),v=c.hasStroke();function f(){var m=c._attrs.points;if(m.length<2)return!1;var b=c.getHitLineWidth(),M=m.slice(0);return m.length>=3&&M.push(m[0]),y.polyline(M,b,i,a)}return h&&v?o(i,a,c)||f():h?o(i,a,c):!!v&&f()},polyline:function(i,a){var c=this._attrs;if(this.hasStroke()){var h=c.points;if(h.length<2)return!1;var v=c.lineWidth;return y.polyline(h,v,i,a)}return!1},rect:function(i,a){var c=this,h=c.hasFill(),v=c.hasStroke();function f(){var m=c._attrs,b=m.x,M=m.y,O=m.width,E=m.height,A=m.radius,j=c.getHitLineWidth();if(A===0){var B=j/2;return y.line(b-B,M,b+O+B,M,j,i,a)||y.line(b+O,M-B,b+O,M+E+B,j,i,a)||y.line(b+O+B,M+E,b-B,M+E,j,i,a)||y.line(b,M+E+B,b,M-B,j,i,a)}return y.line(b+A,M,b+O-A,M,j,i,a)||y.line(b+O,M+A,b+O,M+E-A,j,i,a)||y.line(b+O-A,M+E,b+A,M+E,j,i,a)||y.line(b,M+E-A,b,M+A,j,i,a)||y.arcline(b+O-A,M+A,A,1.5*Math.PI,2*Math.PI,!1,j,i,a)||y.arcline(b+O-A,M+E-A,A,0,.5*Math.PI,!1,j,i,a)||y.arcline(b+A,M+E-A,A,.5*Math.PI,Math.PI,!1,j,i,a)||y.arcline(b+A,M+A,A,Math.PI,1.5*Math.PI,!1,j,i,a)}return h&&v?o(i,a,c)||f():h?o(i,a,c):!!v&&f()},text:function(i,a){var c=this.getBBox();if(this.hasFill()||this.hasStroke())return y.box(c.minX,c.maxX,c.minY,c.maxY,i,a)}};C.exports={isPointInPath:function(i,a){var c=u[this.type];return!!c&&c.call(this,i,a)}}},function(C,x,s){var d=s(58);d.Arc=s(638),d.Circle=s(637),d.Dom=s(636),d.Ellipse=s(635),d.Fan=s(634),d.Image=s(633),d.Line=s(632),d.Marker=s(611),d.Path=s(631),d.Polygon=s(630),d.Polyline=s(629),d.Rect=s(628),d.Text=s(627),C.exports=d},function(C,x,s){var d=s(19),y={delay:"delay",rotate:"rotate"},p={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};C.exports={animate:function(o,u,r,i,a){a===void 0&&(a=0),this.set("animating",!0);var c=this.get("timeline");c||(c=this.get("canvas").get("timeline"),this.setSilent("timeline",c));var h=this.get("animators")||[];c._timer||c.initTimer(),d.isNumber(i)&&(a=i,i=null),d.isFunction(r)?(i=r,r="easeLinear"):r=r||"easeLinear";var v=function(m,b){var M={matrix:null,attrs:{}},O=b._attrs;for(var E in m)if(E==="transform")M.matrix=d.transform(b.getMatrix(),m[E]);else if(E==="rotate")M.matrix=d.transform(b.getMatrix(),[["r",m[E]]]);else if(E==="matrix")M.matrix=m[E];else{if(p[E]&&/^[r,R,L,l]{1}[\s]*\(/.test(m[E]))continue;y[E]||O[E]===m[E]||(M.attrs[E]=m[E])}return M}(o,this),f={fromAttrs:function(m,b){var M={},O=b._attrs;for(var E in m.attrs)M[E]=O[E];return M}(v,this),toAttrs:v.attrs,fromMatrix:d.clone(this.getMatrix()),toMatrix:v.matrix,duration:u,easing:r,callback:i,delay:a,startTime:c.getTime(),id:d.uniqueId()};h.length>0?h=function(m,b){var M=b.delay,O=Object.prototype.hasOwnProperty;return d.each(b.toAttrs,function(E,A){d.each(m,function(j){M<j.startTime+j.duration&&O.call(j.toAttrs,A)&&(delete j.toAttrs[A],delete j.fromAttrs[A])})}),b.toMatrix&&d.each(m,function(E){M<E.startTime+E.duration&&E.toMatrix&&delete E.toMatrix}),m}(h,f):c.addAnimator(this),h.push(f),this.setSilent("animators",h),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var o=this,u=this.get("animators");d.each(u,function(r){o.attr(r.toAttrs),r.toMatrix&&o.attr("matrix",r.toMatrix),r.callback&&r.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var o=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:o.getTime()}),this},resumeAnimate:function(){var o=this.get("timeline").getTime(),u=this.get("animators"),r=this.get("pause").pauseTime;return d.each(u,function(i){i.startTime=i.startTime+(o-r),i._paused=!1,i._pauseTime=null}),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",u),this}}},function(C,x,s){var d=s(19);function y(o){return o[0]===1&&o[1]===0&&o[3]===0&&o[4]===1&&o[6]===0&&o[7]===0}function p(o){return o[1]===0&&o[3]===0&&o[6]===0&&o[7]===0}function n(o,u){y(u)||(p(u)?(o[0]*=u[0],o[4]*=u[4]):d.mat3.multiply(o,o,u))}C.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(u,r){var i=this._attrs.matrix;return d.mat3.translate(i,i,[u,r]),this.clearTotalMatrix(),this.attr("matrix",i),this},rotate:function(u){var r=this._attrs.matrix;return d.mat3.rotate(r,r,u),this.clearTotalMatrix(),this.attr("matrix",r),this},scale:function(u,r){var i=this._attrs.matrix;return d.mat3.scale(i,i,[u,r]),this.clearTotalMatrix(),this.attr("matrix",i),this},rotateAtStart:function(u){var r=this._attrs.x||this._cfg.attrs.x,i=this._attrs.y||this._cfg.attrs.y;return Math.abs(u)>2*Math.PI&&(u=u/180*Math.PI),this.transform([["t",-r,-i],["r",u],["t",r,i]])},move:function(u,r){var i=this.get("x")||0,a=this.get("y")||0;return this.translate(u-i,r-a),this.set("x",u),this.set("y",r),this},transform:function(u){var r=this,i=this._attrs.matrix;return d.each(u,function(a){switch(a[0]){case"t":r.translate(a[1],a[2]);break;case"s":r.scale(a[1],a[2]);break;case"r":r.rotate(a[1]);break;case"m":r.attr("matrix",d.mat3.multiply([],i,a[1])),r.clearTotalMatrix()}}),r},setTransform:function(u){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(u)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(u){return this.attr("matrix",u),this.clearTotalMatrix(),this},apply:function(u,r){var i;return i=r?this._getMatrixByRoot(r):this.attr("matrix"),d.vec3.transformMat3(u,u,i),this},_getMatrixByRoot:function(u){u=u||this;for(var r=this,i=[];r!==u;)i.unshift(r),r=r.get("parent");i.unshift(r);var a=[1,0,0,0,1,0,0,0,1];return d.each(i,function(c){d.mat3.multiply(a,c.attr("matrix"),a)}),a},getTotalMatrix:function(){var u=this._cfg.totalMatrix;if(!u){u=[1,0,0,0,1,0,0,0,1];var r=this._cfg.parent;r&&n(u,r.getTotalMatrix()),n(u,this.attr("matrix")),this._cfg.totalMatrix=u}return u},clearTotalMatrix:function(){},invert:function(u){var r=this.getTotalMatrix();if(p(r))u[0]/=r[0],u[1]/=r[4];else{var i=d.mat3.invert([],r);i&&d.vec3.transformMat3(u,u,i)}return this},resetTransform:function(u){var r=this.attr("matrix");y(r)||u.transform(r[0],r[1],r[3],r[4],r[6],r[7])}}},function(C,x,s){var d=s(19);C.exports={canFill:!1,canStroke:!1,initAttrs:function(p){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(d.assign(this.getDefaultAttrs(),p)),this},getDefaultAttrs:function(){return{}},attr:function(p,n){if(arguments.length===0)return this._attrs;if(d.isObject(p)){for(var o in p)this._setAttr(o,p[o]);return this.clearBBox(),this._cfg.hasUpdate=!0,this}return arguments.length===2?(this._setAttr(p,n),this.clearBBox(),this._cfg.hasUpdate=!0,this):this._attrs[p]},_setAttr:function(p,n){var o=this._attrs;o[p]=n,p!=="fill"&&p!=="stroke"?p!=="opacity"?p==="clip"&&n?this._setClip(n):p==="path"&&this._afterSetAttrPath?this._afterSetAttrPath(n):p!=="transform"?p==="rotate"&&this.rotateAtStart(n):this.transform(n):o.globalAlpha=n:o[p+"Style"]=n},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(p){p._cfg.renderer=this._cfg.renderer,p._cfg.canvas=this._cfg.canvas,p._cfg.parent=this._cfg.parent,p.hasFill=function(){return!0}}}},function(C,x,s){var d=s(19),y=s(643),p=s(642),n=s(741),o=s(740),u=function r(i){r.superclass.constructor.call(this,i)};u.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},d.extend(u,p),d.augment(u,{init:function(){u.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(i,a){if(i){if(!d.isEmpty(i._getEvents()))return i;var c=i.get("parent");if(c&&!a.propagationStopped)return this.getEmitter(c,a)}},_getEventObj:function(i,a,c,h){var v=new y(i,a,!0,!0);return v.x=c.x,v.y=c.y,v.clientX=a.clientX,v.clientY=a.clientY,v.currentTarget=h,v.target=h,v},_triggerEvent:function(i,a){var c,h=this.getPointByClient(a.clientX,a.clientY),v=this.getShape(h.x,h.y,a),f=this.get("el");if(i==="mousemove"){var m=this.get("preShape");if(m&&m!==v){var b=this._getEventObj("mouseleave",a,h,m);(c=this.getEmitter(m,a))&&c.emit("mouseleave",b),f.style.cursor="default"}if(v){var M=this._getEventObj("mousemove",a,h,v);if((c=this.getEmitter(v,a))&&c.emit("mousemove",M),m!==v){var O=this._getEventObj("mouseenter",a,h,v);c&&c.emit("mouseenter",O,a)}}else{var E=this._getEventObj("mousemove",a,h,this);this.emit("mousemove",E)}this.set("preShape",v)}else{var A=this._getEventObj(i,a,h,v||this);(c=this.getEmitter(v,a))&&c!==this&&c.emit(i,A),this.emit(i,A)}v&&!v.get("destroyed")&&(f.style.cursor=v.attr("cursor")||"default")},_registEvents:function(){var i=this,a=i.get("el");d.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],function(c){a.addEventListener(c,function(h){i._triggerEvent(c,h)},!1)}),a.addEventListener("touchstart",function(c){d.isEmpty(c.touches)||i._triggerEvent("touchstart",c.touches[0])},!1),a.addEventListener("touchmove",function(c){d.isEmpty(c.touches)||i._triggerEvent("touchmove",c.touches[0])},!1),a.addEventListener("touchend",function(c){d.isEmpty(c.changedTouches)||i._triggerEvent("touchend",c.changedTouches[0])},!1)},_scale:function(){if(this._cfg.renderType!=="svg"){var i=this.get("pixelRatio");this.scale(i,i)}},_setGlobalParam:function(){var i=this.get("renderer")||"canvas";i==="svg"?this.set("pixelRatio",1):this.get("pixelRatio")||this.set("pixelRatio",d.getRatio()),this._cfg.renderType=i;var a=o[i];this._cfg.renderer=a,this._cfg.canvas=this;var c=new n(this);this._cfg.timeline=c},_setContainer:function(){var i=this.get("containerId"),a=this.get("containerDOM");a||(a=document.getElementById(i),this.set("containerDOM",a)),d.modifyCSS(a,{position:"relative"})},_initPainter:function(){var i=this.get("containerDOM"),a=new this._cfg.renderer.painter(i);this._cfg.painter=a,this._cfg.canvasDOM=this._cfg.el=a.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var i=this.get("canvasDOM"),a=this.get("widthCanvas"),c=this.get("heightCanvas"),h=this.get("widthStyle"),v=this.get("heightStyle");i.style.width=h,i.style.height=v,i.setAttribute("width",a),i.setAttribute("height",c)},getWidth:function(){var i=this.get("pixelRatio");return this.get("width")*i},getHeight:function(){var i=this.get("pixelRatio");return this.get("height")*i},changeSize:function(i,a){var c=this.get("pixelRatio"),h=i*c,v=a*c;this.set("widthCanvas",h),this.set("heightCanvas",v),this.set("widthStyle",i+"px"),this.set("heightStyle",a+"px"),this.set("width",i),this.set("height",a),this._resize()},getPointByClient:function(i,a){var c=this.get("el"),h=this.get("pixelRatio")||1,v=c.getBoundingClientRect();return{x:(i-v.left)*h,y:(a-v.top)*h}},getClientByPoint:function(i,a){var c=this.get("el").getBoundingClientRect(),h=this.get("pixelRatio")||1;return{clientX:i/h+c.left,clientY:a/h+c.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(i,a,c){return arguments.length===3&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,i,a,c):u.superclass.getShape.call(this,i,a)},getRenderer:function(){return this._cfg.renderType},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var i=this._cfg,a=i.containerDOM,c=i.canvasDOM;c&&a&&a.removeChild(c),i.timeline.stop(),u.superclass.destroy.call(this)}}),C.exports=u},function(C,x,s){var d=s(248),y={};s(257).mix(y,d.PathUtil,{getRectPath:d.PathUtil.rectPath,pointsToPolygon:function(n){for(var o=[["M",n[0].x,n[0].y]],u=1;u<n.length;u++){var r=n[u];o.push(["L",r.x,r.y])}return o},getEllipsePath:function(n,o,u,r){return[["M",n,o-r],["a",u,r,0,1,1,0,2*r],["a",u,r,0,1,1,0,-2*r],["z"]]}}),C.exports=y},function(C,x,s){var d=s(645),y=s(16),p="Expected a function";C.exports=function(n,o,u){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(p);return y(u)&&(r="leading"in u?!!u.leading:r,i="trailing"in u?!!u.trailing:i),d(n,o,{leading:r,maxWait:o,trailing:i})}},function(C,x){C.exports=function(s,d,y){var p=void 0,n=void 0,o=void 0,u=void 0,r=0;y||(y={});var i=function(){r=y.leading===!1?0:Date.now(),p=null,u=s.apply(n,o),p||(n=o=null)},a=function(){var h=Date.now();r||y.leading!==!1||(r=h);var v=d-(h-r);return n=this,o=arguments,v<=0||v>d?(p&&(clearTimeout(p),p=null),r=h,u=s.apply(n,o),p||(n=o=null)):p||y.trailing===!1||(p=setTimeout(i,v)),u};return a.cancel=function(){clearTimeout(p),r=0,p=n=o=null},a}},function(C,x,s){var d=s(46),y=s(596),p=Object.prototype.hasOwnProperty;C.exports=function(n,o){if(n===null||!y(n))return{};var u={};return d(o,function(r){p.call(n,r)&&(u[r]=n[r])}),u}},function(C,x,s){var d=s(46),y=s(118);C.exports=function(p,n){if(!y(p))return p;var o=[];return d(p,function(u,r){o.push(n(u,r))}),o}},function(C,x,s){var d=s(84),y=s(614);C.exports=function(p,n,o){return d(o)?!!o(p,n):y(p,n)}},function(C,x,s){var d=s(118);C.exports=function(y,p){if(!d(y))return-1;var n=Array.prototype.indexOf;if(n)return n.call(y,p);for(var o=-1,u=0;u<y.length;u++)if(y[u]===p){o=u;break}return o}},function(C,x,s){var d=s(649);C.exports=function(y,p){if(!p)return[y];var n=d(y,p),o=[];for(var u in n)o.push(n[u]);return o}},function(C,x){C.exports=function(s,d,y){var p=void 0;return function(){var n=this,o=arguments,u=y&&!p;clearTimeout(p),p=setTimeout(function(){p=null,y||s.apply(n,o)},d),u&&s.apply(n,o)}}},function(C,x,s){var d=s(115);C.exports=function(y){return d(y,"Error")}},function(C,x,s){var d=s(115);C.exports=function(y){return d(y,"Arguments")}},function(C,x,s){var d=s(115);C.exports=function(y){return d(y,"Date")}},function(C,x,s){var d=s(115);C.exports=function(y){return d(y,"RegExp")}},function(C,x){C.exports=function(s){return s===void 0}},function(C,x){C.exports=function(s){return s===null}},function(C,x,s){var d=s(115),y={getType:s(654),isArray:s(45),isArrayLike:s(118),isBoolean:s(653),isFunction:s(84),isNil:s(237),isNull:s(762),isNumber:s(236),isObject:s(621),isObjectLike:s(619),isPlainObject:s(596),isPrototype:s(652),isType:d,isUndefined:s(761),isString:s(595),isRegExp:s(760),isDate:s(759),isArguments:s(758),isError:s(757)};C.exports=y},function(C,x,s){C.exports=s(656)},function(C,x){C.exports=function(s,d){return s&&d?s.replace(/\\?\{([^{}]+)\}/g,function(y,p){return y.charAt(0)==="\\"?y.slice(1):d[p]===void 0?"":d[p]}):s}},function(C,x,s){var d=s(594);C.exports=function(y){var p=d(y);return p.charAt(0).toLowerCase()+p.substring(1)}},function(C,x,s){C.exports=s(657)},function(C,x,s){var d={lc:s(767),lowerCase:s(657),lowerFirst:s(766),substitute:s(765),uc:s(764),upperCase:s(656),upperFirst:s(655)};C.exports=d},function(C,x){function s(y){var p=[];switch(y[0]){case"M":case"L":p.push([y[1],y[2]]);break;case"A":p.push([y[6],y[7]]);break;case"Q":p.push([y[3],y[4]]),p.push([y[1],y[2]]);break;case"T":p.push([y[1],y[2]]);break;case"C":p.push([y[5],y[6]]),p.push([y[1],y[2]]),p.push([y[3],y[4]]);break;case"S":p.push([y[3],y[4]]),p.push([y[1],y[2]]);break;case"H":case"V":p.push([y[1],y[1]])}return p}function d(y,p,n){for(var o=[].concat(y),u=void 0,r=1/(n+1),i=s(p)[0],a=1;a<=n;a++)r*=a,(u=Math.floor(y.length*r))===0?o.unshift([i[0]*r+y[u][0]*(1-r),i[1]*r+y[u][1]*(1-r)]):o.splice(u,0,[i[0]*r+y[u][0]*(1-r),i[1]*r+y[u][1]*(1-r)]);return o}C.exports=function(y,p){if(y.length<=1)return y;for(var n=void 0,o=0;o<p.length;o++)if(y[o][0]!==p[o][0])switch(n=s(y[o]),p[o][0]){case"M":y[o]=["M"].concat(n[0]);break;case"L":y[o]=["L"].concat(n[0]);break;case"A":y[o]=[].concat(p[o]),y[o][6]=n[0][0],y[o][7]=n[0][1];break;case"Q":if(n.length<2){if(!(o>0)){y[o]=p[o];break}n=d(n,y[o-1],1)}y[o]=["Q"].concat(n.reduce(function(u,r){return u.concat(r)},[]));break;case"T":y[o]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(o>0)){y[o]=p[o];break}n=d(n,y[o-1],2)}y[o]=["C"].concat(n.reduce(function(u,r){return u.concat(r)},[]));break;case"S":if(n.length<2){if(!(o>0)){y[o]=p[o];break}n=d(n,y[o-1],1)}y[o]=["S"].concat(n.reduce(function(u,r){return u.concat(r)},[]));break;default:y[o]=p[o]}return y}},function(C,x,s){var d=s(46);C.exports=function(y,p){if(y.length!==p.length)return!1;var n=!0;return d(y,function(o,u){if(o!==p[u])return n=!1,!1}),n}},function(C,x,s){var d=s(770);function y(p,n,o){var u=null,r=o;return n<r&&(r=n,u="add"),p<r&&(r=p,u="del"),{type:u,min:r}}C.exports=function(p,n){var o=function(M,O){var E=M.length,A=O.length,j=void 0,B=void 0,D=0;if(E===0||A===0)return null;for(var T=[],Y=0;Y<=E;Y++)T[Y]=[],T[Y][0]={min:Y};for(var G=0;G<=A;G++)T[0][G]={min:G};for(var U=1;U<=E;U++){j=M[U-1];for(var H=1;H<=A;H++){B=O[H-1],D=d(j,B)?0:1;var J=T[U-1][H].min+1,ut=T[U][H-1].min+1,$=T[U-1][H-1].min+D;T[U][H]=y(J,ut,$)}}return T}(p,n),u=p.length,r=n.length,i=[],a=1,c=1;if(o[u][r]!==u){for(var h=1;h<=u;h++){var v=o[h][h].min;c=h;for(var f=a;f<=r;f++)o[h][f].min<v&&(v=o[h][f].min,c=f);a=c,o[h][a].type&&i.push({index:h-1,type:o[h][a].type})}for(var m=i.length-1;m>=0;m--)a=i[m].index,i[m].type==="add"?p.splice(a,0,[].concat(p[a])):p.splice(a,1)}if((u=p.length)<r)for(var b=0;b<r-u;b++)p[u-1][0]==="z"||p[u-1][0]==="Z"?p.splice(u-2,0,p[u-2]):p.push(p[u-1]);return p}},function(C,x){function s(y,p){var n=[],o=[];return y.length&&function u(r,i){if(r.length===1)n.push(r[0]),o.push(r[0]);else{for(var a=[],c=0;c<r.length-1;c++)c===0&&n.push(r[0]),c===r.length-2&&o.push(r[c+1]),a[c]=[(1-i)*r[c][0]+i*r[c+1][0],(1-i)*r[c][1]+i*r[c+1][1]];u(a,i)}}(y,p),{left:n,right:o.reverse()}}function d(y,p,n){if(n===1)return[[].concat(y)];var o=[];if(p[0]==="L"||p[0]==="C"||p[0]==="Q")o=o.concat(function(i,a,c){var h=[[i[1],i[2]]];c=c||2;var v=[];a[0]==="A"?(h.push(a[6]),h.push(a[7])):a[0]==="C"?(h.push([a[1],a[2]]),h.push([a[3],a[4]]),h.push([a[5],a[6]])):a[0]==="S"||a[0]==="Q"?(h.push([a[1],a[2]]),h.push([a[3],a[4]])):h.push([a[1],a[2]]);for(var f=h,m=1/c,b=0;b<c-1;b++){var M=s(f,m/(1-m*b));v.push(M.left),f=M.right}return v.push(f),v.map(function(O){var E=[];return O.length===4&&(E.push("C"),E=E.concat(O[2])),O.length>=3&&(O.length===3&&E.push("Q"),E=E.concat(O[1])),O.length===2&&E.push("L"),E=E.concat(O[O.length-1])})}(y,p,n));else{var u=[].concat(y);u[0]==="M"&&(u[0]="L");for(var r=0;r<=n-1;r++)o.push(u)}return o}C.exports=function(y,p){if(y.length===1)return y;var n=y.length-1,o=p.length-1,u=n/o,r=[];if(y.length===1&&y[0][0]==="M"){for(var i=0;i<o-n;i++)y.push(y[0]);return y}for(var a=0;a<o;a++){var c=Math.floor(u*a);r[c]=(r[c]||0)+1}var h=r.reduce(function(v,f,m){return m===n?v.concat(y[n]):v.concat(d(y[m],y[m+1],f))},[]);return h.unshift(y[0]),p[o]!=="Z"&&p[o]!=="z"||h.push("Z"),h}},function(C,x,s){var d=s(45),y=s(663),p=s(661),n=function(f,m,b,M,O){return f*(f*(-3*m+9*b-9*M+3*O)+6*m-12*b+6*M)-3*m+3*b},o=function(f,m,b,M,O,E,A,j,B){B===null&&(B=1);for(var D=(B=B>1?1:B<0?0:B)/2,T=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],G=0,U=0;U<12;U++){var H=D*T[U]+D,J=n(H,f,b,O,A),ut=n(H,m,M,E,j),$=J*J+ut*ut;G+=Y[U]*Math.sqrt($)}return D*G},u=function(f,m,b,M,O,E,A,j){if(!(Math.max(f,b)<Math.min(O,A)||Math.min(f,b)>Math.max(O,A)||Math.max(m,M)<Math.min(E,j)||Math.min(m,M)>Math.max(E,j))){var B=(f-b)*(E-j)-(m-M)*(O-A);if(B){var D=((f*M-m*b)*(O-A)-(f-b)*(O*j-E*A))/B,T=((f*M-m*b)*(E-j)-(m-M)*(O*j-E*A))/B,Y=+D.toFixed(2),G=+T.toFixed(2);if(!(Y<+Math.min(f,b).toFixed(2)||Y>+Math.max(f,b).toFixed(2)||Y<+Math.min(O,A).toFixed(2)||Y>+Math.max(O,A).toFixed(2)||G<+Math.min(m,M).toFixed(2)||G>+Math.max(m,M).toFixed(2)||G<+Math.min(E,j).toFixed(2)||G>+Math.max(E,j).toFixed(2)))return{x:D,y:T}}}},r=function(f,m,b){return m>=f.x&&m<=f.x+f.width&&b>=f.y&&b<=f.y+f.height},i=function(f,m,b,M){return f===null&&(f=m=b=M=0),m===null&&(m=f.y,b=f.width,M=f.height,f=f.x),{x:f,y:m,width:b,w:b,height:M,h:M,x2:f+b,y2:m+M,cx:f+b/2,cy:m+M/2,r1:Math.min(b,M)/2,r2:Math.max(b,M)/2,r0:Math.sqrt(b*b+M*M)/2,path:y(f,m,b,M),vb:[f,m,b,M].join(" ")}},a=function(f,m,b,M,O,E,A,j){d(f)||(f=[f,m,b,M,O,E,A,j]);var B=function(D,T,Y,G,U,H,J,ut){for(var $=[],K=[[],[]],ot=void 0,at=void 0,ht=void 0,St=void 0,pt=0;pt<2;++pt)if(pt===0?(at=6*D-12*Y+6*U,ot=-3*D+9*Y-9*U+3*J,ht=3*Y-3*D):(at=6*T-12*G+6*H,ot=-3*T+9*G-9*H+3*ut,ht=3*G-3*T),Math.abs(ot)<1e-12){if(Math.abs(at)<1e-12)continue;(St=-ht/at)>0&&St<1&&$.push(St)}else{var xt=at*at-4*ht*ot,vt=Math.sqrt(xt);if(!(xt<0)){var gt=(-at+vt)/(2*ot);gt>0&&gt<1&&$.push(gt);var _t=(-at-vt)/(2*ot);_t>0&&_t<1&&$.push(_t)}}for(var Bt=$.length,At=Bt,It=void 0;Bt--;)It=1-(St=$[Bt]),K[0][Bt]=It*It*It*D+3*It*It*St*Y+3*It*St*St*U+St*St*St*J,K[1][Bt]=It*It*It*T+3*It*It*St*G+3*It*St*St*H+St*St*St*ut;return K[0][At]=D,K[1][At]=T,K[0][At+1]=J,K[1][At+1]=ut,K[0].length=K[1].length=At+2,{min:{x:Math.min.apply(0,K[0]),y:Math.min.apply(0,K[1])},max:{x:Math.max.apply(0,K[0]),y:Math.max.apply(0,K[1])}}}.apply(null,f);return i(B.min.x,B.min.y,B.max.x-B.min.x,B.max.y-B.min.y)},c=function(f,m,b,M,O,E,A,j,B){var D=1-B,T=Math.pow(D,3),Y=Math.pow(D,2),G=B*B,U=G*B,H=f+2*B*(b-f)+G*(O-2*b+f),J=m+2*B*(M-m)+G*(E-2*M+m),ut=b+2*B*(O-b)+G*(A-2*O+b),$=M+2*B*(E-M)+G*(j-2*E+M);return{x:T*f+3*Y*B*b+3*D*B*B*O+U*A,y:T*m+3*Y*B*M+3*D*B*B*E+U*j,m:{x:H,y:J},n:{x:ut,y:$},start:{x:D*f+B*b,y:D*m+B*M},end:{x:D*O+B*A,y:D*E+B*j},alpha:90-180*Math.atan2(H-ut,J-$)/Math.PI}},h=function(f,m,b){if(!function(xt,vt){return xt=i(xt),vt=i(vt),r(vt,xt.x,xt.y)||r(vt,xt.x2,xt.y)||r(vt,xt.x,xt.y2)||r(vt,xt.x2,xt.y2)||r(xt,vt.x,vt.y)||r(xt,vt.x2,vt.y)||r(xt,vt.x,vt.y2)||r(xt,vt.x2,vt.y2)||(xt.x<vt.x2&&xt.x>vt.x||vt.x<xt.x2&&vt.x>xt.x)&&(xt.y<vt.y2&&xt.y>vt.y||vt.y<xt.y2&&vt.y>xt.y)}(a(f),a(m)))return b?0:[];for(var M=~~(o.apply(0,f)/8),O=~~(o.apply(0,m)/8),E=[],A=[],j={},B=b?0:[],D=0;D<M+1;D++){var T=c.apply(0,f.concat(D/M));E.push({x:T.x,y:T.y,t:D/M})}for(var Y=0;Y<O+1;Y++){var G=c.apply(0,m.concat(Y/O));A.push({x:G.x,y:G.y,t:Y/O})}for(var U=0;U<M;U++)for(var H=0;H<O;H++){var J=E[U],ut=E[U+1],$=A[H],K=A[H+1],ot=Math.abs(ut.x-J.x)<.001?"y":"x",at=Math.abs(K.x-$.x)<.001?"y":"x",ht=u(J.x,J.y,ut.x,ut.y,$.x,$.y,K.x,K.y);if(ht){if(j[ht.x.toFixed(4)]===ht.y.toFixed(4))continue;j[ht.x.toFixed(4)]=ht.y.toFixed(4);var St=J.t+Math.abs((ht[ot]-J[ot])/(ut[ot]-J[ot]))*(ut.t-J.t),pt=$.t+Math.abs((ht[at]-$[at])/(K[at]-$[at]))*(K.t-$.t);St>=0&&St<=1&&pt>=0&&pt<=1&&(b?B++:B.push({x:ht.x,y:ht.y,t1:St,t2:pt}))}}return B};C.exports=function(v,f){return function(m,b,M){m=p(m),b=p(b);for(var O=void 0,E=void 0,A=void 0,j=void 0,B=void 0,D=void 0,T=void 0,Y=void 0,G=void 0,U=void 0,H=M?0:[],J=0,ut=m.length;J<ut;J++){var $=m[J];if($[0]==="M")O=B=$[1],E=D=$[2];else{$[0]==="C"?(O=(G=[O,E].concat($.slice(1)))[6],E=G[7]):(G=[O,E,O,E,B,D,B,D],O=B,E=D);for(var K=0,ot=b.length;K<ot;K++){var at=b[K];if(at[0]==="M")A=T=at[1],j=Y=at[2];else{at[0]==="C"?(A=(U=[A,j].concat(at.slice(1)))[6],j=U[7]):(U=[A,j,A,j,T,Y,T,Y],A=T,j=Y);var ht=h(G,U,M);if(M)H+=ht;else{for(var St=0,pt=ht.length;St<pt;St++)ht[St].segment1=J,ht[St].segment2=K,ht[St].bez1=G,ht[St].bez2=U;H=H.concat(ht)}}}}}return H}(v,f)}},function(C,x,s){var d=s(773),y=s(660),p=s(661),n=s(658);C.exports={catmullRom2Bezier:n,catmullRomToBezier:n,fillPath:s(772),fillPathByDiff:s(771),formatPath:s(769),intersection:d,pathIntersection:d,parsePathArray:s(662),parsePathString:s(659),pathToAbsolute:y,path2absolute:y,pathTocurve:p,path2curve:p,rectPath:s(663)}},function(C,x,s){var d=s(605),y=s(664);C.exports=function(p,n){return d(y(p),n)}},function(C,x,s){C.exports=s(665)},function(C,x,s){C.exports=s(46)},function(C,x,s){C.exports={forIn:s(777),has:s(665),hasKey:s(776),hasValue:s(775),keys:s(677),isMatch:s(678),values:s(664)}},function(C,x,s){C.exports={mat3:s(617),vec2:s(668),vec3:s(667),transform:s(666)}},function(C,x,s){var d=s(45),y=s(84),p=s(46);C.exports=function(n,o){if(d(n)){var u=n[0],r=void 0;r=y(o)?o(n[0]):n[0][o];var i=void 0;return p(n,function(a){(i=y(o)?o(a):a[o])<r&&(u=a,r=i)}),u}}},function(C,x,s){var d=s(45),y=s(84),p=s(46);C.exports=function(n,o){if(d(n)){var u=n[0],r=void 0;r=y(o)?o(n[0]):n[0][o];var i=void 0;return p(n,function(a){(i=y(o)?o(a):a[o])>r&&(u=a,r=i)}),u}}},function(C,x,s){var d=s(236);C.exports=function(y){return d(y)&&y>0}},function(C,x,s){var d=s(236);C.exports=function(y){return d(y)&&y%2!=0}},function(C,x,s){var d=s(236);C.exports=function(y){return d(y)&&y<0}},function(C,x,s){var d=s(236),y=Number.isInteger?Number.isInteger:function(p){return d(p)&&p%1==0};C.exports=y},function(C,x,s){var d=s(236);C.exports=function(y){return d(y)&&y%2==0}},function(C,x,s){var d=s(236);C.exports=function(y){return d(y)&&y%1!=0}},function(C,x){C.exports=function(s,d){var y=d.toString(),p=y.indexOf(".");if(p===-1)return Math.round(s);var n=y.substr(p+1).length;return n>20&&(n=20),parseFloat(s.toFixed(n))}},function(C,x,s){var d=s(673);C.exports={clamp:s(618),fixedBase:s(788),isDecimal:s(787),isEven:s(786),isInteger:s(785),isNegative:s(784),isNumberEqual:d,isOdd:s(783),isPositive:s(782),maxBy:s(781),minBy:s(780),mod:s(672),snapEqual:d,toDegree:s(671),toInt:s(670),toInteger:s(670),toRadian:s(669)}},function(C,x,s){var d=s(45);C.exports=function(y){var p=0,n=0,o=0,u=0;return d(y)?y.length===1?p=n=o=u=y[0]:y.length===2?(p=o=y[0],n=u=y[1]):y.length===3?(p=y[0],n=u=y[1],o=y[2]):(p=y[0],n=y[1],o=y[2],u=y[3]):p=n=o=u=y,{r1:p,r2:n,r3:o,r4:u}}},function(C,x,s){var d=s(45),y=s(595),p=s(46),n=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi;C.exports=function(u){return d(u=u||[])?u:y(u)?(u=u.match(n),p(u,function(r,i){if((r=r.match(o))[0].length>1){var a=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=a}p(r,function(c,h){isNaN(c)||(r[h]=+c)}),u[i]=r}),u):void 0}},function(C,x){var s={};C.exports=function(d){var y=s[d];if(!y){for(var p=d.toString(16),n=p.length;n<6;n++)p="0"+p;y="#"+p,s[d]=y}return y}},function(C,x,s){var d=s(792);C.exports={number2color:d,numberToColor:d,parsePath:s(791),parseRadius:s(790)}},function(C,x){C.exports=function(s,d){if(s["_wrap_"+d])return s["_wrap_"+d];var y=function(n){s[d](n)};return s["_wrap_"+d]=y,y}},function(C,x){C.exports=function(s,d){return s["_wrap_"+d]}},function(C,x,s){C.exports={getWrapBehavior:s(795),wrapBehavior:s(794)}},function(C,x,s){var d=s(237),y=s(45),p=s(46);C.exports=function(n,o){for(var u=[],r={},i=0;i<n.length;i++){var a=n[i][o];d(a)||(y(a)||(a=[a]),p(a,function(c){r[c]||(u.push(c),r[c]=!0)}))}return u}},function(C,x,s){var d=s(46),y=s(604),p=s(674);C.exports=function(){var n=[],o=y(arguments);return d(o,function(u){n=n.concat(u)}),p(n)}},function(C,x,s){var d=s(595),y=s(84),p=s(45);C.exports=function(n,o){var u=void 0;if(y(o))u=function(a,c){return o(a)-o(c)};else{var r=[];d(o)?r.push(o):p(o)&&(r=o),u=function(a,c){for(var h=0;h<r.length;h+=1){var v=r[h];if(a[v]>c[v])return 1;if(a[v]<c[v])return-1}return 0}}return n.sort(u),n}},function(C,x,s){var d=s(118),y=s(675);C.exports=function(p,n){var o=[];if(!d(p))return o;for(var u=-1,r=[],i=p.length;++u<i;){var a=p[u];n(a,u,p)&&(o.push(a),r.push(u))}return y(p,r),o}},function(C,x,s){var d=s(45),y=s(596),p=s(46);C.exports=function(n,o,u){if(!d(n)&&!y(n))return n;var r=u;return p(n,function(i,a){r=o(r,i,a)}),r}},function(C,x){C.exports=function(s){for(var d=[],y=0;y<s.length;y++)d=d.concat(s[y]);return d}},function(C,x,s){var d=s(620),y=s(45);C.exports=function(p){if(!(p=d(p,function(r){return!isNaN(r)})).length)return{min:0,max:0};if(y(p[0])){for(var n=[],o=0;o<p.length;o++)n=n.concat(p[o]);p=n}var u=Math.max.apply(null,p);return{min:Math.min.apply(null,p),max:u}}},function(C,x,s){var d=s(45);C.exports=function y(p){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(d(p))for(var o=0;o<p.length;o+=1)y(p[o],n);else n.push(p);return n}},function(C,x,s){var d=s(45),y=s(46);C.exports=function(p){if(!d(p))return p;var n=[];return y(p,function(o){d(o)?y(o,function(u){n.push(u)}):n.push(o)}),n}},function(C,x,s){var d=s(237),y=s(45);C.exports=function(p,n){for(var o=null,u=0;u<p.length;u++){var r=p[u][n];if(!d(r)){o=y(r)?r[0]:r;break}}return o}},function(C,x,s){var d=s(84),y=s(596),p=s(678);C.exports=function(n,o){var u=void 0;if(d(o)&&(u=o),y(o)&&(u=function(a){return p(a,o)}),u){for(var r=0;r<n.length;r+=1)if(u(n[r]))return n[r]}return null}},function(C,x,s){var d=s(620),y=s(605);C.exports=function(p){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return d(p,function(o){return!y(n,o)})}},function(C,x,s){C.exports={contains:s(605),difference:s(808),find:s(807),firstValue:s(806),flatten:s(805),flattenDeep:s(804),getRange:s(803),merge:s(802),pull:s(676),pullAt:s(675),reduce:s(801),remove:s(800),sortBy:s(799),union:s(798),uniq:s(674),valuesOfKey:s(797)}},function(C,x){C.exports=function(s,d){var y=this.getStyle(s,"width",d);return y==="auto"&&(y=s.offsetWidth),parseFloat(y)}},function(C,x,s){var d=s(237);C.exports=function(y,p,n){try{return window.getComputedStyle?window.getComputedStyle(y,null)[p]:y.currentStyle[p]}catch(o){return d(n)?null:n}}},function(C,x){C.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(C,x){C.exports=function(s,d){var y=this.getWidth(s,d),p=parseFloat(this.getStyle(s,"borderLeftWidth"))||0,n=parseFloat(this.getStyle(s,"paddingLeft"))||0,o=parseFloat(this.getStyle(s,"paddingRight"))||0;return y+p+(parseFloat(this.getStyle(s,"borderRightWidth"))||0)+n+o}},function(C,x){C.exports=function(s,d){var y=this.getHeight(s,d),p=parseFloat(this.getStyle(s,"borderTopWidth"))||0,n=parseFloat(this.getStyle(s,"paddingTop"))||0,o=parseFloat(this.getStyle(s,"paddingBottom"))||0;return y+p+(parseFloat(this.getStyle(s,"borderBottomWidth"))||0)+n+o}},function(C,x){C.exports=function(s,d){var y=this.getStyle(s,"height",d);return y==="auto"&&(y=s.offsetHeight),parseFloat(y)}},function(C,x){C.exports=function(s,d){if(s&&s.getBoundingClientRect){var y=s.getBoundingClientRect(),p=document.documentElement.clientTop,n=document.documentElement.clientLeft;return{top:y.top-p,bottom:y.bottom-p,left:y.left-n,right:y.right-n}}return d||null}},function(C,x){C.exports=function(s,d,y){if(s){if(s.addEventListener)return s.addEventListener(d,y,!1),{remove:function(){s.removeEventListener(d,y,!1)}};if(s.attachEvent)return s.attachEvent("on"+d,y),{remove:function(){s.detachEvent("on"+d,y)}}}}},function(C,x,s){C.exports={addEventListener:s(817),createDom:s(681),getBoundingClientRect:s(816),getHeight:s(815),getOuterHeight:s(814),getOuterWidth:s(813),getRatio:s(812),getStyle:s(811),getWidth:s(810),modifyCSS:s(680),requestAnimationFrame:s(679)}},function(C,x,s){var d=s(46),y=s(606),p=s(818),n=s(809),o=s(796),u=s(793),r=s(789),i=s(779),a=s(778),c=s(774),h=s(768),v=s(763),f={DOMUtil:p,DomUtil:p,MatrixUtil:i,PathUtil:c,arrayUtil:n,domUtil:p,eventUtil:o,formatUtil:u,mathUtil:r,matrixUtil:i,objectUtil:a,stringUtil:h,pathUtil:c,typeUtil:v,augment:s(651),clone:s(616),debounce:s(756),deepMix:s(615),each:d,extend:s(650),filter:s(620),group:s(755),groupBy:s(648),groupToMap:s(649),indexOf:s(754),isEmpty:s(647),isEqual:s(614),isEqualWith:s(753),map:s(752),mix:y,pick:s(751),throttle:s(750),toArray:s(604),toString:s(594),uniqueId:s(646)};d([p,n,o,u,r,i,a,c,h,v],function(m){y(f,m)}),C.exports=f},function(C,x,s){var d=s(683),y=s(626),p=s(247),n=s(609),o=s(248),u={Graph:s(625),Tree:s(689),Util:s(26),Layouts:s(623),G:o,Plugins:{},Components:{},Global:p,Shape:d,registerNode:d.registerNode,registerEdge:d.registerEdge,registerGroup:d.registerGroup,registerGuide:d.registerGuide,registerBehaviour:y.registerBehaviour,version:n,track:function(i){p.track=i}};s(684),C.exports=u}])})},65817:function(zt,C,x){(function(s,d){zt.exports=d(x(56535))})(window,function(s){return function(d){var y={};function p(n){if(y[n])return y[n].exports;var o=y[n]={i:n,l:!1,exports:{}};return d[n].call(o.exports,o,o.exports,p),o.l=!0,o.exports}return p.m=d,p.c=y,p.d=function(n,o,u){p.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:u})},p.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},p.t=function(n,o){if(1&o&&(n=p(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var u=Object.create(null);if(p.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var r in n)p.d(u,r,function(i){return n[i]}.bind(null,r));return u},p.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return p.d(o,"a",o),o},p.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},p.p="",p(p.s=267)}({266:function(y,p,n){function o(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){u(h,b,f[b])})}return h}function u(h,v,f){return v in h?Object.defineProperty(h,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[v]=f,h}var r=n(3),i=r.Util,a=r.G.Canvas,c=function(){function h(f){i.mix(this,o({type:"minimap",container:null,isMinimap:!0,backgroundCSS:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":0},minimapContainerCSS:{background:"#fff",position:"relative",overflow:"hidden"},viewportCSS:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":1},controlLayerCSS:{width:"100%",height:"100%",cursor:"move",position:"absolute","z-index":2},viewportWindowStyle:{stroke:"#91D5FF"},viewportBackStyle:{fill:"#EBEEF2",fillOpacity:.65},getGraph:function(){}},f)),this._initContainer(),this._initMiniMap(),this._bindEvent(),this._assignDebounceRender()}var v=h.prototype;return v._assignDebounceRender=function(){var f=this;this.debounceRender=i.debounce(function(){f.renderBackground(),f.renderViewPort()},32)},v.bindGraph=function(f){var m=this;f.on("afterchange",function(){m.debounceRender()}),f.on("afterlayout",function(){m.debounceRender()}),f.on("afterviewportchange",function(){m.renderViewPort()}),f.on("afterfilter",function(){m.debounceRender()})},v.renderBackground=function(f){f||(f=this.getGraph());var m=this.miniMapCanvas,b=this.width,M=this.height,O=[];f.saveImage({graph:f,width:b,height:M,canvas:m,beforeTransform:function(A){var j=A[0];f.getNodes().forEach(function(B){var D=B.getBBox(),T=B.getModel(),Y=D.width;if(Y*j<2){var G=B.getGraphicGroup(),U=i.clone(G.getMatrix());G.transform([["t",-T.x,-T.y],["s",2/(Y*j),2/(Y*j)],["t",T.x,T.y]]),O.push({item:B,originMatrix:U})}})},afterTransform:function(){O.forEach(function(A){var j=A.item,B=A.originMatrix;j.getGraphicGroup().setMatrix(B)})}}),this.miniMapMatrix=m.matrix},v._bindEvent=function(){var f,m,b,M,O,E=this,A=this.controlLayer,j=!1;function B(){j=!1,m=void 0,M=void 0,f=void 0,b=void 0,O=void 0}A.on("mousedown",function(D){E.miniMapMatrix&&(O=E.getGraph(),j=!0,f=i.clone(O.getMatrix()),m=E.miniMapMatrix[0],b=f[0],M={clientX:D.clientX,clientY:D.clientY})}),A.on("mouseup",function(){B()}),A.on("mouseleave",function(){B()}),A.on("mousemove",function(D){if(j&&O){var T=M.clientX-D.clientX,Y=M.clientY-D.clientY,G=i.clone(f);i.mat3.translate(G,G,[b*T/m,b*Y/m]),O.updateMatrix(G)}})},v._initMiniMap=function(){var f=this.background,m=this.viewPort,b=this.width,M=this.height,O=this.viewportWindowStyle,E=this.viewportBackStyle,A=new a({containerDOM:f,width:b,height:M}),j=new a({containerDOM:m,width:b,height:M}),B=j.addShape("rect",{attrs:o({x:0,y:0,width:b,height:M},O)}),D=j.addShape("path",{attrs:o({path:"M0,0 L1,1"},E)});f.css({width:b+"px",height:M+"px"}),m.css({position:"absolute"}),this.miniMapCanvas=A,this.viewportCanvas=j,this.viewportWindow=B,this.viewportBack=D},v._initContainer=function(){var f=this.container,m=this.width,b=this.height;f=i.initDOMContainer(f,"minimap"),m||(m=i.getWidth(f),this.width=m),b||(b=i.getHeight(f),this.height=b);var M=this.minimapContainerCSS;M.width=m+"px",M.height=b+"px";var O=this.backgroundCSS,E=this.viewportCSS,A=this.controlLayerCSS,j=i.createDOM('<div class="g6-editor-minimap-container"></div>',M),B=i.createDOM('<div class="g6-editor-minimap-background"></div>',O),D=i.createDOM('<div class="g6-editor-minimap-viewport">',E),T=i.createDOM('<div class="g6-editor-minimap-control-layer">',A);f.appendChild(j),j.appendChild(T),j.appendChild(D),j.appendChild(B),this.minimapContainer=j,this.background=B,this.viewPort=D,this.controlLayer=T},v.renderViewPort=function(f){if(f||(f=this.getGraph()),f.getItems().length!==0){var m=this.viewportWindow,b=this.viewportCanvas,M=this.viewportBack,O=this.miniMapMatrix,E=f.getWidth(),A=f.getHeight(),j=this.width,B=this.height,D=f.getMatrix();if(O){var T=i.invertMatrix({x:0,y:0},D),Y=i.invertMatrix({x:E,y:A},D),G=i.applyMatrix(T,O),U=i.applyMatrix(Y,O),H=U.x-G.x,J=U.y-G.y;M.attr({path:[["M",0,0],["L",j,0],["L",j,B],["L",0,B],["L",0,0],["M",G.x,G.y],["L",G.x,U.y],["L",U.x,U.y],["L",U.x,G.y],["L",G.x,G.y]]}),m.attr({x:G.x,y:G.y,width:H,height:J}),b.draw()}}},v.destroy=function(){this.minimapContainer.destroy()},h}();y.exports=c},267:function(y,p,n){function o(a,c,h){return c in a?Object.defineProperty(a,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):a[c]=h,a}var u=n(3),r=n(266),i=function(){function a(h){this.options=h}var c=a.prototype;return c.init=function(){var h=this.graph,v=new r(function(f){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{},M=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(M=M.concat(Object.getOwnPropertySymbols(b).filter(function(O){return Object.getOwnPropertyDescriptor(b,O).enumerable}))),M.forEach(function(O){o(f,O,b[O])})}return f}({getGraph:function(){return h}},this.options));v.bindGraph(h),this.minimap=v},c.destroy=function(){this.minimap.destroy()},a}();u.Plugins["tool.minimap"]=i,u.Components.Minimap=r,y.exports=i},3:function(y,p){y.exports=s}})})},56535:function(zt){(function(C,x){zt.exports=x()})(window,function(){return function(C){var x={};function s(d){if(x[d])return x[d].exports;var y=x[d]={i:d,l:!1,exports:{}};return C[d].call(y.exports,y,y.exports,s),y.l=!0,y.exports}return s.m=C,s.c=x,s.d=function(d,y,p){s.o(d,y)||Object.defineProperty(d,y,{enumerable:!0,get:p})},s.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},s.t=function(d,y){if(1&y&&(d=s(d)),8&y||4&y&&typeof d=="object"&&d&&d.__esModule)return d;var p=Object.create(null);if(s.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:d}),2&y&&typeof d!="string")for(var n in d)s.d(p,n,function(o){return d[o]}.bind(null,n));return p},s.n=function(d){var y=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(y,"a",y),y},s.o=function(d,y){return Object.prototype.hasOwnProperty.call(d,y)},s.p="",s(s.s=556)}([function(C,x,s){"use strict";s.r(x),s.d(x,"contains",function(){return y}),s.d(x,"includes",function(){return y}),s.d(x,"difference",function(){return n}),s.d(x,"find",function(){return E}),s.d(x,"findIndex",function(){return A}),s.d(x,"firstValue",function(){return j}),s.d(x,"flatten",function(){return B}),s.d(x,"flattenDeep",function(){return D}),s.d(x,"getRange",function(){return T}),s.d(x,"pull",function(){return H}),s.d(x,"pullAt",function(){return ut}),s.d(x,"reduce",function(){return $}),s.d(x,"remove",function(){return K}),s.d(x,"sortBy",function(){return at}),s.d(x,"union",function(){return St}),s.d(x,"uniq",function(){return ht}),s.d(x,"valuesOfKey",function(){return pt}),s.d(x,"head",function(){return xt}),s.d(x,"last",function(){return vt}),s.d(x,"startsWith",function(){return gt}),s.d(x,"endsWith",function(){return _t}),s.d(x,"filter",function(){return p}),s.d(x,"every",function(){return Bt}),s.d(x,"some",function(){return At}),s.d(x,"group",function(){return V}),s.d(x,"groupBy",function(){return lt}),s.d(x,"groupToMap",function(){return X}),s.d(x,"getWrapBehavior",function(){return Z}),s.d(x,"wrapBehavior",function(){return W}),s.d(x,"number2color",function(){return tt}),s.d(x,"parseRadius",function(){return Q}),s.d(x,"clamp",function(){return ft}),s.d(x,"fixedBase",function(){return Et}),s.d(x,"isDecimal",function(){return Nt}),s.d(x,"isEven",function(){return Ft}),s.d(x,"isInteger",function(){return Rt}),s.d(x,"isNegative",function(){return kt}),s.d(x,"isNumberEqual",function(){return Pt}),s.d(x,"isOdd",function(){return Xt}),s.d(x,"isPositive",function(){return Ut}),s.d(x,"maxBy",function(){return ct}),s.d(x,"minBy",function(){return re}),s.d(x,"mod",function(){return ve}),s.d(x,"toDegree",function(){return Me}),s.d(x,"toInteger",function(){return ge}),s.d(x,"toRadian",function(){return ye}),s.d(x,"forIn",function(){return be}),s.d(x,"has",function(){return Oe}),s.d(x,"hasKey",function(){return Xe}),s.d(x,"hasValue",function(){return De}),s.d(x,"keys",function(){return f}),s.d(x,"isMatch",function(){return m}),s.d(x,"values",function(){return Ie}),s.d(x,"lowerCase",function(){return Be}),s.d(x,"lowerFirst",function(){return He}),s.d(x,"substitute",function(){return We}),s.d(x,"upperCase",function(){return Re}),s.d(x,"upperFirst",function(){return sn}),s.d(x,"getType",function(){return Ue}),s.d(x,"isArguments",function(){return Dn}),s.d(x,"isArray",function(){return a}),s.d(x,"isArrayLike",function(){return d}),s.d(x,"isBoolean",function(){return yn}),s.d(x,"isDate",function(){return Ge}),s.d(x,"isError",function(){return An}),s.d(x,"isFunction",function(){return r}),s.d(x,"isFinite",function(){return Cn}),s.d(x,"isNil",function(){return i}),s.d(x,"isNull",function(){return nn}),s.d(x,"isNumber",function(){return Ct}),s.d(x,"isObject",function(){return h}),s.d(x,"isObjectLike",function(){return M}),s.d(x,"isPlainObject",function(){return O}),s.d(x,"isPrototype",function(){return bn}),s.d(x,"isRegExp",function(){return xn}),s.d(x,"isString",function(){return ot}),s.d(x,"isType",function(){return u}),s.d(x,"isUndefined",function(){return rn}),s.d(x,"isElement",function(){return Ze}),s.d(x,"requestAnimationFrame",function(){return un}),s.d(x,"clearAnimationFrame",function(){return on}),s.d(x,"augment",function(){return pn}),s.d(x,"clone",function(){return an}),s.d(x,"debounce",function(){return wn}),s.d(x,"memoize",function(){return hn}),s.d(x,"deepMix",function(){return Qn}),s.d(x,"each",function(){return v}),s.d(x,"extend",function(){return ln}),s.d(x,"indexOf",function(){return Mn}),s.d(x,"isEmpty",function(){return Sn}),s.d(x,"isEqual",function(){return tr}),s.d(x,"isEqualWith",function(){return kr}),s.d(x,"map",function(){return hr}),s.d(x,"mapValues",function(){return gr}),s.d(x,"mix",function(){return Le}),s.d(x,"assign",function(){return Le}),s.d(x,"get",function(){return nr}),s.d(x,"set",function(){return lr}),s.d(x,"pick",function(){return oe}),s.d(x,"throttle",function(){return Mt}),s.d(x,"toArray",function(){return it}),s.d(x,"toString",function(){return we}),s.d(x,"uniqueId",function(){return jt}),s.d(x,"noop",function(){return Ht}),s.d(x,"identity",function(){return ne}),s.d(x,"size",function(){return le}),s.d(x,"Cache",function(){return fe});var d=function(wt){return wt!==null&&typeof wt!="function"&&isFinite(wt.length)},y=function(wt,Lt){return!!d(wt)&&wt.indexOf(Lt)>-1},p=function(wt,Lt){if(!d(wt))return wt;for(var Vt=[],$t=0;$t<wt.length;$t++){var ie=wt[$t];Lt(ie,$t)&&Vt.push(ie)}return Vt},n=function(wt,Lt){return Lt===void 0&&(Lt=[]),p(wt,function(Vt){return!y(Lt,Vt)})},o={}.toString,u=function(wt,Lt){return o.call(wt)==="[object "+Lt+"]"},r=function(wt){return u(wt,"Function")},i=function(wt){return wt==null},a=function(wt){return Array.isArray?Array.isArray(wt):u(wt,"Array")};function c(qt){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(qt)}var h=function(wt){var Lt=c(wt);return wt!==null&&Lt==="object"||Lt==="function"},v=function(wt,Lt){if(wt){if(a(wt))for(var Vt=0,$t=wt.length;Vt<$t&&Lt(wt[Vt],Vt)!==!1;Vt++);else if(h(wt)){for(var ie in wt)if(wt.hasOwnProperty(ie)&&Lt(wt[ie],ie)===!1)break}}},f=Object.keys?function(qt){return Object.keys(qt)}:function(qt){var wt=[];return v(qt,function(Lt,Vt){r(qt)&&Vt==="prototype"||wt.push(Vt)}),wt},m=function(wt,Lt){var Vt=f(Lt),$t=Vt.length;if(i(wt))return!$t;for(var ie=0;ie<$t;ie+=1){var de=Vt[ie];if(Lt[de]!==wt[de]||!(de in wt))return!1}return!0};function b(qt){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(qt)}var M=function(wt){return b(wt)==="object"&&wt!==null},O=function(wt){if(!M(wt)||!u(wt,"Object"))return!1;if(Object.getPrototypeOf(wt)===null)return!0;for(var Lt=wt;Object.getPrototypeOf(Lt)!==null;)Lt=Object.getPrototypeOf(Lt);return Object.getPrototypeOf(wt)===Lt},E=function(wt,Lt){if(!a(wt))return null;var Vt;if(r(Lt)&&(Vt=Lt),O(Lt)&&(Vt=function(de){return m(de,Lt)}),Vt){for(var $t=0;$t<wt.length;$t+=1)if(Vt(wt[$t]))return wt[$t]}return null},A=function(wt,Lt,Vt){Vt===void 0&&(Vt=0);for(var $t=Vt;$t<wt.length;$t++)if(Lt(wt[$t],$t))return $t;return-1},j=function(wt,Lt){for(var Vt=null,$t=0;$t<wt.length;$t++){var ie=wt[$t][Lt];if(!i(ie)){Vt=a(ie)?ie[0]:ie;break}}return Vt},B=function(wt){if(!a(wt))return[];for(var Lt=[],Vt=0;Vt<wt.length;Vt++)Lt=Lt.concat(wt[Vt]);return Lt},D=function qt(wt,Lt){if(Lt===void 0&&(Lt=[]),a(wt))for(var Vt=0;Vt<wt.length;Vt+=1)qt(wt[Vt],Lt);else Lt.push(wt);return Lt},T=function(wt){var Lt=wt.filter(function(de){return!isNaN(de)});if(!Lt.length)return{min:0,max:0};if(a(wt[0])){for(var Vt=[],$t=0;$t<wt.length;$t++)Vt=Vt.concat(wt[$t]);Lt=Vt}var ie=Math.max.apply(null,Lt);return{min:Math.min.apply(null,Lt),max:ie}},Y=Array.prototype,G=Y.splice,U=Y.indexOf,H=function(wt){for(var Lt=[],Vt=1;Vt<arguments.length;Vt++)Lt[Vt-1]=arguments[Vt];for(var $t=0;$t<Lt.length;$t++)for(var ie=Lt[$t],de=-1;(de=U.call(wt,ie))>-1;)G.call(wt,de,1);return wt},J=Array.prototype.splice,ut=function(wt,Lt){if(!d(wt))return[];for(var Vt=wt?Lt.length:0,$t=Vt-1;Vt--;){var ie=void 0,de=Lt[Vt];Vt!==$t&&de===ie||(ie=de,J.call(wt,de,1))}return wt},$=function(wt,Lt,Vt){if(!a(wt)&&!O(wt))return wt;var $t=Vt;return v(wt,function(ie,de){$t=Lt($t,ie,de)}),$t},K=function(wt,Lt){var Vt=[];if(!d(wt))return Vt;for(var $t=-1,ie=[],de=wt.length;++$t<de;){var ke=wt[$t];Lt(ke,$t,wt)&&(Vt.push(ke),ie.push($t))}return ut(wt,ie),Vt},ot=function(wt){return u(wt,"String")},at=function(wt,Lt){var Vt;if(r(Lt))Vt=function(de,ke){return Lt(de)-Lt(ke)};else{var $t=[];ot(Lt)?$t.push(Lt):a(Lt)&&($t=Lt),Vt=function(de,ke){for(var Te=0;Te<$t.length;Te+=1){var $e=$t[Te];if(de[$e]>ke[$e])return 1;if(de[$e]<ke[$e])return-1}return 0}}return wt.sort(Vt),wt},ht=function(wt){var Lt=[];return v(wt,function(Vt){y(Lt,Vt)||Lt.push(Vt)}),Lt},St=function(){for(var wt=[],Lt=0;Lt<arguments.length;Lt++)wt[Lt]=arguments[Lt];return ht([].concat.apply([],wt))},pt=function(wt,Lt){for(var Vt=[],$t={},ie=0;ie<wt.length;ie++){var de=wt[ie][Lt];if(!i(de)){a(de)||(de=[de]);for(var ke=0;ke<de.length;ke++){var Te=de[ke];$t[Te]||(Vt.push(Te),$t[Te]=!0)}}}return Vt};function xt(qt){if(d(qt))return qt[0]}function vt(qt){if(d(qt))return qt[qt.length-1]}var gt=function(wt,Lt){return!(!a(wt)&&!ot(wt))&&wt[0]===Lt},_t=function(wt,Lt){return!(!a(wt)&&!ot(wt))&&wt[wt.length-1]===Lt},Bt=function(wt,Lt){for(var Vt=0;Vt<wt.length;Vt++)if(!Lt(wt[Vt],Vt))return!1;return!0},At=function(wt,Lt){for(var Vt=0;Vt<wt.length;Vt++)if(Lt(wt[Vt],Vt))return!0;return!1},It=Object.prototype.hasOwnProperty,lt=function(wt,Lt){if(!Lt||!a(wt))return{};for(var Vt,$t={},ie=r(Lt)?Lt:function(Te){return Te[Lt]},de=0;de<wt.length;de++){var ke=wt[de];Vt=ie(ke),It.call($t,Vt)?$t[Vt].push(ke):$t[Vt]=[ke]}return $t},X=function(wt,Lt){if(!Lt)return{0:wt};if(!r(Lt)){var Vt=a(Lt)?Lt:Lt.replace(/\s+/g,"").split("*");Lt=function(ie){for(var de="_",ke=0,Te=Vt.length;ke<Te;ke++)de+=ie[Vt[ke]]&&ie[Vt[ke]].toString();return de}}return lt(wt,Lt)},V=function(wt,Lt){if(!Lt)return[wt];var Vt=X(wt,Lt),$t=[];for(var ie in Vt)$t.push(Vt[ie]);return $t},Z=function(wt,Lt){return wt["_wrap_"+Lt]},W=function(wt,Lt){if(wt["_wrap_"+Lt])return wt["_wrap_"+Lt];var Vt=function(ie){wt[Lt](ie)};return wt["_wrap_"+Lt]=Vt,Vt},rt={},tt=function(wt){var Lt=rt[wt];if(!Lt){for(var Vt=wt.toString(16),$t=Vt.length;$t<6;$t++)Vt="0"+Vt;Lt="#"+Vt,rt[wt]=Lt}return Lt},Q=function(wt){var Lt=0,Vt=0,$t=0,ie=0;return a(wt)?wt.length===1?Lt=Vt=$t=ie=wt[0]:wt.length===2?(Lt=$t=wt[0],Vt=ie=wt[1]):wt.length===3?(Lt=wt[0],Vt=ie=wt[1],$t=wt[2]):(Lt=wt[0],Vt=wt[1],$t=wt[2],ie=wt[3]):Lt=Vt=$t=ie=wt,{r1:Lt,r2:Vt,r3:$t,r4:ie}},ft=function(wt,Lt,Vt){return wt<Lt?Lt:wt>Vt?Vt:wt},Et=function(wt,Lt){var Vt=Lt.toString(),$t=Vt.indexOf(".");if($t===-1)return Math.round(wt);var ie=Vt.substr($t+1).length;return ie>20&&(ie=20),parseFloat(wt.toFixed(ie))},Ct=function(wt){return u(wt,"Number")},Nt=function(wt){return Ct(wt)&&wt%1!=0},Ft=function(wt){return Ct(wt)&&wt%2==0},Rt=Number.isInteger?Number.isInteger:function(qt){return Ct(qt)&&qt%1==0},kt=function(wt){return Ct(wt)&&wt<0};function Pt(qt,wt,Lt){return Lt===void 0&&(Lt=1e-5),Math.abs(qt-wt)<Lt}var Xt=function(wt){return Ct(wt)&&wt%2!=0},Ut=function(wt){return Ct(wt)&&wt>0},ct=function(wt,Lt){if(a(wt)){var Vt,$t,ie=wt[0];return Vt=r(Lt)?Lt(wt[0]):wt[0][Lt],v(wt,function(de){($t=r(Lt)?Lt(de):de[Lt])>Vt&&(ie=de,Vt=$t)}),ie}},re=function(wt,Lt){if(a(wt)){var Vt,$t,ie=wt[0];return Vt=r(Lt)?Lt(wt[0]):wt[0][Lt],v(wt,function(de){($t=r(Lt)?Lt(de):de[Lt])<Vt&&(ie=de,Vt=$t)}),ie}},ve=function(wt,Lt){return(wt%Lt+Lt)%Lt},pe=180/Math.PI,Me=function(wt){return pe*wt},ge=parseInt,ce=Math.PI/180,ye=function(wt){return ce*wt},be=v,Oe=function(wt,Lt){return wt.hasOwnProperty(Lt)},Xe=Oe,Ie=Object.values?function(qt){return Object.values(qt)}:function(qt){var wt=[];return v(qt,function(Lt,Vt){r(qt)&&Vt==="prototype"||wt.push(Lt)}),wt},De=function(wt,Lt){return y(Ie(wt),Lt)},we=function(wt){return i(wt)?"":wt.toString()},Be=function(wt){return we(wt).toLowerCase()},He=function(wt){var Lt=we(wt);return Lt.charAt(0).toLowerCase()+Lt.substring(1)},We=function(wt,Lt){return wt&&Lt?wt.replace(/\\?\{([^{}]+)\}/g,function(Vt,$t){return Vt.charAt(0)==="\\"?Vt.slice(1):Lt[$t]===void 0?"":Lt[$t]}):wt},Re=function(wt){return we(wt).toUpperCase()},sn=function(wt){var Lt=we(wt);return Lt.charAt(0).toUpperCase()+Lt.substring(1)},en={}.toString,Ue=function(wt){return en.call(wt).replace(/^\[object /,"").replace(/]$/,"")},Dn=function(wt){return u(wt,"Arguments")},yn=function(wt){return u(wt,"Boolean")},Ge=function(wt){return u(wt,"Date")},An=function(wt){return u(wt,"Error")},Cn=function(wt){return Ct(wt)&&isFinite(wt)},nn=function(wt){return wt===null},jn=Object.prototype,bn=function(wt){var Lt=wt&&wt.constructor;return wt===(typeof Lt=="function"&&Lt.prototype||jn)},xn=function(wt){return u(wt,"RegExp")},rn=function(wt){return wt===void 0},Ze=function(wt){return wt instanceof Element||wt instanceof HTMLDocument};function un(qt){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(wt){return setTimeout(wt,16)})(qt)}function on(qt){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(qt)}function cn(qt,wt){for(var Lt in wt)wt.hasOwnProperty(Lt)&&Lt!=="constructor"&&wt[Lt]!==void 0&&(qt[Lt]=wt[Lt])}function Le(qt,wt,Lt,Vt){return wt&&cn(qt,wt),Lt&&cn(qt,Lt),Vt&&cn(qt,Vt),qt}var pn=function(){for(var wt=[],Lt=0;Lt<arguments.length;Lt++)wt[Lt]=arguments[Lt];for(var Vt=wt[0],$t=1;$t<wt.length;$t++){var ie=wt[$t];r(ie)&&(ie=ie.prototype),Le(Vt.prototype,ie)}};function Ke(qt){return(Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(qt)}var an=function qt(wt){if(Ke(wt)!=="object"||wt===null)return wt;var Lt;if(a(wt)){Lt=[];for(var Vt=0,$t=wt.length;Vt<$t;Vt++)Ke(wt[Vt])==="object"&&wt[Vt]!=null?Lt[Vt]=qt(wt[Vt]):Lt[Vt]=wt[Vt]}else for(var ie in Lt={},wt)Ke(wt[ie])==="object"&&wt[ie]!=null?Lt[ie]=qt(wt[ie]):Lt[ie]=wt[ie];return Lt},wn=function(wt,Lt,Vt){var $t;return function(){var ie=this,de=arguments,ke=function(){$t=null,Vt||wt.apply(ie,de)},Te=Vt&&!$t;clearTimeout($t),$t=setTimeout(ke,Lt),Te&&wt.apply(ie,de)}},hn=function(wt,Lt){if(!r(wt))throw new TypeError("Expected a function");var Vt=function $t(){for(var ie=[],de=0;de<arguments.length;de++)ie[de]=arguments[de];var ke=Lt?Lt.apply(this,ie):ie[0],Te=$t.cache;if(Te.has(ke))return Te.get(ke);var $e=wt.apply(this,ie);return Te.set(ke,$e),$e};return Vt.cache=new Map,Vt};function In(qt,wt,Lt,Vt){for(var $t in Lt=Lt||0,Vt=Vt||5,wt)if(wt.hasOwnProperty($t)){var ie=wt[$t];ie!==null&&O(ie)?(O(qt[$t])||(qt[$t]={}),Lt<Vt?In(qt[$t],ie,Lt+1,Vt):qt[$t]=wt[$t]):a(ie)?(qt[$t]=[],qt[$t]=qt[$t].concat(ie)):ie!==void 0&&(qt[$t]=ie)}}var Qn=function(wt){for(var Lt=[],Vt=1;Vt<arguments.length;Vt++)Lt[Vt-1]=arguments[Vt];for(var $t=0;$t<Lt.length;$t+=1)In(wt,Lt[$t]);return wt},ln=function(wt,Lt,Vt,$t){r(Lt)||(Vt=Lt,Lt=wt,wt=function(){});var ie=Object.create?function(ke,Te){return Object.create(ke,{constructor:{value:Te}})}:function(ke,Te){function $e(){}$e.prototype=ke;var Ne=new $e;return Ne.constructor=Te,Ne},de=ie(Lt.prototype,wt);return wt.prototype=Le(de,wt.prototype),wt.superclass=ie(Lt.prototype,Lt),Le(de,Vt),Le(wt,$t),wt},Mn=function(wt,Lt){if(!d(wt))return-1;var Vt=Array.prototype.indexOf;if(Vt)return Vt.call(wt,Lt);for(var $t=-1,ie=0;ie<wt.length;ie++)if(wt[ie]===Lt){$t=ie;break}return $t},Jn=Object.prototype.hasOwnProperty,Sn=function(wt){if(i(wt))return!0;if(d(wt))return!wt.length;var Lt=Ue(wt);if(Lt==="Map"||Lt==="Set")return!wt.size;if(bn(wt))return!Object.keys(wt).length;for(var Vt in wt)if(Jn.call(wt,Vt))return!1;return!0},tr=function qt(wt,Lt){if(wt===Lt)return!0;if(!wt||!Lt||ot(wt)||ot(Lt))return!1;if(d(wt)||d(Lt)){if(wt.length!==Lt.length)return!1;for(var Vt=!0,$t=0;$t<wt.length&&(Vt=qt(wt[$t],Lt[$t]));$t++);return Vt}if(M(wt)||M(Lt)){var ie=Object.keys(wt),de=Object.keys(Lt);if(ie.length!==de.length)return!1;for(Vt=!0,$t=0;$t<ie.length&&(Vt=qt(wt[ie[$t]],Lt[ie[$t]]));$t++);return Vt}return!1},kr=function(wt,Lt,Vt){return r(Vt)?!!Vt(wt,Lt):tr(wt,Lt)},hr=function(wt,Lt){if(!d(wt))return wt;for(var Vt=[],$t=0;$t<wt.length;$t++){var ie=wt[$t];Vt.push(Lt(ie,$t))}return Vt},er=function(wt){return wt},gr=function(wt,Lt){Lt===void 0&&(Lt=er);var Vt={};return h(wt)&&!i(wt)&&Object.keys(wt).forEach(function($t){Vt[$t]=Lt(wt[$t],$t)}),Vt},nr=function(wt,Lt,Vt){for(var $t=0,ie=ot(Lt)?Lt.split("."):Lt;wt&&$t<ie.length;)wt=wt[ie[$t++]];return wt===void 0||$t<ie.length?Vt:wt},lr=function(wt,Lt,Vt){var $t=wt,ie=ot(Lt)?Lt.split("."):Lt;return ie.forEach(function(de,ke){ke<ie.length-1?(h($t[de])||($t[de]=Ct(ie[ke+1])?[]:{}),$t=$t[de]):$t[de]=Vt}),wt},xe=Object.prototype.hasOwnProperty,oe=function(wt,Lt){if(wt===null||!O(wt))return{};var Vt={};return v(Lt,function($t){xe.call(wt,$t)&&(Vt[$t]=wt[$t])}),Vt},Mt=function(wt,Lt,Vt){var $t,ie,de,ke,Te=0;Vt||(Vt={});var $e=function(){Te=Vt.leading===!1?0:Date.now(),$t=null,ke=wt.apply(ie,de),$t||(ie=de=null)},Ne=function(){var Qe=Date.now();Te||Vt.leading!==!1||(Te=Qe);var zn=Lt-(Qe-Te);return ie=this,de=arguments,zn<=0||zn>Lt?($t&&(clearTimeout($t),$t=null),Te=Qe,ke=wt.apply(ie,de),$t||(ie=de=null)):$t||Vt.trailing===!1||($t=setTimeout($e,zn)),ke};return Ne.cancel=function(){clearTimeout($t),Te=0,$t=ie=de=null},Ne},it=function(wt){return d(wt)?Array.prototype.slice.call(wt):[]},yt={},jt=function(wt){return yt[wt=wt||"g"]?yt[wt]+=1:yt[wt]=1,wt+yt[wt]},Ht=function(){},ne=function(wt){return wt};function le(qt){return i(qt)?0:d(qt)?qt.length:Object.keys(qt).length}var fe=function(){function qt(){this.map={}}return qt.prototype.has=function(wt){return this.map[wt]!==void 0},qt.prototype.get=function(wt,Lt){var Vt=this.map[wt];return Vt===void 0?Lt:Vt},qt.prototype.set=function(wt,Lt){this.map[wt]=Lt},qt.prototype.clear=function(){this.map={}},qt.prototype.delete=function(wt){delete this.map[wt]},qt.prototype.size=function(){return Object.keys(this.map).length},qt}()},function(C,x,s){"use strict";function d(H){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(H)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */s.r(x),s.d(x,"__extends",function(){return p}),s.d(x,"__assign",function(){return n}),s.d(x,"__rest",function(){return o}),s.d(x,"__decorate",function(){return u}),s.d(x,"__param",function(){return r}),s.d(x,"__metadata",function(){return i}),s.d(x,"__awaiter",function(){return a}),s.d(x,"__generator",function(){return c}),s.d(x,"__createBinding",function(){return h}),s.d(x,"__exportStar",function(){return v}),s.d(x,"__values",function(){return f}),s.d(x,"__read",function(){return m}),s.d(x,"__spread",function(){return b}),s.d(x,"__spreadArrays",function(){return M}),s.d(x,"__await",function(){return O}),s.d(x,"__asyncGenerator",function(){return E}),s.d(x,"__asyncDelegator",function(){return A}),s.d(x,"__asyncValues",function(){return j}),s.d(x,"__makeTemplateObject",function(){return B}),s.d(x,"__importStar",function(){return T}),s.d(x,"__importDefault",function(){return Y}),s.d(x,"__classPrivateFieldGet",function(){return G}),s.d(x,"__classPrivateFieldSet",function(){return U});var y=function(J,ut){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,K){$.__proto__=K}||function($,K){for(var ot in K)Object.prototype.hasOwnProperty.call(K,ot)&&($[ot]=K[ot])})(J,ut)};function p(H,J){function ut(){this.constructor=H}y(H,J),H.prototype=J===null?Object.create(J):(ut.prototype=J.prototype,new ut)}var n=function(){return(n=Object.assign||function(J){for(var ut,$=1,K=arguments.length;$<K;$++)for(var ot in ut=arguments[$])Object.prototype.hasOwnProperty.call(ut,ot)&&(J[ot]=ut[ot]);return J}).apply(this,arguments)};function o(H,J){var ut={};for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&J.indexOf($)<0&&(ut[$]=H[$]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function"){var K=0;for($=Object.getOwnPropertySymbols(H);K<$.length;K++)J.indexOf($[K])<0&&Object.prototype.propertyIsEnumerable.call(H,$[K])&&(ut[$[K]]=H[$[K]])}return ut}function u(H,J,ut,$){var K,ot=arguments.length,at=ot<3?J:$===null?$=Object.getOwnPropertyDescriptor(J,ut):$;if((typeof Reflect=="undefined"?"undefined":d(Reflect))==="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(H,J,ut,$);else for(var ht=H.length-1;ht>=0;ht--)(K=H[ht])&&(at=(ot<3?K(at):ot>3?K(J,ut,at):K(J,ut))||at);return ot>3&&at&&Object.defineProperty(J,ut,at),at}function r(H,J){return function(ut,$){J(ut,$,H)}}function i(H,J){if((typeof Reflect=="undefined"?"undefined":d(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(H,J)}function a(H,J,ut,$){return new(ut||(ut=Promise))(function(K,ot){function at(pt){try{St($.next(pt))}catch(xt){ot(xt)}}function ht(pt){try{St($.throw(pt))}catch(xt){ot(xt)}}function St(pt){var xt;pt.done?K(pt.value):(xt=pt.value,xt instanceof ut?xt:new ut(function(vt){vt(xt)})).then(at,ht)}St(($=$.apply(H,J||[])).next())})}function c(H,J){var ut,$,K,ot,at={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return ot={next:ht(0),throw:ht(1),return:ht(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function ht(St){return function(pt){return function(xt){if(ut)throw new TypeError("Generator is already executing.");for(;at;)try{if(ut=1,$&&(K=2&xt[0]?$.return:xt[0]?$.throw||((K=$.return)&&K.call($),0):$.next)&&!(K=K.call($,xt[1])).done)return K;switch($=0,K&&(xt=[2&xt[0],K.value]),xt[0]){case 0:case 1:K=xt;break;case 4:return at.label++,{value:xt[1],done:!1};case 5:at.label++,$=xt[1],xt=[0];continue;case 7:xt=at.ops.pop(),at.trys.pop();continue;default:if(K=at.trys,!((K=K.length>0&&K[K.length-1])||xt[0]!==6&&xt[0]!==2)){at=0;continue}if(xt[0]===3&&(!K||xt[1]>K[0]&&xt[1]<K[3])){at.label=xt[1];break}if(xt[0]===6&&at.label<K[1]){at.label=K[1],K=xt;break}if(K&&at.label<K[2]){at.label=K[2],at.ops.push(xt);break}K[2]&&at.ops.pop(),at.trys.pop();continue}xt=J.call(H,at)}catch(vt){xt=[6,vt],$=0}finally{ut=K=0}if(5&xt[0])throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}([St,pt])}}}var h=Object.create?function(H,J,ut,$){$===void 0&&($=ut),Object.defineProperty(H,$,{enumerable:!0,get:function(){return J[ut]}})}:function(H,J,ut,$){$===void 0&&($=ut),H[$]=J[ut]};function v(H,J){for(var ut in H)ut==="default"||Object.prototype.hasOwnProperty.call(J,ut)||h(J,H,ut)}function f(H){var J=typeof Symbol=="function"&&Symbol.iterator,ut=J&&H[J],$=0;if(ut)return ut.call(H);if(H&&typeof H.length=="number")return{next:function(){return H&&$>=H.length&&(H=void 0),{value:H&&H[$++],done:!H}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(H,J){var ut=typeof Symbol=="function"&&H[Symbol.iterator];if(!ut)return H;var $,K,ot=ut.call(H),at=[];try{for(;(J===void 0||J-- >0)&&!($=ot.next()).done;)at.push($.value)}catch(ht){K={error:ht}}finally{try{$&&!$.done&&(ut=ot.return)&&ut.call(ot)}finally{if(K)throw K.error}}return at}function b(){for(var H=[],J=0;J<arguments.length;J++)H=H.concat(m(arguments[J]));return H}function M(){for(var H=0,J=0,ut=arguments.length;J<ut;J++)H+=arguments[J].length;var $=Array(H),K=0;for(J=0;J<ut;J++)for(var ot=arguments[J],at=0,ht=ot.length;at<ht;at++,K++)$[K]=ot[at];return $}function O(H){return this instanceof O?(this.v=H,this):new O(H)}function E(H,J,ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,K=ut.apply(H,J||[]),ot=[];return $={},at("next"),at("throw"),at("return"),$[Symbol.asyncIterator]=function(){return this},$;function at(vt){K[vt]&&($[vt]=function(gt){return new Promise(function(_t,Bt){ot.push([vt,gt,_t,Bt])>1||ht(vt,gt)})})}function ht(vt,gt){try{(_t=K[vt](gt)).value instanceof O?Promise.resolve(_t.value.v).then(St,pt):xt(ot[0][2],_t)}catch(Bt){xt(ot[0][3],Bt)}var _t}function St(vt){ht("next",vt)}function pt(vt){ht("throw",vt)}function xt(vt,gt){vt(gt),ot.shift(),ot.length&&ht(ot[0][0],ot[0][1])}}function A(H){var J,ut;return J={},$("next"),$("throw",function(K){throw K}),$("return"),J[Symbol.iterator]=function(){return this},J;function $(K,ot){J[K]=H[K]?function(at){return(ut=!ut)?{value:O(H[K](at)),done:K==="return"}:ot?ot(at):at}:ot}}function j(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,ut=H[Symbol.asyncIterator];return ut?ut.call(H):(H=f(H),J={},$("next"),$("throw"),$("return"),J[Symbol.asyncIterator]=function(){return this},J);function $(K){J[K]=H[K]&&function(ot){return new Promise(function(at,ht){(function(St,pt,xt,vt){Promise.resolve(vt).then(function(gt){St({value:gt,done:xt})},pt)})(at,ht,(ot=H[K](ot)).done,ot.value)})}}}function B(H,J){return Object.defineProperty?Object.defineProperty(H,"raw",{value:J}):H.raw=J,H}var D=Object.create?function(H,J){Object.defineProperty(H,"default",{enumerable:!0,value:J})}:function(H,J){H.default=J};function T(H){if(H&&H.__esModule)return H;var J={};if(H!=null)for(var ut in H)ut!=="default"&&Object.prototype.hasOwnProperty.call(H,ut)&&h(J,H,ut);return D(J,H),J}function Y(H){return H&&H.__esModule?H:{default:H}}function G(H,J){if(!J.has(H))throw new TypeError("attempted to get private field on non-instance");return J.get(H)}function U(H,J,ut){if(!J.has(H))throw new TypeError("attempted to set private field on non-instance");return J.set(H,ut),ut}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(35);x.default=function(p,n){if(p){if(d.default(p))for(var o=0,u=p.length;o<u&&n(p[o],o)!==!1;o++);else if(y.default(p)){for(var r in p)if(p.hasOwnProperty(r)&&n(p[r],r)===!1)break}}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"String")}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return Array.isArray?Array.isArray(y):d.default(y,"Array")}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){if(d)for(var p in y)y.hasOwnProperty(p)&&(d.style[p]=y[p]);return d}},function(C,x,s){"use strict";s.d(x,"b",function(){return d}),s.d(x,"a",function(){return y}),s.d(x,"c",function(){return p});var d=1e-6,y=typeof Float32Array!="undefined"?Float32Array:Array,p=Math.random;Math.hypot||(Math.hypot=function(){for(var n=0,o=arguments.length;o--;)n+=arguments[o]*arguments[o];return Math.sqrt(n)})},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(72);x.contains=d.default,x.includes=d.default;var y=s(242);x.difference=y.default;var p=s(243);x.find=p.default;var n=s(244);x.findIndex=n.default;var o=s(245);x.firstValue=o.default;var u=s(246);x.flatten=u.default;var r=s(247);x.flattenDeep=r.default;var i=s(248);x.getRange=i.default;var a=s(249);x.pull=a.default;var c=s(140);x.pullAt=c.default;var h=s(250);x.reduce=h.default;var v=s(251);x.remove=v.default;var f=s(252);x.sortBy=f.default;var m=s(253);x.union=m.default;var b=s(141);x.uniq=b.default;var M=s(254);x.valuesOfKey=M.default;var O=s(255);x.head=O.default;var E=s(256);x.last=E.default;var A=s(257);x.startsWith=A.default;var j=s(258);x.endsWith=j.default;var B=s(137);x.filter=B.default;var D=s(259);x.every=D.default;var T=s(260);x.some=T.default;var Y=s(261);x.group=Y.default;var G=s(69);x.groupBy=G.default;var U=s(142);x.groupToMap=U.default;var H=s(262);x.getWrapBehavior=H.default;var J=s(50);x.wrapBehavior=J.default;var ut=s(263);x.number2color=ut.default;var $=s(264);x.parseRadius=$.default;var K=s(265);x.clamp=K.default;var ot=s(266);x.fixedBase=ot.default;var at=s(267);x.isDecimal=at.default;var ht=s(268);x.isEven=ht.default;var St=s(269);x.isInteger=St.default;var pt=s(270);x.isNegative=pt.default;var xt=s(103);x.isNumberEqual=xt.default;var vt=s(271);x.isOdd=vt.default;var gt=s(272);x.isPositive=gt.default;var _t=s(273);x.maxBy=_t.default;var Bt=s(274);x.minBy=Bt.default;var At=s(67);x.mod=At.default;var It=s(275);x.toDegree=It.default;var lt=s(276);x.toInteger=lt.default;var X=s(68);x.toRadian=X.default;var V=s(277);x.forIn=V.default;var Z=s(143);x.has=Z.default;var W=s(278);x.hasKey=W.default;var rt=s(279);x.hasValue=rt.default;var tt=s(139);x.keys=tt.default;var Q=s(138);x.isMatch=Q.default;var ft=s(144);x.values=ft.default;var Et=s(280);x.lowerCase=Et.default;var Ct=s(281);x.lowerFirst=Ct.default;var Nt=s(282);x.substitute=Nt.default;var Ft=s(283);x.upperCase=Ft.default;var Rt=s(49);x.upperFirst=Rt.default;var kt=s(145);x.getType=kt.default;var Pt=s(284);x.isArguments=Pt.default;var Xt=s(4);x.isArray=Xt.default;var Ut=s(21);x.isArrayLike=Ut.default;var ct=s(285);x.isBoolean=ct.default;var re=s(286);x.isDate=re.default;var ve=s(287);x.isError=ve.default;var pe=s(14);x.isFunction=pe.default;var Me=s(288);x.isFinite=Me.default;var ge=s(10);x.isNil=ge.default;var ce=s(289);x.isNull=ce.default;var ye=s(11);x.isNumber=ye.default;var be=s(35);x.isObject=be.default;var Oe=s(102);x.isObjectLike=Oe.default;var Xe=s(58);x.isPlainObject=Xe.default;var Ie=s(146);x.isPrototype=Ie.default;var De=s(290);x.isRegExp=De.default;var we=s(3);x.isString=we.default;var Be=s(27);x.isType=Be.default;var He=s(291);x.isUndefined=He.default;var We=s(292);x.isElement=We.default;var Re=s(147);x.requestAnimationFrame=Re.default;var sn=s(148);x.clearAnimationFrame=sn.default;var en=s(293);x.augment=en.default;var Ue=s(98);x.clone=Ue.default;var Dn=s(294);x.debounce=Dn.default;var yn=s(295);x.memoize=yn.default;var Ge=s(12);x.deepMix=Ge.default;var An=s(2);x.each=An.default;var Cn=s(296);x.extend=Cn.default;var nn=s(297);x.indexOf=nn.default;var jn=s(298);x.isEmpty=jn.default;var bn=s(95);x.isEqual=bn.default;var xn=s(299);x.isEqualWith=xn.default;var rn=s(300);x.map=rn.default;var Ze=s(301);x.mapValues=Ze.default;var un=s(17);x.mix=un.default,x.assign=un.default;var on=s(130);x.get=on.default;var cn=s(302);x.set=cn.default;var Le=s(303);x.pick=Le.default;var pn=s(304);x.throttle=pn.default;var Ke=s(305);x.toArray=Ke.default;var an=s(59);x.toString=an.default;var wn=s(306);x.uniqueId=wn.default;var hn=s(307);x.noop=hn.default;var In=s(308);x.identity=In.default;var Qn=s(309);x.size=Qn.default;var ln=s(310);x.Cache=ln.default},function(C,x,s){"use strict";var d,y,p,n;Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(o){d||(d=document.createElement("table"),y=document.createElement("tr"),p=/^\s*<(\w+|!)[^>]*>/,n={tr:document.createElement("tbody"),tbody:d,thead:d,tfoot:d,td:y,th:y,"*":document.createElement("div")});var u=p.test(o)&&RegExp.$1;u&&u in n||(u="*");var r=n[u];o=o.replace(/(^\s*)|(\s*$)/g,""),r.innerHTML=""+o;var i=r.childNodes[0];return r.removeChild(i),i}},function(C,x,s){"use strict";s.d(x,"j",function(){return b}),s.d(x,"c",function(){return M}),s.d(x,"g",function(){return O}),s.d(x,"b",function(){return E});var d=s(10),y=s.n(d);s.d(x,"e",function(){return y.a});var p=s(14),n=s.n(p);s.d(x,"d",function(){return n.a});var o=s(3),u=s.n(o);s.d(x,"h",function(){return u.a});var r=s(35),i=s.n(r);s.d(x,"f",function(){return i.a}),s(4);var a=s(17),c=s.n(a);s.d(x,"i",function(){return c.a});var h=s(2),v=s.n(h);s.d(x,"a",function(){return v.a});var f=s(49),m=s.n(f);function b(A,j){var B=A.indexOf(j);B!==-1&&A.splice(B,1)}s.d(x,"k",function(){return m.a});var M=typeof window!="undefined"&&window.document!==void 0;function O(A,j){if(A.isCanvas())return!0;for(var B=j.getParent(),D=!1;B;){if(B===A){D=!0;break}B=B.getParent()}return D}function E(A){return A.cfg.visible&&A.cfg.capture}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d==null}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Number")}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(58);function p(n,o,u,r){for(var i in u=u||0,r=r||5,o)if(o.hasOwnProperty(i)){var a=o[i];a!==null&&y.default(a)?(y.default(n[i])||(n[i]={}),u<r?p(n[i],a,u+1,r):n[i]=o[i]):d.default(a)?(n[i]=[],n[i]=n[i].concat(a)):a!==void 0&&(n[i]=a)}}x.default=function(n){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];for(var r=0;r<o.length;r+=1)p(n,o[r]);return n}},function(C,x,s){var d;try{d={cloneDeep:s(486),constant:s(122),defaults:s(487),each:s(191),filter:s(194),find:s(488),flatten:s(221),forEach:s(192),forIn:s(493),has:s(205),isUndefined:s(206),last:s(494),map:s(207),mapValues:s(495),max:s(496),merge:s(498),min:s(504),minBy:s(505),now:s(506),pick:s(507),range:s(512),reduce:s(209),sortBy:s(515),uniqueId:s(520),values:s(214),zipObject:s(521)}}catch(y){}d||(d=window._),C.exports=d},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Function")}},function(C,x){var s=Array.isArray;C.exports=s},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.sub=x.mul=void 0,x.create=function(){var n=new d.ARRAY_TYPE(9);return d.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n},x.fromMat4=function(n,o){return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[4],n[4]=o[5],n[5]=o[6],n[6]=o[8],n[7]=o[9],n[8]=o[10],n},x.clone=function(n){var o=new d.ARRAY_TYPE(9);return o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o},x.copy=function(n,o){return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n},x.fromValues=function(n,o,u,r,i,a,c,h,v){var f=new d.ARRAY_TYPE(9);return f[0]=n,f[1]=o,f[2]=u,f[3]=r,f[4]=i,f[5]=a,f[6]=c,f[7]=h,f[8]=v,f},x.set=function(n,o,u,r,i,a,c,h,v,f){return n[0]=o,n[1]=u,n[2]=r,n[3]=i,n[4]=a,n[5]=c,n[6]=h,n[7]=v,n[8]=f,n},x.identity=function(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.transpose=function(n,o){if(n===o){var u=o[1],r=o[2],i=o[5];n[1]=o[3],n[2]=o[6],n[3]=u,n[5]=o[7],n[6]=r,n[7]=i}else n[0]=o[0],n[1]=o[3],n[2]=o[6],n[3]=o[1],n[4]=o[4],n[5]=o[7],n[6]=o[2],n[7]=o[5],n[8]=o[8];return n},x.invert=function(n,o){var u=o[0],r=o[1],i=o[2],a=o[3],c=o[4],h=o[5],v=o[6],f=o[7],m=o[8],b=m*c-h*f,M=-m*a+h*v,O=f*a-c*v,E=u*b+r*M+i*O;return E?(E=1/E,n[0]=b*E,n[1]=(-m*r+i*f)*E,n[2]=(h*r-i*c)*E,n[3]=M*E,n[4]=(m*u-i*v)*E,n[5]=(-h*u+i*a)*E,n[6]=O*E,n[7]=(-f*u+r*v)*E,n[8]=(c*u-r*a)*E,n):null},x.adjoint=function(n,o){var u=o[0],r=o[1],i=o[2],a=o[3],c=o[4],h=o[5],v=o[6],f=o[7],m=o[8];return n[0]=c*m-h*f,n[1]=i*f-r*m,n[2]=r*h-i*c,n[3]=h*v-a*m,n[4]=u*m-i*v,n[5]=i*a-u*h,n[6]=a*f-c*v,n[7]=r*v-u*f,n[8]=u*c-r*a,n},x.determinant=function(n){var o=n[0],u=n[1],r=n[2],i=n[3],a=n[4],c=n[5],h=n[6],v=n[7],f=n[8];return o*(f*a-c*v)+u*(-f*i+c*h)+r*(v*i-a*h)},x.multiply=y,x.translate=function(n,o,u){var r=o[0],i=o[1],a=o[2],c=o[3],h=o[4],v=o[5],f=o[6],m=o[7],b=o[8],M=u[0],O=u[1];return n[0]=r,n[1]=i,n[2]=a,n[3]=c,n[4]=h,n[5]=v,n[6]=M*r+O*c+f,n[7]=M*i+O*h+m,n[8]=M*a+O*v+b,n},x.rotate=function(n,o,u){var r=o[0],i=o[1],a=o[2],c=o[3],h=o[4],v=o[5],f=o[6],m=o[7],b=o[8],M=Math.sin(u),O=Math.cos(u);return n[0]=O*r+M*c,n[1]=O*i+M*h,n[2]=O*a+M*v,n[3]=O*c-M*r,n[4]=O*h-M*i,n[5]=O*v-M*a,n[6]=f,n[7]=m,n[8]=b,n},x.scale=function(n,o,u){var r=u[0],i=u[1];return n[0]=r*o[0],n[1]=r*o[1],n[2]=r*o[2],n[3]=i*o[3],n[4]=i*o[4],n[5]=i*o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n},x.fromTranslation=function(n,o){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=o[0],n[7]=o[1],n[8]=1,n},x.fromRotation=function(n,o){var u=Math.sin(o),r=Math.cos(o);return n[0]=r,n[1]=u,n[2]=0,n[3]=-u,n[4]=r,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.fromScaling=function(n,o){return n[0]=o[0],n[1]=0,n[2]=0,n[3]=0,n[4]=o[1],n[5]=0,n[6]=0,n[7]=0,n[8]=1,n},x.fromMat2d=function(n,o){return n[0]=o[0],n[1]=o[1],n[2]=0,n[3]=o[2],n[4]=o[3],n[5]=0,n[6]=o[4],n[7]=o[5],n[8]=1,n},x.fromQuat=function(n,o){var u=o[0],r=o[1],i=o[2],a=o[3],c=u+u,h=r+r,v=i+i,f=u*c,m=r*c,b=r*h,M=i*c,O=i*h,E=i*v,A=a*c,j=a*h,B=a*v;return n[0]=1-b-E,n[3]=m-B,n[6]=M+j,n[1]=m+B,n[4]=1-f-E,n[7]=O-A,n[2]=M-j,n[5]=O+A,n[8]=1-f-b,n},x.normalFromMat4=function(n,o){var u=o[0],r=o[1],i=o[2],a=o[3],c=o[4],h=o[5],v=o[6],f=o[7],m=o[8],b=o[9],M=o[10],O=o[11],E=o[12],A=o[13],j=o[14],B=o[15],D=u*h-r*c,T=u*v-i*c,Y=u*f-a*c,G=r*v-i*h,U=r*f-a*h,H=i*f-a*v,J=m*A-b*E,ut=m*j-M*E,$=m*B-O*E,K=b*j-M*A,ot=b*B-O*A,at=M*B-O*j,ht=D*at-T*ot+Y*K+G*$-U*ut+H*J;return ht?(ht=1/ht,n[0]=(h*at-v*ot+f*K)*ht,n[1]=(v*$-c*at-f*ut)*ht,n[2]=(c*ot-h*$+f*J)*ht,n[3]=(i*ot-r*at-a*K)*ht,n[4]=(u*at-i*$+a*ut)*ht,n[5]=(r*$-u*ot-a*J)*ht,n[6]=(A*H-j*U+B*G)*ht,n[7]=(j*Y-E*H-B*T)*ht,n[8]=(E*U-A*Y+B*D)*ht,n):null},x.projection=function(n,o,u){return n[0]=2/o,n[1]=0,n[2]=0,n[3]=0,n[4]=-2/u,n[5]=0,n[6]=-1,n[7]=1,n[8]=1,n},x.str=function(n){return"mat3("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+")"},x.frob=function(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)+Math.pow(n[3],2)+Math.pow(n[4],2)+Math.pow(n[5],2)+Math.pow(n[6],2)+Math.pow(n[7],2)+Math.pow(n[8],2))},x.add=function(n,o,u){return n[0]=o[0]+u[0],n[1]=o[1]+u[1],n[2]=o[2]+u[2],n[3]=o[3]+u[3],n[4]=o[4]+u[4],n[5]=o[5]+u[5],n[6]=o[6]+u[6],n[7]=o[7]+u[7],n[8]=o[8]+u[8],n},x.subtract=p,x.multiplyScalar=function(n,o,u){return n[0]=o[0]*u,n[1]=o[1]*u,n[2]=o[2]*u,n[3]=o[3]*u,n[4]=o[4]*u,n[5]=o[5]*u,n[6]=o[6]*u,n[7]=o[7]*u,n[8]=o[8]*u,n},x.multiplyScalarAndAdd=function(n,o,u,r){return n[0]=o[0]+u[0]*r,n[1]=o[1]+u[1]*r,n[2]=o[2]+u[2]*r,n[3]=o[3]+u[3]*r,n[4]=o[4]+u[4]*r,n[5]=o[5]+u[5]*r,n[6]=o[6]+u[6]*r,n[7]=o[7]+u[7]*r,n[8]=o[8]+u[8]*r,n},x.exactEquals=function(n,o){return n[0]===o[0]&&n[1]===o[1]&&n[2]===o[2]&&n[3]===o[3]&&n[4]===o[4]&&n[5]===o[5]&&n[6]===o[6]&&n[7]===o[7]&&n[8]===o[8]},x.equals=function(n,o){var u=n[0],r=n[1],i=n[2],a=n[3],c=n[4],h=n[5],v=n[6],f=n[7],m=n[8],b=o[0],M=o[1],O=o[2],E=o[3],A=o[4],j=o[5],B=o[6],D=o[7],T=o[8];return Math.abs(u-b)<=d.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(r-M)<=d.EPSILON*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(i-O)<=d.EPSILON*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(a-E)<=d.EPSILON*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(c-A)<=d.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(h-j)<=d.EPSILON*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(v-B)<=d.EPSILON*Math.max(1,Math.abs(v),Math.abs(B))&&Math.abs(f-D)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(m-T)<=d.EPSILON*Math.max(1,Math.abs(m),Math.abs(T))};var d=function(n){if(n&&n.__esModule)return n;var o={};if(n!=null)for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(o[u]=n[u]);return o.default=n,o}(s(104));function y(n,o,u){var r=o[0],i=o[1],a=o[2],c=o[3],h=o[4],v=o[5],f=o[6],m=o[7],b=o[8],M=u[0],O=u[1],E=u[2],A=u[3],j=u[4],B=u[5],D=u[6],T=u[7],Y=u[8];return n[0]=M*r+O*c+E*f,n[1]=M*i+O*h+E*m,n[2]=M*a+O*v+E*b,n[3]=A*r+j*c+B*f,n[4]=A*i+j*h+B*m,n[5]=A*a+j*v+B*b,n[6]=D*r+T*c+Y*f,n[7]=D*i+T*h+Y*m,n[8]=D*a+T*v+Y*b,n}function p(n,o,u){return n[0]=o[0]-u[0],n[1]=o[1]-u[1],n[2]=o[2]-u[2],n[3]=o[3]-u[3],n[4]=o[4]-u[4],n[5]=o[5]-u[5],n[6]=o[6]-u[6],n[7]=o[7]-u[7],n[8]=o[8]-u[8],n}x.mul=y,x.sub=p},function(C,x,s){"use strict";function d(y,p){for(var n in p)p.hasOwnProperty(n)&&n!=="constructor"&&p[n]!==void 0&&(y[n]=p[n])}Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(y,p,n,o){return p&&d(y,p),n&&d(y,n),o&&d(y,o),y}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.isSamePoint=x.mergeRegion=x.intersectRect=x.inBox=x.distance=x.getPixelRatio=void 0,x.getPixelRatio=function(){return window?window.devicePixelRatio:1},x.distance=function(h,v,f,m){var b=h-f,M=v-m;return Math.sqrt(b*b+M*M)},x.inBox=function(h,v,f,m,b,M){return b>=h&&b<=h+f&&M>=v&&M<=v+m},x.intersectRect=function(h,v){return!(v.minX>h.maxX||v.maxX<h.minX||v.minY>h.maxY||v.maxY<h.minY)},x.mergeRegion=function(h,v){return h&&v?{minX:Math.min(h.minX,v.minX),minY:Math.min(h.minY,v.minY),maxX:Math.max(h.maxX,v.maxX),maxY:Math.max(h.maxY,v.maxY)}:h||v},x.isSamePoint=function(h,v){return h[0]===v[0]&&h[1]===v[1]};var d=s(10);Object.defineProperty(x,"isNil",{enumerable:!0,get:function(){return d.default}});var y=s(3);Object.defineProperty(x,"isString",{enumerable:!0,get:function(){return y.default}});var p=s(14);Object.defineProperty(x,"isFunction",{enumerable:!0,get:function(){return p.default}});var n=s(4);Object.defineProperty(x,"isArray",{enumerable:!0,get:function(){return n.default}});var o=s(2);Object.defineProperty(x,"each",{enumerable:!0,get:function(){return o.default}});var u=s(68);Object.defineProperty(x,"toRadian",{enumerable:!0,get:function(){return u.default}});var r=s(67);Object.defineProperty(x,"mod",{enumerable:!0,get:function(){return r.default}});var i=s(103);Object.defineProperty(x,"isNumberEqual",{enumerable:!0,get:function(){return i.default}});var a=s(147);Object.defineProperty(x,"requestAnimationFrame",{enumerable:!0,get:function(){return a.default}});var c=s(148);Object.defineProperty(x,"clearAnimationFrame",{enumerable:!0,get:function(){return c.default}})},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.EVENTS=x.SVG_ATTR_MAP=x.SHAPE_TO_TAGS=void 0,x.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},x.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},x.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},function(C,x,s){"use strict";var d=s(13),y=s(30).Graph;function p(o,u,r,i){var a;do a=d.uniqueId(i);while(o.hasNode(a));return r.dummy=u,o.setNode(a,r),a}function n(o){return d.max(d.map(o.nodes(),function(u){var r=o.node(u).rank;if(!d.isUndefined(r))return r}))}C.exports={addDummyNode:p,simplify:function(u){var r=new y().setGraph(u.graph());return d.forEach(u.nodes(),function(i){r.setNode(i,u.node(i))}),d.forEach(u.edges(),function(i){var a=r.edge(i.v,i.w)||{weight:0,minlen:1},c=u.edge(i);r.setEdge(i.v,i.w,{weight:a.weight+c.weight,minlen:Math.max(a.minlen,c.minlen)})}),r},asNonCompoundGraph:function(u){var r=new y({multigraph:u.isMultigraph()}).setGraph(u.graph());return d.forEach(u.nodes(),function(i){u.children(i).length||r.setNode(i,u.node(i))}),d.forEach(u.edges(),function(i){r.setEdge(i,u.edge(i))}),r},successorWeights:function(u){var r=d.map(u.nodes(),function(i){var a={};return d.forEach(u.outEdges(i),function(c){a[c.w]=(a[c.w]||0)+u.edge(c).weight}),a});return d.zipObject(u.nodes(),r)},predecessorWeights:function(u){var r=d.map(u.nodes(),function(i){var a={};return d.forEach(u.inEdges(i),function(c){a[c.v]=(a[c.v]||0)+u.edge(c).weight}),a});return d.zipObject(u.nodes(),r)},intersectRect:function(u,r){var i,a,c=u.x,h=u.y,v=r.x-c,f=r.y-h,m=u.width/2,b=u.height/2;if(!v&&!f)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(f)*m>Math.abs(v)*b?(f<0&&(b=-b),i=b*v/f,a=b):(v<0&&(m=-m),i=m,a=m*f/v),{x:c+i,y:h+a}},buildLayerMatrix:function(u){var r=d.map(d.range(n(u)+1),function(){return[]});return d.forEach(u.nodes(),function(i){var a=u.node(i),c=a.rank;d.isUndefined(c)||(r[c][a.order]=i)}),r},normalizeRanks:function(u){var r=d.min(d.map(u.nodes(),function(i){return u.node(i).rank}));d.forEach(u.nodes(),function(i){var a=u.node(i);d.has(a,"rank")&&(a.rank-=r)})},removeEmptyRanks:function(u){var r=d.min(d.map(u.nodes(),function(h){return u.node(h).rank})),i=[];d.forEach(u.nodes(),function(h){var v=u.node(h).rank-r;i[v]||(i[v]=[]),i[v].push(h)});var a=0,c=u.graph().nodeRankFactor;d.forEach(i,function(h,v){d.isUndefined(h)&&v%c!=0?--a:a&&d.forEach(h,function(f){u.node(f).rank+=a})})},addBorderNode:function(u,r,i,a){var c={width:0,height:0};return arguments.length>=4&&(c.rank=i,c.order=a),p(u,"border",c,r)},maxRank:n,partition:function(u,r){var i={lhs:[],rhs:[]};return d.forEach(u,function(a){r(a)?i.lhs.push(a):i.rhs.push(a)}),i},time:function(u,r){var i=d.now();try{return r()}finally{console.log(u+" time: "+(d.now()-i)+"ms")}},notime:function(u,r){return r()}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d!==null&&typeof d!="function"&&isFinite(d.length)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(172);x.mat3=d.default;var y=s(368);x.vec2=y.default;var p=s(369);x.vec3=p.default;var n=s(370);x.transform=n.default},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(61),n=s(29),o=s(109),u=s(19),r=s(110),i=s(171),a=s(157),c=function(h){function v(){var f=h!==null&&h.apply(this,arguments)||this;return f.type="svg",f.canFill=!1,f.canStroke=!1,f}return d.__extends(v,h),v.prototype.getDefaultAttrs=function(){var f=h.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},f),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},v.prototype.afterAttrsChange=function(f){h.prototype.afterAttrsChange.call(this,f);var m=this.get("canvas");if(m&&m.get("autoDraw")){var b=m.get("context");this.draw(b,f)}},v.prototype.getShapeBase=function(){return r},v.prototype.getGroupBase=function(){return i.default},v.prototype.onCanvasChange=function(f){o.refreshElement(this,f)},v.prototype.calculateBBox=function(){var f=this.get("el"),m=null;if(f)m=f.getBBox();else{var b=a.getBBoxMethod(this.get("type"));b&&(m=b(this))}if(m){var M=m.x,O=m.y,E=m.width,A=m.height,j=this.getHitLineWidth(),B=j/2,D=M-B,T=O-B;return{x:D,y:T,minX:D,minY:T,maxX:M+E+B,maxY:O+A+B,width:E+j,height:A+j}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},v.prototype.isFill=function(){var f=this.attr(),m=f.fill,b=f.fillStyle;return(m||b||this.isClipShape())&&this.canFill},v.prototype.isStroke=function(){var f=this.attr(),m=f.stroke,b=f.strokeStyle;return(m||b)&&this.canStroke},v.prototype.draw=function(f,m){var b=this.get("el");this.get("destroyed")?b&&b.parentNode.removeChild(b):(b||n.createDom(this),p.setClip(this,f),this.createPath(f,m),this.shadow(f,m),this.strokeAndFill(f,m),this.transform(m))},v.prototype.createPath=function(f,m){},v.prototype.strokeAndFill=function(f,m){var b=m||this.attr(),M=b.fill,O=b.fillStyle,E=b.stroke,A=b.strokeStyle,j=b.fillOpacity,B=b.strokeOpacity,D=b.lineWidth,T=this.get("el");this.canFill&&(m?"fill"in b?this._setColor(f,"fill",M):"fillStyle"in b&&this._setColor(f,"fill",O):this._setColor(f,"fill",M||O),j&&T.setAttribute(u.SVG_ATTR_MAP.fillOpacity,j)),this.canStroke&&D>0&&(m?"stroke"in b?this._setColor(f,"stroke",E):"strokeStyle"in b&&this._setColor(f,"stroke",A):this._setColor(f,"stroke",E||A),B&&T.setAttribute(u.SVG_ATTR_MAP.strokeOpacity,B),D&&T.setAttribute(u.SVG_ATTR_MAP.lineWidth,D))},v.prototype._setColor=function(f,m,b){var M=this.get("el");if(b)if(b=b.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(b))(O=f.find("gradient",b))||(O=f.addGradient(b)),M.setAttribute(u.SVG_ATTR_MAP[m],"url(#"+O+")");else if(/^[p,P]{1}[\s]*\(/.test(b)){var O;(O=f.find("pattern",b))||(O=f.addPattern(b)),M.setAttribute(u.SVG_ATTR_MAP[m],"url(#"+O+")")}else M.setAttribute(u.SVG_ATTR_MAP[m],b);else M.setAttribute(u.SVG_ATTR_MAP[m],"none")},v.prototype.shadow=function(f,m){var b=this.attr(),M=m||b,O=M.shadowOffsetX,E=M.shadowOffsetY,A=M.shadowBlur,j=M.shadowColor;(O||E||A||j)&&p.setShadow(this,f)},v.prototype.transform=function(f){var m=this.attr();(f||m).matrix&&p.setTransform(this)},v.prototype.isInShape=function(f,m){return this.isPointInPath(f,m)},v.prototype.isPointInPath=function(f,m){var b=this.get("el"),M=this.get("canvas").get("el").getBoundingClientRect(),O=f+M.left,E=m+M.top,A=document.elementFromPoint(O,E);return!(!A||!A.isEqualNode(b))},v.prototype.getHitLineWidth=function(){var f=this.attrs,m=f.lineWidth,b=f.lineAppendWidth;return this.isStroke()?m+b:0},v}(y.AbstractShape);x.default=c},function(C,x,s){var d;try{d={clone:s(373),constant:s(122),each:s(191),filter:s(194),has:s(205),isArray:s(15),isEmpty:s(450),isFunction:s(62),isUndefined:s(206),keys:s(41),map:s(207),reduce:s(209),size:s(453),transform:s(459),union:s(460),values:s(214)}}catch(y){}d||(d=window._),C.exports=d},function(C,x){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(d)}C.exports=function(d){var y=s(d);return d!=null&&(y=="object"||y=="function")}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.forEach=x.sqrLen=x.sqrDist=x.dist=x.div=x.mul=x.sub=x.len=void 0,x.create=y,x.clone=function(h){var v=new d.ARRAY_TYPE(2);return v[0]=h[0],v[1]=h[1],v},x.fromValues=function(h,v){var f=new d.ARRAY_TYPE(2);return f[0]=h,f[1]=v,f},x.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h},x.set=function(h,v,f){return h[0]=v,h[1]=f,h},x.add=function(h,v,f){return h[0]=v[0]+f[0],h[1]=v[1]+f[1],h},x.subtract=p,x.multiply=n,x.divide=o,x.ceil=function(h,v){return h[0]=Math.ceil(v[0]),h[1]=Math.ceil(v[1]),h},x.floor=function(h,v){return h[0]=Math.floor(v[0]),h[1]=Math.floor(v[1]),h},x.min=function(h,v,f){return h[0]=Math.min(v[0],f[0]),h[1]=Math.min(v[1],f[1]),h},x.max=function(h,v,f){return h[0]=Math.max(v[0],f[0]),h[1]=Math.max(v[1],f[1]),h},x.round=function(h,v){return h[0]=Math.round(v[0]),h[1]=Math.round(v[1]),h},x.scale=function(h,v,f){return h[0]=v[0]*f,h[1]=v[1]*f,h},x.scaleAndAdd=function(h,v,f,m){return h[0]=v[0]+f[0]*m,h[1]=v[1]+f[1]*m,h},x.distance=u,x.squaredDistance=r,x.length=i,x.squaredLength=a,x.negate=function(h,v){return h[0]=-v[0],h[1]=-v[1],h},x.inverse=function(h,v){return h[0]=1/v[0],h[1]=1/v[1],h},x.normalize=function(h,v){var f=v[0],m=v[1],b=f*f+m*m;return b>0&&(b=1/Math.sqrt(b),h[0]=v[0]*b,h[1]=v[1]*b),h},x.dot=function(h,v){return h[0]*v[0]+h[1]*v[1]},x.cross=function(h,v,f){var m=v[0]*f[1]-v[1]*f[0];return h[0]=h[1]=0,h[2]=m,h},x.lerp=function(h,v,f,m){var b=v[0],M=v[1];return h[0]=b+m*(f[0]-b),h[1]=M+m*(f[1]-M),h},x.random=function(h,v){v=v||1;var f=2*d.RANDOM()*Math.PI;return h[0]=Math.cos(f)*v,h[1]=Math.sin(f)*v,h},x.transformMat2=function(h,v,f){var m=v[0],b=v[1];return h[0]=f[0]*m+f[2]*b,h[1]=f[1]*m+f[3]*b,h},x.transformMat2d=function(h,v,f){var m=v[0],b=v[1];return h[0]=f[0]*m+f[2]*b+f[4],h[1]=f[1]*m+f[3]*b+f[5],h},x.transformMat3=function(h,v,f){var m=v[0],b=v[1];return h[0]=f[0]*m+f[3]*b+f[6],h[1]=f[1]*m+f[4]*b+f[7],h},x.transformMat4=function(h,v,f){var m=v[0],b=v[1];return h[0]=f[0]*m+f[4]*b+f[12],h[1]=f[1]*m+f[5]*b+f[13],h},x.rotate=function(h,v,f,m){var b=v[0]-f[0],M=v[1]-f[1],O=Math.sin(m),E=Math.cos(m);return h[0]=b*E-M*O+f[0],h[1]=b*O+M*E+f[1],h},x.angle=function(h,v){var f=h[0],m=h[1],b=v[0],M=v[1],O=f*f+m*m;O>0&&(O=1/Math.sqrt(O));var E=b*b+M*M;E>0&&(E=1/Math.sqrt(E));var A=(f*b+m*M)*O*E;return A>1?0:A<-1?Math.PI:Math.acos(A)},x.str=function(h){return"vec2("+h[0]+", "+h[1]+")"},x.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]},x.equals=function(h,v){var f=h[0],m=h[1],b=v[0],M=v[1];return Math.abs(f-b)<=d.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))&&Math.abs(m-M)<=d.EPSILON*Math.max(1,Math.abs(m),Math.abs(M))};var d=function(h){if(h&&h.__esModule)return h;var v={};if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(v[f]=h[f]);return v.default=h,v}(s(104));function y(){var h=new d.ARRAY_TYPE(2);return d.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0),h}function p(h,v,f){return h[0]=v[0]-f[0],h[1]=v[1]-f[1],h}function n(h,v,f){return h[0]=v[0]*f[0],h[1]=v[1]*f[1],h}function o(h,v,f){return h[0]=v[0]/f[0],h[1]=v[1]/f[1],h}function u(h,v){var f=v[0]-h[0],m=v[1]-h[1];return Math.sqrt(f*f+m*m)}function r(h,v){var f=v[0]-h[0],m=v[1]-h[1];return f*f+m*m}function i(h){var v=h[0],f=h[1];return Math.sqrt(v*v+f*f)}function a(h){var v=h[0],f=h[1];return v*v+f*f}var c;x.len=i,x.sub=p,x.mul=n,x.div=o,x.dist=u,x.sqrDist=r,x.sqrLen=a,x.forEach=(c=y(),function(h,v,f,m,b,M){var O=void 0,E=void 0;for(v||(v=2),f||(f=0),E=m?Math.min(m*v+f,h.length):h.length,O=f;O<E;O+=v)c[0]=h[O],c[1]=h[O+1],b(c,c,M),h[O]=c[0],h[O+1]=c[1];return h})},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d={}.toString;x.default=function(y,p){return d.call(y)==="[object "+p+"]"}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(18),n=s(60),o=s(157),u=s(73),r=s(164),i=function(a){function c(){return a!==null&&a.apply(this,arguments)||this}return d.__extends(c,a),c.prototype.getDefaultAttrs=function(){var h=a.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},h),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},c.prototype.getShapeBase=function(){return u},c.prototype.getGroupBase=function(){return r.default},c.prototype.onCanvasChange=function(h){n.refreshElement(this,h)},c.prototype.calculateBBox=function(){var h=this.get("type"),v=this.getHitLineWidth(),f=o.getBBoxMethod(h)(this),m=v/2,b=f.x-m,M=f.y-m,O=f.x+f.width+m,E=f.y+f.height+m;return{x:b,minX:b,y:M,minY:M,width:f.width+v,height:f.height+v,maxX:O,maxY:E}},c.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},c.prototype.isStroke=function(){return!!this.attrs.stroke},c.prototype._applyClip=function(h,v){v&&(h.save(),n.applyAttrsToContext(h,v),v.createPath(h),h.restore(),h.clip(),v._afterDraw())},c.prototype.draw=function(h,v){var f=this.cfg.clipShape;if(v){if(this.cfg.refresh===!1)return void this.set("hasChanged",!1);var m=this.getCanvasBBox();if(!p.intersectRect(v,m))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}h.save(),n.applyAttrsToContext(h,this),this._applyClip(h,f),this.drawPath(h),h.restore(),this._afterDraw()},c.prototype.getCanvasViewBox=function(){var h=this.cfg.canvas;return h?h.getViewRange():null},c.prototype.cacheCanvasBBox=function(){var h=this.getCanvasViewBox();if(h){var v=this.getCanvasBBox(),f=p.intersectRect(v,h);this.set("isInView",f),f?this.set("cacheCanvasBBox",v):this.set("cacheCanvasBBox",null)}},c.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},c.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},c.prototype.drawPath=function(h){this.createPath(h),this.strokeAndFill(h),this.afterDrawPath(h)},c.prototype.fill=function(h){h.fill()},c.prototype.stroke=function(h){h.stroke()},c.prototype.strokeAndFill=function(h){var v=this.attrs,f=v.lineWidth,m=v.opacity,b=v.strokeOpacity,M=v.fillOpacity;this.isFill()&&(p.isNil(M)||M===1?this.fill(h):(h.globalAlpha=M,this.fill(h),h.globalAlpha=m)),this.isStroke()&&f>0&&(p.isNil(b)||b===1||(h.globalAlpha=b),this.stroke(h)),this.afterDrawPath(h)},c.prototype.createPath=function(h){},c.prototype.afterDrawPath=function(h){},c.prototype.isInShape=function(h,v){var f=this.isStroke(),m=this.isFill(),b=this.getHitLineWidth();return this.isInStrokeOrPath(h,v,f,m,b)},c.prototype.isInStrokeOrPath=function(h,v,f,m,b){return!1},c.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var h=this.attrs;return h.lineWidth+h.lineAppendWidth},c}(y.AbstractShape);x.default=i},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.moveTo=x.sortDom=x.createDom=x.createSVGElement=void 0;var d=s(0),y=s(19);function p(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}x.createSVGElement=p,x.createDom=function(n){var o=y.SHAPE_TO_TAGS[n.type],u=n.getParent();if(!o)throw new Error("the type "+n.type+" is not supported by svg");var r=p(o);if(n.get("id")&&(r.id=n.get("id")),n.set("el",r),n.set("attrs",{}),u){var i=u.get("el");i||(i=u.createDom(),u.set("el",i)),i.appendChild(r)}return r},x.sortDom=function(n,o){var u=n.get("el"),r=d.toArray(u.children).sort(o),i=document.createDocumentFragment();r.forEach(function(a){i.appendChild(a)}),u.appendChild(i)},x.moveTo=function(n,o){var u=n.parentNode,r=Array.from(u.childNodes).filter(function(h){return h.nodeType===1&&h.nodeName.toLowerCase()!=="defs"}),i=r[o],a=r.indexOf(n);if(i){if(a>o)u.insertBefore(n,i);else if(a<o){var c=r[o+1];c?u.insertBefore(n,c):u.appendChild(n)}}else u.appendChild(n)}},function(C,x,s){var d;try{d=s(371)}catch(y){}d||(d=window.graphlib),C.exports=d},function(C,x,s){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}var y=s(174),p=(typeof self=="undefined"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,n=y||p||Function("return this")();C.exports=n},function(C,x,s){"use strict";function d(n,o){var u=[],r=n[0],i=n[1],a=n[2],c=n[3],h=n[4],v=n[5],f=n[6],m=n[7],b=n[8],M=o[0],O=o[1],E=o[2],A=o[3],j=o[4],B=o[5],D=o[6],T=o[7],Y=o[8];return u[0]=M*r+O*c+E*f,u[1]=M*i+O*h+E*m,u[2]=M*a+O*v+E*b,u[3]=A*r+j*c+B*f,u[4]=A*i+j*h+B*m,u[5]=A*a+j*v+B*b,u[6]=D*r+T*c+Y*f,u[7]=D*i+T*h+Y*m,u[8]=D*a+T*v+Y*b,u}function y(n,o){var u=[],r=o[0],i=o[1];return u[0]=n[0]*r+n[3]*i+n[6],u[1]=n[1]*r+n[4]*i+n[7],u}function p(n){var o=[],u=n[0],r=n[1],i=n[2],a=n[3],c=n[4],h=n[5],v=n[6],f=n[7],m=n[8],b=m*c-h*f,M=-m*a+h*v,O=f*a-c*v,E=u*b+r*M+i*O;return E?(E=1/E,o[0]=b*E,o[1]=(-m*r+i*f)*E,o[2]=(h*r-i*c)*E,o[3]=M*E,o[4]=(m*u-i*v)*E,o[5]=(-h*u+i*a)*E,o[6]=O*E,o[7]=(-f*u+r*v)*E,o[8]=(c*u-r*a)*E,o):null}s.d(x,"b",function(){return d}),s.d(x,"c",function(){return y}),s.d(x,"a",function(){return p})},function(C,x,s){"use strict";function d(p){return Math.min.apply(null,p)}function y(p){return Math.max.apply(null,p)}Object.defineProperty(x,"__esModule",{value:!0}),x.piMod=x.getBBoxRange=x.getBBoxByArray=x.isNumberEqual=x.distance=void 0,x.distance=function(p,n,o,u){var r=p-o,i=n-u;return Math.sqrt(r*r+i*i)},x.isNumberEqual=function(p,n){return Math.abs(p-n)<.001},x.getBBoxByArray=function(p,n){var o=d(p),u=d(n);return{x:o,y:u,width:y(p)-o,height:y(n)-u}},x.getBBoxRange=function(p,n,o,u){return{minX:d([p,o]),maxX:y([p,o]),minY:d([n,u]),maxY:y([n,u])}},x.piMod=function(p){return(p+2*Math.PI)%(2*Math.PI)}},function(C,x){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(d)}C.exports=function(d){return d!=null&&s(d)=="object"}},function(C,x,s){"use strict";function d(y){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(y){var p=d(y);return y!==null&&p==="object"||p==="function"}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(319),n=s(73),o=s(164),u=s(18),r=s(60),i=function(a){function c(){return a!==null&&a.apply(this,arguments)||this}return d.__extends(c,a),c.prototype.getDefaultCfg=function(){var h=a.prototype.getDefaultCfg.call(this);return h.renderer="canvas",h.autoDraw=!0,h.localRefresh=!0,h.refreshElements=[],h.clipView=!0,h.quickHit=!1,h},c.prototype.onCanvasChange=function(h){h!=="attr"&&h!=="sort"&&h!=="changeSize"||(this.set("refreshElements",[this]),this.draw())},c.prototype.getShapeBase=function(){return n},c.prototype.getGroupBase=function(){return o.default},c.prototype.getPixelRatio=function(){var h=this.get("pixelRatio")||u.getPixelRatio();return h>=1?Math.ceil(h):1},c.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},c.prototype.createDom=function(){var h=document.createElement("canvas"),v=h.getContext("2d");return this.set("context",v),h},c.prototype.setDOMSize=function(h,v){a.prototype.setDOMSize.call(this,h,v);var f=this.get("context"),m=this.get("el"),b=this.getPixelRatio();m.width=b*h,m.height=b*v,b>1&&f.scale(b,b)},c.prototype.clear=function(){a.prototype.clear.call(this),this._clearFrame();var h=this.get("context"),v=this.get("el");h.clearRect(0,0,v.width,v.height)},c.prototype.getShape=function(h,v){return this.get("quickHit")?p.getShape(this,h,v):a.prototype.getShape.call(this,h,v,null)},c.prototype._getRefreshRegion=function(){var h,v=this.get("refreshElements"),f=this.getViewRange();return v.length&&v[0]===this?h=f:(h=r.getMergedRegion(v))&&(h.minX=Math.floor(h.minX),h.minY=Math.floor(h.minY),h.maxX=Math.ceil(h.maxX),h.maxY=Math.ceil(h.maxY),h.maxY+=1,this.get("clipView")&&(h=r.mergeView(h,f))),h},c.prototype.refreshElement=function(h){this.get("refreshElements").push(h)},c.prototype._clearFrame=function(){var h=this.get("drawFrame");h&&(u.clearAnimationFrame(h),this.set("drawFrame",null),this.set("refreshElements",[]))},c.prototype.draw=function(){var h=this.get("drawFrame");this.get("autoDraw")&&h||this._startDraw()},c.prototype._drawAll=function(){var h=this.get("context"),v=this.get("el"),f=this.getChildren();h.clearRect(0,0,v.width,v.height),r.applyAttrsToContext(h,this),r.drawChildren(h,f),this.set("refreshElements",[])},c.prototype._drawRegion=function(){var h=this.get("context"),v=this.get("refreshElements"),f=this.getChildren(),m=this._getRefreshRegion();m?(h.clearRect(m.minX,m.minY,m.maxX-m.minX,m.maxY-m.minY),h.save(),h.beginPath(),h.rect(m.minX,m.minY,m.maxX-m.minX,m.maxY-m.minY),h.clip(),r.applyAttrsToContext(h,this),r.checkRefresh(this,f,m),r.drawChildren(h,f,m),h.restore()):v.length&&r.clearChanged(v),u.each(v,function(b){b.get("hasChanged")&&b.set("hasChanged",!1)}),this.set("refreshElements",[])},c.prototype._startDraw=function(){var h=this,v=this.get("drawFrame");v||(v=u.requestAnimationFrame(function(){h.get("localRefresh")?h._drawRegion():h._drawAll(),h.set("drawFrame",null)}),this.set("drawFrame",v))},c.prototype.skipDraw=function(){},c}(y.AbstractCanvas);x.default=i},function(C,x,s){"use strict";s.r(x),s.d(x,"catmullRomToBezier",function(){return u}),s.d(x,"fillPath",function(){return J}),s.d(x,"fillPathByDiff",function(){return K}),s.d(x,"formatPath",function(){return ht}),s.d(x,"intersection",function(){return G}),s.d(x,"parsePathArray",function(){return m}),s.d(x,"parsePathString",function(){return o}),s.d(x,"pathToAbsolute",function(){return i}),s.d(x,"pathToCurve",function(){return v}),s.d(x,"rectPath",function(){return j});var d=s(0),y=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,p=new RegExp("([a-z])["+y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+y+"]*,?["+y+"]*)+)","ig"),n=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+y+"]*,?["+y+"]*","ig"),o=function(pt){if(!pt)return null;if(Object(d.isArray)(pt))return pt;var xt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},vt=[];return String(pt).replace(p,function(gt,_t,Bt){var At=[],It=_t.toLowerCase();if(Bt.replace(n,function(lt,X){X&&At.push(+X)}),It==="m"&&At.length>2&&(vt.push([_t].concat(At.splice(0,2))),It="l",_t=_t==="m"?"l":"L"),It==="o"&&At.length===1&&vt.push([_t,At[0]]),It==="r")vt.push([_t].concat(At));else for(;At.length>=xt[It]&&(vt.push([_t].concat(At.splice(0,xt[It]))),xt[It]););return pt}),vt},u=function(pt,xt){for(var vt=[],gt=0,_t=pt.length;_t-2*!xt>gt;gt+=2){var Bt=[{x:+pt[gt-2],y:+pt[gt-1]},{x:+pt[gt],y:+pt[gt+1]},{x:+pt[gt+2],y:+pt[gt+3]},{x:+pt[gt+4],y:+pt[gt+5]}];xt?gt?_t-4===gt?Bt[3]={x:+pt[0],y:+pt[1]}:_t-2===gt&&(Bt[2]={x:+pt[0],y:+pt[1]},Bt[3]={x:+pt[2],y:+pt[3]}):Bt[0]={x:+pt[_t-2],y:+pt[_t-1]}:_t-4===gt?Bt[3]=Bt[2]:gt||(Bt[0]={x:+pt[gt],y:+pt[gt+1]}),vt.push(["C",(-Bt[0].x+6*Bt[1].x+Bt[2].x)/6,(-Bt[0].y+6*Bt[1].y+Bt[2].y)/6,(Bt[1].x+6*Bt[2].x-Bt[3].x)/6,(Bt[1].y+6*Bt[2].y-Bt[3].y)/6,Bt[2].x,Bt[2].y])}return vt},r=function(pt,xt,vt,gt,_t){var Bt=[];if(_t===null&&gt===null&&(gt=vt),pt=+pt,xt=+xt,vt=+vt,gt=+gt,_t!==null){var At=Math.PI/180,It=pt+vt*Math.cos(-gt*At),lt=pt+vt*Math.cos(-_t*At);Bt=[["M",It,xt+vt*Math.sin(-gt*At)],["A",vt,vt,0,+(_t-gt>180),0,lt,xt+vt*Math.sin(-_t*At)]]}else Bt=[["M",pt,xt],["m",0,-gt],["a",vt,gt,0,1,1,0,2*gt],["a",vt,gt,0,1,1,0,-2*gt],["z"]];return Bt},i=function(pt){if(!(pt=o(pt))||!pt.length)return[["M",0,0]];var xt,vt,gt=[],_t=0,Bt=0,At=0,It=0,lt=0;pt[0][0]==="M"&&(At=_t=+pt[0][1],It=Bt=+pt[0][2],lt++,gt[0]=["M",_t,Bt]);for(var X=pt.length===3&&pt[0][0]==="M"&&pt[1][0].toUpperCase()==="R"&&pt[2][0].toUpperCase()==="Z",V=void 0,Z=void 0,W=lt,rt=pt.length;W<rt;W++){if(gt.push(V=[]),(xt=(Z=pt[W])[0])!==xt.toUpperCase())switch(V[0]=xt.toUpperCase(),V[0]){case"A":V[1]=Z[1],V[2]=Z[2],V[3]=Z[3],V[4]=Z[4],V[5]=Z[5],V[6]=+Z[6]+_t,V[7]=+Z[7]+Bt;break;case"V":V[1]=+Z[1]+Bt;break;case"H":V[1]=+Z[1]+_t;break;case"R":for(var tt=2,Q=(vt=[_t,Bt].concat(Z.slice(1))).length;tt<Q;tt++)vt[tt]=+vt[tt]+_t,vt[++tt]=+vt[tt]+Bt;gt.pop(),gt=gt.concat(u(vt,X));break;case"O":gt.pop(),(vt=r(_t,Bt,Z[1],Z[2])).push(vt[0]),gt=gt.concat(vt);break;case"U":gt.pop(),gt=gt.concat(r(_t,Bt,Z[1],Z[2],Z[3])),V=["U"].concat(gt[gt.length-1].slice(-2));break;case"M":At=+Z[1]+_t,It=+Z[2]+Bt;break;default:for(tt=1,Q=Z.length;tt<Q;tt++)V[tt]=+Z[tt]+(tt%2?_t:Bt)}else if(xt==="R")vt=[_t,Bt].concat(Z.slice(1)),gt.pop(),gt=gt.concat(u(vt,X)),V=["R"].concat(Z.slice(-2));else if(xt==="O")gt.pop(),(vt=r(_t,Bt,Z[1],Z[2])).push(vt[0]),gt=gt.concat(vt);else if(xt==="U")gt.pop(),gt=gt.concat(r(_t,Bt,Z[1],Z[2],Z[3])),V=["U"].concat(gt[gt.length-1].slice(-2));else for(var ft=0,Et=Z.length;ft<Et;ft++)V[ft]=Z[ft];if((xt=xt.toUpperCase())!=="O")switch(V[0]){case"Z":_t=+At,Bt=+It;break;case"H":_t=V[1];break;case"V":Bt=V[1];break;case"M":At=V[V.length-2],It=V[V.length-1];break;default:_t=V[V.length-2],Bt=V[V.length-1]}}return gt},a=function(pt,xt,vt,gt){return[pt,xt,vt,gt,vt,gt]},c=function(pt,xt,vt,gt,_t,Bt){return[1/3*pt+2/3*vt,1/3*xt+2/3*gt,1/3*_t+2/3*vt,1/3*Bt+2/3*gt,_t,Bt]},h=function St(pt,xt,vt,gt,_t,Bt,At,It,lt,X){vt===gt&&(vt+=1);var V,Z,W,rt,tt,Q=120*Math.PI/180,ft=Math.PI/180*(+_t||0),Et=[],Ct=function(sn,en,Ue){return{x:sn*Math.cos(Ue)-en*Math.sin(Ue),y:sn*Math.sin(Ue)+en*Math.cos(Ue)}};if(X)Z=X[0],W=X[1],rt=X[2],tt=X[3];else{pt=(V=Ct(pt,xt,-ft)).x,xt=V.y,It=(V=Ct(It,lt,-ft)).x,lt=V.y,pt===It&&xt===lt&&(It+=1,lt+=1);var Nt=(pt-It)/2,Ft=(xt-lt)/2,Rt=Nt*Nt/(vt*vt)+Ft*Ft/(gt*gt);Rt>1&&(vt*=Rt=Math.sqrt(Rt),gt*=Rt);var kt=vt*vt,Pt=gt*gt,Xt=(Bt===At?-1:1)*Math.sqrt(Math.abs((kt*Pt-kt*Ft*Ft-Pt*Nt*Nt)/(kt*Ft*Ft+Pt*Nt*Nt)));rt=Xt*vt*Ft/gt+(pt+It)/2,tt=Xt*-gt*Nt/vt+(xt+lt)/2,Z=Math.asin(((xt-tt)/gt).toFixed(9)),W=Math.asin(((lt-tt)/gt).toFixed(9)),Z=pt<rt?Math.PI-Z:Z,W=It<rt?Math.PI-W:W,Z<0&&(Z=2*Math.PI+Z),W<0&&(W=2*Math.PI+W),At&&Z>W&&(Z-=2*Math.PI),!At&&W>Z&&(W-=2*Math.PI)}var Ut=W-Z;if(Math.abs(Ut)>Q){var ct=W,re=It,ve=lt;W=Z+Q*(At&&W>Z?1:-1),Et=St(It=rt+vt*Math.cos(W),lt=tt+gt*Math.sin(W),vt,gt,_t,0,At,re,ve,[W,ct,rt,tt])}Ut=W-Z;var pe=Math.cos(Z),Me=Math.sin(Z),ge=Math.cos(W),ce=Math.sin(W),ye=Math.tan(Ut/4),be=4/3*vt*ye,Oe=4/3*gt*ye,Xe=[pt,xt],Ie=[pt+be*Me,xt-Oe*pe],De=[It+be*ce,lt-Oe*ge],we=[It,lt];if(Ie[0]=2*Xe[0]-Ie[0],Ie[1]=2*Xe[1]-Ie[1],X)return[Ie,De,we].concat(Et);for(var Be=[],He=0,We=(Et=[Ie,De,we].concat(Et).join().split(",")).length;He<We;He++)Be[He]=He%2?Ct(Et[He-1],Et[He],ft).y:Ct(Et[He],Et[He+1],ft).x;return Be},v=function(pt,xt){var vt,gt=i(pt),_t=xt&&i(xt),Bt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},At={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},It=[],lt=[],X="",V="",Z=function(Ft,Rt,kt){var Pt,Xt;if(!Ft)return["C",Rt.x,Rt.y,Rt.x,Rt.y,Rt.x,Rt.y];switch(!(Ft[0]in{T:1,Q:1})&&(Rt.qx=Rt.qy=null),Ft[0]){case"M":Rt.X=Ft[1],Rt.Y=Ft[2];break;case"A":Ft=["C"].concat(h.apply(0,[Rt.x,Rt.y].concat(Ft.slice(1))));break;case"S":kt==="C"||kt==="S"?(Pt=2*Rt.x-Rt.bx,Xt=2*Rt.y-Rt.by):(Pt=Rt.x,Xt=Rt.y),Ft=["C",Pt,Xt].concat(Ft.slice(1));break;case"T":kt==="Q"||kt==="T"?(Rt.qx=2*Rt.x-Rt.qx,Rt.qy=2*Rt.y-Rt.qy):(Rt.qx=Rt.x,Rt.qy=Rt.y),Ft=["C"].concat(c(Rt.x,Rt.y,Rt.qx,Rt.qy,Ft[1],Ft[2]));break;case"Q":Rt.qx=Ft[1],Rt.qy=Ft[2],Ft=["C"].concat(c(Rt.x,Rt.y,Ft[1],Ft[2],Ft[3],Ft[4]));break;case"L":Ft=["C"].concat(a(Rt.x,Rt.y,Ft[1],Ft[2]));break;case"H":Ft=["C"].concat(a(Rt.x,Rt.y,Ft[1],Rt.y));break;case"V":Ft=["C"].concat(a(Rt.x,Rt.y,Rt.x,Ft[1]));break;case"Z":Ft=["C"].concat(a(Rt.x,Rt.y,Rt.X,Rt.Y))}return Ft},W=function(Ft,Rt){if(Ft[Rt].length>7){Ft[Rt].shift();for(var kt=Ft[Rt];kt.length;)It[Rt]="A",_t&&(lt[Rt]="A"),Ft.splice(Rt++,0,["C"].concat(kt.splice(0,6)));Ft.splice(Rt,1),vt=Math.max(gt.length,_t&&_t.length||0)}},rt=function(Ft,Rt,kt,Pt,Xt){Ft&&Rt&&Ft[Xt][0]==="M"&&Rt[Xt][0]!=="M"&&(Rt.splice(Xt,0,["M",Pt.x,Pt.y]),kt.bx=0,kt.by=0,kt.x=Ft[Xt][1],kt.y=Ft[Xt][2],vt=Math.max(gt.length,_t&&_t.length||0))};vt=Math.max(gt.length,_t&&_t.length||0);for(var tt=0;tt<vt;tt++){gt[tt]&&(X=gt[tt][0]),X!=="C"&&(It[tt]=X,tt&&(V=It[tt-1])),gt[tt]=Z(gt[tt],Bt,V),It[tt]!=="A"&&X==="C"&&(It[tt]="C"),W(gt,tt),_t&&(_t[tt]&&(X=_t[tt][0]),X!=="C"&&(lt[tt]=X,tt&&(V=lt[tt-1])),_t[tt]=Z(_t[tt],At,V),lt[tt]!=="A"&&X==="C"&&(lt[tt]="C"),W(_t,tt)),rt(gt,_t,Bt,At,tt),rt(_t,gt,At,Bt,tt);var Q=gt[tt],ft=_t&&_t[tt],Et=Q.length,Ct=_t&&ft.length;Bt.x=Q[Et-2],Bt.y=Q[Et-1],Bt.bx=parseFloat(Q[Et-4])||Bt.x,Bt.by=parseFloat(Q[Et-3])||Bt.y,At.bx=_t&&(parseFloat(ft[Ct-4])||At.x),At.by=_t&&(parseFloat(ft[Ct-3])||At.y),At.x=_t&&ft[Ct-2],At.y=_t&&ft[Ct-1]}return _t?[gt,_t]:gt},f=/,?([a-z]),?/gi,m=function(pt){return pt.join(",").replace(f,"$1")},b=function(pt,xt,vt,gt,_t){return pt*(pt*(-3*xt+9*vt-9*gt+3*_t)+6*xt-12*vt+6*gt)-3*xt+3*vt},M=function(pt,xt,vt,gt,_t,Bt,At,It,lt){lt===null&&(lt=1);for(var X=(lt=lt>1?1:lt<0?0:lt)/2,V=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],W=0,rt=0;rt<12;rt++){var tt=X*V[rt]+X,Q=b(tt,pt,vt,_t,At),ft=b(tt,xt,gt,Bt,It),Et=Q*Q+ft*ft;W+=Z[rt]*Math.sqrt(Et)}return X*W},O=function(pt,xt,vt,gt,_t,Bt,At,It){for(var lt,X,V,Z,W=[],rt=[[],[]],tt=0;tt<2;++tt)if(tt===0?(X=6*pt-12*vt+6*_t,lt=-3*pt+9*vt-9*_t+3*At,V=3*vt-3*pt):(X=6*xt-12*gt+6*Bt,lt=-3*xt+9*gt-9*Bt+3*It,V=3*gt-3*xt),Math.abs(lt)<1e-12){if(Math.abs(X)<1e-12)continue;(Z=-V/X)>0&&Z<1&&W.push(Z)}else{var Q=X*X-4*V*lt,ft=Math.sqrt(Q);if(!(Q<0)){var Et=(-X+ft)/(2*lt);Et>0&&Et<1&&W.push(Et);var Ct=(-X-ft)/(2*lt);Ct>0&&Ct<1&&W.push(Ct)}}for(var Nt,Ft=W.length,Rt=Ft;Ft--;)Nt=1-(Z=W[Ft]),rt[0][Ft]=Nt*Nt*Nt*pt+3*Nt*Nt*Z*vt+3*Nt*Z*Z*_t+Z*Z*Z*At,rt[1][Ft]=Nt*Nt*Nt*xt+3*Nt*Nt*Z*gt+3*Nt*Z*Z*Bt+Z*Z*Z*It;return rt[0][Rt]=pt,rt[1][Rt]=xt,rt[0][Rt+1]=At,rt[1][Rt+1]=It,rt[0].length=rt[1].length=Rt+2,{min:{x:Math.min.apply(0,rt[0]),y:Math.min.apply(0,rt[1])},max:{x:Math.max.apply(0,rt[0]),y:Math.max.apply(0,rt[1])}}},E=function(pt,xt,vt,gt,_t,Bt,At,It){if(!(Math.max(pt,vt)<Math.min(_t,At)||Math.min(pt,vt)>Math.max(_t,At)||Math.max(xt,gt)<Math.min(Bt,It)||Math.min(xt,gt)>Math.max(Bt,It))){var lt=(pt-vt)*(Bt-It)-(xt-gt)*(_t-At);if(lt){var X=((pt*gt-xt*vt)*(_t-At)-(pt-vt)*(_t*It-Bt*At))/lt,V=((pt*gt-xt*vt)*(Bt-It)-(xt-gt)*(_t*It-Bt*At))/lt,Z=+X.toFixed(2),W=+V.toFixed(2);if(!(Z<+Math.min(pt,vt).toFixed(2)||Z>+Math.max(pt,vt).toFixed(2)||Z<+Math.min(_t,At).toFixed(2)||Z>+Math.max(_t,At).toFixed(2)||W<+Math.min(xt,gt).toFixed(2)||W>+Math.max(xt,gt).toFixed(2)||W<+Math.min(Bt,It).toFixed(2)||W>+Math.max(Bt,It).toFixed(2)))return{x:X,y:V}}}},A=function(pt,xt,vt){return xt>=pt.x&&xt<=pt.x+pt.width&&vt>=pt.y&&vt<=pt.y+pt.height},j=function(pt,xt,vt,gt,_t){if(_t)return[["M",+pt+ +_t,xt],["l",vt-2*_t,0],["a",_t,_t,0,0,1,_t,_t],["l",0,gt-2*_t],["a",_t,_t,0,0,1,-_t,_t],["l",2*_t-vt,0],["a",_t,_t,0,0,1,-_t,-_t],["l",0,2*_t-gt],["a",_t,_t,0,0,1,_t,-_t],["z"]];var Bt=[["M",pt,xt],["l",vt,0],["l",0,gt],["l",-vt,0],["z"]];return Bt.parsePathArray=m,Bt},B=function(pt,xt,vt,gt){return pt===null&&(pt=xt=vt=gt=0),xt===null&&(xt=pt.y,vt=pt.width,gt=pt.height,pt=pt.x),{x:pt,y:xt,width:vt,w:vt,height:gt,h:gt,x2:pt+vt,y2:xt+gt,cx:pt+vt/2,cy:xt+gt/2,r1:Math.min(vt,gt)/2,r2:Math.max(vt,gt)/2,r0:Math.sqrt(vt*vt+gt*gt)/2,path:j(pt,xt,vt,gt),vb:[pt,xt,vt,gt].join(" ")}},D=function(pt,xt,vt,gt,_t,Bt,At,It){Object(d.isArray)(pt)||(pt=[pt,xt,vt,gt,_t,Bt,At,It]);var lt=O.apply(null,pt);return B(lt.min.x,lt.min.y,lt.max.x-lt.min.x,lt.max.y-lt.min.y)},T=function(pt,xt,vt,gt,_t,Bt,At,It,lt){var X=1-lt,V=Math.pow(X,3),Z=Math.pow(X,2),W=lt*lt,rt=W*lt,tt=pt+2*lt*(vt-pt)+W*(_t-2*vt+pt),Q=xt+2*lt*(gt-xt)+W*(Bt-2*gt+xt),ft=vt+2*lt*(_t-vt)+W*(At-2*_t+vt),Et=gt+2*lt*(Bt-gt)+W*(It-2*Bt+gt);return{x:V*pt+3*Z*lt*vt+3*X*lt*lt*_t+rt*At,y:V*xt+3*Z*lt*gt+3*X*lt*lt*Bt+rt*It,m:{x:tt,y:Q},n:{x:ft,y:Et},start:{x:X*pt+lt*vt,y:X*xt+lt*gt},end:{x:X*_t+lt*At,y:X*Bt+lt*It},alpha:90-180*Math.atan2(tt-ft,Q-Et)/Math.PI}},Y=function(pt,xt,vt){if(!function(Rt,kt){return Rt=B(Rt),kt=B(kt),A(kt,Rt.x,Rt.y)||A(kt,Rt.x2,Rt.y)||A(kt,Rt.x,Rt.y2)||A(kt,Rt.x2,Rt.y2)||A(Rt,kt.x,kt.y)||A(Rt,kt.x2,kt.y)||A(Rt,kt.x,kt.y2)||A(Rt,kt.x2,kt.y2)||(Rt.x<kt.x2&&Rt.x>kt.x||kt.x<Rt.x2&&kt.x>Rt.x)&&(Rt.y<kt.y2&&Rt.y>kt.y||kt.y<Rt.y2&&kt.y>Rt.y)}(D(pt),D(xt)))return vt?0:[];for(var gt=~~(M.apply(0,pt)/8),_t=~~(M.apply(0,xt)/8),Bt=[],At=[],It={},lt=vt?0:[],X=0;X<gt+1;X++){var V=T.apply(0,pt.concat(X/gt));Bt.push({x:V.x,y:V.y,t:X/gt})}for(X=0;X<_t+1;X++)V=T.apply(0,xt.concat(X/_t)),At.push({x:V.x,y:V.y,t:X/_t});for(X=0;X<gt;X++)for(var Z=0;Z<_t;Z++){var W=Bt[X],rt=Bt[X+1],tt=At[Z],Q=At[Z+1],ft=Math.abs(rt.x-W.x)<.001?"y":"x",Et=Math.abs(Q.x-tt.x)<.001?"y":"x",Ct=E(W.x,W.y,rt.x,rt.y,tt.x,tt.y,Q.x,Q.y);if(Ct){if(It[Ct.x.toFixed(4)]===Ct.y.toFixed(4))continue;It[Ct.x.toFixed(4)]=Ct.y.toFixed(4);var Nt=W.t+Math.abs((Ct[ft]-W[ft])/(rt[ft]-W[ft]))*(rt.t-W.t),Ft=tt.t+Math.abs((Ct[Et]-tt[Et])/(Q[Et]-tt[Et]))*(Q.t-tt.t);Nt>=0&&Nt<=1&&Ft>=0&&Ft<=1&&(vt?lt+=1:lt.push({x:Ct.x,y:Ct.y,t1:Nt,t2:Ft}))}}return lt},G=function(pt,xt){return function(vt,gt,_t){var Bt,At,It,lt,X,V,Z,W,rt,tt;vt=v(vt),gt=v(gt);for(var Q=_t?0:[],ft=0,Et=vt.length;ft<Et;ft++){var Ct=vt[ft];if(Ct[0]==="M")Bt=X=Ct[1],At=V=Ct[2];else{Ct[0]==="C"?(rt=[Bt,At].concat(Ct.slice(1)),Bt=rt[6],At=rt[7]):(rt=[Bt,At,Bt,At,X,V,X,V],Bt=X,At=V);for(var Nt=0,Ft=gt.length;Nt<Ft;Nt++){var Rt=gt[Nt];if(Rt[0]==="M")It=Z=Rt[1],lt=W=Rt[2];else{Rt[0]==="C"?(tt=[It,lt].concat(Rt.slice(1)),It=tt[6],lt=tt[7]):(tt=[It,lt,It,lt,Z,W,Z,W],It=Z,lt=W);var kt=Y(rt,tt,_t);if(_t)Q+=kt;else{for(var Pt=0,Xt=kt.length;Pt<Xt;Pt++)kt[Pt].segment1=ft,kt[Pt].segment2=Nt,kt[Pt].bez1=rt,kt[Pt].bez2=tt;Q=Q.concat(kt)}}}}}return Q}(pt,xt)};function U(St,pt){var xt=[],vt=[];return St.length&&function gt(_t,Bt){if(_t.length===1)xt.push(_t[0]),vt.push(_t[0]);else{for(var At=[],It=0;It<_t.length-1;It++)It===0&&xt.push(_t[0]),It===_t.length-2&&vt.push(_t[It+1]),At[It]=[(1-Bt)*_t[It][0]+Bt*_t[It+1][0],(1-Bt)*_t[It][1]+Bt*_t[It+1][1]];gt(At,Bt)}}(St,pt),{left:xt,right:vt.reverse()}}var H=function(pt,xt,vt){if(vt===1)return[[].concat(pt)];var gt=[];if(xt[0]==="L"||xt[0]==="C"||xt[0]==="Q")gt=gt.concat(function(At,It,lt){var X=[[At[1],At[2]]];lt=lt||2;var V=[];It[0]==="A"?(X.push(It[6]),X.push(It[7])):It[0]==="C"?(X.push([It[1],It[2]]),X.push([It[3],It[4]]),X.push([It[5],It[6]])):It[0]==="S"||It[0]==="Q"?(X.push([It[1],It[2]]),X.push([It[3],It[4]])):X.push([It[1],It[2]]);for(var Z=X,W=1/lt,rt=0;rt<lt-1;rt++){var tt=U(Z,W/(1-W*rt));V.push(tt.left),Z=tt.right}return V.push(Z),V.map(function(Q){var ft=[];return Q.length===4&&(ft.push("C"),ft=ft.concat(Q[2])),Q.length>=3&&(Q.length===3&&ft.push("Q"),ft=ft.concat(Q[1])),Q.length===2&&ft.push("L"),ft=ft.concat(Q[Q.length-1])})}(pt,xt,vt));else{var _t=[].concat(pt);_t[0]==="M"&&(_t[0]="L");for(var Bt=0;Bt<=vt-1;Bt++)gt.push(_t)}return gt},J=function(pt,xt){if(pt.length===1)return pt;var vt=pt.length-1,gt=xt.length-1,_t=vt/gt,Bt=[];if(pt.length===1&&pt[0][0]==="M"){for(var At=0;At<gt-vt;At++)pt.push(pt[0]);return pt}for(At=0;At<gt;At++){var It=Math.floor(_t*At);Bt[It]=(Bt[It]||0)+1}var lt=Bt.reduce(function(X,V,Z){return Z===vt?X.concat(pt[vt]):X.concat(H(pt[Z],pt[Z+1],V))},[]);return lt.unshift(pt[0]),xt[gt]!=="Z"&&xt[gt]!=="z"||lt.push("Z"),lt},ut=function(pt,xt){if(pt.length!==xt.length)return!1;var vt=!0;return Object(d.each)(pt,function(gt,_t){if(gt!==xt[_t])return vt=!1,!1}),vt};function $(St,pt,xt){var vt=null,gt=xt;return pt<gt&&(gt=pt,vt="add"),St<gt&&(gt=St,vt="del"),{type:vt,min:gt}}var K=function(pt,xt){var vt=function(W,rt){var tt,Q,ft=W.length,Et=rt.length,Ct=0;if(ft===0||Et===0)return null;for(var Nt=[],Ft=0;Ft<=ft;Ft++)Nt[Ft]=[],Nt[Ft][0]={min:Ft};for(var Rt=0;Rt<=Et;Rt++)Nt[0][Rt]={min:Rt};for(Ft=1;Ft<=ft;Ft++)for(tt=W[Ft-1],Rt=1;Rt<=Et;Rt++){Q=rt[Rt-1],Ct=ut(tt,Q)?0:1;var kt=Nt[Ft-1][Rt].min+1,Pt=Nt[Ft][Rt-1].min+1,Xt=Nt[Ft-1][Rt-1].min+Ct;Nt[Ft][Rt]=$(kt,Pt,Xt)}return Nt}(pt,xt),gt=pt.length,_t=xt.length,Bt=[],At=1,It=1;if(vt[gt][_t].min!==gt){for(var lt=1;lt<=gt;lt++){var X=vt[lt][lt].min;It=lt;for(var V=At;V<=_t;V++)vt[lt][V].min<X&&(X=vt[lt][V].min,It=V);At=It,vt[lt][At].type&&Bt.push({index:lt-1,type:vt[lt][At].type})}for(lt=Bt.length-1;lt>=0;lt--)At=Bt[lt].index,Bt[lt].type==="add"?pt.splice(At,0,[].concat(pt[At])):pt.splice(At,1)}var Z=_t-(gt=pt.length);if(gt<_t)for(lt=0;lt<Z;lt++)pt[gt-1][0]==="z"||pt[gt-1][0]==="Z"?pt.splice(gt-2,0,pt[gt-2]):pt.push(pt[gt-1]),gt+=1;return pt};function ot(St,pt,xt){for(var vt,gt=[].concat(St),_t=1/(xt+1),Bt=at(pt)[0],At=1;At<=xt;At++)_t*=At,(vt=Math.floor(St.length*_t))===0?gt.unshift([Bt[0]*_t+St[vt][0]*(1-_t),Bt[1]*_t+St[vt][1]*(1-_t)]):gt.splice(vt,0,[Bt[0]*_t+St[vt][0]*(1-_t),Bt[1]*_t+St[vt][1]*(1-_t)]);return gt}function at(St){var pt=[];switch(St[0]){case"M":case"L":pt.push([St[1],St[2]]);break;case"A":pt.push([St[6],St[7]]);break;case"Q":pt.push([St[3],St[4]]),pt.push([St[1],St[2]]);break;case"T":pt.push([St[1],St[2]]);break;case"C":pt.push([St[5],St[6]]),pt.push([St[1],St[2]]),pt.push([St[3],St[4]]);break;case"S":pt.push([St[3],St[4]]),pt.push([St[1],St[2]]);break;case"H":case"V":pt.push([St[1],St[1]])}return pt}var ht=function(pt,xt){if(pt.length<=1)return pt;for(var vt,gt=0;gt<xt.length;gt++)if(pt[gt][0]!==xt[gt][0])switch(vt=at(pt[gt]),xt[gt][0]){case"M":pt[gt]=["M"].concat(vt[0]);break;case"L":pt[gt]=["L"].concat(vt[0]);break;case"A":pt[gt]=[].concat(xt[gt]),pt[gt][6]=vt[0][0],pt[gt][7]=vt[0][1];break;case"Q":if(vt.length<2){if(!(gt>0)){pt[gt]=xt[gt];break}vt=ot(vt,pt[gt-1],1)}pt[gt]=["Q"].concat(vt.reduce(function(_t,Bt){return _t.concat(Bt)},[]));break;case"T":pt[gt]=["T"].concat(vt[0]);break;case"C":if(vt.length<3){if(!(gt>0)){pt[gt]=xt[gt];break}vt=ot(vt,pt[gt-1],2)}pt[gt]=["C"].concat(vt.reduce(function(_t,Bt){return _t.concat(Bt)},[]));break;case"S":if(vt.length<2){if(!(gt>0)){pt[gt]=xt[gt];break}vt=ot(vt,pt[gt-1],1)}pt[gt]=["S"].concat(vt.reduce(function(_t,Bt){return _t.concat(Bt)},[]));break;default:pt[gt]=xt[gt]}return pt}},function(C,x,s){var d=s(62),y=s(116);C.exports=function(p){return p!=null&&y(p.length)&&!d(p)}},function(C,x,s){function d(r){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(r)}var y=s(430),p=s(440),n=s(47),o=s(15),u=s(447);C.exports=function(r){return typeof r=="function"?r:r==null?n:d(r)=="object"?o(r)?p(r[0],r[1]):y(r):u(r)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33),y=s(105);x.default={box:function(n,o,u,r){return d.getBBoxByArray([n,u],[o,r])},length:function(n,o,u,r){return d.distance(n,o,u,r)},pointAt:function(n,o,u,r,i){return{x:(1-i)*n+i*u,y:(1-i)*o+i*r}},pointDistance:function(n,o,u,r,i,a){var c=(u-n)*(i-n)+(r-o)*(a-o);return c<0?d.distance(n,o,i,a):c>(u-n)*(u-n)+(r-o)*(r-o)?d.distance(u,r,i,a):this.pointToLine(n,o,u,r,i,a)},pointToLine:function(n,o,u,r,i,a){var c=[u-n,r-o];if(y.exactEquals(c,[0,0]))return Math.sqrt((i-n)*(i-n)+(a-o)*(a-o));var h=[-c[1],c[0]];y.normalize(h,h);var v=[i-n,a-o];return Math.abs(y.dot(v,h))},tangentAngle:function(n,o,u,r){return Math.atan2(r-o,u-n)}}},function(C,x,s){var d=s(177),y=s(118),p=s(38);C.exports=function(n){return p(n)?d(n):y(n)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(19),n=s(109),o=s(61),u=s(29),r=s(110),i=s(171),a=s(362),c=function(h){function v(f){return h.call(this,d.__assign(d.__assign({},f),{autoDraw:!0,renderer:"svg"}))||this}return d.__extends(v,h),v.prototype.getShapeBase=function(){return r},v.prototype.getGroupBase=function(){return i.default},v.prototype.getShape=function(f,m,b){var M=b.target||b.srcElement;if(!p.SHAPE_TO_TAGS[M.tagName]){for(var O=M.parentNode;O&&!p.SHAPE_TO_TAGS[O.tagName];)O=O.parentNode;M=O}return this.find(function(E){return E.get("el")===M})},v.prototype.createDom=function(){var f=u.createSVGElement("svg"),m=new a.default(f);return f.setAttribute("width",""+this.get("width")),f.setAttribute("height",""+this.get("height")),this.set("context",m),f},v.prototype.onCanvasChange=function(f){var m=this.get("context"),b=this.get("el");if(f==="sort"){var M=this.get("children");M&&M.length&&u.sortDom(this,function(E,A){return M.indexOf(E)-M.indexOf(A)?1:0})}else if(f==="clear"){if(b){b.innerHTML="";var O=m.el;O.innerHTML="",b.appendChild(O)}}else f==="matrix"?o.setTransform(this):f==="clip"?o.setClip(this,m):f==="changeSize"&&(b.setAttribute("width",""+this.get("width")),b.setAttribute("height",""+this.get("height")))},v.prototype.draw=function(){var f=this.get("context"),m=this.getChildren();o.setClip(this,f),m.length&&n.drawChildren(f,m)},v}(y.AbstractCanvas);x.default=c},function(C,x,s){"use strict";s.r(x),s.d(x,"version",function(){return c});var d=s(37);s.d(x,"PathUtil",function(){return d});var y=s(150);for(var p in y)["default","version","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil"].indexOf(p)<0&&function(h){s.d(x,h,function(){return y[h]})}(p);var n=s(151);for(var p in n)["default","version","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil"].indexOf(p)<0&&function(v){s.d(x,v,function(){return n[v]})}(p);var o=s(96);s.d(x,"Event",function(){return o.a});var u=s(97);s.d(x,"Base",function(){return u.a});var r=s(228);s.d(x,"AbstractCanvas",function(){return r.a});var i=s(153);s.d(x,"AbstractGroup",function(){return i.a});var a=s(154);s.d(x,"AbstractShape",function(){return a.a});var c=s(318).version},function(C,x,s){var d=s(384),y=s(390);C.exports=function(p,n){var o=y(p,n);return d(o)?o:void 0}},function(C,x,s){var d=s(52),y=s(386),p=s(387),n=d?d.toStringTag:void 0;C.exports=function(o){return o==null?o===void 0?"[object Undefined]":"[object Null]":n&&n in Object(o)?y(o):p(o)}},function(C,x,s){var d=s(177),y=s(410),p=s(38);C.exports=function(n){return p(n)?d(n,!0):y(n)}},function(C,x){C.exports=function(s){return s}},function(C,x,s){var d=s(0).mix;C.exports={assign:d}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(59);x.default=function(y){var p=d.default(y);return p.charAt(0).toUpperCase()+p.substring(1)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){if(d["_wrap_"+y])return d["_wrap_"+y];var p=function(o){d[y](o)};return d["_wrap_"+y]=p,p}},function(C,x){C.exports=function(s,d){return s===d||s!=s&&d!=d}},function(C,x,s){var d=s(31).Symbol;C.exports=d},function(C,x,s){(function(d){function y(a){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}var p=s(31),n=s(406),o=y(x)=="object"&&x&&!x.nodeType&&x,u=o&&y(d)=="object"&&d&&!d.nodeType&&d,r=u&&u.exports===o?p.Buffer:void 0,i=(r?r.isBuffer:void 0)||n;d.exports=i}).call(this,s(115)(C))},function(C,x,s){var d=s(415),y=s(112),p=s(416),n=s(186),o=s(417),u=s(45),r=s(175),i=r(d),a=r(y),c=r(p),h=r(n),v=r(o),f=u;(d&&f(new d(new ArrayBuffer(1)))!="[object DataView]"||y&&f(new y)!="[object Map]"||p&&f(p.resolve())!="[object Promise]"||n&&f(new n)!="[object Set]"||o&&f(new o)!="[object WeakMap]")&&(f=function(b){var M=u(b),O=M=="[object Object]"?b.constructor:void 0,E=O?r(O):"";if(E)switch(E){case i:return"[object DataView]";case a:return"[object Map]";case c:return"[object Promise]";case h:return"[object Set]";case v:return"[object WeakMap]"}return M}),C.exports=f},function(C,x,s){function d(n){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}var y=s(45),p=s(34);C.exports=function(n){return d(n)=="symbol"||p(n)&&y(n)=="[object Symbol]"}},function(C,x){var s=[],d=[];function y(p,n){if(n=n||{},p===void 0)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var o,u=n.prepend===!0?"prepend":"append",r=n.container!==void 0?n.container:document.querySelector("head"),i=s.indexOf(r);return i===-1&&(i=s.push(r)-1,d[i]={}),d[i]!==void 0&&d[i][u]!==void 0?o=d[i][u]:(o=d[i][u]=function(){var a=document.createElement("style");return a.setAttribute("type","text/css"),a}(),u==="prepend"?r.insertBefore(o,r.childNodes[0]):r.appendChild(o)),p.charCodeAt(0)===65279&&(p=p.substr(1,p.length)),o.styleSheet?o.styleSheet.cssText+=p:o.textContent+=p,o}C.exports=y,C.exports.insertCss=y},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){if(d){if(typeof d.addEventListener=="function")return d.addEventListener(y,p,!1),{remove:function(){d.removeEventListener(y,p,!1)}};if(typeof d.attachEvent=="function")return d.attachEvent("on"+y,p),{remove:function(){d.detachEvent("on"+y,p)}}}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(102),y=s(27);x.default=function(p){if(!d.default(p)||!y.default(p,"Object"))return!1;if(Object.getPrototypeOf(p)===null)return!0;for(var n=p;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(p)===n}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10);x.default=function(y){return d.default(y)?"":y.toString()}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.mergeView=x.getMergedRegion=x.getRefreshRegion=x.refreshElement=x.drawPath=x.clearChanged=x.checkChildrenRefresh=x.checkRefresh=x.drawChildren=x.applyAttrsToContext=void 0;var d=s(0),y=s(156),p=s(321),n=s(18),o=s(74),u={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function r(h,v){for(var f=0;f<h.length;f++){var m=h[f];if(m.cfg.visible)if(m.cfg.hasChanged)m.cfg.refresh=!0,m.isGroup()&&i(m.cfg.children,v);else if(m.cfg.refresh)m.isGroup()&&r(m.cfg.children,v);else{var b=a(m,v);m.cfg.refresh=b,b&&m.isGroup()&&r(m.cfg.children,v)}}}function i(h,v){for(var f=0;f<h.length;f++){var m=h[f];m.cfg.refresh=!0,m.isGroup()&&i(m.get("children"),v)}}function a(h,v){var f=h.cfg.cacheCanvasBBox;return h.cfg.isInView&&f&&n.intersectRect(f,v)}function c(h){var v;if(h.destroyed)v=h._cacheCanvasBBox;else{var f=h.get("cacheCanvasBBox"),m=f&&!(!f.width||!f.height),b=h.getCanvasBBox(),M=b&&!(!b.width||!b.height);m&&M?v=n.mergeRegion(f,b):m?v=f:M&&(v=b)}return v}x.applyAttrsToContext=function(h,v){var f=v.attr();for(var m in f){var b=f[m],M=u[m]?u[m]:m;M==="matrix"&&b?h.transform(b[0],b[1],b[3],b[4],b[6],b[7]):M==="lineDash"&&h.setLineDash?d.isArray(b)&&h.setLineDash(b):(M==="strokeStyle"||M==="fillStyle"?b=y.parseStyle(h,v,b):M==="globalAlpha"&&(b*=h.globalAlpha),h[M]=b)}},x.drawChildren=function(h,v,f){for(var m=0;m<v.length;m++){var b=v[m];b.cfg.visible?b.draw(h,f):b.skipDraw()}},x.checkRefresh=function(h,v,f){var m=h.get("refreshElements");d.each(m,function(b){if(b!==h)for(var M=b.cfg.parent;M&&M!==h&&!M.cfg.refresh;)M.cfg.refresh=!0,M=M.cfg.parent}),m[0]===h?i(v,f):r(v,f)},x.checkChildrenRefresh=r,x.clearChanged=function h(v){for(var f=0;f<v.length;f++){var m=v[f];m.cfg.hasChanged=!1,m.isGroup()&&!m.destroyed&&h(m.cfg.children)}},x.drawPath=function(h,v,f,m){var b=f.path,M=f.startArrow,O=f.endArrow,E=[0,0],A=[0,0],j={dx:0,dy:0};v.beginPath();for(var B=0;B<b.length;B++){var D=b[B],T=D[0];if(B===0&&M&&M.d){var Y=h.getStartTangent();j=o.getShortenOffset(Y[0][0],Y[0][1],Y[1][0],Y[1][1],M.d)}else B===b.length-2&&b[B+1][0]==="Z"&&O&&O.d?b[B+1][0]==="Z"&&(Y=h.getEndTangent(),j=o.getShortenOffset(Y[0][0],Y[0][1],Y[1][0],Y[1][1],O.d)):B===b.length-1&&O&&O.d&&b[0]!=="Z"&&(Y=h.getEndTangent(),j=o.getShortenOffset(Y[0][0],Y[0][1],Y[1][0],Y[1][1],O.d));var G=j.dx,U=j.dy;switch(T){case"M":v.moveTo(D[1]-G,D[2]-U),A=[D[1],D[2]];break;case"L":v.lineTo(D[1]-G,D[2]-U);break;case"Q":v.quadraticCurveTo(D[1],D[2],D[3]-G,D[4]-U);break;case"C":v.bezierCurveTo(D[1],D[2],D[3],D[4],D[5]-G,D[6]-U);break;case"A":var H=void 0;m?(H=m[B])||(H=p.default(E,D),m[B]=H):H=p.default(E,D);var J=H.cx,ut=H.cy,$=H.rx,K=H.ry,ot=H.startAngle,at=H.endAngle,ht=H.xRotation,St=H.sweepFlag;if(v.ellipse)v.ellipse(J,ut,$,K,ht,ot,at,1-St);else{var pt=$>K?$:K,xt=$>K?1:$/K,vt=$>K?K/$:1;v.translate(J,ut),v.rotate(ht),v.scale(xt,vt),v.arc(0,0,pt,ot,at,1-St),v.scale(1/xt,1/vt),v.rotate(-ht),v.translate(-J,-ut)}break;case"Z":v.closePath()}if(T==="Z")E=A;else{var gt=D.length;E=[D[gt-2],D[gt-1]]}}},x.refreshElement=function(h,v){var f=h.get("canvas");f&&(v==="remove"&&(h._cacheCanvasBBox=h.get("cacheCanvasBBox")),h.get("hasChanged")||(h.set("hasChanged",!0),h.cfg.parent&&h.cfg.parent.get("hasChanged")||(f.refreshElement(h,v,f),f.get("autoDraw")&&f.draw())))},x.getRefreshRegion=c,x.getMergedRegion=function(h){if(!h.length)return null;var v=[],f=[],m=[],b=[];return d.each(h,function(M){var O=c(M);O&&(v.push(O.minX),f.push(O.minY),m.push(O.maxX),b.push(O.maxY))}),{minX:Math.min.apply(null,v),minY:Math.min.apply(null,f),maxX:Math.max.apply(null,m),maxY:Math.max.apply(null,b)}},x.mergeView=function(h,v){return h&&v&&n.intersectRect(h,v)?{minX:Math.max(h.minX,v.minX),minY:Math.max(h.minY,v.minY),maxX:Math.min(h.maxX,v.maxX),maxY:Math.min(h.maxY,v.maxY)}:null}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.setClip=x.setTransform=x.setShadow=void 0;var d=s(29);x.setShadow=function(y,p){var n=y.cfg.el,o=y.attr(),u={dx:o.shadowOffsetX,dy:o.shadowOffsetY,blur:o.shadowBlur,color:o.shadowColor};if(u.dx||u.dy||u.blur||u.color){var r=p.find("filter",u);r||(r=p.addShadow(u)),n.setAttribute("filter","url(#"+r+")")}else n.removeAttribute("filter")},x.setTransform=function(y){var p=y.attr().matrix;if(p){for(var n=y.cfg.el,o=[],u=0;u<9;u+=3)o.push(p[u]+","+p[u+1]);(o=o.join(",")).indexOf("NaN")===-1?n.setAttribute("transform","matrix("+o+")"):console.warn("invalid matrix:",p)}},x.setClip=function(y,p){var n=y.getClip(),o=y.get("el");if(n){if(n&&!o.hasAttribute("clip-path")){d.createDom(n),n.createPath(p);var u=p.addClip(n);o.setAttribute("clip-path","url(#"+u+")")}}else o.removeAttribute("clip-path")}},function(C,x,s){var d=s(45),y=s(25);C.exports=function(p){if(!y(p))return!1;var n=d(p);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"}},function(C,x,s){var d=s(81),y=s(82);C.exports=function(p,n,o,u){var r=!o;o||(o={});for(var i=-1,a=n.length;++i<a;){var c=n[i],h=u?u(o[c],p[c],c,o,p):void 0;h===void 0&&(h=p[c]),r?y(o,c,h):d(o,c,h)}return o}},function(C,x,s){var d=s(405),y=s(34),p=Object.prototype,n=p.hasOwnProperty,o=p.propertyIsEnumerable,u=d(function(){return arguments}())?d:function(r){return y(r)&&n.call(r,"callee")&&!o.call(r,"callee")};C.exports=u},function(C,x,s){var d=s(407),y=s(84),p=s(117),n=p&&p.isTypedArray,o=n?y(n):d;C.exports=o},function(C,x,s){var d=s(55);C.exports=function(y){if(typeof y=="string"||d(y))return y;var p=y+"";return p=="0"&&1/y==-1/0?"-0":p}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){return(d%y+y)%y}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=Math.PI/180;x.default=function(y){return d*y}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(14),p=Object.prototype.hasOwnProperty;x.default=function(n,o){if(!o||!d.default(n))return{};for(var u,r={},i=y.default(o)?o:function(h){return h[o]},a=0;a<n.length;a++){var c=n[a];u=i(c),p.call(r,u)?r[u].push(c):r[u]=[c]}return r}},function(C,x,s){"use strict";function d(f){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}var y=s(311),p=s(315),n=[].slice,o=["keyword","gray","hex"],u={};Object.keys(p).forEach(function(f){u[n.call(p[f].labels).sort().join("")]=f});var r={};function i(f,m){if(!(this instanceof i))return new i(f,m);if(m&&m in o&&(m=null),m&&!(m in p))throw new Error("Unknown model: "+m);var b,M;if(f==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(f instanceof i)this.model=f.model,this.color=f.color.slice(),this.valpha=f.valpha;else if(typeof f=="string"){var O=y.get(f);if(O===null)throw new Error("Unable to parse color from string: "+f);this.model=O.model,M=p[this.model].channels,this.color=O.value.slice(0,M),this.valpha=typeof O.value[M]=="number"?O.value[M]:1}else if(f.length){this.model=m||"rgb",M=p[this.model].channels;var E=n.call(f,0,M);this.color=v(E,M),this.valpha=typeof f[M]=="number"?f[M]:1}else if(typeof f=="number")f&=16777215,this.model="rgb",this.color=[f>>16&255,f>>8&255,255&f],this.valpha=1;else{this.valpha=1;var A=Object.keys(f);"alpha"in f&&(A.splice(A.indexOf("alpha"),1),this.valpha=typeof f.alpha=="number"?f.alpha:0);var j=A.sort().join("");if(!(j in u))throw new Error("Unable to parse color from object: "+JSON.stringify(f));this.model=u[j];var B=p[this.model].labels,D=[];for(b=0;b<B.length;b++)D.push(f[B[b]]);this.color=v(D)}if(r[this.model])for(M=p[this.model].channels,b=0;b<M;b++){var T=r[this.model][b];T&&(this.color[b]=T(this.color[b]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function a(f,m,b){return(f=Array.isArray(f)?f:[f]).forEach(function(M){(r[M]||(r[M]=[]))[m]=b}),f=f[0],function(M){var O;return arguments.length?(b&&(M=b(M)),(O=this[f]()).color[m]=M,O):(O=this[f]().color[m],b&&(O=b(O)),O)}}function c(f){return function(m){return Math.max(0,Math.min(f,m))}}function h(f){return Array.isArray(f)?f:[f]}function v(f,m){for(var b=0;b<m;b++)typeof f[b]!="number"&&(f[b]=0);return f}i.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(m){var b=this.model in y.to?this:this.rgb(),M=(b=b.round(typeof m=="number"?m:1)).valpha===1?b.color:b.color.concat(this.valpha);return y.to[b.model](M)},percentString:function(m){var b=this.rgb().round(typeof m=="number"?m:1),M=b.valpha===1?b.color:b.color.concat(this.valpha);return y.to.rgb.percent(M)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var m={},b=p[this.model].channels,M=p[this.model].labels,O=0;O<b;O++)m[M[O]]=this.color[O];return this.valpha!==1&&(m.alpha=this.valpha),m},unitArray:function(){var m=this.rgb().color;return m[0]/=255,m[1]/=255,m[2]/=255,this.valpha!==1&&m.push(this.valpha),m},unitObject:function(){var m=this.rgb().object();return m.r/=255,m.g/=255,m.b/=255,this.valpha!==1&&(m.alpha=this.valpha),m},round:function(m){return m=Math.max(m||0,0),new i(this.color.map(function(b){return function(M){return function(O,E){return Number(O.toFixed(E))}(M,b)}}(m)).concat(this.valpha),this.model)},alpha:function(m){return arguments.length?new i(this.color.concat(Math.max(0,Math.min(1,m))),this.model):this.valpha},red:a("rgb",0,c(255)),green:a("rgb",1,c(255)),blue:a("rgb",2,c(255)),hue:a(["hsl","hsv","hsl","hwb","hcg"],0,function(f){return(f%360+360)%360}),saturationl:a("hsl",1,c(100)),lightness:a("hsl",2,c(100)),saturationv:a("hsv",1,c(100)),value:a("hsv",2,c(100)),chroma:a("hcg",1,c(100)),gray:a("hcg",2,c(100)),white:a("hwb",1,c(100)),wblack:a("hwb",2,c(100)),cyan:a("cmyk",0,c(100)),magenta:a("cmyk",1,c(100)),yellow:a("cmyk",2,c(100)),black:a("cmyk",3,c(100)),x:a("xyz",0,c(100)),y:a("xyz",1,c(100)),z:a("xyz",2,c(100)),l:a("lab",0,c(100)),a:a("lab",1),b:a("lab",2),keyword:function(m){return arguments.length?new i(m):p[this.model].keyword(this.color)},hex:function(m){return arguments.length?new i(m):y.to.hex(this.rgb().round().color)},rgbNumber:function(){var m=this.rgb().color;return(255&m[0])<<16|(255&m[1])<<8|255&m[2]},luminosity:function(){for(var m=this.rgb().color,b=[],M=0;M<m.length;M++){var O=m[M]/255;b[M]=O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4)}return .2126*b[0]+.7152*b[1]+.0722*b[2]},contrast:function(m){var b=this.luminosity(),M=m.luminosity();return b>M?(b+.05)/(M+.05):(M+.05)/(b+.05)},level:function(m){var b=this.contrast(m);return b>=7.1?"AAA":b>=4.5?"AA":""},isDark:function(){var m=this.rgb().color;return(299*m[0]+587*m[1]+114*m[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var m=this.rgb(),b=0;b<3;b++)m.color[b]=255-m.color[b];return m},lighten:function(m){var b=this.hsl();return b.color[2]+=b.color[2]*m,b},darken:function(m){var b=this.hsl();return b.color[2]-=b.color[2]*m,b},saturate:function(m){var b=this.hsl();return b.color[1]+=b.color[1]*m,b},desaturate:function(m){var b=this.hsl();return b.color[1]-=b.color[1]*m,b},whiten:function(m){var b=this.hwb();return b.color[1]+=b.color[1]*m,b},blacken:function(m){var b=this.hwb();return b.color[2]+=b.color[2]*m,b},grayscale:function(){var m=this.rgb().color,b=.3*m[0]+.59*m[1]+.11*m[2];return i.rgb(b,b,b)},fade:function(m){return this.alpha(this.valpha-this.valpha*m)},opaquer:function(m){return this.alpha(this.valpha+this.valpha*m)},rotate:function(m){var b=this.hsl(),M=b.color[0];return M=(M=(M+m)%360)<0?360+M:M,b.color[0]=M,b},mix:function(m,b){if(!m||!m.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+d(m));var M=m.rgb(),O=this.rgb(),E=b===void 0?.5:b,A=2*E-1,j=M.alpha()-O.alpha(),B=((A*j==-1?A:(A+j)/(1+A*j))+1)/2,D=1-B;return i.rgb(B*M.red()+D*O.red(),B*M.green()+D*O.green(),B*M.blue()+D*O.blue(),M.alpha()*E+O.alpha()*(1-E))}},Object.keys(p).forEach(function(f){if(o.indexOf(f)===-1){var m=p[f].channels;i.prototype[f]=function(){if(this.model===f)return new i(this);if(arguments.length)return new i(arguments,f);var b=typeof arguments[m]=="number"?m:this.valpha;return new i(h(p[this.model][f].raw(this.color)).concat(b),f)},i[f]=function(b){return typeof b=="number"&&(b=v(n.call(arguments),m)),new i(b,f)}}}),C.exports=i},function(C,x,s){var d;function y(p){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(p)}(function(p){var n=/^\s+/,o=/\s+$/,u=0,r=p.round,i=p.min,a=p.max,c=p.random;function h(lt,X){if(X=X||{},(lt=lt||"")instanceof h)return lt;if(!(this instanceof h))return new h(lt,X);var V=function(Z){var W={r:0,g:0,b:0},rt=1,tt=null,Q=null,ft=null,Et=!1,Ct=!1;typeof Z=="string"&&(Z=function(kt){kt=kt.replace(n,"").replace(o,"").toLowerCase();var Pt,Xt=!1;if(ut[kt])kt=ut[kt],Xt=!0;else if(kt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Pt=At.rgb.exec(kt))?{r:Pt[1],g:Pt[2],b:Pt[3]}:(Pt=At.rgba.exec(kt))?{r:Pt[1],g:Pt[2],b:Pt[3],a:Pt[4]}:(Pt=At.hsl.exec(kt))?{h:Pt[1],s:Pt[2],l:Pt[3]}:(Pt=At.hsla.exec(kt))?{h:Pt[1],s:Pt[2],l:Pt[3],a:Pt[4]}:(Pt=At.hsv.exec(kt))?{h:Pt[1],s:Pt[2],v:Pt[3]}:(Pt=At.hsva.exec(kt))?{h:Pt[1],s:Pt[2],v:Pt[3],a:Pt[4]}:(Pt=At.hex8.exec(kt))?{r:ht(Pt[1]),g:ht(Pt[2]),b:ht(Pt[3]),a:vt(Pt[4]),format:Xt?"name":"hex8"}:(Pt=At.hex6.exec(kt))?{r:ht(Pt[1]),g:ht(Pt[2]),b:ht(Pt[3]),format:Xt?"name":"hex"}:(Pt=At.hex4.exec(kt))?{r:ht(Pt[1]+""+Pt[1]),g:ht(Pt[2]+""+Pt[2]),b:ht(Pt[3]+""+Pt[3]),a:vt(Pt[4]+""+Pt[4]),format:Xt?"name":"hex8"}:(Pt=At.hex3.exec(kt))?{r:ht(Pt[1]+""+Pt[1]),g:ht(Pt[2]+""+Pt[2]),b:ht(Pt[3]+""+Pt[3]),format:Xt?"name":"hex"}:!1}(Z)),y(Z)=="object"&&(It(Z.r)&&It(Z.g)&&It(Z.b)?(Nt=Z.r,Ft=Z.g,Rt=Z.b,W={r:255*ot(Nt,255),g:255*ot(Ft,255),b:255*ot(Rt,255)},Et=!0,Ct=String(Z.r).substr(-1)==="%"?"prgb":"rgb"):It(Z.h)&&It(Z.s)&&It(Z.v)?(tt=pt(Z.s),Q=pt(Z.v),W=function(kt,Pt,Xt){kt=6*ot(kt,360),Pt=ot(Pt,100),Xt=ot(Xt,100);var Ut=p.floor(kt),ct=kt-Ut,re=Xt*(1-Pt),ve=Xt*(1-ct*Pt),pe=Xt*(1-(1-ct)*Pt),Me=Ut%6;return{r:255*[Xt,ve,re,re,pe,Xt][Me],g:255*[pe,Xt,Xt,ve,re,re][Me],b:255*[re,re,pe,Xt,Xt,ve][Me]}}(Z.h,tt,Q),Et=!0,Ct="hsv"):It(Z.h)&&It(Z.s)&&It(Z.l)&&(tt=pt(Z.s),ft=pt(Z.l),W=function(kt,Pt,Xt){var Ut,ct,re;function ve(ge,ce,ye){return ye<0&&(ye+=1),ye>1&&(ye-=1),ye<1/6?ge+6*(ce-ge)*ye:ye<.5?ce:ye<2/3?ge+(ce-ge)*(2/3-ye)*6:ge}if(kt=ot(kt,360),Pt=ot(Pt,100),Xt=ot(Xt,100),Pt===0)Ut=ct=re=Xt;else{var pe=Xt<.5?Xt*(1+Pt):Xt+Pt-Xt*Pt,Me=2*Xt-pe;Ut=ve(Me,pe,kt+1/3),ct=ve(Me,pe,kt),re=ve(Me,pe,kt-1/3)}return{r:255*Ut,g:255*ct,b:255*re}}(Z.h,tt,ft),Et=!0,Ct="hsl"),Z.hasOwnProperty("a")&&(rt=Z.a));var Nt,Ft,Rt;return rt=K(rt),{ok:Et,format:Z.format||Ct,r:i(255,a(W.r,0)),g:i(255,a(W.g,0)),b:i(255,a(W.b,0)),a:rt}}(lt);this._originalInput=lt,this._r=V.r,this._g=V.g,this._b=V.b,this._a=V.a,this._roundA=r(100*this._a)/100,this._format=X.format||V.format,this._gradientType=X.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=V.ok,this._tc_id=u++}function v(lt,X,V){lt=ot(lt,255),X=ot(X,255),V=ot(V,255);var Z,W,rt=a(lt,X,V),tt=i(lt,X,V),Q=(rt+tt)/2;if(rt==tt)Z=W=0;else{var ft=rt-tt;switch(W=Q>.5?ft/(2-rt-tt):ft/(rt+tt),rt){case lt:Z=(X-V)/ft+(X<V?6:0);break;case X:Z=(V-lt)/ft+2;break;case V:Z=(lt-X)/ft+4}Z/=6}return{h:Z,s:W,l:Q}}function f(lt,X,V){lt=ot(lt,255),X=ot(X,255),V=ot(V,255);var Z,W,rt=a(lt,X,V),tt=i(lt,X,V),Q=rt,ft=rt-tt;if(W=rt===0?0:ft/rt,rt==tt)Z=0;else{switch(rt){case lt:Z=(X-V)/ft+(X<V?6:0);break;case X:Z=(V-lt)/ft+2;break;case V:Z=(lt-X)/ft+4}Z/=6}return{h:Z,s:W,v:Q}}function m(lt,X,V,Z){var W=[St(r(lt).toString(16)),St(r(X).toString(16)),St(r(V).toString(16))];return Z&&W[0].charAt(0)==W[0].charAt(1)&&W[1].charAt(0)==W[1].charAt(1)&&W[2].charAt(0)==W[2].charAt(1)?W[0].charAt(0)+W[1].charAt(0)+W[2].charAt(0):W.join("")}function b(lt,X,V,Z){return[St(xt(Z)),St(r(lt).toString(16)),St(r(X).toString(16)),St(r(V).toString(16))].join("")}function M(lt,X){X=X===0?0:X||10;var V=h(lt).toHsl();return V.s-=X/100,V.s=at(V.s),h(V)}function O(lt,X){X=X===0?0:X||10;var V=h(lt).toHsl();return V.s+=X/100,V.s=at(V.s),h(V)}function E(lt){return h(lt).desaturate(100)}function A(lt,X){X=X===0?0:X||10;var V=h(lt).toHsl();return V.l+=X/100,V.l=at(V.l),h(V)}function j(lt,X){X=X===0?0:X||10;var V=h(lt).toRgb();return V.r=a(0,i(255,V.r-r(-X/100*255))),V.g=a(0,i(255,V.g-r(-X/100*255))),V.b=a(0,i(255,V.b-r(-X/100*255))),h(V)}function B(lt,X){X=X===0?0:X||10;var V=h(lt).toHsl();return V.l-=X/100,V.l=at(V.l),h(V)}function D(lt,X){var V=h(lt).toHsl(),Z=(V.h+X)%360;return V.h=Z<0?360+Z:Z,h(V)}function T(lt){var X=h(lt).toHsl();return X.h=(X.h+180)%360,h(X)}function Y(lt){var X=h(lt).toHsl(),V=X.h;return[h(lt),h({h:(V+120)%360,s:X.s,l:X.l}),h({h:(V+240)%360,s:X.s,l:X.l})]}function G(lt){var X=h(lt).toHsl(),V=X.h;return[h(lt),h({h:(V+90)%360,s:X.s,l:X.l}),h({h:(V+180)%360,s:X.s,l:X.l}),h({h:(V+270)%360,s:X.s,l:X.l})]}function U(lt){var X=h(lt).toHsl(),V=X.h;return[h(lt),h({h:(V+72)%360,s:X.s,l:X.l}),h({h:(V+216)%360,s:X.s,l:X.l})]}function H(lt,X,V){X=X||6,V=V||30;var Z=h(lt).toHsl(),W=360/V,rt=[h(lt)];for(Z.h=(Z.h-(W*X>>1)+720)%360;--X;)Z.h=(Z.h+W)%360,rt.push(h(Z));return rt}function J(lt,X){X=X||6;for(var V=h(lt).toHsv(),Z=V.h,W=V.s,rt=V.v,tt=[],Q=1/X;X--;)tt.push(h({h:Z,s:W,v:rt})),rt=(rt+Q)%1;return tt}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(299*X.r+587*X.g+114*X.b)/1e3},getLuminance:function(){var X,V,Z,W=this.toRgb();return X=W.r/255,V=W.g/255,Z=W.b/255,.2126*(X<=.03928?X/12.92:p.pow((X+.055)/1.055,2.4))+.7152*(V<=.03928?V/12.92:p.pow((V+.055)/1.055,2.4))+.0722*(Z<=.03928?Z/12.92:p.pow((Z+.055)/1.055,2.4))},setAlpha:function(X){return this._a=K(X),this._roundA=r(100*this._a)/100,this},toHsv:function(){var X=f(this._r,this._g,this._b);return{h:360*X.h,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=f(this._r,this._g,this._b),V=r(360*X.h),Z=r(100*X.s),W=r(100*X.v);return this._a==1?"hsv("+V+", "+Z+"%, "+W+"%)":"hsva("+V+", "+Z+"%, "+W+"%, "+this._roundA+")"},toHsl:function(){var X=v(this._r,this._g,this._b);return{h:360*X.h,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=v(this._r,this._g,this._b),V=r(360*X.h),Z=r(100*X.s),W=r(100*X.l);return this._a==1?"hsl("+V+", "+Z+"%, "+W+"%)":"hsla("+V+", "+Z+"%, "+W+"%, "+this._roundA+")"},toHex:function(X){return m(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(X){return function(V,Z,W,rt,tt){var Q=[St(r(V).toString(16)),St(r(Z).toString(16)),St(r(W).toString(16)),St(xt(rt))];return tt&&Q[0].charAt(0)==Q[0].charAt(1)&&Q[1].charAt(0)==Q[1].charAt(1)&&Q[2].charAt(0)==Q[2].charAt(1)&&Q[3].charAt(0)==Q[3].charAt(1)?Q[0].charAt(0)+Q[1].charAt(0)+Q[2].charAt(0)+Q[3].charAt(0):Q.join("")}(this._r,this._g,this._b,this._a,X)},toHex8String:function(X){return"#"+this.toHex8(X)},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*ot(this._r,255))+"%",g:r(100*ot(this._g,255))+"%",b:r(100*ot(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+r(100*ot(this._r,255))+"%, "+r(100*ot(this._g,255))+"%, "+r(100*ot(this._b,255))+"%)":"rgba("+r(100*ot(this._r,255))+"%, "+r(100*ot(this._g,255))+"%, "+r(100*ot(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&($[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(X){var V="#"+b(this._r,this._g,this._b,this._a),Z=V,W=this._gradientType?"GradientType = 1, ":"";if(X){var rt=h(X);Z="#"+b(rt._r,rt._g,rt._b,rt._a)}return"progid:DXImageTransform.Microsoft.gradient("+W+"startColorstr="+V+",endColorstr="+Z+")"},toString:function(X){var V=!!X;X=X||this._format;var Z=!1,W=this._a<1&&this._a>=0;return V||!W||X!=="hex"&&X!=="hex6"&&X!=="hex3"&&X!=="hex4"&&X!=="hex8"&&X!=="name"?(X==="rgb"&&(Z=this.toRgbString()),X==="prgb"&&(Z=this.toPercentageRgbString()),X!=="hex"&&X!=="hex6"||(Z=this.toHexString()),X==="hex3"&&(Z=this.toHexString(!0)),X==="hex4"&&(Z=this.toHex8String(!0)),X==="hex8"&&(Z=this.toHex8String()),X==="name"&&(Z=this.toName()),X==="hsl"&&(Z=this.toHslString()),X==="hsv"&&(Z=this.toHsvString()),Z||this.toHexString()):X==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(X,V){var Z=X.apply(null,[this].concat([].slice.call(V)));return this._r=Z._r,this._g=Z._g,this._b=Z._b,this.setAlpha(Z._a),this},lighten:function(){return this._applyModification(A,arguments)},brighten:function(){return this._applyModification(j,arguments)},darken:function(){return this._applyModification(B,arguments)},desaturate:function(){return this._applyModification(M,arguments)},saturate:function(){return this._applyModification(O,arguments)},greyscale:function(){return this._applyModification(E,arguments)},spin:function(){return this._applyModification(D,arguments)},_applyCombination:function(X,V){return X.apply(null,[this].concat([].slice.call(V)))},analogous:function(){return this._applyCombination(H,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(J,arguments)},splitcomplement:function(){return this._applyCombination(U,arguments)},triad:function(){return this._applyCombination(Y,arguments)},tetrad:function(){return this._applyCombination(G,arguments)}},h.fromRatio=function(lt,X){if(y(lt)=="object"){var V={};for(var Z in lt)lt.hasOwnProperty(Z)&&(V[Z]=Z==="a"?lt[Z]:pt(lt[Z]));lt=V}return h(lt,X)},h.equals=function(lt,X){return!(!lt||!X)&&h(lt).toRgbString()==h(X).toRgbString()},h.random=function(){return h.fromRatio({r:c(),g:c(),b:c()})},h.mix=function(lt,X,V){V=V===0?0:V||50;var Z=h(lt).toRgb(),W=h(X).toRgb(),rt=V/100;return h({r:(W.r-Z.r)*rt+Z.r,g:(W.g-Z.g)*rt+Z.g,b:(W.b-Z.b)*rt+Z.b,a:(W.a-Z.a)*rt+Z.a})},h.readability=function(lt,X){var V=h(lt),Z=h(X);return(p.max(V.getLuminance(),Z.getLuminance())+.05)/(p.min(V.getLuminance(),Z.getLuminance())+.05)},h.isReadable=function(lt,X,V){var Z,W,rt=h.readability(lt,X);switch(W=!1,(Z=function(tt){var Q,ft;return Q=((tt=tt||{level:"AA",size:"small"}).level||"AA").toUpperCase(),ft=(tt.size||"small").toLowerCase(),Q!=="AA"&&Q!=="AAA"&&(Q="AA"),ft!=="small"&&ft!=="large"&&(ft="small"),{level:Q,size:ft}}(V)).level+Z.size){case"AAsmall":case"AAAlarge":W=rt>=4.5;break;case"AAlarge":W=rt>=3;break;case"AAAsmall":W=rt>=7}return W},h.mostReadable=function(lt,X,V){var Z,W,rt,tt,Q=null,ft=0;W=(V=V||{}).includeFallbackColors,rt=V.level,tt=V.size;for(var Et=0;Et<X.length;Et++)(Z=h.readability(lt,X[Et]))>ft&&(ft=Z,Q=h(X[Et]));return h.isReadable(lt,Q,{level:rt,size:tt})||!W?Q:(V.includeFallbackColors=!1,h.mostReadable(lt,["#fff","#000"],V))};var ut=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$=h.hexNames=function(lt){var X={};for(var V in lt)lt.hasOwnProperty(V)&&(X[lt[V]]=V);return X}(ut);function K(lt){return lt=parseFloat(lt),(isNaN(lt)||lt<0||lt>1)&&(lt=1),lt}function ot(lt,X){(function(Z){return typeof Z=="string"&&Z.indexOf(".")!=-1&&parseFloat(Z)===1})(lt)&&(lt="100%");var V=function(Z){return typeof Z=="string"&&Z.indexOf("%")!=-1}(lt);return lt=i(X,a(0,parseFloat(lt))),V&&(lt=parseInt(lt*X,10)/100),p.abs(lt-X)<1e-6?1:lt%X/parseFloat(X)}function at(lt){return i(1,a(0,lt))}function ht(lt){return parseInt(lt,16)}function St(lt){return lt.length==1?"0"+lt:""+lt}function pt(lt){return lt<=1&&(lt=100*lt+"%"),lt}function xt(lt){return p.round(255*parseFloat(lt)).toString(16)}function vt(lt){return ht(lt)/255}var gt,_t,Bt,At=(_t="[\\s|\\(]+("+(gt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+gt+")[,|\\s]+("+gt+")\\s*\\)?",Bt="[\\s|\\(]+("+gt+")[,|\\s]+("+gt+")[,|\\s]+("+gt+")[,|\\s]+("+gt+")\\s*\\)?",{CSS_UNIT:new RegExp(gt),rgb:new RegExp("rgb"+_t),rgba:new RegExp("rgba"+Bt),hsl:new RegExp("hsl"+_t),hsla:new RegExp("hsla"+Bt),hsv:new RegExp("hsv"+_t),hsva:new RegExp("hsva"+Bt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function It(lt){return!!At.CSS_UNIT.exec(lt)}C.exports?C.exports=h:(d=function(){return h}.call(x,s,x,C))===void 0||(C.exports=d)})(Math)},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y,p){return!!d.default(y)&&y.indexOf(p)>-1}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(28);Object.defineProperty(x,"Base",{enumerable:!0,get:function(){return d.default}});var y=s(334);Object.defineProperty(x,"Circle",{enumerable:!0,get:function(){return y.default}});var p=s(335);Object.defineProperty(x,"Ellipse",{enumerable:!0,get:function(){return p.default}});var n=s(336);Object.defineProperty(x,"Image",{enumerable:!0,get:function(){return n.default}});var o=s(337);Object.defineProperty(x,"Line",{enumerable:!0,get:function(){return o.default}});var u=s(338);Object.defineProperty(x,"Marker",{enumerable:!0,get:function(){return u.default}});var r=s(340);Object.defineProperty(x,"Path",{enumerable:!0,get:function(){return r.default}});var i=s(342);Object.defineProperty(x,"Polygon",{enumerable:!0,get:function(){return i.default}});var a=s(343);Object.defineProperty(x,"Polyline",{enumerable:!0,get:function(){return a.default}});var c=s(345);Object.defineProperty(x,"Rect",{enumerable:!0,get:function(){return c.default}});var h=s(348);Object.defineProperty(x,"Text",{enumerable:!0,get:function(){return h.default}})},function(C,x,s){"use strict";function d(c){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}Object.defineProperty(x,"__esModule",{value:!0}),x.addEndArrow=x.addStartArrow=x.getShortenOffset=void 0;var y=s(1),p=s(73),n=Math.sin,o=Math.cos,u=Math.atan2,r=Math.PI;function i(c,h,v,f,m,b,M){var O=h.stroke,E=h.lineWidth,A=u(f-b,v-m),j=new p.Path({type:"path",canvas:c.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*o(r/6)+","+10*n(r/6)+" L0,0 L"+10*o(r/6)+",-"+10*n(r/6),stroke:O,lineWidth:E}});j.translate(m,b),j.rotateAtPoint(m,b,A),c.set(M?"startArrowShape":"endArrowShape",j)}function a(c,h,v,f,m,b,M){var O=h.startArrow,E=h.endArrow,A=h.stroke,j=h.lineWidth,B=M?O:E,D=B.d,T=B.fill,Y=B.stroke,G=B.lineWidth,U=y.__rest(B,["d","fill","stroke","lineWidth"]),H=u(f-b,v-m);D&&(m-=o(H)*D,b-=n(H)*D);var J=new p.Path({type:"path",canvas:c.get("canvas"),isArrowShape:!0,attrs:y.__assign(y.__assign({},U),{stroke:Y||A,lineWidth:G||j,fill:T})});J.translate(m,b),J.rotateAtPoint(m,b,H),c.set(M?"startArrowShape":"endArrowShape",J)}x.getShortenOffset=function(c,h,v,f,m){var b=u(f-h,v-c);return{dx:o(b)*m,dy:n(b)*m}},x.addStartArrow=function(c,h,v,f,m,b){d(h.startArrow)==="object"?a(c,h,v,f,m,b,!0):h.startArrow?i(c,h,v,f,m,b,!0):c.set("startArrowShape",null)},x.addEndArrow=function(c,h,v,f,m,b){d(h.endArrow)==="object"?a(c,h,v,f,m,b,!1):h.endArrow?i(c,h,v,f,m,b,!1):c.set("startArrowShape",null)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(40);x.default=function(y,p,n,o,u,r,i){var a=Math.min(y,n),c=Math.max(y,n),h=Math.min(p,o),v=Math.max(p,o),f=u/2;return r>=a-f&&r<=c+f&&i>=h-f&&i<=v+f&&d.default.pointToLine(y,p,n,o,r,i)<=u/2}},function(C,x,s){var d=s(77),y=s(379),p=s(380),n=s(381),o=s(382),u=s(383);function r(i){var a=this.__data__=new d(i);this.size=a.size}r.prototype.clear=y,r.prototype.delete=p,r.prototype.get=n,r.prototype.has=o,r.prototype.set=u,C.exports=r},function(C,x,s){var d=s(374),y=s(375),p=s(376),n=s(377),o=s(378);function u(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var c=r[i];this.set(c[0],c[1])}}u.prototype.clear=d,u.prototype.delete=y,u.prototype.get=p,u.prototype.has=n,u.prototype.set=o,C.exports=u},function(C,x,s){var d=s(51);C.exports=function(y,p){for(var n=y.length;n--;)if(d(y[n][0],p))return n;return-1}},function(C,x,s){var d=s(44)(Object,"create");C.exports=d},function(C,x,s){var d=s(399);C.exports=function(y,p){var n=y.__data__;return d(p)?n[typeof p=="string"?"string":"hash"]:n.map}},function(C,x,s){var d=s(82),y=s(51),p=Object.prototype.hasOwnProperty;C.exports=function(n,o,u){var r=n[o];p.call(n,o)&&y(r,u)&&(u!==void 0||o in n)||d(n,o,u)}},function(C,x,s){var d=s(176);C.exports=function(y,p,n){p=="__proto__"&&d?d(y,p,{configurable:!0,enumerable:!0,value:n,writable:!0}):y[p]=n}},function(C,x){function s(y){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}var d=/^(?:0|[1-9]\d*)$/;C.exports=function(y,p){var n=s(y);return!!(p=p==null?9007199254740991:p)&&(n=="number"||n!="symbol"&&d.test(y))&&y>-1&&y%1==0&&y<p}},function(C,x){C.exports=function(s){return function(d){return s(d)}}},function(C,x){var s=Object.prototype;C.exports=function(d){var y=d&&d.constructor;return d===(typeof y=="function"&&y.prototype||s)}},function(C,x,s){var d=s(178)(Object.getPrototypeOf,Object);C.exports=d},function(C,x,s){var d=s(123),y=s(428)(d);C.exports=y},function(C,x,s){var d=s(89),y=s(66);C.exports=function(p,n){for(var o=0,u=(n=d(n,p)).length;p!=null&&o<u;)p=p[y(n[o++])];return o&&o==u?p:void 0}},function(C,x,s){var d=s(15),y=s(126),p=s(442),n=s(201);C.exports=function(o,u){return d(o)?o:y(o,u)?[o]:p(n(o))}},function(C,x){C.exports=function(s,d){for(var y=-1,p=s==null?0:s.length,n=Array(p);++y<p;)n[y]=d(s[y],y,s);return n}},function(C,x,s){var d=s(47),y=s(210),p=s(211);C.exports=function(n,o){return p(y(n,o,d),n+"")}},function(C,x,s){function d(u){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(u)}var y=s(51),p=s(38),n=s(83),o=s(25);C.exports=function(u,r,i){if(!o(i))return!1;var a=d(r);return!!(a=="number"?p(i)&&n(r,i.length):a=="string"&&r in i)&&y(i[r],u)}},function(C,x,s){"use strict";var d=s(13);C.exports={longestPath:function(p){var n={};d.forEach(p.sources(),function o(u){var r=p.node(u);if(d.has(n,u))return r.rank;n[u]=!0;var i=d.min(d.map(p.outEdges(u),function(a){return o(a.w)-p.edge(a).minlen}));return i!==Number.POSITIVE_INFINITY&&i!=null||(i=0),r.rank=i})},slack:function(p,n){return p.node(n.w).rank-p.node(n.v).rank-p.edge(n).minlen}}},function(C,x,s){var d=s(226),y=function(){function p(n,o){o===void 0&&(o={}),this.options=o,this.rootNode=d(n,o)}return p.prototype.execute=function(){throw new Error("please override this method")},p}();C.exports=y},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(102),y=s(21),p=s(3);x.default=function n(o,u){if(o===u)return!0;if(!o||!u||p.default(o)||p.default(u))return!1;if(y.default(o)||y.default(u)){if(o.length!==u.length)return!1;for(var r=!0,i=0;i<o.length&&(r=n(o[i],u[i]));i++);return r}if(d.default(o)||d.default(u)){var a=Object.keys(o),c=Object.keys(u);if(a.length!==c.length)return!1;for(r=!0,i=0;i<a.length&&(r=n(o[a[i]],u[a[i]]));i++);return r}return!1}},function(C,x,s){"use strict";var d=function(){function y(p,n){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=p,this.name=p,this.originalEvent=n,this.timeStamp=n.timeStamp}return y.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},y.prototype.stopPropagation=function(){this.propagationStopped=!0},y.prototype.toString=function(){return"[Event (type="+this.type+")]"},y.prototype.save=function(){},y.prototype.restore=function(){},y}();x.a=d},function(C,x,s){"use strict";var d=s(1),y=s(99),p=s(9),n=function(o){function u(r){var i=o.call(this)||this;i.destroyed=!1;var a=i.getDefaultCfg();return i.cfg=Object(p.i)(a,r),i}return Object(d.__extends)(u,o),u.prototype.getDefaultCfg=function(){return{}},u.prototype.get=function(r){return this.cfg[r]},u.prototype.set=function(r,i){this.cfg[r]=i},u.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},u}(y.a);x.a=n},function(C,x,s){"use strict";function d(p){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(p)}Object.defineProperty(x,"__esModule",{value:!0});var y=s(4);x.default=function p(n){if(d(n)!=="object"||n===null)return n;var o;if(y.default(n)){o=[];for(var u=0,r=n.length;u<r;u++)d(n[u])==="object"&&n[u]!=null?o[u]=p(n[u]):o[u]=n[u]}else for(var i in o={},n)d(n[i])==="object"&&n[i]!=null?o[i]=p(n[i]):o[i]=n[i];return o}},function(C,x,s){"use strict";var d=function(){function y(){this._events={}}return y.prototype.on=function(p,n,o){return this._events[p]||(this._events[p]=[]),this._events[p].push({callback:n,once:!!o}),this},y.prototype.once=function(p,n){return this.on(p,n,!0),this},y.prototype.emit=function(p){for(var n=this,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];var r=this._events[p]||[],i=this._events["*"]||[],a=function(h){for(var v=h.length,f=0;f<v;f++)if(h[f]){var m=h[f],b=m.callback;m.once&&(h.splice(f,1),h.length===0&&delete n._events[p],v--,f--),b.apply(n,o)}};a(r),a(i)},y.prototype.off=function(p,n){if(p)if(n){for(var o=this._events[p]||[],u=o.length,r=0;r<u;r++)o[r].callback===n&&(o.splice(r,1),u--,r--);o.length===0&&delete this._events[p]}else delete this._events[p];else this._events={};return this},y.prototype.getEvents=function(){return this._events},y}();x.a=d},function(C,x,s){"use strict";var d=s(1),y=s(101),p=s(9),n={},o=function(u){function r(){return u!==null&&u.apply(this,arguments)||this}return Object(d.__extends)(r,u),r.prototype.isCanvas=function(){return!1},r.prototype.getBBox=function(){var i=1/0,a=-1/0,c=1/0,h=-1/0,v=[],f=[],m=this.getChildren().filter(function(b){return b.get("visible")&&(!b.isGroup()||b.isGroup()&&b.getChildren().length>0)});return m.length>0?(Object(p.a)(m,function(b){var M=b.getBBox();v.push(M.minX,M.maxX),f.push(M.minY,M.maxY)}),i=Math.min.apply(null,v),a=Math.max.apply(null,v),c=Math.min.apply(null,f),h=Math.max.apply(null,f)):(i=0,a=0,c=0,h=0),{x:i,y:c,minX:i,minY:c,maxX:a,maxY:h,width:a-i,height:h-c}},r.prototype.getCanvasBBox=function(){var i=1/0,a=-1/0,c=1/0,h=-1/0,v=[],f=[],m=this.getChildren().filter(function(b){return b.get("visible")&&(!b.isGroup()||b.isGroup()&&b.getChildren().length>0)});return m.length>0?(Object(p.a)(m,function(b){var M=b.getCanvasBBox();v.push(M.minX,M.maxX),f.push(M.minY,M.maxY)}),i=Math.min.apply(null,v),a=Math.max.apply(null,v),c=Math.min.apply(null,f),h=Math.max.apply(null,f)):(i=0,a=0,c=0,h=0),{x:i,y:c,minX:i,minY:c,maxX:a,maxY:h,width:a-i,height:h-c}},r.prototype.getDefaultCfg=function(){var i=u.prototype.getDefaultCfg.call(this);return i.children=[],i},r.prototype.onAttrChange=function(i,a,c){if(u.prototype.onAttrChange.call(this,i,a,c),i==="matrix"){var h=this.getTotalMatrix();this._applyChildrenMarix(h)}},r.prototype.applyMatrix=function(i){var a=this.getTotalMatrix();u.prototype.applyMatrix.call(this,i);var c=this.getTotalMatrix();c!==a&&this._applyChildrenMarix(c)},r.prototype._applyChildrenMarix=function(i){var a=this.getChildren();Object(p.a)(a,function(c){c.applyMatrix(i)})},r.prototype.addShape=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=i[0],h=i[1];Object(p.f)(c)?h=c:h.type=c;var v=n[h.type];v||(v=Object(p.k)(h.type),n[h.type]=v);var f=this.getShapeBase(),m=new f[v](h);return this.add(m),m},r.prototype.addGroup=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c,h=i[0],v=i[1];if(Object(p.d)(h))c=new h(v||{parent:this});else{var f=h||{},m=this.getGroupBase();c=new m(f)}return this.add(c),c},r.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},r.prototype.getShape=function(i,a,c){if(!Object(p.b)(this))return null;var h,v=this.getChildren();if(this.isCanvas())h=this._findShape(v,i,a,c);else{var f=[i,a,1];f=this.invertFromMatrix(f),this.isClipped(f[0],f[1])||(h=this._findShape(v,f[0],f[1],c))}return h},r.prototype._findShape=function(i,a,c,h){for(var v=null,f=i.length-1;f>=0;f--){var m=i[f];if(Object(p.b)(m)&&(m.isGroup()?v=m.getShape(a,c,h):m.isHit(a,c)&&(v=m)),v)break}return v},r.prototype.add=function(i){var a=this.getCanvas(),c=this.getChildren(),h=this.get("timeline"),v=i.getParent();v&&function(f,m,b){b===void 0&&(b=!0),b?m.destroy():(m.set("parent",null),m.set("canvas",null)),Object(p.j)(f.getChildren(),m)}(v,i,!1),i.set("parent",this),a&&function f(m,b){if(m.set("canvas",b),m.isGroup()){var M=m.get("children");M.length&&M.forEach(function(O){f(O,b)})}}(i,a),h&&function f(m,b){if(m.set("timeline",b),m.isGroup()){var M=m.get("children");M.length&&M.forEach(function(O){f(O,b)})}}(i,h),c.push(i),i.onCanvasChange("add"),this._applyElementMatrix(i)},r.prototype._applyElementMatrix=function(i){var a=this.getTotalMatrix();a&&i.applyMatrix(a)},r.prototype.getChildren=function(){return this.get("children")},r.prototype.sort=function(){var i,a=this.getChildren();Object(p.a)(a,function(c,h){return c._INDEX=h,c}),a.sort((i=function(h,v){return h.get("zIndex")-v.get("zIndex")},function(c,h){var v=i(c,h);return v===0?c._INDEX-h._INDEX:v})),this.onCanvasChange("sort")},r.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var i=this.getChildren(),a=i.length-1;a>=0;a--)i[a].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},r.prototype.destroy=function(){this.get("destroyed")||(this.clear(),u.prototype.destroy.call(this))},r.prototype.getFirst=function(){return this.getChildByIndex(0)},r.prototype.getLast=function(){var i=this.getChildren();return this.getChildByIndex(i.length-1)},r.prototype.getChildByIndex=function(i){return this.getChildren()[i]},r.prototype.getCount=function(){return this.getChildren().length},r.prototype.contain=function(i){return this.getChildren().indexOf(i)>-1},r.prototype.removeChild=function(i,a){a===void 0&&(a=!0),this.contain(i)&&i.remove(a)},r.prototype.findAll=function(i){var a=[],c=this.getChildren();return Object(p.a)(c,function(h){i(h)&&a.push(h),h.isGroup()&&(a=a.concat(h.findAll(i)))}),a},r.prototype.find=function(i){var a=null,c=this.getChildren();return Object(p.a)(c,function(h){if(i(h)?a=h:h.isGroup()&&(a=h.find(i)),a)return!1}),a},r.prototype.findById=function(i){return this.find(function(a){return a.get("id")===i})},r.prototype.findByClassName=function(i){return this.find(function(a){return a.get("className")===i})},r.prototype.findAllByName=function(i){return this.findAll(function(a){return a.get("name")===i})},r}(y.a);x.a=o},function(C,x,s){"use strict";var d=s(1),y=s(0),p=s(133),n=s(9),o=s(32),u=s(97),r=p.ext.transform,i=["zIndex","capture","visible","type"],a=["repeat"];function c(m,b){var M={},O=b.attrs;for(var E in m)M[E]=O[E];return M}function h(m,b){var M={},O=b.attr();return Object(y.each)(m,function(E,A){a.indexOf(A)!==-1||Object(y.isEqual)(O[A],E)||(M[A]=E)}),M}function v(m,b){if(b.onFrame)return m;var M=b.startTime,O=b.delay,E=b.duration,A=Object.prototype.hasOwnProperty;return Object(y.each)(m,function(j){M+O<j.startTime+j.delay+j.duration&&E>j.delay&&Object(y.each)(b.toAttrs,function(B,D){A.call(j.toAttrs,D)&&(delete j.toAttrs[D],delete j.fromAttrs[D])})}),m}var f=function(m){function b(M){var O=m.call(this,M)||this;O.attrs={};var E=O.getDefaultAttrs();return Object(y.mix)(E,M.attrs),O.attrs=E,O.initAttrs(E),O.initAnimate(),O}return Object(d.__extends)(b,m),b.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},b.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},b.prototype.onCanvasChange=function(M){},b.prototype.initAttrs=function(M){},b.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},b.prototype.isGroup=function(){return!1},b.prototype.getParent=function(){return this.get("parent")},b.prototype.getCanvas=function(){return this.get("canvas")},b.prototype.attr=function(){for(var M,O=[],E=0;E<arguments.length;E++)O[E]=arguments[E];var A=O[0],j=O[1];if(!A)return this.attrs;if(Object(y.isObject)(A)){for(var B in A)this.setAttr(B,A[B]);return this.afterAttrsChange(A),this}return O.length===2?(this.setAttr(A,j),this.afterAttrsChange(((M={})[A]=j,M)),this):this.attrs[A]},b.prototype.isClipped=function(M,O){var E=this.getClip();return E&&!E.isHit(M,O)},b.prototype.setAttr=function(M,O){var E=this.attrs[M];E!==O&&(this.attrs[M]=O,this.onAttrChange(M,O,E))},b.prototype.onAttrChange=function(M,O,E){M==="matrix"&&this.set("totalMatrix",null)},b.prototype.afterAttrsChange=function(M){if(this.cfg.isClipShape){var O=this.cfg.applyTo;O&&O.onCanvasChange("clip")}else this.onCanvasChange("attr")},b.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},b.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},b.prototype.setZIndex=function(M){this.set("zIndex",M);var O=this.getParent();return O&&O.sort(),this},b.prototype.toFront=function(){var M=this.getParent();if(M){var O=M.getChildren(),E=(this.get("el"),O.indexOf(this));O.splice(E,1),O.push(this),this.onCanvasChange("zIndex")}},b.prototype.toBack=function(){var M=this.getParent();if(M){var O=M.getChildren(),E=(this.get("el"),O.indexOf(this));O.splice(E,1),O.unshift(this),this.onCanvasChange("zIndex")}},b.prototype.remove=function(M){M===void 0&&(M=!0);var O=this.getParent();O?(Object(n.j)(O.getChildren(),this),O.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),M&&this.destroy()},b.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},b.prototype.getMatrix=function(){return this.attr("matrix")},b.prototype.setMatrix=function(M){this.attr("matrix",M),this.onCanvasChange("matrix")},b.prototype.getTotalMatrix=function(){var M=this.cfg.totalMatrix;if(!M){var O=this.attr("matrix"),E=this.cfg.parentMatrix;M=E&&O?Object(o.b)(E,O):O||E,this.set("totalMatrix",M)}return M},b.prototype.applyMatrix=function(M){var O=this.attr("matrix"),E=null;E=M&&O?Object(o.b)(M,O):O||M,this.set("totalMatrix",E),this.set("parentMatrix",M)},b.prototype.getDefaultMatrix=function(){return null},b.prototype.applyToMatrix=function(M){var O=this.attr("matrix");return O?Object(o.c)(O,M):M},b.prototype.invertFromMatrix=function(M){var O=this.attr("matrix");if(O){var E=Object(o.a)(O);if(E)return Object(o.c)(E,M)}return M},b.prototype.setClip=function(M){var O=this.getCanvas(),E=null;if(M){var A=this.getShapeBase()[Object(y.upperFirst)(M.type)];A&&(E=new A({type:M.type,isClipShape:!0,applyTo:this,attrs:M.attrs,canvas:O}))}return this.set("clipShape",E),this.onCanvasChange("clip"),E},b.prototype.getClip=function(){var M=this.cfg.clipShape;return M||null},b.prototype.clone=function(){var M=this,O=this.attrs,E={};Object(y.each)(O,function(j,B){Object(y.isArray)(O[B])?E[B]=function(D){for(var T=[],Y=0;Y<D.length;Y++)Object(y.isArray)(D[Y])?T.push([].concat(D[Y])):T.push(D[Y]);return T}(O[B]):E[B]=O[B]});var A=new this.constructor({attrs:E});return Object(y.each)(i,function(j){A.set(j,M.get(j))}),A},b.prototype.destroy=function(){this.destroyed||(this.attrs={},m.prototype.destroy.call(this))},b.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},b.prototype.animate=function(){for(var M=[],O=0;O<arguments.length;O++)M[O]=arguments[O];this.set("animating",!0);var E=this.get("timeline");E||(E=this.get("canvas").get("timeline"),this.set("timeline",E));var A=this.get("animations")||[];E.timer||E.initTimer();var j,B,D,T,Y,G=M[0],U=M[1],H=M[2],J=H===void 0?"easeLinear":H,ut=M[3],$=ut===void 0?y.noop:ut,K=M[4],ot=K===void 0?0:K;Object(y.isFunction)(G)?(j=G,G={}):Object(y.isObject)(G)&&G.onFrame&&(j=G.onFrame,B=G.repeat),Object(y.isObject)(U)?(U=(Y=U).duration,J=Y.easing||"easeLinear",ot=Y.delay||0,B=Y.repeat||B||!1,$=Y.callback||y.noop,D=Y.pauseCallback||y.noop,T=Y.resumeCallback||y.noop):(Object(y.isNumber)($)&&(ot=$,$=null),Object(y.isFunction)(J)?($=J,J="easeLinear"):J=J||"easeLinear");var at=h(G,this),ht={fromAttrs:c(at,this),toAttrs:at,duration:U,easing:J,repeat:B,callback:$,pauseCallback:D,resumeCallback:T,delay:ot,startTime:E.getTime(),id:Object(y.uniqueId)(),onFrame:j,pathFormatted:!1};A.length>0?A=v(A,ht):E.addAnimator(this),A.push(ht),this.set("animations",A),this.set("_pause",{isPaused:!1})},b.prototype.stopAnimate=function(M){var O=this;M===void 0&&(M=!0);var E=this.get("animations");Object(y.each)(E,function(A){M&&(A.onFrame?O.attr(A.onFrame(1)):O.attr(A.toAttrs)),A.callback&&A.callback()}),this.set("animating",!1),this.set("animations",[])},b.prototype.pauseAnimate=function(){var M=this.get("timeline"),O=this.get("animations"),E=M.getTime();return Object(y.each)(O,function(A){A._paused=!0,A._pauseTime=E,A.pauseCallback&&A.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:E}),this},b.prototype.resumeAnimate=function(){var M=this.get("timeline").getTime(),O=this.get("animations"),E=this.get("_pause").pauseTime;return Object(y.each)(O,function(A){A.startTime=A.startTime+(M-E),A._paused=!1,A._pauseTime=null,A.resumeCallback&&A.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",O),this},b.prototype.emitDelegation=function(M,O){var E,A=this,j=O.propagationPath;this.getEvents(),M==="mouseenter"?E=O.fromShape:M==="mouseleave"&&(E=O.toShape);for(var B=function(G){var U=j[G],H=U.get("name");if(H){if((U.isGroup()||U.isCanvas&&U.isCanvas())&&E&&Object(n.g)(U,E))return"break";Object(y.isArray)(H)?Object(y.each)(H,function(J){A.emitDelegateEvent(U,J,O)}):D.emitDelegateEvent(U,H,O)}},D=this,T=0;T<j.length&&B(T)!=="break";T++);},b.prototype.emitDelegateEvent=function(M,O,E){var A=this.getEvents(),j=O+":"+E.type;(A[j]||A["*"])&&(E.name=j,E.currentTarget=M,E.delegateTarget=this,E.delegateObject=M.get("delegateObject"),this.emit(j,E))},b.prototype.translate=function(M,O){M===void 0&&(M=0),O===void 0&&(O=0);var E=this.getMatrix(),A=r(E,[["t",M,O]]);return this.setMatrix(A),this},b.prototype.move=function(M,O){var E=this.attr("x")||0,A=this.attr("y")||0;return this.translate(M-E,O-A),this},b.prototype.moveTo=function(M,O){return this.move(M,O)},b.prototype.scale=function(M,O){var E=this.getMatrix(),A=r(E,[["s",M,O||M]]);return this.setMatrix(A),this},b.prototype.rotate=function(M){var O=this.getMatrix(),E=r(O,[["r",M]]);return this.setMatrix(E),this},b.prototype.rotateAtStart=function(M){var O=this.attr(),E=O.x,A=O.y,j=this.getMatrix(),B=r(j,[["t",-E,-A],["r",M],["t",E,A]]);return this.setMatrix(B),this},b.prototype.rotateAtPoint=function(M,O,E){var A=this.getMatrix(),j=r(A,[["t",-M,-O],["r",E],["t",M,O]]);return this.setMatrix(j),this},b}(u.a);x.a=f},function(C,x,s){"use strict";function d(y){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(y){return d(y)==="object"&&y!==null}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){return p===void 0&&(p=1e-5),Math.abs(d-y)<p}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.setMatrixArrayType=function(p){x.ARRAY_TYPE=p},x.toRadian=function(p){return p*y},x.equals=function(p,n){return Math.abs(p-n)<=d*Math.max(1,Math.abs(p),Math.abs(n))};var d=x.EPSILON=1e-6;x.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,x.RANDOM=Math.random;var y=Math.PI/180},function(C,x,s){"use strict";s.r(x),s.d(x,"create",function(){return y}),s.d(x,"clone",function(){return p}),s.d(x,"fromValues",function(){return n}),s.d(x,"copy",function(){return o}),s.d(x,"set",function(){return u}),s.d(x,"add",function(){return r}),s.d(x,"subtract",function(){return i}),s.d(x,"multiply",function(){return a}),s.d(x,"divide",function(){return c}),s.d(x,"ceil",function(){return h}),s.d(x,"floor",function(){return v}),s.d(x,"min",function(){return f}),s.d(x,"max",function(){return m}),s.d(x,"round",function(){return b}),s.d(x,"scale",function(){return M}),s.d(x,"scaleAndAdd",function(){return O}),s.d(x,"distance",function(){return E}),s.d(x,"squaredDistance",function(){return A}),s.d(x,"length",function(){return j}),s.d(x,"squaredLength",function(){return B}),s.d(x,"negate",function(){return D}),s.d(x,"inverse",function(){return T}),s.d(x,"normalize",function(){return Y}),s.d(x,"dot",function(){return G}),s.d(x,"cross",function(){return U}),s.d(x,"lerp",function(){return H}),s.d(x,"random",function(){return J}),s.d(x,"transformMat2",function(){return ut}),s.d(x,"transformMat2d",function(){return $}),s.d(x,"transformMat3",function(){return K}),s.d(x,"transformMat4",function(){return ot}),s.d(x,"rotate",function(){return at}),s.d(x,"angle",function(){return ht}),s.d(x,"zero",function(){return St}),s.d(x,"str",function(){return pt}),s.d(x,"exactEquals",function(){return xt}),s.d(x,"equals",function(){return vt}),s.d(x,"len",function(){return _t}),s.d(x,"sub",function(){return Bt}),s.d(x,"mul",function(){return At}),s.d(x,"div",function(){return It}),s.d(x,"dist",function(){return lt}),s.d(x,"sqrDist",function(){return X}),s.d(x,"sqrLen",function(){return V}),s.d(x,"forEach",function(){return Z});var d=s(6);function y(){var W=new d.a(2);return d.a!=Float32Array&&(W[0]=0,W[1]=0),W}function p(W){var rt=new d.a(2);return rt[0]=W[0],rt[1]=W[1],rt}function n(W,rt){var tt=new d.a(2);return tt[0]=W,tt[1]=rt,tt}function o(W,rt){return W[0]=rt[0],W[1]=rt[1],W}function u(W,rt,tt){return W[0]=rt,W[1]=tt,W}function r(W,rt,tt){return W[0]=rt[0]+tt[0],W[1]=rt[1]+tt[1],W}function i(W,rt,tt){return W[0]=rt[0]-tt[0],W[1]=rt[1]-tt[1],W}function a(W,rt,tt){return W[0]=rt[0]*tt[0],W[1]=rt[1]*tt[1],W}function c(W,rt,tt){return W[0]=rt[0]/tt[0],W[1]=rt[1]/tt[1],W}function h(W,rt){return W[0]=Math.ceil(rt[0]),W[1]=Math.ceil(rt[1]),W}function v(W,rt){return W[0]=Math.floor(rt[0]),W[1]=Math.floor(rt[1]),W}function f(W,rt,tt){return W[0]=Math.min(rt[0],tt[0]),W[1]=Math.min(rt[1],tt[1]),W}function m(W,rt,tt){return W[0]=Math.max(rt[0],tt[0]),W[1]=Math.max(rt[1],tt[1]),W}function b(W,rt){return W[0]=Math.round(rt[0]),W[1]=Math.round(rt[1]),W}function M(W,rt,tt){return W[0]=rt[0]*tt,W[1]=rt[1]*tt,W}function O(W,rt,tt,Q){return W[0]=rt[0]+tt[0]*Q,W[1]=rt[1]+tt[1]*Q,W}function E(W,rt){var tt=rt[0]-W[0],Q=rt[1]-W[1];return Math.hypot(tt,Q)}function A(W,rt){var tt=rt[0]-W[0],Q=rt[1]-W[1];return tt*tt+Q*Q}function j(W){var rt=W[0],tt=W[1];return Math.hypot(rt,tt)}function B(W){var rt=W[0],tt=W[1];return rt*rt+tt*tt}function D(W,rt){return W[0]=-rt[0],W[1]=-rt[1],W}function T(W,rt){return W[0]=1/rt[0],W[1]=1/rt[1],W}function Y(W,rt){var tt=rt[0],Q=rt[1],ft=tt*tt+Q*Q;return ft>0&&(ft=1/Math.sqrt(ft)),W[0]=rt[0]*ft,W[1]=rt[1]*ft,W}function G(W,rt){return W[0]*rt[0]+W[1]*rt[1]}function U(W,rt,tt){var Q=rt[0]*tt[1]-rt[1]*tt[0];return W[0]=W[1]=0,W[2]=Q,W}function H(W,rt,tt,Q){var ft=rt[0],Et=rt[1];return W[0]=ft+Q*(tt[0]-ft),W[1]=Et+Q*(tt[1]-Et),W}function J(W,rt){rt=rt||1;var tt=2*d.c()*Math.PI;return W[0]=Math.cos(tt)*rt,W[1]=Math.sin(tt)*rt,W}function ut(W,rt,tt){var Q=rt[0],ft=rt[1];return W[0]=tt[0]*Q+tt[2]*ft,W[1]=tt[1]*Q+tt[3]*ft,W}function $(W,rt,tt){var Q=rt[0],ft=rt[1];return W[0]=tt[0]*Q+tt[2]*ft+tt[4],W[1]=tt[1]*Q+tt[3]*ft+tt[5],W}function K(W,rt,tt){var Q=rt[0],ft=rt[1];return W[0]=tt[0]*Q+tt[3]*ft+tt[6],W[1]=tt[1]*Q+tt[4]*ft+tt[7],W}function ot(W,rt,tt){var Q=rt[0],ft=rt[1];return W[0]=tt[0]*Q+tt[4]*ft+tt[12],W[1]=tt[1]*Q+tt[5]*ft+tt[13],W}function at(W,rt,tt,Q){var ft=rt[0]-tt[0],Et=rt[1]-tt[1],Ct=Math.sin(Q),Nt=Math.cos(Q);return W[0]=ft*Nt-Et*Ct+tt[0],W[1]=ft*Ct+Et*Nt+tt[1],W}function ht(W,rt){var tt=W[0],Q=W[1],ft=rt[0],Et=rt[1],Ct=Math.sqrt(tt*tt+Q*Q)*Math.sqrt(ft*ft+Et*Et),Nt=Ct&&(tt*ft+Q*Et)/Ct;return Math.acos(Math.min(Math.max(Nt,-1),1))}function St(W){return W[0]=0,W[1]=0,W}function pt(W){return"vec2("+W[0]+", "+W[1]+")"}function xt(W,rt){return W[0]===rt[0]&&W[1]===rt[1]}function vt(W,rt){var tt=W[0],Q=W[1],ft=rt[0],Et=rt[1];return Math.abs(tt-ft)<=d.b*Math.max(1,Math.abs(tt),Math.abs(ft))&&Math.abs(Q-Et)<=d.b*Math.max(1,Math.abs(Q),Math.abs(Et))}var gt,_t=j,Bt=i,At=a,It=c,lt=E,X=A,V=B,Z=(gt=y(),function(W,rt,tt,Q,ft,Et){var Ct,Nt;for(rt||(rt=2),tt||(tt=0),Nt=Q?Math.min(Q*rt+tt,W.length):W.length,Ct=tt;Ct<Nt;Ct+=rt)gt[0]=W[Ct],gt[1]=W[Ct+1],ft(gt,gt,Et),W[Ct]=gt[0],W[Ct+1]=gt[1];return W})},function(C,x,s){"use strict";s.r(x),s.d(x,"create",function(){return y}),s.d(x,"clone",function(){return p}),s.d(x,"length",function(){return n}),s.d(x,"fromValues",function(){return o}),s.d(x,"copy",function(){return u}),s.d(x,"set",function(){return r}),s.d(x,"add",function(){return i}),s.d(x,"subtract",function(){return a}),s.d(x,"multiply",function(){return c}),s.d(x,"divide",function(){return h}),s.d(x,"ceil",function(){return v}),s.d(x,"floor",function(){return f}),s.d(x,"min",function(){return m}),s.d(x,"max",function(){return b}),s.d(x,"round",function(){return M}),s.d(x,"scale",function(){return O}),s.d(x,"scaleAndAdd",function(){return E}),s.d(x,"distance",function(){return A}),s.d(x,"squaredDistance",function(){return j}),s.d(x,"squaredLength",function(){return B}),s.d(x,"negate",function(){return D}),s.d(x,"inverse",function(){return T}),s.d(x,"normalize",function(){return Y}),s.d(x,"dot",function(){return G}),s.d(x,"cross",function(){return U}),s.d(x,"lerp",function(){return H}),s.d(x,"hermite",function(){return J}),s.d(x,"bezier",function(){return ut}),s.d(x,"random",function(){return $}),s.d(x,"transformMat4",function(){return K}),s.d(x,"transformMat3",function(){return ot}),s.d(x,"transformQuat",function(){return at}),s.d(x,"rotateX",function(){return ht}),s.d(x,"rotateY",function(){return St}),s.d(x,"rotateZ",function(){return pt}),s.d(x,"angle",function(){return xt}),s.d(x,"zero",function(){return vt}),s.d(x,"str",function(){return gt}),s.d(x,"exactEquals",function(){return _t}),s.d(x,"equals",function(){return Bt}),s.d(x,"sub",function(){return It}),s.d(x,"mul",function(){return lt}),s.d(x,"div",function(){return X}),s.d(x,"dist",function(){return V}),s.d(x,"sqrDist",function(){return Z}),s.d(x,"len",function(){return W}),s.d(x,"sqrLen",function(){return rt}),s.d(x,"forEach",function(){return tt});var d=s(6);function y(){var Q=new d.a(3);return d.a!=Float32Array&&(Q[0]=0,Q[1]=0,Q[2]=0),Q}function p(Q){var ft=new d.a(3);return ft[0]=Q[0],ft[1]=Q[1],ft[2]=Q[2],ft}function n(Q){var ft=Q[0],Et=Q[1],Ct=Q[2];return Math.hypot(ft,Et,Ct)}function o(Q,ft,Et){var Ct=new d.a(3);return Ct[0]=Q,Ct[1]=ft,Ct[2]=Et,Ct}function u(Q,ft){return Q[0]=ft[0],Q[1]=ft[1],Q[2]=ft[2],Q}function r(Q,ft,Et,Ct){return Q[0]=ft,Q[1]=Et,Q[2]=Ct,Q}function i(Q,ft,Et){return Q[0]=ft[0]+Et[0],Q[1]=ft[1]+Et[1],Q[2]=ft[2]+Et[2],Q}function a(Q,ft,Et){return Q[0]=ft[0]-Et[0],Q[1]=ft[1]-Et[1],Q[2]=ft[2]-Et[2],Q}function c(Q,ft,Et){return Q[0]=ft[0]*Et[0],Q[1]=ft[1]*Et[1],Q[2]=ft[2]*Et[2],Q}function h(Q,ft,Et){return Q[0]=ft[0]/Et[0],Q[1]=ft[1]/Et[1],Q[2]=ft[2]/Et[2],Q}function v(Q,ft){return Q[0]=Math.ceil(ft[0]),Q[1]=Math.ceil(ft[1]),Q[2]=Math.ceil(ft[2]),Q}function f(Q,ft){return Q[0]=Math.floor(ft[0]),Q[1]=Math.floor(ft[1]),Q[2]=Math.floor(ft[2]),Q}function m(Q,ft,Et){return Q[0]=Math.min(ft[0],Et[0]),Q[1]=Math.min(ft[1],Et[1]),Q[2]=Math.min(ft[2],Et[2]),Q}function b(Q,ft,Et){return Q[0]=Math.max(ft[0],Et[0]),Q[1]=Math.max(ft[1],Et[1]),Q[2]=Math.max(ft[2],Et[2]),Q}function M(Q,ft){return Q[0]=Math.round(ft[0]),Q[1]=Math.round(ft[1]),Q[2]=Math.round(ft[2]),Q}function O(Q,ft,Et){return Q[0]=ft[0]*Et,Q[1]=ft[1]*Et,Q[2]=ft[2]*Et,Q}function E(Q,ft,Et,Ct){return Q[0]=ft[0]+Et[0]*Ct,Q[1]=ft[1]+Et[1]*Ct,Q[2]=ft[2]+Et[2]*Ct,Q}function A(Q,ft){var Et=ft[0]-Q[0],Ct=ft[1]-Q[1],Nt=ft[2]-Q[2];return Math.hypot(Et,Ct,Nt)}function j(Q,ft){var Et=ft[0]-Q[0],Ct=ft[1]-Q[1],Nt=ft[2]-Q[2];return Et*Et+Ct*Ct+Nt*Nt}function B(Q){var ft=Q[0],Et=Q[1],Ct=Q[2];return ft*ft+Et*Et+Ct*Ct}function D(Q,ft){return Q[0]=-ft[0],Q[1]=-ft[1],Q[2]=-ft[2],Q}function T(Q,ft){return Q[0]=1/ft[0],Q[1]=1/ft[1],Q[2]=1/ft[2],Q}function Y(Q,ft){var Et=ft[0],Ct=ft[1],Nt=ft[2],Ft=Et*Et+Ct*Ct+Nt*Nt;return Ft>0&&(Ft=1/Math.sqrt(Ft)),Q[0]=ft[0]*Ft,Q[1]=ft[1]*Ft,Q[2]=ft[2]*Ft,Q}function G(Q,ft){return Q[0]*ft[0]+Q[1]*ft[1]+Q[2]*ft[2]}function U(Q,ft,Et){var Ct=ft[0],Nt=ft[1],Ft=ft[2],Rt=Et[0],kt=Et[1],Pt=Et[2];return Q[0]=Nt*Pt-Ft*kt,Q[1]=Ft*Rt-Ct*Pt,Q[2]=Ct*kt-Nt*Rt,Q}function H(Q,ft,Et,Ct){var Nt=ft[0],Ft=ft[1],Rt=ft[2];return Q[0]=Nt+Ct*(Et[0]-Nt),Q[1]=Ft+Ct*(Et[1]-Ft),Q[2]=Rt+Ct*(Et[2]-Rt),Q}function J(Q,ft,Et,Ct,Nt,Ft){var Rt=Ft*Ft,kt=Rt*(2*Ft-3)+1,Pt=Rt*(Ft-2)+Ft,Xt=Rt*(Ft-1),Ut=Rt*(3-2*Ft);return Q[0]=ft[0]*kt+Et[0]*Pt+Ct[0]*Xt+Nt[0]*Ut,Q[1]=ft[1]*kt+Et[1]*Pt+Ct[1]*Xt+Nt[1]*Ut,Q[2]=ft[2]*kt+Et[2]*Pt+Ct[2]*Xt+Nt[2]*Ut,Q}function ut(Q,ft,Et,Ct,Nt,Ft){var Rt=1-Ft,kt=Rt*Rt,Pt=Ft*Ft,Xt=kt*Rt,Ut=3*Ft*kt,ct=3*Pt*Rt,re=Pt*Ft;return Q[0]=ft[0]*Xt+Et[0]*Ut+Ct[0]*ct+Nt[0]*re,Q[1]=ft[1]*Xt+Et[1]*Ut+Ct[1]*ct+Nt[1]*re,Q[2]=ft[2]*Xt+Et[2]*Ut+Ct[2]*ct+Nt[2]*re,Q}function $(Q,ft){ft=ft||1;var Et=2*d.c()*Math.PI,Ct=2*d.c()-1,Nt=Math.sqrt(1-Ct*Ct)*ft;return Q[0]=Math.cos(Et)*Nt,Q[1]=Math.sin(Et)*Nt,Q[2]=Ct*ft,Q}function K(Q,ft,Et){var Ct=ft[0],Nt=ft[1],Ft=ft[2],Rt=Et[3]*Ct+Et[7]*Nt+Et[11]*Ft+Et[15];return Rt=Rt||1,Q[0]=(Et[0]*Ct+Et[4]*Nt+Et[8]*Ft+Et[12])/Rt,Q[1]=(Et[1]*Ct+Et[5]*Nt+Et[9]*Ft+Et[13])/Rt,Q[2]=(Et[2]*Ct+Et[6]*Nt+Et[10]*Ft+Et[14])/Rt,Q}function ot(Q,ft,Et){var Ct=ft[0],Nt=ft[1],Ft=ft[2];return Q[0]=Ct*Et[0]+Nt*Et[3]+Ft*Et[6],Q[1]=Ct*Et[1]+Nt*Et[4]+Ft*Et[7],Q[2]=Ct*Et[2]+Nt*Et[5]+Ft*Et[8],Q}function at(Q,ft,Et){var Ct=Et[0],Nt=Et[1],Ft=Et[2],Rt=Et[3],kt=ft[0],Pt=ft[1],Xt=ft[2],Ut=Nt*Xt-Ft*Pt,ct=Ft*kt-Ct*Xt,re=Ct*Pt-Nt*kt,ve=Nt*re-Ft*ct,pe=Ft*Ut-Ct*re,Me=Ct*ct-Nt*Ut,ge=2*Rt;return Ut*=ge,ct*=ge,re*=ge,ve*=2,pe*=2,Me*=2,Q[0]=kt+Ut+ve,Q[1]=Pt+ct+pe,Q[2]=Xt+re+Me,Q}function ht(Q,ft,Et,Ct){var Nt=[],Ft=[];return Nt[0]=ft[0]-Et[0],Nt[1]=ft[1]-Et[1],Nt[2]=ft[2]-Et[2],Ft[0]=Nt[0],Ft[1]=Nt[1]*Math.cos(Ct)-Nt[2]*Math.sin(Ct),Ft[2]=Nt[1]*Math.sin(Ct)+Nt[2]*Math.cos(Ct),Q[0]=Ft[0]+Et[0],Q[1]=Ft[1]+Et[1],Q[2]=Ft[2]+Et[2],Q}function St(Q,ft,Et,Ct){var Nt=[],Ft=[];return Nt[0]=ft[0]-Et[0],Nt[1]=ft[1]-Et[1],Nt[2]=ft[2]-Et[2],Ft[0]=Nt[2]*Math.sin(Ct)+Nt[0]*Math.cos(Ct),Ft[1]=Nt[1],Ft[2]=Nt[2]*Math.cos(Ct)-Nt[0]*Math.sin(Ct),Q[0]=Ft[0]+Et[0],Q[1]=Ft[1]+Et[1],Q[2]=Ft[2]+Et[2],Q}function pt(Q,ft,Et,Ct){var Nt=[],Ft=[];return Nt[0]=ft[0]-Et[0],Nt[1]=ft[1]-Et[1],Nt[2]=ft[2]-Et[2],Ft[0]=Nt[0]*Math.cos(Ct)-Nt[1]*Math.sin(Ct),Ft[1]=Nt[0]*Math.sin(Ct)+Nt[1]*Math.cos(Ct),Ft[2]=Nt[2],Q[0]=Ft[0]+Et[0],Q[1]=Ft[1]+Et[1],Q[2]=Ft[2]+Et[2],Q}function xt(Q,ft){var Et=Q[0],Ct=Q[1],Nt=Q[2],Ft=ft[0],Rt=ft[1],kt=ft[2],Pt=Math.sqrt(Et*Et+Ct*Ct+Nt*Nt)*Math.sqrt(Ft*Ft+Rt*Rt+kt*kt),Xt=Pt&&G(Q,ft)/Pt;return Math.acos(Math.min(Math.max(Xt,-1),1))}function vt(Q){return Q[0]=0,Q[1]=0,Q[2]=0,Q}function gt(Q){return"vec3("+Q[0]+", "+Q[1]+", "+Q[2]+")"}function _t(Q,ft){return Q[0]===ft[0]&&Q[1]===ft[1]&&Q[2]===ft[2]}function Bt(Q,ft){var Et=Q[0],Ct=Q[1],Nt=Q[2],Ft=ft[0],Rt=ft[1],kt=ft[2];return Math.abs(Et-Ft)<=d.b*Math.max(1,Math.abs(Et),Math.abs(Ft))&&Math.abs(Ct-Rt)<=d.b*Math.max(1,Math.abs(Ct),Math.abs(Rt))&&Math.abs(Nt-kt)<=d.b*Math.max(1,Math.abs(Nt),Math.abs(kt))}var At,It=a,lt=c,X=h,V=A,Z=j,W=n,rt=B,tt=(At=y(),function(Q,ft,Et,Ct,Nt,Ft){var Rt,kt;for(ft||(ft=3),Et||(Et=0),kt=Ct?Math.min(Ct*ft+Et,Q.length):Q.length,Rt=Et;Rt<kt;Rt+=ft)At[0]=Q[Rt],At[1]=Q[Rt+1],At[2]=Q[Rt+2],Nt(At,At,Ft),Q[Rt]=At[0],Q[Rt+1]=At[1],Q[Rt+2]=At[2];return Q})},function(C,x,s){"use strict";function d(y,p){return y&&p?{minX:Math.min(y.minX,p.minX),minY:Math.min(y.minY,p.minY),maxX:Math.max(y.maxX,p.maxX),maxY:Math.max(y.maxY,p.maxY)}:y||p}Object.defineProperty(x,"__esModule",{value:!0}),x.mergeArrowBBox=x.mergeBBox=void 0,x.mergeBBox=d,x.mergeArrowBBox=function(y,p){var n=y.get("startArrowShape"),o=y.get("endArrowShape");return n&&(p=d(p,n.getCanvasBBox())),o&&(p=d(p,o.getCanvasBBox())),p}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33),y=s(40),p=s(161);function n(i,a,c,h,v){var f=1-v;return f*f*f*i+3*a*v*f*f+3*c*v*v*f+h*v*v*v}function o(i,a,c,h,v){var f=1-v;return 3*(f*f*(a-i)+2*f*v*(c-a)+v*v*(h-c))}function u(i,a,c,h){var v,f,m,b=-3*i+9*a-9*c+3*h,M=6*i-12*a+6*c,O=3*a-3*i,E=[];if(d.isNumberEqual(b,0))d.isNumberEqual(M,0)||(v=-O/M)>=0&&v<=1&&E.push(v);else{var A=M*M-4*b*O;d.isNumberEqual(A,0)?E.push(-M/(2*b)):A>0&&(f=(-M-(m=Math.sqrt(A)))/(2*b),(v=(-M+m)/(2*b))>=0&&v<=1&&E.push(v),f>=0&&f<=1&&E.push(f))}return E}function r(i,a,c,h,v,f,m,b,M){var O=n(i,c,v,m,M),E=n(a,h,f,b,M),A=y.default.pointAt(i,a,c,h,M),j=y.default.pointAt(c,h,v,f,M),B=y.default.pointAt(v,f,m,b,M),D=y.default.pointAt(A.x,A.y,j.x,j.y,M),T=y.default.pointAt(j.x,j.y,B.x,B.y,M);return[[i,a,A.x,A.y,D.x,D.y,O,E],[O,E,T.x,T.y,B.x,B.y,m,b]]}x.default={extrema:u,box:function(a,c,h,v,f,m,b,M){for(var O=[a,b],E=[c,M],A=u(a,h,f,b),j=u(c,v,m,M),B=0;B<A.length;B++)O.push(n(a,h,f,b,A[B]));for(B=0;B<j.length;B++)E.push(n(c,v,m,M,j[B]));return d.getBBoxByArray(O,E)},length:function(a,c,h,v,f,m,b,M){return function O(E,A,j,B,D,T,Y,G,U){if(U===0)return p.snapLength([E,j,D,Y],[A,B,T,G]);var H=r(E,A,j,B,D,T,Y,G,.5),J=H[0],ut=H[1];return J.push(U-1),ut.push(U-1),O.apply(null,J)+O.apply(null,ut)}(a,c,h,v,f,m,b,M,3)},nearestPoint:function(a,c,h,v,f,m,b,M,O,E,A){return p.nearestPoint([a,h,f,b],[c,v,m,M],O,E,n,A)},pointDistance:function(a,c,h,v,f,m,b,M,O,E,A){var j=this.nearestPoint(a,c,h,v,f,m,b,M,O,E,A);return d.distance(j.x,j.y,O,E)},interpolationAt:n,pointAt:function(a,c,h,v,f,m,b,M,O){return{x:n(a,h,f,b,O),y:n(c,v,m,M,O)}},divide:function(a,c,h,v,f,m,b,M,O){return r(a,c,h,v,f,m,b,M,O)},tangentAngle:function(a,c,h,v,f,m,b,M,O){var E=o(a,h,f,b,O),A=o(c,v,m,M,O);return d.piMod(Math.atan2(A,E))}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.refreshElement=x.drawChildren=void 0;var d=s(61),y=s(29);x.drawChildren=function(p,n){n.forEach(function(o){o.draw(p)})},x.refreshElement=function(p,n){var o=p.get("canvas");if(o&&o.get("autoDraw")){var u=o.get("context"),r=p.getParent(),i=r?r.getChildren():[o],a=p.get("el");if(n==="remove")if(p.get("isClipShape")){var c=a&&a.parentNode,h=c&&c.parentNode;c&&h&&h.removeChild(c)}else a&&a.parentNode&&a.parentNode.removeChild(a);else if(n==="show")a.setAttribute("visibility","visible");else if(n==="hide")a.setAttribute("visibility","hidden");else if(n==="zIndex")y.moveTo(a,i.indexOf(p));else if(n==="sort"){var v=p.get("children");v&&v.length&&y.sortDom(p,function(f,m){return v.indexOf(f)-v.indexOf(m)?1:0})}else n==="clear"?a&&(a.innerHTML=""):n==="matrix"?d.setTransform(p):n==="clip"?d.setClip(p,u):n==="attr"||n==="add"&&p.draw(u)}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(23);Object.defineProperty(x,"Base",{enumerable:!0,get:function(){return d.default}});var y=s(349);Object.defineProperty(x,"Circle",{enumerable:!0,get:function(){return y.default}});var p=s(350);Object.defineProperty(x,"Dom",{enumerable:!0,get:function(){return p.default}});var n=s(351);Object.defineProperty(x,"Ellipse",{enumerable:!0,get:function(){return n.default}});var o=s(352);Object.defineProperty(x,"Image",{enumerable:!0,get:function(){return o.default}});var u=s(353);Object.defineProperty(x,"Line",{enumerable:!0,get:function(){return u.default}});var r=s(354);Object.defineProperty(x,"Marker",{enumerable:!0,get:function(){return r.default}});var i=s(356);Object.defineProperty(x,"Path",{enumerable:!0,get:function(){return i.default}});var a=s(357);Object.defineProperty(x,"Polygon",{enumerable:!0,get:function(){return a.default}});var c=s(358);Object.defineProperty(x,"Polyline",{enumerable:!0,get:function(){return c.default}});var h=s(359);Object.defineProperty(x,"Rect",{enumerable:!0,get:function(){return h.default}});var v=s(361);Object.defineProperty(x,"Text",{enumerable:!0,get:function(){return v.default}})},function(C,x,s){"use strict";function d(a){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}var y=s(24);C.exports=p;function p(a){this._isDirected=!y.has(a,"directed")||a.directed,this._isMultigraph=!!y.has(a,"multigraph")&&a.multigraph,this._isCompound=!!y.has(a,"compound")&&a.compound,this._label=void 0,this._defaultNodeLabelFn=y.constant(void 0),this._defaultEdgeLabelFn=y.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function n(a,c){a[c]?a[c]++:a[c]=1}function o(a,c){--a[c]||delete a[c]}function u(a,c,h,v){var f=""+c,m=""+h;if(!a&&f>m){var b=f;f=m,m=b}return f+""+m+""+(y.isUndefined(v)?"\0":v)}function r(a,c,h,v){var f=""+c,m=""+h;if(!a&&f>m){var b=f;f=m,m=b}var M={v:f,w:m};return v&&(M.name=v),M}function i(a,c){return u(a,c.v,c.w,c.name)}p.prototype._nodeCount=0,p.prototype._edgeCount=0,p.prototype.isDirected=function(){return this._isDirected},p.prototype.isMultigraph=function(){return this._isMultigraph},p.prototype.isCompound=function(){return this._isCompound},p.prototype.setGraph=function(a){return this._label=a,this},p.prototype.graph=function(){return this._label},p.prototype.setDefaultNodeLabel=function(a){return y.isFunction(a)||(a=y.constant(a)),this._defaultNodeLabelFn=a,this},p.prototype.nodeCount=function(){return this._nodeCount},p.prototype.nodes=function(){return y.keys(this._nodes)},p.prototype.sources=function(){var a=this;return y.filter(this.nodes(),function(c){return y.isEmpty(a._in[c])})},p.prototype.sinks=function(){var a=this;return y.filter(this.nodes(),function(c){return y.isEmpty(a._out[c])})},p.prototype.setNodes=function(a,c){var h=arguments,v=this;return y.each(a,function(f){h.length>1?v.setNode(f,c):v.setNode(f)}),this},p.prototype.setNode=function(a,c){return y.has(this._nodes,a)?(arguments.length>1&&(this._nodes[a]=c),this):(this._nodes[a]=arguments.length>1?c:this._defaultNodeLabelFn(a),this._isCompound&&(this._parent[a]="\0",this._children[a]={},this._children["\0"][a]=!0),this._in[a]={},this._preds[a]={},this._out[a]={},this._sucs[a]={},++this._nodeCount,this)},p.prototype.node=function(a){return this._nodes[a]},p.prototype.hasNode=function(a){return y.has(this._nodes,a)},p.prototype.removeNode=function(a){var c=this;if(y.has(this._nodes,a)){var h=function(f){c.removeEdge(c._edgeObjs[f])};delete this._nodes[a],this._isCompound&&(this._removeFromParentsChildList(a),delete this._parent[a],y.each(this.children(a),function(v){c.setParent(v)}),delete this._children[a]),y.each(y.keys(this._in[a]),h),delete this._in[a],delete this._preds[a],y.each(y.keys(this._out[a]),h),delete this._out[a],delete this._sucs[a],--this._nodeCount}return this},p.prototype.setParent=function(a,c){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(y.isUndefined(c))c="\0";else{for(var h=c+="";!y.isUndefined(h);h=this.parent(h))if(h===a)throw new Error("Setting "+c+" as parent of "+a+" would create a cycle");this.setNode(c)}return this.setNode(a),this._removeFromParentsChildList(a),this._parent[a]=c,this._children[c][a]=!0,this},p.prototype._removeFromParentsChildList=function(a){delete this._children[this._parent[a]][a]},p.prototype.parent=function(a){if(this._isCompound){var c=this._parent[a];if(c!=="\0")return c}},p.prototype.children=function(a){if(y.isUndefined(a)&&(a="\0"),this._isCompound){var c=this._children[a];if(c)return y.keys(c)}else{if(a==="\0")return this.nodes();if(this.hasNode(a))return[]}},p.prototype.predecessors=function(a){var c=this._preds[a];if(c)return y.keys(c)},p.prototype.successors=function(a){var c=this._sucs[a];if(c)return y.keys(c)},p.prototype.neighbors=function(a){var c=this.predecessors(a);if(c)return y.union(c,this.successors(a))},p.prototype.isLeaf=function(a){return(this.isDirected()?this.successors(a):this.neighbors(a)).length===0},p.prototype.filterNodes=function(a){var c=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});c.setGraph(this.graph());var h=this;y.each(this._nodes,function(f,m){a(m)&&c.setNode(m,f)}),y.each(this._edgeObjs,function(f){c.hasNode(f.v)&&c.hasNode(f.w)&&c.setEdge(f,h.edge(f))});var v={};return this._isCompound&&y.each(c.nodes(),function(f){c.setParent(f,function m(b){var M=h.parent(b);return M===void 0||c.hasNode(M)?(v[b]=M,M):M in v?v[M]:m(M)}(f))}),c},p.prototype.setDefaultEdgeLabel=function(a){return y.isFunction(a)||(a=y.constant(a)),this._defaultEdgeLabelFn=a,this},p.prototype.edgeCount=function(){return this._edgeCount},p.prototype.edges=function(){return y.values(this._edgeObjs)},p.prototype.setPath=function(a,c){var h=this,v=arguments;return y.reduce(a,function(f,m){return v.length>1?h.setEdge(f,m,c):h.setEdge(f,m),m}),this},p.prototype.setEdge=function(){var a,c,h,v,f=!1,m=arguments[0];d(m)==="object"&&m!==null&&"v"in m?(a=m.v,c=m.w,h=m.name,arguments.length===2&&(v=arguments[1],f=!0)):(a=m,c=arguments[1],h=arguments[3],arguments.length>2&&(v=arguments[2],f=!0)),a=""+a,c=""+c,y.isUndefined(h)||(h=""+h);var b=u(this._isDirected,a,c,h);if(y.has(this._edgeLabels,b))return f&&(this._edgeLabels[b]=v),this;if(!y.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(c),this._edgeLabels[b]=f?v:this._defaultEdgeLabelFn(a,c,h);var M=r(this._isDirected,a,c,h);return a=M.v,c=M.w,Object.freeze(M),this._edgeObjs[b]=M,n(this._preds[c],a),n(this._sucs[a],c),this._in[c][b]=M,this._out[a][b]=M,this._edgeCount++,this},p.prototype.edge=function(a,c,h){var v=arguments.length===1?i(this._isDirected,arguments[0]):u(this._isDirected,a,c,h);return this._edgeLabels[v]},p.prototype.hasEdge=function(a,c,h){var v=arguments.length===1?i(this._isDirected,arguments[0]):u(this._isDirected,a,c,h);return y.has(this._edgeLabels,v)},p.prototype.removeEdge=function(a,c,h){var v=arguments.length===1?i(this._isDirected,arguments[0]):u(this._isDirected,a,c,h),f=this._edgeObjs[v];return f&&(a=f.v,c=f.w,delete this._edgeLabels[v],delete this._edgeObjs[v],o(this._preds[c],a),o(this._sucs[a],c),delete this._in[c][v],delete this._out[a][v],this._edgeCount--),this},p.prototype.inEdges=function(a,c){var h=this._in[a];if(h){var v=y.values(h);return c?y.filter(v,function(f){return f.v===c}):v}},p.prototype.outEdges=function(a,c){var h=this._out[a];if(h){var v=y.values(h);return c?y.filter(v,function(f){return f.w===c}):v}},p.prototype.nodeEdges=function(a,c){var h=this.inEdges(a,c);if(h)return h.concat(this.outEdges(a,c))}},function(C,x,s){var d=s(44)(s(31),"Map");C.exports=d},function(C,x,s){var d=s(391),y=s(398),p=s(400),n=s(401),o=s(402);function u(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var c=r[i];this.set(c[0],c[1])}}u.prototype.clear=d,u.prototype.delete=y,u.prototype.get=p,u.prototype.has=n,u.prototype.set=o,C.exports=u},function(C,x){C.exports=function(s,d){for(var y=-1,p=s==null?0:s.length;++y<p&&d(s[y],y,s)!==!1;);return s}},function(C,x){C.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(C,x){C.exports=function(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=9007199254740991}},function(C,x,s){(function(d){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}var p=s(174),n=y(x)=="object"&&x&&!x.nodeType&&x,o=n&&y(d)=="object"&&d&&!d.nodeType&&d,u=o&&o.exports===n&&p.process,r=function(){try{var i=o&&o.require&&o.require("util").types;return i||u&&u.binding&&u.binding("util")}catch(a){}}();d.exports=r}).call(this,s(115)(C))},function(C,x,s){var d=s(85),y=s(408),p=Object.prototype.hasOwnProperty;C.exports=function(n){if(!d(n))return y(n);var o=[];for(var u in Object(n))p.call(n,u)&&u!="constructor"&&o.push(u);return o}},function(C,x,s){var d=s(181),y=s(182),p=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols,o=n?function(u){return u==null?[]:(u=Object(u),d(n(u),function(r){return p.call(u,r)}))}:y;C.exports=o},function(C,x){C.exports=function(s,d){for(var y=-1,p=d.length,n=s.length;++y<p;)s[n+y]=d[y];return s}},function(C,x,s){var d=s(187);C.exports=function(y){var p=new y.constructor(y.byteLength);return new d(p).set(new d(y)),p}},function(C,x){C.exports=function(s){return function(){return s}}},function(C,x,s){var d=s(124),y=s(41);C.exports=function(p,n){return p&&d(p,n,y)}},function(C,x,s){var d=s(427)();C.exports=d},function(C,x){C.exports=function(s){var d=-1,y=Array(s.size);return s.forEach(function(p){y[++d]=p}),y}},function(C,x,s){function d(u){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(u)}var y=s(15),p=s(55),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;C.exports=function(u,r){if(y(u))return!1;var i=d(u);return!(i!="number"&&i!="symbol"&&i!="boolean"&&u!=null&&!p(u))||o.test(u)||!n.test(u)||r!=null&&u in Object(r)}},function(C,x,s){var d=s(120),y=s(461);C.exports=function p(n,o,u,r,i){var a=-1,c=n.length;for(u||(u=y),i||(i=[]);++a<c;){var h=n[a];o>0&&u(h)?o>1?p(h,o-1,u,r,i):d(i,h):r||(i[i.length]=h)}return i}},function(C,x,s){var d=s(55);C.exports=function(y,p,n){for(var o=-1,u=y.length;++o<u;){var r=y[o],i=p(r);if(i!=null&&(a===void 0?i==i&&!d(i):n(i,a)))var a=i,c=r}return c}},function(C,x,s){var d=s(227),y=["LR","RL","TB","BT","H","V"],p=["LR","RL","H"],n=y[0];C.exports=function(o,u,r){var i=u.direction||n;if(u.isHorizontal=function(m){return p.indexOf(m)>-1}(i),i&&y.indexOf(i)===-1)throw new TypeError("Invalid direction: "+i);if(i===y[0])r(o,u);else if(i===y[1])r(o,u),o.right2left();else if(i===y[2])r(o,u);else if(i===y[3])r(o,u),o.bottom2top();else if(i===y[4]||i===y[5]){var a=d(o,u),c=a.left,h=a.right;r(c,u),r(h,u),u.isHorizontal?c.right2left():c.bottom2top(),h.translate(c.x-h.x,c.y-h.y),o.x=c.x,o.y=h.y;var v=o.getBoundingBox();u.isHorizontal?v.top<0&&o.translate(0,-v.top):v.left<0&&o.translate(-v.left,0)}var f=u.fixedRoot;return f===void 0&&(f=!0),f&&o.translate(-(o.x+o.width/2+o.hgap),-(o.y+o.height/2+o.vgap)),o}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(3);x.default=function(y,p,n){for(var o=0,u=d.default(p)?p.split("."):p;y&&o<u.length;)y=y[u[o++]];return y===void 0||o<u.length?n:y}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.forEach=x.sqrLen=x.len=x.sqrDist=x.dist=x.div=x.mul=x.sub=void 0,x.create=y,x.clone=function(m){var b=new d.ARRAY_TYPE(3);return b[0]=m[0],b[1]=m[1],b[2]=m[2],b},x.length=p,x.fromValues=n,x.copy=function(m,b){return m[0]=b[0],m[1]=b[1],m[2]=b[2],m},x.set=function(m,b,M,O){return m[0]=b,m[1]=M,m[2]=O,m},x.add=function(m,b,M){return m[0]=b[0]+M[0],m[1]=b[1]+M[1],m[2]=b[2]+M[2],m},x.subtract=o,x.multiply=u,x.divide=r,x.ceil=function(m,b){return m[0]=Math.ceil(b[0]),m[1]=Math.ceil(b[1]),m[2]=Math.ceil(b[2]),m},x.floor=function(m,b){return m[0]=Math.floor(b[0]),m[1]=Math.floor(b[1]),m[2]=Math.floor(b[2]),m},x.min=function(m,b,M){return m[0]=Math.min(b[0],M[0]),m[1]=Math.min(b[1],M[1]),m[2]=Math.min(b[2],M[2]),m},x.max=function(m,b,M){return m[0]=Math.max(b[0],M[0]),m[1]=Math.max(b[1],M[1]),m[2]=Math.max(b[2],M[2]),m},x.round=function(m,b){return m[0]=Math.round(b[0]),m[1]=Math.round(b[1]),m[2]=Math.round(b[2]),m},x.scale=function(m,b,M){return m[0]=b[0]*M,m[1]=b[1]*M,m[2]=b[2]*M,m},x.scaleAndAdd=function(m,b,M,O){return m[0]=b[0]+M[0]*O,m[1]=b[1]+M[1]*O,m[2]=b[2]+M[2]*O,m},x.distance=i,x.squaredDistance=a,x.squaredLength=c,x.negate=function(m,b){return m[0]=-b[0],m[1]=-b[1],m[2]=-b[2],m},x.inverse=function(m,b){return m[0]=1/b[0],m[1]=1/b[1],m[2]=1/b[2],m},x.normalize=h,x.dot=v,x.cross=function(m,b,M){var O=b[0],E=b[1],A=b[2],j=M[0],B=M[1],D=M[2];return m[0]=E*D-A*B,m[1]=A*j-O*D,m[2]=O*B-E*j,m},x.lerp=function(m,b,M,O){var E=b[0],A=b[1],j=b[2];return m[0]=E+O*(M[0]-E),m[1]=A+O*(M[1]-A),m[2]=j+O*(M[2]-j),m},x.hermite=function(m,b,M,O,E,A){var j=A*A,B=j*(2*A-3)+1,D=j*(A-2)+A,T=j*(A-1),Y=j*(3-2*A);return m[0]=b[0]*B+M[0]*D+O[0]*T+E[0]*Y,m[1]=b[1]*B+M[1]*D+O[1]*T+E[1]*Y,m[2]=b[2]*B+M[2]*D+O[2]*T+E[2]*Y,m},x.bezier=function(m,b,M,O,E,A){var j=1-A,B=j*j,D=A*A,T=B*j,Y=3*A*B,G=3*D*j,U=D*A;return m[0]=b[0]*T+M[0]*Y+O[0]*G+E[0]*U,m[1]=b[1]*T+M[1]*Y+O[1]*G+E[1]*U,m[2]=b[2]*T+M[2]*Y+O[2]*G+E[2]*U,m},x.random=function(m,b){b=b||1;var M=2*d.RANDOM()*Math.PI,O=2*d.RANDOM()-1,E=Math.sqrt(1-O*O)*b;return m[0]=Math.cos(M)*E,m[1]=Math.sin(M)*E,m[2]=O*b,m},x.transformMat4=function(m,b,M){var O=b[0],E=b[1],A=b[2],j=M[3]*O+M[7]*E+M[11]*A+M[15];return j=j||1,m[0]=(M[0]*O+M[4]*E+M[8]*A+M[12])/j,m[1]=(M[1]*O+M[5]*E+M[9]*A+M[13])/j,m[2]=(M[2]*O+M[6]*E+M[10]*A+M[14])/j,m},x.transformMat3=function(m,b,M){var O=b[0],E=b[1],A=b[2];return m[0]=O*M[0]+E*M[3]+A*M[6],m[1]=O*M[1]+E*M[4]+A*M[7],m[2]=O*M[2]+E*M[5]+A*M[8],m},x.transformQuat=function(m,b,M){var O=M[0],E=M[1],A=M[2],j=M[3],B=b[0],D=b[1],T=b[2],Y=E*T-A*D,G=A*B-O*T,U=O*D-E*B,H=E*U-A*G,J=A*Y-O*U,ut=O*G-E*Y,$=2*j;return Y*=$,G*=$,U*=$,H*=2,J*=2,ut*=2,m[0]=B+Y+H,m[1]=D+G+J,m[2]=T+U+ut,m},x.rotateX=function(m,b,M,O){var E=[],A=[];return E[0]=b[0]-M[0],E[1]=b[1]-M[1],E[2]=b[2]-M[2],A[0]=E[0],A[1]=E[1]*Math.cos(O)-E[2]*Math.sin(O),A[2]=E[1]*Math.sin(O)+E[2]*Math.cos(O),m[0]=A[0]+M[0],m[1]=A[1]+M[1],m[2]=A[2]+M[2],m},x.rotateY=function(m,b,M,O){var E=[],A=[];return E[0]=b[0]-M[0],E[1]=b[1]-M[1],E[2]=b[2]-M[2],A[0]=E[2]*Math.sin(O)+E[0]*Math.cos(O),A[1]=E[1],A[2]=E[2]*Math.cos(O)-E[0]*Math.sin(O),m[0]=A[0]+M[0],m[1]=A[1]+M[1],m[2]=A[2]+M[2],m},x.rotateZ=function(m,b,M,O){var E=[],A=[];return E[0]=b[0]-M[0],E[1]=b[1]-M[1],E[2]=b[2]-M[2],A[0]=E[0]*Math.cos(O)-E[1]*Math.sin(O),A[1]=E[0]*Math.sin(O)+E[1]*Math.cos(O),A[2]=E[2],m[0]=A[0]+M[0],m[1]=A[1]+M[1],m[2]=A[2]+M[2],m},x.angle=function(m,b){var M=n(m[0],m[1],m[2]),O=n(b[0],b[1],b[2]);h(M,M),h(O,O);var E=v(M,O);return E>1?0:E<-1?Math.PI:Math.acos(E)},x.str=function(m){return"vec3("+m[0]+", "+m[1]+", "+m[2]+")"},x.exactEquals=function(m,b){return m[0]===b[0]&&m[1]===b[1]&&m[2]===b[2]},x.equals=function(m,b){var M=m[0],O=m[1],E=m[2],A=b[0],j=b[1],B=b[2];return Math.abs(M-A)<=d.EPSILON*Math.max(1,Math.abs(M),Math.abs(A))&&Math.abs(O-j)<=d.EPSILON*Math.max(1,Math.abs(O),Math.abs(j))&&Math.abs(E-B)<=d.EPSILON*Math.max(1,Math.abs(E),Math.abs(B))};var d=function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var M in m)Object.prototype.hasOwnProperty.call(m,M)&&(b[M]=m[M]);return b.default=m,b}(s(104));function y(){var m=new d.ARRAY_TYPE(3);return d.ARRAY_TYPE!=Float32Array&&(m[0]=0,m[1]=0,m[2]=0),m}function p(m){var b=m[0],M=m[1],O=m[2];return Math.sqrt(b*b+M*M+O*O)}function n(m,b,M){var O=new d.ARRAY_TYPE(3);return O[0]=m,O[1]=b,O[2]=M,O}function o(m,b,M){return m[0]=b[0]-M[0],m[1]=b[1]-M[1],m[2]=b[2]-M[2],m}function u(m,b,M){return m[0]=b[0]*M[0],m[1]=b[1]*M[1],m[2]=b[2]*M[2],m}function r(m,b,M){return m[0]=b[0]/M[0],m[1]=b[1]/M[1],m[2]=b[2]/M[2],m}function i(m,b){var M=b[0]-m[0],O=b[1]-m[1],E=b[2]-m[2];return Math.sqrt(M*M+O*O+E*E)}function a(m,b){var M=b[0]-m[0],O=b[1]-m[1],E=b[2]-m[2];return M*M+O*O+E*E}function c(m){var b=m[0],M=m[1],O=m[2];return b*b+M*M+O*O}function h(m,b){var M=b[0],O=b[1],E=b[2],A=M*M+O*O+E*E;return A>0&&(A=1/Math.sqrt(A),m[0]=b[0]*A,m[1]=b[1]*A,m[2]=b[2]*A),m}function v(m,b){return m[0]*b[0]+m[1]*b[1]+m[2]*b[2]}var f;x.sub=o,x.mul=u,x.div=r,x.dist=i,x.sqrDist=a,x.len=p,x.sqrLen=c,x.forEach=(f=y(),function(m,b,M,O,E,A){var j=void 0,B=void 0;for(b||(b=3),M||(M=0),B=O?Math.min(O*b+M,m.length):m.length,j=M;j<B;j+=b)f[0]=m[j],f[1]=m[j+1],f[2]=m[j+2],E(f,f,A),m[j]=f[0],m[j+1]=f[1],m[j+2]=f[2];return m})},function(C,x,s){"use strict";s.r(x),function(d){s.d(x,"BrowserInfo",function(){return p}),s.d(x,"NodeInfo",function(){return n}),s.d(x,"SearchBotDeviceInfo",function(){return o}),s.d(x,"BotInfo",function(){return u}),s.d(x,"ReactNativeInfo",function(){return r}),s.d(x,"detect",function(){return h}),s.d(x,"browserName",function(){return f}),s.d(x,"parseUserAgent",function(){return m}),s.d(x,"detectOS",function(){return b}),s.d(x,"getNodeVersion",function(){return M});var y=function(){for(var E=0,A=0,j=arguments.length;A<j;A++)E+=arguments[A].length;var B=Array(E),D=0;for(A=0;A<j;A++)for(var T=arguments[A],Y=0,G=T.length;Y<G;Y++,D++)B[D]=T[Y];return B},p=function(E,A,j){this.name=E,this.version=A,this.os=j,this.type="browser"},n=function(E){this.version=E,this.type="node",this.name="node",this.os=d.platform},o=function(E,A,j,B){this.name=E,this.version=A,this.os=j,this.bot=B,this.type="bot-device"},u=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},r=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},i=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,a=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],c=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h(O){return O?m(O):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new r:typeof navigator!="undefined"?m(navigator.userAgent):M()}function v(O){return O!==""&&a.reduce(function(E,A){var j=A[0],B=A[1];if(E)return E;var D=B.exec(O);return!!D&&[j,D]},!1)}function f(O){var E=v(O);return E?E[0]:null}function m(O){var E=v(O);if(!E)return null;var A=E[0],j=E[1];if(A==="searchbot")return new u;var B=j[1]&&j[1].split(/[._]/).slice(0,3);B?B.length<3&&(B=y(B,function(G){for(var U=[],H=0;H<G;H++)U.push("0");return U}(3-B.length))):B=[];var D=B.join("."),T=b(O),Y=i.exec(O);return Y&&Y[1]?new o(A,D,T,Y[1]):new p(A,D,T)}function b(O){for(var E=0,A=c.length;E<A;E++){var j=c[E],B=j[0];if(j[1].exec(O))return B}return null}function M(){return d!==void 0&&d.version?new n(d.version.slice(1)):null}}.call(this,s(152))},function(C,x,s){"use strict";s.r(x),s.d(x,"mat3",function(){return d}),s.d(x,"vec2",function(){return pt}),s.d(x,"vec3",function(){return xt}),s.d(x,"ext",function(){return y});var d={};s.r(d),s.d(d,"create",function(){return n}),s.d(d,"fromMat4",function(){return o}),s.d(d,"clone",function(){return u}),s.d(d,"copy",function(){return r}),s.d(d,"fromValues",function(){return i}),s.d(d,"set",function(){return a}),s.d(d,"identity",function(){return c}),s.d(d,"transpose",function(){return h}),s.d(d,"invert",function(){return v}),s.d(d,"adjoint",function(){return f}),s.d(d,"determinant",function(){return m}),s.d(d,"multiply",function(){return b}),s.d(d,"translate",function(){return M}),s.d(d,"rotate",function(){return O}),s.d(d,"scale",function(){return E}),s.d(d,"fromTranslation",function(){return A}),s.d(d,"fromRotation",function(){return j}),s.d(d,"fromScaling",function(){return B}),s.d(d,"fromMat2d",function(){return D}),s.d(d,"fromQuat",function(){return T}),s.d(d,"normalFromMat4",function(){return Y}),s.d(d,"projection",function(){return G}),s.d(d,"str",function(){return U}),s.d(d,"frob",function(){return H}),s.d(d,"add",function(){return J}),s.d(d,"subtract",function(){return ut}),s.d(d,"multiplyScalar",function(){return $}),s.d(d,"multiplyScalarAndAdd",function(){return K}),s.d(d,"exactEquals",function(){return ot}),s.d(d,"equals",function(){return at}),s.d(d,"mul",function(){return ht}),s.d(d,"sub",function(){return St});var y={};s.r(y),s.d(y,"leftTranslate",function(){return vt}),s.d(y,"leftRotate",function(){return gt}),s.d(y,"leftScale",function(){return _t}),s.d(y,"transform",function(){return Bt}),s.d(y,"direction",function(){return At}),s.d(y,"angleTo",function(){return It}),s.d(y,"vertical",function(){return lt});var p=s(6);function n(){var X=new p.a(9);return p.a!=Float32Array&&(X[1]=0,X[2]=0,X[3]=0,X[5]=0,X[6]=0,X[7]=0),X[0]=1,X[4]=1,X[8]=1,X}function o(X,V){return X[0]=V[0],X[1]=V[1],X[2]=V[2],X[3]=V[4],X[4]=V[5],X[5]=V[6],X[6]=V[8],X[7]=V[9],X[8]=V[10],X}function u(X){var V=new p.a(9);return V[0]=X[0],V[1]=X[1],V[2]=X[2],V[3]=X[3],V[4]=X[4],V[5]=X[5],V[6]=X[6],V[7]=X[7],V[8]=X[8],V}function r(X,V){return X[0]=V[0],X[1]=V[1],X[2]=V[2],X[3]=V[3],X[4]=V[4],X[5]=V[5],X[6]=V[6],X[7]=V[7],X[8]=V[8],X}function i(X,V,Z,W,rt,tt,Q,ft,Et){var Ct=new p.a(9);return Ct[0]=X,Ct[1]=V,Ct[2]=Z,Ct[3]=W,Ct[4]=rt,Ct[5]=tt,Ct[6]=Q,Ct[7]=ft,Ct[8]=Et,Ct}function a(X,V,Z,W,rt,tt,Q,ft,Et,Ct){return X[0]=V,X[1]=Z,X[2]=W,X[3]=rt,X[4]=tt,X[5]=Q,X[6]=ft,X[7]=Et,X[8]=Ct,X}function c(X){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=1,X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function h(X,V){if(X===V){var Z=V[1],W=V[2],rt=V[5];X[1]=V[3],X[2]=V[6],X[3]=Z,X[5]=V[7],X[6]=W,X[7]=rt}else X[0]=V[0],X[1]=V[3],X[2]=V[6],X[3]=V[1],X[4]=V[4],X[5]=V[7],X[6]=V[2],X[7]=V[5],X[8]=V[8];return X}function v(X,V){var Z=V[0],W=V[1],rt=V[2],tt=V[3],Q=V[4],ft=V[5],Et=V[6],Ct=V[7],Nt=V[8],Ft=Nt*Q-ft*Ct,Rt=-Nt*tt+ft*Et,kt=Ct*tt-Q*Et,Pt=Z*Ft+W*Rt+rt*kt;return Pt?(Pt=1/Pt,X[0]=Ft*Pt,X[1]=(-Nt*W+rt*Ct)*Pt,X[2]=(ft*W-rt*Q)*Pt,X[3]=Rt*Pt,X[4]=(Nt*Z-rt*Et)*Pt,X[5]=(-ft*Z+rt*tt)*Pt,X[6]=kt*Pt,X[7]=(-Ct*Z+W*Et)*Pt,X[8]=(Q*Z-W*tt)*Pt,X):null}function f(X,V){var Z=V[0],W=V[1],rt=V[2],tt=V[3],Q=V[4],ft=V[5],Et=V[6],Ct=V[7],Nt=V[8];return X[0]=Q*Nt-ft*Ct,X[1]=rt*Ct-W*Nt,X[2]=W*ft-rt*Q,X[3]=ft*Et-tt*Nt,X[4]=Z*Nt-rt*Et,X[5]=rt*tt-Z*ft,X[6]=tt*Ct-Q*Et,X[7]=W*Et-Z*Ct,X[8]=Z*Q-W*tt,X}function m(X){var V=X[0],Z=X[1],W=X[2],rt=X[3],tt=X[4],Q=X[5],ft=X[6],Et=X[7],Ct=X[8];return V*(Ct*tt-Q*Et)+Z*(-Ct*rt+Q*ft)+W*(Et*rt-tt*ft)}function b(X,V,Z){var W=V[0],rt=V[1],tt=V[2],Q=V[3],ft=V[4],Et=V[5],Ct=V[6],Nt=V[7],Ft=V[8],Rt=Z[0],kt=Z[1],Pt=Z[2],Xt=Z[3],Ut=Z[4],ct=Z[5],re=Z[6],ve=Z[7],pe=Z[8];return X[0]=Rt*W+kt*Q+Pt*Ct,X[1]=Rt*rt+kt*ft+Pt*Nt,X[2]=Rt*tt+kt*Et+Pt*Ft,X[3]=Xt*W+Ut*Q+ct*Ct,X[4]=Xt*rt+Ut*ft+ct*Nt,X[5]=Xt*tt+Ut*Et+ct*Ft,X[6]=re*W+ve*Q+pe*Ct,X[7]=re*rt+ve*ft+pe*Nt,X[8]=re*tt+ve*Et+pe*Ft,X}function M(X,V,Z){var W=V[0],rt=V[1],tt=V[2],Q=V[3],ft=V[4],Et=V[5],Ct=V[6],Nt=V[7],Ft=V[8],Rt=Z[0],kt=Z[1];return X[0]=W,X[1]=rt,X[2]=tt,X[3]=Q,X[4]=ft,X[5]=Et,X[6]=Rt*W+kt*Q+Ct,X[7]=Rt*rt+kt*ft+Nt,X[8]=Rt*tt+kt*Et+Ft,X}function O(X,V,Z){var W=V[0],rt=V[1],tt=V[2],Q=V[3],ft=V[4],Et=V[5],Ct=V[6],Nt=V[7],Ft=V[8],Rt=Math.sin(Z),kt=Math.cos(Z);return X[0]=kt*W+Rt*Q,X[1]=kt*rt+Rt*ft,X[2]=kt*tt+Rt*Et,X[3]=kt*Q-Rt*W,X[4]=kt*ft-Rt*rt,X[5]=kt*Et-Rt*tt,X[6]=Ct,X[7]=Nt,X[8]=Ft,X}function E(X,V,Z){var W=Z[0],rt=Z[1];return X[0]=W*V[0],X[1]=W*V[1],X[2]=W*V[2],X[3]=rt*V[3],X[4]=rt*V[4],X[5]=rt*V[5],X[6]=V[6],X[7]=V[7],X[8]=V[8],X}function A(X,V){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=1,X[5]=0,X[6]=V[0],X[7]=V[1],X[8]=1,X}function j(X,V){var Z=Math.sin(V),W=Math.cos(V);return X[0]=W,X[1]=Z,X[2]=0,X[3]=-Z,X[4]=W,X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function B(X,V){return X[0]=V[0],X[1]=0,X[2]=0,X[3]=0,X[4]=V[1],X[5]=0,X[6]=0,X[7]=0,X[8]=1,X}function D(X,V){return X[0]=V[0],X[1]=V[1],X[2]=0,X[3]=V[2],X[4]=V[3],X[5]=0,X[6]=V[4],X[7]=V[5],X[8]=1,X}function T(X,V){var Z=V[0],W=V[1],rt=V[2],tt=V[3],Q=Z+Z,ft=W+W,Et=rt+rt,Ct=Z*Q,Nt=W*Q,Ft=W*ft,Rt=rt*Q,kt=rt*ft,Pt=rt*Et,Xt=tt*Q,Ut=tt*ft,ct=tt*Et;return X[0]=1-Ft-Pt,X[3]=Nt-ct,X[6]=Rt+Ut,X[1]=Nt+ct,X[4]=1-Ct-Pt,X[7]=kt-Xt,X[2]=Rt-Ut,X[5]=kt+Xt,X[8]=1-Ct-Ft,X}function Y(X,V){var Z=V[0],W=V[1],rt=V[2],tt=V[3],Q=V[4],ft=V[5],Et=V[6],Ct=V[7],Nt=V[8],Ft=V[9],Rt=V[10],kt=V[11],Pt=V[12],Xt=V[13],Ut=V[14],ct=V[15],re=Z*ft-W*Q,ve=Z*Et-rt*Q,pe=Z*Ct-tt*Q,Me=W*Et-rt*ft,ge=W*Ct-tt*ft,ce=rt*Ct-tt*Et,ye=Nt*Xt-Ft*Pt,be=Nt*Ut-Rt*Pt,Oe=Nt*ct-kt*Pt,Xe=Ft*Ut-Rt*Xt,Ie=Ft*ct-kt*Xt,De=Rt*ct-kt*Ut,we=re*De-ve*Ie+pe*Xe+Me*Oe-ge*be+ce*ye;return we?(we=1/we,X[0]=(ft*De-Et*Ie+Ct*Xe)*we,X[1]=(Et*Oe-Q*De-Ct*be)*we,X[2]=(Q*Ie-ft*Oe+Ct*ye)*we,X[3]=(rt*Ie-W*De-tt*Xe)*we,X[4]=(Z*De-rt*Oe+tt*be)*we,X[5]=(W*Oe-Z*Ie-tt*ye)*we,X[6]=(Xt*ce-Ut*ge+ct*Me)*we,X[7]=(Ut*pe-Pt*ce-ct*ve)*we,X[8]=(Pt*ge-Xt*pe+ct*re)*we,X):null}function G(X,V,Z){return X[0]=2/V,X[1]=0,X[2]=0,X[3]=0,X[4]=-2/Z,X[5]=0,X[6]=-1,X[7]=1,X[8]=1,X}function U(X){return"mat3("+X[0]+", "+X[1]+", "+X[2]+", "+X[3]+", "+X[4]+", "+X[5]+", "+X[6]+", "+X[7]+", "+X[8]+")"}function H(X){return Math.hypot(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8])}function J(X,V,Z){return X[0]=V[0]+Z[0],X[1]=V[1]+Z[1],X[2]=V[2]+Z[2],X[3]=V[3]+Z[3],X[4]=V[4]+Z[4],X[5]=V[5]+Z[5],X[6]=V[6]+Z[6],X[7]=V[7]+Z[7],X[8]=V[8]+Z[8],X}function ut(X,V,Z){return X[0]=V[0]-Z[0],X[1]=V[1]-Z[1],X[2]=V[2]-Z[2],X[3]=V[3]-Z[3],X[4]=V[4]-Z[4],X[5]=V[5]-Z[5],X[6]=V[6]-Z[6],X[7]=V[7]-Z[7],X[8]=V[8]-Z[8],X}function $(X,V,Z){return X[0]=V[0]*Z,X[1]=V[1]*Z,X[2]=V[2]*Z,X[3]=V[3]*Z,X[4]=V[4]*Z,X[5]=V[5]*Z,X[6]=V[6]*Z,X[7]=V[7]*Z,X[8]=V[8]*Z,X}function K(X,V,Z,W){return X[0]=V[0]+Z[0]*W,X[1]=V[1]+Z[1]*W,X[2]=V[2]+Z[2]*W,X[3]=V[3]+Z[3]*W,X[4]=V[4]+Z[4]*W,X[5]=V[5]+Z[5]*W,X[6]=V[6]+Z[6]*W,X[7]=V[7]+Z[7]*W,X[8]=V[8]+Z[8]*W,X}function ot(X,V){return X[0]===V[0]&&X[1]===V[1]&&X[2]===V[2]&&X[3]===V[3]&&X[4]===V[4]&&X[5]===V[5]&&X[6]===V[6]&&X[7]===V[7]&&X[8]===V[8]}function at(X,V){var Z=X[0],W=X[1],rt=X[2],tt=X[3],Q=X[4],ft=X[5],Et=X[6],Ct=X[7],Nt=X[8],Ft=V[0],Rt=V[1],kt=V[2],Pt=V[3],Xt=V[4],Ut=V[5],ct=V[6],re=V[7],ve=V[8];return Math.abs(Z-Ft)<=p.b*Math.max(1,Math.abs(Z),Math.abs(Ft))&&Math.abs(W-Rt)<=p.b*Math.max(1,Math.abs(W),Math.abs(Rt))&&Math.abs(rt-kt)<=p.b*Math.max(1,Math.abs(rt),Math.abs(kt))&&Math.abs(tt-Pt)<=p.b*Math.max(1,Math.abs(tt),Math.abs(Pt))&&Math.abs(Q-Xt)<=p.b*Math.max(1,Math.abs(Q),Math.abs(Xt))&&Math.abs(ft-Ut)<=p.b*Math.max(1,Math.abs(ft),Math.abs(Ut))&&Math.abs(Et-ct)<=p.b*Math.max(1,Math.abs(Et),Math.abs(ct))&&Math.abs(Ct-re)<=p.b*Math.max(1,Math.abs(Ct),Math.abs(re))&&Math.abs(Nt-ve)<=p.b*Math.max(1,Math.abs(Nt),Math.abs(ve))}var ht=b,St=ut,pt=s(105),xt=s(106);function vt(X,V,Z){var W=[0,0,0,0,0,0,0,0,0];return d.fromTranslation(W,Z),d.multiply(X,W,V)}function gt(X,V,Z){var W=[0,0,0,0,0,0,0,0,0];return d.fromRotation(W,Z),d.multiply(X,W,V)}function _t(X,V,Z){var W=[0,0,0,0,0,0,0,0,0];return d.fromScaling(W,Z),d.multiply(X,W,V)}function Bt(X,V){for(var Z,W,rt,tt=X?[].concat(X):[1,0,0,0,1,0,0,0,1],Q=0,ft=V.length;Q<ft;Q++){var Et=V[Q];switch(Et[0]){case"t":vt(tt,tt,[Et[1],Et[2]]);break;case"s":_t(tt,tt,[Et[1],Et[2]]);break;case"r":gt(tt,tt,Et[1]);break;case"m":Z=tt,W=tt,rt=Et[1],d.multiply(Z,rt,W)}}return tt}function At(X,V){return X[0]*V[1]-V[0]*X[1]}function It(X,V,Z){var W=pt.angle(X,V),rt=At(X,V)>=0;return Z?rt?2*Math.PI-W:W:rt?W:2*Math.PI-W}function lt(X,V,Z){return Z?(X[0]=V[1],X[1]=-1*V[0]):(X[0]=-1*V[1],X[1]=V[0]),X}},function(C,x,s){C.exports={graphlib:s(30),layout:s(485),debug:s(544),util:{time:s(20).time,notime:s(20).notime},version:s(545)}},function(C,x,s){var d={compactBox:s(546),dendrogram:s(548),indented:s(550),mindmap:s(552)};C.exports=d},function(C,x,s){(function(d){function y(K){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ot){return typeof ot}:function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot})(K)}var p=Object.getOwnPropertyDescriptors||function(K){for(var ot=Object.keys(K),at={},ht=0;ht<ot.length;ht++)at[ot[ht]]=Object.getOwnPropertyDescriptor(K,ot[ht]);return at},n=/%[sdj%]/g;x.format=function(K){if(!O(K)){for(var ot=[],at=0;at<arguments.length;at++)ot.push(r(arguments[at]));return ot.join(" ")}at=1;for(var ht=arguments,St=ht.length,pt=String(K).replace(n,function(vt){if(vt==="%%")return"%";if(at>=St)return vt;switch(vt){case"%s":return String(ht[at++]);case"%d":return Number(ht[at++]);case"%j":try{return JSON.stringify(ht[at++])}catch(gt){return"[Circular]"}default:return vt}}),xt=ht[at];at<St;xt=ht[++at])b(xt)||!j(xt)?pt+=" "+xt:pt+=" "+r(xt);return pt},x.deprecate=function(K,ot){if(d!==void 0&&d.noDeprecation===!0)return K;if(d===void 0)return function(){return x.deprecate(K,ot).apply(this,arguments)};var at=!1;return function(){if(!at){if(d.throwDeprecation)throw new Error(ot);d.traceDeprecation?console.trace(ot):console.error(ot),at=!0}return K.apply(this,arguments)}};var o,u={};function r(K,ot){var at={seen:[],stylize:a};return arguments.length>=3&&(at.depth=arguments[2]),arguments.length>=4&&(at.colors=arguments[3]),m(ot)?at.showHidden=ot:ot&&x._extend(at,ot),E(at.showHidden)&&(at.showHidden=!1),E(at.depth)&&(at.depth=2),E(at.colors)&&(at.colors=!1),E(at.customInspect)&&(at.customInspect=!0),at.colors&&(at.stylize=i),c(at,K,at.depth)}function i(K,ot){var at=r.styles[ot];return at?"["+r.colors[at][0]+"m"+K+"["+r.colors[at][1]+"m":K}function a(K,ot){return K}function c(K,ot,at){if(K.customInspect&&ot&&T(ot.inspect)&&ot.inspect!==x.inspect&&(!ot.constructor||ot.constructor.prototype!==ot)){var ht=ot.inspect(at,K);return O(ht)||(ht=c(K,ht,at)),ht}var St=function(It,lt){if(E(lt))return It.stylize("undefined","undefined");if(O(lt)){var X="'"+JSON.stringify(lt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return It.stylize(X,"string")}if(M(lt))return It.stylize(""+lt,"number");if(m(lt))return It.stylize(""+lt,"boolean");if(b(lt))return It.stylize("null","null")}(K,ot);if(St)return St;var pt=Object.keys(ot),xt=function(It){var lt={};return It.forEach(function(X,V){lt[X]=!0}),lt}(pt);if(K.showHidden&&(pt=Object.getOwnPropertyNames(ot)),D(ot)&&(pt.indexOf("message")>=0||pt.indexOf("description")>=0))return h(ot);if(pt.length===0){if(T(ot)){var vt=ot.name?": "+ot.name:"";return K.stylize("[Function"+vt+"]","special")}if(A(ot))return K.stylize(RegExp.prototype.toString.call(ot),"regexp");if(B(ot))return K.stylize(Date.prototype.toString.call(ot),"date");if(D(ot))return h(ot)}var gt,_t="",Bt=!1,At=["{","}"];return f(ot)&&(Bt=!0,At=["[","]"]),T(ot)&&(_t=" [Function"+(ot.name?": "+ot.name:"")+"]"),A(ot)&&(_t=" "+RegExp.prototype.toString.call(ot)),B(ot)&&(_t=" "+Date.prototype.toUTCString.call(ot)),D(ot)&&(_t=" "+h(ot)),pt.length!==0||Bt&&ot.length!=0?at<0?A(ot)?K.stylize(RegExp.prototype.toString.call(ot),"regexp"):K.stylize("[Object]","special"):(K.seen.push(ot),gt=Bt?function(It,lt,X,V,Z){for(var W=[],rt=0,tt=lt.length;rt<tt;++rt)J(lt,String(rt))?W.push(v(It,lt,X,V,String(rt),!0)):W.push("");return Z.forEach(function(Q){Q.match(/^\d+$/)||W.push(v(It,lt,X,V,Q,!0))}),W}(K,ot,at,xt,pt):pt.map(function(It){return v(K,ot,at,xt,It,Bt)}),K.seen.pop(),function(It,lt,X){return It.reduce(function(V,Z){return Z.indexOf(`
`)>=0,V+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?X[0]+(lt===""?"":lt+`
 `)+" "+It.join(`,
  `)+" "+X[1]:X[0]+lt+" "+It.join(", ")+" "+X[1]}(gt,_t,At)):At[0]+_t+At[1]}function h(K){return"["+Error.prototype.toString.call(K)+"]"}function v(K,ot,at,ht,St,pt){var xt,vt,gt;if((gt=Object.getOwnPropertyDescriptor(ot,St)||{value:ot[St]}).get?vt=gt.set?K.stylize("[Getter/Setter]","special"):K.stylize("[Getter]","special"):gt.set&&(vt=K.stylize("[Setter]","special")),J(ht,St)||(xt="["+St+"]"),vt||(K.seen.indexOf(gt.value)<0?(vt=b(at)?c(K,gt.value,null):c(K,gt.value,at-1)).indexOf(`
`)>-1&&(vt=pt?vt.split(`
`).map(function(_t){return"  "+_t}).join(`
`).substr(2):`
`+vt.split(`
`).map(function(_t){return"   "+_t}).join(`
`)):vt=K.stylize("[Circular]","special")),E(xt)){if(pt&&St.match(/^\d+$/))return vt;(xt=JSON.stringify(""+St)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(xt=xt.substr(1,xt.length-2),xt=K.stylize(xt,"name")):(xt=xt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),xt=K.stylize(xt,"string"))}return xt+": "+vt}function f(K){return Array.isArray(K)}function m(K){return typeof K=="boolean"}function b(K){return K===null}function M(K){return typeof K=="number"}function O(K){return typeof K=="string"}function E(K){return K===void 0}function A(K){return j(K)&&Y(K)==="[object RegExp]"}function j(K){return y(K)==="object"&&K!==null}function B(K){return j(K)&&Y(K)==="[object Date]"}function D(K){return j(K)&&(Y(K)==="[object Error]"||K instanceof Error)}function T(K){return typeof K=="function"}function Y(K){return Object.prototype.toString.call(K)}function G(K){return K<10?"0"+K.toString(10):K.toString(10)}x.debuglog=function(K){if(E(o)&&(o=d.env.NODE_DEBUG||""),K=K.toUpperCase(),!u[K])if(new RegExp("\\b"+K+"\\b","i").test(o)){var ot=d.pid;u[K]=function(){var at=x.format.apply(x,arguments);console.error("%s %d: %s",K,ot,at)}}else u[K]=function(){};return u[K]},x.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},x.isArray=f,x.isBoolean=m,x.isNull=b,x.isNullOrUndefined=function(K){return K==null},x.isNumber=M,x.isString=O,x.isSymbol=function(K){return y(K)==="symbol"},x.isUndefined=E,x.isRegExp=A,x.isObject=j,x.isDate=B,x.isError=D,x.isFunction=T,x.isPrimitive=function(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||y(K)==="symbol"||K===void 0},x.isBuffer=s(554);var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var K=new Date,ot=[G(K.getHours()),G(K.getMinutes()),G(K.getSeconds())].join(":");return[K.getDate(),U[K.getMonth()],ot].join(" ")}function J(K,ot){return Object.prototype.hasOwnProperty.call(K,ot)}x.log=function(){console.log("%s - %s",H(),x.format.apply(x,arguments))},x.inherits=s(555),x._extend=function(K,ot){if(!ot||!j(ot))return K;for(var at=Object.keys(ot),ht=at.length;ht--;)K[at[ht]]=ot[at[ht]];return K};var ut=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;function $(K,ot){if(!K){var at=new Error("Promise was rejected with a falsy value");at.reason=K,K=at}return ot(K)}x.promisify=function(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');if(ut&&K[ut]){var ot;if(typeof(ot=K[ut])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ot,ut,{value:ot,enumerable:!1,writable:!1,configurable:!0}),ot}function ot(){for(var at,ht,St=new Promise(function(vt,gt){at=vt,ht=gt}),pt=[],xt=0;xt<arguments.length;xt++)pt.push(arguments[xt]);pt.push(function(vt,gt){vt?ht(vt):at(gt)});try{K.apply(this,pt)}catch(vt){ht(vt)}return St}return Object.setPrototypeOf(ot,Object.getPrototypeOf(K)),ut&&Object.defineProperty(ot,ut,{value:ot,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ot,p(K))},x.promisify.custom=ut,x.callbackify=function(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');function ot(){for(var at=[],ht=0;ht<arguments.length;ht++)at.push(arguments[ht]);var St=at.pop();if(typeof St!="function")throw new TypeError("The last argument must be of type Function");var pt=this,xt=function(){return St.apply(pt,arguments)};K.apply(this,at).then(function(vt){d.nextTick(xt,null,vt)},function(vt){d.nextTick($,vt,xt)})}return Object.setPrototypeOf(ot,Object.getPrototypeOf(K)),Object.defineProperties(ot,p(K)),ot}}).call(this,s(152))},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y,p){if(!d.default(y))return y;for(var n=[],o=0;o<y.length;o++){var u=y[o];p(u,o)&&n.push(u)}return n}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10),y=s(139);x.default=function(p,n){var o=y.default(n),u=o.length;if(d.default(p))return!u;for(var r=0;r<u;r+=1){var i=o[r];if(n[i]!==p[i]||!(i in p))return!1}return!0}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(14),p=Object.keys?function(n){return Object.keys(n)}:function(n){var o=[];return d.default(n,function(u,r){y.default(n)&&r==="prototype"||o.push(r)}),o};x.default=p},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21),y=Array.prototype.splice;x.default=function(p,n){if(!d.default(p))return[];for(var o=p?n.length:0,u=o-1;o--;){var r=void 0,i=n[o];o!==u&&i===r||(r=i,y.call(p,i,1))}return p}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(72),y=s(2);x.default=function(p){var n=[];return y.default(p,function(o){d.default(n,o)||n.push(o)}),n}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(14),p=s(69);x.default=function(n,o){if(!o)return{0:n};if(!y.default(o)){var u=d.default(o)?o:o.replace(/\s+/g,"").split("*");o=function(i){for(var a="_",c=0,h=u.length;c<h;c++)a+=i[u[c]]&&i[u[c]].toString();return a}}return p.default(n,o)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){return d.hasOwnProperty(y)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(14),p=Object.values?function(n){return Object.values(n)}:function(n){var o=[];return d.default(n,function(u,r){y.default(n)&&r==="prototype"||o.push(u)}),o};x.default=p},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d={}.toString;x.default=function(y){return d.call(y).replace(/^\[object /,"").replace(/]$/,"")}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=Object.prototype;x.default=function(y){var p=y&&y.constructor;return y===(typeof p=="function"&&p.prototype||d)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(y){return setTimeout(y,16)})(d)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(d)}},function(C,x,s){var d=s(316),y={};for(var p in d)d.hasOwnProperty(p)&&(y[d[p]]=p);var n=C.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var o in n)if(n.hasOwnProperty(o)){if(!("channels"in n[o]))throw new Error("missing channels property: "+o);if(!("labels"in n[o]))throw new Error("missing channel labels property: "+o);if(n[o].labels.length!==n[o].channels)throw new Error("channel and label counts mismatch: "+o);var u=n[o].channels,r=n[o].labels;delete n[o].channels,delete n[o].labels,Object.defineProperty(n[o],"channels",{value:u}),Object.defineProperty(n[o],"labels",{value:r})}n.rgb.hsl=function(i){var a,c,h=i[0]/255,v=i[1]/255,f=i[2]/255,m=Math.min(h,v,f),b=Math.max(h,v,f),M=b-m;return b===m?a=0:h===b?a=(v-f)/M:v===b?a=2+(f-h)/M:f===b&&(a=4+(h-v)/M),(a=Math.min(60*a,360))<0&&(a+=360),c=(m+b)/2,[a,100*(b===m?0:c<=.5?M/(b+m):M/(2-b-m)),100*c]},n.rgb.hsv=function(i){var a,c,h,v,f,m=i[0]/255,b=i[1]/255,M=i[2]/255,O=Math.max(m,b,M),E=O-Math.min(m,b,M),A=function(B){return(O-B)/6/E+.5};return E===0?v=f=0:(f=E/O,a=A(m),c=A(b),h=A(M),m===O?v=h-c:b===O?v=1/3+a-h:M===O&&(v=2/3+c-a),v<0?v+=1:v>1&&(v-=1)),[360*v,100*f,100*O]},n.rgb.hwb=function(i){var a=i[0],c=i[1],h=i[2];return[n.rgb.hsl(i)[0],100*(1/255*Math.min(a,Math.min(c,h))),100*(h=1-1/255*Math.max(a,Math.max(c,h)))]},n.rgb.cmyk=function(i){var a,c=i[0]/255,h=i[1]/255,v=i[2]/255;return[100*((1-c-(a=Math.min(1-c,1-h,1-v)))/(1-a)||0),100*((1-h-a)/(1-a)||0),100*((1-v-a)/(1-a)||0),100*a]},n.rgb.keyword=function(i){var a=y[i];if(a)return a;var c,h,v,f=1/0;for(var m in d)if(d.hasOwnProperty(m)){var b=d[m],M=(h=i,v=b,Math.pow(h[0]-v[0],2)+Math.pow(h[1]-v[1],2)+Math.pow(h[2]-v[2],2));M<f&&(f=M,c=m)}return c},n.keyword.rgb=function(i){return d[i]},n.rgb.xyz=function(i){var a=i[0]/255,c=i[1]/255,h=i[2]/255;return[100*(.4124*(a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92)+.3576*(c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92)+.1805*(h=h>.04045?Math.pow((h+.055)/1.055,2.4):h/12.92)),100*(.2126*a+.7152*c+.0722*h),100*(.0193*a+.1192*c+.9505*h)]},n.rgb.lab=function(i){var a=n.rgb.xyz(i),c=a[0],h=a[1],v=a[2];return h/=100,v/=108.883,c=(c/=95.047)>.008856?Math.pow(c,1/3):7.787*c+16/116,[116*(h=h>.008856?Math.pow(h,1/3):7.787*h+16/116)-16,500*(c-h),200*(h-(v=v>.008856?Math.pow(v,1/3):7.787*v+16/116))]},n.hsl.rgb=function(i){var a,c,h,v,f,m=i[0]/360,b=i[1]/100,M=i[2]/100;if(b===0)return[f=255*M,f,f];a=2*M-(c=M<.5?M*(1+b):M+b-M*b),v=[0,0,0];for(var O=0;O<3;O++)(h=m+1/3*-(O-1))<0&&h++,h>1&&h--,f=6*h<1?a+6*(c-a)*h:2*h<1?c:3*h<2?a+(c-a)*(2/3-h)*6:a,v[O]=255*f;return v},n.hsl.hsv=function(i){var a=i[0],c=i[1]/100,h=i[2]/100,v=c,f=Math.max(h,.01);return c*=(h*=2)<=1?h:2-h,v*=f<=1?f:2-f,[a,100*(h===0?2*v/(f+v):2*c/(h+c)),100*((h+c)/2)]},n.hsv.rgb=function(i){var a=i[0]/60,c=i[1]/100,h=i[2]/100,v=Math.floor(a)%6,f=a-Math.floor(a),m=255*h*(1-c),b=255*h*(1-c*f),M=255*h*(1-c*(1-f));switch(h*=255,v){case 0:return[h,M,m];case 1:return[b,h,m];case 2:return[m,h,M];case 3:return[m,b,h];case 4:return[M,m,h];case 5:return[h,m,b]}},n.hsv.hsl=function(i){var a,c,h,v=i[0],f=i[1]/100,m=i[2]/100,b=Math.max(m,.01);return h=(2-f)*m,c=f*b,[v,100*(c=(c/=(a=(2-f)*b)<=1?a:2-a)||0),100*(h/=2)]},n.hwb.rgb=function(i){var a,c,h,v,f,m,b,M=i[0]/360,O=i[1]/100,E=i[2]/100,A=O+E;switch(A>1&&(O/=A,E/=A),h=6*M-(a=Math.floor(6*M)),(1&a)!=0&&(h=1-h),v=O+h*((c=1-E)-O),a){default:case 6:case 0:f=c,m=v,b=O;break;case 1:f=v,m=c,b=O;break;case 2:f=O,m=c,b=v;break;case 3:f=O,m=v,b=c;break;case 4:f=v,m=O,b=c;break;case 5:f=c,m=O,b=v}return[255*f,255*m,255*b]},n.cmyk.rgb=function(i){var a=i[0]/100,c=i[1]/100,h=i[2]/100,v=i[3]/100;return[255*(1-Math.min(1,a*(1-v)+v)),255*(1-Math.min(1,c*(1-v)+v)),255*(1-Math.min(1,h*(1-v)+v))]},n.xyz.rgb=function(i){var a,c,h,v=i[0]/100,f=i[1]/100,m=i[2]/100;return c=-.9689*v+1.8758*f+.0415*m,h=.0557*v+-.204*f+1.057*m,a=(a=3.2406*v+-1.5372*f+-.4986*m)>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:12.92*c,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:12.92*h,[255*(a=Math.min(Math.max(0,a),1)),255*(c=Math.min(Math.max(0,c),1)),255*(h=Math.min(Math.max(0,h),1))]},n.xyz.lab=function(i){var a=i[0],c=i[1],h=i[2];return c/=100,h/=108.883,a=(a/=95.047)>.008856?Math.pow(a,1/3):7.787*a+16/116,[116*(c=c>.008856?Math.pow(c,1/3):7.787*c+16/116)-16,500*(a-c),200*(c-(h=h>.008856?Math.pow(h,1/3):7.787*h+16/116))]},n.lab.xyz=function(i){var a,c,h,v=i[0];a=i[1]/500+(c=(v+16)/116),h=c-i[2]/200;var f=Math.pow(c,3),m=Math.pow(a,3),b=Math.pow(h,3);return c=f>.008856?f:(c-16/116)/7.787,a=m>.008856?m:(a-16/116)/7.787,h=b>.008856?b:(h-16/116)/7.787,[a*=95.047,c*=100,h*=108.883]},n.lab.lch=function(i){var a,c=i[0],h=i[1],v=i[2];return(a=360*Math.atan2(v,h)/2/Math.PI)<0&&(a+=360),[c,Math.sqrt(h*h+v*v),a]},n.lch.lab=function(i){var a,c=i[0],h=i[1];return a=i[2]/360*2*Math.PI,[c,h*Math.cos(a),h*Math.sin(a)]},n.rgb.ansi16=function(i){var a=i[0],c=i[1],h=i[2],v=1 in arguments?arguments[1]:n.rgb.hsv(i)[2];if((v=Math.round(v/50))===0)return 30;var f=30+(Math.round(h/255)<<2|Math.round(c/255)<<1|Math.round(a/255));return v===2&&(f+=60),f},n.hsv.ansi16=function(i){return n.rgb.ansi16(n.hsv.rgb(i),i[2])},n.rgb.ansi256=function(i){var a=i[0],c=i[1],h=i[2];return a===c&&c===h?a<8?16:a>248?231:Math.round((a-8)/247*24)+232:16+36*Math.round(a/255*5)+6*Math.round(c/255*5)+Math.round(h/255*5)},n.ansi16.rgb=function(i){var a=i%10;if(a===0||a===7)return i>50&&(a+=3.5),[a=a/10.5*255,a,a];var c=.5*(1+~~(i>50));return[(1&a)*c*255,(a>>1&1)*c*255,(a>>2&1)*c*255]},n.ansi256.rgb=function(i){if(i>=232){var a=10*(i-232)+8;return[a,a,a]}var c;return i-=16,[Math.floor(i/36)/5*255,Math.floor((c=i%36)/6)/5*255,c%6/5*255]},n.rgb.hex=function(i){var a=(((255&Math.round(i[0]))<<16)+((255&Math.round(i[1]))<<8)+(255&Math.round(i[2]))).toString(16).toUpperCase();return"000000".substring(a.length)+a},n.hex.rgb=function(i){var a=i.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!a)return[0,0,0];var c=a[0];a[0].length===3&&(c=c.split("").map(function(v){return v+v}).join(""));var h=parseInt(c,16);return[h>>16&255,h>>8&255,255&h]},n.rgb.hcg=function(i){var a,c=i[0]/255,h=i[1]/255,v=i[2]/255,f=Math.max(Math.max(c,h),v),m=Math.min(Math.min(c,h),v),b=f-m;return a=b<=0?0:f===c?(h-v)/b%6:f===h?2+(v-c)/b:4+(c-h)/b+4,a/=6,[360*(a%=1),100*b,100*(b<1?m/(1-b):0)]},n.hsl.hcg=function(i){var a=i[1]/100,c=i[2]/100,h=1,v=0;return(h=c<.5?2*a*c:2*a*(1-c))<1&&(v=(c-.5*h)/(1-h)),[i[0],100*h,100*v]},n.hsv.hcg=function(i){var a=i[1]/100,c=i[2]/100,h=a*c,v=0;return h<1&&(v=(c-h)/(1-h)),[i[0],100*h,100*v]},n.hcg.rgb=function(i){var a=i[0]/360,c=i[1]/100,h=i[2]/100;if(c===0)return[255*h,255*h,255*h];var v,f=[0,0,0],m=a%1*6,b=m%1,M=1-b;switch(Math.floor(m)){case 0:f[0]=1,f[1]=b,f[2]=0;break;case 1:f[0]=M,f[1]=1,f[2]=0;break;case 2:f[0]=0,f[1]=1,f[2]=b;break;case 3:f[0]=0,f[1]=M,f[2]=1;break;case 4:f[0]=b,f[1]=0,f[2]=1;break;default:f[0]=1,f[1]=0,f[2]=M}return v=(1-c)*h,[255*(c*f[0]+v),255*(c*f[1]+v),255*(c*f[2]+v)]},n.hcg.hsv=function(i){var a=i[1]/100,c=a+i[2]/100*(1-a),h=0;return c>0&&(h=a/c),[i[0],100*h,100*c]},n.hcg.hsl=function(i){var a=i[1]/100,c=i[2]/100*(1-a)+.5*a,h=0;return c>0&&c<.5?h=a/(2*c):c>=.5&&c<1&&(h=a/(2*(1-c))),[i[0],100*h,100*c]},n.hcg.hwb=function(i){var a=i[1]/100,c=a+i[2]/100*(1-a);return[i[0],100*(c-a),100*(1-c)]},n.hwb.hcg=function(i){var a=i[1]/100,c=1-i[2]/100,h=c-a,v=0;return h<1&&(v=(c-h)/(1-h)),[i[0],100*h,100*v]},n.apple.rgb=function(i){return[i[0]/65535*255,i[1]/65535*255,i[2]/65535*255]},n.rgb.apple=function(i){return[i[0]/255*65535,i[1]/255*65535,i[2]/255*65535]},n.gray.rgb=function(i){return[i[0]/100*255,i[0]/100*255,i[0]/100*255]},n.gray.hsl=n.gray.hsv=function(i){return[0,0,i[0]]},n.gray.hwb=function(i){return[0,100,i[0]]},n.gray.cmyk=function(i){return[0,0,0,i[0]]},n.gray.lab=function(i){return[i[0],0,0]},n.gray.hex=function(i){var a=255&Math.round(i[0]/100*255),c=((a<<16)+(a<<8)+a).toString(16).toUpperCase();return"000000".substring(c.length)+c},n.rgb.gray=function(i){return[(i[0]+i[1]+i[2])/3/255*100]}},function(C,x){},function(C,x){},function(C,x){var s,d,y=C.exports={};function p(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(m){if(s===setTimeout)return setTimeout(m,0);if((s===p||!s)&&setTimeout)return s=setTimeout,setTimeout(m,0);try{return s(m,0)}catch(b){try{return s.call(null,m,0)}catch(M){return s.call(this,m,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:p}catch(m){s=p}try{d=typeof clearTimeout=="function"?clearTimeout:n}catch(m){d=n}})();var u,r=[],i=!1,a=-1;function c(){i&&u&&(i=!1,u.length?r=u.concat(r):a=-1,r.length&&h())}function h(){if(!i){var m=o(c);i=!0;for(var b=r.length;b;){for(u=r,r=[];++a<b;)u&&u[a].run();a=-1,b=r.length}u=null,i=!1,function(M){if(d===clearTimeout)return clearTimeout(M);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(M);try{d(M)}catch(O){try{return d.call(null,M)}catch(E){return d.call(this,M)}}}(m)}}function v(m,b){this.fun=m,this.array=b}function f(){}y.nextTick=function(m){var b=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)b[M-1]=arguments[M];r.push(new v(m,b)),r.length!==1||i||o(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=f,y.addListener=f,y.once=f,y.off=f,y.removeListener=f,y.removeAllListeners=f,y.emit=f,y.prependListener=f,y.prependOnceListener=f,y.listeners=function(m){return[]},y.binding=function(m){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(m){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},function(C,x,s){"use strict";var d=s(1),y=function(p){function n(){return p!==null&&p.apply(this,arguments)||this}return Object(d.__extends)(n,p),n.prototype.isGroup=function(){return!0},n.prototype.isEntityGroup=function(){return!1},n.prototype.clone=function(){for(var o=p.prototype.clone.call(this),u=this.getChildren(),r=0;r<u.length;r++){var i=u[r];o.add(i.clone())}return o},n}(s(100).a);x.a=y},function(C,x,s){"use strict";var d=s(1),y=s(101),p=s(32),n=function(o){function u(r){return o.call(this,r)||this}return Object(d.__extends)(u,o),u.prototype._isInBBox=function(r,i){var a=this.getBBox();return a.minX<=r&&a.maxX>=r&&a.minY<=i&&a.maxY>=i},u.prototype.afterAttrsChange=function(r){o.prototype.afterAttrsChange.call(this,r),this.clearCacheBBox()},u.prototype.getBBox=function(){var r=this.cfg.bbox;return r||(r=this.calculateBBox(),this.set("bbox",r)),r},u.prototype.getCanvasBBox=function(){var r=this.cfg.canvasBBox;return r||(r=this.calculateCanvasBBox(),this.set("canvasBBox",r)),r},u.prototype.applyMatrix=function(r){o.prototype.applyMatrix.call(this,r),this.set("canvasBBox",null)},u.prototype.calculateCanvasBBox=function(){var r=this.getBBox(),i=this.getTotalMatrix(),a=r.minX,c=r.minY,h=r.maxX,v=r.maxY;if(i){var f=Object(p.c)(i,[r.minX,r.minY]),m=Object(p.c)(i,[r.maxX,r.minY]),b=Object(p.c)(i,[r.minX,r.maxY]),M=Object(p.c)(i,[r.maxX,r.maxY]);a=Math.min(f[0],m[0],b[0],M[0]),h=Math.max(f[0],m[0],b[0],M[0]),c=Math.min(f[1],m[1],b[1],M[1]),v=Math.max(f[1],m[1],b[1],M[1])}var O=this.attrs;if(O.shadowColor){var E=O.shadowBlur,A=E===void 0?0:E,j=O.shadowOffsetX,B=j===void 0?0:j,D=O.shadowOffsetY,T=D===void 0?0:D,Y=a-A+B,G=h+A+B,U=c-A+T,H=v+A+T;a=Math.min(a,Y),h=Math.max(h,G),c=Math.min(c,U),v=Math.max(v,H)}return{x:a,y:c,minX:a,minY:c,maxX:h,maxY:v,width:h-a,height:v-c}},u.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},u.prototype.isClipShape=function(){return this.get("isClipShape")},u.prototype.isInShape=function(r,i){return!1},u.prototype.isOnlyHitBox=function(){return!1},u.prototype.isHit=function(r,i){var a=this.get("startArrowShape"),c=this.get("endArrowShape"),h=[r,i,1],v=(h=this.invertFromMatrix(h))[0],f=h[1],m=this._isInBBox(v,f);return this.isOnlyHitBox()?m:!!(m&&!this.isClipped(v,f)&&(this.isInShape(v,f)||a&&a.isHit(v,f)||c&&c.isHit(v,f)))},u}(y.a);x.a=n},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.isAllowCapture=x.isParent=x.isBrowser=x.removeFromArray=void 0,x.removeFromArray=function(a,c){var h=a.indexOf(c);h!==-1&&a.splice(h,1)},x.isBrowser=typeof window!="undefined"&&window.document!==void 0;var d=s(10);Object.defineProperty(x,"isNil",{enumerable:!0,get:function(){return d.default}});var y=s(14);Object.defineProperty(x,"isFunction",{enumerable:!0,get:function(){return y.default}});var p=s(3);Object.defineProperty(x,"isString",{enumerable:!0,get:function(){return p.default}});var n=s(35);Object.defineProperty(x,"isObject",{enumerable:!0,get:function(){return n.default}});var o=s(4);Object.defineProperty(x,"isArray",{enumerable:!0,get:function(){return o.default}});var u=s(17);Object.defineProperty(x,"mix",{enumerable:!0,get:function(){return u.default}});var r=s(2);Object.defineProperty(x,"each",{enumerable:!0,get:function(){return r.default}});var i=s(49);Object.defineProperty(x,"upperFirst",{enumerable:!0,get:function(){return i.default}}),x.isParent=function(a,c){if(a.isCanvas())return!0;for(var h=c.getParent(),v=!1;h;){if(h===a){v=!0;break}h=h.getParent()}return v},x.isAllowCapture=function(a){return a.cfg.visible&&a.cfg.capture}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.parseRadius=x.parseStyle=x.parsePattern=x.parseRadialGradient=x.parseLineGradient=void 0;var d=s(18),y=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,p=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,n=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,o=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function u(c,h){var v=c.match(o);d.each(v,function(f){var m=f.split(":");h.addColorStop(m[0],m[1])})}function r(c,h,v){var f,m,b=y.exec(v),M=parseFloat(b[1])%360*(Math.PI/180),O=b[2],E=h.getBBox();M>=0&&M<.5*Math.PI?(f={x:E.minX,y:E.minY},m={x:E.maxX,y:E.maxY}):.5*Math.PI<=M&&M<Math.PI?(f={x:E.maxX,y:E.minY},m={x:E.minX,y:E.maxY}):Math.PI<=M&&M<1.5*Math.PI?(f={x:E.maxX,y:E.maxY},m={x:E.minX,y:E.minY}):(f={x:E.minX,y:E.maxY},m={x:E.maxX,y:E.minY});var A=Math.tan(M),j=A*A,B=(m.x-f.x+A*(m.y-f.y))/(j+1)+f.x,D=A*(m.x-f.x+A*(m.y-f.y))/(j+1)+f.y,T=c.createLinearGradient(f.x,f.y,B,D);return u(O,T),T}function i(c,h,v){var f=p.exec(v),m=parseFloat(f[1]),b=parseFloat(f[2]),M=parseFloat(f[3]),O=f[4];if(M===0){var E=O.match(o);return E[E.length-1].split(":")[1]}var A=h.getBBox(),j=A.maxX-A.minX,B=A.maxY-A.minY,D=Math.sqrt(j*j+B*B)/2,T=c.createRadialGradient(A.minX+j*m,A.minY+B*b,0,A.minX+j/2,A.minY+B/2,M*D);return u(O,T),T}function a(c,h,v){if(h.get("patternSource")&&h.get("patternSource")===v)return h.get("pattern");var f,m,b=n.exec(v),M=b[1],O=b[2];function E(){f=c.createPattern(m,M),h.set("pattern",f),h.set("patternSource",v)}switch(M){case"a":M="repeat";break;case"x":M="repeat-x";break;case"y":M="repeat-y";break;case"n":M="no-repeat";break;default:M="no-repeat"}return m=new Image,O.match(/^data:/i)||(m.crossOrigin="Anonymous"),m.src=O,m.complete?E():(m.onload=E,m.src=m.src),f}x.parseLineGradient=r,x.parseRadialGradient=i,x.parsePattern=a,x.parseStyle=function(c,h,v){if(d.isString(v)){if(v[1]==="("||v[2]==="("){if(v[0]==="l")return r(c,h,v);if(v[0]==="r")return i(c,h,v);if(v[0]==="p")return a(c,h,v)}return v}},x.parseRadius=function(c){var h=0,v=0,f=0,m=0;return d.isArray(c)?c.length===1?h=v=f=m=c[0]:c.length===2?(h=f=c[0],v=m=c[1]):c.length===3?(h=c[0],v=m=c[1],f=c[2]):(h=c[0],v=c[1],f=c[2],m=c[3]):h=v=f=m=c,[h,v,f,m]}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.getBBoxMethod=void 0;var d=s(322);Object.defineProperty(x,"getBBoxMethod",{enumerable:!0,get:function(){return d.getMethod}});var y=s(323),p=s(324),n=s(325),o=s(326),u=s(327),r=s(328),i=s(332),a=s(333);d.register("rect",y.default),d.register("image",y.default),d.register("circle",p.default),d.register("marker",p.default),d.register("polyline",n.default),d.register("polygon",o.default),d.register("text",u.default),d.register("path",r.default),d.register("line",i.default),d.register("ellipse",a.default)},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.assembleFont=x.getTextWidth=x.getLineSpaceing=x.getTextHeight=void 0;var d=s(155),y=s(159);function p(n,o){return o?o-n:.14*n}x.getTextHeight=function(n,o,u){var r=1;return d.isString(n)&&(r=n.split(`
`).length),r>1?o*r+p(o,u)*(r-1):o},x.getLineSpaceing=p,x.getTextWidth=function(n,o){var u=y.getOffScreenContext(),r=0;if(d.isNil(n)||n==="")return r;if(u.save(),u.font=o,d.isString(n)&&n.includes(`
`)){var i=n.split(`
`);d.each(i,function(a){var c=u.measureText(a).width;r<c&&(r=c)})}else r=u.measureText(n).width;return u.restore(),r},x.assembleFont=function(n){var o=n.fontSize,u=n.fontFamily,r=n.fontWeight;return[n.fontStyle,n.fontVariant,r,o+"px",u].join(" ").trim()}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.getOffScreenContext=void 0;var d=null;x.getOffScreenContext=function(){if(!d){var y=document.createElement("canvas");y.width=1,y.height=1,d=y.getContext("2d")}return d}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(40),y=s(33),p=s(161);function n(i,a,c,h){var v=1-h;return v*v*i+2*h*v*a+h*h*c}function o(i,a,c){var h=i+c-2*a;if(y.isNumberEqual(h,0))return[.5];var v=(i-a)/h;return v<=1&&v>=0?[v]:[]}function u(i,a,c,h){return 2*(1-h)*(a-i)+2*h*(c-a)}function r(i,a,c,h,v,f,m){var b=n(i,c,v,m),M=n(a,h,f,m),O=d.default.pointAt(i,a,c,h,m),E=d.default.pointAt(c,h,v,f,m);return[[i,a,O.x,O.y,b,M],[b,M,E.x,E.y,v,f]]}x.default={box:function(a,c,h,v,f,m){var b=o(a,h,f)[0],M=o(c,v,m)[0],O=[a,f],E=[c,m];return b!==void 0&&O.push(n(a,h,f,b)),M!==void 0&&E.push(n(c,v,m,M)),y.getBBoxByArray(O,E)},length:function(a,c,h,v,f,m){return function b(M,O,E,A,j,B,D){if(D===0)return(y.distance(M,O,E,A)+y.distance(E,A,j,B)+y.distance(M,O,j,B))/2;var T=r(M,O,E,A,j,B,.5),Y=T[0],G=T[1];return Y.push(D-1),G.push(D-1),b.apply(null,Y)+b.apply(null,G)}(a,c,h,v,f,m,3)},nearestPoint:function(a,c,h,v,f,m,b,M){return p.nearestPoint([a,h,f],[c,v,m],b,M,n)},pointDistance:function(a,c,h,v,f,m,b,M){var O=this.nearestPoint(a,c,h,v,f,m,b,M);return y.distance(O.x,O.y,b,M)},interpolationAt:n,pointAt:function(a,c,h,v,f,m,b){return{x:n(a,h,f,b),y:n(c,v,m,b)}},divide:function(a,c,h,v,f,m,b){return r(a,c,h,v,f,m,b)},tangentAngle:function(a,c,h,v,f,m,b){var M=u(a,h,f,b),O=u(c,v,m,b),E=Math.atan2(O,M);return y.piMod(E)}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.snapLength=x.nearestPoint=void 0;var d=s(33);x.nearestPoint=function(y,p,n,o,u,r){var i,a=1/0,c=[n,o],h=20;r&&r>200&&(h=r/10);for(var v=1/h,f=v/10,m=0;m<=h;m++){var b=m*v,M=[u.apply(null,y.concat([b])),u.apply(null,p.concat([b]))];(j=d.distance(c[0],c[1],M[0],M[1]))<a&&(i=b,a=j)}if(i===0)return{x:y[0],y:p[0]};if(i===1){var O=y.length;return{x:y[O-1],y:p[O-1]}}for(a=1/0,m=0;m<32&&!(f<1e-4);m++){var E=i-f,A=i+f,j=(M=[u.apply(null,y.concat([E])),u.apply(null,p.concat([E]))],d.distance(c[0],c[1],M[0],M[1]));if(E>=0&&j<a)i=E,a=j;else{var B=[u.apply(null,y.concat([A])),u.apply(null,p.concat([A]))],D=d.distance(c[0],c[1],B[0],B[1]);A<=1&&D<a?(i=A,a=D):f*=.5}}return{x:u.apply(null,y.concat([i])),y:u.apply(null,p.concat([i]))}},x.snapLength=function(y,p){for(var n=0,o=y.length,u=0;u<o;u++){var r=y[u],i=p[u],a=y[(u+1)%o],c=p[(u+1)%o];n+=d.distance(r,i,a,c)}return n/2}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(163),y=s(163),p=s(331);function n(o,u){return[u[0]+(u[0]-o[0]),u[1]+(u[1]-o[1])]}x.default=function(o){for(var u=[],r=null,i=null,a=null,c=0,h=(o=p.default(o)).length,v=0;v<h;v++){var f=o[v];i=o[v+1];var m=f[0],b={command:m,prePoint:r,params:f,startTangent:null,endTangent:null};switch(m){case"M":a=[f[1],f[2]],c=v;break;case"A":var M=d.default(r,f);b.arcParams=M}if(m==="Z")r=a,i=o[c+1];else{var O=f.length;r=[f[O-2],f[O-1]]}i&&i[0]==="Z"&&(i=o[c],u[c]&&(u[c].prePoint=r)),b.currentPoint=r,u[c]&&y.isSamePoint(r,u[c].currentPoint)&&(u[c].prePoint=b.prePoint);var E=i?[i[i.length-2],i[i.length-1]]:null;b.nextPoint=E;var A=b.prePoint;if(["L","H","V"].includes(m))b.startTangent=[A[0]-r[0],A[1]-r[1]],b.endTangent=[r[0]-A[0],r[1]-A[1]];else if(m==="Q"){var j=[f[1],f[2]];b.startTangent=[A[0]-j[0],A[1]-j[1]],b.endTangent=[r[0]-j[0],r[1]-j[1]]}else if(m==="T")j=n((T=u[v-1]).currentPoint,A),T.command==="Q"?(b.command="Q",b.startTangent=[A[0]-j[0],A[1]-j[1]],b.endTangent=[r[0]-j[0],r[1]-j[1]]):(b.command="TL",b.startTangent=[A[0]-r[0],A[1]-r[1]],b.endTangent=[r[0]-A[0],r[1]-A[1]]);else if(m==="C"){var B=[f[1],f[2]],D=[f[3],f[4]];b.startTangent=[A[0]-B[0],A[1]-B[1]],b.endTangent=[r[0]-D[0],r[1]-D[1]]}else if(m==="S"){var T;B=n((T=u[v-1]).currentPoint,A),D=[f[1],f[2]],T.command==="C"?(b.command="C",b.startTangent=[A[0]-B[0],A[1]-B[1]],b.endTangent=[r[0]-D[0],r[1]-D[1]]):(b.command="SQ",b.startTangent=[A[0]-D[0],A[1]-D[1]],b.endTangent=[r[0]-D[0],r[1]-D[1]])}else if(m==="A"){var Y=.001,G=b.arcParams||{},U=G.cx,H=U===void 0?0:U,J=G.cy,ut=J===void 0?0:J,$=G.rx,K=$===void 0?0:$,ot=G.ry,at=ot===void 0?0:ot,ht=G.sweepFlag,St=ht===void 0?0:ht,pt=G.startAngle,xt=pt===void 0?0:pt,vt=G.endAngle,gt=vt===void 0?0:vt;St===0&&(Y*=-1);var _t=K*Math.cos(xt-Y)+H,Bt=at*Math.sin(xt-Y)+ut;b.startTangent=[_t-a[0],Bt-a[1]];var At=K*Math.cos(xt+gt+Y)+H,It=at*Math.sin(xt+gt-Y)+ut;b.endTangent=[A[0]-At,A[1]-It]}u.push(b)}return u}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(67),y=s(68);function p(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function n(r,i){return p(r)*p(i)?(r[0]*i[0]+r[1]*i[1])/(p(r)*p(i)):1}function o(r,i){return(r[0]*i[1]<r[1]*i[0]?-1:1)*Math.acos(n(r,i))}function u(r,i){return r[0]===i[0]&&r[1]===i[1]}x.isSamePoint=u,x.default=function(r,i){var a=i[1],c=i[2],h=d.default(y.default(i[3]),2*Math.PI),v=i[4],f=i[5],m=r[0],b=r[1],M=i[6],O=i[7],E=Math.cos(h)*(m-M)/2+Math.sin(h)*(b-O)/2,A=-1*Math.sin(h)*(m-M)/2+Math.cos(h)*(b-O)/2,j=E*E/(a*a)+A*A/(c*c);j>1&&(a*=Math.sqrt(j),c*=Math.sqrt(j));var B=a*a*(A*A)+c*c*(E*E),D=B?Math.sqrt((a*a*(c*c)-B)/B):1;v===f&&(D*=-1),isNaN(D)&&(D=0);var T=c?D*a*A/c:0,Y=a?D*-c*E/a:0,G=(m+M)/2+Math.cos(h)*T-Math.sin(h)*Y,U=(b+O)/2+Math.sin(h)*T+Math.cos(h)*Y,H=[(E-T)/a,(A-Y)/c],J=[(-1*E-T)/a,(-1*A-Y)/c],ut=o([1,0],H),$=o(H,J);return n(H,J)<=-1&&($=Math.PI),n(H,J)>=1&&($=0),f===0&&$>0&&($-=2*Math.PI),f===1&&$<0&&($+=2*Math.PI),{cx:G,cy:U,rx:u(r,[M,O])?0:a,ry:u(r,[M,O])?0:c,startAngle:ut,endAngle:ut+$,xRotation:h,arcFlag:v,sweepFlag:f}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(73),n=s(60),o=s(0),u=s(18),r=function(i){function a(){return i!==null&&i.apply(this,arguments)||this}return d.__extends(a,i),a.prototype.onCanvasChange=function(c){n.refreshElement(this,c)},a.prototype.getShapeBase=function(){return p},a.prototype.getGroupBase=function(){return a},a.prototype._applyClip=function(c,h){h&&(c.save(),n.applyAttrsToContext(c,h),h.createPath(c),c.restore(),c.clip(),h._afterDraw())},a.prototype.cacheCanvasBBox=function(){var c=this.cfg.children,h=[],v=[];o.each(c,function(j){var B=j.cfg.cacheCanvasBBox;B&&j.cfg.isInView&&(h.push(B.minX,B.maxX),v.push(B.minY,B.maxY))});var f=null;if(h.length){var m=Math.min.apply(null,h),b=Math.max.apply(null,h),M=Math.min.apply(null,v),O=Math.max.apply(null,v);f={minX:m,minY:M,x:m,y:M,maxX:b,maxY:O,width:b-m,height:O-M};var E=this.cfg.canvas;if(E){var A=E.getViewRange();this.set("isInView",u.intersectRect(f,A))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",f)},a.prototype.draw=function(c,h){var v=this.cfg.children,f=!h||this.cfg.refresh;v.length&&f&&(c.save(),n.applyAttrsToContext(c,this),this._applyClip(c,this.getClip()),n.drawChildren(c,v,h),c.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},a.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},a}(y.AbstractGroup);x.default=r},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(339),y=/[a-z]/;function p(n,o){return[o[0]+(o[0]-n[0]),o[1]+(o[1]-n[1])]}x.default=function(n){var o=d.default(n);if(!o||!o.length)return[["M",0,0]];for(var u=!1,r=0;r<o.length;r++){var i=o[r][0];if(y.test(i)||["V","H","T","S"].indexOf(i)>=0){u=!0;break}}if(!u)return o;var a=[],c=0,h=0,v=0,f=0,m=0,b=o[0];b[0]!=="M"&&b[0]!=="m"||(v=c=+b[1],f=h=+b[2],m++,a[0]=["M",c,h]),r=m;for(var M=o.length;r<M;r++){var O=o[r],E=a[r-1],A=[],j=(i=O[0]).toUpperCase();if(i!==j)switch(A[0]=j,j){case"A":A[1]=O[1],A[2]=O[2],A[3]=O[3],A[4]=O[4],A[5]=O[5],A[6]=+O[6]+c,A[7]=+O[7]+h;break;case"V":A[1]=+O[1]+h;break;case"H":A[1]=+O[1]+c;break;case"M":v=+O[1]+c,f=+O[2]+h;break;default:for(var B=1,D=O.length;B<D;B++)A[B]=+O[B]+(B%2?c:h)}else A=o[r];switch(j){case"Z":c=+v,h=+f;break;case"H":A=["L",c=A[1],h];break;case"V":A=["L",c,h=A[1]];break;case"T":c=A[1],h=A[2];var T=p([E[1],E[2]],[E[3],E[4]]);A=["Q",T[0],T[1],c,h];break;case"S":c=A[A.length-2],h=A[A.length-1];var Y=E.length,G=p([E[Y-4],E[Y-3]],[E[Y-2],E[Y-1]]);A=["C",G[0],G[1],A[1],A[2],c,h];break;case"M":v=A[A.length-2],f=A[A.length-1];break;default:c=A[A.length-2],h=A[A.length-1]}a.push(A)}return a}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(159);x.default=function(y,p,n){var o=d.getOffScreenContext();return y.createPath(o),o.isPointInPath(p,n)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});function d(p){return Math.abs(p)<1e-6?0:p<0?-1:1}function y(p,n,o){return(o[0]-p[0])*(n[1]-p[1])==(n[0]-p[0])*(o[1]-p[1])&&Math.min(p[0],n[0])<=o[0]&&o[0]<=Math.max(p[0],n[0])&&Math.min(p[1],n[1])<=o[1]&&o[1]<=Math.max(p[1],n[1])}x.default=function(p,n,o){var u=!1,r=p.length;if(r<=2)return!1;for(var i=0;i<r;i++){var a=p[i],c=p[(i+1)%r];if(y(a,c,[n,o]))return!0;d(a[1]-o)>0!=d(c[1]-o)>0&&d(n-(o-a[1])*(a[0]-c[0])/(a[1]-c[1])-a[0])<0&&(u=!u)}return u}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(18);x.default=function(y,p,n,o,u,r,i,a){var c=(Math.atan2(a-p,i-y)+2*Math.PI)%(2*Math.PI);if(c<o||c>u)return!1;var h={x:y+n*Math.cos(c),y:p+n*Math.sin(c)};return d.distance(h.x,h.y,i,a)<=r/2}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(75);x.default=function(y,p,n,o,u){var r=y.length;if(r<2)return!1;for(var i=0;i<r-1;i++){var a=y[i][0],c=y[i][1],h=y[i+1][0],v=y[i+1][1];if(d.default(a,c,h,v,p,n,o))return!0}if(u){var f=y[0],m=y[r-1];if(d.default(f[0],f[1],m[0],m[1],p,n,o))return!0}return!1}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(344),y=s(33);x.default={box:function(n){for(var o=[],u=[],r=0;r<n.length;r++){var i=n[r];o.push(i[0]),u.push(i[1])}return y.getBBoxByArray(o,u)},length:function(n){return d.lengthOfSegment(n)},pointAt:function(n,o){return d.pointAtSegments(n,o)},pointDistance:function(n,o,u){return d.distanceAtSegment(n,o,u)},tangentAngle:function(n,o){return d.angleAtSegments(n,o)}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(0),n=s(110),o=s(109),u=s(61),r=s(19),i=s(29),a=function(c){function h(){return c!==null&&c.apply(this,arguments)||this}return d.__extends(h,c),h.prototype.isEntityGroup=function(){return!0},h.prototype.createDom=function(){var v=i.createSVGElement("g");this.set("el",v);var f=this.getParent();if(f){var m=f.get("el");m||(m=f.createDom(),f.set("el",m)),m.appendChild(v)}return v},h.prototype.afterAttrsChange=function(v){c.prototype.afterAttrsChange.call(this,v);var f=this.get("canvas");if(f&&f.get("autoDraw")){var m=f.get("context");this.createPath(m,v)}},h.prototype.onCanvasChange=function(v){o.refreshElement(this,v)},h.prototype.getShapeBase=function(){return n},h.prototype.getGroupBase=function(){return h},h.prototype.draw=function(v){var f=this.getChildren(),m=this.get("el");this.get("destroyed")?m&&m.parentNode.removeChild(m):(m||this.createDom(),u.setClip(this,v),this.createPath(v),f.length&&o.drawChildren(v,f))},h.prototype.createPath=function(v,f){var m=this.attr(),b=this.get("el");p.each(f||m,function(M,O){r.SVG_ATTR_MAP[O]&&b.setAttribute(r.SVG_ATTR_MAP[O],M)}),u.setTransform(this)},h}(y.AbstractGroup);x.default=a},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(16);d.translate=function(y,p,n){var o=new Array(9);return d.fromTranslation(o,n),d.multiply(y,o,p)},d.rotate=function(y,p,n){var o=new Array(9);return d.fromRotation(o,n),d.multiply(y,o,p)},d.scale=function(y,p,n){var o=new Array(9);return d.fromScaling(o,n),d.multiply(y,o,p)},d.transform=function(y,p){for(var n=[].concat(y),o=0,u=p.length;o<u;o++){var r=p[o];switch(r[0]){case"t":d.translate(n,n,[r[1],r[2]]);break;case"s":d.scale(n,n,[r[1],r[2]]);break;case"r":d.rotate(n,n,r[1])}}return n},x.default=d},function(C,x,s){var d=s(76),y=s(114),p=s(81),n=s(403),o=s(409),u=s(179),r=s(180),i=s(412),a=s(413),c=s(184),h=s(414),v=s(54),f=s(418),m=s(419),b=s(189),M=s(15),O=s(53),E=s(423),A=s(25),j=s(425),B=s(41),D=s(46),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,C.exports=function Y(G,U,H,J,ut,$){var K,ot=1&U,at=2&U,ht=4&U;if(H&&(K=ut?H(G,J,ut,$):H(G)),K!==void 0)return K;if(!A(G))return G;var St=M(G);if(St){if(K=f(G),!ot)return r(G,K)}else{var pt=v(G),xt=pt=="[object Function]"||pt=="[object GeneratorFunction]";if(O(G))return u(G,ot);if(pt=="[object Object]"||pt=="[object Arguments]"||xt&&!ut){if(K=at||xt?{}:b(G),!ot)return at?a(G,o(K,G)):i(G,n(K,G))}else{if(!T[pt])return ut?G:{};K=m(G,pt,ot)}}$||($=new d);var vt=$.get(G);if(vt)return vt;$.set(G,K),j(G)?G.forEach(function(_t){K.add(Y(_t,U,H,_t,G,$))}):E(G)&&G.forEach(function(_t,Bt){K.set(Bt,Y(_t,U,H,Bt,G,$))});var gt=St?void 0:(ht?at?h:c:at?D:B)(G);return y(gt||G,function(_t,Bt){gt&&(_t=G[Bt=_t]),p(K,Bt,Y(_t,U,H,Bt,G,$))}),K}},function(C,x,s){(function(d){function y(n){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}var p=(d===void 0?"undefined":y(d))=="object"&&d&&d.Object===Object&&d;C.exports=p}).call(this,s(385))},function(C,x){var s=Function.prototype.toString;C.exports=function(d){if(d!=null){try{return s.call(d)}catch(y){}try{return d+""}catch(y){}}return""}},function(C,x,s){var d=s(44),y=function(){try{var p=d(Object,"defineProperty");return p({},"",{}),p}catch(n){}}();C.exports=y},function(C,x,s){var d=s(404),y=s(64),p=s(15),n=s(53),o=s(83),u=s(65),r=Object.prototype.hasOwnProperty;C.exports=function(i,a){var c=p(i),h=!c&&y(i),v=!c&&!h&&n(i),f=!c&&!h&&!v&&u(i),m=c||h||v||f,b=m?d(i.length,String):[],M=b.length;for(var O in i)!a&&!r.call(i,O)||m&&(O=="length"||v&&(O=="offset"||O=="parent")||f&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||o(O,M))||b.push(O);return b}},function(C,x){C.exports=function(s,d){return function(y){return s(d(y))}}},function(C,x,s){(function(d){function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}var p=s(31),n=y(x)=="object"&&x&&!x.nodeType&&x,o=n&&y(d)=="object"&&d&&!d.nodeType&&d,u=o&&o.exports===n?p.Buffer:void 0,r=u?u.allocUnsafe:void 0;d.exports=function(i,a){if(a)return i.slice();var c=i.length,h=r?r(c):new i.constructor(c);return i.copy(h),h}}).call(this,s(115)(C))},function(C,x){C.exports=function(s,d){var y=-1,p=s.length;for(d||(d=Array(p));++y<p;)d[y]=s[y];return d}},function(C,x){C.exports=function(s,d){for(var y=-1,p=s==null?0:s.length,n=0,o=[];++y<p;){var u=s[y];d(u,y,s)&&(o[n++]=u)}return o}},function(C,x){C.exports=function(){return[]}},function(C,x,s){var d=s(120),y=s(86),p=s(119),n=s(182),o=Object.getOwnPropertySymbols?function(u){for(var r=[];u;)d(r,p(u)),u=y(u);return r}:n;C.exports=o},function(C,x,s){var d=s(185),y=s(119),p=s(41);C.exports=function(n){return d(n,p,y)}},function(C,x,s){var d=s(120),y=s(15);C.exports=function(p,n,o){var u=n(p);return y(p)?u:d(u,o(p))}},function(C,x,s){var d=s(44)(s(31),"Set");C.exports=d},function(C,x,s){var d=s(31).Uint8Array;C.exports=d},function(C,x,s){var d=s(121);C.exports=function(y,p){var n=p?d(y.buffer):y.buffer;return new y.constructor(n,y.byteOffset,y.length)}},function(C,x,s){var d=s(190),y=s(86),p=s(85);C.exports=function(n){return typeof n.constructor!="function"||p(n)?{}:d(y(n))}},function(C,x,s){var d=s(25),y=Object.create,p=function(){function n(){}return function(o){if(!d(o))return{};if(y)return y(o);n.prototype=o;var u=new n;return n.prototype=void 0,u}}();C.exports=p},function(C,x,s){C.exports=s(192)},function(C,x,s){var d=s(114),y=s(87),p=s(193),n=s(15);C.exports=function(o,u){return(n(o)?d:y)(o,p(u))}},function(C,x,s){var d=s(47);C.exports=function(y){return typeof y=="function"?y:d}},function(C,x,s){var d=s(181),y=s(429),p=s(39),n=s(15);C.exports=function(o,u){return(n(o)?d:y)(o,p(u,3))}},function(C,x,s){var d=s(432),y=s(34);C.exports=function p(n,o,u,r,i){return n===o||(n==null||o==null||!y(n)&&!y(o)?n!=n&&o!=o:d(n,o,u,r,p,i))}},function(C,x,s){var d=s(197),y=s(435),p=s(198);C.exports=function(n,o,u,r,i,a){var c=1&u,h=n.length,v=o.length;if(h!=v&&!(c&&v>h))return!1;var f=a.get(n),m=a.get(o);if(f&&m)return f==o&&m==n;var b=-1,M=!0,O=2&u?new d:void 0;for(a.set(n,o),a.set(o,n);++b<h;){var E=n[b],A=o[b];if(r)var j=c?r(A,E,b,o,n,a):r(E,A,b,n,o,a);if(j!==void 0){if(j)continue;M=!1;break}if(O){if(!y(o,function(B,D){if(!p(O,D)&&(E===B||i(E,B,u,r,a)))return O.push(D)})){M=!1;break}}else if(E!==A&&!i(E,A,u,r,a)){M=!1;break}}return a.delete(n),a.delete(o),M}},function(C,x,s){var d=s(113),y=s(433),p=s(434);function n(o){var u=-1,r=o==null?0:o.length;for(this.__data__=new d;++u<r;)this.add(o[u])}n.prototype.add=n.prototype.push=y,n.prototype.has=p,C.exports=n},function(C,x){C.exports=function(s,d){return s.has(d)}},function(C,x,s){var d=s(25);C.exports=function(y){return y==y&&!d(y)}},function(C,x){C.exports=function(s,d){return function(y){return y!=null&&y[s]===d&&(d!==void 0||s in Object(y))}}},function(C,x,s){var d=s(445);C.exports=function(y){return y==null?"":d(y)}},function(C,x,s){var d=s(446),y=s(203);C.exports=function(p,n){return p!=null&&y(p,n,d)}},function(C,x,s){var d=s(89),y=s(64),p=s(15),n=s(83),o=s(116),u=s(66);C.exports=function(r,i,a){for(var c=-1,h=(i=d(i,r)).length,v=!1;++c<h;){var f=u(i[c]);if(!(v=r!=null&&a(r,f)))break;r=r[f]}return v||++c!=h?v:!!(h=r==null?0:r.length)&&o(h)&&n(f,h)&&(p(r)||y(r))}},function(C,x){C.exports=function(s){return function(d){return d==null?void 0:d[s]}}},function(C,x,s){var d=s(449),y=s(203);C.exports=function(p,n){return p!=null&&y(p,n,d)}},function(C,x){C.exports=function(s){return s===void 0}},function(C,x,s){var d=s(90),y=s(39),p=s(208),n=s(15);C.exports=function(o,u){return(n(o)?d:p)(o,y(u,3))}},function(C,x,s){var d=s(87),y=s(38);C.exports=function(p,n){var o=-1,u=y(p)?Array(p.length):[];return d(p,function(r,i,a){u[++o]=n(r,i,a)}),u}},function(C,x,s){var d=s(451),y=s(87),p=s(39),n=s(452),o=s(15);C.exports=function(u,r,i){var a=o(u)?d:n,c=arguments.length<3;return a(u,p(r,4),i,c,y)}},function(C,x,s){var d=s(462),y=Math.max;C.exports=function(p,n,o){return n=y(n===void 0?p.length-1:n,0),function(){for(var u=arguments,r=-1,i=y(u.length-n,0),a=Array(i);++r<i;)a[r]=u[n+r];r=-1;for(var c=Array(n+1);++r<n;)c[r]=u[r];return c[n]=o(a),d(p,this,c)}}},function(C,x,s){var d=s(463),y=s(464)(d);C.exports=y},function(C,x){C.exports=function(s,d,y,p){for(var n=s.length,o=y+(p?1:-1);p?o--:++o<n;)if(d(s[o],o,s))return o;return-1}},function(C,x,s){var d=s(38),y=s(34);C.exports=function(p){return y(p)&&d(p)}},function(C,x,s){var d=s(473),y=s(41);C.exports=function(p){return p==null?[]:d(p,y(p))}},function(C,x,s){var d=s(24),y=s(216);C.exports=function(n,o,u,r){return function(i,a,c,h){var v,f,m={},b=new y,M=function(E){var A=E.v!==v?E.v:E.w,j=m[A],B=c(E),D=f.distance+B;if(B<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+E+" Weight: "+B);D<j.distance&&(j.distance=D,j.predecessor=v,b.decrease(A,D))};for(i.nodes().forEach(function(O){var E=O===a?0:Number.POSITIVE_INFINITY;m[O]={distance:E},b.add(O,E)});b.size()>0&&(v=b.removeMin(),(f=m[v]).distance!==Number.POSITIVE_INFINITY);)h(v).forEach(M);return m}(n,String(o),u||p,r||function(i){return n.outEdges(i)})};var p=d.constant(1)},function(C,x,s){var d=s(24);function y(){this._arr=[],this._keyIndices={}}C.exports=y,y.prototype.size=function(){return this._arr.length},y.prototype.keys=function(){return this._arr.map(function(p){return p.key})},y.prototype.has=function(p){return d.has(this._keyIndices,p)},y.prototype.priority=function(p){var n=this._keyIndices[p];if(n!==void 0)return this._arr[n].priority},y.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},y.prototype.add=function(p,n){var o=this._keyIndices;if(p=String(p),!d.has(o,p)){var u=this._arr,r=u.length;return o[p]=r,u.push({key:p,priority:n}),this._decrease(r),!0}return!1},y.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var p=this._arr.pop();return delete this._keyIndices[p.key],this._heapify(0),p.key},y.prototype.decrease=function(p,n){var o=this._keyIndices[p];if(n>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+p+" Old: "+this._arr[o].priority+" New: "+n);this._arr[o].priority=n,this._decrease(o)},y.prototype._heapify=function(p){var n=this._arr,o=2*p,u=o+1,r=p;o<n.length&&(r=n[o].priority<n[r].priority?o:r,u<n.length&&(r=n[u].priority<n[r].priority?u:r),r!==p&&(this._swap(p,r),this._heapify(r)))},y.prototype._decrease=function(p){for(var n,o=this._arr,u=o[p].priority;p!==0&&!(o[n=p>>1].priority<u);)this._swap(p,n),p=n},y.prototype._swap=function(p,n){var o=this._arr,u=this._keyIndices,r=o[p],i=o[n];o[p]=i,o[n]=r,u[i.key]=p,u[r.key]=n}},function(C,x,s){var d=s(24);C.exports=function(y){var p=0,n=[],o={},u=[];return y.nodes().forEach(function(r){d.has(o,r)||function i(a){var c=o[a]={onStack:!0,lowlink:p,index:p++};if(n.push(a),y.successors(a).forEach(function(f){d.has(o,f)?o[f].onStack&&(c.lowlink=Math.min(c.lowlink,o[f].index)):(i(f),c.lowlink=Math.min(c.lowlink,o[f].lowlink))}),c.lowlink===c.index){var h,v=[];do h=n.pop(),o[h].onStack=!1,v.push(h);while(a!==h);u.push(v)}}(r)}),u}},function(C,x,s){var d=s(24);function y(n){var o={},u={},r=[];if(d.each(n.sinks(),function i(a){if(d.has(u,a))throw new p;d.has(o,a)||(u[a]=!0,o[a]=!0,d.each(n.predecessors(a),i),delete u[a],r.push(a))}),d.size(o)!==n.nodeCount())throw new p;return r}function p(){}C.exports=y,y.CycleException=p,p.prototype=new Error},function(C,x,s){var d=s(24);C.exports=function(y,p,n){d.isArray(p)||(p=[p]);var o=(y.isDirected()?y.successors:y.neighbors).bind(y),u=[],r={};return d.each(p,function(i){if(!y.hasNode(i))throw new Error("Graph does not have node: "+i);(function a(c,h,v,f,m,b){d.has(f,h)||(f[h]=!0,v||b.push(h),d.each(m(h),function(M){a(c,M,v,f,m,b)}),v&&b.push(h))})(y,i,n==="post",r,o,u)}),u}},function(C,x,s){var d=s(492);C.exports=function(y){return y?(y=d(y))===1/0||y===-1/0?17976931348623157e292*(y<0?-1:1):y==y?y:0:y===0?y:0}},function(C,x,s){var d=s(127);C.exports=function(y){return(y==null?0:y.length)?d(y,1):[]}},function(C,x,s){var d=s(82),y=s(51);C.exports=function(p,n,o){(o!==void 0&&!y(p[n],o)||o===void 0&&!(n in p))&&d(p,n,o)}},function(C,x){C.exports=function(s,d){if((d!=="constructor"||typeof s[d]!="function")&&d!="__proto__")return s[d]}},function(C,x){C.exports=function(s,d){return s<d}},function(C,x,s){"use strict";var d=s(13),y=s(30).Graph,p=s(93).slack;function n(r,i){return d.forEach(r.nodes(),function a(c){d.forEach(i.nodeEdges(c),function(h){var v=h.v,f=c===v?h.w:v;r.hasNode(f)||p(i,h)||(r.setNode(f,{}),r.setEdge(c,f,{}),a(f))})}),r.nodeCount()}function o(r,i){return d.minBy(i.edges(),function(a){if(r.hasNode(a.v)!==r.hasNode(a.w))return p(i,a)})}function u(r,i,a){d.forEach(r.nodes(),function(c){i.node(c).rank+=a})}C.exports=function(r){var i,a,c=new y({directed:!1}),h=r.nodes()[0],v=r.nodeCount();for(c.setNode(h,{});n(c,r)<v;)i=o(c,r),a=c.hasNode(i.v)?p(r,i):-p(r,i),u(c,r,a);return c}},function(C,x,s){var d=s(48),y={getId:function(o){return o.id||o.name},getHGap:function(o){return o.hgap||18},getVGap:function(o){return o.vgap||18},getChildren:function(o){return o.children},getHeight:function(o){return o.height||36},getWidth:function(o){var u=o.label||" ";return o.width||18*u.split("").length}};function p(n,o){var u=this;if(u.vgap=u.hgap=0,n instanceof p)return n;u.data=n;var r=o.getHGap(n),i=o.getVGap(n);return u.width=o.getWidth(n),u.height=o.getHeight(n),u.id=o.getId(n),u.x=u.y=0,u.depth=0,u.children||(u.children=[]),u.addGap(r,i),u}d.assign(p.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(o,u){this.hgap+=o,this.vgap+=u,this.width+=2*o,this.height+=2*u},eachNode:function(o){for(var u,r=[this];u=r.shift();)o(u),r=u.children.concat(r)},DFTraverse:function(o){this.eachNode(o)},BFTraverse:function(o){for(var u,r=[this];u=r.shift();)o(u),r=r.concat(u.children)},getBoundingBox:function(){var o={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(u){o.left=Math.min(o.left,u.x),o.top=Math.min(o.top,u.y),o.width=Math.max(o.width,u.x+u.width),o.height=Math.max(o.height,u.y+u.height)}),o},translate:function(o,u){o===void 0&&(o=0),u===void 0&&(u=0),this.eachNode(function(r){r.x+=o,r.y+=u})},right2left:function(){var o=this.getBoundingBox();this.eachNode(function(u){u.x=u.x-2*(u.x-o.left)-u.width}),this.translate(o.width,0)},bottom2top:function(){var o=this.getBoundingBox();this.eachNode(function(u){u.y=u.y-2*(u.y-o.top)-u.height}),this.translate(0,o.height)}}),C.exports=function(n,o,u){o===void 0&&(o={});var r,i=new p(n,o=d.assign({},y,o)),a=[i];if(!u&&!n.collapsed){for(;r=a.shift();)if(!r.data.collapsed){var c=o.getChildren(r.data),h=c?c.length:0;if(r.children=new Array(h),c&&h)for(var v=0;v<h;v++){var f=new p(c[v],o);r.children[v]=f,a.push(f),f.parent=r,f.depth=r.depth+1}}}return i}},function(C,x,s){var d=s(226);C.exports=function(y,p){for(var n=d(y.data,p,!0),o=d(y.data,p,!0),u=y.children.length,r=Math.round(u/2),i=p.getSide||function(h,v){return v<r?"right":"left"},a=0;a<u;a++){var c=y.children[a];i(c,a)==="right"?o.children.push(c):n.children.push(c)}return n.eachNode(function(h){h.isRoot()||(h.side="left")}),o.eachNode(function(h){h.isRoot()||(h.side="right")}),{left:n,right:o}}},function(C,x,s){"use strict";var d={};s.r(d),s.d(d,"easeLinear",function(){return G}),s.d(d,"easeQuad",function(){return J}),s.d(d,"easeQuadIn",function(){return U}),s.d(d,"easeQuadOut",function(){return H}),s.d(d,"easeQuadInOut",function(){return J}),s.d(d,"easeCubic",function(){return K}),s.d(d,"easeCubicIn",function(){return ut}),s.d(d,"easeCubicOut",function(){return $}),s.d(d,"easeCubicInOut",function(){return K}),s.d(d,"easePoly",function(){return ht}),s.d(d,"easePolyIn",function(){return ot}),s.d(d,"easePolyOut",function(){return at}),s.d(d,"easePolyInOut",function(){return ht}),s.d(d,"easeSin",function(){return gt}),s.d(d,"easeSinIn",function(){return xt}),s.d(d,"easeSinOut",function(){return vt}),s.d(d,"easeSinInOut",function(){return gt}),s.d(d,"easeExp",function(){return It}),s.d(d,"easeExpIn",function(){return Bt}),s.d(d,"easeExpOut",function(){return At}),s.d(d,"easeExpInOut",function(){return It}),s.d(d,"easeCircle",function(){return V}),s.d(d,"easeCircleIn",function(){return lt}),s.d(d,"easeCircleOut",function(){return X}),s.d(d,"easeCircleInOut",function(){return V}),s.d(d,"easeBounce",function(){return rt}),s.d(d,"easeBounceIn",function(){return W}),s.d(d,"easeBounceOut",function(){return rt}),s.d(d,"easeBounceInOut",function(){return tt}),s.d(d,"easeBack",function(){return Et}),s.d(d,"easeBackIn",function(){return Q}),s.d(d,"easeBackOut",function(){return ft}),s.d(d,"easeBackInOut",function(){return Et}),s.d(d,"easeElastic",function(){return Ft}),s.d(d,"easeElasticIn",function(){return Nt}),s.d(d,"easeElasticOut",function(){return Ft}),s.d(d,"easeElasticInOut",function(){return Rt});var y=s(1),p=s(132),n=s(100),o=s(9),u=s(0);function r(Mt){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(it){return typeof it}:function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it})(Mt)}var i,a,c=0,h=0,v=0,f=0,m=0,b=0,M=(typeof performance=="undefined"?"undefined":r(performance))==="object"&&performance.now?performance:Date,O=(typeof window=="undefined"?"undefined":r(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Mt){setTimeout(Mt,17)};function E(){return m||(O(A),m=M.now()+b)}function A(){m=0}function j(){this._call=this._time=this._next=null}function B(Mt,it,yt){var jt=new j;return jt.restart(Mt,it,yt),jt}function D(){m=(f=M.now())+b,c=h=0;try{(function(){E(),++c;for(var Mt,it=i;it;)(Mt=m-it._time)>=0&&it._call.call(null,Mt),it=it._next;--c})()}finally{c=0,function(){for(var Mt,it,yt=i,jt=1/0;yt;)yt._call?(jt>yt._time&&(jt=yt._time),Mt=yt,yt=yt._next):(it=yt._next,yt._next=null,yt=Mt?Mt._next=it:i=it);a=Mt,Y(jt)}(),m=0}}function T(){var Mt=M.now(),it=Mt-f;it>1e3&&(b-=it,f=Mt)}function Y(Mt){c||(h&&(h=clearTimeout(h)),Mt-m>24?(Mt<1/0&&(h=setTimeout(D,Mt-M.now()-b)),v&&(v=clearInterval(v))):(v||(f=M.now(),v=setInterval(T,1e3)),c=1,O(D)))}function G(Mt){return+Mt}function U(Mt){return Mt*Mt}function H(Mt){return Mt*(2-Mt)}function J(Mt){return((Mt*=2)<=1?Mt*Mt:--Mt*(2-Mt)+1)/2}function ut(Mt){return Mt*Mt*Mt}function $(Mt){return--Mt*Mt*Mt+1}function K(Mt){return((Mt*=2)<=1?Mt*Mt*Mt:(Mt-=2)*Mt*Mt+2)/2}j.prototype=B.prototype={constructor:j,restart:function(it,yt,jt){if(typeof it!="function")throw new TypeError("callback is not a function");jt=(jt==null?E():+jt)+(yt==null?0:+yt),this._next||a===this||(a?a._next=this:i=this,a=this),this._call=it,this._time=jt,Y()},stop:function(){this._call&&(this._call=null,this._time=1/0,Y())}};var ot=function Mt(it){function yt(jt){return Math.pow(jt,it)}return it=+it,yt.exponent=Mt,yt}(3),at=function Mt(it){function yt(jt){return 1-Math.pow(1-jt,it)}return it=+it,yt.exponent=Mt,yt}(3),ht=function Mt(it){function yt(jt){return((jt*=2)<=1?Math.pow(jt,it):2-Math.pow(2-jt,it))/2}return it=+it,yt.exponent=Mt,yt}(3),St=Math.PI,pt=St/2;function xt(Mt){return+Mt==1?1:1-Math.cos(Mt*pt)}function vt(Mt){return Math.sin(Mt*pt)}function gt(Mt){return(1-Math.cos(St*Mt))/2}function _t(Mt){return 1.0009775171065494*(Math.pow(2,-10*Mt)-.0009765625)}function Bt(Mt){return _t(1-+Mt)}function At(Mt){return 1-_t(Mt)}function It(Mt){return((Mt*=2)<=1?_t(1-Mt):2-_t(Mt-1))/2}function lt(Mt){return 1-Math.sqrt(1-Mt*Mt)}function X(Mt){return Math.sqrt(1- --Mt*Mt)}function V(Mt){return((Mt*=2)<=1?1-Math.sqrt(1-Mt*Mt):Math.sqrt(1-(Mt-=2)*Mt)+1)/2}var Z=7.5625;function W(Mt){return 1-rt(1-Mt)}function rt(Mt){return(Mt=+Mt)<4/11?Z*Mt*Mt:Mt<8/11?Z*(Mt-=6/11)*Mt+3/4:Mt<10/11?Z*(Mt-=9/11)*Mt+15/16:Z*(Mt-=21/22)*Mt+63/64}function tt(Mt){return((Mt*=2)<=1?1-rt(1-Mt):rt(Mt-1)+1)/2}var Q=function Mt(it){function yt(jt){return(jt=+jt)*jt*(it*(jt-1)+jt)}return it=+it,yt.overshoot=Mt,yt}(1.70158),ft=function Mt(it){function yt(jt){return--jt*jt*((jt+1)*it+jt)+1}return it=+it,yt.overshoot=Mt,yt}(1.70158),Et=function Mt(it){function yt(jt){return((jt*=2)<1?jt*jt*((it+1)*jt-it):(jt-=2)*jt*((it+1)*jt+it)+2)/2}return it=+it,yt.overshoot=Mt,yt}(1.70158),Ct=2*Math.PI,Nt=function Mt(it,yt){var jt=Math.asin(1/(it=Math.max(1,it)))*(yt/=Ct);function Ht(ne){return it*_t(- --ne)*Math.sin((jt-ne)/yt)}return Ht.amplitude=function(ne){return Mt(ne,yt*Ct)},Ht.period=function(ne){return Mt(it,ne)},Ht}(1,.3),Ft=function Mt(it,yt){var jt=Math.asin(1/(it=Math.max(1,it)))*(yt/=Ct);function Ht(ne){return 1-it*_t(ne=+ne)*Math.sin((ne+jt)/yt)}return Ht.amplitude=function(ne){return Mt(ne,yt*Ct)},Ht.period=function(ne){return Mt(it,ne)},Ht}(1,.3),Rt=function Mt(it,yt){var jt=Math.asin(1/(it=Math.max(1,it)))*(yt/=Ct);function Ht(ne){return((ne=2*ne-1)<0?it*_t(-ne)*Math.sin((jt-ne)/yt):2-it*_t(ne)*Math.sin((jt+ne)/yt))/2}return Ht.amplitude=function(ne){return Mt(ne,yt*Ct)},Ht.period=function(ne){return Mt(it,ne)},Ht}(1,.3),kt=function(it,yt,jt){it.prototype=yt.prototype=jt,jt.constructor=it};function Pt(Mt,it){var yt=Object.create(Mt.prototype);for(var jt in it)yt[jt]=it[jt];return yt}function Xt(){}var Ut="\\s*([+-]?\\d+)\\s*",ct="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ve=/^#([0-9a-f]{3,8})$/,pe=new RegExp("^rgb\\("+[Ut,Ut,Ut]+"\\)$"),Me=new RegExp("^rgb\\("+[re,re,re]+"\\)$"),ge=new RegExp("^rgba\\("+[Ut,Ut,Ut,ct]+"\\)$"),ce=new RegExp("^rgba\\("+[re,re,re,ct]+"\\)$"),ye=new RegExp("^hsl\\("+[ct,re,re]+"\\)$"),be=new RegExp("^hsla\\("+[ct,re,re,ct]+"\\)$"),Oe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xe(){return this.rgb().formatHex()}function Ie(){return this.rgb().formatRgb()}function De(Mt){var it,yt;return Mt=(Mt+"").trim().toLowerCase(),(it=ve.exec(Mt))?(yt=it[1].length,it=parseInt(it[1],16),yt===6?we(it):yt===3?new Re(it>>8&15|it>>4&240,it>>4&15|240&it,(15&it)<<4|15&it,1):yt===8?Be(it>>24&255,it>>16&255,it>>8&255,(255&it)/255):yt===4?Be(it>>12&15|it>>8&240,it>>8&15|it>>4&240,it>>4&15|240&it,((15&it)<<4|15&it)/255):null):(it=pe.exec(Mt))?new Re(it[1],it[2],it[3],1):(it=Me.exec(Mt))?new Re(255*it[1]/100,255*it[2]/100,255*it[3]/100,1):(it=ge.exec(Mt))?Be(it[1],it[2],it[3],it[4]):(it=ce.exec(Mt))?Be(255*it[1]/100,255*it[2]/100,255*it[3]/100,it[4]):(it=ye.exec(Mt))?Dn(it[1],it[2]/100,it[3]/100,1):(it=be.exec(Mt))?Dn(it[1],it[2]/100,it[3]/100,it[4]):Oe.hasOwnProperty(Mt)?we(Oe[Mt]):Mt==="transparent"?new Re(NaN,NaN,NaN,0):null}function we(Mt){return new Re(Mt>>16&255,Mt>>8&255,255&Mt,1)}function Be(Mt,it,yt,jt){return jt<=0&&(Mt=it=yt=NaN),new Re(Mt,it,yt,jt)}function He(Mt){return Mt instanceof Xt||(Mt=De(Mt)),Mt?new Re((Mt=Mt.rgb()).r,Mt.g,Mt.b,Mt.opacity):new Re}function We(Mt,it,yt,jt){return arguments.length===1?He(Mt):new Re(Mt,it,yt,jt==null?1:jt)}function Re(Mt,it,yt,jt){this.r=+Mt,this.g=+it,this.b=+yt,this.opacity=+jt}function sn(){return"#"+Ue(this.r)+Ue(this.g)+Ue(this.b)}function en(){var Mt=this.opacity;return((Mt=isNaN(Mt)?1:Math.max(0,Math.min(1,Mt)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(Mt===1?")":", "+Mt+")")}function Ue(Mt){return((Mt=Math.max(0,Math.min(255,Math.round(Mt)||0)))<16?"0":"")+Mt.toString(16)}function Dn(Mt,it,yt,jt){return jt<=0?Mt=it=yt=NaN:yt<=0||yt>=1?Mt=it=NaN:it<=0&&(Mt=NaN),new Ge(Mt,it,yt,jt)}function yn(Mt){if(Mt instanceof Ge)return new Ge(Mt.h,Mt.s,Mt.l,Mt.opacity);if(Mt instanceof Xt||(Mt=De(Mt)),!Mt)return new Ge;if(Mt instanceof Ge)return Mt;var it=(Mt=Mt.rgb()).r/255,yt=Mt.g/255,jt=Mt.b/255,Ht=Math.min(it,yt,jt),ne=Math.max(it,yt,jt),le=NaN,fe=ne-Ht,qt=(ne+Ht)/2;return fe?(le=it===ne?(yt-jt)/fe+6*(yt<jt):yt===ne?(jt-it)/fe+2:(it-yt)/fe+4,fe/=qt<.5?ne+Ht:2-ne-Ht,le*=60):fe=qt>0&&qt<1?0:le,new Ge(le,fe,qt,Mt.opacity)}function Ge(Mt,it,yt,jt){this.h=+Mt,this.s=+it,this.l=+yt,this.opacity=+jt}function An(Mt,it,yt){return 255*(Mt<60?it+(yt-it)*Mt/60:Mt<180?yt:Mt<240?it+(yt-it)*(240-Mt)/60:it)}function Cn(Mt,it,yt,jt,Ht){var ne=Mt*Mt,le=ne*Mt;return((1-3*Mt+3*ne-le)*it+(4-6*ne+3*le)*yt+(1+3*Mt+3*ne-3*le)*jt+le*Ht)/6}kt(Xt,De,{copy:function(it){return Object.assign(new this.constructor,this,it)},displayable:function(){return this.rgb().displayable()},hex:Xe,formatHex:Xe,formatHsl:function(){return yn(this).formatHsl()},formatRgb:Ie,toString:Ie}),kt(Re,We,Pt(Xt,{brighter:function(it){return it=it==null?1/.7:Math.pow(1/.7,it),new Re(this.r*it,this.g*it,this.b*it,this.opacity)},darker:function(it){return it=it==null?.7:Math.pow(.7,it),new Re(this.r*it,this.g*it,this.b*it,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sn,formatHex:sn,formatRgb:en,toString:en})),kt(Ge,function(Mt,it,yt,jt){return arguments.length===1?yn(Mt):new Ge(Mt,it,yt,jt==null?1:jt)},Pt(Xt,{brighter:function(it){return it=it==null?1/.7:Math.pow(1/.7,it),new Ge(this.h,this.s,this.l*it,this.opacity)},darker:function(it){return it=it==null?.7:Math.pow(.7,it),new Ge(this.h,this.s,this.l*it,this.opacity)},rgb:function(){var it=this.h%360+360*(this.h<0),yt=isNaN(it)||isNaN(this.s)?0:this.s,jt=this.l,Ht=jt+(jt<.5?jt:1-jt)*yt,ne=2*jt-Ht;return new Re(An(it>=240?it-240:it+120,ne,Ht),An(it,ne,Ht),An(it<120?it+240:it-120,ne,Ht),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var it=this.opacity;return((it=isNaN(it)?1:Math.max(0,Math.min(1,it)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(it===1?")":", "+it+")")}}));var nn=function(it){return function(){return it}};function jn(Mt,it){return function(yt){return Mt+yt*it}}function bn(Mt){return(Mt=+Mt)==1?xn:function(it,yt){return yt-it?function(jt,Ht,ne){return jt=Math.pow(jt,ne),Ht=Math.pow(Ht,ne)-jt,ne=1/ne,function(le){return Math.pow(jt+le*Ht,ne)}}(it,yt,Mt):nn(isNaN(it)?yt:it)}}function xn(Mt,it){var yt=it-Mt;return yt?jn(Mt,yt):nn(isNaN(Mt)?it:Mt)}var rn=function Mt(it){var yt=bn(it);function jt(Ht,ne){var le=yt((Ht=We(Ht)).r,(ne=We(ne)).r),fe=yt(Ht.g,ne.g),qt=yt(Ht.b,ne.b),wt=xn(Ht.opacity,ne.opacity);return function(Lt){return Ht.r=le(Lt),Ht.g=fe(Lt),Ht.b=qt(Lt),Ht.opacity=wt(Lt),Ht+""}}return jt.gamma=Mt,jt}(1);function Ze(Mt){return function(it){var yt,jt,Ht=it.length,ne=new Array(Ht),le=new Array(Ht),fe=new Array(Ht);for(yt=0;yt<Ht;++yt)jt=We(it[yt]),ne[yt]=jt.r||0,le[yt]=jt.g||0,fe[yt]=jt.b||0;return ne=Mt(ne),le=Mt(le),fe=Mt(fe),jt.opacity=1,function(qt){return jt.r=ne(qt),jt.g=le(qt),jt.b=fe(qt),jt+""}}}Ze(function(Mt){var it=Mt.length-1;return function(yt){var jt=yt<=0?yt=0:yt>=1?(yt=1,it-1):Math.floor(yt*it),Ht=Mt[jt],ne=Mt[jt+1],le=jt>0?Mt[jt-1]:2*Ht-ne,fe=jt<it-1?Mt[jt+2]:2*ne-Ht;return Cn((yt-jt/it)*it,le,Ht,ne,fe)}}),Ze(function(Mt){var it=Mt.length;return function(yt){var jt=Math.floor(((yt%=1)<0?++yt:yt)*it),Ht=Mt[(jt+it-1)%it],ne=Mt[jt%it],le=Mt[(jt+1)%it],fe=Mt[(jt+2)%it];return Cn((yt-jt/it)*it,Ht,ne,le,fe)}});var un=function(it,yt){yt||(yt=[]);var jt,Ht=it?Math.min(yt.length,it.length):0,ne=yt.slice();return function(le){for(jt=0;jt<Ht;++jt)ne[jt]=it[jt]*(1-le)+yt[jt]*le;return ne}};function on(Mt){return ArrayBuffer.isView(Mt)&&!(Mt instanceof DataView)}function cn(Mt,it){var yt,jt=it?it.length:0,Ht=Mt?Math.min(jt,Mt.length):0,ne=new Array(Ht),le=new Array(jt);for(yt=0;yt<Ht;++yt)ne[yt]=ln(Mt[yt],it[yt]);for(;yt<jt;++yt)le[yt]=it[yt];return function(fe){for(yt=0;yt<Ht;++yt)le[yt]=ne[yt](fe);return le}}var Le=function(it,yt){var jt=new Date;return it=+it,yt=+yt,function(Ht){return jt.setTime(it*(1-Ht)+yt*Ht),jt}},pn=function(it,yt){return it=+it,yt=+yt,function(jt){return it*(1-jt)+yt*jt}};function Ke(Mt){return(Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(it){return typeof it}:function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it})(Mt)}var an=function(it,yt){var jt,Ht={},ne={};for(jt in it!==null&&Ke(it)==="object"||(it={}),yt!==null&&Ke(yt)==="object"||(yt={}),yt)jt in it?Ht[jt]=ln(it[jt],yt[jt]):ne[jt]=yt[jt];return function(le){for(jt in Ht)ne[jt]=Ht[jt](le);return ne}},wn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hn=new RegExp(wn.source,"g"),In=function(it,yt){var jt,Ht,ne,le=wn.lastIndex=hn.lastIndex=0,fe=-1,qt=[],wt=[];for(it+="",yt+="";(jt=wn.exec(it))&&(Ht=hn.exec(yt));)(ne=Ht.index)>le&&(ne=yt.slice(le,ne),qt[fe]?qt[fe]+=ne:qt[++fe]=ne),(jt=jt[0])===(Ht=Ht[0])?qt[fe]?qt[fe]+=Ht:qt[++fe]=Ht:(qt[++fe]=null,wt.push({i:fe,x:pn(jt,Ht)})),le=hn.lastIndex;return le<yt.length&&(ne=yt.slice(le),qt[fe]?qt[fe]+=ne:qt[++fe]=ne),qt.length<2?wt[0]?function(Lt){return function(Vt){return Lt(Vt)+""}}(wt[0].x):function(Lt){return function(){return Lt}}(yt):(yt=wt.length,function(Lt){for(var Vt,$t=0;$t<yt;++$t)qt[(Vt=wt[$t]).i]=Vt.x(Lt);return qt.join("")})};function Qn(Mt){return(Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(it){return typeof it}:function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it})(Mt)}var ln=function(it,yt){var jt,Ht=Qn(yt);return yt==null||Ht==="boolean"?nn(yt):(Ht==="number"?pn:Ht==="string"?(jt=De(yt))?(yt=jt,rn):In:yt instanceof De?rn:yt instanceof Date?Le:on(yt)?un:Array.isArray(yt)?cn:typeof yt.valueOf!="function"&&typeof yt.toString!="function"||isNaN(yt)?an:pn)(it,yt)},Mn=s(37),Jn=[1,0,0,0,1,0,0,0,1];function Sn(Mt,it,yt){var jt,Ht=it.startTime;if(yt<Ht+it.delay||it._paused)return!1;var ne=it.duration,le=it.easing;if(yt=yt-Ht-it.delay,it.repeat)jt=yt%ne/ne,jt=d[le](jt);else{if(!((jt=yt/ne)<1))return it.onFrame?Mt.attr(it.onFrame(1)):Mt.attr(it.toAttrs),!0;jt=d[le](jt)}if(it.onFrame){var fe=it.onFrame(jt);Mt.attr(fe)}else(function(qt,wt,Lt){var Vt={},$t=wt.fromAttrs,ie=wt.toAttrs;if(!qt.destroyed){var de,ke,Te,$e;for(var Ne in ie)if(!Object(u.isEqual)($t[Ne],ie[Ne]))if(Ne==="path"){var _n=ie[Ne],Qe=$t[Ne];_n.length>Qe.length?(_n=Mn.parsePathString(ie[Ne]),Qe=Mn.parsePathString($t[Ne]),Qe=Mn.fillPathByDiff(Qe,_n),Qe=Mn.formatPath(Qe,_n),wt.fromAttrs.path=Qe,wt.toAttrs.path=_n):wt.pathFormatted||(_n=Mn.parsePathString(ie[Ne]),Qe=Mn.parsePathString($t[Ne]),Qe=Mn.formatPath(Qe,_n),wt.fromAttrs.path=Qe,wt.toAttrs.path=_n,wt.pathFormatted=!0),Vt[Ne]=[];for(var zn=0;zn<_n.length;zn++){for(var Br=_n[zn],Ur=Qe[zn],Xn=[],fr=0;fr<Br.length;fr++)Object(u.isNumber)(Br[fr])&&Ur&&Object(u.isNumber)(Ur[fr])?(de=ln(Ur[fr],Br[fr]),Xn.push(de(Lt))):Xn.push(Br[fr]);Vt[Ne].push(Xn)}}else if(Ne==="matrix"){var Pr=(Te=$t[Ne]||Jn,(on($e=ie[Ne]||Jn)?un:cn)(Te,$e))(Lt);Vt[Ne]=Pr}else["fill","stroke","fillStyle","strokeStyle"].includes(Ne)&&(ke=ie[Ne],/^[r,R,L,l]{1}[\s]*\(/.test(ke))?Vt[Ne]=ie[Ne]:Object(u.isFunction)(ie[Ne])||(de=ln($t[Ne],ie[Ne]),Vt[Ne]=de(Lt));qt.attr(Vt)}})(Mt,it,jt);return!1}var tr=function(){function Mt(it){this.animators=[],this.current=0,this.timer=null,this.canvas=it}return Mt.prototype.initTimer=function(){var it,yt,jt,Ht=this;this.timer=B(function(ne){if(Ht.current=ne,Ht.animators.length>0){for(var le=Ht.animators.length-1;le>=0;le--)if((it=Ht.animators[le]).destroyed)Ht.removeAnimator(le);else{if(!it.isAnimatePaused())for(var fe=(yt=it.get("animations")).length-1;fe>=0;fe--)jt=yt[fe],Sn(it,jt,ne)&&(yt.splice(fe,1),jt.callback&&jt.callback());yt.length===0&&Ht.removeAnimator(le)}Ht.canvas.get("autoDraw")||Ht.canvas.draw()}})},Mt.prototype.addAnimator=function(it){this.animators.push(it)},Mt.prototype.removeAnimator=function(it){this.animators.splice(it,1)},Mt.prototype.isAnimating=function(){return!!this.animators.length},Mt.prototype.stop=function(){this.timer&&this.timer.stop()},Mt.prototype.stopAllAnimations=function(it){it===void 0&&(it=!0),this.animators.forEach(function(yt){yt.stopAnimate(it)}),this.animators=[],this.canvas.draw()},Mt.prototype.getTime=function(){return this.current},Mt}(),kr=s(96),hr=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function er(Mt,it,yt){yt.name=it,yt.target=Mt,yt.currentTarget=Mt,yt.delegateTarget=Mt,Mt.emit(it,yt)}function gr(Mt,it,yt){if(yt.bubbles){var jt=void 0,Ht=!1;if(it==="mouseenter"?(jt=yt.fromShape,Ht=!0):it==="mouseleave"&&(Ht=!0,jt=yt.toShape),Mt.isCanvas()&&Ht)return;if(jt&&Object(o.g)(Mt,jt))return void(yt.bubbles=!1);yt.name=it,yt.currentTarget=Mt,yt.delegateTarget=Mt,Mt.emit(it,yt)}}var nr=function(){function Mt(it){var yt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(jt){var Ht=jt.type;yt._triggerEvent(Ht,jt)},this._onDocumentMove=function(jt){if(yt.canvas.get("el")!==jt.target&&(yt.dragging||yt.currentShape)){var Ht=yt._getPointInfo(jt);yt.dragging&&yt._emitEvent("drag",jt,Ht,yt.draggingShape)}},this._onDocumentMouseUp=function(jt){if(yt.canvas.get("el")!==jt.target&&yt.dragging){var Ht=yt._getPointInfo(jt);yt.draggingShape&&yt._emitEvent("drop",jt,Ht,null),yt._emitEvent("dragend",jt,Ht,yt.draggingShape),yt._afterDrag(yt.draggingShape,Ht,jt)}},this.canvas=it.canvas}return Mt.prototype.init=function(){this._bindEvents()},Mt.prototype._bindEvents=function(){var it=this,yt=this.canvas.get("el");Object(o.a)(hr,function(jt){yt.addEventListener(jt,it._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Mt.prototype._clearEvents=function(){var it=this,yt=this.canvas.get("el");Object(o.a)(hr,function(jt){yt.removeEventListener(jt,it._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Mt.prototype._getEventObj=function(it,yt,jt,Ht,ne,le){var fe=new kr.a(it,yt);return fe.fromShape=ne,fe.toShape=le,fe.x=jt.x,fe.y=jt.y,fe.clientX=jt.clientX,fe.clientY=jt.clientY,fe.propagationPath.push(Ht),fe},Mt.prototype._getShape=function(it,yt){return this.canvas.getShape(it.x,it.y,yt)},Mt.prototype._getPointInfo=function(it){var yt=this.canvas,jt=yt.getClientByEvent(it),Ht=yt.getPointByEvent(it);return{x:Ht.x,y:Ht.y,clientX:jt.x,clientY:jt.y}},Mt.prototype._triggerEvent=function(it,yt){var jt=this._getPointInfo(yt),Ht=this._getShape(jt,yt),ne=this["_on"+it],le=!1;if(ne)ne.call(this,jt,Ht,yt);else{var fe=this.currentShape;it==="mouseenter"||it==="dragenter"||it==="mouseover"?(this._emitEvent(it,yt,jt,null,null,Ht),Ht&&this._emitEvent(it,yt,jt,Ht,null,Ht),it==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",yt,jt,null)):it==="mouseleave"||it==="dragleave"||it==="mouseout"?(le=!0,fe&&this._emitEvent(it,yt,jt,fe,fe,null),this._emitEvent(it,yt,jt,null,fe,null),it==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",yt,jt,null)):this._emitEvent(it,yt,jt,Ht,null,null)}if(le||(this.currentShape=Ht),Ht&&!Ht.get("destroyed")){var qt=this.canvas;qt.get("el").style.cursor=Ht.attr("cursor")||qt.get("cursor")}},Mt.prototype._onmousedown=function(it,yt,jt){jt.button===0&&(this.mousedownShape=yt,this.mousedownPoint=it,this.mousedownTimeStamp=jt.timeStamp),this._emitEvent("mousedown",jt,it,yt,null,null)},Mt.prototype._emitMouseoverEvents=function(it,yt,jt,Ht){var ne=this.canvas.get("el");jt!==Ht&&(jt&&(this._emitEvent("mouseout",it,yt,jt,jt,Ht),this._emitEvent("mouseleave",it,yt,jt,jt,Ht),Ht&&!Ht.get("destroyed")||(ne.style.cursor=this.canvas.get("cursor"))),Ht&&(this._emitEvent("mouseover",it,yt,Ht,jt,Ht),this._emitEvent("mouseenter",it,yt,Ht,jt,Ht)))},Mt.prototype._emitDragoverEvents=function(it,yt,jt,Ht,ne){Ht?(Ht!==jt&&(jt&&this._emitEvent("dragleave",it,yt,jt,jt,Ht),this._emitEvent("dragenter",it,yt,Ht,jt,Ht)),ne||this._emitEvent("dragover",it,yt,Ht)):jt&&this._emitEvent("dragleave",it,yt,jt,jt,Ht),ne&&this._emitEvent("dragover",it,yt,Ht)},Mt.prototype._afterDrag=function(it,yt,jt){it&&(it.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Ht=this._getShape(yt,jt);Ht!==it&&this._emitMouseoverEvents(jt,yt,it,Ht),this.currentShape=Ht},Mt.prototype._onmouseup=function(it,yt,jt){if(jt.button===0){var Ht=this.draggingShape;this.dragging?(Ht&&this._emitEvent("drop",jt,it,yt),this._emitEvent("dragend",jt,it,Ht),this._afterDrag(Ht,it,jt)):(this._emitEvent("mouseup",jt,it,yt),yt===this.mousedownShape&&this._emitEvent("click",jt,it,yt),this.mousedownShape=null,this.mousedownPoint=null)}},Mt.prototype._ondragover=function(it,yt,jt){jt.preventDefault();var Ht=this.currentShape;this._emitDragoverEvents(jt,it,Ht,yt,!0)},Mt.prototype._onmousemove=function(it,yt,jt){var Ht=this.canvas,ne=this.currentShape,le=this.draggingShape;if(this.dragging)le&&this._emitDragoverEvents(jt,it,ne,yt,!1),this._emitEvent("drag",jt,it,le);else{var fe=this.mousedownPoint;if(fe){var qt=this.mousedownShape,wt=jt.timeStamp-this.mousedownTimeStamp,Lt=fe.clientX-it.clientX,Vt=fe.clientY-it.clientY;wt>120||Lt*Lt+Vt*Vt>40?qt&&qt.get("draggable")?((le=this.mousedownShape).set("capture",!1),this.draggingShape=le,this.dragging=!0,this._emitEvent("dragstart",jt,it,le),this.mousedownShape=null,this.mousedownPoint=null):!qt&&Ht.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",jt,it,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(jt,it,ne,yt),this._emitEvent("mousemove",jt,it,yt)):(this._emitMouseoverEvents(jt,it,ne,yt),this._emitEvent("mousemove",jt,it,yt))}else this._emitMouseoverEvents(jt,it,ne,yt),this._emitEvent("mousemove",jt,it,yt)}},Mt.prototype._emitEvent=function(it,yt,jt,Ht,ne,le){var fe=this._getEventObj(it,yt,jt,Ht,ne,le);if(Ht){fe.shape=Ht,er(Ht,it,fe);for(var qt=Ht.getParent();qt;)qt.emitDelegation(it,fe),fe.propagationStopped||gr(qt,it,fe),fe.propagationPath.push(qt),qt=qt.getParent()}else er(this.canvas,it,fe)},Mt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Mt}(),lr=Object(p.detect)(),xe=lr&&lr.name==="firefox",oe=function(Mt){function it(yt){var jt=Mt.call(this,yt)||this;return jt.initContainer(),jt.initDom(),jt.initEvents(),jt.initTimeline(),jt}return Object(y.__extends)(it,Mt),it.prototype.getDefaultCfg=function(){var yt=Mt.prototype.getDefaultCfg.call(this);return yt.cursor="default",yt.supportCSSTransform=!1,yt},it.prototype.initContainer=function(){var yt=this.get("container");Object(o.h)(yt)&&(yt=document.getElementById(yt),this.set("container",yt))},it.prototype.initDom=function(){var yt=this.createDom();this.set("el",yt),this.get("container").appendChild(yt),this.setDOMSize(this.get("width"),this.get("height"))},it.prototype.initEvents=function(){var yt=new nr({canvas:this});yt.init(),this.set("eventController",yt)},it.prototype.initTimeline=function(){var yt=new tr(this);this.set("timeline",yt)},it.prototype.setDOMSize=function(yt,jt){var Ht=this.get("el");o.c&&(Ht.style.width=yt+"px",Ht.style.height=jt+"px")},it.prototype.changeSize=function(yt,jt){this.setDOMSize(yt,jt),this.set("width",yt),this.set("height",jt),this.onCanvasChange("changeSize")},it.prototype.getRenderer=function(){return this.get("renderer")},it.prototype.getCursor=function(){return this.get("cursor")},it.prototype.setCursor=function(yt){this.set("cursor",yt);var jt=this.get("el");o.c&&jt&&(jt.style.cursor=yt)},it.prototype.getPointByEvent=function(yt){if(this.get("supportCSSTransform")){if(xe&&!Object(o.e)(yt.layerX)&&yt.layerX!==yt.offsetX)return{x:yt.layerX,y:yt.layerY};if(!Object(o.e)(yt.offsetX))return{x:yt.offsetX,y:yt.offsetY}}var jt=this.getClientByEvent(yt),Ht=jt.x,ne=jt.y;return this.getPointByClient(Ht,ne)},it.prototype.getClientByEvent=function(yt){var jt=yt;return yt.touches&&(jt=yt.type==="touchend"?yt.changedTouches[0]:yt.touches[0]),{x:jt.clientX,y:jt.clientY}},it.prototype.getPointByClient=function(yt,jt){var Ht=this.get("el").getBoundingClientRect();return{x:yt-Ht.left,y:jt-Ht.top}},it.prototype.getClientByPoint=function(yt,jt){var Ht=this.get("el").getBoundingClientRect();return{x:yt+Ht.left,y:jt+Ht.top}},it.prototype.draw=function(){},it.prototype.removeDom=function(){var yt=this.get("el");yt.parentNode.removeChild(yt)},it.prototype.clearEvents=function(){this.get("eventController").destroy()},it.prototype.isCanvas=function(){return!0},it.prototype.getParent=function(){return null},it.prototype.destroy=function(){var yt=this.get("timeline");this.get("destroyed")||(this.clear(),yt&&yt.stop(),this.clearEvents(),this.removeDom(),Mt.prototype.destroy.call(this))},it}(n.a);x.a=oe},function(C){C.exports=JSON.parse('{"a":"3.8.5"}')},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=function(){function y(p,n){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=p,this.name=p,this.originalEvent=n,this.timeStamp=n.timeStamp}return y.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},y.prototype.stopPropagation=function(){this.propagationStopped=!0},y.prototype.toString=function(){return"[Event (type="+this.type+")]"},y.prototype.save=function(){},y.prototype.restore=function(){},y}();x.default=d},function(C,x,s){"use strict";C.exports=function(d,y,p,n){try{try{var o;try{o=new window.Blob([d])}catch(a){(o=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(d),o=o.getBlob()}var u=window.URL||window.webkitURL,r=u.createObjectURL(o),i=new window[y](r,p);return u.revokeObjectURL(r),i}catch(a){return new window[y]("data:application/javascript,".concat(encodeURIComponent(d)),p)}}catch(a){if(!n)throw Error("Inline worker is not supported");return new window[y](n,p)}}},,,,,,,,,,,function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(137),y=s(72);x.default=function(p,n){return n===void 0&&(n=[]),d.default(p,function(o){return!y.default(n,o)})}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(14),y=s(138),p=s(4),n=s(58);x.default=function(o,u){if(!p.default(o))return null;var r;if(d.default(u)&&(r=u),n.default(u)&&(r=function(c){return y.default(c,u)}),r){for(var i=0;i<o.length;i+=1)if(r(o[i]))return o[i]}return null}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){p===void 0&&(p=0);for(var n=p;n<d.length;n++)if(y(d[n],n))return n;return-1}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10),y=s(4);x.default=function(p,n){for(var o=null,u=0;u<p.length;u++){var r=p[u][n];if(!d.default(r)){o=y.default(r)?r[0]:r;break}}return o}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4);x.default=function(y){if(!d.default(y))return[];for(var p=[],n=0;n<y.length;n++)p=p.concat(y[n]);return p}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4);x.default=function y(p,n){if(n===void 0&&(n=[]),d.default(p))for(var o=0;o<p.length;o+=1)y(p[o],n);else n.push(p);return n}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4);x.default=function(y){var p=y.filter(function(r){return!isNaN(r)});if(!p.length)return{min:0,max:0};if(d.default(y[0])){for(var n=[],o=0;o<y.length;o++)n=n.concat(y[o]);p=n}var u=Math.max.apply(null,p);return{min:Math.min.apply(null,p),max:u}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=Array.prototype,y=d.splice,p=d.indexOf;x.default=function(n){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];for(var r=0;r<o.length;r++)for(var i=o[r],a=-1;(a=p.call(n,i))>-1;)y.call(n,a,1);return n}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(4),p=s(58);x.default=function(n,o,u){if(!y.default(n)&&!p.default(n))return n;var r=u;return d.default(n,function(i,a){r=o(r,i,a)}),r}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21),y=s(140);x.default=function(p,n){var o=[];if(!d.default(p))return o;for(var u=-1,r=[],i=p.length;++u<i;){var a=p[u];n(a,u,p)&&(o.push(a),r.push(u))}return y.default(p,r),o}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(3),p=s(14);x.default=function(n,o){var u;if(p.default(o))u=function(a,c){return o(a)-o(c)};else{var r=[];y.default(o)?r.push(o):d.default(o)&&(r=o),u=function(a,c){for(var h=0;h<r.length;h+=1){var v=r[h];if(a[v]>c[v])return 1;if(a[v]<c[v])return-1}return 0}}return n.sort(u),n}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(141);x.default=function(){for(var y=[],p=0;p<arguments.length;p++)y[p]=arguments[p];return d.default([].concat.apply([],y))}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(10);x.default=function(p,n){for(var o=[],u={},r=0;r<p.length;r++){var i=p[r][n];if(!y.default(i)){d.default(i)||(i=[i]);for(var a=0;a<i.length;a++){var c=i[a];u[c]||(o.push(c),u[c]=!0)}}}return o}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y){if(d.default(y))return y[0]}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y){if(d.default(y))return y[y.length-1]}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(3);x.default=function(p,n){return!(!d.default(p)&&!y.default(p))&&p[0]===n}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=s(3);x.default=function(p,n){return!(!d.default(p)&&!y.default(p))&&p[p.length-1]===n}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){for(var p=0;p<d.length;p++)if(!y(d[p],p))return!1;return!0}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){for(var p=0;p<d.length;p++)if(y(d[p],p))return!0;return!1}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(142);x.default=function(y,p){if(!p)return[y];var n=d.default(y,p),o=[];for(var u in n)o.push(n[u]);return o}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){return d["_wrap_"+y]}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d={};x.default=function(y){var p=d[y];if(!p){for(var n=y.toString(16),o=n.length;o<6;o++)n="0"+n;p="#"+n,d[y]=p}return p}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4);x.default=function(y){var p=0,n=0,o=0,u=0;return d.default(y)?y.length===1?p=n=o=u=y[0]:y.length===2?(p=o=y[0],n=u=y[1]):y.length===3?(p=y[0],n=u=y[1],o=y[2]):(p=y[0],n=y[1],o=y[2],u=y[3]):p=n=o=u=y,{r1:p,r2:n,r3:o,r4:u}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){return d<y?y:d>p?p:d}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){var p=y.toString(),n=p.indexOf(".");if(n===-1)return Math.round(d);var o=p.substr(n+1).length;return o>20&&(o=20),parseFloat(d.toFixed(o))}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&y%1!=0}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&y%2==0}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11),y=Number.isInteger?Number.isInteger:function(p){return d.default(p)&&p%1==0};x.default=y},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&y<0}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&y%2!=0}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&y>0}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(4),p=s(14);x.default=function(n,o){if(y.default(n)){var u,r,i=n[0];return u=p.default(o)?o(n[0]):n[0][o],d.default(n,function(a){(r=p.default(o)?o(a):a[o])>u&&(i=a,u=r)}),i}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(4),p=s(14);x.default=function(n,o){if(y.default(n)){var u,r,i=n[0];return u=p.default(o)?o(n[0]):n[0][o],d.default(n,function(a){(r=p.default(o)?o(a):a[o])<u&&(i=a,u=r)}),i}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=180/Math.PI;x.default=function(y){return d*y}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=parseInt},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2);x.default=d.default},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(143);x.default=d.default},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(72),y=s(144);x.default=function(p,n){return d.default(y.default(p),n)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(59);x.default=function(y){return d.default(y).toLowerCase()}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(59);x.default=function(y){var p=d.default(y);return p.charAt(0).toLowerCase()+p.substring(1)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y){return d&&y?d.replace(/\\?\{([^{}]+)\}/g,function(p,n){return p.charAt(0)==="\\"?p.slice(1):y[n]===void 0?"":y[n]}):d}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(59);x.default=function(y){return d.default(y).toUpperCase()}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Arguments")}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Boolean")}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Date")}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"Error")}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(11);x.default=function(y){return d.default(y)&&isFinite(y)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d===null}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(27);x.default=function(y){return d.default(y,"RegExp")}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d===void 0}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d instanceof Element||d instanceof HTMLDocument}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(17),y=s(14);x.default=function(){for(var p=[],n=0;n<arguments.length;n++)p[n]=arguments[n];for(var o=p[0],u=1;u<p.length;u++){var r=p[u];y.default(r)&&(r=r.prototype),d.default(o.prototype,r)}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){var n;return function(){var o=this,u=arguments,r=function(){n=null,p||d.apply(o,u)},i=p&&!n;clearTimeout(n),n=setTimeout(r,y),i&&d.apply(o,u)}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(14);x.default=function(y,p){if(!d.default(y))throw new TypeError("Expected a function");var n=function o(){for(var u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];var i=p?p.apply(this,u):u[0],a=o.cache;if(a.has(i))return a.get(i);var c=y.apply(this,u);return a.set(i,c),c};return n.cache=new Map,n}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(17),y=s(14);x.default=function(p,n,o,u){y.default(n)||(o=n,n=p,p=function(){});var r=Object.create?function(a,c){return Object.create(a,{constructor:{value:c}})}:function(a,c){function h(){}h.prototype=a;var v=new h;return v.constructor=c,v},i=r(n.prototype,p);return p.prototype=d.default(i,p.prototype),p.superclass=r(n.prototype,n),d.default(i,o),d.default(p,u),p}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y,p){if(!d.default(y))return-1;var n=Array.prototype.indexOf;if(n)return n.call(y,p);for(var o=-1,u=0;u<y.length;u++)if(y[u]===p){o=u;break}return o}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10),y=s(21),p=s(145),n=s(146),o=Object.prototype.hasOwnProperty;x.default=function(u){if(d.default(u))return!0;if(y.default(u))return!u.length;var r=p.default(u);if(r==="Map"||r==="Set")return!u.size;if(n.default(u))return!Object.keys(u).length;for(var i in u)if(o.call(u,i))return!1;return!0}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(14),y=s(95);x.default=function(p,n,o){return d.default(o)?!!o(p,n):y.default(p,n)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y,p){if(!d.default(y))return y;for(var n=[],o=0;o<y.length;o++){var u=y[o];n.push(p(u,o))}return n}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10),y=s(35),p=function(o){return o};x.default=function(n,o){o===void 0&&(o=p);var u={};return y.default(n)&&!d.default(n)&&Object.keys(n).forEach(function(r){u[r]=o(n[r],r)}),u}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(35),y=s(3),p=s(11);x.default=function(n,o,u){var r=n,i=y.default(o)?o.split("."):o;return i.forEach(function(a,c){c<i.length-1?(d.default(r[a])||(r[a]=p.default(i[c+1])?[]:{}),r=r[a]):r[a]=u}),n}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(58),p=Object.prototype.hasOwnProperty;x.default=function(n,o){if(n===null||!y.default(n))return{};var u={};return d.default(o,function(r){p.call(n,r)&&(u[r]=n[r])}),u}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d,y,p){var n,o,u,r,i=0;p||(p={});var a=function(){i=p.leading===!1?0:Date.now(),n=null,r=d.apply(o,u),n||(o=u=null)},c=function(){var v=Date.now();i||p.leading!==!1||(i=v);var f=y-(v-i);return o=this,u=arguments,f<=0||f>y?(n&&(clearTimeout(n),n=null),i=v,r=d.apply(o,u),n||(o=u=null)):n||p.trailing===!1||(n=setTimeout(a,f)),r};return c.cancel=function(){clearTimeout(n),i=0,n=o=u=null},c}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(21);x.default=function(y){return d.default(y)?Array.prototype.slice.call(y):[]}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d={};x.default=function(y){return d[y=y||"g"]?d[y]+=1:d[y]=1,y+d[y]}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(){}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){return d}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(10),y=s(21);x.default=function(p){return d.default(p)?0:y.default(p)?p.length:Object.keys(p).length}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=function(){function y(){this.map={}}return y.prototype.has=function(p){return this.map[p]!==void 0},y.prototype.get=function(p,n){var o=this.map[p];return o===void 0?n:o},y.prototype.set=function(p,n){this.map[p]=n},y.prototype.clear=function(){this.map={}},y.prototype.delete=function(p){delete this.map[p]},y.prototype.size=function(){return Object.keys(this.map).length},y}();x.default=d},function(C,x,s){var d=s(312),y=s(313),p={};for(var n in d)d.hasOwnProperty(n)&&(p[d[n]]=n);var o=C.exports={to:{},get:{}};function u(i,a,c){return Math.min(Math.max(a,i),c)}function r(i){var a=i.toString(16).toUpperCase();return a.length<2?"0"+a:a}o.get=function(i){var a,c;switch(i.substring(0,3).toLowerCase()){case"hsl":a=o.get.hsl(i),c="hsl";break;case"hwb":a=o.get.hwb(i),c="hwb";break;default:a=o.get.rgb(i),c="rgb"}return a?{model:c,value:a}:null},o.get.rgb=function(i){if(!i)return null;var a,c,h,v=[0,0,0,1];if(a=i.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(h=a[2],a=a[1],c=0;c<3;c++){var f=2*c;v[c]=parseInt(a.slice(f,f+2),16)}h&&(v[3]=parseInt(h,16)/255)}else if(a=i.match(/^#([a-f0-9]{3,4})$/i)){for(h=(a=a[1])[3],c=0;c<3;c++)v[c]=parseInt(a[c]+a[c],16);h&&(v[3]=parseInt(h+h,16)/255)}else if(a=i.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(c=0;c<3;c++)v[c]=parseInt(a[c+1],0);a[4]&&(v[3]=parseFloat(a[4]))}else{if(!(a=i.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(a=i.match(/(\D+)/))?a[1]==="transparent"?[0,0,0,0]:(v=d[a[1]])?(v[3]=1,v):null:null;for(c=0;c<3;c++)v[c]=Math.round(2.55*parseFloat(a[c+1]));a[4]&&(v[3]=parseFloat(a[4]))}for(c=0;c<3;c++)v[c]=u(v[c],0,255);return v[3]=u(v[3],0,1),v},o.get.hsl=function(i){if(!i)return null;var a=i.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(a){var c=parseFloat(a[4]);return[(parseFloat(a[1])+360)%360,u(parseFloat(a[2]),0,100),u(parseFloat(a[3]),0,100),u(isNaN(c)?1:c,0,1)]}return null},o.get.hwb=function(i){if(!i)return null;var a=i.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(a){var c=parseFloat(a[4]);return[(parseFloat(a[1])%360+360)%360,u(parseFloat(a[2]),0,100),u(parseFloat(a[3]),0,100),u(isNaN(c)?1:c,0,1)]}return null},o.to.hex=function(){var i=y(arguments);return"#"+r(i[0])+r(i[1])+r(i[2])+(i[3]<1?r(Math.round(255*i[3])):"")},o.to.rgb=function(){var i=y(arguments);return i.length<4||i[3]===1?"rgb("+Math.round(i[0])+", "+Math.round(i[1])+", "+Math.round(i[2])+")":"rgba("+Math.round(i[0])+", "+Math.round(i[1])+", "+Math.round(i[2])+", "+i[3]+")"},o.to.rgb.percent=function(){var i=y(arguments),a=Math.round(i[0]/255*100),c=Math.round(i[1]/255*100),h=Math.round(i[2]/255*100);return i.length<4||i[3]===1?"rgb("+a+"%, "+c+"%, "+h+"%)":"rgba("+a+"%, "+c+"%, "+h+"%, "+i[3]+")"},o.to.hsl=function(){var i=y(arguments);return i.length<4||i[3]===1?"hsl("+i[0]+", "+i[1]+"%, "+i[2]+"%)":"hsla("+i[0]+", "+i[1]+"%, "+i[2]+"%, "+i[3]+")"},o.to.hwb=function(){var i=y(arguments),a="";return i.length>=4&&i[3]!==1&&(a=", "+i[3]),"hwb("+i[0]+", "+i[1]+"%, "+i[2]+"%"+a+")"},o.to.keyword=function(i){return p[i.slice(0,3)]}},function(C,x,s){"use strict";C.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(C,x,s){"use strict";var d=s(314),y=Array.prototype.concat,p=Array.prototype.slice,n=C.exports=function(o){for(var u=[],r=0,i=o.length;r<i;r++){var a=o[r];d(a)?u=y.call(u,p.call(a)):u.push(a)}return u};n.wrap=function(o){return function(){return o(n(arguments))}}},function(C,x){C.exports=function(s){return!(!s||typeof s=="string")&&(s instanceof Array||Array.isArray(s)||s.length>=0&&(s.splice instanceof Function||Object.getOwnPropertyDescriptor(s,s.length-1)&&s.constructor.name!=="String"))}},function(C,x,s){function d(o){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}var y=s(149),p=s(317),n={};Object.keys(y).forEach(function(o){n[o]={},Object.defineProperty(n[o],"channels",{value:y[o].channels}),Object.defineProperty(n[o],"labels",{value:y[o].labels});var u=p(o);Object.keys(u).forEach(function(r){var i=u[r];n[o][r]=function(a){var c=function(v){if(v==null)return v;arguments.length>1&&(v=Array.prototype.slice.call(arguments));var f=a(v);if(d(f)==="object")for(var m=f.length,b=0;b<m;b++)f[b]=Math.round(f[b]);return f};return"conversion"in a&&(c.conversion=a.conversion),c}(i),n[o][r].raw=function(a){var c=function(v){return v==null?v:(arguments.length>1&&(v=Array.prototype.slice.call(arguments)),a(v))};return"conversion"in a&&(c.conversion=a.conversion),c}(i)})}),C.exports=n},function(C,x,s){"use strict";C.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(C,x,s){var d=s(149);function y(o){var u=function(){for(var m={},b=Object.keys(d),M=b.length,O=0;O<M;O++)m[b[O]]={distance:-1,parent:null};return m}(),r=[o];for(u[o].distance=0;r.length;)for(var i=r.pop(),a=Object.keys(d[i]),c=a.length,h=0;h<c;h++){var v=a[h],f=u[v];f.distance===-1&&(f.distance=u[i].distance+1,f.parent=i,r.unshift(v))}return u}function p(o,u){return function(r){return u(o(r))}}function n(o,u){for(var r=[u[o].parent,o],i=d[u[o].parent][o],a=u[o].parent;u[a].parent;)r.unshift(u[a].parent),i=p(d[u[a].parent][a],i),a=u[a].parent;return i.conversion=r,i}C.exports=function(o){for(var u=y(o),r={},i=Object.keys(u),a=i.length,c=0;c<a;c++){var h=i[c];u[h].parent!==null&&(r[h]=n(h,u))}return r}},function(C){C.exports=JSON.parse('{"name":"@antv/g-base","version":"0.5.1","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive tests/unit","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.5","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":true,"gitHead":"ba7ecf8b8deac37682414ac0b7fc2c3e903398bd","_from":"@antv/g-base@0.5.1","_resolved":"https://registry.npm.alibaba-inc.com/@antv/g-base/download/@antv/g-base-0.5.1.tgz"}')},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.getShape=void 0;var d=s(155),y=s(320);function p(o,u,r){var i=o.getTotalMatrix();if(i){var a=function(c,h){if(h){var v=y.invert(h);return y.multiplyVec2(v,c)}return c}([u,r,1],i);return[a[0],a[1]]}return[u,r]}function n(o,u,r){if(o.isCanvas&&o.isCanvas())return!0;if(!d.isAllowCapture(o)||o.cfg.isInView===!1)return!1;if(o.cfg.clipShape){var i=p(o,u,r),a=i[0],c=i[1];if(o.isClipped(a,c))return!1}var h=o.cfg.cacheCanvasBBox||o.getCanvasBBox();return u>=h.minX&&u<=h.maxX&&r>=h.minY&&r<=h.maxY}x.getShape=function o(u,r,i){if(!n(u,r,i))return null;for(var a=null,c=u.getChildren(),h=c.length-1;h>=0;h--){var v=c[h];if(v.isGroup())a=o(v,r,i);else if(n(v,r,i)){var f=v,m=p(v,r,i),b=m[0],M=m[1];f.isInShape(b,M)&&(a=v)}if(a)break}return a}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.invert=x.multiplyVec2=x.multiplyMatrix=void 0,x.multiplyMatrix=function(d,y){var p=[],n=d[0],o=d[1],u=d[2],r=d[3],i=d[4],a=d[5],c=d[6],h=d[7],v=d[8],f=y[0],m=y[1],b=y[2],M=y[3],O=y[4],E=y[5],A=y[6],j=y[7],B=y[8];return p[0]=f*n+m*r+b*c,p[1]=f*o+m*i+b*h,p[2]=f*u+m*a+b*v,p[3]=M*n+O*r+E*c,p[4]=M*o+O*i+E*h,p[5]=M*u+O*a+E*v,p[6]=A*n+j*r+B*c,p[7]=A*o+j*i+B*h,p[8]=A*u+j*a+B*v,p},x.multiplyVec2=function(d,y){var p=[],n=y[0],o=y[1];return p[0]=d[0]*n+d[3]*o+d[6],p[1]=d[1]*n+d[4]*o+d[7],p},x.invert=function(d){var y=[],p=d[0],n=d[1],o=d[2],u=d[3],r=d[4],i=d[5],a=d[6],c=d[7],h=d[8],v=h*r-i*c,f=-h*u+i*a,m=c*u-r*a,b=p*v+n*f+o*m;return b?(b=1/b,y[0]=v*b,y[1]=(-h*n+o*c)*b,y[2]=(i*n-o*r)*b,y[3]=f*b,y[4]=(h*p-o*a)*b,y[5]=(-i*p+o*u)*b,y[6]=m*b,y[7]=(-c*p+n*a)*b,y[8]=(r*p-n*u)*b,y):null}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(18);function y(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function p(o,u){return y(o)*y(u)?(o[0]*u[0]+o[1]*u[1])/(y(o)*y(u)):1}function n(o,u){return(o[0]*u[1]<o[1]*u[0]?-1:1)*Math.acos(p(o,u))}x.default=function(o,u){var r=u[1],i=u[2],a=d.mod(d.toRadian(u[3]),2*Math.PI),c=u[4],h=u[5],v=o[0],f=o[1],m=u[6],b=u[7],M=Math.cos(a)*(v-m)/2+Math.sin(a)*(f-b)/2,O=-1*Math.sin(a)*(v-m)/2+Math.cos(a)*(f-b)/2,E=M*M/(r*r)+O*O/(i*i);E>1&&(r*=Math.sqrt(E),i*=Math.sqrt(E));var A=r*r*(O*O)+i*i*(M*M),j=A?Math.sqrt((r*r*(i*i)-A)/A):1;c===h&&(j*=-1),isNaN(j)&&(j=0);var B=i?j*r*O/i:0,D=r?j*-i*M/r:0,T=(v+m)/2+Math.cos(a)*B-Math.sin(a)*D,Y=(f+b)/2+Math.sin(a)*B+Math.cos(a)*D,G=[(M-B)/r,(O-D)/i],U=[(-1*M-B)/r,(-1*O-D)/i],H=n([1,0],G),J=n(G,U);return p(G,U)<=-1&&(J=Math.PI),p(G,U)>=1&&(J=0),h===0&&J>0&&(J-=2*Math.PI),h===1&&J<0&&(J+=2*Math.PI),{cx:T,cy:Y,rx:d.isSamePoint(o,[m,b])?0:r,ry:d.isSamePoint(o,[m,b])?0:i,startAngle:H,endAngle:H+J,xRotation:a,arcFlag:c,sweepFlag:h}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.getMethod=x.register=void 0;var d=new Map;x.register=function(y,p){d.set(y,p)},x.getMethod=function(y){return d.get(y)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){var y=d.attr();return{x:y.x,y:y.y,width:y.width,height:y.height}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){var y=d.attr(),p=y.x,n=y.y,o=y.r;return{x:p-o,y:n-o,width:2*o,height:2*o}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33),y=s(107);x.default=function(p){for(var n=p.attr().points,o=[],u=[],r=0;r<n.length;r++){var i=n[r];o.push(i[0]),u.push(i[1])}var a=d.getBBoxByArray(o,u),c=a.x,h=a.y,v={minX:c,minY:h,maxX:c+a.width,maxY:h+a.height};return{x:(v=y.mergeArrowBBox(p,v)).minX,y:v.minY,width:v.maxX-v.minX,height:v.maxY-v.minY}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33);x.default=function(y){for(var p=y.attr().points,n=[],o=[],u=0;u<p.length;u++){var r=p[u];n.push(r[0]),o.push(r[1])}return d.getBBoxByArray(n,o)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(158);x.default=function(y){var p=y.attr(),n=p.x,o=p.y,u=p.text,r=p.fontSize,i=p.lineHeight,a=p.font;a||(a=d.assembleFont(p));var c,h=d.getTextWidth(u,a);if(h){var v=p.textAlign,f=p.textBaseline,m=d.getTextHeight(u,r,i),b={x:n,y:o-m};v&&(v==="end"||v==="right"?b.x-=h:v==="center"&&(b.x-=h/2)),f&&(f==="top"?b.y+=m:f==="middle"&&(b.y+=m/2)),c={x:b.x,y:b.y,width:h,height:m}}else c={x:n,y:o,width:0,height:0};return c}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(160),y=s(108),p=s(329),n=s(162),o=s(103),u=s(107);function r(i,a){var c=i.prePoint,h=i.currentPoint,v=i.nextPoint,f=Math.pow(h[0]-c[0],2)+Math.pow(h[1]-c[1],2),m=Math.pow(h[0]-v[0],2)+Math.pow(h[1]-v[1],2),b=Math.pow(c[0]-v[0],2)+Math.pow(c[1]-v[1],2),M=Math.acos((f+m-b)/(2*Math.sqrt(f)*Math.sqrt(m)));if(!M||Math.sin(M)===0||o.default(M,0))return{xExtra:0,yExtra:0};var O=Math.abs(Math.atan2(v[1]-h[1],v[0]-h[0])),E=Math.abs(Math.atan2(v[0]-h[0],v[1]-h[1]));return O=O>Math.PI/2?Math.PI-O:O,E=E>Math.PI/2?Math.PI-E:E,{xExtra:Math.cos(M/2-O)*(a/2*(1/Math.sin(M/2)))-a/2||0,yExtra:Math.cos(E-M/2)*(a/2*(1/Math.sin(M/2)))-a/2||0}}x.default=function(i){var a=i.attr(),c=a.path,h=a.stroke?a.lineWidth:0,v=function(M,O){for(var E=[],A=[],j=[],B=0;B<M.length;B++){var D=(K=M[B]).currentPoint,T=K.params,Y=K.prePoint,G=void 0;switch(K.command){case"Q":G=d.default.box(Y[0],Y[1],T[1],T[2],T[3],T[4]);break;case"C":G=y.default.box(Y[0],Y[1],T[1],T[2],T[3],T[4],T[5],T[6]);break;case"A":var U=K.arcParams;G=p.default.box(U.cx,U.cy,U.rx,U.ry,U.xRotation,U.startAngle,U.endAngle);break;default:E.push(D[0]),A.push(D[1])}G&&(K.box=G,E.push(G.x,G.x+G.width),A.push(G.y,G.y+G.height)),O&&(K.command==="L"||K.command==="M")&&K.prePoint&&K.nextPoint&&j.push(K)}E=E.filter(function(ot){return!Number.isNaN(ot)}),A=A.filter(function(ot){return!Number.isNaN(ot)});var H=Math.min.apply(null,E),J=Math.min.apply(null,A),ut=Math.max.apply(null,E),$=Math.max.apply(null,A);if(j.length===0)return{x:H,y:J,width:ut-H,height:$-J};for(B=0;B<j.length;B++){var K;(D=(K=j[B]).currentPoint)[0]===H?H-=r(K,O).xExtra:D[0]===ut&&(ut+=r(K,O).xExtra),D[1]===J?J-=r(K,O).yExtra:D[1]===$&&($+=r(K,O).yExtra)}return{x:H,y:J,width:ut-H,height:$-J}}(i.get("segments")||n.default(c),h),f=v.x,m=v.y,b={minX:f,minY:m,maxX:f+v.width,maxY:m+v.height};return{x:(b=u.mergeArrowBBox(i,b)).minX,y:b.minY,width:b.maxX-b.minX,height:b.maxY-b.minY}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33),y=s(330);function p(r,i,a,c,h,v){return a*Math.cos(h)*Math.cos(v)-c*Math.sin(h)*Math.sin(v)+r}function n(r,i,a,c,h,v){return a*Math.sin(h)*Math.cos(v)+c*Math.cos(h)*Math.sin(v)+i}function o(r,i,a){return{x:r*Math.cos(a),y:i*Math.sin(a)}}function u(r,i,a){var c=Math.cos(a),h=Math.sin(a);return[r*c-i*h,r*h+i*c]}x.default={box:function(i,a,c,h,v,f,m){for(var b=function(J,ut,$){return Math.atan(-ut/J*Math.tan($))}(c,h,v),M=1/0,O=-1/0,E=[f,m],A=2*-Math.PI;A<=2*Math.PI;A+=Math.PI){var j=b+A;f<m?f<j&&j<m&&E.push(j):m<j&&j<f&&E.push(j)}for(A=0;A<E.length;A++){var B=p(i,0,c,h,v,E[A]);B<M&&(M=B),B>O&&(O=B)}var D=function(J,ut,$){return Math.atan(ut/(J*Math.tan($)))}(c,h,v),T=1/0,Y=-1/0,G=[f,m];for(A=2*-Math.PI;A<=2*Math.PI;A+=Math.PI){var U=D+A;f<m?f<U&&U<m&&G.push(U):m<U&&U<f&&G.push(U)}for(A=0;A<G.length;A++){var H=n(0,a,c,h,v,G[A]);H<T&&(T=H),H>Y&&(Y=H)}return{x:M,y:T,width:O-M,height:Y-T}},length:function(i,a,c,h,v,f,m){},nearestPoint:function(i,a,c,h,v,f,m,b,M){var O=u(b-i,M-a,-v),E=O[0],A=O[1],j=y.default.nearestPoint(0,0,c,h,E,A),B=function(T,Y,G,U){return(Math.atan2(U*T,G*Y)+2*Math.PI)%(2*Math.PI)}(c,h,j.x,j.y);B<f?j=o(c,h,f):B>m&&(j=o(c,h,m));var D=u(j.x,j.y,v);return{x:D[0]+i,y:D[1]+a}},pointDistance:function(i,a,c,h,v,f,m,b,M){var O=this.nearestPoint(i,a,c,h,b,M);return d.distance(O.x,O.y,b,M)},pointAt:function(i,a,c,h,v,f,m,b){var M=(m-f)*b+f;return{x:p(i,0,c,h,v,M),y:n(0,a,c,h,v,M)}},tangentAngle:function(i,a,c,h,v,f,m,b){var M=(m-f)*b+f,O=function(A,j,B,D,T,Y,G,U){return-1*B*Math.cos(T)*Math.sin(U)-D*Math.sin(T)*Math.cos(U)}(0,0,c,h,v,0,0,M),E=function(A,j,B,D,T,Y,G,U){return-1*B*Math.sin(T)*Math.sin(U)+D*Math.cos(T)*Math.cos(U)}(0,0,c,h,v,0,0,M);return d.piMod(Math.atan2(E,O))}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(33);function y(p,n){var o=Math.abs(p);return n>0?o:-1*o}x.default={box:function(n,o,u,r){return{x:n-u,y:o-r,width:2*u,height:2*r}},length:function(n,o,u,r){return Math.PI*(3*(u+r)-Math.sqrt((3*u+r)*(u+3*r)))},nearestPoint:function(n,o,u,r,i,a){var c=u,h=r;if(c===0||h===0)return{x:n,y:o};for(var v,f,m=i-n,b=a-o,M=Math.abs(m),O=Math.abs(b),E=c*c,A=h*h,j=Math.PI/4,B=0;B<4;B++){v=c*Math.cos(j),f=h*Math.sin(j);var D=(E-A)*Math.pow(Math.cos(j),3)/c,T=(A-E)*Math.pow(Math.sin(j),3)/h,Y=v-D,G=f-T,U=M-D,H=O-T,J=Math.hypot(G,Y),ut=Math.hypot(H,U);j+=J*Math.asin((Y*H-G*U)/(J*ut))/Math.sqrt(E+A-v*v-f*f),j=Math.min(Math.PI/2,Math.max(0,j))}return{x:n+y(v,m),y:o+y(f,b)}},pointDistance:function(n,o,u,r,i,a){var c=this.nearestPoint(n,o,u,r,i,a);return d.distance(c.x,c.y,i,a)},pointAt:function(n,o,u,r,i){var a=2*Math.PI*i;return{x:n+u*Math.cos(a),y:o+r*Math.sin(a)}},tangentAngle:function(n,o,u,r,i){var a=2*Math.PI*i,c=Math.atan2(r*Math.cos(a),-u*Math.sin(a));return d.piMod(c)}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(2),y=s(4),p=s(3),n=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi;x.default=function(u){var r=u||[];return y.default(r)?r:p.default(r)?(r=r.match(n),d.default(r,function(i,a){if((i=i.match(o))[0].length>1){var c=i[0].charAt(0);i.splice(1,0,i[0].substr(1)),i[0]=c}d.default(i,function(h,v){isNaN(h)||(i[v]=+h)}),r[a]=i}),r):void 0}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(107);x.default=function(y){var p=y.attr(),n=p.x1,o=p.y1,u=p.x2,r=p.y2,i={minX:Math.min(n,u),maxX:Math.max(n,u),minY:Math.min(o,r),maxY:Math.max(o,r)};return{x:(i=d.mergeArrowBBox(y,i)).minX,y:i.minY,width:i.maxX-i.minX,height:i.maxY-i.minY}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(d){var y=d.attr(),p=y.x,n=y.y,o=y.rx,u=y.ry;return{x:p-o,y:n-u,width:2*o,height:2*u}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(28),p=s(18),n=function(o){function u(){return o!==null&&o.apply(this,arguments)||this}return d.__extends(u,o),u.prototype.getDefaultAttrs=function(){var r=o.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},r),{x:0,y:0,r:0})},u.prototype.isInStrokeOrPath=function(r,i,a,c,h){var v=this.attr(),f=v.x,m=v.y,b=v.r,M=h/2,O=p.distance(f,m,r,i);return c&&a?O<=b+M:c?O<=b:!!a&&O>=b-M&&O<=b+M},u.prototype.createPath=function(r){var i=this.attr(),a=i.x,c=i.y,h=i.r;r.beginPath(),r.arc(a,c,h,0,2*Math.PI,!1),r.closePath()},u}(y.default);x.default=n},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1);function y(n,o,u,r){return n/(u*u)+o/(r*r)}var p=function(n){function o(){return n!==null&&n.apply(this,arguments)||this}return d.__extends(o,n),o.prototype.getDefaultAttrs=function(){var u=n.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},u),{x:0,y:0,rx:0,ry:0})},o.prototype.isInStrokeOrPath=function(u,r,i,a,c){var h=this.attr(),v=c/2,f=h.x,m=h.y,b=h.rx,M=h.ry,O=(u-f)*(u-f),E=(r-m)*(r-m);return a&&i?y(O,E,b+v,M+v)<=1:a?y(O,E,b,M)<=1:!!i&&y(O,E,b-v,M-v)>=1&&y(O,E,b+v,M+v)<=1},o.prototype.createPath=function(u){var r=this.attr(),i=r.x,a=r.y,c=r.rx,h=r.ry;if(u.beginPath(),u.ellipse)u.ellipse(i,a,c,h,0,0,2*Math.PI,!1);else{var v=c>h?c:h,f=c>h?1:c/h,m=c>h?h/c:1;u.save(),u.translate(i,a),u.scale(f,m),u.arc(0,0,v,0,2*Math.PI),u.restore(),u.closePath()}},o}(s(28).default);x.default=p},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(28),p=s(18);function n(u){return u instanceof HTMLElement&&p.isString(u.nodeName)&&u.nodeName.toUpperCase()==="CANVAS"}var o=function(u){function r(){return u!==null&&u.apply(this,arguments)||this}return d.__extends(r,u),r.prototype.getDefaultAttrs=function(){var i=u.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},i),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(i){this._setImage(i.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var i=this.get("canvas");i?i.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(i){var a=this,c=this.attrs;if(p.isString(i)){var h=new Image;h.onload=function(){if(a.destroyed)return!1;a.attr("img",h),a.set("loading",!1),a._afterLoading();var v=a.get("callback");v&&v.call(a)},h.crossOrigin="Anonymous",h.src=i,this.set("loading",!0)}else i instanceof Image?(c.width||(c.width=i.width),c.height||(c.height=i.height)):n(i)&&(c.width||(c.width=Number(i.getAttribute("width"))),c.height||(c.height,Number(i.getAttribute("height"))))},r.prototype.onAttrChange=function(i,a,c){u.prototype.onAttrChange.call(this,i,a,c),i==="img"&&this._setImage(a)},r.prototype.createPath=function(i){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",i);var a=this.attr(),c=a.x,h=a.y,v=a.width,f=a.height,m=a.sx,b=a.sy,M=a.swidth,O=a.sheight,E=a.img;(E instanceof Image||n(E))&&(p.isNil(m)||p.isNil(b)||p.isNil(M)||p.isNil(O)?i.drawImage(E,c,h,v,f):i.drawImage(E,m,b,M,O,c,h,v,f))},r}(y.default);x.default=o},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(40),p=s(28),n=s(75),o=s(74),u=function(r){function i(){return r!==null&&r.apply(this,arguments)||this}return d.__extends(i,r),i.prototype.getDefaultAttrs=function(){var a=r.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},a),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},i.prototype.initAttrs=function(a){this.setArrow()},i.prototype.onAttrChange=function(a,c,h){r.prototype.onAttrChange.call(this,a,c,h),this.setArrow()},i.prototype.setArrow=function(){var a=this.attr(),c=a.x1,h=a.y1,v=a.x2,f=a.y2,m=a.startArrow,b=a.endArrow;m&&o.addStartArrow(this,a,v,f,c,h),b&&o.addEndArrow(this,a,c,h,v,f)},i.prototype.isInStrokeOrPath=function(a,c,h,v,f){if(!h||!f)return!1;var m=this.attr(),b=m.x1,M=m.y1,O=m.x2,E=m.y2;return n.default(b,M,O,E,f,a,c)},i.prototype.createPath=function(a){var c=this.attr(),h=c.x1,v=c.y1,f=c.x2,m=c.y2,b=c.startArrow,M=c.endArrow,O={dx:0,dy:0},E={dx:0,dy:0};b&&b.d&&(O=o.getShortenOffset(h,v,f,m,c.startArrow.d)),M&&M.d&&(E=o.getShortenOffset(h,v,f,m,c.endArrow.d)),a.beginPath(),a.moveTo(h+O.dx,v+O.dy),a.lineTo(f-E.dx,m-E.dy)},i.prototype.afterDrawPath=function(a){var c=this.get("startArrowShape"),h=this.get("endArrowShape");c&&c.draw(a),h&&h.draw(a)},i.prototype.getTotalLength=function(){var a=this.attr(),c=a.x1,h=a.y1,v=a.x2,f=a.y2;return y.default.length(c,h,v,f)},i.prototype.getPoint=function(a){var c=this.attr(),h=c.x1,v=c.y1,f=c.x2,m=c.y2;return y.default.pointAt(h,v,f,m,a)},i}(p.default);x.default=u},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(165),n=s(28),o=s(18),u=s(60),r={circle:function(c,h,v){return[["M",c-v,h],["A",v,v,0,1,0,c+v,h],["A",v,v,0,1,0,c-v,h]]},square:function(c,h,v){return[["M",c-v,h-v],["L",c+v,h-v],["L",c+v,h+v],["L",c-v,h+v],["Z"]]},diamond:function(c,h,v){return[["M",c-v,h],["L",c,h-v],["L",c+v,h],["L",c,h+v],["Z"]]},triangle:function(c,h,v){var f=v*Math.sin(1/3*Math.PI);return[["M",c-v,h+f],["L",c,h-f],["L",c+v,h+f],["Z"]]},"triangle-down":function(c,h,v){var f=v*Math.sin(1/3*Math.PI);return[["M",c-v,h-f],["L",c+v,h-f],["L",c,h+f],["Z"]]}},i=function(a){function c(){return a!==null&&a.apply(this,arguments)||this}return d.__extends(c,a),c.prototype.initAttrs=function(h){this._resetParamsCache()},c.prototype._resetParamsCache=function(){this.set("paramsCache",{})},c.prototype.onAttrChange=function(h,v,f){a.prototype.onAttrChange.call(this,h,v,f),["symbol","x","y","r","radius"].indexOf(h)!==-1&&this._resetParamsCache()},c.prototype.isOnlyHitBox=function(){return!0},c.prototype._getR=function(h){return y.isNil(h.r)?h.radius:h.r},c.prototype._getPath=function(){var h,v,f=this.attr(),m=f.x,b=f.y,M=f.symbol||"circle",O=this._getR(f);return o.isFunction(M)?(v=(h=M)(m,b,O),v=p.default(v)):v=(h=c.Symbols[M])(m,b,O),h?v:(console.warn(M+" marker is not supported."),null)},c.prototype.createPath=function(h){var v=this._getPath(),f=this.get("paramsCache");u.drawPath(this,h,{path:v},f)},c.Symbols=r,c}(n.default);x.default=i},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(4),y=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,p=new RegExp("([a-z])["+y+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+y+"]*,?["+y+"]*)+)","ig"),n=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+y+"]*,?["+y+"]*","ig");x.default=function(o){if(!o)return null;if(d.default(o))return o;var u={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(o).replace(p,function(i,a,c){var h=[],v=a.toLowerCase();if(c.replace(n,function(f,m){m&&h.push(+m)}),v==="m"&&h.length>2&&(r.push([a].concat(h.splice(0,2))),v="l",a=a==="m"?"l":"L"),v==="o"&&h.length===1&&r.push([a,h[0]]),v==="r")r.push([a].concat(h));else for(;h.length>=u[v]&&(r.push([a].concat(h.splice(0,u[v]))),u[v]););return""}),r}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(108),p=s(0),n=s(28),o=s(165),u=s(162),r=s(60),i=s(166),a=s(167),c=s(341),h=s(74);function v(m,b,M){for(var O=!1,E=0;E<m.length;E++){var A=m[E];if(O=a.default(A,b,M))break}return O}var f=function(m){function b(){return m!==null&&m.apply(this,arguments)||this}return d.__extends(b,m),b.prototype.getDefaultAttrs=function(){var M=m.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},M),{startArrow:!1,endArrow:!1})},b.prototype.initAttrs=function(M){this._setPathArr(M.path),this.setArrow()},b.prototype.onAttrChange=function(M,O,E){m.prototype.onAttrChange.call(this,M,O,E),M==="path"&&this._setPathArr(O),this.setArrow()},b.prototype._setPathArr=function(M){this.attrs.path=o.default(M);var O=c.default.hasArc(M);this.set("hasArc",O),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},b.prototype.getSegments=function(){var M=this.get("segements");return M||(M=u.default(this.attr("path")),this.set("segments",M)),M},b.prototype.setArrow=function(){var M=this.attr(),O=M.startArrow,E=M.endArrow;if(O){var A=this.getStartTangent();h.addStartArrow(this,M,A[0][0],A[0][1],A[1][0],A[1][1])}E&&(A=this.getEndTangent(),h.addEndArrow(this,M,A[0][0],A[0][1],A[1][0],A[1][1]))},b.prototype.isInStrokeOrPath=function(M,O,E,A,j){var B=this.getSegments(),D=this.get("hasArc"),T=!1;if(E){var Y=this.getTotalLength();T=c.default.isPointInStroke(B,j,M,O,Y)}if(!T&&A)if(D)T=i.default(this,M,O);else{var G=this.attr("path"),U=c.default.extractPolygons(G);T=v(U.polygons,M,O)||v(U.polylines,M,O)}return T},b.prototype.createPath=function(M){var O=this.attr(),E=this.get("paramsCache");r.drawPath(this,M,O,E)},b.prototype.afterDrawPath=function(M){var O=this.get("startArrowShape"),E=this.get("endArrowShape");O&&O.draw(M),E&&E.draw(M)},b.prototype.getTotalLength=function(){var M=this.get("totalLength");return p.isNil(M)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):M},b.prototype.getPoint=function(M){var O,E,A=this.get("tCache");A||(this._calculateCurve(),this._setTcache(),A=this.get("tCache"));var j=this.get("curve");if(!A||A.length===0)return j?{x:j[0][1],y:j[0][2]}:null;p.each(A,function(Y,G){M>=Y[0]&&M<=Y[1]&&(O=(M-Y[0])/(Y[1]-Y[0]),E=G)});var B=j[E];if(p.isNil(B)||p.isNil(E))return null;var D=B.length,T=j[E+1];return y.default.pointAt(B[D-2],B[D-1],T[1],T[2],T[3],T[4],T[5],T[6],O)},b.prototype._calculateCurve=function(){var M=this.attr().path;this.set("curve",c.default.pathToCurve(M))},b.prototype._setTcache=function(){var M,O,E,A,j=0,B=0,D=[],T=this.get("curve");T&&(p.each(T,function(Y,G){E=T[G+1],A=Y.length,E&&(j+=y.default.length(Y[A-2],Y[A-1],E[1],E[2],E[3],E[4],E[5],E[6])||0)}),this.set("totalLength",j),j!==0?(p.each(T,function(Y,G){E=T[G+1],A=Y.length,E&&((M=[])[0]=B/j,O=y.default.length(Y[A-2],Y[A-1],E[1],E[2],E[3],E[4],E[5],E[6]),B+=O||0,M[1]=B/j,D.push(M))}),this.set("tCache",D)):this.set("tCache",[]))},b.prototype.getStartTangent=function(){var M,O=this.getSegments();if(O.length>1){var E=O[0].currentPoint,A=O[1].currentPoint,j=O[1].startTangent;M=[],j?(M.push([E[0]-j[0],E[1]-j[1]]),M.push([E[0],E[1]])):(M.push([A[0],A[1]]),M.push([E[0],E[1]]))}return M},b.prototype.getEndTangent=function(){var M,O=this.getSegments(),E=O.length;if(E>1){var A=O[E-2].currentPoint,j=O[E-1].currentPoint,B=O[E-1].endTangent;M=[],B?(M.push([j[0]-B[0],j[1]-B[1]]),M.push([j[0],j[1]])):(M.push([A[0],A[1]]),M.push([j[0],j[1]]))}return M},b}(n.default);x.default=f},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(43),p=s(160),n=s(108),o=s(18),u=s(75),r=s(168),i=s(133),a=s(106),c=i.ext.transform;x.default=d.__assign({hasArc:function(v){for(var f=!1,m=v.length,b=0;b<m;b++){var M=v[b][0];if(M==="C"||M==="A"||M==="Q"){f=!0;break}}return f},extractPolygons:function(v){for(var f=v.length,m=[],b=[],M=[],O=0;O<f;O++){var E=v[O],A=E[0];A==="M"?(M.length&&(b.push(M),M=[]),M.push([E[1],E[2]])):A==="Z"?M.length&&(m.push(M),M=[]):M.push([E[1],E[2]])}return M.length>0&&b.push(M),{polygons:m,polylines:b}},isPointInStroke:function(v,f,m,b,M){for(var O=!1,E=f/2,A=0;A<v.length;A++){var j=v[A],B=j.currentPoint,D=j.params,T=j.prePoint,Y=j.box;if(!Y||o.inBox(Y.x-E,Y.y-E,Y.width+f,Y.height+f,m,b)){switch(j.command){case"L":case"Z":O=u.default(T[0],T[1],B[0],B[1],f,m,b);break;case"Q":O=p.default.pointDistance(T[0],T[1],D[1],D[2],D[3],D[4],m,b)<=f/2;break;case"C":O=n.default.pointDistance(T[0],T[1],D[1],D[2],D[3],D[4],D[5],D[6],m,b,M)<=f/2;break;case"A":var G=j.arcParams,U=G.cx,H=G.cy,J=G.rx,ut=G.ry,$=G.startAngle,K=G.endAngle,ot=G.xRotation,at=[m,b,1],ht=J>ut?J:ut,St=c(null,[["t",-U,-H],["r",-ot],["s",1/(J>ut?1:J/ut),1/(J>ut?ut/J:1)]]);a.transformMat3(at,at,St),O=r.default(0,0,ht,$,K,f,at[0],at[1])}if(O)break}}return O}},y.PathUtil)},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(28),p=s(169),n=s(167),o=function(u){function r(){return u!==null&&u.apply(this,arguments)||this}return d.__extends(r,u),r.prototype.isInStrokeOrPath=function(i,a,c,h,v){var f=this.attr().points,m=!1;return c&&(m=p.default(f,v,i,a,!0)),!m&&h&&(m=n.default(f,i,a)),m},r.prototype.createPath=function(i){var a=this.attr().points;if(!(a.length<2)){i.beginPath();for(var c=0;c<a.length;c++){var h=a[c];c===0?i.moveTo(h[0],h[1]):i.lineTo(h[0],h[1])}i.closePath()}},r}(y.default);x.default=o},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(40),p=s(170),n=s(0),o=s(28),u=s(169),r=s(74),i=function(a){function c(){return a!==null&&a.apply(this,arguments)||this}return d.__extends(c,a),c.prototype.getDefaultAttrs=function(){var h=a.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},h),{startArrow:!1,endArrow:!1})},c.prototype.initAttrs=function(h){this.setArrow()},c.prototype.onAttrChange=function(h,v,f){a.prototype.onAttrChange.call(this,h,v,f),this.setArrow(),["points"].indexOf(h)!==-1&&this._resetCache()},c.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},c.prototype.setArrow=function(){var h=this.attr(),v=this.attrs,f=v.points,m=v.startArrow,b=v.endArrow,M=f.length,O=f[0][0],E=f[0][1],A=f[M-1][0],j=f[M-1][1];m&&r.addStartArrow(this,h,f[1][0],f[1][1],O,E),b&&r.addEndArrow(this,h,f[M-2][0],f[M-2][1],A,j)},c.prototype.isFill=function(){return!1},c.prototype.isInStrokeOrPath=function(h,v,f,m,b){if(!f||!b)return!1;var M=this.attr().points;return u.default(M,b,h,v,!1)},c.prototype.isStroke=function(){return!0},c.prototype.createPath=function(h){var v=this.attr(),f=v.points,m=v.startArrow,b=v.endArrow,M=f.length;if(!(f.length<2)){var O,E=f[0][0],A=f[0][1],j=f[M-1][0],B=f[M-1][1];m&&m.d&&(E+=(O=r.getShortenOffset(E,A,f[1][0],f[1][1],m.d)).dx,A+=O.dy),b&&b.d&&(j-=(O=r.getShortenOffset(f[M-2][0],f[M-2][1],j,B,b.d)).dx,B-=O.dy),h.beginPath(),h.moveTo(E,A);for(var D=0;D<M-1;D++){var T=f[D];h.lineTo(T[0],T[1])}h.lineTo(j,B)}},c.prototype.afterDrawPath=function(h){var v=this.get("startArrowShape"),f=this.get("endArrowShape");v&&v.draw(h),f&&f.draw(h)},c.prototype.getTotalLength=function(){var h=this.attr().points,v=this.get("totalLength");return n.isNil(v)?(this.set("totalLength",p.default.length(h)),this.get("totalLength")):v},c.prototype.getPoint=function(h){var v,f,m=this.attr().points,b=this.get("tCache");return b||(this._setTcache(),b=this.get("tCache")),n.each(b,function(M,O){h>=M[0]&&h<=M[1]&&(v=(h-M[0])/(M[1]-M[0]),f=O)}),y.default.pointAt(m[f][0],m[f][1],m[f+1][0],m[f+1][1],v)},c.prototype._setTcache=function(){var h=this.attr().points;if(h&&h.length!==0){var v=this.getTotalLength();if(!(v<=0)){var f,m,b=0,M=[];n.each(h,function(O,E){h[E+1]&&((f=[])[0]=b/v,m=y.default.length(O[0],O[1],h[E+1][0],h[E+1][1]),b+=m,f[1]=b/v,M.push(f))}),this.set("tCache",M)}}},c.prototype.getStartTangent=function(){var h=this.attr().points,v=[];return v.push([h[1][0],h[1][1]]),v.push([h[0][0],h[0][1]]),v},c.prototype.getEndTangent=function(){var h=this.attr().points,v=h.length-1,f=[];return f.push([h[v-1][0],h[v-1][1]]),f.push([h[v][0],h[v][1]]),f},c}(o.default);x.default=i},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.distanceAtSegment=x.angleAtSegments=x.pointAtSegments=x.lengthOfSegment=void 0;var d=s(40),y=s(33);function p(n){for(var o=0,u=[],r=0;r<n.length-1;r++){var i=n[r],a=n[r+1],c=y.distance(i[0],i[1],a[0],a[1]),h={from:i,to:a,length:c};u.push(h),o+=c}return{segments:u,totalLength:o}}x.lengthOfSegment=function(n){if(n.length<2)return 0;for(var o=0,u=0;u<n.length-1;u++){var r=n[u],i=n[u+1];o+=y.distance(r[0],r[1],i[0],i[1])}return o},x.pointAtSegments=function(n,o){if(o>1||o<0||n.length<2)return null;var u=p(n),r=u.segments,i=u.totalLength;if(i===0)return{x:n[0][0],y:n[0][1]};for(var a=0,c=null,h=0;h<r.length;h++){var v=r[h],f=v.from,m=v.to,b=v.length/i;if(o>=a&&o<=a+b){var M=(o-a)/b;c=d.default.pointAt(f[0],f[1],m[0],m[1],M);break}a+=b}return c},x.angleAtSegments=function(n,o){if(o>1||o<0||n.length<2)return 0;for(var u=p(n),r=u.segments,i=u.totalLength,a=0,c=0,h=0;h<r.length;h++){var v=r[h],f=v.from,m=v.to,b=v.length/i;if(o>=a&&o<=a+b){c=Math.atan2(m[1]-f[1],m[0]-f[0]);break}a+=b}return c},x.distanceAtSegment=function(n,o,u){for(var r=1/0,i=0;i<n.length-1;i++){var a=n[i],c=n[i+1],h=d.default.pointDistance(a[0],a[1],c[0],c[1],o,u);h<r&&(r=h)}return r}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(28),p=s(156),n=s(18),o=s(346),u=s(347),r=s(166),i=function(a){function c(){return a!==null&&a.apply(this,arguments)||this}return d.__extends(c,a),c.prototype.getDefaultAttrs=function(){var h=a.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},h),{x:0,y:0,width:0,height:0,radius:0})},c.prototype.isInStrokeOrPath=function(h,v,f,m,b){var M=this.attr(),O=M.x,E=M.y,A=M.width,j=M.height,B=M.radius;if(B){var D=!1;return f&&(D=u.default(O,E,A,j,B,b,h,v)),!D&&m&&(D=r.default(this,h,v)),D}var T=b/2;return m&&f?n.inBox(O-T,E-T,A+T,j+T,h,v):m?n.inBox(O,E,A,j,h,v):f?o.default(O,E,A,j,b,h,v):void 0},c.prototype.createPath=function(h){var v=this.attr(),f=v.x,m=v.y,b=v.width,M=v.height,O=v.radius;if(h.beginPath(),O===0)h.rect(f,m,b,M);else{var E=p.parseRadius(O),A=E[0],j=E[1],B=E[2],D=E[3];h.moveTo(f+A,m),h.lineTo(f+b-j,m),j!==0&&h.arc(f+b-j,m+j,j,-Math.PI/2,0),h.lineTo(f+b,m+M-B),B!==0&&h.arc(f+b-B,m+M-B,B,0,Math.PI/2),h.lineTo(f+D,m+M),D!==0&&h.arc(f+D,m+M-D,D,Math.PI/2,Math.PI),h.lineTo(f,m+A),A!==0&&h.arc(f+A,m+A,A,Math.PI,1.5*Math.PI),h.closePath()}},c}(y.default);x.default=i},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(18);x.default=function(y,p,n,o,u,r,i){var a=u/2;return d.inBox(y-a,p-a,n,u,r,i)||d.inBox(y+n-a,p-a,u,o,r,i)||d.inBox(y+a,p+o-a,n,u,r,i)||d.inBox(y-a,p+a,u,o,r,i)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(75),y=s(168);x.default=function(p,n,o,u,r,i,a,c){return d.default(p+r,n,p+o-r,n,i,a,c)||d.default(p+o,n+r,p+o,n+u-r,i,a,c)||d.default(p+o-r,n+u,p+r,n+u,i,a,c)||d.default(p,n+u-r,p,n+r,i,a,c)||y.default(p+o-r,n+r,r,1.5*Math.PI,2*Math.PI,i,a,c)||y.default(p+o-r,n+u-r,r,0,.5*Math.PI,i,a,c)||y.default(p+r,n+u-r,r,.5*Math.PI,Math.PI,i,a,c)||y.default(p+r,n+r,r,Math.PI,1.5*Math.PI,i,a,c)}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(28),p=s(18),n=s(158),o=function(u){function r(){return u!==null&&u.apply(this,arguments)||this}return d.__extends(r,u),r.prototype.getDefaultAttrs=function(){var i=u.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},i),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(i){this._assembleFont(),i.text&&this._setText(i.text)},r.prototype._assembleFont=function(){var i=this.attrs;i.font=n.assembleFont(i)},r.prototype._setText=function(i){var a=null;p.isString(i)&&i.indexOf(`
`)!==-1&&(a=i.split(`
`)),this.set("textArr",a)},r.prototype.onAttrChange=function(i,a,c){u.prototype.onAttrChange.call(this,i,a,c),i.startsWith("font")&&this._assembleFont(),i==="text"&&this._setText(a)},r.prototype._getSpaceingY=function(){var i=this.attrs,a=i.lineHeight,c=1*i.fontSize;return a?a-c:.14*c},r.prototype._drawTextArr=function(i,a,c){var h,v=this.attrs,f=v.textBaseline,m=v.x,b=v.y,M=1*v.fontSize,O=this._getSpaceingY(),E=n.getTextHeight(v.text,v.fontSize,v.lineHeight);p.each(a,function(A,j){h=b+j*(O+M)-E+M,f==="middle"&&(h+=E-M-(E-M)/2),f==="top"&&(h+=E-M),c?i.fillText(A,m,h):i.strokeText(A,m,h)})},r.prototype._drawText=function(i,a){var c=this.attr(),h=c.x,v=c.y,f=this.get("textArr");if(f)this._drawTextArr(i,f,a);else{var m=c.text;a?i.fillText(m,h,v):i.strokeText(m,h,v)}},r.prototype.strokeAndFill=function(i){var a=this.attrs,c=a.lineWidth,h=a.opacity,v=a.strokeOpacity,f=a.fillOpacity;this.isStroke()&&c>0&&(p.isNil(v)||v===1||(i.globalAlpha=h),this.stroke(i)),this.isFill()&&(p.isNil(f)||f===1?this.fill(i):(i.globalAlpha=f,this.fill(i),i.globalAlpha=h)),this.afterDrawPath(i)},r.prototype.fill=function(i){this._drawText(i,!0)},r.prototype.stroke=function(i){this._drawText(i,!1)},r}(y.default);x.default=o},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(o){function u(){var r=o!==null&&o.apply(this,arguments)||this;return r.type="circle",r.canFill=!0,r.canStroke=!0,r}return d.__extends(u,o),u.prototype.getDefaultAttrs=function(){var r=o.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},r),{x:0,y:0,r:0})},u.prototype.createPath=function(r,i){var a=this.attr(),c=this.get("el");y.each(i||a,function(h,v){v==="x"||v==="y"?c.setAttribute("c"+v,h):p.SVG_ATTR_MAP[v]&&c.setAttribute(p.SVG_ATTR_MAP[v],h)})},u}(s(23).default);x.default=n},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(o){function u(){var r=o!==null&&o.apply(this,arguments)||this;return r.type="dom",r.canFill=!1,r.canStroke=!1,r}return d.__extends(u,o),u.prototype.createPath=function(r,i){var a=this.attr(),c=this.get("el");if(y.each(i||a,function(m,b){p.SVG_ATTR_MAP[b]&&c.setAttribute(p.SVG_ATTR_MAP[b],m)}),typeof a.html=="function"){var h=a.html.call(this,a);if(h instanceof Element||h instanceof HTMLDocument){for(var v=c.childNodes,f=v.length-1;f>=0;f--)c.removeChild(v[f]);c.appendChild(h)}else c.innerHTML=h}else c.innerHTML=a.html},u}(s(23).default);x.default=n},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(o){function u(){var r=o!==null&&o.apply(this,arguments)||this;return r.type="ellipse",r.canFill=!0,r.canStroke=!0,r}return d.__extends(u,o),u.prototype.getDefaultAttrs=function(){var r=o.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},r),{x:0,y:0,rx:0,ry:0})},u.prototype.createPath=function(r,i){var a=this.attr(),c=this.get("el");y.each(i||a,function(h,v){v==="x"||v==="y"?c.setAttribute("c"+v,h):p.SVG_ATTR_MAP[v]&&c.setAttribute(p.SVG_ATTR_MAP[v],h)})},u}(s(23).default);x.default=n},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(o){function u(){var r=o!==null&&o.apply(this,arguments)||this;return r.type="image",r.canFill=!1,r.canStroke=!1,r}return d.__extends(u,o),u.prototype.getDefaultAttrs=function(){var r=o.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},r),{x:0,y:0,width:0,height:0})},u.prototype.createPath=function(r,i){var a=this,c=this.attr(),h=this.get("el");y.each(i||c,function(v,f){f==="img"?a._setImage(c.img):p.SVG_ATTR_MAP[f]&&h.setAttribute(p.SVG_ATTR_MAP[f],v)})},u.prototype.setAttr=function(r,i){this.attrs[r]=i,r==="img"&&this._setImage(i)},u.prototype._setImage=function(r){var i=this.attr(),a=this.get("el");if(y.isString(r))a.setAttribute("href",r);else if(r instanceof window.Image)i.width||(a.setAttribute("width",r.width),this.attr("width",r.width)),i.height||(a.setAttribute("height",r.height),this.attr("height",r.height)),a.setAttribute("href",r.src);else if(r instanceof HTMLElement&&y.isString(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS")a.setAttribute("href",r.toDataURL());else if(r instanceof ImageData){var c=document.createElement("canvas");c.setAttribute("width",""+r.width),c.setAttribute("height",""+r.height),c.getContext("2d").putImageData(r,0,0),i.width||(a.setAttribute("width",""+r.width),this.attr("width",r.width)),i.height||(a.setAttribute("height",""+r.height),this.attr("height",r.height)),a.setAttribute("href",c.toDataURL())}},u}(s(23).default);x.default=n},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(40),p=s(0),n=s(19),o=function(u){function r(){var i=u!==null&&u.apply(this,arguments)||this;return i.type="line",i.canFill=!1,i.canStroke=!0,i}return d.__extends(r,u),r.prototype.getDefaultAttrs=function(){var i=u.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},i),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(i,a){var c=this.attr(),h=this.get("el");p.each(a||c,function(v,f){if(f==="startArrow"||f==="endArrow")if(v){var m=p.isObject(v)?i.addArrow(c,n.SVG_ATTR_MAP[f]):i.getDefaultArrow(c,n.SVG_ATTR_MAP[f]);h.setAttribute(n.SVG_ATTR_MAP[f],"url(#"+m+")")}else h.removeAttribute(n.SVG_ATTR_MAP[f]);else n.SVG_ATTR_MAP[f]&&h.setAttribute(n.SVG_ATTR_MAP[f],v)})},r.prototype.getTotalLength=function(){var i=this.attr(),a=i.x1,c=i.y1,h=i.x2,v=i.y2;return y.default.length(a,c,h,v)},r.prototype.getPoint=function(i){var a=this.attr(),c=a.x1,h=a.y1,v=a.x2,f=a.y2;return y.default.pointAt(c,h,v,f,i)},r}(s(23).default);x.default=o},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(23),n=s(355),o=function(u){function r(){var i=u!==null&&u.apply(this,arguments)||this;return i.type="marker",i.canFill=!0,i.canStroke=!0,i}return d.__extends(r,u),r.prototype.createPath=function(i){this.get("el").setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var i=this._getPath();return y.isArray(i)?i.map(function(a){return a.join(" ")}).join(""):i},r.prototype._getPath=function(){var i,a=this.attr(),c=a.x,h=a.y,v=a.r||a.radius,f=a.symbol||"circle";return(i=y.isFunction(f)?f:n.default.get(f))?i(c,h,v):(console.warn(i+" symbol is not exist."),null)},r.symbolsFactory=n.default,r}(p.default);x.default=o},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d={circle:function(p,n,o){return[["M",p,n],["m",-o,0],["a",o,o,0,1,0,2*o,0],["a",o,o,0,1,0,2*-o,0]]},square:function(p,n,o){return[["M",p-o,n-o],["L",p+o,n-o],["L",p+o,n+o],["L",p-o,n+o],["Z"]]},diamond:function(p,n,o){return[["M",p-o,n],["L",p,n-o],["L",p+o,n],["L",p,n+o],["Z"]]},triangle:function(p,n,o){var u=o*Math.sin(1/3*Math.PI);return[["M",p-o,n+u],["L",p,n-u],["L",p+o,n+u],["z"]]},triangleDown:function(p,n,o){var u=o*Math.sin(1/3*Math.PI);return[["M",p-o,n-u],["L",p+o,n-u],["L",p,n+u],["Z"]]}};x.default={get:function(p){return d[p]},register:function(p,n){d[p]=n},remove:function(p){delete d[p]},getAll:function(){return d}}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(o){function u(){var r=o!==null&&o.apply(this,arguments)||this;return r.type="path",r.canFill=!0,r.canStroke=!0,r}return d.__extends(u,o),u.prototype.getDefaultAttrs=function(){var r=o.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},r),{startArrow:!1,endArrow:!1})},u.prototype.createPath=function(r,i){var a=this,c=this.attr(),h=this.get("el");y.each(i||c,function(v,f){if(f==="path"&&y.isArray(v))h.setAttribute("d",a._formatPath(v));else if(f==="startArrow"||f==="endArrow")if(v){var m=y.isObject(v)?r.addArrow(c,p.SVG_ATTR_MAP[f]):r.getDefaultArrow(c,p.SVG_ATTR_MAP[f]);h.setAttribute(p.SVG_ATTR_MAP[f],"url(#"+m+")")}else h.removeAttribute(p.SVG_ATTR_MAP[f]);else p.SVG_ATTR_MAP[f]&&h.setAttribute(p.SVG_ATTR_MAP[f],v)})},u.prototype._formatPath=function(r){var i=r.map(function(a){return a.join(" ")}).join("");return~i.indexOf("NaN")?"":i},u.prototype.getTotalLength=function(){var r=this.get("el");return r?r.getTotalLength():null},u.prototype.getPoint=function(r){var i=this.get("el"),a=this.getTotalLength();if(a===0)return null;var c=i?i.getPointAtLength(r*a):null;return c?{x:c.x,y:c.y}:null},u}(s(23).default);x.default=n},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(19),n=function(o){function u(){var r=o!==null&&o.apply(this,arguments)||this;return r.type="polygon",r.canFill=!0,r.canStroke=!0,r}return d.__extends(u,o),u.prototype.createPath=function(r,i){var a=this.attr(),c=this.get("el");y.each(i||a,function(h,v){v==="points"&&y.isArray(h)&&h.length>=2?c.setAttribute("points",h.map(function(f){return f[0]+","+f[1]}).join(" ")):p.SVG_ATTR_MAP[v]&&c.setAttribute(p.SVG_ATTR_MAP[v],h)})},u}(s(23).default);x.default=n},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(40),p=s(170),n=s(0),o=s(19),u=function(r){function i(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="polyline",a.canFill=!0,a.canStroke=!0,a}return d.__extends(i,r),i.prototype.getDefaultAttrs=function(){var a=r.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},a),{startArrow:!1,endArrow:!1})},i.prototype.onAttrChange=function(a,c,h){r.prototype.onAttrChange.call(this,a,c,h),["points"].indexOf(a)!==-1&&this._resetCache()},i.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},i.prototype.createPath=function(a,c){var h=this.attr(),v=this.get("el");n.each(c||h,function(f,m){m==="points"&&n.isArray(f)&&f.length>=2?v.setAttribute("points",f.map(function(b){return b[0]+","+b[1]}).join(" ")):o.SVG_ATTR_MAP[m]&&v.setAttribute(o.SVG_ATTR_MAP[m],f)})},i.prototype.getTotalLength=function(){var a=this.attr().points,c=this.get("totalLength");return n.isNil(c)?(this.set("totalLength",p.default.length(a)),this.get("totalLength")):c},i.prototype.getPoint=function(a){var c,h,v=this.attr().points,f=this.get("tCache");return f||(this._setTcache(),f=this.get("tCache")),n.each(f,function(m,b){a>=m[0]&&a<=m[1]&&(c=(a-m[0])/(m[1]-m[0]),h=b)}),y.default.pointAt(v[h][0],v[h][1],v[h+1][0],v[h+1][1],c)},i.prototype._setTcache=function(){var a=this.attr().points;if(a&&a.length!==0){var c=this.getTotalLength();if(!(c<=0)){var h,v,f=0,m=[];n.each(a,function(b,M){a[M+1]&&((h=[])[0]=f/c,v=y.default.length(b[0],b[1],a[M+1][0],a[M+1][1]),f+=v,h[1]=f/c,m.push(h))}),this.set("tCache",m)}}},i.prototype.getStartTangent=function(){var a=this.attr().points,c=[];return c.push([a[1][0],a[1][1]]),c.push([a[0][0],a[0][1]]),c},i.prototype.getEndTangent=function(){var a=this.attr().points,c=a.length-1,h=[];return h.push([a[c-1][0],a[c-1][1]]),h.push([a[c][0],a[c][1]]),h},i}(s(23).default);x.default=u},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(23),n=s(19),o=s(360),u=function(r){function i(){var a=r!==null&&r.apply(this,arguments)||this;return a.type="rect",a.canFill=!0,a.canStroke=!0,a}return d.__extends(i,r),i.prototype.getDefaultAttrs=function(){var a=r.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},a),{x:0,y:0,width:0,height:0,radius:0})},i.prototype.createPath=function(a,c){var h=this,v=this.attr(),f=this.get("el"),m=!1,b=["x","y","width","height","radius"];y.each(c||v,function(M,O){b.indexOf(O)===-1||m?b.indexOf(O)===-1&&n.SVG_ATTR_MAP[O]&&f.setAttribute(n.SVG_ATTR_MAP[O],M):(f.setAttribute("d",h._assembleRect(v)),m=!0)})},i.prototype._assembleRect=function(a){var c=a.x,h=a.y,v=a.width,f=a.height,m=a.radius;if(!m)return"M "+c+","+h+" l "+v+",0 l 0,"+f+" l"+-v+" 0 z";var b=o.parseRadius(m);return y.isArray(m)?m.length===1?b.r1=b.r2=b.r3=b.r4=m[0]:m.length===2?(b.r1=b.r3=m[0],b.r2=b.r4=m[1]):m.length===3?(b.r1=m[0],b.r2=b.r4=m[1],b.r3=m[2]):(b.r1=m[0],b.r2=m[1],b.r3=m[2],b.r4=m[3]):b.r1=b.r2=b.r3=b.r4=m,[["M "+(c+b.r1)+","+h],["l "+(v-b.r1-b.r2)+",0"],["a "+b.r2+","+b.r2+",0,0,1,"+b.r2+","+b.r2],["l 0,"+(f-b.r2-b.r3)],["a "+b.r3+","+b.r3+",0,0,1,"+-b.r3+","+b.r3],["l "+(b.r3+b.r4-v)+",0"],["a "+b.r4+","+b.r4+",0,0,1,"+-b.r4+","+-b.r4],["l 0,"+(b.r4+b.r1-f)],["a "+b.r1+","+b.r1+",0,0,1,"+b.r1+","+-b.r1],["z"]].join(" ")},i}(p.default);x.default=u},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.parsePath=x.parseRadius=void 0;var d=s(0),y=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,p=/[^\s\,]+/gi;x.parseRadius=function(n){var o=0,u=0,r=0,i=0;return d.isArray(n)?n.length===1?o=u=r=i=n[0]:n.length===2?(o=r=n[0],u=i=n[1]):n.length===3?(o=n[0],u=i=n[1],r=n[2]):(o=n[0],u=n[1],r=n[2],i=n[3]):o=u=r=i=n,{r1:o,r2:u,r3:r,r4:i}},x.parsePath=function(n){return n=n||[],d.isArray(n)?n:d.isString(n)?(n=n.match(y),d.each(n,function(o,u){if((o=o.match(p))[0].length>1){var r=o[0].charAt(0);o.splice(1,0,o[0].substr(1)),o[0]=r}d.each(o,function(i,a){isNaN(i)||(o[a]=+i)}),n[u]=o}),n):void 0}},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(1),y=s(0),p=s(132),n=s(61),o=s(19),u=s(23),r={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},i={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},a={left:"left",start:"left",center:"middle",right:"end",end:"end"},c=function(h){function v(){var f=h!==null&&h.apply(this,arguments)||this;return f.type="text",f.canFill=!0,f.canStroke=!0,f}return d.__extends(v,h),v.prototype.getDefaultAttrs=function(){var f=h.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},f),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},v.prototype.createPath=function(f,m){var b=this,M=this.attr(),O=this.get("el");this._setFont(),y.each(m||M,function(E,A){A==="text"?b._setText(""+E):A==="matrix"&&E?n.setTransform(b):o.SVG_ATTR_MAP[A]&&O.setAttribute(o.SVG_ATTR_MAP[A],E)}),O.setAttribute("paint-order","stroke"),O.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},v.prototype._setFont=function(){var f=this.get("el"),m=this.attr(),b=m.textBaseline,M=m.textAlign,O=p.detect();O&&O.name==="firefox"?f.setAttribute("dominant-baseline",i[b]||"alphabetic"):f.setAttribute("alignment-baseline",r[b]||"baseline"),f.setAttribute("text-anchor",a[M]||"left")},v.prototype._setText=function(f){var m=this.get("el"),b=this.attr(),M=b.x,O=b.textBaseline,E=O===void 0?"bottom":O;if(f)if(~f.indexOf(`
`)){var A=f.split(`
`),j=A.length-1,B="";y.each(A,function(D,T){T===0?E==="alphabetic"?B+='<tspan x="'+M+'" dy="'+-j+'em">'+D+"</tspan>":E==="top"?B+='<tspan x="'+M+'" dy="0.9em">'+D+"</tspan>":E==="middle"?B+='<tspan x="'+M+'" dy="'+-(j-1)/2+'em">'+D+"</tspan>":E==="bottom"?B+='<tspan x="'+M+'" dy="-'+(j+.3)+'em">'+D+"</tspan>":E==="hanging"&&(B+='<tspan x="'+M+'" dy="'+(-(j-1)-.3)+'em">'+D+"</tspan>"):B+='<tspan x="'+M+'" dy="1em">'+D+"</tspan>"}),m.innerHTML=B}else m.innerHTML=f;else m.innerHTML=""},v}(u.default);x.default=c},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(363),p=s(364),n=s(365),o=s(366),u=s(367),r=s(29),i=function(){function a(c){var h=r.createSVGElement("defs"),v=d.uniqueId("defs_");h.id=v,c.appendChild(h),this.children=[],this.defaultArrow={},this.el=h,this.canvas=c}return a.prototype.find=function(c,h){for(var v=this.children,f=null,m=0;m<v.length;m++)if(v[m].match(c,h)){f=v[m].id;break}return f},a.prototype.findById=function(c){for(var h=this.children,v=null,f=0;f<h.length;f++)if(h[f].id===c){v=h[f];break}return v},a.prototype.add=function(c){this.children.push(c),c.canvas=this.canvas,c.parent=this},a.prototype.getDefaultArrow=function(c,h){var v=c.stroke||c.strokeStyle;if(this.defaultArrow[v])return this.defaultArrow[v].id;var f=new n.default(c,h);return this.defaultArrow[v]=f,this.el.appendChild(f.el),this.add(f),f.id},a.prototype.addGradient=function(c){var h=new y.default(c);return this.el.appendChild(h.el),this.add(h),h.id},a.prototype.addArrow=function(c,h){var v=new n.default(c,h);return this.el.appendChild(v.el),this.add(v),v.id},a.prototype.addShadow=function(c){var h=new p.default(c);return this.el.appendChild(h.el),this.add(h),h.id},a.prototype.addPattern=function(c){var h=new u.default(c);return this.el.appendChild(h.el),this.add(h),h.id},a.prototype.addClip=function(c){var h=new o.default(c);return this.el.appendChild(h.el),this.add(h),h.id},a}();x.default=i},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(29),p=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,n=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,o=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function u(i){var a=i.match(o);if(!a)return"";var c="";return a.sort(function(h,v){return h=h.split(":"),v=v.split(":"),Number(h[0])-Number(v[0])}),d.each(a,function(h){h=h.split(":"),c+='<stop offset="'+h[0]+'" stop-color="'+h[1]+'"></stop>'}),c}var r=function(){function i(a){this.cfg={};var c=null,h=d.uniqueId("gradient_");return a.toLowerCase()[0]==="l"?function(v,f){var m,b,M=p.exec(v),O=d.mod(d.toRadian(parseFloat(M[1])),2*Math.PI),E=M[2];O>=0&&O<.5*Math.PI?(m={x:0,y:0},b={x:1,y:1}):.5*Math.PI<=O&&O<Math.PI?(m={x:1,y:0},b={x:0,y:1}):Math.PI<=O&&O<1.5*Math.PI?(m={x:1,y:1},b={x:0,y:0}):(m={x:0,y:1},b={x:1,y:0});var A=Math.tan(O),j=A*A,B=(b.x-m.x+A*(b.y-m.y))/(j+1)+m.x,D=A*(b.x-m.x+A*(b.y-m.y))/(j+1)+m.y;f.setAttribute("x1",m.x),f.setAttribute("y1",m.y),f.setAttribute("x2",B),f.setAttribute("y2",D),f.innerHTML=u(E)}(a,c=y.createSVGElement("linearGradient")):function(v,f){var m=n.exec(v),b=parseFloat(m[1]),M=parseFloat(m[2]),O=parseFloat(m[3]),E=m[4];f.setAttribute("cx",b),f.setAttribute("cy",M),f.setAttribute("r",O),f.innerHTML=u(E)}(a,c=y.createSVGElement("radialGradient")),c.setAttribute("id",h),this.el=c,this.id=h,this.cfg=a,this}return i.prototype.match=function(a,c){return this.cfg===c},i}();x.default=r},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(29),p={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},n={x:"-40%",y:"-40%",width:"200%",height:"200%"},o=function(){function u(r){this.type="filter",this.cfg={},this.type="filter";var i=y.createSVGElement("filter");return d.each(n,function(a,c){i.setAttribute(c,a)}),this.el=i,this.id=d.uniqueId("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,i),this}return u.prototype.match=function(r,i){if(this.type!==r)return!1;var a=!0,c=this.cfg;return d.each(Object.keys(c),function(h){if(c[h]!==i[h])return a=!1,!1}),a},u.prototype.update=function(r,i){var a=this.cfg;return a[p[r]]=i,this._parseShadow(a,this.el),this},u.prototype._parseShadow=function(r,i){var a=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;i.innerHTML=a},u}();x.default=o},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(29),p=function(){function n(o,u){this.cfg={};var r=y.createSVGElement("marker"),i=d.uniqueId("marker_");r.setAttribute("id",i);var a=y.createSVGElement("path");a.setAttribute("stroke",o.stroke||"none"),a.setAttribute("fill",o.fill||"none"),r.appendChild(a),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=a,this.id=i;var c=o[u==="marker-start"?"startArrow":"endArrow"];return this.stroke=o.stroke||"#000",c===!0?this._setDefaultPath(u,a):(this.cfg=c,this._setMarker(o.lineWidth,a)),this}return n.prototype.match=function(){return!1},n.prototype._setDefaultPath=function(o,u){var r=this.el;u.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),r.setAttribute("refX",""+10*Math.cos(Math.PI/6)),r.setAttribute("refY","5")},n.prototype._setMarker=function(o,u){var r=this.el,i=this.cfg.path,a=this.cfg.d;d.isArray(i)&&(i=i.map(function(c){return c.join(" ")}).join("")),u.setAttribute("d",i),r.appendChild(u),a&&r.setAttribute("refX",""+a/o)},n.prototype.update=function(o){var u=this.child;u.attr?u.attr("fill",o):u.setAttribute("fill",o)},n}();x.default=p},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(29),p=function(){function n(o){this.type="clip",this.cfg={};var u=y.createSVGElement("clipPath");this.el=u,this.id=d.uniqueId("clip_"),u.id=this.id;var r=o.cfg.el;return u.appendChild(r),this.cfg=o,this}return n.prototype.match=function(){return!1},n.prototype.remove=function(){var o=this.el;o.parentNode.removeChild(o)},n}();x.default=p},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(29),p=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,n=function(){function o(u){this.cfg={};var r=y.createSVGElement("pattern");r.setAttribute("patternUnits","userSpaceOnUse");var i=y.createSVGElement("image");r.appendChild(i);var a=d.uniqueId("pattern_");r.id=a,this.el=r,this.id=a,this.cfg=u;var c=p.exec(u)[2];i.setAttribute("href",c);var h=new Image;function v(){r.setAttribute("width",""+h.width),r.setAttribute("height",""+h.height)}return c.match(/^data:/i)||(h.crossOrigin="Anonymous"),h.src=c,h.complete?v():(h.onload=v,h.src=h.src),this}return o.prototype.match=function(u,r){return this.cfg===r},o}();x.default=n},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(26),y=s(0);d.angle=function(p,n){var o=d.dot(p,n)/(d.length(p)*d.length(n));return Math.acos(y.clamp(o,-1,1))},d.direction=function(p,n){return p[0]*n[1]-n[0]*p[1]},d.angleTo=function(p,n,o){var u=d.angle(p,n),r=d.direction(p,n)>=0;return o?r?2*Math.PI-u:u:r?u:2*Math.PI-u},d.vertical=function(p,n,o){return o?(p[0]=n[1],p[1]=-1*n[0]):(p[0]=-1*n[1],p[1]=n[0]),p},x.default=d},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(131);x.default=d},function(C,x,s){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var d=s(0),y=s(172);x.default=function(p,n){var o=p?d.clone(p):[1,0,0,0,1,0,0,0,1];return d.each(n,function(u){switch(u[0]){case"t":y.default.translate(o,o,[u[1],u[2]]);break;case"s":y.default.scale(o,o,[u[1],u[2]]);break;case"r":y.default.rotate(o,o,u[1]);break;case"m":y.default.multiply(o,o,u[1]);break;default:return!1}}),o}},function(C,x,s){var d=s(372);C.exports={Graph:d.Graph,json:s(475),alg:s(476),version:d.version}},function(C,x,s){C.exports={Graph:s(111),version:s(474)}},function(C,x,s){var d=s(173);C.exports=function(y){return d(y,4)}},function(C,x){C.exports=function(){this.__data__=[],this.size=0}},function(C,x,s){var d=s(78),y=Array.prototype.splice;C.exports=function(p){var n=this.__data__,o=d(n,p);return!(o<0)&&(o==n.length-1?n.pop():y.call(n,o,1),--this.size,!0)}},function(C,x,s){var d=s(78);C.exports=function(y){var p=this.__data__,n=d(p,y);return n<0?void 0:p[n][1]}},function(C,x,s){var d=s(78);C.exports=function(y){return d(this.__data__,y)>-1}},function(C,x,s){var d=s(78);C.exports=function(y,p){var n=this.__data__,o=d(n,y);return o<0?(++this.size,n.push([y,p])):n[o][1]=p,this}},function(C,x,s){var d=s(77);C.exports=function(){this.__data__=new d,this.size=0}},function(C,x){C.exports=function(s){var d=this.__data__,y=d.delete(s);return this.size=d.size,y}},function(C,x){C.exports=function(s){return this.__data__.get(s)}},function(C,x){C.exports=function(s){return this.__data__.has(s)}},function(C,x,s){var d=s(77),y=s(112),p=s(113);C.exports=function(n,o){var u=this.__data__;if(u instanceof d){var r=u.__data__;if(!y||r.length<199)return r.push([n,o]),this.size=++u.size,this;u=this.__data__=new p(r)}return u.set(n,o),this.size=u.size,this}},function(C,x,s){var d=s(62),y=s(388),p=s(25),n=s(175),o=/^\[object .+?Constructor\]$/,u=Function.prototype,r=Object.prototype,i=u.toString,a=r.hasOwnProperty,c=RegExp("^"+i.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");C.exports=function(h){return!(!p(h)||y(h))&&(d(h)?c:o).test(n(h))}},function(C,x){function s(y){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(y)}var d;d=function(){return this}();try{d=d||new Function("return this")()}catch(y){(typeof window=="undefined"?"undefined":s(window))==="object"&&(d=window)}C.exports=d},function(C,x,s){var d=s(52),y=Object.prototype,p=y.hasOwnProperty,n=y.toString,o=d?d.toStringTag:void 0;C.exports=function(u){var r=p.call(u,o),i=u[o];try{u[o]=void 0;var a=!0}catch(h){}var c=n.call(u);return a&&(r?u[o]=i:delete u[o]),c}},function(C,x){var s=Object.prototype.toString;C.exports=function(d){return s.call(d)}},function(C,x,s){var d,y=s(389),p=(d=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"";C.exports=function(n){return!!p&&p in n}},function(C,x,s){var d=s(31)["__core-js_shared__"];C.exports=d},function(C,x){C.exports=function(s,d){return s==null?void 0:s[d]}},function(C,x,s){var d=s(392),y=s(77),p=s(112);C.exports=function(){this.size=0,this.__data__={hash:new d,map:new(p||y),string:new d}}},function(C,x,s){var d=s(393),y=s(394),p=s(395),n=s(396),o=s(397);function u(r){var i=-1,a=r==null?0:r.length;for(this.clear();++i<a;){var c=r[i];this.set(c[0],c[1])}}u.prototype.clear=d,u.prototype.delete=y,u.prototype.get=p,u.prototype.has=n,u.prototype.set=o,C.exports=u},function(C,x,s){var d=s(79);C.exports=function(){this.__data__=d?d(null):{},this.size=0}},function(C,x){C.exports=function(s){var d=this.has(s)&&delete this.__data__[s];return this.size-=d?1:0,d}},function(C,x,s){var d=s(79),y=Object.prototype.hasOwnProperty;C.exports=function(p){var n=this.__data__;if(d){var o=n[p];return o==="__lodash_hash_undefined__"?void 0:o}return y.call(n,p)?n[p]:void 0}},function(C,x,s){var d=s(79),y=Object.prototype.hasOwnProperty;C.exports=function(p){var n=this.__data__;return d?n[p]!==void 0:y.call(n,p)}},function(C,x,s){var d=s(79);C.exports=function(y,p){var n=this.__data__;return this.size+=this.has(y)?0:1,n[y]=d&&p===void 0?"__lodash_hash_undefined__":p,this}},function(C,x,s){var d=s(80);C.exports=function(y){var p=d(this,y).delete(y);return this.size-=p?1:0,p}},function(C,x){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(d)}C.exports=function(d){var y=s(d);return y=="string"||y=="number"||y=="symbol"||y=="boolean"?d!=="__proto__":d===null}},function(C,x,s){var d=s(80);C.exports=function(y){return d(this,y).get(y)}},function(C,x,s){var d=s(80);C.exports=function(y){return d(this,y).has(y)}},function(C,x,s){var d=s(80);C.exports=function(y,p){var n=d(this,y),o=n.size;return n.set(y,p),this.size+=n.size==o?0:1,this}},function(C,x,s){var d=s(63),y=s(41);C.exports=function(p,n){return p&&d(n,y(n),p)}},function(C,x){C.exports=function(s,d){for(var y=-1,p=Array(s);++y<s;)p[y]=d(y);return p}},function(C,x,s){var d=s(45),y=s(34);C.exports=function(p){return y(p)&&d(p)=="[object Arguments]"}},function(C,x){C.exports=function(){return!1}},function(C,x,s){var d=s(45),y=s(116),p=s(34),n={};n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,C.exports=function(o){return p(o)&&y(o.length)&&!!n[d(o)]}},function(C,x,s){var d=s(178)(Object.keys,Object);C.exports=d},function(C,x,s){var d=s(63),y=s(46);C.exports=function(p,n){return p&&d(n,y(n),p)}},function(C,x,s){var d=s(25),y=s(85),p=s(411),n=Object.prototype.hasOwnProperty;C.exports=function(o){if(!d(o))return p(o);var u=y(o),r=[];for(var i in o)(i!="constructor"||!u&&n.call(o,i))&&r.push(i);return r}},function(C,x){C.exports=function(s){var d=[];if(s!=null)for(var y in Object(s))d.push(y);return d}},function(C,x,s){var d=s(63),y=s(119);C.exports=function(p,n){return d(p,y(p),n)}},function(C,x,s){var d=s(63),y=s(183);C.exports=function(p,n){return d(p,y(p),n)}},function(C,x,s){var d=s(185),y=s(183),p=s(46);C.exports=function(n){return d(n,p,y)}},function(C,x,s){var d=s(44)(s(31),"DataView");C.exports=d},function(C,x,s){var d=s(44)(s(31),"Promise");C.exports=d},function(C,x,s){var d=s(44)(s(31),"WeakMap");C.exports=d},function(C,x){var s=Object.prototype.hasOwnProperty;C.exports=function(d){var y=d.length,p=new d.constructor(y);return y&&typeof d[0]=="string"&&s.call(d,"index")&&(p.index=d.index,p.input=d.input),p}},function(C,x,s){var d=s(121),y=s(420),p=s(421),n=s(422),o=s(188);C.exports=function(u,r,i){var a=u.constructor;switch(r){case"[object ArrayBuffer]":return d(u);case"[object Boolean]":case"[object Date]":return new a(+u);case"[object DataView]":return y(u,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(u,i);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(u);case"[object RegExp]":return p(u);case"[object Set]":return new a;case"[object Symbol]":return n(u)}}},function(C,x,s){var d=s(121);C.exports=function(y,p){var n=p?d(y.buffer):y.buffer;return new y.constructor(n,y.byteOffset,y.byteLength)}},function(C,x){var s=/\w*$/;C.exports=function(d){var y=new d.constructor(d.source,s.exec(d));return y.lastIndex=d.lastIndex,y}},function(C,x,s){var d=s(52),y=d?d.prototype:void 0,p=y?y.valueOf:void 0;C.exports=function(n){return p?Object(p.call(n)):{}}},function(C,x,s){var d=s(424),y=s(84),p=s(117),n=p&&p.isMap,o=n?y(n):d;C.exports=o},function(C,x,s){var d=s(54),y=s(34);C.exports=function(p){return y(p)&&d(p)=="[object Map]"}},function(C,x,s){var d=s(426),y=s(84),p=s(117),n=p&&p.isSet,o=n?y(n):d;C.exports=o},function(C,x,s){var d=s(54),y=s(34);C.exports=function(p){return y(p)&&d(p)=="[object Set]"}},function(C,x){C.exports=function(s){return function(d,y,p){for(var n=-1,o=Object(d),u=p(d),r=u.length;r--;){var i=u[s?r:++n];if(y(o[i],i,o)===!1)break}return d}}},function(C,x,s){var d=s(38);C.exports=function(y,p){return function(n,o){if(n==null)return n;if(!d(n))return y(n,o);for(var u=n.length,r=p?u:-1,i=Object(n);(p?r--:++r<u)&&o(i[r],r,i)!==!1;);return n}}},function(C,x,s){var d=s(87);C.exports=function(y,p){var n=[];return d(y,function(o,u,r){p(o,u,r)&&n.push(o)}),n}},function(C,x,s){var d=s(431),y=s(439),p=s(200);C.exports=function(n){var o=y(n);return o.length==1&&o[0][2]?p(o[0][0],o[0][1]):function(u){return u===n||d(u,n,o)}}},function(C,x,s){var d=s(76),y=s(195);C.exports=function(p,n,o,u){var r=o.length,i=r,a=!u;if(p==null)return!i;for(p=Object(p);r--;){var c=o[r];if(a&&c[2]?c[1]!==p[c[0]]:!(c[0]in p))return!1}for(;++r<i;){var h=(c=o[r])[0],v=p[h],f=c[1];if(a&&c[2]){if(v===void 0&&!(h in p))return!1}else{var m=new d;if(u)var b=u(v,f,h,p,n,m);if(!(b===void 0?y(f,v,3,u,m):b))return!1}}return!0}},function(C,x,s){var d=s(76),y=s(196),p=s(436),n=s(438),o=s(54),u=s(15),r=s(53),i=s(65),a="[object Object]",c=Object.prototype.hasOwnProperty;C.exports=function(h,v,f,m,b,M){var O=u(h),E=u(v),A=O?"[object Array]":o(h),j=E?"[object Array]":o(v),B=(A=A=="[object Arguments]"?a:A)==a,D=(j=j=="[object Arguments]"?a:j)==a,T=A==j;if(T&&r(h)){if(!r(v))return!1;O=!0,B=!1}if(T&&!B)return M||(M=new d),O||i(h)?y(h,v,f,m,b,M):p(h,v,A,f,m,b,M);if(!(1&f)){var Y=B&&c.call(h,"__wrapped__"),G=D&&c.call(v,"__wrapped__");if(Y||G){var U=Y?h.value():h,H=G?v.value():v;return M||(M=new d),b(U,H,f,m,M)}}return!!T&&(M||(M=new d),n(h,v,f,m,b,M))}},function(C,x){C.exports=function(s){return this.__data__.set(s,"__lodash_hash_undefined__"),this}},function(C,x){C.exports=function(s){return this.__data__.has(s)}},function(C,x){C.exports=function(s,d){for(var y=-1,p=s==null?0:s.length;++y<p;)if(d(s[y],y,s))return!0;return!1}},function(C,x,s){var d=s(52),y=s(187),p=s(51),n=s(196),o=s(437),u=s(125),r=d?d.prototype:void 0,i=r?r.valueOf:void 0;C.exports=function(a,c,h,v,f,m,b){switch(h){case"[object DataView]":if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=c.byteLength||!m(new y(a),new y(c)));case"[object Boolean]":case"[object Date]":case"[object Number]":return p(+a,+c);case"[object Error]":return a.name==c.name&&a.message==c.message;case"[object RegExp]":case"[object String]":return a==c+"";case"[object Map]":var M=o;case"[object Set]":var O=1&v;if(M||(M=u),a.size!=c.size&&!O)return!1;var E=b.get(a);if(E)return E==c;v|=2,b.set(a,c);var A=n(M(a),M(c),v,f,m,b);return b.delete(a),A;case"[object Symbol]":if(i)return i.call(a)==i.call(c)}return!1}},function(C,x){C.exports=function(s){var d=-1,y=Array(s.size);return s.forEach(function(p,n){y[++d]=[n,p]}),y}},function(C,x,s){var d=s(184),y=Object.prototype.hasOwnProperty;C.exports=function(p,n,o,u,r,i){var a=1&o,c=d(p),h=c.length;if(h!=d(n).length&&!a)return!1;for(var v=h;v--;){var f=c[v];if(!(a?f in n:y.call(n,f)))return!1}var m=i.get(p),b=i.get(n);if(m&&b)return m==n&&b==p;var M=!0;i.set(p,n),i.set(n,p);for(var O=a;++v<h;){var E=p[f=c[v]],A=n[f];if(u)var j=a?u(A,E,f,n,p,i):u(E,A,f,p,n,i);if(!(j===void 0?E===A||r(E,A,o,u,i):j)){M=!1;break}O||(O=f=="constructor")}if(M&&!O){var B=p.constructor,D=n.constructor;B==D||!("constructor"in p)||!("constructor"in n)||typeof B=="function"&&B instanceof B&&typeof D=="function"&&D instanceof D||(M=!1)}return i.delete(p),i.delete(n),M}},function(C,x,s){var d=s(199),y=s(41);C.exports=function(p){for(var n=y(p),o=n.length;o--;){var u=n[o],r=p[u];n[o]=[u,r,d(r)]}return n}},function(C,x,s){var d=s(195),y=s(441),p=s(202),n=s(126),o=s(199),u=s(200),r=s(66);C.exports=function(i,a){return n(i)&&o(a)?u(r(i),a):function(c){var h=y(c,i);return h===void 0&&h===a?p(c,i):d(a,h,3)}}},function(C,x,s){var d=s(88);C.exports=function(y,p,n){var o=y==null?void 0:d(y,p);return o===void 0?n:o}},function(C,x,s){var d=s(443),y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,n=d(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(y,function(r,i,a,c){u.push(a?c.replace(p,"$1"):i||r)}),u});C.exports=n},function(C,x,s){var d=s(444);C.exports=function(y){var p=d(y,function(o){return n.size===500&&n.clear(),o}),n=p.cache;return p}},function(C,x,s){var d=s(113);function y(p,n){if(typeof p!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var o=function u(){var r=arguments,i=n?n.apply(this,r):r[0],a=u.cache;if(a.has(i))return a.get(i);var c=p.apply(this,r);return u.cache=a.set(i,c)||a,c};return o.cache=new(y.Cache||d),o}y.Cache=d,C.exports=y},function(C,x,s){var d=s(52),y=s(90),p=s(15),n=s(55),o=d?d.prototype:void 0,u=o?o.toString:void 0;C.exports=function r(i){if(typeof i=="string")return i;if(p(i))return y(i,r)+"";if(n(i))return u?u.call(i):"";var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}},function(C,x){C.exports=function(s,d){return s!=null&&d in Object(s)}},function(C,x,s){var d=s(204),y=s(448),p=s(126),n=s(66);C.exports=function(o){return p(o)?d(n(o)):y(o)}},function(C,x,s){var d=s(88);C.exports=function(y){return function(p){return d(p,y)}}},function(C,x){var s=Object.prototype.hasOwnProperty;C.exports=function(d,y){return d!=null&&s.call(d,y)}},function(C,x,s){var d=s(118),y=s(54),p=s(64),n=s(15),o=s(38),u=s(53),r=s(85),i=s(65),a=Object.prototype.hasOwnProperty;C.exports=function(c){if(c==null)return!0;if(o(c)&&(n(c)||typeof c=="string"||typeof c.splice=="function"||u(c)||i(c)||p(c)))return!c.length;var h=y(c);if(h=="[object Map]"||h=="[object Set]")return!c.size;if(r(c))return!d(c).length;for(var v in c)if(a.call(c,v))return!1;return!0}},function(C,x){C.exports=function(s,d,y,p){var n=-1,o=s==null?0:s.length;for(p&&o&&(y=s[++n]);++n<o;)y=d(y,s[n],n,s);return y}},function(C,x){C.exports=function(s,d,y,p,n){return n(s,function(o,u,r){y=p?(p=!1,o):d(y,o,u,r)}),y}},function(C,x,s){var d=s(118),y=s(54),p=s(38),n=s(454),o=s(455);C.exports=function(u){if(u==null)return 0;if(p(u))return n(u)?o(u):u.length;var r=y(u);return r=="[object Map]"||r=="[object Set]"?u.size:d(u).length}},function(C,x,s){var d=s(45),y=s(15),p=s(34);C.exports=function(n){return typeof n=="string"||!y(n)&&p(n)&&d(n)=="[object String]"}},function(C,x,s){var d=s(456),y=s(457),p=s(458);C.exports=function(n){return y(n)?p(n):d(n)}},function(C,x,s){var d=s(204)("length");C.exports=d},function(C,x){var s=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");C.exports=function(d){return s.test(d)}},function(C,x){var s="[\\ud800-\\udfff]",d="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",y="\\ud83c[\\udffb-\\udfff]",p="[^\\ud800-\\udfff]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+d+"|"+y+")?",r="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[p,n,o].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),i="(?:"+[p+d+"?",d,n,o,s].join("|")+")",a=RegExp(y+"(?="+y+")|"+i+r,"g");C.exports=function(c){for(var h=a.lastIndex=0;a.test(c);)++h;return h}},function(C,x,s){var d=s(114),y=s(190),p=s(123),n=s(39),o=s(86),u=s(15),r=s(53),i=s(62),a=s(25),c=s(65);C.exports=function(h,v,f){var m=u(h),b=m||r(h)||c(h);if(v=n(v,4),f==null){var M=h&&h.constructor;f=b?m?new M:[]:a(h)&&i(M)?y(o(h)):{}}return(b?d:p)(h,function(O,E,A){return v(f,O,E,A)}),f}},function(C,x,s){var d=s(127),y=s(91),p=s(465),n=s(213),o=y(function(u){return p(d(u,1,n,!0))});C.exports=o},function(C,x,s){var d=s(52),y=s(64),p=s(15),n=d?d.isConcatSpreadable:void 0;C.exports=function(o){return p(o)||y(o)||!!(n&&o&&o[n])}},function(C,x){C.exports=function(s,d,y){switch(y.length){case 0:return s.call(d);case 1:return s.call(d,y[0]);case 2:return s.call(d,y[0],y[1]);case 3:return s.call(d,y[0],y[1],y[2])}return s.apply(d,y)}},function(C,x,s){var d=s(122),y=s(176),p=s(47),n=y?function(o,u){return y(o,"toString",{configurable:!0,enumerable:!1,value:d(u),writable:!0})}:p;C.exports=n},function(C,x){var s=Date.now;C.exports=function(d){var y=0,p=0;return function(){var n=s(),o=16-(n-p);if(p=n,o>0){if(++y>=800)return arguments[0]}else y=0;return d.apply(void 0,arguments)}}},function(C,x,s){var d=s(197),y=s(466),p=s(470),n=s(198),o=s(471),u=s(125);C.exports=function(r,i,a){var c=-1,h=y,v=r.length,f=!0,m=[],b=m;if(a)f=!1,h=p;else if(v>=200){var M=i?null:o(r);if(M)return u(M);f=!1,h=n,b=new d}else b=i?[]:m;t:for(;++c<v;){var O=r[c],E=i?i(O):O;if(O=a||O!==0?O:0,f&&E==E){for(var A=b.length;A--;)if(b[A]===E)continue t;i&&b.push(E),m.push(O)}else h(b,E,a)||(b!==m&&b.push(E),m.push(O))}return m}},function(C,x,s){var d=s(467);C.exports=function(y,p){return!!(y==null?0:y.length)&&d(y,p,0)>-1}},function(C,x,s){var d=s(212),y=s(468),p=s(469);C.exports=function(n,o,u){return o==o?p(n,o,u):d(n,y,u)}},function(C,x){C.exports=function(s){return s!=s}},function(C,x){C.exports=function(s,d,y){for(var p=y-1,n=s.length;++p<n;)if(s[p]===d)return p;return-1}},function(C,x){C.exports=function(s,d,y){for(var p=-1,n=s==null?0:s.length;++p<n;)if(y(d,s[p]))return!0;return!1}},function(C,x,s){var d=s(186),y=s(472),p=s(125),n=d&&1/p(new d([,-0]))[1]==1/0?function(o){return new d(o)}:y;C.exports=n},function(C,x){C.exports=function(){}},function(C,x,s){var d=s(90);C.exports=function(y,p){return d(p,function(n){return y[n]})}},function(C,x){C.exports="2.1.8"},function(C,x,s){var d=s(24),y=s(111);function p(o){return d.map(o.nodes(),function(u){var r=o.node(u),i=o.parent(u),a={v:u};return d.isUndefined(r)||(a.value=r),d.isUndefined(i)||(a.parent=i),a})}function n(o){return d.map(o.edges(),function(u){var r=o.edge(u),i={v:u.v,w:u.w};return d.isUndefined(u.name)||(i.name=u.name),d.isUndefined(r)||(i.value=r),i})}C.exports={write:function(u){var r={options:{directed:u.isDirected(),multigraph:u.isMultigraph(),compound:u.isCompound()},nodes:p(u),edges:n(u)};return d.isUndefined(u.graph())||(r.value=d.clone(u.graph())),r},read:function(u){var r=new y(u.options).setGraph(u.value);return d.each(u.nodes,function(i){r.setNode(i.v,i.value),i.parent&&r.setParent(i.v,i.parent)}),d.each(u.edges,function(i){r.setEdge({v:i.v,w:i.w,name:i.name},i.value)}),r}}},function(C,x,s){C.exports={components:s(477),dijkstra:s(215),dijkstraAll:s(478),findCycles:s(479),floydWarshall:s(480),isAcyclic:s(481),postorder:s(482),preorder:s(483),prim:s(484),tarjan:s(217),topsort:s(218)}},function(C,x,s){var d=s(24);C.exports=function(y){var p,n={},o=[];function u(r){d.has(n,r)||(n[r]=!0,p.push(r),d.each(y.successors(r),u),d.each(y.predecessors(r),u))}return d.each(y.nodes(),function(r){p=[],u(r),p.length&&o.push(p)}),o}},function(C,x,s){var d=s(215),y=s(24);C.exports=function(p,n,o){return y.transform(p.nodes(),function(u,r){u[r]=d(p,r,n,o)},{})}},function(C,x,s){var d=s(24),y=s(217);C.exports=function(p){return d.filter(y(p),function(n){return n.length>1||n.length===1&&p.hasEdge(n[0],n[0])})}},function(C,x,s){var d=s(24);C.exports=function(p,n,o){return function(u,r,i){var a={},c=u.nodes();return c.forEach(function(h){a[h]={},a[h][h]={distance:0},c.forEach(function(v){h!==v&&(a[h][v]={distance:Number.POSITIVE_INFINITY})}),i(h).forEach(function(v){var f=v.v===h?v.w:v.v,m=r(v);a[h][f]={distance:m,predecessor:h}})}),c.forEach(function(h){var v=a[h];c.forEach(function(f){var m=a[f];c.forEach(function(b){var M=m[h],O=v[b],E=m[b],A=M.distance+O.distance;A<E.distance&&(E.distance=A,E.predecessor=O.predecessor)})})}),a}(p,n||y,o||function(u){return p.outEdges(u)})};var y=d.constant(1)},function(C,x,s){var d=s(218);C.exports=function(y){try{d(y)}catch(p){if(p instanceof d.CycleException)return!1;throw p}return!0}},function(C,x,s){var d=s(219);C.exports=function(y,p){return d(y,p,"post")}},function(C,x,s){var d=s(219);C.exports=function(y,p){return d(y,p,"pre")}},function(C,x,s){var d=s(24),y=s(111),p=s(216);C.exports=function(n,o){var u,r=new y,i={},a=new p;function c(v){var f=v.v===u?v.w:v.v,m=a.priority(f);if(m!==void 0){var b=o(v);b<m&&(i[f]=u,a.decrease(f,b))}}if(n.nodeCount()===0)return r;d.each(n.nodes(),function(v){a.add(v,Number.POSITIVE_INFINITY),r.setNode(v)}),a.decrease(n.nodes()[0],0);for(var h=!1;a.size()>0;){if(u=a.removeMin(),d.has(i,u))r.setEdge(u,i[u]);else{if(h)throw new Error("Input graph is not connected: "+n);h=!0}n.nodeEdges(u).forEach(c)}return r}},function(C,x,s){"use strict";var d=s(13),y=s(523),p=s(526),n=s(527),o=s(20).normalizeRanks,u=s(529),r=s(20).removeEmptyRanks,i=s(530),a=s(531),c=s(532),h=s(533),v=s(542),f=s(20),m=s(30).Graph;C.exports=function(G,U){var H=U&&U.debugTiming?f.time:f.notime;H("layout",function(){var J=H("  buildLayoutGraph",function(){return function(ut){var $=new m({multigraph:!0,compound:!0}),K=Y(ut.graph());return $.setGraph(d.merge({},M,T(K,b),d.pick(K,O))),d.forEach(ut.nodes(),function(ot){var at=Y(ut.node(ot));$.setNode(ot,d.defaults(T(at,E),A)),$.setParent(ot,ut.parent(ot))}),d.forEach(ut.edges(),function(ot){var at=Y(ut.edge(ot));$.setEdge(ot,d.merge({},B,T(at,j),d.pick(at,D)))}),$}(G)});H("  runLayout",function(){(function(ut,$){$("    makeSpaceForEdgeLabels",function(){(function(K){var ot=K.graph();ot.ranksep/=2,d.forEach(K.edges(),function(at){var ht=K.edge(at);ht.minlen*=2,ht.labelpos.toLowerCase()!=="c"&&(ot.rankdir==="TB"||ot.rankdir==="BT"?ht.width+=ht.labeloffset:ht.height+=ht.labeloffset)})})(ut)}),$("    removeSelfEdges",function(){(function(K){d.forEach(K.edges(),function(ot){if(ot.v===ot.w){var at=K.node(ot.v);at.selfEdges||(at.selfEdges=[]),at.selfEdges.push({e:ot,label:K.edge(ot)}),K.removeEdge(ot)}})})(ut)}),$("    acyclic",function(){y.run(ut)}),$("    nestingGraph.run",function(){i.run(ut)}),$("    rank",function(){n(f.asNonCompoundGraph(ut))}),$("    injectEdgeLabelProxies",function(){(function(K){d.forEach(K.edges(),function(ot){var at=K.edge(ot);if(at.width&&at.height){var ht=K.node(ot.v),St={rank:(K.node(ot.w).rank-ht.rank)/2+ht.rank,e:ot};f.addDummyNode(K,"edge-proxy",St,"_ep")}})})(ut)}),$("    removeEmptyRanks",function(){r(ut)}),$("    nestingGraph.cleanup",function(){i.cleanup(ut)}),$("    normalizeRanks",function(){o(ut)}),$("    assignRankMinMax",function(){(function(K){var ot=0;d.forEach(K.nodes(),function(at){var ht=K.node(at);ht.borderTop&&(ht.minRank=K.node(ht.borderTop).rank,ht.maxRank=K.node(ht.borderBottom).rank,ot=d.max(ot,ht.maxRank))}),K.graph().maxRank=ot})(ut)}),$("    removeEdgeLabelProxies",function(){(function(K){d.forEach(K.nodes(),function(ot){var at=K.node(ot);at.dummy==="edge-proxy"&&(K.edge(at.e).labelRank=at.rank,K.removeNode(ot))})})(ut)}),$("    normalize.run",function(){p.run(ut)}),$("    parentDummyChains",function(){u(ut)}),$("    addBorderSegments",function(){a(ut)}),$("    order",function(){h(ut)}),$("    insertSelfEdges",function(){(function(K){var ot=f.buildLayerMatrix(K);d.forEach(ot,function(at){var ht=0;d.forEach(at,function(St,pt){var xt=K.node(St);xt.order=pt+ht,d.forEach(xt.selfEdges,function(vt){f.addDummyNode(K,"selfedge",{width:vt.label.width,height:vt.label.height,rank:xt.rank,order:pt+ ++ht,e:vt.e,label:vt.label},"_se")}),delete xt.selfEdges})})})(ut)}),$("    adjustCoordinateSystem",function(){c.adjust(ut)}),$("    position",function(){v(ut)}),$("    positionSelfEdges",function(){(function(K){d.forEach(K.nodes(),function(ot){var at=K.node(ot);if(at.dummy==="selfedge"){var ht=K.node(at.e.v),St=ht.x+ht.width/2,pt=ht.y,xt=at.x-St,vt=ht.height/2;K.setEdge(at.e,at.label),K.removeNode(ot),at.label.points=[{x:St+2*xt/3,y:pt-vt},{x:St+5*xt/6,y:pt-vt},{x:St+xt,y:pt},{x:St+5*xt/6,y:pt+vt},{x:St+2*xt/3,y:pt+vt}],at.label.x=at.x,at.label.y=at.y}})})(ut)}),$("    removeBorderNodes",function(){(function(K){d.forEach(K.nodes(),function(ot){if(K.children(ot).length){var at=K.node(ot),ht=K.node(at.borderTop),St=K.node(at.borderBottom),pt=K.node(d.last(at.borderLeft)),xt=K.node(d.last(at.borderRight));at.width=Math.abs(xt.x-pt.x),at.height=Math.abs(St.y-ht.y),at.x=pt.x+at.width/2,at.y=ht.y+at.height/2}}),d.forEach(K.nodes(),function(ot){K.node(ot).dummy==="border"&&K.removeNode(ot)})})(ut)}),$("    normalize.undo",function(){p.undo(ut)}),$("    fixupEdgeLabelCoords",function(){(function(K){d.forEach(K.edges(),function(ot){var at=K.edge(ot);if(d.has(at,"x"))switch(at.labelpos!=="l"&&at.labelpos!=="r"||(at.width-=at.labeloffset),at.labelpos){case"l":at.x-=at.width/2+at.labeloffset;break;case"r":at.x+=at.width/2+at.labeloffset}})})(ut)}),$("    undoCoordinateSystem",function(){c.undo(ut)}),$("    translateGraph",function(){(function(K){var ot=Number.POSITIVE_INFINITY,at=0,ht=Number.POSITIVE_INFINITY,St=0,pt=K.graph(),xt=pt.marginx||0,vt=pt.marginy||0;function gt(_t){var Bt=_t.x,At=_t.y,It=_t.width,lt=_t.height;ot=Math.min(ot,Bt-It/2),at=Math.max(at,Bt+It/2),ht=Math.min(ht,At-lt/2),St=Math.max(St,At+lt/2)}d.forEach(K.nodes(),function(_t){gt(K.node(_t))}),d.forEach(K.edges(),function(_t){var Bt=K.edge(_t);d.has(Bt,"x")&&gt(Bt)}),ot-=xt,ht-=vt,d.forEach(K.nodes(),function(_t){var Bt=K.node(_t);Bt.x-=ot,Bt.y-=ht}),d.forEach(K.edges(),function(_t){var Bt=K.edge(_t);d.forEach(Bt.points,function(At){At.x-=ot,At.y-=ht}),d.has(Bt,"x")&&(Bt.x-=ot),d.has(Bt,"y")&&(Bt.y-=ht)}),pt.width=at-ot+xt,pt.height=St-ht+vt})(ut)}),$("    assignNodeIntersects",function(){(function(K){d.forEach(K.edges(),function(ot){var at,ht,St=K.edge(ot),pt=K.node(ot.v),xt=K.node(ot.w);St.points?(at=St.points[0],ht=St.points[St.points.length-1]):(St.points=[],at=xt,ht=pt),St.points.unshift(f.intersectRect(pt,at)),St.points.push(f.intersectRect(xt,ht))})})(ut)}),$("    reversePoints",function(){(function(K){d.forEach(K.edges(),function(ot){var at=K.edge(ot);at.reversed&&at.points.reverse()})})(ut)}),$("    acyclic.undo",function(){y.undo(ut)})})(J,H)}),H("  updateInputGraph",function(){(function(ut,$){d.forEach(ut.nodes(),function(K){var ot=ut.node(K),at=$.node(K);ot&&(ot.x=at.x,ot.y=at.y,$.children(K).length&&(ot.width=at.width,ot.height=at.height))}),d.forEach(ut.edges(),function(K){var ot=ut.edge(K),at=$.edge(K);ot.points=at.points,d.has(at,"x")&&(ot.x=at.x,ot.y=at.y)}),ut.graph().width=$.graph().width,ut.graph().height=$.graph().height})(G,J)})})};var b=["nodesep","edgesep","ranksep","marginx","marginy"],M={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},O=["acyclicer","ranker","rankdir","align"],E=["width","height"],A={width:0,height:0},j=["minlen","weight","width","height","labeloffset"],B={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},D=["labelpos"];function T(G,U){return d.mapValues(d.pick(G,U),Number)}function Y(G){var U={};return d.forEach(G,function(H,J){U[J.toLowerCase()]=H}),U}},function(C,x,s){var d=s(173);C.exports=function(y){return d(y,5)}},function(C,x,s){var d=s(91),y=s(51),p=s(92),n=s(46),o=Object.prototype,u=o.hasOwnProperty,r=d(function(i,a){i=Object(i);var c=-1,h=a.length,v=h>2?a[2]:void 0;for(v&&p(a[0],a[1],v)&&(h=1);++c<h;)for(var f=a[c],m=n(f),b=-1,M=m.length;++b<M;){var O=m[b],E=i[O];(E===void 0||y(E,o[O])&&!u.call(i,O))&&(i[O]=f[O])}return i});C.exports=r},function(C,x,s){var d=s(489)(s(490));C.exports=d},function(C,x,s){var d=s(39),y=s(38),p=s(41);C.exports=function(n){return function(o,u,r){var i=Object(o);if(!y(o)){var a=d(u,3);o=p(o),u=function(v){return a(i[v],v,i)}}var c=n(o,u,r);return c>-1?i[a?o[c]:c]:void 0}}},function(C,x,s){var d=s(212),y=s(39),p=s(491),n=Math.max;C.exports=function(o,u,r){var i=o==null?0:o.length;if(!i)return-1;var a=r==null?0:p(r);return a<0&&(a=n(i+a,0)),d(o,y(u,3),a)}},function(C,x,s){var d=s(220);C.exports=function(y){var p=d(y),n=p%1;return p==p?n?p-n:p:0}},function(C,x,s){var d=s(25),y=s(55),p=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,r=parseInt;C.exports=function(i){if(typeof i=="number")return i;if(y(i))return NaN;if(d(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=d(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=i.replace(p,"");var c=o.test(i);return c||u.test(i)?r(i.slice(2),c?2:8):n.test(i)?NaN:+i}},function(C,x,s){var d=s(124),y=s(193),p=s(46);C.exports=function(n,o){return n==null?n:d(n,y(o),p)}},function(C,x){C.exports=function(s){var d=s==null?0:s.length;return d?s[d-1]:void 0}},function(C,x,s){var d=s(82),y=s(123),p=s(39);C.exports=function(n,o){var u={};return o=p(o,3),y(n,function(r,i,a){d(u,i,o(r,i,a))}),u}},function(C,x,s){var d=s(128),y=s(497),p=s(47);C.exports=function(n){return n&&n.length?d(n,p,y):void 0}},function(C,x){C.exports=function(s,d){return s>d}},function(C,x,s){var d=s(499),y=s(503)(function(p,n,o){d(p,n,o)});C.exports=y},function(C,x,s){var d=s(76),y=s(222),p=s(124),n=s(500),o=s(25),u=s(46),r=s(223);C.exports=function i(a,c,h,v,f){a!==c&&p(c,function(m,b){if(f||(f=new d),o(m))n(a,c,b,h,i,v,f);else{var M=v?v(r(a,b),m,b+"",a,c,f):void 0;M===void 0&&(M=m),y(a,b,M)}},u)}},function(C,x,s){var d=s(222),y=s(179),p=s(188),n=s(180),o=s(189),u=s(64),r=s(15),i=s(213),a=s(53),c=s(62),h=s(25),v=s(501),f=s(65),m=s(223),b=s(502);C.exports=function(M,O,E,A,j,B,D){var T=m(M,E),Y=m(O,E),G=D.get(Y);if(G)d(M,E,G);else{var U=B?B(T,Y,E+"",M,O,D):void 0,H=U===void 0;if(H){var J=r(Y),ut=!J&&a(Y),$=!J&&!ut&&f(Y);U=Y,J||ut||$?r(T)?U=T:i(T)?U=n(T):ut?(H=!1,U=y(Y,!0)):$?(H=!1,U=p(Y,!0)):U=[]:v(Y)||u(Y)?(U=T,u(T)?U=b(T):h(T)&&!c(T)||(U=o(Y))):H=!1}H&&(D.set(Y,U),j(U,Y,A,B,D),D.delete(Y)),d(M,E,U)}}},function(C,x,s){var d=s(45),y=s(86),p=s(34),n=Function.prototype,o=Object.prototype,u=n.toString,r=o.hasOwnProperty,i=u.call(Object);C.exports=function(a){if(!p(a)||d(a)!="[object Object]")return!1;var c=y(a);if(c===null)return!0;var h=r.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&u.call(h)==i}},function(C,x,s){var d=s(63),y=s(46);C.exports=function(p){return d(p,y(p))}},function(C,x,s){var d=s(91),y=s(92);C.exports=function(p){return d(function(n,o){var u=-1,r=o.length,i=r>1?o[r-1]:void 0,a=r>2?o[2]:void 0;for(i=p.length>3&&typeof i=="function"?(r--,i):void 0,a&&y(o[0],o[1],a)&&(i=r<3?void 0:i,r=1),n=Object(n);++u<r;){var c=o[u];c&&p(n,c,u,i)}return n})}},function(C,x,s){var d=s(128),y=s(224),p=s(47);C.exports=function(n){return n&&n.length?d(n,p,y):void 0}},function(C,x,s){var d=s(128),y=s(39),p=s(224);C.exports=function(n,o){return n&&n.length?d(n,y(o,2),p):void 0}},function(C,x,s){var d=s(31);C.exports=function(){return d.Date.now()}},function(C,x,s){var d=s(508),y=s(511)(function(p,n){return p==null?{}:d(p,n)});C.exports=y},function(C,x,s){var d=s(509),y=s(202);C.exports=function(p,n){return d(p,n,function(o,u){return y(p,u)})}},function(C,x,s){var d=s(88),y=s(510),p=s(89);C.exports=function(n,o,u){for(var r=-1,i=o.length,a={};++r<i;){var c=o[r],h=d(n,c);u(h,c)&&y(a,p(c,n),h)}return a}},function(C,x,s){var d=s(81),y=s(89),p=s(83),n=s(25),o=s(66);C.exports=function(u,r,i,a){if(!n(u))return u;for(var c=-1,h=(r=y(r,u)).length,v=h-1,f=u;f!=null&&++c<h;){var m=o(r[c]),b=i;if(m==="__proto__"||m==="constructor"||m==="prototype")return u;if(c!=v){var M=f[m];(b=a?a(M,m,f):void 0)===void 0&&(b=n(M)?M:p(r[c+1])?[]:{})}d(f,m,b),f=f[m]}return u}},function(C,x,s){var d=s(221),y=s(210),p=s(211);C.exports=function(n){return p(y(n,void 0,d),n+"")}},function(C,x,s){var d=s(513)();C.exports=d},function(C,x,s){var d=s(514),y=s(92),p=s(220);C.exports=function(n){return function(o,u,r){return r&&typeof r!="number"&&y(o,u,r)&&(u=r=void 0),o=p(o),u===void 0?(u=o,o=0):u=p(u),r=r===void 0?o<u?1:-1:p(r),d(o,u,r,n)}}},function(C,x){var s=Math.ceil,d=Math.max;C.exports=function(y,p,n,o){for(var u=-1,r=d(s((p-y)/(n||1)),0),i=Array(r);r--;)i[o?r:++u]=y,y+=n;return i}},function(C,x,s){var d=s(127),y=s(516),p=s(91),n=s(92),o=p(function(u,r){if(u==null)return[];var i=r.length;return i>1&&n(u,r[0],r[1])?r=[]:i>2&&n(r[0],r[1],r[2])&&(r=[r[0]]),y(u,d(r,1),[])});C.exports=o},function(C,x,s){var d=s(90),y=s(88),p=s(39),n=s(208),o=s(517),u=s(84),r=s(518),i=s(47),a=s(15);C.exports=function(c,h,v){h=h.length?d(h,function(b){return a(b)?function(M){return y(M,b.length===1?b[0]:b)}:b}):[i];var f=-1;h=d(h,u(p));var m=n(c,function(b,M,O){return{criteria:d(h,function(E){return E(b)}),index:++f,value:b}});return o(m,function(b,M){return r(b,M,v)})}},function(C,x){C.exports=function(s,d){var y=s.length;for(s.sort(d);y--;)s[y]=s[y].value;return s}},function(C,x,s){var d=s(519);C.exports=function(y,p,n){for(var o=-1,u=y.criteria,r=p.criteria,i=u.length,a=n.length;++o<i;){var c=d(u[o],r[o]);if(c)return o>=a?c:c*(n[o]=="desc"?-1:1)}return y.index-p.index}},function(C,x,s){var d=s(55);C.exports=function(y,p){if(y!==p){var n=y!==void 0,o=y===null,u=y==y,r=d(y),i=p!==void 0,a=p===null,c=p==p,h=d(p);if(!a&&!h&&!r&&y>p||r&&i&&c&&!a&&!h||o&&i&&c||!n&&c||!u)return 1;if(!o&&!r&&!h&&y<p||h&&n&&u&&!o&&!r||a&&n&&u||!i&&u||!c)return-1}return 0}},function(C,x,s){var d=s(201),y=0;C.exports=function(p){var n=++y;return d(p)+n}},function(C,x,s){var d=s(81),y=s(522);C.exports=function(p,n){return y(p||[],n||[],d)}},function(C,x){C.exports=function(s,d,y){for(var p=-1,n=s.length,o=d.length,u={};++p<n;){var r=p<o?d[p]:void 0;y(u,s[p],r)}return u}},function(C,x,s){"use strict";var d=s(13),y=s(524);C.exports={run:function(n){var o=n.graph().acyclicer==="greedy"?y(n,function(u){return function(r){return u.edge(r).weight}}(n)):function(u){var r=[],i={},a={};function c(h){d.has(a,h)||(a[h]=!0,i[h]=!0,d.forEach(u.outEdges(h),function(v){d.has(i,v.w)?r.push(v):c(v.w)}),delete i[h])}return d.forEach(u.nodes(),c),r}(n);d.forEach(o,function(u){var r=n.edge(u);n.removeEdge(u),r.forwardName=u.name,r.reversed=!0,n.setEdge(u.w,u.v,r,d.uniqueId("rev"))})},undo:function(n){d.forEach(n.edges(),function(o){var u=n.edge(o);if(u.reversed){n.removeEdge(o);var r=u.forwardName;delete u.reversed,delete u.forwardName,n.setEdge(o.w,o.v,u,r)}})}}},function(C,x,s){var d=s(13),y=s(30).Graph,p=s(525);C.exports=function(r,i){if(r.nodeCount()<=1)return[];var a=function(h,v){var f=new y,m=0,b=0;d.forEach(h.nodes(),function(E){f.setNode(E,{v:E,in:0,out:0})}),d.forEach(h.edges(),function(E){var A=f.edge(E.v,E.w)||0,j=v(E),B=A+j;f.setEdge(E.v,E.w,B),b=Math.max(b,f.node(E.v).out+=j),m=Math.max(m,f.node(E.w).in+=j)});var M=d.range(b+m+3).map(function(){return new p}),O=m+1;return d.forEach(f.nodes(),function(E){u(M,O,f.node(E))}),{graph:f,buckets:M,zeroIdx:O}}(r,i||n),c=function(h,v,f){for(var m,b=[],M=v[v.length-1],O=v[0];h.nodeCount();){for(;m=O.dequeue();)o(h,v,f,m);for(;m=M.dequeue();)o(h,v,f,m);if(h.nodeCount()){for(var E=v.length-2;E>0;--E)if(m=v[E].dequeue()){b=b.concat(o(h,v,f,m,!0));break}}}return b}(a.graph,a.buckets,a.zeroIdx);return d.flatten(d.map(c,function(h){return r.outEdges(h.v,h.w)}),!0)};var n=d.constant(1);function o(r,i,a,c,h){var v=h?[]:void 0;return d.forEach(r.inEdges(c.v),function(f){var m=r.edge(f),b=r.node(f.v);h&&v.push({v:f.v,w:f.w}),b.out-=m,u(i,a,b)}),d.forEach(r.outEdges(c.v),function(f){var m=r.edge(f),b=f.w,M=r.node(b);M.in-=m,u(i,a,M)}),r.removeNode(c.v),v}function u(r,i,a){a.out?a.in?r[a.out-a.in+i].enqueue(a):r[r.length-1].enqueue(a):r[0].enqueue(a)}},function(C,x){function s(){var p={};p._next=p._prev=p,this._sentinel=p}function d(p){p._prev._next=p._next,p._next._prev=p._prev,delete p._next,delete p._prev}function y(p,n){if(p!=="_next"&&p!=="_prev")return n}C.exports=s,s.prototype.dequeue=function(){var p=this._sentinel,n=p._prev;if(n!==p)return d(n),n},s.prototype.enqueue=function(p){var n=this._sentinel;p._prev&&p._next&&d(p),p._next=n._next,n._next._prev=p,n._next=p,p._prev=n},s.prototype.toString=function(){for(var p=[],n=this._sentinel,o=n._prev;o!==n;)p.push(JSON.stringify(o,y)),o=o._prev;return"["+p.join(", ")+"]"}},function(C,x,s){"use strict";var d=s(13),y=s(20);C.exports={run:function(n){n.graph().dummyChains=[],d.forEach(n.edges(),function(o){(function(u,r){var i,a,c,h=r.v,v=u.node(h).rank,f=r.w,m=u.node(f).rank,b=r.name,M=u.edge(r),O=M.labelRank;if(m!==v+1){for(u.removeEdge(r),c=0,++v;v<m;++c,++v)M.points=[],a={width:0,height:0,edgeLabel:M,edgeObj:r,rank:v},i=y.addDummyNode(u,"edge",a,"_d"),v===O&&(a.width=M.width,a.height=M.height,a.dummy="edge-label",a.labelpos=M.labelpos),u.setEdge(h,i,{weight:M.weight},b),c===0&&u.graph().dummyChains.push(i),h=i;u.setEdge(h,f,{weight:M.weight},b)}})(n,o)})},undo:function(n){d.forEach(n.graph().dummyChains,function(o){var u,r=n.node(o),i=r.edgeLabel;for(n.setEdge(r.edgeObj,i);r.dummy;)u=n.successors(o)[0],n.removeNode(o),i.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),o=u,r=n.node(o)})}}},function(C,x,s){"use strict";var d=s(93).longestPath,y=s(225),p=s(528);C.exports=function(u){switch(u.graph().ranker){case"network-simplex":o(u);break;case"tight-tree":(function(r){d(r),y(r)})(u);break;case"longest-path":n(u);break;default:o(u)}};var n=d;function o(u){p(u)}},function(C,x,s){"use strict";var d=s(13),y=s(225),p=s(93).slack,n=s(93).longestPath,o=s(30).alg.preorder,u=s(30).alg.postorder,r=s(20).simplify;function i(O){O=r(O),n(O);var E,A=y(O);for(h(A),a(A,O);E=f(A);)b(A,O,E,m(A,O,E))}function a(O,E){var A=u(O,O.nodes());A=A.slice(0,A.length-1),d.forEach(A,function(j){(function(B,D,T){var Y=B.node(T).parent;B.edge(T,Y).cutvalue=c(B,D,T)})(O,E,j)})}function c(O,E,A){var j=O.node(A).parent,B=!0,D=E.edge(A,j),T=0;return D||(B=!1,D=E.edge(j,A)),T=D.weight,d.forEach(E.nodeEdges(A),function(Y){var G,U,H=Y.v===A,J=H?Y.w:Y.v;if(J!==j){var ut=H===B,$=E.edge(Y).weight;if(T+=ut?$:-$,G=A,U=J,O.hasEdge(G,U)){var K=O.edge(A,J).cutvalue;T+=ut?-K:K}}}),T}function h(O,E){arguments.length<2&&(E=O.nodes()[0]),v(O,{},1,E)}function v(O,E,A,j,B){var D=A,T=O.node(j);return E[j]=!0,d.forEach(O.neighbors(j),function(Y){d.has(E,Y)||(A=v(O,E,A,Y,j))}),T.low=D,T.lim=A++,B?T.parent=B:delete T.parent,A}function f(O){return d.find(O.edges(),function(E){return O.edge(E).cutvalue<0})}function m(O,E,A){var j=A.v,B=A.w;E.hasEdge(j,B)||(j=A.w,B=A.v);var D=O.node(j),T=O.node(B),Y=D,G=!1;D.lim>T.lim&&(Y=T,G=!0);var U=d.filter(E.edges(),function(H){return G===M(O,O.node(H.v),Y)&&G!==M(O,O.node(H.w),Y)});return d.minBy(U,function(H){return p(E,H)})}function b(O,E,A,j){var B=A.v,D=A.w;O.removeEdge(B,D),O.setEdge(j.v,j.w,{}),h(O),a(O,E),function(T,Y){var G=d.find(T.nodes(),function(H){return!Y.node(H).parent}),U=o(T,G);U=U.slice(1),d.forEach(U,function(H){var J=T.node(H).parent,ut=Y.edge(H,J),$=!1;ut||(ut=Y.edge(J,H),$=!0),Y.node(H).rank=Y.node(J).rank+($?ut.minlen:-ut.minlen)})}(O,E)}function M(O,E,A){return A.low<=E.lim&&E.lim<=A.lim}C.exports=i,i.initLowLimValues=h,i.initCutValues=a,i.calcCutValue=c,i.leaveEdge=f,i.enterEdge=m,i.exchangeEdges=b},function(C,x,s){var d=s(13);C.exports=function(y){var p=function(n){var o={},u=0;function r(i){var a=u;d.forEach(n.children(i),r),o[i]={low:a,lim:u++}}return d.forEach(n.children(),r),o}(y);d.forEach(y.graph().dummyChains,function(n){for(var o=y.node(n),u=o.edgeObj,r=function(f,m,b,M){var O,E,A=[],j=[],B=Math.min(m[b].low,m[M].low),D=Math.max(m[b].lim,m[M].lim);O=b;do O=f.parent(O),A.push(O);while(O&&(m[O].low>B||D>m[O].lim));for(E=O,O=M;(O=f.parent(O))!==E;)j.push(O);return{path:A.concat(j.reverse()),lca:E}}(y,p,u.v,u.w),i=r.path,a=r.lca,c=0,h=i[c],v=!0;n!==u.w;){if(o=y.node(n),v){for(;(h=i[c])!==a&&y.node(h).maxRank<o.rank;)c++;h===a&&(v=!1)}if(!v){for(;c<i.length-1&&y.node(h=i[c+1]).minRank<=o.rank;)c++;h=i[c]}y.setParent(n,h),n=y.successors(n)[0]}})}},function(C,x,s){var d=s(13),y=s(20);C.exports={run:function(n){var o=y.addDummyNode(n,"root",{},"_root"),u=function(c){var h={};return d.forEach(c.children(),function(v){(function f(m,b){var M=c.children(m);M&&M.length&&d.forEach(M,function(O){f(O,b+1)}),h[m]=b})(v,1)}),h}(n),r=d.max(d.values(u))-1,i=2*r+1;n.graph().nestingRoot=o,d.forEach(n.edges(),function(c){n.edge(c).minlen*=i});var a=function(c){return d.reduce(c.edges(),function(h,v){return h+c.edge(v).weight},0)}(n)+1;d.forEach(n.children(),function(c){(function h(v,f,m,b,M,O,E){var A=v.children(E);if(!A.length)return void(E!==f&&v.setEdge(f,E,{weight:0,minlen:m}));var j=y.addBorderNode(v,"_bt"),B=y.addBorderNode(v,"_bb"),D=v.node(E);v.setParent(j,E),D.borderTop=j,v.setParent(B,E),D.borderBottom=B,d.forEach(A,function(T){h(v,f,m,b,M,O,T);var Y=v.node(T),G=Y.borderTop?Y.borderTop:T,U=Y.borderBottom?Y.borderBottom:T,H=Y.borderTop?b:2*b,J=G!==U?1:M-O[E]+1;v.setEdge(j,G,{weight:H,minlen:J,nestingEdge:!0}),v.setEdge(U,B,{weight:H,minlen:J,nestingEdge:!0})}),v.parent(E)||v.setEdge(f,j,{weight:0,minlen:M+O[E]})})(n,o,i,a,r,u,c)}),n.graph().nodeRankFactor=i},cleanup:function(n){var o=n.graph();n.removeNode(o.nestingRoot),delete o.nestingRoot,d.forEach(n.edges(),function(u){n.edge(u).nestingEdge&&n.removeEdge(u)})}}},function(C,x,s){var d=s(13),y=s(20);function p(n,o,u,r,i,a){var c={width:0,height:0,rank:a,borderType:o},h=i[o][a-1],v=y.addDummyNode(n,"border",c,u);i[o][a]=v,n.setParent(v,r),h&&n.setEdge(h,v,{weight:1})}C.exports=function(n){d.forEach(n.children(),function o(u){var r=n.children(u),i=n.node(u);if(r.length&&d.forEach(r,o),d.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,c=i.maxRank+1;a<c;++a)p(n,"borderLeft","_bl",u,i,a),p(n,"borderRight","_br",u,i,a)}})}},function(C,x,s){"use strict";var d=s(13);function y(u){d.forEach(u.nodes(),function(r){p(u.node(r))}),d.forEach(u.edges(),function(r){p(u.edge(r))})}function p(u){var r=u.width;u.width=u.height,u.height=r}function n(u){u.y=-u.y}function o(u){var r=u.x;u.x=u.y,u.y=r}C.exports={adjust:function(r){var i=r.graph().rankdir.toLowerCase();i!=="lr"&&i!=="rl"||y(r)},undo:function(r){var i=r.graph().rankdir.toLowerCase();i!=="bt"&&i!=="rl"||function(a){d.forEach(a.nodes(),function(c){n(a.node(c))}),d.forEach(a.edges(),function(c){var h=a.edge(c);d.forEach(h.points,n),d.has(h,"y")&&n(h)})}(r),i!=="lr"&&i!=="rl"||(function(a){d.forEach(a.nodes(),function(c){o(a.node(c))}),d.forEach(a.edges(),function(c){var h=a.edge(c);d.forEach(h.points,o),d.has(h,"x")&&o(h)})}(r),y(r))}}},function(C,x,s){"use strict";var d=s(13),y=s(534),p=s(535),n=s(536),o=s(540),u=s(541),r=s(30).Graph,i=s(20);function a(v,f,m){return d.map(f,function(b){return o(v,b,m)})}function c(v,f){var m=new r;d.forEach(v,function(b){var M=b.graph().root,O=n(b,M,m,f);d.forEach(O.vs,function(E,A){b.node(E).order=A}),u(b,m,O.vs)})}function h(v,f){d.forEach(f,function(m){d.forEach(m,function(b,M){v.node(b).order=M})})}C.exports=function(v){var f=i.maxRank(v),m=a(v,d.range(1,f+1),"inEdges"),b=a(v,d.range(f-1,-1,-1),"outEdges"),M=y(v);h(v,M);for(var O,E=Number.POSITIVE_INFINITY,A=0,j=0;j<4;++A,++j){c(A%2?m:b,A%4>=2),M=i.buildLayerMatrix(v);var B=p(v,M);B<E&&(j=0,O=d.cloneDeep(M),E=B)}h(v,O)}},function(C,x,s){"use strict";var d=s(13);C.exports=function(y){var p={},n=d.filter(y.nodes(),function(i){return!y.children(i).length}),o=d.max(d.map(n,function(i){return y.node(i).rank})),u=d.map(d.range(o+1),function(){return[]}),r=d.sortBy(n,function(i){return y.node(i).rank});return d.forEach(r,function i(a){if(!d.has(p,a)){p[a]=!0;var c=y.node(a);u[c.rank].push(a),d.forEach(y.successors(a),i)}}),u}},function(C,x,s){"use strict";var d=s(13);function y(p,n,o){for(var u=d.zipObject(o,d.map(o,function(v,f){return f})),r=d.flatten(d.map(n,function(v){return d.sortBy(d.map(p.outEdges(v),function(f){return{pos:u[f.w],weight:p.edge(f).weight}}),"pos")}),!0),i=1;i<o.length;)i<<=1;var a=2*i-1;i-=1;var c=d.map(new Array(a),function(){return 0}),h=0;return d.forEach(r.forEach(function(v){var f=v.pos+i;c[f]+=v.weight;for(var m=0;f>0;)f%2&&(m+=c[f+1]),c[f=f-1>>1]+=v.weight;h+=v.weight*m})),h}C.exports=function(p,n){for(var o=0,u=1;u<n.length;++u)o+=y(p,n[u-1],n[u]);return o}},function(C,x,s){var d=s(13),y=s(537),p=s(538),n=s(539);C.exports=function o(u,r,i,a){var c=u.children(r),h=u.node(r),v=h?h.borderLeft:void 0,f=h?h.borderRight:void 0,m={};v&&(c=d.filter(c,function(j){return j!==v&&j!==f}));var b=y(u,c);d.forEach(b,function(j){if(u.children(j.v).length){var B=o(u,j.v,i,a);m[j.v]=B,d.has(B,"barycenter")&&(D=j,T=B,d.isUndefined(D.barycenter)?(D.barycenter=T.barycenter,D.weight=T.weight):(D.barycenter=(D.barycenter*D.weight+T.barycenter*T.weight)/(D.weight+T.weight),D.weight+=T.weight))}var D,T});var M=p(b,i);(function(j,B){d.forEach(j,function(D){D.vs=d.flatten(D.vs.map(function(T){return B[T]?B[T].vs:T}),!0)})})(M,m);var O=n(M,a);if(v&&(O.vs=d.flatten([v,O.vs,f],!0),u.predecessors(v).length)){var E=u.node(u.predecessors(v)[0]),A=u.node(u.predecessors(f)[0]);d.has(O,"barycenter")||(O.barycenter=0,O.weight=0),O.barycenter=(O.barycenter*O.weight+E.order+A.order)/(O.weight+2),O.weight+=2}return O}},function(C,x,s){var d=s(13);C.exports=function(y,p){return d.map(p,function(n){var o=y.inEdges(n);if(o.length){var u=d.reduce(o,function(r,i){var a=y.edge(i),c=y.node(i.v);return{sum:r.sum+a.weight*c.order,weight:r.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:u.sum/u.weight,weight:u.weight}}return{v:n}})}},function(C,x,s){"use strict";var d=s(13);C.exports=function(y,p){var n={};return d.forEach(y,function(o,u){var r=n[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:u};d.isUndefined(o.barycenter)||(r.barycenter=o.barycenter,r.weight=o.weight)}),d.forEach(p.edges(),function(o){var u=n[o.v],r=n[o.w];d.isUndefined(u)||d.isUndefined(r)||(r.indegree++,u.out.push(n[o.w]))}),function(o){var u=[];function r(c){return function(h){h.merged||(d.isUndefined(h.barycenter)||d.isUndefined(c.barycenter)||h.barycenter>=c.barycenter)&&function(v,f){var m=0,b=0;v.weight&&(m+=v.barycenter*v.weight,b+=v.weight),f.weight&&(m+=f.barycenter*f.weight,b+=f.weight),v.vs=f.vs.concat(v.vs),v.barycenter=m/b,v.weight=b,v.i=Math.min(f.i,v.i),f.merged=!0}(c,h)}}function i(c){return function(h){h.in.push(c),--h.indegree==0&&o.push(h)}}for(;o.length;){var a=o.pop();u.push(a),d.forEach(a.in.reverse(),r(a)),d.forEach(a.out,i(a))}return d.map(d.filter(u,function(c){return!c.merged}),function(c){return d.pick(c,["vs","i","barycenter","weight"])})}(d.filter(n,function(o){return!o.indegree}))}},function(C,x,s){var d=s(13),y=s(20);function p(n,o,u){for(var r;o.length&&(r=d.last(o)).i<=u;)o.pop(),n.push(r.vs),u++;return u}C.exports=function(n,o){var u=y.partition(n,function(b){return d.has(b,"barycenter")}),r=u.lhs,i=d.sortBy(u.rhs,function(b){return-b.i}),a=[],c=0,h=0,v=0;r.sort((f=!!o,function(b,M){return b.barycenter<M.barycenter?-1:b.barycenter>M.barycenter?1:f?M.i-b.i:b.i-M.i})),v=p(a,i,v),d.forEach(r,function(b){v+=b.vs.length,a.push(b.vs),c+=b.barycenter*b.weight,h+=b.weight,v=p(a,i,v)});var f,m={vs:d.flatten(a,!0)};return h&&(m.barycenter=c/h,m.weight=h),m}},function(C,x,s){var d=s(13),y=s(30).Graph;C.exports=function(p,n,o){var u=function(i){for(var a;i.hasNode(a=d.uniqueId("_root")););return a}(p),r=new y({compound:!0}).setGraph({root:u}).setDefaultNodeLabel(function(i){return p.node(i)});return d.forEach(p.nodes(),function(i){var a=p.node(i),c=p.parent(i);(a.rank===n||a.minRank<=n&&n<=a.maxRank)&&(r.setNode(i),r.setParent(i,c||u),d.forEach(p[o](i),function(h){var v=h.v===i?h.w:h.v,f=r.edge(v,i),m=d.isUndefined(f)?0:f.weight;r.setEdge(v,i,{weight:p.edge(h).weight+m})}),d.has(a,"minRank")&&r.setNode(i,{borderLeft:a.borderLeft[n],borderRight:a.borderRight[n]}))}),r}},function(C,x,s){var d=s(13);C.exports=function(y,p,n){var o,u={};d.forEach(n,function(r){for(var i,a,c=y.parent(r);c;){if((i=y.parent(c))?(a=u[i],u[i]=c):(a=o,o=c),a&&a!==c)return void p.setEdge(a,c);c=i}})}},function(C,x,s){"use strict";var d=s(13),y=s(20),p=s(543).positionX;C.exports=function(n){(function(o){var u=y.buildLayerMatrix(o),r=o.graph().ranksep,i=0;d.forEach(u,function(a){var c=d.max(d.map(a,function(h){return o.node(h).height}));d.forEach(a,function(h){o.node(h).y=i+c/2}),i+=c+r})})(n=y.asNonCompoundGraph(n)),d.forEach(p(n),function(o,u){n.node(u).x=o})}},function(C,x,s){"use strict";var d=s(13),y=s(30).Graph,p=s(20);function n(f,m){var b={};return d.reduce(m,function(M,O){var E=0,A=0,j=M.length,B=d.last(O);return d.forEach(O,function(D,T){var Y=function(U,H){if(U.node(H).dummy)return d.find(U.predecessors(H),function(J){return U.node(J).dummy})}(f,D),G=Y?f.node(Y).order:j;(Y||D===B)&&(d.forEach(O.slice(A,T+1),function(U){d.forEach(f.predecessors(U),function(H){var J=f.node(H),ut=J.order;!(ut<E||G<ut)||J.dummy&&f.node(U).dummy||u(b,H,U)})}),A=T+1,E=G)}),O}),b}function o(f,m){var b={};function M(O,E,A,j,B){var D;d.forEach(d.range(E,A),function(T){D=O[T],f.node(D).dummy&&d.forEach(f.predecessors(D),function(Y){var G=f.node(Y);G.dummy&&(G.order<j||G.order>B)&&u(b,Y,D)})})}return d.reduce(m,function(O,E){var A,j=-1,B=0;return d.forEach(E,function(D,T){if(f.node(D).dummy==="border"){var Y=f.predecessors(D);Y.length&&(A=f.node(Y[0]).order,M(E,B,T,j,A),B=T,j=A)}M(E,B,E.length,A,O.length)}),E}),b}function u(f,m,b){if(m>b){var M=m;m=b,b=M}var O=f[m];O||(f[m]=O={}),O[b]=!0}function r(f,m,b){if(m>b){var M=m;m=b,b=M}return d.has(f[m],b)}function i(f,m,b,M){var O={},E={},A={};return d.forEach(m,function(j){d.forEach(j,function(B,D){O[B]=B,E[B]=B,A[B]=D})}),d.forEach(m,function(j){var B=-1;d.forEach(j,function(D){var T=M(D);if(T.length)for(var Y=((T=d.sortBy(T,function(J){return A[J]})).length-1)/2,G=Math.floor(Y),U=Math.ceil(Y);G<=U;++G){var H=T[G];E[D]===D&&B<A[H]&&!r(b,D,H)&&(E[H]=D,E[D]=O[D]=O[H],B=A[H])}})}),{root:O,align:E}}function a(f,m,b,M,O){var E={},A=function(D,T,Y,G){var U=new y,H=D.graph(),J=function(ut,$,K){return function(ot,at,ht){var St,pt=ot.node(at),xt=ot.node(ht),vt=0;if(vt+=pt.width/2,d.has(pt,"labelpos"))switch(pt.labelpos.toLowerCase()){case"l":St=-pt.width/2;break;case"r":St=pt.width/2}if(St&&(vt+=K?St:-St),St=0,vt+=(pt.dummy?$:ut)/2,vt+=(xt.dummy?$:ut)/2,vt+=xt.width/2,d.has(xt,"labelpos"))switch(xt.labelpos.toLowerCase()){case"l":St=xt.width/2;break;case"r":St=-xt.width/2}return St&&(vt+=K?St:-St),St=0,vt}}(H.nodesep,H.edgesep,G);return d.forEach(T,function(ut){var $;d.forEach(ut,function(K){var ot=Y[K];if(U.setNode(ot),$){var at=Y[$],ht=U.edge(at,ot);U.setEdge(at,ot,Math.max(J(D,K,$),ht||0))}$=K})}),U}(f,m,b,O),j=O?"borderLeft":"borderRight";function B(D,T){for(var Y=A.nodes(),G=Y.pop(),U={};G;)U[G]?D(G):(U[G]=!0,Y.push(G),Y=Y.concat(T(G))),G=Y.pop()}return B(function(D){E[D]=A.inEdges(D).reduce(function(T,Y){return Math.max(T,E[Y.v]+A.edge(Y))},0)},A.predecessors.bind(A)),B(function(D){var T=A.outEdges(D).reduce(function(G,U){return Math.min(G,E[U.w]-A.edge(U))},Number.POSITIVE_INFINITY),Y=f.node(D);T!==Number.POSITIVE_INFINITY&&Y.borderType!==j&&(E[D]=Math.max(E[D],T))},A.successors.bind(A)),d.forEach(M,function(D){E[D]=E[b[D]]}),E}function c(f,m){return d.minBy(d.values(m),function(b){var M=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY;return d.forIn(b,function(E,A){var j=function(B,D){return B.node(D).width}(f,A)/2;M=Math.max(E+j,M),O=Math.min(E-j,O)}),M-O})}function h(f,m){var b=d.values(m),M=d.min(b),O=d.max(b);d.forEach(["u","d"],function(E){d.forEach(["l","r"],function(A){var j,B=E+A,D=f[B];if(D!==m){var T=d.values(D);(j=A==="l"?M-d.min(T):O-d.max(T))&&(f[B]=d.mapValues(D,function(Y){return Y+j}))}})})}function v(f,m){return d.mapValues(f.ul,function(b,M){if(m)return f[m.toLowerCase()][M];var O=d.sortBy(d.map(f,M));return(O[1]+O[2])/2})}C.exports={positionX:function(m){var b,M=p.buildLayerMatrix(m),O=d.merge(n(m,M),o(m,M)),E={};d.forEach(["u","d"],function(j){b=j==="u"?M:d.values(M).reverse(),d.forEach(["l","r"],function(B){B==="r"&&(b=d.map(b,function(G){return d.values(G).reverse()}));var D=(j==="u"?m.predecessors:m.successors).bind(m),T=i(m,b,O,D),Y=a(m,b,T.root,T.align,B==="r");B==="r"&&(Y=d.mapValues(Y,function(G){return-G})),E[j+B]=Y})});var A=c(m,E);return h(E,A),v(E,m.graph().align)},findType1Conflicts:n,findType2Conflicts:o,addConflict:u,hasConflict:r,verticalAlignment:i,horizontalCompaction:a,alignCoordinates:h,findSmallestWidthAlignment:c,balance:v}},function(C,x,s){var d=s(13),y=s(20),p=s(30).Graph;C.exports={debugOrdering:function(o){var u=y.buildLayerMatrix(o),r=new p({compound:!0,multigraph:!0}).setGraph({});return d.forEach(o.nodes(),function(i){r.setNode(i,{label:i}),r.setParent(i,"layer"+o.node(i).rank)}),d.forEach(o.edges(),function(i){r.setEdge(i.v,i.w,{},i.name)}),d.forEach(u,function(i,a){var c="layer"+a;r.setNode(c,{rank:"same"}),d.reduce(i,function(h,v){return r.setEdge(h,v,{style:"invis"}),v})}),r}}},function(C,x){C.exports="0.8.5"},function(C,x,s){var d=s(94),y=s(547),p=s(129),n=s(48),o=function(r){var i,a;function c(){return r.apply(this,arguments)||this}return a=r,(i=c).prototype=Object.create(a.prototype),i.prototype.constructor=i,i.__proto__=a,c.prototype.execute=function(){return p(this.rootNode,this.options,y)},c}(d),u={};C.exports=function(r,i){return i=n.assign({},u,i),new o(r,i).execute()}},function(C,x){function s(y,p,n,o){o===void 0&&(o=[]);var u=this;u.w=y||0,u.h=p||0,u.y=n||0,u.x=0,u.c=o||[],u.cs=o.length,u.prelim=0,u.mod=0,u.shift=0,u.change=0,u.tl=null,u.tr=null,u.el=null,u.er=null,u.msel=0,u.mser=0}function d(y,p){var n=function o(u,r){var i=r?u.y:u.x;return u.children.forEach(function(a){i=Math.min(o(a,r),i)}),i}(y,p);(function o(u,r,i){i?u.y+=r:u.x+=r,u.children.forEach(function(a){o(a,r,i)})})(y,-n,p)}s.fromNode=function(y,p){if(!y)return null;var n=[];return y.children.forEach(function(o){n.push(s.fromNode(o,p))}),p?new s(y.height,y.width,y.x,n):new s(y.width,y.height,y.y,n)},C.exports=function(y,p){p===void 0&&(p={});var n=p.isHorizontal;function o(f){f.cs===0?(f.el=f,f.er=f,f.msel=f.mser=0):(f.el=f.c[0].el,f.msel=f.c[0].msel,f.er=f.c[f.cs-1].er,f.mser=f.c[f.cs-1].mser)}function u(f,m,b){for(var M=f.c[m-1],O=M.mod,E=f.c[m],A=E.mod;M!==null&&E!==null;){c(M)>b.low&&(b=b.nxt);var j=O+M.prelim+M.w-(A+E.prelim);j>0&&(A+=j,r(f,m,b.index,j));var B=c(M),D=c(E);B<=D&&(M=a(M))!==null&&(O+=M.mod),B>=D&&(E=i(E))!==null&&(A+=E.mod)}!M&&E?function(T,Y,G,U){var H=T.c[0].el;H.tl=G;var J=U-G.mod-T.c[0].msel;H.mod+=J,H.prelim-=J,T.c[0].el=T.c[Y].el,T.c[0].msel=T.c[Y].msel}(f,m,E,A):M&&!E&&function(T,Y,G,U){var H=T.c[Y].er;H.tr=G;var J=U-G.mod-T.c[Y].mser;H.mod+=J,H.prelim-=J,T.c[Y].er=T.c[Y-1].er,T.c[Y].mser=T.c[Y-1].mser}(f,m,M,O)}function r(f,m,b,M){f.c[m].mod+=M,f.c[m].msel+=M,f.c[m].mser+=M,function(O,E,A,j){if(A!==E-1){var B=E-A;O.c[A+1].shift+=j/B,O.c[E].shift-=j/B,O.c[E].change-=j-j/B}}(f,m,b,M)}function i(f){return f.cs===0?f.tl:f.c[0]}function a(f){return f.cs===0?f.tr:f.c[f.cs-1]}function c(f){return f.y+f.h}function h(f,m,b){for(;b!==null&&f>=b.low;)b=b.nxt;return{low:f,index:m,nxt:b}}(function f(m,b,M){M===void 0&&(M=0),b?(m.x=M,M+=m.width):(m.y=M,M+=m.height),m.children.forEach(function(O){f(O,b,M)})})(y,n);var v=s.fromNode(y,n);return function f(m){if(m.cs!==0){f(m.c[0]);for(var b=h(c(m.c[0].el),0,null),M=1;M<m.cs;++M){f(m.c[M]);var O=c(m.c[M].er);u(m,M,b),b=h(O,M,b)}(function(E){E.prelim=(E.c[0].prelim+E.c[0].mod+E.c[E.cs-1].mod+E.c[E.cs-1].prelim+E.c[E.cs-1].w)/2-E.w/2})(m),o(m)}else o(m)}(v),function f(m,b){b+=m.mod,m.x=m.prelim+b,function(O){for(var E=0,A=0,j=0;j<O.cs;j++)E+=O.c[j].shift,A+=E+O.c[j].change,O.c[j].mod+=A}(m);for(var M=0;M<m.cs;M++)f(m.c[M],b)}(v,0),function f(m,b,M){M?b.y=m.x:b.x=m.x,m.c.forEach(function(O,E){f(O,b.children[E],M)})}(v,y,n),d(y,n),y}},function(C,x,s){var d=s(94),y=s(549),p=s(129),n=s(48),o=function(r){var i,a;function c(){return r.apply(this,arguments)||this}return a=r,(i=c).prototype=Object.create(a.prototype),i.prototype.constructor=i,i.__proto__=a,c.prototype.execute=function(){return this.rootNode.width=0,p(this.rootNode,this.options,y)},c}(d),u={};C.exports=function(r,i){return i=n.assign({},u,i),new o(r,i).execute()}},function(C,x,s){var d=s(48);function y(n,o){n===void 0&&(n=0),o===void 0&&(o=[]);var u=this;u.x=u.y=0,u.leftChild=u.rightChild=null,u.height=0,u.children=o}var p={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};C.exports=function(n,o){o===void 0&&(o={}),o=d.assign({},p,o);var u,r=0,i=function a(c){if(!c)return null;c.width=0,c.depth&&c.depth>r&&(r=c.depth);var h=c.children,v=h.length,f=new y(c.height,[]);return h.forEach(function(m,b){var M=a(m);f.children.push(M),b===0&&(f.leftChild=M),b===v-1&&(f.rightChild=M)}),f.originNode=c,f.isLeaf=c.isLeaf(),f}(n);return function a(c){if(c.isLeaf||c.children.length===0)c.drawingDepth=r;else{var h=c.children.map(function(f){return a(f)}),v=Math.min.apply(null,h);c.drawingDepth=v-1}return c.drawingDepth}(i),function a(c){c.x=c.drawingDepth*o.rankSep,c.isLeaf?(c.y=0,u&&(c.y=u.y+u.height+o.nodeSep,c.originNode.parent!==u.originNode.parent&&(c.y+=o.subTreeSep)),u=c):(c.children.forEach(function(h){a(h)}),c.y=(c.leftChild.y+c.rightChild.y)/2)}(i),function a(c,h,v){v?(h.x=c.x,h.y=c.y):(h.x=c.y,h.y=c.x),c.children.forEach(function(f,m){a(f,h.children[m],v)})}(i,n,o.isHorizontal),n}},function(C,x,s){var d=s(94),y=s(551),p=s(227),n=s(48),o=["LR","RL","H"],u=o[0],r=function(a){var c,h;function v(){return a.apply(this,arguments)||this}return h=a,(c=v).prototype=Object.create(h.prototype),c.prototype.constructor=c,c.__proto__=h,v.prototype.execute=function(){var f=this.options,m=this.rootNode;f.isHorizontal=!0;var b=f.indent,M=b===void 0?20:b,O=f.dropCap,E=O===void 0||O,A=f.direction||u;if(A&&o.indexOf(A)===-1)throw new TypeError("Invalid direction: "+A);if(A===o[0])y(m,M,E);else if(A===o[1])y(m,M,E),m.right2left();else if(A===o[2]){var j=p(m,f),B=j.left,D=j.right;y(B,M,E),B.right2left(),y(D,M,E);var T=B.getBoundingBox();D.translate(T.width,0),m.x=D.x-m.width/2}return m},v}(d),i={};C.exports=function(a,c){return c=n.assign({},i,c),new r(a,c).execute()}},function(C,x){C.exports=function(s,d,y){var p=null;s.eachNode(function(n){(function(o,u,r,i){if(!i)try{if(o.id===o.parent.children[0].id)return o.x+=r*o.depth,void(o.y=u?u.y:0)}catch(a){}o.x+=r*o.depth,o.y=u?u.y+u.height:0})(n,p,d,y),p=n})}},function(C,x,s){var d=s(94),y=s(553),p=s(129),n=s(48),o=function(r){var i,a;function c(){return r.apply(this,arguments)||this}return a=r,(i=c).prototype=Object.create(a.prototype),i.prototype.constructor=i,i.__proto__=a,c.prototype.execute=function(){return p(this.rootNode,this.options,y)},c}(d),u={};C.exports=function(r,i){return i=n.assign({},u,i),new o(r,i).execute()}},function(C,x,s){var d=s(48),y={getSubTreeSep:function(){return 0}};C.exports=function(p,n){n===void 0&&(n={}),n=d.assign({},y,n),p.parent={x:0,width:0,height:0,y:0},p.BFTraverse(function(o){o.x=o.parent.x+o.parent.width}),p.parent=null,function o(u,r){var i=0;return u.children.length?u.children.forEach(function(a){i+=o(a,r)}):i=u.height,u._subTreeSep=r.getSubTreeSep(u.data),u.totalHeight=Math.max(u.height,i)+2*u._subTreeSep,u.totalHeight}(p,n),p.startY=0,p.y=p.totalHeight/2-p.height/2,p.eachNode(function(o){var u=o.children,r=u.length;if(r){var i=u[0];if(i.startY=o.startY+o._subTreeSep,r===1)i.y=o.y+o.height/2-i.height/2;else{i.y=i.startY+i.totalHeight/2-i.height/2;for(var a=1;a<r;a++){var c=u[a];c.startY=u[a-1].startY+u[a-1].totalHeight,c.y=c.startY+c.totalHeight/2-c.height/2}}}}),function o(u){var r=u.children,i=r.length;if(i){r.forEach(function(m){o(m)});var a=r[0],c=r[i-1],h=c.y-a.y+c.height,v=0;if(r.forEach(function(m){v+=m.totalHeight}),h>u.height)u.y=a.y+h/2-u.height/2;else if(r.length!==1||u.height>v){var f=u.y+(u.height-h)/2-a.y;r.forEach(function(m){m.translate(0,f)})}else u.y=(a.y+a.height/2+c.y+c.height/2)/2-u.height/2}}(p)}},function(C,x){function s(d){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(d)}C.exports=function(d){return d&&s(d)==="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},function(C,x){typeof Object.create=="function"?C.exports=function(s,d){s.super_=d,s.prototype=Object.create(d.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:C.exports=function(s,d){s.super_=d;var y=function(){};y.prototype=d.prototype,s.prototype=new y,s.prototype.constructor=s}},function(C,x,s){"use strict";s.r(x),s.d(x,"registerNode",function(){return ul}),s.d(x,"registerCombo",function(){return hl}),s.d(x,"Graph",function(){return ho}),s.d(x,"TreeGraph",function(){return za}),s.d(x,"Util",function(){return $a}),s.d(x,"registerEdge",function(){return cl}),s.d(x,"Layout",function(){return Jr}),s.d(x,"Global",function(){return tt}),s.d(x,"registerLayout",function(){return fl}),s.d(x,"Minimap",function(){return dl}),s.d(x,"Grid",function(){return pl}),s.d(x,"Bundling",function(){return gl}),s.d(x,"Menu",function(){return vl}),s.d(x,"Fisheye",function(){return Xs}),s.d(x,"registerBehavior",function(){return ll}),s.d(x,"Algorithm",function(){return r}),s.d(x,"ToolBar",function(){return ml}),s.d(x,"Tooltip",function(){return yl}),s.d(x,"TimeBar",function(){return Hs}),s.d(x,"ImageMinimap",function(){return Vs}),s.d(x,"EdgeFilterLens",function(){return Us});var d={};s.r(d),s.d(d,"formatPadding",function(){return U}),s.d(d,"cloneEvent",function(){return H}),s.d(d,"isViewportChanged",function(){return J}),s.d(d,"isNaN",function(){return ut}),s.d(d,"calculationItemsBBox",function(){return $}),s.d(d,"processParallelEdges",function(){return K});var y={};s.r(y),s.d(y,"mixColor",function(){return Z}),s.d(y,"getColorsWithSubjectColor",function(){return W});var p={};s.r(p),s.d(p,"getLineIntersect",function(){return nn}),s.d(p,"getRectIntersectByPoint",function(){return jn}),s.d(p,"getCircleIntersectByPoint",function(){return bn}),s.d(p,"getEllipseIntersectByPoint",function(){return xn}),s.d(p,"applyMatrix",function(){return rn}),s.d(p,"invertMatrix",function(){return Ze}),s.d(p,"getCircleCenterByPoints",function(){return un}),s.d(p,"distance",function(){return on}),s.d(p,"scaleMatrix",function(){return cn}),s.d(p,"floydWarshall",function(){return Le}),s.d(p,"getAdjMatrix",function(){return pn}),s.d(p,"translate",function(){return Ke}),s.d(p,"move",function(){return an}),s.d(p,"scale",function(){return wn}),s.d(p,"rotate",function(){return hn}),s.d(p,"getDegree",function(){return In}),s.d(p,"isPointInPolygon",function(){return ln}),s.d(p,"intersectBBox",function(){return Mn}),s.d(p,"isPolygonsIntersect",function(){return Jn}),s.d(p,"Line",function(){return Sn}),s.d(p,"getBBoxBoundLine",function(){return tr}),s.d(p,"itemIntersectByLine",function(){return hr}),s.d(p,"fractionToLine",function(){return er}),s.d(p,"getPointsCenter",function(){return gr}),s.d(p,"squareDist",function(){return nr}),s.d(p,"pointLineSquareDist",function(){return lr}),s.d(p,"isPointsOverlap",function(){return xe}),s.d(p,"pointRectSquareDist",function(){return oe});var n={};s.r(n),s.d(n,"getSpline",function(){return le}),s.d(n,"getControlPoint",function(){return fe}),s.d(n,"pointsToPolygon",function(){return qt}),s.d(n,"pathToPoints",function(){return wt}),s.d(n,"getClosedSpline",function(){return Lt}),s.d(n,"roundedHull",function(){return de}),s.d(n,"paddedHull",function(){return ke});var o={};s.r(o),s.d(o,"getBBox",function(){return pi}),s.d(o,"getLoopCfgs",function(){return Yo}),s.d(o,"getLabelPosition",function(){return gi}),s.d(o,"traverseTree",function(){return fn}),s.d(o,"traverseTreeUp",function(){return Rn}),s.d(o,"radialLayout",function(){return zo}),s.d(o,"getLetterWidth",function(){return Xo}),s.d(o,"getTextSize",function(){return Ho}),s.d(o,"plainCombosToTrees",function(){return qi}),s.d(o,"reconstructTree",function(){return Wi}),s.d(o,"getComboBBox",function(){return Zi}),s.d(o,"getChartRegion",function(){return cu});var u={};s.r(u),s.d(u,"default",function(){return bs}),s.d(u,"assign",function(){return mr}),s.d(u,"format",function(){return ms}),s.d(u,"parse",function(){return ys}),s.d(u,"defaultI18n",function(){return wo}),s.d(u,"setGlobalDateI18n",function(){return cs}),s.d(u,"setGlobalDateMasks",function(){return vs});var r={};s.r(r),s.d(r,"depthFirstSearch",function(){return Rs}),s.d(r,"breadthFirstSearch",function(){return Kh}),s.d(r,"detectDirectedCycle",function(){return Qh}),s.d(r,"degree",function(){return Ia}),s.d(r,"adjMatrix",function(){return ki}),s.d(r,"floydWarshall",function(){return Ba}),s.d(r,"getConnectedComponents",function(){return Fs}),s.d(r,"detectAllCycles",function(){return $h}),s.d(r,"detectAllDirectedCycle",function(){return Gs}),s.d(r,"detectAllUndirectedCycle",function(){return Ys}),s.d(r,"findShortestPath",function(){return tl}),s.d(r,"findAllPath",function(){return el}),s.d(r,"minimumSpanningTree",function(){return al}),s.d(r,"getPageRank",function(){return sl});var i,a=s(229),c=s(2),h=s.n(c),v=s(7),f={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,l=this.events;this.graph=e,this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||e.get("canvas").set("draggable",!0),h()(l,function(g,w){e.on(w,g)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(e){var t=this.events;this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||e.get("canvas").set("draggable",!1),h()(t,function(l,g){e.off(g,l)})},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},m=function(){function S(){}return S.registerBehavior=function(e,t){if(!t)throw new Error("please specify handler for this behavior: "+e);var l=Object(v.clone)(f);Object.assign(l,t);var g=function(_){var k=this;Object.assign(this,this.getDefaultCfg(),_);var P=this.getEvents();this.events=null;var I={};P&&(Object(v.each)(P,function(N,R){I[R]=Object(v.wrapBehavior)(k,N)}),this.events=I)};g.prototype=l,S.types[e]=g},S.hasBehavior=function(e){return!!S.types[e]},S.getBehavior=function(e){return S.types[e]},S.types={},S}();(function(S){S.CLICK="click",S.DBLCLICK="dblclick",S.MOUSEDOWN="mousedown",S.MOUDEUP="mouseup",S.CONTEXTMENU="contextmenu",S.MOUSEENTER="mouseenter",S.MOUSEOUT="mouseout",S.MOUSEOVER="mouseover",S.MOUSEMOVE="mousemove",S.MOUSELEAVE="mouseleave",S.DRAGSTART="dragstart",S.DRAGEND="dragend",S.DRAG="drag",S.DRAGENTER="dragenter",S.DRAGLEAVE="dragleave",S.DRAGOVER="dragover",S.DRAGOUT="dragout",S.DDROP="drop",S.KEYUP="keyup",S.KEYDOWN="keydown",S.WHEEL="wheel",S.FOCUS="focus",S.BLUR="blur",S.TOUCHSTART="touchstart",S.TOUCHMOVE="touchmove",S.TOUCHEND="touchend",S.NODE_CONTEXTMENU="node:contextmenu",S.NODE_CLICK="node:click",S.NODE_DBLCLICK="node:dblclick",S.NODE_MOUSEDOWN="node:mousedown",S.NODE_MOUSEUP="node:mouseup",S.NODE_MOUSEENTER="node:mouseenter",S.NODE_MOUSELEAVE="node:mouseleave",S.NODE_MOUSEMOVE="node:mousemove",S.NODE_MOUSEOUT="node:mouseout",S.NODE_MOUSEOVER="node:mouseover",S.NODE_DROP="node:drop",S.NODE_DRAGOVER="node:dragover",S.NODE_DRAGENTER="node:dragenter",S.NODE_DRAGLEAVE="node:dragleave",S.NODE_DRAGSTART="node:dragstart",S.NODE_DRAG="node:drag",S.NODE_DRAGEND="node:dragend",S.COMBO_CONTEXTMENU="combo:contextmenu",S.COMBO_CLICK="combo:click",S.COMBO_DBLCLICK="combo:dblclick",S.COMBO_MOUSEDOWN="combo:mousedown",S.COMBO_MOUSEUP="combo:mouseup",S.COMBO_MOUSEENTER="combo:mouseenter",S.COMBO_MOUSELEAVE="combo:mouseleave",S.COMBO_MOUSEMOVE="combo:mousemove",S.COMBO_MOUSEOUT="combo:mouseout",S.COMBO_MOUSEOVER="combo:mouseover",S.COMBO_DROP="combo:drop",S.COMBO_DRAGOVER="combo:dragover",S.COMBO_DRAGENTER="combo:dragenter",S.COMBO_DRAGLEAVE="combo:dragleave",S.COMBO_DRAGSTART="combo:dragstart",S.COMBO_DRAG="combo:drag",S.COMBO_DRAGEND="combo:dragend",S.EDGE_CONTEXTMENU="edge:contextmenu",S.EDGE_CLICK="edge:click",S.EDGE_DBLCLICK="edge:dblclick",S.EDGE_MOUSEDOWN="edge:mousedown",S.EDGE_MOUSEUP="edge:mouseup",S.EDGE_MOUSEENTER="edge:mouseenter",S.EDGE_MOUSELEAVE="edge:mouseleave",S.EDGE_MOUSEMOVE="edge:mousemove",S.EDGE_MOUSEOUT="edge:mouseout",S.EDGE_MOUSEOVER="edge:mouseover",S.EDGE_DROP="edge:drop",S.EDGE_DRAGOVER="edge:dragover",S.EDGE_DRAGENTER="edge:dragenter",S.EDGE_DRAGLEAVE="edge:dragleave",S.CANVAS_CONTEXTMENU="canvas:contextmenu",S.CANVAS_CLICK="canvas:click",S.CANVAS_DBLCLICK="canvas:dblclick",S.CANVAS_MOUSEDOWN="canvas:mousedown",S.CANVAS_MOUSEUP="canvas:mouseup",S.CANVAS_MOUSEENTER="canvas:mouseenter",S.CANVAS_MOUSELEAVE="canvas:mouseleave",S.CANVAS_MOUSEMOVE="canvas:mousemove",S.CANVAS_MOUSEOUT="canvas:mouseout",S.CANVAS_MOUSEOVER="canvas:mouseover",S.CANVAS_DROP="canvas:drop",S.CANVAS_DRAGENTER="canvas:dragenter",S.CANVAS_DRAGLEAVE="canvas:dragleave",S.CANVAS_DRAGSTART="canvas:dragstart",S.CANVAS_DRAG="canvas:drag",S.CANVAS_DRAGEND="canvas:dragend",S.BEFORERENDER="beforerender",S.AFTERRENDER="afterrender",S.BEFOREADDITEM="beforeadditem",S.AFTERADDITEM="afteradditem",S.BEFOREREMOVEITEM="beforeremoveitem",S.AFTERREMOVEITEM="afterremoveitem",S.BEFOREUPDATEITEM="beforeupdateitem",S.AFTERUPDATEITEM="afterupdateitem",S.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",S.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",S.BEFOREITEMSTATECHANGE="beforeitemstatechange",S.AFTERITEMSTATECHANGE="afteritemstatechange",S.BEFOREITEMREFRESH="beforeitemrefresh",S.AFTERITEMREFRESH="afteritemrefresh",S.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",S.AFTERITEMSTATESCLEAR="afteritemstatesclear",S.BEFOREMODECHANGE="beforemodechange",S.AFTERMODECHANGE="aftermodechange",S.BEFORELAYOUT="beforelayout",S.AFTERLAYOUT="afterlayout",S.BEFORECREATEEDGE="beforecreateedge",S.AFTERCREATEEDGE="aftercreateedge",S.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",S.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",S.BEFOREGRAPHREFRESH="beforegraphrefresh",S.AFTERGRAPHREFRESH="aftergraphrefresh",S.BEFOREANIMATE="beforeanimate",S.AFTERANIMATE="afteranimate",S.BEFOREPAINT="beforepaint",S.AFTERPAINT="afterpaint",S.GRAPHSTATECHANGE="graphstatechange",S.AFTERACTIVATERELATIONS="afteractivaterelations",S.NODESELECTCHANGE="nodeselectchange",S.TOOLTIPCHANGE="tooltipchange",S.WHEELZOOM="wheelzoom",S.VIEWPORTCHANGE="viewportchange",S.DRAGNODEEND="dragnodeend",S.STACKCHANGE="stackchange"})(i||(i={}));var b=s(4),M=s.n(b),O=s(10),E=s.n(O),A=s(11),j=s.n(A),B=s(3),D=s.n(B),T=s(1),Y=s(230),G=function(S){function e(t,l){var g=S.call(this,t,l)||this;return g.item=l.item,g.canvasX=l.canvasX,g.canvasY=l.canvasY,g.wheelDelta=l.wheelDelta,g.detail=l.detail,g}return Object(T.__extends)(e,S),e}(s.n(Y).a),U=function(e){var t=0,l=0,g=0,w=0;return j()(e)?t=l=g=w=e:D()(e)?t=l=g=w=parseInt(e,10):M()(e)&&(t=e[0],g=E()(e[1])?e[0]:e[1],w=E()(e[2])?e[0]:e[2],l=E()(e[3])?g:e[3]),[t,g,w,l]},H=function(e){var t=new G(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},J=function(e){if(!e)return!1;for(var t=[1,0,0,0,1,0,0,0,1],l=0;l<9;l++)if(e[l]!==t[l])return!0;return!1},ut=function(e){return Number.isNaN(Number(e))},$=function(e){for(var t=1/0,l=-1/0,g=1/0,w=-1/0,_=0;_<e.length;_++){var k=e[_].getBBox(),P=k.minX,I=k.minY,N=k.maxX,R=k.maxY;P<t&&(t=P),I<g&&(g=I),N>l&&(l=N),R>w&&(w=R)}return{x:Math.floor(t),y:Math.floor(g),width:Math.ceil(l)-Math.floor(t),height:Math.ceil(w)-Math.floor(g),minX:t,minY:g,maxX:l,maxY:w}},K=function(e,t){t===void 0&&(t=15);for(var l=e.length,g=2*t,w=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],_={},k=[],P={},I=0;I<l;I++){var N=e[I],R=N.source,L=N.target,F=R+"-"+L;if(!k[I]){_[F]||(_[F]=[]),k[I]=!0,_[F].push(N);for(var z=0;z<l;z++)if(I!==z){var q=e[z],nt=q.source,et=q.target;k[z]||(R===et&&L===nt?(_[F].push(q),k[z]=!0,P[nt+"|"+et+"|"+(_[F].length-1)]=!0):R===nt&&L===et&&(_[F].push(q),k[z]=!0))}}}for(var st in _)for(var dt=_[st],Ot=dt.length,bt=0;bt<Ot;bt++){var mt=dt[bt];if(mt.source!==mt.target){mt.type="quadratic";var Tt=(bt%2==0?1:-1)*(P[mt.source+"|"+mt.target+"|"+bt]?-1:1);mt.curveOffset=Ot%2==1?Tt*Math.ceil(bt/2)*g:Tt*(Math.floor(bt/2)*g+t)}else mt.type="loop",mt.loopCfg={position:w[bt%8],dist:20*Math.floor(bt/8)+50}}return e},ot=Math.abs,at=["shift","ctrl","alt","control"],ht={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,l=+e.clientX,g=+e.clientY;if(!ut(l)&&!ut(g)){var w=l-t.x,_=g-t.y;this.get("direction")==="x"?_=0:this.get("direction")==="y"&&(w=0),this.origin={x:l,y:g};var k=this.graph.get("width"),P=this.graph.get("height"),I=this.graph.get("canvas").getCanvasBBox();(I.minX<=k+this.scalableRange&&I.minX+w>k+this.scalableRange||I.maxX+this.scalableRange>=0&&I.maxX+this.scalableRange+w<0)&&(w=0),(I.minY<=P+this.scalableRange&&I.minY+_>P+this.scalableRange||I.maxY+this.scalableRange>=0&&I.maxY+this.scalableRange+_<0)&&(_=0),this.graph.translate(w,_)}},onMouseDown:function(e){var t=e.originalEvent;if((!t||t.button===0)&&(e.name===i.TOUCHSTART||!window||!window.event||typeof window=="undefined"||window.event.buttons||window.event.button)&&!this.keydown&&!e.shape&&(this.origin={x:e.clientX,y:e.clientY},this.dragging=!1,this.enableOptimize)){for(var l=this.graph,g=l.getEdges(),w=0,_=g.length;w<_;w++){var k=g[w].get("group").get("children");k&&k.forEach(function(z){z.hide()})}for(var P=l.getNodes(),I=0,N=P.length;I<N;I++)for(var R=0,L=P[I].getContainer().get("children");R<L.length;R++){var F=L[R];F.get("isKeyShape")||F.hide()}}},onMouseMove:function(e){var t=this.graph;if(!this.keydown&&!e.shape&&(e=H(e),this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(ot(this.origin.x-e.clientX)+ot(this.origin.y-e.clientY)<10)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}},onMouseUp:function(e){var t=this.graph;if(!this.keydown&&!e.shape){if(this.enableOptimize){for(var l=t.getEdges(),g=0,w=l.length;g<w;g++){var _=l[g].get("group").get("children");_&&_.forEach(function(F){F.show()})}for(var k=t.getNodes(),P=0,I=k.length;P<I;P++)for(var N=0,R=k[P].getContainer().get("children");N<R.length;N++){var L=R[N];L.get("isKeyShape")||L.show()}}this.dragging?(e=H(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",t.emit("canvas:dragend",e),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=e.key;t&&(at.indexOf(t.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},St=s(70),pt=s.n(St),xt=s(71),vt=s.n(xt),gt=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function _t(S,e,t){var l;return(l=Math.round(S.h)>=60&&Math.round(S.h)<=240?t?Math.round(S.h)-2*e:Math.round(S.h)+2*e:t?Math.round(S.h)+2*e:Math.round(S.h)-2*e)<0?l+=360:l>=360&&(l-=360),l}function Bt(S,e,t){return S.h===0&&S.s===0?S.s:((l=t?S.s-.16*e:e===4?S.s+.16:S.s+.05*e)>1&&(l=1),t&&e===5&&l>.1&&(l=.1),l<.06&&(l=.06),Number(l.toFixed(2)));var l}function At(S,e,t){var l;return(l=t?S.v+.05*e:S.v-.15*e)>1&&(l=1),Number(l.toFixed(2))}function It(S){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],l=vt()(S),g=5;g>0;g-=1){var w=l.toHsv(),_=vt()({h:_t(w,g,!0),s:Bt(w,g,!0),v:At(w,g,!0)}).toHexString();t.push(_)}t.push(l.toHexString());for(var k=1;k<=4;k+=1){var P=l.toHsv(),I=vt()({h:_t(P,k),s:Bt(P,k),v:At(P,k)}).toHexString();t.push(I)}return e.theme==="dark"?gt.map(function(N){var R=N.index,L=N.opacity;return vt.a.mix(e.backgroundColor||"#141414",t[R],100*L).toHexString()}):t}var lt={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},X={},V={};Object.keys(lt).forEach(function(S){X[S]=It(lt[S]),X[S].primary=X[S][5],V[S]=It(lt[S],{theme:"dark",backgroundColor:"#141414"}),V[S].primary=V[S][5]}),X.red,X.volcano,X.gold,X.orange,X.yellow,X.lime,X.green,X.cyan,X.blue,X.geekblue,X.purple,X.magenta,X.grey;var Z=function(e,t,l){var g=pt()(e),w=pt()(t);return pt()([(1-l)*g.color[0]+l*w.color[0],(1-l)*g.color[1]+l*w.color[1],(1-l)*g.color[2]+l*w.color[2]]).rgb()},W=function(e,t,l,g){t===void 0&&(t="#fff"),l===void 0&&(l="default"),g===void 0&&(g="rgb(150, 150, 150)");var w=Z(t,e,.05).rgb().toString(),_=Z(t,g,.02).rgb().toString(),k=Z(t,g,.05).rgb().toString(),P=Z(t,g,.1).rgb().toString(),I=Z(t,g,.2).rgb().toString(),N=Z(t,g,.3).rgb().toString(),R=It(e,{theme:l,backgroundColor:t}),L=pt()(e).hex().toLowerCase(),F=R.indexOf(L),z=e;return F!==-1&&(z=R[F+1]),{mainStroke:e,mainFill:Z(t,e,.1).rgb().toString(),activeStroke:e,activeFill:w,inactiveStroke:Z(t,e,.4).rgb().toString(),inactiveFill:w,selectedStroke:e,selectedFill:t,highlightStroke:z,highlightFill:Z(t,e,.2).rgb().toString(),disableStroke:N,disableFill:k,edgeMainStroke:N,edgeActiveStroke:e,edgeInactiveStroke:I,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:P,comboMainStroke:N,comboMainFill:_,comboActiveStroke:e,comboActiveFill:w,comboInactiveStroke:N,comboInactiveFill:_,comboSelectedStroke:e,comboSelectedFill:_,comboHighlightStroke:z,comboHighlightFill:_,comboDisableStroke:I,comboDisableFill:k}},rt=W("rgb(95, 149, 255)","rgb(255, 255, 255)"),tt={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:rt.mainStroke,fill:rt.mainFill},size:20,color:rt.mainStroke,linkPoints:{size:8,lineWidth:1,fill:rt.activeFill,stroke:rt.activeStroke}},nodeStateStyles:{active:{fill:rt.activeFill,stroke:rt.activeStroke,lineWidth:2,shadowColor:rt.mainStroke,shadowBlur:10},selected:{fill:rt.selectedFill,stroke:rt.selectedStroke,lineWidth:4,shadowColor:rt.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:rt.highlightFill,stroke:rt.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:rt.inactiveFill,stroke:rt.inactiveStroke,lineWidth:1},disable:{fill:rt.disableFill,stroke:rt.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:rt.edgeMainStroke,lineAppendWidth:2},color:rt.edgeMainStroke},edgeStateStyles:{active:{stroke:rt.edgeActiveStroke,lineWidth:1},selected:{stroke:rt.edgeSelectedStroke,lineWidth:2,shadowColor:rt.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:rt.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:rt.edgeInactiveStroke,lineWidth:1},disable:{stroke:rt.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:rt.comboMainFill,lineWidth:1,stroke:rt.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:rt.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:rt.comboActiveStroke,lineWidth:1,fill:rt.comboActiveFill},selected:{stroke:rt.comboSelectedStroke,lineWidth:2,fill:rt.comboSelectedFill,shadowColor:rt.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:rt.comboHighlightStroke,lineWidth:2,fill:rt.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:rt.comboInactiveStroke,fill:rt.comboInactiveFill,lineWidth:1},disable:{stroke:rt.comboDisableStroke,fill:rt.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},Q={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(e){return!(!this.origin||!e||e.destroyed)&&e.getType()==="combo"},onDragStart:function(e){var t=this;if(this.shouldBegin.call(this,e)){var l=e.item;if(l&&!l.destroyed&&!l.hasLocked()){l.getContainer().set("capture",!1);var g=e.target;if(g&&g.get("isAnchorPoint"))return;var w=this.graph;this.targets=[],this.targetCombo=null;var _=w.findAllByState("node",this.selectedState),k=l.get("id");_.filter(function(I){var N=I.get("id");return k===N}).length===0?this.targets.push(l):_.length>1?_.forEach(function(I){I.hasLocked()||t.targets.push(I)}):this.targets.push(l);var P=[];this.targets.forEach(function(I){P.push(Object(v.clone)(I.getModel()))}),this.set("beforeDragNodes",P),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;this.origin&&this.shouldUpdate(this,e)&&(this.get("enableDelegate")?this.updateDelegate(e):this.targets.map(function(l){t.update(l,e)}))},onDragEnd:function(e){if(this.origin&&this.shouldEnd.call(this,e)){var t=e.item;t&&t.getContainer().set("capture",!0),this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(e);var l=this.graph;if(l.get("enabledStack")){var g={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(w){g.after.nodes.push(w.getModel())}),l.pushStack("update",Object(v.clone)(g))}l.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.validationCombo(t)){this.updatePositions(e);var l=this.graph;if(this.comboActiveState&&l.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)l.updateCombos();else{var g=t.getModel();this.targets.map(function(w){w.getModel().comboId!==g.id&&l.updateComboTree(w,g.id)}),l.updateCombo(t)}l.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.targets&&this.targets.length!==0&&(this.updatePositions(e),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(l){l.getModel().comboId&&t.updateComboTree(l)}))},onDropNode:function(e){if(this.targets&&this.targets.length!==0){var t=e.item;this.updatePositions(e);var l=this.graph,g=t.getModel().comboId;if(g){var w=l.findById(g);this.comboActiveState&&l.setItemState(w,this.comboActiveState,!1),this.targets.map(function(_){var k=_.getModel();g!==k.comboId&&l.updateComboTree(_,g)}),l.updateCombo(w)}else this.targets.map(function(_){_.getModel().comboId&&l.updateComboTree(_)});l.emit("dragnodeend",{items:this.targets,targetItem:t})}},onDragEnter:function(e){var t=e.item;if(this.validationCombo(t)){var l=this.graph;this.comboActiveState&&l.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(this.validationCombo(t)){var l=this.graph;this.comboActiveState&&l.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e){var t=this;this.targets&&this.targets.length!==0&&this.get("enableDelegate")&&this.targets.map(function(l){return t.update(l,e)})},update:function(e,t){var l=this.origin,g=e.get("model"),w=e.get("id");this.point[w]||(this.point[w]={x:g.x||0,y:g.y||0});var _={x:t.x-l.x+this.point[w].x,y:t.y-l.y+this.point[w].y};this.get("updateEdge")?this.graph.updateItem(e,_,!1):e.updatePosition(_)},updateDelegate:function(e){if(this.graph,this.delegateRect){var t=e.x-this.origin.x+this.originPoint.minX,l=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:t,y:l})}else{var g=this.graph.get("group"),w=Object(v.deepMix)({},tt.delegateStyle,this.delegateStyle),_=this.calculationGroupPosition(e),k=_.x,P=_.y,I=_.width,N=_.height,R=_.minX,L=_.minY;this.originPoint={x:k,y:P,width:I,height:N,minX:R,minY:L},this.delegateRect=g.addShape("rect",{attrs:Object(T.__assign)({width:I,height:N,x:k,y:P},w),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.graph.findAllByState("node",this.selectedState);t.length===0&&t.push(e.item);for(var l=1/0,g=-1/0,w=1/0,_=-1/0,k=0;k<t.length;k++){var P=t[k].getBBox(),I=P.minX,N=P.minY,R=P.maxX,L=P.maxY;I<l&&(l=I),N<w&&(w=N),R>g&&(g=R),L>_&&(_=L)}return{x:Math.floor(l),y:Math.floor(w),width:Math.ceil(g)-Math.floor(l),height:Math.ceil(_)-Math.floor(w),minX:l,minY:w}}},ft=Math.min,Et=Math.max,Ct=Math.abs,Nt=["drag","shift","ctrl","alt","control"],Ft={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Nt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,l=this.brush;t||(this.trigger==="drag"||this.keydown)&&(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),l||(l=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},l.attr({width:0,height:0}),l.show(),this.dragging=!0)},onMouseMove:function(e){this.dragging&&(this.trigger==="drag"||this.keydown)&&this.updateBrush(e)},onMouseUp:function(e){this.graph,(this.brush||this.dragging)&&(this.trigger==="drag"||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this.graph,t=this.selectedState,l=e.findAllByState("node",t),g=e.findAllByState("edge",t);l.forEach(function(w){return e.setItemState(w,t,!1)}),g.forEach(function(w){return e.setItemState(w,t,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,l=this.graph,g=this.originPoint,w=this.shouldUpdate,_=this.selectedState,k={x:e.x,y:e.y},P=l.getPointByCanvas(g.x,g.y),I=ft(k.x,P.x),N=Et(k.x,P.x),R=ft(k.y,P.y),L=Et(k.y,P.y),F=[],z=[];l.getNodes().forEach(function(nt){var et=nt.getBBox();if(et.centerX>=I&&et.centerX<=N&&et.centerY>=R&&et.centerY<=L&&w(nt,"select")){F.push(nt);var st=nt.getModel();z.push(st.id),l.setItemState(nt,_,!0)}});var q=[];this.includeEdges&&F.forEach(function(nt){nt.getOutEdges().forEach(function(et){var st=et.getModel(),dt=st.source,Ot=st.target;z.includes(dt)&&z.includes(Ot)&&w(et,"select")&&(q.push(et),l.setItemState(et,t.selectedState,!0))})}),this.selectedEdges=q,this.selectedNodes=F,this.onSelect&&this.onSelect(F,q),l.emit("nodeselectchange",{selectedItems:{nodes:F,edges:q},select:!0})},createBrush:function(){var e=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=e,e},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:Ct(e.canvasX-t.x),height:Ct(e.canvasY-t.y),x:ft(e.canvasX,t.x),y:ft(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(t){var l=this.trigger.toLowerCase(),g=t.toLowerCase();this.keydown=g===l||g==="control"&&l==="ctrl"||g==="ctrl"&&l==="control"}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Rt=["shift","ctrl","alt","control"],kt={getDefaultCfg:function(){return{multiple:!0,trigger:"shift",selectedState:"selected"}},getEvents:function(){return Rt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,l=e.item;if(l&&!l.destroyed){var g=l.getType(),w=this,_=w.graph,k=w.keydown,P=w.multiple,I=w.shouldUpdate;if(w.shouldBegin.call(this,e)){if(!k||!P){var N=_.findAllByState(g,this.selectedState);h()(N,function(F){F!==l&&_.setItemState(F,t.selectedState,!1)})}if(l.hasState(this.selectedState)){I.call(this,e)&&_.setItemState(l,this.selectedState,!1);var R=_.findAllByState("node",this.selectedState),L=_.findAllByState("combo",this.selectedState);_.emit("nodeselectchange",{target:l,selectedItems:{nodes:R,combos:L},select:!1})}else I.call(this,e)&&_.setItemState(l,this.selectedState,!0),R=_.findAllByState("node",this.selectedState),L=_.findAllByState("combo",this.selectedState),_.emit("nodeselectchange",{target:l,selectedItems:{nodes:R,combos:L},select:!0})}}},onCanvasClick:function(){var e=this,t=this.graph,l=t.findAllByState("node",this.selectedState);h()(l,function(w){t.setItemState(w,e.selectedState,!1)});var g=t.findAllByState("combo",this.selectedState);h()(g,function(w){t.setItemState(w,e.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},Pt=s(16);Pt.translate=function(S,e,t){var l=new Array(9);return Pt.fromTranslation(l,t),Pt.multiply(S,l,e)},Pt.rotate=function(S,e,t){var l=new Array(9);return Pt.fromRotation(l,t),Pt.multiply(S,l,e)},Pt.scale=function(S,e,t){var l=new Array(9);return Pt.fromScaling(l,t),Pt.multiply(S,l,e)},Pt.transform=function(S,e){for(var t=[].concat(S),l=0,g=e.length;l<g;l++){var w=e[l];switch(w[0]){case"t":Pt.translate(t,t,[w[1],w[2]]);break;case"s":Pt.scale(t,t,[w[1],w[2]]);break;case"r":Pt.rotate(t,t,w[1])}}return t};var Xt=Pt,Ut=s(26),ct=s(0);Ut.angle=function(S,e){var t=Ut.dot(S,e)/(Ut.length(S)*Ut.length(e));return Math.acos(Object(ct.clamp)(t,-1,1))},Ut.direction=function(S,e){return S[0]*e[1]-e[0]*S[1]},Ut.angleTo=function(S,e,t){var l=Ut.angle(S,e),g=Ut.direction(S,e)>=0;return t?g?2*Math.PI-l:l:g?l:2*Math.PI-l},Ut.vertical=function(S,e,t){return t?(S[0]=e[1],S[1]=-1*e[0]):(S[0]=-1*e[1],S[1]=e[0]),S};var re=Ut,ve=s(131),pe=function(e,t){var l=e?Object(ct.clone)(e):[1,0,0,0,1,0,0,0,1];return Object(ct.each)(t,function(g){switch(g[0]){case"t":Xt.translate(l,l,[g[1],g[2]]);break;case"s":Xt.scale(l,l,[g[1],g[2]]);break;case"r":Xt.rotate(l,l,g[1]);break;case"m":Xt.multiply(l,l,g[1]);break;default:return!1}}),l},Me={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,l=t[0],g=t[1];e.preventDefault(),g&&(this.startPoint={pageX:l.pageX,pageY:l.pageY},this.moveable=!0,g&&(this.endPoint={pageX:g.pageX,pageY:g.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(e){if(this.moveable){e.preventDefault();var t=e.originalEvent.touches,l=t[0],g=t[1];if(g){this.endPoint||(this.endPoint={pageX:g.pageX,pageY:g.pageY});var w=function(R,L){return Math.hypot(L.x-R.x,L.y-R.y)},_=w({x:l.pageX,y:l.pageY},{x:g.pageX,y:g.pageY})/w({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),k=this.originScale*_;this.currentScale=k;var P=this.get("minZoom")||this.graph.get("minZoom");if(!(k>(this.get("maxZoom")||this.graph.get("maxZoom"))||k<P)){var I=this.graph.get("canvas").getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(k,{x:I.x,y:I.y}),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,l=this.graph,g=this.fixSelectedItems;if(this.shouldUpdate.call(this,e)){e.preventDefault();var w,_=l.get("canvas").getPointByClient(e.clientX,e.clientY),k=this.get("sensitivity"),P=l.getZoom();w=P*(e.wheelDelta<0?1-.05*k:1/(1-.05*k));var I=this.get("minZoom")||l.get("minZoom");if(!(w>(this.get("maxZoom")||l.get("maxZoom"))||w<I)){if(this.get("enableOptimize")){var N=this.get("optimizeZoom"),R=this.get("optimized"),L=l.getNodes(),F=l.getEdges(),z=L.length,q=F.length;if(!R){for(var nt=0;nt<z;nt++)if(!(Gt=L[nt]).destroyed)for(var et=(Ae=Gt.get("group").get("children")).length,st=0;st<et;st++)(se=Ae[st]).destoryed||se.get("isKeyShape")||se.hide();for(var dt=0;dt<q;dt++)for(et=(Ae=(Wn=F[dt]).get("group").get("children")).length,st=0;st<et;st++)(se=Ae[st]).hide();this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Ot=setTimeout(function(){var xr=l.getZoom();if(t.get("optimized")){t.set("optimized",!1);for(var Ir=0;Ir<z;Ir++){var Ye=L[Ir],pr=(cr=Ye.get("group").get("children")).length;if(xr<N)Ye.getKeyShape().show();else for(var Yn=0;Yn<pr;Yn++)(Mr=cr[Yn]).get("visible")||Mr.show()}for(var wr=0;wr<q;wr++){var cr,Tr=F[wr];if(pr=(cr=Tr.get("group").get("children")).length,xr<N)Tr.getKeyShape().show();else for(Yn=0;Yn<pr;Yn++){var Mr;(Mr=cr[Yn]).get("visible")||Mr.show()}}}},500);this.set("timeout",Ot)}if(P<=1){var bt=void 0,mt=void 0;if(g.fixAll||g.fixLineWidth||g.fixLabel){bt=l.findAllByState("node",g.fixState),mt=l.findAllByState("edge",g.fixState);for(var Tt=P/w,Dt=bt.length,Yt=0;Yt<Dt;Yt++){var Gt,Kt=(Gt=bt[Yt]).getContainer(),Zt=Gt.getModel(),Wt=Gt.getOriginStyle(),ee=Gt.getStateStyle(g.fixState),Qt=Gt.get("shapeFactory").getShape(Zt.shape||Zt.type).getStateStyle(g.fixState,Gt)[g.fixState];if(g.fixAll){if(w<=1){var ue=Object(ct.clone)(Kt.getMatrix());ue||(ue=[1,0,0,0,1,0,0,0,1]);var ae=Gt.getModel(),he=ae.x,Jt=ae.y;Xt.translate(ue,ue,[-he,-Jt]),Xt.scale(ue,ue,[Tt,Tt]),Xt.translate(ue,ue,[he,Jt]),Kt.setMatrix(ue)}}else for(et=(Ae=Kt.get("children")).length,st=0;st<et;st++){var se=Ae[st],me=void 0,Pe=void 0;if(g.fixLabel&&se.get("type")==="text"){me=se.attr("fontSize")||12;var Ce=ee[se.get("name")],Ve=Qt[se.get("name")],Fe=Ce?Ce.fontSize:12,sr=Ve?Ve.fontSize:12,ur=Fe||sr||12;if(w<=1&&se.attr("fontSize",ur/w),Pe)break}if(g.fixLineWidth&&se.get("isKeyShape")){Pe=se.attr("lineWidth")||0;var qn=ee.lineWidth||Qt.lineWidth||Wt.lineWidth||0;if(w<=1&&se.attr("lineWidth",qn/w),me)break}}}for(var Oo=mt.length,dr=0;dr<Oo;dr++){var Wn,Ae=(Kt=(Wn=mt[dr]).getContainer()).get("children");for(Zt=Wn.getModel(),ee=Wn.getStateStyle(g.fixState),Qt=Wn.get("shapeFactory").getShape(Zt.shape||Zt.type).getStateStyle(g.fixState,Wn)[g.fixState],et=Ae.length,st=0;st<et&&(se=Ae[st],me=void 0,Pe=void 0,!((g.fixLabel||g.fixAll)&&se.get("type")==="text"&&(me=se.attr("fontSize")||12,Ce=ee[se.get("name")],Ve=Qt[se.get("name")],Fe=Ce?Ce.fontSize:12,sr=Ve?Ve.fontSize:12,ur=Fe||sr||12,w<=1&&se.attr("fontSize",ur/w),Pe)||(g.fixLineWidth||g.fixAll)&&se.get("isKeyShape")&&(Pe=se.attr("lineWidth")||0,qn=ee.lineWidth||Qt.lineWidth||1,w<=1&&se.attr("lineWidth",qn/w),me)));st++);}}}l.zoomTo(w,{x:_.x,y:_.y}),l.emit("wheelzoom",e)}}}},ge=s(5),ce=s.n(ge),ye=s(8),be=s.n(ye),Oe={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){this.shouldUpdate(e)?this.currentTarget&&e.item===this.currentTarget&&this.updatePosition(e):this.hideTooltip()},onMouseLeave:function(e){this.shouldEnd(e)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(e.item&&!e.item.destroyed){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var l=this.formatText(e.item.get("model"),e);t.innerHTML=l,ce()(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){ce()(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),l=this.width,g=this.height,w=this.container,_=this.graph;if(t(e)){var k=_.getPointByClient(e.clientX,e.clientY),P=_.getCanvasByPoint(k.x,k.y),I=P.x,N=P.y,R=w.getBoundingClientRect();I>l/2?I-=R.width:I+=this.offset,N>g/2?N-=R.height:N+=this.offset;var L=I+"px",F=N+"px";ce()(this.container,{left:L,top:F,visibility:"visible"})}else ce()(w,{visibility:"hidden"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var l=be()('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(l),ce()(l,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=l,this.graph.get("tooltips").push(l),l}},Xe=Object(T.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Oe),Ie=Object(T.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Oe),De=s(12),we=s.n(De),Be={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(e){var t=this.graph,l=e.target.get("groupId");if(l){var g=t.get("customGroupControll"),w=g.customGroup,_=w[l].nodeGroup;this.targetGroup=_,this.mouseOrigin={x:e.x,y:e.y};for(var k=t.save().groups,P=null,I=0;I<k.length;I++){var N=k[I];if(l===N.id){P=N.parentId;break}}if(P){var R=w[P].nodeGroup;g.setGroupStyle(R.get("keyShape"),"hover")}}},onDrag:function(e){this.mouseOrigin&&this.updateDelegate(e)},onDragEnd:function(e){var t=this.graph,l=e.target.get("groupId");if(this.delegateShapes[l]&&(this.delegateShapeBBox=this.delegateShapes[l].getBBox(),this.delegateShapes[l].remove(),delete this.delegateShapes[l]),this.delegateShapeBBox){var g=t.get("customGroupControll"),w=this.delegateShapeBBoxs[l];g.updateGroup(l,w,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,g.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(e){var t=this.graph,l=e.target.get("groupId"),g=this.targetGroup.get("keyShape"),w=this.delegateShapes[l],_=g.getBBox(),k=g.get("type");if(w){var P=this.mouseOrigin,I=this.shapeOrigin,N=e.x-P.x,R=e.y-P.y,L=N+I.x,F=R+I.y;w.attr({x:L,y:F}),this.delegateShapeBBoxs[l]=w.getBBox()}else{var z=t.get("delegateGroup"),q=_.x,nt=_.y,et=_.width,st=_.height,dt=Object(T.__assign)({width:et,height:st},we()({},tt.delegateStyle,this.delegateStyle));if(k==="circle"){var Ot=et>st?et/2:st/2,bt=q+Ot,mt=nt+Ot;w=z.addShape("circle",{attrs:Object(T.__assign)({x:bt,y:mt,r:Ot},dt),name:"circle-delegate-shape"}),this.shapeOrigin={x:bt,y:mt}}else w=z.addShape("rect",{attrs:Object(T.__assign)({x:q,y:nt},dt),name:"rect-delegate-shape"}),this.shapeOrigin={x:q,y:nt};this.delegateShapes[l]=w,this.delegateShapeBBoxs[l]=w.getBBox()}},onOutOfRange:function(e){var t=this,l=this.graph.get("canvas").get("el"),g=function w(_){_.target!==l&&(t.onDragEnd(e),document.body.removeEventListener("mouseup",w,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",g,!0)}},He=document.body,We={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(e){var t=this.graph,l=e.target.get("groupId");if(l&&this.origin){var g=t.get("customGroupControll"),w=g.getDeletageGroupById(l);if(w){var _=w.nodeGroup.get("keyShape");this.inGroupId=l,g.setGroupStyle(_,"hover")}}},onDragLeave:function(e){var t=this.graph,l=e.target.get("groupId");if(l&&this.origin){var g=t.get("customGroupControll"),w=g.getDeletageGroupById(l);if(w){var _=w.nodeGroup.get("keyShape");g.setGroupStyle(_,"default")}}l||(this.inGroupId=null)},onDragStart:function(e){var t=this.graph;if(this.shouldBegin.call(this,e)){var l=e.item;this.target=l;var g=l.getModel().groupId;if(g){var w=t.get("customGroupControll"),_=w.getDeletageGroupById(g);if(_){var k=_.nodeGroup.get("keyShape");w.setGroupStyle(k,"hover"),this.inGroupId=g}}this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}},onDrag:function(e){if(this.origin&&this.get("shouldUpdate").call(this,e)){this.update(this.target,e,!0);var t=e.item,l=this.graph,g=t.getModel().groupId;if(g){var w=l.get("customGroupControll"),_=w.getDeletageGroupById(g);if(_){var k=_.nodeGroup.get("keyShape");this.inGroupId!==g?w.setGroupStyle(k,"default"):w.setGroupStyle(k,"hover")}}}},onDragEnd:function(e){if(this.origin&&this.shouldEnd.call(this,e)){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,e),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(e)}},setCurrentGroupStyle:function(e){var t=this.graph,l=e.item,g=l.getModel(),w=g.groupId,_=g.id,k=t.get("customGroupControll"),P=k.customGroup,I=t.get("groupNodes");if(this.inGroupId&&w){if(!(mt=P[w].nodeGroup))return;var N=mt.get("keyShape"),R=l.getBBox(),L=N.getBBox(),F=R.centerX,z=R.centerY,q=L.minX,nt=L.minY,et=L.maxX,st=L.maxY;if(!(F<et*this.maxMultiple&&F>q*this.minMultiple&&z<st*this.maxMultiple&&z>nt*this.minMultiple)||this.inGroupId!==w){var dt=I[w];I[w]=dt.filter(function(Tt){return Tt!==_}),k.dynamicChangeGroupSize(e,mt,N),delete g.groupId}if(this.inGroupId!==w){if(!(bt=P[this.inGroupId].nodeGroup))return;var Ot=bt.get("keyShape");I[this.inGroupId].indexOf(_)===-1&&I[this.inGroupId].push(_),g.groupId=this.inGroupId,k.dynamicChangeGroupSize(e,bt,Ot)}k.setGroupStyle(N,"default")}else if(this.inGroupId&&!w){var bt;if(!(bt=P[this.inGroupId].nodeGroup))return;N=bt.get("keyShape"),I[this.inGroupId].indexOf(_)===-1&&I[this.inGroupId].push(_),g.groupId=this.inGroupId,k.dynamicChangeGroupSize(e,bt,N)}else if(!this.inGroupId&&w){var mt;if(Object.keys(I).forEach(function(Tt){var Dt=I[Tt];I[Tt]=Dt.filter(function(Yt){return Yt!==_})}),!(mt=P[w].nodeGroup))return;N=mt.get("keyShape"),k.dynamicChangeGroupSize(e,mt,N),delete g.groupId}this.inGroupId=null},onOutOfRange:function(e){var t=this,l=t.graph.get("canvas").get("el");t.origin&&He.addEventListener("mouseup",function g(w){w.target!==l&&(e.item=t.target,t.onDragEnd(e),document.body.removeEventListener("mouseup",g,!0))},!0)},update:function(e,t,l){var g=this.origin,w=e.get("model"),_=e.get("id");this.point[_]||(this.point[_]={x:w.x,y:w.y});var k=t.x-g.x+this.point[_].x,P=t.y-g.y+this.point[_].y;if(l)this.updateDelegate(t,k,P);else{var I={x:k,y:P};this.get("updateEdge")?this.graph.updateItem(e,I):(e.updatePosition(I),this.graph.paint())}},updateDelegate:function(e,t,l){var g=this.graph,w=e.item,_=g.get("groupType"),k=w.get("keyShape").getBBox();if(!this.shape){var P=g.get("delegateGroup"),I=we()({},tt.delegateStyle,this.delegateStyle);this.target&&(this.shape=P.addShape("rect",{attrs:Object(T.__assign)({width:k.width,height:k.height,x:t-k.width/2,y:l-k.height/2},I),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(_==="circle"?this.shape.attr({x:t-k.width/2,y:l-k.height/2}):_==="rect"&&this.shape.attr({x:t,y:l}))}},Re=["click","dblclick"],sn={getDefaultCfg:function(){return{trigger:"dblclick"}},getEvents:function(){var e,t;return Re.includes(this.trigger)?t=this.trigger:(t="dblclick",console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),(e={})[""+t]="onGroupClick",e},onGroupClick:function(e){var t=e.target,l=this.graph,g=t.get("groupId");g&&l.get("customGroupControll").collapseExpandGroup(g)}},en=["click","dblclick"],Ue={getDefaultCfg:function(){return{trigger:"click",onChange:function(){}}},getEvents:function(){var e,t;return en.includes(this.trigger)?t=this.trigger:(t="click",console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),(e={})["node:"+t]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item,l=this.graph.findDataById(t.get("id"));if(l){var g=l.children;if(g&&g.length!==0){var w=!l.collapsed;if(this.shouldBegin(e,w)&&(l.collapsed=w,t.getModel().collapsed=w,this.graph.emit("itemcollapsed",{item:e.item,collapsed:w}),this.shouldUpdate(e,w))){try{this.onChange(t,w)}catch(_){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",_)}this.graph.layout()}}}}},Dn=function S(e,t){if(t(e)!==!1&&e){var l=e.get("combos");if(l.length===0)return!1;Object(v.each)(l,function(g){S(g,t)})}},yn={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;return!(!t||t.destroyed)&&!!this.shouldUpdate(this,e)&&t.getType()==="combo"},onDragStart:function(e){var t=this,l=this.graph,g=e.item;if(this.validationCombo(e)){this.targets=[];var w=l.findAllByState("combo",this.selectedState),_=g.get("id");w.filter(function(k){var P=k.get("id");return _===P}).length===0?this.targets.push(g):this.targets=w,this.activeState&&this.targets.map(function(k){var P=k.getModel();if(P.parentId){var I=l.findById(P.parentId);I&&l.setItemState(I,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],Dn(g,function(k){if(k.destroyed)return!1;var P=k.getModel();return t.currentItemChildCombos.push(P.id),!0})}},onDrag:function(e){var t=this;if(this.origin&&this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var l=this.graph,g=e.item,w=g.getModel(),_=l.getCombos(),k=g.getBBox(),P=k.centerX,I=k.centerY,N=k.width;_.filter(function(R){var L=R.getModel();return w.parentId,L.id!==w.id&&!t.currentItemChildCombos.includes(L.id)}).map(function(R){var L=R.getBBox(),F=L.centerX,z=L.centerY,q=L.width,nt=P-F,et=I-z,st=2*Math.sqrt(nt*nt+et*et);N+q-st>.8*N?l.setItemState(R,t.activeState,!0):l.setItemState(R,t.activeState,!1)})}Object(v.each)(this.targets,function(R){t.updateCombo(R,e)})}},updatePositions:function(e){var t=this;this.enableDelegate&&Object(v.each)(this.targets,function(l){t.updateCombo(l,e)})},onDrop:function(e){var t=this,l=e.item;if(l&&this.targets&&!l.destroyed){this.updatePositions(e);var g=this.graph,w=l.getModel();this.targets.map(function(_){_.getModel().parentId!==w.id?(t.activeState&&g.setItemState(l,t.activeState,!1),t.onlyChangeComboSize?g.updateCombo(_):g.updateComboTree(_,w.id)):g.updateCombo(l)}),this.end(l,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(this.targets&&this.targets.length!==0){this.updatePositions(e);var l,g=this.graph,w=e.item.getModel().comboId;if(w){if(this.activeState){var _=g.findById(w);g.setItemState(_,this.activeState,!1)}this.targets.map(function(k){t.onlyChangeComboSize?g.updateCombo(k):w!==k.getID()&&(l=g.findById(w),w!==k.getModel().parentId&&g.updateComboTree(k,w))})}else this.targets.map(function(k){t.onlyChangeComboSize?g.updateCombo(k):k.getModel().comboId&&g.updateComboTree(k)});this.endComparison=!0,this.end(l,e)}},onDragEnter:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,l=this.graph;this.activeState&&l.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(this.origin&&this.validationCombo(e)){var t=e.item,l=this.graph;this.activeState&&l.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(this.targets&&this.targets.length!==0){var t=e.item;this.updatePositions(e);var l=this.getParentCombo(t.getModel().parentId),g=this.graph;l&&this.activeState&&g.setItemState(l,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var l=this;if(this.origin){var g=this.graph;this.delegateShape&&(g.get("delegateGroup").clear(),this.delegateShape=null),e&&this.activeState&&g.setItemState(e,this.activeState,!1),e||this.targets.map(function(w){l.onlyChangeComboSize?g.updateCombo(w):g.updateComboTree(w)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t){var l=this;if(t(e)!==!1&&e){var g=e.get("combos");Object(v.each)(g,function(_){l.traverse(_,t)});var w=e.get("nodes");Object(v.each)(w,function(_){l.traverse(_,t)})}},updateCombo:function(e,t){var l=this;this.traverse(e,function(g){return!g.destroyed&&(l.updateSignleItem(g,t),!0)})},updateSignleItem:function(e,t){var l=this.origin,g=this.graph,w=e.getModel(),_=e.get("id");this.point[_]||(this.point[_]={x:w.x,y:w.y});var k=t.x-l.x+this.point[_].x,P=t.y-l.y+this.point[_].y;g.updateItem(e,{x:k,y:P})},getParentCombo:function(e){var t=this.graph;if(e){var l=t.findById(e);if(l)return l}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var l=e.x-this.origin.x+this.originPoint.minX,g=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:l,y:g})}else{var w=t.get("delegateGroup"),_=null,k=(_=this.targets.length>1?$(this.targets):this.targets[0].getBBox()).x,P=_.y,I=_.width,N=_.height,R=_.minX,L=_.minY;this.originPoint={x:k,y:P,width:I,height:N,minX:R,minY:L};var F=Object(T.__assign)(Object(T.__assign)({},tt.delegateStyle),this.delegateStyle);this.delegateShape=w.addShape("rect",{attrs:Object(T.__assign)({width:_.width,height:_.height,x:_.x,y:_.y},F),name:"combo-delegate-shape"})}}},Ge=["click","dblclick"],An={getDefaultCfg:function(){return{trigger:"dblclick",relayout:!0}},getEvents:function(){var e,t;return Ge.includes(this.trigger)?t=this.trigger:(t="dblclick",console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),(e={})["combo:"+t]="onComboClick",e},onComboClick:function(e){var t=e.item,l=this.graph,g=this.relayout;if(t&&!t.destroyed&&t.getType()==="combo"){var w=t.getModel().id;w&&(l.collapseExpandCombo(w),g&&l.get("layout")?l.layout():l.refreshPositions())}}},Cn=function(e,t,l){return e>=t&&e<=l},nn=function(e,t,l,g){var w=l.x-e.x,_=l.y-e.y,k=t.x-e.x,P=t.y-e.y,I=g.x-l.x,N=g.y-l.y,R=k*N-P*I,L=null;if(R*R>.001*(k*k+P*P)*(I*I+N*N)){var F=(w*N-_*I)/R,z=(w*P-_*k)/R;Cn(F,0,1)&&Cn(z,0,1)&&(L={x:e.x+F*k,y:e.y+F*P})}return L},jn=function(e,t){var l=e.x,g=e.y,w=e.width,_=e.height,k=[],P={x:l+w/2,y:g+_/2};k.push({x:l,y:g}),k.push({x:l+w,y:g}),k.push({x:l+w,y:g+_}),k.push({x:l,y:g+_}),k.push({x:l,y:g});for(var I=null,N=1;N<k.length&&!(I=nn(k[N-1],k[N],P,t));N++);return I},bn=function(e,t){var l=e.x,g=e.y,w=e.r,_=t.x-l,k=t.y-g;if(Math.sqrt(_*_+k*k)<w)return null;var P=Math.sign(_),I=Math.sign(k),N=Math.atan(k/_);return{x:l+Math.abs(w*Math.cos(N))*P,y:g+Math.abs(w*Math.sin(N))*I}},xn=function(e,t){var l=e.rx,g=e.ry,w=e.x,_=e.y,k=t.x-w,P=t.y-_,I=Math.atan2(P/g,k/l);return I<0&&(I+=2*Math.PI),{x:w+l*Math.cos(I),y:_+g*Math.sin(I)}},rn=function(e,t,l){l===void 0&&(l=1);var g=[e.x,e.y,l];return t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]),ve.transformMat3(g,g,t),{x:g[0],y:g[1]}},Ze=function(e,t,l){l===void 0&&(l=1),t&&!isNaN(t[0])||(t=[1,0,0,0,1,0,0,0,1]);var g=Xt.invert([],t);g||(g=[1,0,0,0,1,0,0,0,1]);var w=[e.x,e.y,l];return ve.transformMat3(w,w,g),{x:w[0],y:w[1]}},un=function(e,t,l){var g=e.x-t.x,w=e.y-t.y,_=e.x-l.x,k=e.y-l.y,P=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,I=(e.x*e.x-l.x*l.x-l.y*l.y+e.y*e.y)/2,N=w*_-g*k;return{x:-(k*P-w*I)/N,y:-(g*I-_*P)/N}},on=function(e,t){var l=e.x-t.x,g=e.y-t.y;return Math.sqrt(l*l+g*g)},cn=function(e,t){var l=[];return e.forEach(function(g){var w=[];g.forEach(function(_){w.push(_*t)}),l.push(w)}),l},Le=function(e){for(var t=[],l=e.length,g=0;g<l;g+=1){t[g]=[];for(var w=0;w<l;w+=1)g===w?t[g][w]=0:e[g][w]!==0&&e[g][w]?t[g][w]=e[g][w]:t[g][w]=1/0}for(var _=0;_<l;_+=1)for(g=0;g<l;g+=1)for(w=0;w<l;w+=1)t[g][w]>t[g][_]+t[_][w]&&(t[g][w]=t[g][_]+t[_][w]);return t},pn=function(e,t){var l=e.nodes,g=e.edges,w=[],_={};if(!l)throw new Error("invalid nodes data!");return l&&l.forEach(function(k,P){_[k.id]=P,w.push([])}),g&&g.forEach(function(k){var P=k.source,I=k.target,N=_[P],R=_[I];w[N][R]=1,t||(w[R][N]=1)}),w},Ke=function(e,t){e.translate(t.x,t.y)},an=function(e,t){var l=e.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]);var g=e.getCanvasBBox(),w=t.x-g.minX,_=t.y-g.minY,k=pe(l,[["t",w,_]]);e.setMatrix(k)},wn=function(e,t){var l=e.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]);var g=t;M()(t)||(g=[t,t]),M()(t)&&t.length===1&&(g=[t[0],t[0]]),l=pe(l,[["s",g[0],g[1]]]),e.setMatrix(l)},hn=function(e,t){var l=e.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),l=pe(l,[["r",t]]),e.setMatrix(l)},In=function(e,t,l){for(var g=[],w=0;w<e;w++)g[w]=0;return l.forEach(function(_){_.source&&(g[t[_.source]]+=1),_.target&&(g[t[_.target]]+=1)}),g};function Qn(S,e,t){return(t[0]-S[0])*(e[1]-S[1])==(e[0]-S[0])*(t[1]-S[1])&&Math.min(S[0],e[0])<=t[0]&&t[0]<=Math.max(S[0],e[0])&&Math.min(S[1],e[1])<=t[1]&&t[1]<=Math.max(S[1],e[1])}var ln=function(e,t,l){var g=!1,w=e.length;function _(N){return Math.abs(N)<1e-6?0:N<0?-1:1}if(w<=2)return!1;for(var k=0;k<w;k++){var P=e[k],I=e[(k+1)%w];if(Qn(P,I,[t,l]))return!0;_(P[1]-l)>0!=_(I[1]-l)>0&&_(t-(l-P[1])*(P[0]-I[0])/(P[1]-I[1])-P[0])<0&&(g=!g)}return g},Mn=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},Jn=function(e,t){var l=function(L){var F=L.map(function(q){return q[0]}),z=L.map(function(q){return q[1]});return{minX:Math.min.apply(null,F),maxX:Math.max.apply(null,F),minY:Math.min.apply(null,z),maxY:Math.max.apply(null,z)}},g=function(L){for(var F=[],z=L.length,q=0;q<z-1;q++){var nt=L[q],et=L[q+1];F.push({from:{x:nt[0],y:nt[1]},to:{x:et[0],y:et[1]}})}if(F.length>1){var st=L[0],dt=L[z-1];F.push({from:{x:dt[0],y:dt[1]},to:{x:st[0],y:st[1]}})}return F};if(e.length<2||t.length<2)return!1;var w=l(e),_=l(t);if(!Mn(w,_))return!1;var k=!1;if(Object(ct.each)(t,function(R){if(ln(e,R[0],R[1]))return k=!0,!1}),k||(Object(ct.each)(e,function(R){if(ln(t,R[0],R[1]))return k=!0,!1}),k))return!0;var P=g(e),I=g(t),N=!1;return Object(ct.each)(I,function(R){if(function(L,F){var z=!1;return Object(ct.each)(L,function(q){if(nn(q.from,q.to,F.from,F.to))return z=!0,!1}),z}(P,R))return N=!0,!1}),N},Sn=function(){function S(e,t,l,g){this.x1=e,this.y1=t,this.x2=l,this.y2=g}return S.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),l=Math.max(this.x1,this.x2),g=Math.max(this.y1,this.y2);return{x:e,y:t,minX:e,minY:t,maxX:l,maxY:g,width:l-e,height:g-t}},S}(),tr=function(e,t){return{top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]}[t]},kr=function(e,t){var l=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),g=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),w=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(w){var _=l/w,k=g/w;if(_>=0&&_<=1&&k>=0&&k<=1)return _}return Number.POSITIVE_INFINITY},hr=function(e,t){for(var l=["top","left","bottom","right"],g=e.getBBox(),w=0,_=[],k=0;k<4;k++){var P=tr(g,l[k]),I=P[0],N=P[1],R=P[2],L=P[3];_[k]=nn({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:I,y:N},{x:R,y:L}),_[k]&&(w+=1)}return[_,w]},er=function(e,t){for(var l=["top","left","bottom","right"],g=e.getBBox(),w=Number.POSITIVE_INFINITY,_=0,k=0;k<4;k++){var P=tr(g,l[k]),I=P[0],N=P[1],R=P[2],L=P[3],F=kr(t,new Sn(I,N,R,L));(F=Math.abs(F-.5))>=0&&F<=1&&(_+=1,w=F<w?F:w)}return _===0?-1:w},gr=function(e){var t=0,l=0;if(e.length>0){for(var g=0,w=e;g<w.length;g++){var _=w[g];t+=_.x,l+=_.y}t/=e.length,l/=e.length}return{x:t,y:l}},nr=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},lr=function(e,t){var l,g=t.x1,w=t.y1,_=t.x2-g,k=t.y2-w,P=e.x-g,I=e.y-w,N=P*_+I*k;l=N<=0||(N=(P=_-P)*_+(I=k-I)*k)<=0?0:N*N/(_*_+k*k);var R=P*P+I*I-l;return R<0&&(R=0),R},xe=function(e,t,l){return l===void 0&&(l=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(l,2)},oe=function(e,t){var l=e.x<t.x,g=e.x>t.x+t.width,w=e.y>t.y+t.height,_=e.y<t.y;if(!(l||g||w||_))return 0;if(w&&!l&&!g)return Math.pow(t.y+t.height-e.y,2);if(_&&!l&&!g)return Math.pow(e.y-t.y,2);if(l&&!w&&!_)return Math.pow(t.x-e.x,2);if(g&&!w&&!_)return Math.pow(t.x+t.width-e.x,2);var k=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),P=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return k*k+P*P};function Mt(S,e){for(var t=[],l=0,g=S.length;g-2*!e>l;l+=2){var w=[{x:+S[l-2],y:+S[l-1]},{x:+S[l],y:+S[l+1]},{x:+S[l+2],y:+S[l+3]},{x:+S[l+4],y:+S[l+5]}];e?l?g-4===l?w[3]={x:+S[0],y:+S[1]}:g-2===l&&(w[2]={x:+S[0],y:+S[1]},w[3]={x:+S[2],y:+S[3]}):w[0]={x:+S[g-2],y:+S[g-1]}:g-4===l?w[3]=w[2]:l||(w[0]={x:+S[l],y:+S[l+1]}),t.push(["C",(-w[0].x+6*w[1].x+w[2].x)/6,(-w[0].y+6*w[1].y+w[2].y)/6,(w[1].x+6*w[2].x-w[3].x)/6,(w[1].y+6*w[2].y-w[3].y)/6,w[2].x,w[2].y])}return t}s(95);var it=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,yt=new RegExp("([a-z])["+it+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+it+"]*,?["+it+"]*)+)","ig"),jt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+it+"]*,?["+it+"]*","ig");function Ht(S){if(!S)return null;if(M()(S))return S;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(S).replace(yt,function(l,g,w){var _=[],k=g.toLowerCase();if(w.replace(jt,function(P,I){I&&_.push(+I)}),k==="m"&&_.length>2&&(t.push([g].concat(_.splice(0,2))),k="l",g=g==="m"?"l":"L"),k==="o"&&_.length===1&&t.push([g,_[0]]),k==="r")t.push([g].concat(_));else for(;_.length>=e[k]&&(t.push([g].concat(_.splice(0,e[k]))),e[k]););return""}),t}s(67),s(68);var ne=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,function(l,g){if(l.charAt(0)==="\\")return l.slice(1);var w=t[g];return w===0&&(w="0"),w||""}):e},le=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's "+e.length);for(var l=0,g=e;l<g.length;l++){var w=g[l],_=w.x,k=w.y;t.push(_),t.push(k)}var P=Mt(t);return P.unshift(["M",e[0].x,e[0].y]),P},fe=function(e,t,l,g){l===void 0&&(l=0),g===void 0&&(g=0);var w={x:(1-l)*e.x+l*t.x,y:(1-l)*e.y+l*t.y},_=[];re.normalize(_,[t.x-e.x,t.y-e.y]),_.length===0&&(_=[0,0]);var k=[-_[1]*g,_[0]*g];return w.x+=k[0],w.y+=k[1],w},qt=function(e,t){var l=e.length;if(!l)return"";for(var g="",w=0;w<l;w++){var _=e[w];g+=ne(w===0?"M{x} {y}":"L{x} {y}",_)}return t&&(g+="Z"),g},wt=function(e){var t=[];return e.forEach(function(l){if(l[0]!=="A")for(var g=1;g<l.length;g+=2)t.push([l[g],l[g+1]]);else{var w=l.length;t.push([l[w-2],l[w-1]])}}),t},Lt=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's "+e.length);var t=e[0],l=e[1],g=e[e.length-1],w=e[e.length-2];e.unshift(g),e.unshift(w),e.push(t),e.push(l);for(var _=[],k=1;k<e.length-2;k+=1){var P=e[k-1].x,I=e[k-1].y,N=e[k].x,R=e[k].y,L=e[k+1].x,F=e[k+1].y,z=N+(L-P)/6,q=R+(F-I)/6,nt=L-((k!==e.length-2?e[k+2].x:L)-N)/6,et=F-((k!==e.length-2?e[k+2].y:F)-R)/6;_.push(["C",z,q,nt,et,L,F])}return _.unshift(["M",g.x,g.y]),_},Vt=function(e,t){return re.scale([],re.normalize([],e),t)},$t=function(e,t){var l=[e[1]-t[1],t[0]-e[0]],g=Math.sqrt(l[0]*l[0]+l[1]*l[1]);if(g===0)throw new Error("p0 should not be equal to p1");return[l[0]/g,l[1]/g]},ie=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function de(S,e){if(!S||S.length<1)return"";if(S.length===1)return function(P){var I=[P[0][0],P[0][1]-e],N=[P[0][0],P[0][1]+e];return"M "+I+" A "+e+","+e+",0,0,0,"+N+" A "+e+","+e+",0,0,0,"+I}(S);if(S.length===2)return function(P){var I=re.scale([],$t(P[0],P[1]),e),N=re.scale([],I,-1),R=re.add([],P[0],I),L=re.add([],P[1],I),F=re.add([],P[1],N),z=re.add([],P[0],N);return"M "+R+" L "+L+" A "+[e,e,"0,0,0",F].join(",")+" L "+z+" A "+[e,e,"0,0,0",R].join(",")}(S);for(var t=new Array(S.length),l=0;l<t.length;++l){var g=l===0?S[S.length-1]:S[l-1],w=S[l],_=re.scale([],$t(g,w),e);t[l]=[re.add([],g,_),re.add([],w,_)]}var k="A "+[e,e,"0,0,0,"].join(",");return(t=t.map(function(P,I){var N="";return I===0&&(N="M "+t[t.length-1][1]+" "),N+=k+P[0]+" L "+P[1]})).join(" ")}function ke(S,e){var t,l,g,w=S.length;if(!S||w<1)return"";if(w===1)return l=[(t=S)[0][0],t[0][1]-e],g=[t[0][0],t[0][1]+e],"M "+l+" A "+[e,e,"0,0,0",g].join(",")+" A "+[e,e,"0,0,0",l].join(",");if(w===2)return function(N){var R=ie(N[0],N[1]),L=Vt(R,e),F=re.add([],N[0],re.scale([],L,-1)),z=re.add([],N[1],L),q=1.2*e,nt=Vt(re.normalize([],R),q),et=re.scale([],nt,-1),st=re.add([],F,et),dt=re.add([],z,et),Ot=re.add([],F,nt);return"M "+F+" C "+[st,dt,z].join(",")+" S "+[Ot,F].join(",")+" Z"}(S);for(var _=S.map(function(N,R){var L=S[(R+1)%w];return{p:N,v:re.normalize([],ie(N,L))}}),k=0;k<_.length;++k){var P=k>0?k-1:w-1,I=re.normalize([],re.add([],_[P].v,re.scale([],_[k].v,-1)));_[k].p=re.add([],_[k].p,re.scale([],I,e))}return _.map(function(N){var R=N.p;return{x:R[0],y:R[1]}})}var Te=["drag","shift","ctrl","alt","control"],$e=["click","drag"],Ne=["shift","ctrl","control","alt","meta",void 0],_n=["shift","ctrl","alt","control"],Qe={"drag-canvas":ht,"zoom-canvas":Me,"drag-node":Q,"activate-relations":{getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(e){var t=e.item,l=this.graph;if(this.item=t,this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var g=this.activeState,w=this.inactiveState,_=l.getNodes(),k=l.getEdges(),P=_.length,I=k.length,N=0;N<P;N++){var R=_[N],L=R.hasState("selected");this.resetSelected&&L&&l.setItemState(R,"selected",!1),l.setItemState(R,g,!1),w&&l.setItemState(R,w,!0)}for(N=0;N<I;N++){var F=k[N];l.setItemState(F,g,!1),w&&l.setItemState(F,w,!0)}w&&l.setItemState(t,w,!1),l.setItemState(t,g,!0);var z=t.getEdges(),q=z.length;for(N=0;N<q;N++){var nt=void 0;nt=(F=z[N]).getSource()===t?F.getTarget():F.getSource(),w&&l.setItemState(nt,w,!1),l.setItemState(nt,g,!0),l.setItemState(F,w,!1),l.setItemState(F,g,!0),F.toFront()}l.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this.get("graph");if(this.shouldUpdate(e.item,{event:e,action:"deactivate"})){var l=this.activeState,g=this.inactiveState,w=t.get("autoPaint");t.setAutoPaint(!1);for(var _=t.getNodes(),k=t.getEdges(),P=_.length,I=k.length,N=0;N<P;N++){var R=_[N];t.clearItemStates(R,[l,g])}for(N=0;N<I;N++){var L=k[N];t.clearItemStates(L,[l,g,"deactivate"])}t.paint(),t.setAutoPaint(w),t.emit("afteractivaterelations",{item:e.item||this.get("item"),action:"deactivate"})}},clearAllItemStates:function(e){var t=this.graph;if(this.shouldUpdate(e.item,{event:e,action:"deactivate"})){for(var l=this.activeState,g=this.inactiveState,w=t.getNodes(),_=t.getEdges(),k=w.length,P=_.length,I=0;I<k;I++){var N=w[I];t.clearItemStates(N,[l,g])}for(I=0;I<P;I++){var R=_[I];t.clearItemStates(R,[l,g,"deactivate"])}t.emit("afteractivaterelations",{item:e.item||this.get("item"),action:"deactivate"})}}},"brush-select":Ft,"click-select":kt,"lasso-select":{getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Te.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso;e.item||(this.trigger==="drag"||this.keydown)&&(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){this.dragging&&(this.trigger==="drag"||this.keydown)&&(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){(this.lasso||this.dragging)&&(this.trigger==="drag"||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach(function(l,g){g===0?t.push(["M",l.x,l.y]):t.push(["L",l.x,l.y])}),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(){var e=this.graph,t=this.selectedState,l=e.findAllByState("node",t),g=e.findAllByState("edge",t);l.forEach(function(w){return e.setItemState(w,t,!1)}),g.forEach(function(w){return e.setItemState(w,t,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],e.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this.graph,l=this.shouldUpdate,g=this.points.map(function(I){return[t.getCanvasByPoint(I.x,I.y).x,t.getCanvasByPoint(I.x,I.y).y]}),w=this.selectedState,_=[],k=[];t.getNodes().forEach(function(I){if(function(R,L){var F,z=R.getKeyShape();if(R.get("type")==="path")F=wt(z.attr("path"));else{var q=z.getCanvasBBox();F=[[q.minX,q.minY],[q.maxX,q.minY],[q.maxX,q.maxY],[q.minX,q.maxY]]}return Jn(L,F)}(I,g)&&l(I,"select")){_.push(I);var N=I.getModel();k.push(N.id),t.setItemState(I,w,!0)}});var P=[];this.includeEdges&&_.forEach(function(I){I.getOutEdges().forEach(function(N){var R=N.getModel(),L=R.source,F=R.target;k.includes(L)&&k.includes(F)&&l(N,"select")&&(P.push(N),t.setItemState(N,e.selectedState,!0))})}),this.selectedEdges=P,this.selectedNodes=_,this.onSelect&&this.onSelect(_,P),t.emit("nodeselectchange",{selectedItems:{nodes:_,edges:P},select:!0})},createLasso:function(){var e=this.graph.get("delegateGroup").addShape("path",{attrs:Object(T.__assign)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=e,this.points=[],e},updateLasso:function(e){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},tooltip:Xe,"edge-tooltip":Ie,"drag-group":Be,"drag-node-with-group":We,"collapse-expand-group":sn,"collapse-expand":Ue,"drag-combo":yn,"collapse-expand-combo":An,"create-edge":{getDefaultCfg:function(){return{trigger:"click",key:void 0,edgeConfig:{}}},getEvents:function(){var e;return $e.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="click",console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),this.key&&Ne.indexOf(this.key.toLowerCase())===-1&&(this.trigger=void 0,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined")),this.trigger==="drag"?e={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:this.trigger==="click"&&(e={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),this.key&&(e.keydown="onKeyDown",e.keyup="onKeyUp"),e},onDragEnd:function(e){if(!this.key||this.keydown){var t=e.item;t&&t.getID()!==this.source&&t.getType()==="node"||this.cancelCreating({item:this.edge,x:e.x,y:e.y})}},onClick:function(e){if(!this.key||this.keydown){var t=e.item,l=this.graph,g=t.getModel();if(this.addingEdge&&this.edge){if(!this.shouldEnd.call(this,e))return;var w={target:g.id};this.source===g.id&&(w.type="loop"),l.emit("beforecreateedge",{}),l.updateItem(this.edge,w),l.emit("aftercreateedge",{edge:this.edge}),this.edge.getKeyShape().set("capture",!0),this.edge=null,this.addingEdge=!1}else{if(!this.shouldBegin.call(this,e))return;this.edge=l.addItem("edge",Object(T.__assign)({source:g.id,target:g.id},this.edgeConfig),!1),this.source=g.id,this.addingEdge=!0,this.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){if(!this.key||this.keydown){var t={x:e.x,y:e.y};this.graph.findById(this.source)?this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:t},!1):this.addingEdge=!1}},cancelCreating:function(e){if(!this.key||this.keydown){var t=this.graph,l=e.item;if(this.addingEdge&&e.target&&e.target.isCanvas&&e.target.isCanvas())return t.removeItem(this.edge,!1),this.edge=null,void(this.addingEdge=!1);if(this.addingEdge&&this.edge===l){var g=!0;if(!t.get("groupByTypes"))for(var w=e.x,_=e.y,k=t.getNodes(),P=k.length,I=0;I<P;I++){var N=k[I],R=N.getModel(),L=N.getBBox();if(w<=L.maxX&&w>=L.minX&&_<=L.maxY&&_>=L.minY){if(!this.shouldEnd.call(this,{x:e.x,y:e.y,canvasX:e.canvasX,canvasY:e.canvasY,clientX:e.clientX,clientY:e.clientY,item:N}))return;t.emit("beforecreateedge",{}),t.updateItem(this.edge,{target:R.id}),t.emit("aftercreateedge",{edge:this.edge}),g=!1;break}}g&&t.removeItem(this.edge,!1),this.edge=null,this.addingEdge=!1}}},onKeyDown:function(e){var t=e.key;t&&(t.toLowerCase()===this.key.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}},"shortcuts-call":{getDefaultCfg:function(){return{trigger:"ctrl",combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return _n.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="ctrl",console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(t){var l=this.trigger.toLowerCase(),g=t.toLowerCase();this.triggerKeydown||(this.triggerKeydown=g===l||g==="control"&&l==="ctrl"||g==="ctrl"&&l==="control");var w=this.graph;if(!w[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(!this.triggerKeydown||this.combinedKey){var _=this.combinedKey.toLowerCase();this.triggerKeydown&&(g===_||g==="control"&&_==="ctrl"||g==="ctrl"&&_==="control")&&(this.functionParams&&this.functionParams.length?w[this.functionName].apply(w,this.functionParams):w[this.functionName]())}else this.functionParams&&this.functionParams.length?w[this.functionName].apply(w,this.functionParams):w[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}}};h()(Qe,function(S,e){m.registerBehavior(e,S)});var zn=m,Br=s(99),Ur=s(36),Xn=s.n(Ur),fr=s(42),Pr=s.n(fr),Hn=s(22),Ks=s(69),Bo=s.n(Ks),$s=function(){function S(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return S.prototype.formatModes=function(){var e=this.modes;h()(e,function(t){h()(t,function(l,g){D()(l)&&(t[g]={type:l})})})},S.prototype.setBehaviors=function(e){var t,l=this.graph,g=this.modes[e],w=[];h()(g||[],function(_){var k=m.getBehavior(_.type);k&&(t=new k(_))&&(t.bind(l),w.push(t))}),this.currentBehaves=w},S.mergeBehaviors=function(e,t){return h()(t,function(l){e.indexOf(l)<0&&(D()(l)&&(l={type:l}),e.push(l))}),e},S.filterBehaviors=function(e,t){var l=[];return e.forEach(function(g){var w="";w=D()(g)?g:g.type,t.indexOf(w)<0&&l.push(g)}),l},S.prototype.setMode=function(e){var t=this.modes,l=this.graph,g=e;t[g]&&(l.emit("beforemodechange",{mode:e}),h()(this.currentBehaves,function(w){w.unbind(l)}),this.setBehaviors(g),l.emit("aftermodechange",{mode:e}),this.mode=e)},S.prototype.getMode=function(){return this.mode},S.prototype.manipulateBehaviors=function(e,t,l){var g,w=this;if(g=M()(e)?e:[e],M()(t))return h()(t,function(k){w.modes[k]?w.modes[k]=l?S.mergeBehaviors(w.modes[k]||[],g):S.filterBehaviors(w.modes[k]||[],g):l&&(w.modes[k]=g)}),this;var _=t;return t||(_=this.mode),this.modes[_]||l&&(this.modes[_]=g),this.modes[_]=l?S.mergeBehaviors(this.modes[_]||[],g):S.filterBehaviors(this.modes[_]||[],g),this.setMode(this.mode),this},S.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},S}(),Qs=function(){function S(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return S.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,l=this.graph.get("width"),g=t.get("height");return{x:(l-e[1]-e[3])/2+e[3],y:(g-e[0]-e[2])/2+e[0]}},S.prototype.fitCenter=function(){var e=this.graph,t=e.get("group");t.resetMatrix();var l=t.getCanvasBBox();if(l.width!==0&&l.height!==0){var g=this.getViewCenter(),w=l.x+l.width/2,_=l.y+l.height/2;e.translate(g.x-w,g.y-_)}},S.prototype.fitView=function(){var e=this.graph,t=this.getFormatPadding(),l=e.get("width"),g=e.get("height"),w=e.get("group");w.resetMatrix();var _=w.getCanvasBBox();if(_.width!==0&&_.height!==0){var k=this.getViewCenter(),P=_.x+_.width/2,I=_.y+_.height/2;e.translate(k.x-P,k.y-I);var N=(l-t[1]-t[3])/_.width,R=(g-t[0]-t[2])/_.height,L=N;N>R&&(L=R),e.zoom(L,k)}},S.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return U(e)},S.prototype.focusPoint=function(e,t,l){var g=this,w=this.getViewCenter(),_=this.getPointByCanvas(w.x,w.y),k=this.graph.get("group").getMatrix();if(k||(k=[1,0,0,0,1,0,0,0,1]),t){var P=(_.x-e.x)*k[0],I=(_.y-e.y)*k[4],N=0,R=0,L=0,F=0;this.graph.get("canvas").animate(function(z){L=P*z,F=I*z,g.graph.translate(L-N,F-R),N=L,R=F},Object(T.__assign)({},l))}else this.graph.translate((_.x-e.x)*k[0],(_.y-e.y)*k[4])},S.prototype.getPointByCanvas=function(e,t){var l=this.graph.get("group").getMatrix();return l||(l=[1,0,0,0,1,0,0,0,1]),Ze({x:e,y:t},l)},S.prototype.getPointByClient=function(e,t){var l=this.graph.get("canvas").getPointByClient(e,t);return this.getPointByCanvas(l.x,l.y)},S.prototype.getClientByPoint=function(e,t){var l=this.graph.get("canvas"),g=this.getCanvasByPoint(e,t),w=l.getClientByPoint(g.x,g.y);return{x:w.x,y:w.y}},S.prototype.getCanvasByPoint=function(e,t){var l=this.graph.get("group").getMatrix();return l||(l=[1,0,0,0,1,0,0,0,1]),rn({x:e,y:t},l)},S.prototype.focus=function(e,t,l){D()(e)&&(e=this.graph.findById(e));var g=e.get("group").getMatrix();g||(g=[1,0,0,0,1,0,0,0,1]),e&&this.focusPoint({x:g[6],y:g[7]},t,l)},S.prototype.changeSize=function(e,t){var l=this.graph;if(!j()(e)||!j()(t))throw Error("invalid canvas width & height, please make sure width & height type is number");l.set({width:e,height:t}),l.get("canvas").changeSize(e,t),l.get("plugins").forEach(function(g){if(g.get("gridContainer")){var w=l.get("minZoom");ce()(g.get("container"),{width:e+"px",height:t+"px"}),ce()(g.get("gridContainer"),{width:e/w+"px",height:t/w+"px",left:0,top:0})}})},S.prototype.destroy=function(){this.graph=null,this.destroyed=!1},S}(),Js=s(57),qr=s.n(Js),tu=s(50),di=s.n(tu),eu=function(){function S(e){this.preItem=null,this.graph=e,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return S.prototype.initEvents=function(){var e=this.graph,t=this.extendEvents,l=e.get("canvas"),g=l.get("el"),w=di()(this,"onCanvasEvents"),_=di()(this,"onExtendEvents"),k=di()(this,"onWheelEvent");l.on("*",w),this.canvasHandler=w,t.push(qr()(g,"DOMMouseScroll",k)),t.push(qr()(g,"mousewheel",k)),typeof window!="undefined"&&(t.push(qr()(window,"keydown",_)),t.push(qr()(window,"keyup",_)),t.push(qr()(window,"focus",_)))},S.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},S.prototype.onCanvasEvents=function(e){var t=this.graph,l=t.get("canvas"),g=e.target,w=e.type;e.canvasX=e.x,e.canvasY=e.y;var _={x:e.canvasX,y:e.canvasY},k=t.get("group").getMatrix();if(k||(k=[1,0,0,0,1,0,0,0,1]),J(k)&&(_=t.getPointByClient(e.clientX,e.clientY)),e.x=_.x,e.y=_.y,e.currentTarget=t,g===l)return w==="mousemove"&&this.handleMouseMove(e,"canvas"),e.target=l,e.item=null,t.emit(w,e),void t.emit("canvas:"+w,e);var P=S.getItemRoot(g);if(P){var I=P.get("item");if(!I.destroyed){var N=I.getType();if(e.target=g,e.item=I,e.canvasX===e.x&&e.canvasY===e.y){var R=t.getCanvasByPoint(e.x,e.y);e.canvasX=R.x,e.canvasY=R.y}t.emit(w,e),e.name&&!e.name.includes(":")?t.emit(N+":"+w,e):t.emit(e.name,e),w==="dragstart"&&(this.dragging=!0),w==="dragend"&&(this.dragging=!1),w==="mousemove"&&this.handleMouseMove(e,N)}}else t.emit(w,e)},S.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},S.prototype.onWheelEvent=function(e){E()(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},S.prototype.handleMouseMove=function(e,t){var l=this.graph,g=this.preItem,w=l.get("canvas"),_=e.target===w?null:e.item;e=H(e),g&&g!==_&&!g.destroyed&&(e.item=g,this.emitCustomEvent(g.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(g.getType(),"dragleave",e)),_&&g!==_&&(e.item=_,this.emitCustomEvent(t,"mouseenter",e),this.dragging&&this.emitCustomEvent(t,"dragenter",e)),this.preItem=_},S.prototype.emitCustomEvent=function(e,t,l){l.type=t,this.graph.emit(e+":"+t,l)},S.prototype.destroy=function(){var e=this.graph,t=this.canvasHandler,l=this.extendEvents;e.get("canvas").off("*",t),h()(l,function(g){g.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},S}(),nu=s(98),Ro=s.n(nu),ru=s(35),Lo=s.n(ru),iu=s(49),Fo=s.n(iu),ou=s(130),au=s.n(ou),su={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Bn=Math.PI,Vi=Math.sin,Ui=Math.cos,Je=Vi(Bn/8),tn=Ui(Bn/8),pi=function(e,t){var l=e.getBBox(),g={x:l.minX,y:l.minY},w={x:l.maxX,y:l.maxY};if(t){var _=t.getMatrix();_||(_=[1,0,0,0,1,0,0,0,1]),g=rn(g,_),w=rn(w,_)}var k=g.x,P=g.y,I=w.x,N=w.y;return{x:k,y:P,minX:k,minY:P,maxX:I,maxY:N,width:I-k,height:N-P}},Yo=function(e){var t=e.sourceNode||e.targetNode,l=t.get("group").getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]);var g=t.getKeyShape().getBBox(),w=e.loopCfg||{},_=w.dist||2*Math.max(g.width,g.height),k=w.position||tt.defaultLoopPosition,P=[l[6],l[7]],I=[e.startPoint.x,e.startPoint.y],N=[e.endPoint.x,e.endPoint.y],R=g.height/2,L=g.height/2,F=R*Je,z=R*tn,q=L*Je,nt=L*tn;if(I[0]===N[0]&&I[1]===N[1]){switch(k){case"top":I=[P[0]-F,P[1]-z],N=[P[0]+q,P[1]-nt];break;case"top-right":R=g.height/2,L=g.width/2,I=[P[0]+(F=R*Je),P[1]-(z=R*tn)],N=[P[0]+(nt=L*tn),P[1]-(q=L*Je)];break;case"right":R=g.width/2,L=g.width/2,I=[P[0]+(z=R*tn),P[1]-(F=R*Je)],N=[P[0]+(nt=L*tn),P[1]+(q=L*Je)];break;case"bottom-right":R=g.width/2,L=g.height/2,I=[P[0]+(z=R*tn),P[1]+(F=R*Je)],N=[P[0]+(q=L*Je),P[1]+(nt=L*tn)];break;case"bottom":R=g.height/2,L=g.height/2,I=[P[0]+(F=R*Je),P[1]+(z=R*tn)],N=[P[0]-(q=L*Je),P[1]+(nt=L*tn)];break;case"bottom-left":R=g.height/2,L=g.width/2,I=[P[0]-(F=R*Je),P[1]+(z=R*tn)],N=[P[0]-(nt=L*tn),P[1]+(q=L*Je)];break;case"left":R=g.width/2,L=g.width/2,I=[P[0]-(z=R*tn),P[1]+(F=R*Je)],N=[P[0]-(nt=L*tn),P[1]-(q=L*Je)];break;case"top-left":R=g.width/2,L=g.height/2,I=[P[0]-(z=R*tn),P[1]-(F=R*Je)],N=[P[0]-(q=L*Je),P[1]-(nt=L*tn)];break;default:R=g.width/2,L=g.width/2,I=[P[0]-(F=R*Je),P[1]-(z=R*tn)],N=[P[0]+(q=L*Je),P[1]-(nt=L*tn)]}if(w.clockwise===!1){var et=[I[0],I[1]];I=[N[0],N[1]],N=[et[0],et[1]]}}var st=[I[0]-P[0],I[1]-P[1]],dt=(R+_)/R,Ot=(L+_)/L;w.clockwise===!1&&(dt=(L+_)/L,Ot=(R+_)/R);var bt=re.scale([],st,dt),mt=[P[0]+bt[0],P[1]+bt[1]],Tt=[N[0]-P[0],N[1]-P[1]],Dt=re.scale([],Tt,Ot),Yt=[P[0]+Dt[0],P[1]+Dt[1]];return e.startPoint={x:I[0],y:I[1]},e.endPoint={x:N[0],y:N[1]},e.controlPoints=[{x:mt[0],y:mt[1]},{x:Yt[0],y:Yt[1]}],e},gi=function(e,t,l,g,w){var _=[],k=e.getPoint(t);if(k===null)return{x:0,y:0,angle:0};if(t<1e-4)_=e.getStartTangent().reverse();else if(t>.9999)_=e.getEndTangent();else{var P=e.getPoint(t+1e-4);_.push([k.x,k.y]),_.push([P.x,P.y])}var I=Math.atan2(_[1][1]-_[0][1],_[1][0]-_[0][0]);if(I<0&&(I+=2*Bn),l&&(k.x+=Ui(I)*l,k.y+=Vi(I)*l),g){var N=I-Bn/2;I>.5*Bn&&I<1.5*Bn&&(N-=Bn),k.x+=Ui(N)*g,k.y+=Vi(N)*g}var R={x:k.x,y:k.y,angle:I};return w?(I>.5*Bn&&I<1.5*Bn&&(I-=Bn),Object(T.__assign)({rotate:I},R)):R},Go=function S(e,t){if(t(e)===!1)return!1;if(e&&e.children){for(var l=e.children.length-1;l>=0;l--)if(!S(e.children[l],t))return!1}return!0},uu=function S(e,t){if(e&&e.children){for(var l=e.children.length-1;l>=0;l--)if(!S(e.children[l],t))return}return t(e)!==!1},fn=function(e,t){typeof t=="function"&&Go(e,t)},Rn=function(e,t){typeof t=="function"&&uu(e,t)},zo=function(e,t){var l={x:1/0,y:1/0},g={x:-1/0,y:-1/0},w="x",_="y";t&&["V","TB","BT"].indexOf(t)>=0&&(_="x",w="y");var k=0;fn(e,function(N){return k++,N.x>g.x&&(g.x=N.x),N.x<l.x&&(l.x=N.x),N.y>g.y&&(g.y=N.y),N.y<l.y&&(l.y=N.y),!0});var P=2*Bn/k,I=g[_]-l[_];return I===0||fn(e,function(N){var R=(N[_]-l[_])/I*(2*Bn-P)+P,L=Math.abs(w==="x"?N.x-e.x:N.y-e.y);return N.x=L*Math.cos(R),N.y=L*Math.sin(R),!0}),e},Xo=function(e,t){return t*(su[e]||1)},Ho=function(e,t){var l=0,g=new RegExp("[\u4E00-\u9FA5]+");return e.split("").forEach(function(w){g.test(w)?l+=t:l+=Xo(w,t)}),[l,t]},qi=function(e,t){var l=[],g={},w={};e.forEach(function(k){w[k.id]=k}),e.forEach(function(k,P){var I=Object(ct.clone)(k);I.itemType="combo",I.children=void 0,I.parentId===I.id?(console.warn("The parentId for combo "+I.id+" can not be the same as the combo's id"),delete I.parentId):I.parentId&&!w[I.parentId]&&(console.warn("The parent combo for combo "+I.id+" does not exist!"),delete I.parentId);var N=g[I.id];if(N){if(I.children=N.children,g[I.id]=I,!(N=I).parentId)return void l.push(N);var R=g[N.parentId];if(R)R.children?R.children.push(I):R.children=[I];else{var L={id:N.parentId,children:[N]};g[N.parentId]=L,g[I.id]=I}}else if(Object(ct.isString)(k.parentId))if(L=g[k.parentId])L.children?L.children.push(I):L.children=[I],g[I.id]=I;else{var F={id:k.parentId,children:[I]};g[F.id]=F,g[I.id]=I}else l.push(I),g[I.id]=I});var _={};return(t||[]).forEach(function(k){_[k.id]=k;var P=g[k.comboId];if(P){var I={id:k.id,comboId:k.comboId};P.children?P.children.push(I):P.children=[I],I.itemType="node",g[k.id]=I}}),l.forEach(function(k){k.depth=0,Go(k,function(P){var I,N=g[P.id].itemType;I=N==="node"?g[P.comboId]:g[P.parentId],P.depth=I?N==="node"?I.depth+1:I.depth+2:0;var R=_[P.id];return R&&(R.depth=P.depth),!0})}),l},Wi=function(e,t,l){var g,w=e,_={root:{children:e}},k=!1,P="root";(e||[]).forEach(function(F){if(!k)return F.id===t?(g=F,F.itemType==="combo"?g.parentId=l:g.comboId=l,void(k=!0)):void fn(F,function(z){return _[z.id]={children:z.children},w=_[z.parentId||z.comboId||"root"].children,!z||!z.removed&&t!==z.id||!w||(P=z.parentId||z.comboId||"root",g=z,z.itemType==="combo"?g.parentId=l:g.comboId=l,k=!0,!1)})});var I=(w=_[P].children)?w.indexOf(g):-1;if(I>-1&&w.splice(I,1),k||(g={id:t,itemType:"node",comboId:l},_[t]={children:void 0}),t){var N=!1;if(l){var R=0;(e||[]).forEach(function(F){N||fn(F,function(z){return l!==z.id||(N=!0,z.children?z.children.push(g):z.children=[g],R=z.depth,g.itemType==="node"?g.depth=R+2:g.depth=R+1,!1)})})}else l&&N||g.itemType==="node"||e.push(g);var L=g.depth;fn(g,function(F){return F.itemType==="node"?L+=2:L+=1,F.depth=L,!0})}return e},Zi=function(e,t){var l={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return e&&e.length!==0&&(e.forEach(function(g){var w=t.findById(g.id);if(w&&w.isVisible()){w.set("bboxCanvasCache",void 0);var _=w.getCanvasBBox();_.x&&l.minX>_.minX&&(l.minX=_.minX),_.y&&l.minY>_.minY&&(l.minY=_.minY),_.x&&l.maxX<_.maxX&&(l.maxX=_.maxX),_.y&&l.maxY<_.maxY&&(l.maxY=_.maxY)}}),l.x=(l.minX+l.maxX)/2,l.y=(l.minY+l.maxY)/2,l.width=l.maxX-l.minX,l.height=l.maxY-l.minY,l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2,Object.keys(l).forEach(function(g){l[g]!==1/0&&l[g]!==-1/0||(l[g]=void 0)})),l},cu=function(e){var t=e.group,l=e.height,g=e.width,w=e.x,_=e.y,k=t.get("canvas"),P=k.get("width"),I=k.get("height"),N={start:{x:0,y:0},end:{x:0,y:0}};return N.start.x=w/P,N.start.y=_/I,N.end.x=(w+g)/P,N.end.y=(_+l)/I,N};function Vo(S){if(typeof S!="string")return S;var e=function(mt){if(typeof mt!="string")return mt;try{return JSON.parse(mt.trim())}catch(Tt){return mt.trim()}},t=e(S);if(typeof t!="string")return t;for(var l=function(mt){return mt[mt.length-1]},g=S.trim(),w=[],_=[],k=function(){for(var mt=[],Tt=0;Tt<arguments.length;Tt++)mt[Tt]=arguments[Tt];return mt.some(function(Dt){return l(_)===Dt})},P=null,I=0,N="";I<g.length;){var R=g[I],L=k('"',"'");if(L||R.trim()){var F=g[I-1]==="\\",z=k("}"),q=k("]"),nt=k(","),et=l(w);if(L)if(l(_)!==R||F)N+=R;else{_.pop();var st=e(N);et.push(st),P=st,N=""}else if(q&&R===",")N&&(et.push(e(N)),N="");else if(z&&R===":")_.push(","),N&&(et.push(N),N="");else if(nt&&R===",")N&&(et.push(e(N)),N=""),_.pop();else if(R==="}"&&(z||nt)){N&&(et.push(e(N)),N=""),nt&&_.pop();for(var dt={},Ot=1;Ot<et.length;Ot+=2)dt[et[Ot-1]]=et[Ot];w.pop(),w.length&&l(w).push(dt),_.pop(),P=dt}else R==="]"&&q?(N&&(et.push(e(N)),N=""),w.pop(),w.length&&l(w).push(et),_.pop(),P=et):R==="{"?(w.push([]),_.push("}")):R==="["?(w.push([]),_.push("]")):R==='"'?_.push('"'):R==="'"?_.push("'"):N+=R;I+=1}else I+=1}return P||N}function Uo(S,e){var t;e===void 0&&(e={x:0,y:0});var l=Object(T.__assign)({x:0,y:0,width:0,height:0},e);if((t=S.children)===null||t===void 0?void 0:t.length){var g=S.attrs,w=g===void 0?{}:g,_=w.marginTop,k=Object(T.__assign)({},e);_&&(k.y+=_);for(var P=0;P<S.children.length;P++){S.children[P].attrs.key=(w.key||"root")+" -"+P+" ";var I=Uo(S.children[P],k);if(I.bbox){var N=I.bbox;I.attrs.next==="inline"?k.x+=I.bbox.width:k.y+=I.bbox.height,N.width+N.x>l.width&&(l.width=N.width+N.x),N.height+N.y>l.height&&(l.height=N.height+N.y)}}}return S.bbox=function(R,L,F){var z,q,nt=R.attrs,et=nt===void 0?{}:nt,st={x:L.x||0,y:L.y||0,width:F.width||0,height:F.height||0};switch(R.type){case"maker":case"circle":et.r&&(q=2*et.r,z=2*et.r);break;case"text":et.text&&(q=Ho(et.text,et.fontSize||12)[0],z=16,st.y+=z,st.height=z,st.width=q,R.attrs=Object(T.__assign)({fontSize:12,fill:"#000"},et));break;default:et.width&&(q=et.width),et.height&&(z=et.height)}return z>=0&&(st.height=z),q>=0&&(st.width=q),et.marginTop&&(st.y+=et.marginTop),et.marginLeft&&(st.x+=et.marginLeft),st}(S,e,l),S.attrs=Object(T.__assign)(Object(T.__assign)({},S.attrs),S.bbox),S}function qo(S){var e={},t=function(g){var w=function(P){return function(I){for(var N=P.length,R=[],L=0,F="";L<N;)if(P[L]==="{"&&P[L+1]==="{")R.push(F),F="",L+=2;else if(P[L]==="}"&&P[L+1]==="}"){if(R.length){var z=R.pop();F=au()(I,F,z.endsWith("=")?'"{'+F+'}"':F),R.push(z+F)}L+=2,F=""}else F+=P[L],L+=1;return R.push(F),R.map(function(q,nt){return R[nt-1]&&R[nt-1].endsWith("=")?'"{'+q+'}"':q}).join("")}}(typeof S=="function"?S(g):S)(g),_=document.createElement("div");_.innerHTML=w;var k=Uo(function P(I,N){var R={},L=I.getAttributeNames&&I.getAttributeNames()||[],F=I.children&&Array.from(I.children).map(function(nt){return P(nt,N)}),z={},q=I.tagName?I.tagName.toLowerCase():"group";return q==="text"&&(R.text=I.innerText),z.type=q,q==="img"&&(z.type="image"),Array.from(L).forEach(function(nt){var et=nt.split("-").reduce(function(Ot,bt){return Ot+bt.charAt(0).toUpperCase()+bt.slice(1)}),st=I.getAttribute(nt);try{if(et==="style"||et==="attrs"){var dt=Vo(st);R=Object(T.__assign)(Object(T.__assign)({},R),dt)}else z[et]=Vo(st)}catch(Ot){if(et==="style")throw Ot;z[et]=st}}),z.attrs=R,N&&N.style&&z.name&&typeof N.style[z.name]=="object"&&(z.attrs=Object(T.__assign)(Object(T.__assign)({},z.attrs),N.style[z.name])),N&&N.style&&z.keyshape&&(z.attrs=Object(T.__assign)(Object(T.__assign)({},z.attrs),N.style)),F.length&&(z.children=F),z}(_.children[0],g));return _.remove(),k};return{draw:function(g,w){var _=t(g),k=w,P=function I(N){var R=N.attrs,L=R===void 0?{}:R,F=N.bbox,z=N.type,q=N.children,nt=Object(T.__rest)(N,["attrs","bbox","type","children"]);if(N.type!=="group"){var et=w.addShape(N.type,Object(T.__assign)({attrs:L,origin:{bbox:F,type:z,children:q}},nt));N.keyshape&&(k=et)}N.children&&N.children.forEach(function(st){return I(st)})};return P(_),e[g.id]=[_],k},update:function(g,w){e[g.id]||(e[g.id]=[]);var _=w.getContainer(),k=_.get("children"),P=t(g),I=function F(z,q){var nt,et,st,dt,Ot=(z||{}).type,bt=((q==null?void 0:q.attrs)||{}).key;if(bt&&z&&(z.attrs.key=bt),!z&&q)return{action:"delete",val:q,type:Ot,key:bt};if(z&&!q)return{action:"add",val:z,type:Ot};if(!z&&!q)return{action:"same",type:Ot};var mt=[];if(((nt=z.children)===null||nt===void 0?void 0:nt.length)>0||((et=q.children)===null||et===void 0?void 0:et.length)>0)for(var Tt=Math.max((st=z.children)===null||st===void 0?void 0:st.length,(dt=q.children)===null||dt===void 0?void 0:dt.length),Dt=q.children||[],Yt=z.children||[],Gt=0;Gt<Tt;Gt+=1)mt.push(F(Yt[Gt],Dt[Gt]));var Kt=Object.keys(q.attrs),Zt=Object.keys(z.attrs);return q.type!==z.type?{action:"restructure",nowTarget:z,formerTarget:q,key:bt,children:mt}:Kt.filter(function(Wt){return Wt!=="children"}).some(function(Wt){return z.attrs[Wt]!==q.attrs[Wt]||!Zt.includes(Wt)})?{action:"change",val:z,children:mt,type:Ot,key:bt}:{action:"same",children:mt,type:Ot,key:bt}}(P,e[g.id].pop()),N=function F(z){var q;z.type!=="group"&&_.addShape(z.type,{attrs:z.attrs}),((q=z.children)===null||q===void 0?void 0:q.length)&&z.children.map(function(nt){return F(nt)})},R=function F(z){var q,nt=k.find(function(et){return et.attrs.key===z.attrs.key});nt&&_.removeChild(nt),((q=z.children)===null||q===void 0?void 0:q.length)&&z.children.map(function(et){return F(et)})},L=function F(z){var q=z.key;if(z.type!=="group"){var nt=k.find(function(st){return st.attrs.key===q});switch(z.action){case"change":if(nt){var et=z.val.keyshape?w.getOriginStyle():{};nt.attr(Object(T.__assign)(Object(T.__assign)({},et),z.val.attrs))}break;case"add":N(z.val);break;case"delete":R(z.val);break;case"restructure":R(z.formerTarget),N(z.nowTarget)}}z.children&&z.children.forEach(function(st){return F(st)})};L(I),e[g.id].push(P)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Ki={};function Wo(S){return Ki[S]||(Ki[S]=Object(ct.upperFirst)(S)),Ki[S]}var hu={defaultShapeType:"defaultType",className:null,getShape:function(e){return this[e]||this[this.defaultShapeType]},draw:function(e,t,l){var g=this.getShape(e),w=g.draw(t,l);return g.afterDraw&&g.afterDraw(t,l,w),w},baseUpdate:function(e,t,l){var g=this.getShape(e);g.update&&g.update(t,l),g.afterUpdate&&g.afterUpdate(t,l)},setState:function(e,t,l,g){this.getShape(e).setState(t,l,g)},shouldUpdate:function(e){return!!this.getShape(e).update},getControlPoints:function(e,t){return this.getShape(e).getControlPoints(t)},getAnchorPoints:function(e,t){return this.getShape(e).getAnchorPoints(t)}},$i={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints;return e.anchorPoints||t}},vi=function(){function S(){}return S.registerFactory=function(e,t){var l=Wo(e),g=hu,w=Object(T.__assign)(Object(T.__assign)({},g),t);return S[l]=w,w.className=l,w},S.getFactory=function(e){return S[Wo(e)]},S.registerNode=function(e,t,l){var g,w=S.Node;if(typeof t=="string"||typeof t=="function"){var _=qo(t);g=Object(T.__assign)(Object(T.__assign)({},w.getShape("single-node")),_)}else if(t.jsx)_=qo(t.jsx),g=Object(T.__assign)(Object(T.__assign)(Object(T.__assign)({},w.getShape("single-node")),_),t);else{var k=l?w.getShape(l):$i;g=Object(T.__assign)(Object(T.__assign)({},k),t)}return g.type=e,g.itemType="node",w[e]=g,g},S.registerEdge=function(e,t,l){var g=S.Edge,w=l?g.getShape(l):$i,_=Object(T.__assign)(Object(T.__assign)({},w),t);return _.type=e,_.itemType="edge",g[e]=_,_},S.registerCombo=function(e,t,l){var g=S.Combo,w=l?g.getShape(l):$i,_=Object(T.__assign)(Object(T.__assign)({},w),t);return _.type=e,_.itemType="combo",g[e]=_,_},S}(),ze=vi;vi.registerFactory("node",{defaultShapeType:"circle"}),vi.registerFactory("edge",{defaultShapeType:"line"}),vi.registerFactory("combo",{defaultShapeType:"circle"});var Zo=function(){function S(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var l=this.get("model"),g=l.id,w=this.get("type");g||(g=Object(ct.uniqueId)(w),this.get("model").id=g),this.set("id",g);var _=e.group;_&&(_.set("item",this),_.set("id",g)),this.init(),this.draw();var k=l.shape||l.type||(w==="edge"?"line":"circle"),P=this.get("shapeFactory");if(P&&P[k]){var I=P[k].options;if(I&&I.stateStyles){var N=this.get("styles")||l.stateStyles;N=Object(ct.deepMix)({},I.stateStyles,N),this.set("styles",N)}}}return S.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),l=pi(e,t);return l.x=l.minX,l.y=l.minY,l.width=l.maxX-l.minX,l.height=l.maxY-l.minY,l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2,l},S.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),l=pi(e,t);return l.x=l.minX,l.y=l.minY,l.width=l.maxX-l.minX,l.height=l.maxY-l.minY,l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2,l},S.prototype.drawInner=function(){var e=this.get("shapeFactory"),t=this.get("group"),l=this.get("model");t.clear();var g=l.visible;if(g===void 0||g||this.changeVisibility(g),e){this.updatePosition(l);var w=this.getShapeCfg(l),_=w.shape||w.type,k=e.draw(_,w,t);k&&(this.set("keyShape",k),k.set("isKeyShape",!0),k.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",_),this.restoreStates(e,_)}},S.prototype.setOriginStyle=function(e){var t={},l=this.get("group").get("children"),g=this.getKeyShape(),w=this;Object(ct.each)(l,function(P){var I=P.get("name");if(I)t[I]=w.getShapeStyleByName(I);else{var N=g.get("name"),R=w.getShapeStyleByName();N?t[N]=R:Object.assign(t,R)}});var _=this.getOriginStyle(),k={};k=e?Object(ct.deepMix)({},_,t,e.style,{labelCfg:e.labelCfg}):Object(ct.deepMix)({},_,t),w.set("originStyle",k)},S.prototype.restoreStates=function(e,t){var l=this,g=l.get("states");Object(ct.each)(g,function(w){e.setState(t,w,!0,l)})},S.prototype.init=function(){var e=ze.getFactory(this.get("type"));this.set("shapeFactory",e)},S.prototype.get=function(e){return this._cfg[e]},S.prototype.set=function(e,t){Object(ct.isPlainObject)(e)?this._cfg=Object(T.__assign)(Object(T.__assign)({},this._cfg),e):this._cfg[e]=t},S.prototype.getDefaultCfg=function(){return{}},S.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},S.prototype.beforeDraw=function(){},S.prototype.afterDraw=function(){},S.prototype.afterUpdate=function(){},S.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},S.prototype.getShapeStyleByName=function(e){var t=this.get("group"),l=this.getKeyShape();if(e&&(l=t.find(function(w){return w.get("name")===e})),l){var g={};return Object(ct.each)(l.attr(),function(w,_){_!=="img"&&(g[_]=w)}),g}return{}},S.prototype.getShapeCfg=function(e){var t=this.get("styles");if(t){var l=e;return l.style=Object(T.__assign)(Object(T.__assign)({},t),e.style),l}return e},S.prototype.getStateStyle=function(e){var t=this.get("styles");return t&&t[e]},S.prototype.getOriginStyle=function(){return this.get("originStyle")},S.prototype.getCurrentStatesStyle=function(){var e=this,t={};return Object(ct.each)(e.getStates(),function(l){t=Object.assign(t,e.getStateStyle(l))}),t},S.prototype.setState=function(e,t){var l=this.get("states"),g=this.get("shapeFactory"),w=e,_=e;Object(ct.isString)(t)&&(w=e+":"+t,_=e+":");var k=l;if(Object(ct.isBoolean)(t)){var P=l.indexOf(_);if(t){if(P>-1)return;l.push(w)}else P>-1&&l.splice(P,1)}else if(Object(ct.isString)(t)){var I=l.filter(function(L){return L.includes(_)});I.length>0&&this.clearStates(I),(k=k.filter(function(L){return!L.includes(_)})).push(w),this.set("states",k)}if(g){var N=this.get("model"),R=N.shape||N.type;g.setState(R,e,t,this)}},S.prototype.clearStates=function(e){var t=this,l=t.getStates(),g=t.get("shapeFactory"),w=t.get("model"),_=w.shape||w.type;e||(e=l),Object(ct.isString)(e)&&(e=[e]);var k=l.filter(function(P){return e.indexOf(P)===-1});t.set("states",k),e.forEach(function(P){g.setState(_,P,!1,t)})},S.prototype.getContainer=function(){return this.get("group")},S.prototype.getKeyShape=function(){return this.get("keyShape")},S.prototype.getModel=function(){return this.get("model")},S.prototype.getType=function(){return this.get("type")},S.prototype.getID=function(){return this.get("id")},S.prototype.isItem=function(){return!0},S.prototype.getStates=function(){return this.get("states")},S.prototype.hasState=function(e){return this.getStates().indexOf(e)>=0},S.prototype.refresh=function(){var e=this.get("model");this.updatePosition(e),this.updateShape(),this.afterUpdate(),this.clearCache()},S.prototype.isOnlyMove=function(e){return!1},S.prototype.update=function(e){var t=this.get("model"),l=t.visible,g=e.visible;l!==g&&g!==void 0&&this.changeVisibility(g);var w=t.x,_=t.y;e.x=isNaN(e.x)?t.x:e.x,e.y=isNaN(e.y)?t.y:e.y;var k=this.get("styles");if(e.stateStyles){var P=e.stateStyles;Object(ct.mix)(k,P),delete e.stateStyles}Object.assign(t,e),this.isOnlyMove(e)?this.updatePosition(e):(w===e.x&&_===e.y||this.updatePosition(e),this.updateShape()),this.afterUpdate(),this.clearCache()},S.prototype.updateShape=function(){var e=this.get("shapeFactory"),t=this.get("model"),l=t.shape||t.type;if(e.shouldUpdate(l)&&l===this.get("currentShape")){var g=this.getShapeCfg(t);e.baseUpdate(l,g,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(e,l)},S.prototype.updatePosition=function(e){var t=this.get("model"),l=Object(ct.isNil)(e.x)?t.x:e.x,g=Object(ct.isNil)(e.y)?t.y:e.y,w=this.get("group");Object(ct.isNil)(l)||Object(ct.isNil)(g)||(w.resetMatrix(),Ke(w,{x:l,y:g}),t.x=l,t.y=g,this.clearCache())},S.prototype.getBBox=function(){var e=this.get("bboxCache");return e||(e=this.calculateBBox(),this.set("bboxCache",e)),e},S.prototype.getCanvasBBox=function(){var e=this.get("bboxCanvasCache");return e||(e=this.calculateCanvasBBox(),this.set("bboxCanvasCache",e)),e},S.prototype.toFront=function(){this.get("group").toFront()},S.prototype.toBack=function(){this.get("group").toBack()},S.prototype.show=function(){this.changeVisibility(!0)},S.prototype.hide=function(){this.changeVisibility(!1)},S.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},S.prototype.isVisible=function(){return this.get("visible")},S.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},S.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},S}(),mi={source:"start",target:"end"},lu=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,l){var g=mi[t]+"Point",w=t+"Node",_=this.get(w);_&&!_.destroyed&&_.removeEdge(this),Object(ct.isPlainObject)(l)?(this.set(g,l),this.set(w,null)):(l.addEdge(this),this.set(w,l),this.set(g,null))},e.prototype.getLinkPoint=function(t,l,g){var w=mi[t]+"Point",_=t+"Node",k=this.get(w);if(!k){var P=this.get(_),I=t+"Anchor",N=this.getPrePoint(t,g),R=l[I];Object(ct.isNil)(R)||(k=P.getLinkPointByAnchor(R)),k=k||P.getLinkPoint(N),Object(ct.isNil)(k.index)||this.set(t+"AnchorIndex",k.index)}return k},e.prototype.getPrePoint=function(t,l){if(l&&l.length)return l[t==="source"?0:l.length-1];var g=t==="source"?"target":"source";return this.getEndPoint(g)},e.prototype.getEndPoint=function(t){var l=t+"Node",g=mi[t]+"Point",w=this.get(l);return w?w.get("model"):this.get(g)},e.prototype.getControlPointsByCenter=function(t){var l=this.getEndPoint("source"),g=this.getEndPoint("target"),w=this.get("shapeFactory"),_=t.shape||t.type;return w.getControlPoints(_,{startPoint:l,endPoint:g})},e.prototype.getEndCenter=function(t){var l=t+"Node",g=mi[t]+"Point",w=this.get(l);if(w){var _=w.getBBox();return{x:_.centerX,y:_.centerY}}return this.get(g)},e.prototype.init=function(){S.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(t){var l=this.get("linkCenter"),g=S.prototype.getShapeCfg.call(this,t);if(l)g.startPoint=this.getEndCenter("source"),g.endPoint=this.getEndCenter("target");else{var w=g.controlPoints||this.getControlPointsByCenter(g);g.startPoint=this.getLinkPoint("source",t,w),g.endPoint=this.getLinkPoint("target",t,w)}return g.sourceNode=this.get("sourceNode"),g.targetNode=this.get("targetNode"),g},e.prototype.getModel=function(){var t=this.get("model"),l=this.get("sourceNode"),g=this.get("targetNode");return l?delete t.sourceNode:t.source=this.get("startPoint"),g?delete t.targetNode:t.target=this.get("endPoint"),Object(ct.isString)(t.source)||Object(ct.isPlainObject)(t.source)||(t.source=t.source.getID()),Object(ct.isString)(t.target)||Object(ct.isPlainObject)(t.target)||(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){},e.prototype.update=function(t){var l=this.get("model"),g=l.visible,w=t.visible;g!==w&&w!==void 0&&this.changeVisibility(w);var _=this.get("styles");if(t.stateStyles){var k=t.stateStyles;Object(ct.mix)(_,k),delete t.stateStyles}Object.assign(l,t),this.updateShape(),this.afterUpdate(),this.clearCache()},e.prototype.destroy=function(){var t=this.get("sourceNode"),l=this.get("targetNode");t&&!t.destroyed&&t.removeEdge(this),l&&!l.destroyed&&l.removeEdge(this),S.prototype.destroy.call(this)},e}(Zo),fu=s(17),Wr=s.n(fu),Ko=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getNearestPoint=function(t,l){for(var g=0,w=t[0],_=on(t[0],l),k=0;k<t.length;k++){var P=t[k],I=on(P,l);I<_&&(w=P,_=I,g=k)}return w.anchorIndex=g,w},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(l){return l.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(l){return l.get("source")===t})},e.prototype.getNeighbors=function(t){var l=this,g=this.get("edges");return t==="target"?g.filter(function(w){return w.getSource()===l}).map(function(w){return w.getTarget()}):t==="source"?g.filter(function(w){return w.getTarget()===l}).map(function(w){return w.getSource()}):g.map(function(w){return w.getSource()===l?w.getTarget():w.getSource()})},e.prototype.getLinkPointByAnchor=function(t){return this.getAnchorPoints()[t]},e.prototype.getLinkPoint=function(t){var l,g,w=this.get("keyShape").get("type"),_=this.get("type"),k=this.getBBox();_==="combo"?(l=(k.maxX+k.minX)/2,g=(k.maxY+k.minY)/2):(l=k.centerX,g=k.centerY);var P,I=this.getAnchorPoints();switch(w){case"circle":P=bn({x:l,y:g,r:k.width/2},t);break;case"ellipse":P=xn({x:l,y:g,rx:k.width/2,ry:k.height/2},t);break;default:P=jn(k,t)}var N=P;return I.length&&(N||(N=t),N=this.getNearestPoint(I,N)),N||(N={x:l,y:g}),N},e.prototype.getAnchorPoints=function(){var t=this.get("anchorPointsCache");if(!t){t=[];var l=this.get("shapeFactory"),g=this.getBBox(),w=this.get("model"),_=this.getShapeCfg(w),k=w.shape||w.type,P=l.getAnchorPoints(k,_)||[];h()(P,function(I,N){var R=Wr()({x:g.minX+I[0]*g.width,y:g.minY+I[1]*g.height},I[2],{index:N});t.push(R)}),this.set("anchorPointsCache",t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var l=this.getEdges(),g=l.indexOf(t);g>-1&&l.splice(g,1)},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},e.prototype.isOnlyMove=function(t){if(!t)return!1;var l=!E()(t.x),g=!E()(t.y),w=Object.keys(t);return w.length===1&&(l||g)||w.length===2&&l&&g},e}(Zo),du=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var l=this.get("styles"),g=this.get("bbox");if(l&&g){var w=t,_={r:Math.hypot(g.height,g.width)/2||tt.defaultCombo.size[0]/2,width:g.width||tt.defaultCombo.size[0],height:g.height||tt.defaultCombo.size[1]};w.style=Object(T.__assign)(Object(T.__assign)(Object(T.__assign)({},l),t.style),_);var k=t.padding||tt.defaultCombo.padding;return j()(k)?(_.r+=k,_.width+=2*k,_.height+=2*k):(_.r+=k[0],_.width+=k[1]+k[3]||2*k[1],_.height+=k[0]+k[2]||2*k[0]),this.set("sizeCache",_),w}return t},e.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),l=this.get("group"),g=pi(t,l);g.x=g.minX,g.y=g.minY,g.centerX=(g.minX+g.maxX)/2,g.centerY=(g.minY+g.maxY)/2;var w=this.get("sizeCache");return w?(t.get("type")==="circle"?(g.width=2*w.r,g.height=2*w.r):(g.width=w.width,g.height=w.height),g.minX=g.centerX-g.width/2,g.minY=g.centerY-g.height/2,g.maxX=g.centerX+g.width/2,g.maxY=g.centerY+g.height/2):(g.width=g.maxX-g.minX,g.height=g.maxY-g.minY,g.centerX=(g.minX+g.maxX)/2,g.centerY=(g.minY+g.maxY)/2),g},e.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.addChild=function(t){switch(t.getType()){case"node":this.addNode(t);break;case"combo":this.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){return this.get("combos").push(t),!0},e.prototype.addNode=function(t){return this.get("nodes").push(t),!0},e.prototype.removeChild=function(t){switch(t.getType()){case"node":this.removeNode(t);break;case"combo":this.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(t){var l=this.getCombos(),g=l.indexOf(t);return g>-1&&(l.splice(g,1),!0)}},e.prototype.removeNode=function(t){if(t){var l=this.getNodes(),g=l.indexOf(t);return g>-1&&(l.splice(g,1),!0)}},e.prototype.isOnlyMove=function(t){return!1},e.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},e.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),l=this.get("group");t&&l.stopAnimate(),this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),l.remove(),this._cfg=null,this.destroyed=!0}},e}(Ko),pu=Object.hasOwnProperty,gu=function(){function S(e){this.graph=e,this.destroyed=!1}return S.prototype.addItem=function(e,t){var l=this,g=this.graph,w=e==="vedge"?"edge":e,_=g.get(w+"Group")||g.get("group"),k=Fo()(w),P=null,I=g.get(w+Fo()("stateStyles"))||{},N=g.get("default"+k);t.stateStyles&&(I=t.stateStyles);var R=g.get(w+"Mapper");if(R){var L=R(t);L.stateStyles&&(I=L.stateStyles,delete L.stateStyles),t=we()({},N,t,L)}else N&&h()(N,function(dt,Ot){pu.call(t,Ot)||(Lo()(dt)?t[Ot]=Ro()(dt):t[Ot]=N[Ot])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),g.emit("beforeadditem",{type:e,model:t}),e==="edge"||e==="vedge"){var F=void 0,z=void 0;if(F=t.source,z=t.target,F&&D()(F)&&(F=g.findById(F)),z&&D()(z)&&(z=g.findById(z)),!F||!z)return void console.warn("The source or target node of edge "+t.id+" does not exist!");F.getType&&F.getType()==="combo"&&(t.isComboEdge=!0,g.updateCombo(F)),z.getType&&z.getType()==="combo"&&(t.isComboEdge=!0,g.updateCombo(z)),P=new lu({model:t,source:F,target:z,styles:I,linkCenter:g.get("linkCenter"),group:_.addGroup()})}else if(e==="node")P=new Ko({model:t,styles:I,group:_.addGroup()});else if(e==="combo"){var q=t.children,nt=Zi(q,g);t.x=nt.x||t.x||100*Math.random(),t.y=nt.y||t.y||100*Math.random();var et=_.addGroup();et.setZIndex(t.depth);var st=(P=new du({model:t,styles:I,bbox:nt,group:et})).getModel();(q||[]).forEach(function(dt){var Ot=g.findById(dt.id);P.addChild(Ot),dt.depth=st.depth+2}),t.collapsed&&setTimeout(function(){g.collapseCombo(P),l.updateCombo(P,[])},250)}if(P)return g.get(e+"s").push(P),g.get("itemMap")[P.get("id")]=P,g.emit("afteradditem",{item:P,model:t}),P},S.prototype.updateItem=function(e,t){var l=this.graph;if(D()(e)&&(e=l.findById(e)),e&&!e.destroyed){var g="";e.getType&&(g=e.getType());var w=l.get(g+"Mapper"),_=e.getModel();if(w){var k=w(we()({},_,t)),P=we()({},_,k,t);k.stateStyles&&(e.set("styles",P.stateStyles),delete P.stateStyles),h()(P,function(L,F){t[F]=L})}else h()(t,function(L,F){_[F]&&Lo()(L)&&!M()(L)&&(t[F]=Object(T.__assign)(Object(T.__assign)({},_[F]),t[F]))});if(l.emit("beforeupdateitem",{item:e,cfg:t}),g==="edge"){if(t.source){var I=t.source;D()(I)&&(I=l.findById(I)),e.setSource(I)}if(t.target){var N=t.target;D()(N)&&(N=l.findById(N)),e.setTarget(N)}}if(e.update(t),g==="node"||g==="combo"){var R=e.getEdges();h()(R,function(L){L.refresh()})}l.emit("afterupdateitem",{item:e,cfg:t})}},S.prototype.updateCombo=function(e,t){var l=this.graph;if(D()(e)&&(e=l.findById(e)),e&&!e.destroyed){var g=Zi(t,l);e.set("bbox",g),e.update({x:g.x,y:g.y});for(var w=e.getEdges()||[],_=w.length,k=0;k<_;k++){var P=w[k];P==null||P.refresh()}}},S.prototype.collapseCombo=function(e){var t=this.graph;D()(e)&&(e=t.findById(e));var l=e.getChildren();l.nodes.forEach(function(g){t.hideItem(g)}),l.combos.forEach(function(g){t.hideItem(g)})},S.prototype.expandCombo=function(e){var t=this.graph;D()(e)&&(e=t.findById(e));var l=e.getChildren();l.nodes.forEach(function(g){t.showItem(g)}),l.combos.forEach(function(g){g.getModel().collapsed?g.show():t.showItem(g)})},S.prototype.removeItem=function(e){var t=this,l=this.graph;if(D()(e)&&(e=l.findById(e)),e&&!e.destroyed){var g=Ro()(e.getModel());l.emit("beforeremoveitem",{item:g});var w="";e.getType&&(w=e.getType());var _=l.get(w+"s"),k=_.indexOf(e);if(k>-1&&_.splice(k,1),w==="edge"){var P=l.get("v"+w+"s"),I=P.indexOf(e);I>-1&&P.splice(I,1)}var N=e.get("id");delete l.get("itemMap")[N];var R=l.get("comboTrees"),L=e.get("id");if(w==="node"){var F=e.getModel().comboId;if(R){var z=R,q=!1;R.forEach(function(bt){q||fn(bt,function(mt){if(mt.id===L&&z){var Tt=z.indexOf(mt);return z.splice(Tt,1),q=!0,!1}return z=mt.children,!0})})}for(var nt=(Ot=e.getEdges()).length-1;nt>=0;nt--)l.removeItem(Ot[nt],!1);F&&l.updateCombo(F)}else if(w==="combo"){var et,st=e.getModel().parentId,dt=!1;(R||[]).forEach(function(bt){dt||fn(bt,function(mt){return mt.id!==L||(et=mt,dt=!0,!1)})}),et.removed=!0,et&&et.children&&et.children.forEach(function(bt){t.removeItem(bt.id)});var Ot;for(nt=(Ot=e.getEdges()).length;nt>=0;nt--)l.removeItem(Ot[nt],!1);st&&l.updateCombo(st)}e.destroy(),l.emit("afterremoveitem",{item:g})}},S.prototype.setItemState=function(e,t,l){var g=this.graph,w=t;D()(l)&&(w=t+":"+l),e.hasState(w)===l||D()(l)&&e.hasState(w)||(g.emit("beforeitemstatechange",{item:e,state:w,enabled:l}),e.setState(t,l),g.autoPaint(),g.emit("afteritemstatechange",{item:e,state:w,enabled:l}))},S.prototype.priorityState=function(e,t){var l=this.graph,g=e;D()(e)&&(g=l.findById(e)),this.setItemState(g,t,!1),this.setItemState(g,t,!0)},S.prototype.clearItemStates=function(e,t){var l=this.graph;D()(e)&&(e=l.findById(e)),l.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),l.emit("afteritemstatesclear",{item:e,states:t})},S.prototype.refreshItem=function(e){var t=this.graph;D()(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},S.prototype.addCombos=function(e,t){var l=this,g=this.graph;(e||[]).forEach(function(_){Rn(_,function(k){var P;return t.forEach(function(I){I.id===k.id&&(I.children=k.children,I.depth=k.depth,P=I)}),P&&l.addItem("combo",P),!0})});var w=g.get("comboGroup");w&&w.sort()},S.prototype.changeItemVisibility=function(e,t){var l=this,g=this.graph;if(D()(e)&&(e=g.findById(e)),e){if(g.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()==="node"){var w=e.getEdges();h()(w,function(N){(!t||N.get("source").isVisible()&&N.get("target").isVisible())&&l.changeItemVisibility(N,t)})}else if(e.getType&&e.getType()==="combo"){var _=g.get("comboTrees"),k=e.get("id"),P=[],I=!1;(_||[]).forEach(function(N){I||N.children&&N.children.length!==0&&fn(N,function(R){return R.id!==k||(P=R.children,I=!0,!1)})}),P.forEach(function(N){var R=g.findById(N.id);l.changeItemVisibility(R,t)}),w=e.getEdges(),h()(w,function(N){(!t||N.get("source").isVisible()&&N.get("target").isVisible())&&l.changeItemVisibility(N,t)})}return g.emit("afteritemvisibilitychange",{item:e,visible:t}),e}console.warn("The item to be shown or hidden does not exist!")},S.prototype.destroy=function(){this.graph=null,this.destroyed=!0},S}(),Ln=function(){function S(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return S.prototype.init=function(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[]},S.prototype.execute=function(){},S.prototype.layout=function(e){this.init(e),this.execute()},S.prototype.getDefaultCfg=function(){return{}},S.prototype.updateCfg=function(e){Wr()(this,e)},S.prototype.destroy=function(){this.positions=null,this.nodes=null,this.edges=null,this.destroyed=!0},S}(),$o={registerLayout:function(e,t,l){if(l===void 0&&(l=Ln),!t)throw new Error("please specify handler for this layout: "+e);var g=function(w){function _(k){var P=w.call(this)||this,I=P,N={},R=I.getDefaultCfg();return Wr()(N,R,t,k),h()(N,function(L,F){I[F]=L}),P}return Object(T.__extends)(_,w),_}(l);$o[e]=g}},Qo=$o;function vu(S,e){return S.degree<e.degree?-1:S.degree>e.degree?1:0}var mu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},e.prototype.execute=function(){var t=this.nodes,l=this.edges,g=t.length,w=this.center;if(g!==0){if(g===1)return t[0].x=w[0],void(t[0].y=w[1]);var _=this.radius,k=this.startRadius,P=this.endRadius,I=this.divisions,N=this.startAngle,R=this.endAngle,L=(R-N)/g,F={};t.forEach(function(Tt,Dt){F[Tt.id]=Dt}),this.nodeMap=F;var z=In(t.length,F,l);this.degrees=z,this.width||typeof window=="undefined"||(this.width=window.innerWidth),this.height||typeof window=="undefined"||(this.height=window.innerHeight),_||k||P?!k&&P?k=P:k&&!P&&(P=k):_=this.height>this.width?this.width/2:this.height/2;var q=L*this.angleRatio;this.astep=q;var nt=this.ordering,et=[];et=nt==="topology"?this.topologyOrdering():nt==="topology-directed"?this.topologyOrdering(!0):nt==="degree"?this.degreeOrdering():t;for(var st=this.clockwise,dt=Math.ceil(g/I),Ot=0;Ot<g;++Ot){var bt=_;bt||k===null||P===null||(bt=k+Ot*(P-k)/(g-1)),bt||(bt=10+100*Ot/(g-1));var mt=N+Ot%dt*q+2*Math.PI/I*Math.floor(Ot/dt);st||(mt=R-Ot%dt*q-2*Math.PI/I*Math.floor(Ot/dt)),et[Ot].x=w[0]+Math.cos(mt)*bt,et[Ot].y=w[1]+Math.sin(mt)*bt,et[Ot].weight=z[Ot]}}},e.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var l=this.degrees,g=this.edges,w=this.nodes,_=Object(ct.clone)(w),k=this.nodeMap,P=[_[0]],I=[w[0]],N=[],R=w.length;N[0]=!0,function(F,z,q,nt){F.forEach(function(et,st){F[st].children=[],F[st].parent=[]}),nt?z.forEach(function(et){var st=0;et.source&&(st=q[et.source]);var dt=0;et.target&&(dt=q[et.target]),F[st].children.push(F[dt].id),F[dt].parent.push(F[st].id)}):z.forEach(function(et){var st=0;et.source&&(st=q[et.source]);var dt=0;et.target&&(dt=q[et.target]),F[st].children.push(F[dt].id),F[dt].children.push(F[st].id)})}(_,g,k,t);var L=0;return _.forEach(function(F,z){if(z!==0)if(z!==R-1&&l[z]===l[z+1]&&!function(Ot,bt,mt){for(var Tt=mt.length,Dt=0;Dt<Tt;Dt++)if(Ot.id===mt[Dt].source&&bt.id===mt[Dt].target||bt.id===mt[Dt].source&&Ot.id===mt[Dt].target)return!0;return!1}(P[L],F,g)||N[z]===!0){for(var q=P[L].children,nt=!1,et=0;et<q.length;et++){var st=k[q[et]];if(l[st]===l[z]&&N[st]!==!0){P.push(_[st]),I.push(w[k[_[st].id]]),N[st]=!0,nt=!0;break}}for(var dt=0;!nt&&(N[dt]||(P.push(_[dt]),I.push(w[k[_[dt].id]]),N[dt]=!0,nt=!0),++dt!==R););}else P.push(F),I.push(w[k[F.id]]),N[z]=!0,L++}),I},e.prototype.degreeOrdering=function(){var t=this.nodes,l=[],g=this.degrees;return t.forEach(function(w,_){w.degree=g[_],l.push(w)}),l.sort(vu),l},e}(Ln),yu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=1.5*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},e.prototype.execute=function(){var t=this,l=t.nodes,g=t.edges,w=l.length,_=t.center;if(w!==0){if(w===1)return l[0].x=_[0],void(l[0].y=_[1]);var k,P=[];k=M()(t.nodeSize)?Math.max(t.nodeSize[0],t.nodeSize[1]):t.nodeSize,l.forEach(function(mt){P.push(mt);var Tt=k;M()(mt.size)?Tt=Math.max(mt.size[0],mt.size[1]):Object(ct.isNumber)(mt.size)&&(Tt=mt.size),k=Math.max(k,Tt)}),t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var I={},N={};if(P.forEach(function(mt,Tt){I[mt.id]=mt,N[mt.id]=Tt}),!(t.sortBy!=="degree"&&D()(t.sortBy)&&P[0][t.sortBy]!==void 0||(t.sortBy="degree",Object(ct.isNumber)(l[0].degree)))){var R=In(l.length,N,g);P.forEach(function(mt,Tt){mt.degree=R[Tt]})}P.sort(function(mt,Tt){return Tt[t.sortBy]-mt[t.sortBy]}),t.maxValueNode=P[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var L=[[]],F=L[0];P.forEach(function(mt){if(F.length>0){var Tt=Math.abs(F[0][t.sortBy]-mt[t.sortBy]);t.maxLevelDiff&&Tt>=t.maxLevelDiff&&(F=[],L.push(F))}F.push(mt)});var z=k+t.minNodeSpacing;if(!t.preventOverlap){var q=L.length>0&&L[0].length>1,nt=(Math.min(t.width,t.height)/2-z)/(L.length+(q?1:0));z=Math.min(z,nt)}var et=0;if(L.forEach(function(mt){var Tt=t.sweep;Tt===void 0&&(Tt=2*Math.PI-2*Math.PI/mt.length);var Dt=mt.dTheta=Tt/Math.max(1,mt.length-1);if(mt.length>1&&t.preventOverlap){var Yt=Math.cos(Dt)-Math.cos(0),Gt=Math.sin(Dt)-Math.sin(0),Kt=Math.sqrt(z*z/(Yt*Yt+Gt*Gt));et=Math.max(Kt,et)}mt.r=et,et+=z}),t.equidistant){for(var st=0,dt=0,Ot=0;Ot<L.length;Ot++){var bt=L[Ot].r-dt;st=Math.max(st,bt)}dt=0,L.forEach(function(mt,Tt){Tt===0&&(dt=mt.r),mt.r=dt,dt+=st})}L.forEach(function(mt){var Tt=mt.dTheta,Dt=mt.r;mt.forEach(function(Yt,Gt){var Kt=t.startAngle+(t.clockwise?1:-1)*Tt*Gt;Yt.x=_[0]+Dt*Math.cos(Kt),Yt.y=_[1]+Dt*Math.sin(Kt)})})}},e}(Ln),bu=s(134),Jo=s.n(bu),xu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},e.prototype.execute=function(){var t=this,l=t.nodes,g=t.nodeSize,w=t.rankdir;if(l){var _,k=t.edges||[],P=new Jo.a.graphlib.Graph;_=g?M()(g)?function(){return g}:function(){return[g,g]}:function(L){return L.size?M()(L.size)?L.size:[L.size,L.size]:[40,40]};var I,N=yi(t.nodesepFunc,t.nodesep,50),R=yi(t.ranksepFunc,t.ranksep,50);w!=="LR"&&w!=="RL"||(N=yi(t.ranksepFunc,t.ranksep,50),R=yi(t.nodesepFunc,t.nodesep,50)),P.setDefaultEdgeLabel(function(){return{}}),P.setGraph(t),l.forEach(function(L){var F=_(L),z=R(L),q=N(L),nt=F[0]+2*q,et=F[1]+2*z;P.setNode(L.id,{width:nt,height:et})}),k.forEach(function(L){P.setEdge(L.source,L.target,{weight:L.weight||1})}),Jo.a.layout(P),P.nodes().forEach(function(L){I=P.node(L);var F=l.findIndex(function(z){return z.id===L});l[F].x=I.x,l[F].y=I.y}),P.edges().forEach(function(L){I=P.edge(L);var F=k.findIndex(function(z){return z.source===L.v&&z.target===L.w});t.controlPoints&&k[F].type!=="loop"&&k[F].shape!=="loop"&&(k[F].controlPoints=I.points.slice(1,I.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},e.prototype.sortLevel=function(t){var l=this.nodes,g={};l.forEach(function(w){g[w.y]||(g[w.y]={y:w.y,nodes:[]}),g[w.y].nodes.push(w)}),Object.keys(g).forEach(function(w){var _=g[w].nodes,k=_.length,P={};if(_.forEach(function(L){var F=L.comboId;P[F]||(P[F]={x:0,y:0,count:0}),P[F].x+=L.x,P[F].y+=L.y,P[F].count++}),Object.keys(P).forEach(function(L){P[L].x/=P[L].count,P[L].y/=P[L].count}),k!==1){var I=_.sort(function(L,F){return L.x-F.x}),N=I[0].x,R=(I[k-1].x-N)/(k-1);_.sort(function(L,F){var z=L[t]||"undefined",q=F[t]||"undefined";return z<q?-1:z>q?1:0}).forEach(function(L,F){L.x=N+F*R})}})},e}(Ln);function yi(S,e,t){return S||(Object(ct.isNumber)(e)?function(){return e}:function(){return t})}function ta(S,e,t,l){if(isNaN(e)||isNaN(t))return S;var g,w,_,k,P,I,N,R,L,F=S._root,z={data:l},q=S._x0,nt=S._y0,et=S._x1,st=S._y1;if(!F)return S._root=z,S;for(;F.length;)if((I=e>=(w=(q+et)/2))?q=w:et=w,(N=t>=(_=(nt+st)/2))?nt=_:st=_,g=F,!(F=F[R=N<<1|I]))return g[R]=z,S;if(k=+S._x.call(null,F.data),P=+S._y.call(null,F.data),e===k&&t===P)return z.next=F,g?g[R]=z:S._root=z,S;do g=g?g[R]=new Array(4):S._root=new Array(4),(I=e>=(w=(q+et)/2))?q=w:et=w,(N=t>=(_=(nt+st)/2))?nt=_:st=_;while((R=N<<1|I)==(L=(P>=_)<<1|k>=w));return g[L]=F,g[R]=z,S}var gn=function(e,t,l,g,w){this.node=e,this.x0=t,this.y0=l,this.x1=g,this.y1=w};function wu(S){return S[0]}function Mu(S){return S[1]}function Qi(S,e,t){var l=new Ji(e==null?wu:e,t==null?Mu:t,NaN,NaN,NaN,NaN);return S==null?l:l.addAll(S)}function Ji(S,e,t,l,g,w){this._x=S,this._y=e,this._x0=t,this._y0=l,this._x1=g,this._y1=w,this._root=void 0}function ea(S){for(var e={data:S.data},t=e;S=S.next;)t=t.next={data:S.data};return e}var vn=Qi.prototype=Ji.prototype;vn.copy=function(){var S,e,t=new Ji(this._x,this._y,this._x0,this._y0,this._x1,this._y1),l=this._root;if(!l)return t;if(!l.length)return t._root=ea(l),t;for(S=[{source:l,target:t._root=new Array(4)}];l=S.pop();)for(var g=0;g<4;++g)(e=l.source[g])&&(e.length?S.push({source:e,target:l.target[g]=new Array(4)}):l.target[g]=ea(e));return t},vn.add=function(S){var e=+this._x.call(null,S),t=+this._y.call(null,S);return ta(this.cover(e,t),e,t,S)},vn.addAll=function(S){var e,t,l,g,w=S.length,_=new Array(w),k=new Array(w),P=1/0,I=1/0,N=-1/0,R=-1/0;for(t=0;t<w;++t)isNaN(l=+this._x.call(null,e=S[t]))||isNaN(g=+this._y.call(null,e))||(_[t]=l,k[t]=g,l<P&&(P=l),l>N&&(N=l),g<I&&(I=g),g>R&&(R=g));if(P>N||I>R)return this;for(this.cover(P,I).cover(N,R),t=0;t<w;++t)ta(this,_[t],k[t],S[t]);return this},vn.cover=function(S,e){if(isNaN(S=+S)||isNaN(e=+e))return this;var t=this._x0,l=this._y0,g=this._x1,w=this._y1;if(isNaN(t))g=(t=Math.floor(S))+1,w=(l=Math.floor(e))+1;else{for(var _,k,P=g-t||1,I=this._root;t>S||S>=g||l>e||e>=w;)switch(k=(e<l)<<1|S<t,(_=new Array(4))[k]=I,I=_,P*=2,k){case 0:g=t+P,w=l+P;break;case 1:t=g-P,w=l+P;break;case 2:g=t+P,l=w-P;break;case 3:t=g-P,l=w-P}this._root&&this._root.length&&(this._root=I)}return this._x0=t,this._y0=l,this._x1=g,this._y1=w,this},vn.data=function(){var S=[];return this.visit(function(e){if(!e.length)do S.push(e.data);while(e=e.next)}),S},vn.extent=function(S){return arguments.length?this.cover(+S[0][0],+S[0][1]).cover(+S[1][0],+S[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},vn.find=function(S,e,t){var l,g,w,_,k,P,I,N=this._x0,R=this._y0,L=this._x1,F=this._y1,z=[],q=this._root;for(q&&z.push(new gn(q,N,R,L,F)),t==null?t=1/0:(N=S-t,R=e-t,L=S+t,F=e+t,t*=t);P=z.pop();)if(!(!(q=P.node)||(g=P.x0)>L||(w=P.y0)>F||(_=P.x1)<N||(k=P.y1)<R))if(q.length){var nt=(g+_)/2,et=(w+k)/2;z.push(new gn(q[3],nt,et,_,k),new gn(q[2],g,et,nt,k),new gn(q[1],nt,w,_,et),new gn(q[0],g,w,nt,et)),(I=(e>=et)<<1|S>=nt)&&(P=z[z.length-1],z[z.length-1]=z[z.length-1-I],z[z.length-1-I]=P)}else{var st=S-+this._x.call(null,q.data),dt=e-+this._y.call(null,q.data),Ot=st*st+dt*dt;if(Ot<t){var bt=Math.sqrt(t=Ot);N=S-bt,R=e-bt,L=S+bt,F=e+bt,l=q.data}}return l},vn.remove=function(S){if(isNaN(w=+this._x.call(null,S))||isNaN(_=+this._y.call(null,S)))return this;var e,t,l,g,w,_,k,P,I,N,R,L,F=this._root,z=this._x0,q=this._y0,nt=this._x1,et=this._y1;if(!F)return this;if(F.length)for(;;){if((I=w>=(k=(z+nt)/2))?z=k:nt=k,(N=_>=(P=(q+et)/2))?q=P:et=P,e=F,!(F=F[R=N<<1|I]))return this;if(!F.length)break;(e[R+1&3]||e[R+2&3]||e[R+3&3])&&(t=e,L=R)}for(;F.data!==S;)if(l=F,!(F=F.next))return this;return(g=F.next)&&delete F.next,l?(g?l.next=g:delete l.next,this):e?(g?e[R]=g:delete e[R],(F=e[0]||e[1]||e[2]||e[3])&&F===(e[3]||e[2]||e[1]||e[0])&&!F.length&&(t?t[L]=F:this._root=F),this):(this._root=g,this)},vn.removeAll=function(S){for(var e=0,t=S.length;e<t;++e)this.remove(S[e]);return this},vn.root=function(){return this._root},vn.size=function(){var S=0;return this.visit(function(e){if(!e.length)do++S;while(e=e.next)}),S},vn.visit=function(S){var e,t,l,g,w,_,k=[],P=this._root;for(P&&k.push(new gn(P,this._x0,this._y0,this._x1,this._y1));e=k.pop();)if(!S(P=e.node,l=e.x0,g=e.y0,w=e.x1,_=e.y1)&&P.length){var I=(l+w)/2,N=(g+_)/2;(t=P[3])&&k.push(new gn(t,I,N,w,_)),(t=P[2])&&k.push(new gn(t,l,N,I,_)),(t=P[1])&&k.push(new gn(t,I,g,w,N)),(t=P[0])&&k.push(new gn(t,l,g,I,N))}return this},vn.visitAfter=function(S){var e,t=[],l=[];for(this._root&&t.push(new gn(this._root,this._x0,this._y0,this._x1,this._y1));e=t.pop();){var g=e.node;if(g.length){var w,_=e.x0,k=e.y0,P=e.x1,I=e.y1,N=(_+P)/2,R=(k+I)/2;(w=g[0])&&t.push(new gn(w,_,k,N,R)),(w=g[1])&&t.push(new gn(w,N,k,P,R)),(w=g[2])&&t.push(new gn(w,_,R,N,I)),(w=g[3])&&t.push(new gn(w,N,R,P,I))}l.push(e)}for(;e=l.pop();)S(e.node,e.x0,e.y0,e.x1,e.y1);return this},vn.x=function(S){return arguments.length?(this._x=S,this):this._x},vn.y=function(S){return arguments.length?(this._y=S,this):this._y};var mn=function(e){return function(){return e}},vr=function(e){return 1e-6*(e()-.5)},Su={value:function(){}};function na(){for(var S,e=0,t=arguments.length,l={};e<t;++e){if(!(S=arguments[e]+"")||S in l||/[\s.]/.test(S))throw new Error("illegal type: "+S);l[S]=[]}return new bi(l)}function bi(S){this._=S}function _u(S,e){return S.trim().split(/^|\s+/).map(function(t){var l="",g=t.indexOf(".");if(g>=0&&(l=t.slice(g+1),t=t.slice(0,g)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:l}})}function Ou(S,e){for(var t,l=0,g=S.length;l<g;++l)if((t=S[l]).name===e)return t.value}function ra(S,e,t){for(var l=0,g=S.length;l<g;++l)if(S[l].name===e){S[l]=Su,S=S.slice(0,l).concat(S.slice(l+1));break}return t!=null&&S.push({name:e,value:t}),S}bi.prototype=na.prototype={constructor:bi,on:function(e,t){var l,g=this._,w=_u(e+"",g),_=-1,k=w.length;if(!(arguments.length<2)){if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++_<k;)if(l=(e=w[_]).type)g[l]=ra(g[l],e.name,t);else if(t==null)for(l in g)g[l]=ra(g[l],e.name,null);return this}for(;++_<k;)if((l=(e=w[_]).type)&&(l=Ou(g[l],e.name)))return l},copy:function(){var e={},t=this._;for(var l in t)e[l]=t[l].slice();return new bi(e)},call:function(e,t){if((l=arguments.length-2)>0)for(var l,g,w=new Array(l),_=0;_<l;++_)w[_]=arguments[_+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(_=0,l=(g=this._[e]).length;_<l;++_)g[_].value.apply(t,w)},apply:function(e,t,l){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var g=this._[e],w=0,_=g.length;w<_;++w)g[w].value.apply(t,l)}};var Eu=na;function to(S){return(to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(S)}var xi,Zr,Rr=0,Kr=0,$r=0,wi=0,Ar=0,Mi=0,Qr=(typeof performance=="undefined"?"undefined":to(performance))==="object"&&performance.now?performance:Date,ia=(typeof window=="undefined"?"undefined":to(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(S){setTimeout(S,17)};function oa(){return Ar||(ia(ku),Ar=Qr.now()+Mi)}function ku(){Ar=0}function eo(){this._call=this._time=this._next=null}function aa(S,e,t){var l=new eo;return l.restart(S,e,t),l}function sa(){Ar=(wi=Qr.now())+Mi,Rr=Kr=0;try{(function(){oa(),++Rr;for(var S,e=xi;e;)(S=Ar-e._time)>=0&&e._call.call(null,S),e=e._next;--Rr})()}finally{Rr=0,function(){for(var S,e,t=xi,l=1/0;t;)t._call?(l>t._time&&(l=t._time),S=t,t=t._next):(e=t._next,t._next=null,t=S?S._next=e:xi=e);Zr=S,no(l)}(),Ar=0}}function Pu(){var S=Qr.now(),e=S-wi;e>1e3&&(Mi-=e,wi=S)}function no(S){Rr||(Kr&&(Kr=clearTimeout(Kr)),S-Ar>24?(S<1/0&&(Kr=setTimeout(sa,S-Qr.now()-Mi)),$r&&($r=clearInterval($r))):($r||(wi=Qr.now(),$r=setInterval(Pu,1e3)),Rr=1,ia(sa)))}eo.prototype=aa.prototype={constructor:eo,restart:function(e,t,l){if(typeof e!="function")throw new TypeError("callback is not a function");l=(l==null?oa():+l)+(t==null?0:+t),this._next||Zr===this||(Zr?Zr._next=this:xi=this,Zr=this),this._call=e,this._time=l,no()},stop:function(){this._call&&(this._call=null,this._time=1/0,no())}};function Au(S){return S.x}function Cu(S){return S.y}var ju=Math.PI*(3-Math.sqrt(5)),ua=function(e){var t,l,g=1,w=.001,_=1-Math.pow(w,1/300),k=0,P=.6,I=new Map,N=aa(F),R=Eu("tick","end"),L=(l=1,function(){return(l=(1664525*l+1013904223)%4294967296)/4294967296});function F(){z(),R.call("tick",t),g<w&&(N.stop(),R.call("end",t))}function z(et){var st,dt,Ot=e.length;et===void 0&&(et=1);for(var bt=0;bt<et;++bt)for(g+=(k-g)*_,I.forEach(function(mt){mt(g)}),st=0;st<Ot;++st)(dt=e[st]).fx==null?dt.x+=dt.vx*=P:(dt.x=dt.fx,dt.vx=0),dt.fy==null?dt.y+=dt.vy*=P:(dt.y=dt.fy,dt.vy=0);return t}function q(){for(var et,st=0,dt=e.length;st<dt;++st){if((et=e[st]).index=st,et.fx!=null&&(et.x=et.fx),et.fy!=null&&(et.y=et.fy),isNaN(et.x)||isNaN(et.y)){var Ot=10*Math.sqrt(.5+st),bt=st*ju;et.x=Ot*Math.cos(bt),et.y=Ot*Math.sin(bt)}(isNaN(et.vx)||isNaN(et.vy))&&(et.vx=et.vy=0)}}function nt(et){return et.initialize&&et.initialize(e,L),et}return e==null&&(e=[]),q(),t={tick:z,restart:function(){return N.restart(F),t},stop:function(){return N.stop(),t},nodes:function(st){return arguments.length?(e=st,q(),I.forEach(nt),t):e},alpha:function(st){return arguments.length?(g=+st,t):g},alphaMin:function(st){return arguments.length?(w=+st,t):w},alphaDecay:function(st){return arguments.length?(_=+st,t):+_},alphaTarget:function(st){return arguments.length?(k=+st,t):k},velocityDecay:function(st){return arguments.length?(P=1-st,t):1-P},randomSource:function(st){return arguments.length?(L=st,I.forEach(nt),t):L},force:function(st,dt){return arguments.length>1?(dt==null?I.delete(st):I.set(st,nt(dt)),t):I.get(st)},find:function(st,dt,Ot){var bt,mt,Tt,Dt,Yt,Gt=0,Kt=e.length;for(Ot==null?Ot=1/0:Ot*=Ot,Gt=0;Gt<Kt;++Gt)(Tt=(bt=st-(Dt=e[Gt]).x)*bt+(mt=dt-Dt.y)*mt)<Ot&&(Yt=Dt,Ot=Tt);return Yt},on:function(st,dt){return arguments.length>1?(R.on(st,dt),t):R.on(st)}}},ca=function(){var e,t,l,g,w,_=mn(-30),k=1,P=1/0,I=.81;function N(z){var q,nt=e.length,et=Qi(e,Au,Cu).visitAfter(L);for(g=z,q=0;q<nt;++q)t=e[q],et.visit(F)}function R(){if(e){var z,q,nt=e.length;for(w=new Array(nt),z=0;z<nt;++z)q=e[z],w[q.index]=+_(q,z,e)}}function L(z){var q,nt,et,st,dt,Ot=0,bt=0;if(z.length){for(et=st=dt=0;dt<4;++dt)(q=z[dt])&&(nt=Math.abs(q.value))&&(Ot+=q.value,bt+=nt,et+=nt*q.x,st+=nt*q.y);z.x=et/bt,z.y=st/bt}else{(q=z).x=q.data.x,q.y=q.data.y;do Ot+=w[q.data.index];while(q=q.next)}z.value=Ot}function F(z,q,nt,et){if(!z.value)return!0;var st=z.x-t.x,dt=z.y-t.y,Ot=et-q,bt=st*st+dt*dt;if(Ot*Ot/I<bt)return bt<P&&(st===0&&(bt+=(st=vr(l))*st),dt===0&&(bt+=(dt=vr(l))*dt),bt<k&&(bt=Math.sqrt(k*bt)),t.vx+=st*z.value*g/bt,t.vy+=dt*z.value*g/bt),!0;if(!(z.length||bt>=P)){(z.data!==t||z.next)&&(st===0&&(bt+=(st=vr(l))*st),dt===0&&(bt+=(dt=vr(l))*dt),bt<k&&(bt=Math.sqrt(k*bt)));do z.data!==t&&(Ot=w[z.data.index]*g/bt,t.vx+=st*Ot,t.vy+=dt*Ot);while(z=z.next)}}return N.initialize=function(z,q){e=z,l=q,R()},N.strength=function(z){return arguments.length?(_=typeof z=="function"?z:mn(+z),R(),N):_},N.distanceMin=function(z){return arguments.length?(k=z*z,N):Math.sqrt(k)},N.distanceMax=function(z){return arguments.length?(P=z*z,N):Math.sqrt(P)},N.theta=function(z){return arguments.length?(I=z*z,N):Math.sqrt(I)},N};function ro(S){return(ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(S)}function Iu(S){return S.index}function ha(S,e){var t=S.get(e);if(!t)throw new Error("node not found: "+e);return t}var la=function(e){var t,l,g,w,_,k,P=Iu,I=function(et){return 1/Math.min(w[et.source.index],w[et.target.index])},N=mn(30),R=1;function L(nt){for(var et=0,st=e.length;et<R;++et)for(var dt,Ot,bt,mt,Tt,Dt,Yt,Gt=0;Gt<st;++Gt)Ot=(dt=e[Gt]).source,mt=(bt=dt.target).x+bt.vx-Ot.x-Ot.vx||vr(k),Tt=bt.y+bt.vy-Ot.y-Ot.vy||vr(k),mt*=Dt=((Dt=Math.sqrt(mt*mt+Tt*Tt))-l[Gt])/Dt*nt*t[Gt],Tt*=Dt,bt.vx-=mt*(Yt=_[Gt]),bt.vy-=Tt*Yt,Ot.vx+=mt*(Yt=1-Yt),Ot.vy+=Tt*Yt}function F(){if(g){var nt,et,st=g.length,dt=e.length,Ot=new Map(g.map(function(bt,mt){return[P(bt,mt,g),bt]}));for(nt=0,w=new Array(st);nt<dt;++nt)(et=e[nt]).index=nt,ro(et.source)!=="object"&&(et.source=ha(Ot,et.source)),ro(et.target)!=="object"&&(et.target=ha(Ot,et.target)),w[et.source.index]=(w[et.source.index]||0)+1,w[et.target.index]=(w[et.target.index]||0)+1;for(nt=0,_=new Array(dt);nt<dt;++nt)et=e[nt],_[nt]=w[et.source.index]/(w[et.source.index]+w[et.target.index]);t=new Array(dt),z(),l=new Array(dt),q()}}function z(){if(g)for(var nt=0,et=e.length;nt<et;++nt)t[nt]=+I(e[nt],nt,e)}function q(){if(g)for(var nt=0,et=e.length;nt<et;++nt)l[nt]=+N(e[nt],nt,e)}return e==null&&(e=[]),L.initialize=function(nt,et){g=nt,k=et,F()},L.links=function(nt){return arguments.length?(e=nt,F(),L):e},L.id=function(nt){return arguments.length?(P=nt,L):P},L.iterations=function(nt){return arguments.length?(R=+nt,L):R},L.strength=function(nt){return arguments.length?(I=typeof nt=="function"?nt:mn(+nt),z(),L):I},L.distance=function(nt){return arguments.length?(N=typeof nt=="function"?nt:mn(+nt),q(),L):N},L};function Tu(S){return S.x+S.vx}function Nu(S){return S.y+S.vy}var fa=function(e){var t,l,g,w=1,_=1;function k(){for(var N,R,L,F,z,q,nt,et=t.length,st=0;st<_;++st)for(R=Qi(t,Tu,Nu).visitAfter(P),N=0;N<et;++N)L=t[N],q=l[L.index],nt=q*q,F=L.x+L.vx,z=L.y+L.vy,R.visit(dt);function dt(Ot,bt,mt,Tt,Dt){var Yt=Ot.data,Gt=Ot.r,Kt=q+Gt;if(!Yt)return bt>F+Kt||Tt<F-Kt||mt>z+Kt||Dt<z-Kt;if(Yt.index>L.index){var Zt=F-Yt.x-Yt.vx,Wt=z-Yt.y-Yt.vy,ee=Zt*Zt+Wt*Wt;ee<Kt*Kt&&(Zt===0&&(ee+=(Zt=vr(g))*Zt),Wt===0&&(ee+=(Wt=vr(g))*Wt),ee=(Kt-(ee=Math.sqrt(ee)))/ee*w,L.vx+=(Zt*=ee)*(Kt=(Gt*=Gt)/(nt+Gt)),L.vy+=(Wt*=ee)*Kt,Yt.vx-=Zt*(Kt=1-Kt),Yt.vy-=Wt*Kt)}}}function P(N){if(N.data)return N.r=l[N.data.index];for(var R=N.r=0;R<4;++R)N[R]&&N[R].r>N.r&&(N.r=N[R].r)}function I(){if(t){var N,R,L=t.length;for(l=new Array(L),N=0;N<L;++N)R=t[N],l[R.index]=+e(R,N,t)}}return typeof e!="function"&&(e=mn(e==null?1:+e)),k.initialize=function(N,R){t=N,g=R,I()},k.iterations=function(N){return arguments.length?(_=+N,k):_},k.strength=function(N){return arguments.length?(w=+N,k):w},k.radius=function(N){return arguments.length?(e=typeof N=="function"?N:mn(+N),I(),k):e},k};function Du(){function S(mt){return function(){return mt}}var e,t=function(Tt){return Tt.cluster},l=S(1),g=S(-1),w=S(100),_=S(.1),k=[0,0],P=[],I={},N=[],R=100,L=100,F={none:{x:0,y:0}},z=[],q="force",nt=!0,et=.1;function st(mt){if(!nt)return st;e.tick(),Ot();for(var Tt=0,Dt=P.length,Yt=void 0,Gt=mt*et;Tt<Dt;++Tt)(Yt=P[Tt]).vx+=(F[t(Yt)].x-Yt.x)*Gt,Yt.vy+=(F[t(Yt)].y-Yt.y)*Gt}function dt(){P&&function(){if(!(!P||!P.length)){if(t(P[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var mt=(Dt=[],Yt=[],Gt={},Kt=[],Tt=function(Zt){var Wt={};return Zt.forEach(function(ee){var Qt=t(ee);Wt[Qt]||(Wt[Qt]={count:0,sumforceNodeSize:0})}),Zt.forEach(function(ee){var Qt=t(ee),ue=l(ee),ae=Wt[Qt];ae.count=ae.count+1,ae.sumforceNodeSize=ae.sumforceNodeSize+Math.PI*(ue*ue)*1.3,Wt[Qt]=ae}),Wt}(P),Kt=function(Zt){var Wt={},ee=[];return Zt.forEach(function(Qt){var ue=function(he){var Jt=t(I[he.source]),se=t(I[he.target]);return Jt<=se?Jt+"~"+se:se+"~"+Jt}(Qt),ae=0;Wt[ue]!==void 0&&(ae=Wt[ue]),ae+=1,Wt[ue]=ae}),Object.entries(Wt).forEach(function(Qt){var ue=Qt[0],ae=Qt[1],he=ue.split("~")[0],Jt=ue.split("~")[1];he!==void 0&&Jt!==void 0&&ee.push({source:he,target:Jt,count:ae})}),ee}(N),Object.keys(Tt).forEach(function(Zt,Wt){var ee=Tt[Zt];Dt.push({id:Zt,size:ee.count,r:Math.sqrt(ee.sumforceNodeSize/Math.PI)}),Gt[Zt]=Wt}),Kt.forEach(function(Zt){var Wt=Gt[Zt.source],ee=Gt[Zt.target];Wt!==void 0&&ee!==void 0&&Yt.push({source:Wt,target:ee,count:Zt.count})}),{nodes:Dt,links:Yt}),Tt,Dt,Yt,Gt,Kt;e=ua(mt.nodes).force("x",function(Zt){var Wt,ee,Qt,ue=mn(.1);function ae(Jt){for(var se,me=0,Pe=Wt.length;me<Pe;++me)(se=Wt[me]).vx+=(Qt[me]-se.x)*ee[me]*Jt}function he(){if(Wt){var Jt,se=Wt.length;for(ee=new Array(se),Qt=new Array(se),Jt=0;Jt<se;++Jt)ee[Jt]=isNaN(Qt[Jt]=+Zt(Wt[Jt],Jt,Wt))?0:+ue(Wt[Jt],Jt,Wt)}}return typeof Zt!="function"&&(Zt=mn(Zt==null?0:+Zt)),ae.initialize=function(Jt){Wt=Jt,he()},ae.strength=function(Jt){return arguments.length?(ue=typeof Jt=="function"?Jt:mn(+Jt),he(),ae):ue},ae.x=function(Jt){return arguments.length?(Zt=typeof Jt=="function"?Jt:mn(+Jt),he(),ae):Zt},ae}(R).strength(.1)).force("y",function(Zt){var Wt,ee,Qt,ue=mn(.1);function ae(Jt){for(var se,me=0,Pe=Wt.length;me<Pe;++me)(se=Wt[me]).vy+=(Qt[me]-se.y)*ee[me]*Jt}function he(){if(Wt){var Jt,se=Wt.length;for(ee=new Array(se),Qt=new Array(se),Jt=0;Jt<se;++Jt)ee[Jt]=isNaN(Qt[Jt]=+Zt(Wt[Jt],Jt,Wt))?0:+ue(Wt[Jt],Jt,Wt)}}return typeof Zt!="function"&&(Zt=mn(Zt==null?0:+Zt)),ae.initialize=function(Jt){Wt=Jt,he()},ae.strength=function(Jt){return arguments.length?(ue=typeof Jt=="function"?Jt:mn(+Jt),he(),ae):ue},ae.y=function(Jt){return arguments.length?(Zt=typeof Jt=="function"?Jt:mn(+Jt),he(),ae):Zt},ae}(L).strength(.1)).force("collide",fa(function(Zt){return Zt.r}).iterations(4)).force("charge",ca().strength(g)).force("links",la(mt.nodes.length?mt.links:[]).distance(w).strength(_)),z=e.nodes(),Ot()}}()}function Ot(){return F={none:{x:0,y:0}},z.forEach(function(mt){F[mt.id]={x:mt.x-k[0],y:mt.y-k[1]}}),F}function bt(mt){I={},mt.forEach(function(Tt){I[Tt.id]=Tt})}return st.initialize=function(mt){P=mt,dt()},st.template=function(mt){return arguments.length?(q=mt,dt(),st):q},st.groupBy=function(mt){return arguments.length?typeof mt=="string"?(t=function(Dt){return Dt[mt]},st):(t=mt,st):t},st.enableGrouping=function(mt){return arguments.length?(nt=mt,st):nt},st.strength=function(mt){return arguments.length?(et=mt,st):et},st.centerX=function(mt){return arguments.length?(R=mt,st):R},st.centerY=function(mt){return arguments.length?(L=mt,st):L},st.nodes=function(mt){return arguments.length?(bt(mt||[]),P=mt||[],st):P},st.links=function(mt){return arguments.length?(N=mt||[],dt(),st):N},st.forceNodeSize=function(mt){return arguments.length?(l=typeof mt=="function"?mt:S(+mt),dt(),st):l},st.nodeSize=st.forceNodeSize,st.forceCharge=function(mt){return arguments.length?(g=typeof mt=="function"?mt:S(+mt),dt(),st):g},st.forceLinkDistance=function(mt){return arguments.length?(w=typeof mt=="function"?mt:S(+mt),dt(),st):w},st.forceLinkStrength=function(mt){return arguments.length?(_=typeof mt=="function"?mt:S(+mt),dt(),st):_},st.offset=function(mt){return arguments.length?(k=mt,st):k},st.getFocis=Ot,st}var Bu=s(14),io=s.n(Bu),Ru="LAYOUT_RUN",Lu="LAYOUT_END",da="LAYOUT_TICK",Fu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},e.prototype.init=function(t){this.nodes=t.nodes||[];var l=t.edges||[];this.edges=l.map(function(g){var w={},_=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(g).forEach(function(k){_.indexOf(k)>-1||(w[k]=g[k])}),w}),this.ticking=!1},e.prototype.execute=function(t){var l=this,g=l.nodes,w=l.edges;if(!l.ticking){var _=l.forceSimulation,k=l.alphaMin,P=l.alphaDecay,I=l.alpha;if(_)t&&(l.clustering&&l.clusterForce&&(l.clusterForce.nodes(g),l.clusterForce.links(w)),_.nodes(g),l.edgeForce.links(w)),l.preventOverlap&&l.overlapProcess(_),_.alpha(I).restart(),this.ticking=!0;else try{var N=ca();if(l.nodeStrength&&N.strength(l.nodeStrength),_=ua().nodes(g),l.clustering){var R=Du();R.centerX(l.center[0]).centerY(l.center[1]).template("force").strength(l.clusterFociStrength),w&&R.links(w),g&&R.nodes(g),R.forceLinkDistance(l.clusterEdgeDistance).forceLinkStrength(l.clusterEdgeStrength).forceCharge(l.clusterNodeStrength).forceNodeSize(l.clusterNodeSize),l.clusterForce=R,_.force("group",R)}if(_.force("center",function(q,nt){var et,st=1;function dt(){var Ot,bt,mt=et.length,Tt=0,Dt=0;for(Ot=0;Ot<mt;++Ot)Tt+=(bt=et[Ot]).x,Dt+=bt.y;for(Tt=(Tt/mt-q)*st,Dt=(Dt/mt-nt)*st,Ot=0;Ot<mt;++Ot)(bt=et[Ot]).x-=Tt,bt.y-=Dt}return q==null&&(q=0),nt==null&&(nt=0),dt.initialize=function(Ot){et=Ot},dt.x=function(Ot){return arguments.length?(q=+Ot,dt):q},dt.y=function(Ot){return arguments.length?(nt=+Ot,dt):nt},dt.strength=function(Ot){return arguments.length?(st=+Ot,dt):st},dt}(l.center[0],l.center[1])).force("charge",N).alpha(I).alphaDecay(P).alphaMin(k),l.preventOverlap&&l.overlapProcess(_),w){var L=la().id(function(q){return q.id}).links(w);l.edgeStrength&&L.strength(l.edgeStrength),l.linkDistance&&L.distance(l.linkDistance),l.edgeForce=L,_.force("link",L)}if(l.workerEnabled&&!Yu()&&(l.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),l.workerEnabled){_.stop();for(var F=function(q){var nt=q.alphaMin(),et=q.alphaTarget(),st=q.alpha(),dt=Math.log((nt-et)/(st-et))/Math.log(1-q.alphaDecay());return Math.ceil(dt)}(_),z=1;z<=F;z++)_.tick(),postMessage({type:da,currentTick:z,totalTicks:F,nodes:g},void 0);l.ticking=!1}else _.on("tick",function(){l.tick()}).on("end",function(){l.ticking=!1,l.onLayoutEnd&&l.onLayoutEnd()}),l.ticking=!0;l.forceSimulation=_,l.ticking=!0}catch(q){l.ticking=!1,console.warn(q)}}},e.prototype.overlapProcess=function(t){var l,g,w=this.nodeSize,_=this.nodeSpacing,k=this.collideStrength;if(g=j()(_)?function(){return _}:io()(_)?_:function(){return 0},w)if(io()(w))l=function(R){return w(R)+g(R)};else if(M()(w)){var P=(w[0]>w[1]?w[0]:w[1])/2;l=function(R){return P+g(R)}}else if(j()(w)){var I=w/2;l=function(R){return I+g(R)}}else l=function(){return 10};else l=function(R){return R.size?M()(R.size)?(R.size[0]>R.size[1]?R.size[0]:R.size[1])/2+g(R):R.size/2+g(R):10+g(R)};t.force("collisionForce",fa(l).strength(k))},e.prototype.updateCfg=function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,Wr()(this,t)},e.prototype.destroy=function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0},e}(Ln);function Yu(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var Gu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},e.prototype.execute=function(){var t=this.nodes,l=this.center;if(t&&t.length!==0){if(t.length===1)return t[0].x=l[0],void(t[0].y=l[1]);var g={},w={};t.forEach(function(_,k){g[_.id]=_,w[_.id]=k}),this.nodeMap=g,this.nodeIdxMap=w,this.run()}},e.prototype.run=function(){var t=this,l=t.nodes,g=t.edges,w=t.maxIteration;t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight);var _,k=t.center,P=t.velocityDecay,I=t.clustering;t.initVals(),I&&(_=t.getClusterMap());for(var N=function(nt){var et=[];l.forEach(function(st,dt){et[dt]={x:0,y:0}}),t.applyCalculate(l,g,et),I&&t.applyClusterForce(_,et),l.forEach(function(st,dt){Object(ct.isNumber)(st.x)&&Object(ct.isNumber)(st.y)&&(st.x+=et[dt].x*P,st.y+=et[dt].y*P)}),R.alpha+=(R.alphaTarget-R.alpha)*R.alphaDecay,t.tick()},R=this,L=0;L<w;L++)N();var F=[0,0];l.forEach(function(q){Object(ct.isNumber)(q.x)&&Object(ct.isNumber)(q.y)&&(F[0]+=q.x,F[1]+=q.y)}),F[0]/=l.length,F[1]/=l.length;var z=[k[0]-F[0],k[1]-F[1]];l.forEach(function(q,nt){Object(ct.isNumber)(q.x)&&Object(ct.isNumber)(q.y)&&(q.x+=z[0],q.y+=z[1])})},e.prototype.initVals=function(){for(var t=this.edges,l={},g=0;g<t.length;++g)l[t[g].source]?l[t[g].source]++:l[t[g].source]=1,l[t[g].target]?l[t[g].target]++:l[t[g].target]=1;var w=[];for(g=0;g<t.length;++g)w[g]=l[t[g].source]/(l[t[g].source]+l[t[g].target]);this.bias=w;var _,k,P=this.nodeSize,I=this.nodeSpacing;if(k=Object(ct.isNumber)(I)?function(){return I}:Object(ct.isFunction)(I)?I:function(){return 0},P)if(Object(ct.isFunction)(P))_=function(dt){return P(dt)+k(dt)};else if(Object(ct.isArray)(P)){var N=(P[0]>P[1]?P[0]:P[1])/2;_=function(dt){return N+k(dt)}}else if(Object(ct.isNumber)(P)){var R=P/2;_=function(dt){return R+k(dt)}}else _=function(){return 10};else _=function(dt){return dt.size?Object(ct.isArray)(dt.size)?(dt.size[0]>dt.size[1]?dt.size[0]:dt.size[1])/2+k(dt):dt.size/2+k(dt):10+k(dt)};this.nodeSize=_;var L,F=this.linkDistance;F||(F=50),Object(ct.isNumber)(F)&&(L=function(dt){return F}),this.linkDistance=L;var z,q=this.linkStrength;q||(q=1),Object(ct.isNumber)(q)&&(z=function(dt){return q}),this.linkStrength=z;var nt,et=this.nodeStrength;et||(et=30),Object(ct.isNumber)(et)&&(nt=function(dt){return et}),this.nodeStrength=nt},e.prototype.getClusterMap=function(){var t=this.nodes,l={};for(var g in t.forEach(function(w){if(l[w.cluster]===void 0){var _={name:w.cluster,cx:0,cy:0,count:0};l[w.cluster]=_}var k=l[w.cluster];Object(ct.isNumber)(w.x)&&(k.cx+=w.x),Object(ct.isNumber)(w.y)&&(k.cy+=w.y),k.count++}),l)l[g].cx/=l[g].count,l[g].cy/=l[g].count;return l},e.prototype.applyClusterForce=function(t,l){var g=this.gravity,w=this.nodes,_=this.clusterGravity||g,k=this.alpha;for(var P in w.forEach(function(I,N){if(Object(ct.isNumber)(I.x)&&Object(ct.isNumber)(I.y)){var R=t[I.cluster],L=I.x-R.cx,F=I.y-R.cy,z=Math.sqrt(L*L+F*F);l[N].x-=L*_*k/z,l[N].y-=F*_*k/z}}),t)t[P].cx=0,t[P].cy=0,t[P].count=0;for(var P in w.forEach(function(N){var R=t[N.cluster];Object(ct.isNumber)(N.x)&&(R.cx+=N.x),Object(ct.isNumber)(N.y)&&(R.cy+=N.y),R.count++}),t)t[P].cx/=t[P].count,t[P].cy/=t[P].count},e.prototype.applyCalculate=function(t,l,g){var w={};t.forEach(function(_,k){g[k]={x:0,y:0},t.forEach(function(P,I){if(!(k<I)){var N=_.x-P.x,R=_.y-P.y,L=N*N+R*R;L<1&&(L=Math.sqrt(L)),N===0&&(L+=(N=.01*Math.random())*N),R===0&&(L+=(R=.01*Math.random())*R);var F=Math.sqrt(L);w[_.id+"-"+P.id]={vx:N,vy:R,vl:L,sqrtVl:F},w[P.id+"-"+_.id]={vx:-N,vy:-R,vl:L,sqrtVl:F}}})}),this.calRepulsive(t,g,w),this.calAttractive(l,g,w)},e.prototype.calRepulsive=function(t,l,g){var w=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,_=this.nodeStrength,k=this.alpha,P=this.collideStrength,I=this.preventOverlap,N=this.nodeSize;t.forEach(function(R,L){t.forEach(function(F,z){if(L!==z&&Object(ct.isNumber)(R.x)&&Object(ct.isNumber)(F.x)&&Object(ct.isNumber)(R.y)&&Object(ct.isNumber)(F.y)){var q=g[R.id+"-"+F.id],nt=q.vl,et=q.vx,st=q.vy;if(!(nt>w)&&(l[L].x+=et*_(F)*k/nt,l[L].y+=st*_(F)*k/nt,I&&L<z)){var dt=N(R),Ot=N(F),bt=dt+Ot;if(nt<bt*bt){var mt=g[R.id+"-"+F.id].sqrtVl,Tt=(bt-mt)/mt*P,Dt=Ot*Ot/(dt*dt+Ot*Ot),Yt=et*Tt,Gt=st*Tt;l[L].x+=Yt*Dt,l[L].y+=Gt*Dt,Dt=1-Dt,l[z].x-=Yt*Dt,l[z].y-=Gt*Dt}}}})})},e.prototype.calAttractive=function(t,l,g){var w=this,_=this.linkDistance,k=this.alpha,P=this.linkStrength,I=this.bias;t.forEach(function(N,R){if(N.source&&N.target){var L=w.nodeIdxMap[N.source],F=w.nodeIdxMap[N.target];if(L!==F){var z=w.nodeMap[N.source],q=w.nodeMap[N.target];if(Object(ct.isNumber)(q.x)&&Object(ct.isNumber)(z.x)&&Object(ct.isNumber)(q.y)&&Object(ct.isNumber)(z.y)){var nt=g[N.target+"-"+N.source],et=(nt.vl,nt.sqrtVl),st=nt.vx,dt=nt.vy,Ot=(et-_(N))/et*k*P(N),bt=st*Ot,mt=dt*Ot,Tt=I[R];l[F].x-=bt*Tt,l[F].y-=mt*Tt,l[L].x+=bt*(1-Tt),l[L].y+=mt*(1-Tt)}}}})},e}(Ln),zu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){var t=this,l=this.nodes,g=this.center;if(l&&l.length!==0){if(l.length===1)return l[0].x=g[0],void(l[0].y=g[1]);var w={},_={};l.forEach(function(k,P){Object(ct.isNumber)(k.x)||(k.x=Math.random()*t.width),Object(ct.isNumber)(k.y)||(k.y=Math.random()*t.height),w[k.id]=k,_[k.id]=P}),this.nodeMap=w,this.nodeIdxMap=_,this.run()}},e.prototype.run=function(){var t=this,l=t.nodes,g=t.edges,w=t.maxIteration;t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight);var _=t.center,k=t.width/10,P=Math.sqrt(t.width*t.height/(l.length+1)),I=t.gravity,N=t.speed,R=t.clustering,L={};if(R)for(var F in l.forEach(function(nt){if(L[nt.cluster]===void 0){var et={name:nt.cluster,cx:0,cy:0,count:0};L[nt.cluster]=et}var st=L[nt.cluster];Object(ct.isNumber)(nt.x)&&(st.cx+=nt.x),Object(ct.isNumber)(nt.y)&&(st.cy+=nt.y),st.count++}),L)L[F].cx/=L[F].count,L[F].cy/=L[F].count;for(var z=function(et){var st=[];if(l.forEach(function(bt,mt){st[mt]={x:0,y:0}}),t.applyCalculate(l,g,st,P),R){var dt=t.clusterGravity||I;for(var Ot in l.forEach(function(bt,mt){if(Object(ct.isNumber)(bt.x)&&Object(ct.isNumber)(bt.y)){var Tt=L[bt.cluster],Dt=Math.sqrt((bt.x-Tt.cx)*(bt.x-Tt.cx)+(bt.y-Tt.cy)*(bt.y-Tt.cy)),Yt=P*dt;st[mt].x-=Yt*(bt.x-Tt.cx)/Dt,st[mt].y-=Yt*(bt.y-Tt.cy)/Dt}}),L)L[Ot].cx=0,L[Ot].cy=0,L[Ot].count=0;for(var Ot in l.forEach(function(mt){var Tt=L[mt.cluster];Object(ct.isNumber)(mt.x)&&(Tt.cx+=mt.x),Object(ct.isNumber)(mt.y)&&(Tt.cy+=mt.y),Tt.count++}),L)L[Ot].cx/=L[Ot].count,L[Ot].cy/=L[Ot].count}l.forEach(function(bt,mt){if(Object(ct.isNumber)(bt.x)&&Object(ct.isNumber)(bt.y)){var Tt=.01*P*I;st[mt].x-=Tt*(bt.x-_[0]),st[mt].y-=Tt*(bt.y-_[1])}}),l.forEach(function(bt,mt){if(Object(ct.isNumber)(bt.x)&&Object(ct.isNumber)(bt.y)){var Tt=Math.sqrt(st[mt].x*st[mt].x+st[mt].y*st[mt].y);if(Tt>0){var Dt=Math.min(k*(N/800),Tt);bt.x+=st[mt].x/Tt*Dt,bt.y+=st[mt].y/Tt*Dt}}})},q=0;q<w;q++)z()},e.prototype.applyCalculate=function(t,l,g,w){this.calRepulsive(t,g,w),this.calAttractive(l,g,w)},e.prototype.calRepulsive=function(t,l,g){t.forEach(function(w,_){l[_]={x:0,y:0},t.forEach(function(k,P){if(_!==P&&Object(ct.isNumber)(w.x)&&Object(ct.isNumber)(k.x)&&Object(ct.isNumber)(w.y)&&Object(ct.isNumber)(k.y)){var I=w.x-k.x,N=w.y-k.y,R=I*I+N*N;if(R===0){R=1;var L=_>P?1:-1;I=.01*L,N=.01*L}var F=g*g/R;l[_].x+=I*F,l[_].y+=N*F}})})},e.prototype.calAttractive=function(t,l,g){var w=this;t.forEach(function(_){if(_.source&&_.target){var k=w.nodeIdxMap[_.source],P=w.nodeIdxMap[_.target];if(k!==P){var I=w.nodeMap[_.source],N=w.nodeMap[_.target];if(Object(ct.isNumber)(N.x)&&Object(ct.isNumber)(I.x)&&Object(ct.isNumber)(N.y)&&Object(ct.isNumber)(I.y)){var R=N.x-I.x,L=N.y-I.y,F=Math.sqrt(R*R+L*L),z=F*F/g;l[P].x-=R/F*z,l[P].y-=L/F*z,l[k].x+=R/F*z,l[k].y+=L/F*z}}}})},e}(Ln),Xu=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},e.prototype.execute=function(){var t=this,l=t.nodes,g=l.length,w=t.center;if(g!==0){if(g===1)return l[0].x=w[0],void(l[0].y=w[1]);var _=t.edges,k=[];l.forEach(function(st){k.push(st)});var P={};if(k.forEach(function(st,dt){P[st.id]=dt}),(t.sortBy==="degree"||!D()(t.sortBy)||k[0][t.sortBy]===void 0)&&(t.sortBy="degree",ut(l[0].degree))){var I=In(k.length,P,_);k.forEach(function(st,dt){st.degree=I[dt]})}k.sort(function(st,dt){return dt[t.sortBy]-st[t.sortBy]}),t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight);var N=t.rows,R=t.cols!=null?t.cols:t.columns;if(t.cells=g,N!=null&&R!=null?(t.rows=N,t.cols=R):N!=null&&R==null?(t.rows=N,t.cols=Math.ceil(t.cells/t.rows)):N==null&&R!=null?(t.cols=R,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells)((F=t.small())-1)*(L=t.large())>=t.cells?t.small(F-1):(L-1)*F>=t.cells&&t.large(L-1);else for(;t.cols*t.rows<t.cells;){var L,F=t.small();((L=t.large())+1)*F>=t.cells?t.large(L+1):t.small(F+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&k.forEach(function(st){var dt,Ot;st.x&&st.y||(st.x=0,st.y=0),Object(ct.isArray)(st.size)?(dt=st.size[0],Ot=st.size[1]):Object(ct.isNumber)(st.size)&&(dt=st.size,Ot=st.size),dt!==void 0&&Ot!==void 0||(Object(ct.isArray)(t.nodeSize)?(dt=t.nodeSize[0],Ot=t.nodeSize[1]):Object(ct.isNumber)(t.nodeSize)?(dt=t.nodeSize,Ot=t.nodeSize):(dt=30,Ot=30));var bt=t.preventOverlapPadding,mt=dt+bt,Tt=Ot+bt;t.cellWidth=Math.max(t.cellWidth,mt),t.cellHeight=Math.max(t.cellHeight,Tt)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var z=0;z<k.length;z++){var q=k[z],nt=void 0;if(t.position&&(nt=t.position(q)),nt&&(nt.row!==void 0||nt.col!==void 0)){var et={row:nt.row,col:nt.col};if(et.col===void 0)for(et.col=0;t.used(et.row,et.col);)et.col++;else if(et.row===void 0)for(et.row=0;t.used(et.row,et.col);)et.row++;t.id2manPos[q.id]=et,t.use(et.row,et.col)}t.getPos(q)}}},e.prototype.small=function(t){var l,g=this.rows||5,w=this.cols||5;return t==null?l=Math.min(g,w):Math.min(g,w)===this.rows?this.rows=t:this.cols=t,l},e.prototype.large=function(t){var l,g=this.rows||5,w=this.cols||5;return t==null?l=Math.max(g,w):Math.max(g,w)===this.rows?this.rows=t:this.cols=t,l},e.prototype.used=function(t,l){return this.cellUsed["c-"+t+"-"+l]||!1},e.prototype.use=function(t,l){this.cellUsed["c-"+t+"-"+l]=!0},e.prototype.moveToNextCell=function(){var t=this.cols||5;this.col++,this.col>=t&&(this.col=0,this.row++)},e.prototype.getPos=function(t){var l,g,w=this.begin,_=this.cellWidth,k=this.cellHeight,P=this.id2manPos[t.id];if(P)l=P.col*_+_/2+w[0],g=P.row*k+k/2+w[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();l=this.col*_+_/2+w[0],g=this.row*k+k/2+w[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=l,t.y=g},e}(Ln),Hu=Object.prototype.toString;function Si(S){return Hu.call(S).endsWith("Array]")}var Vu=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Si(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var l=t.fromIndex,g=l===void 0?0:l,w=t.toIndex,_=w===void 0?e.length:w;if(g<0||g>=e.length||!Number.isInteger(g))throw new Error("fromIndex must be a positive integer smaller than length");if(_<=g||_>e.length||!Number.isInteger(_))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var k=e[g],P=g+1;P<_;P++)e[P]>k&&(k=e[P]);return k},Uu=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Si(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var l=t.fromIndex,g=l===void 0?0:l,w=t.toIndex,_=w===void 0?e.length:w;if(g<0||g>=e.length||!Number.isInteger(g))throw new Error("fromIndex must be a positive integer smaller than length");if(_<=g||_>e.length||!Number.isInteger(_))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var k=e[g],P=g+1;P<_;P++)e[P]<k&&(k=e[P]);return k},pa=function(e){var t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Si(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");if(l.output!==void 0){if(!Si(l.output))throw new TypeError("output option must be an array if specified");t=l.output}else t=new Array(e.length);var g=Uu(e),w=Vu(e);if(g===w)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var _=l.min,k=_===void 0?l.autoMinMax?g:0:_,P=l.max,I=P===void 0?l.autoMinMax?w:1:P;if(k>=I)throw new RangeError("min option must be smaller than max option");for(var N=(I-k)/(w-g),R=0;R<e.length;R++)t[R]=(e[R]-g)*N+k;return t},_i=" ".repeat(2),ga=" ".repeat(4);function va(S){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.maxRows,l=t===void 0?15:t,g=e.maxColumns,w=g===void 0?10:g,_=e.maxNumSize,k=_===void 0?8:_;return"".concat(S.constructor.name,` {
`).concat(_i,`[
`).concat(ga).concat(qu(S,l,w,k),`
`).concat(_i,`]
`).concat(_i,"rows: ").concat(S.rows,`
`).concat(_i,"columns: ").concat(S.columns,`
}`)}function qu(S,e,t,l){for(var g=S.rows,w=S.columns,_=Math.min(g,e),k=Math.min(w,t),P=[],I=0;I<_;I++){for(var N=[],R=0;R<k;R++)N.push(Wu(S.get(I,R),l));P.push("".concat(N.join(" ")))}return k!==w&&(P[P.length-1]+=" ... ".concat(w-t," more columns")),_!==g&&P.push("... ".concat(g-e," more rows")),P.join(`
`.concat(ga))}function Wu(S,e){var t=String(S);if(t.length<=e)return t.padEnd(e," ");var l=S.toPrecision(e-2);if(l.length<=e)return l;var g=S.toExponential(e-2),w=g.indexOf("e"),_=g.slice(w);return g.slice(0,e-_.length)+_}function oo(S){return(oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(S)}function Vn(S,e,t){var l=t?S.rows:S.rows-1;if(e<0||e>l)throw new RangeError("Row index out of range")}function Un(S,e,t){var l=t?S.columns:S.columns-1;if(e<0||e>l)throw new RangeError("Column index out of range")}function Lr(S,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==S.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function Fr(S,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==S.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function Zu(S,e){if(oo(e)!=="object")throw new TypeError("unexpected type for row indices");if(e.some(function(t){return t<0||t>=S.rows}))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function Ku(S,e){if(oo(e)!=="object")throw new TypeError("unexpected type for column indices");if(e.some(function(t){return t<0||t>=S.columns}))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function ma(S,e,t,l,g){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Ei("startRow",e),Ei("endRow",t),Ei("startColumn",l),Ei("endColumn",g),e>t||l>g||e<0||e>=S.rows||t<0||t>=S.rows||l<0||l>=S.columns||g<0||g>=S.columns)throw new RangeError("Submatrix indices are out of range")}function Oi(S){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],l=0;l<S;l++)t.push(e);return t}function Ei(S,e){if(typeof e!="number")throw new TypeError("".concat(S," must be a number"))}function $u(S,e,t){for(var l=S.rows,g=S.columns,w=[],_=0;_<l;_++){for(var k=0,P=0,I=0,N=0;N<g;N++)k+=I=S.get(_,N)-t[_],P+=I*I;e?w.push((P-k*k/g)/(g-1)):w.push((P-k*k/g)/g)}return w}function Qu(S,e,t){for(var l=S.rows,g=S.columns,w=[],_=0;_<g;_++){for(var k=0,P=0,I=0,N=0;N<l;N++)k+=I=S.get(N,_)-t[_],P+=I*I;e?w.push((P-k*k/l)/(l-1)):w.push((P-k*k/l)/l)}return w}function Ju(S,e,t){for(var l=S.rows,g=S.columns,w=l*g,_=0,k=0,P=0,I=0;I<l;I++)for(var N=0;N<g;N++)_+=P=S.get(I,N)-t,k+=P*P;return e?(k-_*_/w)/(w-1):(k-_*_/w)/w}function tc(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)-e[t])}function ec(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)-e[l])}function nc(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)-e)}function rc(S){for(var e=[],t=0;t<S.rows;t++){for(var l=0,g=0;g<S.columns;g++)l+=Math.pow(S.get(t,g),2)/(S.columns-1);e.push(Math.sqrt(l))}return e}function ic(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)/e[t])}function oc(S){for(var e=[],t=0;t<S.columns;t++){for(var l=0,g=0;g<S.rows;g++)l+=Math.pow(S.get(g,t),2)/(S.rows-1);e.push(Math.sqrt(l))}return e}function ac(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)/e[l])}function sc(S){for(var e=S.size-1,t=0,l=0;l<S.columns;l++)for(var g=0;g<S.rows;g++)t+=Math.pow(S.get(g,l),2)/e;return Math.sqrt(t)}function uc(S,e){for(var t=0;t<S.rows;t++)for(var l=0;l<S.columns;l++)S.set(t,l,S.get(t,l)/e)}function ya(S,e){return(ya=Object.setPrototypeOf||function(t,l){return t.__proto__=l,t})(S,e)}function cc(S){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,l=ao(S);if(e){var g=ao(this).constructor;t=Reflect.construct(l,arguments,g)}else t=l.apply(this,arguments);return ba(this,t)}}function ba(S,e){return!e||On(e)!=="object"&&typeof e!="function"?function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(S):e}function ao(S){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(S)}function On(S){return(On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(S)}function xa(S,e){if(!(S instanceof e))throw new TypeError("Cannot call a class as a function")}function wa(S,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function Ma(S,e,t){return e&&wa(S.prototype,e),t&&wa(S,t),S}var qe=function(){function S(){xa(this,S)}return Ma(S,[{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)t.call(this,l,g);return this}},{key:"to1DArray",value:function(){for(var t=[],l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)t.push(this.get(l,g));return t}},{key:"to2DArray",value:function(){for(var t=[],l=0;l<this.rows;l++){t.push([]);for(var g=0;g<this.columns;g++)t[l].push(this.get(l,g))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var l=0;l<=t;l++)if(this.get(t,l)!==this.get(l,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,l=0,g=-1,w=!0,_=!1;t<this.rows&&w;){for(l=0,_=!1;l<this.columns&&_===!1;)this.get(t,l)===0?l++:this.get(t,l)===1&&l>g?(_=!0,g=l):(w=!1,_=!0);t++}return w}},{key:"isReducedEchelonForm",value:function(){for(var t=0,l=0,g=-1,w=!0,_=!1;t<this.rows&&w;){for(l=0,_=!1;l<this.columns&&_===!1;)this.get(t,l)===0?l++:this.get(t,l)===1&&l>g?(_=!0,g=l):(w=!1,_=!0);for(var k=l+1;k<this.rows;k++)this.get(t,k)!==0&&(w=!1);t++}return w}},{key:"echelonForm",value:function(){for(var t=this.clone(),l=0,g=0;l<t.rows&&g<t.columns;){for(var w=l,_=l;_<t.rows;_++)t.get(_,g)>t.get(w,g)&&(w=_);if(t.get(w,g)===0)g++;else{t.swapRows(l,w);for(var k=t.get(l,g),P=g;P<t.columns;P++)t.set(l,P,t.get(l,P)/k);for(var I=l+1;I<t.rows;I++){var N=t.get(I,g)/t.get(l,g);t.set(I,g,0);for(var R=g+1;R<t.columns;R++)t.set(I,R,t.get(I,R)-t.get(l,R)*N)}l++,g++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),l=t.columns,g=t.rows,w=g-1;w>=0;)if(t.maxRow(w)===0)w--;else{for(var _=0,k=!1;_<g&&k===!1;)t.get(w,_)===1?k=!0:_++;for(var P=0;P<w;P++)for(var I=t.get(P,_),N=_;N<l;N++){var R=t.get(P,N)-I*t.get(w,N);t.set(P,N,R)}w--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(On(t)!=="object")throw new TypeError("options must be an object");var l=t.rows,g=l===void 0?1:l,w=t.columns,_=w===void 0?1:w;if(!Number.isInteger(g)||g<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(_)||_<=0)throw new TypeError("columns must be a positive integer");for(var k=new Ee(this.rows*g,this.columns*_),P=0;P<g;P++)for(var I=0;I<_;I++)k.setSubMatrix(this,this.rows*P,this.columns*I);return k}},{key:"fill",value:function(t){for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){Vn(this,t);for(var l=[],g=0;g<this.columns;g++)l.push(this.get(t,g));return l}},{key:"getRowVector",value:function(t){return Ee.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,l){Vn(this,t),l=Lr(this,l);for(var g=0;g<this.columns;g++)this.set(t,g,l[g]);return this}},{key:"swapRows",value:function(t,l){Vn(this,t),Vn(this,l);for(var g=0;g<this.columns;g++){var w=this.get(t,g);this.set(t,g,this.get(l,g)),this.set(l,g,w)}return this}},{key:"getColumn",value:function(t){Un(this,t);for(var l=[],g=0;g<this.rows;g++)l.push(this.get(g,t));return l}},{key:"getColumnVector",value:function(t){return Ee.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,l){Un(this,t),l=Fr(this,l);for(var g=0;g<this.rows;g++)this.set(g,t,l[g]);return this}},{key:"swapColumns",value:function(t,l){Un(this,t),Un(this,l);for(var g=0;g<this.rows;g++){var w=this.get(g,t);this.set(g,t,this.get(g,l)),this.set(g,l,w)}return this}},{key:"addRowVector",value:function(t){t=Lr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)+t[g]);return this}},{key:"subRowVector",value:function(t){t=Lr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)-t[g]);return this}},{key:"mulRowVector",value:function(t){t=Lr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)*t[g]);return this}},{key:"divRowVector",value:function(t){t=Lr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)/t[g]);return this}},{key:"addColumnVector",value:function(t){t=Fr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)+t[l]);return this}},{key:"subColumnVector",value:function(t){t=Fr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)-t[l]);return this}},{key:"mulColumnVector",value:function(t){t=Fr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)*t[l]);return this}},{key:"divColumnVector",value:function(t){t=Fr(this,t);for(var l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.set(l,g,this.get(l,g)/t[l]);return this}},{key:"mulRow",value:function(t,l){Vn(this,t);for(var g=0;g<this.columns;g++)this.set(t,g,this.get(t,g)*l);return this}},{key:"mulColumn",value:function(t,l){Un(this,t);for(var g=0;g<this.rows;g++)this.set(g,t,this.get(g,t)*l);return this}},{key:"max",value:function(){for(var t=this.get(0,0),l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.get(l,g)>t&&(t=this.get(l,g));return t}},{key:"maxIndex",value:function(){for(var t=this.get(0,0),l=[0,0],g=0;g<this.rows;g++)for(var w=0;w<this.columns;w++)this.get(g,w)>t&&(t=this.get(g,w),l[0]=g,l[1]=w);return l}},{key:"min",value:function(){for(var t=this.get(0,0),l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)this.get(l,g)<t&&(t=this.get(l,g));return t}},{key:"minIndex",value:function(){for(var t=this.get(0,0),l=[0,0],g=0;g<this.rows;g++)for(var w=0;w<this.columns;w++)this.get(g,w)<t&&(t=this.get(g,w),l[0]=g,l[1]=w);return l}},{key:"maxRow",value:function(t){Vn(this,t);for(var l=this.get(t,0),g=1;g<this.columns;g++)this.get(t,g)>l&&(l=this.get(t,g));return l}},{key:"maxRowIndex",value:function(t){Vn(this,t);for(var l=this.get(t,0),g=[t,0],w=1;w<this.columns;w++)this.get(t,w)>l&&(l=this.get(t,w),g[1]=w);return g}},{key:"minRow",value:function(t){Vn(this,t);for(var l=this.get(t,0),g=1;g<this.columns;g++)this.get(t,g)<l&&(l=this.get(t,g));return l}},{key:"minRowIndex",value:function(t){Vn(this,t);for(var l=this.get(t,0),g=[t,0],w=1;w<this.columns;w++)this.get(t,w)<l&&(l=this.get(t,w),g[1]=w);return g}},{key:"maxColumn",value:function(t){Un(this,t);for(var l=this.get(0,t),g=1;g<this.rows;g++)this.get(g,t)>l&&(l=this.get(g,t));return l}},{key:"maxColumnIndex",value:function(t){Un(this,t);for(var l=this.get(0,t),g=[0,t],w=1;w<this.rows;w++)this.get(w,t)>l&&(l=this.get(w,t),g[0]=w);return g}},{key:"minColumn",value:function(t){Un(this,t);for(var l=this.get(0,t),g=1;g<this.rows;g++)this.get(g,t)<l&&(l=this.get(g,t));return l}},{key:"minColumnIndex",value:function(t){Un(this,t);for(var l=this.get(0,t),g=[0,t],w=1;w<this.rows;w++)this.get(w,t)<l&&(l=this.get(w,t),g[0]=w);return g}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),l=[],g=0;g<t;g++)l.push(this.get(g,g));return l}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",l=0;if(t==="max")return this.max();if(t==="frobenius"){for(var g=0;g<this.rows;g++)for(var w=0;w<this.columns;w++)l+=this.get(g,w)*this.get(g,w);return Math.sqrt(l)}throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)t+=this.get(l,g),this.set(l,g,t);return this}},{key:"dot",value:function(t){S.isMatrix(t)&&(t=t.to1DArray());var l=this.to1DArray();if(l.length!==t.length)throw new RangeError("vectors do not have the same size");for(var g=0,w=0;w<l.length;w++)g+=l[w]*t[w];return g}},{key:"mmul",value:function(t){t=Ee.checkMatrix(t);for(var l=this.rows,g=this.columns,w=t.columns,_=new Ee(l,w),k=new Float64Array(g),P=0;P<w;P++){for(var I=0;I<g;I++)k[I]=t.get(I,P);for(var N=0;N<l;N++){for(var R=0,L=0;L<g;L++)R+=this.get(N,L)*k[L];_.set(N,P,R)}}return _}},{key:"strassen2x2",value:function(t){t=Ee.checkMatrix(t);var l=new Ee(2,2),g=this.get(0,0),w=t.get(0,0),_=this.get(0,1),k=t.get(0,1),P=this.get(1,0),I=t.get(1,0),N=this.get(1,1),R=t.get(1,1),L=(g+N)*(w+R),F=(P+N)*w,z=g*(k-R),q=N*(I-w),nt=(g+_)*R,et=L+q-nt+(_-N)*(I+R),st=z+nt,dt=F+q,Ot=L-F+z+(P-g)*(w+k);return l.set(0,0,et),l.set(0,1,st),l.set(1,0,dt),l.set(1,1,Ot),l}},{key:"strassen3x3",value:function(t){t=Ee.checkMatrix(t);var l=new Ee(3,3),g=this.get(0,0),w=this.get(0,1),_=this.get(0,2),k=this.get(1,0),P=this.get(1,1),I=this.get(1,2),N=this.get(2,0),R=this.get(2,1),L=this.get(2,2),F=t.get(0,0),z=t.get(0,1),q=t.get(0,2),nt=t.get(1,0),et=t.get(1,1),st=t.get(1,2),dt=t.get(2,0),Ot=t.get(2,1),bt=t.get(2,2),mt=(g-k)*(-z+et),Tt=(-g+k+P)*(F-z+et),Dt=(k+P)*(-F+z),Yt=g*F,Gt=(-g+N+R)*(F-q+st),Kt=(-g+N)*(q-st),Zt=(N+R)*(-F+q),Wt=(-_+R+L)*(et+dt-Ot),ee=(_-L)*(et-Ot),Qt=_*dt,ue=(R+L)*(-dt+Ot),ae=(-_+P+I)*(st+dt-bt),he=(_-I)*(st-bt),Jt=(P+I)*(-dt+bt),se=Yt+Qt+w*nt,me=(g+w+_-k-P-R-L)*et+Tt+Dt+Yt+Wt+Qt+ue,Pe=Yt+Gt+Zt+(g+w+_-P-I-N-R)*st+Qt+ae+Jt,Ce=mt+P*(-F+z+nt-et-st-dt+bt)+Tt+Yt+Qt+ae+he,Ve=mt+Tt+Dt+Yt+I*Ot,Fe=Qt+ae+he+Jt+k*q,sr=Yt+Gt+Kt+R*(-F+q+nt-et-st-dt+Ot)+Wt+ee+Qt,ur=Wt+ee+Qt+ue+N*z,qn=Yt+Gt+Kt+Zt+L*bt;return l.set(0,0,se),l.set(0,1,me),l.set(0,2,Pe),l.set(1,0,Ce),l.set(1,1,Ve),l.set(1,2,Fe),l.set(2,0,sr),l.set(2,1,ur),l.set(2,2,qn),l}},{key:"mmulStrassen",value:function(t){t=Ee.checkMatrix(t);var l=this.clone(),g=l.rows,w=l.columns,_=t.rows,k=t.columns;function P(R,L,F){var z=R.rows,q=R.columns;if(z===L&&q===F)return R;var nt=S.zeros(L,F);return nt=nt.setSubMatrix(R,0,0)}w!==_&&console.warn("Multiplying ".concat(g," x ").concat(w," and ").concat(_," x ").concat(k," matrix: dimensions do not match."));var I=Math.max(g,_),N=Math.max(w,k);return function R(L,F,z,q){if(z<=512||q<=512)return L.mmul(F);z%2==1&&q%2==1?(L=P(L,z+1,q+1),F=P(F,z+1,q+1)):z%2==1?(L=P(L,z+1,q),F=P(F,z+1,q)):q%2==1&&(L=P(L,z,q+1),F=P(F,z,q+1));var nt=parseInt(L.rows/2,10),et=parseInt(L.columns/2,10),st=L.subMatrix(0,nt-1,0,et-1),dt=F.subMatrix(0,nt-1,0,et-1),Ot=L.subMatrix(0,nt-1,et,L.columns-1),bt=F.subMatrix(0,nt-1,et,F.columns-1),mt=L.subMatrix(nt,L.rows-1,0,et-1),Tt=F.subMatrix(nt,F.rows-1,0,et-1),Dt=L.subMatrix(nt,L.rows-1,et,L.columns-1),Yt=F.subMatrix(nt,F.rows-1,et,F.columns-1),Gt=R(S.add(st,Dt),S.add(dt,Yt),nt,et),Kt=R(S.add(mt,Dt),dt,nt,et),Zt=R(st,S.sub(bt,Yt),nt,et),Wt=R(Dt,S.sub(Tt,dt),nt,et),ee=R(S.add(st,Ot),Yt,nt,et),Qt=R(S.sub(mt,st),S.add(dt,bt),nt,et),ue=R(S.sub(Ot,Dt),S.add(Tt,Yt),nt,et),ae=S.add(Gt,Wt);ae.sub(ee),ae.add(ue);var he=S.add(Zt,ee),Jt=S.add(Kt,Wt),se=S.sub(Gt,Kt);se.add(Zt),se.add(Qt);var me=S.zeros(2*ae.rows,2*ae.columns);return(me=(me=(me=(me=me.setSubMatrix(ae,0,0)).setSubMatrix(he,ae.rows,0)).setSubMatrix(Jt,0,ae.columns)).setSubMatrix(se,ae.rows,ae.columns)).subMatrix(0,z-1,0,q-1)}(l=P(l,I,N),t=P(t,I,N),I,N)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(On(t)!=="object")throw new TypeError("options must be an object");var l=t.min,g=l===void 0?0:l,w=t.max,_=w===void 0?1:w;if(!Number.isFinite(g))throw new TypeError("min must be a number");if(!Number.isFinite(_))throw new TypeError("max must be a number");if(g>=_)throw new RangeError("min must be smaller than max");for(var k=new Ee(this.rows,this.columns),P=0;P<this.rows;P++){var I=this.getRow(P);pa(I,{min:g,max:_,output:I}),k.setRow(P,I)}return k}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(On(t)!=="object")throw new TypeError("options must be an object");var l=t.min,g=l===void 0?0:l,w=t.max,_=w===void 0?1:w;if(!Number.isFinite(g))throw new TypeError("min must be a number");if(!Number.isFinite(_))throw new TypeError("max must be a number");if(g>=_)throw new RangeError("min must be smaller than max");for(var k=new Ee(this.rows,this.columns),P=0;P<this.columns;P++){var I=this.getColumn(P);pa(I,{min:g,max:_,output:I}),k.setColumn(P,I)}return k}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),l=0;l<this.rows;l++)for(var g=0;g<t;g++){var w=this.get(l,g),_=this.get(l,this.columns-1-g);this.set(l,g,_),this.set(l,this.columns-1-g,w)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),l=0;l<this.columns;l++)for(var g=0;g<t;g++){var w=this.get(g,l),_=this.get(this.rows-1-g,l);this.set(g,l,_),this.set(this.rows-1-g,l,w)}return this}},{key:"kroneckerProduct",value:function(t){t=Ee.checkMatrix(t);for(var l=this.rows,g=this.columns,w=t.rows,_=t.columns,k=new Ee(l*w,g*_),P=0;P<l;P++)for(var I=0;I<g;I++)for(var N=0;N<w;N++)for(var R=0;R<_;R++)k.set(w*P+N,_*I+R,this.get(P,I)*t.get(N,R));return k}},{key:"transpose",value:function(){for(var t=new Ee(this.columns,this.rows),l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)t.set(g,l,this.get(l,g));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sa,l=0;l<this.rows;l++)this.setRow(l,this.getRow(l).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sa,l=0;l<this.columns;l++)this.setColumn(l,this.getColumn(l).sort(t));return this}},{key:"subMatrix",value:function(t,l,g,w){ma(this,t,l,g,w);for(var _=new Ee(l-t+1,w-g+1),k=t;k<=l;k++)for(var P=g;P<=w;P++)_.set(k-t,P-g,this.get(k,P));return _}},{key:"subMatrixRow",value:function(t,l,g){if(l===void 0&&(l=0),g===void 0&&(g=this.columns-1),l>g||l<0||l>=this.columns||g<0||g>=this.columns)throw new RangeError("Argument out of range");for(var w=new Ee(t.length,g-l+1),_=0;_<t.length;_++)for(var k=l;k<=g;k++){if(t[_]<0||t[_]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[_]));w.set(_,k-l,this.get(t[_],k))}return w}},{key:"subMatrixColumn",value:function(t,l,g){if(l===void 0&&(l=0),g===void 0&&(g=this.rows-1),l>g||l<0||l>=this.rows||g<0||g>=this.rows)throw new RangeError("Argument out of range");for(var w=new Ee(g-l+1,t.length),_=0;_<t.length;_++)for(var k=l;k<=g;k++){if(t[_]<0||t[_]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[_]));w.set(k-l,_,this.get(k,t[_]))}return w}},{key:"setSubMatrix",value:function(t,l,g){ma(this,l,l+(t=Ee.checkMatrix(t)).rows-1,g,g+t.columns-1);for(var w=0;w<t.rows;w++)for(var _=0;_<t.columns;_++)this.set(l+w,g+_,t.get(w,_));return this}},{key:"selection",value:function(t,l){for(var g=function(N,R,L){return{row:Zu(N,R),column:Ku(N,L)}}(this,t,l),w=new Ee(t.length,l.length),_=0;_<g.row.length;_++)for(var k=g.row[_],P=0;P<g.column.length;P++){var I=g.column[P];w.set(_,P,this.get(k,I))}return w}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),l=0,g=0;g<t;g++)l+=this.get(g,g);return l}},{key:"clone",value:function(){for(var t=new Ee(this.rows,this.columns),l=0;l<this.rows;l++)for(var g=0;g<this.columns;g++)t.set(l,g,this.get(l,g));return t}},{key:"sum",value:function(t){switch(t){case"row":return function(l){for(var g=Oi(l.rows),w=0;w<l.rows;++w)for(var _=0;_<l.columns;++_)g[w]+=l.get(w,_);return g}(this);case"column":return function(l){for(var g=Oi(l.columns),w=0;w<l.rows;++w)for(var _=0;_<l.columns;++_)g[_]+=l.get(w,_);return g}(this);case void 0:return function(l){for(var g=0,w=0;w<l.rows;w++)for(var _=0;_<l.columns;_++)g+=l.get(w,_);return g}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return function(l){for(var g=Oi(l.rows,1),w=0;w<l.rows;++w)for(var _=0;_<l.columns;++_)g[w]*=l.get(w,_);return g}(this);case"column":return function(l){for(var g=Oi(l.columns,1),w=0;w<l.rows;++w)for(var _=0;_<l.columns;++_)g[_]*=l.get(w,_);return g}(this);case void 0:return function(l){for(var g=1,w=0;w<l.rows;w++)for(var _=0;_<l.columns;_++)g*=l.get(w,_);return g}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var l=this.sum(t);switch(t){case"row":for(var g=0;g<this.rows;g++)l[g]/=this.columns;return l;case"column":for(var w=0;w<this.columns;w++)l[w]/=this.rows;return l;case void 0:return l/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(On(t)==="object"&&(l=t,t=void 0),On(l)!=="object")throw new TypeError("options must be an object");var g=l,w=g.unbiased,_=w===void 0||w,k=g.mean,P=k===void 0?this.mean(t):k;if(typeof _!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(P))throw new TypeError("mean must be an array");return $u(this,_,P);case"column":if(!Array.isArray(P))throw new TypeError("mean must be an array");return Qu(this,_,P);case void 0:if(typeof P!="number")throw new TypeError("mean must be a number");return Ju(this,_,P);default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,l){On(t)==="object"&&(l=t,t=void 0);var g=this.variance(t,l);if(t===void 0)return Math.sqrt(g);for(var w=0;w<g.length;w++)g[w]=Math.sqrt(g[w]);return g}},{key:"center",value:function(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(On(t)==="object"&&(l=t,t=void 0),On(l)!=="object")throw new TypeError("options must be an object");var g=l,w=g.center,_=w===void 0?this.mean(t):w;switch(t){case"row":if(!Array.isArray(_))throw new TypeError("center must be an array");return tc(this,_),this;case"column":if(!Array.isArray(_))throw new TypeError("center must be an array");return ec(this,_),this;case void 0:if(typeof _!="number")throw new TypeError("center must be a number");return nc(this,_),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(On(t)==="object"&&(l=t,t=void 0),On(l)!=="object")throw new TypeError("options must be an object");var g=l.scale;switch(t){case"row":if(g===void 0)g=rc(this);else if(!Array.isArray(g))throw new TypeError("scale must be an array");return ic(this,g),this;case"column":if(g===void 0)g=oc(this);else if(!Array.isArray(g))throw new TypeError("scale must be an array");return ac(this,g),this;case void 0:if(g===void 0)g=sc(this);else if(typeof g!="number")throw new TypeError("scale must be a number");return uc(this,g),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return va(this,t)}},{key:"size",get:function(){return this.rows*this.columns}}],[{key:"from1DArray",value:function(t,l,g){if(t*l!==g.length)throw new RangeError("data length does not match given dimensions");for(var w=new Ee(t,l),_=0;_<t;_++)for(var k=0;k<l;k++)w.set(_,k,g[_*l+k]);return w}},{key:"rowVector",value:function(t){for(var l=new Ee(1,t.length),g=0;g<t.length;g++)l.set(0,g,t[g]);return l}},{key:"columnVector",value:function(t){for(var l=new Ee(t.length,1),g=0;g<t.length;g++)l.set(g,0,t[g]);return l}},{key:"zeros",value:function(t,l){return new Ee(t,l)}},{key:"ones",value:function(t,l){return new Ee(t,l).fill(1)}},{key:"rand",value:function(t,l){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(On(g)!=="object")throw new TypeError("options must be an object");for(var w=g.random,_=w===void 0?Math.random:w,k=new Ee(t,l),P=0;P<t;P++)for(var I=0;I<l;I++)k.set(P,I,_());return k}},{key:"randInt",value:function(t,l){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(On(g)!=="object")throw new TypeError("options must be an object");var w=g.min,_=w===void 0?0:w,k=g.max,P=k===void 0?1e3:k,I=g.random,N=I===void 0?Math.random:I;if(!Number.isInteger(_))throw new TypeError("min must be an integer");if(!Number.isInteger(P))throw new TypeError("max must be an integer");if(_>=P)throw new RangeError("min must be smaller than max");for(var R=P-_,L=new Ee(t,l),F=0;F<t;F++)for(var z=0;z<l;z++){var q=_+Math.round(N()*R);L.set(F,z,q)}return L}},{key:"eye",value:function(t,l,g){l===void 0&&(l=t),g===void 0&&(g=1);for(var w=Math.min(t,l),_=this.zeros(t,l),k=0;k<w;k++)_.set(k,k,g);return _}},{key:"diag",value:function(t,l,g){var w=t.length;l===void 0&&(l=w),g===void 0&&(g=l);for(var _=Math.min(w,l,g),k=this.zeros(l,g),P=0;P<_;P++)k.set(P,P,t[P]);return k}},{key:"min",value:function(t,l){t=this.checkMatrix(t),l=this.checkMatrix(l);for(var g=t.rows,w=t.columns,_=new Ee(g,w),k=0;k<g;k++)for(var P=0;P<w;P++)_.set(k,P,Math.min(t.get(k,P),l.get(k,P)));return _}},{key:"max",value:function(t,l){t=this.checkMatrix(t),l=this.checkMatrix(l);for(var g=t.rows,w=t.columns,_=new this(g,w),k=0;k<g;k++)for(var P=0;P<w;P++)_.set(k,P,Math.max(t.get(k,P),l.get(k,P)));return _}},{key:"checkMatrix",value:function(t){return S.isMatrix(t)?t:new Ee(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),S}();function Sa(S,e){return S-e}qe.prototype.klass="Matrix",typeof Symbol!="undefined"&&(qe.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return va(this)}),qe.random=qe.rand,qe.randomInt=qe.randInt,qe.diagonal=qe.diag,qe.prototype.diagonal=qe.prototype.diag,qe.identity=qe.eye,qe.prototype.negate=qe.prototype.neg,qe.prototype.tensorProduct=qe.prototype.kroneckerProduct;var te,Se,Ee=function(S){(function(l,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(g&&g.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),g&&ya(l,g)})(t,S);var e=cc(t);function t(l,g){var w;if(xa(this,t),w=e.call(this),t.isMatrix(l))return ba(w,l.clone());if(Number.isInteger(l)&&l>0){if(w.data=[],!(Number.isInteger(g)&&g>0))throw new TypeError("nColumns must be a positive integer");for(var _=0;_<l;_++)w.data.push(new Float64Array(g))}else{if(!Array.isArray(l))throw new TypeError("First argument must be a positive number or an array");var k=l;if(l=k.length,typeof(g=k[0].length)!="number"||g===0)throw new TypeError("Data must be a 2D array with at least one element");w.data=[];for(var P=0;P<l;P++){if(k[P].length!==g)throw new RangeError("Inconsistent array dimensions");w.data.push(Float64Array.from(k[P]))}}return w.rows=l,w.columns=g,w}return Ma(t,[{key:"set",value:function(g,w,_){return this.data[g][w]=_,this}},{key:"get",value:function(g,w){return this.data[g][w]}},{key:"removeRow",value:function(g){if(Vn(this,g),this.rows===1)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(g,1),this.rows-=1,this}},{key:"addRow",value:function(g,w){return w===void 0&&(w=g,g=this.rows),Vn(this,g,!0),w=Float64Array.from(Lr(this,w)),this.data.splice(g,0,w),this.rows+=1,this}},{key:"removeColumn",value:function(g){if(Un(this,g),this.columns===1)throw new RangeError("A matrix cannot have less than one column");for(var w=0;w<this.rows;w++){for(var _=new Float64Array(this.columns-1),k=0;k<g;k++)_[k]=this.data[w][k];for(var P=g+1;P<this.columns;P++)_[P-1]=this.data[w][P];this.data[w]=_}return this.columns-=1,this}},{key:"addColumn",value:function(g,w){w===void 0&&(w=g,g=this.columns),Un(this,g,!0),w=Fr(this,w);for(var _=0;_<this.rows;_++){for(var k=new Float64Array(this.columns+1),P=0;P<g;P++)k[P]=this.data[_][P];for(k[P++]=w[_];P<this.columns+1;P++)k[P]=this.data[_][P-1];this.data[_]=k}return this.columns+=1,this}}]),t}(qe);function _a(S){return(_a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(S)}function Oa(S,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}function Ea(S,e){return(Ea=Object.setPrototypeOf||function(t,l){return t.__proto__=l,t})(S,e)}function hc(S){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,l=so(S);if(e){var g=so(this).constructor;t=Reflect.construct(l,arguments,g)}else t=l.apply(this,arguments);return lc(this,t)}}function lc(S,e){return!e||_a(e)!=="object"&&typeof e!="function"?function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(S):e}function so(S){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(S)}Se=Ee,(te=qe).prototype.add=function(S){return typeof S=="number"?this.addS(S):this.addM(S)},te.prototype.addS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)+S);return this},te.prototype.addM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)+S.get(e,t));return this},te.add=function(S,e){return new Se(S).add(e)},te.prototype.sub=function(S){return typeof S=="number"?this.subS(S):this.subM(S)},te.prototype.subS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)-S);return this},te.prototype.subM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)-S.get(e,t));return this},te.sub=function(S,e){return new Se(S).sub(e)},te.prototype.subtract=te.prototype.sub,te.prototype.subtractS=te.prototype.subS,te.prototype.subtractM=te.prototype.subM,te.subtract=te.sub,te.prototype.mul=function(S){return typeof S=="number"?this.mulS(S):this.mulM(S)},te.prototype.mulS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*S);return this},te.prototype.mulM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)*S.get(e,t));return this},te.mul=function(S,e){return new Se(S).mul(e)},te.prototype.multiply=te.prototype.mul,te.prototype.multiplyS=te.prototype.mulS,te.prototype.multiplyM=te.prototype.mulM,te.multiply=te.mul,te.prototype.div=function(S){return typeof S=="number"?this.divS(S):this.divM(S)},te.prototype.divS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)/S);return this},te.prototype.divM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)/S.get(e,t));return this},te.div=function(S,e){return new Se(S).div(e)},te.prototype.divide=te.prototype.div,te.prototype.divideS=te.prototype.divS,te.prototype.divideM=te.prototype.divM,te.divide=te.div,te.prototype.mod=function(S){return typeof S=="number"?this.modS(S):this.modM(S)},te.prototype.modS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)%S);return this},te.prototype.modM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)%S.get(e,t));return this},te.mod=function(S,e){return new Se(S).mod(e)},te.prototype.modulus=te.prototype.mod,te.prototype.modulusS=te.prototype.modS,te.prototype.modulusM=te.prototype.modM,te.modulus=te.mod,te.prototype.and=function(S){return typeof S=="number"?this.andS(S):this.andM(S)},te.prototype.andS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)&S);return this},te.prototype.andM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)&S.get(e,t));return this},te.and=function(S,e){return new Se(S).and(e)},te.prototype.or=function(S){return typeof S=="number"?this.orS(S):this.orM(S)},te.prototype.orS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)|S);return this},te.prototype.orM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)|S.get(e,t));return this},te.or=function(S,e){return new Se(S).or(e)},te.prototype.xor=function(S){return typeof S=="number"?this.xorS(S):this.xorM(S)},te.prototype.xorS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)^S);return this},te.prototype.xorM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)^S.get(e,t));return this},te.xor=function(S,e){return new Se(S).xor(e)},te.prototype.leftShift=function(S){return typeof S=="number"?this.leftShiftS(S):this.leftShiftM(S)},te.prototype.leftShiftS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)<<S);return this},te.prototype.leftShiftM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)<<S.get(e,t));return this},te.leftShift=function(S,e){return new Se(S).leftShift(e)},te.prototype.signPropagatingRightShift=function(S){return typeof S=="number"?this.signPropagatingRightShiftS(S):this.signPropagatingRightShiftM(S)},te.prototype.signPropagatingRightShiftS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>S);return this},te.prototype.signPropagatingRightShiftM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>S.get(e,t));return this},te.signPropagatingRightShift=function(S,e){return new Se(S).signPropagatingRightShift(e)},te.prototype.rightShift=function(S){return typeof S=="number"?this.rightShiftS(S):this.rightShiftM(S)},te.prototype.rightShiftS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>>S);return this},te.prototype.rightShiftM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,this.get(e,t)>>>S.get(e,t));return this},te.rightShift=function(S,e){return new Se(S).rightShift(e)},te.prototype.zeroFillRightShift=te.prototype.rightShift,te.prototype.zeroFillRightShiftS=te.prototype.rightShiftS,te.prototype.zeroFillRightShiftM=te.prototype.rightShiftM,te.zeroFillRightShift=te.rightShift,te.prototype.not=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,~this.get(S,e));return this},te.not=function(S){return new Se(S).not()},te.prototype.abs=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.abs(this.get(S,e)));return this},te.abs=function(S){return new Se(S).abs()},te.prototype.acos=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.acos(this.get(S,e)));return this},te.acos=function(S){return new Se(S).acos()},te.prototype.acosh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.acosh(this.get(S,e)));return this},te.acosh=function(S){return new Se(S).acosh()},te.prototype.asin=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.asin(this.get(S,e)));return this},te.asin=function(S){return new Se(S).asin()},te.prototype.asinh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.asinh(this.get(S,e)));return this},te.asinh=function(S){return new Se(S).asinh()},te.prototype.atan=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.atan(this.get(S,e)));return this},te.atan=function(S){return new Se(S).atan()},te.prototype.atanh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.atanh(this.get(S,e)));return this},te.atanh=function(S){return new Se(S).atanh()},te.prototype.cbrt=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.cbrt(this.get(S,e)));return this},te.cbrt=function(S){return new Se(S).cbrt()},te.prototype.ceil=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.ceil(this.get(S,e)));return this},te.ceil=function(S){return new Se(S).ceil()},te.prototype.clz32=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.clz32(this.get(S,e)));return this},te.clz32=function(S){return new Se(S).clz32()},te.prototype.cos=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.cos(this.get(S,e)));return this},te.cos=function(S){return new Se(S).cos()},te.prototype.cosh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.cosh(this.get(S,e)));return this},te.cosh=function(S){return new Se(S).cosh()},te.prototype.exp=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.exp(this.get(S,e)));return this},te.exp=function(S){return new Se(S).exp()},te.prototype.expm1=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.expm1(this.get(S,e)));return this},te.expm1=function(S){return new Se(S).expm1()},te.prototype.floor=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.floor(this.get(S,e)));return this},te.floor=function(S){return new Se(S).floor()},te.prototype.fround=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.fround(this.get(S,e)));return this},te.fround=function(S){return new Se(S).fround()},te.prototype.log=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.log(this.get(S,e)));return this},te.log=function(S){return new Se(S).log()},te.prototype.log1p=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.log1p(this.get(S,e)));return this},te.log1p=function(S){return new Se(S).log1p()},te.prototype.log10=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.log10(this.get(S,e)));return this},te.log10=function(S){return new Se(S).log10()},te.prototype.log2=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.log2(this.get(S,e)));return this},te.log2=function(S){return new Se(S).log2()},te.prototype.round=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.round(this.get(S,e)));return this},te.round=function(S){return new Se(S).round()},te.prototype.sign=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.sign(this.get(S,e)));return this},te.sign=function(S){return new Se(S).sign()},te.prototype.sin=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.sin(this.get(S,e)));return this},te.sin=function(S){return new Se(S).sin()},te.prototype.sinh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.sinh(this.get(S,e)));return this},te.sinh=function(S){return new Se(S).sinh()},te.prototype.sqrt=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.sqrt(this.get(S,e)));return this},te.sqrt=function(S){return new Se(S).sqrt()},te.prototype.tan=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.tan(this.get(S,e)));return this},te.tan=function(S){return new Se(S).tan()},te.prototype.tanh=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.tanh(this.get(S,e)));return this},te.tanh=function(S){return new Se(S).tanh()},te.prototype.trunc=function(){for(var S=0;S<this.rows;S++)for(var e=0;e<this.columns;e++)this.set(S,e,Math.trunc(this.get(S,e)));return this},te.trunc=function(S){return new Se(S).trunc()},te.pow=function(S,e){return new Se(S).pow(e)},te.prototype.pow=function(S){return typeof S=="number"?this.powS(S):this.powM(S)},te.prototype.powS=function(S){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.pow(this.get(e,t),S));return this},te.prototype.powM=function(S){if(S=Se.checkMatrix(S),this.rows!==S.rows||this.columns!==S.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.pow(this.get(e,t),S.get(e,t)));return this};var fc=function(S){(function(_,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(k&&k.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),k&&Ea(_,k)})(w,S);var e,t,l,g=hc(w);function w(_){var k;return function(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}(this,w),(k=g.call(this)).data=_,k.rows=_.length,k.columns=_[0].length,k}return e=w,(t=[{key:"set",value:function(k,P,I){return this.data[k][P]=I,this}},{key:"get",value:function(k,P){return this.data[k][P]}}])&&Oa(e.prototype,t),l&&Oa(e,l),w}(qe);function Yr(S,e){var t=0;return Math.abs(S)>Math.abs(e)?(t=e/S,Math.abs(S)*Math.sqrt(1+t*t)):e!==0?(t=S/e,Math.abs(e)*Math.sqrt(1+t*t)):0}function dc(S,e){if(!(S instanceof e))throw new TypeError("Cannot call a class as a function")}function ka(S,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(S,l.key,l)}}var Pa=function(){function S(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};dc(this,S);var _,k=(g=fc.checkMatrix(g)).rows,P=g.columns,I=w.computeLeftSingularVectors,N=I===void 0||I,R=w.computeRightSingularVectors,L=R===void 0||R,F=w.autoTranspose,z=F!==void 0&&F,q=Boolean(N),nt=Boolean(L),et=!1;if(k<P)if(z){k=(_=g.transpose()).rows,P=_.columns,et=!0;var st=q;q=nt,nt=st}else _=g.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else _=g.clone();for(var dt=Math.min(k,P),Ot=Math.min(k+1,P),bt=new Float64Array(Ot),mt=new Ee(k,dt),Tt=new Ee(P,P),Dt=new Float64Array(P),Yt=new Float64Array(k),Gt=new Float64Array(Ot),Kt=0;Kt<Ot;Kt++)Gt[Kt]=Kt;for(var Zt=Math.min(k-1,P),Wt=Math.max(0,Math.min(P-2,k)),ee=Math.max(Zt,Wt),Qt=0;Qt<ee;Qt++){if(Qt<Zt){bt[Qt]=0;for(var ue=Qt;ue<k;ue++)bt[Qt]=Yr(bt[Qt],_.get(ue,Qt));if(bt[Qt]!==0){_.get(Qt,Qt)<0&&(bt[Qt]=-bt[Qt]);for(var ae=Qt;ae<k;ae++)_.set(ae,Qt,_.get(ae,Qt)/bt[Qt]);_.set(Qt,Qt,_.get(Qt,Qt)+1)}bt[Qt]=-bt[Qt]}for(var he=Qt+1;he<P;he++){if(Qt<Zt&&bt[Qt]!==0){for(var Jt=0,se=Qt;se<k;se++)Jt+=_.get(se,Qt)*_.get(se,he);Jt=-Jt/_.get(Qt,Qt);for(var me=Qt;me<k;me++)_.set(me,he,_.get(me,he)+Jt*_.get(me,Qt))}Dt[he]=_.get(Qt,he)}if(q&&Qt<Zt)for(var Pe=Qt;Pe<k;Pe++)mt.set(Pe,Qt,_.get(Pe,Qt));if(Qt<Wt){Dt[Qt]=0;for(var Ce=Qt+1;Ce<P;Ce++)Dt[Qt]=Yr(Dt[Qt],Dt[Ce]);if(Dt[Qt]!==0){Dt[Qt+1]<0&&(Dt[Qt]=0-Dt[Qt]);for(var Ve=Qt+1;Ve<P;Ve++)Dt[Ve]/=Dt[Qt];Dt[Qt+1]+=1}if(Dt[Qt]=-Dt[Qt],Qt+1<k&&Dt[Qt]!==0){for(var Fe=Qt+1;Fe<k;Fe++)Yt[Fe]=0;for(var sr=Qt+1;sr<k;sr++)for(var ur=Qt+1;ur<P;ur++)Yt[sr]+=Dt[ur]*_.get(sr,ur);for(var qn=Qt+1;qn<P;qn++)for(var Oo=-Dt[qn]/Dt[Qt+1],dr=Qt+1;dr<k;dr++)_.set(dr,qn,_.get(dr,qn)+Oo*Yt[dr])}if(nt)for(var Wn=Qt+1;Wn<P;Wn++)Tt.set(Wn,Qt,Dt[Wn])}}var Ae=Math.min(P,k+1);if(Zt<P&&(bt[Zt]=_.get(Zt,Zt)),k<Ae&&(bt[Ae-1]=0),Wt+1<Ae&&(Dt[Wt]=_.get(Wt,Ae-1)),Dt[Ae-1]=0,q){for(var xr=Zt;xr<dt;xr++){for(var Ir=0;Ir<k;Ir++)mt.set(Ir,xr,0);mt.set(xr,xr,1)}for(var Ye=Zt-1;Ye>=0;Ye--)if(bt[Ye]!==0){for(var pr=Ye+1;pr<dt;pr++){for(var Yn=0,wr=Ye;wr<k;wr++)Yn+=mt.get(wr,Ye)*mt.get(wr,pr);Yn=-Yn/mt.get(Ye,Ye);for(var cr=Ye;cr<k;cr++)mt.set(cr,pr,mt.get(cr,pr)+Yn*mt.get(cr,Ye))}for(var Tr=Ye;Tr<k;Tr++)mt.set(Tr,Ye,-mt.get(Tr,Ye));mt.set(Ye,Ye,1+mt.get(Ye,Ye));for(var Mr=0;Mr<Ye-1;Mr++)mt.set(Mr,Ye,0)}else{for(var Eo=0;Eo<k;Eo++)mt.set(Eo,Ye,0);mt.set(Ye,Ye,1)}}if(nt)for(var kn=P-1;kn>=0;kn--){if(kn<Wt&&Dt[kn]!==0)for(var ai=kn+1;ai<P;ai++){for(var Yi=0,Gi=kn+1;Gi<P;Gi++)Yi+=Tt.get(Gi,kn)*Tt.get(Gi,ai);Yi=-Yi/Tt.get(kn+1,kn);for(var si=kn+1;si<P;si++)Tt.set(si,ai,Tt.get(si,ai)+Yi*Tt.get(si,kn))}for(var ko=0;ko<P;ko++)Tt.set(ko,kn,0);Tt.set(kn,kn,1)}for(var qs=Ae-1,Ws=Number.EPSILON;Ae>0;){var _e=void 0,ui=void 0;for(_e=Ae-2;_e>=-1&&_e!==-1;_e--){var bl=Number.MIN_VALUE+Ws*Math.abs(bt[_e]+Math.abs(bt[_e+1]));if(Math.abs(Dt[_e])<=bl||Number.isNaN(Dt[_e])){Dt[_e]=0;break}}if(_e===Ae-2)ui=4;else{var Nn=void 0;for(Nn=Ae-1;Nn>=_e&&Nn!==_e;Nn--){var xl=(Nn!==Ae?Math.abs(Dt[Nn]):0)+(Nn!==_e+1?Math.abs(Dt[Nn-1]):0);if(Math.abs(bt[Nn])<=Ws*xl){bt[Nn]=0;break}}Nn===_e?ui=3:Nn===Ae-1?ui=1:(ui=2,_e=Nn)}switch(_e++,ui){case 1:var Po=Dt[Ae-2];Dt[Ae-2]=0;for(var Gn=Ae-2;Gn>=_e;Gn--){var ci=Yr(bt[Gn],Po),Ao=bt[Gn]/ci,Co=Po/ci;if(bt[Gn]=ci,Gn!==_e&&(Po=-Co*Dt[Gn-1],Dt[Gn-1]=Ao*Dt[Gn-1]),nt)for(var Sr=0;Sr<P;Sr++)ci=Ao*Tt.get(Sr,Gn)+Co*Tt.get(Sr,Ae-1),Tt.set(Sr,Ae-1,-Co*Tt.get(Sr,Gn)+Ao*Tt.get(Sr,Ae-1)),Tt.set(Sr,Gn,ci)}break;case 2:var jo=Dt[_e-1];Dt[_e-1]=0;for(var Zn=_e;Zn<Ae;Zn++){var hi=Yr(bt[Zn],jo),Io=bt[Zn]/hi,To=jo/hi;if(bt[Zn]=hi,jo=-To*Dt[Zn],Dt[Zn]=Io*Dt[Zn],q)for(var _r=0;_r<k;_r++)hi=Io*mt.get(_r,Zn)+To*mt.get(_r,_e-1),mt.set(_r,_e-1,-To*mt.get(_r,Zn)+Io*mt.get(_r,_e-1)),mt.set(_r,Zn,hi)}break;case 3:var li=Math.max(Math.abs(bt[Ae-1]),Math.abs(bt[Ae-2]),Math.abs(Dt[Ae-2]),Math.abs(bt[_e]),Math.abs(Dt[_e])),zr=bt[Ae-1]/li,Zs=bt[Ae-2]/li,zi=Dt[Ae-2]/li,No=bt[_e]/li,wl=Dt[_e]/li,Nr=((Zs+zr)*(Zs-zr)+zi*zi)/2,Xi=zr*zi*(zr*zi),Do=0;Nr===0&&Xi===0||(Do=Xi/(Nr+(Do=Nr<0?0-Math.sqrt(Nr*Nr+Xi):Math.sqrt(Nr*Nr+Xi))));for(var Dr=(No+zr)*(No-zr)+Do,Xr=No*wl,je=_e;je<Ae-1;je++){var Pn=Yr(Dr,Xr);Pn===0&&(Pn=Number.MIN_VALUE);var Kn=Dr/Pn,$n=Xr/Pn;if(je!==_e&&(Dt[je-1]=Pn),Dr=Kn*bt[je]+$n*Dt[je],Dt[je]=Kn*Dt[je]-$n*bt[je],Xr=$n*bt[je+1],bt[je+1]=Kn*bt[je+1],nt)for(var Or=0;Or<P;Or++)Pn=Kn*Tt.get(Or,je)+$n*Tt.get(Or,je+1),Tt.set(Or,je+1,-$n*Tt.get(Or,je)+Kn*Tt.get(Or,je+1)),Tt.set(Or,je,Pn);if((Pn=Yr(Dr,Xr))===0&&(Pn=Number.MIN_VALUE),Kn=Dr/Pn,$n=Xr/Pn,bt[je]=Pn,Dr=Kn*Dt[je]+$n*bt[je+1],bt[je+1]=-$n*Dt[je]+Kn*bt[je+1],Xr=$n*Dt[je+1],Dt[je+1]=Kn*Dt[je+1],q&&je<k-1)for(var Er=0;Er<k;Er++)Pn=Kn*mt.get(Er,je)+$n*mt.get(Er,je+1),mt.set(Er,je+1,-$n*mt.get(Er,je)+Kn*mt.get(Er,je+1)),mt.set(Er,je,Pn)}Dt[Ae-2]=Dr;break;case 4:if(bt[_e]<=0&&(bt[_e]=bt[_e]<0?-bt[_e]:0,nt))for(var Hi=0;Hi<=qs;Hi++)Tt.set(Hi,_e,-Tt.get(Hi,_e));for(;_e<qs&&!(bt[_e]>=bt[_e+1]);){var fi=bt[_e];if(bt[_e]=bt[_e+1],bt[_e+1]=fi,nt&&_e<P-1)for(var Hr=0;Hr<P;Hr++)fi=Tt.get(Hr,_e+1),Tt.set(Hr,_e+1,Tt.get(Hr,_e)),Tt.set(Hr,_e,fi);if(q&&_e<k-1)for(var Vr=0;Vr<k;Vr++)fi=mt.get(Vr,_e+1),mt.set(Vr,_e+1,mt.get(Vr,_e)),mt.set(Vr,_e,fi);_e++}Ae--}}if(et){var Ml=Tt;Tt=mt,mt=Ml}this.m=k,this.n=P,this.s=bt,this.U=mt,this.V=Tt}var e,t,l;return e=S,(t=[{key:"solve",value:function(w){for(var _=w,k=this.threshold,P=this.s.length,I=Ee.zeros(P,P),N=0;N<P;N++)Math.abs(this.s[N])<=k?I.set(N,N,0):I.set(N,N,1/this.s[N]);for(var R=this.U,L=this.rightSingularVectors,F=L.mmul(I),z=L.rows,q=R.rows,nt=Ee.zeros(z,q),et=0;et<z;et++)for(var st=0;st<q;st++){for(var dt=0,Ot=0;Ot<P;Ot++)dt+=F.get(et,Ot)*R.get(st,Ot);nt.set(et,st,dt)}return nt.mmul(_)}},{key:"solveForDiagonal",value:function(w){return this.solve(Ee.diag(w))}},{key:"inverse",value:function(){for(var w=this.V,_=this.threshold,k=w.rows,P=w.columns,I=new Ee(k,this.s.length),N=0;N<k;N++)for(var R=0;R<P;R++)Math.abs(this.s[R])>_&&I.set(N,R,w.get(N,R)/this.s[R]);for(var L=this.U,F=L.rows,z=L.columns,q=new Ee(k,F),nt=0;nt<k;nt++)for(var et=0;et<F;et++){for(var st=0,dt=0;dt<z;dt++)st+=I.get(nt,dt)*L.get(et,dt);q.set(nt,et,st)}return q}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var w=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,_=0,k=this.s,P=0,I=k.length;P<I;P++)k[P]>w&&_++;return _}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Ee.diag(this.s)}}])&&ka(e.prototype,t),l&&ka(e,l),S}(),pc=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},e.prototype.execute=function(){var t=this.nodes,l=this.edges,g=l===void 0?[]:l,w=this.center;if(t&&t.length!==0){if(t.length===1)return t[0].x=w[0],void(t[0].y=w[1]);var _=this.linkDistance,k=pn({nodes:t,edges:g},!1),P=Le(k);this.handleInfinity(P);var I=cn(P,_);this.scaledDistances=I;var N=this.runMDS();this.positions=N,N.forEach(function(R,L){t[L].x=R[0]+w[0],t[L].y=R[1]+w[1]})}},e.prototype.runMDS=function(){var t=this.scaledDistances,l=Ee.mul(Ee.pow(t,2),-.5),g=l.mean("row"),w=l.mean("column"),_=l.mean();l.add(_).subRowVector(g).subColumnVector(w);var k=new Pa(l),P=Ee.sqrt(k.diagonalMatrix).diagonal();return k.leftSingularVectors.toJSON().map(function(I){return Ee.mul([I],[P]).toJSON()[0].splice(0,2)})},e.prototype.handleInfinity=function(t){var l=-999999;t.forEach(function(g){g.forEach(function(w){w!==1/0&&l<w&&(l=w)})}),t.forEach(function(g,w){g.forEach(function(_,k){_===1/0&&(t[w][k]=l)})})},e}(Ln),gc=function(){function S(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}return S.prototype.layout=function(){var e=this.dimension,t=this.distances,l=this.linkDistance;try{var g=Ee.mul(Ee.pow(t,2),-.5),w=g.mean("row"),_=g.mean("column"),k=g.mean();g.add(k).subRowVector(w).subColumnVector(_);var P=new Pa(g),I=Ee.sqrt(P.diagonalMatrix).diagonal();return P.leftSingularVectors.toJSON().map(function(z){return Ee.mul([z],[I]).toJSON()[0].splice(0,e)})}catch(z){for(var N=[],R=0;R<t.length;R++){var L=Math.random()*l,F=Math.random()*l;N.push([L,F])}return N}},S}(),vc=function(){function S(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}return S.prototype.layout=function(){var e=this.positions,t=[],l=this.iterations,g=this.width/10;this.maxDisplace=g,this.disp=t;for(var w=0;w<l;w++)e.forEach(function(_,k){t[k]={x:0,y:0}}),this.getRepulsion(),this.updatePositions();return e},S.prototype.getRepulsion=function(){var e=this,t=e.positions,l=e.nodes,g=e.disp,w=e.k,_=e.radii||[];t.forEach(function(k,P){g[P]={x:0,y:0},t.forEach(function(I,N){if(P!==N&&_[P]===_[N]){var R=k[0]-I[0],L=k[1]-I[1],F=Math.sqrt(R*R+L*L);if(F===0){F=1;var z=P>N?1:-1;R=.01*z,L=.01*z}if(F<e.nodeSizeFunc(l[P])/2+e.nodeSizeFunc(l[N])/2){var q=w*w/F;g[P].x+=R/F*q,g[P].y+=L/F*q}}})})},S.prototype.updatePositions=function(){var e=this.positions,t=this.disp,l=this.speed,g=this.strictRadial,w=this.focusID,_=this.maxDisplace||this.width/10;g&&t.forEach(function(P,I){var N=e[I][0]-e[w][0],R=e[I][1]-e[w][1],L=Math.sqrt(N*N+R*R),F=R/L,z=-N/L,q=Math.sqrt(P.x*P.x+P.y*P.y),nt=Math.acos((F*P.x+z*P.y)/q);nt>Math.PI/2&&(nt-=Math.PI/2,F*=-1,z*=-1);var et=Math.cos(nt)*q;P.x=F*et,P.y=z*et});var k=this.radii;e.forEach(function(P,I){if(I!==w){var N=Math.sqrt(t[I].x*t[I].x+t[I].y*t[I].y);if(N>0&&I!==w){var R=Math.min(_*(l/800),N);if(P[0]+=t[I].x/N*R,P[1]+=t[I].y/N*R,g){var L=P[0]-e[w][0],F=P[1]-e[w][1],z=Math.sqrt(L*L+F*F);L=L/z*k[I],F=F/z*k[I],P[0]=e[w][0]+L,P[1]=e[w][1]+F}}}})},S}();function Aa(S,e){return Math.sqrt((S[0]-e[0])*(S[0]-e[0])+(S[1]-e[1])*(S[1]-e[1]))}var mc=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},e.prototype.execute=function(){var t=this,l=t.nodes,g=t.edges||[],w=t.center;if(l&&l.length!==0){if(l.length===1)return l[0].x=w[0],void(l[0].y=w[1]);var _=t.linkDistance,k=null;if(D()(t.focusNode)){for(var P=!1,I=0;I<l.length;I++)l[I].id===t.focusNode&&(k=l[I],t.focusNode=k,P=!0,I=l.length);P||(k=null)}else k=t.focusNode;k||(k=l[0],t.focusNode=k);var N,R,L,F=(N=l,R=k.id,L=-1,N.forEach(function(Jt,se){Jt.id===R&&(L=se)}),L);t.focusIndex=F;var z=pn({nodes:l,edges:g},!1),q=Le(z),nt=t.maxToFocus(q,F);t.handleInfinity(q,F,nt+1),t.distances=q;var et=q[F];t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight);var st=t.width||500,dt=t.height||500,Ot=st-w[0]>w[0]?w[0]:st-w[0],bt=dt-w[1]>w[1]?w[1]:dt-w[1];Ot===0&&(Ot=st/2),bt===0&&(bt=dt/2);var mt=bt>Ot?Ot:bt,Tt=Math.max.apply(Math,et),Dt=[];et.forEach(function(Jt,se){t.unitRadius||(t.unitRadius=mt/Tt),Dt[se]=Jt*t.unitRadius}),t.radii=Dt;var Yt=t.eIdealDisMatrix();t.eIdealDistances=Yt;var Gt=function(Jt){for(var se=Jt.length,me=Jt[0].length,Pe=[],Ce=0;Ce<se;Ce++){for(var Ve=[],Fe=0;Fe<me;Fe++)Jt[Ce][Fe]!==0?Ve.push(1/(Jt[Ce][Fe]*Jt[Ce][Fe])):Ve.push(0);Pe.push(Ve)}return Pe}(Yt);t.weights=Gt;var Kt=new gc({distances:Yt,linkDistance:_}).layout();Kt.forEach(function(Jt){ut(Jt[0])&&(Jt[0]=Math.random()*_),ut(Jt[1])&&(Jt[1]=Math.random()*_)}),t.positions=Kt,Kt.forEach(function(Jt,se){l[se].x=Jt[0]+w[0],l[se].y=Jt[1]+w[1]}),Kt.forEach(function(Jt){Jt[0]-=Kt[F][0],Jt[1]-=Kt[F][1]}),t.run();var Zt=t.preventOverlap,Wt=t.nodeSize,ee=t.strictRadial;if(Zt){var Qt,ue=t.nodeSpacing;Qt=j()(ue)?function(){return ue}:io()(ue)?ue:function(){return 0};var ae={nodeSizeFunc:Wt?M()(Wt)?function(Jt){return(Wt[0]>Wt[1]?Wt[0]:Wt[1])+Qt(Jt)}:function(Jt){return Wt+Qt(Jt)}:function(Jt){return Jt.size?M()(Jt.size)?(Jt.size[0]>Jt.size[1]?Jt.size[0]:Jt.size[1])+Qt(Jt):Jt.size+Qt(Jt):10+Qt(Jt)},adjMatrix:z,positions:Kt,radii:Dt,height:dt,width:st,strictRadial:ee,focusID:F,iterations:t.maxPreventOverlapIteration||200,k:Kt.length/4.5,nodes:l},he=new vc(ae);Kt=he.layout()}Kt.forEach(function(Jt,se){l[se].x=Jt[0]+w[0],l[se].y=Jt[1]+w[1]})}},e.prototype.run=function(){for(var t=this.maxIteration,l=this.positions||[],g=this.weights||[],w=this.eIdealDistances||[],_=this.radii||[],k=0;k<=t;k++){var P=k/t;this.oneIteration(P,l,_,w,g)}},e.prototype.oneIteration=function(t,l,g,w,_){var k=1-t,P=this.focusIndex;l.forEach(function(I,N){var R=Aa(I,[0,0]),L=R===0?0:1/R;if(N!==P){var F=0,z=0,q=0;l.forEach(function(et,st){if(N!==st){var dt=Aa(I,et),Ot=dt===0?0:1/dt,bt=w[st][N];q+=_[N][st],F+=_[N][st]*(et[0]+bt*(I[0]-et[0])*Ot),z+=_[N][st]*(et[1]+bt*(I[1]-et[1])*Ot)}});var nt=g[N]===0?0:1/g[N];q*=k,q+=t*nt*nt,F*=k,F+=t*nt*I[0]*L,I[0]=F/q,z*=k,z+=t*nt*I[1]*L,I[1]=z/q}})},e.prototype.eIdealDisMatrix=function(){var t=this,l=t.nodes;if(!l)return[];var g=t.distances,w=t.linkDistance,_=t.radii||[],k=t.unitRadius||50,P=[];return g&&g.forEach(function(I,N){var R=[];I.forEach(function(L,F){if(N===F)R.push(0);else if(_[N]===_[F])if(t.sortBy==="data")R.push(L*(Math.abs(N-F)*t.sortStrength)/(_[N]/k));else if(t.sortBy){var z=l[N][t.sortBy]||0,q=l[F][t.sortBy]||0;D()(z)&&(z=z.charCodeAt(0)),D()(q)&&(q=q.charCodeAt(0)),R.push(L*(Math.abs(z-q)*t.sortStrength)/(_[N]/k))}else R.push(L*w/(_[N]/k));else{var nt=(w+k)/2;R.push(L*nt)}}),P.push(R)}),P},e.prototype.handleInfinity=function(t,l,g){for(var w=t.length,_=0;_<w;_++)if(t[l][_]===1/0){t[l][_]=g,t[_][l]=g;for(var k=0;k<w;k++)t[_][k]!==1/0&&t[l][k]===1/0&&(t[l][k]=g+t[_][k],t[k][l]=g+t[_][k])}for(_=0;_<w;_++)if(_!==l){for(k=0;k<w;k++)if(t[_][k]===1/0){var P=Math.abs(t[l][_]-t[l][k]);P=P===0?1:P,t[_][k]=P}}},e.prototype.maxToFocus=function(t,l){for(var g=0,w=0;w<t[l].length;w++)t[l][w]!==1/0&&(g=t[l][w]>g?t[l][w]:g);return g},e}(Ln),yc=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,l=t.nodes,g=t.center;t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight),l&&l.forEach(function(w){w.x=.9*(Math.random()-.5)*t.width+g[0],w.y=.9*(Math.random()-.5)*t.height+g[1]})},e}(Ln),bc={circular:mu,concentric:yu,dagre:xu,force:Fu,g6force:Gu,comboForce:function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},e.prototype.execute=function(){var t=this.nodes,l=this.center;if(this.comboTree={id:"comboTreeRoot",depth:-1,children:this.comboTrees},t&&t.length!==0){if(t.length===1)return t[0].x=l[0],void(t[0].y=l[1]);this.initVals(),this.run(),this.onLayoutEnd()}},e.prototype.run=function(){var t=this,l=t.nodes,g=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||typeof window=="undefined"||(t.width=window.innerWidth),t.height||typeof window=="undefined"||(t.height=window.innerHeight);var w=t.center,_=t.velocityDecay,k=t.comboMap;t.previousLayouted||t.initPos(k);for(var P=function(F){var z=[];l.forEach(function(q,nt){z[nt]={x:0,y:0}}),t.applyCalculate(z),t.applyComboCenterForce(z),l.forEach(function(q,nt){Object(ct.isNumber)(q.x)&&Object(ct.isNumber)(q.y)&&(q.x+=z[nt].x*_,q.y+=z[nt].y*_)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},I=0;I<g;I++)P();var N=[0,0];l.forEach(function(L){Object(ct.isNumber)(L.x)&&Object(ct.isNumber)(L.y)&&(N[0]+=L.x,N[1]+=L.y)}),N[0]/=l.length,N[1]/=l.length;var R=[w[0]-N[0],w[1]-N[1]];l.forEach(function(L,F){Object(ct.isNumber)(L.x)&&Object(ct.isNumber)(L.y)&&(L.x+=R[0],L.y+=R[1])}),t.combos.forEach(function(L){var F=k[L.id];F&&F.empty&&(L.x=F.cx||L.x,L.y=F.cy||L.y)}),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this.edges,l=this.nodes,g=this.combos,w={},_={},k={};l.forEach(function(Wt,ee){_[Wt.id]=Wt,k[Wt.id]=ee}),this.nodeMap=_,this.nodeIdxMap=k;var P={};g.forEach(function(Wt){P[Wt.id]=Wt}),this.oriComboMap=P,this.comboMap=this.getComboMap();var I=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||I,this.preventNodeOverlap=this.preventNodeOverlap||I;var N=this.collideStrength;N&&(this.comboCollideStrength=N,this.nodeCollideStrength=N);for(var R=0;R<t.length;++R)w[t[R].source]?w[t[R].source]++:w[t[R].source]=1,w[t[R].target]?w[t[R].target]++:w[t[R].target]=1;var L=[];for(R=0;R<t.length;++R)L[R]=w[t[R].source]/(w[t[R].source]+w[t[R].target]);this.bias=L;var F,z,q=this.nodeSize,nt=this.nodeSpacing;if(z=Object(ct.isNumber)(nt)?function(){return nt}:Object(ct.isFunction)(nt)?nt:function(){return 0},this.nodeSpacing=z,q)if(Object(ct.isFunction)(q))F=function(ee){return q(ee)};else if(Object(ct.isArray)(q)){var et=(q[0]>q[1]?q[0]:q[1])/2;F=function(ee){return et}}else{var st=q/2;F=function(ee){return st}}else F=function(ee){return ee.size?Object(ct.isArray)(ee.size)?(ee.size[0]>ee.size[1]?ee.size[0]:ee.size[1])/2:ee.size/2:10};this.nodeSize=F;var dt,Ot=this.comboSpacing;dt=Object(ct.isNumber)(Ot)?function(){return Ot}:Object(ct.isFunction)(Ot)?Ot:function(){return 0},this.comboSpacing=dt;var bt,mt=this.comboPadding;bt=Object(ct.isNumber)(mt)?function(){return mt}:Object(ct.isArray)(mt)?function(){return Math.max.apply(null,mt)}:Object(ct.isFunction)(mt)?mt:function(){return 0},this.comboPadding=bt;var Tt,Dt=this.linkDistance;Dt||(Dt=10),Tt=Object(ct.isNumber)(Dt)?function(Wt){return Dt}:Dt,this.linkDistance=Tt;var Yt,Gt=this.edgeStrength;Gt||(Gt=1),Yt=Object(ct.isNumber)(Gt)?function(Wt){return Gt}:Gt,this.edgeStrength=Yt;var Kt,Zt=this.nodeStrength;Zt||(Zt=30),Kt=Object(ct.isNumber)(Zt)?function(Wt){return Zt}:Zt,this.nodeStrength=Kt},e.prototype.initPos=function(t){this.nodes.forEach(function(l,g){if(l.comboId){var w=t[l.comboId];l.x=w.cx+100/(g+1),l.y=w.cy+100/(g+1)}else l.x=100/(g+1),l.y=100/(g+1)})},e.prototype.getComboMap=function(){var t=this,l=t.nodeMap,g=t.nodeIdxMap,w=t.comboTrees,_=t.oriComboMap,k={};return(w||[]).forEach(function(P){var I=[];Rn(P,function(N){if(N.itemType==="node"||!_[N.id])return!0;if(k[N.id]===void 0){var R={name:N.id,cx:0,cy:0,count:0,depth:t.oriComboMap[N.id].depth,children:[]};k[N.id]=R}var L=N.children;L&&L.forEach(function(st){if(!k[st.id]&&!l[st.id])return!0;I.push(st)});var F=k[N.id];if(F.cx=0,F.cy=0,I.length===0){F.empty=!0;var z=_[N.id],q=Object.keys(l).length,nt=N.id+"-visual-child-"+q,et={id:nt,x:z.x,y:z.y,depth:F.depth+1,itemType:"node"};t.nodes.push(et),l[nt]=et,g[nt]=q,F.cx=z.x,F.cy=z.y,I.push(et)}return I.forEach(function(st){if(F.count++,st.itemType!=="node"){var dt=k[st.id];return Object(ct.isNumber)(dt.cx)&&(F.cx+=dt.cx),void(Object(ct.isNumber)(dt.cy)&&(F.cy+=dt.cy))}var Ot=l[st.id];Ot&&(Object(ct.isNumber)(Ot.x)&&(F.cx+=Ot.x),Object(ct.isNumber)(Ot.y)&&(F.cy+=Ot.y))}),F.cx/=F.count,F.cy/=F.count,F.children=I,!0})}),k},e.prototype.applyComboCenterForce=function(t){var l=this.gravity,g=this.comboGravity||l,w=this.alpha,_=this.comboTrees,k=this.nodeIdxMap,P=this.nodeMap,I=this.comboMap;(_||[]).forEach(function(N){Rn(N,function(R){if(R.itemType==="node"||!I[R.id])return!0;var L=I[R.id],F=.5*(L.depth+1),z=L.cx,q=L.cy;return L.cx=0,L.cy=0,L.children.forEach(function(nt){if(nt.itemType!=="node"){var et=I[nt.id];return et&&Object(ct.isNumber)(et.cx)&&(L.cx+=et.cx),void(et&&Object(ct.isNumber)(et.cy)&&(L.cy+=et.cy))}var st=P[nt.id],dt=st.x-z||.005,Ot=st.y-q||.005,bt=Math.sqrt(dt*dt+Ot*Ot),mt=k[st.id],Tt=g*w/bt*F;t[mt].x-=dt*Tt,t[mt].y-=Ot*Tt,Object(ct.isNumber)(st.x)&&(L.cx+=st.x),Object(ct.isNumber)(st.y)&&(L.cy+=st.y)}),L.cx/=L.count,L.cy/=L.count,!0})})},e.prototype.applyCalculate=function(t){var l=this.comboMap,g=this.nodes,w={};g.forEach(function(_,k){g.forEach(function(P,I){if(!(k<I)){var N=_.x-P.x||.005,R=_.y-P.y||.005,L=N*N+R*R,F=Math.sqrt(L);L<1&&(L=F),w[_.id+"-"+P.id]={vx:N,vy:R,vl2:L,vl:F},w[P.id+"-"+_.id]={vx:-N,vy:-R,vl2:L,vl:F}}})}),this.updateComboSizes(l),this.calRepulsive(t,w),this.calAttractive(t,w),this.preventComboOverlap&&this.comboNonOverlapping(t,l)},e.prototype.updateComboSizes=function(t){var l=this,g=l.comboTrees,w=l.nodeMap,_=l.nodeSize,k=l.comboSpacing,P=l.comboPadding;(g||[]).forEach(function(I){var N=[];Rn(I,function(R){if(R.itemType==="node")return!0;var L=t[R.id];if(L){var F=R.children;F&&F.forEach(function(nt){(t[nt.id]||w[nt.id])&&N.push(nt)}),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0,N.forEach(function(nt){if(nt.itemType!=="node")return!0;var et=w[nt.id];if(!et)return!0;var st=_(et),dt=et.x-st,Ot=et.y-st,bt=et.x+st,mt=et.y+st;L.minX>dt&&(L.minX=dt),L.minY>Ot&&(L.minY=Ot),L.maxX<bt&&(L.maxX=bt),L.maxY<mt&&(L.maxY=mt)});var z=l.oriComboMap[R.id].size||tt.defaultCombo.size;Object(ct.isArray)(z)&&(z=z[0]);var q=Math.max(L.maxX-L.minX,L.maxY-L.minY,z);return L.r=q/2+k(L)/2+P(L),!0}})})},e.prototype.comboNonOverlapping=function(t,l){var g=this.comboTree,w=this.comboCollideStrength,_=this.nodeIdxMap,k=this.nodeMap;Rn(g,function(P){if(l[P.id]||k[P.id]||P.id==="comboTreeRoot"){var I=P.children;return I&&I.length>1&&I.forEach(function(N,R){if(N.itemType!=="node"){var L=l[N.id];L&&I.forEach(function(F,z){if(!(R<=z)&&F.itemType!=="node"){var q=l[F.id];if(q){var nt=L.cx-q.cx||.005,et=L.cy-q.cy||.005,st=nt*nt+et*et,dt=L.r,Ot=q.r,bt=dt+Ot,mt=Ot*Ot,Tt=dt*dt;if(st<bt*bt){var Dt=N.children;if(!Dt||Dt.length===0)return;var Yt=F.children;if(!Yt||Yt.length===0)return;var Gt=Math.sqrt(st),Kt=(bt-Gt)/Gt*w,Zt=nt*Kt,Wt=et*Kt,ee=mt/(Tt+mt),Qt=1-ee;Dt.forEach(function(ue){if(ue.itemType==="node"&&k[ue.id]){var ae=_[ue.id];Yt.forEach(function(he){if(he.itemType==="node"&&k[he.id]){var Jt=_[he.id];t[ae].x+=Zt*ee,t[ae].y+=Wt*ee,t[Jt].x-=Zt*Qt,t[Jt].y-=Wt*Qt}})}})}}}})}}),!0}})},e.prototype.calRepulsive=function(t,l){var g=this,w=g.nodes,_=g.width*g.optimizeRangeFactor,k=g.nodeStrength,P=g.alpha,I=g.nodeCollideStrength,N=g.preventNodeOverlap,R=g.nodeSize,L=g.nodeSpacing,F=g.depthRepulsiveForceScale,z=g.center;w.forEach(function(q,nt){if(q.x&&q.y){if(z){var et=g.gravity,st=q.x-z[0]||.005,dt=q.y-z[1]||.005,Ot=Math.sqrt(st*st+dt*dt);t[nt].x-=st*et*P/Ot,t[nt].y-=dt*et*P/Ot}w.forEach(function(bt,mt){if(nt!==mt&&bt.x&&bt.y){var Tt=l[q.id+"-"+bt.id],Dt=Tt.vl2,Yt=Tt.vl;if(!(Yt>_)){var Gt=l[q.id+"-"+bt.id],Kt=Gt.vx,Zt=Gt.vy,Wt=Math.abs(bt.depth-q.depth)+1||1;bt.comboId!==q.comboId&&Wt++;var ee=Wt?Math.pow(F,Wt):1,Qt=k(bt)*P/Dt*ee;if(t[nt].x+=Kt*Qt,t[nt].y+=Zt*Qt,nt<mt&&N){var ue=R(q)+L(q),ae=R(bt)+L(bt),he=ue+ae;if(Dt<he*he){var Jt=(he-Yt)/Yt*I,se=ae*ae,me=se/(ue*ue+se),Pe=Kt*Jt,Ce=Zt*Jt;t[nt].x+=Pe*me,t[nt].y+=Ce*me,me=1-me,t[mt].x-=Pe*me,t[mt].y-=Ce*me}}}}})}})},e.prototype.calAttractive=function(t,l){var g=this,w=g.edges,_=g.linkDistance,k=g.alpha,P=g.edgeStrength,I=g.bias,N=g.depthAttractiveForceScale;w.forEach(function(R,L){if(R.source&&R.target&&R.source!==R.target){var F=g.nodeIdxMap[R.source],z=g.nodeIdxMap[R.target],q=g.nodeMap[R.source],nt=g.nodeMap[R.target],et=Math.abs(q.depth-nt.depth);q.comboId===nt.comboId&&(et/=2);var st=et?Math.pow(N,et):1;if(q.comboId!==nt.comboId&&st===1?st=N/2:q.comboId===nt.comboId&&(st=2),Object(ct.isNumber)(nt.x)&&Object(ct.isNumber)(q.x)&&Object(ct.isNumber)(nt.y)&&Object(ct.isNumber)(q.y)){var dt=l[R.target+"-"+R.source],Ot=dt.vl,bt=dt.vx,mt=dt.vy,Tt=(Ot-_(R))/Ot*k*P(R)*st,Dt=bt*Tt,Yt=mt*Tt,Gt=I[L];t[z].x-=Dt*Gt,t[z].y-=Yt*Gt,t[F].x+=Dt*(1-Gt),t[F].y+=Yt*(1-Gt)}}})},e}(Ln),fruchterman:zu,grid:Xu,mds:pc,radial:mc,random:yc};h()(bc,function(S,e){Qo.registerLayout(e,{},S)});var Jr=Qo,xc=s(231),wc=s.n(xc),Mc=function(){return wc()(`!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=317)}([function(t,e,r){var n;try{n={cloneDeep:r(250),constant:r(67),defaults:r(251),each:r(93),filter:r(96),find:r(252),flatten:r(123),forEach:r(94),forIn:r(257),has:r(107),isUndefined:r(108),last:r(258),map:r(109),mapValues:r(259),max:r(260),merge:r(262),min:r(268),minBy:r(269),now:r(270),pick:r(271),range:r(276),reduce:r(111),sortBy:r(279),uniqueId:r(284),values:r(116),zipObject:r(285)}}catch(t){}n||(n=window._),t.exports=n},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(34);e.default=function(t){return Array.isArray?Array.isArray(t):n.default(t,"Array")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new n.ARRAY_TYPE(9);n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,r,o,i,a,u,s,c){var f=new n.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=r,f[3]=o,f[4]=i,f[5]=a,f[6]=u,f[7]=s,f[8]=c,f},e.set=function(t,e,r,n,o,i,a,u,s,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=f*a-u*c,l=-f*i+u*s,d=c*i-a*s,p=r*h+n*l+o*d;if(!p)return null;return p=1/p,t[0]=h*p,t[1]=(-f*n+o*c)*p,t[2]=(u*n-o*a)*p,t[3]=l*p,t[4]=(f*r-o*s)*p,t[5]=(-u*r+o*i)*p,t[6]=d*p,t[7]=(-c*r+n*s)*p,t[8]=(a*r-n*i)*p,t},e.adjoint=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=a*f-u*c,t[1]=o*c-n*f,t[2]=n*u-o*a,t[3]=u*s-i*f,t[4]=r*f-o*s,t[5]=o*i-r*u,t[6]=i*c-a*s,t[7]=n*s-r*c,t[8]=r*a-n*i,t},e.determinant=function(t){var e=t[0],r=t[1],n=t[2],o=t[3],i=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return e*(c*i-a*s)+r*(-c*o+a*u)+n*(s*o-i*u)},e.multiply=o,e.translate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=r[0],d=r[1];return t[0]=n,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=s,t[6]=l*n+d*a+c,t[7]=l*o+d*u+f,t[8]=l*i+d*s+h,t},e.rotate=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=Math.sin(r),d=Math.cos(r);return t[0]=d*n+l*a,t[1]=d*o+l*u,t[2]=d*i+l*s,t[3]=d*a-l*n,t[4]=d*u-l*o,t[5]=d*s-l*i,t[6]=c,t[7]=f,t[8]=h,t},e.scale=function(t,e,r){var n=r[0],o=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r+r,u=n+n,s=o+o,c=r*a,f=n*a,h=n*u,l=o*a,d=o*u,p=o*s,v=i*a,g=i*u,y=i*s;return t[0]=1-h-p,t[3]=f-y,t[6]=l+g,t[1]=f+y,t[4]=1-c-p,t[7]=d-v,t[2]=l-g,t[5]=d+v,t[8]=1-c-h,t},e.normalFromMat4=function(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=e[9],l=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15],m=r*u-n*a,b=r*s-o*a,w=r*c-i*a,x=n*s-o*u,M=n*c-i*u,k=o*c-i*s,_=f*v-h*p,S=f*g-l*p,E=f*y-d*p,j=h*g-l*v,A=h*y-d*v,O=l*y-d*g,N=m*O-b*A+w*j+x*E-M*S+k*_;if(!N)return null;return N=1/N,t[0]=(u*O-s*A+c*j)*N,t[1]=(s*E-a*O-c*S)*N,t[2]=(a*A-u*E+c*_)*N,t[3]=(o*A-n*O-i*j)*N,t[4]=(r*O-o*E+i*S)*N,t[5]=(n*E-r*A-i*_)*N,t[6]=(v*k-g*M+y*x)*N,t[7]=(g*w-p*k-y*b)*N,t[8]=(p*M-v*w+y*m)*N,t},e.projection=function(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},e.subtract=i,e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],h=t[8],l=e[0],d=e[1],p=e[2],v=e[3],g=e[4],y=e[5],m=e[6],b=e[7],w=e[8];return Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-d)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-p)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-v)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(u-g)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(s-y)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-m)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(f-b)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))&&Math.abs(h-w)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(w))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(55));function o(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=r[0],d=r[1],p=r[2],v=r[3],g=r[4],y=r[5],m=r[6],b=r[7],w=r[8];return t[0]=l*n+d*a+p*c,t[1]=l*o+d*u+p*f,t[2]=l*i+d*s+p*h,t[3]=v*n+g*a+y*c,t[4]=v*o+g*u+y*f,t[5]=v*i+g*s+y*h,t[6]=m*n+b*a+w*c,t[7]=m*o+b*u+w*f,t[8]=m*i+b*s+w*h,t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}e.mul=o,e.sub=i},function(t,e,r){"use strict";var n=r(0),o=r(7).Graph;function i(t,e,r,o){var i;do{i=n.uniqueId(o)}while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function a(t){return n.max(n.map(t.nodes(),(function(e){var r=t.node(e).rank;if(!n.isUndefined(r))return r})))}t.exports={addDummyNode:i,simplify:function(t){var e=(new o).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){e.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},o=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+o.weight,minlen:Math.max(n.minlen,o.minlen)})})),e},asNonCompoundGraph:function(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return n.forEach(t.nodes(),(function(r){t.children(r).length||e.setNode(r,t.node(r))})),n.forEach(t.edges(),(function(r){e.setEdge(r,t.edge(r))})),e},successorWeights:function(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.outEdges(e),(function(e){r[e.w]=(r[e.w]||0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=n.map(t.nodes(),(function(e){var r={};return n.forEach(t.inEdges(e),(function(e){r[e.v]=(r[e.v]||0)+t.edge(e).weight})),r}));return n.zipObject(t.nodes(),e)},intersectRect:function(t,e){var r,n,o=t.x,i=t.y,a=e.x-o,u=e.y-i,s=t.width/2,c=t.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*s>Math.abs(a)*c?(u<0&&(c=-c),r=c*a/u,n=c):(a<0&&(s=-s),r=s,n=s*u/a);return{x:o+r,y:i+n}},buildLayerMatrix:function(t){var e=n.map(n.range(a(t)+1),(function(){return[]}));return n.forEach(t.nodes(),(function(r){var o=t.node(r),i=o.rank;n.isUndefined(i)||(e[i][o.order]=r)})),e},normalizeRanks:function(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank})));n.forEach(t.nodes(),(function(r){var o=t.node(r);n.has(o,"rank")&&(o.rank-=e)}))},removeEmptyRanks:function(t){var e=n.min(n.map(t.nodes(),(function(e){return t.node(e).rank}))),r=[];n.forEach(t.nodes(),(function(n){var o=t.node(n).rank-e;r[o]||(r[o]=[]),r[o].push(n)}));var o=0,i=t.graph().nodeRankFactor;n.forEach(r,(function(e,r){n.isUndefined(e)&&r%i!=0?--o:o&&n.forEach(e,(function(e){t.node(e).rank+=o}))}))},addBorderNode:function(t,e,r,n){var o={width:0,height:0};arguments.length>=4&&(o.rank=r,o.order=n);return i(t,"border",o,e)},maxRank:a,partition:function(t,e){var r={lhs:[],rhs:[]};return n.forEach(t,(function(t){e(t)?r.lhs.push(t):r.rhs.push(t)})),r},time:function(t,e){var r=n.now();try{return e()}finally{console.log(t+" time: "+(n.now()-r)+"ms")}},notime:function(t,e){return e()}}},function(t,e,r){var n;try{n={clone:r(137),constant:r(67),each:r(93),filter:r(96),has:r(107),isArray:r(1),isEmpty:r(214),isFunction:r(25),isUndefined:r(108),keys:r(14),map:r(109),reduce:r(111),size:r(217),transform:r(223),union:r(224),values:r(116)}}catch(t){}n||(n=window._),t.exports=n},function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=r(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,r){var n;try{n=r(135)}catch(t){}n||(n=window.graphlib),t.exports=n},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(76),i="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")();t.exports=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=o,e.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,r){return t[0]=e,t[1]=r,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},e.subtract=i,e.multiply=a,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},e.distance=s,e.squaredDistance=c,e.length=f,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var r=e[0],n=e[1],o=r*r+n*n;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},e.lerp=function(t,e,r,n){var o=e[0],i=e[1];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t},e.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},e.transformMat2=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o,t[1]=r[1]*n+r[3]*o,t},e.transformMat2d=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o+r[4],t[1]=r[1]*n+r[3]*o+r[5],t},e.transformMat3=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[3]*o+r[6],t[1]=r[1]*n+r[4]*o+r[7],t},e.transformMat4=function(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[4]*o+r[12],t[1]=r[1]*n+r[5]*o+r[13],t},e.rotate=function(t,e,r,n){var o=e[0]-r[0],i=e[1]-r[1],a=Math.sin(n),u=Math.cos(n);return t[0]=o*u-i*a+r[0],t[1]=o*a+i*u+r[1],t},e.angle=function(t,e){var r=t[0],n=t[1],o=e[0],i=e[1],a=r*r+n*n;a>0&&(a=1/Math.sqrt(a));var u=o*o+i*i;u>0&&(u=1/Math.sqrt(u));var s=(r*o+n*i)*a*u;return s>1?0:s<-1?Math.PI:Math.acos(s)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var r=t[0],o=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-a)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(a))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(55));function o(){var t=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function i(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function a(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function u(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function s(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function c(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function f(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function h(t){var e=t[0],r=t[1];return e*e+r*r}var l;e.len=f,e.sub=i,e.mul=a,e.div=u,e.dist=s,e.sqrDist=c,e.sqrLen=h,e.forEach=(l=o(),function(t,e,r,n,o,i){var a=void 0,u=void 0;for(e||(e=2),r||(r=0),u=n?Math.min(n*e+r,t.length):t.length,a=r;a<u;a+=e)l[0]=t[a],l[1]=t[a+1],o(l,l,i),t[a]=l[0],t[a+1]=l[1];return t})},function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!=t&&"object"==r(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(34);e.default=function(t){return n.default(t,"String")}},function(t,e,r){var n=r(25),o=r(61);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(194),i=r(204),a=r(18),u=r(1),s=r(211);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==n(t)?u(t)?i(t[0],t[1]):o(t):s(t)}},function(t,e,r){var n=r(79),o=r(63),i=r(12);t.exports=function(t){return i(t)?n(t):o(t)}},function(t,e,r){var n=r(148),o=r(154);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},function(t,e,r){var n=r(21),o=r(150),i=r(151),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e,r){var n=r(79),o=r(174),i=r(12);t.exports=function(t){return i(t)?n(t,!0):o(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(34);e.default=function(t){return n.default(t,"Number")}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){var n=r(8).Symbol;t.exports=n},function(t,e,r){(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(8),i=r(170),a="object"==n(e)&&e&&!e.nodeType&&e,u=a&&"object"==n(t)&&t&&!t.nodeType&&t,s=u&&u.exports===a?o.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;t.exports=c}).call(this,r(60)(t))},function(t,e,r){var n=r(179),o=r(57),i=r(180),a=r(88),u=r(181),s=r(16),c=r(77),f=c(n),h=c(o),l=c(i),d=c(a),p=c(u),v=s;(n&&"[object DataView]"!=v(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(t){var e=s(t),r="[object Object]"==e?t.constructor:void 0,n=r?c(r):"";if(n)switch(n){case f:return"[object DataView]";case h:return"[object Map]";case l:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(16),i=r(10);t.exports=function(t){return"symbol"==n(t)||i(t)&&"[object Symbol]"==o(t)}},function(t,e,r){var n=r(16),o=r(6);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,r){var n=r(40),o=r(41);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var u=-1,s=e.length;++u<s;){var c=e[u],f=i?i(r[c],t[c],c,r,t):void 0;void 0===f&&(f=t[c]),a?o(r,c,f):n(r,c,f)}return r}},function(t,e,r){var n=r(169),o=r(10),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,e,r){var n=r(171),o=r(43),i=r(62),a=i&&i.isTypedArray,u=a?o(a):n;t.exports=u},function(t,e,r){var n=r(24);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,r){"use strict";function n(t,e){for(var r in e)e.hasOwnProperty(r)&&"constructor"!==r&&void 0!==e[r]&&(t[r]=e[r])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){return e&&n(t,e),r&&n(t,r),o&&n(t,o),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(34);e.default=function(t){return n.default(t,"Function")}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(310),i=r(314),a=[].slice,u=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(t){s[a.call(i[t].labels).sort().join("")]=t}));var c={};function f(t,e){if(!(this instanceof f))return new f(t,e);if(e&&e in u&&(e=null),e&&!(e in i))throw new Error("Unknown model: "+e);var r,n;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof f)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var h=o.get(t);if(null===h)throw new Error("Unable to parse color from string: "+t);this.model=h.model,n=i[this.model].channels,this.color=h.value.slice(0,n),this.valpha="number"==typeof h.value[n]?h.value[n]:1}else if(t.length){this.model=e||"rgb",n=i[this.model].channels;var l=a.call(t,0,n);this.color=p(l,n),this.valpha="number"==typeof t[n]?t[n]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);"alpha"in t&&(d.splice(d.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var v=d.sort().join("");if(!(v in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[v];var g=i[this.model].labels,y=[];for(r=0;r<g.length;r++)y.push(t[g[r]]);this.color=p(y)}if(c[this.model])for(n=i[this.model].channels,r=0;r<n;r++){var m=c[this.model][r];m&&(this.color[r]=m(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function h(t,e,r){return(t=Array.isArray(t)?t:[t]).forEach((function(t){(c[t]||(c[t]=[]))[e]=r})),t=t[0],function(n){var o;return arguments.length?(r&&(n=r(n)),(o=this[t]()).color[e]=n,o):(o=this[t]().color[e],r&&(o=r(o)),o)}}function l(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t){return Array.isArray(t)?t:[t]}function p(t,e){for(var r=0;r<e;r++)"number"!=typeof t[r]&&(t[r]=0);return t}f.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in o.to?this:this.rgb(),r=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return o.to[e.model](r)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),r=1===e.valpha?e.color:e.color.concat(this.valpha);return o.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=i[this.model].channels,r=i[this.model].labels,n=0;n<e;n++)t[r[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new f(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new f(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:h("rgb",0,l(255)),green:h("rgb",1,l(255)),blue:h("rgb",2,l(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,(function(t){return(t%360+360)%360})),saturationl:h("hsl",1,l(100)),lightness:h("hsl",2,l(100)),saturationv:h("hsv",1,l(100)),value:h("hsv",2,l(100)),chroma:h("hcg",1,l(100)),gray:h("hcg",2,l(100)),white:h("hwb",1,l(100)),wblack:h("hwb",2,l(100)),cyan:h("cmyk",0,l(100)),magenta:h("cmyk",1,l(100)),yellow:h("cmyk",2,l(100)),black:h("cmyk",3,l(100)),x:h("xyz",0,l(100)),y:h("xyz",1,l(100)),z:h("xyz",2,l(100)),l:h("lab",0,l(100)),a:h("lab",1),b:h("lab",2),keyword:function(t){return arguments.length?new f(t):i[this.model].keyword(this.color)},hex:function(t){return arguments.length?new f(t):o.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var n=t[r]/255;e[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return f.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r=(r+t)%360)<0?360+r:r,e.color[0]=r,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+n(t));var r=t.rgb(),o=this.rgb(),i=void 0===e?.5:e,a=2*i-1,u=r.alpha()-o.alpha(),s=((a*u==-1?a:(a+u)/(1+a*u))+1)/2,c=1-s;return f.rgb(s*r.red()+c*o.red(),s*r.green()+c*o.green(),s*r.blue()+c*o.blue(),r.alpha()*i+o.alpha()*(1-i))}},Object.keys(i).forEach((function(t){if(-1===u.indexOf(t)){var e=i[t].channels;f.prototype[t]=function(){if(this.model===t)return new f(this);if(arguments.length)return new f(arguments,t);var r="number"==typeof arguments[e]?e:this.valpha;return new f(d(i[this.model][t].raw(this.color)).concat(r),t)},f[t]=function(r){return"number"==typeof r&&(r=p(a.call(arguments),e)),new f(r,t)}}})),t.exports=f},function(t,e,r){var n;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(i){var a=/^\\s+/,u=/\\s+$/,s=0,c=i.round,f=i.min,h=i.max,l=i.random;function d(t,e){if(e=e||{},(t=t||"")instanceof d)return t;if(!(this instanceof d))return new d(t,e);var r=function(t){var e={r:0,g:0,b:0},r=1,n=null,s=null,c=null,l=!1,d=!1;"string"==typeof t&&(t=function(t){t=t.replace(a,"").replace(u,"").toLowerCase();var e,r=!1;if(I[t])t=I[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=Y.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=Y.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=Y.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=Y.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=Y.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=Y.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=Y.hex8.exec(t))return{r:F(e[1]),g:F(e[2]),b:F(e[3]),a:L(e[4]),format:r?"name":"hex8"};if(e=Y.hex6.exec(t))return{r:F(e[1]),g:F(e[2]),b:F(e[3]),format:r?"name":"hex"};if(e=Y.hex4.exec(t))return{r:F(e[1]+""+e[1]),g:F(e[2]+""+e[2]),b:F(e[3]+""+e[3]),a:L(e[4]+""+e[4]),format:r?"name":"hex8"};if(e=Y.hex3.exec(t))return{r:F(e[1]+""+e[1]),g:F(e[2]+""+e[2]),b:F(e[3]+""+e[3]),format:r?"name":"hex"};return!1}(t));"object"==o(t)&&(H(t.r)&&H(t.g)&&H(t.b)?(p=t.r,v=t.g,g=t.b,e={r:255*C(p,255),g:255*C(v,255),b:255*C(g,255)},l=!0,d="%"===String(t.r).substr(-1)?"prgb":"rgb"):H(t.h)&&H(t.s)&&H(t.v)?(n=D(t.s),s=D(t.v),e=function(t,e,r){t=6*C(t,360),e=C(e,100),r=C(r,100);var n=i.floor(t),o=t-n,a=r*(1-e),u=r*(1-o*e),s=r*(1-(1-o)*e),c=n%6;return{r:255*[r,u,a,a,s,r][c],g:255*[s,r,r,u,a,a][c],b:255*[a,a,s,r,r,u][c]}}(t.h,n,s),l=!0,d="hsv"):H(t.h)&&H(t.s)&&H(t.l)&&(n=D(t.s),c=D(t.l),e=function(t,e,r){var n,o,i;function a(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=C(t,360),e=C(e,100),r=C(r,100),0===e)n=o=i=r;else{var u=r<.5?r*(1+e):r+e-r*e,s=2*r-u;n=a(s,u,t+1/3),o=a(s,u,t),i=a(s,u,t-1/3)}return{r:255*n,g:255*o,b:255*i}}(t.h,n,c),l=!0,d="hsl"),t.hasOwnProperty("a")&&(r=t.a));var p,v,g;return r=P(r),{ok:l,format:t.format||d,r:f(255,h(e.r,0)),g:f(255,h(e.g,0)),b:f(255,h(e.b,0)),a:r}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=c(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=r.ok,this._tc_id=s++}function p(t,e,r){t=C(t,255),e=C(e,255),r=C(r,255);var n,o,i=h(t,e,r),a=f(t,e,r),u=(i+a)/2;if(i==a)n=o=0;else{var s=i-a;switch(o=u>.5?s/(2-i-a):s/(i+a),i){case t:n=(e-r)/s+(e<r?6:0);break;case e:n=(r-t)/s+2;break;case r:n=(t-e)/s+4}n/=6}return{h:n,s:o,l:u}}function v(t,e,r){t=C(t,255),e=C(e,255),r=C(r,255);var n,o,i=h(t,e,r),a=f(t,e,r),u=i,s=i-a;if(o=0===i?0:s/i,i==a)n=0;else{switch(i){case t:n=(e-r)/s+(e<r?6:0);break;case e:n=(r-t)/s+2;break;case r:n=(t-e)/s+4}n/=6}return{h:n,s:o,v:u}}function g(t,e,r,n){var o=[T(c(t).toString(16)),T(c(e).toString(16)),T(c(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function y(t,e,r,n){return[T(q(n)),T(c(t).toString(16)),T(c(e).toString(16)),T(c(r).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var r=d(t).toHsl();return r.s-=e/100,r.s=z(r.s),d(r)}function b(t,e){e=0===e?0:e||10;var r=d(t).toHsl();return r.s+=e/100,r.s=z(r.s),d(r)}function w(t){return d(t).desaturate(100)}function x(t,e){e=0===e?0:e||10;var r=d(t).toHsl();return r.l+=e/100,r.l=z(r.l),d(r)}function M(t,e){e=0===e?0:e||10;var r=d(t).toRgb();return r.r=h(0,f(255,r.r-c(-e/100*255))),r.g=h(0,f(255,r.g-c(-e/100*255))),r.b=h(0,f(255,r.b-c(-e/100*255))),d(r)}function k(t,e){e=0===e?0:e||10;var r=d(t).toHsl();return r.l-=e/100,r.l=z(r.l),d(r)}function _(t,e){var r=d(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,d(r)}function S(t){var e=d(t).toHsl();return e.h=(e.h+180)%360,d(e)}function E(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h:(r+120)%360,s:e.s,l:e.l}),d({h:(r+240)%360,s:e.s,l:e.l})]}function j(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h:(r+90)%360,s:e.s,l:e.l}),d({h:(r+180)%360,s:e.s,l:e.l}),d({h:(r+270)%360,s:e.s,l:e.l})]}function A(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h:(r+72)%360,s:e.s,l:e.l}),d({h:(r+216)%360,s:e.s,l:e.l})]}function O(t,e,r){e=e||6,r=r||30;var n=d(t).toHsl(),o=360/r,i=[d(t)];for(n.h=(n.h-(o*e>>1)+720)%360;--e;)n.h=(n.h+o)%360,i.push(d(n));return i}function N(t,e){e=e||6;for(var r=d(t).toHsv(),n=r.h,o=r.s,i=r.v,a=[],u=1/e;e--;)a.push(d({h:n,s:o,v:i})),i=(i+u)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,n=this.toRgb();return t=n.r/255,e=n.g/255,r=n.b/255,.2126*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=P(t),this._roundA=c(100*this._a)/100,this},toHsv:function(){var t=v(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=v(this._r,this._g,this._b),e=c(360*t.h),r=c(100*t.s),n=c(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=p(this._r,this._g,this._b),e=c(360*t.h),r=c(100*t.s),n=c(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,r,n,o){var i=[T(c(t).toString(16)),T(c(e).toString(16)),T(c(r).toString(16)),T(q(n))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*C(this._r,255))+"%",g:c(100*C(this._g,255))+"%",b:c(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*C(this._r,255))+"%, "+c(100*C(this._g,255))+"%, "+c(100*C(this._b,255))+"%)":"rgba("+c(100*C(this._r,255))+"%, "+c(100*C(this._g,255))+"%, "+c(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(R[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+y(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var o=d(t);r="#"+y(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(M,arguments)},darken:function(){return this._applyModification(k,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(S,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(j,arguments)}},d.fromRatio=function(t,e){if("object"==o(t)){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]="a"===n?t[n]:D(t[n]));t=r}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:l(),g:l(),b:l()})},d.mix=function(t,e,r){r=0===r?0:r||50;var n=d(t).toRgb(),o=d(e).toRgb(),i=r/100;return d({r:(o.r-n.r)*i+n.r,g:(o.g-n.g)*i+n.g,b:(o.b-n.b)*i+n.b,a:(o.a-n.a)*i+n.a})},d.readability=function(t,e){var r=d(t),n=d(e);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},d.isReadable=function(t,e,r){var n,o,i=d.readability(t,e);switch(o=!1,(n=function(t){var e,r;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==r&&"large"!==r&&(r="small");return{level:e,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},d.mostReadable=function(t,e,r){var n,o,i,a,u=null,s=0;o=(r=r||{}).includeFallbackColors,i=r.level,a=r.size;for(var c=0;c<e.length;c++)(n=d.readability(t,e[c]))>s&&(s=n,u=d(e[c]));return d.isReadable(t,u,{level:i,size:a})||!o?u:(r.includeFallbackColors=!1,d.mostReadable(t,["#fff","#000"],r))};var I=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=d.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(I);function P(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function C(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=f(e,h(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function z(t){return f(1,h(0,t))}function F(t){return parseInt(t,16)}function T(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function q(t){return i.round(255*parseFloat(t)).toString(16)}function L(t){return F(t)/255}var B,V,U,Y=(V="[\\\\s|\\\\(]+("+(B="(?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?)")+")[,|\\\\s]+("+B+")[,|\\\\s]+("+B+")\\\\s*\\\\)?",U="[\\\\s|\\\\(]+("+B+")[,|\\\\s]+("+B+")[,|\\\\s]+("+B+")[,|\\\\s]+("+B+")\\\\s*\\\\)?",{CSS_UNIT:new RegExp(B),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(t){return!!Y.CSS_UNIT.exec(t)}t.exports?t.exports=d:void 0===(n=function(){return d}.call(e,r,e,t))||(t.exports=n)}(Math)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={}.toString;e.default=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,r){var n=r(36),o=r(143),i=r(144),a=r(145),u=r(146),s=r(147);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},function(t,e,r){var n=r(138),o=r(139),i=r(140),a=r(141),u=r(142);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(20);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},function(t,e,r){var n=r(15)(Object,"create");t.exports=n},function(t,e,r){var n=r(163);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},function(t,e,r){var n=r(41),o=r(20),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},function(t,e,r){var n=r(78);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=/^(?:0|[1-9]\\d*)$/;t.exports=function(t,e){var o=r(t);return!!(e=null==e?9007199254740991:e)&&("number"==o||"symbol"!=o&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,r){var n=r(80)(Object.getPrototypeOf,Object);t.exports=n},function(t,e,r){var n=r(68),o=r(192)(n);t.exports=o},function(t,e,r){var n=r(48),o=r(29);t.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},function(t,e,r){var n=r(1),o=r(71),i=r(206),a=r(103);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},function(t,e,r){var n=r(18),o=r(112),i=r(113);t.exports=function(t,e){return i(o(t,e,n),t+"")}},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(20),i=r(12),a=r(42),u=r(6);t.exports=function(t,e,r){if(!u(r))return!1;var s=n(e);return!!("number"==s?i(r)&&a(e,r.length):"string"==s&&e in r)&&o(r[e],t)}},function(t,e,r){"use strict";var n=r(0);t.exports={longestPath:function(t){var e={};n.forEach(t.sources(),(function r(o){var i=t.node(o);if(n.has(e,o))return i.rank;e[o]=!0;var a=n.min(n.map(t.outEdges(o),(function(e){return r(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),i.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o=r(134);e.default=function(t,e){if(t)if(n.default(t))for(var r=0,i=t.length;r<i&&!1!==e(t[r],r);r++);else if(o.default(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null==t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*o},e.equals=function(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))};var n=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var o=Math.PI/180},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(5);t.exports=i;function i(t){this._isDirected=!o.has(t,"directed")||t.directed,this._isMultigraph=!!o.has(t,"multigraph")&&t.multigraph,this._isCompound=!!o.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,e){t[e]?t[e]++:t[e]=1}function u(t,e){--t[e]||delete t[e]}function s(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var u=i;i=a,a=u}return i+""+a+""+(o.isUndefined(n)?"\\0":n)}function c(t,e,r,n){var o=""+e,i=""+r;if(!t&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return n&&(u.name=n),u}function f(t,e){return s(t,e.v,e.w,e.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(t){return this._label=t,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(t){return o.isFunction(t)||(t=o.constant(t)),this._defaultNodeLabelFn=t,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return o.keys(this._nodes)},i.prototype.sources=function(){var t=this;return o.filter(this.nodes(),(function(e){return o.isEmpty(t._in[e])}))},i.prototype.sinks=function(){var t=this;return o.filter(this.nodes(),(function(e){return o.isEmpty(t._out[e])}))},i.prototype.setNodes=function(t,e){var r=arguments,n=this;return o.each(t,(function(t){r.length>1?n.setNode(t,e):n.setNode(t)})),this},i.prototype.setNode=function(t,e){return o.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\\0",this._children[t]={},this._children["\\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},i.prototype.node=function(t){return this._nodes[t]},i.prototype.hasNode=function(t){return o.has(this._nodes,t)},i.prototype.removeNode=function(t){var e=this;if(o.has(this._nodes,t)){var r=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],o.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),o.each(o.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],o.each(o.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},i.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(e))e="\\0";else{for(var r=e+="";!o.isUndefined(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},i.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},i.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\\0"!==e)return e}},i.prototype.children=function(t){if(o.isUndefined(t)&&(t="\\0"),this._isCompound){var e=this._children[t];if(e)return o.keys(e)}else{if("\\0"===t)return this.nodes();if(this.hasNode(t))return[]}},i.prototype.predecessors=function(t){var e=this._preds[t];if(e)return o.keys(e)},i.prototype.successors=function(t){var e=this._sucs[t];if(e)return o.keys(e)},i.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return o.union(e,this.successors(t))},i.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},i.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;o.each(this._nodes,(function(r,n){t(n)&&e.setNode(n,r)})),o.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))}));var n={};return this._isCompound&&o.each(e.nodes(),(function(t){e.setParent(t,function t(o){var i=r.parent(o);return void 0===i||e.hasNode(i)?(n[o]=i,i):i in n?n[i]:t(i)}(t))})),e},i.prototype.setDefaultEdgeLabel=function(t){return o.isFunction(t)||(t=o.constant(t)),this._defaultEdgeLabelFn=t,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return o.values(this._edgeObjs)},i.prototype.setPath=function(t,e){var r=this,n=arguments;return o.reduce(t,(function(t,o){return n.length>1?r.setEdge(t,o,e):r.setEdge(t,o),o})),this},i.prototype.setEdge=function(){var t,e,r,i,u=!1,f=arguments[0];"object"===n(f)&&null!==f&&"v"in f?(t=f.v,e=f.w,r=f.name,2===arguments.length&&(i=arguments[1],u=!0)):(t=f,e=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],u=!0)),t=""+t,e=""+e,o.isUndefined(r)||(r=""+r);var h=s(this._isDirected,t,e,r);if(o.has(this._edgeLabels,h))return u&&(this._edgeLabels[h]=i),this;if(!o.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[h]=u?i:this._defaultEdgeLabelFn(t,e,r);var l=c(this._isDirected,t,e,r);return t=l.v,e=l.w,Object.freeze(l),this._edgeObjs[h]=l,a(this._preds[e],t),a(this._sucs[t],e),this._in[e][h]=l,this._out[t][h]=l,this._edgeCount++,this},i.prototype.edge=function(t,e,r){var n=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,r);return this._edgeLabels[n]},i.prototype.hasEdge=function(t,e,r){var n=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,r);return o.has(this._edgeLabels,n)},i.prototype.removeEdge=function(t,e,r){var n=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,r),o=this._edgeObjs[n];return o&&(t=o.v,e=o.w,delete this._edgeLabels[n],delete this._edgeObjs[n],u(this._preds[e],t),u(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},i.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var n=o.values(r);return e?o.filter(n,(function(t){return t.v===e})):n}},i.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var n=o.values(r);return e?o.filter(n,(function(t){return t.w===e})):n}},i.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))}},function(t,e,r){var n=r(15)(r(8),"Map");t.exports=n},function(t,e,r){var n=r(155),o=r(162),i=r(164),a=r(165),u=r(166);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,r){(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(76),i="object"==n(e)&&e&&!e.nodeType&&e,a=i&&"object"==n(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i&&o.process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=s}).call(this,r(60)(t))},function(t,e,r){var n=r(44),o=r(172),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},function(t,e,r){var n=r(83),o=r(84),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},function(t,e){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},function(t,e,r){var n=r(89);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,r){var n=r(69),o=r(14);t.exports=function(t,e){return t&&n(t,e,o)}},function(t,e,r){var n=r(191)();t.exports=n},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(1),i=r(24),a=/\\.|\\[(?:[^[\\]]*|(["'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,u=/^\\w*$/;t.exports=function(t,e){if(o(t))return!1;var r=n(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!i(t))||(u.test(t)||!a.test(t)||null!=e&&t in Object(e))}},function(t,e,r){var n=r(65),o=r(225);t.exports=function t(e,r,i,a,u){var s=-1,c=e.length;for(i||(i=o),u||(u=[]);++s<c;){var f=e[s];r>0&&i(f)?r>1?t(f,r-1,i,a,u):n(u,f):a||(u[u.length]=f)}return u}},function(t,e,r){var n=r(24);t.exports=function(t,e,r){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=e(a);if(null!=u&&(void 0===s?u==u&&!n(u):r(u,s)))var s=u,c=a}return c}},function(t,e,r){t.exports={graphlib:r(7),layout:r(249),debug:r(308),util:{time:r(4).time,notime:r(4).notime},version:r(309)}},function(t,e,r){var n=r(35),o=r(59),i=r(40),a=r(167),u=r(173),s=r(81),c=r(82),f=r(176),h=r(177),l=r(86),d=r(178),p=r(23),v=r(182),g=r(183),y=r(91),m=r(1),b=r(22),w=r(187),x=r(6),M=r(189),k=r(14),_=r(17),S={};S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S["[object Function]"]=S["[object WeakMap]"]=!1,t.exports=function t(e,r,E,j,A,O){var N,I=1&r,R=2&r,P=4&r;if(E&&(N=A?E(e,j,A,O):E(e)),void 0!==N)return N;if(!x(e))return e;var C=m(e);if(C){if(N=v(e),!I)return c(e,N)}else{var z=p(e),F="[object Function]"==z||"[object GeneratorFunction]"==z;if(b(e))return s(e,I);if("[object Object]"==z||"[object Arguments]"==z||F&&!A){if(N=R||F?{}:y(e),!I)return R?h(e,u(N,e)):f(e,a(N,e))}else{if(!S[z])return A?e:{};N=g(e,z,I)}}O||(O=new n);var T=O.get(e);if(T)return T;O.set(e,N),M(e)?e.forEach((function(n){N.add(t(n,r,E,n,e,O))})):w(e)&&e.forEach((function(n,o){N.set(o,t(n,r,E,o,e,O))}));var D=C?void 0:(P?R?d:l:R?_:k)(e);return o(D||e,(function(n,o){D&&(n=e[o=n]),i(N,o,t(n,r,E,o,e,O))})),N}},function(t,e,r){(function(e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e;t.exports=n}).call(this,r(149))},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,r){var n=r(15),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,r){var n=r(168),o=r(27),i=r(1),a=r(22),u=r(42),s=r(28),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),f=!r&&o(t),h=!r&&!f&&a(t),l=!r&&!f&&!h&&s(t),d=r||f||h||l,p=d?n(t.length,String):[],v=p.length;for(var g in t)!e&&!c.call(t,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||l&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||p.push(g);return p}},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(8),i="object"==n(e)&&e&&!e.nodeType&&e,a=i&&"object"==n(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i?o.Buffer:void 0,s=u?u.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}}).call(this,r(60)(t))},function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,r){var n=r(65),o=r(45),i=r(64),a=r(84),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,i(t)),t=o(t);return e}:a;t.exports=u},function(t,e,r){var n=r(87),o=r(64),i=r(14);t.exports=function(t){return n(t,i,o)}},function(t,e,r){var n=r(65),o=r(1);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},function(t,e,r){var n=r(15)(r(8),"Set");t.exports=n},function(t,e,r){var n=r(8).Uint8Array;t.exports=n},function(t,e,r){var n=r(66);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},function(t,e,r){var n=r(92),o=r(45),i=r(44);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},function(t,e,r){var n=r(6),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},function(t,e,r){t.exports=r(94)},function(t,e,r){var n=r(59),o=r(46),i=r(95),a=r(1);t.exports=function(t,e){return(a(t)?n:o)(t,i(e))}},function(t,e,r){var n=r(18);t.exports=function(t){return"function"==typeof t?t:n}},function(t,e,r){var n=r(83),o=r(193),i=r(13),a=r(1);t.exports=function(t,e){return(a(t)?n:o)(t,i(e,3))}},function(t,e,r){var n=r(196),o=r(10);t.exports=function t(e,r,i,a,u){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,i,a,t,u))}},function(t,e,r){var n=r(99),o=r(199),i=r(100);t.exports=function(t,e,r,a,u,s){var c=1&r,f=t.length,h=e.length;if(f!=h&&!(c&&h>f))return!1;var l=s.get(t),d=s.get(e);if(l&&d)return l==e&&d==t;var p=-1,v=!0,g=2&r?new n:void 0;for(s.set(t,e),s.set(e,t);++p<f;){var y=t[p],m=e[p];if(a)var b=c?a(m,y,p,e,t,s):a(y,m,p,t,e,s);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!o(e,(function(t,e){if(!i(g,e)&&(y===t||u(y,t,r,a,s)))return g.push(e)}))){v=!1;break}}else if(y!==m&&!u(y,m,r,a,s)){v=!1;break}}return s.delete(t),s.delete(e),v}},function(t,e,r){var n=r(58),o=r(197),i=r(198);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,r){var n=r(6);t.exports=function(t){return t==t&&!n(t)}},function(t,e){t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},function(t,e,r){var n=r(209);t.exports=function(t){return null==t?"":n(t)}},function(t,e,r){var n=r(210),o=r(105);t.exports=function(t,e){return null!=t&&o(t,e,n)}},function(t,e,r){var n=r(48),o=r(27),i=r(1),a=r(42),u=r(61),s=r(29);t.exports=function(t,e,r){for(var c=-1,f=(e=n(e,t)).length,h=!1;++c<f;){var l=s(e[c]);if(!(h=null!=t&&r(t,l)))break;t=t[l]}return h||++c!=f?h:!!(f=null==t?0:t.length)&&u(f)&&a(l,f)&&(i(t)||o(t))}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,r){var n=r(213),o=r(105);t.exports=function(t,e){return null!=t&&o(t,e,n)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,r){var n=r(49),o=r(13),i=r(110),a=r(1);t.exports=function(t,e){return(a(t)?n:i)(t,o(e,3))}},function(t,e,r){var n=r(46),o=r(12);t.exports=function(t,e){var r=-1,i=o(t)?Array(t.length):[];return n(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}},function(t,e,r){var n=r(215),o=r(46),i=r(13),a=r(216),u=r(1);t.exports=function(t,e,r){var s=u(t)?n:a,c=arguments.length<3;return s(t,i(e,4),r,c,o)}},function(t,e,r){var n=r(226),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=r(s),n(t,this,c)}}},function(t,e,r){var n=r(227),o=r(228)(n);t.exports=o},function(t,e){t.exports=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e,r){var n=r(12),o=r(10);t.exports=function(t){return o(t)&&n(t)}},function(t,e,r){var n=r(237),o=r(14);t.exports=function(t){return null==t?[]:n(t,o(t))}},function(t,e,r){var n=r(5),o=r(118);t.exports=function(t,e,r,n){return function(t,e,r,n){var i,a,u={},s=new o,c=function(t){var e=t.v!==i?t.v:t.w,n=u[e],o=r(t),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);c<n.distance&&(n.distance=c,n.predecessor=i,s.decrease(e,c))};t.nodes().forEach((function(t){var r=t===e?0:Number.POSITIVE_INFINITY;u[t]={distance:r},s.add(t,r)}));for(;s.size()>0&&(i=s.removeMin(),(a=u[i]).distance!==Number.POSITIVE_INFINITY);)n(i).forEach(c);return u}(t,String(e),r||i,n||function(e){return t.outEdges(e)})};var i=n.constant(1)},function(t,e,r){var n=r(5);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return n.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var r=this._keyIndices;if(t=String(t),!n.has(r,t)){var o=this._arr,i=o.length;return r[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)},o.prototype._heapify=function(t){var e=this._arr,r=2*t,n=r+1,o=t;r<e.length&&(o=e[r].priority<e[o].priority?r:o,n<e.length&&(o=e[n].priority<e[o].priority?n:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,r=this._arr,n=r[t].priority;0!==t&&!(r[e=t>>1].priority<n);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,o=r[t],i=r[e];r[t]=i,r[e]=o,n[i.key]=t,n[o.key]=e}},function(t,e,r){var n=r(5);t.exports=function(t){var e=0,r=[],o={},i=[];return t.nodes().forEach((function(a){n.has(o,a)||function a(u){var s=o[u]={onStack:!0,lowlink:e,index:e++};if(r.push(u),t.successors(u).forEach((function(t){n.has(o,t)?o[t].onStack&&(s.lowlink=Math.min(s.lowlink,o[t].index)):(a(t),s.lowlink=Math.min(s.lowlink,o[t].lowlink))})),s.lowlink===s.index){var c,f=[];do{c=r.pop(),o[c].onStack=!1,f.push(c)}while(u!==c);i.push(f)}}(a)})),i}},function(t,e,r){var n=r(5);function o(t){var e={},r={},o=[];if(n.each(t.sinks(),(function a(u){if(n.has(r,u))throw new i;n.has(e,u)||(r[u]=!0,e[u]=!0,n.each(t.predecessors(u),a),delete r[u],o.push(u))})),n.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},function(t,e,r){var n=r(5);t.exports=function(t,e,r){n.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return n.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,r,o,i,a,u){n.has(i,r)||(i[r]=!0,o||u.push(r),n.each(a(r),(function(r){t(e,r,o,i,a,u)})),o&&u.push(r))}(t,e,"post"===r,a,o,i)})),i}},function(t,e,r){var n=r(256);t.exports=function(t){return t?(t=n(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,r){var n=r(72);t.exports=function(t){return(null==t?0:t.length)?n(t,1):[]}},function(t,e,r){var n=r(41),o=r(20);t.exports=function(t,e,r){(void 0!==r&&!o(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,r){"use strict";var n=r(0),o=r(7).Graph,i=r(52).slack;function a(t,e){return n.forEach(t.nodes(),(function r(o){n.forEach(e.nodeEdges(o),(function(n){var a=n.v,u=o===a?n.w:a;t.hasNode(u)||i(e,n)||(t.setNode(u,{}),t.setEdge(o,u,{}),r(u))}))})),t.nodeCount()}function u(t,e){return n.minBy(e.edges(),(function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return i(e,r)}))}function s(t,e,r){n.forEach(t.nodes(),(function(t){e.node(t).rank+=r}))}t.exports=function(t){var e,r,n=new o({directed:!1}),c=t.nodes()[0],f=t.nodeCount();n.setNode(c,{});for(;a(n,t)<f;)e=u(n,t),r=n.hasNode(e.v)?i(t,e):-i(t,e),s(n,t,r);return n}},function(t,e,r){var n=r(315),o={};for(var i in n)n.hasOwnProperty(i)&&(o[n[i]]=i);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var u in a)if(a.hasOwnProperty(u)){if(!("channels"in a[u]))throw new Error("missing channels property: "+u);if(!("labels"in a[u]))throw new Error("missing channel labels property: "+u);if(a[u].labels.length!==a[u].channels)throw new Error("channel and label counts mismatch: "+u);var s=a[u].channels,c=a[u].labels;delete a[u].channels,delete a[u].labels,Object.defineProperty(a[u],"channels",{value:s}),Object.defineProperty(a[u],"labels",{value:c})}a.rgb.hsl=function(t){var e,r,n=t[0]/255,o=t[1]/255,i=t[2]/255,a=Math.min(n,o,i),u=Math.max(n,o,i),s=u-a;return u===a?e=0:n===u?e=(o-i)/s:o===u?e=2+(i-n)/s:i===u&&(e=4+(n-o)/s),(e=Math.min(60*e,360))<0&&(e+=360),r=(a+u)/2,[e,100*(u===a?0:r<=.5?s/(u+a):s/(2-u-a)),100*r]},a.rgb.hsv=function(t){var e,r,n,o,i,a=t[0]/255,u=t[1]/255,s=t[2]/255,c=Math.max(a,u,s),f=c-Math.min(a,u,s),h=function(t){return(c-t)/6/f+.5};return 0===f?o=i=0:(i=f/c,e=h(a),r=h(u),n=h(s),a===c?o=n-r:u===c?o=1/3+e-n:s===c&&(o=2/3+r-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*c]},a.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2];return[a.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(r,n))),100*(n=1-1/255*Math.max(e,Math.max(r,n)))]},a.rgb.cmyk=function(t){var e,r=t[0]/255,n=t[1]/255,o=t[2]/255;return[100*((1-r-(e=Math.min(1-r,1-n,1-o)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-o-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var e=o[t];if(e)return e;var r,i,a,u=1/0;for(var s in n)if(n.hasOwnProperty(s)){var c=n[s],f=(i=t,a=c,Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)+Math.pow(i[2]-a[2],2));f<u&&(u=f,r=s)}return r},a.keyword.rgb=function(t){return n[t]},a.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*r+.0722*n),100*(.0193*e+.1192*r+.9505*n)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),r=e[0],n=e[1],o=e[2];return n/=100,o/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},a.hsl.rgb=function(t){var e,r,n,o,i,a=t[0]/360,u=t[1]/100,s=t[2]/100;if(0===u)return[i=255*s,i,i];e=2*s-(r=s<.5?s*(1+u):s+u-s*u),o=[0,0,0];for(var c=0;c<3;c++)(n=a+1/3*-(c-1))<0&&n++,n>1&&n--,i=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,o[c]=255*i;return o},a.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,o=r,i=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,o*=i<=1?i:2-i,[e,100*(0===n?2*o/(i+o):2*r/(n+r)),100*((n+r)/2)]},a.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,o=Math.floor(e)%6,i=e-Math.floor(e),a=255*n*(1-r),u=255*n*(1-r*i),s=255*n*(1-r*(1-i));switch(n*=255,o){case 0:return[n,s,a];case 1:return[u,n,a];case 2:return[a,n,s];case 3:return[a,u,n];case 4:return[s,a,n];case 5:return[n,a,u]}},a.hsv.hsl=function(t){var e,r,n,o=t[0],i=t[1]/100,a=t[2]/100,u=Math.max(a,.01);return n=(2-i)*a,r=i*u,[o,100*(r=(r/=(e=(2-i)*u)<=1?e:2-e)||0),100*(n/=2)]},a.hwb.rgb=function(t){var e,r,n,o,i,a,u,s=t[0]/360,c=t[1]/100,f=t[2]/100,h=c+f;switch(h>1&&(c/=h,f/=h),n=6*s-(e=Math.floor(6*s)),0!=(1&e)&&(n=1-n),o=c+n*((r=1-f)-c),e){default:case 6:case 0:i=r,a=o,u=c;break;case 1:i=o,a=r,u=c;break;case 2:i=c,a=r,u=o;break;case 3:i=c,a=o,u=r;break;case 4:i=o,a=c,u=r;break;case 5:i=r,a=c,u=o}return[255*i,255*a,255*u]},a.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o))]},a.xyz.rgb=function(t){var e,r,n,o=t[0]/100,i=t[1]/100,a=t[2]/100;return r=-.9689*o+1.8758*i+.0415*a,n=.0557*o+-.204*i+1.057*a,e=(e=3.2406*o+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(e=Math.min(Math.max(0,e),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},a.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2];return r/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(e-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},a.lab.xyz=function(t){var e,r,n,o=t[0];e=t[1]/500+(r=(o+16)/116),n=r-t[2]/200;var i=Math.pow(r,3),a=Math.pow(e,3),u=Math.pow(n,3);return r=i>.008856?i:(r-16/116)/7.787,e=a>.008856?a:(e-16/116)/7.787,n=u>.008856?u:(n-16/116)/7.787,[e*=95.047,r*=100,n*=108.883]},a.lab.lch=function(t){var e,r=t[0],n=t[1],o=t[2];return(e=360*Math.atan2(o,n)/2/Math.PI)<0&&(e+=360),[r,Math.sqrt(n*n+o*o),e]},a.lch.lab=function(t){var e,r=t[0],n=t[1];return e=t[2]/360*2*Math.PI,[r,n*Math.cos(e),n*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],o=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(o=Math.round(o/50)))return 30;var i=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return 2===o&&(i+=60),i},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var r;return t-=16,[Math.floor(t/36)/5*255,Math.floor((r=t%36)/6)/5*255,r%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];3===e[0].length&&(r=r.split("").map((function(t){return t+t})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},a.rgb.hcg=function(t){var e,r=t[0]/255,n=t[1]/255,o=t[2]/255,i=Math.max(Math.max(r,n),o),a=Math.min(Math.min(r,n),o),u=i-a;return e=u<=0?0:i===r?(n-o)/u%6:i===n?2+(o-r)/u:4+(r-n)/u+4,e/=6,[360*(e%=1),100*u,100*(u<1?a/(1-u):0)]},a.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,o=0;return(n=r<.5?2*e*r:2*e*(1-r))<1&&(o=(r-.5*n)/(1-n)),[t[0],100*n,100*o]},a.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,o=0;return n<1&&(o=(r-n)/(1-n)),[t[0],100*n,100*o]},a.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(0===r)return[255*n,255*n,255*n];var o,i=[0,0,0],a=e%1*6,u=a%1,s=1-u;switch(Math.floor(a)){case 0:i[0]=1,i[1]=u,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=u;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=u,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return o=(1-r)*n,[255*(r*i[0]+o),255*(r*i[1]+o),255*(r*i[2]+o)]},a.hcg.hsv=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e),n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},a.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100*(1-e)+.5*e,n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},a.hcg.hwb=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},a.hwb.hcg=function(t){var e=t[1]/100,r=1-t[2]/100,n=r-e,o=0;return n<1&&(o=(r-n)/(1-n)),[t[0],100*n,100*o]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=o,e.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=i,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},e.subtract=u,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},e.distance=f,e.squaredDistance=h,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=p,e.cross=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[0],u=r[1],s=r[2];return t[0]=o*s-i*u,t[1]=i*a-n*s,t[2]=n*u-o*a,t},e.lerp=function(t,e,r,n){var o=e[0],i=e[1],a=e[2];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t[2]=a+n*(r[2]-a),t},e.hermite=function(t,e,r,n,o,i){var a=i*i,u=a*(2*i-3)+1,s=a*(i-2)+i,c=a*(i-1),f=a*(3-2*i);return t[0]=e[0]*u+r[0]*s+n[0]*c+o[0]*f,t[1]=e[1]*u+r[1]*s+n[1]*c+o[1]*f,t[2]=e[2]*u+r[2]*s+n[2]*c+o[2]*f,t},e.bezier=function(t,e,r,n,o,i){var a=1-i,u=a*a,s=i*i,c=u*a,f=3*i*u,h=3*s*a,l=s*i;return t[0]=e[0]*c+r[0]*f+n[0]*h+o[0]*l,t[1]=e[1]*c+r[1]*f+n[1]*h+o[1]*l,t[2]=e[2]*c+r[2]*f+n[2]*h+o[2]*l,t},e.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,o=2*n.RANDOM()-1,i=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=o*e,t},e.transformMat4=function(t,e,r){var n=e[0],o=e[1],i=e[2],a=r[3]*n+r[7]*o+r[11]*i+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*o+r[8]*i+r[12])/a,t[1]=(r[1]*n+r[5]*o+r[9]*i+r[13])/a,t[2]=(r[2]*n+r[6]*o+r[10]*i+r[14])/a,t},e.transformMat3=function(t,e,r){var n=e[0],o=e[1],i=e[2];return t[0]=n*r[0]+o*r[3]+i*r[6],t[1]=n*r[1]+o*r[4]+i*r[7],t[2]=n*r[2]+o*r[5]+i*r[8],t},e.transformQuat=function(t,e,r){var n=r[0],o=r[1],i=r[2],a=r[3],u=e[0],s=e[1],c=e[2],f=o*c-i*s,h=i*u-n*c,l=n*s-o*u,d=o*l-i*h,p=i*f-n*l,v=n*h-o*f,g=2*a;return f*=g,h*=g,l*=g,d*=2,p*=2,v*=2,t[0]=u+f+d,t[1]=s+h+p,t[2]=c+l+v,t},e.rotateX=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[0],i[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),i[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateY=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),i[1]=o[1],i[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.rotateZ=function(t,e,r,n){var o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),i[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),i[2]=o[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},e.angle=function(t,e){var r=a(t[0],t[1],t[2]),n=a(e[0],e[1],e[2]);d(r,r),d(n,n);var o=p(r,n);return o>1?0:o<-1?Math.PI:Math.acos(o)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var r=t[0],o=t[1],i=t[2],a=e[0],u=e[1],s=e[2];return Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-u)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(55));function o(){var t=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function a(t,e,r){var o=new n.ARRAY_TYPE(3);return o[0]=t,o[1]=e,o[2]=r,o}function u(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function s(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function c(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function f(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)}function h(t,e){var r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o}function l(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function d(t,e){var r=e[0],n=e[1],o=e[2],i=r*r+n*n+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}function p(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}var v;e.sub=u,e.mul=s,e.div=c,e.dist=f,e.sqrDist=h,e.len=i,e.sqrLen=l,e.forEach=(v=o(),function(t,e,r,n,o,i){var a=void 0,u=void 0;for(e||(e=3),r||(r=0),u=n?Math.min(n*e+r,t.length):t.length,a=r;a<u;a+=e)v[0]=t[a],v[1]=t[a+1],v[2]=t[a+2],o(v,v,i),t[a]=v[0],t[a+1]=v[1],t[a+2]=v[2];return t})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.default=n},,,,function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,r){var n=r(136);t.exports={Graph:n.Graph,json:r(239),alg:r(240),version:n.version}},function(t,e,r){t.exports={Graph:r(56),version:r(238)}},function(t,e,r){var n=r(75);t.exports=function(t){return n(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(37),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},function(t,e,r){var n=r(37);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},function(t,e,r){var n=r(37);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,r){var n=r(37);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},function(t,e,r){var n=r(36);t.exports=function(){this.__data__=new n,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,r){var n=r(36),o=r(57),i=r(58);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},function(t,e,r){var n=r(25),o=r(152),i=r(6),a=r(77),u=/^\\[object .+?Constructor\\]$/,s=Function.prototype,c=Object.prototype,f=s.toString,h=c.hasOwnProperty,l=RegExp("^"+f.call(h).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?l:u).test(a(t))}},function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e,r){var n=r(21),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,r){var n,o=r(153),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},function(t,e,r){var n=r(8)["__core-js_shared__"];t.exports=n},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,r){var n=r(156),o=r(36),i=r(57);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},function(t,e,r){var n=r(157),o=r(158),i=r(159),a=r(160),u=r(161);function s(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,r){var n=r(38);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,r){var n=r(38),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},function(t,e,r){var n=r(38),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},function(t,e,r){var n=r(38);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,r){var n=r(39);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=r(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,r){var n=r(39);t.exports=function(t){return n(this,t).get(t)}},function(t,e,r){var n=r(39);t.exports=function(t){return n(this,t).has(t)}},function(t,e,r){var n=r(39);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},function(t,e,r){var n=r(26),o=r(14);t.exports=function(t,e){return t&&n(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},function(t,e,r){var n=r(16),o=r(10);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(16),o=r(61),i=r(10),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},function(t,e,r){var n=r(80)(Object.keys,Object);t.exports=n},function(t,e,r){var n=r(26),o=r(17);t.exports=function(t,e){return t&&n(e,o(e),t)}},function(t,e,r){var n=r(6),o=r(44),i=r(175),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&r.push(u);return r}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},function(t,e,r){var n=r(26),o=r(64);t.exports=function(t,e){return n(t,o(t),e)}},function(t,e,r){var n=r(26),o=r(85);t.exports=function(t,e){return n(t,o(t),e)}},function(t,e,r){var n=r(87),o=r(85),i=r(17);t.exports=function(t){return n(t,i,o)}},function(t,e,r){var n=r(15)(r(8),"DataView");t.exports=n},function(t,e,r){var n=r(15)(r(8),"Promise");t.exports=n},function(t,e,r){var n=r(15)(r(8),"WeakMap");t.exports=n},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},function(t,e,r){var n=r(66),o=r(184),i=r(185),a=r(186),u=r(90);t.exports=function(t,e,r){var s=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return o(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,r);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return i(t);case"[object Set]":return new s;case"[object Symbol]":return a(t)}}},function(t,e,r){var n=r(66);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},function(t,e){var r=/\\w*$/;t.exports=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,r){var n=r(21),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,r){var n=r(188),o=r(43),i=r(62),a=i&&i.isMap,u=a?o(a):n;t.exports=u},function(t,e,r){var n=r(23),o=r(10);t.exports=function(t){return o(t)&&"[object Map]"==n(t)}},function(t,e,r){var n=r(190),o=r(43),i=r(62),a=i&&i.isSet,u=a?o(a):n;t.exports=u},function(t,e,r){var n=r(23),o=r(10);t.exports=function(t){return o(t)&&"[object Set]"==n(t)}},function(t,e){t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===r(i[s],s,i))break}return e}}},function(t,e,r){var n=r(12);t.exports=function(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var i=r.length,a=e?i:-1,u=Object(r);(e?a--:++a<i)&&!1!==o(u[a],a,u););return r}}},function(t,e,r){var n=r(46);t.exports=function(t,e){var r=[];return n(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}},function(t,e,r){var n=r(195),o=r(203),i=r(102);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},function(t,e,r){var n=r(35),o=r(97);t.exports=function(t,e,r,i){var a=r.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=r[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<u;){var f=(c=r[a])[0],h=t[f],l=c[1];if(s&&c[2]){if(void 0===h&&!(f in t))return!1}else{var d=new n;if(i)var p=i(h,l,f,t,e,d);if(!(void 0===p?o(l,h,3,i,d):p))return!1}}return!0}},function(t,e,r){var n=r(35),o=r(98),i=r(200),a=r(202),u=r(23),s=r(1),c=r(22),f=r(28),h="[object Object]",l=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,d,p,v){var g=s(t),y=s(e),m=g?"[object Array]":u(t),b=y?"[object Array]":u(e),w=(m="[object Arguments]"==m?h:m)==h,x=(b="[object Arguments]"==b?h:b)==h,M=m==b;if(M&&c(t)){if(!c(e))return!1;g=!0,w=!1}if(M&&!w)return v||(v=new n),g||f(t)?o(t,e,r,d,p,v):i(t,e,m,r,d,p,v);if(!(1&r)){var k=w&&l.call(t,"__wrapped__"),_=x&&l.call(e,"__wrapped__");if(k||_){var S=k?t.value():t,E=_?e.value():e;return v||(v=new n),p(S,E,r,d,v)}}return!!M&&(v||(v=new n),a(t,e,r,d,p,v))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},function(t,e,r){var n=r(21),o=r(89),i=r(20),a=r(98),u=r(201),s=r(70),c=n?n.prototype:void 0,f=c?c.valueOf:void 0;t.exports=function(t,e,r,n,c,h,l){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=u;case"[object Set]":var p=1&n;if(d||(d=s),t.size!=e.size&&!p)return!1;var v=l.get(t);if(v)return v==e;n|=2,l.set(t,e);var g=a(d(t),d(e),n,c,h,l);return l.delete(t),g;case"[object Symbol]":if(f)return f.call(t)==f.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},function(t,e,r){var n=r(86),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,a,u){var s=1&r,c=n(t),f=c.length;if(f!=n(e).length&&!s)return!1;for(var h=f;h--;){var l=c[h];if(!(s?l in e:o.call(e,l)))return!1}var d=u.get(t),p=u.get(e);if(d&&p)return d==e&&p==t;var v=!0;u.set(t,e),u.set(e,t);for(var g=s;++h<f;){var y=t[l=c[h]],m=e[l];if(i)var b=s?i(m,y,l,e,t,u):i(y,m,l,t,e,u);if(!(void 0===b?y===m||a(y,m,r,i,u):b)){v=!1;break}g||(g="constructor"==l)}if(v&&!g){var w=t.constructor,x=e.constructor;w==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(v=!1)}return u.delete(t),u.delete(e),v}},function(t,e,r){var n=r(101),o=r(14);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],a=t[i];e[r]=[i,a,n(a)]}return e}},function(t,e,r){var n=r(97),o=r(205),i=r(104),a=r(71),u=r(101),s=r(102),c=r(29);t.exports=function(t,e){return a(t)&&u(e)?s(c(t),e):function(r){var a=o(r,t);return void 0===a&&a===e?i(r,t):n(e,a,3)}}},function(t,e,r){var n=r(47);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},function(t,e,r){var n=r(207),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)})),e}));t.exports=a},function(t,e,r){var n=r(208);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},function(t,e,r){var n=r(58);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},function(t,e,r){var n=r(21),o=r(49),i=r(1),a=r(24),u=n?n.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,r){var n=r(106),o=r(212),i=r(71),a=r(29);t.exports=function(t){return i(t)?n(a(t)):o(t)}},function(t,e,r){var n=r(47);t.exports=function(t){return function(e){return n(e,t)}}},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&r.call(t,e)}},function(t,e,r){var n=r(63),o=r(23),i=r(27),a=r(1),u=r(12),s=r(22),c=r(44),f=r(28),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||f(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!n(t).length;for(var r in t)if(h.call(t,r))return!1;return!0}},function(t,e){t.exports=function(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}},function(t,e){t.exports=function(t,e,r,n,o){return o(t,(function(t,o,i){r=n?(n=!1,t):e(r,t,o,i)})),r}},function(t,e,r){var n=r(63),o=r(23),i=r(12),a=r(218),u=r(219);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)?u(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:n(t).length}},function(t,e,r){var n=r(16),o=r(1),i=r(10);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==n(t)}},function(t,e,r){var n=r(220),o=r(221),i=r(222);t.exports=function(t){return o(t)?i(t):n(t)}},function(t,e,r){var n=r(106)("length");t.exports=n},function(t,e){var r=RegExp("[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]");t.exports=function(t){return r.test(t)}},function(t,e){var r="[\\\\ud800-\\\\udfff]",n="[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]",o="\\\\ud83c[\\\\udffb-\\\\udfff]",i="[^\\\\ud800-\\\\udfff]",a="(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}",u="[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]",s="(?:"+n+"|"+o+")"+"?",c="[\\\\ufe0e\\\\ufe0f]?"+s+("(?:\\\\u200d(?:"+[i,a,u].join("|")+")[\\\\ufe0e\\\\ufe0f]?"+s+")*"),f="(?:"+[i+n+"?",n,a,u,r].join("|")+")",h=RegExp(o+"(?="+o+")|"+f+c,"g");t.exports=function(t){for(var e=h.lastIndex=0;h.test(t);)++e;return e}},function(t,e,r){var n=r(59),o=r(92),i=r(68),a=r(13),u=r(45),s=r(1),c=r(22),f=r(25),h=r(6),l=r(28);t.exports=function(t,e,r){var d=s(t),p=d||c(t)||l(t);if(e=a(e,4),null==r){var v=t&&t.constructor;r=p?d?new v:[]:h(t)&&f(v)?o(u(t)):{}}return(p?n:i)(t,(function(t,n,o){return e(r,t,n,o)})),r}},function(t,e,r){var n=r(72),o=r(50),i=r(229),a=r(115),u=o((function(t){return i(n(t,1,a,!0))}));t.exports=u},function(t,e,r){var n=r(21),o=r(27),i=r(1),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(67),o=r(78),i=r(18),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var o=r(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(99),o=r(230),i=r(234),a=r(100),u=r(235),s=r(70);t.exports=function(t,e,r){var c=-1,f=o,h=t.length,l=!0,d=[],p=d;if(r)l=!1,f=i;else if(h>=200){var v=e?null:u(t);if(v)return s(v);l=!1,f=a,p=new n}else p=e?[]:d;t:for(;++c<h;){var g=t[c],y=e?e(g):g;if(g=r||0!==g?g:0,l&&y==y){for(var m=p.length;m--;)if(p[m]===y)continue t;e&&p.push(y),d.push(g)}else f(p,y,r)||(p!==d&&p.push(y),d.push(g))}return d}},function(t,e,r){var n=r(231);t.exports=function(t,e){return!!(null==t?0:t.length)&&n(t,e,0)>-1}},function(t,e,r){var n=r(114),o=r(232),i=r(233);t.exports=function(t,e,r){return e==e?i(t,e,r):n(t,o,r)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}},function(t,e){t.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}},function(t,e,r){var n=r(88),o=r(236),i=r(70),a=n&&1/i(new n([,-0]))[1]==1/0?function(t){return new n(t)}:o;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,r){var n=r(49);t.exports=function(t,e){return n(e,(function(e){return t[e]}))}},function(t,e){t.exports="2.1.8"},function(t,e,r){var n=r(5),o=r(56);function i(t){return n.map(t.nodes(),(function(e){var r=t.node(e),o=t.parent(e),i={v:e};return n.isUndefined(r)||(i.value=r),n.isUndefined(o)||(i.parent=o),i}))}function a(t){return n.map(t.edges(),(function(e){var r=t.edge(e),o={v:e.v,w:e.w};return n.isUndefined(e.name)||(o.name=e.name),n.isUndefined(r)||(o.value=r),o}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:a(t)};n.isUndefined(t.graph())||(e.value=n.clone(t.graph()));return e},read:function(t){var e=new o(t.options).setGraph(t.value);return n.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),n.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},function(t,e,r){t.exports={components:r(241),dijkstra:r(117),dijkstraAll:r(242),findCycles:r(243),floydWarshall:r(244),isAcyclic:r(245),postorder:r(246),preorder:r(247),prim:r(248),tarjan:r(119),topsort:r(120)}},function(t,e,r){var n=r(5);t.exports=function(t){var e,r={},o=[];function i(o){n.has(r,o)||(r[o]=!0,e.push(o),n.each(t.successors(o),i),n.each(t.predecessors(o),i))}return n.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}},function(t,e,r){var n=r(117),o=r(5);t.exports=function(t,e,r){return o.transform(t.nodes(),(function(o,i){o[i]=n(t,i,e,r)}),{})}},function(t,e,r){var n=r(5),o=r(119);t.exports=function(t){return n.filter(o(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},function(t,e,r){var n=r(5);t.exports=function(t,e,r){return function(t,e,r){var n={},o=t.nodes();return o.forEach((function(t){n[t]={},n[t][t]={distance:0},o.forEach((function(e){t!==e&&(n[t][e]={distance:Number.POSITIVE_INFINITY})})),r(t).forEach((function(r){var o=r.v===t?r.w:r.v,i=e(r);n[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=n[t];o.forEach((function(r){var i=n[r];o.forEach((function(r){var n=i[t],o=e[r],a=i[r],u=n.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),n}(t,e||o,r||function(e){return t.outEdges(e)})};var o=n.constant(1)},function(t,e,r){var n=r(120);t.exports=function(t){try{n(t)}catch(t){if(t instanceof n.CycleException)return!1;throw t}return!0}},function(t,e,r){var n=r(121);t.exports=function(t,e){return n(t,e,"post")}},function(t,e,r){var n=r(121);t.exports=function(t,e){return n(t,e,"pre")}},function(t,e,r){var n=r(5),o=r(56),i=r(118);t.exports=function(t,e){var r,a=new o,u={},s=new i;function c(t){var n=t.v===r?t.w:t.v,o=s.priority(n);if(void 0!==o){var i=e(t);i<o&&(u[n]=r,s.decrease(n,i))}}if(0===t.nodeCount())return a;n.each(t.nodes(),(function(t){s.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),s.decrease(t.nodes()[0],0);var f=!1;for(;s.size()>0;){if(r=s.removeMin(),n.has(u,r))a.setEdge(r,u[r]);else{if(f)throw new Error("Input graph is not connected: "+t);f=!0}t.nodeEdges(r).forEach(c)}return a}},function(t,e,r){"use strict";var n=r(0),o=r(287),i=r(290),a=r(291),u=r(4).normalizeRanks,s=r(293),c=r(4).removeEmptyRanks,f=r(294),h=r(295),l=r(296),d=r(297),p=r(306),v=r(4),g=r(7).Graph;t.exports=function(t,e){var r=e&&e.debugTiming?v.time:v.notime;r("layout",(function(){var e=r("  buildLayoutGraph",(function(){return function(t){var e=new g({multigraph:!0,compound:!0}),r=E(t.graph());return e.setGraph(n.merge({},m,S(r,y),n.pick(r,b))),n.forEach(t.nodes(),(function(r){var o=E(t.node(r));e.setNode(r,n.defaults(S(o,w),x)),e.setParent(r,t.parent(r))})),n.forEach(t.edges(),(function(r){var o=E(t.edge(r));e.setEdge(r,n.merge({},k,S(o,M),n.pick(o,_)))})),e}(t)}));r("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,n.forEach(t.edges(),(function(r){var n=t.edge(r);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){n.forEach(t.edges(),(function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){o.run(t)})),e("    nestingGraph.run",(function(){f.run(t)})),e("    rank",(function(){a(v.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),o={rank:(t.node(e.w).rank-n.rank)/2+n.rank,e:e};v.addDummyNode(t,"edge-proxy",o,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){f.cleanup(t)})),e("    normalizeRanks",(function(){u(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;n.forEach(t.nodes(),(function(r){var o=t.node(r);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=n.max(e,o.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);"edge-proxy"===r.dummy&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){i.run(t)})),e("    parentDummyChains",(function(){s(t)})),e("    addBorderSegments",(function(){h(t)})),e("    order",(function(){d(t)})),e("    insertSelfEdges",(function(){!function(t){var e=v.buildLayerMatrix(t);n.forEach(e,(function(e){var r=0;n.forEach(e,(function(e,o){var i=t.node(e);i.order=o+r,n.forEach(i.selfEdges,(function(e){v.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++r,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){l.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){n.forEach(t.nodes(),(function(e){var r=t.node(e);if("selfedge"===r.dummy){var n=t.node(r.e.v),o=n.x+n.width/2,i=n.y,a=r.x-o,u=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],r.label.x=r.x,r.label.y=r.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){n.forEach(t.nodes(),(function(e){if(t.children(e).length){var r=t.node(e),o=t.node(r.borderTop),i=t.node(r.borderBottom),a=t.node(n.last(r.borderLeft)),u=t.node(n.last(r.borderRight));r.width=Math.abs(u.x-a.x),r.height=Math.abs(i.y-o.y),r.x=a.x+r.width/2,r.y=o.y+r.height/2}})),n.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){i.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(n.has(r,"x"))switch("l"!==r.labelpos&&"r"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){l.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,r=0,o=Number.POSITIVE_INFINITY,i=0,a=t.graph(),u=a.marginx||0,s=a.marginy||0;function c(t){var n=t.x,a=t.y,u=t.width,s=t.height;e=Math.min(e,n-u/2),r=Math.max(r,n+u/2),o=Math.min(o,a-s/2),i=Math.max(i,a+s/2)}n.forEach(t.nodes(),(function(e){c(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.has(r,"x")&&c(r)})),e-=u,o-=s,n.forEach(t.nodes(),(function(r){var n=t.node(r);n.x-=e,n.y-=o})),n.forEach(t.edges(),(function(r){var i=t.edge(r);n.forEach(i.points,(function(t){t.x-=e,t.y-=o})),n.has(i,"x")&&(i.x-=e),n.has(i,"y")&&(i.y-=o)})),a.width=r-e+u,a.height=i-o+s}(t)})),e("    assignNodeIntersects",(function(){!function(t){n.forEach(t.edges(),(function(e){var r,n,o=t.edge(e),i=t.node(e.v),a=t.node(e.w);o.points?(r=o.points[0],n=o.points[o.points.length-1]):(o.points=[],r=a,n=i),o.points.unshift(v.intersectRect(i,r)),o.points.push(v.intersectRect(a,n))}))}(t)})),e("    reversePoints",(function(){!function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);r.reversed&&r.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){o.undo(t)}))}(e,r)})),r("  updateInputGraph",(function(){!function(t,e){n.forEach(t.nodes(),(function(r){var n=t.node(r),o=e.node(r);n&&(n.x=o.x,n.y=o.y,e.children(r).length&&(n.width=o.width,n.height=o.height))})),n.forEach(t.edges(),(function(r){var o=t.edge(r),i=e.edge(r);o.points=i.points,n.has(i,"x")&&(o.x=i.x,o.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],w=["width","height"],x={width:0,height:0},M=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},_=["labelpos"];function S(t,e){return n.mapValues(n.pick(t,e),Number)}function E(t){var e={};return n.forEach(t,(function(t,r){e[r.toLowerCase()]=t})),e}},function(t,e,r){var n=r(75);t.exports=function(t){return n(t,5)}},function(t,e,r){var n=r(50),o=r(20),i=r(51),a=r(17),u=Object.prototype,s=u.hasOwnProperty,c=n((function(t,e){t=Object(t);var r=-1,n=e.length,c=n>2?e[2]:void 0;for(c&&i(e[0],e[1],c)&&(n=1);++r<n;)for(var f=e[r],h=a(f),l=-1,d=h.length;++l<d;){var p=h[l],v=t[p];(void 0===v||o(v,u[p])&&!s.call(t,p))&&(t[p]=f[p])}return t}));t.exports=c},function(t,e,r){var n=r(253)(r(254));t.exports=n},function(t,e,r){var n=r(13),o=r(12),i=r(14);t.exports=function(t){return function(e,r,a){var u=Object(e);if(!o(e)){var s=n(r,3);e=i(e),r=function(t){return s(u[t],t,u)}}var c=t(e,r,a);return c>-1?u[s?e[c]:c]:void 0}}},function(t,e,r){var n=r(114),o=r(13),i=r(255),a=Math.max;t.exports=function(t,e,r){var u=null==t?0:t.length;if(!u)return-1;var s=null==r?0:i(r);return s<0&&(s=a(u+s,0)),n(t,o(e,3),s)}},function(t,e,r){var n=r(122);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},function(t,e,r){var n=r(6),o=r(24),i=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||s.test(t)?c(t.slice(2),r?2:8):a.test(t)?NaN:+t}},function(t,e,r){var n=r(69),o=r(95),i=r(17);t.exports=function(t,e){return null==t?t:n(t,o(e),i)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,r){var n=r(41),o=r(68),i=r(13);t.exports=function(t,e){var r={};return e=i(e,3),o(t,(function(t,o,i){n(r,o,e(t,o,i))})),r}},function(t,e,r){var n=r(73),o=r(261),i=r(18);t.exports=function(t){return t&&t.length?n(t,i,o):void 0}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,r){var n=r(263),o=r(267)((function(t,e,r){n(t,e,r)}));t.exports=o},function(t,e,r){var n=r(35),o=r(124),i=r(69),a=r(264),u=r(6),s=r(17),c=r(125);t.exports=function t(e,r,f,h,l){e!==r&&i(r,(function(i,s){if(l||(l=new n),u(i))a(e,r,s,f,t,h,l);else{var d=h?h(c(e,s),i,s+"",e,r,l):void 0;void 0===d&&(d=i),o(e,s,d)}}),s)}},function(t,e,r){var n=r(124),o=r(81),i=r(90),a=r(82),u=r(91),s=r(27),c=r(1),f=r(115),h=r(22),l=r(25),d=r(6),p=r(265),v=r(28),g=r(125),y=r(266);t.exports=function(t,e,r,m,b,w,x){var M=g(t,r),k=g(e,r),_=x.get(k);if(_)n(t,r,_);else{var S=w?w(M,k,r+"",t,e,x):void 0,E=void 0===S;if(E){var j=c(k),A=!j&&h(k),O=!j&&!A&&v(k);S=k,j||A||O?c(M)?S=M:f(M)?S=a(M):A?(E=!1,S=o(k,!0)):O?(E=!1,S=i(k,!0)):S=[]:p(k)||s(k)?(S=M,s(M)?S=y(M):d(M)&&!l(M)||(S=u(k))):E=!1}E&&(x.set(k,S),b(S,k,m,w,x),x.delete(k)),n(t,r,S)}}},function(t,e,r){var n=r(16),o=r(45),i=r(10),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=c.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==f}},function(t,e,r){var n=r(26),o=r(17);t.exports=function(t){return n(t,o(t))}},function(t,e,r){var n=r(50),o=r(51);t.exports=function(t){return n((function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(r[0],r[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e}))}},function(t,e,r){var n=r(73),o=r(126),i=r(18);t.exports=function(t){return t&&t.length?n(t,i,o):void 0}},function(t,e,r){var n=r(73),o=r(13),i=r(126);t.exports=function(t,e){return t&&t.length?n(t,o(e,2),i):void 0}},function(t,e,r){var n=r(8);t.exports=function(){return n.Date.now()}},function(t,e,r){var n=r(272),o=r(275)((function(t,e){return null==t?{}:n(t,e)}));t.exports=o},function(t,e,r){var n=r(273),o=r(104);t.exports=function(t,e){return n(t,e,(function(e,r){return o(t,r)}))}},function(t,e,r){var n=r(47),o=r(274),i=r(48);t.exports=function(t,e,r){for(var a=-1,u=e.length,s={};++a<u;){var c=e[a],f=n(t,c);r(f,c)&&o(s,i(c,t),f)}return s}},function(t,e,r){var n=r(40),o=r(48),i=r(42),a=r(6),u=r(29);t.exports=function(t,e,r,s){if(!a(t))return t;for(var c=-1,f=(e=o(e,t)).length,h=f-1,l=t;null!=l&&++c<f;){var d=u(e[c]),p=r;if("__proto__"===d||"constructor"===d||"prototype"===d)return t;if(c!=h){var v=l[d];void 0===(p=s?s(v,d,l):void 0)&&(p=a(v)?v:i(e[c+1])?[]:{})}n(l,d,p),l=l[d]}return t}},function(t,e,r){var n=r(123),o=r(112),i=r(113);t.exports=function(t){return i(o(t,void 0,n),t+"")}},function(t,e,r){var n=r(277)();t.exports=n},function(t,e,r){var n=r(278),o=r(51),i=r(122);t.exports=function(t){return function(e,r,a){return a&&"number"!=typeof a&&o(e,r,a)&&(r=a=void 0),e=i(e),void 0===r?(r=e,e=0):r=i(r),a=void 0===a?e<r?1:-1:i(a),n(e,r,a,t)}}},function(t,e){var r=Math.ceil,n=Math.max;t.exports=function(t,e,o,i){for(var a=-1,u=n(r((e-t)/(o||1)),0),s=Array(u);u--;)s[i?u:++a]=t,t+=o;return s}},function(t,e,r){var n=r(72),o=r(280),i=r(50),a=r(51),u=i((function(t,e){if(null==t)return[];var r=e.length;return r>1&&a(t,e[0],e[1])?e=[]:r>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,n(e,1),[])}));t.exports=u},function(t,e,r){var n=r(49),o=r(47),i=r(13),a=r(110),u=r(281),s=r(43),c=r(282),f=r(18),h=r(1);t.exports=function(t,e,r){e=e.length?n(e,(function(t){return h(t)?function(e){return o(e,1===t.length?t[0]:t)}:t})):[f];var l=-1;e=n(e,s(i));var d=a(t,(function(t,r,o){return{criteria:n(e,(function(e){return e(t)})),index:++l,value:t}}));return u(d,(function(t,e){return c(t,e,r)}))}},function(t,e){t.exports=function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}},function(t,e,r){var n=r(283);t.exports=function(t,e,r){for(var o=-1,i=t.criteria,a=e.criteria,u=i.length,s=r.length;++o<u;){var c=n(i[o],a[o]);if(c)return o>=s?c:c*("desc"==r[o]?-1:1)}return t.index-e.index}},function(t,e,r){var n=r(24);t.exports=function(t,e){if(t!==e){var r=void 0!==t,o=null===t,i=t==t,a=n(t),u=void 0!==e,s=null===e,c=e==e,f=n(e);if(!s&&!f&&!a&&t>e||a&&u&&c&&!s&&!f||o&&u&&c||!r&&c||!i)return 1;if(!o&&!a&&!f&&t<e||f&&r&&i&&!o&&!a||s&&r&&i||!u&&i||!c)return-1}return 0}},function(t,e,r){var n=r(103),o=0;t.exports=function(t){var e=++o;return n(t)+e}},function(t,e,r){var n=r(40),o=r(286);t.exports=function(t,e){return o(t||[],e||[],n)}},function(t,e){t.exports=function(t,e,r){for(var n=-1,o=t.length,i=e.length,a={};++n<o;){var u=n<i?e[n]:void 0;r(a,t[n],u)}return a}},function(t,e,r){"use strict";var n=r(0),o=r(288);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?o(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],r={},o={};function i(a){n.has(o,a)||(o[a]=!0,r[a]=!0,n.forEach(t.outEdges(a),(function(t){n.has(r,t.w)?e.push(t):i(t.w)})),delete r[a])}return n.forEach(t.nodes(),i),e}(t);n.forEach(e,(function(e){var r=t.edge(e);t.removeEdge(e),r.forwardName=e.name,r.reversed=!0,t.setEdge(e.w,e.v,r,n.uniqueId("rev"))}))},undo:function(t){n.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}}))}}},function(t,e,r){var n=r(0),o=r(7).Graph,i=r(289);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var r=function(t,e){var r=new o,a=0,u=0;n.forEach(t.nodes(),(function(t){r.setNode(t,{v:t,in:0,out:0})})),n.forEach(t.edges(),(function(t){var n=r.edge(t.v,t.w)||0,o=e(t),i=n+o;r.setEdge(t.v,t.w,i),u=Math.max(u,r.node(t.v).out+=o),a=Math.max(a,r.node(t.w).in+=o)}));var c=n.range(u+a+3).map((function(){return new i})),f=a+1;return n.forEach(r.nodes(),(function(t){s(c,f,r.node(t))})),{graph:r,buckets:c,zeroIdx:f}}(t,e||a),c=function(t,e,r){var n,o=[],i=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;n=a.dequeue();)u(t,e,r,n);for(;n=i.dequeue();)u(t,e,r,n);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(n=e[s].dequeue()){o=o.concat(u(t,e,r,n,!0));break}}return o}(r.graph,r.buckets,r.zeroIdx);return n.flatten(n.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=n.constant(1);function u(t,e,r,o,i){var a=i?[]:void 0;return n.forEach(t.inEdges(o.v),(function(n){var o=t.edge(n),u=t.node(n.v);i&&a.push({v:n.v,w:n.w}),u.out-=o,s(e,r,u)})),n.forEach(t.outEdges(o.v),(function(n){var o=t.edge(n),i=n.w,a=t.node(i);a.in-=o,s(e,r,a)})),t.removeNode(o.v),a}function s(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}},function(t,e){function r(){var t={};t._next=t._prev=t,this._sentinel=t}function n(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=r,r.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return n(e),e},r.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&n(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},r.prototype.toString=function(){for(var t=[],e=this._sentinel,r=e._prev;r!==e;)t.push(JSON.stringify(r,o)),r=r._prev;return"["+t.join(", ")+"]"}},function(t,e,r){"use strict";var n=r(0),o=r(4);t.exports={run:function(t){t.graph().dummyChains=[],n.forEach(t.edges(),(function(e){!function(t,e){var r,n,i,a=e.v,u=t.node(a).rank,s=e.w,c=t.node(s).rank,f=e.name,h=t.edge(e),l=h.labelRank;if(c===u+1)return;for(t.removeEdge(e),i=0,++u;u<c;++i,++u)h.points=[],n={width:0,height:0,edgeLabel:h,edgeObj:e,rank:u},r=o.addDummyNode(t,"edge",n,"_d"),u===l&&(n.width=h.width,n.height=h.height,n.dummy="edge-label",n.labelpos=h.labelpos),t.setEdge(a,r,{weight:h.weight},f),0===i&&t.graph().dummyChains.push(r),a=r;t.setEdge(a,s,{weight:h.weight},f)}(t,e)}))},undo:function(t){n.forEach(t.graph().dummyChains,(function(e){var r,n=t.node(e),o=n.edgeLabel;for(t.setEdge(n.edgeObj,o);n.dummy;)r=t.successors(e)[0],t.removeNode(e),o.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(o.x=n.x,o.y=n.y,o.width=n.width,o.height=n.height),e=r,n=t.node(e)}))}}},function(t,e,r){"use strict";var n=r(52).longestPath,o=r(127),i=r(292);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":u(t);break;case"tight-tree":!function(t){n(t),o(t)}(t);break;case"longest-path":a(t);break;default:u(t)}};var a=n;function u(t){i(t)}},function(t,e,r){"use strict";var n=r(0),o=r(127),i=r(52).slack,a=r(52).longestPath,u=r(7).alg.preorder,s=r(7).alg.postorder,c=r(4).simplify;function f(t){t=c(t),a(t);var e,r=o(t);for(d(r),h(r,t);e=v(r);)y(r,t,e,g(r,t,e))}function h(t,e){var r=s(t,t.nodes());r=r.slice(0,r.length-1),n.forEach(r,(function(r){!function(t,e,r){var n=t.node(r).parent;t.edge(r,n).cutvalue=l(t,e,r)}(t,e,r)}))}function l(t,e,r){var o=t.node(r).parent,i=!0,a=e.edge(r,o),u=0;return a||(i=!1,a=e.edge(o,r)),u=a.weight,n.forEach(e.nodeEdges(r),(function(n){var a,s,c=n.v===r,f=c?n.w:n.v;if(f!==o){var h=c===i,l=e.edge(n).weight;if(u+=h?l:-l,a=r,s=f,t.hasEdge(a,s)){var d=t.edge(r,f).cutvalue;u+=h?-d:d}}})),u}function d(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,r,o,i){var a=r,u=t.node(o);return e[o]=!0,n.forEach(t.neighbors(o),(function(i){n.has(e,i)||(r=p(t,e,r,i,o))})),u.low=a,u.lim=r++,i?u.parent=i:delete u.parent,r}function v(t){return n.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function g(t,e,r){var o=r.v,a=r.w;e.hasEdge(o,a)||(o=r.w,a=r.v);var u=t.node(o),s=t.node(a),c=u,f=!1;u.lim>s.lim&&(c=s,f=!0);var h=n.filter(e.edges(),(function(e){return f===m(t,t.node(e.v),c)&&f!==m(t,t.node(e.w),c)}));return n.minBy(h,(function(t){return i(e,t)}))}function y(t,e,r,o){var i=r.v,a=r.w;t.removeEdge(i,a),t.setEdge(o.v,o.w,{}),d(t),h(t,e),function(t,e){var r=n.find(t.nodes(),(function(t){return!e.node(t).parent})),o=u(t,r);o=o.slice(1),n.forEach(o,(function(r){var n=t.node(r).parent,o=e.edge(r,n),i=!1;o||(o=e.edge(n,r),i=!0),e.node(r).rank=e.node(n).rank+(i?o.minlen:-o.minlen)}))}(t,e)}function m(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}t.exports=f,f.initLowLimValues=d,f.initCutValues=h,f.calcCutValue=l,f.leaveEdge=v,f.enterEdge=g,f.exchangeEdges=y},function(t,e,r){var n=r(0);t.exports=function(t){var e=function(t){var e={},r=0;function o(i){var a=r;n.forEach(t.children(i),o),e[i]={low:a,lim:r++}}return n.forEach(t.children(),o),e}(t);n.forEach(t.graph().dummyChains,(function(r){for(var n=t.node(r),o=n.edgeObj,i=function(t,e,r,n){var o,i,a=[],u=[],s=Math.min(e[r].low,e[n].low),c=Math.max(e[r].lim,e[n].lim);o=r;do{o=t.parent(o),a.push(o)}while(o&&(e[o].low>s||c>e[o].lim));i=o,o=n;for(;(o=t.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(t,e,o.v,o.w),a=i.path,u=i.lca,s=0,c=a[s],f=!0;r!==o.w;){if(n=t.node(r),f){for(;(c=a[s])!==u&&t.node(c).maxRank<n.rank;)s++;c===u&&(f=!1)}if(!f){for(;s<a.length-1&&t.node(c=a[s+1]).minRank<=n.rank;)s++;c=a[s]}t.setParent(r,c),r=t.successors(r)[0]}}))}},function(t,e,r){var n=r(0),o=r(4);t.exports={run:function(t){var e=o.addDummyNode(t,"root",{},"_root"),r=function(t){var e={};return n.forEach(t.children(),(function(r){!function r(o,i){var a=t.children(o);a&&a.length&&n.forEach(a,(function(t){r(t,i+1)}));e[o]=i}(r,1)})),e}(t),i=n.max(n.values(r))-1,a=2*i+1;t.graph().nestingRoot=e,n.forEach(t.edges(),(function(e){t.edge(e).minlen*=a}));var u=function(t){return n.reduce(t.edges(),(function(e,r){return e+t.edge(r).weight}),0)}(t)+1;n.forEach(t.children(),(function(s){!function t(e,r,i,a,u,s,c){var f=e.children(c);if(!f.length)return void(c!==r&&e.setEdge(r,c,{weight:0,minlen:i}));var h=o.addBorderNode(e,"_bt"),l=o.addBorderNode(e,"_bb"),d=e.node(c);e.setParent(h,c),d.borderTop=h,e.setParent(l,c),d.borderBottom=l,n.forEach(f,(function(n){t(e,r,i,a,u,s,n);var o=e.node(n),f=o.borderTop?o.borderTop:n,d=o.borderBottom?o.borderBottom:n,p=o.borderTop?a:2*a,v=f!==d?1:u-s[c]+1;e.setEdge(h,f,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(d,l,{weight:p,minlen:v,nestingEdge:!0})})),e.parent(c)||e.setEdge(r,h,{weight:0,minlen:u+s[c]})}(t,e,a,u,i,r,s)})),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,n.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},function(t,e,r){var n=r(0),o=r(4);function i(t,e,r,n,i,a){var u={width:0,height:0,rank:a,borderType:e},s=i[e][a-1],c=o.addDummyNode(t,"border",u,r);i[e][a]=c,t.setParent(c,n),s&&t.setEdge(s,c,{weight:1})}t.exports=function(t){n.forEach(t.children(),(function e(r){var o=t.children(r),a=t.node(r);if(o.length&&n.forEach(o,e),n.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var u=a.minRank,s=a.maxRank+1;u<s;++u)i(t,"borderLeft","_bl",r,a,u),i(t,"borderRight","_br",r,a,u)}}))}},function(t,e,r){"use strict";var n=r(0);function o(t){n.forEach(t.nodes(),(function(e){i(t.node(e))})),n.forEach(t.edges(),(function(e){i(t.edge(e))}))}function i(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function u(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){n.forEach(t.nodes(),(function(e){a(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,a),n.has(r,"y")&&a(r)}))}(t);"lr"!==e&&"rl"!==e||(!function(t){n.forEach(t.nodes(),(function(e){u(t.node(e))})),n.forEach(t.edges(),(function(e){var r=t.edge(e);n.forEach(r.points,u),n.has(r,"x")&&u(r)}))}(t),o(t))}}},function(t,e,r){"use strict";var n=r(0),o=r(298),i=r(299),a=r(300),u=r(304),s=r(305),c=r(7).Graph,f=r(4);function h(t,e,r){return n.map(e,(function(e){return u(t,e,r)}))}function l(t,e){var r=new c;n.forEach(t,(function(t){var o=t.graph().root,i=a(t,o,r,e);n.forEach(i.vs,(function(e,r){t.node(e).order=r})),s(t,r,i.vs)}))}function d(t,e){n.forEach(e,(function(e){n.forEach(e,(function(e,r){t.node(e).order=r}))}))}t.exports=function(t){var e=f.maxRank(t),r=h(t,n.range(1,e+1),"inEdges"),a=h(t,n.range(e-1,-1,-1),"outEdges"),u=o(t);d(t,u);for(var s,c=Number.POSITIVE_INFINITY,p=0,v=0;v<4;++p,++v){l(p%2?r:a,p%4>=2),u=f.buildLayerMatrix(t);var g=i(t,u);g<c&&(v=0,s=n.cloneDeep(u),c=g)}d(t,s)}},function(t,e,r){"use strict";var n=r(0);t.exports=function(t){var e={},r=n.filter(t.nodes(),(function(e){return!t.children(e).length})),o=n.max(n.map(r,(function(e){return t.node(e).rank}))),i=n.map(n.range(o+1),(function(){return[]}));var a=n.sortBy(r,(function(e){return t.node(e).rank}));return n.forEach(a,(function r(o){if(n.has(e,o))return;e[o]=!0;var a=t.node(o);i[a.rank].push(o),n.forEach(t.successors(o),r)})),i}},function(t,e,r){"use strict";var n=r(0);function o(t,e,r){for(var o=n.zipObject(r,n.map(r,(function(t,e){return e}))),i=n.flatten(n.map(e,(function(e){return n.sortBy(n.map(t.outEdges(e),(function(e){return{pos:o[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<r.length;)a<<=1;var u=2*a-1;a-=1;var s=n.map(new Array(u),(function(){return 0})),c=0;return n.forEach(i.forEach((function(t){var e=t.pos+a;s[e]+=t.weight;for(var r=0;e>0;)e%2&&(r+=s[e+1]),s[e=e-1>>1]+=t.weight;c+=t.weight*r}))),c}t.exports=function(t,e){for(var r=0,n=1;n<e.length;++n)r+=o(t,e[n-1],e[n]);return r}},function(t,e,r){var n=r(0),o=r(301),i=r(302),a=r(303);t.exports=function t(e,r,u,s){var c=e.children(r),f=e.node(r),h=f?f.borderLeft:void 0,l=f?f.borderRight:void 0,d={};h&&(c=n.filter(c,(function(t){return t!==h&&t!==l})));var p=o(e,c);n.forEach(p,(function(r){if(e.children(r.v).length){var o=t(e,r.v,u,s);d[r.v]=o,n.has(o,"barycenter")&&(i=r,a=o,n.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var v=i(p,u);!function(t,e){n.forEach(t,(function(t){t.vs=n.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(v,d);var g=a(v,s);if(h&&(g.vs=n.flatten([h,g.vs,l],!0),e.predecessors(h).length)){var y=e.node(e.predecessors(h)[0]),m=e.node(e.predecessors(l)[0]);n.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+y.order+m.order)/(g.weight+2),g.weight+=2}return g}},function(t,e,r){var n=r(0);t.exports=function(t,e){return n.map(e,(function(e){var r=t.inEdges(e);if(r.length){var o=n.reduce(r,(function(e,r){var n=t.edge(r),o=t.node(r.v);return{sum:e.sum+n.weight*o.order,weight:e.weight+n.weight}}),{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}}))}},function(t,e,r){"use strict";var n=r(0);t.exports=function(t,e){var r={};return n.forEach(t,(function(t,e){var o=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};n.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)})),n.forEach(e.edges(),(function(t){var e=r[t.v],o=r[t.w];n.isUndefined(e)||n.isUndefined(o)||(o.indegree++,e.out.push(r[t.w]))})),function(t){var e=[];function r(t){return function(e){e.merged||(n.isUndefined(e.barycenter)||n.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight);e.weight&&(r+=e.barycenter*e.weight,n+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function o(e){return function(r){r.in.push(e),0==--r.indegree&&t.push(r)}}for(;t.length;){var i=t.pop();e.push(i),n.forEach(i.in.reverse(),r(i)),n.forEach(i.out,o(i))}return n.map(n.filter(e,(function(t){return!t.merged})),(function(t){return n.pick(t,["vs","i","barycenter","weight"])}))}(n.filter(r,(function(t){return!t.indegree})))}},function(t,e,r){var n=r(0),o=r(4);function i(t,e,r){for(var o;e.length&&(o=n.last(e)).i<=r;)e.pop(),t.push(o.vs),r++;return r}t.exports=function(t,e){var r=o.partition(t,(function(t){return n.has(t,"barycenter")})),a=r.lhs,u=n.sortBy(r.rhs,(function(t){return-t.i})),s=[],c=0,f=0,h=0;a.sort((l=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:l?e.i-t.i:t.i-e.i})),h=i(s,u,h),n.forEach(a,(function(t){h+=t.vs.length,s.push(t.vs),c+=t.barycenter*t.weight,f+=t.weight,h=i(s,u,h)}));var l;var d={vs:n.flatten(s,!0)};f&&(d.barycenter=c/f,d.weight=f);return d}},function(t,e,r){var n=r(0),o=r(7).Graph;t.exports=function(t,e,r){var i=function(t){var e;for(;t.hasNode(e=n.uniqueId("_root")););return e}(t),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return n.forEach(t.nodes(),(function(o){var u=t.node(o),s=t.parent(o);(u.rank===e||u.minRank<=e&&e<=u.maxRank)&&(a.setNode(o),a.setParent(o,s||i),n.forEach(t[r](o),(function(e){var r=e.v===o?e.w:e.v,i=a.edge(r,o),u=n.isUndefined(i)?0:i.weight;a.setEdge(r,o,{weight:t.edge(e).weight+u})})),n.has(u,"minRank")&&a.setNode(o,{borderLeft:u.borderLeft[e],borderRight:u.borderRight[e]}))})),a}},function(t,e,r){var n=r(0);t.exports=function(t,e,r){var o,i={};n.forEach(r,(function(r){for(var n,a,u=t.parent(r);u;){if((n=t.parent(u))?(a=i[n],i[n]=u):(a=o,o=u),a&&a!==u)return void e.setEdge(a,u);u=n}}))}},function(t,e,r){"use strict";var n=r(0),o=r(4),i=r(307).positionX;t.exports=function(t){(function(t){var e=o.buildLayerMatrix(t),r=t.graph().ranksep,i=0;n.forEach(e,(function(e){var o=n.max(n.map(e,(function(e){return t.node(e).height})));n.forEach(e,(function(e){t.node(e).y=i+o/2})),i+=o+r}))})(t=o.asNonCompoundGraph(t)),n.forEach(i(t),(function(e,r){t.node(r).x=e}))}},function(t,e,r){"use strict";var n=r(0),o=r(7).Graph,i=r(4);function a(t,e){var r={};return n.reduce(e,(function(e,o){var i=0,a=0,u=e.length,c=n.last(o);return n.forEach(o,(function(e,f){var h=function(t,e){if(t.node(e).dummy)return n.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),l=h?t.node(h).order:u;(h||e===c)&&(n.forEach(o.slice(a,f+1),(function(e){n.forEach(t.predecessors(e),(function(n){var o=t.node(n),a=o.order;!(a<i||l<a)||o.dummy&&t.node(e).dummy||s(r,n,e)}))})),a=f+1,i=l)})),o})),r}function u(t,e){var r={};function o(e,o,i,a,u){var c;n.forEach(n.range(o,i),(function(o){c=e[o],t.node(c).dummy&&n.forEach(t.predecessors(c),(function(e){var n=t.node(e);n.dummy&&(n.order<a||n.order>u)&&s(r,e,c)}))}))}return n.reduce(e,(function(e,r){var i,a=-1,u=0;return n.forEach(r,(function(n,s){if("border"===t.node(n).dummy){var c=t.predecessors(n);c.length&&(i=t.node(c[0]).order,o(r,u,s,a,i),u=s,a=i)}o(r,u,r.length,i,e.length)})),r})),r}function s(t,e,r){if(e>r){var n=e;e=r,r=n}var o=t[e];o||(t[e]=o={}),o[r]=!0}function c(t,e,r){if(e>r){var o=e;e=r,r=o}return n.has(t[e],r)}function f(t,e,r,o){var i={},a={},u={};return n.forEach(e,(function(t){n.forEach(t,(function(t,e){i[t]=t,a[t]=t,u[t]=e}))})),n.forEach(e,(function(t){var e=-1;n.forEach(t,(function(t){var s=o(t);if(s.length)for(var f=((s=n.sortBy(s,(function(t){return u[t]}))).length-1)/2,h=Math.floor(f),l=Math.ceil(f);h<=l;++h){var d=s[h];a[t]===t&&e<u[d]&&!c(r,t,d)&&(a[d]=t,a[t]=i[t]=i[d],e=u[d])}}))})),{root:i,align:a}}function h(t,e,r,i,a){var u={},s=function(t,e,r,i){var a=new o,u=t.graph(),s=function(t,e,r){return function(o,i,a){var u,s=o.node(i),c=o.node(a),f=0;if(f+=s.width/2,n.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2}if(u&&(f+=r?u:-u),u=0,f+=(s.dummy?e:t)/2,f+=(c.dummy?e:t)/2,f+=c.width/2,n.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":u=c.width/2;break;case"r":u=-c.width/2}return u&&(f+=r?u:-u),u=0,f}}(u.nodesep,u.edgesep,i);return n.forEach(e,(function(e){var o;n.forEach(e,(function(e){var n=r[e];if(a.setNode(n),o){var i=r[o],u=a.edge(i,n);a.setEdge(i,n,Math.max(s(t,e,o),u||0))}o=e}))})),a}(t,e,r,a),c=a?"borderLeft":"borderRight";function f(t,e){for(var r=s.nodes(),n=r.pop(),o={};n;)o[n]?t(n):(o[n]=!0,r.push(n),r=r.concat(e(n))),n=r.pop()}return f((function(t){u[t]=s.inEdges(t).reduce((function(t,e){return Math.max(t,u[e.v]+s.edge(e))}),0)}),s.predecessors.bind(s)),f((function(e){var r=s.outEdges(e).reduce((function(t,e){return Math.min(t,u[e.w]-s.edge(e))}),Number.POSITIVE_INFINITY),n=t.node(e);r!==Number.POSITIVE_INFINITY&&n.borderType!==c&&(u[e]=Math.max(u[e],r))}),s.successors.bind(s)),n.forEach(i,(function(t){u[t]=u[r[t]]})),u}function l(t,e){return n.minBy(n.values(e),(function(e){var r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return n.forIn(e,(function(e,n){var i=function(t,e){return t.node(e).width}(t,n)/2;r=Math.max(e+i,r),o=Math.min(e-i,o)})),r-o}))}function d(t,e){var r=n.values(e),o=n.min(r),i=n.max(r);n.forEach(["u","d"],(function(r){n.forEach(["l","r"],(function(a){var u,s=r+a,c=t[s];if(c!==e){var f=n.values(c);(u="l"===a?o-n.min(f):i-n.max(f))&&(t[s]=n.mapValues(c,(function(t){return t+u})))}}))}))}function p(t,e){return n.mapValues(t.ul,(function(r,o){if(e)return t[e.toLowerCase()][o];var i=n.sortBy(n.map(t,o));return(i[1]+i[2])/2}))}t.exports={positionX:function(t){var e,r=i.buildLayerMatrix(t),o=n.merge(a(t,r),u(t,r)),s={};n.forEach(["u","d"],(function(i){e="u"===i?r:n.values(r).reverse(),n.forEach(["l","r"],(function(r){"r"===r&&(e=n.map(e,(function(t){return n.values(t).reverse()})));var a=("u"===i?t.predecessors:t.successors).bind(t),u=f(t,e,o,a),c=h(t,e,u.root,u.align,"r"===r);"r"===r&&(c=n.mapValues(c,(function(t){return-t}))),s[i+r]=c}))}));var c=l(t,s);return d(s,c),p(s,t.graph().align)},findType1Conflicts:a,findType2Conflicts:u,addConflict:s,hasConflict:c,verticalAlignment:f,horizontalCompaction:h,alignCoordinates:d,findSmallestWidthAlignment:l,balance:p}},function(t,e,r){var n=r(0),o=r(4),i=r(7).Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),r=new i({compound:!0,multigraph:!0}).setGraph({});return n.forEach(t.nodes(),(function(e){r.setNode(e,{label:e}),r.setParent(e,"layer"+t.node(e).rank)})),n.forEach(t.edges(),(function(t){r.setEdge(t.v,t.w,{},t.name)})),n.forEach(e,(function(t,e){var o="layer"+e;r.setNode(o,{rank:"same"}),n.reduce(t,(function(t,e){return r.setEdge(t,e,{style:"invis"}),e}))})),r}}},function(t,e){t.exports="0.8.5"},function(t,e,r){var n=r(311),o=r(312),i={};for(var a in n)n.hasOwnProperty(a)&&(i[n[a]]=a);var u=t.exports={to:{},get:{}};function s(t,e,r){return Math.min(Math.max(e,t),r)}function c(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}u.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){case"hsl":e=u.get.hsl(t),r="hsl";break;case"hwb":e=u.get.hwb(t),r="hwb";break;default:e=u.get.rgb(t),r="rgb"}return e?{model:r,value:e}:null},u.get.rgb=function(t){if(!t)return null;var e,r,o,i=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=e[2],e=e[1],r=0;r<3;r++){var a=2*r;i[r]=parseInt(e.slice(a,a+2),16)}o&&(i[3]=parseInt(o,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(o=(e=e[1])[3],r=0;r<3;r++)i[r]=parseInt(e[r]+e[r],16);o&&(i[3]=parseInt(o+o,16)/255)}else if(e=t.match(/^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/)){for(r=0;r<3;r++)i[r]=parseInt(e[r+1],0);e[4]&&(i[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/)))return(e=t.match(/(\\D+)/))?"transparent"===e[1]?[0,0,0,0]:(i=n[e[1]])?(i[3]=1,i):null:null;for(r=0;r<3;r++)i[r]=Math.round(2.55*parseFloat(e[r+1]));e[4]&&(i[3]=parseFloat(e[4]))}for(r=0;r<3;r++)i[r]=s(i[r],0,255);return i[3]=s(i[3],0,1),i},u.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\\(\\s*([+-]?(?:\\d*\\.)?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(r)?1:r,0,1)]}return null},u.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\\(\\s*([+-]?\\d*[\\.]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(r)?1:r,0,1)]}return null},u.to.hex=function(){var t=o(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},u.to.rgb=function(){var t=o(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},u.to.rgb.percent=function(){var t=o(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"},u.to.hsl=function(){var t=o(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},u.to.hwb=function(){var t=o(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},u.to.keyword=function(t){return i[t.slice(0,3)]}},function(t,e,r){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,r){"use strict";var n=r(313),o=Array.prototype.concat,i=Array.prototype.slice,a=t.exports=function(t){for(var e=[],r=0,a=t.length;r<a;r++){var u=t[r];n(u)?e=o.call(e,i.call(u)):e.push(u)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},function(t,e,r){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=r(128),i=r(316),a={};Object.keys(o).forEach((function(t){a[t]={},Object.defineProperty(a[t],"channels",{value:o[t].channels}),Object.defineProperty(a[t],"labels",{value:o[t].labels});var e=i(t);Object.keys(e).forEach((function(r){var o=e[r];a[t][r]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var r=t(e);if("object"===n(r))for(var o=r.length,i=0;i<o;i++)r[i]=Math.round(r[i]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(o),a[t][r].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(o)}))})),t.exports=a},function(t,e,r){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,r){var n=r(128);function o(t){var e=function(){for(var t={},e=Object.keys(n),r=e.length,o=0;o<r;o++)t[e[o]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length;)for(var o=r.pop(),i=Object.keys(n[o]),a=i.length,u=0;u<a;u++){var s=i[u],c=e[s];-1===c.distance&&(c.distance=e[o].distance+1,c.parent=o,r.unshift(s))}return e}function i(t,e){return function(r){return e(t(r))}}function a(t,e){for(var r=[e[t].parent,t],o=n[e[t].parent][t],a=e[t].parent;e[a].parent;)r.unshift(e[a].parent),o=i(n[e[a].parent][a],o),a=e[a].parent;return o.conversion=r,o}t.exports=function(t){for(var e=o(t),r={},n=Object.keys(e),i=n.length,u=0;u<i;u++){var s=n[u];null!==e[s].parent&&(r[s]=a(s,e))}return r}},function(t,e,r){"use strict";r.r(e);var n=r(53),o=r.n(n);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function a(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}Object.create;Object.create;var u=r(30),s=r.n(u),c=function(){function t(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return t.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]},t.prototype.execute=function(){},t.prototype.layout=function(t){this.init(t),this.execute()},t.prototype.getDefaultCfg=function(){return{}},t.prototype.updateCfg=function(t){s()(this,t)},t.prototype.destroy=function(){this.positions=null,this.nodes=null,this.edges=null,this.destroyed=!0},t}(),f={registerLayout:function(t,e,r){if(void 0===r&&(r=c),!e)throw new Error("please specify handler for this layout: "+t);var n=function(t){function r(r){var n=t.call(this)||this,i=n,a={},u=i.getDefaultCfg();return s()(a,u,e,r),o()(a,(function(t,e){i[e]=t})),n}return a(r,t),r}(r);f[t]=n}},h=f,l=r(3);l.translate=function(t,e,r){var n=new Array(9);return l.fromTranslation(n,r),l.multiply(t,n,e)},l.rotate=function(t,e,r){var n=new Array(9);return l.fromRotation(n,r),l.multiply(t,n,e)},l.scale=function(t,e,r){var n=new Array(9);return l.fromScaling(n,r),l.multiply(t,n,e)},l.transform=function(t,e){for(var r=[].concat(t),n=0,o=e.length;n<o;n++){var i=e[n];switch(i[0]){case"t":l.translate(r,r,[i[1],i[2]]);break;case"s":l.scale(r,r,[i[1],i[2]]);break;case"r":l.rotate(r,r,i[1])}}return r};var d=r(9),p={}.toString,v=function(t,e){return p.call(t)==="[object "+e+"]"},g=function(t){return v(t,"Function")},y=function(t){return Array.isArray?Array.isArray(t):v(t,"Array")};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var b=function(t){var e=m(t);return null!==t&&"object"===e||"function"===e};var w=function(t,e){if(t)if(y(t))for(var r=0,n=t.length;r<n&&!1!==e(t[r],r);r++);else if(b(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break};Object.keys;var x=Array.prototype;x.splice,x.indexOf,Array.prototype.splice;Object.prototype.hasOwnProperty;var M=function(t,e,r){return t<e?e:t>r?r:t},k=function(t){return v(t,"Number")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI,Object.values;Object.prototype;function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var S=function t(e){if("object"!==_(e)||null===e)return e;var r;if(y(e)){r=[];for(var n=0,o=e.length;n<o;n++)"object"===_(e[n])&&null!=e[n]?r[n]=t(e[n]):r[n]=e[n]}else for(var i in r={},e)"object"===_(e[i])&&null!=e[i]?r[i]=t(e[i]):r[i]=e[i];return r};Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;!function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var r=this.map[t];return void 0===r?e:r},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();d.angle=function(t,e){var r=d.dot(t,e)/(d.length(t)*d.length(e));return Math.acos(M(r,-1,1))},d.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},d.angleTo=function(t,e,r){var n=d.angle(t,e),o=d.direction(t,e)>=0;return r?o?2*Math.PI-n:n:o?n:2*Math.PI-n},d.vertical=function(t,e,r){return r?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t};r(129);var E=r(2),j=r.n(E),A=function(t){for(var e=[],r=t.length,n=0;n<r;n+=1){e[n]=[];for(var o=0;o<r;o+=1)n===o?e[n][o]=0:0!==t[n][o]&&t[n][o]?e[n][o]=t[n][o]:e[n][o]=1/0}for(var i=0;i<r;i+=1)for(n=0;n<r;n+=1)for(o=0;o<r;o+=1)e[n][o]>e[n][i]+e[i][o]&&(e[n][o]=e[n][i]+e[i][o]);return e},O=function(t,e){var r=t.nodes,n=t.edges,o=[],i={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(t,e){i[t.id]=e;o.push([])})),n&&n.forEach((function(t){var r=t.source,n=t.target,a=i[r],u=i[n];o[a][u]=1,e||(o[u][a]=1)})),o},N=function(t,e,r){for(var n=[],o=0;o<t;o++)n[o]=0;return r.forEach((function(t){t.source&&(n[e[t.source]]+=1),t.target&&(n[e[t.target]]+=1)})),n};!function(){function t(t,e,r,n){this.x1=t,this.y1=e,this.x2=r,this.y2=n}t.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),e=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2);return{x:t,y:e,minX:t,minY:e,maxX:r,maxY:n,width:r-t,height:n-e}}}();function I(t,e){return t.degree<e.degree?-1:t.degree>e.degree?1:0}var R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.radius=null,e.startRadius=null,e.endRadius=null,e.startAngle=0,e.endAngle=2*Math.PI,e.clockwise=!0,e.divisions=1,e.ordering=null,e.angleRatio=1,e.nodes=[],e.edges=[],e.nodeMap={},e.degrees=[],e.width=300,e.height=300,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},e.prototype.execute=function(){var t=this.nodes,e=this.edges,r=t.length,n=this.center;if(0!==r){if(1===r)return t[0].x=n[0],void(t[0].y=n[1]);var o=this.radius,i=this.startRadius,a=this.endRadius,u=this.divisions,s=this.startAngle,c=this.endAngle,f=(c-s)/r,h={};t.forEach((function(t,e){h[t.id]=e})),this.nodeMap=h;var l=N(t.length,h,e);this.degrees=l,this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight),o||i||a?!i&&a?i=a:i&&!a&&(a=i):o=this.height>this.width?this.width/2:this.height/2;var d=f*this.angleRatio;this.astep=d;var p=this.ordering,v=[];v="topology"===p?this.topologyOrdering():"topology-directed"===p?this.topologyOrdering(!0):"degree"===p?this.degreeOrdering():t;for(var g=this.clockwise,y=Math.ceil(r/u),m=0;m<r;++m){var b=o;b||null===i||null===a||(b=i+m*(a-i)/(r-1)),b||(b=10+100*m/(r-1));var w=s+m%y*d+2*Math.PI/u*Math.floor(m/y);g||(w=c-m%y*d-2*Math.PI/u*Math.floor(m/y)),v[m].x=n[0]+Math.cos(w)*b,v[m].y=n[1]+Math.sin(w)*b,v[m].weight=l[m]}}},e.prototype.topologyOrdering=function(t){void 0===t&&(t=!1);var e=this.degrees,r=this.edges,n=this.nodes,o=S(n),i=this.nodeMap,a=[o[0]],u=[n[0]],s=[],c=n.length;s[0]=!0,function(t,e,r,n){t.forEach((function(e,r){t[r].children=[],t[r].parent=[]})),n?e.forEach((function(e){var n=0;e.source&&(n=r[e.source]);var o=0;e.target&&(o=r[e.target]),t[n].children.push(t[o].id),t[o].parent.push(t[n].id)})):e.forEach((function(e){var n=0;e.source&&(n=r[e.source]);var o=0;e.target&&(o=r[e.target]),t[n].children.push(t[o].id),t[o].children.push(t[n].id)}))}(o,r,i,t);var f=0;return o.forEach((function(t,h){if(0!==h)if(h!==c-1&&e[h]===e[h+1]&&!function(t,e,r){for(var n=r.length,o=0;o<n;o++)if(t.id===r[o].source&&e.id===r[o].target||e.id===r[o].source&&t.id===r[o].target)return!0;return!1}(a[f],t,r)||!0===s[h]){for(var l=a[f].children,d=!1,p=0;p<l.length;p++){var v=i[l[p]];if(e[v]===e[h]&&!0!==s[v]){a.push(o[v]),u.push(n[i[o[v].id]]),s[v]=!0,d=!0;break}}for(var g=0;!d&&(s[g]||(a.push(o[g]),u.push(n[i[o[g].id]]),s[g]=!0,d=!0),++g!==c););}else a.push(t),u.push(n[i[t.id]]),s[h]=!0,f++})),u},e.prototype.degreeOrdering=function(){var t=this.nodes,e=[],r=this.degrees;return t.forEach((function(t,n){t.degree=r[n],e.push(t)})),e.sort(I),e},e}(c),P=r(11),C=r.n(P),z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.nodeSize=30,e.minNodeSpacing=10,e.preventOverlap=!1,e.equidistant=!1,e.startAngle=1.5*Math.PI,e.clockwise=!0,e.sortBy="degree",e.nodes=[],e.edges=[],e.width=300,e.height=300,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges,n=e.length,o=t.center;if(0!==n){if(1===n)return e[0].x=o[0],void(e[0].y=o[1]);var i,a=[];i=j()(t.nodeSize)?Math.max(t.nodeSize[0],t.nodeSize[1]):t.nodeSize,e.forEach((function(t){a.push(t);var e=i;j()(t.size)?e=Math.max(t.size[0],t.size[1]):k(t.size)&&(e=t.size),i=Math.max(i,e)})),t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.clockwise=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise;var u={},s={};if(a.forEach((function(t,e){u[t.id]=t,s[t.id]=e})),!("degree"!==t.sortBy&&C()(t.sortBy)&&void 0!==a[0][t.sortBy]||(t.sortBy="degree",k(e[0].degree)))){var c=N(e.length,s,r);a.forEach((function(t,e){t.degree=c[e]}))}a.sort((function(e,r){return r[t.sortBy]-e[t.sortBy]})),t.maxValueNode=a[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var f=[[]],h=f[0];a.forEach((function(e){if(h.length>0){var r=Math.abs(h[0][t.sortBy]-e[t.sortBy]);t.maxLevelDiff&&r>=t.maxLevelDiff&&(h=[],f.push(h))}h.push(e)}));var l=i+t.minNodeSpacing;if(!t.preventOverlap){var d=f.length>0&&f[0].length>1,p=(Math.min(t.width,t.height)/2-l)/(f.length+(d?1:0));l=Math.min(l,p)}var v=0;if(f.forEach((function(e){var r=t.sweep;void 0===r&&(r=2*Math.PI-2*Math.PI/e.length);var n=e.dTheta=r/Math.max(1,e.length-1);if(e.length>1&&t.preventOverlap){var o=Math.cos(n)-Math.cos(0),i=Math.sin(n)-Math.sin(0),a=Math.sqrt(l*l/(o*o+i*i));v=Math.max(a,v)}e.r=v,v+=l})),t.equidistant){for(var g=0,y=0,m=0;m<f.length;m++){var b=f[m].r-y;g=Math.max(g,b)}y=0,f.forEach((function(t,e){0===e&&(y=t.r),t.r=y,y+=g}))}f.forEach((function(e){var r=e.dTheta,n=e.r;e.forEach((function(e,i){var a=t.startAngle+(t.clockwise?1:-1)*r*i;e.x=o[0]+n*Math.cos(a),e.y=o[1]+n*Math.sin(a)}))}))}},e}(c),F=r(74),T=r.n(F),D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rankdir="TB",e.nodesep=50,e.ranksep=50,e.controlPoints=!1,e.sortByCombo=!1,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.nodeSize,n=t.rankdir;if(e){var o,i=t.edges||[],a=new T.a.graphlib.Graph;o=r?j()(r)?function(){return r}:function(){return[r,r]}:function(t){return t.size?j()(t.size)?t.size:[t.size,t.size]:[40,40]};var u,s=q(t.nodesepFunc,t.nodesep,50),c=q(t.ranksepFunc,t.ranksep,50);"LR"!==n&&"RL"!==n||(s=q(t.ranksepFunc,t.ranksep,50),c=q(t.nodesepFunc,t.nodesep,50)),a.setDefaultEdgeLabel((function(){return{}})),a.setGraph(t),e.forEach((function(t){var e=o(t),r=c(t),n=s(t),i=e[0]+2*n,u=e[1]+2*r;a.setNode(t.id,{width:i,height:u})})),i.forEach((function(t){a.setEdge(t.source,t.target,{weight:t.weight||1})})),T.a.layout(a),a.nodes().forEach((function(t){u=a.node(t);var r=e.findIndex((function(e){return e.id===t}));e[r].x=u.x,e[r].y=u.y})),a.edges().forEach((function(e){u=a.edge(e);var r=i.findIndex((function(t){return t.source===e.v&&t.target===e.w}));t.controlPoints&&"loop"!==i[r].type&&"loop"!==i[r].shape&&(i[r].controlPoints=u.points.slice(1,u.points.length-1))})),t.sortByCombo&&t.sortLevel("comboId")}},e.prototype.sortLevel=function(t){var e=this.nodes,r={};e.forEach((function(t){r[t.y]||(r[t.y]={y:t.y,nodes:[]}),r[t.y].nodes.push(t)})),Object.keys(r).forEach((function(e){var n=r[e].nodes,o=n.length,i={};if(n.forEach((function(t){var e=t.comboId;i[e]||(i[e]={x:0,y:0,count:0}),i[e].x+=t.x,i[e].y+=t.y,i[e].count++})),Object.keys(i).forEach((function(t){i[t].x/=i[t].count,i[t].y/=i[t].count})),1!==o){var a=n.sort((function(t,e){return t.x-e.x})),u=a[0].x,s=(a[o-1].x-u)/(o-1);n.sort((function(e,r){var n=e[t]||"undefined",o=r[t]||"undefined";return n<o?-1:n>o?1:0})).forEach((function(t,e){t.x=u+e*s}))}}))},e}(c);function q(t,e,r){return t||(k(e)?function(){return e}:function(){return r})}function L(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var o,i,a,u,s,c,f,h,l,d=t._root,p={data:n},v=t._x0,g=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(i=(v+y)/2))?v=i:y=i,(f=r>=(a=(g+m)/2))?g=a:m=a,o=d,!(d=d[h=f<<1|c]))return o[h]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),e===u&&r===s)return p.next=d,o?o[h]=p:t._root=p,t;do{o=o?o[h]=new Array(4):t._root=new Array(4),(c=e>=(i=(v+y)/2))?v=i:y=i,(f=r>=(a=(g+m)/2))?g=a:m=a}while((h=f<<1|c)==(l=(s>=a)<<1|u>=i));return o[l]=d,o[h]=p,t}var B=function(t,e,r,n,o){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=o};function V(t){return t[0]}function U(t){return t[1]}function Y(t,e,r){var n=new H(null==e?V:e,null==r?U:r,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function H(t,e,r,n,o,i){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=o,this._y1=i,this._root=void 0}function W(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var G=Y.prototype=H.prototype;G.copy=function(){var t,e,r=new H(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=W(n),r;for(t=[{source:n,target:r._root=new Array(4)}];n=t.pop();)for(var o=0;o<4;++o)(e=n.source[o])&&(e.length?t.push({source:e,target:n.target[o]=new Array(4)}):n.target[o]=W(e));return r},G.add=function(t){var e=+this._x.call(null,t),r=+this._y.call(null,t);return L(this.cover(e,r),e,r,t)},G.addAll=function(t){var e,r,n,o,i=t.length,a=new Array(i),u=new Array(i),s=1/0,c=1/0,f=-1/0,h=-1/0;for(r=0;r<i;++r)isNaN(n=+this._x.call(null,e=t[r]))||isNaN(o=+this._y.call(null,e))||(a[r]=n,u[r]=o,n<s&&(s=n),n>f&&(f=n),o<c&&(c=o),o>h&&(h=o));if(s>f||c>h)return this;for(this.cover(s,c).cover(f,h),r=0;r<i;++r)L(this,a[r],u[r],t[r]);return this},G.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,o=this._x1,i=this._y1;if(isNaN(r))o=(r=Math.floor(t))+1,i=(n=Math.floor(e))+1;else{for(var a,u,s=o-r||1,c=this._root;r>t||t>=o||n>e||e>=i;)switch(u=(e<n)<<1|t<r,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:o=r+s,i=n+s;break;case 1:r=o-s,i=n+s;break;case 2:o=r+s,n=i-s;break;case 3:r=o-s,n=i-s}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=n,this._x1=o,this._y1=i,this},G.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},G.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},G.find=function(t,e,r){var n,o,i,a,u,s,c,f=this._x0,h=this._y0,l=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new B(v,f,h,l,d)),null==r?r=1/0:(f=t-r,h=e-r,l=t+r,d=e+r,r*=r);s=p.pop();)if(!(!(v=s.node)||(o=s.x0)>l||(i=s.y0)>d||(a=s.x1)<f||(u=s.y1)<h))if(v.length){var g=(o+a)/2,y=(i+u)/2;p.push(new B(v[3],g,y,a,u),new B(v[2],o,y,g,u),new B(v[1],g,i,a,y),new B(v[0],o,i,g,y)),(c=(e>=y)<<1|t>=g)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var m=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),w=m*m+b*b;if(w<r){var x=Math.sqrt(r=w);f=t-x,h=e-x,l=t+x,d=e+x,n=v.data}}return n},G.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,r,n,o,i,a,u,s,c,f,h,l,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(u=(p+g)/2))?p=u:g=u,(f=a>=(s=(v+y)/2))?v=s:y=s,e=d,!(d=d[h=f<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(r=e,l=h)}for(;d.data!==t;)if(n=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,n?(o?n.next=o:delete n.next,this):e?(o?e[h]=o:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(r?r[l]=d:this._root=d),this):(this._root=o,this)},G.removeAll=function(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this},G.root=function(){return this._root},G.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},G.visit=function(t){var e,r,n,o,i,a,u=[],s=this._root;for(s&&u.push(new B(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,n=e.x0,o=e.y0,i=e.x1,a=e.y1)&&s.length){var c=(n+i)/2,f=(o+a)/2;(r=s[3])&&u.push(new B(r,c,f,i,a)),(r=s[2])&&u.push(new B(r,n,f,c,a)),(r=s[1])&&u.push(new B(r,c,o,i,f)),(r=s[0])&&u.push(new B(r,n,o,c,f))}return this},G.visitAfter=function(t){var e,r=[],n=[];for(this._root&&r.push(new B(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var o=e.node;if(o.length){var i,a=e.x0,u=e.y0,s=e.x1,c=e.y1,f=(a+s)/2,h=(u+c)/2;(i=o[0])&&r.push(new B(i,a,u,f,h)),(i=o[1])&&r.push(new B(i,f,u,s,h)),(i=o[2])&&r.push(new B(i,a,h,f,c)),(i=o[3])&&r.push(new B(i,f,h,s,c))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},G.x=function(t){return arguments.length?(this._x=t,this):this._x},G.y=function(t){return arguments.length?(this._y=t,this):this._y};var $=function(t){return function(){return t}},X=function(t){return 1e-6*(t()-.5)},J={value:function(){}};function Q(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new K(n)}function K(t){this._=t}function Z(t,e){return t.trim().split(/^|\\s+/).map((function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function tt(t,e){for(var r,n=0,o=t.length;n<o;++n)if((r=t[n]).name===e)return r.value}function et(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=J,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({name:e,value:r}),t}K.prototype=Q.prototype={constructor:K,on:function(t,e){var r,n=this._,o=Z(t+"",n),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(r=(t=o[i]).type)n[r]=et(n[r],t.name,e);else if(null==e)for(r in n)n[r]=et(n[r],t.name,null);return this}for(;++i<a;)if((r=(t=o[i]).type)&&(r=tt(n[r],t.name)))return r},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new K(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,o=new Array(r),i=0;i<r;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,r=(n=this._[t]).length;i<r;++i)n[i].value.apply(e,o)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};var rt=Q;function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ot,it,at=0,ut=0,st=0,ct=0,ft=0,ht=0,lt="object"===("undefined"==typeof performance?"undefined":nt(performance))&&performance.now?performance:Date,dt="object"===("undefined"==typeof window?"undefined":nt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pt(){return ft||(dt(vt),ft=lt.now()+ht)}function vt(){ft=0}function gt(){this._call=this._time=this._next=null}function yt(t,e,r){var n=new gt;return n.restart(t,e,r),n}function mt(){ft=(ct=lt.now())+ht,at=ut=0;try{!function(){pt(),++at;for(var t,e=ot;e;)(t=ft-e._time)>=0&&e._call.call(null,t),e=e._next;--at}()}finally{at=0,function(){var t,e,r=ot,n=1/0;for(;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:ot=e);it=t,wt(n)}(),ft=0}}function bt(){var t=lt.now(),e=t-ct;e>1e3&&(ht-=e,ct=t)}function wt(t){at||(ut&&(ut=clearTimeout(ut)),t-ft>24?(t<1/0&&(ut=setTimeout(mt,t-lt.now()-ht)),st&&(st=clearInterval(st))):(st||(ct=lt.now(),st=setInterval(bt,1e3)),at=1,dt(mt)))}gt.prototype=yt.prototype={constructor:gt,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?pt():+r)+(null==e?0:+e),this._next||it===this||(it?it._next=this:ot=this,it=this),this._call=t,this._time=r,wt()},stop:function(){this._call&&(this._call=null,this._time=1/0,wt())}};function xt(t){return t.x}function Mt(t){return t.y}var kt=Math.PI*(3-Math.sqrt(5)),_t=function(t){var e,r,n=1,o=.001,i=1-Math.pow(o,1/300),a=0,u=.6,s=new Map,c=yt(l),f=rt("tick","end"),h=(r=1,function(){return(r=(1664525*r+1013904223)%4294967296)/4294967296});function l(){d(),f.call("tick",e),n<o&&(c.stop(),f.call("end",e))}function d(r){var o,c,f=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(a-n)*i,s.forEach((function(t){t(n)})),o=0;o<f;++o)null==(c=t[o]).fx?c.x+=c.vx*=u:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=u:(c.y=c.fy,c.vy=0);return e}function p(){for(var e,r=0,n=t.length;r<n;++r){if((e=t[r]).index=r,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=10*Math.sqrt(.5+r),i=r*kt;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function v(e){return e.initialize&&e.initialize(t,h),e}return null==t&&(t=[]),p(),e={tick:d,restart:function(){return c.restart(l),e},stop:function(){return c.stop(),e},nodes:function(r){return arguments.length?(t=r,p(),s.forEach(v),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(o=+t,e):o},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(u=1-t,e):1-u},randomSource:function(t){return arguments.length?(h=t,s.forEach(v),e):h},force:function(t,r){return arguments.length>1?(null==r?s.delete(t):s.set(t,v(r)),e):s.get(t)},find:function(e,r,n){var o,i,a,u,s,c=0,f=t.length;for(null==n?n=1/0:n*=n,c=0;c<f;++c)(a=(o=e-(u=t[c]).x)*o+(i=r-u.y)*i)<n&&(s=u,n=a);return s},on:function(t,r){return arguments.length>1?(f.on(t,r),e):f.on(t)}}},St=function(){var t,e,r,n,o,i=$(-30),a=1,u=1/0,s=.81;function c(r){var o,i=t.length,a=Y(t,xt,Mt).visitAfter(h);for(n=r,o=0;o<i;++o)e=t[o],a.visit(l)}function f(){if(t){var e,r,n=t.length;for(o=new Array(n),e=0;e<n;++e)r=t[e],o[r.index]=+i(r,e,t)}}function h(t){var e,r,n,i,a,u=0,s=0;if(t.length){for(n=i=a=0;a<4;++a)(e=t[a])&&(r=Math.abs(e.value))&&(u+=e.value,s+=r,n+=r*e.x,i+=r*e.y);t.x=n/s,t.y=i/s}else{(e=t).x=e.data.x,e.y=e.data.y;do{u+=o[e.data.index]}while(e=e.next)}t.value=u}function l(t,i,c,f){if(!t.value)return!0;var h=t.x-e.x,l=t.y-e.y,d=f-i,p=h*h+l*l;if(d*d/s<p)return p<u&&(0===h&&(p+=(h=X(r))*h),0===l&&(p+=(l=X(r))*l),p<a&&(p=Math.sqrt(a*p)),e.vx+=h*t.value*n/p,e.vy+=l*t.value*n/p),!0;if(!(t.length||p>=u)){(t.data!==e||t.next)&&(0===h&&(p+=(h=X(r))*h),0===l&&(p+=(l=X(r))*l),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=o[t.data.index]*n/p,e.vx+=h*d,e.vy+=l*d)}while(t=t.next)}}return c.initialize=function(e,n){t=e,r=n,f()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:$(+t),f(),c):i},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c};function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t){return t.index}function At(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}var Ot=function(t){var e,r,n,o,i,a,u=jt,s=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},c=$(30),f=1;function h(n){for(var o=0,u=t.length;o<f;++o)for(var s,c,h,l,d,p,v,g=0;g<u;++g)c=(s=t[g]).source,l=(h=s.target).x+h.vx-c.x-c.vx||X(a),d=h.y+h.vy-c.y-c.vy||X(a),l*=p=((p=Math.sqrt(l*l+d*d))-r[g])/p*n*e[g],d*=p,h.vx-=l*(v=i[g]),h.vy-=d*v,c.vx+=l*(v=1-v),c.vy+=d*v}function l(){if(n){var a,s,c=n.length,f=t.length,h=new Map(n.map((function(t,e){return[u(t,e,n),t]})));for(a=0,o=new Array(c);a<f;++a)(s=t[a]).index=a,"object"!==Et(s.source)&&(s.source=At(h,s.source)),"object"!==Et(s.target)&&(s.target=At(h,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(a=0,i=new Array(f);a<f;++a)s=t[a],i[a]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);e=new Array(f),d(),r=new Array(f),p()}}function d(){if(n)for(var r=0,o=t.length;r<o;++r)e[r]=+s(t[r],r,t)}function p(){if(n)for(var e=0,o=t.length;e<o;++e)r[e]=+c(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){n=t,a=e,l()},h.links=function(e){return arguments.length?(t=e,l(),h):t},h.id=function(t){return arguments.length?(u=t,h):u},h.iterations=function(t){return arguments.length?(f=+t,h):f},h.strength=function(t){return arguments.length?(s="function"==typeof t?t:$(+t),d(),h):s},h.distance=function(t){return arguments.length?(c="function"==typeof t?t:$(+t),p(),h):c},h};function Nt(t){return t.x+t.vx}function It(t){return t.y+t.vy}var Rt=function(t){var e,r,n,o=1,i=1;function a(){for(var t,a,s,c,f,h,l,d=e.length,p=0;p<i;++p)for(a=Y(e,Nt,It).visitAfter(u),t=0;t<d;++t)s=e[t],h=r[s.index],l=h*h,c=s.x+s.vx,f=s.y+s.vy,a.visit(v);function v(t,e,r,i,a){var u=t.data,d=t.r,p=h+d;if(!u)return e>c+p||i<c-p||r>f+p||a<f-p;if(u.index>s.index){var v=c-u.x-u.vx,g=f-u.y-u.vy,y=v*v+g*g;y<p*p&&(0===v&&(y+=(v=X(n))*v),0===g&&(y+=(g=X(n))*g),y=(p-(y=Math.sqrt(y)))/y*o,s.vx+=(v*=y)*(p=(d*=d)/(l+d)),s.vy+=(g*=y)*p,u.vx-=v*(p=1-p),u.vy-=g*p)}}}function u(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var n,o,i=e.length;for(r=new Array(i),n=0;n<i;++n)o=e[n],r[o.index]=+t(o,n,e)}}return"function"!=typeof t&&(t=$(null==t?1:+t)),a.initialize=function(t,r){e=t,n=r,s()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(o=+t,a):o},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:$(+e),s(),a):t},a};function Pt(){function t(t){return function(){return t}}var e,r=function(t){return t.cluster},n=t(1),o=t(-1),i=t(100),a=t(.1),u=[0,0],s=[],c={},f=[],h=100,l=100,d={none:{x:0,y:0}},p=[],v="force",g=!0,y=.1;function m(t){if(!g)return m;e.tick(),w();for(var n=0,o=s.length,i=void 0,a=t*y;n<o;++n)(i=s[n]).vx+=(d[r(i)].x-i.x)*a,i.vy+=(d[r(i)].y-i.y)*a}function b(){s&&function(){if(!s||!s.length)return;if(void 0===r(s[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var t=(d=[],v=[],g={},y=[],u=function(t){var e={};return t.forEach((function(t){var n=r(t);e[n]||(e[n]={count:0,sumforceNodeSize:0})})),t.forEach((function(t){var o=r(t),i=n(t),a=e[o];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(i*i)*1.3,e[o]=a})),e}(s),y=function(t){var e={},n=[];return t.forEach((function(t){var n=function(t){var e=r(c[t.source]),n=r(c[t.target]);return e<=n?e+"~"+n:n+"~"+e}(t),o=0;void 0!==e[n]&&(o=e[n]),o+=1,e[n]=o})),Object.entries(e).forEach((function(t){var e=t[0],r=t[1],o=e.split("~")[0],i=e.split("~")[1];void 0!==o&&void 0!==i&&n.push({source:o,target:i,count:r})})),n}(f),Object.keys(u).forEach((function(t,e){var r=u[t];d.push({id:t,size:r.count,r:Math.sqrt(r.sumforceNodeSize/Math.PI)}),g[t]=e})),y.forEach((function(t){var e=g[t.source],r=g[t.target];void 0!==e&&void 0!==r&&v.push({source:e,target:r,count:t.count})})),{nodes:d,links:v});var u,d,v,g,y;e=_t(t.nodes).force("x",function(t){var e,r,n,o=$(.1);function i(t){for(var o,i=0,a=e.length;i<a;++i)(o=e[i]).vx+=(n[i]-o.x)*r[i]*t}function a(){if(e){var i,a=e.length;for(r=new Array(a),n=new Array(a),i=0;i<a;++i)r[i]=isNaN(n[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=$(null==t?0:+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:$(+t),a(),i):o},i.x=function(e){return arguments.length?(t="function"==typeof e?e:$(+e),a(),i):t},i}(h).strength(.1)).force("y",function(t){var e,r,n,o=$(.1);function i(t){for(var o,i=0,a=e.length;i<a;++i)(o=e[i]).vy+=(n[i]-o.y)*r[i]*t}function a(){if(e){var i,a=e.length;for(r=new Array(a),n=new Array(a),i=0;i<a;++i)r[i]=isNaN(n[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=$(null==t?0:+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:$(+t),a(),i):o},i.y=function(e){return arguments.length?(t="function"==typeof e?e:$(+e),a(),i):t},i}(l).strength(.1)).force("collide",Rt((function(t){return t.r})).iterations(4)).force("charge",St().strength(o)).force("links",Ot(t.nodes.length?t.links:[]).distance(i).strength(a)),p=e.nodes(),w()}()}function w(){return d={none:{x:0,y:0}},p.forEach((function(t){d[t.id]={x:t.x-u[0],y:t.y-u[1]}})),d}function x(t){c={},t.forEach((function(t){c[t.id]=t}))}return m.initialize=function(t){s=t,b()},m.template=function(t){return arguments.length?(v=t,b(),m):v},m.groupBy=function(t){return arguments.length?"string"==typeof t?(r=function(e){return e[t]},m):(r=t,m):r},m.enableGrouping=function(t){return arguments.length?(g=t,m):g},m.strength=function(t){return arguments.length?(y=t,m):y},m.centerX=function(t){return arguments.length?(h=t,m):h},m.centerY=function(t){return arguments.length?(l=t,m):l},m.nodes=function(t){return arguments.length?(x(t||[]),s=t||[],m):s},m.links=function(t){return arguments.length?(f=t||[],b(),m):f},m.forceNodeSize=function(e){return arguments.length?(n="function"==typeof e?e:t(+e),b(),m):n},m.nodeSize=m.forceNodeSize,m.forceCharge=function(e){return arguments.length?(o="function"==typeof e?e:t(+e),b(),m):o},m.forceLinkDistance=function(e){return arguments.length?(i="function"==typeof e?e:t(+e),b(),m):i},m.forceLinkStrength=function(e){return arguments.length?(a="function"==typeof e?e:t(+e),b(),m):a},m.offset=function(t){return arguments.length?(u=t,m):u},m.getFocis=w,m}var Ct=r(31),zt=r.n(Ct),Ft=r(19),Tt=r.n(Ft),Dt="LAYOUT_RUN",qt="LAYOUT_END",Lt="LAYOUT_ERROR",Bt="LAYOUT_TICK",Vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.nodeStrength=null,e.edgeStrength=null,e.preventOverlap=!1,e.clusterNodeStrength=null,e.clusterEdgeStrength=null,e.clusterEdgeDistance=null,e.clusterNodeSize=null,e.clusterFociStrength=null,e.linkDistance=50,e.alphaDecay=.028,e.alphaMin=.001,e.alpha=.3,e.collideStrength=1,e.workerEnabled=!1,e.tick=function(){},e.onLayoutEnd=function(){},e.onTick=function(){},e.ticking=void 0,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},e.prototype.init=function(t){this.nodes=t.nodes||[];var e=t.edges||[];this.edges=e.map((function(t){var e={},r=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(t).forEach((function(n){r.indexOf(n)>-1||(e[n]=t[n])})),e})),this.ticking=!1},e.prototype.execute=function(t){var e=this,r=e.nodes,n=e.edges;if(!e.ticking){var o=e.forceSimulation,i=e.alphaMin,a=e.alphaDecay,u=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(r),e.clusterForce.links(n)),o.nodes(r),e.edgeForce.links(n)),e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var s=St();if(e.nodeStrength&&s.strength(e.nodeStrength),o=_t().nodes(r),e.clustering){var c=Pt();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),n&&c.links(n),r&&c.nodes(r),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",function(t,e){var r,n=1;function o(){var o,i,a=r.length,u=0,s=0;for(o=0;o<a;++o)u+=(i=r[o]).x,s+=i.y;for(u=(u/a-t)*n,s=(s/a-e)*n,o=0;o<a;++o)(i=r[o]).x-=u,i.y-=s}return null==t&&(t=0),null==e&&(e=0),o.initialize=function(t){r=t},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(t){return arguments.length?(e=+t,o):e},o.strength=function(t){return arguments.length?(n=+t,o):n},o}(e.center[0],e.center[1])).force("charge",s).alpha(u).alphaDecay(a).alphaMin(i),e.preventOverlap&&e.overlapProcess(o),n){var f=Ot().id((function(t){return t.id})).links(n);e.edgeStrength&&f.strength(e.edgeStrength),e.linkDistance&&f.distance(e.linkDistance),e.edgeForce=f,o.force("link",f)}if(e.workerEnabled&&!Ut()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),e.workerEnabled){o.stop();for(var h=function(t){var e=t.alphaMin(),r=t.alphaTarget(),n=t.alpha(),o=Math.log((e-r)/(n-r))/Math.log(1-t.alphaDecay());return Math.ceil(o)}(o),l=1;l<=h;l++)o.tick(),postMessage({type:Bt,currentTick:l,totalTicks:h,nodes:r},void 0);e.ticking=!1}else o.on("tick",(function(){e.tick()})).on("end",(function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()})),e.ticking=!0;e.forceSimulation=o,e.ticking=!0}catch(t){e.ticking=!1,console.warn(t)}}},e.prototype.overlapProcess=function(t){var e,r,n=this.nodeSize,o=this.nodeSpacing,i=this.collideStrength;if(r=Tt()(o)?function(){return o}:zt()(o)?o:function(){return 0},n)if(zt()(n))e=function(t){return n(t)+r(t)};else if(j()(n)){var a=(n[0]>n[1]?n[0]:n[1])/2;e=function(t){return a+r(t)}}else if(Tt()(n)){var u=n/2;e=function(t){return u+r(t)}}else e=function(){return 10};else e=function(t){return t.size?j()(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+r(t):t.size/2+r(t):10+r(t)};t.force("collisionForce",Rt(e).strength(i))},e.prototype.updateCfg=function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,s()(this,t)},e.prototype.destroy=function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0},e}(c);function Ut(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}var Yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=500,e.gravity=10,e.clustering=!1,e.clusterGravity=10,e.linkDistance=50,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1/300),e.alphaTarget=0,e.velocityDecay=.6,e.linkStrength=1,e.nodeStrength=30,e.preventOverlap=!1,e.collideStrength=1,e.optimizeRangeFactor=1,e.tick=function(){},e.nodes=[],e.edges=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.nodeIdxMap={},e}return a(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},e.prototype.execute=function(){var t=this.nodes,e=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);var r={},n={};t.forEach((function(t,e){r[t.id]=t,n[t.id]=e})),this.nodeMap=r,this.nodeIdxMap=n,this.run()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.edges,n=t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var o,i=t.center,a=t.velocityDecay,u=t.clustering;t.initVals(),u&&(o=t.getClusterMap());for(var s=function(n){var i=[];e.forEach((function(t,e){i[e]={x:0,y:0}})),t.applyCalculate(e,r,i),u&&t.applyClusterForce(o,i),e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=i[e].x*a,t.y+=i[e].y*a)})),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,f=0;f<n;f++)s();var h=[0,0];e.forEach((function(t){k(t.x)&&k(t.y)&&(h[0]+=t.x,h[1]+=t.y)})),h[0]/=e.length,h[1]/=e.length;var l=[i[0]-h[0],i[1]-h[1]];e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=l[0],t.y+=l[1])}))},e.prototype.initVals=function(){for(var t=this.edges,e={},r=0;r<t.length;++r)e[t[r].source]?e[t[r].source]++:e[t[r].source]=1,e[t[r].target]?e[t[r].target]++:e[t[r].target]=1;var n=[];for(r=0;r<t.length;++r)n[r]=e[t[r].source]/(e[t[r].source]+e[t[r].target]);this.bias=n;var o,i,a=this.nodeSize,u=this.nodeSpacing;if(i=k(u)?function(){return u}:g(u)?u:function(){return 0},a)if(g(a))o=function(t){return a(t)+i(t)};else if(y(a)){var s=(a[0]>a[1]?a[0]:a[1])/2;o=function(t){return s+i(t)}}else if(k(a)){var c=a/2;o=function(t){return c+i(t)}}else o=function(){return 10};else o=function(t){return t.size?y(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+i(t):t.size/2+i(t):10+i(t)};this.nodeSize=o;var f,h=this.linkDistance;h||(h=50),k(h)&&(f=function(t){return h}),this.linkDistance=f;var l,d=this.linkStrength;d||(d=1),k(d)&&(l=function(t){return d}),this.linkStrength=l;var p,v=this.nodeStrength;v||(v=30),k(v)&&(p=function(t){return v}),this.nodeStrength=p},e.prototype.getClusterMap=function(){var t=this.nodes,e={};for(var r in t.forEach((function(t){if(void 0===e[t.cluster]){var r={name:t.cluster,cx:0,cy:0,count:0};e[t.cluster]=r}var n=e[t.cluster];k(t.x)&&(n.cx+=t.x),k(t.y)&&(n.cy+=t.y),n.count++})),e)e[r].cx/=e[r].count,e[r].cy/=e[r].count;return e},e.prototype.applyClusterForce=function(t,e){var r=this.gravity,n=this.nodes,o=this.clusterGravity||r,i=this.alpha;for(var a in n.forEach((function(r,n){if(k(r.x)&&k(r.y)){var a=t[r.cluster],u=r.x-a.cx,s=r.y-a.cy,c=Math.sqrt(u*u+s*s);e[n].x-=u*o*i/c,e[n].y-=s*o*i/c}})),t)t[a].cx=0,t[a].cy=0,t[a].count=0;for(var a in n.forEach((function(e){var r=t[e.cluster];k(e.x)&&(r.cx+=e.x),k(e.y)&&(r.cy+=e.y),r.count++})),t)t[a].cx/=t[a].count,t[a].cy/=t[a].count},e.prototype.applyCalculate=function(t,e,r){var n={};t.forEach((function(e,o){r[o]={x:0,y:0},t.forEach((function(t,r){if(!(o<r)){var i=e.x-t.x,a=e.y-t.y,u=i*i+a*a;u<1&&(u=Math.sqrt(u)),0===i&&(u+=(i=.01*Math.random())*i),0===a&&(u+=(a=.01*Math.random())*a);var s=Math.sqrt(u);n[e.id+"-"+t.id]={vx:i,vy:a,vl:u,sqrtVl:s},n[t.id+"-"+e.id]={vx:-i,vy:-a,vl:u,sqrtVl:s}}}))})),this.calRepulsive(t,r,n),this.calAttractive(e,r,n)},e.prototype.calRepulsive=function(t,e,r){var n=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,i=this.alpha,a=this.collideStrength,u=this.preventOverlap,s=this.nodeSize;t.forEach((function(c,f){t.forEach((function(t,h){if(f!==h&&k(c.x)&&k(t.x)&&k(c.y)&&k(t.y)){var l=r[c.id+"-"+t.id],d=l.vl,p=l.vx,v=l.vy;if(!(d>n)&&(e[f].x+=p*o(t)*i/d,e[f].y+=v*o(t)*i/d,u&&f<h)){var g=s(c),y=s(t),m=g+y;if(d<m*m){var b=r[c.id+"-"+t.id].sqrtVl,w=(m-b)/b*a,x=y*y/(g*g+y*y),M=p*w,_=v*w;e[f].x+=M*x,e[f].y+=_*x,x=1-x,e[h].x-=M*x,e[h].y-=_*x}}}}))}))},e.prototype.calAttractive=function(t,e,r){var n=this,o=this.linkDistance,i=this.alpha,a=this.linkStrength,u=this.bias;t.forEach((function(t,s){if(t.source&&t.target){var c=n.nodeIdxMap[t.source],f=n.nodeIdxMap[t.target];if(c!==f){var h=n.nodeMap[t.source],l=n.nodeMap[t.target];if(k(l.x)&&k(h.x)&&k(l.y)&&k(h.y)){var d=r[t.target+"-"+t.source],p=(d.vl,d.sqrtVl),v=d.vx,g=d.vy,y=(p-o(t))/p*i*a(t),m=v*y,b=g*y,w=u[s];e[f].x-=m*w,e[f].y-=b*w,e[c].x+=m*(1-w),e[c].y+=b*(1-w)}}}}))},e}(c),Ht=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=1e3,e.gravity=10,e.speed=1,e.clustering=!1,e.clusterGravity=10,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e}return a(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){var t=this,e=this.nodes,r=this.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=r[0],void(e[0].y=r[1]);var n={},o={};e.forEach((function(e,r){k(e.x)||(e.x=Math.random()*t.width),k(e.y)||(e.y=Math.random()*t.height),n[e.id]=e,o[e.id]=r})),this.nodeMap=n,this.nodeIdxMap=o,this.run()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.edges,n=t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var o=t.center,i=t.width/10,a=Math.sqrt(t.width*t.height/(e.length+1)),u=t.gravity,s=t.speed,c=t.clustering,f={};if(c)for(var h in e.forEach((function(t){if(void 0===f[t.cluster]){var e={name:t.cluster,cx:0,cy:0,count:0};f[t.cluster]=e}var r=f[t.cluster];k(t.x)&&(r.cx+=t.x),k(t.y)&&(r.cy+=t.y),r.count++})),f)f[h].cx/=f[h].count,f[h].cy/=f[h].count;for(var l=function(n){var h=[];if(e.forEach((function(t,e){h[e]={x:0,y:0}})),t.applyCalculate(e,r,h,a),c){var l=t.clusterGravity||u;for(var d in e.forEach((function(t,e){if(k(t.x)&&k(t.y)){var r=f[t.cluster],n=Math.sqrt((t.x-r.cx)*(t.x-r.cx)+(t.y-r.cy)*(t.y-r.cy)),o=a*l;h[e].x-=o*(t.x-r.cx)/n,h[e].y-=o*(t.y-r.cy)/n}})),f)f[d].cx=0,f[d].cy=0,f[d].count=0;for(var d in e.forEach((function(t){var e=f[t.cluster];k(t.x)&&(e.cx+=t.x),k(t.y)&&(e.cy+=t.y),e.count++})),f)f[d].cx/=f[d].count,f[d].cy/=f[d].count}e.forEach((function(t,e){if(k(t.x)&&k(t.y)){var r=.01*a*u;h[e].x-=r*(t.x-o[0]),h[e].y-=r*(t.y-o[1])}})),e.forEach((function(t,e){if(k(t.x)&&k(t.y)){var r=Math.sqrt(h[e].x*h[e].x+h[e].y*h[e].y);if(r>0){var n=Math.min(i*(s/800),r);t.x+=h[e].x/r*n,t.y+=h[e].y/r*n}}}))},d=0;d<n;d++)l()},e.prototype.applyCalculate=function(t,e,r,n){this.calRepulsive(t,r,n),this.calAttractive(e,r,n)},e.prototype.calRepulsive=function(t,e,r){t.forEach((function(n,o){e[o]={x:0,y:0},t.forEach((function(t,i){if(o!==i&&k(n.x)&&k(t.x)&&k(n.y)&&k(t.y)){var a=n.x-t.x,u=n.y-t.y,s=a*a+u*u;if(0===s){s=1;var c=o>i?1:-1;a=.01*c,u=.01*c}var f=r*r/s;e[o].x+=a*f,e[o].y+=u*f}}))}))},e.prototype.calAttractive=function(t,e,r){var n=this;t.forEach((function(t){if(t.source&&t.target){var o=n.nodeIdxMap[t.source],i=n.nodeIdxMap[t.target];if(o!==i){var a=n.nodeMap[t.source],u=n.nodeMap[t.target];if(k(u.x)&&k(a.x)&&k(u.y)&&k(a.y)){var s=u.x-a.x,c=u.y-a.y,f=Math.sqrt(s*s+c*c),h=f*f/r;e[i].x-=s/f*h,e[i].y-=c/f*h,e[o].x+=s/f*h,e[o].y+=c/f*h}}}}))},e}(c),Wt=(r(54),r(130)),Gt=(function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.item=r.item,n.canvasX=r.canvasX,n.canvasY=r.canvasY,n.wheelDelta=r.wheelDelta,n.detail=r.detail,n}a(e,t)}(r.n(Wt).a),function(t){return Number.isNaN(Number(t))}),$t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.begin=[0,0],e.preventOverlap=!0,e.preventOverlapPadding=10,e.condense=!1,e.sortBy="degree",e.nodeSize=30,e.nodes=[],e.edges=[],e.center=[0,0],e.width=300,e.height=300,e.row=0,e.col=0,e.cellWidth=0,e.cellHeight=0,e.cellUsed={},e.id2manPos={},e}return a(e,t),e.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},e.prototype.execute=function(){var t=this,e=t.nodes,r=e.length,n=t.center;if(0!==r){if(1===r)return e[0].x=n[0],void(e[0].y=n[1]);var o=t.edges,i=[];e.forEach((function(t){i.push(t)}));var a={};if(i.forEach((function(t,e){a[t.id]=e})),("degree"===t.sortBy||!C()(t.sortBy)||void 0===i[0][t.sortBy])&&(t.sortBy="degree",Gt(e[0].degree))){var u=N(i.length,a,o);i.forEach((function(t,e){t.degree=u[e]}))}i.sort((function(e,r){return r[t.sortBy]-e[t.sortBy]})),t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var s=t.rows,c=null!=t.cols?t.cols:t.columns;if(t.cells=r,null!=s&&null!=c?(t.rows=s,t.cols=c):null!=s&&null==c?(t.rows=s,t.cols=Math.ceil(t.cells/t.rows)):null==s&&null!=c?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells)((h=t.small())-1)*(f=t.large())>=t.cells?t.small(h-1):(f-1)*h>=t.cells&&t.large(f-1);else for(;t.cols*t.rows<t.cells;){var f,h=t.small();((f=t.large())+1)*h>=t.cells?t.large(f+1):t.small(h+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&i.forEach((function(e){var r,n;e.x&&e.y||(e.x=0,e.y=0),y(e.size)?(r=e.size[0],n=e.size[1]):k(e.size)&&(r=e.size,n=e.size),void 0!==r&&void 0!==n||(y(t.nodeSize)?(r=t.nodeSize[0],n=t.nodeSize[1]):k(t.nodeSize)?(r=t.nodeSize,n=t.nodeSize):(r=30,n=30));var o=t.preventOverlapPadding,i=r+o,a=n+o;t.cellWidth=Math.max(t.cellWidth,i),t.cellHeight=Math.max(t.cellHeight,a)})),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var l=0;l<i.length;l++){var d=i[l],p=void 0;if(t.position&&(p=t.position(d)),p&&(void 0!==p.row||void 0!==p.col)){var v={row:p.row,col:p.col};if(void 0===v.col)for(v.col=0;t.used(v.row,v.col);)v.col++;else if(void 0===v.row)for(v.row=0;t.used(v.row,v.col);)v.row++;t.id2manPos[d.id]=v,t.use(v.row,v.col)}t.getPos(d)}}},e.prototype.small=function(t){var e,r=this.rows||5,n=this.cols||5;null==t?e=Math.min(r,n):Math.min(r,n)===this.rows?this.rows=t:this.cols=t;return e},e.prototype.large=function(t){var e,r=this.rows||5,n=this.cols||5;null==t?e=Math.max(r,n):Math.max(r,n)===this.rows?this.rows=t:this.cols=t;return e},e.prototype.used=function(t,e){return this.cellUsed["c-"+t+"-"+e]||!1},e.prototype.use=function(t,e){this.cellUsed["c-"+t+"-"+e]=!0},e.prototype.moveToNextCell=function(){var t=this.cols||5;this.col++,this.col>=t&&(this.col=0,this.row++)},e.prototype.getPos=function(t){var e,r,n=this.begin,o=this.cellWidth,i=this.cellHeight,a=this.id2manPos[t.id];if(a)e=a.col*o+o/2+n[0],r=a.row*i+i/2+n[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();e=this.col*o+o/2+n[0],r=this.row*i+i/2+n[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=e,t.y=r},e}(c),Xt=Object.prototype.toString;function Jt(t){return Xt.call(t).endsWith("Array]")}var Qt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Jt(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,n=void 0===r?0:r,o=e.toIndex,i=void 0===o?t.length:o;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[n],u=n+1;u<i;u++)t[u]>a&&(a=t[u]);return a};var Kt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Jt(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,n=void 0===r?0:r,o=e.toIndex,i=void 0===o?t.length:o;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[n],u=n+1;u<i;u++)t[u]<a&&(a=t[u]);return a};var Zt=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Jt(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!Jt(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var n=Kt(t),o=Qt(t);if(n===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=r.min,a=void 0===i?r.autoMinMax?n:0:i,u=r.max,s=void 0===u?r.autoMinMax?o:1:u;if(a>=s)throw new RangeError("min option must be smaller than max option");for(var c=(s-a)/(o-n),f=0;f<t.length;f++)e[f]=(t[f]-n)*c+a;return e},te=" ".repeat(2),ee=" ".repeat(4);function re(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.maxRows,n=void 0===r?15:r,o=e.maxColumns,i=void 0===o?10:o,a=e.maxNumSize,u=void 0===a?8:a;return"".concat(t.constructor.name," {\\n").concat(te,"[\\n").concat(ee).concat(ne(t,n,i,u),"\\n").concat(te,"]\\n").concat(te,"rows: ").concat(t.rows,"\\n").concat(te,"columns: ").concat(t.columns,"\\n}")}function ne(t,e,r,n){for(var o=t.rows,i=t.columns,a=Math.min(o,e),u=Math.min(i,r),s=[],c=0;c<a;c++){for(var f=[],h=0;h<u;h++)f.push(oe(t.get(c,h),n));s.push("".concat(f.join(" ")))}return u!==i&&(s[s.length-1]+=" ... ".concat(i-r," more columns")),a!==o&&s.push("... ".concat(o-e," more rows")),s.join("\\n".concat(ee))}function oe(t,e){var r=String(t);if(r.length<=e)return r.padEnd(e," ");var n=t.toPrecision(e-2);if(n.length<=e)return n;var o=t.toExponential(e-2),i=o.indexOf("e"),a=o.slice(i);return o.slice(0,e-a.length)+a}function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e,r){var n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function ue(t,e,r){var n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function se(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function ce(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function fe(t,e){if("object"!==ie(e))throw new TypeError("unexpected type for row indices");if(e.some((function(e){return e<0||e>=t.rows})))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function he(t,e){if("object"!==ie(e))throw new TypeError("unexpected type for column indices");if(e.some((function(e){return e<0||e>=t.columns})))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function le(t,e,r,n,o){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(pe("startRow",e),pe("endRow",r),pe("startColumn",n),pe("endColumn",o),e>r||n>o||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||o<0||o>=t.columns)throw new RangeError("Submatrix indices are out of range")}function de(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0;n<t;n++)r.push(e);return r}function pe(t,e){if("number"!=typeof e)throw new TypeError("".concat(t," must be a number"))}function ve(t,e,r){for(var n=t.rows,o=t.columns,i=[],a=0;a<n;a++){for(var u=0,s=0,c=0,f=0;f<o;f++)u+=c=t.get(a,f)-r[a],s+=c*c;e?i.push((s-u*u/o)/(o-1)):i.push((s-u*u/o)/o)}return i}function ge(t,e,r){for(var n=t.rows,o=t.columns,i=[],a=0;a<o;a++){for(var u=0,s=0,c=0,f=0;f<n;f++)u+=c=t.get(f,a)-r[a],s+=c*c;e?i.push((s-u*u/n)/(n-1)):i.push((s-u*u/n)/n)}return i}function ye(t,e,r){for(var n=t.rows,o=t.columns,i=n*o,a=0,u=0,s=0,c=0;c<n;c++)for(var f=0;f<o;f++)a+=s=t.get(c,f)-r,u+=s*s;return e?(u-a*a/i)/(i-1):(u-a*a/i)/i}function me(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}function be(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}function we(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}function xe(t){for(var e=[],r=0;r<t.rows;r++){for(var n=0,o=0;o<t.columns;o++)n+=Math.pow(t.get(r,o),2)/(t.columns-1);e.push(Math.sqrt(n))}return e}function Me(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}function ke(t){for(var e=[],r=0;r<t.columns;r++){for(var n=0,o=0;o<t.rows;o++)n+=Math.pow(t.get(o,r),2)/(t.rows-1);e.push(Math.sqrt(n))}return e}function _e(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}function Se(t){for(var e=t.size-1,r=0,n=0;n<t.columns;n++)for(var o=0;o<t.rows;o++)r+=Math.pow(t.get(o,n),2)/e;return Math.sqrt(r)}function Ee(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}function je(t,e){return(je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ne(t);if(e){var o=Ne(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Oe(this,r)}}function Oe(t,e){return!e||"object"!==Ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ce(t,e,r){return e&&Pe(t.prototype,e),r&&Pe(t,r),t}var ze=function(){function t(){Re(this,t)}return Ce(t,[{key:"apply",value:function(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.call(this,e,r);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.push(this.get(e,r));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,r=-1,n=!0,o=!1;t<this.rows&&n;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);t++}return n}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,r=-1,n=!0,o=!1;t<this.rows&&n;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(n=!1,o=!0);for(var i=e+1;i<this.rows;i++)0!==this.get(t,i)&&(n=!1);t++}return n}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,r=0;e<t.rows&&r<t.columns;){for(var n=e,o=e;o<t.rows;o++)t.get(o,r)>t.get(n,r)&&(n=o);if(0===t.get(n,r))r++;else{t.swapRows(e,n);for(var i=t.get(e,r),a=r;a<t.columns;a++)t.set(e,a,t.get(e,a)/i);for(var u=e+1;u<t.rows;u++){var s=t.get(u,r)/t.get(e,r);t.set(u,r,0);for(var c=r+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)*s)}e++,r++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;n>=0;)if(0===t.maxRow(n))n--;else{for(var o=0,i=!1;o<r&&!1===i;)1===t.get(n,o)?i=!0:o++;for(var a=0;a<n;a++)for(var u=t.get(a,o),s=o;s<e;s++){var c=t.get(a,s)-u*t.get(n,s);t.set(a,s,c)}n--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==Ie(t))throw new TypeError("options must be an object");var e=t.rows,r=void 0===e?1:e,n=t.columns,o=void 0===n?1:n;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var i=new qe(this.rows*r,this.columns*o),a=0;a<r;a++)for(var u=0;u<o;u++)i.setSubMatrix(this,this.rows*a,this.columns*u);return i}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){ae(this,t);for(var e=[],r=0;r<this.columns;r++)e.push(this.get(t,r));return e}},{key:"getRowVector",value:function(t){return qe.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){ae(this,t),e=se(this,e);for(var r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}},{key:"swapRows",value:function(t,e){ae(this,t),ae(this,e);for(var r=0;r<this.columns;r++){var n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}},{key:"getColumn",value:function(t){ue(this,t);for(var e=[],r=0;r<this.rows;r++)e.push(this.get(r,t));return e}},{key:"getColumnVector",value:function(t){return qe.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){ue(this,t),e=ce(this,e);for(var r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}},{key:"swapColumns",value:function(t,e){ue(this,t),ue(this,e);for(var r=0;r<this.rows;r++){var n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}},{key:"addRowVector",value:function(t){t=se(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}},{key:"subRowVector",value:function(t){t=se(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}},{key:"mulRowVector",value:function(t){t=se(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}},{key:"divRowVector",value:function(t){t=se(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}},{key:"addColumnVector",value:function(t){t=ce(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=ce(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=ce(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=ce(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}},{key:"mulRow",value:function(t,e){ae(this,t);for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}},{key:"mulColumn",value:function(t,e){ue(this,t);for(var r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}},{key:"max",value:function(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}},{key:"maxIndex",value:function(){for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}},{key:"min",value:function(){for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}},{key:"minIndex",value:function(){for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}},{key:"maxRow",value:function(t){ae(this,t);for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}},{key:"maxRowIndex",value:function(t){ae(this,t);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}},{key:"minRow",value:function(t){ae(this,t);for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}},{key:"minRowIndex",value:function(t){ae(this,t);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}},{key:"maxColumn",value:function(t){ue(this,t);for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}},{key:"maxColumnIndex",value:function(t){ue(this,t);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}},{key:"minColumn",value:function(t){ue(this,t);for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}},{key:"minColumnIndex",value:function(t){ue(this,t);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],r=0;r<t;r++)e.push(this.get(r,r));return e}},{key:"norm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",e=0;if("max"===t)return this.max();if("frobenius"===t){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)e+=this.get(r,n)*this.get(r,n);return Math.sqrt(e)}throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}},{key:"dot",value:function(e){t.isMatrix(e)&&(e=e.to1DArray());var r=this.to1DArray();if(r.length!==e.length)throw new RangeError("vectors do not have the same size");for(var n=0,o=0;o<r.length;o++)n+=r[o]*e[o];return n}},{key:"mmul",value:function(t){t=qe.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.columns,o=new qe(e,n),i=new Float64Array(r),a=0;a<n;a++){for(var u=0;u<r;u++)i[u]=t.get(u,a);for(var s=0;s<e;s++){for(var c=0,f=0;f<r;f++)c+=this.get(s,f)*i[f];o.set(s,a,c)}}return o}},{key:"strassen2x2",value:function(t){t=qe.checkMatrix(t);var e=new qe(2,2),r=this.get(0,0),n=t.get(0,0),o=this.get(0,1),i=t.get(0,1),a=this.get(1,0),u=t.get(1,0),s=this.get(1,1),c=t.get(1,1),f=(r+s)*(n+c),h=(a+s)*n,l=r*(i-c),d=s*(u-n),p=(r+o)*c,v=f+d-p+(o-s)*(u+c),g=l+p,y=h+d,m=f-h+l+(a-r)*(n+i);return e.set(0,0,v),e.set(0,1,g),e.set(1,0,y),e.set(1,1,m),e}},{key:"strassen3x3",value:function(t){t=qe.checkMatrix(t);var e=new qe(3,3),r=this.get(0,0),n=this.get(0,1),o=this.get(0,2),i=this.get(1,0),a=this.get(1,1),u=this.get(1,2),s=this.get(2,0),c=this.get(2,1),f=this.get(2,2),h=t.get(0,0),l=t.get(0,1),d=t.get(0,2),p=t.get(1,0),v=t.get(1,1),g=t.get(1,2),y=t.get(2,0),m=t.get(2,1),b=t.get(2,2),w=(r-i)*(-l+v),x=(-r+i+a)*(h-l+v),M=(i+a)*(-h+l),k=r*h,_=(-r+s+c)*(h-d+g),S=(-r+s)*(d-g),E=(s+c)*(-h+d),j=(-o+c+f)*(v+y-m),A=(o-f)*(v-m),O=o*y,N=(c+f)*(-y+m),I=(-o+a+u)*(g+y-b),R=(o-u)*(g-b),P=(a+u)*(-y+b),C=k+O+n*p,z=(r+n+o-i-a-c-f)*v+x+M+k+j+O+N,F=k+_+E+(r+n+o-a-u-s-c)*g+O+I+P,T=w+a*(-h+l+p-v-g-y+b)+x+k+O+I+R,D=w+x+M+k+u*m,q=O+I+R+P+i*d,L=k+_+S+c*(-h+d+p-v-g-y+m)+j+A+O,B=j+A+O+N+s*l,V=k+_+S+E+f*b;return e.set(0,0,C),e.set(0,1,z),e.set(0,2,F),e.set(1,0,T),e.set(1,1,D),e.set(1,2,q),e.set(2,0,L),e.set(2,1,B),e.set(2,2,V),e}},{key:"mmulStrassen",value:function(e){e=qe.checkMatrix(e);var r=this.clone(),n=r.rows,o=r.columns,i=e.rows,a=e.columns;function u(e,r,n){var o=e.rows,i=e.columns;if(o===r&&i===n)return e;var a=t.zeros(r,n);return a=a.setSubMatrix(e,0,0)}o!==i&&console.warn("Multiplying ".concat(n," x ").concat(o," and ").concat(i," x ").concat(a," matrix: dimensions do not match."));var s=Math.max(n,i),c=Math.max(o,a);return function e(r,n,o,i){if(o<=512||i<=512)return r.mmul(n);o%2==1&&i%2==1?(r=u(r,o+1,i+1),n=u(n,o+1,i+1)):o%2==1?(r=u(r,o+1,i),n=u(n,o+1,i)):i%2==1&&(r=u(r,o,i+1),n=u(n,o,i+1));var a=parseInt(r.rows/2,10),s=parseInt(r.columns/2,10),c=r.subMatrix(0,a-1,0,s-1),f=n.subMatrix(0,a-1,0,s-1),h=r.subMatrix(0,a-1,s,r.columns-1),l=n.subMatrix(0,a-1,s,n.columns-1),d=r.subMatrix(a,r.rows-1,0,s-1),p=n.subMatrix(a,n.rows-1,0,s-1),v=r.subMatrix(a,r.rows-1,s,r.columns-1),g=n.subMatrix(a,n.rows-1,s,n.columns-1),y=e(t.add(c,v),t.add(f,g),a,s),m=e(t.add(d,v),f,a,s),b=e(c,t.sub(l,g),a,s),w=e(v,t.sub(p,f),a,s),x=e(t.add(c,h),g,a,s),M=e(t.sub(d,c),t.add(f,l),a,s),k=e(t.sub(h,v),t.add(p,g),a,s),_=t.add(y,w);_.sub(x),_.add(k);var S=t.add(b,x),E=t.add(m,w),j=t.sub(y,m);j.add(b),j.add(M);var A=t.zeros(2*_.rows,2*_.columns);return(A=(A=(A=(A=A.setSubMatrix(_,0,0)).setSubMatrix(S,_.rows,0)).setSubMatrix(E,0,_.columns)).setSubMatrix(j,_.rows,_.columns)).subMatrix(0,o-1,0,i-1)}(r=u(r,s,c),e=u(e,s,c),s,c)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==Ie(t))throw new TypeError("options must be an object");var e=t.min,r=void 0===e?0:e,n=t.max,o=void 0===n?1:n;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(r>=o)throw new RangeError("min must be smaller than max");for(var i=new qe(this.rows,this.columns),a=0;a<this.rows;a++){var u=this.getRow(a);Zt(u,{min:r,max:o,output:u}),i.setRow(a,u)}return i}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==Ie(t))throw new TypeError("options must be an object");var e=t.min,r=void 0===e?0:e,n=t.max,o=void 0===n?1:n;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(r>=o)throw new RangeError("min must be smaller than max");for(var i=new qe(this.rows,this.columns),a=0;a<this.columns;a++){var u=this.getColumn(a);Zt(u,{min:r,max:o,output:u}),i.setColumn(a,u)}return i}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var r=0;r<t;r++){var n=this.get(e,r),o=this.get(e,this.columns-1-r);this.set(e,r,o),this.set(e,this.columns-1-r,n)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var r=0;r<t;r++){var n=this.get(r,e),o=this.get(this.rows-1-r,e);this.set(r,e,o),this.set(this.rows-1-r,e,n)}return this}},{key:"kroneckerProduct",value:function(t){t=qe.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.rows,o=t.columns,i=new qe(e*n,r*o),a=0;a<e;a++)for(var u=0;u<r;u++)for(var s=0;s<n;s++)for(var c=0;c<o;c++)i.set(n*a+s,o*u+c,this.get(a,u)*t.get(s,c));return i}},{key:"transpose",value:function(){for(var t=new qe(this.columns,this.rows),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,r,n){le(this,t,e,r,n);for(var o=new qe(e-t+1,n-r+1),i=t;i<=e;i++)for(var a=r;a<=n;a++)o.set(i-t,a-r,this.get(i,a));return o}},{key:"subMatrixRow",value:function(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");for(var n=new qe(t.length,r-e+1),o=0;o<t.length;o++)for(var i=e;i<=r;i++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));n.set(o,i-e,this.get(t[o],i))}return n}},{key:"subMatrixColumn",value:function(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");for(var n=new qe(r-e+1,t.length),o=0;o<t.length;o++)for(var i=e;i<=r;i++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));n.set(i-e,o,this.get(i,t[o]))}return n}},{key:"setSubMatrix",value:function(t,e,r){le(this,e,e+(t=qe.checkMatrix(t)).rows-1,r,r+t.columns-1);for(var n=0;n<t.rows;n++)for(var o=0;o<t.columns;o++)this.set(e+n,r+o,t.get(n,o));return this}},{key:"selection",value:function(t,e){for(var r=function(t,e,r){return{row:fe(t,e),column:he(t,r)}}(this,t,e),n=new qe(t.length,e.length),o=0;o<r.row.length;o++)for(var i=r.row[o],a=0;a<r.column.length;a++){var u=r.column[a];n.set(o,a,this.get(i,u))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;r<t;r++)e+=this.get(r,r);return e}},{key:"clone",value:function(){for(var t=new qe(this.rows,this.columns),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}},{key:"sum",value:function(t){switch(t){case"row":return function(t){for(var e=de(t.rows),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}(this);case"column":return function(t){for(var e=de(t.columns),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}(this);case void 0:return function(t){for(var e=0,r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)e+=t.get(r,n);return e}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return function(t){for(var e=de(t.rows,1),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}(this);case"column":return function(t){for(var e=de(t.columns,1),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}(this);case void 0:return function(t){for(var e=1,r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)e*=t.get(r,n);return e}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":for(var r=0;r<this.rows;r++)e[r]/=this.columns;return e;case"column":for(var n=0;n<this.columns;n++)e[n]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===Ie(t)&&(e=t,t=void 0),"object"!==Ie(e))throw new TypeError("options must be an object");var r=e,n=r.unbiased,o=void 0===n||n,i=r.mean,a=void 0===i?this.mean(t):i;if("boolean"!=typeof o)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(a))throw new TypeError("mean must be an array");return ve(this,o,a);case"column":if(!Array.isArray(a))throw new TypeError("mean must be an array");return ge(this,o,a);case void 0:if("number"!=typeof a)throw new TypeError("mean must be a number");return ye(this,o,a);default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){"object"===Ie(t)&&(e=t,t=void 0);var r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(var n=0;n<r.length;n++)r[n]=Math.sqrt(r[n]);return r}},{key:"center",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===Ie(t)&&(e=t,t=void 0),"object"!==Ie(e))throw new TypeError("options must be an object");var r=e,n=r.center,o=void 0===n?this.mean(t):n;switch(t){case"row":if(!Array.isArray(o))throw new TypeError("center must be an array");return me(this,o),this;case"column":if(!Array.isArray(o))throw new TypeError("center must be an array");return be(this,o),this;case void 0:if("number"!=typeof o)throw new TypeError("center must be a number");return we(this,o),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===Ie(t)&&(e=t,t=void 0),"object"!==Ie(e))throw new TypeError("options must be an object");var r=e.scale;switch(t){case"row":if(void 0===r)r=xe(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return Me(this,r),this;case"column":if(void 0===r)r=ke(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return _e(this,r),this;case void 0:if(void 0===r)r=Se(this);else if("number"!=typeof r)throw new TypeError("scale must be a number");return Ee(this,r),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return re(this,t)}},{key:"size",get:function(){return this.rows*this.columns}}],[{key:"from1DArray",value:function(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");for(var n=new qe(t,e),o=0;o<t;o++)for(var i=0;i<e;i++)n.set(o,i,r[o*e+i]);return n}},{key:"rowVector",value:function(t){for(var e=new qe(1,t.length),r=0;r<t.length;r++)e.set(0,r,t[r]);return e}},{key:"columnVector",value:function(t){for(var e=new qe(t.length,1),r=0;r<t.length;r++)e.set(r,0,t[r]);return e}},{key:"zeros",value:function(t,e){return new qe(t,e)}},{key:"ones",value:function(t,e){return new qe(t,e).fill(1)}},{key:"rand",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==Ie(r))throw new TypeError("options must be an object");for(var n=r.random,o=void 0===n?Math.random:n,i=new qe(t,e),a=0;a<t;a++)for(var u=0;u<e;u++)i.set(a,u,o());return i}},{key:"randInt",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==Ie(r))throw new TypeError("options must be an object");var n=r.min,o=void 0===n?0:n,i=r.max,a=void 0===i?1e3:i,u=r.random,s=void 0===u?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(o>=a)throw new RangeError("min must be smaller than max");for(var c=a-o,f=new qe(t,e),h=0;h<t;h++)for(var l=0;l<e;l++){var d=o+Math.round(s()*c);f.set(h,l,d)}return f}},{key:"eye",value:function(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);for(var n=Math.min(t,e),o=this.zeros(t,e),i=0;i<n;i++)o.set(i,i,r);return o}},{key:"diag",value:function(t,e,r){var n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);for(var o=Math.min(n,e,r),i=this.zeros(e,r),a=0;a<o;a++)i.set(a,a,t[a]);return i}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,o=new qe(r,n),i=0;i<r;i++)for(var a=0;a<n;a++)o.set(i,a,Math.min(t.get(i,a),e.get(i,a)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,o=new this(r,n),i=0;i<r;i++)for(var a=0;a<n;a++)o.set(i,a,Math.max(t.get(i,a),e.get(i,a)));return o}},{key:"checkMatrix",value:function(e){return t.isMatrix(e)?e:new qe(e)}},{key:"isMatrix",value:function(t){return null!=t&&"Matrix"===t.klass}}]),t}();function Fe(t,e){return t-e}ze.prototype.klass="Matrix","undefined"!=typeof Symbol&&(ze.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return re(this)}),ze.random=ze.rand,ze.randomInt=ze.randInt,ze.diagonal=ze.diag,ze.prototype.diagonal=ze.prototype.diag,ze.identity=ze.eye,ze.prototype.negate=ze.prototype.neg,ze.prototype.tensorProduct=ze.prototype.kroneckerProduct;var Te,De,qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&je(t,e)}(r,t);var e=Ae(r);function r(t,n){var o;if(Re(this,r),o=e.call(this),r.isMatrix(t))return Oe(o,t.clone());if(Number.isInteger(t)&&t>0){if(o.data=[],!(Number.isInteger(n)&&n>0))throw new TypeError("nColumns must be a positive integer");for(var i=0;i<t;i++)o.data.push(new Float64Array(n))}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");var a=t;if(t=a.length,"number"!=typeof(n=a[0].length)||0===n)throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var u=0;u<t;u++){if(a[u].length!==n)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(a[u]))}}return o.rows=t,o.columns=n,o}return Ce(r,[{key:"set",value:function(t,e,r){return this.data[t][e]=r,this}},{key:"get",value:function(t,e){return this.data[t][e]}},{key:"removeRow",value:function(t){if(ae(this,t),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(t,1),this.rows-=1,this}},{key:"addRow",value:function(t,e){return void 0===e&&(e=t,t=this.rows),ae(this,t,!0),e=Float64Array.from(se(this,e)),this.data.splice(t,0,e),this.rows+=1,this}},{key:"removeColumn",value:function(t){if(ue(this,t),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(var e=0;e<this.rows;e++){for(var r=new Float64Array(this.columns-1),n=0;n<t;n++)r[n]=this.data[e][n];for(var o=t+1;o<this.columns;o++)r[o-1]=this.data[e][o];this.data[e]=r}return this.columns-=1,this}},{key:"addColumn",value:function(t,e){void 0===e&&(e=t,t=this.columns),ue(this,t,!0),e=ce(this,e);for(var r=0;r<this.rows;r++){for(var n=new Float64Array(this.columns+1),o=0;o<t;o++)n[o]=this.data[r][o];for(n[o++]=e[r];o<this.columns+1;o++)n[o]=this.data[r][o-1];this.data[r]=n}return this.columns+=1,this}}]),r}(ze);function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ve(t,e){return(Ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=He(t);if(e){var o=He(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ye(this,r)}}function Ye(t,e){return!e||"object"!==Le(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}De=qe,(Te=ze).prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},Te.prototype.addS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},Te.prototype.addM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},Te.add=function(t,e){return new De(t).add(e)},Te.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},Te.prototype.subS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},Te.prototype.subM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},Te.sub=function(t,e){return new De(t).sub(e)},Te.prototype.subtract=Te.prototype.sub,Te.prototype.subtractS=Te.prototype.subS,Te.prototype.subtractM=Te.prototype.subM,Te.subtract=Te.sub,Te.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},Te.prototype.mulS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},Te.prototype.mulM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},Te.mul=function(t,e){return new De(t).mul(e)},Te.prototype.multiply=Te.prototype.mul,Te.prototype.multiplyS=Te.prototype.mulS,Te.prototype.multiplyM=Te.prototype.mulM,Te.multiply=Te.mul,Te.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},Te.prototype.divS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},Te.prototype.divM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},Te.div=function(t,e){return new De(t).div(e)},Te.prototype.divide=Te.prototype.div,Te.prototype.divideS=Te.prototype.divS,Te.prototype.divideM=Te.prototype.divM,Te.divide=Te.div,Te.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},Te.prototype.modS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},Te.prototype.modM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},Te.mod=function(t,e){return new De(t).mod(e)},Te.prototype.modulus=Te.prototype.mod,Te.prototype.modulusS=Te.prototype.modS,Te.prototype.modulusM=Te.prototype.modM,Te.modulus=Te.mod,Te.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},Te.prototype.andS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},Te.prototype.andM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},Te.and=function(t,e){return new De(t).and(e)},Te.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},Te.prototype.orS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},Te.prototype.orM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},Te.or=function(t,e){return new De(t).or(e)},Te.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},Te.prototype.xorS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},Te.prototype.xorM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},Te.xor=function(t,e){return new De(t).xor(e)},Te.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},Te.prototype.leftShiftS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},Te.prototype.leftShiftM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},Te.leftShift=function(t,e){return new De(t).leftShift(e)},Te.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},Te.prototype.signPropagatingRightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},Te.prototype.signPropagatingRightShiftM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},Te.signPropagatingRightShift=function(t,e){return new De(t).signPropagatingRightShift(e)},Te.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},Te.prototype.rightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},Te.prototype.rightShiftM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},Te.rightShift=function(t,e){return new De(t).rightShift(e)},Te.prototype.zeroFillRightShift=Te.prototype.rightShift,Te.prototype.zeroFillRightShiftS=Te.prototype.rightShiftS,Te.prototype.zeroFillRightShiftM=Te.prototype.rightShiftM,Te.zeroFillRightShift=Te.rightShift,Te.prototype.not=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},Te.not=function(t){return new De(t).not()},Te.prototype.abs=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},Te.abs=function(t){return new De(t).abs()},Te.prototype.acos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},Te.acos=function(t){return new De(t).acos()},Te.prototype.acosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},Te.acosh=function(t){return new De(t).acosh()},Te.prototype.asin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},Te.asin=function(t){return new De(t).asin()},Te.prototype.asinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},Te.asinh=function(t){return new De(t).asinh()},Te.prototype.atan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},Te.atan=function(t){return new De(t).atan()},Te.prototype.atanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},Te.atanh=function(t){return new De(t).atanh()},Te.prototype.cbrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},Te.cbrt=function(t){return new De(t).cbrt()},Te.prototype.ceil=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},Te.ceil=function(t){return new De(t).ceil()},Te.prototype.clz32=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},Te.clz32=function(t){return new De(t).clz32()},Te.prototype.cos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},Te.cos=function(t){return new De(t).cos()},Te.prototype.cosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},Te.cosh=function(t){return new De(t).cosh()},Te.prototype.exp=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},Te.exp=function(t){return new De(t).exp()},Te.prototype.expm1=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},Te.expm1=function(t){return new De(t).expm1()},Te.prototype.floor=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},Te.floor=function(t){return new De(t).floor()},Te.prototype.fround=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},Te.fround=function(t){return new De(t).fround()},Te.prototype.log=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},Te.log=function(t){return new De(t).log()},Te.prototype.log1p=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},Te.log1p=function(t){return new De(t).log1p()},Te.prototype.log10=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},Te.log10=function(t){return new De(t).log10()},Te.prototype.log2=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},Te.log2=function(t){return new De(t).log2()},Te.prototype.round=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},Te.round=function(t){return new De(t).round()},Te.prototype.sign=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},Te.sign=function(t){return new De(t).sign()},Te.prototype.sin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},Te.sin=function(t){return new De(t).sin()},Te.prototype.sinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},Te.sinh=function(t){return new De(t).sinh()},Te.prototype.sqrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},Te.sqrt=function(t){return new De(t).sqrt()},Te.prototype.tan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},Te.tan=function(t){return new De(t).tan()},Te.prototype.tanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},Te.tanh=function(t){return new De(t).tanh()},Te.prototype.trunc=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},Te.trunc=function(t){return new De(t).trunc()},Te.pow=function(t,e){return new De(t).pow(e)},Te.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},Te.prototype.powS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t));return this},Te.prototype.powM=function(t){if(t=De.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t.get(e,r)));return this};var We=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ve(t,e)}(i,t);var e,r,n,o=Ue(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).data=t,e.rows=t.length,e.columns=t[0].length,e}return e=i,(r=[{key:"set",value:function(t,e,r){return this.data[t][e]=r,this}},{key:"get",value:function(t,e){return this.data[t][e]}}])&&Be(e.prototype,r),n&&Be(e,n),i}(ze);function Ge(t,e){var r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}function $e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Je=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$e(this,t);var n,o=(e=We.checkMatrix(e)).rows,i=e.columns,a=r.computeLeftSingularVectors,u=void 0===a||a,s=r.computeRightSingularVectors,c=void 0===s||s,f=r.autoTranspose,h=void 0!==f&&f,l=Boolean(u),d=Boolean(c),p=!1;if(o<i)if(h){o=(n=e.transpose()).rows,i=n.columns,p=!0;var v=l;l=d,d=v}else n=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else n=e.clone();for(var g=Math.min(o,i),y=Math.min(o+1,i),m=new Float64Array(y),b=new qe(o,g),w=new qe(i,i),x=new Float64Array(i),M=new Float64Array(o),k=new Float64Array(y),_=0;_<y;_++)k[_]=_;for(var S=Math.min(o-1,i),E=Math.max(0,Math.min(i-2,o)),j=Math.max(S,E),A=0;A<j;A++){if(A<S){m[A]=0;for(var O=A;O<o;O++)m[A]=Ge(m[A],n.get(O,A));if(0!==m[A]){n.get(A,A)<0&&(m[A]=-m[A]);for(var N=A;N<o;N++)n.set(N,A,n.get(N,A)/m[A]);n.set(A,A,n.get(A,A)+1)}m[A]=-m[A]}for(var I=A+1;I<i;I++){if(A<S&&0!==m[A]){for(var R=0,P=A;P<o;P++)R+=n.get(P,A)*n.get(P,I);R=-R/n.get(A,A);for(var C=A;C<o;C++)n.set(C,I,n.get(C,I)+R*n.get(C,A))}x[I]=n.get(A,I)}if(l&&A<S)for(var z=A;z<o;z++)b.set(z,A,n.get(z,A));if(A<E){x[A]=0;for(var F=A+1;F<i;F++)x[A]=Ge(x[A],x[F]);if(0!==x[A]){x[A+1]<0&&(x[A]=0-x[A]);for(var T=A+1;T<i;T++)x[T]/=x[A];x[A+1]+=1}if(x[A]=-x[A],A+1<o&&0!==x[A]){for(var D=A+1;D<o;D++)M[D]=0;for(var q=A+1;q<o;q++)for(var L=A+1;L<i;L++)M[q]+=x[L]*n.get(q,L);for(var B=A+1;B<i;B++)for(var V=-x[B]/x[A+1],U=A+1;U<o;U++)n.set(U,B,n.get(U,B)+V*M[U])}if(d)for(var Y=A+1;Y<i;Y++)w.set(Y,A,x[Y])}}var H=Math.min(i,o+1);if(S<i&&(m[S]=n.get(S,S)),o<H&&(m[H-1]=0),E+1<H&&(x[E]=n.get(E,H-1)),x[H-1]=0,l){for(var W=S;W<g;W++){for(var G=0;G<o;G++)b.set(G,W,0);b.set(W,W,1)}for(var $=S-1;$>=0;$--)if(0!==m[$]){for(var X=$+1;X<g;X++){for(var J=0,Q=$;Q<o;Q++)J+=b.get(Q,$)*b.get(Q,X);J=-J/b.get($,$);for(var K=$;K<o;K++)b.set(K,X,b.get(K,X)+J*b.get(K,$))}for(var Z=$;Z<o;Z++)b.set(Z,$,-b.get(Z,$));b.set($,$,1+b.get($,$));for(var tt=0;tt<$-1;tt++)b.set(tt,$,0)}else{for(var et=0;et<o;et++)b.set(et,$,0);b.set($,$,1)}}if(d)for(var rt=i-1;rt>=0;rt--){if(rt<E&&0!==x[rt])for(var nt=rt+1;nt<i;nt++){for(var ot=0,it=rt+1;it<i;it++)ot+=w.get(it,rt)*w.get(it,nt);ot=-ot/w.get(rt+1,rt);for(var at=rt+1;at<i;at++)w.set(at,nt,w.get(at,nt)+ot*w.get(at,rt))}for(var ut=0;ut<i;ut++)w.set(ut,rt,0);w.set(rt,rt,1)}for(var st=H-1,ct=Number.EPSILON;H>0;){var ft=void 0,ht=void 0;for(ft=H-2;ft>=-1&&-1!==ft;ft--){var lt=Number.MIN_VALUE+ct*Math.abs(m[ft]+Math.abs(m[ft+1]));if(Math.abs(x[ft])<=lt||Number.isNaN(x[ft])){x[ft]=0;break}}if(ft===H-2)ht=4;else{var dt=void 0;for(dt=H-1;dt>=ft&&dt!==ft;dt--){var pt=(dt!==H?Math.abs(x[dt]):0)+(dt!==ft+1?Math.abs(x[dt-1]):0);if(Math.abs(m[dt])<=ct*pt){m[dt]=0;break}}dt===ft?ht=3:dt===H-1?ht=1:(ht=2,ft=dt)}switch(ft++,ht){case 1:var vt=x[H-2];x[H-2]=0;for(var gt=H-2;gt>=ft;gt--){var yt=Ge(m[gt],vt),mt=m[gt]/yt,bt=vt/yt;if(m[gt]=yt,gt!==ft&&(vt=-bt*x[gt-1],x[gt-1]=mt*x[gt-1]),d)for(var wt=0;wt<i;wt++)yt=mt*w.get(wt,gt)+bt*w.get(wt,H-1),w.set(wt,H-1,-bt*w.get(wt,gt)+mt*w.get(wt,H-1)),w.set(wt,gt,yt)}break;case 2:var xt=x[ft-1];x[ft-1]=0;for(var Mt=ft;Mt<H;Mt++){var kt=Ge(m[Mt],xt),_t=m[Mt]/kt,St=xt/kt;if(m[Mt]=kt,xt=-St*x[Mt],x[Mt]=_t*x[Mt],l)for(var Et=0;Et<o;Et++)kt=_t*b.get(Et,Mt)+St*b.get(Et,ft-1),b.set(Et,ft-1,-St*b.get(Et,Mt)+_t*b.get(Et,ft-1)),b.set(Et,Mt,kt)}break;case 3:var jt=Math.max(Math.abs(m[H-1]),Math.abs(m[H-2]),Math.abs(x[H-2]),Math.abs(m[ft]),Math.abs(x[ft])),At=m[H-1]/jt,Ot=m[H-2]/jt,Nt=x[H-2]/jt,It=m[ft]/jt,Rt=x[ft]/jt,Pt=((Ot+At)*(Ot-At)+Nt*Nt)/2,Ct=At*Nt*(At*Nt),zt=0;0===Pt&&0===Ct||(zt=Ct/(Pt+(zt=Pt<0?0-Math.sqrt(Pt*Pt+Ct):Math.sqrt(Pt*Pt+Ct))));for(var Ft=(It+At)*(It-At)+zt,Tt=It*Rt,Dt=ft;Dt<H-1;Dt++){var qt=Ge(Ft,Tt);0===qt&&(qt=Number.MIN_VALUE);var Lt=Ft/qt,Bt=Tt/qt;if(Dt!==ft&&(x[Dt-1]=qt),Ft=Lt*m[Dt]+Bt*x[Dt],x[Dt]=Lt*x[Dt]-Bt*m[Dt],Tt=Bt*m[Dt+1],m[Dt+1]=Lt*m[Dt+1],d)for(var Vt=0;Vt<i;Vt++)qt=Lt*w.get(Vt,Dt)+Bt*w.get(Vt,Dt+1),w.set(Vt,Dt+1,-Bt*w.get(Vt,Dt)+Lt*w.get(Vt,Dt+1)),w.set(Vt,Dt,qt);if(0===(qt=Ge(Ft,Tt))&&(qt=Number.MIN_VALUE),Lt=Ft/qt,Bt=Tt/qt,m[Dt]=qt,Ft=Lt*x[Dt]+Bt*m[Dt+1],m[Dt+1]=-Bt*x[Dt]+Lt*m[Dt+1],Tt=Bt*x[Dt+1],x[Dt+1]=Lt*x[Dt+1],l&&Dt<o-1)for(var Ut=0;Ut<o;Ut++)qt=Lt*b.get(Ut,Dt)+Bt*b.get(Ut,Dt+1),b.set(Ut,Dt+1,-Bt*b.get(Ut,Dt)+Lt*b.get(Ut,Dt+1)),b.set(Ut,Dt,qt)}x[H-2]=Ft,1;break;case 4:if(m[ft]<=0&&(m[ft]=m[ft]<0?-m[ft]:0,d))for(var Yt=0;Yt<=st;Yt++)w.set(Yt,ft,-w.get(Yt,ft));for(;ft<st&&!(m[ft]>=m[ft+1]);){var Ht=m[ft];if(m[ft]=m[ft+1],m[ft+1]=Ht,d&&ft<i-1)for(var Wt=0;Wt<i;Wt++)Ht=w.get(Wt,ft+1),w.set(Wt,ft+1,w.get(Wt,ft)),w.set(Wt,ft,Ht);if(l&&ft<o-1)for(var Gt=0;Gt<o;Gt++)Ht=b.get(Gt,ft+1),b.set(Gt,ft+1,b.get(Gt,ft)),b.set(Gt,ft,Ht);ft++}0,H--}}if(p){var $t=w;w=b,b=$t}this.m=o,this.n=i,this.s=m,this.U=b,this.V=w}var e,r,n;return e=t,(r=[{key:"solve",value:function(t){for(var e=t,r=this.threshold,n=this.s.length,o=qe.zeros(n,n),i=0;i<n;i++)Math.abs(this.s[i])<=r?o.set(i,i,0):o.set(i,i,1/this.s[i]);for(var a=this.U,u=this.rightSingularVectors,s=u.mmul(o),c=u.rows,f=a.rows,h=qe.zeros(c,f),l=0;l<c;l++)for(var d=0;d<f;d++){for(var p=0,v=0;v<n;v++)p+=s.get(l,v)*a.get(d,v);h.set(l,d,p)}return h.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(qe.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,r=t.rows,n=t.columns,o=new qe(r,this.s.length),i=0;i<r;i++)for(var a=0;a<n;a++)Math.abs(this.s[a])>e&&o.set(i,a,t.get(i,a)/this.s[a]);for(var u=this.U,s=u.rows,c=u.columns,f=new qe(r,s),h=0;h<r;h++)for(var l=0;l<s;l++){for(var d=0,p=0;p<c;p++)d+=o.get(h,p)*u.get(l,p);f.set(h,l,d)}return f}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s,n=0,o=r.length;n<o;n++)r[n]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return qe.diag(this.s)}}])&&Xe(e.prototype,r),n&&Xe(e,n),t}(),Qe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.linkDistance=50,e.scaledDistances=null,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},e.prototype.execute=function(){var t=this.nodes,e=this.edges,r=void 0===e?[]:e,n=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=n[0],void(t[0].y=n[1]);var o=this.linkDistance,i=O({nodes:t,edges:r},!1),a=A(i);this.handleInfinity(a);var u,s,c=(u=o,s=[],a.forEach((function(t){var e=[];t.forEach((function(t){e.push(t*u)})),s.push(e)})),s);this.scaledDistances=c;var f=this.runMDS();this.positions=f,f.forEach((function(e,r){t[r].x=e[0]+n[0],t[r].y=e[1]+n[1]}))}},e.prototype.runMDS=function(){var t=this.scaledDistances,e=qe.mul(qe.pow(t,2),-.5),r=e.mean("row"),n=e.mean("column"),o=e.mean();e.add(o).subRowVector(r).subColumnVector(n);var i=new Je(e),a=qe.sqrt(i.diagonalMatrix).diagonal();return i.leftSingularVectors.toJSON().map((function(t){return qe.mul([t],[a]).toJSON()[0].splice(0,2)}))},e.prototype.handleInfinity=function(t){var e=-999999;t.forEach((function(t){t.forEach((function(t){t!==1/0&&e<t&&(e=t)}))})),t.forEach((function(r,n){r.forEach((function(r,o){r===1/0&&(t[n][o]=e)}))}))},e}(c),Ke=function(){function t(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}return t.prototype.layout=function(){var t=this.dimension,e=this.distances,r=this.linkDistance;try{var n=qe.mul(qe.pow(e,2),-.5),o=n.mean("row"),i=n.mean("column"),a=n.mean();n.add(a).subRowVector(o).subColumnVector(i);var u=new Je(n),s=qe.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map((function(e){return qe.mul([e],[s]).toJSON()[0].splice(0,t)}))}catch(t){for(var c=[],f=0;f<e.length;f++){var h=Math.random()*r,l=Math.random()*r;c.push([h,l])}return c}},t}(),Ze=function(){function t(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}return t.prototype.layout=function(){var t=this.positions,e=[],r=this.iterations,n=this.width/10;this.maxDisplace=n,this.disp=e;for(var o=0;o<r;o++)t.forEach((function(t,r){e[r]={x:0,y:0}})),this.getRepulsion(),this.updatePositions();return t},t.prototype.getRepulsion=function(){var t=this,e=t.positions,r=t.nodes,n=t.disp,o=t.k,i=t.radii||[];e.forEach((function(a,u){n[u]={x:0,y:0},e.forEach((function(e,s){if(u!==s&&i[u]===i[s]){var c=a[0]-e[0],f=a[1]-e[1],h=Math.sqrt(c*c+f*f);if(0===h){h=1;var l=u>s?1:-1;c=.01*l,f=.01*l}if(h<t.nodeSizeFunc(r[u])/2+t.nodeSizeFunc(r[s])/2){var d=o*o/h;n[u].x+=c/h*d,n[u].y+=f/h*d}}}))}))},t.prototype.updatePositions=function(){var t=this.positions,e=this.disp,r=this.speed,n=this.strictRadial,o=this.focusID,i=this.maxDisplace||this.width/10;n&&e.forEach((function(e,r){var n=t[r][0]-t[o][0],i=t[r][1]-t[o][1],a=Math.sqrt(n*n+i*i),u=i/a,s=-n/a,c=Math.sqrt(e.x*e.x+e.y*e.y),f=Math.acos((u*e.x+s*e.y)/c);f>Math.PI/2&&(f-=Math.PI/2,u*=-1,s*=-1);var h=Math.cos(f)*c;e.x=u*h,e.y=s*h}));var a=this.radii;t.forEach((function(u,s){if(s!==o){var c=Math.sqrt(e[s].x*e[s].x+e[s].y*e[s].y);if(c>0&&s!==o){var f=Math.min(i*(r/800),c);if(u[0]+=e[s].x/c*f,u[1]+=e[s].y/c*f,n){var h=u[0]-t[o][0],l=u[1]-t[o][1],d=Math.sqrt(h*h+l*l);h=h/d*a[s],l=l/d*a[s],u[0]=t[o][0]+h,u[1]=t[o][1]+l}}}}))},t}();function tr(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var er=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=1e3,e.focusNode=null,e.unitRadius=null,e.linkDistance=50,e.preventOverlap=!1,e.strictRadial=!0,e.maxPreventOverlapIteration=200,e.sortStrength=10,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.edges||[],n=t.center;if(e&&0!==e.length){if(1===e.length)return e[0].x=n[0],void(e[0].y=n[1]);var o=t.linkDistance,i=null;if(C()(t.focusNode)){for(var a=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(i=e[u],t.focusNode=i,a=!0,u=e.length);a||(i=null)}else i=t.focusNode;i||(i=e[0],t.focusNode=i);var s,c,f,h=(s=e,c=i.id,f=-1,s.forEach((function(t,e){t.id===c&&(f=e)})),f);t.focusIndex=h;var l=O({nodes:e,edges:r},!1),d=A(l),p=t.maxToFocus(d,h);t.handleInfinity(d,h,p+1),t.distances=d;var v=d[h];t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var g=t.width||500,y=t.height||500,m=g-n[0]>n[0]?n[0]:g-n[0],b=y-n[1]>n[1]?n[1]:y-n[1];0===m&&(m=g/2),0===b&&(b=y/2);var w=b>m?m:b,x=Math.max.apply(Math,v),M=[];v.forEach((function(e,r){t.unitRadius||(t.unitRadius=w/x),M[r]=e*t.unitRadius})),t.radii=M;var k=t.eIdealDisMatrix();t.eIdealDistances=k;var _=function(t){for(var e=t.length,r=t[0].length,n=[],o=0;o<e;o++){for(var i=[],a=0;a<r;a++)0!==t[o][a]?i.push(1/(t[o][a]*t[o][a])):i.push(0);n.push(i)}return n}(k);t.weights=_;var S=new Ke({distances:k,linkDistance:o}).layout();S.forEach((function(t){Gt(t[0])&&(t[0]=Math.random()*o),Gt(t[1])&&(t[1]=Math.random()*o)})),t.positions=S,S.forEach((function(t,r){e[r].x=t[0]+n[0],e[r].y=t[1]+n[1]})),S.forEach((function(t){t[0]-=S[h][0],t[1]-=S[h][1]})),t.run();var E=t.preventOverlap,N=t.nodeSize,I=t.strictRadial;if(E){var R,P=t.nodeSpacing;R=Tt()(P)?function(){return P}:zt()(P)?P:function(){return 0};var z={nodeSizeFunc:N?j()(N)?function(t){return(N[0]>N[1]?N[0]:N[1])+R(t)}:function(t){return N+R(t)}:function(t){return t.size?j()(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+R(t):t.size+R(t):10+R(t)},adjMatrix:l,positions:S,radii:M,height:y,width:g,strictRadial:I,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:S.length/4.5,nodes:e},F=new Ze(z);S=F.layout()}S.forEach((function(t,r){e[r].x=t[0]+n[0],e[r].y=t[1]+n[1]}))}},e.prototype.run=function(){for(var t=this.maxIteration,e=this.positions||[],r=this.weights||[],n=this.eIdealDistances||[],o=this.radii||[],i=0;i<=t;i++){var a=i/t;this.oneIteration(a,e,o,n,r)}},e.prototype.oneIteration=function(t,e,r,n,o){var i=1-t,a=this.focusIndex;e.forEach((function(u,s){var c=tr(u,[0,0]),f=0===c?0:1/c;if(s!==a){var h=0,l=0,d=0;e.forEach((function(t,e){if(s!==e){var r=tr(u,t),i=0===r?0:1/r,a=n[e][s];d+=o[s][e],h+=o[s][e]*(t[0]+a*(u[0]-t[0])*i),l+=o[s][e]*(t[1]+a*(u[1]-t[1])*i)}}));var p=0===r[s]?0:1/r[s];d*=i,d+=t*p*p,h*=i,h+=t*p*u[0]*f,u[0]=h/d,l*=i,l+=t*p*u[1]*f,u[1]=l/d}}))},e.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var r=t.distances,n=t.linkDistance,o=t.radii||[],i=t.unitRadius||50,a=[];return r&&r.forEach((function(r,u){var s=[];r.forEach((function(r,a){if(u===a)s.push(0);else if(o[u]===o[a])if("data"===t.sortBy)s.push(r*(Math.abs(u-a)*t.sortStrength)/(o[u]/i));else if(t.sortBy){var c=e[u][t.sortBy]||0,f=e[a][t.sortBy]||0;C()(c)&&(c=c.charCodeAt(0)),C()(f)&&(f=f.charCodeAt(0)),s.push(r*(Math.abs(c-f)*t.sortStrength)/(o[u]/i))}else s.push(r*n/(o[u]/i));else{var h=(n+i)/2;s.push(r*h)}})),a.push(s)})),a},e.prototype.handleInfinity=function(t,e,r){for(var n=t.length,o=0;o<n;o++)if(t[e][o]===1/0){t[e][o]=r,t[o][e]=r;for(var i=0;i<n;i++)t[o][i]!==1/0&&t[e][i]===1/0&&(t[e][i]=r+t[o][i],t[i][e]=r+t[o][i])}for(o=0;o<n;o++)if(o!==e)for(i=0;i<n;i++)if(t[o][i]===1/0){var a=Math.abs(t[e][o]-t[e][i]);a=0===a?1:a,t[o][i]=a}},e.prototype.maxToFocus=function(t,e){for(var r=0,n=0;n<t[e].length;n++)t[e][n]!==1/0&&(r=t[e][n]>r?t[e][n]:r);return r},e}(c),rr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.width=300,e.height=300,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,e=t.nodes,r=t.center;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9*(Math.random()-.5)*t.width+r[0],e.y=.9*(Math.random()-.5)*t.height+r[1]}))},e}(c),nr=r(32),or=r.n(nr),ir=r(33),ar=r.n(ir),ur=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function sr(t,e,r){var n;return(n=Math.round(t.h)>=60&&Math.round(t.h)<=240?r?Math.round(t.h)-2*e:Math.round(t.h)+2*e:r?Math.round(t.h)+2*e:Math.round(t.h)-2*e)<0?n+=360:n>=360&&(n-=360),n}function cr(t,e,r){return 0===t.h&&0===t.s?t.s:((n=r?t.s-.16*e:4===e?t.s+.16:t.s+.05*e)>1&&(n=1),r&&5===e&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function fr(t,e,r){var n;return(n=r?t.v+.05*e:t.v-.15*e)>1&&(n=1),Number(n.toFixed(2))}function hr(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=ar()(t),o=5;o>0;o-=1){var i=n.toHsv(),a=ar()({h:sr(i,o,!0),s:cr(i,o,!0),v:fr(i,o,!0)}).toHexString();r.push(a)}r.push(n.toHexString());for(var u=1;u<=4;u+=1){var s=n.toHsv(),c=ar()({h:sr(s,u),s:cr(s,u),v:fr(s,u)}).toHexString();r.push(c)}return"dark"===e.theme?ur.map((function(t){var n=t.index,o=t.opacity;return ar.a.mix(e.backgroundColor||"#141414",r[n],100*o).toHexString()})):r}var lr={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},dr={},pr={};Object.keys(lr).forEach((function(t){dr[t]=hr(lr[t]),dr[t].primary=dr[t][5],pr[t]=hr(lr[t],{theme:"dark",backgroundColor:"#141414"}),pr[t].primary=pr[t][5]}));dr.red,dr.volcano,dr.gold,dr.orange,dr.yellow,dr.lime,dr.green,dr.cyan,dr.blue,dr.geekblue,dr.purple,dr.magenta,dr.grey;var vr=function(t,e,r){var n=or()(t),o=or()(e);return or()([(1-r)*n.color[0]+r*o.color[0],(1-r)*n.color[1]+r*o.color[1],(1-r)*n.color[2]+r*o.color[2]]).rgb()},gr=function(t,e,r,n){void 0===e&&(e="#fff"),void 0===r&&(r="default"),void 0===n&&(n="rgb(150, 150, 150)");var o=vr(e,t,.05).rgb().toString(),i=vr(e,n,.02).rgb().toString(),a=vr(e,n,.05).rgb().toString(),u=vr(e,n,.1).rgb().toString(),s=vr(e,n,.2).rgb().toString(),c=vr(e,n,.3).rgb().toString(),f=hr(t,{theme:r,backgroundColor:e}),h=or()(t).hex().toLowerCase(),l=f.indexOf(h),d=t;return-1!==l&&(d=f[l+1]),{mainStroke:t,mainFill:vr(e,t,.1).rgb().toString(),activeStroke:t,activeFill:o,inactiveStroke:vr(e,t,.4).rgb().toString(),inactiveFill:o,selectedStroke:t,selectedFill:e,highlightStroke:d,highlightFill:vr(e,t,.2).rgb().toString(),disableStroke:c,disableFill:a,edgeMainStroke:c,edgeActiveStroke:t,edgeInactiveStroke:s,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:u,comboMainStroke:c,comboMainFill:i,comboActiveStroke:t,comboActiveFill:o,comboInactiveStroke:c,comboInactiveFill:i,comboSelectedStroke:t,comboSelectedFill:i,comboHighlightStroke:d,comboHighlightFill:i,comboDisableStroke:s,comboDisableFill:a}}("rgb(95, 149, 255)","rgb(255, 255, 255)"),yr={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:gr.mainStroke,fill:gr.mainFill},size:20,color:gr.mainStroke,linkPoints:{size:8,lineWidth:1,fill:gr.activeFill,stroke:gr.activeStroke}},nodeStateStyles:{active:{fill:gr.activeFill,stroke:gr.activeStroke,lineWidth:2,shadowColor:gr.mainStroke,shadowBlur:10},selected:{fill:gr.selectedFill,stroke:gr.selectedStroke,lineWidth:4,shadowColor:gr.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:gr.highlightFill,stroke:gr.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:gr.inactiveFill,stroke:gr.inactiveStroke,lineWidth:1},disable:{fill:gr.disableFill,stroke:gr.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:gr.edgeMainStroke,lineAppendWidth:2},color:gr.edgeMainStroke},edgeStateStyles:{active:{stroke:gr.edgeActiveStroke,lineWidth:1},selected:{stroke:gr.edgeSelectedStroke,lineWidth:2,shadowColor:gr.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:gr.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:gr.edgeInactiveStroke,lineWidth:1},disable:{stroke:gr.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:gr.comboMainFill,lineWidth:1,stroke:gr.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:gr.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:gr.comboActiveStroke,lineWidth:1,fill:gr.comboActiveFill},selected:{stroke:gr.comboSelectedStroke,lineWidth:2,fill:gr.comboSelectedFill,shadowColor:gr.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:gr.comboHighlightStroke,lineWidth:2,fill:gr.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:gr.comboInactiveStroke,fill:gr.comboInactiveFill,lineWidth:1},disable:{stroke:gr.comboDisableStroke,fill:gr.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},mr=Math.PI,br=Math.sin,wr=Math.cos,xr=(br(mr/8),wr(mr/8),function(t,e){if(t&&t.children)for(var r=t.children.length-1;r>=0;r--)if(!xr(t.children[r],e))return;return!1!==e(t)}),Mr=function(t,e){"function"==typeof e&&xr(t,e)},kr={circular:R,concentric:z,dagre:D,force:Vt,g6force:Yt,comboForce:function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.center=[0,0],e.maxIteration=100,e.gravity=10,e.comboGravity=10,e.linkDistance=10,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1/300),e.alphaTarget=0,e.velocityDecay=.6,e.edgeStrength=.2,e.nodeStrength=30,e.preventOverlap=!1,e.preventNodeOverlap=!1,e.preventComboOverlap=!1,e.collideStrength=void 0,e.nodeCollideStrength=void 0,e.comboCollideStrength=void 0,e.optimizeRangeFactor=1,e.onTick=function(){},e.onLayoutEnd=function(){},e.depthAttractiveForceScale=.5,e.depthRepulsiveForceScale=2,e.nodes=[],e.edges=[],e.combos=[],e.comboTrees=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.oriComboMap={},e.nodeIdxMap={},e.comboMap={},e.previousLayouted=!1,e}return a(e,t),e.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},e.prototype.execute=function(){var t=this.nodes,e=this.center;if(this.comboTree={id:"comboTreeRoot",depth:-1,children:this.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=e[0],void(t[0].y=e[1]);this.initVals(),this.run(),this.onLayoutEnd()}},e.prototype.run=function(){var t=this,e=t.nodes,r=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var n=t.center,o=t.velocityDecay,i=t.comboMap;t.previousLayouted||t.initPos(i);for(var a=function(r){var n=[];e.forEach((function(t,e){n[e]={x:0,y:0}})),t.applyCalculate(n),t.applyComboCenterForce(n),e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=n[e].x*o,t.y+=n[e].y*o)})),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<r;u++)a();var s=[0,0];e.forEach((function(t){k(t.x)&&k(t.y)&&(s[0]+=t.x,s[1]+=t.y)})),s[0]/=e.length,s[1]/=e.length;var c=[n[0]-s[0],n[1]-s[1]];e.forEach((function(t,e){k(t.x)&&k(t.y)&&(t.x+=c[0],t.y+=c[1])})),t.combos.forEach((function(t){var e=i[t.id];e&&e.empty&&(t.x=e.cx||t.x,t.y=e.cy||t.y)})),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this.edges,e=this.nodes,r=this.combos,n={},o={},i={};e.forEach((function(t,e){o[t.id]=t,i[t.id]=e})),this.nodeMap=o,this.nodeIdxMap=i;var a={};r.forEach((function(t){a[t.id]=t})),this.oriComboMap=a,this.comboMap=this.getComboMap();var u=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||u,this.preventNodeOverlap=this.preventNodeOverlap||u;var s=this.collideStrength;s&&(this.comboCollideStrength=s,this.nodeCollideStrength=s);for(var c=0;c<t.length;++c)n[t[c].source]?n[t[c].source]++:n[t[c].source]=1,n[t[c].target]?n[t[c].target]++:n[t[c].target]=1;var f=[];for(c=0;c<t.length;++c)f[c]=n[t[c].source]/(n[t[c].source]+n[t[c].target]);this.bias=f;var h,l,d=this.nodeSize,p=this.nodeSpacing;if(l=k(p)?function(){return p}:g(p)?p:function(){return 0},this.nodeSpacing=l,d)if(g(d))h=function(t){return d(t)};else if(y(d)){var v=(d[0]>d[1]?d[0]:d[1])/2;h=function(t){return v}}else{var m=d/2;h=function(t){return m}}else h=function(t){return t.size?y(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2:t.size/2:10};this.nodeSize=h;var b,w=this.comboSpacing;b=k(w)?function(){return w}:g(w)?w:function(){return 0},this.comboSpacing=b;var x,M=this.comboPadding;x=k(M)?function(){return M}:y(M)?function(){return Math.max.apply(null,M)}:g(M)?M:function(){return 0},this.comboPadding=x;var _,S=this.linkDistance;S||(S=10),_=k(S)?function(t){return S}:S,this.linkDistance=_;var E,j=this.edgeStrength;j||(j=1),E=k(j)?function(t){return j}:j,this.edgeStrength=E;var A,O=this.nodeStrength;O||(O=30),A=k(O)?function(t){return O}:O,this.nodeStrength=A},e.prototype.initPos=function(t){this.nodes.forEach((function(e,r){if(e.comboId){var n=t[e.comboId];e.x=n.cx+100/(r+1),e.y=n.cy+100/(r+1)}else e.x=100/(r+1),e.y=100/(r+1)}))},e.prototype.getComboMap=function(){var t=this,e=t.nodeMap,r=t.nodeIdxMap,n=t.comboTrees,o=t.oriComboMap,i={};return(n||[]).forEach((function(n){var a=[];Mr(n,(function(n){if("node"===n.itemType)return!0;if(!o[n.id])return!0;if(void 0===i[n.id]){var u={name:n.id,cx:0,cy:0,count:0,depth:t.oriComboMap[n.id].depth,children:[]};i[n.id]=u}var s=n.children;s&&s.forEach((function(t){if(!i[t.id]&&!e[t.id])return!0;a.push(t)}));var c=i[n.id];if(c.cx=0,c.cy=0,0===a.length){c.empty=!0;var f=o[n.id],h=Object.keys(e).length,l=n.id+"-visual-child-"+h,d={id:l,x:f.x,y:f.y,depth:c.depth+1,itemType:"node"};t.nodes.push(d),e[l]=d,r[l]=h,c.cx=f.x,c.cy=f.y,a.push(d)}return a.forEach((function(t){if(c.count++,"node"!==t.itemType){var r=i[t.id];return k(r.cx)&&(c.cx+=r.cx),void(k(r.cy)&&(c.cy+=r.cy))}var n=e[t.id];n&&(k(n.x)&&(c.cx+=n.x),k(n.y)&&(c.cy+=n.y))})),c.cx/=c.count,c.cy/=c.count,c.children=a,!0}))})),i},e.prototype.applyComboCenterForce=function(t){var e=this.gravity,r=this.comboGravity||e,n=this.alpha,o=this.comboTrees,i=this.nodeIdxMap,a=this.nodeMap,u=this.comboMap;(o||[]).forEach((function(e){Mr(e,(function(e){if("node"===e.itemType)return!0;if(!u[e.id])return!0;var o=u[e.id],s=.5*(o.depth+1),c=o.cx,f=o.cy;return o.cx=0,o.cy=0,o.children.forEach((function(e){if("node"!==e.itemType){var h=u[e.id];return h&&k(h.cx)&&(o.cx+=h.cx),void(h&&k(h.cy)&&(o.cy+=h.cy))}var l=a[e.id],d=l.x-c||.005,p=l.y-f||.005,v=Math.sqrt(d*d+p*p),g=i[l.id],y=r*n/v*s;t[g].x-=d*y,t[g].y-=p*y,k(l.x)&&(o.cx+=l.x),k(l.y)&&(o.cy+=l.y)})),o.cx/=o.count,o.cy/=o.count,!0}))}))},e.prototype.applyCalculate=function(t){var e=this.comboMap,r=this.nodes,n={};r.forEach((function(t,e){r.forEach((function(r,o){if(!(e<o)){var i=t.x-r.x||.005,a=t.y-r.y||.005,u=i*i+a*a,s=Math.sqrt(u);u<1&&(u=s),n[t.id+"-"+r.id]={vx:i,vy:a,vl2:u,vl:s},n[r.id+"-"+t.id]={vx:-i,vy:-a,vl2:u,vl:s}}}))})),this.updateComboSizes(e),this.calRepulsive(t,n),this.calAttractive(t,n),this.preventComboOverlap&&this.comboNonOverlapping(t,e)},e.prototype.updateComboSizes=function(t){var e=this,r=e.comboTrees,n=e.nodeMap,o=e.nodeSize,i=e.comboSpacing,a=e.comboPadding;(r||[]).forEach((function(r){var u=[];Mr(r,(function(r){if("node"===r.itemType)return!0;var s=t[r.id];if(s){var c=r.children;c&&c.forEach((function(e){(t[e.id]||n[e.id])&&u.push(e)})),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0,u.forEach((function(t){if("node"!==t.itemType)return!0;var e=n[t.id];if(!e)return!0;var r=o(e),i=e.x-r,a=e.y-r,u=e.x+r,c=e.y+r;s.minX>i&&(s.minX=i),s.minY>a&&(s.minY=a),s.maxX<u&&(s.maxX=u),s.maxY<c&&(s.maxY=c)}));var f=e.oriComboMap[r.id].size||yr.defaultCombo.size;y(f)&&(f=f[0]);var h=Math.max(s.maxX-s.minX,s.maxY-s.minY,f);return s.r=h/2+i(s)/2+a(s),!0}}))}))},e.prototype.comboNonOverlapping=function(t,e){var r=this.comboTree,n=this.comboCollideStrength,o=this.nodeIdxMap,i=this.nodeMap;Mr(r,(function(r){if(e[r.id]||i[r.id]||"comboTreeRoot"===r.id){var a=r.children;return a&&a.length>1&&a.forEach((function(r,u){if("node"!==r.itemType){var s=e[r.id];s&&a.forEach((function(a,c){if(!(u<=c)&&"node"!==a.itemType){var f=e[a.id];if(f){var h=s.cx-f.cx||.005,l=s.cy-f.cy||.005,d=h*h+l*l,p=s.r,v=f.r,g=p+v,y=v*v,m=p*p;if(d<g*g){var b=r.children;if(!b||0===b.length)return;var w=a.children;if(!w||0===w.length)return;var x=Math.sqrt(d),M=(g-x)/x*n,k=h*M,_=l*M,S=y/(m+y),E=1-S;b.forEach((function(e){if("node"===e.itemType&&i[e.id]){var r=o[e.id];w.forEach((function(e){if("node"===e.itemType&&i[e.id]){var n=o[e.id];t[r].x+=k*S,t[r].y+=_*S,t[n].x-=k*E,t[n].y-=_*E}}))}}))}}}}))}})),!0}}))},e.prototype.calRepulsive=function(t,e){var r=this,n=r.nodes,o=r.width*r.optimizeRangeFactor,i=r.nodeStrength,a=r.alpha,u=r.nodeCollideStrength,s=r.preventNodeOverlap,c=r.nodeSize,f=r.nodeSpacing,h=r.depthRepulsiveForceScale,l=r.center;n.forEach((function(d,p){if(d.x&&d.y){if(l){var v=r.gravity,g=d.x-l[0]||.005,y=d.y-l[1]||.005,m=Math.sqrt(g*g+y*y);t[p].x-=g*v*a/m,t[p].y-=y*v*a/m}n.forEach((function(r,n){if(p!==n&&r.x&&r.y){var l=e[d.id+"-"+r.id],v=l.vl2,g=l.vl;if(!(g>o)){var y=e[d.id+"-"+r.id],m=y.vx,b=y.vy,w=Math.abs(r.depth-d.depth)+1||1;r.comboId!==d.comboId&&w++;var x=w?Math.pow(h,w):1,M=i(r)*a/v*x;if(t[p].x+=m*M,t[p].y+=b*M,p<n&&s){var k=c(d)+f(d),_=c(r)+f(r),S=k+_;if(v<S*S){var E=(S-g)/g*u,j=_*_,A=j/(k*k+j),O=m*E,N=b*E;t[p].x+=O*A,t[p].y+=N*A,A=1-A,t[n].x-=O*A,t[n].y-=N*A}}}}}))}}))},e.prototype.calAttractive=function(t,e){var r=this,n=r.edges,o=r.linkDistance,i=r.alpha,a=r.edgeStrength,u=r.bias,s=r.depthAttractiveForceScale;n.forEach((function(n,c){if(n.source&&n.target&&n.source!==n.target){var f=r.nodeIdxMap[n.source],h=r.nodeIdxMap[n.target],l=r.nodeMap[n.source],d=r.nodeMap[n.target],p=Math.abs(l.depth-d.depth);l.comboId===d.comboId&&(p/=2);var v=p?Math.pow(s,p):1;if(l.comboId!==d.comboId&&1===v?v=s/2:l.comboId===d.comboId&&(v=2),k(d.x)&&k(l.x)&&k(d.y)&&k(l.y)){var g=e[n.target+"-"+n.source],y=g.vl,m=g.vx,b=g.vy,w=(y-o(n))/y*i*a(n)*v,x=m*w,M=b*w,_=u[c];t[h].x-=x*_,t[h].y-=M*_,t[f].x+=x*(1-_),t[f].y+=M*(1-_)}}}))},e}(c),fruchterman:Ht,grid:$t,mds:Qe,radial:er,random:rr};o()(kr,(function(t,e){h.registerLayout(e,{},t)}));var _r=h,Sr=self;Sr.onmessage=function(t){(function(t){return t.data.type===Dt})(t)&&function(t){switch(t.data.type){case Dt:var e=t.data,r=e.nodes,n=e.edges,o=e.layoutCfg,i=void 0===o?{}:o,a=i.type,u=_r[a];if(!u){Sr.postMessage({type:Lt,message:"layout "+a+" not found"});break}var s=new u(i);s.init({nodes:r,edges:n}),s.execute(),Sr.postMessage({type:qt,nodes:r}),s.destroy()}}(t)};e.default=null}]);
//# sourceMappingURL=g6Layout.worker.js.map`,"Worker",void 0,s.p+"g6Layout.worker.js")},Sc=function(e){return setTimeout(e,16)},_c=function(e){return clearTimeout(e)},Ca=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||Sc)(e)},ja=function(e){return(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||_c)(e)},Oc=function(){function S(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return S.prototype.initLayout=function(){},S.prototype.getWorker=function(){return this.worker||(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new Mc),this.worker},S.prototype.stopWorker=function(){var e=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,e.requestId&&(ja(e.requestId),e.requestId=null),e.requestId2&&(ja(e.requestId2),e.requestId2=null))},S.prototype.getLayoutType=function(){return this.layoutCfg.type},S.prototype.layout=function(e){var t=this.graph;this.data=this.setDataFromGraph();var l=this.data.nodes;if(!l)return!1;var g=t.get("width"),w=t.get("height"),_={};Object.assign(_,{width:g,height:w,center:[g/2,w/2]},this.layoutCfg),this.layoutCfg=_;var k=!!this.layoutType,P=this.layoutMethod;P&&P.destroy(),t.emit("beforelayout");var I=this.initPositions(_.center,l);if(this.stopWorker(),_.workerEnabled&&this.layoutWithWorker(this.data,e))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var N=_.onTick,R=function(){N&&N(),t.refreshPositions()};_.tick=R;var L=_.onLayoutEnd;_.onLayoutEnd=function(){L&&L(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(_.comboTrees=t.get("comboTrees"));var F=!1;if(this.layoutType!==void 0){try{P=new Jr[this.layoutType](_)}catch(nt){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(F=P.enableTick){var z=_.onTick,q=_.onLayoutEnd;R=function(){z&&z(),t.refreshPositions()},P.tick=R,P.onLayoutEnd=function(){q&&q(),t.emit("afterlayout")}}P.init(this.data),k&&P.execute(),this.layoutMethod=P}return!k&&I||this.layoutType==="force"||F||(t.emit("afterlayout"),this.refreshLayout()),!1},S.prototype.layoutWithWorker=function(e,t){var l=this,g=e.nodes,w=e.edges,_=this.layoutCfg,k=(this.graph,this.getWorker()),P=this.workerData;if(!k)return!1;P.requestId=null,P.requestId2=null,P.currentTick=null,P.currentTickData=null;var I=function(N,R){var L={};return N&&typeof N=="object"?(Object.keys(N).forEach(function(F){N.hasOwnProperty(F)&&R(N[F])&&(L[F]=N[F])}),L):N}(_,function(N){return typeof N!="function"});return k.postMessage({type:Ru,nodes:g,edges:w,layoutCfg:I}),k.onmessage=function(N){l.handleWorkerMessage(N,e,t)},!0},S.prototype.handleWorkerMessage=function(e,t,l){var g=this.graph,w=this.workerData,_=this.layoutCfg,k=e.data,P=k.type,I=function(){_.onTick&&_.onTick()},N=function(){_.onLayoutEnd&&_.onLayoutEnd(),g.emit("afterlayout")};switch(P){case da:w.currentTick=k.currentTick,w.currentTickData=k,w.requestId||(w.requestId=Ca(function(){uo(t,k),g.refreshPositions(),I(),k.currentTick===1&&l&&l(),k.currentTick===k.totalTicks?N():w.currentTick===k.totalTicks&&(w.requestId2=Ca(function(){uo(t,w.currentTickData),g.refreshPositions(),w.requestId2=null,I(),N()})),w.requestId=null}));break;case Lu:w.currentTick==null&&(uo(t,k),this.refreshLayout(),l&&l(),g.emit("afterlayout"))}},S.prototype.refreshLayout=function(){var e=this.graph;e.get("animate")?e.positionsAnimate():e.refreshPositions()},S.prototype.updateLayoutCfg=function(e){var t=this.graph,l=this.layoutMethod;this.layoutType=e.type,l?(this.data=this.setDataFromGraph(),this.stopWorker(),e.workerEnabled&&this.layoutWithWorker(this.data,null)||(l.init(this.data),l.updateCfg(e),t.emit("beforelayout"),l.execute(),this.layoutType==="force"||l.enableTick||t.emit("afterlayout"),this.refreshLayout())):console.warn("You did not assign any layout type and the graph has no previous layout method!")},S.prototype.changeLayout=function(e){var t=this.graph,l=this.layoutMethod;this.layoutType=e,this.layoutCfg=t.get("layout")||{},this.layoutCfg.type=e,l&&l.destroy(),this.layout()},S.prototype.changeData=function(){var e=this.layoutMethod;e&&e.destroy(),this.layout()},S.prototype.destroyLayout=function(){var e=this.layoutMethod,t=this.graph;e&&e.destroy(),t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},S.prototype.setDataFromGraph=function(){var e=[],t=[],l=[],g=this.graph.getNodes(),w=this.graph.getEdges(),_=this.graph.getCombos();return g.forEach(function(k){if(k.isVisible()){var P=k.getModel();e.push(P)}}),w.forEach(function(k){if(!k.destroyed&&k.isVisible()){var P=k.getModel();P.isComboEdge||t.push(P)}}),_.forEach(function(k){if(!k.destroyed&&k.isVisible()){var P=k.getModel();l.push(P)}}),{nodes:e,edges:t,combos:l}},S.prototype.relayout=function(e){var t=this.graph,l=this.layoutMethod,g=this.layoutCfg;if(e){this.data=this.setDataFromGraph();var w=this.data.nodes;if(!w)return!1;this.initPositions(g.center,w),l.init(this.data)}this.layoutType==="force"&&(l.ticking=!1,l.forceSimulation.stop()),t.emit("beforelayout"),l.execute(e),this.layoutType==="force"||l.enableTick||t.emit("afterlayout"),this.refreshLayout()},S.prototype.layoutAnimate=function(){},S.prototype.moveToZero=function(){var e=this.graph.get("data").nodes;if(e[0].x!==void 0&&e[0].x!==null&&!ut(e[0].x)){var t=[0,0];e.forEach(function(l){t[0]+=l.x,t[1]+=l.y}),t[0]/=e.length,t[1]/=e.length,e.forEach(function(l){l.x-=t[0],l.y-=t[1]})}},S.prototype.initPositions=function(e,t){var l=this.graph;if(!t)return!1;var g=!0,w=.85*l.get("width"),_=.85*l.get("height"),k=t.length,P=Math.ceil(Math.sqrt(k)*(w/_)),I=Math.ceil(k/P),N=w/(P-1),R=_/(I-1);isFinite(N)&&N||(N=0),isFinite(R)&&N||(R=0);var L=e[0]-w/2,F=e[1]-_/2;return t.forEach(function(z,q){ut(z.x)&&(g=!1,z.x=q%P*N+L),ut(z.y)&&(g=!1,z.y=Math.floor(q/P)*R+F)}),g},S.prototype.destroy=function(){var e=this.layoutMethod;this.graph=null,e&&e.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},S}();function uo(S,e){var t=S.nodes,l=e.nodes;t.forEach(function(g,w){g.x=l[w].x,g.y=l[w].y})}var Cr=null,Ec=function(){function S(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return S.checkCache=function(e,t,l){if(l[t]){var g=l[t].indexOf(e);g>=0&&l[t].splice(g,1)}},S.cacheState=function(e,t,l){l[t]||(l[t]=[]),l[t].push(e)},S.prototype.updateState=function(e,t,l){var g=this,w=S.checkCache,_=S.cacheState;if(!e.destroyed){var k=this.cachedStates,P=k.enabled,I=k.disabled;l?(w(e,t,I),_(e,t,P)):(w(e,t,P),_(e,t,I)),Cr&&clearTimeout(Cr),Cr=setTimeout(function(){Cr=null,g.updateGraphStates()},16)}},S.prototype.updateStates=function(e,t,l){var g=this;D()(t)?this.updateState(e,t,l):t.forEach(function(w){g.updateState(e,w,l)})},S.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;h()(t.disabled,function(l,g){e[g]&&(e[g]=e[g].filter(function(w){return l.indexOf(w)<0&&!l.destroyed}))}),h()(t.enabled,function(l,g){if(e[g]){var w={};e[g].forEach(function(_){_.destroyed||(w[_.get("id")]=!0)}),l.forEach(function(_){if(!_.destroyed){var k=_.get("id");w[k]||(w[k]=!0,e[g].push(_))}})}else e[g]=l}),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},S.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Cr&&clearTimeout(Cr),Cr=null,this.destroyed=!0},S}(),co=null,kc=function(){function S(e){this.graph=e;var t=e.get("groupStyle");this.styles=we()({},S.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return S.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},S.prototype.create=function(e,t,l,g,w,_){l===void 0&&(l="circle"),g===void 0&&(g=0),w===void 0&&(w=!1),_===void 0&&(_={});var k=this.graph,P=k.get("customGroup");if(P.get("children").map(function(Jt){return Jt.get("id")}).indexOf(e)>-1)console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+e+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");else{var I=P.addGroup({id:e,zIndex:g}),N=this.styles.default,R=this.calculationGroupPosition(t),L=R.x,F=R.y,z=R.width,q=R.height,nt=R.maxX,et=this.getGroupPadding(e);k.get("groupBBoxs")[e]={x:L,y:F,width:z,height:q,maxX:nt};var st=null;if(w){var dt=k.get("groups");t.forEach(function(Jt){var se=k.findById(Jt).getModel();se.groupId||(se.groupId=e)}),dt.find(function(Jt){return Jt.id===e})||(dt.push({id:e,title:_}),k.set({groups:dt}))}var Ot=k.get("groups").filter(function(Jt){return Jt.id===e});Ot&&Ot.length>0&&(st=Ot[0].title);var bt=0,mt=0,Tt=null;if(l==="circle"){var Dt=(z+2*L)/2,Yt=(q+2*F)/2,Gt=(z>q?z/2:q/2)+et;Tt=I.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},N),{x:Dt,y:Yt,r:Gt}),draggable:!0,capture:!0,zIndex:g,groupId:e,name:"circle-group-shape"}),bt=Dt,mt=Yt-Gt,this.setDeletageGroupByStyle(e,I,{width:z,height:q,x:Dt,y:Yt,r:Gt})}else{var Kt=et*N.disCoefficient;Tt=I.addShape("rect",{attrs:Object(T.__assign)(Object(T.__assign)({},N),{x:L-Kt,y:F-Kt,width:z+2*Kt,height:q+2*Kt}),draggable:!0,capture:!0,zIndex:g,groupId:e,name:"rect-group-shape"}),bt=L-Kt+15,mt=F-Kt+15,this.setDeletageGroupByStyle(e,I,{x:L-Kt,y:F-Kt,width:z+Kt,height:q+Kt,btnOffset:nt-3})}if(st){var Zt=st.offsetX,Wt=Zt===void 0?0:Zt,ee=st.offsetY,Qt=ee===void 0?0:ee,ue=st.text,ae=ue===void 0?st:ue,he=Object(T.__rest)(st,["offsetX","offsetY","text"]);I.addShape("text",{attrs:Object(T.__assign)({text:ae,stroke:"#444",x:bt+Wt,y:mt+Qt},he),className:"group-title",name:"group-title-shape"}).set("capture",!1)}I.set("keyShape",Tt),k.get("groupNodes")[e]=t}},S.prototype.setGroupStyle=function(e,t){if(e&&!e.get("destroyed")){var l={},g=this.styles,w=g.hover,_=g.default;D()(t)?t==="default"?l=we()({},_):t==="hover"&&(l=we()({},w)):l=we()({},_,t),Object.keys(l).forEach(function(k){e.attr(k,l[k])})}},S.prototype.calculationGroupPosition=function(e,t){if(t===void 0&&(t={x:100,y:100}),e.length===0)return{x:t.x,y:t.y,width:100,height:100};var l=this.graph,g=1/0,w=-1/0,_=1/0,k=-1/0;e.forEach(function(N){var R=(D()(N)?l.findById(N):N).getBBox(),L=R.minX,F=R.minY,z=R.maxX,q=R.maxY;L<g&&(g=L),F<_&&(_=F),z>w&&(w=z),q>k&&(k=q)});var P=Math.floor(g),I=Math.floor(_);return{x:P,y:I,width:Math.ceil(w)-P,height:Math.ceil(k)-I,maxX:Math.ceil(w)}},S.prototype.flatToTree=function(e,t,l){t===void 0&&(t="id"),l===void 0&&(l="parentId");var g=[],w=[];return e.forEach(function(_){g[_[t]]=_}),e.forEach(function(_){var k=g[_[l]];k?(k.children=k.children||[],k.children.push(_)):w.push(_)}),w},S.prototype.getGroupPadding=function(e){var t=this.graph,l=this.styles.default,g=t.get("groups"),w=g.filter(function(k){return k.parentId===e}),_=1;return w.length>0&&(co||(co=this.flatToTree(g)),fn(co[0],function(k){if(k.parentId===e&&k.children)return _+=k.children.length,!0})),g.filter(function(k){return k.id===e&&!k.parentId}).length>0&&(_+=1),g.filter(function(k){return k.parentId===e}).length>0?l.maxDis+30*(_>1?_/2:1):l.minDis},S.prototype.setDeletageGroupByStyle=function(e,t,l){var g=l.width,w=l.height,_=l.x,k=l.y,P=l.r,I=l.btnOffset,N=this.customGroup[e];if(N){var R=N.groupStyle,L=we()({},R,l);this.customGroup[e]={nodeGroup:t,groupStyle:L}}else this.customGroup[e]={nodeGroup:t,groupStyle:{width:g,height:w,x:_,y:k,r:P,btnOffset:I}}},S.prototype.getDeletageGroupById=function(e){return this.customGroup[e]},S.prototype.collapseExpandGroup=function(e){var t=this.getDeletageGroupById(e).nodeGroup;t.get("hasHidden")?(t.set("hasHidden",!1),this.expandGroup(e)):(t.set("hasHidden",!0),this.collapseGroup(e))},S.prototype.setGroupTmpNode=function(e,t){var l=this.graph,g=l.get("groupNodes"),w=l.get("groups");g[e].indexOf(t)<0&&g[e].push(t);var _=w.filter(function(P){return P.id===e}),k=null;_.length>0&&(k=_[0].parentId),k&&this.setGroupTmpNode(k,t)},S.prototype.collapseGroup=function(e){var t=this,l=this.getDeletageGroupById(e).nodeGroup,g=this.styles.collapse,w=this.graph,_=w.get("groupType"),k=w.get("groupNodes")[e],P=l.get("keyShape"),I=g.r,N=g.width,R=g.height,L=g.offsetX,F=g.offsetY,z=Object(T.__rest)(g,["r","width","height","offsetX","offsetY"]);Object.keys(z).forEach(function(mt){P.attr(mt,z[mt])});var q={groupId:e,id:e+"-custom-node",x:P.attr("x"),y:P.attr("y"),style:{r:I},type:"circle"},nt=l.find(function(mt){return mt.get("className")==="group-title"});_==="circle"?(P.animate({r:I},{duration:500,easing:"easeCubic"}),nt&&nt.attr({x:P.attr("x")+L,y:P.attr("y")+F})):_==="rect"&&(P.animate({width:N,height:R},{duration:500,easing:"easeCubic"}),nt&&nt.attr({x:P.attr("x")+10,y:P.attr("y")+R/2+5}),q={groupId:e,id:e+"-custom-node",x:P.attr("x")+N/2,y:P.attr("y")+R/2,size:[N,R],type:"rect"});var et=w.getEdges(),st=et.filter(function(mt){var Tt=mt.getModel();return!k.includes(Tt.source)&&k.includes(Tt.target)}),dt=et.filter(function(mt){var Tt=mt.getModel();return k.includes(Tt.source)&&!k.includes(Tt.target)}),Ot=et.filter(function(mt){var Tt=mt.getModel();return k.includes(Tt.source)&&k.includes(Tt.target)});if(k.forEach(function(mt){var Tt=w.findById(mt),Dt=Tt.getModel().groupId;Dt&&Dt!==e&&t.getDeletageGroupById(Dt).nodeGroup.hide(),Tt.hide()}),Ot.forEach(function(mt){var Tt=mt.getSource(),Dt=mt.getTarget();Tt.isVisible()&&Dt.isVisible()?mt.show():mt.hide()}),st.length>0||dt.length>0){var bt=w.add("node",q);bt.set("capture",!1),bt.hide(),this.delegateInGroup[e]={delegateNode:bt},this.setGroupTmpNode(e,e+"-custom-node"),this.updateEdgeInGroupLinks(e,st,dt)}},S.prototype.updateEdgeInGroupLinks=function(e,t,l){var g=this.graph,w={};t.map(function(k){var P=k.getModel(),I=k.get("id"),N=P.target;return w[I]=N,g.updateItem(k,{target:e+"-custom-node"}),!0});var _={};l.map(function(k){var P=k.getModel(),I=k.get("id"),N=P.source;return _[I]=N,g.updateItem(k,{source:e+"-custom-node"}),!0}),this.delegateInGroup[e]=we()({sourceOutTargetInEdges:t,sourceInTargetOutEdges:l,edgesOuts:w,edgesIn:_},this.delegateInGroup[e])},S.prototype.expandGroup=function(e){var t=this,l=this.graph,g=l.get("groupType"),w=l.get("groupNodes")[e],_=w.filter(function(ae){return ae.indexOf("custom-node")===-1}),k=this.calculationGroupPosition(_),P=k.width,I=k.height,N=this.getDeletageGroupById(e).nodeGroup,R=N.get("keyShape"),L=this.styles,F=L.default,z=L.collapse;Object.keys(F).forEach(function(ae){R.attr(ae,F[ae])});var q=N.find(function(ae){return ae.get("className")==="group-title"}),nt=this.getGroupPadding(e);if(g==="circle"){var et=P>I?P/2:I/2;R.animate({r:et+nt},{duration:500,easing:"easeCubic"})}else if(g==="rect"){var st=z.width,dt=z.height;R.animate({width:st+P+nt*F.disCoefficient*2,height:dt+I+nt*F.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(q){var Ot=null,bt=l.get("groups").filter(function(ae){return ae.id===e});bt&&bt.length>0&&(Ot=bt[0].title);var mt=Ot.offsetX,Tt=mt===void 0?0:mt,Dt=Ot.offsetY,Yt=Dt===void 0?0:Dt;g==="circle"?q.animate({x:R.attr("x")+Tt,y:R.attr("y")-R.attr("r")+Yt},{duration:600,easing:"easeCubic"}):g==="rect"&&q.animate({x:R.attr("x")+(15+Tt),y:R.attr("y")+(15+Yt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){w.forEach(function(ae){var he=l.findById(ae),Jt=he.getModel().groupId;if(Jt&&Jt!==e){var se=t.getDeletageGroupById(Jt).nodeGroup;se.show(),se.get("hasHidden")||he.show()}else he.show()}),l.getEdges().filter(function(ae){var he=ae.getModel();return w.includes(he.source)||w.includes(he.target)}).forEach(function(ae){var he=ae.getSource(),Jt=ae.getTarget();he.isVisible()&&Jt.isVisible()&&ae.show()})},300);var Gt=this.delegateInGroup[e];if(Gt){var Kt=Gt.sourceOutTargetInEdges,Zt=Gt.sourceInTargetOutEdges,Wt=Gt.edgesOuts,ee=Gt.edgesIn,Qt=Gt.delegateNode;Kt.map(function(ae){var he=ae.get("id"),Jt=Wt[he];return l.updateItem(ae,{target:Jt}),!0}),Zt.map(function(ae){var he=ae.get("id"),Jt=ee[he];return l.updateItem(ae,{source:Jt}),!0});var ue=Qt.getModel();this.deleteTmpNode(e,ue.id),l.remove(Qt),delete this.delegateInGroup[e]}},S.prototype.deleteTmpNode=function(e,t){var l=this.graph,g=l.get("groups"),w=l.get("groupNodes")[e],_=w.indexOf(t);w.splice(_,1);var k=g.filter(function(I){return I.id===e}),P=null;k.length>0&&(P=k[0].parentId),P&&this.deleteTmpNode(P,t)},S.prototype.remove=function(e){var t=this.graph,l=this.getDeletageGroupById(e);if(l){var g=l.nodeGroup,w=t.get("groupNodes"),_=w[e];_.forEach(function(F){var z=t.findById(F),q=z.getModel(),nt=q.groupId;nt&&e===nt&&(delete q.groupId,t.updateItem(z,q))}),g.destroy(),delete this.customGroup[e];var k=t.get("groups");if(k.length>0){var P=k.filter(function(F){return F.id!==e});t.set("groups",P)}for(var I=null,N=null,R=0;R<k.length;R++){var L=k[R];if(e===L.id){I=L.parentId,N=L;break}}N&&delete N.parentId,delete w[e],I&&(w[I]=w[I].filter(function(F){return!_.includes(F)}))}},S.prototype.updateGroup=function(e,t,l){var g=this.graph,w=g.get("groupType");this.updateItemInGroup(e,t,l);for(var _=g.save().groups,k=null,P=null,I=0;I<_.length;I++){var N=_[I];if(e===N.id){k=N.parentId,P=N;break}}if(k){var R=this.getDeletageGroupById(k).nodeGroup,L=R.get("keyShape");this.setGroupStyle(L,"default");var F=L.getBBox(),z=F.minX,q=F.minY,nt=F.maxX,et=F.maxY,st=this.getDeletageGroupById(e).nodeGroup.get("keyShape").getBBox(),dt=st.x,Ot=st.y;if(!(dt<nt&&dt>z&&Ot<et&&Ot>q)){delete P.parentId;var bt=g.get("groupNodes"),mt=bt[e],Tt=bt[k];bt[k]=Tt.filter(function(Ve){return mt.indexOf(Ve)===-1});var Dt=this.calculationGroupPosition(bt[k]),Yt=Dt.x,Gt=Dt.y,Kt=Dt.width,Zt=Dt.height,Wt=this.getGroupPadding(k),ee=R.find(function(Ve){return Ve.get("className")==="group-title"}),Qt=0,ue=0;if(w==="circle"){var ae=Kt>Zt?Kt/2:Zt/2,he=Yt,Jt=Gt;L.attr({r:ae+Wt,x:he,y:Jt}),Qt=he,ue=Jt-L.attr("r")}else if(w==="rect"){var se=Wt*this.styles.default.disCoefficient;L.attr({x:Yt-se,y:Gt-se}),Qt=Yt-se+15,ue=Gt-se+15}if(ee){var me=P.title,Pe=0,Ce=0;me&&(Pe=me.offsetX,Ce=me.offsetY),ee.attr({x:Qt+Pe,y:ue+Ce})}}}},S.prototype.updateItemInGroup=function(e,t,l){var g=this,w=this.graph,_=w.get("groupType"),k=w.get("groupNodes"),P=k[e],I=this.getDeletageGroupById(e).nodeGroup.getBBox(),N=[];P.forEach(function(R,L){var F=w.findById(R),z=F.getModel(),q=z.groupId;q&&!N.includes(q)&&N.push(q),g.nodePoint[L]||(g.nodePoint[L]={x:z.x,y:z.y});var nt=t.x-I.x+g.nodePoint[L].x,et=t.y-I.y+g.nodePoint[L].y;g.nodePoint[L]={x:nt,y:et},w.updateItem(F,{x:nt,y:et})}),N.includes(e)||N.push(e),N.forEach(function(R){var L=g.getDeletageGroupById(R).nodeGroup,F=L.get("keyShape"),z=k[R].filter(function(Kt){return Kt.indexOf("custom-node")===-1}),q=g.calculationGroupPosition(z,t),nt=q.x,et=q.y,st=q.width,dt=q.height,Ot=0,bt=0;if(_==="circle"){var mt=(st+2*nt)/2,Tt=(dt+2*et)/2;F.attr({x:mt,y:Tt}),Ot=mt,bt=Tt-F.attr("r")}else if(_==="rect"){var Dt=L.get("hasHidden"),Yt={},Gt=g.getGroupPadding(R)*g.styles.default.disCoefficient;Ot=nt-Gt+15,bt=et-Gt+15,Dt?(Yt={x:nt-Gt,y:et-Gt},bt+=10):Yt={x:nt-Gt,y:et-Gt,width:st+2*Gt,height:dt+2*Gt},F.attr(Yt)}g.updateGroupTitle(L,R,Ot,bt)})},S.prototype.updateGroupTitle=function(e,t,l,g){var w=this.graph,_=e.find(function(R){return R.get("className")==="group-title"});if(_){var k=null,P=w.get("groups").filter(function(R){return R.id===t});P&&P.length>0&&(k=P[0].title);var I=0,N=0;k&&(I=k.offsetX||0,N=k.offsetY||0),_.attr({x:l+I,y:g+N})}},S.prototype.dynamicChangeGroupSize=function(e,t,l){var g=e.item.getModel().groupId,w=this.graph,_=w.get("groupType"),k=w.get("groupNodes"),P=k[g];if(P.length===0){delete k[g];var I=w.get("groups");w.set("groups",I.filter(function(mt){return mt.id!==g})),t.remove()}else{var N=this.calculationGroupPosition(P),R=N.x,L=N.y,F=N.width,z=N.height,q=this.getGroupPadding(g),nt=0,et=0;if(_==="circle"){var st=F>z?F/2:z/2,dt=(F+2*R)/2,Ot=(z+2*L)/2;l.attr({r:st+q,x:dt,y:Ot}),nt=dt,et=Ot-l.attr("r")}else if(_==="rect"){var bt=q*this.styles.default.disCoefficient;l.attr({x:R-bt,y:L-bt,width:F+2*bt,height:z+2*bt}),nt=R-bt+15,et=L-bt+15}this.updateGroupTitle(t,g,nt,et)}this.setGroupStyle(l,"default")},S.prototype.resetNodePoint=function(){this.nodePoint.length=0},S.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},S}(),Ia=function(e){var t={};return e.getNodes().forEach(function(l){t[l.getID()]={degree:0,inDegree:0,outDegree:0}}),e.getEdges().forEach(function(l){t[l.getSource().getID()].degree++,t[l.getSource().getID()].outDegree++,t[l.getTarget().getID()].degree++,t[l.getTarget().getID()].inDegree++}),t},Pc=function(){function S(e){this.compare=e||S.defaultCompareFunction}return S.defaultCompareFunction=function(e,t){return e===t?0:e<t?-1:1},S.prototype.equal=function(e,t){return this.compare(e,t)===0},S.prototype.lessThan=function(e,t){return this.compare(e,t)<0},S.prototype.greaterThan=function(e,t){return this.compare(e,t)>0},S.prototype.lessThanOrEqual=function(e,t){return this.lessThan(e,t)||this.equal(e,t)},S.prototype.greaterThanOrEqual=function(e,t){return this.greaterThan(e,t)||this.equal(e,t)},S.prototype.reverse=function(){var e=this.compare;this.compare=function(t,l){return e(l,t)}},S}(),Ta=function(){function S(e,t){t===void 0&&(t=null),this.value=e,this.next=t}return S.prototype.toString=function(e){return e?e(this.value):""+this.value},S}(),Na=function(){function S(e){e===void 0&&(e=null),this.head=null,this.tail=null,this.compare=new Pc(e)}return S.prototype.prepend=function(e){var t=new Ta(e,this.head);return this.head=t,this.tail||(this.tail=t),this},S.prototype.append=function(e){var t=new Ta(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},S.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,e);)t=this.head,this.head=this.head.next;var l=this.head;if(l!==null)for(;l.next;)this.compare.equal(l.next.value,e)?(t=l.next,l.next=l.next.next):l=l.next;return this.compare.equal(this.tail.value,e)&&(this.tail=l),t},S.prototype.find=function(e){var t=e.value,l=t===void 0?void 0:t,g=e.callback,w=g===void 0?void 0:g;if(!this.head)return null;for(var _=this.head;_;){if(w&&w(_.value)||l!==void 0&&this.compare.equal(_.value,l))return _;_=_.next}return null},S.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},S.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},S.prototype.fromArray=function(e){var t=this;return e.forEach(function(l){return t.append(l)}),this},S.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},S.prototype.reverse=function(){for(var e=this.head,t=null,l=null;e;)l=e.next,e.next=t,t=e,e=l;this.tail=this.head,this.head=t},S.prototype.toString=function(e){return e===void 0&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},S}(),Da=function(){function S(e){e===void 0&&(e=10),this.linkedList=new Na,this.maxStep=e}return Object.defineProperty(S.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),S.prototype.isEmpty=function(){return!this.linkedList.head},S.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},S.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},S.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},S.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},S.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},S.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},S}(),ki=function(e,t){var l=e.getNodes(),g=e.getEdges(),w=[],_={};if(!l)throw new Error("invalid nodes data!");return l&&l.forEach(function(k,P){_[k.getID()]=P,w.push([])}),g&&g.forEach(function(k){var P=k.getModel(),I=P.source,N=P.target,R=_[I],L=_[N];w[R][L]=1,t||(w[L][R]=1)}),w},Ba=function(e,t){var l=e.get("adjMatrix");l||(l=ki(e,t));for(var g=[],w=l.length,_=0;_<w;_+=1){g[_]=[];for(var k=0;k<w;k+=1)_===k?g[_][k]=0:l[_][k]!==0&&l[_][k]?g[_][k]=l[_][k]:g[_][k]=1/0}for(var P=0;P<w;P+=1)for(_=0;_<w;_+=1)for(k=0;k<w;k+=1)g[_][k]>g[_][P]+g[P][k]&&(g[_][k]=g[_][P]+g[P][k]);return g},Ra=function(e,t,l){return(e.y-l.y)*(t.x-l.x)-(e.x-l.x)*(t.y-l.y)},La=function(e){var t=e.map(function(_){return{x:_.getModel().x,y:_.getModel().y}});t.sort(function(_,k){return _.x===k.x?_.y-k.y:_.x-k.x});for(var l=[],g=0;g<t.length;g++){for(;l.length>=2&&Ra(l[l.length-2],l[l.length-1],t[g])<=0;)l.pop();l.push(t[g])}var w=[];for(g=t.length-1;g>=0;g--){for(;w.length>=2&&Ra(w[w.length-2],w[w.length-1],t[g])<=0;)w.pop();w.push(t[g])}return w.pop(),l.pop(),l.concat(w)},Ac={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Cc(S,e,t){var l=!1,g=function(P,I){return e.cells[P+I*e.width]},w=function(P,I){var N=0;return g(P-1,I-1)>=t&&(N+=1),g(P,I-1)>t&&(N+=2),g(P-1,I)>t&&(N+=4),g(P,I)>t&&(N+=8),N},_=function(P,I){for(var N,R,L=P,F=I,z=0;z<e.width*e.height;z++){if(N=L,R=F,S.findIndex(function(nt){return nt.x===L&&nt.y===F})>-1){if(S[0].x===L&&S[0].y===F)return!0}else S.push({x:L,y:F});var q=w(L,F);switch(q){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:L++;break;case 12:case 14:case 4:L--;break;case 6:N===0&&(R===-1?L-=1:L+=1);break;case 1:case 13:case 5:F--;break;case 9:N===1&&(R===0?F-=1:F+=1);break;case 10:case 8:case 11:F++;break;default:return console.warn("Marching squares invalid state: "+q),!0}}};this.march=function(){for(var k=0;k<e.width&&!l;k+=1)for(var P=0;P<e.height&&!l;P+=1)g(k,P)>t&&w(k,P)!==15&&(l=_(k,P));return l}}var Fa=function(e,t){var l=Number.POSITIVE_INFINITY,g=null;return e.forEach(function(w){var _=er(w,t);_>=0&&_<l&&(g=w,l=_)}),g};function jc(S,e,t,l,g){var w=function(_,k,P){var I=null,N=Number.POSITIVE_INFINITY;return k.forEach(function(R){var L={x:_.getModel().x,y:_.getModel().y},F={x:R.getModel().x,y:R.getModel().y},z=nr(L,F),q=new Sn(L.x,L.y,F.x,F.y),nt=P.reduce(function(et,st){return er(st,q)>0?et+1:et},0);z*Math.pow(nt+1,2)<N&&(I=R,N=z*Math.pow(nt+1,2))}),I}(S,t,e);return w===null?[]:function(_){for(var k=[];_.length>0;){var P=_.pop();if(_.length===0){k.push(P);break}var I=_.pop(),N=new Sn(P.x1,P.y1,I.x2,I.y2);Fa(e,N)?(k.push(P),_.push(I)):_.push(N)}return k}(function(_,k,P,I){var N=[],R=[];R.push(_);for(var L=!0,F=0,z=function(st,dt){var Ot=!1;return dt.forEach(function(bt){Ot||(xe(st,{x:bt.x1,y:bt.y1})||xe(st,{x:bt.x2,y:bt.y2}))&&(Ot=!0)}),Ot},q=function(st,dt){for(var Ot=0,bt=dt;Ot<bt.length;Ot++){var mt=bt[Ot].getBBox(),Tt=[[mt.x,mt.y],[mt.x+mt.width,mt.y],[mt.x,mt.y+mt.height],[mt.x+mt.width,mt.y+mt.height]];if(ln(Tt,st.x,st.y))return!0}return!1};L&&F<P;){L=!1;for(var nt=function(){var st=R.pop(),dt=Fa(k,st);if(dt){var Ot=hr(dt,st),bt=Ot[0];if(Ot[1]===2){var mt=function(Dt){for(var Yt=I,Gt=Ya(dt,Yt,bt,Dt),Kt=z(Gt,R)||z(Gt,N),Zt=q(Gt,k);!Kt&&Zt&&Yt>=1;)Gt=Ya(dt,Yt/=1.5,bt,Dt),Kt=z(Gt,R)||z(Gt,N),Zt=q(Gt,k);!Gt||Kt||Dt&&Zt||(R.push(new Sn(st.x1,st.y1,Gt.x,Gt.y)),R.push(new Sn(Gt.x,Gt.y,st.x2,st.y2)),L=!0)};mt(!0),L||mt(!1)}}L||N.push(st),F+=1};!L&&R.length;)nt()}for(;R.length;)N.push(R.pop());return N}(new Sn(S.getModel().x,S.getModel().y,w.getModel().x,w.getModel().y),e,l,g))}var Ic=function(e,t,l){var g=Object.assign(Ac,l),w=gr(e.map(function(mt){return{x:mt.getModel().x,y:mt.getModel().y}}));e=e.sort(function(mt,Tt){return nr({x:mt.getModel().x,y:mt.getModel().y},w)-nr({x:Tt.getModel().x,y:Tt.getModel().y},w)});var _=[],k=[];e.forEach(function(mt){jc(mt,t,_,g.maxRoutingIterations,g.morphBuffer).forEach(function(Tt){k.push(Tt)}),_.push(mt)});for(var P,I,N,R,L,F=function(mt,Tt,Dt){var Yt={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},Gt=[];mt.forEach(function(ee){Gt.push(ee.getBBox())}),Tt.forEach(function(ee){Gt.push(ee.getBBox())});for(var Kt=0,Zt=Gt;Kt<Zt.length;Kt++){var Wt=Zt[Kt];Yt.minX=(Wt.minX<Yt.minX?Wt.minX:Yt.minX)-Dt,Yt.minY=(Wt.minY<Yt.minY?Wt.minY:Yt.minY)-Dt,Yt.maxX=(Wt.maxX>Yt.maxX?Wt.maxX:Yt.maxX)+Dt,Yt.maxY=(Wt.maxY>Yt.maxY?Wt.maxY:Yt.maxY)+Dt}return Yt.width=Yt.maxX-Yt.minX,Yt.height=Yt.maxY-Yt.minY,Yt.x=Yt.minX,Yt.y=Yt.minY,Yt}(e,k,g.nodeR0),z=(P=F.width,I=F.height,N=g.pixelGroupSize,R=Math.ceil(P/N),L=Math.ceil(I/N),{cells:new Float32Array(Math.max(0,R*L)).fill(0),width:R,height:L}),q=[],nt=[],et=0;et<g.maxMarchingIterations;et++)if(Tc(e,t,k,F,z,g),nt=[],new Cc(q=[],z,g.threshold).march()){var st=q.map(function(mt){return{x:Math.round(mt.x*g.pixelGroupSize+F.minX),y:Math.round(mt.y*g.pixelGroupSize+F.minY)}});if(st){var dt=st.length;if(g.skip>1)for(dt=Math.floor(st.length/g.skip);dt<3&&g.skip>1;)g.skip-=1,dt=Math.floor(st.length/g.skip);for(var Ot=0,bt=0;bt<dt;bt+=1,Ot+=g.skip)nt.push({x:st[Ot].x,y:st[Ot].y})}if(nt&&function(){for(var mt=0,Tt=e;mt<Tt.length;mt++){var Dt=Tt[mt],Yt=nt.map(function(Gt){return[Gt.x,Gt.y]});if(!ln(Yt,Dt.getBBox().centerX,Dt.getBBox().centerY))return!1}return!0}())return nt;if(g.threshold*=.9,et<=.5*g.maxMarchingIterations)g.memberInfluenceFactor*=1.2,g.edgeInfluenceFactor*=1.2;else{if(!(g.nonMemberInfluenceFactor!==0&&t.length>0))break;g.nonMemberInfluenceFactor*=.8}}return nt};function Tc(S,e,t,l,g,w){function _(L,F){var z=Math.floor((L-F)/w.pixelGroupSize);return z<0?0:z}function k(L,F){return L*w.pixelGroupSize+F}var P=(w.nodeR0-w.nodeR1)*(w.nodeR0-w.nodeR1),I=(w.edgeR0-w.edgeR1)*(w.edgeR0-w.edgeR1),N=function(F,z){return[Math.min(_(F.minX,z+l.minX),g.width),Math.min(_(F.minY,z+l.minY),g.height),Math.min(_(F.maxX,-z+l.minX),g.width),Math.min(_(F.maxY,-z+l.minY),g.height)]},R=function(F,z){for(var q=F.getBBox(),nt=N(q,w.nodeR1),et=nt[0],st=nt[1],dt=nt[2],Ot=nt[3],bt=st;bt<Ot;bt+=1)for(var mt=et;mt<dt;mt+=1)if(!(z<0&&g[mt+bt*g.width]<=0)){var Tt=k(mt,l.minX),Dt=k(bt,l.minY),Yt=oe({x:Tt,y:Dt},{x:q.minX,y:q.minY,width:q.width,height:q.height});if(Yt<Math.pow(w.nodeR1,2)){var Gt=Math.sqrt(Yt)-w.nodeR1;g.cells[mt+bt*g.width]+=z*Gt*Gt}}};w.nodeInfluenceFactor&&S.forEach(function(L){R(L,w.nodeInfluenceFactor/P)}),w.edgeInfluenceFactor&&t.forEach(function(L){(function(F,z){for(var q=F.getBBox(),nt=N(q,w.edgeR1),et=nt[0],st=nt[1],dt=nt[2],Ot=nt[3],bt=st;bt<Ot;bt+=1)for(var mt=et;mt<dt;mt+=1)if(!(z<0&&g.cells[mt+bt*g.width]<=0)){var Tt=k(mt,l.minX),Dt=k(bt,l.minY),Yt=lr({x:Tt,y:Dt},F);if(Yt<Math.pow(w.edgeR1,2)){var Gt=Math.sqrt(Yt)-w.edgeR1;g.cells[mt+bt*g.width]+=z*Gt*Gt}}})(L,w.edgeInfluenceFactor/I)}),w.negativeNodeInfluenceFactor&&e.forEach(function(L){R(L,w.negativeNodeInfluenceFactor/P)})}function Ya(S,e,t,l){var g=S.getBBox(),w=t[0],_=t[1],k=t[2],P=t[3],I={topLeft:{x:g.minX-e,y:g.minY-e},topRight:{x:g.maxX+e,y:g.minY-e},bottomLeft:{x:g.minX-e,y:g.maxY+e},bottomRight:{x:g.maxX+e,y:g.maxY+e}},N=g.height*g.width;function R(L,F){return g.width*(.5*(L.y-g.minY+(F.y-g.minY)))}if(_)return w?l?I.topLeft:I.bottomRight:k?l?I.bottomLeft:I.topRight:R(_,P)<.5*N?_.y>P.y?l?I.topLeft:I.bottomRight:l?I.topRight:I.bottomLeft:_.y<P.y?l?I.bottomLeft:I.topRight:l?I.bottomRight:I.topLeft;if(P){if(w)return l?I.topRight:I.bottomLeft;if(k)return l?I.bottomRight:I.topLeft}return R(w,k)<.5*N?w.x>k.x?l?I.topLeft:I.bottomRight:l?I.bottomLeft:I.topRight:w.x<k.x?l?I.topRight:I.bottomLeft:l?I.bottomRight:I.topLeft}var Nc=function(){function S(e,t){this.cfg=Object(ct.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(l){return Object(ct.isString)(l)?e.findById(l):l}),this.nonMembers=this.cfg.nonMembers.map(function(l){return Object(ct.isString)(l)?e.findById(l):l}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return S.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},S.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},S.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},S.prototype.calcPath=function(e,t){var l,g,w;switch(this.type){case"round-convex":g=Ht(w=de((l=La(e)).map(function(_){return[_.x,_.y]}),this.padding));break;case"smooth-convex":w=ke((l=La(e)).map(function(_){return[_.x,_.y]}),this.padding),g=l.length>=2&&Lt(w);break;case"bubble":g=(l=Ic(e,t,this.cfg.bubbleCfg)).length>=2&&Lt(l)}return g},S.prototype.render=function(){this.group.addShape("path",{attrs:Object(T.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},S.prototype.addMember=function(e){if(e){Object(ct.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},S.prototype.addNonMember=function(e){if(e){Object(ct.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},S.prototype.removeMember=function(e){if(e){Object(ct.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1&&(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},S.prototype.removeNonMember=function(e){if(e){Object(ct.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1&&(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0)}},S.prototype.updateData=function(e,t){var l=this;this.group.findById(this.id).remove(),e&&(this.members=e.map(function(g){return Object(ct.isString)(g)?l.graph.findById(g):g})),t&&(this.nonMembers=t.map(function(g){return Object(ct.isString)(g)?l.graph.findById(g):g})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},S.prototype.updateStyle=function(e){this.group.findById(this.id).attr(Object(T.__assign)({},e))},S.prototype.updateCfg=function(e){var t=this;this.cfg=Object(ct.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map(function(l){return Object(ct.isString)(l)?t.graph.findById(l):l})),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(l){return Object(ct.isString)(l)?t.graph.findById(l):l})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},S.prototype.contain=function(e){var t,l,g=this,w=(t=Object(ct.isString)(e)?this.graph.findById(e):e).getKeyShape();if(t.get("type")==="path")l=wt(w.attr("path"));else{var _=w.getCanvasBBox();l=[[_.minX,_.minY],[_.maxX,_.minY],[_.maxX,_.maxY],[_.minX,_.maxY]]}return l=l.map(function(k){var P=g.graph.getPointByCanvas(k[0],k[1]);return[P.x,P.y]}),Jn(l,wt(this.path))},S.prototype.destroy=function(){this.group.remove(),this.cfg=null},S}(),ho=function(S){function e(t){var l=S.call(this)||this;return l.cfg=Object(ct.deepMix)(l.getDefaultCfg(),t),l.init(),l.animating=!1,l.destroyed=!1,l.cfg.enabledStack&&(l.undoStack=new Da(l.cfg.maxStep),l.redoStack=new Da(l.cfg.maxStep)),l}return Object(T.__extends)(e,S),e.prototype.init=function(){this.initCanvas();var t=new eu(this),l=new Qs(this),g=new $s(this),w=new gu(this),_=new Oc(this),k=new Ec(this),P=new kc(this);this.set({eventController:t,viewController:l,modeController:g,itemController:w,layoutController:_,stateController:k,customGroupControll:P}),this.initPlugin()},e.prototype.initCanvas=function(){var t=this.get("container");if(Object(ct.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var l,g=this.get("width"),w=this.get("height");if(this.get("renderer")==="svg")l=new Pr.a({container:t,width:g,height:w});else{var _={container:t,width:g,height:w},k=this.get("pixelRatio");k&&(_.pixelRatio=k),l=new Xn.a(_)}this.set("canvas",l),this.initGroups()},e.prototype.initPlugin=function(){var t=this;Object(ct.each)(t.get("plugins"),function(l){!l.destroyed&&l.initPlugin&&l.initPlugin(t)})},e.prototype.initGroups=function(){var t=this.get("canvas"),l=this.get("canvas").get("el").id,g=t.addGroup({id:l+"-root",className:tt.rootContainerClassName});if(this.get("groupByTypes")){var w=g.addGroup({id:l+"-edge",className:tt.edgeContainerClassName}),_=g.addGroup({id:l+"-node",className:tt.nodeContainerClassName}),k=g.addGroup({id:l+"-combo",className:tt.comboContainerClassName}),P=g.addGroup({id:l+"-group",className:tt.customGroupContainerClassName});P.toBack(),k.toBack(),this.set({nodeGroup:_,edgeGroup:w,customGroup:P,comboGroup:k})}var I=g.addGroup({id:l+"-delegate",className:tt.delegateContainerClassName});this.set({delegateGroup:I}),this.set("group",g)},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},e.prototype.set=function(t,l){return Object(ct.isPlainObject)(t)?this.cfg=Object(T.__assign)(Object(T.__assign)({},this.cfg),t):this.cfg[t]=l,this},e.prototype.get=function(t){return this.cfg[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,l){Object(ct.isString)(t)&&(t=this.findById(t));var g=this.get("itemController");l||(l=t.get("states")),g.clearItemStates(t,l),this.get("stateController").updateStates(t,l,!1)},e.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},e.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},e.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,l){var g,w=this.get(t+"s");return Object(ct.each)(w,function(_,k){if(l(_,k))return g=_}),g},e.prototype.findAll=function(t,l){var g=[];return Object(ct.each)(this.get(t+"s"),function(w,_){l(w,_)&&g.push(w)}),g},e.prototype.findAllByState=function(t,l){return this.findAll(t,function(g){return g.hasState(l)})},e.prototype.translate=function(t,l){var g=this.get("group"),w=Object(ct.clone)(g.getMatrix());w||(w=[1,0,0,0,1,0,0,0,1]),Hn.mat3.translate(w,w,[t,l]),g.setMatrix(w),this.emit("viewportchange",{action:"translate",matrix:g.getMatrix()}),this.autoPaint()},e.prototype.moveTo=function(t,l){var g=this.get("group");an(g,{x:t,y:l}),this.emit("viewportchange",{action:"move",matrix:g.getMatrix()})},e.prototype.fitView=function(t){t&&this.set("fitViewPadding",t),this.get("viewController").fitView(),this.autoPaint()},e.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},e.prototype.addBehaviors=function(t,l){return this.get("modeController").manipulateBehaviors(t,l,!0),this},e.prototype.removeBehaviors=function(t,l){return this.get("modeController").manipulateBehaviors(t,l,!1),this},e.prototype.zoom=function(t,l){var g=this.get("group"),w=Object(ct.clone)(g.getMatrix()),_=this.get("minZoom"),k=this.get("maxZoom");w||(w=[1,0,0,0,1,0,0,0,1]),l?(Hn.mat3.translate(w,w,[-l.x,-l.y]),Hn.mat3.scale(w,w,[t,t]),Hn.mat3.translate(w,w,[l.x,l.y])):Hn.mat3.scale(w,w,[t,t]),_&&w[0]<_||k&&w[0]>k||(g.setMatrix(w),this.emit("viewportchange",{action:"zoom",matrix:w}),this.autoPaint())},e.prototype.zoomTo=function(t,l){var g=t/this.getZoom();this.zoom(g,l)},e.prototype.focusItem=function(t,l,g){var w=this.get("viewController"),_=!1;l?_=!0:l===void 0&&(_=this.get("animate"));var k={};g?k=g:g===void 0&&(k=this.get("animateCfg")),w.focus(t,_,k),this.autoPaint()},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,l){return this.get("viewController").getPointByClient(t,l)},e.prototype.getClientByPoint=function(t,l){return this.get("viewController").getClientByPoint(t,l)},e.prototype.getPointByCanvas=function(t,l){return this.get("viewController").getPointByCanvas(t,l)},e.prototype.getCanvasByPoint=function(t,l){return this.get("viewController").getCanvasByPoint(t,l)},e.prototype.showItem=function(t,l){l===void 0&&(l=!0);var g=this.get("itemController").changeItemVisibility(t,!0);if(l&&this.get("enabledStack")){var w=g.getID(),_={},k={};switch(g.getType()){case"node":_.nodes=[{id:w,visible:!1}],k.nodes=[{id:w,visible:!0}];break;case"edge":_.nodes=[{id:w,visible:!1}],k.edges=[{id:w,visible:!0}];break;case"combo":_.nodes=[{id:w,visible:!1}],k.combos=[{id:w,visible:!0}]}this.pushStack("visible",{before:_,after:k})}},e.prototype.hideItem=function(t,l){l===void 0&&(l=!0);var g=this.get("itemController").changeItemVisibility(t,!1);if(l&&this.get("enabledStack")){var w=g.getID(),_={},k={};switch(g.getType()){case"node":_.nodes=[{id:w,visible:!0}],k.nodes=[{id:w,visible:!1}];break;case"edge":_.nodes=[{id:w,visible:!0}],k.edges=[{id:w,visible:!1}];break;case"combo":_.nodes=[{id:w,visible:!0}],k.combos=[{id:w,visible:!1}]}this.pushStack("visible",{before:_,after:k})}},e.prototype.refreshItem=function(t){this.get("itemController").refreshItem(t)},e.prototype.setAutoPaint=function(t){this.set("autoPaint",t),this.get("canvas").set("autoDraw",t)},e.prototype.remove=function(t,l){l===void 0&&(l=!0),this.removeItem(t,l)},e.prototype.removeItem=function(t,l){l===void 0&&(l=!0);var g=t;if(Object(ct.isString)(t)&&(g=this.findById(t)),!g&&Object(ct.isString)(t))console.warn("The item to be removed does not exist!"),this.get("customGroupControll").remove(t);else if(g){var w="";if(g.getType&&(w=g.getType()),l&&this.get("enabledStack")){var _=Object(T.__assign)(Object(T.__assign)({},g.getModel()),{itemType:w}),k={};switch(w){case"node":k.nodes=[_],k.edges=[];for(var P=g.getEdges(),I=P.length-1;I>=0;I--)k.edges.push(Object(T.__assign)(Object(T.__assign)({},P[I].getModel()),{itemType:"edge"}));break;case"edge":k.edges=[_];break;case"combo":k.combos=[_]}this.pushStack("delete",{before:k,after:{}})}if(this.get("itemController").removeItem(t),w==="combo"){var N=Wi(this.get("comboTrees"));this.set("comboTrees",N)}}},e.prototype.addItem=function(t,l,g,w){g===void 0&&(g=!0),w===void 0&&(w=!0);var _=this.get("comboSorted");this.set("comboSorted",_&&!w);var k=this.get("itemController");if(t==="group"){var P=l.groupId,I=l.nodes,N=l.type,R=l.zIndex,L=l.title,F=L;return Object(ct.isString)(L)&&(F={text:L}),this.get("customGroupControll").create(P,I,N,R,!0,F)}if(!l.id||!this.findById(l.id)){var z,q=this.get("comboTrees");if(q||(q=[]),t==="combo"){var nt=this.get("itemMap"),et=!1;if(q.forEach(function(Gt){et||Rn(Gt,function(Kt){if(l.parentId===Kt.id){et=!0;var Zt=Object(T.__assign)({id:l.id,depth:Kt.depth+2},l);Kt.children?Kt.children.push(Zt):Kt.children=[Zt],l.depth=Zt.depth,z=k.addItem(t,l)}var Wt=nt[Kt.id];return et&&Wt&&Wt.getType&&Wt.getType()==="combo"&&k.updateCombo(Wt,Kt.children),!0})}),!et){var st=Object(T.__assign)({id:l.id,depth:0},l);l.depth=st.depth,q.push(st),z=k.addItem(t,l)}this.set("comboTrees",q)}else if(t==="node"&&Object(ct.isString)(l.comboId)&&q){var dt;if((dt=this.findById(l.comboId))&&dt.getType&&dt.getType()!=="combo")return void console.warn("'"+l.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");z=k.addItem(t,l);var Ot=this.get("itemMap"),bt=!1,mt=!1;(q||[]).forEach(function(Gt){mt||bt||Rn(Gt,function(Kt){if(Kt.id===l.id)return mt=!0,!1;if(l.comboId===Kt.id&&!mt){bt=!0;var Zt=Object(ct.clone)(l);Zt.itemType="node",Kt.children?Kt.children.push(Zt):Kt.children=[Zt],l.depth=Kt.depth+1}return bt&&Ot[Kt.id].getType&&Ot[Kt.id].getType()==="combo"&&k.updateCombo(Ot[Kt.id],Kt.children),!0})})}else z=k.addItem(t,l);(t==="node"&&l.comboId||t==="combo"&&l.parentId)&&(dt=this.findById(l.comboId||l.parentId))&&dt.addChild(z);var Tt=this.get("combos");if(Tt&&Tt.length>0&&this.sortCombos(),this.autoPaint(),g&&this.get("enabledStack")){var Dt=Object(T.__assign)(Object(T.__assign)({},z.getModel()),{itemType:t}),Yt={};switch(t){case"node":Yt.nodes=[Dt];break;case"edge":Yt.edges=[Dt];break;case"combo":Yt.combos=[Dt]}this.pushStack("add",{before:{},after:Yt})}return z}console.warn("This item exists already. Be sure the id %c"+l.id+"%c is unique.","font-size: 20px; color: red;","")},e.prototype.add=function(t,l,g,w){return g===void 0&&(g=!0),w===void 0&&(w=!0),this.addItem(t,l,g,w)},e.prototype.updateItem=function(t,l,g){var w=this;g===void 0&&(g=!0);var _,k=this.get("itemController");_=Object(ct.isString)(t)?this.findById(t):t;var P=Object(ct.clone)(_.getModel()),I="";_.getType&&(I=_.getType());var N=Object(T.__spreadArrays)(_.getStates());if(I==="combo"&&Object(ct.each)(N,function(z){return w.setItemState(_,z,!1)}),k.updateItem(_,l),I==="combo"&&Object(ct.each)(N,function(z){return w.setItemState(_,z,!0)}),g&&this.get("enabledStack")){var R={nodes:[],edges:[],combos:[]},L={nodes:[],edges:[],combos:[]},F=Object(T.__assign)({id:P.id},l);switch(I){case"node":R.nodes.push(P),L.nodes.push(F);break;case"edge":R.edges.push(P),L.edges.push(F);break;case"combo":R.combos.push(P),L.combos.push(F)}I==="node"&&R.nodes.push(P),this.pushStack("update",{before:R,after:L})}},e.prototype.update=function(t,l,g){g===void 0&&(g=!0),this.updateItem(t,l,g)},e.prototype.setItemState=function(t,l,g){Object(ct.isString)(t)&&(t=this.findById(t)),this.get("itemController").setItemState(t,l,g);var w=this.get("stateController");Object(ct.isString)(g)?w.updateState(t,l+":"+g,!0):w.updateState(t,l,g)},e.prototype.priorityState=function(t,l){this.get("itemController").priorityState(t,l)},e.prototype.data=function(t){this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var l=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!l)throw new Error("data must be defined first");var g=l.nodes,w=g===void 0?[]:g,_=l.edges,k=_===void 0?[]:_,P=l.combos,I=P===void 0?[]:P;if(this.clear(),this.emit("beforerender"),Object(ct.each)(w,function(z){t.add("node",z,!1,!1)}),I&&I.length!==0){var N=qi(I,w);this.set("comboTrees",N),t.addCombos(I)}Object(ct.each)(k,function(z){t.add("edge",z,!1,!1)});var R=t.get("animate");function L(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",R)}if((t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1),t.get("layoutController").layout(L)||L(),this.get("groupByTypes")||(I&&I.length!==0?this.sortCombos():l.nodes&&l.edges&&l.nodes.length<l.edges.length?this.getNodes().forEach(function(z){z.toFront()}):this.getEdges().forEach(function(z){z.toBack()})),l.nodes&&l.nodes.filter(function(z){return z.groupId}).length>0){var F=t.get("groupType");this.renderCustomGroup(l,F)}this.get("enabledStack")&&this.pushStack("render")},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,l,g){var w,_=this,k=this.get("itemMap");Object(ct.each)(g,function(P){if(w=k[P.id]){if(_.get("animate")&&t==="node"){var I=w.getContainer().getMatrix();I||(I=[1,0,0,0,1,0,0,0,1]),w.set("originAttrs",{x:I[6],y:I[7]})}_.updateItem(w,P,!1)}else w=_.addItem(t,P,!1);l[t+"s"].push(w)})},e.prototype.changeData=function(t,l){l===void 0&&(l=!0);var g=this;if(!t)return this;l&&this.get("enabledStack")&&this.pushStack("changedata",{before:g.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(z){return g.clearItemStates(z)}),this.getEdges().map(function(z){return g.clearItemStates(z)});var w=this.get("canvas"),_=w.get("localRefresh");w.set("localRefresh",!1),g.get("data")||(g.data(t),g.render());var k=this.get("itemMap"),P={nodes:[],edges:[]},I=t.combos;if(I){var N=qi(I,t.nodes);this.set("comboTrees",N)}this.diffItems("node",P,t.nodes),Object(ct.each)(k,function(z,q){k[q].getModel().depth=0,z.getType&&z.getType()==="edge"||(z.getType&&z.getType()==="combo"?(delete k[q],z.destroy()):P.nodes.indexOf(z)<0&&(delete k[q],g.remove(z,!1)))});for(var R=this.getCombos(),L=R.length-1;L>=0;L--)R[L].destroyed&&R.splice(L,1);I&&(g.addCombos(I),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",P,t.edges),Object(ct.each)(k,function(z,q){(!z.getType||z.getType()!=="node"&&z.getType()!=="combo")&&P.edges.indexOf(z)<0&&(delete k[q],g.remove(z,!1))}),this.set({nodes:P.nodes,edges:P.edges});var F=this.get("layoutController");return F.changeData(),g.get("animate")&&!F.getLayoutType()?g.positionsAnimate():g.autoPaint(),setTimeout(function(){w.set("localRefresh",_)},16),this},e.prototype.addCombos=function(t){var l=this.get("comboTrees");this.get("itemController").addCombos(l,t)},e.prototype.createCombo=function(t,l){var g=this;this.set("comboSorted",!1);var w,_="";if(t){if(Object(ct.isString)(t))_=t,w={id:t};else{if(!(_=t.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");w=t}var k=l.map(function(I){var N=g.findById(I),R="";N.getType&&(R=N.getType());var L={id:N.getID(),itemType:R};return R==="combo"?L.parentId=_:R==="node"&&(L.comboId=_),L});w.children=k,this.addItem("combo",w,!1),this.set("comboSorted",!1);var P=this.get("comboTrees");(P||[]).forEach(function(I){Rn(I,function(N){return N.id!==_||(N.itemType="combo",N.children=k,!1)})}),P&&this.sortCombos()}},e.prototype.uncombo=function(t){var l,g=this,w=t;if(Object(ct.isString)(t)&&(w=this.findById(t)),!w||w.getType&&w.getType()!=="combo")console.warn("The item is not a combo!");else{var _=w.getModel().parentId,k=this.get("comboTrees");k||(k=[]);var P,I=this.get("itemMap"),N=w.get("id"),R=[],L=this.get("combos"),F=this.findById(_);if(k.forEach(function(q){P||Rn(q,function(nt){var et;if(nt.id===N){P=nt,w.getEdges().forEach(function(dt){g.removeItem(dt,!1)});var st=L.indexOf(t);L.splice(st,1),delete I[N],w.destroy()}return!_||!P||nt.id!==_||(F.removeCombo(w),(st=(R=nt.children).indexOf(P))!==-1&&R.splice(st,1),(et=P.children)===null||et===void 0||et.forEach(function(dt){var Ot=g.findById(dt.id),bt=Ot.getModel();Ot.getType&&Ot.getType()==="combo"?(dt.parentId=_,delete dt.comboId,bt.parentId=_,delete bt.comboId):Ot.getType&&Ot.getType()==="node"&&(dt.comboId=_,bt.comboId=_),F.addChild(Ot),R.push(dt)}),!1)})}),!_&&P){var z=k.indexOf(P);k.splice(z,1),(l=P.children)===null||l===void 0||l.forEach(function(q){q.parentId=void 0,g.findById(q.id).getModel().parentId=void 0,q.itemType!=="node"&&k.push(q)})}}},e.prototype.updateCombos=function(){var t=this,l=this.get("comboTrees"),g=this.get("itemController"),w=this.get("itemMap");(l||[]).forEach(function(_){Rn(_,function(k){if(!k)return!0;var P=w[k.id];if(P&&P.getType&&P.getType()==="combo"){var I=Object(T.__spreadArrays)(P.getStates());Object(ct.each)(I,function(N){return t.setItemState(P,N,!1)}),g.updateCombo(P,k.children),Object(ct.each)(I,function(N){return t.setItemState(P,N,!0)})}return!0})}),this.sortCombos()},e.prototype.updateCombo=function(t){var l,g=this,w=t;if(Object(ct.isString)(t)&&(w=this.findById(t)),!w||w.getType&&w.getType()!=="combo")console.warn("The item to be updated is not a combo!");else{l=w.get("id");var _=this.get("comboTrees"),k=this.get("itemController"),P=this.get("itemMap");(_||[]).forEach(function(I){Rn(I,function(N){if(!N)return!0;var R=P[N.id];if(l===N.id&&R&&R.getType&&R.getType()==="combo"){var L=Object(T.__spreadArrays)(R.getStates());Object(ct.each)(L,function(F){R.getStateStyle(F)&&g.setItemState(R,F,!1)}),k.updateCombo(R,N.children),Object(ct.each)(L,function(F){R.getStateStyle(F)&&g.setItemState(R,F,!0)}),l&&(l=N.parentId)}return!0})})}},e.prototype.updateComboTree=function(t,l){var g;this.set("comboSorted",!1);var w=(g=Object(ct.isString)(t)?this.findById(t):t).getModel(),_=w.comboId||w.parentId;if(l&&g.getType&&g.getType()==="combo"){var k,P=this.get("comboTrees"),I=!0;if((P||[]).forEach(function(z){k||fn(z,function(q){if(!k)return q.id===g.getID()&&(k=q),!0})}),fn(k,function(z){return z.id!==l||(I=!1,!1)}),!I)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(w.parentId||w.comboId){var N=this.findById(w.parentId||w.comboId);N&&N.removeChild(g)}var R,L="";g.getType&&(L=g.getType()),L==="combo"?w.parentId=l:L==="node"&&(w.comboId=l),l&&(R=this.findById(l))&&R.addChild(g),_&&(R=this.findById(_))&&R.removeChild(g);var F=Wi(this.get("comboTrees"),w.id,l);this.set("comboTrees",F),this.updateCombos()},e.prototype.renderCustomGroup=function(t,l){var g=this,w=t.groups,_=t.nodes,k=_===void 0?[]:_,P=10;if(w){this.set({groups:w});var I=function(F){var z=Bo()(F.groups,"id"),q=Bo()(F.groups,"parentId"),nt={};for(var et in q)if(et){var st=q[et],dt=z[et];if(dt&&st){var Ot=Object(T.__spreadArrays)(st,dt);nt[et]=Ot}else st&&(nt[et]=st)}var bt=Object(T.__assign)(Object(T.__assign)({},z),nt),mt={};for(var Tt in bt)Tt&&Tt!=="undefined"&&(st=bt[Tt].map(function(Gt){return Gt.id}),mt[Tt]=st);var Dt={},Yt=function(Kt){if(!Kt||Kt==="undefined")return"continue";for(var Zt=mt[Kt],Wt=[],ee=0,Qt=Zt;ee<Qt.length;ee++){var ue=Qt[ee],ae=bt[ue].map(function(Jt){return Jt.id});Wt.push.apply(Wt,ae)}var he=F.nodes?F.nodes.filter(function(Jt){return Wt.indexOf(Jt.groupId)>-1||Wt.indexOf(Jt.parentId)>-1}).map(function(Jt){return Jt.id}):[];Dt[Kt]=he};for(var Tt in mt)Yt(Tt);return Dt}(t);Object.keys(I).forEach(function(F){var z=I[F];g.get("customGroupControll").create(F,z,l,P),P--}),this.get("customGroup").sort()}else{var N=k.filter(function(F){return F.groupId}),R=[],L=Object(ct.groupBy)(N,"groupId");Object.keys(L).forEach(function(F){var z=L[F].map(function(q){return q.id});g.get("customGroupControll").create(F,z,l,P),P--,R.find(function(q){return q.id===F})||R.push({id:F})}),this.set({groups:R})}},e.prototype.save=function(){var t=[],l=[],g=[];return Object(ct.each)(this.get("nodes"),function(w){t.push(w.getModel())}),Object(ct.each)(this.get("edges"),function(w){l.push(w.getModel())}),Object(ct.each)(this.get("combos"),function(w){g.push(w.getModel())}),{nodes:t,edges:l,combos:g,groups:this.get("groups")}},e.prototype.changeSize=function(t,l){return this.get("viewController").changeSize(t,l),this},e.prototype.refresh=function(){if(this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var t=this.get("nodes"),l=this.get("edges"),g=this.get("edges");Object(ct.each)(t,function(w){w.refresh()}),Object(ct.each)(l,function(w){w.refresh()}),Object(ct.each)(g,function(w){w.refresh()})}this.emit("aftergraphrefresh"),this.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if(Object(ct.isString)(t)&&(t=this.findById(t)),t&&(!t.getType||t.getType()==="combo"))return t.getChildren();console.warn("The combo does not exist!")},e.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var l=t.get("animateCfg"),g=l.onFrame,w=t.getNodes(),_=w.map(function(k){var P=k.getModel();return{id:P.id,x:P.x,y:P.y}});t.isAnimating()&&t.stopAnimate(),t.get("canvas").animate(function(k){Object(ct.each)(_,function(P){var I=t.findById(P.id);if(I&&!I.destroyed){var N=I.get("originAttrs"),R=I.get("model");if(!N){var L=I.getContainer().getMatrix();L||(L=[1,0,0,0,1,0,0,0,1]),N={x:L[6],y:L[7]},I.set("originAttrs",N)}if(g){var F=g(I,k,P,N);I.set("model",Object.assign(R,F))}else R.x=N.x+(P.x-N.x)*k,R.y=N.y+(P.y-N.y)*k}}),t.refreshPositions()},{duration:l.duration,easing:l.easing,callback:function(){Object(ct.each)(w,function(P){P.set("originAttrs",null)}),l.callback&&l.callback(),t.emit("afteranimate"),t.animating=!1}})},e.prototype.refreshPositions=function(){this.emit("beforegraphrefreshposition");var t,l=this.get("nodes"),g=this.get("edges"),w=this.get("vedges"),_=this.get("combos"),k={};Object(ct.each)(l,function(P){t=P.getModel();var I=P.get("originAttrs");I&&t.x===I.x&&t.y===I.y||(P.updatePosition({x:t.x,y:t.y}),k[t.id]=!0,t.comboId&&(k[t.comboId]=!0))}),_&&_.length!==0&&this.updateCombos(),Object(ct.each)(g,function(P){var I=P.getSource().getModel(),N=P.getTarget().getModel();(k[I.id]||k[N.id]||P.getModel().isComboEdge)&&P.refresh()}),Object(ct.each)(w,function(P){P.refresh()}),this.emit("aftergraphrefreshposition"),this.autoPaint()},e.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},e.prototype.setMode=function(t){return this.get("modeController").setMode(t),this},e.prototype.clear=function(){return this.get("canvas").clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},e.prototype.toDataURL=function(t,l){var g=this.get("canvas"),w=g.getRenderer(),_=g.get("el");t||(t="image/png");var k="";if(w==="svg"){var P=_.cloneNode(!0),I=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),N=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",I);N.replaceChild(P,N.documentElement);var R=new XMLSerializer().serializeToString(N);k="data:image/svg+xml;charset=utf8,"+encodeURIComponent(R)}else{var L=void 0,F=_.getContext("2d"),z=this.get("width"),q=this.get("height"),nt=void 0;if(l){var et=window.devicePixelRatio;L=F.getImageData(0,0,z*et,q*et),nt=F.globalCompositeOperation,F.globalCompositeOperation="destination-over",F.fillStyle=l,F.fillRect(0,0,z,q)}k=_.toDataURL(t),l&&(F.clearRect(0,0,z,q),F.putImageData(L,0,0),F.globalCompositeOperation=nt)}return k},e.prototype.toFullDataURL=function(t,l,g){var w=this.get("group").getCanvasBBox(),_=w.height,k=w.width,P=this.get("renderer"),I=be()('<id="virtual-image"></div>'),N=g?g.backgroundColor:void 0,R=g?g.padding:void 0;R?Object(ct.isNumber)(R)&&(R=[R,R,R,R]):R=[0,0,0,0];var L=_+R[0]+R[2],F=k+R[1]+R[3],z={container:I,height:L,width:F,quickHit:!0},q=P==="svg"?new Pr.a(z):new Xn.a(z),nt=this.get("group").clone(),et=Object(ct.clone)(nt.getMatrix());et||(et=[1,0,0,0,1,0,0,0,1]);var st=(w.maxX+w.minX)/2,dt=(w.maxY+w.minY)/2;Hn.mat3.translate(et,et,[-st,-dt]),Hn.mat3.translate(et,et,[k/2+R[3],_/2+R[0]]),nt.resetMatrix(),nt.setMatrix(et),q.add(nt);var Ot=q.get("el"),bt="";l||(l="image/png"),setTimeout(function(){if(P==="svg"){var mt=Ot.cloneNode(!0),Tt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Dt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Tt);Dt.replaceChild(mt,Dt.documentElement);var Yt=new XMLSerializer().serializeToString(Dt);bt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Yt)}else{var Gt=void 0,Kt=Ot.getContext("2d"),Zt=void 0;if(N){var Wt=window.devicePixelRatio;Gt=Kt.getImageData(0,0,F*Wt,L*Wt),Zt=Kt.globalCompositeOperation,Kt.globalCompositeOperation="destination-over",Kt.fillStyle=N,Kt.fillRect(0,0,F,L)}bt=Ot.toDataURL(l),N&&(Kt.clearRect(0,0,F,L),Kt.putImageData(Gt,0,0),Kt.globalCompositeOperation=Zt)}t==null||t(bt)},16)},e.prototype.downloadFullImage=function(t,l,g){var w=this,_=this.get("group").getCanvasBBox(),k=_.height,P=_.width,I=this.get("renderer"),N=be()('<id="virtual-image"></div>'),R=g?g.backgroundColor:void 0,L=g?g.padding:void 0;L?Object(ct.isNumber)(L)&&(L=[L,L,L,L]):L=[0,0,0,0];var F=k+L[0]+L[2],z=P+L[1]+L[3],q={container:N,height:F,width:z},nt=I==="svg"?new Pr.a(q):new Xn.a(q),et=this.get("group").clone(),st=Object(ct.clone)(et.getMatrix());st||(st=[1,0,0,0,1,0,0,0,1]);var dt=(_.maxX+_.minX)/2,Ot=(_.maxY+_.minY)/2;Hn.mat3.translate(st,st,[-dt,-Ot]),Hn.mat3.translate(st,st,[P/2+L[3],k/2+L[0]]),et.resetMatrix(),et.setMatrix(st),nt.add(et);var bt=nt.get("el");l||(l="image/png"),setTimeout(function(){var mt="";if(I==="svg"){var Tt=bt.cloneNode(!0),Dt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Yt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Dt);Yt.replaceChild(Tt,Yt.documentElement);var Gt=new XMLSerializer().serializeToString(Yt);mt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Gt)}else{var Kt=void 0,Zt=bt.getContext("2d"),Wt=void 0;if(R){var ee=window.devicePixelRatio;Kt=Zt.getImageData(0,0,z*ee,F*ee),Wt=Zt.globalCompositeOperation,Zt.globalCompositeOperation="destination-over",Zt.fillStyle=R,Zt.fillRect(0,0,z,F)}mt=bt.toDataURL(l),R&&(Zt.clearRect(0,0,z,F),Zt.putImageData(Kt,0,0),Zt.globalCompositeOperation=Wt)}var Qt=document.createElement("a"),ue=(t||"graph")+(I==="svg"?".svg":"."+l.split("/")[1]);w.dataURLToImage(mt,I,Qt,ue);var ae=document.createEvent("MouseEvents");ae.initEvent("click",!1,!1),Qt.dispatchEvent(ae)},16)},e.prototype.downloadImage=function(t,l,g){var w=this,_=this;_.isAnimating()&&_.stopAnimate();var k=_.get("canvas").getRenderer();l||(l="image/png");var P=(t||"graph")+(k==="svg"?".svg":l.split("/")[1]),I=document.createElement("a");setTimeout(function(){var N=_.toDataURL(l,g);w.dataURLToImage(N,k,I,P);var R=document.createEvent("MouseEvents");R.initEvent("click",!1,!1),I.dispatchEvent(R)},16)},e.prototype.dataURLToImage=function(t,l,g,w){if(typeof window!="undefined")if(window.Blob&&window.URL&&l!=="svg"){var _=t.split(","),k="";if(_&&_.length>0){var P=_[0].match(/:(.*?);/);P&&P.length>=2&&(k=P[1])}for(var I=atob(_[1]),N=I.length,R=new Uint8Array(N);N--;)R[N]=I.charCodeAt(N);var L=new Blob([R],{type:k});window.navigator.msSaveBlob?window.navigator.msSaveBlob(L,w):g.addEventListener("click",function(){g.download=w,g.href=window.URL.createObjectURL(L)})}else g.addEventListener("click",function(){g.download=w,g.href=t})},e.prototype.updateLayout=function(t){var l,g=this.get("layoutController");Object(ct.isString)(t)?t={type:l=t}:l=t.type;var w=this.get("layout"),_=w?w.type:void 0;if(l&&_!==l)this.set("layout",t),g.changeLayout(l);else{var k={};Object.assign(k,w,t),k.type=_||"random",this.set("layout",k),g.updateLayoutCfg(k)}},e.prototype.destroyLayout=function(){this.get("layoutController").destroyLayout()},e.prototype.layout=function(){var t=this.get("layoutController"),l=this.get("layout");l&&(l.workerEnabled?t.layout():t.layoutMethod?t.relayout(!0):t.layout())},e.prototype.collapseCombo=function(t){var l=this;if(Object(ct.isString)(t)&&(t=this.findById(t)),t){var g=t.getModel();this.get("itemController").collapseCombo(t),g.collapsed=!0;var w=this.getEdges().concat(this.get("vedges")),_=[],k=[],P=this.get("comboTrees"),I=!1,N={};(P||[]).forEach(function(F){N[F.id]=F}),(P||[]).forEach(function(F){I||fn(F,function(z){if(I&&N[z.id])return!1;if(g.parentId===z.id?(N={},z.children.forEach(function(nt){N[nt.id]=nt})):g.id===z.id&&(I=!0),I){var q=l.findById(z.id);q&&q.getType&&q.getType()==="combo"&&(_=_.concat(q.getNodes()),k=k.concat(q.getCombos()))}return!0})});var R={},L=[];w.forEach(function(F){if(!F.isVisible()||F.getModel().isVEdge){var z=F.getSource(),q=F.getTarget();if((_.includes(z)||k.includes(z))&&!_.includes(q)&&!k.includes(q)||z.getModel().id===g.id){if((dt=F.getModel()).isVEdge)return void l.removeItem(F,!1);for(var nt=q.getModel();!q.isVisible();){if(!(q=l.findById(nt.parentId||nt.comboId))||!nt.parentId&&!nt.comboId)return;nt=q.getModel()}var et=nt.id;if(R[g.id+"-"+et])return void(R[g.id+"-"+et]+=dt.size||1);var st=l.addItem("vedge",{source:g.id,target:et,isVEdge:!0},!1);R[g.id+"-"+et]=dt.size||1,L.push(st)}else if(!_.includes(z)&&!k.includes(z)&&(_.includes(q)||k.includes(q))||q.getModel().id===g.id){var dt;if((dt=F.getModel()).isVEdge)return void l.removeItem(F,!1);for(var Ot=z.getModel();!z.isVisible();){if(!(z=l.findById(Ot.parentId||Ot.comboId))||!Ot.parentId&&!Ot.comboId)return;Ot=z.getModel()}var bt=Ot.id;if(R[bt+"-"+g.id])return void(R[bt+"-"+g.id]+=dt.size||1);st=l.addItem("vedge",{target:g.id,source:bt,isVEdge:!0},!1),R[bt+"-"+g.id]=dt.size||1,L.push(st)}}}),L.forEach(function(F){var z=F.getModel();l.updateItem(F,{size:R[z.source+"-"+z.target]},!1)})}else console.warn("The combo to be collapsed does not exist!")},e.prototype.expandCombo=function(t){var l=this;if(Object(ct.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo")console.warn("The combo to be collapsed does not exist!");else{var g=t.getModel();this.get("itemController").expandCombo(t),g.collapsed=!1;var w=this.getEdges().concat(this.get("vedges")),_=[],k=[],P=this.get("comboTrees"),I=!1,N={};(P||[]).forEach(function(F){N[F.id]=F}),(P||[]).forEach(function(F){I||fn(F,function(z){if(I&&N[z.id])return!1;if(g.parentId===z.id?(N={},z.children.forEach(function(nt){N[nt.id]=nt})):g.id===z.id&&(I=!0),I){var q=l.findById(z.id);q&&q.getType&&q.getType()==="combo"&&(_=_.concat(q.getNodes()),k=k.concat(q.getCombos()))}return!0})});var R={},L={};w.forEach(function(F){if(!F.isVisible()||F.getModel().isVEdge){var z=F.getSource(),q=F.getTarget(),nt=z.get("id"),et=q.get("id");if((_.includes(z)||k.includes(z))&&!_.includes(q)&&!k.includes(q)||nt===g.id){if(F.getModel().isVEdge)return void l.removeItem(F,!1);for(var st=q.getModel();!q.isVisible();){if(!(q=l.findById(st.comboId||st.parentId))||!st.parentId&&!st.comboId)return;st=q.getModel()}et=st.id;for(var dt=z.getModel();!z.isVisible();){if(!(z=l.findById(dt.comboId||dt.parentId))||!dt.parentId&&!dt.comboId)return;if(dt.comboId===g.id||dt.parentId===g.id)break;dt=z.getModel()}if(nt=dt.id,et){if(R[bt=nt+"-"+et])return R[bt]+=F.getModel().size||1,void l.updateItem(L[bt],{size:R[bt]},!1);var Ot=l.addItem("vedge",{source:nt,target:et,isVEdge:!0},!1);R[bt]=F.getModel().size||1,L[bt]=Ot}}else if(!_.includes(z)&&!k.includes(z)&&(_.includes(q)||k.includes(q))||et===g.id){if(F.getModel().isVEdge)return void l.removeItem(F,!1);for(dt=z.getModel();!z.isVisible();){if(!(z=l.findById(dt.comboId||dt.parentId))||!dt.parentId&&!dt.comboId)return;dt=z.getModel()}for(nt=dt.id,st=q.getModel();!q.isVisible();){if(!(q=l.findById(st.comboId||st.parentId))||!st.parentId&&!st.comboId)return;if(st.comboId===g.id||st.parentId===g.id)break;st=q.getModel()}if(et=st.id,nt){var bt;if(R[bt=nt+"-"+et])return R[bt]+=F.getModel().size||1,void l.updateItem(L[bt],{size:R[bt]},!1);Ot=l.addItem("vedge",{target:et,source:nt,isVEdge:!0},!1),R[bt]=F.getModel().size||1,L[bt]=Ot}}else(_.includes(z)||k.includes(z))&&(_.includes(q)||k.includes(q))&&z.isVisible()&&q.isVisible()&&F.show()}})}},e.prototype.collapseExpandCombo=function(t){if(Object(ct.isString)(t)&&(t=this.findById(t)),!t.getType||t.getType()==="combo"){for(var l=t.getModel(),g=this.findById(l.parentId);g;){var w=g.getModel();if(w.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(g=void 0);g=this.findById(w.parentId)}l.collapsed?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},e.prototype.collapseGroup=function(t){this.get("customGroupControll").collapseGroup(t)},e.prototype.expandGroup=function(t){this.get("customGroupControll").expandGroup(t)},e.prototype.addPlugin=function(t){t.destroyed||(this.get("plugins").push(t),t.initPlugin(this))},e.prototype.removePlugin=function(t){var l=this.get("plugins"),g=l.indexOf(t);g>=0&&(t.destroyPlugin(),l.splice(g,1))},e.prototype.sortCombos=function(){var t=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var l=[],g={};(this.get("comboTrees")||[]).forEach(function(w){fn(w,function(_){return l[_.depth]?l[_.depth].push(_.id):l[_.depth]=[_.id],g[_.id]=_.depth,!0})}),(this.getEdges().concat(this.get("vedges"))||[]).forEach(function(w){var _=w.getModel(),k=g[_.source]||0,P=g[_.target]||0,I=Math.max(k,P);l[I]?l[I].push(_.id):l[I]=[_.id]}),l.forEach(function(w){if(w&&w.length)for(var _=w.length-1;_>=0;_--){var k=t.findById(w[_]);k==null||k.toFront()}})}},e.prototype.getNeighbors=function(t,l){var g=t;return Object(ct.isString)(t)&&(g=this.findById(t)),g.getNeighbors(l)},e.prototype.getNodeDegree=function(t,l){l===void 0&&(l=void 0);var g=t;Object(ct.isString)(t)&&(g=this.findById(t));var w=this.get("degrees");w||(w=Ia(this)),this.set("degees",w);var _,k=w[g.getID()];switch(l){case"in":_=k.inDegree;break;case"out":_=k.outDegree;break;case"all":_=k;break;default:_=k.degree}return _},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},e.prototype.pushStack=function(t,l,g){if(t===void 0&&(t="update"),g===void 0&&(g="undo"),this.get("enabledStack")){var w=l?Object(ct.clone)(l):{before:{},after:Object(ct.clone)(this.save())};g==="redo"?this.redoStack.push({action:t,data:w}):this.undoStack.push({action:t,data:w}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !")},e.prototype.getAdjMatrix=function(t,l){t===void 0&&(t=!0),l===void 0&&(l=this.get("directed"));var g=this.get("adjMatrix");return g&&t||(g=ki(this,l),this.set("adjMatrix",g)),g},e.prototype.getShortestPathMatrix=function(t,l){t===void 0&&(t=!0),l===void 0&&(l=this.get("directed"));var g=this.get("adjMatrix"),w=this.get("shortestPathMatrix");return g&&t||(g=ki(this,l),this.set("adjMatrix",g)),w&&t||(w=Ba(this,l),this.set("shortestPathMatrix",w)),w},e.prototype.destroy=function(){this.clear(),this.clearStack(),Object(ct.each)(this.get("plugins"),function(_){_.destroyPlugin()});var t=this.get("tooltips");if(t)for(var l=0;l<t.length;l++){var g=t[l];if(g){var w=g.parentElement;w&&w.removeChild(g)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){var l=this.get("hullGroup"),g=this.get("hullMap");if(g||(g={},this.set("hullMap",g)),l||((l=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",l)),g[t.id])return console.warn("Existed hull id."),g[t.id];var w=l.addGroup({id:t.id+"-container"}),_=new Nc(this,Object(T.__assign)(Object(T.__assign)({},t),{group:w}));return g[_.id]=_,_},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var l;l=Object(ct.isString)(t)?this.getHullById(t):t,delete this.get("hullMap")[l.id],l.destroy()},e.prototype.setImageWaterMarker=function(t,l){t===void 0&&(t=tt.waterMarkerImage);var g=this.get("container");Object(ct.isString)(g)&&(g=document.getElementById(g)),g.style.position||(g.style.position="relative");var w=this.get("graphWaterMarker"),_=Object(ct.deepMix)({},tt.imageWaterMarkerConfig,l),k=_.width,P=_.height,I=_.compatible,N=_.image;if(!w){var R={container:g,width:k,height:P,capture:!1},L=this.get("pixelRatio");L&&(R.pixelRatio=L),w=new Xn.a(R),this.set("graphWaterMarker",w)}w.get("el").style.display="none";var F=w.get("context"),z=N.rotate,q=N.x,nt=N.y;F.rotate(-z*Math.PI/180);var et=new Image;et.crossOrigin="anonymous",et.src=t,et.onload=function(){if(F.drawImage(et,q,nt,N.width,N.height),F.rotate(z*Math.PI/180),I)g.style.cssText="background-image: url("+w.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var st=document.querySelector(".g6-graph-watermarker");st||((st=document.createElement("div")).className="g6-graph-watermarker"),st.className="g6-graph-watermarker",w.destroyed||(st.style.cssText="background-image: url("+w.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",g.appendChild(st))}}},e.prototype.setTextWaterMarker=function(t,l){var g=this.get("container");Object(ct.isString)(g)&&(g=document.getElementById(g)),g.style.position||(g.style.position="relative");var w=this.get("graphWaterMarker"),_=Object(ct.deepMix)({},tt.textWaterMarkerConfig,l),k=_.width,P=_.height,I=_.compatible,N=_.text;if(!w){var R={container:g,width:k,height:P,capture:!1},L=this.get("pixelRatio");L&&(R.pixelRatio=L),w=new Xn.a(R),this.set("graphWaterMarker",w)}w.get("el").style.display="none";var F=w.get("context"),z=N.rotate,q=N.fill,nt=N.fontFamily,et=N.fontSize,st=N.baseline,dt=N.x,Ot=N.y,bt=N.lineHeight;F.rotate(-z*Math.PI/180),F.font=et+"px "+nt,F.fillStyle=q,F.textBaseline=st;for(var mt=t.length-1;mt>=0;mt--)F.fillText(t[mt],dt,Ot+mt*bt);if(F.rotate(z*Math.PI/180),I)g.style.cssText="background-image: url("+w.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Tt=document.querySelector(".g6-graph-watermarker");Tt||((Tt=document.createElement("div")).className="g6-graph-watermarker"),Tt.style.cssText="background-image: url("+w.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",g.appendChild(Tt)}},e}(Br.a),Dc=s(135),Ga=s.n(Dc),za=function(S){function e(t){var l=S.call(this,t)||this;return l.layoutAnimating=!1,l.set("removeList",[]),l.set("layoutMethod",l.getLayout()),l}return Object(T.__extends)(e,S),e.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(l){var g=Ga.a[t.type](l,t);return zo(g),g}:function(l){return Ga.a[t.type](l,t)}):null},e.indexOfChild=function(t,l){var g=-1;return Object(v.each)(t,function(w,_){if(l===w.id)return g=_,!1}),g},e.prototype.getDefaultCfg=function(){var t=S.prototype.getDefaultCfg.call(this);return t.animate=!0,t},e.prototype.innerAddChild=function(t,l,g){var w=this,_=t.data;_&&(_.x=t.x,_.y=t.y,_.depth=t.depth);var k=w.addItem("node",_,!1);if(l){if(k.set("parent",l),g){var P=l.get("originAttrs");if(P)k.set("originAttrs",P);else{var I=l.getModel();k.set("originAttrs",{x:I.x,y:I.y})}}var N=l.get("children");N?N.push(k):l.set("children",[k]),w.addItem("edge",{source:l,target:k,id:l.get("id")+":"+k.get("id")},!1)}return Object(v.each)(t.children||[],function(R){w.innerAddChild(R,k,g)}),w.emit("afteraddchild",{item:k,parent:l}),k},e.prototype.innerUpdateChild=function(t,l,g){var w=this,_=w.findById(t.id);if(_){Object(v.each)(t.children||[],function(F){w.innerUpdateChild(F,_,g)});var k,P,I=_.get("children");if(I&&I.length>0)for(var N=I.length-1;N>=0;N--){var R=I[N].getModel();e.indexOfChild(t.children||[],R.id)===-1&&(w.innerRemoveChild(R.id,{x:t.x,y:t.y},g),I.splice(N,1))}_.get("originAttrs")&&(k=_.get("originAttrs").x,P=_.get("originAttrs").y);var L=_.getModel();g&&_.set("originAttrs",{x:L.x,y:L.y}),_.set("model",t.data),k===t.x&&P===t.y||_.updatePosition({x:t.x,y:t.y})}else w.innerAddChild(t,l,g)},e.prototype.innerRemoveChild=function(t,l,g){var w=this,_=w.findById(t);if(_)if(Object(v.each)(_.get("children"),function(P){w.innerRemoveChild(P.getModel().id,l,g)}),g){var k=_.getModel();_.set("to",l),_.set("originAttrs",{x:k.x,y:k.y}),w.get("removeList").push(_)}else w.removeItem(_)},e.prototype.changeData=function(t){var l=this;this.getNodes().map(function(g){return l.clearItemStates(g)}),this.getEdges().map(function(g){return l.clearItemStates(g)}),t?(l.data(t),l.render()):l.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon"),this.updateLayout(t)},e.prototype.updateLayout=function(t){t?(this.set("layout",t),this.set("layoutMethod",this.getLayout()),this.layout()):console.warn("layout cannot be null")},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon"),this.layout(t)},e.prototype.layout=function(t){var l=this.get("data"),g=this.get("layoutMethod")(l,this.get("layout")),w=this.get("animate");this.emit("beforerefreshlayout",{data:l,layoutData:g}),this.emit("beforelayout"),this.innerUpdateChild(g,void 0,w),t&&this.get("viewController").fitView(),w?this.layoutAnimate(g):(this.refresh(),this.paint()),this.emit("afterrefreshlayout",{data:l,layoutData:g}),this.emit("afterlayout")},e.prototype.addChild=function(t,l){this.emit("beforeaddchild",{model:t,parent:l}),Object(v.isString)(l)||(l=l.get("id"));var g=this.findDataById(l);g&&(g.children||(g.children=[]),g.children.push(t),this.changeData())},e.prototype.updateChild=function(t,l){if(l&&this.findById(l)){var g=this.findById(l).getModel(),w=this.findById(t.id);if(g.children||(g.children=[]),w){var _=e.indexOfChild(g.children,t.id);g.children[_]=t}else g.children.push(t);this.changeData()}else this.changeData(t)},e.prototype.removeChild=function(t){var l=this.findById(t);if(l){var g=l.get("parent");if(g&&!g.destroyed){var w=this.findDataById(g.get("id")),_=w&&w.children||[],k=l.getModel(),P=e.indexOfChild(_,k.id);_.splice(P,1)}this.changeData()}},e.prototype.findDataById=function(t,l){var g=this;if(l||(l=g.get("data")),t===l.id)return l;var w=null;return Object(v.each)(l.children||[],function(_){return _.id===t?(w=_,!1):!(w=g.findDataById(t,_))&&void 0}),w},e.prototype.layoutAnimate=function(t,l){var g=this,w=this.get("animateCfg");g.emit("beforeanimate",{data:t}),g.getEdges().forEach(function(_){var k=_.get("model");k.sourceAnchor||(k.sourceAnchor=_.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(_){fn(t,function(k){var P=g.findById(k.id);if(P){var I=P.get("originAttrs"),N=P.get("model");if(I||(I={x:N.x,y:N.y},P.set("originAttrs",I)),l){var R=l(P,_,I,t);P.set("model",Object.assign(N,R))}else N.x=I.x+(k.x-I.x)*_,N.y=I.y+(k.y-I.y)*_}return!0}),Object(v.each)(g.get("removeList"),function(k){var P=k.getModel(),I=k.get("originAttrs"),N=k.get("to");P.x=I.x+(N.x-I.x)*_,P.y=I.y+(N.y-I.y)*_}),g.refreshPositions()},{duration:w.duration,easing:w.ease,callback:function(){Object(v.each)(g.getNodes(),function(k){k.set("originAttrs",null)}),Object(v.each)(g.get("removeList"),function(k){g.removeItem(k)}),g.set("removeList",[]),w.callback&&w.callback(),g.emit("afteranimate",{data:t})},delay:w.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(){if(!this.get("data"))throw new Error("data must be defined first");this.clear(),this.emit("beforerender"),this.layout(this.get("fitView")),this.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e}(ho),Pi=["startArrow","endArrow"],lo={options:{},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e){return Object(ct.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){var l=this.drawShape(e,t);return l.set("className",this.itemType+"-shape"),e.label&&this.drawLabel(e,t).set("className",this.itemType+"-label"),l},afterDraw:function(e,t,l){},drawShape:function(e,t){return null},drawLabel:function(e,t){var l=this.getOptions(e).labelCfg||{},g=this.getLabelStyle(e,l,t),w=g.rotate;delete g.rotate;var _=t.addShape("text",{attrs:g,draggable:!0,className:"text-shape",name:"text-shape"});if(w){var k=_.getBBox(),P=_.getMatrix();if(P||(P=[1,0,0,0,1,0,0,0,1]),g.rotateCenter)switch(g.rotateCenter){case"center":P=pe(P,[["t",-k.width/2,-k.height/2],["r",w],["t",k.width/2,k.height/2]]);break;case"lefttop":P=pe(P,[["t",-g.x,-g.y],["r",w],["t",g.x,g.y]]);break;case"leftcenter":P=pe(P,[["t",-g.x,-g.y-k.height/2],["r",w],["t",g.x,g.y+k.height/2]]);break;default:P=pe(P,[["t",-k.width/2,-k.height/2],["r",w],["t",k.width/2,k.height/2]])}else P=pe(P,[["t",-g.x,-g.y-k.height/2],["r",w],["t",g.x,g.y+k.height/2]]);_.setMatrix(P)}if(g.background){var I=this.drawLabelBg(e,t,_),N=this.itemType+"-label-bg";I.set("classname",N),_.toFront()}return _},drawLabelBg:function(e,t,l){var g=this.options.labelCfg,w=Object(ct.mix)({},g,e.labelCfg),_=this.getLabelBgStyleByPosition(l,e,w,t);return t.addShape("rect",{name:"text-bg-shape",attrs:_})},getLabelStyleByPosition:function(e,t,l){return{text:e.label}},getLabelBgStyleByPosition:function(e,t,l,g){return{}},getLabelStyle:function(e,t,l){var g=this.getLabelStyleByPosition(e,t,l),w=this.itemType+"Label",_=tt[w]?tt[w].style:null;return Object(T.__assign)(Object(T.__assign)(Object(T.__assign)({},_),g),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t){this.updateShapeStyle(e,t),this.updateLabel(e,t)},updateShapeStyle:function(e,t){var l=t.getContainer(),g=t.getKeyShape(),w=Object(ct.mix)({},g.attr(),e.style),_=function(I){var N,R=w[I];if(Object(ct.isPlainObject)(R)){var L=l.find(function(F){return F.get("name")===I});L&&L.attr(R)}else g.attr(((N={})[I]=R,N))};for(var k in w)_(k)},updateLabel:function(e,t){var l=t.getContainer(),g=this.getOptions({}).labelCfg,w=this.itemType+"-label",_=l.find(function(dt){return dt.get("className")===w}),k=this.itemType+"-label-bg",P=l.find(function(dt){return dt.get("classname")===k});if(e.label||e.label==="")if(_){var I={};t.getModel&&(I=t.getModel().labelCfg);var N=Object(ct.deepMix)({},g,I,e.labelCfg),R=this.getLabelStyleByPosition(e,N,l),L=e.labelCfg?e.labelCfg.style:void 0,F=N.style&&N.style.background,z=Object(T.__assign)(Object(T.__assign)(Object(T.__assign)({},_.attr()),R),L),q=z.rotate;if(delete z.rotate,q){var nt=[1,0,0,0,1,0,0,0,1];nt=pe(nt,[["t",-z.x,-z.y],["r",q],["t",z.x,z.y]]),_.resetMatrix(),_.attr(Object(T.__assign)(Object(T.__assign)({},z),{matrix:nt}))}else _.resetMatrix(),_.attr(z);if(P)if(z.background){var et=this.getLabelBgStyleByPosition(_,e,N,l),st=Object(T.__assign)(Object(T.__assign)({},et),F);P.resetMatrix(),q&&P.rotateAtStart(q),P.attr(st)}else l.removeChild(P);else z.background&&((P=this.drawLabelBg(e,l,_)).set("classname",k),_.toFront())}else this.drawLabel(e,l).set("className",w)},afterUpdate:function(e,t){},setState:function(e,t,l){var g,w,_=l.get("keyShape");if(_){var k=l.getType(),P=Object(ct.isBoolean)(t)?e:e+":"+t,I=this.getStateStyle(P,l),N=l.getStateStyle(P);if(N||I){var R=Object(ct.mix)({},N||I),L=l.getContainer();if(t){var F=function(Zt){var Wt,ee=R[Zt];if(Object(ct.isPlainObject)(ee)&&!Pi.includes(Zt)){var Qt=L.find(function(ue){return ue.get("name")===Zt});Qt&&Qt.attr(ee)}else _.attr(((Wt={})[Zt]=ee,Wt))};for(var z in R)F(z)}else{var q=Object(ct.clone)(l.getCurrentStatesStyle()),nt=l.getModel(),et=Object(ct.mix)({},nt.style,Object(ct.clone)(l.getOriginStyle())),st=_.get("name"),dt=_.attr(),Ot={},bt=function(Zt){var Wt=R[Zt];if(Object(ct.isPlainObject)(Wt)&&!Pi.includes(Zt)){var ee=L.find(function(ue){return ue.get("name")===Zt});if(ee){var Qt=ee.attr();Object(ct.each)(Wt,function(ue,ae){(Qt[ae]||Qt[ae]===0)&&delete Qt[ae]}),Ot[Zt]=Qt}}else dt[Zt]&&!{x:1,y:1,cx:1,cy:1}[Zt]&&delete dt[Zt]};for(var mt in R)bt(mt);for(var z in st?Ot[st]=dt:Object(ct.mix)(Ot,dt),q){var Tt=q[z];Object(ct.isPlainObject)(Tt)&&!Pi.includes(z)||(st?(Object(ct.mix)(et[st],((w={})[z]=Tt,w)),delete et[z]):Object(ct.mix)(et,((g={})[z]=Tt,g)),delete q[z])}var Dt={};Object(ct.deepMix)(Dt,et,Ot,q);var Yt=function(Zt){var Wt,ee,Qt=Dt[Zt];if(Object(ct.isPlainObject)(Qt)&&!Pi.includes(Zt)){var ue=L.find(function(ae){return ae.get("name")===Zt});ue&&ue.attr(Qt)}else k==="combo"?st||_.attr(((Wt={})[Zt]=Qt,Wt)):_.attr(((ee={})[Zt]=Qt,ee))};for(var Gt in Dt)Yt(Gt)}}}},getStateStyle:function(e,t){var l=t.getModel(),g=t.getType(),w=this.getOptions(l),_=w.stateStyles,k=w.style,P=k===void 0?{}:k,I=l.stateStyles?l.stateStyles[e]:_&&_[e];return g==="combo"?Object(ct.clone)(I):Object(ct.mix)({},P,I)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){return this.getOptions(e).anchorPoints}},Bc={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:tt.nodeLabel.offset,getSize:function(e){var t=e.size||this.getOptions({}).size||tt.defaultNode.size;return Object(ct.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(ct.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var l=t.position||this.labelPosition;if(l==="center")return{x:0,y:0,text:e.label};var g=t.offset;Object(ct.isNil)(g)&&(g=this.offset);var w,_=this.getSize(e),k=_[0],P=_[1];switch(l){case"top":w={x:0,y:0-P/2-g,textBaseline:"bottom"};break;case"bottom":w={x:0,y:P/2+g,textBaseline:"top"};break;case"left":w={x:0-k/2-g,y:0,textAlign:"right"};break;default:w={x:k/2+g,y:0,textAlign:"left"}}return w.text=e.label,w},getLabelBgStyleByPosition:function(e,t,l,g){if(!e)return{};var w=e.getBBox(),_=l.style&&l.style.background;if(!_)return{};var k,P=U(_.padding),I=w.width+P[1]+P[3],N=w.height+P[0]+P[2],R=l.offset;return Object(ct.isNil)(R)&&(R=this.offset),k={x:w.minX-P[3],y:w.minY-P[0]},k=Object(T.__assign)(Object(T.__assign)(Object(T.__assign)({},k),_),{width:I,height:N})},drawShape:function(e,t){var l=this.shapeType,g=this.getShapeStyle(e);return t.addShape(l,{attrs:g,draggable:!0,name:"node-shape"})},updateLinkPoints:function(e,t){var l,g=this.getOptions(e).linkPoints,w=t.find(function(Tt){return Tt.get("className")==="link-point-left"}),_=t.find(function(Tt){return Tt.get("className")==="link-point-right"}),k=t.find(function(Tt){return Tt.get("className")==="link-point-top"}),P=t.find(function(Tt){return Tt.get("className")==="link-point-bottom"});w&&(l=w.attr()),_&&!l&&(l=_.attr()),k&&!l&&(l=k.attr()),P&&!l&&(l=P.attr()),l||(l=g);var I=Object(ct.mix)({},l,e.linkPoints),N=I.fill,R=I.stroke,L=I.lineWidth,F=I.size/2;F||(F=I.r);var z=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},q=z.left,nt=z.right,et=z.top,st=z.bottom,dt=this.getSize(e),Ot=dt[0],bt=dt[1],mt={r:F,fill:N,stroke:R,lineWidth:L};w?q||q===void 0?w.attr(Object(T.__assign)(Object(T.__assign)({},mt),{x:-Ot/2,y:0})):w.remove():q&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},mt),{x:-Ot/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),_?(nt||nt===void 0||_.remove(),_.attr(Object(T.__assign)(Object(T.__assign)({},mt),{x:Ot/2,y:0}))):nt&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},mt),{x:Ot/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),k?(et||et===void 0||k.remove(),k.attr(Object(T.__assign)(Object(T.__assign)({},mt),{x:0,y:-bt/2}))):et&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},mt),{x:0,y:-bt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P?st||st===void 0?P.attr(Object(T.__assign)(Object(T.__assign)({},mt),{x:0,y:bt/2})):P.remove():st&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},mt),{x:0,y:bt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(e,t,l,g){t.get("keyShape").attr(Object(T.__assign)({},l)),this.updateLabel(e,t),g&&this.updateIcon(e,t)},updateIcon:function(e,t){var l=this,g=t.getContainer(),w=this.getOptions(e).icon,_=(e.icon?e.icon:{show:void 0}).show,k=g.find(function(L){return L.get("className")===l.type+"-icon"});if(k)if(_||_===void 0){var P=Object(ct.mix)({},k.attr(),w),I=P.width,N=P.height;k.attr(Object(T.__assign)(Object(T.__assign)({},P),{x:-I/2,y:-N/2}))}else k.remove();else if(_){I=w.width,N=w.height,g.addShape("image",{attrs:Object(T.__assign)(Object(T.__assign)({},w),{x:-I/2,y:-N/2}),className:this.type+"-icon",name:this.type+"-icon"});var R=g.find(function(L){return L.get("className")==="node-label"});R&&R.toFront()}}},Rc=Object(T.__assign)(Object(T.__assign)({},lo),Bc);ze.registerNode("single-node",Rc);var Lc={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:tt.defaultEdge.size,style:{x:0,y:0,stroke:tt.defaultEdge.style.stroke,lineAppendWidth:tt.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:tt.edgeLabel.style.fill,fontSize:tt.edgeLabel.style.fontSize}},stateStyles:Object(T.__assign)({},tt.edgeStateStyles)},getPath:function(e){var t=[];return Object(ct.each)(e,function(l,g){g===0?t.push(["M",l.x,l.y]):t.push(["L",l.x,l.y])}),t},getShapeStyle:function(e){var t=this.options.style,l={stroke:e.color},g=Object(ct.mix)({},t,l,e.style),w=e.size||tt.defaultEdge.size,_=(e=this.getPathPoints(e)).startPoint,k=e.endPoint,P=this.getControlPoints(e),I=[_];P&&(I=I.concat(P)),I.push(k);var N=this.getPath(I);return Object(ct.mix)({},tt.defaultEdge.style,{stroke:tt.defaultEdge.color,lineWidth:w,path:N},g)},updateShapeStyle:function(e,t){var l=t.getContainer(),g={stroke:e.color},w=l.find(function(et){return et.get("className")==="edge-shape"})||t.getKeyShape(),_=e.size,k=(e=this.getPathPoints(e)).startPoint,P=e.endPoint,I=this.getControlPoints(e),N=[k];I&&(N=N.concat(I)),N.push(P);var R=Object(ct.mix)({},g,w.attr(),e.style),L=e.sourceNode,F=e.targetNode,z={radius:R.radius};I||(z={source:L,target:F,offset:R.offset,radius:R.radius});var q=this.getPath(N,z),nt=Object(ct.mix)(g,w.attr(),{lineWidth:_,path:q},e.style);w&&w.attr(nt)},getLabelStyleByPosition:function(e,t,l){var g,w=t.position||this.labelPosition,_={},k=l&&l.find(function(L){return L.get("className")==="edge-shape"});g=w==="start"?0:w==="end"?1:.5;var P=t.refX||this.refX,I=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return _.x=e.startPoint.x+P,_.y=e.startPoint.y+I,_.text=e.label,_;var N=Object(ct.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,R=gi(k,g,P,I,N);return _.x=R.x,_.y=R.y,_.rotate=R.rotate,_.textAlign=this._getTextAlign(w,R.angle),_.text=e.label,_},getLabelBgStyleByPosition:function(e,t,l,g){if(!e)return{};var w=e.getBBox(),_=l.style&&l.style.background;if(!_)return{};var k,P=_.padding,I=w.width+P[1]+P[3],N=w.height+P[0]+P[2],R=l.position||this.labelPosition,L=Object(T.__assign)(Object(T.__assign)({},_),{width:I,height:N,x:w.minX-P[2],y:w.minY-P[0],rotate:0}),F=Object(ct.isNil)(l.autoRotate)?this.labelAutoRotate:l.autoRotate,z=g&&g.find(function(dt){return dt.get("className")==="edge-shape"});k=R==="start"?0:R==="end"?1:.5;var q=l.refX||this.refX,nt=l.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return L.x=t.startPoint.x+q,L.y=t.startPoint.y+nt,L;var et=gi(z,k,q-I/2,nt+N/2,F),st=et.angle;return st>.5*Math.PI&&st<1.5*Math.PI&&(et=gi(z,k,q+I/2,nt+N/2,F)),F&&(L.x=et.x,L.y=et.y),L.rotate=et.rotate,L},_getTextAlign:function(e,t){var l="center";return t?(t%=2*Math.PI,e!=="center"&&(l=t>=0&&t<=Math.PI/2||t>=1.5*Math.PI&&t<2*Math.PI?e:function(g){var w=g;return g==="start"?w="end":g==="end"&&(w="start"),w}(e)),l):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var l=this.getShapeStyle(e);return t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:l})},drawLabel:function(e,t){var l=this.options.labelCfg,g=Object(ct.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},l,e.labelCfg),w=this.getLabelStyle(e,g,t),_=w.rotate;delete w.rotate;var k=t.addShape("text",{attrs:w,name:"text-shape"});if(_&&k.rotateAtStart(_),w.background){var P=this.drawLabelBg(e,t,k),I=this.itemType+"-label-bg";P.set("classname",I),k.toFront()}return k},drawLabelBg:function(e,t,l){var g=this.options.labelCfg,w=Object(ct.deepMix)({},g,e.labelCfg),_=this.getLabelStyle(e,w,t).rotate,k=this.getLabelBgStyleByPosition(l,e,w,t);delete k.rotate;var P=t.addShape("rect",{name:"text-bg-shape",attrs:k});return _&&P.rotateAtStart(_),P}},Fc=Object(T.__assign)(Object(T.__assign)({},lo),Lc);ze.registerEdge("single-edge",Fc),ze.registerEdge("line",{getControlPoints:function(){}},"single-edge"),ze.registerEdge("spline",{getPath:function(e){return le(e)}},"single-edge"),ze.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t,l,g=e.startPoint,w=e.endPoint,_=(g.x+w.x)/2,k=(g.y+w.y)/2;if(e.controlPoints!==void 0){if(l=e.controlPoints[0],t=un(g,l,w),g.x<=w.x&&g.y>w.y?this.clockwise=t.x>l.x?0:1:g.x<=w.x&&g.y<w.y?this.clockwise=t.x>l.x?1:0:g.x>w.x&&g.y<=w.y?this.clockwise=t.y<l.y?0:1:this.clockwise=t.y<l.y?1:0,(l.x-g.x)/(l.y-g.y)==(w.x-g.x)/(w.y-g.y))return[]}else{e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),M()(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var P={x:w.x-g.x,y:w.y-g.y},I=Math.atan2(P.y,P.x);l={x:e.curveOffset*Math.cos(-Math.PI/2+I)+_,y:e.curveOffset*Math.sin(-Math.PI/2+I)+k},t=un(g,l,w)}var N=on(g,t);return[{x:N,y:N}]},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),e.length===2?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),ze.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var l=e.startPoint,g=e.endPoint;e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),M()(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),M()(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]),t=[fe(l,g,e.curvePosition,e.curveOffset)]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),ze.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),j()(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),j()(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var l=e.startPoint,g=e.endPoint;t=[fe(l,g,e.curvePosition[0],e.curveOffset[0]),fe(l,g,e.curvePosition[1],e.curveOffset[1])]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),ze.registerEdge("cubic-vertical",{curvePosition:[.5,.5],getControlPoints:function(e){var t=e.startPoint,l=e.endPoint;return e.curvePosition!==void 0&&(this.curvePosition=e.curvePosition),j()(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:t.x,y:(l.y-t.y)*this.curvePosition[0]+t.y},{x:l.x,y:(l.y-t.y)*this.curvePosition[1]+t.y}]}},"cubic"),ze.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],getControlPoints:function(e){var t=e.startPoint,l=e.endPoint;return e.curvePosition!==void 0&&(this.curvePosition=e.curvePosition),j()(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:(l.x-t.x)*this.curvePosition[0]+t.x,y:t.y},{x:(l.x-t.x)*this.curvePosition[1]+t.x,y:l.y}]}},"cubic"),ze.registerEdge("loop",{getPathPoints:function(e){return Yo(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var Yc={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:tt.comboLabel.refX,refY:tt.comboLabel.refY,options:{style:{stroke:tt.defaultCombo.style.stroke,fill:tt.defaultCombo.style.fill,lineWidth:tt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:tt.comboLabel.style.fill,fontSize:tt.comboLabel.style.fontSize}},stateStyles:Object(T.__assign)({},tt.comboStateStyles)},getSize:function(e){var t=Object(ct.clone)(e.size||this.options.size||tt.defaultCombo.size);return Object(ct.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(ct.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var l=t.position||this.labelPosition,g=e.style,w=e.padding||this.options.padding;Object(ct.isArray)(w)&&(w=w[0]);var _=t.refX,k=t.refY;Object(ct.isNil)(_)&&(_=this.refX),Object(ct.isNil)(k)&&(k=this.refY);var P,I=this.getSize(e),N=(Math.max(g.r,I[0]/2)||I[0]/2)+w;switch(l){case"top":P={x:0,y:-N-k,textBaseline:"bottom",textAlign:"center"};break;case"bottom":P={x:0,y:N+k,textBaseline:"bottom",textAlign:"center"};break;case"left":P={x:-N+_,y:0,textAlign:"left"};break;case"center":P={x:0,y:0,text:e.label,textAlign:"center"};break;default:P={x:N+_,y:0,textAlign:"right"}}return P.text=e.label,P},drawShape:function(e,t){var l=this.shapeType,g=this.getShapeStyle(e);return t.addShape(l,{attrs:g,draggable:!0,name:"combo-shape"})},updateShape:function(e,t,l){var g=t.get("keyShape");(e.animate===void 0?this.options.animate:e.animate)&&g.animate?g.animate(l,{duration:200,easing:"easeLinear"}):g.attr(Object(T.__assign)({},l)),this.updateLabel(e,t)}},Gc=Object(T.__assign)(Object(T.__assign)({},lo),Yc);ze.registerCombo("single-combo",Gc),ze.registerCombo("circle",{options:{size:[tt.defaultCombo.size[0],tt.defaultCombo.size[0]],padding:tt.defaultCombo.padding[0],animate:!0,style:{stroke:tt.defaultCombo.style.stroke,fill:tt.defaultCombo.style.fill,lineWidth:tt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:tt.comboLabel.style.fill,fontSize:tt.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(T.__assign)({},tt.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var l=this.getShapeStyle(e);return delete l.height,delete l.width,t.addShape("circle",{attrs:l,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(e){var t=this.options.style,l=e.padding||this.options.padding;Object(ct.isArray)(l)&&(l=l[0]);var g,w={stroke:e.color},_=Object(ct.mix)({},t,w,e.style),k=this.getSize(e);g=!Object(ct.isNumber)(_.r)||isNaN(_.r)?k[0]/2||tt.defaultCombo.style.r:Math.max(_.r,k[0]/2)||k[0]/2,_.r=g+l;var P=Object(T.__assign)({x:0,y:0},_);return e.style?e.style.r=g:e.style={r:g},P},update:function(e,t){var l=this.getSize(e),g=e.padding||this.options.padding;Object(ct.isArray)(g)&&(g=g[0]);var w=Object(ct.clone)(e.style),_=Math.max(w.r,l[0]/2)||l[0]/2;w.r=_+g;var k=t.get("sizeCache");k&&(k.r=w.r);var P={stroke:e.color},I=t.get("keyShape"),N=Object(ct.mix)({},I.attr(),P,w);e.style?e.style.r=_:e.style={r:_},this.updateShape(e,t,N,!0)}},"single-combo"),ze.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:tt.defaultCombo.style.stroke,fill:tt.defaultCombo.style.fill,lineWidth:tt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:tt.comboLabel.style.fill,fontSize:tt.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(T.__assign)({},tt.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var l=this.getShapeStyle(e);return t.addShape("rect",{attrs:l,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(e,t){var l=t.position||this.labelPosition,g=e.style,w=e.padding||this.options.padding;Object(ct.isNumber)(w)&&(w=[w,w,w,w]);var _=t.refX,k=t.refY;Object(ct.isNil)(_)&&(_=this.refX),Object(ct.isNil)(k)&&(k=this.refY);var P,I=g.width/2+w[3],N=g.height/2+w[0];switch(l){case"top":P={x:0-I+_,y:0-N+k,textBaseline:"top",textAlign:"left"};break;case"bottom":P={x:0,y:N+k,textBaseline:"bottom",textAlign:"center"};break;case"left":P={x:0-I+k,y:0,textAlign:"left"};break;case"center":P={x:0,y:0,text:e.label,textAlign:"center"};break;default:P={x:I+_,y:0,textAlign:"right"}}return P.text=e.label,P},getShapeStyle:function(e){var t=this.options.style,l=e.padding||this.options.padding;Object(ct.isNumber)(l)&&(l=[l,l,l,l]);var g,w,_={stroke:e.color},k=Object(ct.mix)({},t,_,e.style),P=this.getSize(e);g=!Object(ct.isNumber)(k.width)||isNaN(k.width)?P[0]||tt.defaultCombo.style.width:Math.max(k.width,P[0])||P[0],w=!Object(ct.isNumber)(k.height)||isNaN(k.height)?P[1]||tt.defaultCombo.style.height:Math.max(k.height,P[1])||P[1];var I=-g/2-l[3],N=-w/2-l[0];k.width=g+l[1]+l[3],k.height=w+l[0]+l[2];var R=Object(T.__assign)({x:I,y:N},k);return e.style?(e.style.width=g,e.style.height=w):e.style={width:g,height:w},R},update:function(e,t){var l=this.getSize(e),g=e.padding||this.options.padding;Object(ct.isNumber)(g)&&(g=[g,g,g,g]);var w=Object(ct.clone)(e.style),_=Math.max(w.width,l[0])||l[0],k=Math.max(w.height,l[1])||l[1];w.width=_+g[1]+g[3],w.height=k+g[0]+g[2];var P=t.get("sizeCache");P&&(P.width=w.width,P.height=w.height),w.x=-_/2-g[3],w.y=-k/2-g[0];var I={stroke:e.color},N=t.get("keyShape"),R=Object(ct.mix)({},N.attr(),I,w);e.style?(e.style.width=_,e.style.height=k):e.style={width:_,height:k},this.updateShape(e,t,R,!1)},updateShape:function(e,t,l){var g=t.get("keyShape");(e.animate===void 0?this.options.animate:e.animate)&&g.animate?g.animate(l,{duration:200,easing:"easeLinear"}):g.attr(Object(T.__assign)({},l)),this.updateLabel(e,t)}},"single-combo"),ze.registerNode("circle",{options:{size:tt.defaultNode.size,style:{x:0,y:0,stroke:tt.defaultNode.style.stroke,fill:tt.defaultNode.style.fill,lineWidth:tt.defaultNode.style.lineWidth},labelCfg:{style:{fill:tt.nodeLabel.style.fill,fontSize:tt.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tt.defaultNode.linkPoints.size,lineWidth:tt.defaultNode.linkPoints.lineWidth,fill:tt.defaultNode.linkPoints.fill,stroke:tt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(T.__assign)({},tt.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var l=this.getOptions(e).icon,g=l===void 0?{}:l,w=this.getShapeStyle(e),_=we()({},g,e.icon),k=t.addShape("circle",{attrs:w,className:this.type+"-keyShape",draggable:!0}),P=_.width,I=_.height;return _.show&&t.addShape("image",{attrs:Object(T.__assign)({x:-P/2,y:-I/2},_),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(e,t),k},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.bottom,I=g.size,N=g.r,R=Object(T.__rest)(g,["top","left","right","bottom","size","r"]),L=this.getSize(e)[0]/2;_&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:-L,y:0,r:I/2||N||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),k&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:L,y:0,r:I/2||N||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),w&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:0,y:-L,r:I/2||N||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:0,y:L,r:I/2||N||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=we()({},t,l),w=this.getSize(e)[0]/2;return Object(T.__assign)({x:0,y:0,r:w},g)},update:function(e,t){var l=t.getContainer(),g=this.getSize(e),w={stroke:e.color,r:g[0]/2},_=t.get("keyShape"),k=we()({},_.attr(),w,e.style);this.updateShape(e,t,k,!0),this.updateLinkPoints(e,l)}},"single-node"),ze.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:tt.defaultNode.style.stroke,fill:tt.defaultNode.style.fill,lineWidth:tt.defaultNode.style.lineWidth},labelCfg:{style:{fill:tt.nodeLabel.style.fill,fontSize:tt.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tt.defaultNode.linkPoints.size,lineWidth:tt.defaultNode.linkPoints.lineWidth,fill:tt.defaultNode.linkPoints.fill,stroke:tt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(T.__assign)({},tt.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var l=this.getShapeStyle(e),g=t.addShape("rect",{attrs:l,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(e,t),g},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.bottom,I=g.size,N=g.r,R=Object(T.__rest)(g,["top","left","right","bottom","size","r"]),L=this.getSize(e),F=L[0],z=L[1];_&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:-F/2,y:0,r:I/2||N||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),k&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:F/2,y:0,r:I/2||N||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),w&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:0,y:-z/2,r:I/2||N||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:0,y:z/2,r:I/2||N||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ct.mix)({},t,l),w=this.getSize(e),_=g.width||w[0],k=g.height||w[1];return Object(T.__assign)({x:-_/2,y:-k/2,width:_,height:k},g)},update:function(e,t){var l=t.getContainer(),g=this.getOptions({}).style,w=this.getSize(e),_=t.get("keyShape");e.size||(w[0]=_.attr("width")||g.width,w[1]=_.attr("height")||g.height);var k={stroke:e.color,x:-w[0]/2,y:-w[1]/2,width:w[0],height:w[1]},P=Object(ct.mix)({},g,_.attr(),k);P=Object(ct.mix)(P,e.style),this.updateShape(e,t,P,!1),this.updateLinkPoints(e,l)}},"single-node"),ze.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:tt.defaultNode.style.stroke,fill:tt.defaultNode.style.fill,lineWidth:tt.defaultNode.style.lineWidth},labelCfg:{style:{fill:tt.nodeLabel.style.fill,fontSize:tt.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tt.defaultNode.linkPoints.size,lineWidth:tt.defaultNode.linkPoints.lineWidth,fill:tt.defaultNode.linkPoints.fill,stroke:tt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(T.__assign)({},tt.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var l=this.getOptions(e).icon,g=l===void 0?{}:l,w=this.getShapeStyle(e),_=t.addShape("ellipse",{attrs:w,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),k=g.width,P=g.height;return g.show&&t.addShape("image",{attrs:Object(T.__assign)({x:-k/2,y:-P/2},g),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(e,t),_},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.bottom,I=g.size,N=g.r,R=Object(T.__rest)(g,["top","left","right","bottom","size","r"]),L=this.getSize(e),F=L[0]/2,z=L[1]/2;_&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:-F,y:0,r:I/2||N||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),k&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:F,y:0,r:I/2||N||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),w&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:0,y:-z,r:I/2||N||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:0,y:z,r:I/2||N||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ct.mix)({},t,l),w=this.getSize(e),_=w[0]/2,k=w[1]/2;return Object(T.__assign)({x:0,y:0,rx:_,ry:k},g)},update:function(e,t){var l=t.getContainer(),g=this.getOptions({}).style,w=this.getSize(e),_={stroke:e.color,rx:w[0]/2,ry:w[1]/2},k=t.get("keyShape"),P=Object(ct.mix)({},g,k.attr(),_);P=Object(ct.mix)(P,e.style),this.updateShape(e,t,P,!0),this.updateLinkPoints(e,l)}},"single-node"),ze.registerNode("diamond",{options:{size:[80,80],style:{stroke:tt.defaultNode.style.stroke,fill:tt.defaultNode.style.fill,lineWidth:tt.defaultNode.style.lineWidth},labelCfg:{style:{fill:tt.nodeLabel.style.fill,fontSize:tt.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tt.defaultNode.linkPoints.size,lineWidth:tt.defaultNode.linkPoints.lineWidth,fill:tt.defaultNode.linkPoints.fill,stroke:tt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(T.__assign)({},tt.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var l=this.getOptions(e).icon,g=l===void 0?{}:l,w=this.getShapeStyle(e),_=t.addShape("path",{attrs:w,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),k=g.width,P=g.height;return g.show&&t.addShape("image",{attrs:Object(T.__assign)({x:-k/2,y:-P/2},g),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(e,t),_},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.bottom,I=g.size,N=g.r,R=Object(T.__rest)(g,["top","left","right","bottom","size","r"]),L=this.getSize(e),F=L[0],z=L[1];_&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:-F/2,y:0,r:I/2||N||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),k&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:F/2,y:0,r:I/2||N||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),w&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:0,y:-z/2,r:I/2||N||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:0,y:z/2,r:I/2||N||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(e){var t=this.getSize(e),l=t[0],g=t[1];return[["M",0,-g/2],["L",l/2,0],["L",0,g/2],["L",-l/2,0],["Z"]]},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ct.mix)({},t,l),w=this.getPath(e);return Object(T.__assign)({path:w},g)},update:function(e,t){var l=t.getContainer(),g=this.getOptions({}).style,w=this.getPath(e),_={stroke:e.color,path:w},k=t.get("keyShape"),P=Object(ct.mix)({},g,k.attr(),_);P=Object(ct.mix)(P,e.style),this.updateShape(e,t,P,!0),this.updateLinkPoints(e,l)}},"single-node"),ze.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:tt.defaultNode.style.stroke,fill:tt.defaultNode.style.fill,lineWidth:tt.defaultNode.style.lineWidth},labelCfg:{style:{fill:tt.nodeLabel.style.fill,fontSize:tt.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tt.defaultNode.linkPoints.size,lineWidth:tt.defaultNode.linkPoints.lineWidth,fill:tt.defaultNode.linkPoints.fill,stroke:tt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(T.__assign)({},tt.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var l=this.getOptions(e),g=l.icon,w=g===void 0?{}:g,_=l.direction,k=this.getShapeStyle(e),P=e.direction||_,I=t.addShape("path",{attrs:k,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),N=w.width,R=w.height,L=w.show,F=w.offset;if(L){var z=-N/2,q=-R/2;P!=="up"&&P!=="down"||(q+=F),P!=="left"&&P!=="right"||(z+=F),t.addShape("image",{attrs:Object(T.__assign)({x:z,y:q},w),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(e,t),I},drawLinkPoints:function(e,t){var l=this.getOptions(e),g=l.linkPoints,w=g===void 0?{}:g,_=l.direction,k=e.direction||_,P=w.top,I=w.left,N=w.right,R=w.bottom,L=w.size,F=w.r,z=Object(T.__rest)(w,["top","left","right","bottom","size","r"]),q=this.getSize(e)[0];if(I){var nt=null,et=q*Math.sin(1/3*Math.PI),st=q*Math.sin(1/3*Math.PI);k==="up"?nt=[-st,et]:k==="down"?nt=[-st,-et]:k==="left"&&(nt=[-st,st-et]),nt&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},z),{x:nt[0],y:nt[1],r:L/2||F||5}),className:"link-point-left",name:"link-point-left"})}if(N){var dt=null;et=q*Math.sin(1/3*Math.PI),st=q*Math.sin(1/3*Math.PI),k==="up"?dt=[st,et]:k==="down"?dt=[st,-et]:k==="right"&&(dt=[st,st-et]),dt&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},z),{x:dt[0],y:dt[1],r:L/2||F||5}),className:"link-point-right",name:"link-point-right"})}if(P){var Ot=null;et=q*Math.sin(1/3*Math.PI),st=q*Math.sin(1/3*Math.PI),k==="up"?Ot=[st-et,-et]:k==="left"?Ot=[st,-et]:k==="right"&&(Ot=[-st,-et]),Ot&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},z),{x:Ot[0],y:Ot[1],r:L/2||F||5}),className:"link-point-top",name:"link-point-top"})}if(R){var bt=null;et=q*Math.sin(1/3*Math.PI),st=q*Math.sin(1/3*Math.PI),k==="down"?bt=[-st+et,et]:k==="left"?bt=[st,et]:k==="right"&&(bt=[-st,et]),bt&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},z),{x:bt[0],y:bt[1],r:L/2||F||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(e){var t=this.getOptions(e).direction,l=e.direction||t,g=this.getSize(e)[0],w=g*Math.sin(1/3*Math.PI),_=g*Math.sin(1/3*Math.PI),k=[["M",-_,w],["L",0,-w],["L",_,w],["Z"]];return l==="down"?k=[["M",-_,-w],["L",_,-w],["L",0,w],["Z"]]:l==="left"?k=[["M",-_,_-w],["L",_,-_],["L",_,_],["Z"]]:l==="right"&&(k=[["M",_,_-w],["L",-_,_],["L",-_,-_],["Z"]]),k},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ct.mix)({},t,l),w=this.getPath(e);return Object(T.__assign)({path:w},g)},update:function(e,t){var l=t.getContainer(),g=this.getOptions({}).style,w=this.getPath(e),_={stroke:e.color,path:w},k=t.get("keyShape"),P=Object(ct.mix)({},g,k.attr(),_);P=Object(ct.mix)(P,e.style),this.updateShape(e,t,P,!0),this.updateLinkPoints(e,l)},updateLinkPoints:function(e,t){var l=this.getOptions({}),g=l.linkPoints,w=l.direction,_=e.direction||w,k=t.find(function(Qt){return Qt.get("className")==="link-point-left"}),P=t.find(function(Qt){return Qt.get("className")==="link-point-right"}),I=t.find(function(Qt){return Qt.get("className")==="link-point-top"}),N=t.find(function(Qt){return Qt.get("className")==="link-point-bottom"}),R=g,L=k||P||I||N;L&&(R=L.attr());var F=Object(ct.mix)({},R,e.linkPoints),z=F.fill,q=F.stroke,nt=F.lineWidth,et=F.size/2;et||(et=F.r);var st=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},dt=st.left,Ot=st.right,bt=st.top,mt=st.bottom,Tt=this.getSize(e)[0],Dt={r:et,fill:z,stroke:q,lineWidth:nt},Yt=null,Gt=Tt*Math.sin(1/3*Math.PI),Kt=Tt*Math.sin(1/3*Math.PI);_==="up"?Yt=[-Kt,Gt]:_==="down"?Yt=[-Kt,-Gt]:_==="left"&&(Yt=[-Kt,Kt-Gt]),Yt&&(k?dt||dt===void 0?k.attr(Object(T.__assign)(Object(T.__assign)({},Dt),{x:Yt[0],y:Yt[1]})):k.remove():dt&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},Dt),{x:Yt[0],y:Yt[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Zt=null;_==="up"?Zt=[Kt,Gt]:_==="down"?Zt=[Kt,-Gt]:_==="right"&&(Zt=[Kt,Kt-Gt]),Zt&&(P?Ot||Ot===void 0?P.attr(Object(T.__assign)(Object(T.__assign)({},Dt),{x:Zt[0],y:Zt[1]})):P.remove():Ot&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},Dt),{x:Zt[0],y:Zt[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Wt=null;_==="up"?Wt=[Kt-Gt,-Gt]:_==="left"?Wt=[Kt,-Gt]:_==="right"&&(Wt=[-Kt,-Gt]),Wt&&(I?bt||bt===void 0?I.attr(Object(T.__assign)(Object(T.__assign)({},Dt),{x:Wt[0],y:Wt[1]})):I.remove():bt&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},Dt),{x:Wt[0],y:Wt[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var ee=null;_==="down"?ee=[-Kt+Gt,Gt]:_==="left"?ee=[Kt,Gt]:_==="right"&&(ee=[-Kt,Gt]),ee&&(N?mt||mt===void 0?N.attr(Object(T.__assign)(Object(T.__assign)({},Dt),{x:ee[0],y:ee[1]})):N.remove():mt&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},Dt),{x:ee[0],y:ee[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),ze.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:tt.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var l=this.getOptions(e).preRect,g=l===void 0?{}:l,w=this.getShapeStyle(e),_=this.getSize(e),k=_[0],P=_[1],I=t.addShape("rect",{attrs:w,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),N=g.show,R=Object(T.__rest)(g,["show"]);return N&&t.addShape("rect",{attrs:Object(T.__assign)({x:-k/2,y:-P/2,height:P},R),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),I},drawLogoIcon:function(e,t){var l=this.getOptions(e).logoIcon,g=l===void 0?{}:l,w=this.getSize(e)[0];if(g.show){var _=g.width,k=g.height,P=g.x,I=g.y,N=g.offset,R=Object(T.__rest)(g,["width","height","x","y","offset"]);t.addShape("image",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:P||-w/2+_+N,y:I||-k/2,width:_,height:k}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var l=this.getOptions(e).stateIcon,g=l===void 0?{}:l,w=this.getSize(e)[0];if(g.show){var _=g.width,k=g.height,P=g.x,I=g.y,N=g.offset,R=Object(T.__rest)(g,["width","height","x","y","offset"]);t.addShape("image",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:P||w/2-_+N,y:I||-k/2,width:_,height:k}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.bottom,I=g.size,N=g.r,R=Object(T.__rest)(g,["top","left","right","bottom","size","r"]),L=this.getSize(e),F=L[0],z=L[1];_&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:-F/2,y:0,r:I/2||N||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),k&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:F/2,y:0,r:I/2||N||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),w&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:0,y:-z/2,r:I/2||N||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),P&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},R),{x:0,y:z/2,r:I/2||N||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(e,t){var l=this.getOptions(e),g=l.labelCfg,w=g===void 0?{}:g,_=l.logoIcon,k=_===void 0?{}:_,P=l.descriptionCfg,I=P===void 0?{}:P,N=this.getSize(e)[0],R=null,L=k.show,F=k.width,z=-N/2+w.offset;L&&(z=-N/2+F+w.offset);var q=w.style,nt=I.style,et=I.paddingTop;return Object(ct.isString)(e.description)?(R=t.addShape("text",{attrs:Object(T.__assign)(Object(T.__assign)({},q),{x:z,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:Object(T.__assign)(Object(T.__assign)({},nt),{x:z,y:17+(et||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0})):R=t.addShape("text",{attrs:Object(T.__assign)(Object(T.__assign)({},q),{x:z,y:7,text:e.label}),draggable:!0}),R},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ct.mix)({},t,l),w=this.getSize(e),_=g.width||w[0],k=g.height||w[1];return Object(T.__assign)({x:-_/2,y:-k/2,width:_,height:k},g)},update:function(e,t){var l=this.getOptions(e),g=l.style,w=g===void 0?{}:g,_=l.labelCfg,k=_===void 0?{}:_,P=l.descriptionCfg,I=P===void 0?{}:P,N=this.getSize(e),R=N[0],L=N[1];t.get("keyShape").attr(Object(T.__assign)(Object(T.__assign)({},w),{x:-R/2,y:-L/2,width:R,height:L}));var F=t.getContainer(),z=F.find(function(Fe){return Fe.get("className")==="rect-logo-icon"}),q=z?z.attr():{},nt=Object(ct.mix)({},q,e.logoIcon),et=nt.width;et===void 0&&(et=this.options.logoIcon.width);var st=e.logoIcon?e.logoIcon.show:void 0,dt=k.offset,Ot=-R/2+et+dt;st||st===void 0||(Ot=-R/2+dt);var bt=F.find(function(Fe){return Fe.get("className")==="node-label"}),mt=F.find(function(Fe){return Fe.get("className")==="rect-description"});if(e.label)if(bt){var Tt=e.labelCfg?e.labelCfg.style:{},Dt=Object(ct.mix)({},bt.attr(),Tt);e.label&&(Dt.text=e.label),Dt.x=Ot,Object(ct.isString)(e.description)&&(Dt.y=-5),mt&&(mt.resetMatrix(),mt.attr({x:Ot})),bt.resetMatrix(),bt.attr(Dt)}else F.addShape("text",{attrs:Object(T.__assign)(Object(T.__assign)({},k.style),{x:Ot,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0});if(Object(ct.isString)(e.description)){var Yt=I.paddingTop;if(mt){Tt=e.descriptionCfg?e.descriptionCfg.style:{};var Gt=Object(ct.mix)({},mt.attr(),Tt);Object(ct.isString)(e.description)&&(Gt.text=e.description),Gt.x=Ot,mt.resetMatrix(),mt.attr(Object(T.__assign)(Object(T.__assign)({},Gt),{y:17+(Yt||0)}))}else F.addShape("text",{attrs:Object(T.__assign)(Object(T.__assign)({},I.style),{x:Ot,y:17+(Yt||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0})}var Kt=F.find(function(Fe){return Fe.get("className")==="pre-rect"});if(Kt){var Zt=Object(ct.mix)({},Kt.attr(),e.preRect);Kt.attr(Object(T.__assign)(Object(T.__assign)({},Zt),{x:-R/2,y:-L/2,height:L}))}if(z)if(st||st===void 0){var Wt=nt.width,ee=nt.height,Qt=nt.x,ue=nt.y,ae=nt.offset,he=Object(T.__rest)(nt,["width","height","x","y","offset"]);z.attr(Object(T.__assign)(Object(T.__assign)({},he),{x:Qt||-R/2+Wt+ae,y:ue||-ee/2,width:Wt,height:ee}))}else z.remove();else st&&this.drawLogoIcon(e,F);var Jt=F.find(function(Fe){return Fe.get("className")==="rect-state-icon"}),se=Jt?Jt.attr():{},me=Object(ct.mix)({},se,e.stateIcon);if(Jt){me.show||me.show===void 0||Jt.remove();var Pe=me.width,Ce=(ee=me.height,Qt=me.x,ue=me.y,me.offset),Ve=Object(T.__rest)(me,["width","height","x","y","offset"]);Jt.attr(Object(T.__assign)(Object(T.__assign)({},Ve),{x:Qt||R/2-Pe+Ce,y:ue||-ee/2,width:Pe,height:ee}))}else me.show&&this.drawStateIcon(e,F);this.updateLinkPoints(e,F)}},"single-node"),ze.registerNode("star",{options:{size:60,style:{stroke:tt.defaultNode.style.stroke,fill:tt.defaultNode.style.fill,lineWidth:tt.defaultNode.style.lineWidth},labelCfg:{style:{fill:tt.nodeLabel.style.fill,fontSize:tt.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:tt.defaultNode.linkPoints.size,lineWidth:tt.defaultNode.linkPoints.lineWidth,fill:tt.defaultNode.linkPoints.fill,stroke:tt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(T.__assign)({},tt.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var l=this.getOptions(e).icon,g=l===void 0?{}:l,w=this.getShapeStyle(e),_=t.addShape("path",{attrs:w,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),k=g.width,P=g.height;return g.show&&t.addShape("image",{attrs:Object(T.__assign)({x:-k/2,y:-P/2},g),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(e,t),_},drawLinkPoints:function(e,t){var l=this.getOptions(e).linkPoints,g=l===void 0?{}:l,w=g.top,_=g.left,k=g.right,P=g.leftBottom,I=g.rightBottom,N=g.size,R=g.r,L=Object(T.__rest)(g,["top","left","right","leftBottom","rightBottom","size","r"]),F=this.getSize(e)[0];if(k){var z=Math.cos(.1*Math.PI)*F,q=Math.sin(.1*Math.PI)*F;t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},L),{x:z,y:-q,r:N/2||R||5}),className:"link-point-right",name:"link-point-right"})}w&&(z=Math.cos(.5*Math.PI)*F,q=Math.sin(.5*Math.PI)*F,t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},L),{x:z,y:-q,r:N/2||R||5}),className:"link-point-top",name:"link-point-top"})),_&&(z=Math.cos(.9*Math.PI)*F,q=Math.sin(.9*Math.PI)*F,t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},L),{x:z,y:-q,r:N/2||R||5}),className:"link-point-left",name:"link-point-left"})),P&&(z=Math.cos(1.3*Math.PI)*F,q=Math.sin(1.3*Math.PI)*F,t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},L),{x:z,y:-q,r:N/2||R||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})),I&&(z=Math.cos(1.7*Math.PI)*F,q=Math.sin(1.7*Math.PI)*F,t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},L),{x:z,y:-q,r:N/2||R||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"}))},getPath:function(e){for(var t=this.getSize(e)[0],l=3*t/8,g=e.innerR||l,w=[],_=0;_<5;_++){var k=Math.cos((18+72*_)/180*Math.PI)*t,P=Math.sin((18+72*_)/180*Math.PI)*t,I=Math.cos((54+72*_)/180*Math.PI)*g,N=Math.sin((54+72*_)/180*Math.PI)*g;_===0?w.push(["M",k,-P]):w.push(["L",k,-P]),w.push(["L",I,-N])}return w.push(["Z"]),w},getShapeStyle:function(e){var t=this.getOptions(e).style,l={stroke:e.color},g=Object(ct.mix)({},t,l),w=this.getPath(e);return Object(T.__assign)({path:w},g)},update:function(e,t){var l=t.getContainer(),g=this.getOptions({}).style,w=this.getPath(e),_={stroke:e.color,path:w},k=t.get("keyShape"),P=Object(ct.mix)({},g,k.attr(),_);P=Object(ct.mix)(P,e.style),this.updateShape(e,t,P,!0),this.updateLinkPoints(e,l)},updateLinkPoints:function(e,t){var l=this.getOptions({}).linkPoints,g=t.find(function(Gt){return Gt.get("className")==="link-point-left"}),w=t.find(function(Gt){return Gt.get("className")==="link-point-right"}),_=t.find(function(Gt){return Gt.get("className")==="link-point-top"}),k=t.find(function(Gt){return Gt.get("className")==="link-point-left-bottom"}),P=t.find(function(Gt){return Gt.get("className")==="link-point-right-bottom"}),I=l,N=g||w||_||k||P;N&&(I=N.attr());var R=Object(ct.mix)({},I,e.linkPoints),L=R.fill,F=R.stroke,z=R.lineWidth,q=R.size/2;q||(q=R.r);var nt=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},et=nt.left,st=nt.right,dt=nt.top,Ot=nt.leftBottom,bt=nt.rightBottom,mt=this.getSize(e)[0],Tt={r:q,fill:L,stroke:F,lineWidth:z},Dt=Math.cos(.1*Math.PI)*mt,Yt=Math.sin(.1*Math.PI)*mt;w?st||st===void 0?w.attr(Object(T.__assign)(Object(T.__assign)({},Tt),{x:Dt,y:-Yt})):w.remove():st&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},Tt),{x:Dt,y:-Yt}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Dt=Math.cos(.5*Math.PI)*mt,Yt=Math.sin(.5*Math.PI)*mt,_?dt||dt===void 0?_.attr(Object(T.__assign)(Object(T.__assign)({},Tt),{x:Dt,y:-Yt})):_.remove():dt&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},Tt),{x:Dt,y:-Yt}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Dt=Math.cos(.9*Math.PI)*mt,Yt=Math.sin(.9*Math.PI)*mt,g?et||et===void 0?g.attr(Object(T.__assign)(Object(T.__assign)({},Tt),{x:Dt,y:-Yt})):g.remove():et&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},Tt),{x:Dt,y:-Yt}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Dt=Math.cos(1.3*Math.PI)*mt,Yt=Math.sin(1.3*Math.PI)*mt,k?Ot||Ot===void 0?k.attr(Object(T.__assign)(Object(T.__assign)({},Tt),{x:Dt,y:-Yt})):k.remove():Ot&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},Tt),{x:Dt,y:-Yt}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Dt=Math.cos(1.7*Math.PI)*mt,Yt=Math.sin(1.7*Math.PI)*mt,P?bt||bt===void 0?P.attr(Object(T.__assign)(Object(T.__assign)({},Tt),{x:Dt,y:-Yt})):k.remove():bt&&t.addShape("circle",{attrs:Object(T.__assign)(Object(T.__assign)({},Tt),{x:Dt,y:-Yt}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),ze.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var l=this.shapeType,g=this.getShapeStyle(e);delete g.fill;var w=t.addShape(l,{attrs:g,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(e,w),w},drawClip:function(e,t){var l=this.getOptions(e).clipCfg;if(l.show){var g=l.type,w=l.x,_=l.y,k=l.style;if(g==="circle"){var P=l.r;t.setClip({type:"circle",attrs:Object(T.__assign)({r:P,x:w,y:_},k)})}else if(g==="rect"){var I=l.width,N=l.height,R=w-I/2,L=_-N/2;t.setClip({type:"rect",attrs:Object(T.__assign)({x:R,y:L,width:I,height:N},k)})}else if(g==="ellipse"){var F=l.rx,z=l.ry;t.setClip({type:"ellipse",attrs:Object(T.__assign)({x:w,y:_,rx:F,ry:z},k)})}else if(g==="polygon"){var q=l.points;t.setClip({type:"polygon",attrs:Object(T.__assign)({points:q},k)})}else if(g==="path"){var nt=l.path;t.setClip({type:"path",attrs:Object(T.__assign)({path:nt},k)})}}},getShapeStyle:function(e){var t=this.getOptions(e).style,l=this.getSize(e),g=this.getOptions(e).img,w=l[0],_=l[1];return t&&(w=t.width||l[0],_=t.height||l[1]),Object(T.__assign)({x:-w/2,y:-_/2,width:w,height:_,img:g},t)},updateShapeStyle:function(e,t){var l=t.getContainer(),g=this.itemType+"-shape",w=l.find(function(k){return k.get("className")===g})||t.getKeyShape(),_=this.getShapeStyle(e);w&&w.attr(_)}},"single-node");var Ai=function(e){var t=e.x,l=e.y;return{x:t,y:l,centerX:t,centerY:l,minX:t,minY:l,maxX:t,maxY:l,height:0,width:0}},Xa=function(e,t){return 2*Math.abs(e.centerX-t.centerX)<e.width+t.width&&2*Math.abs(e.centerY-t.centerY)<e.height+t.height},fo=function(e){var t=[],l={};return e.forEach(function(g){var w=g.x+"-"+g.y;g.id=w,l[w]=g}),Object(ct.each)(l,function(g){t.push(g)}),t},Ci=function(e){return e=fo(e)},Ha=function(e,t){return[e,{x:e.x,y:t.y},t]},ji=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},po=function(e,t){return function(l,g){var w=Math.abs(l.x-g.centerX),_=Math.abs(l.y-g.centerY);return w/g.width>_/g.height}(t,e)?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},go=function(e,t){var l=Math.min(e.minX,t.minX),g=Math.min(e.minY,t.minY),w=Math.max(e.maxX,t.maxX),_=Math.max(e.maxY,t.maxY);return{centerX:(l+w)/2,centerY:(g+_)/2,minX:l,minY:g,maxX:w,maxY:_,height:_-g,width:w-l}},vo=function(e){var t=e.minX,l=e.minY,g=e.maxX,w=e.maxY;return[{x:t,y:l},{x:g,y:l},{x:g,y:w},{x:t,y:w}]},Ii=function(e,t){var l=e.x,g=e.y;return l<t.minX||l>t.maxX||g<t.minY||g>t.maxY},ti=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Va=function(e,t,l,g,w){return ti(e,t)+ti(e,l)+function(_,k){var P=0;return k.forEach(function(I){I&&(_.x===I.x&&(P+=-2),_.y===I.y&&(P+=-2))}),P}(e,[t,l,g,w])},zc=function S(e,t,l,g,w){w===void 0&&(w=0),e.unshift(t[g]),l[g]&&l[g]!==g&&w<=100&&S(e,t,l,l[g],w+1)},Ti=function(e,t,l,g){var w=t.x-e.x,_=t.y-e.y,k=g.x-l.x,P=g.y-l.y,I=(-_*(e.x-l.x)+w*(e.y-l.y))/(-k*_+w*P),N=(k*(e.y-l.y)-P*(e.x-l.x))/(-k*_+w*P);return I>=0&&I<=1&&N>=0&&N<=1},mo=function(e,t,l){if(l.width===0&&l.height===0)return!1;var g=vo(l),w=g[0],_=g[1],k=g[2],P=g[3];return Ti(e,t,w,_)||Ti(e,t,w,P)||Ti(e,t,_,k)||Ti(e,t,k,P)},Xc=function(e,t,l,g,w,_,k){var P=[],I=[t],N={},R={},L={};R[t.id]=0,L[t.id]=Va(t,l,t);var F={};e.forEach(function(nt){F[nt.id]=nt});for(var z=function(){var et,st,dt,Ot,bt=1/0;if(I.forEach(function(Tt){L[Tt.id]<bt&&(bt=L[Tt.id],et=Tt)}),et===l){var mt=[];return zc(mt,F,N,l.id),{value:mt}}dt=et,(Ot=(st=I).indexOf(dt))>-1&&st.splice(Ot,1),P.push(et),function(Tt,Dt,Yt,Gt){var Kt=[];return Tt.forEach(function(Zt){Zt!==Dt&&(Zt.x!==Dt.x&&Zt.y!==Dt.y||mo(Zt,Dt,Yt)||mo(Zt,Dt,Gt)||Kt.push(Zt))}),fo(Kt)}(e,et,g,w).forEach(function(Tt){if(P.indexOf(Tt)===-1){I.indexOf(Tt)===-1&&I.push(Tt);var Dt=L[et.id]+ti(et,Tt);R[Tt.id]&&Dt>=R[Tt.id]||(N[Tt.id]=et.id,R[Tt.id]=Dt,L[Tt.id]=R[Tt.id]+Va(Tt,l,t,_,k))}})};I.length;){var q=z();if(typeof q=="object")return q.value}return[t,l]},Ua=function(e,t){var l=[],g=e[0];return l.push("M"+g.x+" "+g.y),e.forEach(function(w,_){var k=e[_+1],P=e[_+2];if(k&&P)if(function(L,F,z){return!(L.x===F.x&&F.x===z.x||L.y===F.y&&F.y===z.y)}(w,k,P)){var I=function(L,F,z,q){var nt=ti(L,F),et=ti(z,F);return nt<q&&(q=nt),et<q&&(q=et),[{x:F.x-q/nt*(F.x-L.x),y:F.y-q/nt*(F.y-L.y)},{x:F.x-q/et*(F.x-z.x),y:F.y-q/et*(F.y-z.y)}]}(w,k,P,t),N=I[0],R=I[1];l.push("L"+N.x+" "+N.y),l.push("Q"+k.x+" "+k.y+" "+R.x+" "+R.y),l.push("L"+R.x+" "+R.y)}else l.push("L"+k.x+" "+k.y);else k&&l.push("L"+k.x+" "+k.y)}),l.join("")},Hc=function(e,t,l,g,w){var _,k;if(l&&l.getType()?l.getType()==="combo"?((_=l.getKeyShape().getCanvasBBox()||Ai(e)).centerX=(_.minX+_.maxX)/2,_.centerY=(_.minY+_.maxY)/2):_=l.getBBox():_=Ai(e),g&&g.getType()?g.getType()==="combo"?((k=g.getKeyShape().getCanvasBBox()||Ai(t)).centerX=(k.minX+k.maxX)/2,k.centerY=(k.minY+k.maxY)/2):k=g&&g.getBBox():k=Ai(t),Xa(_,k))return Ci(Ha(e,t));var P=ji(_,w),I=ji(k,w);if(Xa(P,I))return Ci(Ha(e,t));var N=po(P,e),R=po(I,t),L=function(st){st===void 0&&(st=[]);var dt=[],Ot=[];st.forEach(function(Yt){dt.push(Yt.x),Ot.push(Yt.y)});var bt=Math.min.apply(Math,dt),mt=Math.max.apply(Math,dt),Tt=Math.min.apply(Math,Ot),Dt=Math.max.apply(Math,Ot);return{centerX:(bt+mt)/2,centerY:(Tt+Dt)/2,maxX:mt,maxY:Dt,minX:bt,minY:Tt,height:Dt-Tt,width:mt-bt}}([N,R]),F=(go(P,I),go(P,L)),z=go(I,L),q=[];q=(q=q.concat(vo(F))).concat(vo(z));var nt={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[L,F,z].forEach(function(st){q=q.concat(function(dt,Ot){return function(bt,mt){return mt<bt.minX||mt>bt.maxX?[]:[{x:mt,y:bt.minY},{x:mt,y:bt.maxY}]}(dt,Ot.x).concat(function(bt,mt){return mt<bt.minY||mt>bt.maxY?[]:[{x:bt.minX,y:mt},{x:bt.maxX,y:mt}]}(dt,Ot.y))}(st,nt).filter(function(dt){return Ii(dt,P)&&Ii(dt,I)}))}),[{x:N.x,y:R.y},{x:R.x,y:N.y}].forEach(function(st){Ii(st,P)&&Ii(st,I)&&q.push(st)}),q.unshift(N),q.push(R),q=fo(q);var et=Xc(q,N,R,_,k,e,t);return et.unshift(e),et.push(t),Ci(et)},Vc={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},fallbackRoute:function(e,t,l,g,w){return Ci(Hc(e,t,l,g,w.offset))}},Tn=function(e,t){var l=Math.floor(e/t);return l<0?0:l},yo=function(e,t){var l=t.x-e.x,g=t.y-e.y;return l||g?(360+180*Math.atan2(g,l)/Math.PI)%360:0},qa=function(e,t){var l=Math.abs(e-t);return l>180?360-l:l},Wa=function(e,t,l){for(var g=1/0,w=0,_=t.length;w<_;w++){var k=l(e,t[w]);k<g&&(g=k)}return g},Za=function(e,t,l){var g=[];if(!t)return g;var w=l.directions,_=l.offset,k=t.getBBox(),P=ji(t.getBBox(),_);for(var I in P)P[I]=Tn(P[I],l.gridSize);if(e.x>Tn(k.minX,l.gridSize)&&e.x<Tn(k.maxX,l.gridSize)&&e.y>Tn(k.minY,l.gridSize)&&e.y<Tn(k.maxY,l.gridSize))for(var N=0,R=w;N<R.length;N++){var L=R[N],F=[[{x:P.minX,y:P.minY},{x:P.maxX,y:P.minY}],[{x:P.minX,y:P.minY},{x:P.minX,y:P.maxY}],[{x:P.maxX,y:P.minY},{x:P.maxX,y:P.maxY}],[{x:P.minX,y:P.maxY},{x:P.maxX,y:P.maxY}]];for(I=0;I<4;I++){var z,q=F[I];(z=nn(e,{x:e.x+L.stepX*P.width,y:e.y+L.stepY*P.height},q[0],q[1]))&&!mo(e,z,t.getBBox())&&(z.id=z.x+"-"+z.y,g.push(z))}}else(z=po(P,e)).id=z.x+"-"+z.y,g.push(z);return g},Ka=function(e,t,l,g,w){var _=we()(Vc,w);_.obstacles=_.obstacles||[];var k=function(Tt,Dt,Yt){var Gt={};return Tt.forEach(function(Kt){if(Kt)for(var Zt=ji(Kt.getBBox(),Yt),Wt=Tn(Zt.minX,Dt);Wt<=Tn(Zt.maxX,Dt);Wt+=1)for(var ee=Tn(Zt.minY,Dt);ee<=Tn(Zt.maxY,Dt);ee+=1)Gt[Wt+"-"+ee]=!0}),Gt}(_.obstacles.concat([l,g]),_.gridSize,_.offset),P={x:Tn(e.x,_.gridSize),y:Tn(e.y,_.gridSize)},I={x:Tn(t.x,_.gridSize),y:Tn(t.y,_.gridSize)};e.id=P.x+"-"+P.y,t.id=I.x+"-"+I.y;var N=Za(P,l,_),R=Za(I,g,_);N.forEach(function(Tt){delete k[Tt.id]}),R.forEach(function(Tt){delete k[Tt.id]});for(var L={},F={},z={},q={},nt={},et=0;et<N.length;et++){var st=N[et];L[st.id]=st,q[st.id]=0,nt[st.id]=Wa(st,R,_.distFunc)}for(var dt=function(Dt,Yt){var Gt,Kt=yo(Dt,Yt);if(z[Dt.id]){var Zt=yo({x:parseFloat(z[Dt.id].split("-")[0]),y:parseFloat(z[Dt.id].split("-")[1])},Dt);Gt=qa(Zt,Kt)}else{var Wt=yo(P,Dt);Gt=qa(Wt,Kt)}return Gt},Ot=_.maximumLoops,bt=function(){var Dt,Yt=1/0;for(var Gt in L)nt[Gt]<=Yt&&(Yt=nt[Gt],Dt=L[Gt]);if(!Dt)return"break";if(R.findIndex(function(ae){return ae.x===Dt.x&&ae.y===Dt.y})>-1)return{value:function(ae){var he=[t],Jt={x:parseFloat(ae.split("-")[0]),y:parseFloat(ae.split("-")[1]),id:ae};for(dt(Jt,I)&&he.unshift({x:Jt.x===I.x?t.x:Jt.x*_.gridSize,y:Jt.y===I.y?t.y:Jt.y*_.gridSize});z[ae]&&z[ae]!==ae;){var se={x:parseFloat(ae.split("-")[0]),y:parseFloat(ae.split("-")[1]),id:ae},me=z[ae],Pe={x:parseFloat(me.split("-")[0]),y:parseFloat(me.split("-")[1]),id:me};dt(Pe,se)&&he.unshift({x:Pe.x===se.x?he[0].x:Pe.x*_.gridSize,y:Pe.y===se.y?he[0].y:Pe.y*_.gridSize}),ae=me}var Ce=parseFloat(ae.split("-")[0]),Ve=parseFloat(ae.split("-")[1]);return he[0].x=Ce===P.x?e.x:he[0].x,he[0].y=Ve===P.y?e.y:he[0].y,he.unshift(e),he}(Dt.id)};delete L[Dt.id],F[Dt.id]=!0;for(var Kt=0;Kt<_.directions.length;Kt++){var Zt=_.directions[Kt],Wt={x:Dt.x+Zt.stepX,y:Dt.y+Zt.stepY,id:Dt.x+Zt.stepX+"-"+(Dt.y+Zt.stepY)};if(!F[Wt.id]){var ee=dt(Dt,Wt);if(!(ee>_.maxAllowedDirectionChange||k[Wt.id])){L[Wt.id]||(L[Wt.id]=Wt);var Qt=_.distFunc(Dt,Wt)+(isNaN(_.penalties[ee])?_.gridSize:_.penalties[ee]),ue=q[Dt.id]+Qt;q[Wt.id]&&ue>=q[Wt.id]||(z[Wt.id]=Dt.id,q[Wt.id]=ue,nt[Wt.id]=ue+Wa(Wt,R,_.distFunc))}}}Ot-=1};Object.keys(L).length>0&&Ot>0;){var mt=bt();if(typeof mt=="object")return mt.value;if(mt==="break")break}return _.fallbackRoute(e,t,l,g,_)};ze.registerEdge("polyline",{options:{color:tt.defaultEdge.color,size:tt.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:tt.defaultEdge.style.stroke,lineAppendWidth:tt.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:tt.edgeLabel.style.fill,fontSize:tt.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:Object(T.__assign)({},tt.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var l=this.getShapeStyle(e);return l.radius===0&&delete l.radius,t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:l})},getShapeStyle:function(e){var t=this.options.style,l={stroke:e.color},g=Object(ct.mix)({},t,l,e.style);e=this.getPathPoints(e),this.radius=g.radius,this.offset=g.offset;var w=e.startPoint,_=e.endPoint,k=this.getControlPoints(e),P=[w];k&&(P=P.concat(k)),P.push(_);var I=e.sourceNode,N=e.targetNode,R=g.radius,L=this.options.routeCfg;L.offset=g.offset;var F=this.getPath(P,I,N,R,L);return(Object(ct.isArray)(F)&&F.length<=1||Object(ct.isString)(F)&&F.indexOf("L")===-1)&&(F="M0 0, L0 0"),(isNaN(w.x)||isNaN(w.y)||isNaN(_.x)||isNaN(_.y))&&(F="M0 0, L0 0"),Object(ct.mix)({},tt.defaultEdge.style,g,{lineWidth:e.size,path:F})},updateShapeStyle:function(e,t){var l=t.getContainer(),g={stroke:e.color},w=l.find(function(st){return st.get("className")==="edge-shape"})||t.getKeyShape(),_=e.size,k=(e=this.getPathPoints(e)).startPoint,P=e.endPoint,I=this.getControlPoints(e),N=[k];I&&(N=N.concat(I)),N.push(P);var R=Object(ct.mix)({},g,w.attr(),e.style),L=e.sourceNode,F=e.targetNode,z=R.radius,q=this.options.routeCfg;q.offset=R.offset;var nt=this.getPath(N,L,F,z,q);(Object(ct.isArray)(nt)&&nt.length<=1||Object(ct.isString)(nt)&&nt.indexOf("L")===-1)&&(nt="M0 0, L0 0"),(isNaN(k.x)||isNaN(k.y)||isNaN(P.x)||isNaN(P.y))&&(nt="M0 0, L0 0");var et=Object(ct.mix)(g,w.attr(),{lineWidth:_,path:nt},e.style);w&&w.attr(et)},getPath:function(e,t,l,g,w){var _;if(!w.offset||e.length>2){if(g)return Ua(e,g);var k=[];return Object(ct.each)(e,function(P,I){I===0?k.push(["M",P.x,P.y]):k.push(["L",P.x,P.y])}),k}return g?(_=Ka(e[0],e[e.length-1],t,l,w),Ua(_,g)):(_=Ka(e[0],e[e.length-1],t,l,w),qt(_))}},"single-edge");var Uc={collapse:function(e,t,l){return[["M",e-l,t],["a",l,l,0,1,0,2*l,0],["a",l,l,0,1,0,2*-l,0],["M",e-l+4,t],["L",e+l-4,t]]},expand:function(e,t,l){return[["M",e-l,t],["a",l,l,0,1,0,2*l,0],["a",l,l,0,1,0,2*-l,0],["M",e-l+4,t],["L",e-l+2*l-4,t],["M",e-l+l,t-l+4],["L",e,t+l-4]]},upTriangle:function(e,t,l){var g=l*Math.cos(Math.PI/6),w=l*Math.sin(Math.PI/6);return[["M",e-g,t+w],["L",e+g,t+w],["L",e,t-l],["Z"]]},downTriangle:function(e,t,l){var g=l*Math.cos(Math.PI/6),w=l*Math.sin(Math.PI/6);return[["M",e-g,t-w],["L",e+g,t-w],["L",e,t+l],["Z"]]}},Gr=ze,qc={mat3:Hn.mat3,mix:Wr.a,deepMix:we.a,transform:Hn.transform},$a=Object(T.__assign)(Object(T.__assign)(Object(T.__assign)(Object(T.__assign)(Object(T.__assign)(Object(T.__assign)({},qc),d),o),n),p),y),rr=function(){function S(e){this._cfgs=we()(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return S.prototype.getDefaultCfgs=function(){return{}},S.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var l=t.getEvents(),g={};h()(l,function(w,_){var k=di()(t,w);g[_]=k,e.on(_,k)}),this._events=g,this.init()},S.prototype.init=function(){},S.prototype.getEvents=function(){return{}},S.prototype.get=function(e){return this._cfgs[e]},S.prototype.set=function(e,t){this._cfgs[e]=t},S.prototype.destroy=function(){},S.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;h()(t,function(l,g){e.off(g,l)}),this._events=null,this._cfgs=null,this.destroyed=!0},S}(),Qa="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",Wc=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{img:Qa}},e.prototype.init=function(){var t=this.get("graph"),l=t.get("minZoom"),g=t.get("container"),w=t.get("canvas").get("el"),_=t.get("width"),k=t.get("height"),P=this.get("img")||Qa,I=be()(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),N=be()(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+P+`;
        user-select: none
        '></div>`);I.appendChild(N),ce()(I,{width:_+"px",height:k+"px",left:g.offsetLeft+"px",top:g.offsetTop+"px"}),ce()(N,{width:_/l+"px",height:k/l+"px",left:"0px",top:"0px"}),g.insertBefore(I,w),this.set("container",I),this.set("gridContainer",N)},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var l=this.get("gridContainer"),g=t.matrix;g||(g=[1,0,0,0,1,0,0,0,1]);var w="matrix("+g[0]+", "+g[1]+", "+g[3]+", "+g[4]+", 0, 0)";ce()(l,{transform:w})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph").get("container"),l=this.get("container");t.removeChild(l)},e}(rr),Zc=s(56),bo=s.n(Zc);bo()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var Kc=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(l){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(l){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},e.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),l=be()("<div class="+(t||"g6-component-contextmenu")+"></div>");ce()(l,{top:"0px",position:"absolute",visibility:"hidden"});var g=this.get("container");g||(g=this.get("graph").get("container")),g.appendChild(l),this.set("menu",l)},e.prototype.onMenuShow=function(t){var l=this;if(t.preventDefault(),t.stopPropagation(),t.item&&this.get("shouldBegin")(t)){var g=this.get("itemTypes");if(t.item&&t.item.getType&&g.indexOf(t.item.getType())===-1)l.onMenuHide();else if(t.item){var w=this.get("menu"),_=this.get("getContent"),k=this.get("graph"),P=_(t,k);D()(P)?w.innerHTML=P:w.innerHTML=P.outerHTML,this.removeMenuEventListener();var I=this.get("handleMenuClick");if(I){var N=function(mt){I(mt.target,t.item,k)};this.set("handleMenuClickWrapper",N),w.addEventListener("click",N)}var R=k.get("width"),L=k.get("height"),F=w.getBoundingClientRect(),z=this.get("offsetX")||0,q=this.get("offsetY")||0,nt=k.getContainer().offsetTop,et=k.getContainer().offsetLeft,st=t.canvasX+et+z,dt=t.canvasY+nt+q;st+F.width>R&&(st=t.canvasX-F.width-z+et),dt+F.height>L&&(dt=t.canvasY-F.height-q+nt),ce()(w,{top:dt+"px",left:st+"px",visibility:"visible"});var Ot=function(mt){l.onMenuHide()};document.body.addEventListener("click",Ot),this.set("handler",Ot)}}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),l=this.get("handler");t&&(this.get("menu").removeEventListener("click",t),this.set("handleMenuClickWrapper",null)),l&&document.body.removeEventListener("click",l)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&ce()(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var l=this.get("container");l||(l=this.get("graph").get("container")),l.removeChild(t)}},e}(rr),Ja=Math.max,$c=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.handleUpdateCanvas=Object(ct.debounce)(function(l){var g=t;g.destroyed||g.updateCanvas()},100,!1),t}return Object(T.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,l=this._cfgs,g=l.size,w=l.graph;if(!this.destroyed){var _=this.get("canvas").get("container"),k=be()(`
      <div
        class=`+l.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),P=0,I=0,N=!1,R=0,L=0,F=0,z=0,q=0,nt=0;k.addEventListener("dragstart",function(et){if(et.dataTransfer){var st=new Image;st.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",et.dataTransfer.setDragImage(st,0,0),et.dataTransfer.setData("text","view-port-minimap")}if(l.refresh=!1,et.target===k){var dt=k.style;R=parseInt(dt.left,10),L=parseInt(dt.top,10),F=parseInt(dt.width,10),z=parseInt(dt.height,10),F>g[0]||z>g[1]||(nt=w.getZoom(),q=t.get("ratio"),N=!0,P=et.clientX,I=et.clientY)}},!1),k.addEventListener("drag",function(et){if(N&&!E()(et.clientX)&&!E()(et.clientY)){var st=P-et.clientX,dt=I-et.clientY;(R-st<0||R-st+F>=g[0])&&(st=0),(L-dt<0||L-dt+z>=g[1])&&(dt=0),R-=st,L-=dt,ce()(k,{left:R+"px",top:L+"px"}),w.translate(st*nt/q,dt*nt/q),P=et.clientX,I=et.clientY}},!1),k.addEventListener("dragend",function(){N=!1,l.refresh=!0},!1),this.set("viewport",k),_.appendChild(k)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),l=(this.get("dx"),this.get("dy"),this.get("totaldx")),g=this.get("totaldy"),w=this.get("graph"),_=this.get("size"),k=w.get("width"),P=w.get("height"),I=w.getPointByCanvas(0,0),N=w.getPointByCanvas(k,P),R=this.get("viewport");R||this.initViewport(),w.getZoom();var L=(N.x-I.x)*t,F=(N.y-I.y)*t,z=I.x*t+l,q=I.y*t+g,nt=z+L,et=q+F;z<0&&(L+=z,z=0),nt>_[0]&&(L-=nt-_[0]),q<0&&(F+=q,q=0),et>_[1]&&(F-=et-_[1]),this.set("ratio",t);var st=z+"px",dt=q+"px";ce()(R,{left:st,top:dt,width:L+"px",height:F+"px"})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,l=this.get("canvas"),g=t.get("group");if(!g.destroyed){var w=g.clone();w.resetMatrix(),l.clear(),l.add(w),t.get("renderer")==="svg"&&this.updateVisible(w)}},e.prototype.updateVisible=function(t){var l=this;if(t.isGroup()||t.get("visible")){var g=t.get("children");if(!g||!g.length)return;g.forEach(function(w){w.get("visible")||w.hide(),l.updateVisible(w)})}else t.hide()},e.prototype.updateKeyShapes=function(){var t=this,l=this._cfgs.graph;h()(l.getEdges(),function(g){t.updateOneEdgeKeyShape(g)}),h()(l.getNodes(),function(g){t.updateOneNodeKeyShape(g)}),this.clearDestroyedShapes()},e.prototype.updateOneNodeKeyShape=function(t){var l=this.get("canvas"),g=l.get("children")[0]||l.addGroup(),w=this.get("itemMap")||{},_=w[t.get("id")],k=t.getBBox(),P=t.get("keyShape").clone(),I=P.attr(),N={x:k.centerX,y:k.centerY};_?N=Object.assign(I,N):(_=P,g.add(_));var R=_.get("type");R!=="rect"&&R!=="image"||(N.x=k.minX,N.y=k.minY),_.attr(N),t.isVisible()||_.hide(),_.exist=!0,w[t.get("id")]=_,this.set("itemMap",w)},e.prototype.updateDelegateShapes=function(){var t=this,l=this._cfgs.graph;h()(l.getEdges(),function(g){t.updateOneEdgeKeyShape(g)}),h()(l.getNodes(),function(g){t.updateOneNodeDelegateShape(g)}),this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},l=Object.keys(t);if(l&&l.length!==0)for(var g=l.length-1;g>=0;g--){var w=t[l[g]],_=w.exist;w.exist=!1,_||(w.remove(),delete t[l[g]])}},e.prototype.updateOneEdgeKeyShape=function(t){var l=this.get("canvas"),g=l.get("children")[0]||l.addGroup(),w=this.get("itemMap")||{},_=w[t.get("id")];if(_){var k=t.get("keyShape").attr("path");_.attr("path",k)}else _=t.get("keyShape").clone(),g.add(_),_.toBack();t.isVisible()||_.hide(),_.exist=!0,w[t.get("id")]=_,this.set("itemMap",w)},e.prototype.updateOneNodeDelegateShape=function(t){var l=this.get("canvas"),g=l.get("children")[0]||l.addGroup(),w=this.get("delegateStyle"),_=this.get("itemMap")||{},k=_[t.get("id")],P=t.getBBox();if(k){var I={x:P.minX,y:P.minY,width:P.width,height:P.height};k.attr(I)}else k=g.addShape("rect",{attrs:Object(T.__assign)({x:P.minX,y:P.minY,width:P.width,height:P.height},w),name:"minimap-node-shape"});t.isVisible()||k.hide(),k.exist=!0,_[t.get("id")]=k,this.set("itemMap",_)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this.get("graph"),l=this.get("size"),g=this.get("className"),w=this.get("container"),_=be()("<div class='"+g+"' style='width: "+l[0]+"px; height: "+l[1]+"px; overflow: hidden'></div>");D()(w)&&(w=document.getElementById(w)),w?w.appendChild(_):t.get("container").appendChild(_),this.set("container",_);var k,P=be()('<div class="g6-minimap-container" style="position: relative;"></div>');_.appendChild(P),k=t.get("renderer")==="svg"?new Pr.a({container:P,width:l[0],height:l[1]}):new Xn.a({container:P,width:l[0],height:l[1]}),this.set("canvas",k),this.updateCanvas()},e.prototype.updateCanvas=function(){if(this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var l=this.get("size"),g=this.get("canvas"),w=this.get("type"),_=this.get("padding");if(!g.destroyed){switch(w){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var k=g.get("children")[0];if(k){k.resetMatrix();var P=k.getCanvasBBox(),I=t.get("canvas").getBBox(),N=I.width,R=I.height;Number.isFinite(P.width)&&(N=Ja(P.width,N),R=Ja(P.height,R)),N+=2*_,R+=2*_;var L=Math.min(l[0]/N,l[1]/R),F=[1,0,0,0,1,0,0,0,1],z=0,q=0;Number.isFinite(P.minX)&&(z=-P.minX),Number.isFinite(P.minY)&&(q=-P.minY);var nt=(l[0]-(N-2*_)*L)/2,et=(l[1]-(R-2*_)*L)/2;F=pe(F,[["t",z,q],["s",L,L],["t",nt,et]]),k.setMatrix(F),this.set("ratio",L),this.set("totaldx",nt+z*L),this.set("totaldy",et+q*L),this.set("dx",nt),this.set("dy",et),this.updateViewport()}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},e}(rr);function ir(S,e,t){var l=S.x-e.x,g=S.y-e.y;return!t||Math.abs(l)>t||Math.abs(g)>t?Math.sqrt(l*l+g*g):t}function ts(S,e){var t=(e.source.y-e.target.y)/(e.source.x-e.target.x),l=(t*t*e.source.x+t*(S.y-e.source.y)+S.x)/(t*t+1);return{x:l,y:t*(l-e.source.x)+e.source.y}}var Qc=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),l=this.get("onTick");this.set("tick",function(){l&&l(),t.refreshPositions()})},e.prototype.bundling=function(t){var l=this;if(l.set("data",t),!l.isTicking()){var g=t.edges||[],w=t.nodes||[],_={},k=!1;if(w.forEach(function(dt){dt.x!==null&&!dt.y!==null&&dt.x!==void 0&&!dt.y!==void 0||(k=!0),_[dt.id]=dt}),k)throw new Error("please layout the graph or assign x and y for nodes first");l.set("nodeIdMap",_);var P=l.get("divisions"),I=l.get("divRate"),N=l.divideEdges(P);l.set("edgePoints",N);var R=l.getEdgeBundles();l.set("edgeBundles",R);for(var L=l.get("cycles"),F=l.get("iterations"),z=l.get("iterRate"),q=l.get("lambda"),nt=0;nt<L;nt++){for(var et=function(Ot){var bt=[];g.forEach(function(mt,Tt){if(mt.source!==mt.target){var Dt=_[mt.source],Yt=_[mt.target];bt[Tt]=l.getEdgeForces({source:Dt,target:Yt},Tt,P,q);for(var Gt=0;Gt<P+1;Gt++)N[Tt][Gt].x+=bt[Tt][Gt].x,N[Tt][Gt].y+=bt[Tt][Gt].y}})},st=0;st<F;st++)et();q/=2,P*=I,F*=z,N=l.divideEdges(P),l.set("edgePoints",N)}g.forEach(function(dt,Ot){dt.source!==dt.target&&(dt.shape="polyline",dt.type="polyline",dt.controlPoints=N[Ot].slice(1,N[Ot].length-1))}),l.get("graph").refresh()}},e.prototype.updateBundling=function(t){var l=this,g=t.data;if(g&&l.set("data",g),l.get("ticking")&&l.set("ticking",!1),Object.keys(t).forEach(function(_){l.set(_,t[_])}),t.onTick){var w=this.get("graph");l.set("tick",function(){t.onTick(),w.refresh()})}l.bundling(g)},e.prototype.divideEdges=function(t){var l=this,g=l.get("data").edges,w=l.get("nodeIdMap"),_=l.get("edgePoints");return _&&_!==void 0||(_=[]),g.forEach(function(k,P){_[P]&&_[P]!==void 0||(_[P]=[]);var I=w[k.source],N=w[k.target];if(t===1)_[P].push({x:I.x,y:I.y}),_[P].push({x:.5*(I.x+N.x),y:.5*(I.y+N.y)}),_[P].push({x:N.x,y:N.y});else{var R=(_[P]&&_[P]!==[]?l.getEdgeLength(_[P]):ir({x:I.x,y:I.y},{x:N.x,y:N.y}))/(t+1),L=R,F=[{x:I.x,y:I.y}];_[P].forEach(function(z,q){if(q!==0){for(var nt=ir(z,_[P][q-1]);nt>L;){var et=L/nt,st={x:_[P][q-1].x,y:_[P][q-1].y};st.x+=et*(z.x-_[P][q-1].x),st.y+=et*(z.y-_[P][q-1].y),F.push(st),nt-=L,L=R}L-=nt}}),F.push({x:N.x,y:N.y}),_[P]=F}}),_},e.prototype.getEdgeLength=function(t){var l=0;return t.forEach(function(g,w){w!==0&&(l+=ir(g,t[w-1]))}),l},e.prototype.getEdgeBundles=function(){var t=this,l=t.get("data").edges||[],g=t.get("bundleThreshold"),w=t.get("nodeIdMap"),_=t.get("edgeBundles");return _||(_=[]),l.forEach(function(k,P){_[P]&&_[P]!==void 0||(_[P]=[])}),l.forEach(function(k,P){var I=w[k.source],N=w[k.target];l.forEach(function(R,L){if(!(L<=P)){var F=w[R.source],z=w[R.target];t.getBundleScore({source:I,target:N},{source:F,target:z})>=g&&(_[P].push(L),_[L].push(P))}})}),_},e.prototype.getBundleScore=function(t,l){return t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,l.vx=l.target.x-l.source.x,l.vy=l.target.y-l.source.y,t.length=ir({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),l.length=ir({x:l.source.x,y:l.source.y},{x:l.target.x,y:l.target.y}),this.getAngleScore(t,l)*this.getScaleScore(t,l)*this.getPositionScore(t,l)*this.getVisibilityScore(t,l)},e.prototype.getAngleScore=function(t,l){return function(g,w){return g.x*w.x+g.y*w.y}({x:t.vx,y:t.vy},{x:l.vx,y:l.vy})/(t.length*l.length)},e.prototype.getScaleScore=function(t,l){var g=(t.length+l.length)/2;return 2/(g/Math.min(t.length,l.length)+Math.max(t.length,l.length)/g)},e.prototype.getPositionScore=function(t,l){var g=(t.length+l.length)/2;return g/(g+ir({x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},{x:(l.source.x+l.target.x)/2,y:(l.source.y+l.target.y)/2}))},e.prototype.getVisibilityScore=function(t,l){var g=this.getEdgeVisibility(t,l),w=this.getEdgeVisibility(l,t);return g<w?g:w},e.prototype.getEdgeVisibility=function(t,l){var g=ts(l.source,t),w=ts(l.target,t),_={x:(g.x+w.x)/2,y:(g.y+w.y)/2},k={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*ir(_,k)/ir(g,w))},e.prototype.getEdgeForces=function(t,l,g,w){for(var _=this.get("edgePoints"),k=this.get("K")/(ir(t.source,t.target)*(g+1)),P=[{x:0,y:0}],I=1;I<g;I++){var N={x:0,y:0},R=this.getSpringForce({pre:_[l][I-1],cur:_[l][I],next:_[l][I+1]},k),L=this.getElectrostaticForce(I,l);N.x=w*(R.x+L.x),N.y=w*(R.y+L.y),P.push(N)}return P.push({x:0,y:0}),P},e.prototype.getSpringForce=function(t,l){var g=t.pre.x+t.next.x-2*t.cur.x,w=t.pre.y+t.next.y-2*t.cur.y;return{x:g*=l,y:w*=l}},e.prototype.getElectrostaticForce=function(t,l){var g=this.get("eps"),w=this.get("edgeBundles"),_=this.get("edgePoints"),k=w[l],P={x:0,y:0};return k.forEach(function(I){var N={x:_[I][t].x-_[l][t].x,y:_[I][t].y-_[l][t].y};if(Math.abs(N.x)>g||Math.abs(N.y)>g){var R=1/ir(_[I][t],_[l][t]);P.x+=N.x*R,P.y+=N.y*R}}),P},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),S.prototype.destroy.call(this)},e}(rr),es={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},Jc=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(v.clone)(es),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"}}return t},e.prototype.init=function(){var t=this.get("r");this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{}),this.set("r2",t*t);var l=this.get("d");this.set("molecularParam",(l+1)*t)},e.prototype.createDelegate=function(t){var l=this,g=this,w=g.get("delegate");w&&!w.destroyed||(g.magnify(t),(w=g.get("delegate")).on("dragstart",function(_){g.set("delegateCenterDiff",{x:w.attr("x")-_.x,y:w.attr("y")-_.y})}),w.on("drag",function(_){g.magnify(_)}),this.get("scaleDBy")==="wheel"&&w.on("mousewheel",function(_){l.scaleDByWheel(_)}),this.get("scaleRBy")==="wheel"&&w.on("mousewheel",function(_){g.scaleRByWheel(_)}))},e.prototype.scaleRByWheel=function(t){if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var l,g=this.get("graph"),w=this.get("delegate"),_=(w?{x:w.attr("x"),y:w.attr("y")}:void 0)||g.getPointByClient(t.clientX,t.clientY);l=t.originalEvent.wheelDelta<0?.95:1/.95;var k=this.get("maxR"),P=this.get("minR"),I=this.get("r");(I>(k||g.get("height"))&&l>1||I<(P||.05*g.get("height"))&&l<1)&&(l=1),I*=l,this.set("r",I),this.set("r2",I*I);var N=this.get("d");this.set("molecularParam",(N+1)*I),this.set("delegateCenterDiff",void 0),this.magnify(t,_)}},e.prototype.scaleRByDrag=function(t){if(t){var l,g=this.get("dragPrePos"),w=this.get("graph"),_=w.getPointByClient(t.clientX,t.clientY);l=t.x-g.x<0?.95:1/.95;var k=this.get("maxR"),P=this.get("minR"),I=this.get("r");(I>(k||w.get("height"))&&l>1||I<(P||.05*w.get("height"))&&l<1)&&(l=1),I*=l,this.set("r",I),this.set("r2",I*I);var N=this.get("d");this.set("molecularParam",(N+1)*I),this.magnify(t,_),this.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){if(t||t.originalEvent){t.preventDefault&&t.preventDefault();var l=0;l=t.originalEvent.wheelDelta<0?-.1:.1;var g=this.get("d")+l,w=this.get("maxD"),_=this.get("minD");if(g<w&&g>_){this.set("d",g);var k=this.get("r");this.set("molecularParam",(g+1)*k);var P=this.get("delegate"),I=P?{x:P.attr("x"),y:P.attr("y")}:void 0;this.set("delegateCenterDiff",void 0),this.magnify(t,I)}}},e.prototype.scaleDByDrag=function(t){var l=this.get("dragPrePos"),g=t.x-l.x>0?.1:-.1,w=this.get("d")+g,_=this.get("maxD"),k=this.get("minD");if(w<_&&w>k){this.set("d",w);var P=this.get("r");this.set("molecularParam",(w+1)*P),this.magnify(t)}this.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,l){this.restoreCache();var g=this.get("graph"),w=this.get("cachedMagnifiedModels"),_=this.get("cachedOriginPositions"),k=this.get("showLabel"),P=this.get("r"),I=this.get("r2"),N=this.get("d"),R=this.get("molecularParam"),L=g.getNodes(),F=L.length,z=l?{x:l.x,y:l.y}:{x:t.x,y:t.y};!this.get("dragging")||this.get("trigger")!=="mousemove"&&this.get("trigger")!=="click"||(z=this.get("cacheCenter"));var q=this.get("delegateCenterDiff");q&&(z.x+=q.x,z.y+=q.y),this.updateDelegate(z,P);for(var nt=0;nt<F;nt++){var et=L[nt].getModel(),st=et.x,dt=et.y;if(!isNaN(st)&&!isNaN(dt)){var Ot=(st-z.x)*(st-z.x)+(dt-z.y)*(dt-z.y);if(!isNaN(Ot)&&Ot<I&&Ot!==0){var bt=Math.sqrt(Ot),mt=R*bt/(N*bt+P),Tt=(st-z.x)/bt,Dt=(dt-z.y)/bt;if(et.x=Tt*mt+z.x,et.y=Dt*mt+z.y,_[et.id]||(_[et.id]={x:st,y:dt,texts:[]}),w.push(et),k&&2*bt<P)for(var Yt=L[nt].getContainer().getChildren(),Gt=Yt.length,Kt=0;Kt<Gt;Kt++){var Zt=Yt[Kt];Zt.get("type")==="text"&&(_[et.id].texts.push({visible:Zt.get("visible"),shape:Zt}),Zt.set("visible",!0))}}}}g.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this.get("cachedMagnifiedModels"),l=this.get("cachedOriginPositions"),g=t.length,w=0;w<g;w++){var _=t[w],k=l[_.id];_.x=k.x,_.y=k.y;for(var P=k.texts.length,I=0;I<P;I++){var N=k.texts[I];N.shape.set("visible",N.visible)}}this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var l=t.r,g=t.d,w=t.trigger,_=t.minD,k=t.maxD,P=t.minR,I=t.maxR,N=t.scaleDBy,R=t.scaleRBy;isNaN(t.r)||(this.set("r",l),this.set("r2",l*l)),isNaN(g)||this.set("d",g),isNaN(k)||this.set("maxD",k),isNaN(_)||this.set("minD",_),isNaN(I)||this.set("maxR",I),isNaN(P)||this.set("minR",P);var L,F=this.get("d"),z=this.get("r");this.set("molecularParam",(F+1)*z),w!=="mousemove"&&w!=="click"&&w!=="drag"||this.set("trigger",w),(N==="drag"||N==="wheel"||N==="unset")&&(this.set("scaleDBy",N),this.get("delegate").remove(),this.get("delegate").destroy(),(L=this.get("dPercentText"))&&(L.remove(),L.destroy())),R!=="drag"&&R!=="wheel"&&R!=="unset"||(this.set("scaleRBy",R),this.get("delegate").remove(),this.get("delegate").destroy(),(L=this.get("dPercentText"))&&(L.remove(),L.destroy()))},e.prototype.updateDelegate=function(t,l){var g=this,w=this,_=w.get("graph"),k=w.get("delegate");if(!k||k.destroyed){var P=_.get("group"),I=w.get("delegateStyle")||es;k=P.addShape("circle",{attrs:Object(T.__assign)({r:l/1.5,x:t.x,y:t.y},I),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?k.on("mousewheel",function(F){w.scaleRByWheel(F)}):this.get("scaleRBy")==="drag"&&(k.on("dragstart",function(F){w.set("dragging",!0),w.set("cacheCenter",{x:F.x,y:F.y}),w.set("dragPrePos",{x:F.x,y:F.y})}),k.on("drag",function(F){w.scaleRByDrag(F)}),k.on("dragend",function(F){w.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?k.on("mousewheel",function(F){g.scaleDByWheel(F)}):this.get("scaleDBy")==="drag"&&(k.on("dragstart",function(F){w.set("dragging",!0),w.set("cacheCenter",{x:F.x,y:F.y}),w.set("dragPrePos",{x:F.x,y:F.y})}),k.on("drag",function(F){g.scaleDByDrag(F)}),k.on("dragend",function(F){w.set("dragging",!1)})))}else k.attr({x:t.x,y:t.y,r:l/1.5});if(w.get("showDPercent")){var N=Math.round((w.get("d")-w.get("minD"))/(w.get("maxD")-w.get("minD"))*100),R=w.get("dPercentText"),L=t.y+l/1.5+16;!R||R.destroyed?(R=(P=_.get("group")).addShape("text",{attrs:{text:N+"%",x:t.x,y:L,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),w.set("dPercentText",R)):R.attr({text:N+"%",x:t.x,y:L})}w.set("delegate",k)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var l=this.get("delegate");l&&!l.destroyed&&(l.remove(),l.destroy());var g=this.get("dPercentText");g&&!g.destroyed&&(g.remove(),g.destroy())},e.prototype.destroy=function(){this.clear()},e}(rr);bo()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var th=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(l){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},e.prototype.init=function(){var t=this,l=this.get("graph"),g=this.get("getContent")(l),w=g;Object(v.isString)(g)&&(w=be()(g));var _=this.get("className");w.setAttribute("class",_||"g6-component-toolbar");var k=this.get("container");k||(k=this.get("graph").get("container")),k.appendChild(w),this.set("toolBar",w);var P=this.get("handleClick");w.addEventListener("click",function(N){var R=N.path.filter(function(F){return F.nodeName==="LI"});if(R.length!==0){var L=R[0].getAttribute("code");L&&(P?P(L,l):t.handleDefaultOperator(L,l))}});var I=this.get("position");I&&ce()(w,{top:I.y+"px",left:I.x+"px"}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),l=document.querySelector('.g6-component-toolbar li[code="undo"]'),g=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),w=document.querySelector('.g6-component-toolbar li[code="redo"]'),_=document.querySelector('.g6-component-toolbar li[code="redo"] svg');l&&g&&w&&_&&t.on("stackchange",function(k){var P=k.undoStack,I=k.redoStack,N=P.length,R=I.length;N===1?(l.setAttribute("style","cursor: not-allowed"),g.setAttribute("style","opacity: 0.4")):(l.removeAttribute("style"),g.removeAttribute("style")),R===0?(w.setAttribute("style","cursor: not-allowed"),_.setAttribute("style","opacity: 0.4")):(w.removeAttribute("style"),_.removeAttribute("style"))})},e.prototype.undo=function(){var t=this.get("graph"),l=t.getUndoStack();if(l&&l.length!==0){var g=l.pop();if(g){var w=g.action;t.pushStack(w,Object(v.clone)(g.data),"redo");var _=g.data.before;if(w==="add"&&(_=g.data.after),!_)return;switch(w){case"visible":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(I){var N=t.findById(I.id);I.visible?t.showItem(N,!1):t.hideItem(N,!1)})});break;case"render":case"update":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(I){t.updateItem(I.id,I,!1)})});break;case"changedata":t.changeData(_,!1);break;case"delete":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(I){var N=I.itemType;delete I.itemType,t.addItem(N,I,!1)})});break;case"add":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(I){t.removeItem(I.id,!1)})})}}}},e.prototype.redo=function(){var t=this.get("graph"),l=t.getRedoStack();if(l&&l.length!==0){var g=l.pop();if(g){var w=g.action,_=g.data.after;if(t.pushStack(w,Object(v.clone)(g.data)),w==="delete"&&(_=g.data.before),!_)return;switch(w){case"visible":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(I){var N=t.findById(I.id);I.visible?t.showItem(N,!1):t.hideItem(N,!1)})});break;case"render":case"update":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(I){t.updateItem(I.id,I,!1)})});break;case"changedata":t.changeData(_,!1);break;case"delete":_.edges&&_.edges.forEach(function(k){t.removeItem(k.id,!1)}),_.nodes&&_.nodes.forEach(function(k){t.removeItem(k.id,!1)}),_.combos&&_.combos.forEach(function(k){t.removeItem(k.id,!1)});break;case"add":Object.keys(_).forEach(function(k){var P=_[k];P&&P.forEach(function(I){var N=I.itemType;delete I.itemType,t.addItem(N,I,!1)})})}}}},e.prototype.handleDefaultOperator=function(t,l){var g=l.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":if(1.25*g>5)return;l.zoomTo(1.1*g);break;case"zoomIn":if(.75*g<.3)return;l.zoomTo(.9*g);break;case"realZoom":l.zoomTo(1);break;case"autoZoom":l.fitView([20,20])}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var l=this.get("container");l||(l=this.get("graph").get("container")),l.removeChild(t)}var g=this.get("handleClick");g&&t.removeEventListener("click",g)},e}(rr);bo()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var eh=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(l){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+l.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+l.item.getID()+`</span>
        `},shouldBegin:function(l){return!0},itemTypes:["node","edge","combo"]}},e.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",l=be()("<div class="+t+"></div>"),g=this.get("container");g||(g=this.get("graph").get("container")),ce()(l,{position:"absolute",visibility:"hidden"}),g.appendChild(l),this.set("tooltip",l)},e.prototype.onMouseEnter=function(t){var l=this.get("itemTypes");if(!t.item||!t.item.getType||l.indexOf(t.item.getType())!==-1){var g=t.item,w=this.get("graph");this.currentTarget=g,this.showTooltip(t),w.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var l=this.get("itemTypes");t.item&&t.item.getType&&l.indexOf(t.item.getType())===-1||this.currentTarget&&t.item===this.currentTarget&&this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.showTooltip=function(t){if(t.item){var l=this.get("itemTypes");if(!t.item.getType||l.indexOf(t.item.getType())!==-1){var g=this.get("tooltip"),w=this.get("getContent")(t);D()(w)?g.innerHTML=w:g.innerHTML=w.outerHTML,this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&ce()(t,{visibility:"hidden"})},e.prototype.updatePosition=function(t){var l=this.get("shouldBegin"),g=this.get("tooltip");if(l(t)){var w=this.get("graph"),_=w.get("width"),k=w.get("height"),P=this.get("offsetX")||0,I=this.get("offsetY")||0,N=w.getPointByClient(t.clientX,t.clientY),R=w.getCanvasByPoint(N.x,N.y),L=R.x,F=R.y;L+=P,F+=I;var z=g.getBoundingClientRect();L+z.width>_&&(L=L-z.width-P),F+z.height>k&&(F=F-z.height-I),ce()(g,{left:L+"px",top:F+"px",visibility:"visible"})}else ce()(g,{visibility:"hidden"})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var l=this.get("container");l||(l=this.get("graph").get("container")),l.removeChild(t)}},e}(rr),ns={};function or(S,e){ns[S]=e}var xo=function(){function S(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return S.prototype.translate=function(e){return e},S.prototype.change=function(e){Object(ct.assign)(this.__cfg__,e),this.init()},S.prototype.clone=function(){return this.constructor(this.__cfg__)},S.prototype.getTicks=function(){var e=this;return Object(ct.map)(this.ticks,function(t,l){return Object(ct.isObject)(t)?t:{text:e.getText(t,l),tickValue:t,value:e.scale(t)}})},S.prototype.getText=function(e,t){var l=this.formatter,g=l?l(e,t):e;return Object(ct.isNil)(g)||!Object(ct.isFunction)(g.toString)?"":g.toString()},S.prototype.getConfig=function(e){return this.__cfg__[e]},S.prototype.init=function(){Object(ct.assign)(this,this.__cfg__),this.setDomain(),Object(ct.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},S.prototype.initCfg=function(){},S.prototype.setDomain=function(){},S.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if(Object(ct.isString)(e)){var l=ns[e];if(!l)throw new Error("There is no method to to calculate ticks!");t=l(this)}else Object(ct.isFunction)(e)&&(t=e(this));return t},S.prototype.rangeMin=function(){return Object(ct.head)(this.range)},S.prototype.rangeMax=function(){return Object(ct.last)(this.range)},S.prototype.calcPercent=function(e,t,l){return Object(ct.isNumber)(e)?(e-t)/(l-t):NaN},S.prototype.calcValue=function(e,t,l){return t+e*(l-t)},S}(),ei=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return Object(T.__extends)(e,S),e.prototype.translate=function(t){var l=Object(ct.indexOf)(this.values,t);return l===-1?Object(ct.isNumber)(t)?t:NaN:l},e.prototype.scale=function(t){var l=this.translate(t),g=this.calcPercent(l,this.min,this.max);return this.calcValue(g,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var l=this.max-this.min,g=this.calcPercent(t,this.rangeMin(),this.rangeMax()),w=Math.round(l*g)+this.min;return w<this.min||w>this.max?NaN:this.values[w]},e.prototype.getText=function(t){for(var l=[],g=1;g<arguments.length;g++)l[g-1]=arguments[g];var w=t;return Object(ct.isNumber)(t)&&!this.values.includes(t)&&(w=this.values[w]),S.prototype.getText.apply(this,Object(T.__spreadArrays)([w],l))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Object(ct.isNil)(this.getConfig("min"))&&(this.min=0),Object(ct.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}},e}(xo),rs=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,ni="[^\\s]+",is=/\[([^]*?)\]/gm;function os(S,e){for(var t=[],l=0,g=S.length;l<g;l++)t.push(S[l].substr(0,e));return t}var as=function(e){return function(t,l){var g=l[e].map(function(w){return w.toLowerCase()}).indexOf(t.toLowerCase());return g>-1?g:null}};function mr(S){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var l=0,g=e;l<g.length;l++){var w=g[l];for(var _ in w)S[_]=w[_]}return S}var ss=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],us=["January","February","March","April","May","June","July","August","September","October","November","December"],nh=os(us,3),wo={dayNamesShort:os(ss,3),dayNames:ss,monthNamesShort:nh,monthNames:us,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10?1:0)*e%10]}},Ni=mr({},wo),cs=function(e){return Ni=mr(Ni,e)},hs=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},En=function(e,t){for(t===void 0&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},rh={D:function(e){return String(e.getDate())},DD:function(e){return En(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return En(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return En(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return En(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return En(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return En(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return En(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return En(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return En(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return En(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return En(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+En(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+En(Math.floor(Math.abs(t)/60),2)+":"+En(Math.abs(t)%60,2)}},ls=function(e){return+e-1},fs=[null,"[1-9]\\d?"],ds=[null,ni],ps=["isPm",ni,function(S,e){var t=S.toLowerCase();return t===e.amPm[0]?0:t===e.amPm[1]?1:null}],gs=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(S){var e=(S+"").match(/([+-]|\d\d)/gi);if(e){var t=60*+e[1]+parseInt(e[2],10);return e[0]==="+"?t:-t}return 0}],ih={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+ni,function(S){return parseInt(S,10)}],M:["month","[1-9]\\d?",ls],MM:["month","\\d\\d",ls],YY:["year","\\d\\d",function(S){var e=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+S>68?e-1:e)+S)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(S){return 100*+S}],SS:["millisecond","\\d\\d",function(S){return 10*+S}],SSS:["millisecond","\\d{3}"],d:fs,dd:fs,ddd:ds,dddd:ds,MMM:["month",ni,as("monthNamesShort")],MMMM:["month",ni,as("monthNames")],a:ps,A:ps,ZZ:gs,Z:gs},Di={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},vs=function(e){return mr(Di,e)},ms=function(e,t,l){if(t===void 0&&(t=Di.default),l===void 0&&(l={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var g=[];t=(t=Di[t]||t).replace(is,function(_,k){return g.push(k),"@@@"});var w=mr(mr({},Ni),l);return(t=t.replace(rs,function(_){return rh[_](e,w)})).replace(/@@@/g,function(){return g.shift()})};function ys(S,e,t){if(t===void 0&&(t={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=Di[e]||e,S.length>1e3)return null;var l={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},g=[],w=[],_=e.replace(is,function(dt,Ot){return w.push(hs(Ot)),"@@@"}),k={},P={};_=hs(_).replace(rs,function(dt){var Ot=ih[dt],bt=Ot[0],mt=Ot[1],Tt=Ot[3];if(k[bt])throw new Error("Invalid format. "+bt+" specified twice in format");return k[bt]=!0,Tt&&(P[Tt]=!0),g.push(Ot),"("+mt+")"}),Object.keys(P).forEach(function(dt){if(!k[dt])throw new Error("Invalid format. "+dt+" is required in specified format")}),_=_.replace(/@@@/g,function(){return w.shift()});var I=S.match(new RegExp(_,"i"));if(!I)return null;for(var N=mr(mr({},Ni),t),R=1;R<I.length;R++){var L=g[R-1],F=L[0],z=L[2],q=z?z(I[R],N):+I[R];if(q==null)return null;l[F]=q}l.isPm===1&&l.hour!=null&&+l.hour!=12?l.hour=+l.hour+12:l.isPm===0&&+l.hour==12&&(l.hour=0);for(var nt=new Date(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond),et=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],st=(R=0,et.length);R<st;R++)if(k[et[R][0]]&&l[et[R][0]]!==nt[et[R][1]]())return null;return l.timezoneOffset==null?nt:new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute-l.timezoneOffset,l.second,l.millisecond))}var bs={format:ms,parse:ys,defaultI18n:wo,setGlobalDateI18n:cs,setGlobalDateMasks:vs};function xs(S,e){return(u.format||bs.format)(S,e)}function Bi(S){return Object(ct.isString)(S)&&(S=S.indexOf("T")>0?new Date(S).getTime():new Date(S.replace(/-/gi,"/")).getTime()),Object(ct.isDate)(S)&&(S=S.getTime()),S}var jr=36e5,yr=24*jr,ri=31*yr,ii=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",jr],["HH",6*jr],["HH",12*jr],["YYYY-MM-DD",yr],["YYYY-MM-DD",4*yr],["YYYY-WW",7*yr],["YYYY-MM",ri],["YYYY-MM",4*ri],["YYYY-MM",6*ri],["YYYY",380*yr]];function oh(S,e,t){var l,g=(l=function(k){return k[1]},function(_,k,P,I){for(var N=Object(ct.isNil)(P)?0:P,R=Object(ct.isNil)(I)?_.length:I;N<R;){var L=N+R>>>1;l(_[L])>k?R=L:N=L+1}return N})(ii,(e-S)/t)-1,w=ii[g];return g<0?w=ii[0]:g>=ii.length&&(w=Object(ct.last)(ii)),w}var ah=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="timeCat",t}return Object(T.__extends)(e,S),e.prototype.translate=function(t){t=Bi(t);var l=this.values.indexOf(t);return l===-1&&(l=Object(ct.isNumber)(t)&&t<this.values.length?t:NaN),l},e.prototype.getText=function(t,l){var g=this.translate(t);if(g>-1){var w=this.values[g],_=this.formatter;return w=_?_(w,l):xs(w,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var t=this.values;Object(ct.each)(t,function(l,g){t[g]=Bi(l)}),t.sort(function(l,g){return l-g}),S.prototype.setDomain.call(this)},e}(ei),Ri=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.isContinuous=!0,t}return Object(T.__extends)(e,S),e.prototype.scale=function(t){if(Object(ct.isNil)(t))return NaN;var l=this.rangeMin(),g=this.rangeMax();return this.max===this.min?l:l+this.getScalePercent(t)*(g-l)},e.prototype.init=function(){S.prototype.init.call(this);var t=this.ticks,l=Object(ct.head)(t),g=Object(ct.last)(t);l<this.min&&(this.min=l),g>this.max&&(this.max=g),Object(ct.isNil)(this.minLimit)||(this.min=l),Object(ct.isNil)(this.maxLimit)||(this.max=g)},e.prototype.setDomain=function(){var t=Object(ct.getRange)(this.values),l=t.min,g=t.max;Object(ct.isNil)(this.min)&&(this.min=l),Object(ct.isNil)(this.max)&&(this.max=g),this.min>this.max&&(this.min=l,this.max=g)},e.prototype.calculateTicks=function(){var t=this,l=S.prototype.calculateTicks.call(this);return this.nice||(l=Object(ct.filter)(l,function(g){return g>=t.min&&g<=t.max})),l},e.prototype.getScalePercent=function(t){var l=this.max,g=this.min;return(t-g)/(l-g)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(xo),oi=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return Object(T.__extends)(e,S),e.prototype.invert=function(t){var l=this.getInvertPercent(t);return this.min+l*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Ri);function br(S,e){var t=Math.E;return e>=0?Math.pow(t,Math.log(e)/S):-1*Math.pow(t,Math.log(-e)/S)}function Fn(S,e){return S===1?1:Math.log(e)/Math.log(S)}function ws(S,e,t){Object(ct.isNil)(t)&&(t=Math.max.apply(null,S));var l=t;return Object(ct.each)(S,function(g){g>0&&g<l&&(l=g)}),l===t&&(l=t/e),l>1&&(l=1),l}var sh=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="log",t}return Object(T.__extends)(e,S),e.prototype.invert=function(t){var l,g=this.base,w=Fn(g,this.max),_=this.rangeMin(),k=this.rangeMax()-_,P=this.positiveMin;if(P){if(t===0)return 0;var I=1/(w-(l=Fn(g,P/g)))*k;if(t<I)return t/I*P}else l=Fn(g,this.min);var N=(t-_)/k*(w-l)+l;return Math.pow(g,N)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){S.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=ws(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var l=this.max,g=this.min;if(l===g||t<=0)return 0;var w=this.base,_=this.positiveMin;return _&&(g=1*_/w),t<_?t/_/(Fn(w,l)-Fn(w,g)):(Fn(w,t)-Fn(w,g))/(Fn(w,l)-Fn(w,g))},e}(Ri),uh=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="pow",t}return Object(T.__extends)(e,S),e.prototype.invert=function(t){var l=this.getInvertPercent(t),g=this.exponent,w=br(g,this.max),_=br(g,this.min),k=l*(w-_)+_,P=k>=0?1:-1;return Math.pow(k,g)*P},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var l=this.max,g=this.min;if(l===g)return 0;var w=this.exponent;return(br(w,t)-br(w,g))/(br(w,l)-br(w,g))},e}(Ri),ch=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="time",t}return Object(T.__extends)(e,S),e.prototype.getText=function(t,l){var g=this.translate(t),w=this.formatter;return w?w(g,l):xs(g,this.mask)},e.prototype.scale=function(t){var l=t;return(Object(ct.isString)(l)||Object(ct.isDate)(l))&&(l=this.translate(l)),S.prototype.scale.call(this,l)},e.prototype.translate=function(t){return Bi(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,l=this.getConfig("min"),g=this.getConfig("max");if(Object(ct.isNil)(l)&&Object(ct.isNumber)(l)||(this.min=this.translate(this.min)),Object(ct.isNil)(g)&&Object(ct.isNumber)(g)||(this.max=this.translate(this.max)),t&&t.length){var w=[],_=1/0,k=_,P=0;Object(ct.each)(t,function(I){var N=Bi(I);if(isNaN(N))throw new TypeError("Invalid Time: "+I+" in time scale!");_>N?(k=_,_=N):k>N&&(k=N),P<N&&(P=N),w.push(N)}),t.length>1&&(this.minTickInterval=k-_),Object(ct.isNil)(l)&&(this.min=_),Object(ct.isNil)(g)&&(this.max=P)}},e}(oi),Ms=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="quantize",t}return Object(T.__extends)(e,S),e.prototype.invert=function(t){var l=this.ticks,g=l.length,w=this.getInvertPercent(t),_=Math.floor(w*(g-1));if(_>=g-1)return Object(ct.last)(l);if(_<0)return Object(ct.head)(l);var k=l[_],P=_/(g-1);return k+(w-P)/((_+1)/(g-1)-P)*(l[_+1]-k)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var t=S.prototype.calculateTicks.call(this);return this.nice||(Object(ct.last)(t)!==this.max&&t.push(this.max),Object(ct.head)(t)!==this.min&&t.unshift(this.min)),t},e.prototype.getScalePercent=function(t){var l=this.ticks;if(t<Object(ct.head)(l))return 0;if(t>Object(ct.last)(l))return 1;var g=0;return Object(ct.each)(l,function(w,_){if(!(t>=w))return!1;g=_}),g/(l.length-1)},e}(Ri),hh=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="quantile",t}return Object(T.__extends)(e,S),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(Ms),Ss={};function ar(S,e){if(function(t){return Ss[t]}(S))throw new Error("type '"+S+"' existed.");Ss[S]=e}var lh=function(S){function e(){var t=S!==null&&S.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return Object(T.__extends)(e,S),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&Object(ct.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var l=this.range;return t<l[0]||t>l[1]?NaN:this.values[0]},e}(xo),fh=[1,5,2,2.5,4,3],_s=100*Number.EPSILON;function dh(S,e,t,l,g,w){var _=Object(ct.size)(e),k=Object(ct.indexOf)(e,S),P=0,I=function(N,R){return(N%R+R)%R}(l,w);return(I<_s||w-I<_s)&&l<=0&&g>=0&&(P=1),1-k/(_-1)-t+P}function ph(S,e,t){var l=Object(ct.size)(e);return 1-Object(ct.indexOf)(e,S)/(l-1)-t+1}function gh(S,e,t,l,g,w){var _=(S-1)/(w-g),k=(e-1)/(Math.max(w,l)-Math.min(t,g));return 2-Math.max(_/k,k/_)}function vh(S,e){return S>=e?2-(S-1)/(e-1):1}function mh(S,e,t,l){var g=e-S;return 1-.5*(Math.pow(e-l,2)+Math.pow(S-t,2))/Math.pow(.1*g,2)}function yh(S,e,t){var l=e-S;if(t>l){var g=(t-l)/2;return 1-Math.pow(g,2)/Math.pow(.1*l,2)}return 1}function Os(S,e,t,l,g,w){if(t===void 0&&(t=5),l===void 0&&(l=!0),g===void 0&&(g=fh),w===void 0&&(w=[.25,.2,.5,.05]),typeof S!="number"||typeof e!="number")return{min:0,max:0,ticks:[]};if(S===e||t===1)return{min:S,max:e,ticks:[S]};for(var _={score:-2,lmin:0,lmax:0,lstep:0},k=1;k<1/0;){for(var P=0,I=g;P<I.length;P++){var N=I[P],R=ph(N,g,k);if(Number.isNaN(R))throw new Error("NaN");if(w[0]*R+w[1]+w[2]+w[3]<_.score){k=1/0;break}for(var L=2;L<1/0;){var F=vh(L,t);if(w[0]*R+w[1]+w[2]*F+w[3]<_.score)break;for(var z=(e-S)/(L+1)/k/N,q=Math.ceil(Math.log10(z));q<1/0;){var nt=k*N*Math.pow(10,q),et=yh(S,e,nt*(L-1));if(w[0]*R+w[1]*et+w[2]*F+w[3]<_.score)break;var st=Math.floor(e/nt)*k-(L-1)*k,dt=Math.ceil(S/nt)*k;if(st>dt)q+=1;else{for(var Ot=st;Ot<=dt;Ot+=1){var bt=Ot*(nt/k),mt=bt+nt*(L-1),Tt=nt,Dt=dh(N,g,k,bt,mt,Tt),Yt=mh(S,e,bt,mt),Gt=gh(L,t,S,e,bt,mt),Kt=w[0]*Dt+w[1]*Yt+w[2]*Gt+1*w[3];Kt>_.score&&(!l||bt<=S&&mt>=e)&&(_.lmin=bt,_.lmax=mt,_.lstep=Tt,_.score=Kt)}q+=1}}L+=1}}k+=1}for(var Zt=Number.isInteger(_.lstep)?0:Math.ceil(Math.abs(Math.log10(_.lstep))),Wt=[],ee=_.lmin;ee<=_.lmax;ee+=_.lstep)Wt.push(ee);var Qt=Zt?Object(ct.map)(Wt,function(ue){return Number.parseFloat(ue.toFixed(Zt))}):Wt;return{min:Math.min(S,Object(ct.head)(Qt)),max:Math.max(e,Object(ct.last)(Qt)),ticks:Qt}}function Es(S){var e=S.values,t=S.tickInterval,l=S.tickCount,g=e;if(Object(ct.isNumber)(t))return Object(ct.filter)(g,function(P,I){return I%t==0});var w=S.min,_=S.max;if(Object(ct.isNil)(w)&&(w=0),Object(ct.isNil)(_)&&(_=e.length-1),Object(ct.isNumber)(l)&&l<_-w){var k=Os(w,_,l,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(ct.filter)(k,function(P){return P>=w&&P<=_}).map(function(P){return e[P]})}return e.slice(w,_+1)}var ks=Math.sqrt(50),Ps=Math.sqrt(10),As=Math.sqrt(2),bh=function(){function S(){this._domain=[0,1]}return S.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},S.prototype.nice=function(e){var t,l;e===void 0&&(e=5);var g,w=this._domain.slice(),_=0,k=this._domain.length-1,P=this._domain[_],I=this._domain[k];return I<P&&(P=(t=[I,P])[0],I=t[1],_=(l=[k,_])[0],k=l[1]),(g=Li(P,I,e))>0?g=Li(P=Math.floor(P/g)*g,I=Math.ceil(I/g)*g,e):g<0&&(g=Li(P=Math.ceil(P*g)/g,I=Math.floor(I*g)/g,e)),g>0?(w[_]=Math.floor(P/g)*g,w[k]=Math.ceil(I/g)*g,this.domain(w)):g<0&&(w[_]=Math.ceil(P*g)/g,w[k]=Math.floor(I*g)/g,this.domain(w)),this},S.prototype.ticks=function(e){return e===void 0&&(e=5),function(t,l,g){var w,_,k,P,I=-1;if(g=+g,(t=+t)==(l=+l)&&g>0)return[t];if((w=l<t)&&(_=t,t=l,l=_),(P=Li(t,l,g))===0||!isFinite(P))return[];if(P>0)for(t=Math.ceil(t/P),l=Math.floor(l/P),k=new Array(_=Math.ceil(l-t+1));++I<_;)k[I]=(t+I)*P;else for(t=Math.floor(t*P),l=Math.ceil(l*P),k=new Array(_=Math.ceil(t-l+1));++I<_;)k[I]=(t-I)/P;return w&&k.reverse(),k}(this._domain[0],this._domain[this._domain.length-1],e||5)},S}();function Li(S,e,t){var l=(e-S)/Math.max(0,t),g=Math.floor(Math.log(l)/Math.LN10),w=l/Math.pow(10,g);return g>=0?(w>=ks?10:w>=Ps?5:w>=As?2:1)*Math.pow(10,g):-Math.pow(10,-g)/(w>=ks?10:w>=Ps?5:w>=As?2:1)}function Cs(S,e,t){return(t==="ceil"?Math.ceil(S/e):t==="floor"?Math.floor(S/e):Math.round(S/e))*e}function Mo(S,e,t){var l=Cs(S,t,"floor"),g=Cs(e,t,"ceil");l=Object(ct.fixedBase)(l,t),g=Object(ct.fixedBase)(g,t);for(var w=[],_=l;_<=g;_+=t){var k=Object(ct.fixedBase)(_,t);w.push(k)}return{min:l,max:g,ticks:w}}function So(S,e,t){var l,g=S.minLimit,w=S.maxLimit,_=S.min,k=S.max,P=S.tickCount,I=P===void 0?5:P,N=Object(ct.isNil)(g)?Object(ct.isNil)(e)?_:e:g,R=Object(ct.isNil)(w)?Object(ct.isNil)(t)?k:t:w;if(N>R&&(R=(l=[N,R])[0],N=l[1]),I<=2)return[N,R];for(var L=(R-N)/(I-1),F=[],z=0;z<I;z++)F.push(N+L*z);return F}function js(S,e,t){t===void 0&&(t=5);var l={max:0,min:0,ticks:[]};if(S===e)return{max:e,min:S,ticks:[S]};var g=(e-S)/t,w=Math.pow(10,Math.floor(Math.log10(g))),_=w<1?Math.ceil(Math.abs(Math.log10(w))):0,k=w;2*w-g<1.5*(g-k)&&5*w-g<2.75*(g-(k=2*w))&&10*w-g<1.5*(g-(k=5*w))&&(k=10*w);var P=Math.ceil(e/k),I=Math.floor(S/k);l.max=Math.max(P*k,e),l.min=Math.min(I*k,S);for(var N=Number.parseFloat((I*k).toFixed(_));N<e;)l.ticks.push(N),N+=k,_&&(N=Number.parseFloat(N.toFixed(_)));return l.ticks.push(N),l}function xh(S,e){var t=S.length*e;return e===1?S[S.length-1]:e===0?S[0]:t%1!=0?S[Math.ceil(t)-1]:S.length%2==0?(S[t-1]+S[t])/2:S[t]}function Fi(S){return new Date(S).getFullYear()}function wh(S){return new Date(S,0,1).getTime()}function _o(S){return new Date(S).getMonth()}function Mh(S,e){return new Date(S,e,1).getTime()}or("cat",Es),or("time-cat",function(S){var e=Es(S),t=Object(ct.last)(S.values);return t!==Object(ct.last)(e)&&e.push(t),e}),or("wilkinson-extended",function(S){var e=S.min,t=S.max,l=S.tickCount,g=S.nice,w=S.tickInterval,_=S.minLimit,k=S.maxLimit,P=Os(e,t,l,g).ticks;return Object(ct.isNil)(_)&&Object(ct.isNil)(k)?w?Mo(e,t,w).ticks:P:So(S,Object(ct.head)(P),Object(ct.last)(P))}),or("r-pretty",function(S){var e=S.min,t=S.max,l=S.tickCount,g=S.tickInterval,w=S.minLimit,_=S.maxLimit,k=js(e,t,l).ticks;return Object(ct.isNil)(w)&&Object(ct.isNil)(_)?g?Mo(e,t,g).ticks:k:So(S,Object(ct.head)(k),Object(ct.last)(k))}),or("time",function(S){var e=S.min,t=S.max,l=S.minTickInterval,g=S.tickInterval,w=S.tickCount;if(g)w=Math.ceil((t-e)/g);else{var _=(t-e)/(g=oh(e,t,w)[1])/w;_>1&&(g*=Math.ceil(_)),l&&g<l&&(g=l)}for(var k=[],P=e;P<t+g;P+=g)k.push(P);return k}),or("time-pretty",function(S){var e=S.min,t=S.max,l=S.minTickInterval,g=S.tickCount,w=S.tickInterval,_=[];w||(w=(t-e)/g,l&&w<l&&(w=l));var k=Fi(e);if(w>31536e6)for(var P=Fi(t),I=Math.ceil(w/31536e6),N=k;N<=P+I;N+=I)_.push(wh(N));else if(w>ri){var R=Math.ceil(w/ri),L=_o(e),F=function(Wt,ee){var Qt=Fi(Wt),ue=Fi(ee),ae=_o(Wt);return 12*(ue-Qt)+(_o(ee)-ae)%12}(e,t);for(N=0;N<=F+R;N+=R)_.push(Mh(k,N+L))}else if(w>yr){var z=(dt=new Date(e)).getFullYear(),q=dt.getMonth(),nt=dt.getDate(),et=Math.ceil(w/yr),st=function(Wt,ee){return Math.ceil((ee-Wt)/yr)}(e,t);for(N=0;N<st+et;N+=et)_.push(new Date(z,q,nt+N).getTime())}else if(w>jr){z=(dt=new Date(e)).getFullYear(),q=dt.getMonth(),et=dt.getDate();var dt,Ot=dt.getHours(),bt=Math.ceil(w/jr),mt=function(Wt,ee){return Math.ceil((ee-Wt)/jr)}(e,t);for(N=0;N<=mt+bt;N+=bt)_.push(new Date(z,q,et,Ot+N).getTime())}else if(w>6e4){var Tt=function(Wt,ee){return Math.ceil((ee-Wt)/6e4)}(e,t),Dt=Math.ceil(w/6e4);for(N=0;N<=Tt+Dt;N+=Dt)_.push(e+6e4*N)}else{var Yt=w;Yt<1e3&&(Yt=1e3);var Gt=1e3*Math.floor(e/1e3),Kt=Math.ceil((t-e)/1e3),Zt=Math.ceil(Yt/1e3);for(N=0;N<Kt+Zt;N+=Zt)_.push(Gt+1e3*N)}return _.length>=512&&console.warn("Notice: current ticks length("+_.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+w+") is too small, increase the value to solve the problem!"),_}),or("log",function(S){var e,t=S.base,l=S.tickCount,g=S.min,w=S.max,_=S.values,k=Fn(t,w);if(g>0)e=Math.floor(Fn(t,g));else{var P=ws(_,t,w);e=Math.floor(Fn(t,P))}for(var I=k-e,N=Math.ceil(I/l),R=[],L=e;L<k+N;L+=N)R.push(Math.pow(t,L));return g<=0&&R.unshift(0),R}),or("pow",function(S){var e=S.exponent,t=S.tickCount,l=Math.ceil(br(e,S.max));return js(Math.floor(br(e,S.min)),l,t).ticks.map(function(g){var w=g>=0?1:-1;return Math.pow(g,e)*w})}),or("quantile",function(S){var e=S.tickCount,t=S.values;if(!t||!t.length)return[];for(var l=t.slice().sort(function(k,P){return k-P}),g=[],w=0;w<e;w++){var _=w/(e-1);g.push(xh(l,_))}return g}),or("d3-linear",function(S){var e=S.min,t=S.max,l=S.tickInterval,g=S.minLimit,w=S.maxLimit,_=function(k){var P=k.min,I=k.max,N=k.nice,R=k.tickCount,L=new bh;return L.domain([P,I]),N&&L.nice(R),L.ticks(R)}(S);return Object(ct.isNil)(g)&&Object(ct.isNil)(w)?l?Mo(e,t,l).ticks:_:So(S,Object(ct.head)(_),Object(ct.last)(_))}),ar("cat",ei),ar("category",ei),ar("identity",lh),ar("linear",oi),ar("log",sh),ar("pow",uh),ar("time",ch),ar("timeCat",ah),ar("quantize",Ms),ar("quantile",hh);var Is=s(136);function Ts(S){return function(e){return Object(ct.map)(e,function(t,l){return[l===0?"M":"L",t[0],t[1]]})}(S)}function Sh(S,e,t,l){l===void 0&&(l=!0);var g=new oi({values:S}),w=new ei({values:Object(ct.map)(S,function(k,P){return P})}),_=Object(ct.map)(S,function(k,P){return[w.scale(P)*e,t-g.scale(k)*t]});return l?function(k){if(k.length<=2)return Ts(k);var P=[];Object(ct.each)(k,function(F){Object(ct.isEqual)(F,P.slice(P.length-2))||P.push(F[0],F[1])});var I=Mt(P,!1),N=Object(ct.head)(k),R=N[0],L=N[1];return I.unshift(["M",R,L]),I}(_):Ts(_)}function _h(S,e,t){for(var l=new oi({values:S}),g=new ei({values:Object(ct.map)(S,function(N,R){return R})}),w=Object(ct.map)(S,function(N,R){return[g.scale(R)*e,t-l.scale(N)*t]}),_=[],k=0;k<w.length;k++){var P=w[k],I=Eh({x:P[0],y:P[1],y0:t,size:5});_.push.apply(_,I)}return function(N,R){R===void 0&&(R=!0);var L=[],F=N[0];L.push(["M",F.x,F.y]);for(var z=1,q=N.length;z<q;z++)L.push(["L",N[z].x,N[z].y]);return R&&(L.push(["L",F.x,F.y]),L.push(["z"])),L}(_)}function Oh(S,e,t,l){var g=Object(T.__spreadArrays)(S),w=function(_,k){var P=new oi({values:_}),I=Math.max(0,P.min);return k-P.scale(I)*k}(l,t);return g.push(["L",e,w]),g.push(["L",0,w]),g.push(["Z"]),g}function Eh(S){var e,t,l,g,w=S.x,_=S.y,k=S.y0,P=S.size;Object(Is.isArray)(_)?(e=_[0],t=_[1]):(e=k,t=_),Object(Is.isArray)(w)?(l=w[0],g=w[1]):(l=w-P/2,g=w+P/2);var I=[{x:l,y:e},{x:l,y:t}];return I.push({x:g,y:t},{x:g,y:e}),I}var kh={stroke:"#C5C5C5",strokeOpacity:.85},Ph={fill:"#CACED4",opacity:.85},Ah=function(){function S(e){var t=e.x,l=t===void 0?0:t,g=e.y,w=g===void 0?0:g,_=e.width,k=_===void 0?200:_,P=e.height,I=P===void 0?26:P,N=e.smooth,R=N===void 0||N,L=e.isArea,F=L!==void 0&&L,z=e.data,q=z===void 0?[]:z,nt=e.lineStyle,et=e.areaStyle,st=e.group,dt=e.interval,Ot=dt===void 0?null:dt;this.group=st,this.x=l,this.y=w,this.width=k,this.height=I,this.data=q,this.smooth=R,this.isArea=F,this.lineStyle=Object.assign({},kh,nt),this.areaStyle=Object.assign({},Ph,et),this.intervalConfig=Ot,this.renderLine()}return S.prototype.renderLine=function(){var e=this,t=e.x,l=e.y,g=e.width,w=e.height,_=e.data,k=e.smooth,P=e.isArea,I=(e.backgroundStyle,e.lineStyle),N=e.areaStyle,R=this.group.addGroup({name:"trend-group"});if(_){var L=Sh(_,g,w,k);if(R.addShape("path",{attrs:Object(T.__assign)({path:L},I)}),P){var F=Oh(L,g,w,_);R.addShape("path",{attrs:Object(T.__assign)({path:F},N)})}}this.intervalConfig&&R.addShape("path",{attrs:Object(T.__assign)({path:_h(this.intervalConfig.data,g,w)},this.intervalConfig.style)}),R.move(t,l)},S.prototype.destory=function(){this.group.destroy()},S}(),Ch={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},jh={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},Ns=function(){function S(e){var t=e.group,l=e.name,g=e.type,w=e.x,_=w===void 0?0:w,k=e.y,P=k===void 0?0:k,I=e.width,N=I===void 0?2:I,R=e.height,L=R===void 0?24:R,F=e.style,z=F===void 0?{}:F;this.group=t,this.name=l,this.handleType=g,this.x=_,this.y=P,this.width=N,this.height=L,g==="trend"?this.style=Object(T.__assign)(Object(T.__assign)({},Ch),z):g==="simple"&&(this.style=Object(T.__assign)(Object(T.__assign)({},jh),z)),this.renderHandle()}return S.prototype.setX=function(e){this.setXY(e,void 0)},S.prototype.setY=function(e){this.setXY(void 0,e)},S.prototype.setXY=function(e,t){Object(ct.isNumber)(e)&&(this.x=e),Object(ct.isNumber)(t)&&(this.y=t),this.updateXY()},S.prototype.renderHandle=function(){var e=this.width,t=this.height,l=this.style,g=this.name,w=l.fill,_=l.stroke,k=l.radius,P=l.opacity,I=l.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:e,height:t,fill:w,stroke:_,radius:k,opacity:P,cursor:I},name:g+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:e/2,y:0,r:2*e,fill:w,stroke:_,radius:k,opacity:P,cursor:I},name:g+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:e/2,y:t,r:2*e,fill:w,stroke:_,radius:k,opacity:P,cursor:I},name:g+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:e/2,y:t/2,r:2*e,fill:w,stroke:_,radius:k,opacity:P,cursor:I},name:g+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:e/2,y:t/2,r:2*e,fill:w,stroke:_,radius:k,opacity:P,cursor:I},name:g+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},S.prototype.bindEvents=function(){var e=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var l=e.style.highLightFill;e.background.attr("fill",l)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var l=e.style.fill;e.background.attr("fill",l)})},S.prototype.show=function(){this.handleGroup.show()},S.prototype.hide=function(){this.handleGroup.hide()},S.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},S}(),Ih=function(){function S(e){this.config=Object(ct.deepMix)({},e),this.init()}return S.prototype.update=function(e){this.config=Object(ct.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},S.prototype.init=function(){this.initElement(),this.renderMarker()},S.prototype.initElement=function(){var e=this.config,t=e.group,l=e.style;this.circle=t.addShape("circle",{attrs:Object(T.__assign)({x:this.config.x,y:this.config.y,r:this.config.r},l)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var g=1/4*this.config.r,w=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-w/2,width:2.5*g,height:w,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-w/2,width:g,height:w,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-w/2,width:g,height:w,fill:"#ccc"},name:"playPauseBtn"})},S.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var e=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-.375*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",e),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",e),this.pauseRightMarker.attr("height",t)},S.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},S.prototype.getStartMarkerPath=function(){var e=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-e/Math.sqrt(3)/2,this.config.y-e/2],["L",this.config.x+e/Math.sqrt(3),this.config.y],["L",this.config.x-e/Math.sqrt(3)/2,this.config.y+e/2]]},S}(),Th={fill:"#607889",stroke:"#607889"},Nh={fill:"#fff"},Dh={fill:"green"},Bh={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Ds=function(){function S(e){this.controllerCfg=Object(ct.deepMix)({},Bh,e),this.group=e.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return S.prototype.init=function(){this.renderPlayButton()},S.prototype.getNextMarkerPath=function(e,t,l){return[["M",e,t-l],["L",e+l,t],["L",e,t+l]]},S.prototype.getPreMarkerPath=function(e,t,l){return[["M",e,t-l],["L",e-l,t],["L",e,t+l]]},S.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,l=e.height,g=e.x,w=e.y,_=e.hiddleToggle,k=e.fill,P=k===void 0?"#ccc":k,I=e.stroke,N=I===void 0?"green":I,R=e.playBtnStyle,L=R===void 0?Th:R,F=e.preBtnStyle,z=F===void 0?Nh:F,q=e.nextBtnStyle,nt=q===void 0?Dh:q,et=l/2-5,st=w+10,dt=this.group.addShape("rect",{attrs:{x:g,y:st,width:t,height:l,stroke:N,fill:P},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:st,r:et}):this.playButton=new Ih({group:this.group,x:t/2,y:st+et+5,r:et,isPlay:this.isPlay,style:L}),this.group.addShape("path",{attrs:Object(T.__assign)({path:this.getPreMarkerPath(t/2-5*et,st+et+5,.5*et)},z),name:"preStepBtn"}),this.group.addShape("path",{attrs:Object(T.__assign)({path:this.getPreMarkerPath(t/2-4.5*et,st+et+5,.5*et)},z),name:"preStepBtn"}),this.group.addShape("path",{attrs:Object(T.__assign)({path:this.getNextMarkerPath(t/2+5*et,st+et+5,.5*et)},nt),name:"nextStepBtn"}),this.group.addShape("path",{attrs:Object(T.__assign)({path:this.getNextMarkerPath(t/2+4.5*et,st+et+5,.5*et)},nt),name:"nextStepBtn"}),dt.toBack(),this.renderSpeedBtn(),_||this.renderToggleTime(),this.bindEvent()},S.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,l=e.width,g=e.hiddleToggle,w=this.group.addGroup({name:"speed-group"});this.speedGroup=w;for(var _=1,k=[],P=9,I=0;I<5;I++){var N=t+15+I*(I+1)+_;w.addShape("rect",{attrs:{x:l-(g?50:110),y:N,width:15,height:2,fill:"#ccc"},speed:P,name:"speed-rect"}),this.speedAxisY.push(N),k.push(P),P-=2,_++}for(I=0;I<4;I++)w.addShape("rect",{attrs:{x:l-(g?50:110),y:this.speedAxisY[I]+2,width:15,height:2*I+1,fill:"#fff",opacity:.3},speed:k[I]-1,name:"speed-rect"});this.speedText=w.addShape("text",{attrs:{x:l-(g?50:110)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=w.addShape("path",{attrs:{path:this.getPath(l-(g?50:110),this.speedAxisY[4]),fill:"#ccc"}})},S.prototype.getPath=function(e,t){return[["M",e,t],["L",e-12,t-6],["L",e-12,t+6],["Z"]]},S.prototype.renderToggleTime=function(){var e=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:e-50,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",e-50+3,this.speedAxisY[1]+6],["L",e-50+7,this.speedAxisY[1]+10],["L",e-50+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:e-50+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},S.prototype.bindEvent=function(){var e=this,t=this.controllerCfg,l=t.width,g=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(w){e.speedPoint.attr("path",e.getPath(l-(g?50:110),w.y)),e.currentSpeed=w.target.get("speed"),e.speedText.attr("text",e.currentSpeed+".0X"),e.group.emit("timebarConfigChanged",{speed:e.currentSpeed,type:e.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(w){var _=w.target.get("isChecked");_?(e.checkedIcon.hide(),e.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),e.currentType="single"),w.target.set("isChecked",!_),e.group.emit("timebarConfigChanged",{type:e.currentType,speed:e.currentSpeed})})},S.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},S}(),Rh={fill:"#416180",opacity:.05},Lh={fill:"#416180",opacity:.15,radius:5},Fh={fill:"#5B8FF9",opacity:.3,cursor:"move"},Yh={width:2,height:24},Gh={textBaseline:"middle",fill:"#000",opacity:.45},zh=function(){function S(e){var t=this;this.prevX=0,this.onMouseDown=function(se){return function(me){t.currentHandler=se;var Pe=me.originalEvent;Pe.stopPropagation(),Pe.preventDefault(),t.prevX=Object(ct.get)(Pe,"touches.0.pageX",Pe.pageX);var Ce=t.canvas.get("container");Ce.addEventListener("mousemove",t.onMouseMove),Ce.addEventListener("mouseup",t.onMouseUp),Ce.addEventListener("mouseleave",t.onMouseUp),Ce.addEventListener("touchmove",t.onMouseMove),Ce.addEventListener("touchend",t.onMouseUp),Ce.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(se){se.stopPropagation(),se.preventDefault();var me=Object(ct.get)(se,"touches.0.pageX",se.pageX),Pe=me-t.prevX,Ce=t.adjustOffsetRange(Pe/t.width);t.updateStartEnd(Ce),t.updateUI(),t.prevX=me},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var se=t.canvas.get("container");se&&(se.removeEventListener("mousemove",t.onMouseMove),se.removeEventListener("mouseup",t.onMouseUp),se.removeEventListener("mouseleave",t.onMouseUp),se.removeEventListener("touchmove",t.onMouseMove),se.removeEventListener("touchend",t.onMouseUp),se.removeEventListener("touchcancel",t.onMouseUp))};var l=e.x,g=l===void 0?0:l,w=e.y,_=w===void 0?0:w,k=e.width,P=k===void 0?100:k,I=e.height,N=e.padding,R=N===void 0?10:N,L=e.trendCfg,F=e.controllerCfg,z=F===void 0?{speed:1}:F,q=e.backgroundStyle,nt=q===void 0?{}:q,et=e.foregroundStyle,st=et===void 0?{}:et,dt=e.handlerStyle,Ot=dt===void 0?{}:dt,bt=e.textStyle,mt=bt===void 0?{}:bt,Tt=e.start,Dt=Tt===void 0?0:Tt,Yt=e.end,Gt=Yt===void 0?1:Yt,Kt=e.minText,Zt=Kt===void 0?"":Kt,Wt=e.maxText,ee=Wt===void 0?"":Wt,Qt=e.group,ue=e.graph,ae=e.canvas,he=e.ticks,Jt=e.type;this.graph=ue,this.canvas=ae,this.group=Qt,this.timeBarType=Jt,this.x=g,this.y=_,this.width=P,this.height=I,this.padding=R,this.ticks=he,this.trendCfg=L,this.controllerCfg=z,this.currentSpeed=z.speed,Jt==="trend"?this.backgroundStyle=Object(T.__assign)(Object(T.__assign)({},Rh),nt):Jt==="simple"&&(this.backgroundStyle=Object(T.__assign)(Object(T.__assign)({},Lh),nt)),this.foregroundStyle=Object(T.__assign)(Object(T.__assign)({},Fh),st),this.handlerStyle=Object(T.__assign)(Object(T.__assign)({},Yh),Ot),this.textStyle=Object(T.__assign)(Object(T.__assign)({},Gh),mt),this.currentMode="range",this.start=Dt,this.end=Gt,this.minText=Zt,this.maxText=ee,this.renderSlider()}return S.prototype.update=function(e){var t=e.x,l=e.y,g=e.width,w=e.height,_=e.minText,k=e.maxText,P=e.start,I=e.end;this.start=Math.min(1,Math.max(P,0)),this.end=Math.min(1,Math.max(I,0)),Object(ct.assign)(this,{x:t,y:l,width:g,height:w,minText:_,maxText:k}),this.updateUI()},S.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},S.prototype.renderSlider=function(){var e=this,t=this.width,l=this.height,g=this.timeBarType;if(g==="trend"&&Object(ct.size)(Object(ct.get)(this.trendCfg,"data"))){var w=new Ah(Object(T.__assign)(Object(T.__assign)({x:this.x,y:this.y,width:t,height:l},this.trendCfg),{group:this.group}));this.trendComponent=w}var _=this.group.addGroup({name:"slider-group"});_.addShape("rect",{attrs:Object(T.__assign)({x:0,y:0,width:t,height:l},this.backgroundStyle)});var k=this.group.addGroup();g==="trend"?(this.minTextShape=k.addShape("text",{attrs:Object(T.__assign)({x:0,y:l/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=k.addShape("text",{attrs:Object(T.__assign)({y:l/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=k.addShape("text",{attrs:Object(T.__assign)({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=k.addShape("text",{attrs:Object(T.__assign)({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Object(T.__assign)({x:0,y:this.y,height:l},this.foregroundStyle)});var P=Object(ct.get)(this.handlerStyle,"width",2),I=Object(ct.get)(this.handlerStyle,"height",24),N=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new Ns(Object(T.__assign)({name:"minHandlerShape",group:N,type:g,x:this.x,y:this.y,width:P,height:I,cursor:"ew-resize"},this.handlerStyle));var R=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new Ns(Object(T.__assign)({name:"maxHandlerShape",group:R,type:g,x:this.x,y:this.y,width:P,height:I,cursor:"ew-resize"},this.handlerStyle));var L=this.ticks,F=t/(L.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(q){q.destroy()});var z=-1/0;this.textList=L.map(function(q,nt){e.tickPosList.push(e.x+nt*F);var et=e.group.addShape("text",{attrs:{x:e.x+nt*F,y:e.y+l+5,text:q,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),st=e.group.addShape("line",{attrs:{x1:e.x+nt*F,y1:e.y+l+2,x2:e.x+nt*F,y2:e.y+l+6,lineWidth:1,stroke:"#ccc"}}),dt=et.getBBox();return dt.minX>z?(et.show(),st.show(),z=dt.minX+dt.width+10):(et.hide(),st.hide()),et}),this.controllerBtnGroup=new Ds({group:this.group,x:this.x,y:this.y+l+25,width:t,height:40}),this.updateUI(),_.move(this.x,this.y),this.bindEvents()},S.prototype.bindEvents=function(){var e=this,t=this.group.find(function(g){return g.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var l=this.group.find(function(g){return g.get("name")==="maxHandlerShape"});l&&(l.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),l.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("playPauseBtn:click",function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()}),this.group.on("nextStepBtn:click",function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()}),this.group.on("preStepBtn:click",function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()}),this.group.on("timebarConfigChanged",function(g){var w=g.type,_=g.speed;e.currentSpeed=_,e.currentMode=w,w==="single"?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):w==="range"&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())})},S.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1},S.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:var t=0-this.start,l=1-this.start;return Math.min(l,Math.max(t,e));case this.maxHandlerShape:return t=0-this.end,l=1-this.end,Math.min(l,Math.max(t,e));case this.foregroundShape:return t=0-this.start,l=1-this.end,Math.min(l,Math.max(t,e));default:return 0}},S.prototype.updateStartEnd=function(e){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)]}},S.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,l=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",l-t);var g=Object(ct.get)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var w=this.dodgeText([t,l]),_=w[0],k=w[1];this.minHandlerShape.setX(t-g/2),Object(ct.each)(_,function(P,I){return e.minTextShape.attr(I,P)}),this.maxHandlerShape.setX(l-g/2),Object(ct.each)(k,function(P,I){return e.maxTextShape.attr(I,P)}),this.currentMode==="range"?this.graph.emit("valueChange",{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit("valueChange",{value:[this.end,this.end]})},S.prototype.dodgeText=function(e){var t,l,g=Object(ct.get)(this.handlerStyle,"width",2),w=this.minTextShape,_=this.maxTextShape,k=e[0],P=e[1],I=!1;k>P&&(k=(t=[P,k])[0],P=t[1],w=(l=[_,w])[0],_=l[1],I=!0);var N=w.getBBox(),R=_.getBBox(),L=null,F=null;return this.timeBarType==="trend"?(L=N.width>k-2?{x:k+g/2+2,textAlign:"left"}:{x:k-g/2-2,textAlign:"right"},F=R.width>this.width-P-2?{x:P-g/2-2,textAlign:"right"}:{x:P+g/2+2,textAlign:"left"}):this.timeBarType==="simple"&&(L=N.width>k-2?{x:k+g/2+2,textAlign:"center"}:{x:k-g/2-2,textAlign:"center"},F=R.width>this.width-P-2?{x:P-g/2-2,textAlign:"center"}:{x:P+g/2+2,textAlign:"center"}),I?[F,L]:[L,F]},S.prototype.startPlay=function(){var e=this;return window.requestAnimationFrame(function(){var t=e,l=t.ticks,g=t.width,w=e.currentSpeed,_=g/l.length/(1e3*(10-w)/60),k=e.adjustOffsetRange(_/e.width);e.updateStartEnd(k),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())})},S.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timelinestart",null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit("timelineend",null))},S.prototype.destory=function(){this.graph.off("valueChange");var e=this.group,t=e.find(function(g){return g.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var l=e.find(function(g){return g.get("name")==="maxHandlerShape"});l&&(l.off("maxHandlerShape-handler:mousedown"),l.off("maxHandlerShape-handler:touchstart"),l.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("playPauseBtn:click"),e.off("nextStepBtn:click"),e.off("preStepBtn:click"),e.off("timebarConfigChanged"),e.destroy(),this.trendComponent&&this.trendComponent.destory()},S}(),Xh=function(){function S(e){var t=e.x,l=t===void 0?0:t,g=e.y,w=g===void 0?0:g,_=e.container,k=e.text,P=e.padding,I=P===void 0?[4,4,4,4]:P,N=e.className,R=N===void 0?"g6-component-timebar-tooltip":N,L=e.backgroundColor,F=L===void 0?"#000":L,z=e.textColor,q=z===void 0?"#fff":z,nt=e.opacity,et=nt===void 0?.8:nt,st=e.fontSize,dt=st===void 0?12:st;this.container=_,this.className=R,this.backgroundColor=F,this.textColor=q,this.x=l,this.y=w,this.text=k,this.padding=I,this.opacity=et,this.fontSize=dt,this.render()}return S.prototype.render=function(){var e=this.className,t=(this.x,this.y,this.backgroundColor),l=this.textColor,g=this.text,w=this.padding,_=this.opacity,k=this.fontSize,P=this.container,I=be()("<div class='"+e+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+_+'"></div>');Object(ct.isString)(P)&&(P=document.getElementById(P)),P.appendChild(I),this.parentHeight=P.offsetHeight,this.parentWidth=P.offsetWidth,ce()(I,{visibility:"hidden",top:0,left:0});var N=be()(`
      <div style='position: absolute; white-space:nowrap; background-color: `+t+"; font-size: "+k+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+l+"; padding: "+w[0]+"px "+w[1]+"px "+w[2]+"px "+w[3]+"px'></div>");N.innerHTML=g,I.appendChild(N),this.backgroundDOM=N;var R=be()("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+t+"'></div>");I.appendChild(R),this.arrowDOM=R,this.container=I},S.prototype.show=function(e){var t=e.text,l=e.x;e.y,e.clientX,e.clientY,this.backgroundDOM.innerHTML=t;var g=this.backgroundDOM.offsetWidth,w=this.backgroundDOM.offsetHeight,_=this.arrowDOM.offsetWidth,k=this.arrowDOM.offsetHeight;ce()(this.container,{top:-w-k+"px",left:l+"px",visibility:"visible"}),ce()(this.backgroundDOM,{marginLeft:-g/2+"px"}),ce()(this.arrowDOM,{marginLeft:-_/2+"px",top:w+"px"});var P=l-g/2,I=l+g/2;P<0?ce()(this.backgroundDOM,{marginLeft:-g/2-P+"px"}):I>this.parentWidth&&ce()(this.backgroundDOM,{marginLeft:-g/2-I+this.parentWidth+12+"px"})},S.prototype.hide=function(){ce()(this.container,{top:0,left:0,visibility:"hidden"})},S}(),Hh={fill:"#5B8FF9"},Vh={fill:"#e6e8e9"},Uh=function(){function S(e){this.frameCount=0;var t=e.graph,l=e.canvas,g=e.group,w=e.width,_=e.height,k=e.padding,P=e.data,I=e.start,N=e.end,R=e.x,L=R===void 0?0:R,F=e.y,z=F===void 0?0:F,q=e.tickLabelFormatter,nt=e.selectedTickStyle,et=nt===void 0?Hh:nt,st=e.unselectedTickStyle,dt=st===void 0?Vh:st,Ot=e.tooltipBackgroundColor,bt=e.tooltipFomatter;this.graph=t,this.group=g,this.sliceGroup=g.addGroup({name:"slice-group"}),this.canvas=l,this.width=w,this.height=_,this.padding=k,this.data=P,this.start=I,this.end=N,this.tickLabelFormatter=q,this.selectedTickStyle=et,this.unselectedTickStyle=dt,this.x=L,this.y=z,this.tooltipBackgroundColor=Ot,this.tooltipFomatter=bt,this.renderSlices(),this.initEvent()}return S.prototype.renderSlices=function(){var e=this,t=e.width,l=e.height,g=e.padding,w=e.data,_=e.start,k=e.end,P=e.tickLabelFormatter,I=e.selectedTickStyle,N=e.unselectedTickStyle,R=t-2*g,L=l-(3*g+4+10)-2*g,F=w.length,z=(R-2*(F-1))/F;this.tickWidth=z;var q=this.sliceGroup,nt=[],et=[],st=Math.round(F*_),dt=Math.round(F*k);this.startTickRectId=st,this.endTickRectId=dt,w.forEach(function(bt,mt){var Tt=mt>=st&&mt<=dt?I:N,Dt=q.addShape("rect",{attrs:Object(T.__assign)({x:g+mt*(z+2),y:g,width:z,height:L},Tt),draggable:!0,name:"tick-rect-"+mt}),Yt=q.addShape("rect",{attrs:{x:g+mt*z+2*(2*mt-1)/2,y:g,width:mt===0||mt===F-1?z+1:z+2,height:L,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+mt});Yt.toFront();var Gt,Kt=Dt.getBBox(),Zt=(Kt.minX+Kt.maxX)/2;if(nt.push({rect:Dt,pickRect:Yt,value:bt.date,x:Zt,y:Kt.minY}),P?(Gt=P(bt),!Object(ct.isString)(Gt)&&Gt&&(Gt=bt.date)):mt%Math.round(F/10)==0&&(Gt=bt.date),Gt){et.push(Gt);var Wt=Kt.maxY+2*g;q.addShape("line",{attrs:{stroke:"#BFBFBF",x1:Zt,y1:Wt,x2:Zt,y2:Wt+4}});var ee=Wt+4+g,Qt=q.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:Zt,y:ee,textAlign:"center",text:Gt,textBaseline:"top",fontSize:10},capture:!1}),ue=Qt.getBBox();ue.maxX>t?Qt.attr("textAlign","right"):ue.minX<0&&Qt.attr("textAlign","left")}}),this.tickRects=nt;var Ot=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Ds({group:Ot,x:this.x,y:this.y+l+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},S.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",function(I){var N=I.target;if(N.get("type")==="rect"&&N.get("name")){var R=parseInt(N.get("name").split("-")[2],10);if(!isNaN(R)){var L=e.tickRects,F=e.unselectedTickStyle;L.forEach(function(nt){nt.rect.attr(F)});var z=e.selectedTickStyle;L[R].rect.attr(z),e.startTickRectId=R,e.endTickRectId=R;var q=R/L.length;e.graph.emit("valueChange",{value:[q,q]})}}}),t.on("dragstart",function(I){var N=e.tickRects,R=e.unselectedTickStyle;N.forEach(function(nt){nt.rect.attr(R)});var L=I.target,F=parseInt(L.get("name").split("-")[2],10),z=e.selectedTickStyle;N[F].rect.attr(z),e.startTickRectId=F;var q=F/N.length;e.graph.emit("valueChange",{value:[q,q]}),e.dragging=!0}),t.on("dragover",function(I){if(e.dragging&&I.target.get("type")==="rect"){for(var N=parseInt(I.target.get("name").split("-")[2],10),R=e.startTickRectId,L=e.tickRects,F=e.selectedTickStyle,z=e.unselectedTickStyle,q=0;q<L.length;q++){var nt=q>=R&&q<=N?F:z;L[q].rect.attr(nt)}var et=L.length;e.endTickRectId=N;var st=R/et,dt=N/et;e.graph.emit("valueChange",{value:[st,dt]})}}),t.on("drop",function(I){if(e.dragging&&(e.dragging=!1,I.target.get("type")==="rect")){var N=e.startTickRectId,R=parseInt(I.target.get("name").split("-")[2],10);if(!(R<N)){var L=e.selectedTickStyle,F=e.tickRects;F[R].rect.attr(L),e.endTickRectId=R;var z=F.length,q=N/z,nt=R/z;e.graph.emit("valueChange",{value:[q,nt]})}}});var l=this.tooltipBackgroundColor,g=this.tooltipFomatter,w=this.canvas,_=new Xh({container:w.get("container"),backgroundColor:l}),k=this.tickRects;k.forEach(function(I){var N=I.pickRect;N.on("mouseenter",function(R){var L=R.target;if(L.get("type")==="rect"){var F=parseInt(L.get("name").split("-")[2],10),z=w.getClientByPoint(k[F].x,k[F].y);_.show({x:k[F].x,y:k[F].y,clientX:z.x,clientY:z.y,text:g?g(k[F].value):k[F].value})}}),N.on("mouseleave",function(R){_.hide()})});var P=this.group;P.on("playPauseBtn:click",function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),P.on("nextStepBtn:click",function(){e.updateStartEnd(1)}),P.on("preStepBtn:click",function(){e.updateStartEnd(-1)}),P.on("timebarConfigChanged",function(I){I.type;var N=I.speed;e.currentSpeed=N})},S.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timelinestart",null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit("timelineend",null))},S.prototype.startPlay=function(){var e=this;return window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)==0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())})},S.prototype.updateStartEnd=function(e){var t=this.tickRects,l=t.length,g=this.unselectedTickStyle,w=this.selectedTickStyle,_=this.endTickRectId;if(e>0?this.endTickRectId++:(t[this.endTickRectId].rect.attr(g),this.endTickRectId--),_!==this.startTickRectId)this.endTickRectId<this.startTickRectId&&(this.startTickRectId=this.endTickRectId);else{for(var k=this.startTickRectId;k<=this.endTickRectId-1;k++)t[k].rect.attr(g);this.startTickRectId=this.endTickRectId}if(t[this.endTickRectId]){t[this.endTickRectId].rect.attr(w);var P=this.startTickRectId/l,I=this.endTickRectId/l;this.graph.emit("valueChange",{value:[P,I]})}},S.prototype.destory=function(){this.graph.off("valueChange");var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach(function(t){var l=t.pickRect;l.off("mouseenter"),l.off("mouseleave")}),this.tickRects.length=0,e.off("playPauseBtn:click"),e.off("nextStepBtn:click"),e.off("preStepBtn:click"),e.off("timebarConfigChanged"),this.sliceGroup.destroy()},S}(),qh=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},e.prototype.initContainer=function(){var t,l,g=this.get("graph"),w=this._cfgs,_=w.width,k=w.height,P=this.get("className")||"g6-component-timebar",I=this.get("container"),N=this.get("graph").get("container");I?t=I:(t=be()("<div class='"+P+"'></div>"),ce()(t,{position:"relative"})),N.appendChild(t),this.set("timeBarContainer",t),l=g.get("renderer")==="SVG"?new Pr.a({container:t,width:_,height:k}):new Xn.a({container:t,width:_,height:k}),this.set("canvas",l)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",t),this.renderTrend(),this.initEvent()},e.prototype.renderTrend=function(){var t=this._cfgs,l=t.width,g=t.x,w=t.y,_=t.padding,k=t.type,P=t.trend,I=t.slider,N=t.controllerCfg,R=P.data,L=Object(T.__rest)(P,["data"]),F=l-2*_,z=k==="trend"?26:8,q=this.get("graph"),nt=this.get("timeBarGroup"),et=this.get("canvas"),st=null;if(k==="trend"||k==="simple")st=new zh(Object(T.__assign)(Object(T.__assign)({graph:q,canvas:et,group:nt,type:k,x:g+_,y:k==="trend"?w+_:w+_+15,width:F,height:z,padding:_,trendCfg:Object(T.__assign)(Object(T.__assign)({},L),{data:R.map(function(Ot){return Ot.value})})},I),{ticks:R.map(function(Ot){return Ot.date}),handlerStyle:Object(T.__assign)(Object(T.__assign)({},I.handlerStyle),{height:I.height||z}),controllerCfg:N}));else if(k==="tick"){var dt=this._cfgs.tick;st=new Uh(Object(T.__assign)({graph:q,canvas:et,group:nt,x:g+_,y:w+_},dt))}this.set("timebar",st)},e.prototype.filterData=function(t){var l=t.value,g=null,w=this._cfgs.type;if(w==="trend"||w==="simple"?g=this._cfgs.trend.data:w==="tick"&&(g=this._cfgs.tick.data),g&&g.length!==0){var _=this.get("rangeChange"),k=this.get("graph"),P=Math.round(g.length*l[0]),I=Math.round(g.length*l[1]);I=I>=g.length?g.length-1:I;var N=g[P].date,R=g[I].date;if(w!=="tick"&&this.get("timebar").setText(N,R),_)_(k,N,R);else{var L=k.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=L);var F=this.cacheGraphData.nodes.filter(function(nt){return nt.date>=N&&nt.date<=R}),z=F.map(function(nt){return nt.id}),q=this.cacheGraphData.edges.filter(function(nt){return z.includes(nt.source)&&z.includes(nt.target)});k.changeData({nodes:F,edges:q})}}else console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E")},e.prototype.initEvent=function(){var t=this,l=0,g=0,w=this._cfgs.type;w&&w!=="trend"&&w!=="simple"?w==="tick"&&(l=this._cfgs.tick.start,g=this._cfgs.tick.end):(l=this._cfgs.slider.start,g=this._cfgs.slider.end);var _=this.get("graph");_.on("afterrender",function(){t.filterData({value:[l,g]})}),_.on("valueChange",function(k){t.filterData(k)})},e.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),S.prototype.destroy.call(this);var l=this.get("timeBarContainer");if(l){var g=this.get("container");g||(g=this.get("graph").get("container")),g.removeChild(l)}},e}(rr),Wh=function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,l=this._cfgs,g=l.graph;if(!this.destroyed){var w=this.get("container"),_=be()("<div class="+l.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),k=0,P=0,I=!1,N=0,R=0,L=0,F=0,z=0,q=0;w.addEventListener("mousedown",function(nt){if(l.refresh=!1,nt.target===_){var et=_.style;L=parseInt(et.width,10),F=parseInt(et.height,10);var st=t.get("width"),dt=t.get("height");L>st||F>dt||(q=g.getZoom(),z=t.get("ratio"),I=!0,k=nt.clientX,P=nt.clientY)}},!1),w.addEventListener("mousemove",function(nt){if(I&&!E()(nt.clientX)&&!E()(nt.clientY)){var et=t.get("width"),st=t.get("height"),dt=_.style;N=parseInt(dt.left,10),R=parseInt(dt.top,10),L=parseInt(dt.width,10),F=parseInt(dt.height,10);var Ot=k-nt.clientX,bt=P-nt.clientY;N-Ot<0?Ot=N:N-Ot+L>=et&&(Ot=0),R-bt<0?bt=R:R-bt+F>=st&&(bt=0),N-=Ot,R-=bt,ce()(_,{left:N+"px",top:R+"px"}),g.translate(Ot*q/z,bt*q/z),k=nt.clientX,P=nt.clientY}},!1),w.addEventListener("mouseleave",function(){I=!1,l.refresh=!0},!1),w.addEventListener("mouseup",function(){I=!1,l.refresh=!0},!1),this.set("viewport",_),w.appendChild(_)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),l=this.get("width"),g=this.get("height"),w=this.get("graph"),_=w.get("width"),k=_/w.get("height"),P=w.getGroup(),I=P.getCanvasBBox(),N=[(I.minX+I.maxX)/2,(I.minY+I.maxY)/2],R=[I.maxX-I.minX,I.maxY-I.minY],L={centerX:N[0],centerY:N[1],width:0,height:0,minX:0,minY:0};I[0]/I[1]>k?(L.width=R[0],L.height=L.width/k):(L.height=R[1],L.width=L.height*k),L.minX=N[0]-L.width/2,L.minY=N[1]-L.height/2;var F=P.getMatrix();F||(F=[1,0,0,0,1,0,0,0,1]);var z=Xt.invert([],F),q=rn({x:L.minX,y:L.minY},z),nt=w.getCanvasByPoint(q.x,q.y),et=this.get("viewport");et||this.initViewport();var st=_/L.width,dt=st*l,Ot=st*g,bt=l*-nt.x/L.width,mt=g*-nt.y/L.height,Tt=bt+dt,Dt=mt+Ot;bt<0&&(dt+=bt,bt=0),Tt>l&&(dt-=Tt-l),mt<0&&(Ot+=mt,mt=0),Dt>g&&(Ot-=Dt-g),this.set("ratio",t);var Yt=bt+"px",Gt=mt+"px";ce()(et,{left:Yt,top:Gt,width:dt+"px",height:Ot+"px"})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this.get("graph"),l=t.get("width"),g=t.get("height")/l,w=this.get("className"),_=this.get("container"),k=this.get("width"),P=this.get("height");k||P||(k=200),k?(P=g*k,this.set("height",P)):(k=1/g*P,this.set("width",k));var I=be()("<div class='"+w+"' style='width: "+k+"px; height: "+P+"px; overflow: hidden; position: relative;'></div>");D()(_)&&(_=document.getElementById(_)),_?_.appendChild(I):t.get("container").appendChild(I),this.set("container",I);var N=be()('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');I.appendChild(N);var R=be()('<span style="display: table-cell; vertical-align: middle; "></span>');N.appendChild(R),this.set("containerDOM",N),this.set("containerSpan",R);var L=be()('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');this.set("imgDOM",L),this.updateImgSize(),R.appendChild(L),this.updateCanvas()},e.prototype.updateImgSize=function(){var t=this.get("imgDOM"),l=this.get("width"),g=this.get("height");t.onload=function(){var w=function(_,k){var P,I;if(_.naturalWidth)P=_.naturalWidth,I=_.naturalHeight;else{var N=new Image;N.src=_.src,N.onload=function(){k==null||k(N.width,N.height)}}return[P,I]}(t);w[0]>w[1]?t.width=l:t.height=g}},e.prototype.updateCanvas=function(){if(this.get("refresh")){var t=this.get("graph");if(!t.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var l=this.get("width")/t.get("canvas").getCanvasBBox().width;this.set("ratio",l),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){this.get("imgDOM").remove(),this.set("graphImg",t);var l=be()('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');this.set("imgDOM",l),l.src=t,this.updateImgSize(),this.get("containerSpan").appendChild(l),this.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(rr),Bs={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},dn={Menu:Kc,Grid:Wc,Minimap:$c,Bundling:Qc,ToolBar:th,Tooltip:eh,Fisheye:Jc,TimeBar:qh,ImageMinimap:Wh,EdgeFilterLens:function(S){function e(){return S!==null&&S.apply(this,arguments)||this}return Object(T.__extends)(e,S),e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(v.clone)(Bs),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"}}return t},e.prototype.init=function(){var t=this.get("showLabel"),l=t==="node"||t==="both",g=t==="edge"||t==="both";this.set("showNodeLabel",l),this.set("showEdgeLabel",g),this.get("shouldShow")||this.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var l=this,g=l.get("delegate");g&&!g.destroyed||(l.filter(t),(g=l.get("delegate")).on("dragstart",function(w){}),g.on("drag",function(w){l.filter(w)}),this.get("scaleRBy")==="wheel"&&g.on("mousewheel",function(w){l.scaleRByWheel(w)}))},e.prototype.scaleRByWheel=function(t){if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var l,g=this.get("graph"),w=this.get("delegate");(w?{x:w.attr("x"),y:w.attr("y")}:void 0)||g.getPointByClient(t.clientX,t.clientY),l=t.originalEvent.wheelDelta<0?.95:1/.95;var _=this.get("maxR"),k=this.get("minR"),P=this.get("r");(P>(_||g.get("height"))&&l>1||P<(k||.05*g.get("height"))&&l<1)&&(l=1),P*=l,this.set("r",P),this.filter(t)}},e.prototype.filter=function(t){var l=this.get("graph"),g=l.getNodes(),w={},_=this.get("r"),k=this.get("type"),P={x:t.x,y:t.y};this.updateDelegate(P,_);var I=this.get("shouldShow"),N=this.get("vShapes");N&&N.forEach(function(nt){nt.remove(),nt.destroy()}),N=[],g.forEach(function(nt){var et=nt.getModel(),st=et.x,dt=et.y;on({x:st,y:dt},P)<_&&(w[et.id]=nt)});var R=l.getEdges(),L=[];R.forEach(function(nt){var et=nt.getModel(),st=et.source,dt=et.target;I(et)&&(k==="only-source"||k==="one"?w[st]&&!w[dt]&&L.push(nt):k==="only-target"||k==="one"?w[dt]&&!w[st]&&L.push(nt):k==="both"&&w[st]&&w[dt]&&L.push(nt))});var F=this.get("showNodeLabel"),z=this.get("showEdgelabel"),q=l.get("group");L.forEach(function(nt){nt.get("group").get("children").forEach(function(et){var st=et.get("type"),dt=q.addShape(st,{attrs:et.attr()});N.push(dt),F&&st==="text"&&dt.set("visible",!0)})}),Object.keys(w).forEach(function(nt){var et=w[nt].get("group").clone();if(q.add(et),N.push(et),z)for(var st=et.get("children"),dt=0;dt<st.length;dt++){var Ot=st[dt];Ot.get("type")==="text"&&Ot.set("visible",!0)}}),this.set("vShapes",N)},e.prototype.updateParams=function(t){var l=t.r,g=t.trigger,w=t.minR,_=t.maxR,k=t.scaleRBy,P=t.showLabel,I=t.shouldShow;if(isNaN(t.r)||this.set("r",l),isNaN(_)||this.set("maxR",_),isNaN(w)||this.set("minR",w),g!=="mousemove"&&g!=="click"||this.set("trigger",g),k==="wheel"||k==="unset"){this.set("scaleRBy",k),this.get("delegate").remove(),this.get("delegate").destroy();var N=this.get("dPercentText");N&&(N.remove(),N.destroy())}P!=="node"&&P!=="both"||this.set("showNodeLabel",!0),P!=="edge"&&P!=="both"||this.set("showEdgeLabel",!0),I&&this.set("shouldShow",I)},e.prototype.updateDelegate=function(t,l){var g=this,w=g.get("graph"),_=g.get("delegate");if(!_||_.destroyed){var k=w.get("group"),P=g.get("delegateStyle")||Bs;_=k.addShape("circle",{attrs:Object(T.__assign)({r:l,x:t.x,y:t.y},P),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&_.on("mousewheel",function(I){g.scaleRByWheel(I)})}else _.attr({x:t.x,y:t.y,r:l});g.set("delegate",_)},e.prototype.clear=function(){var t=this.get("vShapes");t&&t.forEach(function(g){g.remove(),g.destroy()}),t=[],this.set("vShapes",t);var l=this.get("delegate");l&&!l.destroyed&&(l.remove(),l.destroy())},e.prototype.destroy=function(){this.clear()},e}(rr)};function Rs(S,e,t){var l=S.findById(e);(function g(w,_,k,P){P.enter({current:_,previous:k}),w.getNeighbors(_,"target").forEach(function(I){P.allowTraversal({previous:k,current:_,next:I})&&g(w,I,_,P)}),P.leave({current:_,previous:k})})(S,l,null,function(g){g===void 0&&(g={});var w,_=g,k=function(){},P=(w={},function(I){var N=I.next;return!w[N.get("id")]&&(w[N.get("id")]=!0,!0)});return _.allowTraversal=g.allowTraversal||P,_.enter=g.enter||k,_.leave=g.leave||k,_}(t))}var Zh=function(){function S(){this.linkedList=new Na}return S.prototype.isEmpty=function(){return!this.linkedList.head},S.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},S.prototype.enqueue=function(e){this.linkedList.append(e)},S.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},S.prototype.toString=function(e){return this.linkedList.toString(e)},S}(),Kh=function(e,t,l){var g=function(I){I===void 0&&(I={});var N,R=I,L=function(){},F=(N={},function(z){var q=z.next.get("id");return!N[q]&&(N[q]=!0,!0)});return R.allowTraversal=I.allowTraversal||F,R.enter=I.enter||L,R.leave=I.leave||L,R}(l),w=new Zh,_=e.findById(t);w.enqueue(_);for(var k=null,P=function(){var N=w.dequeue();g.enter({current:N,previous:k}),e.getNeighbors(N,"target").forEach(function(R){g.allowTraversal({previous:k,current:N,next:R})&&w.enqueue(R)}),g.leave({current:N,previous:k}),k=N};!w.isEmpty();)P()};function Ls(S){for(var e=[],t={},l={},g={},w=[],_=0,k=function R(L){l[L.get("id")]=_,g[L.get("id")]=_,_+=1,e.push(L),t[L.get("id")]=!0;for(var F=L.getNeighbors("target").filter(function(st){return S.indexOf(st)>-1}),z=0;z<F.length;z++){var q=F[z];l[q.get("id")]||l[q.get("id")]===0?t[q.get("id")]&&(g[L.get("id")]=Math.min(g[L.get("id")],l[q.get("id")])):(R(q),g[L.get("id")]=Math.min(g[L.get("id")],g[q.get("id")]))}if(g[L.get("id")]===l[L.get("id")]){for(var nt=[];e.length>0;){var et=e.pop();if(t[et.get("id")]=!1,nt.push(et),et===L)break}nt.length>0&&w.push(nt)}},P=0,I=S;P<I.length;P++){var N=I[P];l[N.get("id")]||l[N.get("id")]===0||k(N)}return w}function Fs(S,e){var t=e===void 0?S.get("directed"):e,l=S.getNodes();return t?Ls(l):function(g){for(var w=[],_={},k=[],P=function L(F){k.push(F),_[F.get("id")]=!0;for(var z=F.getNeighbors(),q=0;q<z.length;++q){var nt=z[q];_[nt.get("id")]||L(nt)}},I=0;I<g.length;I++){var N=g[I];if(!_[N.get("id")]){P(N);for(var R=[];k.length>0;)R.push(k.pop());w.push(R)}}return w}(l)}var Ys=function(e,t,l){var g,w,_;l===void 0&&(l=!0);for(var k=[],P=0,I=Fs(e,!1);P<I.length;P++){var N=I[P];if(N.length)for(var R=N[0],L=R.get("id"),F=[R],z=((g={})[L]=R,g),q=((w={})[L]=new Set,w);F.length>0;)for(var nt=F.pop(),et=nt.get("id"),st=nt.getNeighbors(),dt=0;dt<st.length;dt+=1){var Ot=st[dt],bt=Ot.get("id");if(bt===et)k.push(((_={})[Ot.getID()]=nt,_));else if(bt in q){if(!q[et].has(Ot)){for(var mt=!0,Tt=[Ot,nt],Dt=z[et];q[bt].size&&!q[bt].has(Dt)&&(Tt.push(Dt),Dt!==z[Dt.getID()]);)Dt=z[Dt.getID()];if(Tt.push(Dt),t&&l?(mt=!1,Tt.findIndex(function(Kt){return t.indexOf(Kt.get("id"))>-1})>-1&&(mt=!0)):t&&!l&&Tt.findIndex(function(Kt){return t.indexOf(Kt.get("id"))>-1})>-1&&(mt=!1),mt){for(var Yt={},Gt=1;Gt<Tt.length;Gt+=1)Yt[Tt[Gt-1].getID()]=Tt[Gt];Tt.length&&(Yt[Tt[Tt.length-1].getID()]=Tt[0]),k.push(Yt)}q[bt].add(nt)}}else z[bt]=nt,F.push(Ot),q[bt]=new Set([nt])}}return k},Gs=function(e,t,l){l===void 0&&(l=!0);for(var g=[],w=new Set,_=[],k=[],P={},I={},N=function Tt(Dt,Yt,Gt){var Kt=!1;if(t&&l===!1&&t.indexOf(Dt.get("id"))>-1)return Kt;g.push(Dt),w.add(Dt);for(var Zt=Gt[Dt.getID()],Wt=0;Wt<Zt.length;Wt+=1)if((ue=P[Zt[Wt]])===Yt){for(var ee={},Qt=1;Qt<g.length;Qt+=1)ee[g[Qt-1].getID()]=g[Qt];g.length&&(ee[g[g.length-1].getID()]=g[0]),k.push(ee),Kt=!0}else w.has(ue)||Tt(ue,Yt,Gt)&&(Kt=!0);if(Kt)(function(ae){for(var he=[ae];he.length>0;){var Jt=he.pop();w.has(Jt)&&(w.delete(Jt),_[Jt.get("id")].forEach(function(se){he.push(se)}),_[Jt.get("id")].clear())}})(Dt);else for(Wt=0;Wt<Zt.length;Wt+=1){var ue=P[Zt[Wt]];_[ue.get("id")].has(Dt)||_[ue.get("id")].add(Dt)}return g.pop(),Kt},R=e.getNodes(),L=0;L<R.length;L+=1){var F=R[L],z=F.getID();I[z]=L,P[L]=F}if(t&&l)for(L=0;L<t.length;L++)z=t[L],I[R[L].getID()]=I[z],I[z]=0,P[0]=e.findById(z),P[I[R[L].getID()]]=R[L];for(var q=function(Dt){for(var Yt,Gt,Kt=1/0,Zt=0;Zt<Dt.length;Zt+=1)for(var Wt=Dt[Zt],ee=0;ee<Wt.length;ee++){var Qt=I[Wt[ee].getID()];Qt<Kt&&(Kt=Qt,Gt=Zt)}var ue=Dt[Gt],ae=[];for(Zt=0;Zt<ue.length;Zt+=1){var he=ue[Zt];ae[he.getID()]=[];for(var Jt=0,se=he.getNeighbors("target").filter(function(Pe){return ue.indexOf(Pe)>-1});Jt<se.length;Jt++){var me=se[Jt];me!==he||l===!1&&t.indexOf(he.getId())>-1?ae[he.getID()].push(I[me.getID()]):k.push(((Yt={})[he.getID()]=he,Yt))}}return{component:ue,adjList:ae,minIdx:Kt}},nt=0;nt<R.length;){var et=Ls(R.filter(function(Tt){return I[Tt.getID()]>=nt})).filter(function(Tt){return Tt.length>1});if(et.length===0)break;var st=q(et),dt=st.minIdx,Ot=st.adjList,bt=st.component;if(!(bt.length>1))break;bt.forEach(function(Tt){_[Tt.get("id")]=new Set});var mt=P[dt];if(t&&l&&t.indexOf(mt.get("id"))===-1)return k;N(mt,mt,Ot),nt=dt+1}return k},$h=function(e,t,l,g){return g===void 0&&(g=!0),t===void 0&&(t=e.get("directed")),t?Gs(e,l,g):Ys(e,l,g)},Qh=function(e){var t=null,l={},g={},w={},_={};e.getNodes().forEach(function(P){g[P.getID()]=P});for(var k={enter:function(I){var N=I.current,R=I.previous;if(w[N.getID()]){t={};for(var L=N,F=R;F.getID()!==N.getID();)t[L.getID()]=F,L=F,F=l[F.getID()];t[L.getID()]=F}else w[N.getID()]=N,delete g[N.getID()],l[N.getID()]=R},leave:function(I){var N=I.current;_[N.getID()]=N,delete w[N.getID()]},allowTraversal:function(I){var N=I.next;return!t&&!_[N.getID()]}};Object.keys(g).length;)Rs(e,Object.keys(g)[0],k);return t},Jh=function(e,t,l,g){var w=e.getNodes(),_=[],k={},P={},I={};w.forEach(function(nt,et){var st=nt.getID();_.push(st),P[st]=1/0,st===t&&(P[st]=0)});for(var N=w.length,R=function(et){var st=function(Ot,bt,mt){for(var Tt,Dt=1/0,Yt=0;Yt<bt.length;Yt++){var Gt=bt[Yt].get("id");!mt[Gt]&&Ot[Gt]<=Dt&&(Dt=Ot[Gt],Tt=bt[Yt])}return Tt}(P,w,k),dt=st.get("id");if(k[dt]=!0,P[dt]===1/0)return"continue";(l?st.getOutEdges():st.getEdges()).forEach(function(Ot){var bt=Ot.getTarget().getID(),mt=Ot.getSource().getID(),Tt=bt===dt?mt:bt,Dt=g&&Ot.getModel()[g]?Ot.getModel()[g]:1;P[Tt]>P[st.get("id")]+Dt&&(P[Tt]=P[st.get("id")]+Dt,I[Tt]=st.get("id"))})},L=0;L<N;L++)R();var F={};for(var z in P){F[z]=[z];for(var q=I[z];q!==void 0;)F[z].unshift(q),q=I[q]}return{length:P,path:F}},tl=function(e,t,l,g,w){Object(ct.isString)(t)&&(t=e.findById(t)),Object(ct.isString)(l)&&(l=e.findById(l));var _=Jh(e,t.get("id"),g,w),k=_.length,P=_.path;return{length:k[l.get("id")],path:P[l.get("id")]}},el=function(e,t,l,g){var w;if(Object(ct.isString)(t)&&(t=e.findById(t)),Object(ct.isString)(l)&&(l=e.findById(l)),g===void 0&&(g=e.get("directed")),t===l)return[[t.get("id")]];var _=[t],k=((w={})[t.get("id")]=!0,w),P=[],I=[],N=g?t.getNeighbors("target"):t.getNeighbors();for(P.push(N);_.length>0&&P.length>0;){var R=P[P.length-1];if(R.length){var L=R.shift();if(L&&(_.push(L),k[L.get("id")]=!0,N=g?L.getNeighbors("target"):L.getNeighbors(),P.push(N.filter(function(q){return!k[q.get("id")]}))),_[_.length-1]===l){var F=_.map(function(q){return q.get("id")});I.push(F),z=_.pop(),k[z.get("id")]=!1,P.pop()}}else{var z=_.pop();k[z.get("id")]=!1,P.pop()}}return I},nl=function(){function S(e){this.count=e.length,this.parent={};for(var t=0,l=e;t<l.length;t++){var g=l[t];this.parent[g]=g}}return S.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},S.prototype.union=function(e,t){var l=this.find(e),g=this.find(t);l!==g&&(l<g?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},S.prototype.connected=function(e,t){return this.find(e)===this.find(t)},S}(),rl=function(e,t){return e-t},il=function(){function S(e){e===void 0&&(e=rl),this.compareFn=e,this.list=[]}return S.prototype.getLeft=function(e){return 2*e+1},S.prototype.getRight=function(e){return 2*e+2},S.prototype.getParent=function(e){return e===0?null:Math.floor((e-1)/2)},S.prototype.isEmpty=function(){return this.list.length<=0},S.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},S.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},S.prototype.insert=function(e){if(e!==null){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},S.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var l=this.list[t];this.list[t]=this.list[e],this.list[e]=l,e=t,t=this.getParent(e)}},S.prototype.moveDown=function(e){var t,l=e,g=this.getLeft(e),w=this.getRight(e),_=this.list.length;g!==null&&g<_&&this.compareFn(this.list[l],this.list[g])>0?l=g:w!==null&&w<_&&this.compareFn(this.list[l],this.list[w])>0&&(l=w),e!==l&&(t=[this.list[l],this.list[e]],this.list[e]=t[0],this.list[l]=t[1],this.moveDown(l))},S}(),ol=function(e,t){var l=[],g=e.getNodes();if(g.length===0)return l;var w=g[0],_=new Set;_.add(w);var k=new il(function(R,L){return t?R.getModel()[t]-L.getModel()[t]:0});for(w.getEdges().forEach(function(R){k.insert(R)});!k.isEmpty();){var P=k.delMin(),I=P.getSource(),N=P.getTarget();_.has(I)&&_.has(N)||(l.push(P),_.has(I)||(_.add(I),I.getEdges().forEach(function(R){k.insert(R)})),_.has(N)||(_.add(N),N.getEdges().forEach(function(R){k.insert(R)})))}return l},zs=function(e,t){var l=[];if(e.getNodes().length===0)return l;var g=e.getEdges().map(function(I){return I});t&&g.sort(function(I,N){return I.getModel()[t]-N.getModel()[t]});for(var w=new nl(e.getNodes().map(function(I){return I.get("id")}));g.length>0;){var _=g.shift(),k=_.getSource().get("id"),P=_.getTarget().get("id");w.connected(k,P)||(l.push(_),w.union(k,P))}return l};function al(S,e,t){return t?{prim:ol,kruskal:zs}[t](S,e):zs(S,e)}var sl=function(e,t,l){typeof t!="number"&&(t=1e-6),typeof l!="number"&&(l=.85);for(var g,w=1,_=0,k=1e3,P=e.getNodes(),I=P.length,N={},R={},L=0;L<I;++L)N[F=(st=P[L]).get("id")]=1/I,R[F]=1/I;for(;k>0&&w>t;){for(_=0,L=0;L<I;++L){var F=(st=P[L]).get("id");if(g=0,e.getNodeDegree(st,"in")===0)N[F]=0;else{for(var z=st.getNeighbors("source"),q=0;q<z.length;++q){var nt=z[q],et=e.getNodeDegree(nt,"out");et>0&&(g+=R[nt.get("id")]/et)}N[F]=l*g,_+=N[F]}}for(_=(1-_)/I,w=0,L=0;L<I;++L){var st;g=N[F=(st=P[L]).get("id")]+_,w+=Math.abs(g-R[F]),R[F]=g}k-=1}return R},ul=Gr.registerNode,cl=Gr.registerEdge,hl=Gr.registerCombo,ll=zn.registerBehavior,fl=Jr.registerLayout,dl=dn.Minimap,pl=dn.Grid,gl=dn.Bundling,vl=dn.Menu,Xs=dn.Fisheye,ml=dn.ToolBar,yl=dn.Tooltip,Hs=dn.TimeBar,Vs=dn.ImageMinimap,Us=dn.EdgeFilterLens;x.default={version:a.a,Graph:ho,TreeGraph:za,Util:$a,registerNode:Gr.registerNode,registerEdge:Gr.registerEdge,registerCombo:Gr.registerCombo,registerBehavior:zn.registerBehavior,registerLayout:Jr.registerLayout,Layout:Jr,Global:tt,Minimap:dn.Minimap,Grid:dn.Grid,Bundling:dn.Bundling,Menu:dn.Menu,ToolBar:dn.ToolBar,Tooltip:dn.Tooltip,TimeBar:Hs,Fisheye:Xs,ImageMinimap:Vs,EdgeFilterLens:Us,Algorithm:r,Arrow:{triangle:function(e,t,l){e===void 0&&(e=10),t===void 0&&(t=15),l===void 0&&(l=0);var g=2*l;return"M "+g+",0 L "+(g+t)+",-"+e/2+" L "+(g+t)+","+e/2+" Z"},vee:function(e,t,l){e===void 0&&(e=15),t===void 0&&(t=20),l===void 0&&(l=0);var g=2*l;return"M "+g+",0 L "+(g+t)+",-"+e/2+`
        L `+(g+2*t/3)+",0 L "+(g+t)+","+e/2+" Z"},circle:function(e,t){return e===void 0&&(e=5),t===void 0&&(t=0),"M "+2*t+`, 0
            a `+e+","+e+" 0 1,0 "+2*e+`,0
            a `+e+","+e+" 0 1,0 "+2*-e+",0"},rect:function(e,t,l){e===void 0&&(e=10),t===void 0&&(t=10),l===void 0&&(l=0);var g=2*l;return"M "+g+","+-e/2+` 
        L `+(g+t)+","+-e/2+` 
        L `+(g+t)+","+e/2+` 
        L `+g+","+e/2+" Z"},diamond:function(e,t,l){e===void 0&&(e=15),t===void 0&&(t=15),l===void 0&&(l=0);var g=2*l;return"M "+g+`,0 
        L `+(g+t/2)+","+-e/2+` 
        L `+(g+t)+`,0 
        L `+(g+t/2)+","+e/2+" Z"},triangleRect:function(e,t,l,g,w,_){e===void 0&&(e=15),t===void 0&&(t=15),l===void 0&&(l=15),g===void 0&&(g=3),w===void 0&&(w=5),_===void 0&&(_=0);var k=2*_,P=k+t+w;return"M "+k+",0 L "+(k+t)+",-"+e/2+" L "+(k+t)+","+e/2+` Z
            M `+P+", -"+l/2+`
            L `+(P+g)+" -"+l/2+`
            L `+(P+g)+" "+l/2+`
            L `+P+" "+l/2+`
            Z`}},Marker:Uc}}]).default})},47556:function(zt,C,x){"use strict";var s=x(60726),d=x(34283),y=x(92691),p=x.n(y),n=x(59301),o=x(15723),u=function(i,a){var c={};for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&a.indexOf(h)<0&&(c[h]=i[h]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,h=Object.getOwnPropertySymbols(i);v<h.length;v++)a.indexOf(h[v])<0&&Object.prototype.propertyIsEnumerable.call(i,h[v])&&(c[h[v]]=i[h[v]]);return c},r=function(a){var c,h=n.useContext(o.E_),v=h.getPrefixCls,f=h.direction,m=a.prefixCls,b=a.type,M=b===void 0?"horizontal":b,O=a.orientation,E=O===void 0?"center":O,A=a.orientationMargin,j=a.className,B=a.children,D=a.dashed,T=a.plain,Y=u(a,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),G=v("divider",m),U=E.length>0?"-".concat(E):E,H=!!B,J=E==="left"&&A!=null,ut=E==="right"&&A!=null,$=p()(G,"".concat(G,"-").concat(M),(c={},(0,d.Z)(c,"".concat(G,"-with-text"),H),(0,d.Z)(c,"".concat(G,"-with-text").concat(U),H),(0,d.Z)(c,"".concat(G,"-dashed"),!!D),(0,d.Z)(c,"".concat(G,"-plain"),!!T),(0,d.Z)(c,"".concat(G,"-rtl"),f==="rtl"),(0,d.Z)(c,"".concat(G,"-no-default-orientation-margin-left"),J),(0,d.Z)(c,"".concat(G,"-no-default-orientation-margin-right"),ut),c),j),K=(0,s.Z)((0,s.Z)({},J&&{marginLeft:A}),ut&&{marginRight:A});return n.createElement("div",(0,s.Z)({className:$},Y,{role:"separator"}),B&&n.createElement("span",{className:"".concat(G,"-inner-text"),style:K},B))};C.Z=r},91438:function(zt,C,x){"use strict";var s=x(59791),d=x.n(s),y=x(1315),p=x.n(y)},21514:function(zt,C,x){var s=x(3915),d=x(79779),y=TypeError;zt.exports=function(p){if(s(p))return p;throw y(d(p)+" is not a function")}},34432:function(zt,C,x){var s=x(322),d=String,y=TypeError;zt.exports=function(p){if(s(p))return p;throw y(d(p)+" is not an object")}},1236:function(zt,C,x){"use strict";var s=x(39870).forEach,d=x(75537),y=d("forEach");zt.exports=y?[].forEach:function(n){return s(this,n,arguments.length>1?arguments[1]:void 0)}},49797:function(zt,C,x){var s=x(69847),d=x(41662),y=x(27239),p=function(n){return function(o,u,r){var i=s(o),a=y(i),c=d(r,a),h;if(n&&u!=u){for(;a>c;)if(h=i[c++],h!=h)return!0}else for(;a>c;c++)if((n||c in i)&&i[c]===u)return n||c||0;return!n&&-1}};zt.exports={includes:p(!0),indexOf:p(!1)}},39870:function(zt,C,x){var s=x(44269),d=x(92873),y=x(65928),p=x(78235),n=x(27239),o=x(7155),u=d([].push),r=function(i){var a=i==1,c=i==2,h=i==3,v=i==4,f=i==6,m=i==7,b=i==5||f;return function(M,O,E,A){for(var j=p(M),B=y(j),D=s(O,E),T=n(B),Y=0,G=A||o,U=a?G(M,T):c||m?G(M,0):void 0,H,J;T>Y;Y++)if((b||Y in B)&&(H=B[Y],J=D(H,Y,j),i))if(a)U[Y]=J;else if(J)switch(i){case 3:return!0;case 5:return H;case 6:return Y;case 2:u(U,H)}else switch(i){case 4:return!1;case 7:u(U,H)}return f?-1:h||v?v:U}};zt.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6),filterReject:r(7)}},44937:function(zt,C,x){var s=x(67948),d=x(55012),y=x(49865),p=d("species");zt.exports=function(n){return y>=51||!s(function(){var o=[],u=o.constructor={};return u[p]=function(){return{foo:1}},o[n](Boolean).foo!==1})}},75537:function(zt,C,x){"use strict";var s=x(67948);zt.exports=function(d,y){var p=[][d];return!!p&&s(function(){p.call(null,y||function(){return 1},1)})}},80260:function(zt,C,x){var s=x(92873);zt.exports=s([].slice)},85972:function(zt,C,x){var s=x(91136),d=x(87977),y=x(322),p=x(55012),n=p("species"),o=Array;zt.exports=function(u){var r;return s(u)&&(r=u.constructor,d(r)&&(r===o||s(r.prototype))?r=void 0:y(r)&&(r=r[n],r===null&&(r=void 0))),r===void 0?o:r}},7155:function(zt,C,x){var s=x(85972);zt.exports=function(d,y){return new(s(d))(y===0?0:y)}},54140:function(zt,C,x){var s=x(92873),d=s({}.toString),y=s("".slice);zt.exports=function(p){return y(d(p),8,-1)}},2101:function(zt,C,x){var s=x(91186),d=x(3915),y=x(54140),p=x(55012),n=p("toStringTag"),o=Object,u=y(function(){return arguments}())=="Arguments",r=function(i,a){try{return i[a]}catch(c){}};zt.exports=s?y:function(i){var a,c,h;return i===void 0?"Undefined":i===null?"Null":typeof(c=r(a=o(i),n))=="string"?c:u?y(a):(h=y(a))=="Object"&&d(a.callee)?"Arguments":h}},99695:function(zt,C,x){var s=x(98961),d=x(18791),y=x(70251),p=x(98295);zt.exports=function(n,o,u){for(var r=d(o),i=p.f,a=y.f,c=0;c<r.length;c++){var h=r[c];!s(n,h)&&!(u&&s(u,h))&&i(n,h,a(o,h))}}},53815:function(zt,C,x){var s=x(53734),d=x(98295),y=x(62721);zt.exports=s?function(p,n,o){return d.f(p,n,y(1,o))}:function(p,n,o){return p[n]=o,p}},62721:function(zt){zt.exports=function(C,x){return{enumerable:!(C&1),configurable:!(C&2),writable:!(C&4),value:x}}},66407:function(zt,C,x){"use strict";var s=x(86588),d=x(98295),y=x(62721);zt.exports=function(p,n,o){var u=s(n);u in p?d.f(p,u,y(0,o)):p[u]=o}},9300:function(zt,C,x){var s=x(3915),d=x(98295),y=x(45558),p=x(64166);zt.exports=function(n,o,u,r){r||(r={});var i=r.enumerable,a=r.name!==void 0?r.name:o;if(s(u)&&y(u,a,r),r.global)i?n[o]=u:p(o,u);else{try{r.unsafe?n[o]&&(i=!0):delete n[o]}catch(c){}i?n[o]=u:d.f(n,o,{value:u,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return n}},64166:function(zt,C,x){var s=x(47314),d=Object.defineProperty;zt.exports=function(y,p){try{d(s,y,{value:p,configurable:!0,writable:!0})}catch(n){s[y]=p}return p}},53734:function(zt,C,x){var s=x(67948);zt.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},55944:function(zt,C,x){var s=x(47314),d=x(322),y=s.document,p=d(y)&&d(y.createElement);zt.exports=function(n){return p?y.createElement(n):{}}},18524:function(zt){var C=TypeError,x=9007199254740991;zt.exports=function(s){if(s>x)throw C("Maximum allowed index exceeded");return s}},6124:function(zt){zt.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},4633:function(zt,C,x){var s=x(55944),d=s("span").classList,y=d&&d.constructor&&d.constructor.prototype;zt.exports=y===Object.prototype?void 0:y},75258:function(zt,C,x){var s=x(50458);zt.exports=s("navigator","userAgent")||""},49865:function(zt,C,x){var s=x(47314),d=x(75258),y=s.process,p=s.Deno,n=y&&y.versions||p&&p.version,o=n&&n.v8,u,r;o&&(u=o.split("."),r=u[0]>0&&u[0]<4?1:+(u[0]+u[1])),!r&&d&&(u=d.match(/Edge\/(\d+)/),(!u||u[1]>=74)&&(u=d.match(/Chrome\/(\d+)/),u&&(r=+u[1]))),zt.exports=r},38693:function(zt){zt.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},15897:function(zt,C,x){var s=x(47314),d=x(70251).f,y=x(53815),p=x(9300),n=x(64166),o=x(99695),u=x(4939);zt.exports=function(r,i){var a=r.target,c=r.global,h=r.stat,v,f,m,b,M,O;if(c?f=s:h?f=s[a]||n(a,{}):f=(s[a]||{}).prototype,f)for(m in i){if(M=i[m],r.dontCallGetSet?(O=d(f,m),b=O&&O.value):b=f[m],v=u(c?m:a+(h?".":"#")+m,r.forced),!v&&b!==void 0){if(typeof M==typeof b)continue;o(M,b)}(r.sham||b&&b.sham)&&y(M,"sham",!0),p(f,m,M,r)}}},67948:function(zt){zt.exports=function(C){try{return!!C()}catch(x){return!0}}},5716:function(zt,C,x){var s=x(44751),d=Function.prototype,y=d.apply,p=d.call;zt.exports=typeof Reflect=="object"&&Reflect.apply||(s?p.bind(y):function(){return p.apply(y,arguments)})},44269:function(zt,C,x){var s=x(92873),d=x(21514),y=x(44751),p=s(s.bind);zt.exports=function(n,o){return d(n),o===void 0?n:y?p(n,o):function(){return n.apply(o,arguments)}}},44751:function(zt,C,x){var s=x(67948);zt.exports=!s(function(){var d=function(){}.bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},30661:function(zt,C,x){var s=x(44751),d=Function.prototype.call;zt.exports=s?d.bind(d):function(){return d.apply(d,arguments)}},2802:function(zt,C,x){var s=x(53734),d=x(98961),y=Function.prototype,p=s&&Object.getOwnPropertyDescriptor,n=d(y,"name"),o=n&&function(){}.name==="something",u=n&&(!s||s&&p(y,"name").configurable);zt.exports={EXISTS:n,PROPER:o,CONFIGURABLE:u}},92873:function(zt,C,x){var s=x(44751),d=Function.prototype,y=d.bind,p=d.call,n=s&&y.bind(p,p);zt.exports=s?function(o){return o&&n(o)}:function(o){return o&&function(){return p.apply(o,arguments)}}},50458:function(zt,C,x){var s=x(47314),d=x(3915),y=function(p){return d(p)?p:void 0};zt.exports=function(p,n){return arguments.length<2?y(s[p]):s[p]&&s[p][n]}},81786:function(zt,C,x){var s=x(21514);zt.exports=function(d,y){var p=d[y];return p==null?void 0:s(p)}},47314:function(zt,C,x){var s=function(d){return d&&d.Math==Math&&d};zt.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof x.g=="object"&&x.g)||function(){return this}()||Function("return this")()},98961:function(zt,C,x){var s=x(92873),d=x(78235),y=s({}.hasOwnProperty);zt.exports=Object.hasOwn||function(n,o){return y(d(n),o)}},76262:function(zt){zt.exports={}},68709:function(zt,C,x){var s=x(53734),d=x(67948),y=x(55944);zt.exports=!s&&!d(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},65928:function(zt,C,x){var s=x(92873),d=x(67948),y=x(54140),p=Object,n=s("".split);zt.exports=d(function(){return!p("z").propertyIsEnumerable(0)})?function(o){return y(o)=="String"?n(o,""):p(o)}:p},23446:function(zt,C,x){var s=x(92873),d=x(3915),y=x(214),p=s(Function.toString);d(y.inspectSource)||(y.inspectSource=function(n){return p(n)}),zt.exports=y.inspectSource},49274:function(zt,C,x){var s=x(66274),d=x(47314),y=x(92873),p=x(322),n=x(53815),o=x(98961),u=x(214),r=x(33541),i=x(76262),a="Object already initialized",c=d.TypeError,h=d.WeakMap,v,f,m,b=function(D){return m(D)?f(D):v(D,{})},M=function(D){return function(T){var Y;if(!p(T)||(Y=f(T)).type!==D)throw c("Incompatible receiver, "+D+" required");return Y}};if(s||u.state){var O=u.state||(u.state=new h),E=y(O.get),A=y(O.has),j=y(O.set);v=function(D,T){if(A(O,D))throw new c(a);return T.facade=D,j(O,D,T),T},f=function(D){return E(O,D)||{}},m=function(D){return A(O,D)}}else{var B=r("state");i[B]=!0,v=function(D,T){if(o(D,B))throw new c(a);return T.facade=D,n(D,B,T),T},f=function(D){return o(D,B)?D[B]:{}},m=function(D){return o(D,B)}}zt.exports={set:v,get:f,has:m,enforce:b,getterFor:M}},91136:function(zt,C,x){var s=x(54140);zt.exports=Array.isArray||function(y){return s(y)=="Array"}},3915:function(zt){zt.exports=function(C){return typeof C=="function"}},87977:function(zt,C,x){var s=x(92873),d=x(67948),y=x(3915),p=x(2101),n=x(50458),o=x(23446),u=function(){},r=[],i=n("Reflect","construct"),a=/^\s*(?:class|function)\b/,c=s(a.exec),h=!a.exec(u),v=function(b){if(!y(b))return!1;try{return i(u,r,b),!0}catch(M){return!1}},f=function(b){if(!y(b))return!1;switch(p(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!c(a,o(b))}catch(M){return!0}};f.sham=!0,zt.exports=!i||d(function(){var m;return v(v.call)||!v(Object)||!v(function(){m=!0})||m})?f:v},4939:function(zt,C,x){var s=x(67948),d=x(3915),y=/#|\.prototype\./,p=function(i,a){var c=o[n(i)];return c==r?!0:c==u?!1:d(a)?s(a):!!a},n=p.normalize=function(i){return String(i).replace(y,".").toLowerCase()},o=p.data={},u=p.NATIVE="N",r=p.POLYFILL="P";zt.exports=p},322:function(zt,C,x){var s=x(3915);zt.exports=function(d){return typeof d=="object"?d!==null:s(d)}},21453:function(zt){zt.exports=!1},33119:function(zt,C,x){var s=x(50458),d=x(3915),y=x(49931),p=x(27820),n=Object;zt.exports=p?function(o){return typeof o=="symbol"}:function(o){var u=s("Symbol");return d(u)&&y(u.prototype,n(o))}},27239:function(zt,C,x){var s=x(85012);zt.exports=function(d){return s(d.length)}},45558:function(zt,C,x){var s=x(67948),d=x(3915),y=x(98961),p=x(53734),n=x(2802).CONFIGURABLE,o=x(23446),u=x(49274),r=u.enforce,i=u.get,a=Object.defineProperty,c=p&&!s(function(){return a(function(){},"length",{value:8}).length!==8}),h=String(String).split("String"),v=zt.exports=function(f,m,b){String(m).slice(0,7)==="Symbol("&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),b&&b.getter&&(m="get "+m),b&&b.setter&&(m="set "+m),(!y(f,"name")||n&&f.name!==m)&&(p?a(f,"name",{value:m,configurable:!0}):f.name=m),c&&b&&y(b,"arity")&&f.length!==b.arity&&a(f,"length",{value:b.arity});try{b&&y(b,"constructor")&&b.constructor?p&&a(f,"prototype",{writable:!1}):f.prototype&&(f.prototype=void 0)}catch(O){}var M=r(f);return y(M,"source")||(M.source=h.join(typeof m=="string"?m:"")),f};Function.prototype.toString=v(function(){return d(this)&&i(this).source||o(this)},"toString")},94842:function(zt){var C=Math.ceil,x=Math.floor;zt.exports=Math.trunc||function(d){var y=+d;return(y>0?x:C)(y)}},16874:function(zt,C,x){var s=x(49865),d=x(67948);zt.exports=!!Object.getOwnPropertySymbols&&!d(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&s&&s<41})},66274:function(zt,C,x){var s=x(47314),d=x(3915),y=x(23446),p=s.WeakMap;zt.exports=d(p)&&/native code/.test(y(p))},98295:function(zt,C,x){var s=x(53734),d=x(68709),y=x(21900),p=x(34432),n=x(86588),o=TypeError,u=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i="enumerable",a="configurable",c="writable";C.f=s?y?function(v,f,m){if(p(v),f=n(f),p(m),typeof v=="function"&&f==="prototype"&&"value"in m&&c in m&&!m[c]){var b=r(v,f);b&&b[c]&&(v[f]=m.value,m={configurable:a in m?m[a]:b[a],enumerable:i in m?m[i]:b[i],writable:!1})}return u(v,f,m)}:u:function(v,f,m){if(p(v),f=n(f),p(m),d)try{return u(v,f,m)}catch(b){}if("get"in m||"set"in m)throw o("Accessors not supported");return"value"in m&&(v[f]=m.value),v}},70251:function(zt,C,x){var s=x(53734),d=x(30661),y=x(63531),p=x(62721),n=x(69847),o=x(86588),u=x(98961),r=x(68709),i=Object.getOwnPropertyDescriptor;C.f=s?i:function(c,h){if(c=n(c),h=o(h),r)try{return i(c,h)}catch(v){}if(u(c,h))return p(!d(y.f,c,h),c[h])}},46828:function(zt,C,x){var s=x(76313),d=x(38693),y=d.concat("length","prototype");C.f=Object.getOwnPropertyNames||function(n){return s(n,y)}},8857:function(zt,C){C.f=Object.getOwnPropertySymbols},49931:function(zt,C,x){var s=x(92873);zt.exports=s({}.isPrototypeOf)},76313:function(zt,C,x){var s=x(92873),d=x(98961),y=x(69847),p=x(49797).indexOf,n=x(76262),o=s([].push);zt.exports=function(u,r){var i=y(u),a=0,c=[],h;for(h in i)!d(n,h)&&d(i,h)&&o(c,h);for(;r.length>a;)d(i,h=r[a++])&&(~p(c,h)||o(c,h));return c}},6483:function(zt,C,x){var s=x(76313),d=x(38693);zt.exports=Object.keys||function(p){return s(p,d)}},63531:function(zt,C){"use strict";var x={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,d=s&&!x.call({1:2},1);C.f=d?function(p){var n=s(this,p);return!!n&&n.enumerable}:x},54301:function(zt,C,x){var s=x(30661),d=x(3915),y=x(322),p=TypeError;zt.exports=function(n,o){var u,r;if(o==="string"&&d(u=n.toString)&&!y(r=s(u,n))||d(u=n.valueOf)&&!y(r=s(u,n))||o!=="string"&&d(u=n.toString)&&!y(r=s(u,n)))return r;throw p("Can't convert object to primitive value")}},18791:function(zt,C,x){var s=x(50458),d=x(92873),y=x(46828),p=x(8857),n=x(34432),o=d([].concat);zt.exports=s("Reflect","ownKeys")||function(r){var i=y.f(n(r)),a=p.f;return a?o(i,a(r)):i}},25026:function(zt){var C=TypeError;zt.exports=function(x){if(x==null)throw C("Can't call method on "+x);return x}},73517:function(zt,C,x){var s=x(47314),d=x(5716),y=x(3915),p=x(75258),n=x(80260),o=x(1555),u=/MSIE .\./.test(p),r=s.Function,i=function(a){return u?function(c,h){var v=o(arguments.length,1)>2,f=y(c)?c:r(c),m=v?n(arguments,2):void 0;return a(v?function(){d(f,this,m)}:f,h)}:a};zt.exports={setTimeout:i(s.setTimeout),setInterval:i(s.setInterval)}},33541:function(zt,C,x){var s=x(36748),d=x(99866),y=s("keys");zt.exports=function(p){return y[p]||(y[p]=d(p))}},214:function(zt,C,x){var s=x(47314),d=x(64166),y="__core-js_shared__",p=s[y]||d(y,{});zt.exports=p},36748:function(zt,C,x){var s=x(21453),d=x(214);(zt.exports=function(y,p){return d[y]||(d[y]=p!==void 0?p:{})})("versions",[]).push({version:"3.23.3",mode:s?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"})},41662:function(zt,C,x){var s=x(87147),d=Math.max,y=Math.min;zt.exports=function(p,n){var o=s(p);return o<0?d(o+n,0):y(o,n)}},69847:function(zt,C,x){var s=x(65928),d=x(25026);zt.exports=function(y){return s(d(y))}},87147:function(zt,C,x){var s=x(94842);zt.exports=function(d){var y=+d;return y!==y||y===0?0:s(y)}},85012:function(zt,C,x){var s=x(87147),d=Math.min;zt.exports=function(y){return y>0?d(s(y),9007199254740991):0}},78235:function(zt,C,x){var s=x(25026),d=Object;zt.exports=function(y){return d(s(y))}},35375:function(zt,C,x){var s=x(30661),d=x(322),y=x(33119),p=x(81786),n=x(54301),o=x(55012),u=TypeError,r=o("toPrimitive");zt.exports=function(i,a){if(!d(i)||y(i))return i;var c=p(i,r),h;if(c){if(a===void 0&&(a="default"),h=s(c,i,a),!d(h)||y(h))return h;throw u("Can't convert object to primitive value")}return a===void 0&&(a="number"),n(i,a)}},86588:function(zt,C,x){var s=x(35375),d=x(33119);zt.exports=function(y){var p=s(y,"string");return d(p)?p:p+""}},91186:function(zt,C,x){var s=x(55012),d=s("toStringTag"),y={};y[d]="z",zt.exports=String(y)==="[object z]"},79779:function(zt){var C=String;zt.exports=function(x){try{return C(x)}catch(s){return"Object"}}},99866:function(zt,C,x){var s=x(92873),d=0,y=Math.random(),p=s(1 .toString);zt.exports=function(n){return"Symbol("+(n===void 0?"":n)+")_"+p(++d+y,36)}},27820:function(zt,C,x){var s=x(16874);zt.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},21900:function(zt,C,x){var s=x(53734),d=x(67948);zt.exports=s&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},1555:function(zt){var C=TypeError;zt.exports=function(x,s){if(x<s)throw C("Not enough arguments");return x}},55012:function(zt,C,x){var s=x(47314),d=x(36748),y=x(98961),p=x(99866),n=x(16874),o=x(27820),u=d("wks"),r=s.Symbol,i=r&&r.for,a=o?r:r&&r.withoutSetter||p;zt.exports=function(c){if(!y(u,c)||!(n||typeof u[c]=="string")){var h="Symbol."+c;n&&y(r,c)?u[c]=r[c]:o&&i?u[c]=i(h):u[c]=a(h)}return u[c]}},21464:function(zt,C,x){"use strict";var s=x(15897),d=x(67948),y=x(91136),p=x(322),n=x(78235),o=x(27239),u=x(18524),r=x(66407),i=x(7155),a=x(44937),c=x(55012),h=x(49865),v=c("isConcatSpreadable"),f=h>=51||!d(function(){var O=[];return O[v]=!1,O.concat()[0]!==O}),m=a("concat"),b=function(O){if(!p(O))return!1;var E=O[v];return E!==void 0?!!E:y(O)},M=!f||!m;s({target:"Array",proto:!0,arity:1,forced:M},{concat:function(E){var A=n(this),j=i(A,0),B=0,D,T,Y,G,U;for(D=-1,Y=arguments.length;D<Y;D++)if(U=D===-1?A:arguments[D],b(U))for(G=o(U),u(B+G),T=0;T<G;T++,B++)T in U&&r(j,B,U[T]);else u(B+1),r(j,B++,U);return j.length=B,j}})},91363:function(zt,C,x){"use strict";var s=x(15897),d=x(1236);s({target:"Array",proto:!0,forced:[].forEach!=d},{forEach:d})},97869:function(zt,C,x){"use strict";var s=x(15897),d=x(92873),y=x(65928),p=x(69847),n=x(75537),o=d([].join),u=y!=Object,r=n("join",",");s({target:"Array",proto:!0,forced:u||!r},{join:function(a){return o(p(this),a===void 0?",":a)}})},54941:function(zt,C,x){"use strict";var s=x(15897),d=x(39870).map,y=x(44937),p=y("map");s({target:"Array",proto:!0,forced:!p},{map:function(o){return d(this,o,arguments.length>1?arguments[1]:void 0)}})},32282:function(zt,C,x){var s=x(53734),d=x(2802).EXISTS,y=x(92873),p=x(98295).f,n=Function.prototype,o=y(n.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,r=y(u.exec),i="name";s&&!d&&p(n,i,{configurable:!0,get:function(){try{return r(u,o(this))[1]}catch(a){return""}}})},62811:function(zt,C,x){var s=x(15897),d=x(78235),y=x(6483),p=x(67948),n=p(function(){y(1)});s({target:"Object",stat:!0,forced:n},{keys:function(u){return y(d(u))}})},80118:function(zt,C,x){var s=x(47314),d=x(6124),y=x(4633),p=x(1236),n=x(53815),o=function(r){if(r&&r.forEach!==p)try{n(r,"forEach",p)}catch(i){r.forEach=p}};for(var u in d)d[u]&&o(s[u]&&s[u].prototype);o(y)},69433:function(zt,C,x){var s=x(15897),d=x(47314),y=x(73517).setInterval;s({global:!0,bind:!0,forced:d.setInterval!==y},{setInterval:y})},50941:function(zt,C,x){var s=x(15897),d=x(47314),y=x(73517).setTimeout;s({global:!0,bind:!0,forced:d.setTimeout!==y},{setTimeout:y})},35232:function(zt,C,x){x(69433),x(50941)},21433:function(zt,C,x){(function(s,d){zt.exports=d(x(95756))})(window,function(s){return function(d){var y={};function p(n){if(y[n])return y[n].exports;var o=y[n]={i:n,l:!1,exports:{}};return d[n].call(o.exports,o,o.exports,p),o.l=!0,o.exports}return p.m=d,p.c=y,p.d=function(n,o,u){p.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:u})},p.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},p.t=function(n,o){if(1&o&&(n=p(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var u=Object.create(null);if(p.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var r in n)p.d(u,r,function(i){return n[i]}.bind(null,r));return u},p.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return p.d(o,"a",o),o},p.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},p.p="",p(p.s=25)}([function(d,y,p){"use strict";function n(E){for(var A=1;A<arguments.length;A++){var j=arguments[A]!=null?arguments[A]:{},B=Object.keys(j);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(j).filter(function(D){return Object.getOwnPropertyDescriptor(j,D).enumerable}))),B.forEach(function(D){o(E,D,j[D])})}return E}function o(E,A,j){return A in E?Object.defineProperty(E,A,{value:j,enumerable:!0,configurable:!0,writable:!0}):E[A]=j,E}function u(E,A,j){return E.addShape("path",{attrs:n({},j,{path:A})})}function r(E){return[{x:E.centerX,y:E.minY},{x:E.maxX,y:E.centerY},{x:E.centerX,y:E.maxY},{x:E.minX,y:E.centerY}]}function i(E,A){var j,B,D=r(A),T=1/0;return D.forEach(function(Y,G){var U,H,J=(U=E,H=Y,Math.sqrt(Math.pow(U.x-H.x,2)+Math.pow(U.y-H.y,2)));J<T&&(j=Y,T=J,B=G)}),{point:j,index:B}}function a(E,A){return{x:(E[A].x+E[A+1].x)/2,y:(E[A].y+E[A+1].y)/2}}function c(E,A){var j=E.point,B=E.index,D=A.point,T=A.index;return j.x===D.x||j.y===D.y?[j,D]:B===2&&T===0||B===0&&T===2?[j,{x:j.x,y:(j.y+D.y)/2},{x:D.x,y:(j.y+D.y)/2},D]:B!==2&&B!==0||T!==3&&T!==1?B!==1&&B!==3||T!==2&&T!==0?[j,{x:(j.x+D.x)/2,y:j.y},{x:(j.x+D.x)/2,y:D.y},D]:[j,{x:D.x,y:j.y},D]:[j,{x:j.x,y:D.y},D]}function h(E,A){return E[A].x===E[A+1].x}function v(E,A,j){return h(A,j)?E.x===A[j].x&&(E.y-A[j].y)*(E.y-A[j+1].y)<=0:E.y===A[j].y&&(E.x-A[j].x)*(E.x-A[j+1].x)<=0}function f(E,A){for(var j,B,D,T,Y,G=1/0,U=0;U<A.length-1;U++){var H=h(A,U),J=void 0;if(v(J=H?{x:A[U].x,y:E.y}:{x:E.x,y:A[U].y},A,U)){var ut=(T=E,Y=J,Math.pow(T.x-Y.x,2)+Math.pow(T.y-Y.y,2));G>ut&&(G=ut,j=U,B=J,D=H)}}return{verticalPoint:B,index:j,vertical:D}}function m(E,A,j){var B,D,T,Y=function(J){if(!J)return{x:void 0,y:void 0};var ut=J.getBBox();return{x:ut.centerX,y:ut.centerY}}(A),G=E.getLinkPoints(Y)[0];if(j){var U=r(E.getBBox())[j];B=E.getBBox(),D=U,T={x:A.getBBox().centerX,y:A.getBBox().centerY},((B.centerX-D.x)*(B.centerX-T.x)>0||(B.centerY-D.y)*(B.centerY-T.y)>0)&&(G=U)}G=i(G,E.getBBox());var H=A.getLinkPoints(G.point)[0];return{sourcePoint:G,targetPoint:H=i(H,A.getBBox())}}function b(E,A,j){return h(A,j)?E.minX>A[j].x?1:E.maxX<A[j].x?-1:0:E.minY>A[j].y?1:E.maxY<A.y?-1:0}function M(E,A,j){return h(A,j)?{x:A[j].x,y:E.y}:{x:E.x,y:A[j].y}}function O(E){var A;switch(E){case 0:A=2;break;case 1:A=3;break;case 3:A=1;break;default:A=0}return A}p.d(y,"b",function(){return u}),p.d(y,"c",function(){return r}),p.d(y,"f",function(){return i}),p.d(y,"j",function(){return a}),p.d(y,"h",function(){return c}),p.d(y,"i",function(){return h}),p.d(y,"l",function(){return v}),p.d(y,"e",function(){return f}),p.d(y,"d",function(){return m}),p.d(y,"a",function(){return b}),p.d(y,"g",function(){return M}),p.d(y,"k",function(){return O})},function(d,y,p){function n(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){o(h,b,f[b])})}return h}function o(h,v,f){return v in h?Object.defineProperty(h,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[v]=f,h}var u=p(7),r=p(3),i=p(4),a={getActivedStyle:function(){},getSelectedStyle:function(){},getStyle:function(){},getPath:function(){}};function c(h,v,f){var m=[];return i.isString(h)?m=[v,h]:i.isArray(h)?(h.unshift(v),m=h):m=[v],f&&m.unshift(f+"-base"),m}u.registerNode("page-base",n({},a)),u.registerEdge("page-base",n({},a)),u.registerGroup("page-base",n({},a)),u.registerGuide("page-base",n({},a)),r.setRegister=function(h,v,f){h.registerNode=function(m,b,M){u.registerNode(m,b,c(M,v+"-base",f))},h.registerEdge=function(m,b,M){u.registerEdge(m,b,c(M,v+"-base",f))},h.registerGroup=function(m,b,M){u.registerGroup(m,b,c(M,v+"-base",f))},h.registerGuide=function(m,b,M){u.registerGuide(m,b,c(M,v+"-base",f))},h.registerBehaviour=function(m,b,M){u.registerBehaviour(m,function(O){var E=O.get("page");E.set("_graph",O),b(E)},M)}},r.setRegister(r,"page"),p(44),d.exports=r},function(d,y,p){function n(c,h,v){return h in c?Object.defineProperty(c,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):c[h]=v,c}var o=p(7),u=p(22),r=p(63),i=p(64),a=function(c){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{},f=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(v).filter(function(m){return Object.getOwnPropertyDescriptor(v,m).enumerable}))),f.forEach(function(m){n(c,m,v[m])})}return c}({},o.Util,u,r,i);d.exports=a},function(d,y,p){function n(A){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(A)}function o(A){for(var j=1;j<arguments.length;j++){var B=arguments[j]!=null?arguments[j]:{},D=Object.keys(B);typeof Object.getOwnPropertySymbols=="function"&&(D=D.concat(Object.getOwnPropertySymbols(B).filter(function(T){return Object.getOwnPropertyDescriptor(B,T).enumerable}))),D.forEach(function(T){u(A,T,B[T])})}return A}function u(A,j,B){return j in A?Object.defineProperty(A,j,{value:B,enumerable:!0,configurable:!0,writable:!0}):A[j]=B,A}function r(A,j){for(var B=0;B<j.length;B++){var D=j[B];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(A,D.key,D)}}function i(A,j){return!j||n(j)!=="object"&&typeof j!="function"?function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(A):j}function a(A){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(A)}function c(A,j){return(c=Object.setPrototypeOf||function(B,D){return B.__proto__=D,B})(A,j)}var h=p(21),v=p(4),f=p(14),m=p(34),b=p(35),M=p(37),O=[m,p(38),p(39),b,M,p(40),p(42),p(43)],E=function(A){function j(Y){var G;(function(H,J){if(!(H instanceof J))throw new TypeError("Cannot call a class as a function")})(this,j);var U={defaultData:null,shortcut:{redo:!0,undo:!0,delete:!0,resetZoom:!0,autoZoom:!0,zoomIn:!0,zoomOut:!0},_controllers:{},_signals:{}};return v.each(O,function(H){v.mix(U,H.CFG)}),v.mix(!0,U,Y),(G=i(this,a(j).call(this,U))).isPage=!0,G.type="page",G._init(),G}var B,D,T;return function(Y,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(G&&G.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),G&&c(Y,G)}(j,h),B=j,(D=[{key:"getDelegation",value:function(Y,G){var U;if(G||(G=this.getGraph().getRootGroup()),Y.length!==1||Y[0].isNode||Y[0].isGroup){var H=v.getTotalBBox(Y.map(function(J){return J.getBBox()}));(U=v.getRectByBox(H,G,f.nodeDelegationStyle)).set("capture",!1)}else Y[0].isEdge?U=G.addShape("path",{attrs:o({path:"M0 0L 1 1"},f.edgeDelegationStyle),capture:!1}):(U=v.getRectByBox(Y[0],G,f.nodeDelegationStyle)).set("capture",!1);return U}},{key:"focusGraphWrapper",value:function(){this.getGraph().getKeyboardEventWrapper().focus()}},{key:"saveImage",value:function(Y){var G,U,H=this,J=this.getGraph(),ut=J.getBBox(),$=J.getFitViewPadding();return J.saveImage(o({width:ut.width+$[1]+$[3],height:ut.height+$[0]+$[2],beforeTransform:function(){G=H.getSelected().map(function(K){return K.id}),U=H.getSelected().map(function(K){return K.id}),H.clearSelected(),H.clearActived()},afterTransform:function(){H.setSelected(G,!0),H.setActived(U,!0)}},Y))}},{key:"_init",value:function(){var Y=this;v.each(O,function(G){G.INIT&&Y[G.INIT]()}),this.bindEvent(),this._cacheBBox()}},{key:"executeCommand",value:function(Y,G){var U=this.editor;U?U.executeCommand(Y,G):Y()}},{key:"_cacheBBox",value:function(){var Y=this.getGraph();this.set("bboxCache",Y.getBBox())}},{key:"bindEvent",value:function(){var Y=this;this.getGraph().on("afterchange",function(){Y._cacheBBox()})}},{key:"translateLimt",value:function(Y){var G=this.getGraph(),U=this.get("bboxCache"),H=G.getWidth(),J=G.getHeight(),ut=[U.minX,U.minY,1],$=[U.maxX,U.maxY,1];return v.vec3.transformMat3(ut,ut,Y),v.vec3.transformMat3($,$,Y),$[0]<100&&v.mat3.translate(Y,Y,[100-$[0],0]),$[1]<100&&v.mat3.translate(Y,Y,[0,100-$[1]]),ut[1]>J-100&&v.mat3.translate(Y,Y,[0,J-100-ut[1]]),ut[0]>H-100&&v.mat3.translate(Y,Y,[H-100-ut[0],0]),!0}},{key:"setSignal",value:function(Y,G){this.get("_signals")[Y]=G}},{key:"getSignal",value:function(Y){return this.get("_signals")[Y]}},{key:"setController",value:function(Y,G){this.get("_controllers")[Y]=G}},{key:"getController",value:function(Y){return this.get("_controllers")[Y]}},{key:"destroy",value:function(){var Y=this.get("_graph"),G=this.get("_controllers");v.each(G,function(U){U.destroy()}),Y.destroy()}}])&&r(B.prototype,D),T&&r(B,T),j}();v.each(O,function(A){v.mix(E.prototype,A.AUGMENT)}),d.exports=E},function(d,y,p){function n(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}var o=p(6),u=p(14),r=o.createDOM("<canvas>").getContext("2d");d.exports=function(i){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{},h=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(c).filter(function(v){return Object.getOwnPropertyDescriptor(c,v).enumerable}))),h.forEach(function(v){n(i,v,c[v])})}return i}({},o,{getPanCanvasBehaviour:function(i){return function(a){var c,h,v=a.getGraph();v.behaviourOn("canvas:mouseenter",function(){a.css({cursor:u.cursor.beforePanCanvas})}),v.behaviourOn("mouseleave",function(f){f.toShape||a.css({cursor:u.cursor.beforePanCanvas})}),v.behaviourOn("mousedown",function(f){(f.button!==2&&!i||!f.shape||f.item&&f.item.dragable===!1&&f.item.shapeObj.type!=="mind-root"&&!a.getSignal("dragEdge"))&&(c={x:f.domX,y:f.domY},a.css({cursor:u.cursor.panningCanvas}),h=v.getMatrix(),a.setCapture(!1))}),v.behaviourOn("drag",function(f){if(c){var m=f.domX-c.x,b=f.domY-c.y,M=[];o.mat3.translate(M,h,[m,b]),a.translateLimt(M)&&(v.updateMatrix(M),v.draw())}}),v.behaviourOn("mouseup",function(){c&&(c=void 0,h=void 0,a.setCapture(!0),a.css({cursor:u.cursor.beforePanCanvas}))})}},getLabelTextByTextLineWidth:function(i,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:320;r.font=a;var h=r.measureText(i).width;if(h>c){h=0;for(var v=1;v<i.length;v++)(h+=r.measureText(i[v]).width)>=c&&(i=i.substring(0,v)+`
`+i.substring(v,i.length),v+=1,h=0)}return i}})},function(d,y){d.exports={orbitGap:10,nodeDefaultShape:"flow-node",edgeDefaultShape:"flow-smooth",groupDefaultShape:"flow-group",nodeActivedOutterStyle:{lineWidth:0},groupSelectedOutterStyle:{stroke:"#E0F0FF",lineWidth:2},nodeSelectedOutterStyle:{stroke:"#E0F0FF",lineWidth:2},edgeActivedStyle:{stroke:"#1890FF",strokeOpacity:.92},nodeActivedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},groupActivedStyle:{stroke:"#1890FF"},edgeSelectedStyle:{lineWidth:2,strokeOpacity:.92,stroke:"#A3B1BF"},nodeSelectedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},groupSelectedStyle:{stroke:"#1890FF",fillOpacity:.92},nodeStyle:{stroke:"#CED4D9",fill:"#FFFFFF",shadowOffsetX:0,shadowOffsetY:4,shadowBlur:10,shadowColor:"rgba(13, 26, 38, 0.08)",lineWidth:1,radius:4,fillOpacity:.92},edgeStyle:{stroke:"#A3B1BF",strokeOpacity:.92,lineWidth:1,lineAppendWidth:8,endArrow:!0},groupBackgroundPadding:[40,10,10,10],groupLabelOffsetX:10,groupLabelOffsetY:10,edgeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},edgeLabelRectPadding:4,edgeLabelRectStyle:{fill:"white"},nodeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",radius:4},groupLabelStyle:{fill:"#666",textAlign:"left",textBaseline:"top"},multiSelectRectStyle:{fill:"#1890FF",fillOpacity:.08,stroke:"#1890FF",opacity:.1},dragNodeHoverToGroupStyle:{stroke:"#1890FF",lineWidth:2},dragNodeLeaveFromGroupStyle:{stroke:"#BAE7FF",lineWidth:2},anchorPointStyle:{radius:3.5,fill:"#fff",stroke:"#1890FF",lineAppendWidth:12},anchorHotsoptStyle:{radius:12,fill:"#1890FF",fillOpacity:.25},anchorHotsoptActivedStyle:{radius:14},anchorPointHoverStyle:{radius:4,fill:"#1890FF",fillOpacity:1,stroke:"#1890FF"},nodeControlPointStyle:{radius:4,fill:"#fff",shadowBlur:4,shadowColor:"#666"},edgeControlPointStyle:{radius:6,symbol:"square",lineAppendWidth:6,fillOpacity:0,strokeOpacity:0},nodeSelectedBoxStyle:{stroke:"#C2C2C2"},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab",hoverNode:"move",hoverEffectiveAnchor:"crosshair",hoverEdge:"default",hoverGroup:"move",hoverUnEffectiveAnchor:"default",hoverEdgeControllPoint:"crosshair",multiSelect:"crosshair"},zIndex:{anchorPoint:3,anchorHotsopt:2,selectedBox:1,controlPoint:4},polylineEdgeStyle:{offset:10,borderRadius:5},addToGroupDelayTime:400,outFromGroupDelayTime:400}},function(d,y,p){function n(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){o(h,b,f[b])})}return h}function o(h,v,f){return v in h?Object.defineProperty(h,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[v]=f,h}var u=p(7),r=p(28),i=p(29),a={whitespace:{9:"Tab",13:"Enter",32:"Space"},fn:{112:"f1 ",113:"f2 ",114:"f3 ",115:"f4 ",116:"f5 ",117:"f6 ",118:"f7 ",119:"f8 ",120:"f9 ",121:"f10",122:"f11",123:"f12"},letter:{65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z"},number:{48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9"},navigation:{37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},symbol:{110:"decimal point",186:"semi-colon",187:"=",188:"comma",189:"-",190:"period ",191:"/",192:"grave accent",219:"open bracket ",220:"back slash ",221:"close bracket ",222:"single quote "},smallNumberKey:{96:"numpad 0 ",97:"numpad 1 ",98:"numpad 2 ",99:"numpad 3 ",100:"numpad 4 ",101:"numpad 5 ",102:"numpad 6 ",103:"numpad 7 ",104:"numpad 8 ",105:"numpad 9 "},modifierKey:{16:"Shift",17:"Ctrl ",18:"Alt",20:"caps lock"},escKey:{8:"Backspace",46:"Delete",27:"Escape"},homeKey:{91:"Windows Key / Left command",92:"right window key ",93:"Windows Menu"},computeKey:{106:"multiply ",107:"add",109:"subtract ",111:"divide "}},c=n({},u.Util,r,{getNodeSize:function(h){if(h){if(u.Util.isNumber(h))return[h,h];if(u.Util.isString(h)){if(h.indexOf("*")===-1){var v=Number(h);return[v,v]}return h.split("*")}return h}return[96,48]},getTypeAndChar:function(h){var v;for(var f in h=""+h,a)for(var m in v=f,a[f])if(m===h)return{type:v,character:a[f][m]};return{}},getKeyboradKey:function(h){return h.key||c.getTypeAndChar(h.keyCode).character},getIndex:function(h){return h.getParent().get("children").indexOf(h)},setId:function(h){h.id||(h.id=u.Util.guid())},pointLineDistance:function(h,v,f,m,b,M){var O=[f-h,m-v];if(u.Util.vec2.exactEquals(O,[0,0]))return NaN;var E=[-O[1],O[0]];u.Util.vec2.normalize(E,E);var A=[b-h,M-v];return Math.abs(u.Util.vec2.dot(A,E))},getRectByBox:function(h,v,f){return v.addShape("rect",{attrs:n({},f,{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY})})},objectToValues:function(h){var v,f=[];for(v in h)h.hasOwnProperty(v)&&f.push(h[v]);return f},getValue:function(h){return u.Util.isFunction(h)?h():h},getContrast:function(h,v){var f={};return u.Util.each(v,function(m,b){f[b]=h[b]}),f},arrowTo:function(h,v,f,m,b,M,O){var E=[M-m,O-b],A=u.Util.vec2.angleTo(E,[1,0],!0);return h.transform([["r",A],["t",v,f]]),h},setEndOfContenteditable:function(h){var v,f;document.createRange?((v=document.createRange()).selectNodeContents(h),v.collapse(!1),(f=window.getSelection()).removeAllRanges(),f.addRange(v)):document.selection&&((v=document.body.createTextRange()).moveToElementText(h),v.collapse(!1),v.select())},matches:function(h,v){return(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(f){for(var m=(this.document||this.ownerDocument).querySelectorAll(f),b=m.length;--b>=0&&m.item(b)!==this;);return b>-1}).call(h,v)},delegateEvent:function(h,v,f,m){return c.addEventListener(h,v,function(b){for(var M=b.target||b.srcElement;M!==h;)c.matches(M,f)&&m.call(M,Array.prototype.slice.call(arguments)),M=M.parentNode})},Palettes:i});d.exports=c},function(d,y){d.exports=s},function(d,y,p){function n(O){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function o(O){for(var E=1;E<arguments.length;E++){var A=arguments[E]!=null?arguments[E]:{},j=Object.keys(A);typeof Object.getOwnPropertySymbols=="function"&&(j=j.concat(Object.getOwnPropertySymbols(A).filter(function(B){return Object.getOwnPropertyDescriptor(A,B).enumerable}))),j.forEach(function(B){u(O,B,A[B])})}return O}function u(O,E,A){return E in O?Object.defineProperty(O,E,{value:A,enumerable:!0,configurable:!0,writable:!0}):O[E]=A,O}function r(O,E){for(var A=0;A<E.length;A++){var j=E[A];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,j.key,j)}}function i(O,E){return!E||n(E)!=="object"&&typeof E!="function"?function(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}(O):E}function a(O,E,A){return(a=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(j,B,D){var T=function(G,U){for(;!Object.prototype.hasOwnProperty.call(G,U)&&(G=c(G))!==null;);return G}(j,B);if(T){var Y=Object.getOwnPropertyDescriptor(T,B);return Y.get?Y.get.call(D):Y.value}})(O,E,A||O)}function c(O){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function h(O,E){return(h=Object.setPrototypeOf||function(A,j){return A.__proto__=j,A})(O,E)}var v=p(7),f=p(1),m=p(10),b=[],M=function(O){function E(D){var T;(function(U,H){if(!(U instanceof H))throw new TypeError("Cannot call a class as a function")})(this,E);var Y={showHotArea:!1,defaultData:{roots:[{label:"\u601D\u7EF4\u5BFC\u56FE",children:[{label:"\u65B0\u5EFA\u8282\u70B9"},{label:"\u65B0\u5EFA\u8282\u70B9"},{label:"\u65B0\u5EFA\u8282\u70B9"}]}]},shortcut:{append:!0,appendChild:!0,collapseExpand:!0,selectAll:!0},labelEditable:!0,graph:{modes:{default:["clickNodeSelected","keydownMoveSelection","clickCanvasSelected","keydownEditLabel","panBlank","wheelChangeViewport","panMindNode","clickCollapsedButton","clickExpandedButton","hoverButton","hoverNodeActived","dblclickItemEditLabel"],readOnly:["clickNodeSelected","wheelChangeViewport","keydownMoveSelection","hoverNodeActived","panCanvas","clickExpandedButton","hoverButton","clickCanvasSelected"]},layout:new v.Layouts.Mindmap({direction:"H",getSubTreeSep:function(U){return U.children&&U.children.length>0?U.hierarchy<=2?8:2:0},getHGap:function(U){return U.hierarchy===1?8:U.hierarchy===2?24:18},getVGap:function(U){return U.hierarchy===1||U.hierarchy===2?24:2},getSide:function(U){return U.data.side?U.data.side:"right"}}),mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:"mind-base",edgeDefaultShape:"mind-edge",minZoom:.2,maxZoom:2},align:{item:!1},rootShape:"mind-root",firstSubShape:"mind-first-sub",secondSubShape:"mind-second-sub",subShape:"mind-base",nodeDefaultShape:"mind-base",graphConstructor:v.Tree,defaultSide:"right"},G={};return m.each(b,function(U){m.mix(G,U.CFG)}),m.mix(!0,Y,G,D),(T=i(this,c(E).call(this,Y))).isMind=!0,T}var A,j,B;return function(D,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(T&&T.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),T&&h(D,T)}(E,f),A=E,(j=[{key:"_init",value:function(){var D=this;a(c(E.prototype),"_init",this).call(this),m.each(b,function(K){K.INIT&&D[K.INIT]()});var T=this.getGraph(),Y=this.get("defaultData"),G=T.get("mode"),U=T.getRootGroup().addGroup();if(this.set("hotAreaGroup",U),T.edge().shape(function(K){if(T.find(K.target).getModel().isPlaceholder)return"mind-placeholder-edge"}),Y&&this.read(Y),G==="default"){if(Y){var H=this.getRoot(),J=T.find(H.id);this.setSelected(J,!0)}}else if(G==="readOnly"){var ut=this.get("shortcut");ut.append=!1,ut.appendChild=!1,ut.selectAll=!1,ut.delete=!1}if(Y){var $=this.getRoot();this.focus($.id)}}},{key:"bindEvent",value:function(){var D=this;a(c(E.prototype),"bindEvent",this).call(this);var T=this.get("_graph");T.on("keydown",function(Y){Y.domEvent.preventDefault()}),T.on("beforechange",function(Y){Y.action==="add"?D._beforeAdd(Y):Y.action==="changeData"&&D._beforeChangeData(Y)}),T.on("aftersource",function(){D._setHierarchy()}),T.on("afterchange",function(){D._setHotArea()}),T.on("afteritemdraw",function(Y){var G=Y.item,U=G.getModel();if(G.isEdge){var H=G.getGraphicGroup();m.toBack(H,H.getParent()),H.setSilent("capture",!1)}U.parent||(G.isRoot=!0,G.deleteable=!1,G.collapseExpand=!1,G.appendable=!1,G.dragable=!1)}),this.on("beforedelete",function(Y){var G=Y.items[0],U=D._getBrothers(G),H=D._getNth(G);U[H-1]?D.setSelected(U[H-1].id,!0):U[H+1]?D.setSelected(U[H+1].id,!0):D.setSelected(G.getParent(),!0)}),this.on("afteritemselected",function(Y){D._tryAdjustViewport(Y.item)})}},{key:"getRoot",value:function(){return this.getGraph().getSource().roots[0]}},{key:"_setHierarchy",value:function(D){var T=this.getGraph(),Y=this.get("firstSubShape"),G=this.get("secondSubShape"),U=this.get("defaultSide");if(D){var H=T.find(D.parent);if(H){var J=H.getModel();D.hierarchy=J.hierarchy+1,D.shape!=="mind-placeholder"&&(D.hierarchy===2&&(D.shape=Y,D.side||(D.side=U)),D.hierarchy===3&&(D.shape=G))}}else(D=this.getRoot()).hierarchy=1;m.traverseTree(D,function(ut,$){ut.hierarchy=$.hierarchy+1,ut.side||(ut.side=U),$.side&&(ut.side=$.side),ut.hierarchy===2?ut.shape=Y:ut.hierarchy===3&&(ut.shape=G)},function(ut){return ut.children})}},{key:"getFirstChildrenBySide",value:function(D){var T=this.getRoot(),Y=[];return T.children.forEach(function(G){G.side===D&&Y.push(G)}),Y}},{key:"_getNth",value:function(D){return this.getGraph().getNth(D)}},{key:"_getBrothers",value:function(D){return D.getParent().getModel().children}},{key:"_getMoveChildModel",value:function(D){if(D&&D.length>0){var T=D.length;return D[parseInt(T/2)]}}},{key:"_getVerticalMoveItem",value:function(D,T,Y){for(var G,U=this.getGraph().getNodes(),H=D.getBBox(),J=[H.minX,H.maxX],ut=[],$=0;$<J.length;$++)for(var K=J[$],ot=0;ot<U.length;ot++){var at=U[ot],ht=at.getBBox();T(ht,H,K)&&ut.push({long:Y(ht,H),node:at})}return ut.length>0&&(ut.sort(function(St,pt){return St.long-pt.long}),G=ut[0].node),G}},{key:"_arrowTopItem",value:function(D){var T=this._getBrothers(D),Y=this._getNth(D);return T[Y-1]?T[Y-1]:this._getVerticalMoveItem(D,function(G,U,H){return G.centerY<U.centerY&&H<=G.maxX&&H>=G.minX},function(G,U){return U.centerY-G.centerY})}},{key:"_arrowBottomItem",value:function(D){var T=this._getBrothers(D),Y=this._getNth(D);return T[Y+1]?T[Y+1]:this._getVerticalMoveItem(D,function(G,U,H){return G.centerY>U.centerY&&H<=G.maxX&&H>=G.minX},function(G,U){return G.centerY-U.centerY})}},{key:"_arrowLeftItem",value:function(D){var T=m.getMindNodeSide(D);if(D.isRoot){var Y=this.getFirstChildrenBySide("left");return this._getMoveChildModel(Y)}if(T==="left"){var G=D.getModel().children;return this._getMoveChildModel(G)}return D.getParent()}},{key:"_arrowRightItem",value:function(D){var T=m.getMindNodeSide(D);if(D.isRoot){var Y=this.getFirstChildrenBySide("right");return this._getMoveChildModel(Y)}if(T==="right"){var G=D.getModel().children;return this._getMoveChildModel(G)}return D.getParent()}},{key:"_moveItemSelection",value:function(D){var T=this.getGraph(),Y=this.getSelected()[0];if(Y){var G,U=D.domEvent,H=m.getKeyboradKey(U);H!=="ArrowUp"||Y.isRoot?H!=="ArrowDown"||Y.isRoot?H==="ArrowLeft"?G=this._arrowLeftItem(Y):H==="ArrowRight"&&(G=this._arrowRightItem(Y)):G=this._arrowBottomItem(Y):G=this._arrowTopItem(Y),G&&(G=T.find(G.id)).isVisible()&&(this.clearSelected(),this.setSelected(G,!0))}}},{key:"showLabelEditor",value:function(D){var T=D.domEvent,Y=this.getSelected()[0],G=m.getKeyboradKey(T);if(Y&&G.length===1&&!T.metaKey&&!T.ctrlKey){var U=this.get("labelTextArea");Y&&(this.beginEditLabel(Y),U.innerHTML=G,m.setEndOfContenteditable(U))}}},{key:"_tryAdjustViewport",value:function(D){var T=this.get("_graph"),Y=D.getBBox(),G={x:Y.minX,y:Y.minY},U={x:Y.maxX,y:Y.maxY},H=T.getDomPoint(G),J=T.getDomPoint(U),ut=T.getWidth(),$=T.getHeight();H.x<0&&T.translate(16-H.x,0),H.y<0&&T.translate(0,16-H.y),J.x>ut&&T.translate(ut-J.x-16,0),J.y>$&&T.translate(0,$-J.y-16)}},{key:"_beforeChangeData",value:function(D){var T=D.data.roots[0],Y=this.get("rootShape");T.shape=Y,this._setHierarchy(T)}},{key:"_beforeAdd",value:function(D){var T=this.get("_graph"),Y=D.model,G=T.find(Y.parent);G.getModel().collapsed&&T.update(G,{collapsed:!1}),this._setHierarchy(Y)}},{key:"_drawHotAreaShape",value:function(){var D=this.get("_graph"),T=this.get("hotAreaGroup"),Y=this.get("hotAreas");T.clear(),Y.forEach(function(G){T.addShape("rect",{attrs:{x:G.minX,y:G.minY,width:G.maxX-G.minX,height:G.maxY-G.minY,fill:G.color,fillOpacity:.4},capture:!1})}),D.draw()}},{key:"_setHotArea",value:function(){var D=[],T=this.get("_graph"),Y=this.getRoot(),G="placeholder",U=this.get("showHotArea"),H=T.find(Y.id).getBBox();D.push({minX:H.minX-90,minY:H.minY-60,maxX:(H.minX+H.maxX)/2,maxY:H.maxY+60,parent:Y,current:Y,id:Y.id+"left"+G,nth:Y.children.length,side:"left",color:"orange"}),D.push({minX:(H.minX+H.maxX)/2,minY:H.minY-60,maxX:H.maxX+90,maxY:H.maxY+60,parent:Y,current:Y,id:Y.id+"right"+G,nth:Y.children.length,side:"right",color:"pink"}),m.traverseTree(Y,function(J,ut,$){var K=T.find(J.id);if(!J.isPlaceholder&&K&&K.isVisible()){var ot=function(_t,Bt,At){var It=At.children,lt=_t;if(!At.parent)for(;It[lt]&&It[lt].side!==Bt.side;)lt++;for(;It[lt]&&It[lt].isPlaceholder;)lt++;if(It[lt]&&It[lt].side===Bt.side)return It[lt]}($+1,J,ut),at=function(_t,Bt,At){var It=At.children,lt=_t;if(!At.parent)for(;It[lt]&&It[lt].side!==Bt.side;)lt--;for(;It[lt]&&It[lt].isPlaceholder;)lt--;if(It[lt]&&It[lt].side===Bt.side)return It[lt]}($-1,J,ut),ht=T.find(J.id).getBBox(),St=ut.children,pt=J.hierarchy===2&&J.side==="right",xt=J.hierarchy===2&&J.side==="left";if(at||D.push({minX:pt?ht.minX-90:ht.minX,minY:function(){var _t=at?ht.minY:ht.minY-16;return St[$-1]&&St[$-1].isPlaceholder&&St[$-1].side===J.side&&(_t=T.find(St[$-1].id).getBBox().minY),_t}(),maxX:xt?ht.maxX+90:ht.maxX,maxY:(ht.minY+ht.maxY)/2,parent:ut,id:(at?at.id:void 0)+J.id+ut.id+G,side:J.side,color:"yellow",nth:$}),ot){var vt=T.find(ot.id).getBBox();D.push({minX:J.side==="left"?Math.max(ht.minX,vt.minX):pt?ht.minX-90:ht.minX,minY:(ht.minY+ht.maxY)/2,maxX:J.side==="right"?Math.min(ht.maxX,vt.maxX):xt?ht.maxX+90:ht.maxX,maxY:(vt.minY+vt.maxY)/2,parent:ut,id:J.id+(ot?ot.id:void 0)+ut.id+G,side:J.side,color:"blue",nth:$+1})}else D.push({minX:pt?ht.minX-90:ht.minX,minY:(ht.minY+ht.maxY)/2,maxX:xt?ht.maxX+90:ht.maxX,maxY:function(){var _t=ht.maxY+16;return St[$+1]&&St[$+1].isPlaceholder&&St[$+1].side===J.side&&(_t=T.find(St[$+1].id).getBBox().maxY),_t}(),parent:ut,id:J.id+void 0+ut.id+G,color:"red",nth:$+1,addOrder:"push",side:J.side});if(!J.children||J.children.length===0||J.children.length===1&&J.children[0].isPlaceholder){var gt;gt=J.x>ut.x?{minX:ht.maxX,minY:ht.minY-0,maxX:ht.maxX+100,maxY:ht.maxY+0}:{minX:ht.minX-100,minY:ht.minY-0,maxX:ht.minX,maxY:ht.maxY+0},D.push(o({},gt,{parent:J,id:NaN+J.id+G,nth:0,color:"green",side:J.side,addOrder:"push"}))}}},function(J){return J.children}),this.set("hotAreas",D),U&&this._drawHotAreaShape()}},{key:"hideHotArea",value:function(){var D=this.get("_graph");this.get("hotAreaGroup").clear(),D.draw(),this.set("showHotArea",!1)}},{key:"showHotArea",value:function(){this._drawHotAreaShape(),this.set("showHotArea",!0)}},{key:"getHotArea",value:function(D){var T;return this.get("hotAreas").forEach(function(Y){if(D.x>Y.minX&&D.x<Y.maxX&&D.y>Y.minY&&D.y<Y.maxY)return T=Y,!1}),T}},{key:"saveExpandImage",value:function(D){var T,Y,G,U=this,H=this.getGraph(),J=H.getBBox(),ut=H.getFitViewPadding();return H.saveImage(o({width:J.width+ut[1]+ut[3],height:J.height+ut[0]+ut[2],beforeTransform:function(){var $=H.getNodes();(T=$.filter(function(K){return K.getModel().collapsed}).map(function(K){return K.getModel().id})).forEach(function(K){H.update(K,{collapsed:!1})}),H.layout(),Y=U.getSelected().map(function(K){return K.id}),G=U.getSelected().map(function(K){return K.id}),U.clearSelected(),U.clearActived()},afterTransform:function(){T.forEach(function($){H.update($,{collapsed:!0})}),U.setSelected(Y,!0),U.setActived(G,!0)}},D))}},{key:"save",value:function(){var D=this.get("_graph").save();return D.roots.forEach(function(T){m.traverseTree(T,function(Y){delete Y.x,delete Y.y,delete Y.width,delete Y.height,delete Y.parent,delete Y.nth,delete Y.hierarchy,delete Y.index,delete Y.shape},function(Y){return Y.children},!0)}),D}}])&&r(A.prototype,j),B&&r(A,B),E}();m.each(b,function(O){m.mix(M.prototype,O.AUGMENT)}),f.setRegister(M,"mind","page"),d.exports=M},function(d,y,p){function n(i,a){for(var c=0;c<a.length;c++){var h=a[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}function o(i,a,c){return a&&n(i.prototype,a),c&&n(i,c),i}var u=p(7).Util,r=function(){function i(a){(function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")})(this,i);var c=this.getDefaultCfg();u.mix(!0,this,c,a),this.init()}return o(i,[{key:"getDefaultCfg",value:function(){return{}}}]),o(i,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),i}();d.exports=r},function(d,y,p){function n(u,r,i){return r in u?Object.defineProperty(u,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[r]=i,u}var o=function(u){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),a.forEach(function(c){n(u,c,i[c])})}return u}({},p(4),{getMindNodeSide:function(u){var r=u.getModel();if(r.side)return r.side;var i=u.getParent();return i?i.getModel().side?i.getModel().side:o.getMindNodeSide(i):void 0}});d.exports=o},function(d,y,p){function n(v){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){return!f||n(f)!=="object"&&typeof f!="function"?function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(v):f}function u(v){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}function r(v,f){return(r=Object.setPrototypeOf||function(m,b){return m.__proto__=b,m})(v,f)}var i=p(1),a=p(16),c=p(19),h=function(v){function f(m){var b;(function(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")})(this,f);var M={graph:{modes:{default:["panBlank","hoverGroupActived","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","clickGroupSelected","hoverNodeActived","hoverEdgeActived","hoverButton","clickCollapsedButton","clickExpandedButton","wheelChangeViewport","keydownShiftMultiSelected","dragNodeAddToGroup","dragOutFromGroup","panItem","hoverEdgeControlPoint","dragEdgeControlPoint"],add:["dragPanelItemAddNode"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:"flow-base",edgeDefaultShape:"flow-smooth",groupDefaultShape:"flow-base"},linkNode:!1};return c.mix(!0,M,{},m),(b=o(this,u(f).call(this,M))).isFlow=!0,b}return function(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),b&&r(m,b)}(f,a),f}();i.setRegister(h,"flow","diagram"),d.exports=h},function(d,y,p){function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}function o(m,b){for(var M=0;M<b.length;M++){var O=b[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function u(m,b){return!b||n(b)!=="object"&&typeof b!="function"?function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(m):b}function r(m,b,M){return(r=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(O,E,A){var j=function(D,T){for(;!Object.prototype.hasOwnProperty.call(D,T)&&(D=i(D))!==null;);return D}(O,E);if(j){var B=Object.getOwnPropertyDescriptor(j,E);return B.get?B.get.call(A):B.value}})(m,b,M||m)}function i(m){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(m)}function a(m,b){return(a=Object.setPrototypeOf||function(M,O){return M.__proto__=O,M})(m,b)}var c=p(16),h=p(1),v=p(6),f=function(m){function b(A){var j;(function(D,T){if(!(D instanceof T))throw new TypeError("Cannot call a class as a function")})(this,b);var B={graph:{modes:{default:["panBlank","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","hoverNodeActived","hoverEdgeActived","hoverButton","wheelChangeViewport","keydownShiftMultiSelected","panItem","hoverNodeShowArrowController","hoverEdgeControlPoint","dragEdgeControlPoint","bpmnMoveEdgeController"],add:["dragPanelItemAddNode","processAddEdge"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:"bpmn-base",edgeDefaultShape:"bpmn-base"},arrowController:{thickness:32,long:32,controllers:[]}};return v.mix(!0,B,{},A),(j=u(this,i(b).call(this,B))).isBPMN=!0,j}var M,O,E;return function(A,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(j&&j.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),j&&a(A,j)}(b,c),M=b,(O=[{key:"_init",value:function(){r(i(b.prototype),"_init",this).call(this),this._initArrowController()}},{key:"_createArrowController",value:function(A,j){var B=this,D=this.get("arrowController").controllers,T=v.createDOM('<div class="g6-bpmn-arrow"><svg t="1543840367375" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1061" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32"><defs><style type="text/css"></style></defs><path d="M906.77248 512c0 4.77184-2.21184 9.2672-5.9904 12.17536l-376.5248 289.4848c-2.7648 2.11968-6.06208 3.18464-9.3696 3.18464-3.25632 0-6.5024-1.03424-9.24672-3.09248-5.50912-4.15744-7.5776-11.48928-5.03808-17.90976l75.71456-191.67232L132.58752 604.17024c-8.48896 0-15.36-6.88128-15.36-15.36l0-153.6c0-8.48896 6.87104-15.36 15.36-15.36l443.72992 0-75.71456-191.68256c-2.53952-6.42048-0.47104-13.75232 5.04832-17.90976 5.50912-4.15744 13.12768-4.13696 18.60608 0.09216l376.5248 289.4848C904.56064 502.7328 906.77248 507.22816 906.77248 512z" p-id="1062" fill="#34B7EF"></path></svg></div>',{visibility:"hidden",width:A+"px",height:j+"px",position:"absolute"});return T.setAttribute("draggable","true"),v.addEventListener(T,"dragstart",function(){var Y=T.hoverNode,G={shape:"bpmn-base",source:Y.id,anchorIndex:T.getAttribute("anchorIndex")},U=Y.getBBox(),H=B.getDelegation([{isEdge:!0}]);B.setSignal("dragEdge",!0),B.beginAdd("edge",G),B.set("addEdgeConfig",{addModel:G,delegation:H,startPoint:{x:U.centerX,y:U.centerY},sourceItem:Y}),B.hideArrowController()}),D.push(T),T}},{key:"showArrowController",value:function(A){this.get("arrowController").controllers.forEach(function(j){j.show(),j.hoverNode=A})}},{key:"hideArrowController",value:function(){this.get("arrowController").controllers.forEach(function(A){A.hide()})}},{key:"_initArrowController",value:function(){var A=this.getGraph().getGraphContainer(),j=this.get("arrowController"),B=j.thickness,D=j.long,T=this._createArrowController(B,D),Y=this._createArrowController(B,D),G=this._createArrowController(D,B),U=this._createArrowController(D,B);A.appendChild(T),A.appendChild(Y),A.appendChild(G),A.appendChild(U),j.topArrow=T,j.bottomArrow=Y,j.leftArrow=G,j.rightArrow=U}},{key:"bindEvent",value:function(){var A=this;r(i(b.prototype),"bindEvent",this).call(this);var j=this.getGraph();j.on("beforepanitem",function(){A.hideArrowController()}),j.on("afterviewportchange",function(){A.hideArrowController()})}}])&&o(M.prototype,O),E&&o(M,E),b}();h.setRegister(f,"bpmn","diagram"),d.exports=f},function(d,y,p){function n(A){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(A)}function o(A,j){for(var B=0;B<j.length;B++){var D=j[B];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(A,D.key,D)}}function u(A,j){return!j||n(j)!=="object"&&typeof j!="function"?function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(A):j}function r(A,j,B){return(r=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(D,T,Y){var G=function(H,J){for(;!Object.prototype.hasOwnProperty.call(H,J)&&(H=i(H))!==null;);return H}(D,T);if(G){var U=Object.getOwnPropertyDescriptor(G,T);return U.get?U.get.call(Y):U.value}})(A,j,B||A)}function i(A){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(A)}function a(A,j){return(a=Object.setPrototypeOf||function(B,D){return B.__proto__=D,B})(A,j)}var c=p(7),h=p(1),v=p(2),f=p(65),m=p(66),b=p(68),M=p(72),O=[f,p(73),M,m,b,p(74)],E=function(A){function j(Y){var G;(function(J,ut){if(!(J instanceof ut))throw new TypeError("Cannot call a class as a function")})(this,j);var U={shortcut:{copy:!0,paste:!0,selectAll:!0,addGroup:!0,unGroup:!0},graph:{minZoom:.2,maxZoom:2},graphConstructor:c.Graph,noEndEdge:!0},H={};return v.each(O,function(J){v.mix(H,J.CFG)}),v.mix(!0,U,H,Y),(G=u(this,i(j).call(this,U))).isFlow=!0,G}var B,D,T;return function(Y,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(G&&G.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),G&&a(Y,G)}(j,h),B=j,(D=[{key:"_init",value:function(){var Y=this;r(i(j.prototype),"_init",this).call(this),v.each(O,function(G){G.INIT&&Y[G.INIT]()})}},{key:"bindEvent",value:function(){var Y=this;r(i(j.prototype),"bindEvent",this).call(this),this.on("beforeitemactived",function(G){var U=G.item,H=Y.get("_graph").getShapeObj(U).getActivedOutterStyle(U);U.isNode&&Y.addOutterShape(U,H)}),this.on("beforeitemunactived",function(G){var U=G.item;(U.isNode||U.isGroup)&&Y.clearOutterShape(U)}),this.on("beforeitemselected",function(G){var U=G.item,H=Y.get("_graph").getShapeObj(U).getSelectedOutterStyle(U);(U.isNode||U.isGroup)&&Y.addOutterShape(U,H)}),this.on("beforeitemunselected",function(G){var U=G.item;(U.isNode||U.isGroup)&&Y.clearOutterShape(U)})}}])&&o(B.prototype,D),T&&o(B,T),j}();v.each(O,function(A){v.mix(E.prototype,A.AUGMENT)}),h.setRegister(E,"diagram","page"),d.exports=E},function(d,y){d.exports={gridStyle:{stroke:"#A3B1BF",lineWidth:.5},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab"},wheelPanRatio:.3,alignLineStyle:{stroke:"#FA8C16",lineWidth:1},nodeDelegationStyle:{stroke:"#1890FF",fill:"#1890FF",fillOpacity:.08,lineDash:[4,4],radius:4,lineWidth:1},edgeDelegationStyle:{stroke:"#1890FF",lineDash:[4,4],lineWidth:1}}},function(d,y,p){var n=p(18);p(32),p(33),d.exports=n},function(d,y,p){var n=p(13);p(75),p(80),d.exports=n},function(d,y,p){function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}function o(m,b){for(var M=0;M<b.length;M++){var O=b[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function u(m,b){return!b||n(b)!=="object"&&typeof b!="function"?function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(m):b}function r(m,b,M){return(r=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(O,E,A){var j=function(D,T){for(;!Object.prototype.hasOwnProperty.call(D,T)&&(D=i(D))!==null;);return D}(O,E);if(j){var B=Object.getOwnPropertyDescriptor(j,E);return B.get?B.get.call(A):B.value}})(m,b,M||m)}function i(m){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(m)}function a(m,b){return(a=Object.setPrototypeOf||function(M,O){return M.__proto__=O,M})(m,b)}var c=p(1),h=p(16),v=p(24),f=function(m){function b(A){var j;(function(D,T){if(!(D instanceof T))throw new TypeError("Cannot call a class as a function")})(this,b);var B={graph:{modes:{default:["panBlank","hoverGroupActived","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","clickGroupSelected","hoverNodeActived","hoverEdgeActived","hoverButton","clickCollapsedButton","clickExpandedButton","wheelChangeViewport","keydownShiftMultiSelected","dragNodeAddToGroup","dragOutFromGroup","panItem","hoverEdgeControlPoint","dragEdgeControlPoint"],add:["dragPanelItemAddNode","processAddEdge"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"circle",nodeDefaultShape:"koni-base",edgeDefaultShape:"koni-base",groupDefaultShape:"koni-base",minZoom:.5,maxZoom:2},orbit:{satellite:["forkAndLink"]},anchorLink:!1,noEndEdge:!1};return v.mix(!0,B,{},A),(j=u(this,i(b).call(this,B))).isKoni=!0,j}var M,O,E;return function(A,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(j&&j.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),j&&a(A,j)}(b,h),M=b,(O=[{key:"bindEvent",value:function(){r(i(b.prototype),"bindEvent",this).call(this);var A=this.getGraph();A.on("afterchange",function(j){var B=j.item,D=j.action,T=j.originModel,Y=j.updateModel;if(B&&B.isEdge){if(D==="add"||D==="remove"){var G=B.getSource(),U=B.getTarget();v.getParallelEdges(G,U,!0).forEach(function(ht){ht.update()})}else if(D==="update"){var H=A.find(T.source),J=A.find(T.target),ut=[];if(v.getParallelEdges(H,J,!0).forEach(function(ht){ht.update()}),v.isNil(Y.target)&&!v.isNil(Y.source)){var $=A.find(Y.source);ut=v.getParallelEdges($,J,!0)}else if(!v.isNil(Y.target)&&v.isNil(Y.source)){var K=A.find(Y.target);ut=v.getParallelEdges(H,K,!0)}else if(!v.isNil(Y.target)&&!v.isNil(Y.source)){var ot=A.find(Y.source),at=A.find(Y.target);ut=v.getParallelEdges(ot,at,!0)}ut.forEach(function(ht){ht.update()})}}D==="changeData"&&A.getEdges().forEach(function(ht){ht.update()}),A.draw()})}}])&&o(M.prototype,O),E&&o(M,E),b}();c.setRegister(f,"koni","diagram"),d.exports=f},function(d,y,p){function n(b){for(var M=1;M<arguments.length;M++){var O=arguments[M]!=null?arguments[M]:{},E=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(O).filter(function(A){return Object.getOwnPropertyDescriptor(O,A).enumerable}))),E.forEach(function(A){o(b,A,O[A])})}return b}function o(b,M,O){return M in b?Object.defineProperty(b,M,{value:O,enumerable:!0,configurable:!0,writable:!0}):b[M]=O,b}var u=p(6),r={};function i(b){return b.getCurrentPage().getSelected().length>0}function a(b){var M=b.getCurrentPage();this.snapShot=M.save(),this.selectedItems=M.getSelected().map(function(O){return O.id}),this.method&&(u.isString(this.method)?M[this.method]():this.method(b))}function c(b){var M=b.getCurrentPage();M.read(this.snapShot),M.setSelected(this.selectedItems,!0)}function h(b){return b.getCurrentPage().getMode()!==this.toMode}function v(b){var M=b.getCurrentPage();this.fromMode=M.getMode(),M.changeMode(this.toMode)}function f(b){b.getCurrentPage().changeMode(this.fromMode)}function m(b){var M={},O=[];return b.forEach(function(E){var A=E.model,j=u.mix(!0,{},n({},A,{id:u.guid()}));M[A.id]=j.id,O.push(n({},E,{model:j}))}),O.forEach(function(E){var A=E.model;if(A.parent){var j=M[A.parent];j?A.parent=j:delete A.parent}}),O.sort(function(E,A){return E.index-A.index}),O}r.list=[],r.registerCommand=function(b,M,O){if(r[b])u.mix(r[b],M);else{var E=n({enable:function(){return!0},init:function(){},execute:a,back:c,shortcutCodes:void 0,executeTimes:1,name:b,queue:!0},M);O&&r[O]&&(E=u.mix({},r[O],M)),r[b]=E,r.list.push(E)}},r.execute=function(b,M,O){var E=u.mix(!0,{},r[b],O),A=M.get("_command");return E.enable(M)&&(E.init(),E.queue&&(A.queue.splice(A.current,A.queue.length-A.current,E),A.current+=1),M.emit("beforecommandexecute",{command:E}),E.execute(M),M.emit("aftercommandexecute",{command:E}),M.setCommandDOMenable()),E},r.enable=function(b,M){return r[b].enable(M)},r.registerCommand("common",{back:c}),r.registerCommand("copyAdjacent",{enable:function(){return this.copyNode&&this.copyNode.isNode&&this.x&&this.y},execute:function(b){var M=this.copyNode,O=b.getCurrentPage(),E=O.getGraph(),A=M.getModel(),j=u.clone(A);j.id=u.guid(),j.x=this.x,j.y=this.y;var B=E.add("node",j),D=E.add("edge",{source:A.id,target:j.id});this.executeTimes===1&&(this.addIds=[B.id,D.id],this.page=O)},back:function(){var b=this.page.getGraph();this.addIds.forEach(function(M){b.remove(M)})}}),r.registerCommand("add",{enable:function(){return this.type&&this.addModel},execute:function(b){var M=b.getCurrentPage(),O=M.getGraph().add(this.type,this.addModel);this.executeTimes===1&&(this.addId=O.id,this.page=M)},back:function(){this.page.getGraph().remove(this.addId)}}),r.registerCommand("update",{enable:function(){return this.itemId&&this.updateModel},execute:function(b){var M=b.getCurrentPage(),O=M.getGraph(),E=O.find(this.itemId);this.executeTimes===1&&(this.originModel=u.getContrast(E.getModel(),this.updateModel),this.page=M),O.update(E,this.updateModel)},back:function(){var b=this.page.getGraph(),M=b.find(this.itemId);b.update(M,this.originModel)}}),r.registerCommand("redo",{queue:!1,enable:function(b){var M=b.get("_command"),O=M.queue;return M.current<O.length},execute:function(b){var M=b.get("_command");M.queue[M.current].execute(b),M.current+=1},shortcutCodes:[["metaKey","shiftKey","z"],["ctrlKey","shiftKey","z"]]}),r.registerCommand("undo",{queue:!1,enable:function(b){return b.get("_command").current>0},execute:function(b){var M=b.get("_command"),O=M.queue[M.current-1];O.executeTimes++,O.back(b),M.current-=1},shortcutCodes:[["metaKey","z"],["ctrlKey","z"]]}),r.registerCommand("copy",{queue:!1,enable:i,method:function(b){var M=b.getCurrentPage().getSelected(),O=b.get("_command"),E=M.map(function(j){return j.getGraphicGroup()}),A=u.getChildrenBBox(E);O.clipboard=[],M.forEach(function(j){u.traverseTree(j,function(B){var D=B.getModel(),T=B.getGraphicGroup();O.clipboard.push({type:B.type,index:u.getIndex(T),model:D})},function(B){return B.getChildren&&B.getChildren()},!0)}),b.set("copyCenterBox",n({},A))}}),r.registerCommand("pasteHere",{enable:function(b){return b.get("_command").clipboard.length>0},method:function(b){var M=b.getCurrentPage(),O=b.get("_command"),E=this.pasteData?this.pasteData:m(O.clipboard),A=this.copyCenterBox?this.copyCenterBox:b.get("copyCenterBox"),j=this.contextmenuPoint?this.contextmenuPoint:b.get("contextmenuPoint");M.clearSelected(),this.copyCenterBox=u.clone(A),this.pasteData=u.clone(E),this.contextmenuPoint=u.clone(j),E.forEach(function(B){var D=B.model;D.x&&(D.x+=j.x-A.minX),D.y&&(D.y+=j.y-A.minY),M.add(B.type,D)})},back:c}),r.registerCommand("paste",{enable:function(b){return b.get("_command").clipboard.length>0},method:function(b){var M=b.getCurrentPage(),O=b.get("_command"),E=this.pasteData?this.pasteData:m(O.clipboard);M.clearSelected(),this.pasteData=u.clone(E),E.forEach(function(A){var j=A.model;j.x&&(j.x+=10),j.y&&(j.y+=10),M.add(A.type,j)})},back:c}),r.registerCommand("addGroup",{init:function(){this.addGroupId=u.guid()},enable:function(b){return b.getCurrentPage().getSelected().length>1},method:function(b){b.getCurrentPage().addGroup({id:this.addGroupId})},back:c}),r.registerCommand("unGroup",{enable:function(b){var M=b.getCurrentPage().getSelected();return M.length===1&&M[0].isGroup},method:"unGroup",back:c}),r.registerCommand("delete",{getDeleteItems:function(b){var M=b.getCurrentPage(),O=M.getGraph(),E=this.itemIds?this.itemIds.map(function(A){return O.find(A)}):M.getSelected();return E=E.filter(function(A){return A.deleteable!==!1})},enable:function(b){return this.getDeleteItems(b).length>0},method:function(b){var M=b.getCurrentPage(),O=this.getDeleteItems(b),E=M.getGraph();M.emit("beforedelete",{items:O}),u.each(O,function(A){E.remove(A)}),M.emit("afterdelete",{items:O}),this.itemIds=O.map(function(A){return A.getModel().id})},back:c,shortcutCodes:["Delete","Backspace"]}),r.registerCommand("selectAll",{method:function(b){var M=b.getCurrentPage();M.getGraph().getItems().forEach(function(O){M.setSelected(O,!0)})},back:c,shortcutCodes:[["metaKey","a"]]}),r.registerCommand("toBack",{enable:i,method:"toBack",back:c}),r.registerCommand("toFront",{enable:i,method:"toFront",back:c}),r.registerCommand("clear",{enable:function(b){return b.getCurrentPage().getItems().length>0},method:"clear",back:c}),r.registerCommand("multiSelect",{enable:h,toMode:"multiSelect",execute:v,back:f}),r.registerCommand("move",{enable:h,toMode:"move",execute:v,back:f}),d.exports=r},function(d,y,p){d.exports=p(2)},function(d,y,p){"use strict";p.r(y),p.d(y,"mouseEnterEdge",function(){return o}),p.d(y,"mouseLeaveEdge",function(){return u}),p.d(y,"startMove",function(){return r}),p.d(y,"endMove",function(){return i}),p.d(y,"mouseMoveEdge",function(){return a}),p.d(y,"mergeLine",function(){return c});var n=p(0);function o(h){var v=h.graph,f=h.bpmn,m=h.ev,b=h.backUpCursor,M=m.item,O=M.model.controlPoints,E=Object(n.e)({x:m.x,y:m.y},O),A=E.index,j=E.vertical;A!=null&&(b&&(M._cursor=f.getGraph().getMouseEventWrapper().style.cursor),v.update(M,{hold:{index:A,vertical:j}}),j?f.css({cursor:"col-resize"}):f.css({cursor:"row-resize"}))}function u(h){var v=h.graph,f=h.bpmn,m=h.item;m._cursor&&f.css({cursor:m._cursor}),delete m._cursor,v.update(m,{hold:void 0})}function r(h,v){var f=v.item;h.update(f,{lastMouse:{x:v.x,y:v.y}})}function i(h){var v=h.graph,f=h.item;v.update(f,{lastMouse:void 0,moveDelta:void 0})}function a(h,v,f){var m;m=v.model&&v.model.hold&&v.model.hold.vertical?{x:f.x-v.model.lastMouse.x,y:0}:{x:0,y:f.y-v.model.lastMouse.y},h.update(v,{edgeMoved:m,modifiedByMouse:!0})}function c(h,v,f){var m,b=h.model,M=v||b.hold.index,O=b.controlPoints;f===null&&(f=b.hold.vertical);var E=[];return M>=2&&(f?Math.abs(O[M-2].x-O[M].x)<=3&&(m=[{x:O[M-2].x,y:O[M-2].y},{x:O[M-2].x,y:O[M+1].y}],E.push(M-1,M),b.hold.index=M-2,b.controlPoints[M+1].x=O[M-2].x):Math.abs(O[M-2].y-O[M].y)<=3&&(m=[{x:O[M-2].x,y:O[M-2].y},{x:O[M+1].x,y:O[M-2].y}],E.push(M-1,M),b.hold.index=M-2,b.controlPoints[M+1].y=O[M-2].y)),M<=O.length-4&&(f?Math.abs(O[M].x-O[M+2].x)<=3&&(m?(m[1]={x:O[M-2].x,y:O[M+3].y},b.controlPoints[M+3].x=O[M-2].x):(m=[{x:O[M+3].x,y:O[M].y},{x:O[M+3].x,y:O[M+3].y}],b.controlPoints[M].x=O[M+3].x),E.push(M+1,M+2)):Math.abs(O[M].y-O[M+2].y)<=3&&(m?(m[1]={x:O[M+3].x,y:O[M-2].y},b.controlPoints[M+3].y=O[M-2].y):(m=[{x:O[M].x,y:O[M+3].y},{x:O[M+3].x,y:O[M+3].y}],b.controlPoints[M].y=O[M+3].y),E.push(M+1,M+2))),E&&E.length&&O.splice(E[0],E.length),m}},function(d,y,p){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}function o(f,m){return!m||n(m)!=="object"&&typeof m!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(f):m}function u(f){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(f)}function r(f,m){for(var b=0;b<m.length;b++){var M=m[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function i(f,m,b){return m&&r(f.prototype,m),b&&r(f,b),f}function a(f,m){return(a=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(f,m)}var c=p(27),h=p(6),v=function(f){function m(b){var M;(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,m);var O=(M=o(this,u(m).call(this))).getDefaultCfg();return M._cfg=h.mix(!0,{},M._cfg,O,b),M}return function(b,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(M&&M.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),M&&a(b,M)}(m,c),i(m,[{key:"getDefaultCfg",value:function(){return{}}}]),i(m,[{key:"get",value:function(b){return this._cfg[b]}},{key:"set",value:function(b,M){this._cfg[b]=M}},{key:"destroy",value:function(){this._cfg={},this.destroyed=!0}}]),m}();d.exports=v},function(d,y,p){function n(u,r,i){return r in u?Object.defineProperty(u,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[r]=i,u}var o=p(4);d.exports=function(u){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),a.forEach(function(c){n(u,c,i[c])})}return u}({},o,{getParallelEdges:function(u,r){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.getEdges().filter(function(a){var c=a.getModel();return c.target===r.id||i&&c.source===r.id})},object2array:function(u){var r=[];return o.each(u,function(i){r.push(i)}),r}})},function(d,y,p){function n(v){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var m=0;m<f.length;m++){var b=f[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}function u(v,f){return!f||n(f)!=="object"&&typeof f!="function"?function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(v):f}function r(v){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}function i(v,f){return(i=Object.setPrototypeOf||function(m,b){return m.__proto__=b,m})(v,f)}var a=p(9),c=p(2),h=function(v){function f(){return function(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")}(this,f),u(this,r(f).apply(this,arguments))}var m,b,M;return function(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(E&&E.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),E&&i(O,E)}(f,a),m=f,(b=[{key:"getDefaultCfg",value:function(){return{name:"",render:function(){return"<button>satellite</button>"},bindEvent:function(){return[]}}}},{key:"_renderDOM",value:function(){var O=c.createDOM(this.render(this.diagram));return this.dom=O,O.isSatellite=!0,O}},{key:"getDOM",value:function(){return this.dom||this._renderDOM()}},{key:"init",value:function(){var O=this.getDOM(),E=this.diagram.getGraph().getGraphContainer();O&&(O.css({position:"absolute",visibility:"hidden"}),E.appendChild(O),O&&this.bindEvent(O,this.diagram))}},{key:"enable",value:function(){return!0}},{key:"show",value:function(){this.getDOM().show()}},{key:"hide",value:function(){this.getDOM().hide()}},{key:"isVisible",value:function(){return this.getDOM().style.visibility!=="hidden"}},{key:"destroy",value:function(){var O=this.events;O&&O.forEach(function(E){E.remove()})}}])&&o(m.prototype,b),M&&o(m,M),f}();d.exports=h},function(d,y,p){d.exports=p(2)},function(d,y,p){var n=p(26),o=p(6),u=p(15);p(7),n.Editor=n,n.Util=o,n.Diagram=p(16),n.Page=p(1),n.Flow=p(95),n.Koni=p(102),n.Mind=p(107),n.Toolbar=p(121),n.Contextmenu=p(122),n.Command=p(15),n.BPMN=p(123),n.registerBehaviour=n.Page.registerBehaviour,n.registerNode=n.Page.registerNode,n.registerEdge=n.Page.registerEdge,n.registerGroup=n.Page.registerGroup,n.registerGuide=n.Page.registerGuide,n.registerCommand=u.registerCommand,d.exports=n},function(d,y,p){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}function o(f,m){for(var b=0;b<m.length;b++){var M=m[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function u(f,m){return!m||n(m)!=="object"&&typeof m!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(f):m}function r(f){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(f)}function i(f,m){return(i=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(f,m)}var a=p(21),c=p(6),h=p(15),v=function(f){function m(){return function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}(this,m),u(this,r(m).apply(this,arguments))}var b,M,O;return function(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),A&&i(E,A)}(m,a),b=m,(M=[{key:"getDefaultCfg",value:function(){return{_components:[],_command:{zoomDelta:.1,queue:[],current:0,clipboard:[]}}}},{key:"_getComponentsBy",value:function(E){return this.get("_components").filter(E)}},{key:"_bindCommands",value:function(E){var A=this;c.each(E,function(j){var B=j.dataset,D=B.command;h[D]?c.addEventListener(j,"click",function(){A.getCurrentPage().focusGraphWrapper(),A.executeCommand(D,B)}):console.warn("\u8BF7\u8BBE\u7F6E\u6709\u6548\u7684\u547D\u4EE4\uFF01")})}},{key:"getCommands",value:function(){return this.get("_command").queue}},{key:"getCurrentCommand",value:function(){var E=this.get("_command");return E.queue[E.current-1]}},{key:"executeCommand",value:function(E,A){c.isString(E)?h.execute(E,this,A):h.execute("common",this,{method:E},A)}},{key:"commandEnable",value:function(E){return h.enable(E,this)}},{key:"setCommandDOMenable",value:function(){var E=this,A=this.getComponentsByType("toolbar"),j=this.getComponentsByType("contextmenu"),B=[];A.forEach(function(D){c.each(D.getCommandDoms(),function(T){B.push(T)})}),j.forEach(function(D){c.each(D.getCommandDoms(),function(T){B.push(T)})}),c.each(B,function(D){var T=D.dataset.command;h.enable(T,E)?D.classList.remove("disable"):D.classList.add("disable")})}},{key:"_onPageStatusChange",value:function(){this.setCommandDOMenable()}},{key:"_afterAddContextmenu",value:function(){this.getCurrentPage()&&this.setCommandDOMenable()}},{key:"_afterAddPage",value:function(E){var A=this;this.setCommandDOMenable(),E.on("statuschange",function(j){A._onPageStatusChange(j)}),E.on("mousedown",function(){A.getComponentsByType("contextmenu").forEach(function(j){j.hide()})}),E.on("contextmenu",function(j){var B=A.getComponentsByType("contextmenu"),D=E.getGraph().getCanvas().get("el"),T=c.getBoundingClientRect(D),Y={x:j.x,y:j.y},G=j.item;G&&!G.isSelected&&(E.clearSelected(),E.setSelected(j.item,!0)),A.set("contextmenuPoint",Y),j.domEvent.preventDefault(),B.forEach(function(U){U.show(),U.contextmenuPoint=Y,U.move(T.left+j.domX,T.top+j.domY)})}),E.on("statuschange",function(j){A.getComponentsByType("contextmenu").forEach(function(B){B.switch(j.status)})}),this._bindShortcut(E)}},{key:"_beforeAddToolbar",value:function(E){var A=E.getCommandDoms();this._bindCommands(A)}},{key:"_beforeAddContextmenu",value:function(E){var A=E.getCommandDoms();E.bindEvent(),this._bindCommands(A)}},{key:"getComponentsByType",value:function(E){return this._getComponentsBy(function(A){return A.type===E})}},{key:"getCurrentPage",value:function(){var E,A=this.getComponentsByType("page");return A.every(function(j){return!j.isActived||(E=j,!1)}),E||(E=A[0]),E}},{key:"getComponents",value:function(){return this.get("_components")}},{key:"_shortcutEnable",value:function(E,A){for(var j=E.shortcutCodes,B=c.getKeyboradKey(A),D=!1,T=0;T<j.length;T++){var Y=j[T];if(c.isArray(Y)){for(var G=Y.length,U=!0,H=0;H<G-1;H++)if(!A[Y[H]]){U=!1;break}Y[G-1]!==B&&Y[G-1]!==c.lowerFirst(B)||!U||(D=!0)}else Y===B&&(D=!0);if(D)break}return D}},{key:"_bindShortcut",value:function(E){var A=this,j=E.get("shortcut");E.getGraph().on("keydown",function(B){var D=A.getComponentsByType("contextmenu"),T=B.domEvent;D.forEach(function(H){H.hide()}),T.preventDefault();for(var Y=h.list.filter(function(H){return H.shortcutCodes&&j[H.name]}),G=0;G<Y.length;G++){var U=Y[G];if(A._shortcutEnable(U,T))return A.executeCommand(U.name),!1}})}},{key:"add",value:function(E){var A=this.get("_components"),j=c.upperFirst(E.type);E.editor=this,this["_beforeAdd"+j]&&this["_beforeAdd"+j](E),A.push(E),this["_afterAdd"+j]&&this["_afterAdd"+j](E)}},{key:"destroy",value:function(){this.get("_components").forEach(function(E){E.destroy()})}}])&&o(b.prototype,M),O&&o(b,O),m}();d.exports=v},function(d,y,p){var n;/*!
 * EventEmitter v5.2.6 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */(function(o){"use strict";function u(){}var r=u.prototype,i=o.EventEmitter;function a(h,v){for(var f=h.length;f--;)if(h[f].listener===v)return f;return-1}function c(h){return function(){return this[h].apply(this,arguments)}}r.getListeners=function(h){var v,f,m=this._getEvents();if(h instanceof RegExp)for(f in v={},m)m.hasOwnProperty(f)&&h.test(f)&&(v[f]=m[f]);else v=m[h]||(m[h]=[]);return v},r.flattenListeners=function(h){var v,f=[];for(v=0;v<h.length;v+=1)f.push(h[v].listener);return f},r.getListenersAsObject=function(h){var v,f=this.getListeners(h);return f instanceof Array&&((v={})[h]=f),v||f},r.addListener=function(h,v){if(!function M(O){return typeof O=="function"||O instanceof RegExp||!(!O||typeof O!="object")&&M(O.listener)}(v))throw new TypeError("listener must be a function");var f,m=this.getListenersAsObject(h),b=typeof v=="object";for(f in m)m.hasOwnProperty(f)&&a(m[f],v)===-1&&m[f].push(b?v:{listener:v,once:!1});return this},r.on=c("addListener"),r.addOnceListener=function(h,v){return this.addListener(h,{listener:v,once:!0})},r.once=c("addOnceListener"),r.defineEvent=function(h){return this.getListeners(h),this},r.defineEvents=function(h){for(var v=0;v<h.length;v+=1)this.defineEvent(h[v]);return this},r.removeListener=function(h,v){var f,m,b=this.getListenersAsObject(h);for(m in b)b.hasOwnProperty(m)&&(f=a(b[m],v))!==-1&&b[m].splice(f,1);return this},r.off=c("removeListener"),r.addListeners=function(h,v){return this.manipulateListeners(!1,h,v)},r.removeListeners=function(h,v){return this.manipulateListeners(!0,h,v)},r.manipulateListeners=function(h,v,f){var m,b,M=h?this.removeListener:this.addListener,O=h?this.removeListeners:this.addListeners;if(typeof v!="object"||v instanceof RegExp)for(m=f.length;m--;)M.call(this,v,f[m]);else for(m in v)v.hasOwnProperty(m)&&(b=v[m])&&(typeof b=="function"?M.call(this,m,b):O.call(this,m,b));return this},r.removeEvent=function(h){var v,f=typeof h,m=this._getEvents();if(f==="string")delete m[h];else if(h instanceof RegExp)for(v in m)m.hasOwnProperty(v)&&h.test(v)&&delete m[v];else delete this._events;return this},r.removeAllListeners=c("removeEvent"),r.emitEvent=function(h,v){var f,m,b,M,O=this.getListenersAsObject(h);for(M in O)if(O.hasOwnProperty(M))for(f=O[M].slice(0),b=0;b<f.length;b++)(m=f[b]).once===!0&&this.removeListener(h,m.listener),m.listener.apply(this,v||[])===this._getOnceReturnValue()&&this.removeListener(h,m.listener);return this},r.trigger=c("emitEvent"),r.emit=function(h){var v=Array.prototype.slice.call(arguments,1);return this.emitEvent(h,v)},r.setOnceReturnValue=function(h){return this._onceReturnValue=h,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},u.noConflict=function(){return o.EventEmitter=i,u},(n=function(){return u}.call(o,p,o,d))===void 0||(d.exports=n)})(typeof window!="undefined"?window:this||{})},function(d,y,p){var n=p(7).Util;d.exports={getGroupIconPath:function(){return"M9.75,9.60000014 L3.75,9.60000014 C3.33578644,9.60000014 3,9.2865995 3,8.90000022 C3,8.51340093 3.33578644,8.20000029 3.75,8.20000029 L9.75,8.20000029 C10.1642136,8.20000029 10.5,8.51340093 10.5,8.90000022 C10.5,9.2865995 10.1642136,9.60000014 9.75,9.60000014 M3,11.6999999 C3,11.3134006 3.33578644,11 3.75,11 L6.75,11 C7.16421356,11 7.5,11.3134006 7.5,11.6999999 C7.5,12.0865992 7.16421356,12.3999999 6.75,12.3999999 L3.75,12.3999999 C3.33578644,12.3999999 3,12.0865992 3,11.6999999 M3.75,13.7999997 L6.75,13.7999997 C7.16421356,13.7999997 7.5,14.1134004 7.5,14.4999996 C7.5,14.8865989 7.16421356,15.1999996 6.75,15.1999996 L3.75,15.1999996 C3.33578644,15.1999996 3,14.8865989 3,14.4999996 C3,14.1134004 3.33578644,13.7999997 3.75,13.7999997 M16.4985,4.00000072 L1.5015,4.00000072 C0.674533504,3.99922416 0.00289396564,4.6232696 0,5.39510058 L0,16.6048994 C0.00289396564,17.3767304 0.674533504,18.0007758 1.5015,17.9999993 L16.4985,17.9999993 C17.3254665,18.0007758 17.997106,17.3767304 18,16.6048994 L18,5.39510058 C17.997106,4.6232696 17.3254665,3.99922416 16.4985,4.00000072M19,13.9999993 L19,3 L5,3 L5,1.39510058 C5.00289397,0.623269599 5.6745335,-0.00077583787 6.5015,7.23978642e-07 L21.4985,7.23978642e-07 C22.3254665,-0.00077583787 22.997106,0.623269599 23,1.39510058 L23,12.6048994 C22.997106,13.3767304 22.3254665,14.0007758 21.4985,13.9999993 L19,13.9999993 Z"},getCollapsedButtonPath:function(){return n.getRectPath(0,0,14,14,2)+"M3,7L11,7"},getExpandedButtonPath:function(){return n.getRectPath(0,0,14,14,2)+"M3,7L11,7M7,3L7,11"}}},function(d,y,p){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.presetPrimaryColors=y.presetPalettes=y.generate=void 0;var n,o=p(30),u=(n=o)&&n.__esModule?n:{default:n},r={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},i={};Object.keys(r).forEach(function(a){i[a]=(0,u.default)(r[a])}),y.generate=u.default,y.presetPalettes=i,y.presetPrimaryColors=r},function(d,y,p){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(O){for(var E=[],A=(0,u.default)(O),j=v;j>0;j-=1){var B=A.toHsv(),D=(0,u.default)({h:m(B,j,!0),s:b(B,j,!0),v:M(B,j,!0)}).toHexString();E.push(D)}E.push(A.toHexString());for(var T=1;T<=f;T+=1){var Y=A.toHsv(),G=(0,u.default)({h:m(Y,T),s:b(Y,T),v:M(Y,T)}).toHexString();E.push(G)}return E};var n,o=p(31),u=(n=o)&&n.__esModule?n:{default:n},r=2,i=16,a=5,c=5,h=15,v=5,f=4;function m(O,E,A){var j=void 0;return(j=Math.round(O.h)>=60&&Math.round(O.h)<=240?A?Math.round(O.h)-r*E:Math.round(O.h)+r*E:A?Math.round(O.h)+r*E:Math.round(O.h)-r*E)<0?j+=360:j>=360&&(j-=360),j}function b(O,E,A){if(O.h===0&&O.s===0)return O.s;var j=void 0;return(j=A?Math.round(100*O.s)-i*E:E===f?Math.round(100*O.s)+i:Math.round(100*O.s)+a*E)>100&&(j=100),A&&E===v&&j>10&&(j=10),j<6&&(j=6),j}function M(O,E,A){return A?Math.round(100*O.v)+c*E:Math.round(100*O.v)-h*E}},function(d,y,p){var n;(function(o){var u=/^\s+/,r=/\s+$/,i=0,a=o.round,c=o.min,h=o.max,v=o.random;function f(V,Z){if(Z=Z||{},(V=V||"")instanceof f)return V;if(!(this instanceof f))return new f(V,Z);var W=function(rt){var tt={r:0,g:0,b:0},Q=1,ft=null,Et=null,Ct=null,Nt=!1,Ft=!1;typeof rt=="string"&&(rt=function(Xt){Xt=Xt.replace(u,"").replace(r,"").toLowerCase();var Ut,ct=!1;if(K[Xt])Xt=K[Xt],ct=!0;else if(Xt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Ut=lt.rgb.exec(Xt))?{r:Ut[1],g:Ut[2],b:Ut[3]}:(Ut=lt.rgba.exec(Xt))?{r:Ut[1],g:Ut[2],b:Ut[3],a:Ut[4]}:(Ut=lt.hsl.exec(Xt))?{h:Ut[1],s:Ut[2],l:Ut[3]}:(Ut=lt.hsla.exec(Xt))?{h:Ut[1],s:Ut[2],l:Ut[3],a:Ut[4]}:(Ut=lt.hsv.exec(Xt))?{h:Ut[1],s:Ut[2],v:Ut[3]}:(Ut=lt.hsva.exec(Xt))?{h:Ut[1],s:Ut[2],v:Ut[3],a:Ut[4]}:(Ut=lt.hex8.exec(Xt))?{r:pt(Ut[1]),g:pt(Ut[2]),b:pt(Ut[3]),a:_t(Ut[4]),format:ct?"name":"hex8"}:(Ut=lt.hex6.exec(Xt))?{r:pt(Ut[1]),g:pt(Ut[2]),b:pt(Ut[3]),format:ct?"name":"hex"}:(Ut=lt.hex4.exec(Xt))?{r:pt(Ut[1]+""+Ut[1]),g:pt(Ut[2]+""+Ut[2]),b:pt(Ut[3]+""+Ut[3]),a:_t(Ut[4]+""+Ut[4]),format:ct?"name":"hex8"}:(Ut=lt.hex3.exec(Xt))?{r:pt(Ut[1]+""+Ut[1]),g:pt(Ut[2]+""+Ut[2]),b:pt(Ut[3]+""+Ut[3]),format:ct?"name":"hex"}:!1}(rt)),typeof rt=="object"&&(X(rt.r)&&X(rt.g)&&X(rt.b)?(Rt=rt.r,kt=rt.g,Pt=rt.b,tt={r:255*ht(Rt,255),g:255*ht(kt,255),b:255*ht(Pt,255)},Nt=!0,Ft=String(rt.r).substr(-1)==="%"?"prgb":"rgb"):X(rt.h)&&X(rt.s)&&X(rt.v)?(ft=vt(rt.s),Et=vt(rt.v),tt=function(Xt,Ut,ct){Xt=6*ht(Xt,360),Ut=ht(Ut,100),ct=ht(ct,100);var re=o.floor(Xt),ve=Xt-re,pe=ct*(1-Ut),Me=ct*(1-ve*Ut),ge=ct*(1-(1-ve)*Ut),ce=re%6;return{r:255*[ct,Me,pe,pe,ge,ct][ce],g:255*[ge,ct,ct,Me,pe,pe][ce],b:255*[pe,pe,ge,ct,ct,Me][ce]}}(rt.h,ft,Et),Nt=!0,Ft="hsv"):X(rt.h)&&X(rt.s)&&X(rt.l)&&(ft=vt(rt.s),Ct=vt(rt.l),tt=function(Xt,Ut,ct){var re,ve,pe;function Me(ye,be,Oe){return Oe<0&&(Oe+=1),Oe>1&&(Oe-=1),Oe<1/6?ye+6*(be-ye)*Oe:Oe<.5?be:Oe<2/3?ye+(be-ye)*(2/3-Oe)*6:ye}if(Xt=ht(Xt,360),Ut=ht(Ut,100),ct=ht(ct,100),Ut===0)re=ve=pe=ct;else{var ge=ct<.5?ct*(1+Ut):ct+Ut-ct*Ut,ce=2*ct-ge;re=Me(ce,ge,Xt+1/3),ve=Me(ce,ge,Xt),pe=Me(ce,ge,Xt-1/3)}return{r:255*re,g:255*ve,b:255*pe}}(rt.h,ft,Ct),Nt=!0,Ft="hsl"),rt.hasOwnProperty("a")&&(Q=rt.a));var Rt,kt,Pt;return Q=at(Q),{ok:Nt,format:rt.format||Ft,r:c(255,h(tt.r,0)),g:c(255,h(tt.g,0)),b:c(255,h(tt.b,0)),a:Q}}(V);this._originalInput=V,this._r=W.r,this._g=W.g,this._b=W.b,this._a=W.a,this._roundA=a(100*this._a)/100,this._format=Z.format||W.format,this._gradientType=Z.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=W.ok,this._tc_id=i++}function m(V,Z,W){V=ht(V,255),Z=ht(Z,255),W=ht(W,255);var rt,tt,Q=h(V,Z,W),ft=c(V,Z,W),Et=(Q+ft)/2;if(Q==ft)rt=tt=0;else{var Ct=Q-ft;switch(tt=Et>.5?Ct/(2-Q-ft):Ct/(Q+ft),Q){case V:rt=(Z-W)/Ct+(Z<W?6:0);break;case Z:rt=(W-V)/Ct+2;break;case W:rt=(V-Z)/Ct+4}rt/=6}return{h:rt,s:tt,l:Et}}function b(V,Z,W){V=ht(V,255),Z=ht(Z,255),W=ht(W,255);var rt,tt,Q=h(V,Z,W),ft=c(V,Z,W),Et=Q,Ct=Q-ft;if(tt=Q===0?0:Ct/Q,Q==ft)rt=0;else{switch(Q){case V:rt=(Z-W)/Ct+(Z<W?6:0);break;case Z:rt=(W-V)/Ct+2;break;case W:rt=(V-Z)/Ct+4}rt/=6}return{h:rt,s:tt,v:Et}}function M(V,Z,W,rt){var tt=[xt(a(V).toString(16)),xt(a(Z).toString(16)),xt(a(W).toString(16))];return rt&&tt[0].charAt(0)==tt[0].charAt(1)&&tt[1].charAt(0)==tt[1].charAt(1)&&tt[2].charAt(0)==tt[2].charAt(1)?tt[0].charAt(0)+tt[1].charAt(0)+tt[2].charAt(0):tt.join("")}function O(V,Z,W,rt){return[xt(gt(rt)),xt(a(V).toString(16)),xt(a(Z).toString(16)),xt(a(W).toString(16))].join("")}function E(V,Z){Z=Z===0?0:Z||10;var W=f(V).toHsl();return W.s-=Z/100,W.s=St(W.s),f(W)}function A(V,Z){Z=Z===0?0:Z||10;var W=f(V).toHsl();return W.s+=Z/100,W.s=St(W.s),f(W)}function j(V){return f(V).desaturate(100)}function B(V,Z){Z=Z===0?0:Z||10;var W=f(V).toHsl();return W.l+=Z/100,W.l=St(W.l),f(W)}function D(V,Z){Z=Z===0?0:Z||10;var W=f(V).toRgb();return W.r=h(0,c(255,W.r-a(-Z/100*255))),W.g=h(0,c(255,W.g-a(-Z/100*255))),W.b=h(0,c(255,W.b-a(-Z/100*255))),f(W)}function T(V,Z){Z=Z===0?0:Z||10;var W=f(V).toHsl();return W.l-=Z/100,W.l=St(W.l),f(W)}function Y(V,Z){var W=f(V).toHsl(),rt=(W.h+Z)%360;return W.h=rt<0?360+rt:rt,f(W)}function G(V){var Z=f(V).toHsl();return Z.h=(Z.h+180)%360,f(Z)}function U(V){var Z=f(V).toHsl(),W=Z.h;return[f(V),f({h:(W+120)%360,s:Z.s,l:Z.l}),f({h:(W+240)%360,s:Z.s,l:Z.l})]}function H(V){var Z=f(V).toHsl(),W=Z.h;return[f(V),f({h:(W+90)%360,s:Z.s,l:Z.l}),f({h:(W+180)%360,s:Z.s,l:Z.l}),f({h:(W+270)%360,s:Z.s,l:Z.l})]}function J(V){var Z=f(V).toHsl(),W=Z.h;return[f(V),f({h:(W+72)%360,s:Z.s,l:Z.l}),f({h:(W+216)%360,s:Z.s,l:Z.l})]}function ut(V,Z,W){Z=Z||6,W=W||30;var rt=f(V).toHsl(),tt=360/W,Q=[f(V)];for(rt.h=(rt.h-(tt*Z>>1)+720)%360;--Z;)rt.h=(rt.h+tt)%360,Q.push(f(rt));return Q}function $(V,Z){Z=Z||6;for(var W=f(V).toHsv(),rt=W.h,tt=W.s,Q=W.v,ft=[],Et=1/Z;Z--;)ft.push(f({h:rt,s:tt,v:Q})),Q=(Q+Et)%1;return ft}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var V=this.toRgb();return(299*V.r+587*V.g+114*V.b)/1e3},getLuminance:function(){var V,Z,W,rt=this.toRgb();return V=rt.r/255,Z=rt.g/255,W=rt.b/255,.2126*(V<=.03928?V/12.92:o.pow((V+.055)/1.055,2.4))+.7152*(Z<=.03928?Z/12.92:o.pow((Z+.055)/1.055,2.4))+.0722*(W<=.03928?W/12.92:o.pow((W+.055)/1.055,2.4))},setAlpha:function(V){return this._a=at(V),this._roundA=a(100*this._a)/100,this},toHsv:function(){var V=b(this._r,this._g,this._b);return{h:360*V.h,s:V.s,v:V.v,a:this._a}},toHsvString:function(){var V=b(this._r,this._g,this._b),Z=a(360*V.h),W=a(100*V.s),rt=a(100*V.v);return this._a==1?"hsv("+Z+", "+W+"%, "+rt+"%)":"hsva("+Z+", "+W+"%, "+rt+"%, "+this._roundA+")"},toHsl:function(){var V=m(this._r,this._g,this._b);return{h:360*V.h,s:V.s,l:V.l,a:this._a}},toHslString:function(){var V=m(this._r,this._g,this._b),Z=a(360*V.h),W=a(100*V.s),rt=a(100*V.l);return this._a==1?"hsl("+Z+", "+W+"%, "+rt+"%)":"hsla("+Z+", "+W+"%, "+rt+"%, "+this._roundA+")"},toHex:function(V){return M(this._r,this._g,this._b,V)},toHexString:function(V){return"#"+this.toHex(V)},toHex8:function(V){return function(Z,W,rt,tt,Q){var ft=[xt(a(Z).toString(16)),xt(a(W).toString(16)),xt(a(rt).toString(16)),xt(gt(tt))];return Q&&ft[0].charAt(0)==ft[0].charAt(1)&&ft[1].charAt(0)==ft[1].charAt(1)&&ft[2].charAt(0)==ft[2].charAt(1)&&ft[3].charAt(0)==ft[3].charAt(1)?ft[0].charAt(0)+ft[1].charAt(0)+ft[2].charAt(0)+ft[3].charAt(0):ft.join("")}(this._r,this._g,this._b,this._a,V)},toHex8String:function(V){return"#"+this.toHex8(V)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(100*ht(this._r,255))+"%",g:a(100*ht(this._g,255))+"%",b:a(100*ht(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+a(100*ht(this._r,255))+"%, "+a(100*ht(this._g,255))+"%, "+a(100*ht(this._b,255))+"%)":"rgba("+a(100*ht(this._r,255))+"%, "+a(100*ht(this._g,255))+"%, "+a(100*ht(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(ot[M(this._r,this._g,this._b,!0)]||!1)},toFilter:function(V){var Z="#"+O(this._r,this._g,this._b,this._a),W=Z,rt=this._gradientType?"GradientType = 1, ":"";if(V){var tt=f(V);W="#"+O(tt._r,tt._g,tt._b,tt._a)}return"progid:DXImageTransform.Microsoft.gradient("+rt+"startColorstr="+Z+",endColorstr="+W+")"},toString:function(V){var Z=!!V;V=V||this._format;var W=!1,rt=this._a<1&&this._a>=0;return Z||!rt||V!=="hex"&&V!=="hex6"&&V!=="hex3"&&V!=="hex4"&&V!=="hex8"&&V!=="name"?(V==="rgb"&&(W=this.toRgbString()),V==="prgb"&&(W=this.toPercentageRgbString()),V!=="hex"&&V!=="hex6"||(W=this.toHexString()),V==="hex3"&&(W=this.toHexString(!0)),V==="hex4"&&(W=this.toHex8String(!0)),V==="hex8"&&(W=this.toHex8String()),V==="name"&&(W=this.toName()),V==="hsl"&&(W=this.toHslString()),V==="hsv"&&(W=this.toHsvString()),W||this.toHexString()):V==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(V,Z){var W=V.apply(null,[this].concat([].slice.call(Z)));return this._r=W._r,this._g=W._g,this._b=W._b,this.setAlpha(W._a),this},lighten:function(){return this._applyModification(B,arguments)},brighten:function(){return this._applyModification(D,arguments)},darken:function(){return this._applyModification(T,arguments)},desaturate:function(){return this._applyModification(E,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(j,arguments)},spin:function(){return this._applyModification(Y,arguments)},_applyCombination:function(V,Z){return V.apply(null,[this].concat([].slice.call(Z)))},analogous:function(){return this._applyCombination(ut,arguments)},complement:function(){return this._applyCombination(G,arguments)},monochromatic:function(){return this._applyCombination($,arguments)},splitcomplement:function(){return this._applyCombination(J,arguments)},triad:function(){return this._applyCombination(U,arguments)},tetrad:function(){return this._applyCombination(H,arguments)}},f.fromRatio=function(V,Z){if(typeof V=="object"){var W={};for(var rt in V)V.hasOwnProperty(rt)&&(W[rt]=rt==="a"?V[rt]:vt(V[rt]));V=W}return f(V,Z)},f.equals=function(V,Z){return!(!V||!Z)&&f(V).toRgbString()==f(Z).toRgbString()},f.random=function(){return f.fromRatio({r:v(),g:v(),b:v()})},f.mix=function(V,Z,W){W=W===0?0:W||50;var rt=f(V).toRgb(),tt=f(Z).toRgb(),Q=W/100;return f({r:(tt.r-rt.r)*Q+rt.r,g:(tt.g-rt.g)*Q+rt.g,b:(tt.b-rt.b)*Q+rt.b,a:(tt.a-rt.a)*Q+rt.a})},f.readability=function(V,Z){var W=f(V),rt=f(Z);return(o.max(W.getLuminance(),rt.getLuminance())+.05)/(o.min(W.getLuminance(),rt.getLuminance())+.05)},f.isReadable=function(V,Z,W){var rt,tt,Q=f.readability(V,Z);switch(tt=!1,(rt=function(ft){var Et,Ct;return Et=((ft=ft||{level:"AA",size:"small"}).level||"AA").toUpperCase(),Ct=(ft.size||"small").toLowerCase(),Et!=="AA"&&Et!=="AAA"&&(Et="AA"),Ct!=="small"&&Ct!=="large"&&(Ct="small"),{level:Et,size:Ct}}(W)).level+rt.size){case"AAsmall":case"AAAlarge":tt=Q>=4.5;break;case"AAlarge":tt=Q>=3;break;case"AAAsmall":tt=Q>=7}return tt},f.mostReadable=function(V,Z,W){var rt,tt,Q,ft,Et=null,Ct=0;tt=(W=W||{}).includeFallbackColors,Q=W.level,ft=W.size;for(var Nt=0;Nt<Z.length;Nt++)(rt=f.readability(V,Z[Nt]))>Ct&&(Ct=rt,Et=f(Z[Nt]));return f.isReadable(V,Et,{level:Q,size:ft})||!tt?Et:(W.includeFallbackColors=!1,f.mostReadable(V,["#fff","#000"],W))};var K=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ot=f.hexNames=function(V){var Z={};for(var W in V)V.hasOwnProperty(W)&&(Z[V[W]]=W);return Z}(K);function at(V){return V=parseFloat(V),(isNaN(V)||V<0||V>1)&&(V=1),V}function ht(V,Z){(function(rt){return typeof rt=="string"&&rt.indexOf(".")!=-1&&parseFloat(rt)===1})(V)&&(V="100%");var W=function(rt){return typeof rt=="string"&&rt.indexOf("%")!=-1}(V);return V=c(Z,h(0,parseFloat(V))),W&&(V=parseInt(V*Z,10)/100),o.abs(V-Z)<1e-6?1:V%Z/parseFloat(Z)}function St(V){return c(1,h(0,V))}function pt(V){return parseInt(V,16)}function xt(V){return V.length==1?"0"+V:""+V}function vt(V){return V<=1&&(V=100*V+"%"),V}function gt(V){return o.round(255*parseFloat(V)).toString(16)}function _t(V){return pt(V)/255}var Bt,At,It,lt=(At="[\\s|\\(]+("+(Bt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Bt+")[,|\\s]+("+Bt+")\\s*\\)?",It="[\\s|\\(]+("+Bt+")[,|\\s]+("+Bt+")[,|\\s]+("+Bt+")[,|\\s]+("+Bt+")\\s*\\)?",{CSS_UNIT:new RegExp(Bt),rgb:new RegExp("rgb"+At),rgba:new RegExp("rgba"+It),hsl:new RegExp("hsl"+At),hsla:new RegExp("hsla"+It),hsv:new RegExp("hsv"+At),hsva:new RegExp("hsva"+It),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function X(V){return!!lt.CSS_UNIT.exec(V)}d.exports?d.exports=f:(n=function(){return f}.call(y,p,y,d))===void 0||(d.exports=n)})(Math)},function(d,y,p){var n=p(18);function o(r){var i=r.getCurrentPage();this.matrixCache=i.getMatrix().slice(0),this._zoom(r),i.updateStatus()}function u(r){r.getCurrentPage().updateMatrix(this.matrixCache)}n.registerCommand("zoomTo",{_zoom:function(r){r.getCurrentPage().zoom(Number(this.zoom))},queue:!1,execute:o,back:u}),n.registerCommand("zoomIn",{enable:function(r){var i=r.getCurrentPage(),a=i.getMaxZoom(),c=i.getMinZoom(),h=i.getZoom();return h<a||h===c},_zoom:function(r){var i=r.getCurrentPage(),a=r.get("_command"),c=i.getZoom(),h=i.getMaxZoom(),v=c+a.zoomDelta;v>=h&&(v=h),i.zoom(v)},queue:!1,execute:o,back:u,shortcutCodes:[["metaKey","="],["ctrlKey","="]]}),n.registerCommand("zoomOut",{enable:function(r){var i=r.getCurrentPage(),a=i.getMaxZoom(),c=i.getMinZoom(),h=i.getZoom();return h>c||h===a},_zoom:function(r){var i=r.getCurrentPage(),a=i.getZoom(),c=i.getMinZoom(),h=a-r.get("_command").zoomDelta;h<=c&&(h=c),i.zoom(h)},queue:!1,execute:o,back:u,shortcutCodes:[["metaKey","-"],["ctrlKey","-"]]}),n.registerCommand("autoZoom",{enable:function(){return!0},_zoom:function(r){r.getCurrentPage().autoZoom()},queue:!1,execute:o,back:u}),n.registerCommand("resetZoom",{enable:function(){return!0},_zoom:function(r){r.getCurrentPage().resetZoom()},queue:!1,execute:o,back:u,shortcutCodes:[["metaKey","0"],["ctrlKey","0"]]})},function(d,y,p){var n=p(18);n.registerCommand("collapseExpand",{getItem:function(o){var u=o.getCurrentPage(),r=u.getGraph();return this.itemId?r.find(this.itemId):u.getSelected()[0]},enable:function(o){var u=this.getItem(o);return u&&u.collapseExpand!==!1&&u.getChildren().length>0},execute:function(o){var u=o.getCurrentPage(),r=u.getGraph(),i=this.getItem(o);i.getModel().collapsed?(r.update(i,{collapsed:!1}),i.getInnerEdges&&i.getInnerEdges().forEach(function(a){a.update()}),this.toCollapsed=!1):(r.update(i,{collapsed:!0}),this.toCollapsed=!0),u.clearSelected(),u.setSelected(i,!0),this.executeTimes===1&&(this.itemId=i.id)},back:function(o){var u=o.getCurrentPage(),r=u.getGraph(),i=this.getItem(o);this.toCollapsed?r.update(i,{collapsed:!1}):r.update(i,{collapsed:!0}),u.clearSelected(),u.setSelected(i,!0)},shortcutCodes:[["metaKey","/"],["ctrlKey","/"]]}),n.registerCommand("collapse",{enable:function(o){var u=this.getItem(o);return u&&u.collapseExpand!==!1&&u.getChildren().length>0&&!u.getModel().collapsed}},"collapseExpand"),n.registerCommand("expand",{enable:function(o){var u=this.getItem(o);return u&&u.collapseExpand!==!1&&u.getChildren().length>0&&u.getModel().collapsed}},"collapseExpand")},function(d,y,p){function n(r,i,a){return i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r}var o=p(4),u={INIT:"_initGraph"};u.AUGMENT={_initGraph:function(){var r=this.get("graph"),i=new(this.get("graphConstructor"))(function(a){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{},v=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(h).filter(function(f){return Object.getOwnPropertyDescriptor(h,f).enumerable}))),v.forEach(function(f){n(a,f,h[f])})}return a}({page:this},r));i.draw(),this.set("_graph",i)},changeMode:function(r){this.get("_graph").changeMode(r)},updateMatrix:function(r){this.get("_graph").updateMatrix(r)},getMode:function(){return this.get("_graph").get("mode")},getMatrix:function(){return this.get("_graph").getMatrix()},getZoom:function(){return this.get("_graph").getMatrix()[0]},getMaxZoom:function(){return this.get("_graph").get("maxZoom")},getMinZoom:function(){return this.get("_graph").get("minZoom")},getGraph:function(){return this.get("_graph")},getItems:function(){return this.get("_graph").getItems()},getNodes:function(){return this.get("_graph").getNodes()},translate:function(r,i){return this.get("_graph").translate(r,i)},getEdges:function(){return this.get("_graph").getEdges()},getGroups:function(){return this.get("_graph").getGroups()},render:function(){return this.get("_graph").render(),this},add:function(r,i){return this.get("_graph").add(r,i),this},focusPointByDom:function(r){return this.get("_graph").focusPointByDom(r),this},focusPoint:function(r){return this.get("_graph").focusPoint(r),this},find:function(r){return this.get("_graph").find(r)},focus:function(r){var i=this.get("_graph"),a=i.find(r);if(a){var c=a.getCenter();i.focusPoint(c)}return this},save:function(){return this.get("_graph").save()},read:function(r){this.get("_graph").read(r)},clear:function(){this.get("_graph").clear()},remove:function(r){return this.get("_graph").remove(r),this},update:function(r,i){return this.get("_graph").update(r,i),this},zoom:function(r,i){return this.get("_graph").zoom(r,i),this},getDomPoint:function(r){return this.get("_graph").getDomPoint(r)},getPoint:function(r){return this.get("_graph").getPoint(r)},zoomByDom:function(r,i){var a=this.get("_graph"),c=a.getPoint(r);return a.zoom(c,i),this},autoZoom:function(){return this.get("_graph").autoZoom(),this},resetZoom:function(){var r=this.get("_graph"),i=r.getWidth(),a=r.getHeight();return r.zoomByDom({x:i/2,y:a/2},1),this},css:function(r){var i=this.get("_graph").getMouseEventWrapper();o.modifyCSS(i,r)},setCapture:function(r){this.get("_graph").getRootGroup().set("capture",r)},destroy:function(){this.get("_graph").destroy()},delete:function(){var r=this.getSelected(),i=this.get("_graph");o.each(r,function(a){i.remove(a)})}},d.exports=u},function(d,y,p){function n(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}var o=p(36),u=p(4),r={CFG:{grid:void 0},INIT:"_initGrid"};r.AUGMENT={_initGrid:function(){var i=this.get("grid"),a=this.get("_graph");if(i){var c=new o(function(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){n(h,b,f[b])})}return h}({page:this,graph:a},i));this.setController("grid",c)}},showGrid:function(i){var a=this.get("_graph"),c=this.getController("grid");c||(i?u.isObject(i)&&this.set("grid",i):this.set("grid",!0),this._initGrid()),(c=this.getController("grid")).show(),a.draw()},hideGrid:function(){var i=this.get("_graph"),a=this.getController("grid");a&&a.hide(),i.draw()},getGridCell:function(){return this.getController("grid").getCell()}},d.exports=r},function(d,y,p){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}function o(f,m){for(var b=0;b<m.length;b++){var M=m[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function u(f,m){return!m||n(m)!=="object"&&typeof m!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(f):m}function r(f){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(f)}function i(f,m){return(i=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(f,m)}var a=p(9),c=p(14),h=p(4),v=function(f){function m(){return function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}(this,m),u(this,r(m).apply(this,arguments))}var b,M,O;return function(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),A&&i(E,A)}(m,a),b=m,(M=[{key:"getDefaultCfg",value:function(){return{cell:16,line:c.gridStyle,type:"point",visible:!0}}},{key:"init",value:function(){this._draw(),this._onViewPortChange(),!this.visible&&this.hide()}},{key:"_onViewPortChange",value:function(){var E=this,A=this.graph;A.on("afterviewportchange",function(){E.update()}),A.on("beforechangesize",function(){E.update()})}},{key:"_draw",value:function(){var E=this.graph,A=this._getPath(),j=E.getRootGroup(),B=h.mix({},this.line),D=E.getMatrix(),T=this.type,Y=T==="line"?1/D[0]:2/D[0];T==="point"&&(B.lineDash=null),B.lineWidth=Y,B.path=A;var G=j.addShape("path",{attrs:B,capture:!1,zIndex:0});h.toBack(G,j),this.gridEl=G}},{key:"show",value:function(){this.gridEl.show(),this.visible=!0}},{key:"hide",value:function(){this.gridEl.hide(),this.visible=!1}},{key:"_getLinePath",value:function(){for(var E=this.graph,A=E.get("width"),j=E.get("height"),B=E.getPoint({x:0,y:0}),D=E.getPoint({x:A,y:j}),T=this.cell,Y=Math.ceil(B.x/T)*T,G=Math.ceil(B.y/T)*T,U=[],H=0;H<=D.x-B.x;H+=T){var J=Y+H;U.push(["M",J,B.y]),U.push(["L",J,D.y])}for(var ut=0;ut<=D.y-B.y;ut+=T){var $=G+ut;U.push(["M",B.x,$]),U.push(["L",D.x,$])}return U}},{key:"_getPointPath",value:function(){for(var E=this.graph,A=E.get("width"),j=E.get("height"),B=E.getPoint({x:0,y:0}),D=2/E.getMatrix()[0],T=E.getPoint({x:A,y:j}),Y=this.getCell(),G=Math.ceil(B.x/Y)*Y,U=Math.ceil(B.y/Y)*Y,H=[],J=0;J<=T.x-B.x;J+=Y)for(var ut=G+J,$=0;$<=T.y-B.y;$+=Y){var K=U+$;H.push(["M",ut,K]),H.push(["L",ut+D,K])}return H}},{key:"getCell",value:function(){var E=this.cell,A=this.graph.getMatrix()[0];return E*A<9.6?9.6/A:E}},{key:"_getPath",value:function(){var E=this.type;return this["_get"+h.upperFirst(E)+"Path"]()}},{key:"update",value:function(E){h.mix(this,E);var A=this._getPath(),j=this.gridEl,B=this.graph.getMatrix(),D=this.type==="line"?1/B[0]:2/B[0];j.attr("lineWidth",D),j.attr("path",A)}},{key:"destroy",value:function(){var E=this.gridEl;E&&E.remove()}}])&&o(b.prototype,M),O&&o(b,O),m}();d.exports=v},function(d,y){var p={};function n(o,u,r){o.on(r,function(i){u.emit(r,i)}),o.on("node:"+r,function(i){u.emit("node:"+r,i)}),o.on("edge:"+r,function(i){u.emit("edge:"+r,i)}),o.on("group:"+r,function(i){u.emit("group:"+r,i)}),o.on("anchor:"+r,function(i){u.emit("anchor:"+r,i)})}p.INIT="_initEvent",p.AUGMENT={_initEvent:function(){var o=this,u=this.get("_graph");n(u,this,"click"),n(u,this,"dblclick"),n(u,this,"mouseenter"),n(u,this,"mouseleave"),n(u,this,"mousedown"),n(u,this,"mouseup"),n(u,this,"contextmenu"),u.on("keydown",function(r){o.emit("keydown",r)}),u.on("keyup",function(r){o.emit("keyup",r)}),u.on("beforechange",function(r){o.emit("beforechange",r)}),u.on("afterchange",function(r){o.emit("afterchange",r)}),u.on("afterviewportchange",function(r){o.emit("afterviewportchange",r),r.updateMatrix[0]!==r.originMatrix[0]&&o.emit("afterzoom",r)}),u.on("beforeviewportchange",function(r){o.emit("beforeviewportchange",r),r.updateMatrix[0]!==r.originMatrix[0]&&o.emit("beforezoom",r)})}},d.exports=p},function(d,y,p){var n=p(4),o={CFG:{selectable:!0,multiSelectable:!0,_selectedCache:{}},INIT:"_initSelected"};o.AUGMENT={_initSelected:function(){var u=this,r=this.get("_graph");r.on("afteritemdraw",function(i){var a=i.item;a.isSelected&&u.setItemSelected(a)}),r.on("beforeitemdestroy",function(i){u.clearItemSelected(i.item)})},setItemSelected:function(u){var r=this.get("_graph").getShapeObj(u).getSelectedStyle(u),i=u.getKeyShape();this.get("_selectedCache")[u.id]=u,r&&i.attr(r),u.isEdge&&(u.startArrow&&u.startArrow.attr({fill:r.stroke}),u.endArrow&&u.endArrow.attr({fill:r.stroke}))},clearItemSelected:function(u){var r=this.get("_graph"),i=u.getKeyShape(),a=r.getShapeObj(u),c=a.getStyle(u),h=a.getSelectedStyle(u),v=this.get("_selectedCache"),f=n.getContrast(c,h);i.attr(f),u.isEdge&&(u.startArrow&&u.startArrow.attr({fill:f.stroke}),u.endArrow&&u.endArrow.attr({fill:f.stroke})),delete v[u.id]},setSelected:function(u,r){var i,a=this,c=this.get("selectable"),h=this.get("_graph");c&&(i=n.isArray(u)?u:[u],n.each(i,function(v){n.isString(v)&&(v=h.find(v)),v&&!v.destroyed&&(r?(a.emit("beforeitemselected",{item:v}),a.setItemSelected(v),a.emit("afteritemselected",{item:v})):(a.emit("beforeitemunselected",{item:v}),a.clearItemSelected(v),a.emit("afteritemunselected",{item:v})),v.isSelected=r,a.updateStatus(),h.draw())}))},getSelected:function(){var u=this.get("_selectedCache");return n.objectToValues(u)},clearSelected:function(){var u=this,r=this.get("_graph"),i=this.get("_selectedCache");n.each(i,function(a){a.isSelected&&u.setSelected(a,!1)}),r.draw()}},d.exports=o},function(d,y,p){var n=p(4),o={CFG:{activeable:!0,_activedCache:{}},INIT:"_initActived"};o.AUGMENT={_initActived:function(){var u=this,r=this.get("_graph");r.on("afteritemdraw",function(i){var a=i.item;a.isActived&&u.setItemActived(a)}),r.on("beforeitemdestroy",function(i){u.clearItemActived(i.item)})},setItemActived:function(u){var r=this.get("_graph").getShapeObj(u),i=this.get("_activedCache"),a=r.getActivedStyle(u),c=u.getKeyShape();i[u.id]=u,a&&c.attr(a),u.isEdge&&(u.startArrow&&u.startArrow.attr({fill:a.stroke}),u.endArrow&&u.endArrow.attr({fill:a.stroke}))},clearItemActived:function(u){var r=this.get("_graph"),i=u.getKeyShape(),a=r.getShapeObj(u),c=a.getStyle(u),h=this.get("_activedCache"),v=a.getActivedStyle(u),f=n.getContrast(c,v);i.attr(f),u.isEdge&&(u.startArrow&&u.startArrow.attr({fill:f.stroke}),u.endArrow&&u.endArrow.attr({fill:f.stroke})),delete h[u.id]},setActived:function(u,r){var i,a=this,c=this.get("activeable"),h=this.get("_graph");c&&(i=n.isArray(u)?u:[u],n.each(i,function(v){n.isString(v)&&(v=h.find(v)),v&&!v.destroyed&&(r?(a.emit("beforeitemactived",{item:v}),a.setItemActived(v),a.emit("afteritemactived",{item:v})):(a.emit("beforeitemunactived",{item:v}),a.clearItemActived(v),a.emit("afteritemunactived",{item:v})),v.isActived=r)}),h.draw())},getActived:function(){var u=this.get("_activedCache");return n.objectToValues(u)},clearActived:function(){var u=this,r=this.get("_graph"),i=this.get("_activedCache");n.each(i,function(a){a.isActived&&u.setActived(a,!1)}),r.draw()}},d.exports=o},function(d,y,p){function n(r,i,a){return i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r}var o=p(41),u={CFG:{align:{}},INIT:"_initAlign"};u.AUGMENT={_initAlign:function(){var r=this.get("align"),i=this.get("_graph"),a=new o(function(c){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{},f=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(v).filter(function(m){return Object.getOwnPropertyDescriptor(v,m).enumerable}))),f.forEach(function(m){n(c,m,v[m])})}return c}({flow:this,graph:i},r));this.setController("align",a)},align:function(r,i,a){return this.getController("align").align(r,i,a)},clearAlignLine:function(){return this.getController("align").clearAlignLine()}},d.exports=u},function(d,y,p){function n(m){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}function o(m,b){for(var M=0;M<b.length;M++){var O=b[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function u(m,b){return!b||n(b)!=="object"&&typeof b!="function"?function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(m):b}function r(m){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(m)}function i(m,b){return(i=Object.setPrototypeOf||function(M,O){return M.__proto__=O,M})(m,b)}var a=p(9),c=p(14),h=p(4);function v(m,b){return{line:m,point:b,dis:h.pointLineDistance(m[0],m[1],m[2],m[3],b.x,b.y)}}var f=function(m){function b(){return function(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")}(this,b),u(this,r(b).apply(this,arguments))}var M,O,E;return function(A,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(j&&j.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),j&&i(A,j)}(b,a),M=b,(O=[{key:"getDefaultCfg",value:function(){return{line:c.alignLineStyle,item:!0,grid:!1,tolerance:5,_horizontalLines:{},_verticalLines:{},_alignLines:[]}}},{key:"init",value:function(){this.item&&this._cacheBoxLine()}},{key:"_cacheBoxLine",value:function(){var A=this.graph,j=this._horizontalLines,B=this._verticalLines,D=this.item;A.on("afteritemdraw",function(T){var Y=T.item;if(!h.isEdge(Y)){var G=Y.getBBox();D===!0||D==="horizontal"?(j[Y.id+"tltr"]=[G.minX,G.minY,G.maxX,G.minY,Y],j[Y.id+"lcrc"]=[G.minX,G.centerY,G.maxX,G.centerY,Y],j[Y.id+"blbr"]=[G.minX,G.maxY,G.maxX,G.maxY,Y]):D==="center"&&(j[Y.id+"lcrc"]=[G.minX,G.centerY,G.maxX,G.centerY,Y]),D===!0||D==="vertical"?(B[Y.id+"tlbl"]=[G.minX,G.minY,G.minX,G.maxY,Y],B[Y.id+"tcbc"]=[G.centerX,G.minY,G.centerX,G.maxY,Y],B[Y.id+"trbr"]=[G.maxX,G.minY,G.maxX,G.maxY,Y]):D==="center"&&(B[Y.id+"tcbc"]=[G.centerX,G.minY,G.centerX,G.maxY,Y])}}),A.on("beforeitemdestroy",function(T){var Y=T.item;delete j[Y.id+"tltr"],delete j[Y.id+"lcrc"],delete j[Y.id+"blbr"],delete B[Y.id+"tlbl"],delete B[Y.id+"tcbc"],delete B[Y.id+"trbr"]})}},{key:"align",value:function(A,j){var B=h.mix({},A),D=this.flow.getController("grid");return this.grid&&D&&D.visible&&this._gridAlign(A,j),this.item&&this._itemAlign(A,j,B),A}},{key:"_gridAlign",value:function(A,j){var B=this.flow,D=this.grid,T=B.getGridCell();if(D==="cc"){var Y=Math.round((A.x+j.width/2)/T)*T,G=Math.round((A.y+j.height/2)/T)*T;A.x=Y-j.width/2,A.y=G-j.height/2}else A.x=Math.round(A.x/T)*T,A.y=Math.round(A.y/T)*T}},{key:"_itemAlign",value:function(A,j,B){var D=this._horizontalLines,T=this._verticalLines,Y=this.tolerance,G={x:B.x+j.width/2,y:B.y},U={x:B.x+j.width/2,y:B.y+j.height/2},H={x:B.x+j.width/2,y:B.y+j.height},J={x:B.x,y:B.y+j.height/2},ut={x:B.x+j.width,y:B.y+j.height/2},$=[],K=[],ot=null;if(this.clearAlignLine(),h.each(D,function(St){St[4].isVisible()&&($.push(v(St,G)),$.push(v(St,U)),$.push(v(St,H)))}),h.each(T,function(St){St[4].isVisible()&&(K.push(v(St,J)),K.push(v(St,U)),K.push(v(St,ut)))}),$.sort(function(St,pt){return St.dis-pt.dis}),K.sort(function(St,pt){return St.dis-pt.dis}),$.length!==0&&$[0].dis<Y){A.y=$[0].line[1]-$[0].point.y+B.y,ot={type:"item",horizontals:[$[0]]};for(var at=1;at<3;at++)$[0].dis===$[at].dis&&ot.horizontals.push($[at])}if(K.length!==0&&K[0].dis<Y){A.x=K[0].line[0]-K[0].point.x+B.x,ot?ot.verticals=[K[0]]:ot={type:"item",verticals:[K[0]]};for(var ht=1;ht<3;ht++)K[0].dis===K[ht].dis&&ot.verticals.push(K[ht])}ot&&(ot.bbox=j,this._addAlignLine(ot))}},{key:"clearAlignLine",value:function(){var A=this._alignLines;h.each(A,function(j){j.remove()}),this._alignLines=[]}},{key:"_addAlignLine",value:function(A){var j=A.bbox,B=this.graph.getRootGroup(),D=this.line,T=this._alignLines;A.type==="item"&&(A.horizontals&&h.each(A.horizontals,function(Y){var G,U,H=Y.line,J=Y.point,ut=(H[0]+H[2])/2;J.x<ut?(G=J.x-j.width/2,U=Math.max(H[0],H[2])):(G=J.x+j.width/2,U=Math.min(H[0],H[2]));var $=B.addShape("line",{attrs:h.mix({x1:G,y1:H[1],x2:U,y2:H[1]},D),capture:!1});T.push($)}),A.verticals&&h.each(A.verticals,function(Y){var G,U,H=Y.line,J=Y.point,ut=(H[1]+H[3])/2;J.y<ut?(G=J.y-j.height/2,U=Math.max(H[1],H[3])):(G=J.y+j.height/2,U=Math.min(H[1],H[3]));var $=B.addShape("line",{attrs:h.mix({x1:H[0],y1:G,x2:H[0],y2:U},D),capture:!1});T.push($)}))}}])&&o(M.prototype,O),E&&o(M,E),b}();d.exports=f},function(d,y,p){var n=p(4),o={CFG:{labelEditable:!1},INIT:"_initLabelEditor"};o.AUGMENT={_initLabelEditor:function(){var u=this;if(this.get("labelEditable")){var r=this.getGraph(),i=n.createDOM('<div contenteditable="true" role="textbox" tabindex="1" class="g6-label-editor"></div>',{position:"absolute",visibility:"hidden","z-index":"2",padding:"0px 2px 0px 0px",resize:"none",width:"auto",height:"auto",outline:"none",border:"1px solid #1890FF","transform-origin":"left top","max-width":"320px",background:"white","box-sizing":"content-box"});r.getGraphContainer().appendChild(i),i.on("blur",function(a){a.stopPropagation(),!r.destroyed&&u.endEditLabel()}),i.on("keydown",function(a){a.stopPropagation();var c=n.getKeyboradKey(a);(a.metaKey&&c==="s"||a.ctrlKey&&c==="s")&&a.preventDefault(),c!=="Enter"&&c!=="Escape"||u.endEditLabel()}),this.set("labelTextArea",i),r.on("beforeviewportchange",function(){i.focusItem&&u.setLabelEditorBeginPosition(i.focusItem)})}},_getLabelTextAreaBox:function(u,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0,0];r&&u.attr("text",r);var a=this.getGraph().getRootGroup(),c=n.getBBox(u,a);return{minX:c.minX-i[1],minY:c.minY-i[0],maxX:c.maxX+i[1],maxY:c.maxY+i[0]}},setLabelEditorBeginPosition:function(u){var r=this.get("labelTextArea"),i=u.getLabel();if(i){var a=this._getLabelTextAreaBox(i),c=i.attr("lineHeight"),h=i.attr("fontSize"),v={x:a.minX,y:a.minY-c/4+h/4-1,width:a.maxX-a.minX,height:a.maxY-a.minY};r.css({top:v.y+"px",left:v.x+"px"}),r.labelPoint=v}else{var f=this.getGraph().getRootGroup(),m=u.getKeyShape(),b=n.getBBox(m,f),M={x:b.minY+(b.maxY-b.minY-r.height())/2,y:(b.minX+b.maxX)/2};r.css({top:M.x+"px",left:M.y+"px"}),r.labelPoint=M}},beginEditLabel:function(u){var r=this.get("labelTextArea"),i=this.getGraph();if(n.isString(u)&&(u=i.find(u)),u&&!u.destroyed&&r){this.setSignal("preventWheelPan",!0);var a=u.getModel(),c=u.getLabel(),h=i.getZoom();if(r.focusItem=u,c){var v=c.attr("lineHeight"),f=this._getLabelTextAreaBox(c),m=(f.maxX-f.minX)/h,b=(f.maxY-f.minY+v/4)/h;r.innerHTML=a.label,r.innerHTML=a.label,r.css({"min-width":m+"px","min-height":b+"px",visibility:"visible","font-family":c.attr("fontFamily"),"line-height":v+"px","font-size":c.attr("fontSize")+"px",transform:"scale("+h+")"})}else r.innerHTML="",r.css({"min-width":"auto","min-height":"auto"});this.setLabelEditorBeginPosition(u),r.css({visibility:"visible"}),r.focus(),document.execCommand("selectAll",!1,null)}},endEditLabel:function(){var u=this.get("labelTextArea");if(this.setSignal("preventWheelPan",!1),u){var r=u.focusItem;if(r){var i=r.getModel(),a=this.editor;i.label!==u.textContent&&a.executeCommand("update",{action:"updateLabel",itemId:r.id,updateModel:{label:u.textContent}}),u.hide(),u.focusItem=void 0,this.focusGraphWrapper()}}}},d.exports=o},function(d,y){var p={AUGMENT:{updateStatus:function(){var n,o=this.getSelected();o.length===0?n="canvas-selected":o.length===1?o[0].isNode?n="node-selected":o[0].isEdge?n="edge-selected":o[0].isGroup&&(n="group-selected"):n="multi-selected",this.emit("statuschange",{status:n})}}};d.exports=p},function(d,y,p){p(45),p(46),p(47),p(48),p(49),p(50),p(51),p(52),p(53),p(54),p(55),p(56),p(57),p(58),p(59),p(60),p(61),p(62)},function(d,y,p){var n=p(3),o=p(4);n.registerBehaviour("panBlank",o.getPanCanvasBehaviour(!0))},function(d,y,p){p(3).registerBehaviour("hoverButton",function(n){n.getGraph().behaviourOn("mouseenter",function(o){n.getSignal("panningItem")||o.shape&&o.shape.isButton&&n.css({cursor:"pointer"})})})},function(d,y,p){var n=p(3),o=p(4);n.registerBehaviour("panCanvas",o.getPanCanvasBehaviour())},function(d,y,p){var n=p(3),o=p(14),u=p(4);n.registerBehaviour("wheelChangeViewport",function(r){var i,a=r.getGraph();a.behaviourOn("wheel",function(c){c.domEvent.preventDefault()}),a.behaviourOn("wheel",u.throttle(function(c){if(!r.getSignal("preventWheelPan")){var h=c.domEvent,v=r.getSignal("wheelZoom");if(i||r.setCapture(!1),v){var f=h.wheelDelta;if(Math.abs(f)>10){var m=a.getMatrix()[0];f>0?a.zoom({x:c.x,y:c.y},1.05*m):a.zoom({x:c.x,y:c.y},m*(1/1.05))}}else{var b=[],M=a.getMatrix();u.mat3.translate(b,M,[h.wheelDeltaX*o.wheelPanRatio,h.wheelDeltaY*o.wheelPanRatio]),r.translateLimt(b)&&a.updateMatrix(b)}i&&clearTimeout(i),i=setTimeout(function(){r.setCapture(!0),i=void 0},50)}},16))})},function(d,y,p){p(3).registerBehaviour("processPanItem",function(n){var o=n.getGraph();o.behaviourOn("mousemove",function(u){var r=n.get("panItemDelegation");if(r){var i=n.get("panItemStartPoint"),a=n.get("panItemStartBox"),c=u.x-i.x,h=u.y-i.y,v=n.align({x:a.minX+c,y:a.minY+h},{width:a.width,height:a.height});r.attr({x:v.x,y:v.y}),o.emit("itempanning",u),o.draw()}})})},function(d,y,p){p(3).registerBehaviour("startPanItem",function(n){var o=n.getGraph(),u=o.getRootGroup();o.behaviourOn("dragstart",function(r){if(r.button!==2&&r.item&&(r.item.isNode||r.item.isGroup)){var i,a=r.item;if((i=(i=a.isSelected?n.getSelected():[a]).filter(function(v){return v.isNode||v.isGroup}))[0]&&i[0].dragable!==!1){o.emit("beforepanitem",{items:i}),o.emit("beforeshowdelegation",{items:i});var c=n.getDelegation(i,u),h=c.getBBox();n.setSignal("panningItem",!0),n.set("panItems",i),n.set("panItemDelegation",c),n.set("panItemStartBox",h),n.set("panItemStartPoint",{x:r.x,y:r.y}),o.draw()}}})})},function(d,y,p){p(3).registerBehaviour("endPanItem",function(n){var o=n.getGraph();o.behaviourOn("panitemend",function(){var u=n.get("panItemDelegation");u&&(u.remove(),o.draw()),n.setSignal("panningItem",!1),n.set("panItemDelegation",void 0),n.set("panItemStartPoint",void 0),n.set("panItemStartBox",void 0),n.set("panItems",void 0)}),o.behaviourOn("canvas:mouseleave",function(){n.get("panItems")&&(n.clearAlignLine(),o.emit("panitemend"))})})},function(d,y,p){p(3).registerBehaviour("dblclickItemEditLabel",function(n){n.getGraph().behaviourOn("node:dblclick",function(o){o.shape&&!o.shape.isButton&&n.beginEditLabel(o.item)})})},function(d,y,p){p(3).registerBehaviour("clickCanvasSelected",function(n){var o=n.getGraph();o.behaviourOn("click",function(u){u.shape||(n.clearSelected(),n.clearActived(),n.updateStatus())}),o.behaviourOn("contextmenu",function(u){u.shape||(n.clearSelected(),n.clearActived(),n.updateStatus())})})},function(d,y,p){p(3).registerBehaviour("clickCollapsedButton",function(n){var o=n.getGraph();o.behaviourOn("click",function(u){var r=u.item,i=u.shape;if(r&&i&&i.isCollapsedButton){var a=n.editor;a?a.executeCommand("collapseExpand",{itemId:r.id}):o.update(r,{collapsed:!0})}})})},function(d,y,p){p(3).registerBehaviour("clickEdgeSelected",function(n){n.getGraph().behaviourOn("edge:click",function(o){n.get("multiSelectable")&&n.getSignal("shiftKeyDown")===!0||(n.clearActived(),n.clearSelected()),n.setSelected(o.item.id,!0)})})},function(d,y,p){p(3).registerBehaviour("clickExpandedButton",function(n){var o=n.getGraph();o.behaviourOn("click",function(u){var r=u.item,i=u.shape;if(r&&i&&i.isExpandedButton){var a=n.editor;a?a.executeCommand("collapseExpand",{itemId:r.id}):o.update(r,{collapsed:!1})}})})},function(d,y,p){p(3).registerBehaviour("clickGroupSelected",function(n){n.getGraph().behaviourOn("group:click",function(o){n.get("multiSelectable")&&n.getSignal("shiftKeyDown")===!0||(n.clearActived(),n.clearSelected()),n.setSelected(o.item.id,!0)})})},function(d,y,p){p(3).registerBehaviour("clickNodeSelected",function(n){n.getGraph().behaviourOn("node:click",function(o){n.get("multiSelectable")&&n.getSignal("shiftKeyDown")===!0||(n.clearActived(),n.clearSelected()),n.setSelected(o.item.id,!0)})})},function(d,y,p){p(3).registerBehaviour("hoverNodeActived",function(n){var o,u=n.getGraph();u.behaviourOn("node:mouseenter",function(r){r.item.getShapeObj().panAble!==!1&&n.css({cursor:"move"}),n.getSignal("panningItem")||n.getSignal("dragEdge")||r.item&&r.item.isSelected||(o=r.item,n.setActived(o,!0))}),u.behaviourOn("node:mouseleave",function(r){var i=r.toShape;o&&(i&&i.isAnchor&&i.getItem()===o||n.getSignal("dragEdge")||(o.isSelected||n.setActived(o,!1),o=void 0))})})},function(d,y,p){p(3).registerBehaviour("hoverGroupActived",function(n){var o=n.getGraph();o.behaviourOn("mouseenter",function(u){n.getSignal("panningItem")||u.item&&u.item.isSelected||n.getSignal("dragEdge")||u.shape&&u.shape.isGroupKeyShape&&(n.css({cursor:"move"}),n.setActived(u.item,!0))}),o.behaviourOn("group:mouseleave",function(u){u.item.isActived&&!u.item.isSelected&&n.setActived(u.item,!1)})})},function(d,y,p){p(3).registerBehaviour("hoverEdgeActived",function(n){var o=n.getGraph();o.behaviourOn("edge:mouseenter",function(u){n.getSignal("panningItem")||u.item&&u.item.isSelected||n.getSignal("dragEdge")||n.setActived(u.item,!0)}),o.behaviourOn("edge:mouseleave",function(u){n.setActived(u.item,!1)})})},function(d,y,p){p(3).registerBehaviour("keydownCmdWheelZoom",function(n){var o=n.getGraph();o.behaviourOn("keydown",function(u){u.domEvent.keyCode===91&&n.setSignal("wheelZoom",!0)}),o.behaviourOn("keyup",function(u){u.domEvent.keyCode===91&&n.setSignal("wheelZoom",!1)})})},function(d,y,p){var n=p(22);d.exports={dragingEdgeEndPoint:function(o){var u=o.endPointType,r=o.edgeModel,i=o.graph,a=o.delegation,c=o.startPoint,h=o.ev,v=o.source,f=o.target,m=h.item,b=u==="source"?[h,c]:[c,h];m&&(u==="source"?f=m:v=m);var M=i.getShapeObj("edge",r).getPathByPoints({points:b,source:v,target:f});a.attr("path",M),i.draw()},panGroup:function(o,u,r,i){var a=o.getModel();n.traverseTree(o,function(c){if(c.type==="node"){var h=c.getModel();i.update(c,{x:h.x+u,y:h.y+r})}o.getCrossEdges&&o.getCrossEdges().forEach(function(v){v.update()})},function(c){return c.type==="group"?c.getChildren():[]}),i.update(o,{x:a.x+u,y:a.y+r})},dropUpdateEdge:function(o){var u=o.ev,r=o.endPointType,i=o.model,a=o.diagram,c=a.get("noEndEdge"),h=a.get("linkAnchor"),v=a.get("linkNode"),f=u.item,m=u.shape,b=u.x,M=u.y;if(a.getGraph().emit("beforedropedge"),m){if(h&&m.isAnchor&&m.hasHotspot){var O=m,E=O.getItem();return r==="target"?(i.target=E.id,i.targetAnchor=O.getIndex(),!0):(i.source=E.id,i.sourceAnchor=O.getIndex(),!0)}if(v&&f&&f.isNode)return r==="target"?(i.target=f.id,!0):(i.source=f.id,!0)}else if(c)return r==="target"?(i.target={x:b,y:M},!0):(i.source={x:b,y:M},!0);return!1}}},function(d,y){d.exports={rectRectCrossAlgorithm:function(p,n){var o=Math.max(p.minX,n.minX),u=Math.max(p.minY,n.minY),r=Math.min(p.maxX,n.maxX),i=Math.min(p.maxY,n.maxY);return o>r||u>i},euclideanDistance:{pointPoint:function(p,n){var o=Math.pow(p.x-n.x,2)+Math.pow(p.y-n.y,2);return Math.sqrt(o)}}}},function(d,y,p){var n={},o=p(2);n.AUGMENT={changeAddEdgeModel:function(u){this.set("addEdgeModel",u)},cancelAdd:function(){this.set("addType",void 0),this.set("addModel",void 0),this.changeMode("default")},beginAdd:function(u,r){this.set("addType",u),this.set("addModel",r),this.changeMode("add")},endAdd:function(){this.set("addType",void 0),this.set("addModel",void 0),this.changeMode("default")},delete:function(){var u=this.getSelected(),r=this.get("_graph");o.each(u,function(i){r.remove(i)})},toBack:function(){var u=this.getSelected(),r=this.get("_graph");u.sort(function(i,a){var c=i.getGraphicGroup(),h=a.getGraphicGroup();return o.getIndex(h)-o.getIndex(c)}),u.forEach(function(i){r.toBack(i)})},toFront:function(){var u=this.getSelected(),r=this.get("_graph");u.sort(function(i,a){var c=i.getGraphicGroup(),h=a.getGraphicGroup();return o.getIndex(c)-o.getIndex(h)}),u.forEach(function(i){r.toFront(i)})},addGroup:function(u){var r,i=this.get("_graph"),a=this.getSelected(),c=!0;if(a.length!==0){u||(u={label:"\u65B0\u5EFA\u5206\u7EC4"}),o.setId(u),i.add("group",u),i.toFront(u.id);var h=i.find(u.id);if(a.forEach(function(f){var m=f.getParent();m&&(r?r!==m&&(c=!1):r=m)}),c){r&&(u.parent=r.getModel().id),a.forEach(function(f){i.update(f,{parent:u.id})});var v=h.getInnerEdges();h.deepEach(function(f){i.toFront(f)}),v.forEach(function(f){i.toFront(f)})}else console.warn("add group elements must have the same parent")}},unGroup:function(){var u=this.get("_graph"),r=this.getSelected(),i=r[0];r.length===1&&o.isGroup(i)&&(i.getChildren().forEach(function(a){u.update(a,{parent:void 0}),a.collapsedParent||a.show(),a.isGroup&&a.deepEach(function(c){c.collapsedParent||c.show()})}),u.remove(i))},newGroup:function(u){this.addGroup(u)}},d.exports=n},function(d,y,p){function n(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}var o=p(67),u=p(2),r={CFG:{anchor:{}},INIT:"_initAnchor"};r.AUGMENT={_initAnchor:function(){var i=this.get("anchor"),a=this.get("_graph");if(i){var c=new o(function(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){n(h,b,f[b])})}return h}({diagram:this,graph:a},i));this.setController("anchor",c)}},showAnchor:function(i,a,c){this.getController("anchor").showAnchor(i,a,c)},clearAnchor:function(i){this.getController("anchor").clearAnchor(i)},setHotspotActived:function(i,a){this.getController("anchor").setHotspotActived(i,a)},hoverShowAnchor:function(i){var a=this,c=i.getAnchorPoints(),h=[];c.forEach(function(v,f){var m={anchor:v,item:i};a.emit("hovernode:beforeshowanchor",m),m.cancel||h.push(f)}),this.showAnchor(i,h)},anchorHasBeenLinked:function(i,a){var c=i.getEdges(),h=[];return c.forEach(function(v){var f=v.getModel();f.source!==i.id||u.isNil(f.sourceAnchor)||h.push(f.sourceAnchor),f.target!==i.id||u.isNil(f.targetAnchor)||h.push(f.targetAnchor)}),u.isObject(a)?h.indexOf(a.index)!==-1:h.indexOf(a)!==-1},dragEdgeBeforeShowAnchor:function(i,a,c){var h=this;this.getGraph().getNodes().forEach(function(v){var f,m=[],b=v.getAnchorPoints();if(i.isNode){var M=i.getAnchorPoints();b.forEach(function(O,E){f=c==="target"?{source:i,sourceAnchor:M[a],target:v,targetAnchor:O,dragEndPointType:c}:{target:i,targetAnchor:M[a],source:v,sourceAnchor:O,dragEndPointType:c},h.emit("dragedge:beforeshowanchor",f),f.cancel||m.push(E)})}else b.forEach(function(O,E){m.push(E)});v===i&&v.isAnchorShow?m.forEach(function(O){var E=v.getAnchor(O);a!==O&&E&&E.showHotspot()}):h.showAnchor(v,m,!0)})}},d.exports=r},function(d,y,p){function n(b){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(b)}function o(b){for(var M=1;M<arguments.length;M++){var O=arguments[M]!=null?arguments[M]:{},E=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(O).filter(function(A){return Object.getOwnPropertyDescriptor(O,A).enumerable}))),E.forEach(function(A){u(b,A,O[A])})}return b}function u(b,M,O){return M in b?Object.defineProperty(b,M,{value:O,enumerable:!0,configurable:!0,writable:!0}):b[M]=O,b}function r(b,M){for(var O=0;O<M.length;O++){var E=M[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}function i(b,M){return!M||n(M)!=="object"&&typeof M!="function"?function(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(b):M}function a(b){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(b)}function c(b,M){return(c=Object.setPrototypeOf||function(O,E){return O.__proto__=E,O})(b,M)}var h=p(9),v=p(5),f=p(2),m=function(b){function M(){return function(j,B){if(!(j instanceof B))throw new TypeError("Cannot call a class as a function")}(this,M),i(this,a(M).apply(this,arguments))}var O,E,A;return function(j,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(B&&B.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),B&&c(j,B)}(M,h),O=M,(E=[{key:"getDefaultCfg",value:function(){return{_anchorItemCache:{}}}},{key:"init",value:function(){var j=this,B=this.graph;B.on("afteritemdraw",function(D){D.item.isAnchorShow&&j.showAnchor(D.item)}),B.on("beforeitemdestroy",function(D){j._clearAnchor(D.item)}),B.on("afteritemhide",function(D){D.item.isNode&&j._clearAnchor(D.item)})}},{key:"_updateAnchor",value:function(j){var B=this.graph;j.anchorShapes.forEach(function(D){D.updatePosition()}),B.draw()}},{key:"_drawAnchor",value:function(j,B,D,T){var Y=j.getAnchorPoints();this._clearAnchor(j),f.each(Y,function(G,U){if(!D||D.indexOf(U)!==-1){var H,J=B.addShape("marker",{attrs:o({symbol:"circle"},v.anchorPointStyle,{x:G.x,y:G.y}),freezePoint:G,item:j,index:U,eventPreFix:"anchor",isItemChange:function(){},zIndex:v.zIndex.anchorPoint});J.toFront(),J.eventPreFix="anchor",J.showHotspot=function(){H=B.addShape("marker",{attrs:o({symbol:"circle"},v.anchorHotsoptStyle,{x:G.x,y:G.y}),freezePoint:G,capture:!1,zIndex:v.zIndex.anchorHotsopt}),j.anchorShapes.push(H),J.hasHotspot=!0,H.toFront(),J.toFront()},J.getIndex=function(){return U},J.getItem=function(){return j},J.getPoint=function(){return G},J.updatePosition=function(){var ut=j.getAnchorPoints()[U];J.attr(ut)},J.setActived=function(){J.attr(v.anchorPointHoverStyle)},J.clearActived=function(){J.attr(v.anchorPointStyle)},J.isAnchor=!0,J.setHotspotActived=function(ut){H&&(ut?H.attr(v.anchorHotsoptActivedStyle):H.attr(v.anchorHotsoptStyle))},T&&J.showHotspot(),j.anchorShapes.push(J),j.getAllAnchors=function(){return j.anchorShapes.filter(function(ut){return ut.isAnchor})},j.getAnchor=function(ut){return j.anchorShapes.find(function($){return $.get("index")===ut})}}})}},{key:"_clearAnchor",value:function(j){j.anchorShapes&&j.anchorShapes.forEach(function(B){B.remove()}),j.anchorShapes=[]}},{key:"setHotspotActived",value:function(j,B){var D=this.diagram.getGraph();j.setHotspotActived(B),D.draw()}},{key:"showAnchor",value:function(j,B,D){if(j.isVisible()){var T=this.graph,Y=this._anchorItemCache,G=T.getRootGroup();this._drawAnchor(j,G,B,D),j.isAnchorShow=!0,Y[j.id]=j}}},{key:"clearAnchor",value:function(j){var B=this,D=this.graph,T=D.get("itemCache"),Y=this._anchorItemCache,G=j;G=f.isObject(j)?[j]:f.isString(j)?[T[j]]:Y,f.each(G,function(U){B._clearAnchor(U),U.isAnchorShow=!1,delete Y[U.id]}),D.draw()}}])&&r(O.prototype,E),A&&r(O,A),M}();d.exports=m},function(d,y,p){function n(r,i,a){return i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r}var o=p(69),u={CFG:{orbit:null},INIT:"_initOrbit"};u.AUGMENT={_initOrbit:function(){var r=this.get("orbit");if(r){var i=new o(function(a){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{},v=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(h).filter(function(f){return Object.getOwnPropertyDescriptor(h,f).enumerable}))),v.forEach(function(f){n(a,f,h[f])})}return a}({diagram:this},r));this.setController("orbit",i)}},showOrbit:function(r){this.getController("orbit").show(r)},hideOrbit:function(){this.getController("orbit").hide()},layoutOrbit:function(r,i){this.getController("orbit").layout(r,i)}},d.exports=u},function(d,y,p){function n(O){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function o(O,E,A){return E in O?Object.defineProperty(O,E,{value:A,enumerable:!0,configurable:!0,writable:!0}):O[E]=A,O}function u(O,E){for(var A=0;A<E.length;A++){var j=E[A];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,j.key,j)}}function r(O,E){return!E||n(E)!=="object"&&typeof E!="function"?function(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}(O):E}function i(O){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function a(O,E){return(a=Object.setPrototypeOf||function(A,j){return A.__proto__=j,A})(O,E)}var c=p(9),h=p(5),v=p(70),f=p(2),m=f.vec2,b=f.isString,M=function(O){function E(){return function(D,T){if(!(D instanceof T))throw new TypeError("Cannot call a class as a function")}(this,E),r(this,i(E).apply(this,arguments))}var A,j,B;return function(D,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(T&&T.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),T&&a(D,T)}(E,c),A=E,(j=[{key:"getDefaultCfg",value:function(){return{satellite:[],satelliteCache:[]}}},{key:"init",value:function(){var D=this,T=this.satellite,Y=this.diagram,G={diagram:Y};Y.getGraph().addBehaviour("orbit"),T.forEach(function(U){b(U)?D.satelliteCache.push(new v[U](G)):D.satelliteCache.push(new v(function(H){for(var J=1;J<arguments.length;J++){var ut=arguments[J]!=null?arguments[J]:{},$=Object.keys(ut);typeof Object.getOwnPropertySymbols=="function"&&($=$.concat(Object.getOwnPropertySymbols(ut).filter(function(K){return Object.getOwnPropertyDescriptor(ut,K).enumerable}))),$.forEach(function(K){o(H,K,ut[K])})}return H}({},G,U)))})}},{key:"layout",value:function(D,T){var Y=this.diagram,G=Y.getGraph(),U=this.satelliteCache,H=D.getBBox(),J=H.centerX,ut=H.centerY,$=Y.getZoom(),K=h.orbitGap/$,ot=U.filter(function(xt){return xt.isVisible()}),at=[T.x-J,T.y-ut],ht=m.length(at),St=H.width/2+K,pt=m.scale([],at,St/ht);ot.forEach(function(xt){var vt=xt.getDOM(),gt=vt.width()/2,_t=G.getDomPoint({x:pt[0]+J,y:pt[1]+ut});vt.css({top:_t.y-gt+"px",left:_t.x-gt+"px"})})}},{key:"show",value:function(D){this.satelliteCache.forEach(function(T){T.enable()&&(T.item=D,T.show())})}},{key:"hide",value:function(){this.satelliteCache.forEach(function(D){D.hide()})}}])&&u(A.prototype,j),B&&u(A,B),E}();d.exports=M},function(d,y,p){var n=p(23);n.forkAndLink=p(71),d.exports=n},function(d,y,p){function n(f){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}function o(f,m,b){return m in f?Object.defineProperty(f,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):f[m]=b,f}function u(f,m){for(var b=0;b<m.length;b++){var M=m[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function r(f,m){return!m||n(m)!=="object"&&typeof m!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(f):m}function i(f){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(f)}function a(f,m){return(a=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(f,m)}var c=p(23),h=p(2),v=function(f){function m(){return function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}(this,m),r(this,i(m).apply(this,arguments))}var b,M,O;return function(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),A&&a(E,A)}(m,c),b=m,(M=[{key:"getDefaultCfg",value:function(){return{name:"forkAndLink",render:function(){return`
          <div style="
            width: 11px;
            height: 11px;
            cursor: copy;
            background-image: url(https://gw.alipayobjects.com/zos/rmsportal/yWAiQOmucbYMCpwkvTBP.svg)
          "></div>
        `},bindEvent:function(E,A){var j=this,B=A.getGraph(),D=B.getRootGroup();return E.setAttribute("draggable","true"),[h.addEventListener(E,"dragstart",function(){var T=j.item,Y=function(H){for(var J=1;J<arguments.length;J++){var ut=arguments[J]!=null?arguments[J]:{},$=Object.keys(ut);typeof Object.getOwnPropertySymbols=="function"&&($=$.concat(Object.getOwnPropertySymbols(ut).filter(function(K){return Object.getOwnPropertyDescriptor(ut,K).enumerable}))),$.forEach(function(K){o(H,K,ut[K])})}return H}({},A.get("addEdgeModel"),{source:T.id}),G=T.getBBox(),U=A.getDelegation([{isEdge:!0}],D);A.setSignal("dragEdge",!0),A.beginAdd("edge",Y),A.set("addEdgeConfig",{addModel:Y,delegation:U,startPoint:{x:G.centerX,y:G.centerY},sourceItem:T}),E.hide()}),h.addEventListener(E,"click",function(T){var Y=T.clientX,G=T.clientY,U=A.editor,H=j.item,J=B.getPointByClient({x:Y,y:G}),ut=H.getBBox(),$=H.getModel(),K=[J.x-ut.centerX,J.y-ut.centerY],ot=h.vec2.length(K);if(h.vec2.scale(K,K,160/ot),U)U.executeCommand("copyAdjacent",{copyNode:H,x:J.x+K[0],y:J.y+K[1]});else{var at=h.clone($);at.x=J.x+K[0],at.y=J.y+K[1],B.add(H.type,at)}})]}}}}])&&u(b.prototype,M),O&&u(b,O),m}();d.exports=v},function(d,y,p){var n=p(2),o=p(5),u={};function r(i){i.controlPointShapes&&n.each(i.controlPointShapes,function(a){a.remove()}),i.controlPointShapes=[],i.isControlPointShow=!1}u.INIT="_initResize",u.CFG={nodeResizeable:!1,edgeResizeable:!0},u.AUGMENT={_initResize:function(){var i=this,a=this.get("_graph"),c=this.get("nodeResizeable"),h=this.get("edgeResizeable");c&&a.on("afteritemdraw",function(v){v.item.type==="node"&&v.item.isVisible()&&i.drawControlPoints(v.item)}),h&&a.on("afteritemdraw",function(v){v.item.type==="edge"&&v.item.isVisible()&&i.drawControlPoints(v.item)}),a.on("afteritemhide",function(v){var f;v.item.isControlPointShow&&((f=v.item).controlPointShapes&&n.each(f.controlPointShapes,function(m){m.hide()}),f.isControlPointShow=!1)}),a.on("afteritemshow",function(v){var f;!v.item.isControlPointShow&&((f=v.item).controlPointShapes&&n.each(f.controlPointShapes,function(m){m.show()}),f.isControlPointShow=!0)}),a.on("beforeitemdestroy",function(v){v.item.isControlPointShow&&r(v.item)})},drawControlPoints:function(i){var a,c,h,v,f,m,b,M,O,E=this.get("_graph").getRootGroup(),A=this.get("nodeResizeable"),j=this.get("edgeResizeable");i.type==="node"?A&&function(B,D){var T=B.getBBox(),Y=[{x:T.minX,y:T.minY},{x:T.maxX,y:T.minY},{x:T.minX,y:T.maxY},{x:T.maxX,y:T.maxY}];r(B);var G=D.addShape("rect",{attrs:n.mix({},o.nodeSelectedBoxStyle,{symbol:"square",x:T.minX,y:T.minY,width:T.maxX-T.minX,height:T.maxY-T.minY})});B.controlPointShapes.push(G),n.each(Y,function(U){var H=D.addShape("marker",{attrs:n.mix({},o.nodeControlPointStyle,{symbol:"square",x:U.x,y:U.y}),freezePoint:{x:U.x,y:U.y},item:B});B.controlPointShapes.push(H)})}(i,E):i.type==="edge"&&j&&(c=E,h=(a=i).getKeyShape().attr("path"),v=h[0],f=v.length,m=h[h.length-1],b=m.length,M=[{x:v[f-2],y:v[f-1]},{x:m[b-2],y:m[b-1]}],O=a.getModel(),r(a),n.each(M,function(B,D){var T=c.addShape("marker",{attrs:n.mix({},o.edgeControlPointStyle,{x:B.x,y:B.y}),freezePoint:{x:B.x,y:B.y},item:a});T.eventPreFix="edgeControlPoint",T.getSourcePoint=function(){return M[0]},T.getTargetPoint=function(){return M[M.length-1]},T.getItem=function(){return a},T.isSourceEndPoint=function(){return O.source&&D===0},T.isTargetEndPoint=function(){return O.target&&D===M.length-1},a.controlPointShapes.push(T)})),i.isControlPointShow=!0}},d.exports=u},function(d,y,p){function n(i){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{},h=Object.keys(c);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(c).filter(function(v){return Object.getOwnPropertyDescriptor(c,v).enumerable}))),h.forEach(function(v){o(i,v,c[v])})}return i}function o(i,a,c){return a in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,i}var u=p(2),r={};r.AUGMENT={addOutterShape:function(i,a){this.clearOutterShape(i);var c=a.lineWidth,h=i.getKeyShape(),v=i.getGraphicGroup(),f=h.attr(),m=h.get("type"),b=h.attr("lineWidth"),M=u.clone(f);delete M.fillStyle,delete M.strokeStyle,delete M.matrix;var O=v.addShape(m,{attrs:n({},M,{fill:null},a)});u.toBack(O,v);var E=O.getBBox(),A=E.maxX-E.minX,j=E.maxY-E.minY,B=(E.minX+E.maxX)/2,D=(E.minY+E.maxY)/2;O.transform([["t",-B,-D],["s",(c+A+b)/A,(c+j+b)/j],["t",B,D]]),O.isOutter=!0,i.outterShape=O},clearOutterShape:function(i){i.outterShape&&i.outterShape.remove()}},d.exports=r},function(d,y){var p={CFG:{linkNode:!0,linkAnchor:!0},INIT:"_initLink",AUGMENT:{_initLink:function(){var n=this,o=this.getGraph(),u=this.get("linkAnchor"),r=this.get("linkNode"),i=o.get("mode");u&&(this.on("beforeitemactived",function(a){var c=a.item;c.isNode&&n.hoverShowAnchor(c)}),this.on("beforeitemunactived",function(a){var c=a.item;(c.isNode||c.isGroup)&&n.clearAnchor(c)}),this.on("beforeitemselected",function(a){var c=a.item;(c.isNode||c.isGroup)&&n.hoverShowAnchor(c)}),this.on("beforeitemunselected",function(a){var c=a.item;(c.isNode||c.isGroup)&&n.clearAnchor(c)}),o.addBehaviour("dragAnchorAddEdge","add"),o.addBehaviour("hoverAnchorActived","default"),o.changeMode(i)),r&&(o.addBehaviour("hoverNodeAddOutter","add"),o.addBehaviour("hoverNodeAddOutter","default"),o.changeMode(i))}}};d.exports=p},function(d,y,p){p(76),p(77),p(78),p(79)},function(d,y,p){function n(a){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{},v=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(h).filter(function(f){return Object.getOwnPropertyDescriptor(h,f).enumerable}))),v.forEach(function(f){o(a,f,h[f])})}return a}function o(a,c,h){return c in a?Object.defineProperty(a,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):a[c]=h,a}var u=p(13),r=p(2),i=p(5);u.registerNode("diagram-base",{getSize:function(a){var c=a.getModel();return r.getNodeSize(c.size)},defaultFillPalette:0,defaultStrokePalette:3,activedFillPalette:0,activedStrokePalette:5,selectedFillPalette:2,selectedStrokePalette:5,getDefaulStyle:function(){return i.nodeStyle},getDefaulActivedStyle:function(){return i.nodeActivedStyle},getDefaulSelectedtyle:function(){return i.nodeSelectedStyle},getStyle:function(a){var c,h,v=a.getModel(),f=v.color;if(f){var m=r.Palettes.generate(f);c=m[this.defaultFillPalette],h=m[this.defaultStrokePalette]}return r.mix(!0,{},this.getDefaulStyle(),{fill:c,stroke:h},v.style)},getPath:function(a){var c=this.getSize(a),h=this.getStyle(a);return r.getRectPath(-c[0]/2,-c[1]/2,c[0],c[1],h.radius)},getActivedOutterStyle:function(){return i.nodeActivedOutterStyle},getActivedStyle:function(a){var c=a.getModel(),h=this.getDefaulActivedStyle(a),v=c.color;if(v){var f=r.Palettes.generate(v);return n({},h,{fill:f[this.activedFillPalette],stroke:f[this.activedStrokePalette]})}return h},getSelectedStyle:function(a){var c=a.getModel(),h=this.getDefaulSelectedtyle(a),v=c.color;if(v){var f=r.Palettes.generate(v);return n({},h,{fill:f[this.selectedFillPalette],stroke:f[this.selectedStrokePalette]})}return h},getSelectedOutterStyle:function(a){var c=a.getModel().color;if(c){var h=r.Palettes.generate(c);return n({},i.nodeSelectedOutterStyle,{stroke:h[1],fill:h[1]})}return i.nodeSelectedOutterStyle},anchor:[[.5,0],[1,.5],[.5,1],[0,.5]]}),u.registerNode("capsule",{getPath:function(a){var c=this.getSize(a);return r.getRectPath(-c[0]/2,-c[1]/2,c[0],c[1],c[1]/2)}}),u.registerNode("circle",{getPath:function(a){var c=this.getSize(a),h=c[0],v=c[1];return r.getEllipsePath(0,0,h/2,v/2)}}),u.registerNode("rhombus",{getPath:function(a){var c=this.getSize(a),h=c[0],v=c[1],f=[{x:0,y:0-v/2},{x:0+h/2,y:0},{x:0,y:0+v/2},{x:0-h/2,y:0},{x:0,y:0-v/2}];return r.pointsToPolygon(f)}})},function(d,y,p){var n=p(13),o=p(2),u=p(5);n.registerEdge("diagram-base",{getPath:function(r){var i=r.getPoints(),a=r.getSource(),c=r.getTarget();return this.getPathByPoints({points:i,source:a,target:c,item:r})},getPathByPoints:function(r){var i=r.points;return o.pointsToPolygon(i)},getStyle:function(r){var i=r.getModel();return o.mix(!0,{},u.edgeStyle,{stroke:i.color},i.style)},getActivedStyle:function(){return u.edgeActivedStyle},getSelectedStyle:function(){return u.edgeSelectedStyle},getActivedOutterStyle:function(){},getSelectedOutterStyle:function(){}})},function(d,y,p){function n(U){for(var H=1;H<arguments.length;H++){var J=arguments[H]!=null?arguments[H]:{},ut=Object.keys(J);typeof Object.getOwnPropertySymbols=="function"&&(ut=ut.concat(Object.getOwnPropertySymbols(J).filter(function($){return Object.getOwnPropertyDescriptor(J,$).enumerable}))),ut.forEach(function($){o(U,$,J[$])})}return U}function o(U,H,J){return H in U?Object.defineProperty(U,H,{value:J,enumerable:!0,configurable:!0,writable:!0}):U[H]=J,U}var u=p(13),r=p(5),i=p(2),a=i.getGroupIconPath(),c=i.getCollapsedButtonPath(),h=i.getExpandedButtonPath(),v={fill:"#CED4D9"},f={stroke:"#697B8C",fill:"#fff",fillOpacity:0},m={stroke:"#697B8C",fill:"#fff",fillOpacity:0},b={fill:"#000000",textBaseline:"top",textAlign:"left"},M={stroke:"#CED4D9",fill:"#F2F4F5",radius:4},O=r.groupBackgroundPadding,E=40,A=13,j=12,B=12,D=8,T=12,Y=184-O[1]-O[3],G=40-O[0]-O[2];u.registerGroup("diagram-base",{draw:function(U){var H=U.getModel(),J=U.getGraphicGroup(),ut=U.getChildrenBBox(),$=this.getStyle(U),K=H.collapsed,ot=H.padding?H.padding:O;if(ut.minX===1/0&&(ut.minX=H.x,ut.maxX=H.x+Y,ut.minY=H.y,ut.maxY=H.y+G),K&&(ut.minX=ut.maxX-Y,ut.maxY=ut.minY+G),ut.maxX-ut.minX<Y){var at=Y-ut.maxX+ut.minX;ut.minX-=at/2,ut.maxX+=at/2}var ht=function(gt,_t){return gt.minX-_t[3]}(ut,ot),St=function(gt,_t){return gt.minY-_t[0]}(ut,ot),pt=function(gt,_t){return gt.maxX-gt.minX+_t[3]+_t[1]}(ut,ot),xt=function(gt,_t){return gt.maxY-gt.minY+_t[0]+_t[2]}(ut,ot),vt=function(gt,_t,Bt,At){var It=_t.addShape("path",{attrs:n({},At,{path:Bt})});return It.isGroupKeyShape=!0,It}(0,J,i.getRectPath(ht,St,pt,xt,$.radius),$);return function(gt,_t,Bt,At){var It=i.mix(!0,{},b,{x:Bt+E,y:At+A});i.isString(gt)?It.text=gt:i.mix(It,gt),_t.addShape("text",{attrs:It})}(i.isNil(H.label)?"\u65B0\u5EFA\u5206\u7EC4":H.label,J,ht,St),function(gt,_t,Bt,At){var It=_t.addShape("path",{attrs:n({path:gt},v)}),lt=It.getBBox();It.translate(Bt-lt.minX+D,At-lt.minY+T)}(i.isNil(H.icon)?a:H.icon,J,ht,St),function(gt,_t,Bt,At,It){var lt;if(gt){var X=(lt=_t.addShape("path",{attrs:n({path:h},m)})).getBBox(),V=X.maxX-X.minX;lt.isExpandedButton=!0,lt.translate(Bt+It-X.minX-V-B,At-X.minY+j)}else{var Z=(lt=_t.addShape("path",{attrs:n({path:c},f)})).getBBox(),W=Z.maxX-Z.minX;lt.isCollapsedButton=!0,lt.translate(Bt+It-Z.minX-W-B,At-Z.minY+j)}return lt.isButton=!0,lt}(K,J,ht,St,pt).item=U,H.x=ut.minX,H.y=ut.minY,vt},getStyle:function(U){var H=U.getModel();return i.mix(!0,{},M,{fill:H.color,stroke:H.color},H.style)},getActivedStyle:function(){return r.groupActivedStyle},getSelectedStyle:function(){return r.groupSelectedStyle},getSelectedOutterStyle:function(){return r.groupSelectedOutterStyle},getActivedOutterStyle:function(){},intersectBox:"rect"})},function(d,y,p){p(13).registerGuide("diagram-base")},function(d,y,p){p(81),p(82),p(83),p(84),p(85),p(86),p(87),p(88),p(89),p(90),p(91),p(92),p(93),p(94)},function(d,y,p){var n=p(1),o=p(2);n.registerBehaviour("panItem",function(u){var r=u.getGraph();r.behaviourOn("drop",function(){var i=u.get("panItems");if(i){var a=i[0],c=i.map(function(E){return E.id}),h=u.get("panItemDelegation"),v=u.get("panItemStartBox"),f=a.id,m=h.attr("x")-v.minX,b=h.attr("y")-v.minY;r.emit("afterpanitemdrop",{panItems:i}),u.clearAlignLine();var M=u.editor;r.emit("panitemend"),!M||u.getSignal("dragaddnodetogroup")?O():M.executeCommand(O)}function O(){c.forEach(function(E){var A=r.find(E),j=A.getModel();A.isGroup?o.panGroup(A,m,b,r):(r.update(A,{x:j.x+m,y:j.y+b}),r.toFront(A))}),c.length===1&&(u.clearSelected(),u.setSelected(f,!0))}})},["startPanItem","processPanItem","endPanItem"])},function(d,y,p){function n(r,i,a){return i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r}var o=p(1),u=p(5);o.registerBehaviour("hoverAnchorActived",function(r){var i=r.getGraph();i.behaviourOn("anchor:mouseenter",function(a){if(!r.getSignal("panningItem")&&!r.getSignal("dragEdge")){var c=a.shape,h=c.getItem(),v=h.getModel(),f=function(b){for(var M=1;M<arguments.length;M++){var O=arguments[M]!=null?arguments[M]:{},E=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(O).filter(function(A){return Object.getOwnPropertyDescriptor(O,A).enumerable}))),E.forEach(function(A){n(b,A,O[A])})}return b}({},r.get("addEdgeModel"),{source:v.id}),m={anchor:c.getPoint(),item:h};r.emit("hoveranchor:beforeaddedge",m),m.cancel?r.css({cursor:u.cursor.hoverUnEffectiveAnchor}):(r.css({cursor:u.cursor.hoverEffectiveAnchor}),!c.get("destroyed")&&c.setActived(),r.beginAdd("edge",f),i.draw())}}),i.behaviourOn("anchor:mouseleave",function(a){if(!r.getSignal("dragEdge")&&!r.getSignal("panningItem")){var c=a.shape,h=c.getItem();r.css({cursor:u.cursor.beforePanCanvas}),h.isSelected||(r.clearAnchor(h),r.setActived(h,!1)),!c.get("destroyed")&&c.clearActived(),r.cancelAdd(),i.draw()}})})},function(d,y,p){var n=p(1),o=p(5);n.registerBehaviour("hoverEdgeControlPoint",function(u){u.getGraph().behaviourOn("edgeControlPoint:mouseenter",function(r){if(!u.getSignal("dragEdge")&&!u.getSignal("panningItem")){var i=r.shape;(i.isTargetEndPoint()||i.isSourceEndPoint())&&u.css({cursor:o.cursor.hoverEdgeControllPoint})}})})},function(d,y,p){var n=p(1),o=p(5),u=p(2);n.registerBehaviour("dragEdgeControlPoint",function(r){var i,a,c,h,v,f,m,b,M,O,E=r.getGraph(),A=E.getRootGroup();function j(B){if(c){var D={};E.getNodes().forEach(function(U){r.clearAnchor(U)}),r.css({cursor:o.cursor.beforePanCanvas}),c.remove();var T=u.dropUpdateEdge({ev:B,endPointType:i?"target":"source",model:D,diagram:r});E.show(M);var Y=M.id;if(T){var G=r.editor;G?G.executeCommand("update",{itemId:Y,updateModel:D}):E.update(Y,D)}r.setSignal("dragEdge",!1),i=void 0,a=void 0,c=void 0,h=void 0,v=void 0,f=void 0,m=void 0,b=void 0,M=void 0,O=void 0}}E.behaviourOn("edgeControlPoint:mousedown",function(B){if(B.button!==2){var D=B.shape;D.isTargetEndPoint()?(M=D.getItem(),O=M.getModel(),i=D,h=D.getSourcePoint(),v=M.getSource(),m=O.sourceAnchor):D.isSourceEndPoint()&&(M=D.getItem(),O=M.getModel(),a=D,h=D.getTargetPoint(),f=M.getTarget(),b=O.targetAnchor),M&&(c=r.getDelegation([M],A),v?r.dragEdgeBeforeShowAnchor(v,m,"target"):f&&r.dragEdgeBeforeShowAnchor(f,b,"source"),E.hide(M),r.setSignal("dragEdge",!0))}}),E.behaviourOn("mousemove",function(B){c&&u.dragingEdgeEndPoint({endPointType:v?"target":"source",edgeModel:O,graph:E,delegation:c,startPoint:h,ev:B,originSource:v,originTarget:f})}),E.behaviourOn("edgeControlPoint:mouseleave",function(B){i||a||B.toShape||r.css({cursor:o.cursor.beforePanCanvas})}),E.behaviourOn("mouseup",j),E.behaviourOn("canvas:mouseleave",j)},["dragHoverAnchorHotspot"])},function(d,y,p){var n=p(1),o=p(2);n.registerBehaviour("dragPanelItemAddNode",function(u){var r,i,a,c,h,v=u.getGraph(),f=v.getRootGroup();function m(){u.setSignal("panningItem",!1),u.set("panItemDelegation",void 0),u.set("panItemStartBox",void 0),u.set("panItemStartPoint",void 0),i=void 0,a=void 0,c=void 0,h=void 0}v.behaviourOn("canvas:mouseenter",function(b){if(!i&&(c=u.get("addType"),h=u.get("addModel"),h=o.clone(h),c==="node")){var M=(a=o.getNodeSize(h.size))[0]/2,O=a[1]/2;r={minX:b.x-M,minY:b.y-O,maxX:b.x+M,maxY:b.y+O,width:a[0],height:a[1]},i=u.getDelegation([r],f),u.setSignal("panningItem",!0),u.set("panItemDelegation",i),u.set("panItemStartBox",r),u.set("panItemStartPoint",{x:b.x,y:b.y})}}),v.behaviourOn("mouseup",function(b){if(i){h.x=b.x,h.y=b.y;var M=c;o.setId(h);var O=u.editor;i.remove(),u.endAdd(),u.clearAlignLine(),u.clearSelected(),u.focusGraphWrapper(),O?O.executeCommand("add",{type:"node",addModel:h}):v.add(M,h),u.setSelected(v.find(h.id),!0),m()}}),v.behaviourOn("canvas:mouseleave",function(){i&&(u.clearAlignLine(),i.remove(),v.draw(),u.cancelAdd(),m())})},["processPanItem"])},function(d,y,p){p(1).registerBehaviour("dragHoverAnchorHotspot",function(n){var o=n.getGraph();o.behaviourOn("anchor:dragenter",function(u){if(n.getSignal("dragEdge")){var r=u.shape;n.setHotspotActived(r,!0)}}),o.behaviourOn("anchor:dragleave",function(u){if(n.getSignal("dragEdge")){var r=u.shape;n.setHotspotActived(r,!1)}})})},function(d,y,p){var n=p(1),o=p(2);n.registerBehaviour("dragAnchorAddEdge",function(u){var r=u.getGraph(),i=r.getRootGroup();r.behaviourOn("anchor:dragstart",function(a){if(a.button!==2){var c=a.shape,h=c.get("freezePoint"),v=c.getItem(),f=o.clone(u.get("addModel")),m=c.getIndex();f.source=v.id,f.sourceAnchor=m;var b={x:h.x,y:h.y},M=u.getDelegation([{isEdge:!0}],i);u.setSignal("dragEdge",!0),u.dragEdgeBeforeShowAnchor(v,m,"target"),u.set("addEdgeConfig",{addModel:f,delegation:M,startPoint:b,sourceItem:v})}})},["processAddEdge","dragHoverAnchorHotspot","hoverAnchorActived"])},function(d,y,p){var n=p(1),o=p(5);n.registerBehaviour("dragMultiSelect",function(u){var r,i,a=u.getGraph(),c=a.getRootGroup();function h(){u.css({cursor:o.cursor.beforePanCanvas}),r=void 0,i=void 0}u.css({cursor:o.cursor.multiSelect}),a.behaviourOn("dragstart",function(v){v.button!==2&&(r={x:v.x,y:v.y},i=c.addShape("rect",{attrs:o.multiSelectRectStyle}))}),a.behaviourOn("drag",function(v){i&&(i.attr({x:Math.min(r.x,v.x),y:Math.min(r.y,v.y),width:Math.abs(v.x-r.x),height:Math.abs(v.y-r.y)}),a.draw())}),a.behaviourOn("dragend",function(){if(i){var v=a.getNodes().map(function(M){return M.id}),f=i.getBBox(),m=u.editor;m?m.executeCommand(b):b(),i.remove(),u.changeMode("default"),u.updateStatus(),a.draw(),h()}function b(){u.clearSelected(),v.forEach(function(M){var O=a.find(M),E=O.getBBox();E.minX>f.minX&&E.minY>f.minY&&E.maxX<f.maxX&&E.maxY<f.maxY&&u.setSelected(O,!0)})}}),a.behaviourOn("canvas:mouseleave",function(){i&&(i.remove(),a.draw(),h())})})},function(d,y,p){p(1).registerBehaviour("keydownShiftMultiSelected",function(n){var o=n.getGraph();o.behaviourOn("keydown",function(u){u.domEvent.shiftKey&&n.setSignal("shiftKeyDown",!0)}),o.behaviourOn("keyup",function(u){u.domEvent.shiftKey||n.setSignal("shiftKeyDown",!1)})})},function(d,y,p){var n=p(1),o=p(5);n.registerBehaviour("dragNodeAddToGroup",function(u){var r,i,a=u.getGraph();function c(){u.setSignal("dragaddnodetogroup",!1),r=void 0,i=void 0}a.behaviourOn("dragenter",function(h){if(u.getSignal("panningItem")){var v=u.get("panItems");v[0]&&v[0].isNode&&v.length===1&&h.item&&h.item.isGroup&&v[0].getParent()!==h.item&&(r=v[0],i=h.item,a.update(i,{padding:o.groupBackgroundPadding.map(function(f){return f+4}),style:o.dragNodeHoverToGroupStyle}))}}),a.behaviourOn("dragleave",function(){i&&r&&a.update(i,{padding:void 0,style:void 0})}),a.behaviourOn("drop",function(h){if(i&&r&&i===h.item){u.setSignal("dragaddnodetogroup",!0);var v=r.id,f=i.id;a.update(f,{padding:void 0,style:void 0,collapsed:!1});var m=u.editor;m?m.executeCommand(b):b()}function b(){a.update(v,{parent:f})}}),a.behaviourOn("dragend",function(){c()}),a.behaviourOn("canvas:mouseleave",function(){i&&(a.update(i,{padding:void 0,style:void 0}),c())})})},function(d,y,p){var n=p(1),o=p(5),u=p(2);n.registerBehaviour("dragOutFromGroup",function(r){var i,a,c,h=r.getGraph(),v=!1;function f(){clearTimeout(c),a&&h.update(a,{padding:void 0,style:void 0}),v=!1,i=void 0,a=void 0}h.behaviourOn("drag",function(m){r.getSignal("panningItem")&&!v&&(clearTimeout(c),c=setTimeout(function(){var b=r.get("panItems");if(b){if(i=b[0],a=b[0].getParent(),i&&b.length===1&&a&&!m.shape){var M=r.get("panItemDelegation").getBBox(),O=a.getBBox();u.rectRectCrossAlgorithm(M,O)&&(h.update(a,{padding:o.groupBackgroundPadding.map(function(E){return E-8}),style:o.dragNodeLeaveFromGroupStyle}),v=!0)}v||(i=void 0,a=void 0)}},o.outFromGroupDelayTime))}),h.behaviourOn("dragenter",function(m){i&&a&&(a===m.item&&h.update(a,{padding:o.groupBackgroundPadding.map(function(b){return b+4}),style:o.dragNodeHoverToGroupStyle}),v=!1)}),h.on("drop",function(m){a&&i&&!m.shape&&(h.update(i,{parent:void 0}),h.update(a,{style:void 0}),f())}),h.on("dragend",function(){f()}),h.behaviourOn("canvas:mouseleave",function(){f()})})},function(d,y,p){var n=p(1),o=p(2),u=p(5);n.registerBehaviour("processAddEdge",function(r){var i=r.getGraph();function a(){r.setSignal("dragEdge",!1),r.set("addEdgeConfig",{addModel:void 0,delegation:void 0,startPoint:void 0,sourceItem:void 0})}i.behaviourOn("mousemove",function(c){var h=r.get("addEdgeConfig");if(h){var v=h.addModel,f=h.delegation,m=h.startPoint,b=h.sourceItem;f&&o.dragingEdgeEndPoint({endPointType:"target",edgeModel:v,graph:i,delegation:f,startPoint:m,ev:c,sourceItem:b})}}),i.behaviourOn("mouseup",function(c){var h=r.get("addEdgeConfig");if(h){var v=h.addModel,f=h.delegation,m=h.sourceItem,b=r.editor;f&&(i.getNodes().forEach(function(M){r.clearAnchor(M)}),r.clearAnchor(m),r.setActived(m,!1),r.setSelected(m,!1),r.css({cursor:u.cursor.beforePanCanvas}),f.remove(),o.dropUpdateEdge({ev:c,endPointType:"target",model:v,diagram:r})&&(b?b.executeCommand("add",{type:"edge",addModel:v}):i.add("edge",v)),i.draw(),r.endAdd()),a()}}),i.behaviourOn("canvas:mouseleave",function(){var c=r.get("addEdgeConfig");if(c){var h=c.delegation,v=c.sourceItem;h&&(i.getNodes().forEach(function(f){r.clearAnchor(f)}),r.setActived(v,!1),r.clearAnchor(v),h.remove(),r.cancelAdd(),i.draw()),a()}})})},function(d,y,p){p(1).registerBehaviour("hoverNodeAddOutter",function(n){var o,u=n.getGraph();u.behaviourOn("node:mouseenter",function(r){var i=r.item;n.getSignal("dragEdge")&&(o=i,n.addOutterShape(i,{stroke:"#52C41A",strokeOpacity:.45,lineWidth:4}))}),u.behaviourOn("node:mouseleave",function(){o&&n.clearOutterShape(o)}),u.behaviourOn("beforedropedge",function(){o&&n.clearOutterShape(o)})})},function(d,y,p){var n=p(1),o=p(5),u=p(2);n.registerBehaviour("orbit",function(r){var i,a=r.getGraph();a.behaviourOn("beforepanitem",function(){r.hideOrbit()}),a.behaviourOn("node:mouseenter",function(c){var h=c.item;r.getSignal("panningItem")||r.getSignal("dragEdge")||(i=h,r.showOrbit(h))}),a.on("beforeviewportchange",function(){r.hideOrbit()}),a.behaviourOn("mousemove",function(c){var h=c.item,v=c.x,f=c.y;if(i){var m=i.getBBox(),b=u.euclideanDistance.pointPoint({x:m.centerX,y:m.centerY},{x:v,y:f}),M=a.getMatrix()[0];h!==i&&b>m.width/2+o.orbitGap/M&&(r.hideOrbit(),i=void 0),i&&r.layoutOrbit(i,{x:v,y:f})}})})},function(d,y,p){var n=p(11);p(96),d.exports=n},function(d,y,p){p(97),p(98),p(99),p(100),p(101)},function(d,y,p){var n=p(11);n.registerNode("flow-base",{}),n.registerNode("flow-html",{},["html"]),n.registerNode("flow-rect",{},"flow-base"),n.registerNode("flow-capsule",{},"capsule"),n.registerNode("flow-circle",{},"circle"),n.registerNode("flow-rhombus",{},"rhombus")},function(d,y,p){p(11).registerEdge("flow-base",{})},function(d,y,p){var n=p(19),o=p(11);function u(h,v,f,m){var b=m?m/2:30,M=m;if(h<=v&&v<=f||h>=v&&v>=f){var O=(f-v)/2,E=Math.abs(O);if(O===0)return h===v?0:(v-h)/Math.abs(v-h)*b;if(E>M){var A=O/E*M;return Math.abs(A)<b?O/E*b:A}return E<b?O/E*b:O}var j=b;return(j=Math.abs(v-f)<2*Math.abs(v-h)?m*Math.abs(v-f)/(2*Math.abs(v-h)):m)>M&&(j=M),j<b&&(j=b),v>h?j:-j}function r(h,v,f,m){var b,M,O=h.bbox,E=function(j,B){var D=Math.abs(j.x-B.centerX),T=Math.abs(j.y-B.centerY);return D/B.width>T/B.height}(v,O);b=M=0;var A=Math.min(O.height,O.width);return m&&m.bbox&&(A=Math.min(A,m.bbox.height,m.bbox.width)),E?b=u(O.centerX,v.x,f.x,A):M=u(O.centerY,v.y,f.y,A),{x:v.x+b,y:v.y+M}}var i=.1;function a(h,v){var f=h.x,m=h.y,b=v.x,M=v.y;return{x:f+(b-f)*i,y:m+(M-m)*i}}function c(h,v,f){var m=h[0],b=h[h.length-1],M=["M",m.x,m.y],O=function(j,B,D,T){return[D&&D.bbox?r(D,j,B,T):a(j,B),T&&T.bbox?r(T,B,j,D):a(B,j)]}(m,b,v,f),E=["C"],A=[M];return n.each(O,function(j){E.push(j.x,j.y)}),E.push(b.x,b.y),A.push(E),A}o.registerEdge("flow-smooth",{getPathByPoints:function(h){return c(h.points,h.source,h.target)}},"flow-edge")},function(d,y,p){function n(H){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(H)}function o(H,J){return function(ut){if(Array.isArray(ut))return ut}(H)||function(ut,$){var K=[],ot=!0,at=!1,ht=void 0;try{for(var St,pt=ut[Symbol.iterator]();!(ot=(St=pt.next()).done)&&(K.push(St.value),!$||K.length!==$);ot=!0);}catch(xt){at=!0,ht=xt}finally{try{ot||pt.return==null||pt.return()}finally{if(at)throw ht}}return K}(H,J)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=p(19),r=p(11),i=16,a=5;function c(H,J){var ut=Math.min(H.minX,J.minX),$=Math.min(H.minY,J.minY),K=Math.max(H.maxX,J.maxX),ot=Math.max(H.maxY,J.maxY);return{centerX:(ut+K)/2,centerY:($+ot)/2,minX:ut,minY:$,maxX:K,maxY:ot,height:ot-$,width:K-ut}}function h(H,J){return 2*Math.abs(H.centerX-J.centerX)<H.width+J.width&&2*Math.abs(H.centerY-J.centerY)<H.height+J.height}function v(H){var J=H.x,ut=H.y;return{centerX:J,centerY:ut,minX:J,minY:ut,maxX:J,maxY:ut,height:0,width:0}}function f(H,J){return H.width===0&&H.height===0?H:{centerX:H.centerX,centerY:H.centerY,minX:H.minX-J,minY:H.minY-J,maxX:H.maxX+J,maxY:H.maxY+J,height:H.height+2*J,width:H.width+2*J}}function m(H,J){return function(ut,$){var K=Math.abs(ut.x-$.centerX),ot=Math.abs(ut.y-$.centerY);return K/$.width>ot/$.height}(J,H)?{x:J.x>H.centerX?H.maxX:H.minX,y:J.y}:{x:J.x,y:J.y>H.centerY?H.maxY:H.minY}}function b(H){var J=H.minX,ut=H.minY,$=H.maxX,K=H.maxY;return[{x:J,y:ut},{x:$,y:ut},{x:$,y:K},{x:J,y:K}]}function M(H,J){var ut=H.x,$=H.y;return ut<J.minX||ut>J.maxX||$<J.minY||$>J.maxY}function O(H,J,ut,$){var K=J.x-H.x,ot=J.y-H.y,at=$.x-ut.x,ht=$.y-ut.y,St=(-ot*(H.x-ut.x)+K*(H.y-ut.y))/(-at*ot+K*ht),pt=(at*(H.y-ut.y)-ht*(H.x-ut.x))/(-at*ot+K*ht);return St>=0&&St<=1&&pt>=0&&pt<=1}function E(H,J,ut){if(ut.width===ut.height===0)return!1;var $=o(b(ut),4),K=$[0],ot=$[1],at=$[2],ht=$[3];return O(H,J,K,ot)||O(H,J,K,ht)||O(H,J,ot,at)||O(H,J,at,ht)}function A(H){return H=B(H)}function j(H,J){return[H,{x:H.x,y:J.y},J]}function B(H){var J=[],ut={};return H.forEach(function($){var K=$.id="".concat($.x,"-").concat($.y);ut[K]=$}),u.each(ut,function($){J.push($)}),J}function D(H,J){return Math.abs(H.x-J.x)+Math.abs(H.y-J.y)}function T(H,J,ut,$,K){return D(H,J)+D(H,ut)+function(ot,at){var ht=0;return at.forEach(function(St){St&&(ot.x===St.x&&(ht+=-2),ot.y===St.y&&(ht+=-2))}),ht}(H,[J,ut,$,K])}function Y(H,J,ut,$,K,ot,at){var ht=[],St=[J],pt={},xt={},vt={};xt[J.id]=0,vt[J.id]=T(J,ut,J);var gt={};H.forEach(function(At){gt[At.id]=At});for(var _t=function(){var At,It,lt,X=void 0,V=1/0;if(St.forEach(function(W){vt[W.id]<V&&(V=vt[W.id],X=W)}),X===ut){var Z=[];return function W(rt,tt,Q,ft){var Et=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;rt.unshift(tt[ft]),Q[ft]&&Q[ft]!==ft&&Et<=100&&W(rt,tt,Q,Q[ft],Et+1)}(Z,gt,pt,ut.id),{v:Z}}It=X,(lt=(At=St).indexOf(It))>-1&&At.splice(lt,1),ht.push(X),function(W,rt,tt,Q){var ft=[];return W.forEach(function(Et){Et!==rt&&(Et.x!==rt.x&&Et.y!==rt.y||E(Et,rt,tt)||E(Et,rt,Q)||ft.push(Et))}),B(ft)}(H,X,$,K).forEach(function(W){if(ht.indexOf(W)===-1){St.indexOf(W)===-1&&St.push(W);var rt=vt[X.id]+D(X,W);xt[W.id]&&rt>=xt[W.id]||(pt[W.id]=X.id,xt[W.id]=rt,vt[W.id]=xt[W.id]+T(W,ut,J,ot,at))}})};St.length;){var Bt=_t();if(n(Bt)==="object")return Bt.v}return console.error("cannot find path: ",H,J,ut),[J,ut]}function G(H,J,ut,$,K){var ot=ut&&ut.bbox?ut.bbox:v(H),at=$&&$.bbox?$.bbox:v(J);if(h(ot,at))return A(j(H,J));var ht=f(ot,K),St=f(at,K);if(h(ht,St))return A(j(H,J));var pt=m(ht,H),xt=m(St,J),vt=function(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],X=[],V=[];lt.forEach(function(Q){X.push(Q.x),V.push(Q.y)});var Z=Math.min.apply(Math,X),W=Math.max.apply(Math,X),rt=Math.min.apply(Math,V),tt=Math.max.apply(Math,V);return{centerX:(Z+W)/2,centerY:(rt+tt)/2,maxX:W,maxY:tt,minX:Z,minY:rt,height:tt-rt,width:W-Z}}([pt,xt]),gt=(c(ht,St),c(ht,vt)),_t=c(St,vt),Bt=[];Bt=(Bt=Bt.concat(b(gt))).concat(b(_t));var At={x:(H.x+J.x)/2,y:(H.y+J.y)/2};[vt,gt,_t].forEach(function(lt){Bt=Bt.concat(function(X,V){return function(Z,W){return W<Z.minX||W>Z.maxX?[]:[{x:W,y:Z.minY},{x:W,y:Z.maxY}]}(X,V.x).concat(function(Z,W){return W<Z.minY||W>Z.maxY?[]:[{x:Z.minX,y:W},{x:Z.maxX,y:W}]}(X,V.y))}(lt,At).filter(function(X){return M(X,ht)&&M(X,St)}))}),[{x:pt.x,y:xt.y},{x:xt.x,y:pt.y}].forEach(function(lt){M(lt,ht)&&M(lt,St)&&Bt.push(lt)}),Bt.unshift(pt),Bt.push(xt);var It=Y(Bt=B(Bt),pt,xt,ot,at,H,J);return It.unshift(H),It.push(J),A(It)}function U(H,J){var ut=[],$=H[0];return ut.push("M".concat($.x," ").concat($.y)),H.forEach(function(K,ot){var at=H[ot+1],ht=H[ot+2];if(at&&ht)if(function(vt,gt,_t){return!(vt.x===gt.x===_t.x||vt.y===gt.y===_t.y)}(K,at,ht)){var St=o(function(vt,gt,_t,Bt){var At=D(vt,gt),It=D(_t,gt);return At<Bt&&(Bt=At),It<Bt&&(Bt=It),[{x:gt.x-Bt/At*(gt.x-vt.x),y:gt.y-Bt/At*(gt.y-vt.y)},{x:gt.x-Bt/It*(gt.x-_t.x),y:gt.y-Bt/It*(gt.y-_t.y)}]}(K,at,ht,J),2),pt=St[0],xt=St[1];ut.push("L".concat(pt.x," ").concat(pt.y)),ut.push("Q".concat(at.x," ").concat(at.y," ").concat(xt.x," ").concat(xt.y)),ut.push("L".concat(xt.x," ").concat(xt.y))}else ut.push("L".concat(at.x," ").concat(at.y));else at&&ut.push("L".concat(at.x," ").concat(at.y))}),ut.join("")}r.registerEdge("flow-polyline",{getPathByPoints:function(H){var J=H.points,ut=H.source,$=H.target,K=i,ot=G(J[0],J[J.length-1],ut,$,K);return u.pointsToPolygon(ot)}}),r.registerEdge("flow-polyline-round",{getPathByPoints:function(H){var J=H.points,ut=H.source,$=H.target,K=i,ot=a;return U(A(G(J[0],J[J.length-1],ut,$,K)),ot)}})},function(d,y,p){p(11).registerGroup("flow-base",{})},function(d,y,p){var n=p(17);p(103),d.exports=n},function(d,y,p){p(104),p(105),p(106)},function(d,y,p){p(17).registerNode("koni-base",{defaultFillPalette:5,defaultStrokePalette:5,activedFillPalette:4,activedStrokePalette:6,selectedFillPalette:5,selectedStrokePalette:6,anchor:null},"circle")},function(d,y,p){var n=p(17),o=p(24),u=o.vec2;n.registerEdge("koni-base",{getDefaultLabelRectPadding:function(){return o.toAllPadding([0,2])},getPathByPoints:function(r){var i=r.points,a=r.source,c=r.target,h=r.item;if(a&&c){var v=o.getParallelEdges(c,a),f=o.getParallelEdges(a,c),m=f.indexOf(h);return a===c?(m=(f=f.filter(function(b){var M=b.getModel();return M.source===a.id&&M.target===c.id})).indexOf(h),function(b,M){var O=b.getBBox(),E=[O.centerX,O.centerY],A=O.width/2,j=50*(M+1)+50,B=[E[0]-A/2,E[1]-Math.sqrt(3)/2*A],D=[B[0]-E[0],B[1]-E[1]],T=u.scale([],D,(A+j)/A),Y=[E[0]+T[0],E[1]+T[1]],G=[E[0]+A/2,E[1]-Math.sqrt(3)/2*A],U=[G[0]-E[0],G[1]-E[1]],H=u.scale([],U,(A+j)/A),J=[E[0]+H[0],E[1]+H[1]];return[["M",B[0],B[1]],["C",Y[0],Y[1],J[0],J[1],G[0],G[1]]]}(a,m)):(v.length===0&&m--,function(b,M,O){var E=b.getBBox(),A=M.getBBox(),j=E.centerX,B=E.centerY,D=20*(O+1),T=[.5*(A.centerX+j)-j,.5*(A.centerY+B)-B],Y=[-T[1],T[0]],G=u.length(Y);u.scale(Y,Y,D/G);var U={x:T[0]+Y[0]+j,y:T[1]+Y[1]+B},H=b.getLinkPoints(U)[0],J=M.getLinkPoints(U)[0];return[["M",H.x,H.y],["Q",U.x,U.y,J.x,J.y]]}(a,c,m))}return o.pointsToPolygon(i)}})},function(d,y,p){p(17).registerGroup("koni-base",{})},function(d,y,p){var n=p(8);n.Util=p(10),p(108),p(112),p(120),d.exports=n},function(d,y,p){p(109),p(110),p(111)},function(d,y,p){var n=p(1),o=p(10);n.registerBehaviour("panMindNode",function(u){var r,i,a,c=u.getGraph();function h(){r.nth=i;var f=c.add("node",r);u.setSelected(f,!0),a&&c.remove(a.id)}function v(){c.emit("panitemend"),r=void 0,a=void 0,i=void 0}c.behaviourOn("beforeshowdelegation",function(){u.clearSelected(),u.clearActived()}),c.behaviourOn("node:dragstart",function(f){if(f.button!==2){var m=f.item;!(r=m.getModel()).parent||f.shape.isCollapsedButton||f.shape.isExpandedButton?v():(i=c.getNth(m),c.remove(m))}}),c.behaviourOn("itempanning",function(f){if(!f.shape||!f.shape.isPlaceholder){var m=u.getHotArea(f),b=u.getRoot();if(a&&(m?a.id!==m.id&&c.remove(c.find(a.id)):c.remove(c.find(a.id))),a=m,m){var M=m.parent;if(!c.find(m.id)){var O={id:m.id,parent:M.id,isPlaceholder:!0,parentModel:M,baseline:a.parent.id===b.id?"center":void 0,shape:"mind-placeholder",nth:m.nth};m.side&&(O.side=m.side),c.add("node",O)}}}}),c.behaviourOn("drop",function(){if(r)if(a){var f=o.clone(r);c.remove(a.id),u.executeCommand("moveMindNode",{model:f,newParentId:a.parent.id,newNth:a.nth,newSide:a.side,originParentId:r.parent,originNth:i,originSide:r.side})}else h();v()}),c.behaviourOn("canvas:mouseleave",function(){r&&(h(),v())})},["startPanItem","processPanItem","endPanItem"])},function(d,y,p){p(1).registerBehaviour("keydownMoveSelection",function(n){n.getGraph().on("keydown",function(o){n._moveItemSelection(o)})})},function(d,y,p){p(1).registerBehaviour("keydownEditLabel",function(n){n.getGraph().behaviourOn("keydown",function(o){n.showLabelEditor(o)})})},function(d,y,p){p(113),p(114),p(115),p(116),p(117),p(118),p(119)},function(d,y,p){function n(h){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?arguments[v]:{},m=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(f).filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable}))),m.forEach(function(b){o(h,b,f[b])})}return h}function o(h,v,f){return v in h?Object.defineProperty(h,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[v]=f,h}var u=p(8),r=p(10),i={fill:"#000",textAlign:"left",textBaseline:"top"},a={stroke:"#959EA6",strokeOpacity:0,fill:"#959EA6",cursor:"pointer"},c={stroke:"#434B54",fill:"#fff",cursor:"pointer"};u.registerNode("mind-base",{dy:4,afterDraw:function(h){var v=h.getModel();v.children&&v.children.length>0&&v.collapsed&&this.drawExpandedButton(h)},debugDrawLayoutPoint:function(h){var v=h.getModel();h.getGraphicGroup().addShape("circle",{attrs:{x:v.x,y:v.y,r:5,fill:"red"}})},drawExpandedButton:function(h){var v=h.getKeyShape().getBBox(),f=h.getGraphicGroup().addGroup(),m=f.addShape("path",{attrs:n({path:r.getRectPath(0,0,16,7,3)},a)}),b=m.getBBox(),M=r.getMindNodeSide(h),O=this.getButtonPositon(v,b,M),E={fill:"white",r:1};f.addShape("circle",{attrs:n({},E,{x:4,y:3.5}),capture:!1}),f.addShape("circle",{attrs:n({},E,{x:8,y:3.5}),capture:!1}),f.addShape("circle",{attrs:n({},E,{x:12,y:3.5}),capture:!1}),m.attr("lineAppendWidth",20),f.translate(O.x,O.y),m.isExpandedButton=!0,m.isButton=!0},drawCollapsedButton:function(h){var v=h.getKeyShape().getBBox(),f=h.getGraphicGroup().addShape("path",{attrs:n({path:r.getCollapsedButtonPath()},c)}),m=f.getBBox(),b=r.getMindNodeSide(h),M=this.getButtonPositon(v,m,b);f.translate(M.x,M.y),f.isCollapsedButton=!0,f.isButton=!0},getButtonPositon:function(h,v,f){return f==="right"?{x:h.maxX+2,y:h.maxY-(v.maxY-v.minY)/2}:{x:h.minX-(v.maxX-v.minX)-2,y:h.maxY-(v.maxY-v.minY)/2}},getLabel:function(h){return h.getModel().label},getPadding:function(){return[4,8,4,8]},getSize:function(h){var v=h.getModel(),f=h.getGraphicGroup(),m=v.size;if(v.size){if(r.isArray(m))return m;if(r.isNumber(m))return[m,m]}var b=f.findByClass("label")[0],M=this.getPadding(h),O=b.getBBox();return[O.width+M[1]+M[3],O.height+M[0]+M[2]]},getPath:function(h){var v=this.getSize(h),f=this.getStyle(h);return r.getRectPath(-v[0]/2,-v[1]/2+this.dy,v[0],v[1],f.radius)},drawLabel:function(h){var v=h.getGraphicGroup(),f=this.getLabel(h),m=this.getLabelStyle(h);f||(f=" ");var b=r.mix(!0,{},i,m,{x:0,y:0});r.isObject(f)?r.mix(b,f):b.text=f;var M=v.addShape("text",{class:"label",attrs:b});return this.adjustLabelText(M),this.adjustLabelPosition(h,M),M},adjustLabelText:function(h){var v=h.attr("text"),f=h.getBBox();if(f.maxX-f.minX>400){var m=h.attr("font");v=r.getLabelTextByTextLineWidth(v,m),h.attr("text",v)}},adjustLabelPosition:function(h,v){var f=this.getSize(h),m=this.getPadding(),b=f[0],M=v.getBBox();v.attr({x:-b/2+m[3],y:-M.height/2+this.dy})},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",lineHeight:18,fontSize:12}},getStyle:function(){return{fill:"#ccc",fillOpacity:0,radius:4,lineWidth:2}},getActivedStyle:function(){return{stroke:"#44C0FF",lineWidth:2}},getSelectedStyle:function(){return{stroke:"#1AA7EE",lineWidth:2}},anchor:[[0,1],[1,1]]})},function(d,y,p){p(8).registerNode("mind-first-sub",{dy:0,getPadding:function(){return[6,12,8,12]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontWeight:500,fontSize:14,lineHeight:20}}})},function(d,y,p){p(8).registerNode("mind-second-sub",{dy:0,getPadding:function(){return[8,4,8,4]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontSize:12,lineHeight:20}}})},function(d,y,p){var n=p(8),o=p(10);n.registerNode("mind-root",{adjustLabelPosition:function(u,r){var i=r.getBBox();r.attr({x:-i.width/2,y:-i.height/2-1})},getPath:function(u){var r=this.getSize(u),i=this.getStyle(u);return o.getRectPath(-r[0]/2,-r[1]/2,r[0],r[1],i.radius)},getButtonPositon:function(u,r,i){return i==="right"?{x:u.maxX+2,y:(u.maxY+u.minY)/2-(r.maxY-r.minY)/2}:{x:u.minX-(r.maxX-r.minX)-2,y:(u.maxY+u.minY)/2-(r.maxY-r.minY)/2}},getPadding:function(){return o.toAllPadding([12,24])},getStyle:function(){return{fill:"#587EF7",stroke:"#587EF7",fillOpacity:1,radius:4}},getLabelStyle:function(){return{fontSize:20,fill:"white",lineHeight:28}},drawExpandedButton:function(){},drawCollapsedButton:function(){},panAble:!1,anchor:[[.45,.5],[.55,.5]]},"mind-first-sub")},function(d,y,p){var n=p(8),o=p(10);n.registerNode("mind-placeholder",{afterDraw:function(u){u.getKeyShape().isPlaceholder=!0},getPath:function(u){var r,i=u.getModel().parentModel,a=this.getStyle(u),c=0;return i.hierarchy<=2?r=28:(r=20,c=4),o.getRectPath(-27.5,-r/2+c,55,r,a.radius)},getStyle:function(){return{fill:"#91D5FF",radius:4,lineWidth:3}},drawExpandedButton:function(){},drawCollapsedButton:function(){},anchor:function(){return[[0,1],[1,1]]}})},function(d,y,p){p(8).registerEdge("mind-edge",{getEdetal:function(n){return n.children&&n.children.length>0&&!n.collapsed?n.hierarchy===2?24:18:0},getPath:function(n){var o=n.getPoints(),u=n.getSource(),r=n.getTarget(),i=u.getBBox(),a=r.getBBox(),c=r.getModel(),h=14,v=4;if(c.hierarchy===2&&(h=66,v=30),o[0].y===o[1].y){var f=c.hierarchy===3?24:18,m=this.getEdetal(c);return i.centerX<a.centerX?[["M",o[0].x+f,o[0].y],["L",a.maxX+m,a.maxY]]:[["M",o[0].x+2,o[0].y],["L",a.minX-m,a.maxY]]}if(c.hierarchy>=3){var b=c.hierarchy===3?24:18,M=this.getEdetal(c);if(i.centerX<a.centerX){var O=o[0].x+b;return[["M",o[0].x,o[0].y],["M",O,o[0].y],["C",O+v,o[0].y,a.minX-h,a.maxY,a.minX,a.maxY],["L",a.maxX+M,a.maxY]]}var E=o[0].x-b;return[["M",o[0].x,o[0].y],["M",E,o[0].y],["C",E-v,o[0].y,a.maxX+h,a.maxY,a.maxX,a.maxY],["L",a.minX-M,a.maxY]]}var A=this.getEdetal(c);return i.centerX<a.centerX?[["M",o[0].x,o[0].y],["C",o[0].x+v,o[0].y,a.minX-h,a.maxY,a.minX,a.maxY],["L",a.maxX+A,a.maxY]]:[["M",o[0].x,o[0].y],["C",o[0].x-v,o[0].y,a.maxX+h,a.maxY,a.maxX,a.maxY],["L",a.minX-A,a.maxY]]},getStyle:function(n){var o=n.getTarget(),u=1;if(o){var r=o.getModel();u=r.hierarchy<=3?3:r.hierarchy<=5?2:1}return{stroke:"#959EA6",lineWidth:u}}})},function(d,y,p){function n(o,u,r){return u in o?Object.defineProperty(o,u,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[u]=r,o}p(8).registerEdge("mind-placeholder-edge",{getOriginShapeObject:function(o){return o.getGraph().getShapeObj("edge",{shape:"mind-edge"})},getPath:function(o){return this.getOriginShapeObject(o).getPath(o)},getStyle:function(o){return function(u){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),a.forEach(function(c){n(u,c,i[c])})}return u}({},this.getOriginShapeObject(o).getStyle(o),{stroke:"#91D5FF"})}})},function(d,y,p){var n=p(15),o=p(10);function u(r,i,a){var c=r.getGraph(),h=i.getModel(),v=r.getFirstChildrenBySide("left"),f=v[0]&&c.find(v[0].id);return c.add("node",{id:a,parent:i.id,label:"\u65B0\u5EFA\u8282\u70B9",side:h.children.length>2?"left":"right",nth:f?c.getNth(f):void 0})}n.registerCommand("append",{enable:function(r){var i=r.getCurrentPage(),a=i.getSelected();return i.isMind&&a.length===1},getItem:function(r){var i=r.getCurrentPage(),a=i.getGraph();return this.selectedItemId?a.find(this.selectedItemId):i.getSelected()[0]},execute:function(r){var i,a=r.getCurrentPage(),c=a.getGraph(),h=a.getRoot(),v=this.getItem(r),f=v.getModel(),m=f.hierarchy,b=v.getParent();if(v.isRoot)i=u(a,v,this.addItemId);else{var M=c.getNth(v);i=c.add("node",{id:this.addItemId,parent:b.id,side:m===2&&h.children.length===3?"left":f.side,label:"\u65B0\u5EFA\u8282\u70B9",nth:f.side==="left"&&m===2?M:M+1})}a.clearSelected(),a.clearActived(),a.setSelected(i,!0),this.executeTimes===1&&(this.selectedItemId=v.id,this.addItemId=i.id,a.beginEditLabel(i))},back:function(r){var i=r.getCurrentPage();i.getGraph().remove(this.addItemId),i.clearSelected(),i.clearActived(),i.setSelected(this.selectedItemId,!0)},shortcutCodes:["Enter"]}),n.registerCommand("appendChild",{enable:function(r){var i=r.getCurrentPage(),a=i.getSelected();return i.isMind&&a.length>0},getItem:function(r){var i=r.getCurrentPage(),a=i.getGraph();return this.selectedItemId?a.find(this.selectedItemId):i.getSelected()[0]},execute:function(r){var i,a=r.getCurrentPage(),c=a.getGraph(),h=this.getItem(r);i=h.isRoot?u(a,h,this.addItemId):c.add("node",{id:this.addItemId,parent:h.id,label:"\u65B0\u5EFA\u8282\u70B9"}),a.clearSelected(),a.clearActived(),a.setSelected(i,!0),this.executeTimes===1&&(this.selectedItemId=h.id,this.addItemId=i.id,a.beginEditLabel(i))},back:function(r){var i=r.getCurrentPage();i.getGraph().remove(this.addItemId),i.clearSelected(),i.clearActived(),i.setSelected(this.selectedItemId,!0)},shortcutCodes:["Tab"]}),n.registerCommand("moveMindNode",{enable:function(r){var i=r.getCurrentPage(),a=i.get("panItems");return i.isMind&&a&&a.length>0},execute:function(r){var i=r.getCurrentPage(),a=i.getGraph(),c=this.newParentId,h=this.newNth,v=this.newSide,f=o.clone(this.model);delete f.shape,delete f.side,a.remove(f.id),o.mix(f,{parent:c,nth:h,side:v});var m=a.add("node",f);i.clearSelected(),i.setSelected(m,!0)},back:function(r){var i=r.getCurrentPage(),a=i.getGraph(),c=this.originParentId,h=this.originNth,v=this.originSide,f=o.clone(this.model);delete f.shape,delete f.side,a.remove(f.id),o.mix(f,{parent:c,nth:h,side:v});var m=a.add("node",f);i.clearSelected(),i.setSelected(m,!0)}})},function(d,y,p){function n(v){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var m=0;m<f.length;m++){var b=f[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}function u(v,f){return!f||n(f)!=="object"&&typeof f!="function"?function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(v):f}function r(v){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}function i(v,f){return(i=Object.setPrototypeOf||function(m,b){return m.__proto__=b,m})(v,f)}var a=p(6),c=p(9),h=function(v){function f(){return function(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")}(this,f),u(this,r(f).apply(this,arguments))}var m,b,M;return function(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(E&&E.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),E&&i(O,E)}(f,c),m=f,(b=[{key:"getDefaultCfg",value:function(){return{type:"toolbar",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var O=this.container;if(!O)throw new Error("please set the container for the toolbar !");a.isString(O)&&(O=document.getElementById(O));var E=O.getElementsByClassName("command");this.commands=E}},{key:"getCommandDoms",value:function(){return this.commands}}])&&o(m.prototype,b),M&&o(m,M),f}();d.exports=h},function(d,y,p){function n(v){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(v)}function o(v,f){for(var m=0;m<f.length;m++){var b=f[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}function u(v,f){return!f||n(f)!=="object"&&typeof f!="function"?function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(v):f}function r(v){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(v)}function i(v,f){return(i=Object.setPrototypeOf||function(m,b){return m.__proto__=b,m})(v,f)}var a=p(6),c=p(9),h=function(v){function f(){return function(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")}(this,f),u(this,r(f).apply(this,arguments))}var m,b,M;return function(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(E&&E.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),E&&i(O,E)}(f,c),m=f,(b=[{key:"getDefaultCfg",value:function(){return{type:"contextmenu",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var O=this.container;if(!O)throw new Error("please set the container for the tontextmenu !");a.isString(O)&&(O=document.getElementById(O));var E=O.getElementsByClassName("command");O.style.position="absolute",O.style["z-index"]=2,O.style.top="0px",O.style.left="0px",this.commands=E,this.containerDom=O}},{key:"bindEvent",value:function(){var O=this,E=this.commands;a.each(E,function(A){a.addEventListener(A,"click",function(){A.className.indexOf("disable")===-1&&O.hide()})})}},{key:"switch",value:function(O){var E=this.containerDom.getElementsByClassName("menu");a.each(E,function(A){A.dataset.status===O?A.style.display="block":A.style.display="none"})}},{key:"getCommandDoms",value:function(){return this.commands}},{key:"show",value:function(){var O=this.containerDom;this.editor.getCurrentPage().setSignal("preventWheelPan",!0),O.style.display="block"}},{key:"hide",value:function(){var O=this.containerDom;this.editor.getCurrentPage().setSignal("preventWheelPan",!1),O.style.display="none"}},{key:"move",value:function(O,E){var A=this.containerDom,j=a.getBoundingClientRect(A),B=parseFloat(a.getStyle(A,"top")),D=parseFloat(a.getStyle(A,"left"));A.style.left=D+(O-j.left)+"px",A.style.top=B+(E-j.top)+"px"}}])&&o(m.prototype,b),M&&o(m,M),f}();d.exports=h},function(d,y,p){var n=p(12);p(124),p(127),d.exports=n},function(d,y,p){p(125),p(126)},function(d,y,p){function n(m){for(var b=1;b<arguments.length;b++){var M=arguments[b]!=null?arguments[b]:{},O=Object.keys(M);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(M).filter(function(E){return Object.getOwnPropertyDescriptor(M,E).enumerable}))),O.forEach(function(E){o(m,E,M[E])})}return m}function o(m,b,M){return b in m?Object.defineProperty(m,b,{value:M,enumerable:!0,configurable:!0,writable:!0}):m[b]=M,m}var u,r,i=p(20),a=i.mouseEnterEdge,c=i.startMove,h=i.mouseLeaveEdge,v=i.mouseMoveEdge,f=i.endMove;p(12).registerBehaviour("bpmnMoveEdgeController",function(m){var b,M=m.getGraph(),O=M.getRootGroup();function E(){m.set("panItemDelegation",void 0),m.set("panItemStartBox",void 0),m.set("panItemStartPoint",void 0),b=void 0}M.behaviourOn("edge:mouseenter",function(A){!u&&A.item&&(r=A.item,a({graph:M,bpmn:m,ev:A,backUpCursor:!0}))}),M.behaviourOn("edge:mousedown",function(A){var j=A.item;c(M,A),u=j}),M.behaviourOn("mouseup",function(){u&&(f({graph:M,item:u}),u=void 0)}),M.behaviourOn("mousemove",function(A){u?v(M,u,A):r&&a({graph:M,bpmn:m,ev:n({},A,{item:r}),backUpCursor:!1})}),M.behaviourOn("edge:mouseleave",function(){u||r&&(h({graph:M,bpmn:m,item:r}),r=void 0)}),M.behaviourOn("node:dragstart",function(A){var j=A.item.getBBox();b=m.getDelegation([j],O),m.set("bpmnNodePanDelegation",b),m.set("bpmnNodePanStartBox",j),m.set("bpmnNodePanStartPoint",{x:A.x,y:A.y}),m.set("bpmnNodePanStartItem",A.item)}),M.behaviourOn("node:dragend",function(A){var j=m.get("bpmnNodePanDelegation"),B=m.get("bpmnNodePanStartPoint"),D=m.get("bpmnNodePanStartItem");D&&D.getEdges().forEach(function(T){M.update(T,{nodeMoved:{item:D.id,start:B,delta:{x:A.x-B.x,y:A.y-B.y}}})}),j.remove(),E()})},["startPanItem","processPanItem","endPanItem"])},function(d,y,p){p(12).registerBehaviour("hoverNodeShowArrowController",function(n){var o,u=n.getGraph(),r=n.get("arrowController"),i=r.long,a=r.thickness;u.on("node:mouseenter",function(c){if(!n.getSignal("panningItem")&&!n.getSignal("dragEdge")){var h=r.topArrow,v=r.bottomArrow,f=r.leftArrow,m=r.rightArrow,b=(o=c.item).getBBox(),M=u.getDomPoint({x:b.centerX,y:b.minY}),O=u.getDomPoint({x:b.minX,y:b.centerY}),E=u.getDomPoint({x:b.centerX,y:b.maxY}),A=u.getDomPoint({x:b.maxX,y:b.centerY});h.css({top:M.y-(i+10)+"px",left:M.x-a/2+"px",transform:"rotate(-90deg)"}),v.css({top:E.y+10+"px",left:E.x-a/2+"px",transform:"rotate(90deg)"}),f.css({top:O.y-a/2+"px",left:O.x-(i+10)+"px",transform:"rotate(180deg)"}),m.css({top:A.y-a/2+"px",left:A.x+10+"px"}),h.setAttribute("anchorIndex",0),v.setAttribute("anchorIndex",2),f.setAttribute("anchorIndex",3),m.setAttribute("anchorIndex",1),n.showArrowController(o)}}),u.behaviourOn("mousemove",function(c){var h=c.x,v=c.y;if(o){var f=o.getBBox(),m=i+10,b=f.minX-m,M=f.minY-m,O=f.maxX+m,E=f.maxY+m;(h<b||v<M||h>O||v>E)&&(n.hideArrowController(),o=void 0)}})})},function(d,y,p){p(128),p(12).registerNode("bpmn-base",{anchor:null})},function(d,y,p){"use strict";p.r(y);var n=p(12),o=p.n(n),u=p(0);function r(a){var c=a.bbox,h=a.shape,v=h===void 0?"ROUNDED_RECT":h,f=a.point,m=a.vertical;m=!!m;var b={true:"x",false:"y"},M={true:"minX",false:"minY"},O={true:"maxX",false:"maxY"};switch(v){case"ROUNDED_RECT":if(f[b[m]]>=c[M[m]]+4&&f[b[m]]<=c[O[m]]-4)return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?c.maxX:c.minX,y:m?f.y>c.centerY?c.maxY:c.minY:f.y}};if(f[b[m]]>=c[M[m]]&&f[b[m]]<c[M[m]]+4)return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?c.maxX-4+Math.sqrt(16-Math.pow(c.minY+4-f.y,2)):c.minX+4-Math.sqrt(16-Math.pow(c.minY+4-f.y,2)),y:m?f.y>c.centerY?c.maxY-4+Math.sqrt(16-Math.pow(c.minX+4-f.x,2)):c.minY+4-Math.sqrt(16-Math.pow(c.minX+4-f.x,2)):f.y}};if(f[b[m]]>=c[O[m]]-4&&f[b[m]]<=c[O[m]])return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?c.maxX-4+Math.sqrt(16-Math.pow(f.y-c.maxY+4,2)):c.minX+4-Math.sqrt(16-Math.pow(f.y-c.maxY+4,2)),y:m?f.y>c.centerY?c.maxY-4+Math.sqrt(16-Math.pow(f.x-c.maxX+4,2)):c.minY+4-Math.sqrt(16-Math.pow(f.x-c.maxX+4,2)):f.y}};break;case"CIRCLE":if(f[b[m]]>=c[M[m]]&&f[b[m]]<=c[O[m]])return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?c.centerX+Math.sqrt(16-Math.pow(c.centerY-f.y)):c.centerX-Math.sqrt(16-Math.pow(c.centerY-f.y)),y:m?f.y>c.centerY?c.centerY+Math.sqrt(16-Math.pow(c.centerX-f.x)):c.centerY-Math.sqrt(16-Math.pow(c.centerX-f.x)):f.y}};break;case"RHOMEBUS":if(f[b[m]]>=c[M[m]]&&f[b[m]]<=c[O[m]])return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?f.y<c.centerY?(f.y-c.minY)*(c.maxX-c.centerX)/(c.centerY-c.minY)+c.centerX:(c.maxY-f.y)*(c.maxX-c.centerX)/(c.maxY-c.centerY)+c.centerX:f.y<c.centerY?c.centerX-(f.y-c.minY)*(c.centerX-c.minX)/(c.centerY-c.minY):c.centerX-(c.maxY-f.y)*(c.centerX-c.minX)/(c.maxY-c.centerY),y:m?f.y>c.centerY?f.x<c.centerX?(f.x-c.minX)*(c.maxY-c.centerY)/(c.centerX-c.minX)+c.centerY:(c.maxX-f.x)*(c.maxY-c.centerY)/(c.maxX-c.centerX)+c.centerY:f.x<c.centerX?c.centerY-(f.x-c.minX)*(c.centerY-c.minY)/(c.centerX-c.minX):c.centerY-(c.maxX-f.x)*(c.centerY-c.minY)/(c.maxX-c.centerX):f.y}};break;case"RECT":default:if(f[b[m]]>=c[M[m]]&&f[b[m]]<=c[O[m]])return{added:void 0,joint:{x:m?f.x:f.x>c.centerX?c.maxX:c.minX,y:m?f.y>c.centerY?c.maxY:c.minY:f.y}}}return m?f.x<c.centerX?{added:{x:f.x,y:c.centerY},joint:{x:c.minX,y:c.centerY}}:{added:{x:f.x,y:c.centerY},joint:{x:c.maxX,y:c.centerY}}:f.y<c.centerY?{added:{x:c.centerX,y:f.y},joint:{x:c.centerX,y:c.minY}}:{added:{x:c.centerX,y:f.y},joint:{x:c.centerX,y:c.maxY}}}var i=p(20);o.a.registerEdge("bpmn-base",{getPath:function(a){var c,h=a.getSource(),v=a.getTarget(),f=a.model;if(f.edgeMoved&&f.lastMouse){var m,b,M,O,E,A=f.controlPoints,j=f.hold.index,B=[{x:A[j].x+f.edgeMoved.x,y:A[j].y+f.edgeMoved.y},{x:A[j+1].x+f.edgeMoved.x,y:A[j+1].y+f.edgeMoved.y}],D=Object(u.j)(B,0);if(h){var T=r({bbox:h.getBBox(),point:D,vertical:f.hold.vertical,shape:h.model.shape});b=T.added,M=T.joint}if(j===0&&h&&(B[0]=M,b&&(B.splice(1,0,b),a.model.hold.index+=1)),v){var Y=r({bbox:v.getBBox(),point:D,vertical:f.hold.vertical,shape:v.model.shape});O=Y.added,E=Y.joint}j===A.length-2&&v&&(b&&j===0?(B[2]=E,O&&B.splice(2,0,O)):(B[1]=E,O&&B.splice(1,0,O))),(m=f.controlPoints).splice.apply(m,[j,2].concat(B)),h&&Object(u.l)(M,A,f.hold.index)&&(A.splice(0,f.hold.index),f.hold.index=0,A[0]=M),v&&Object(u.l)(E,A,f.hold.index)&&(f.controlPoints.splice(f.hold.index+1),A[f.hold.index+1]=E),c=Object(i.mergeLine)(a,j),function($,K,ot){var at=$.controlPoints;if(K){var ht=Object(u.f)(at[0],K.getBBox()),St=ht.point,pt=ht.index;$.sourceJoint={index:pt,delta:{x:at[0].x-St.x,y:at[0].y-St.y}}}if(ot){var xt=Object(u.f)(at[at.length-1],ot.getBBox()),vt=xt.point,gt=xt.index;$.targetJoint={index:gt,delta:{x:at[at.length-1].x-vt.x,y:at[at.length-1].y-vt.y}}}}(f,h,v),f.lastMouse={x:f.lastMouse.x+f.edgeMoved.x,y:f.lastMouse.y+f.edgeMoved.y}}else if(f.modifiedByMouse&&f.nodeMoved)(function($,K,ot){if($.nodeMoved){var at=$.nodeMoved.item===K.id,ht=$.nodeMoved.item===ot.id,St=at?K.getBBox():ot.getBBox(),pt=$.nodeMoved.delta,xt={minX:St.minX-pt.x,maxX:St.maxX-pt.x,centerX:St.centerX-pt.x,minY:St.minY-pt.y,maxY:St.maxY-pt.y,centerY:St.centerY+pt.y,height:St.height,width:St.width},vt=$.controlPoints;if(vt.length===2){var gt=Object(u.d)(K,ot),_t=gt.sourcePoint,Bt=gt.targetPoint;$.sourceJoint&&_t.index===$.sourceJoint.index&&(_t.point=Object(u.c)(K.getBBox())[_t.index],_t.point.x+=$.sourceJoint.delta.x,_t.point.y+=$.sourceJoint.delta.y),$.targetJoint&&Bt.index===$.targetJoint.index&&(Bt.point=Object(u.c)(ot.getBBox())[Bt.index],Bt.point.x+=$.targetJoint.delta.x,Bt.point.y+=$.targetJoint.delta.y);var At=Object(u.h)(_t,Bt);$.controlPoints=At}else{var It;It=at?1:vt.length-3;var lt=Object(u.i)(vt,It),X=Object(u.a)(xt,vt,It),V=Object(u.a)(St,vt,It),Z=at?$.sourceJoint:$.targetJoint;if(X===V){var W=Object(u.c)(St)[Z.index],rt={x:W.x+Z.delta.x,y:W.y+Z.delta.y},tt=Object(u.g)(rt,vt,It);at?$.controlPoints.splice(0,2,rt,tt):ht&&$.controlPoints.splice(It+1,2,tt,rt)}else if(V===0)if(vt.length===3){var Q=Object(u.d)(K,ot),ft=Q.sourcePoint,Et=Q.targetPoint,Ct=Object(u.h)(ft,Et);$.controlPoints=Ct}else{var Nt,Ft=Object(u.j)(vt,It);Nt=lt?Ft.y<St.centerY?0:2:Ft.x<St.centerX?3:1;var Rt=Object(u.c)(St)[Nt];if(at){var kt=Object(u.g)(Rt,vt,It+1);$.controlPoints.splice(0,3,Rt,kt),$.sourceJoint={index:Nt,delta:{x:0,y:0}}}else if(ht){var Pt=Object(u.g)(Rt,vt,It-1);$.controlPoints.splice(It,3,Pt,Rt),$.targetJoint={index:Nt,delta:{x:0,y:0}}}}else{var Xt=Object(u.k)(Z.index),Ut=Object(u.c)(St)[Xt],ct=Object(u.g)(Ut,vt,It);at?($.controlPoints.splice(0,2,Ut,ct),$.sourceJoint={index:Xt,delta:{x:0,y:0}}):ht&&($.controlPoints.splice(It+1,2,ct,Ut),$.targetJoint={index:Xt,delta:{x:0,y:0}})}}}})(f,h,v);else if(!f.modifiedByMouse){var G=f.anchorIndex,U=Object(u.d)(h,v,!f.initialed&&G),H=U.sourcePoint,J=U.targetPoint,ut=Object(u.h)(H,J);a.model.controlPoints=ut}return f.nodeMoved=void 0,{path:this.getPathByPoints({points:f.controlPoints}),helpLine:c}},draw:function(a){var c=a.getGraphicGroup(),h=a.model,v=this.getPath(a),f=v.path,m=v.helpLine,b=this.getStyle(a),M=Object(u.b)(c,f,b);if(h.hold!=null){var O=Object(u.j)(h.controlPoints,h.hold.index);c.addShape("circle",{attrs:{x:O.x,y:O.y,r:3,fill:"rgb(0,182,239)"}})}return m&&(h.helpLine=m,h.helpLineTime=new Date().getTime()),!m&&new Date().getTime()-h.helpLineTime>=150&&(h.helpLine=void 0,h.helpLineTime=void 0),h.helpLine&&c.addShape("path",{attrs:{path:[["M",h.helpLine[0].x,h.helpLine[0].y],["L",h.helpLine[1].x,h.helpLine[1].y]],lineAppendWidth:8,lineWidth:1,strokeOpacity:.92,stroke:"rgba(255,139,48)"}}),M}})}])})},31409:function(zt,C,x){"use strict";x.d(C,{Tr:function(){return xn},oP:function(){return Mn},mY:function(){return We},xV:function(){return rn},JF:function(){return Jn},ff:function(){return nn},G8:function(){return In},Zw:function(){return ct},Cc:function(){return jn},_7:function(){return Qn},ck:function(){return cn},qZ:function(){return pn},qU:function(){return ge},CH:function(){return pe},N5:function(){return Dn},eA:function(){return bn},Ko:function(){return ln},Fn:function(){return Cn},Kk:function(){return hn},o8:function(){return un},ZP:function(){return lr},Yn:function(){return tr}});var s=x(21464),d=x(54597),y=x(2431),p=x(40633),n=x(48093),o=x(55322),u=x(21433),r=x.n(u),i=x(62811),a="J_FlowContainer",c="J_MindContainer",h="J_KoniContainer",v="J_ToolbarContainer",f="J_MinimapContainer",m="J_ContextMenuContainer",b="Flow",M="Mind",O="Koni",E="beforeAddPage",A="afterAddPage",j="canvas-selected",B="node-selected",D="edge-selected",T="group-selected",Y="multi-selected",G={click:"Click",contextmenu:"ContextMenu",dblclick:"DoubleClick",drag:"Drag",dragend:"DragEnd",dragenter:"DragEnter",dragleave:"DragLeave",dragstart:"DragStart",drop:"Drop",mousedown:"MouseDown",mouseenter:"MouseEnter",mouseleave:"MouseLeave",mousemove:"MouseMove",mouseup:"MouseUp"},U={afterchange:"onAfterChange",afterchangesize:"onAfterChangeSize",afterviewportchange:"onAfterViewportChange",beforechange:"onBeforeChange",beforechangesize:"onBeforeChangeSize",beforeviewportchange:"onBeforeViewportChange",keydown:"onKeyDown",keyup:"onKeyUp",mousewheel:"onMouseWheel"},H={afteritemactived:"onAfterItemActived",afteriteminactivated:"onAfterItemInactivated",afteritemselected:"onAfterItemSelected",afteritemunactived:"onAfterItemInactivated",afteritemunselected:"onAfterItemUnselected",beforeitemactived:"onBeforeItemActived",beforeiteminactivated:"onBeforeItemInactivated",beforeitemselected:"onBeforeItemSelected",beforeitemunactived:"onBeforeItemInactivated",beforeitemunselected:"onBeforeItemUnselected",keyUpEditLabel:"onKeyUpEditLabel"},J={aftercommandexecute:"onAfterCommandExecute",beforecommandexecute:"onBeforeCommandExecute"},ut=Object.keys(G),$=Object.keys(U),K=Object.keys(H),ot=Object.keys(J),at=x(35232),ht=x(92867),St={trackable:!0,version:"2.0.4"},pt={get:function(oe){return St[oe]},set:function(oe,Mt){St[oe]=Mt}},xt=x(97869),vt=x(54941),gt=x(28440),_t=x.n(gt),Bt=x(89409),At=x.n(Bt),It=x(95708),lt=x.n(It),X=x(53592),V=x.n(X),Z=function(oe){return Object.keys(oe).map(function(Mt){return"".concat(encodeURIComponent(Mt),"=").concat(encodeURIComponent(oe[Mt]))}).join("&")},W="http://gm.mmstat.com/fsp.1.1",rt=function(oe){var Mt=pt.get("trackable"),it=pt.get("version");if(!!Mt){var yt=window,jt=yt.location,Ht=yt.navigator,ne=new Image,le=Z((0,ht.Z)({pid:"ggeditor",code:"11",msg:"syslog",page:"".concat(jt.protocol,"//").concat(jt.host).concat(jt.pathname),hash:jt.hash,ua:Ht.userAgent,rel:it},oe));ne.src="".concat(W,"?").concat(le)}},tt=function(xe){setTimeout(function(){rt(xe)},1e3)},Q=function(xe){(0,o.Z)(oe,xe);function oe(Mt){var it;return(0,d.Z)(this,oe),it=(0,p.Z)(this,(0,n.Z)(oe).call(this,Mt)),it.id=lt()(),it.on(E,function(yt){var jt=yt.className;tt({c1:jt})}),it}return oe}(r()),ft=x(91363),Et=x(80118),Ct=x(60726),Nt=x(59301),Ft=function(xe){(0,o.Z)(oe,xe);function oe(){var Mt,it;(0,d.Z)(this,oe);for(var yt=arguments.length,jt=new Array(yt),Ht=0;Ht<yt;Ht++)jt[Ht]=arguments[Ht];return it=(0,p.Z)(this,(Mt=(0,n.Z)(oe)).call.apply(Mt,[this].concat(jt))),it.page=void 0,it.config={},it.addListener=function(ne,le,fe){typeof fe=="function"&&ne.on(le,fe)},it}return(0,y.Z)(oe,[{key:"componentDidMount",value:function(){this.init(),this.bindEvent(),this.forceUpdate()}},{key:"shouldComponentUpdate",value:function(it){var yt=it.data,jt=this.props.data,Ht=it.graph||{},ne=Ht.mode,le=this.props.graph||{},fe=le.mode;return ne!==fe&&this.page.changeMode(ne),yt!==jt?(this.page.read(yt),!0):!1}},{key:"initPage",value:function(){}},{key:"readData",value:function(){var it=this.config.data;it&&this.page.read(it)}},{key:"init",value:function(){_t()(this.config,this.props,{graph:{container:this.pageId}}),this.initPage(),this.readData()}},{key:"bindEvent",value:function(){var it=this,yt=this.addListener;ut.forEach(function(jt){var Ht=G[jt];yt(it.graph,"".concat(jt),it.props["on".concat(Ht)]),yt(it.graph,"node:".concat(jt),it.props["onNode".concat(Ht)]),yt(it.graph,"edge:".concat(jt),it.props["onEdge".concat(Ht)]),yt(it.graph,"group:".concat(jt),it.props["onGroup".concat(Ht)]),yt(it.graph,"guide:".concat(jt),it.props["onGuide".concat(Ht)]),yt(it.graph,"anchor:".concat(jt),it.props["onAnchor".concat(Ht)])}),$.forEach(function(jt){yt(it.graph,[jt],it.props[U[jt]])}),K.forEach(function(jt){yt(it.page,[jt],it.props[H[jt]])})}},{key:"render",value:function(){var it=this.page,yt=this.pageId,jt=this.props.children;return Nt.createElement("div",(0,Ct.Z)({id:yt},At()(this.props,["style","className"])),it?jt:null)}},{key:"pageId",get:function(){return""}},{key:"graph",get:function(){return this.page.getGraph()}}]),oe}(Nt.Component),Rt=Ft,kt=x(16634),Pt=Nt.createContext({});function Xt(xe){var oe=function(Mt){(0,o.Z)(it,Mt);function it(){return(0,d.Z)(this,it),(0,p.Z)(this,(0,n.Z)(it).apply(this,arguments))}return(0,y.Z)(it,[{key:"render",value:function(){var jt=this.props,Ht=jt.forwardRef,ne=(0,kt.Z)(jt,["forwardRef"]);return Nt.createElement(Pt.Consumer,null,function(le){return Nt.createElement(xe,(0,Ct.Z)({ref:Ht},ne,le))})}}]),it}(Nt.Component);return Nt.forwardRef(function(Mt,it){return Nt.createElement(oe,(0,Ct.Z)({},Mt,{forwardRef:it}))})}var Ut=function(xe){(0,o.Z)(oe,xe);function oe(){return(0,d.Z)(this,oe),(0,p.Z)(this,(0,n.Z)(oe).apply(this,arguments))}return(0,y.Z)(oe,[{key:"initPage",value:function(){var it=this.props.editor;it.emit(E,{className:b}),this.page=new Q.Flow(this.config),it.add(this.page),it.emit(A,{page:this.page})}},{key:"pageId",get:function(){var it=this.props.editor;return"".concat(a,"_").concat(it.id)}}]),oe}(Rt);Ut.defaultProps={data:{nodes:[],edges:[]}};var ct=Xt(Ut),re=x(17739),ve=function(xe){(0,o.Z)(oe,xe);function oe(){return(0,d.Z)(this,oe),(0,p.Z)(this,(0,n.Z)(oe).apply(this,arguments))}return(0,y.Z)(oe,[{key:"initPage",value:function(){var it=this.props.editor;it.emit(E,{className:M}),this.page=new Q.Mind(this.config),it.add(this.page),it.emit(A,{page:this.page})}},{key:"bindEvent",value:function(){(0,re.Z)((0,n.Z)(oe.prototype),"bindEvent",this).call(this),this.bindKeyUpEditLabel()}},{key:"bindKeyUpEditLabel",value:function(){var it=this,yt=this.page.get("labelTextArea");yt.on("keyup",function(jt){jt.stopPropagation();var Ht=yt.focusItem,ne=yt.textContent;it.page.emit("keyUpEditLabel",{item:Ht,text:ne})})}},{key:"pageId",get:function(){var it=this.props.editor;return"".concat(c,"_").concat(it.id)}}]),oe}(Rt),pe=Xt(ve),Me=function(xe){(0,o.Z)(oe,xe);function oe(){return(0,d.Z)(this,oe),(0,p.Z)(this,(0,n.Z)(oe).apply(this,arguments))}return(0,y.Z)(oe,[{key:"initPage",value:function(){var it=this.props.editor;it.emit(E,{className:O}),this.page=new Q.Koni(this.config),it.add(this.page),it.emit(A,{page:this.page})}},{key:"pageId",get:function(){var it=this.props.editor;return"".concat(h,"_").concat(it.id)}}]),oe}(Rt);Me.defaultProps={data:{nodes:[],edges:[]}};var ge=Xt(Me),ce=x(1628),ye=function(xe){(0,o.Z)(oe,xe);function oe(Mt,it){var yt;return(0,d.Z)(this,oe),yt=(0,p.Z)(this,(0,n.Z)(oe).call(this,Mt)),yt.type=it,yt.bindEvent(),yt}return(0,y.Z)(oe,[{key:"bindEvent",value:function(){var it=this,yt=this.type,jt=this.props.onBeforeAddPage;jt(function(Ht){var ne,le=Ht.className,fe=Q[le],qt=["name","config","extend"];yt==="command"&&(fe=Q),yt==="behaviour"&&(qt=["name","behaviour","dependences"]);var wt=qt.map(function(Lt){return it.props[Lt]});(ne=fe)["register".concat(V()(yt))].apply(ne,(0,ce.Z)(wt))})}},{key:"render",value:function(){return null}}]),oe}(Nt.Component);ye.create=function(xe){var oe=function(Mt){(0,o.Z)(it,Mt);function it(yt){return(0,d.Z)(this,it),(0,p.Z)(this,(0,n.Z)(it).call(this,yt,xe))}return it}(ye);return Xt(oe)};var be=ye.create("node"),Oe=ye.create("edge"),Xe=ye.create("group"),Ie=ye.create("guide"),De=ye.create("command"),we=ye.create("behaviour"),Be=x(32282),He=function(xe){(0,o.Z)(oe,xe);function oe(){return(0,d.Z)(this,oe),(0,p.Z)(this,(0,n.Z)(oe).apply(this,arguments))}return(0,y.Z)(oe,[{key:"render",value:function(){var it=this.props,yt=it.name,jt=it.children;return Nt.createElement("div",{className:"command","data-command":yt},jt)}}]),oe}(Nt.Component),We=He,Re=x(95756),sn=x.n(Re);x(65817);var en=sn().Components.Minimap,Ue=function(xe){(0,o.Z)(oe,xe),(0,y.Z)(oe,[{key:"containerId",get:function(){var it=this.props.editor;return"".concat(f,"_").concat(it.id)}},{key:"currentPage",get:function(){var it=this.props.editor;return it.getCurrentPage()}}]);function oe(Mt){var it;return(0,d.Z)(this,oe),it=(0,p.Z)(this,(0,n.Z)(oe).call(this,Mt)),it.minimap=null,it.bindEvent(),it}return(0,y.Z)(oe,[{key:"componentDidMount",value:function(){this.init(),this.bindPage()}},{key:"init",value:function(){var it=this,yt=this.props,jt=yt.container,Ht=jt===void 0?this.containerId:jt,ne=yt.width,le=yt.height,fe=yt.viewportWindowStyle,qt=yt.viewportBackStyle,wt=document.getElementById(Ht),Lt=wt.clientWidth,Vt=wt.clientHeight;this.minimap=new en({container:Ht,width:ne||Lt,height:le||Vt,viewportWindowStyle:fe,viewportBackStyle:qt}),this.minimap.getGraph=function(){return it.currentPage.getGraph()}}},{key:"bindPage",value:function(){if(!(!this.minimap||!this.currentPage)){var it=this.currentPage.getGraph();this.minimap.bindGraph(it),this.minimap.debounceRender()}}},{key:"bindEvent",value:function(){var it=this,yt=this.props.onAfterAddPage;yt(function(){it.bindPage()})}},{key:"render",value:function(){var it=this.props.container;return it?null:Nt.createElement("div",(0,Ct.Z)({id:this.containerId},At()(this.props,["style","className"])))}}]),oe}(Nt.Component),Dn=Xt(Ue),yn=function(xe){(0,o.Z)(oe,xe);function oe(Mt,it){var yt;return(0,d.Z)(this,oe),yt=(0,p.Z)(this,(0,n.Z)(oe).call(this,Mt)),yt.type=it,yt}return(0,y.Z)(oe,[{key:"render",value:function(){var it=this.props.children,yt=this.type;return Nt.createElement("div",{className:"menu","data-status":"".concat(yt,"-selected")},it)}}]),oe}(Nt.Component);yn.create=function(xe){return function(oe){(0,o.Z)(Mt,oe);function Mt(it){return(0,d.Z)(this,Mt),(0,p.Z)(this,(0,n.Z)(Mt).call(this,it,xe))}return Mt}(yn)};var Ge=yn,An=function(xe){(0,o.Z)(oe,xe);function oe(){var Mt,it;(0,d.Z)(this,oe);for(var yt=arguments.length,jt=new Array(yt),Ht=0;Ht<yt;Ht++)jt[Ht]=arguments[Ht];return it=(0,p.Z)(this,(Mt=(0,n.Z)(oe)).call.apply(Mt,[this].concat(jt))),it.contextMenu=null,it}return(0,y.Z)(oe,[{key:"componentDidMount",value:function(){var it=this.props.editor;this.contextMenu=new Q.Contextmenu({container:this.containerId}),it.add(this.contextMenu)}},{key:"render",value:function(){var it=this.props.children;return Nt.createElement("div",(0,Ct.Z)({id:this.containerId},At()(this.props,["style","className"])),it)}},{key:"containerId",get:function(){var it=this.props.editor;return"".concat(m,"_").concat(it.id)}}]),oe}(Nt.Component),Cn=Ge.create("node"),nn=Ge.create("edge"),jn=Ge.create("group"),bn=Ge.create("multi"),xn=Ge.create("canvas"),rn=Xt(An),Ze=function(xe){(0,o.Z)(oe,xe),(0,y.Z)(oe,[{key:"containerId",get:function(){var it=this.props.editor;return"".concat(v,"_").concat(it.id)}}]);function oe(Mt){var it;(0,d.Z)(this,oe),it=(0,p.Z)(this,(0,n.Z)(oe).call(this,Mt)),it.toolbar=null;var yt=Mt.editor,jt=Mt.onAfterAddPage;return jt(function(){it.toolbar=new Q.Toolbar({container:it.containerId}),yt.add(it.toolbar)}),it}return(0,y.Z)(oe,[{key:"render",value:function(){var it=this.props.children;return Nt.createElement("div",(0,Ct.Z)({id:this.containerId},At()(this.props,["style","className"])),it)}}]),oe}(Nt.Component),un=Xt(Ze),on=function(xe){(0,o.Z)(oe,xe);function oe(Mt){var it;return(0,d.Z)(this,oe),it=(0,p.Z)(this,(0,n.Z)(oe).call(this,Mt)),it.handleMouseDown=function(){var yt=it.props,jt=yt.type,Ht=yt.size,ne=yt.shape,le=yt.model;it.page&&it.page.beginAdd(jt,(0,ht.Z)({type:jt,size:Ht,shape:ne},le))},it.bindEvent(),it}return(0,y.Z)(oe,[{key:"bindEvent",value:function(){var it=this,yt=this.props.onAfterAddPage;yt(function(jt){var Ht=jt.page;it.page=Ht})}},{key:"render",value:function(){var it=this.props,yt=it.src,jt=it.shape,Ht=it.children;return Nt.createElement("div",{style:{cursor:"pointer"},onMouseDown:this.handleMouseDown},yt?Nt.createElement("img",{src:yt,alt:jt,draggable:!1}):Ht)}}]),oe}(Nt.Component),cn=Xt(on),Le=function(xe){(0,o.Z)(oe,xe);function oe(Mt){var it;return(0,d.Z)(this,oe),it=(0,p.Z)(this,(0,n.Z)(oe).call(this,Mt)),it.page=null,it.handleMouseUp=function(){it.page.cancelAdd()},it.bindEvent(),it}return(0,y.Z)(oe,[{key:"bindEvent",value:function(){var it=this,yt=this.props.onAfterAddPage;yt(function(jt){var Ht=jt.page;it.page=Ht,document.addEventListener("mouseup",it.handleMouseUp)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var it=this.props.children;return Nt.createElement("div",(0,Ct.Z)({id:this.containerId},At()(this.props,["style","className"])),it)}}]),oe}(Nt.Component),pn=Xt(Le),Ke=function(xe){(0,o.Z)(oe,xe);function oe(Mt,it){var yt;return(0,d.Z)(this,oe),yt=(0,p.Z)(this,(0,n.Z)(oe).call(this,Mt)),yt.type=it,yt}return(0,y.Z)(oe,[{key:"render",value:function(){var it=this.props,yt=it.status,jt=it.children,Ht=this.type;return"".concat(Ht,"-selected")!==yt?null:Nt.createElement("div",At()(this.props,["style","className"]),jt)}}]),oe}(Nt.Component);Ke.create=function(xe){return function(oe){(0,o.Z)(Mt,oe);function Mt(it){return(0,d.Z)(this,Mt),(0,p.Z)(this,(0,n.Z)(Mt).call(this,it,xe))}return Mt}(Ke)};var an=Ke,wn=function(xe){(0,o.Z)(oe,xe);function oe(Mt){var it;return(0,d.Z)(this,oe),it=(0,p.Z)(this,(0,n.Z)(oe).call(this,Mt)),it.state={status:""},it.bindEvent(),it}return(0,y.Z)(oe,[{key:"bindEvent",value:function(){var it=this,yt=this.props.onAfterAddPage;yt(function(jt){var Ht=jt.page;it.setState({status:j}),Ht.on("statuschange",function(ne){var le=ne.status;it.setState({status:le})})})}},{key:"render",value:function(){var it=this.props.children,yt=this.state.status;return yt?Nt.createElement("div",At()(this.props,["style","className"]),Nt.Children.toArray(it).map(function(jt){return Nt.cloneElement(jt,{status:yt})})):null}}]),oe}(Nt.Component),hn=an.create("node"),In=an.create("edge"),Qn=an.create("group"),ln=an.create("multi"),Mn=an.create("canvas"),Jn=Xt(wn),Sn=Nt.createContext({});function tr(xe){var oe=function(Mt){(0,o.Z)(it,Mt);function it(){return(0,d.Z)(this,it),(0,p.Z)(this,(0,n.Z)(it).apply(this,arguments))}return(0,y.Z)(it,[{key:"render",value:function(){var jt=this.props,Ht=jt.forwardRef,ne=(0,kt.Z)(jt,["forwardRef"]);return Nt.createElement(Sn.Consumer,null,function(le){return Nt.createElement(xe,(0,Ct.Z)({ref:Ht},ne,{propsAPI:le}))})}}]),it}(Nt.Component);return Nt.forwardRef(function(Mt,it){return Nt.createElement(oe,(0,Ct.Z)({},Mt,{forwardRef:it}))})}var kr=x(5361),hr=function(){function xe(oe){var Mt=this;(0,d.Z)(this,xe),this.editor=null,this.editor=oe,["executeCommand"].forEach(function(it){Mt[it]=function(){var yt;return(yt=Mt.editor)[it].apply(yt,arguments)}}),["read","save","add","find","update","remove","getSelected"].forEach(function(it){Mt[it]=function(){var yt;return(yt=Mt.currentPage)[it].apply(yt,arguments)}})}return(0,y.Z)(xe,[{key:"currentPage",get:function(){return this.editor.getCurrentPage()}}]),xe}(),er=hr,gr=function(xe){(0,o.Z)(oe,xe),(0,y.Z)(oe,[{key:"currentPage",get:function(){return this.editor.getCurrentPage()}}],[{key:"setTrackable",value:function(it){pt.set("trackable",Boolean(it))}}]);function oe(Mt){var it;return(0,d.Z)(this,oe),it=(0,p.Z)(this,(0,n.Z)(oe).call(this,Mt)),it.editor=null,it.addListener=function(yt,jt,Ht){typeof Ht=="function"&&yt.on(jt,Ht)},it.handleBeforeAddPage=function(yt){it.editor.on(E,yt)},it.handleAfterAddPage=function(yt){var jt=(0,kr.Z)(it),Ht=jt.currentPage;if(Ht){yt({page:Ht});return}it.editor.on(A,yt)},it.init(),it.bindEvent(),it}return(0,y.Z)(oe,[{key:"init",value:function(){this.editor=new Q,this.ggEditor={editor:this.editor,onBeforeAddPage:this.handleBeforeAddPage,onAfterAddPage:this.handleAfterAddPage},this.propsAPI=new er(this.editor)}},{key:"bindEvent",value:function(){var it=this;ot.forEach(function(yt){it.addListener(it.editor,[yt],it.props[J[yt]])})}},{key:"componentWillUnmount",value:function(){this.editor.destroy()}},{key:"render",value:function(){var it=this.props.children;return Nt.createElement(Pt.Provider,{value:this.ggEditor},Nt.createElement(Sn.Provider,{value:this.propsAPI},Nt.createElement("div",At()(this.props,["style","className"]),it)))}}]),oe}(Nt.Component),nr=gr,lr=nr},72828:function(zt){function C(x){return x.split("")}zt.exports=C},9256:function(zt,C,x){var s=x(57095),d=x(88133);function y(p,n,o,u,r){var i=-1,a=p.length;for(o||(o=d),r||(r=[]);++i<a;){var c=p[i];n>0&&o(c)?n>1?y(c,n-1,o,u,r):s(r,c):u||(r[r.length]=c)}return r}zt.exports=y},88832:function(zt,C,x){var s=x(10867),d=x(37879);function y(p,n){return s(p,n,function(o,u){return d(p,u)})}zt.exports=y},10867:function(zt,C,x){var s=x(89147),d=x(36897),y=x(1186);function p(n,o,u){for(var r=-1,i=o.length,a={};++r<i;){var c=o[r],h=s(n,c);u(h,c)&&d(a,y(c,n),h)}return a}zt.exports=p},36897:function(zt,C,x){var s=x(60348),d=x(1186),y=x(70213),p=x(20816),n=x(9171);function o(u,r,i,a){if(!p(u))return u;r=d(r,u);for(var c=-1,h=r.length,v=h-1,f=u;f!=null&&++c<h;){var m=n(r[c]),b=i;if(m==="__proto__"||m==="constructor"||m==="prototype")return u;if(c!=v){var M=f[m];b=a?a(M,m,f):void 0,b===void 0&&(b=p(M)?M:y(r[c+1])?[]:{})}s(f,m,b),f=f[m]}return u}zt.exports=o},75760:function(zt){function C(x,s,d){var y=-1,p=x.length;s<0&&(s=-s>p?0:p+s),d=d>p?p:d,d<0&&(d+=p),p=s>d?0:d-s>>>0,s>>>=0;for(var n=Array(p);++y<p;)n[y]=x[y+s];return n}zt.exports=C},4324:function(zt,C,x){var s=x(75760);function d(y,p,n){var o=y.length;return n=n===void 0?o:n,!p&&n>=o?y:s(y,p,n)}zt.exports=d},97815:function(zt,C,x){var s=x(4324),d=x(55015),y=x(80935),p=x(44140);function n(o){return function(u){u=p(u);var r=d(u)?y(u):void 0,i=r?r[0]:u.charAt(0),a=r?s(r,1).join(""):u.slice(1);return i[o]()+a}}zt.exports=n},522:function(zt,C,x){var s=x(40151),d=x(19652),y=x(71152);function p(n){return y(d(n,void 0,s),n+"")}zt.exports=p},55015:function(zt){var C="\\ud800-\\udfff",x="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff",y=x+s+d,p="\\ufe0e\\ufe0f",n="\\u200d",o=RegExp("["+n+C+y+p+"]");function u(r){return o.test(r)}zt.exports=u},88133:function(zt,C,x){var s=x(91869),d=x(13053),y=x(80744),p=s?s.isConcatSpreadable:void 0;function n(o){return y(o)||d(o)||!!(p&&o&&o[p])}zt.exports=n},80935:function(zt,C,x){var s=x(72828),d=x(55015),y=x(17826);function p(n){return d(n)?y(n):s(n)}zt.exports=p},17826:function(zt){var C="\\ud800-\\udfff",x="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",d="\\u20d0-\\u20ff",y=x+s+d,p="\\ufe0e\\ufe0f",n="["+C+"]",o="["+y+"]",u="\\ud83c[\\udffb-\\udfff]",r="(?:"+o+"|"+u+")",i="[^"+C+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",v=r+"?",f="["+p+"]?",m="(?:"+h+"(?:"+[i,a,c].join("|")+")"+f+v+")*",b=f+v+m,M="(?:"+[i+o+"?",o,a,c,n].join("|")+")",O=RegExp(u+"(?="+u+")|"+M+b,"g");function E(A){return A.match(O)||[]}zt.exports=E},40151:function(zt,C,x){var s=x(9256);function d(y){var p=y==null?0:y.length;return p?s(y,1):[]}zt.exports=d},89409:function(zt,C,x){var s=x(88832),d=x(522),y=d(function(p,n){return p==null?{}:s(p,n)});zt.exports=y},95708:function(zt,C,x){var s=x(44140),d=0;function y(p){var n=++d;return s(p)+n}zt.exports=y},53592:function(zt,C,x){var s=x(97815),d=s("toUpperCase");zt.exports=d}}]);
