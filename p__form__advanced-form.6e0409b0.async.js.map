{"version":3,"sources":["webpack://ant-design-pro/./node_modules/@ant-design/pro-form/es/components/DateRangePicker/index.js","webpack://ant-design-pro/./node_modules/@ant-design/pro-form/es/components/Select/index.js","webpack://ant-design-pro/./node_modules/@ant-design/pro-form/es/components/Text/index.js","webpack://ant-design-pro/./src/pages/form/advanced-form/style.less","webpack://ant-design-pro/./node_modules/@ant-design/pro-form/es/components/TimePicker/index.js","webpack://ant-design-pro/./node_modules/@ant-design/pro-table/es/components/EditableTable/index.js","webpack://ant-design-pro/./src/pages/form/advanced-form/index.tsx"],"names":["fieldLabels","name","url","owner","approver","dateRange","type","name2","url2","owner2","approver2","dateRange2","type2","tableData","key","workId","department","AdvancedForm","useState","error","setError","getErrorInfo","errors","errorCount","filter","item","length","scrollToField","fieldKey","labelNode","document","querySelector","scrollIntoView","errorList","map","err","styles","trigger","parentNode","onFinish","values","fakeSubmitForm","onFinishFailed","errorInfo","errorFields","columns","title","dataIndex","width","valueType","render","_","record","index","action","startEditable","props","dom","members","required","message","span","offset","style","addonBefore","addonAfter","label","value","Date","now"],"mappings":"yMAEI,EAAY,CAAC,aAAc,iBAM3B,EAAY,YAOZ,EAAsC,aAAiB,SAAU,EAAM,EAAK,CAC9E,GAAI,GAAa,EAAK,WAClB,EAAgB,EAAK,cACrB,EAAO,QAAyB,EAAM,GAEtC,EAAU,iBAAW,KACzB,MAAO,UAAK,IAAU,QAAc,CAClC,IAAK,EACL,WAAY,QAAc,CACxB,kBAAmB,EAAQ,mBAC1B,GACH,UAAW,EACX,cAAe,EACf,YAAa,CACX,UAAW,EACX,0BAA2B,SAAmC,EAAO,CACnE,MAAO,QAAmB,EAAQ,IAAe,KAAgC,OAAS,EAAW,SAAW,iBAGnH,MAEL,IAAe,G,qHClCX,EAAY,CAAC,aAAc,WAAY,SAAU,gBAAiB,OAAQ,YAAa,UAAW,aAAc,WAChH,EAAa,CAAC,aAAc,WAAY,SAAU,gBAAiB,OAAQ,YAAa,UAAW,WAYnG,EAAuC,aAAiB,SAAU,EAAM,EAAK,CAC/E,GAAI,GAAa,EAAK,WAClB,EAAW,EAAK,SAChB,GAAS,EAAK,OACd,EAAgB,EAAK,cACrB,EAAO,EAAK,KACZ,GAAY,EAAK,UACjB,GAAU,EAAK,QACf,EAAa,EAAK,WAClB,GAAU,EAAK,QACf,GAAO,QAAyB,EAAM,GAEtC,EAAU,iBAAW,KACzB,MAAO,UAAK,IAAc,QAAc,QAAc,CACpD,UAAW,QAAY,IACvB,QAAS,GACT,OAAQ,GACR,UAAW,SACX,YAAa,CACX,gBAAiB,IAEnB,WAAY,QAAc,CACxB,QAAS,GACT,KAAM,EACN,WAAY,EACZ,kBAAmB,EAAQ,mBAC1B,GACH,IAAK,EACL,cAAe,GACd,IAAO,GAAI,CACZ,SAAU,OAGV,EAA4B,aAAiB,SAAU,EAAO,EAAK,CACrE,GAAI,GAAa,EAAM,WACnB,EAAW,EAAM,SACjB,GAAS,EAAM,OACf,EAAgB,EAAM,cACtB,EAAO,EAAM,KACb,GAAY,EAAM,UAClB,GAAU,EAAM,QAChB,EAAU,EAAM,QAChB,GAAO,QAAyB,EAAO,GAEvC,GAAQ,QAAc,CACxB,QAAS,EACT,KAAM,GAAQ,WACd,aAAc,GACd,WAAY,GACZ,UAAW,GACX,qBAAsB,GACtB,gBAAiB,SAChB,GAEC,EAAU,iBAAW,KACzB,MAAO,UAAK,IAAc,QAAc,QAAc,CACpD,UAAW,QAAY,IACvB,QAAS,GACT,OAAQ,GACR,UAAW,SACX,YAAa,CACX,gBAAiB,IAEnB,WAAY,QAAc,CACxB,kBAAmB,EAAQ,mBAC1B,IACH,IAAK,EACL,cAAe,GACd,IAAO,GAAI,CACZ,SAAU,OAGV,EAAgB,EAChB,EAAsB,EACtB,EAAuB,EAC3B,EAAqB,aAAe,EAGpC,EAAqB,YAAc,mBACnC,IAAe,G,mFC5FX,EAAY,CAAC,aAAc,iBAC3B,EAAa,CAAC,aAAc,iBAG5B,EAAY,OAOZ,EAAc,SAAqB,EAAM,CAC3C,GAAI,GAAa,EAAK,WAClB,EAAgB,EAAK,cACrB,EAAO,QAAyB,EAAM,GAE1C,MAAO,UAAK,IAAU,QAAc,CAClC,UAAW,EACX,WAAY,EACZ,YAAa,CACX,UAAW,GAEb,cAAe,GACd,KAGD,EAAW,SAAkB,EAAO,CACtC,GAAI,GAAa,EAAM,WACnB,EAAgB,EAAM,cACtB,EAAO,QAAyB,EAAO,GAE3C,MAAO,UAAK,IAAU,QAAc,CAClC,UAAW,WACX,WAAY,EACZ,cAAe,EACf,YAAa,CACX,UAAW,IAEZ,KAGD,EAAqB,EACzB,EAAmB,SAAW,EAG9B,EAAmB,YAAc,mBACjC,IAAe,G,kBC/Cf,GAAO,QAAU,CAAC,KAAO,eAAe,UAAY,oBAAoB,QAAU,kBAAkB,aAAe,uBAAuB,cAAgB,wBAAwB,WAAa,qBAAqB,SAAW,qB,2TCC3N,GAAY,CAAC,aAAc,iBAC3B,GAAa,CAAC,aAAc,iBAM5B,EAAY,OAGZ,GAA+B,aAAiB,SAAU,EAAM,EAAK,CACvE,GAAI,GAAa,EAAK,WAClB,EAAgB,EAAK,cACrB,EAAO,QAAyB,EAAM,IAEtC,EAAU,iBAAW,KACzB,MAAO,UAAK,IAAU,QAAc,CAClC,IAAK,EACL,WAAY,QAAc,CACxB,kBAAmB,EAAQ,mBAC1B,GACH,UAAW,YACX,cAAe,EACf,YAAa,CACX,UAAW,YACX,0BAA2B,SAAmC,EAAO,CACnE,MAAO,SAAmB,EAAO,eAGpC,MAQD,GAAoB,SAA2B,EAAO,CACxD,GAAI,GAAa,EAAM,WACnB,EAAgB,EAAM,cACtB,EAAO,QAAyB,EAAO,IAEvC,EAAU,iBAAW,KACzB,MAAO,UAAK,IAAU,QAAc,CAClC,WAAY,QAAc,CACxB,kBAAmB,EAAQ,mBAC1B,GACH,UAAW,EACX,cAAe,EACf,YAAa,CACX,gBAAiB,GACjB,UAAW,IAEZ,KAGD,EAA2B,GAC/B,EAAyB,YAAc,GACvC,OAAe,E,+QClDX,GAAY,CAAC,gBAAiB,YAAa,gBAAiB,qBAAsB,SAAU,aAAc,eAAgB,WAAY,mBACtI,GAAa,CAAC,SAAU,WAAY,oBAAqB,gBAAiB,YAAa,SAWvF,GAA0C,gBAAoB,QAGlE,YAAuB,EAAO,CAC5B,GAAI,GAAW,EAAM,SACjB,EAAS,EAAM,OACf,EAAW,EAAM,SACjB,EAAgB,EAAM,cACtB,EAAY,EAAM,UAClB,EAAY,iBAAW,IAC3B,MAAoB,gBAAmB,EAAU,QAAc,QAAc,GAAI,EAAS,OAAQ,GAAI,CACpG,QAAS,UAAY,CACnB,GAAI,GAAW,SAAgC,WAAsB,KAAK,WAAiB,EAAG,CAC5F,GAAI,GAAuB,EAAiB,EAExC,EACJ,MAAO,WAAsB,KAAK,SAAkB,EAAU,CAC5D,OACE,OAAQ,EAAS,KAAO,EAAS,UAC1B,GACH,SAAS,KAAO,EACR,GAAyB,GAAkB,EAAS,OAAO,WAAa,MAAQ,IAA0B,OAAS,OAAS,EAAsB,KAAK,EAAiB,OAE7K,GAGH,GAFA,EAAO,EAAS,KAEV,IAAS,GAAQ,CACrB,EAAS,KAAO,EAChB,MAGF,MAAO,GAAS,OAAO,cAEpB,GACH,GAAc,MAAyC,GAAqB,EAAU,WAAa,MAAQ,IAAuB,QAAkB,EAAmB,cAAc,EAAQ,CAC3L,SAAU,EACV,cAAe,EACf,UAAW,QAGV,OACA,MACH,MAAO,GAAS,SAGrB,MAGL,WAAiB,EAAI,CACnB,MAAO,GAAS,MAAM,KAAM,WAG9B,MAAO,SAWb,YAAuB,EAAO,CAC5B,GAAI,GAAkB,EAElB,EAAO,YAEP,EAAgB,EAAM,cACtB,EAAY,EAAM,UAClB,EAAgB,EAAM,cACtB,EAAqB,EAAM,mBAC3B,EAAS,EAAM,OACf,EAAa,EAAM,WACnB,EAAe,EAAM,aACrB,EAAW,EAAM,SACjB,EAAkB,EAAM,gBACxB,EAAO,QAAyB,EAAO,IAEvC,EAAU,SAAY,EAAM,OAC5B,EAAY,eACZ,EAAU,eAEd,0BAAoB,EAAK,UAAW,UAAY,CAC9C,MAAO,GAAU,UAGnB,GAAI,IAAkB,SAAe,UAAY,CAC/C,MAAO,GAAM,OAAS,GAAgB,IACrC,CACD,MAAO,EAAM,MACb,SAAU,EAAM,WAEd,GAAmB,SAAe,GAAiB,GACnD,EAAQ,GAAiB,GACzB,GAAW,GAAiB,GAE5B,EAAY,UAAc,UAAY,CACxC,MAAI,OAAO,IAAW,WACb,EAGF,SAAU,EAAQ,EAAO,CAC9B,MAAO,GAAO,IAAW,IAE1B,CAAC,IAOA,GAAc,SAAqB,EAAc,CAInD,GAAI,MAAO,IAAiB,UAAY,CAAC,EAAM,KAAM,CACnD,GAAI,GAAgB,EAAM,OAAQ,MAAO,GACzC,GAAI,GAAU,GAAS,EAAM,GAC7B,MAAO,IAAc,KAA+B,OAAS,EAAU,EAAS,GAOlF,GAAK,OAAO,IAAiB,UAAY,GAAgB,EAAM,SAAW,EAAM,KAAM,CACpF,GAAI,GAAW,EAAM,UAAU,SAAU,EAAM,EAAO,CACpD,GAAI,GAEJ,MAAQ,IAAc,MAAyC,GAAa,EAAU,EAAM,MAAY,MAAQ,IAAe,OAA1E,OAA4F,EAAW,cAAiB,IAAiB,KAAkC,OAAS,EAAa,cAExP,MAAO,GAGT,MAAO,IAIT,0BAAoB,EAAiB,UAAY,CAM/C,GAAI,GAAa,SAAoB,EAAU,CAC7C,GAAI,GAAuB,EAE3B,GAAI,GAAY,KACd,KAAM,IAAI,OAAM,wBAGlB,GAAI,GAAe,GAAY,GAC3B,EAAa,CAAC,EAAM,KAAO,GAAwB,GAAiB,KAAkC,OAAS,EAAa,cAAgB,MAAQ,IAA0B,OAAS,EAAwB,IAAI,KAAK,GAAG,OAAO,SACtO,MAAQ,GAAmB,EAAQ,WAAa,MAAQ,IAAqB,OAAS,OAAS,EAAiB,cAAc,IAQ5H,EAAc,UAAuB,CACvC,GAAI,GAEA,EAAa,CAAC,EAAM,MAAM,KAAK,GAAG,OAAO,SAE7C,GAAI,MAAM,QAAQ,IAAe,EAAW,SAAW,EAAG,CACxD,GAAI,GAEA,EAAW,GAAoB,EAAQ,WAAa,MAAQ,IAAsB,OAAS,OAAS,EAAkB,iBAC1H,MAAI,OAAM,QAAQ,GAAiB,EAC5B,OAAO,KAAK,GAAS,IAAI,SAAU,EAAK,CAC7C,MAAO,GAAQ,KAInB,MAAQ,GAAoB,EAAQ,WAAa,MAAQ,IAAsB,OAAS,OAAS,EAAkB,cAAc,IAGnI,MAAO,QAAc,QAAc,GAAI,EAAQ,SAAU,GAAI,CAC3D,WAAY,EACZ,YAAa,EAQb,WAAY,SAAoB,EAAU,EAAM,CAC9C,GAAI,GAAwB,EAAmB,EAAuB,GAEtE,GAAI,GAAY,KACd,KAAM,IAAI,OAAM,wBAGlB,GAAI,IAAe,GAAY,GAC3B,GAAa,CAAC,EAAM,KAAO,GAAyB,IAAiB,KAAkC,OAAS,GAAa,cAAgB,MAAQ,IAA2B,OAAS,EAAyB,IAAI,KAAK,GAAG,OAAO,SACrO,GAAiB,IAAoB,EAAQ,WAAa,MAAQ,IAAsB,QAAmB,GAAwB,EAAkB,kBAAoB,MAAQ,IAA0B,OAA1G,OAA4H,EAAsB,KAAK,KAAuB,GAC/Q,GAAe,SAAI,GAAc,GAAY,QAAc,QAAc,GAAI,EAAW,IAAY,GAAQ,KAChH,MAAQ,IAAoB,EAAQ,WAAa,MAAQ,KAAsB,OAAS,OAAS,GAAkB,eAAe,SAIxI,gBAAU,UAAY,CAChB,CAAC,EAAM,YACX,EAAM,QAAQ,SAAU,EAAS,EAAO,CACtC,GAAI,GAEH,GAAoB,EAAQ,WAAa,MAAQ,IAAsB,QAAkB,EAAkB,eAAe,SAAgB,GAAI,EAAU,EAAS,GAAQ,KACzK,KACF,CAAC,EAAO,EAAM,aACjB,gBAAU,UAAY,CACpB,GAAI,EAAM,KAAM,CACd,GAAI,GAEJ,EAAQ,QAAU,GAAU,MAAqC,GAAkB,EAAM,YAAc,MAAQ,IAAoB,OAA5E,OAA8F,EAAgB,OAEtK,CAAE,GAAmB,EAAM,YAAc,MAAQ,IAAqB,OAAS,OAAS,EAAiB,KAAM,EAAM,OAExH,GAAI,GAAO,GAAsB,GAC7B,GAAS,EAAK,OACd,GAAW,EAAK,SAChB,GAAoB,EAAK,kBACzB,GAAgB,EAAK,cACrB,GAAY,EAAK,UACjB,GAAQ,EAAK,MACb,GAAkB,QAAyB,EAAM,IAEjD,GAAQ,KAAa,MACrB,GAAmB,cAAQ,UAAY,CACzC,MAAI,IAAa,GAAc,IAAU,KAA2B,OAAS,EAAM,QAC1E,GAGF,IAAuB,IAAS,UAAK,GAAe,CACzD,OAAQ,SAAY,GAAQ,GAAU,KAA2B,OAAS,EAAM,OAAQ,IAAU,GAClG,SAAU,GACV,UAAW,SAAY,GAAW,GAAU,KAA2B,OAAS,EAAM,OAAQ,GAC9F,cAAe,GACf,SAAU,UAAK,KAAS,QAAc,QAAc,CAClD,KAAM,SACN,MAAO,QAAc,CACnB,QAAS,QACT,OAAQ,SACR,MAAO,QACN,IACH,KAAM,UAAK,KAAc,KACxB,IAAkB,GAAI,CACvB,SAAU,IAAqB,EAAK,WAAW,2BAA4B,8CAG9E,CAAC,EAAoB,EAAW,GAAU,KAA2B,OAAS,EAAM,SACnF,GAAoB,cAAQ,UAAY,CAC1C,MAAK,IAID,GACK,CACL,WAAY,CACV,OAAQ,CACN,QAAS,SAAiB,EAAO,CAC/B,GAAI,GAEA,EAAY,EAAM,UAClB,EAAW,EAAM,SACrB,MAAO,WAAM,QAAS,CACpB,UAAW,EACX,SAAU,CAAC,EAAU,WAAM,KAAM,CAC/B,MAAO,CACL,SAAU,YAEZ,SAAU,CAAC,UAAK,KAAM,CACpB,QAAS,EACT,MAAO,CACL,WAAY,UAEd,SAAU,KACR,UAAK,KAAM,CACb,MAAO,CACL,SAAU,WACV,KAAM,EACN,MAAO,QAET,QAAU,GAAgB,EAAK,WAAa,MAAQ,IAAkB,OAAS,OAAS,EAAc,OACtG,SAAU,eAUnB,CACL,gBAAiB,SAAyB,EAAG,EAAK,CAChD,GAAI,GAAuB,EAE3B,MAAO,WAAM,WAAW,CACtB,SAAU,CAAE,GAAyB,GAAyB,EAAM,mBAAqB,MAAQ,IAA2B,OAAS,OAAS,EAAuB,KAAK,EAAO,EAAG,MAAU,MAAQ,IAA0B,OAAS,EAAwB,EAAK,QA9CnQ,IAkDR,CAAC,GAAO,KAEP,GAAgB,QAAc,GAAI,EAAM,UAQxC,GAAmB,SAAe,SAAU,EAAG,EAAY,CAC7D,GAAI,GAAkB,EAAuB,EAK7C,GAHC,GAAmB,EAAM,YAAc,MAAQ,IAAqB,QAAmB,GAAwB,EAAiB,kBAAoB,MAAQ,IAA0B,QAAkB,EAAsB,KAAK,EAAkB,EAAG,GACxP,GAAwB,EAAM,kBAAoB,MAAQ,IAA0B,QAAkB,EAAsB,KAAK,EAAO,EAAY,GAEjJ,EAAM,WAAY,CACpB,GAAI,GAEJ,GAAU,MAAqC,GAAkB,EAAM,YAAc,MAAQ,IAAoB,QAAkB,EAAgB,KAAK,EAAO,MAInK,MAAK,KAAU,KAA2B,OAAS,EAAM,iBAAqB,IAAmB,EAAM,YAAc,MAAQ,IAAqB,OAAS,OAAS,EAAiB,iBACrL,EAAM,YAAe,IAAU,KAA2B,OAAS,EAAM,YACvE,IAAc,eAAiB,IAG1B,WAAM,WAAW,CACtB,SAAU,CAAC,UAAK,GAA2B,SAAU,CACnD,MAAO,EACP,SAAU,UAAK,KAAU,QAAc,QAAc,QAAc,CACjE,OAAQ,GACR,QAAS,GACT,WAAY,GACZ,OAAQ,EACR,kBAAmB,IAClB,GAAO,IAAoB,GAAI,CAChC,YAAa,QACb,UAAW,EACX,SAAU,EACV,SAAU,QAAc,QAAc,GAAI,IAAgB,GAAI,CAC5D,UAAW,QAAc,CACvB,QAAS,GACR,GAAc,aAEnB,WAAY,EACZ,mBAAoB,SAA4B,EAAY,CAM1D,GALA,GAAS,GAKL,EAAM,MAAQ,KAAa,MAAO,CACpC,GAAI,GAEA,EAAW,SAAI,GAAI,CAAC,EAAM,MAAM,KAAK,GAAG,OAAO,SAAU,GAC5D,GAAoB,EAAQ,WAAa,MAAQ,IAAsB,QAAkB,EAAkB,eAAe,UAI/H,EAAM,KAAO,UAAK,KAAmB,CACvC,KAAM,CAAC,EAAM,MACb,SAAU,SAAkB,EAAa,CACvC,GAAI,GAAkB,EAElB,EAAO,SAAI,EAAa,CAAC,EAAM,MAAM,KAAK,IAC1C,EAAa,GAAS,KAA0B,OAAS,EAAK,KAAK,SAAU,EAAM,EAAO,CAC5F,MAAO,CAAC,SAAiB,EAAM,GAAY,KAA6B,OAAS,EAAQ,MAE3F,MAAK,IAED,GAAS,IAAU,MAAqC,GAAmB,EAAM,YAAc,MAAQ,IAAqB,QAAmB,GAAwB,EAAiB,kBAAoB,MAAQ,IAA0B,QAAkB,EAAsB,KAAK,EAAkB,EAAY,IACtT,QAEN,QAIT,YAA4B,EAAO,CACjC,GAAI,GAAO,wBACX,MAAK,GAAM,KACJ,UAAK,UAAY,QAAc,QAAc,CAClD,MAAO,CACL,SAAU,SAEX,GAAU,KAA2B,OAAS,EAAM,eAAgB,GAAI,CACzE,KAAM,EAAM,KACZ,SAAU,UAAK,GAAe,QAAc,QAAc,GAAI,GAAQ,GAAI,CACxE,SAAU,QAAc,QAAc,GAAI,EAAM,UAAW,GAAI,CAC7D,KAAM,UATY,UAAK,GAAe,QAAc,GAAI,IAehE,GAAmB,cAAgB,GACnC,OAAe,G,yDC9YTA,EAAc,CAClBC,KAAM,qBACNC,IAAK,2BACLC,MAAO,iCACPC,SAAU,qBACVC,UAAW,2BACXC,KAAM,2BACNC,MAAO,qBACPC,KAAM,2BACNC,OAAQ,qBACRC,UAAW,qBACXC,WAAY,2BACZC,MAAO,4BAGHC,GAAY,CAChB,CACEC,IAAK,IACLC,OAAQ,QACRd,KAAM,aACNe,WAAY,4BAEd,CACEF,IAAK,IACLC,OAAQ,QACRd,KAAM,YACNe,WAAY,0BAEd,CACEF,IAAK,IACLC,OAAQ,QACRd,KAAM,YACNe,WAAY,2BASVC,GAAwC,UAAM,CAClD,MAA0BC,eAAuB,IAAjD,eAAOC,EAAP,KAAcC,EAAd,KACMC,EAAe,SAACC,EAAyB,CAC7C,GAAMC,GAAaD,EAAOE,OAAO,SAACC,EAAD,OAAUA,GAAKH,OAAOI,OAAS,IAAGA,OACnE,GAAI,CAACJ,GAAUC,IAAe,EAC5B,MAAO,MAET,GAAMI,GAAgB,SAACC,EAAqB,CAC1C,GAAMC,GAAYC,SAASC,cAAT,qBAAqCH,EAArC,OACdC,GACFA,EAAUG,eAAe,KAGvBC,EAAYX,EAAOY,IAAI,SAACC,EAAQ,CACpC,GAAI,CAACA,GAAOA,EAAIb,OAAOI,SAAW,EAChC,MAAO,MAET,GAAMZ,GAAMqB,EAAIlC,KAAK,GACrB,MACE,iBAAc,UAAWmC,kBAAsB,QAAS,iBAAMT,GAAcb,IAA5E,UACE,UAAC,IAAD,CAAqB,UAAWsB,gBAChC,iBAAK,UAAWA,iBAAhB,SAAsCD,EAAIb,OAAO,KACjD,iBAAK,UAAWc,eAAhB,SAAoCpC,EAAYc,OAHzCA,KAOb,MACE,mBAAM,UAAWsB,cAAjB,UACE,eACE,MAAM,uCACN,QAASH,EACT,iBAAkBG,iBAClB,QAAQ,QACR,kBAAmB,SAACC,EAAyB,CAC3C,MAAIA,IAAWA,EAAQC,WACdD,EAAQC,WAEVD,GATX,SAYE,UAAC,IAAD,MAEDd,MAKDgB,EAAQ,wCAAG,WAAOC,EAAP,sEACfpB,SAAS,IADM,kBAGPqB,SAAeD,OAHR,GAIb,EAAQ,QAAR,QAAgB,4BAJH,qGAAH,sDAURE,EAAiB,SAACC,EAAmB,CACzCvB,EAASuB,EAAUC,cAGfC,EAA8C,CAClD,CACEC,MAAO,2BACPC,UAAW,OACXjC,IAAK,OACLkC,MAAO,OAET,CACEF,MAAO,eACPC,UAAW,SACXjC,IAAK,SACLkC,MAAO,OAET,CACEF,MAAO,2BACPC,UAAW,aACXjC,IAAK,aACLkC,MAAO,OAET,CACEF,MAAO,eACPhC,IAAK,SACLmC,UAAW,SACXC,OAAQ,SAACC,EAAGC,EAA2BC,EAAOC,EAAW,CACvD,MAAO,CACL,eAEE,QAAS,UAAM,CACbA,GAAM,MAANA,EAAQC,cAAcH,EAAOtC,MAHjC,yBACM,aAYd,MACE,UAAC,MAAD,CACE,OAAO,WACP,iBAAgB,GAChB,UAAW,CACToC,OAAQ,SAACM,EAAOC,EAAQ,CACtB,MACE,WAAC,KAAD,WACGpC,EAAaF,GACbsC,OAKT,cAAe,CAAEC,QAAS7C,IAC1B,SAAU0B,EACV,eAAgBG,EAflB,SAiBE,WAAC,MAAD,CAAe,QAAQ,mJAAvB,UACE,gBAAM,MAAM,2BAAO,UAAWN,SAAa,SAAU,GAArD,UACE,gBAAK,OAAQ,GAAb,UACE,eAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAxB,SACE,UAAC,KAAD,CACE,MAAOpC,EAAYC,KACnB,KAAK,OACL,MAAO,CAAC,CAAE0D,SAAU,GAAMC,QAAS,+CACnC,YAAY,iDAGhB,eAAK,GAAI,CAAEC,KAAM,EAAGC,OAAQ,GAAK,GAAI,CAAED,KAAM,GAAK,GAAI,CAAEA,KAAM,IAAM,GAAI,GAAxE,SACE,UAAC,KAAD,CACE,MAAO7D,EAAYE,IACnB,KAAK,MACL,MAAO,CAAC,CAAEyD,SAAU,GAAMC,QAAS,uBACnC,WAAY,CACVG,MAAO,CAAEf,MAAO,QAChBgB,YAAa,UACbC,WAAY,QAEd,YAAY,yBAGhB,eAAK,GAAI,CAAEJ,KAAM,EAAGC,OAAQ,GAAK,GAAI,CAAED,KAAM,IAAM,GAAI,CAAEA,KAAM,IAAM,GAAI,GAAzE,SACE,UAAC,KAAD,CACE,MAAO7D,EAAYG,MACnB,KAAK,QACL,MAAO,CAAC,CAAEwD,SAAU,GAAMC,QAAS,yCACnC,QAAS,CACP,CACEM,MAAO,qBACPC,MAAO,QAET,CACED,MAAO,qBACPC,MAAO,QAGX,YAAY,8CAIlB,gBAAK,OAAQ,GAAb,UACE,eAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAxB,SACE,UAAC,KAAD,CACE,MAAOnE,EAAYI,SACnB,KAAK,WACL,MAAO,CAAC,CAAEuD,SAAU,GAAMC,QAAS,yCACnC,QAAS,CACP,CACEM,MAAO,qBACPC,MAAO,QAET,CACED,MAAO,qBACPC,MAAO,QAGX,YAAY,2CAGhB,eAAK,GAAI,CAAEN,KAAM,EAAGC,OAAQ,GAAK,GAAI,CAAED,KAAM,GAAK,GAAI,CAAEA,KAAM,IAAM,GAAI,GAAxE,SACE,UAAC,KAAD,CACE,MAAO7D,EAAYK,UACnB,KAAK,YACL,WAAY,CACV0D,MAAO,CACLf,MAAO,SAGX,MAAO,CAAC,CAAEW,SAAU,GAAMC,QAAS,mDAGvC,eAAK,GAAI,CAAEC,KAAM,EAAGC,OAAQ,GAAK,GAAI,CAAED,KAAM,IAAM,GAAI,CAAEA,KAAM,IAAM,GAAI,GAAzE,SACE,UAAC,KAAD,CACE,MAAO7D,EAAYM,KACnB,KAAK,OACL,MAAO,CAAC,CAAEqD,SAAU,GAAMC,QAAS,+CACnC,QAAS,CACP,CACEM,MAAO,eACPC,MAAO,WAET,CACED,MAAO,eACPC,MAAO,WAGX,YAAY,uDAKpB,gBAAM,MAAM,2BAAO,UAAW/B,SAAa,SAAU,GAArD,UACE,gBAAK,OAAQ,GAAb,UACE,eAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAxB,SACE,UAAC,KAAD,CACE,MAAOpC,EAAYO,MACnB,KAAK,QACL,MAAO,CAAC,CAAEoD,SAAU,GAAMC,QAAS,2BAGvC,eAAK,GAAI,CAAEC,KAAM,EAAGC,OAAQ,GAAK,GAAI,CAAED,KAAM,GAAK,GAAI,CAAEA,KAAM,IAAM,GAAI,GAAxE,SACE,UAAC,KAAD,CACE,MAAO7D,EAAYQ,KACnB,KAAK,OACL,MAAO,CAAC,CAAEmD,SAAU,GAAMC,QAAS,2BAGvC,eAAK,GAAI,CAAEC,KAAM,EAAGC,OAAQ,GAAK,GAAI,CAAED,KAAM,IAAM,GAAI,CAAEA,KAAM,IAAM,GAAI,GAAzE,SACE,UAAC,KAAD,CACE,MAAO7D,EAAYS,OACnB,KAAK,SACL,MAAO,CAAC,CAAEkD,SAAU,GAAMC,QAAS,yCACnC,QAAS,CACP,CACEM,MAAO,qBACPC,MAAO,QAET,CACED,MAAO,qBACPC,MAAO,eAMjB,gBAAK,OAAQ,GAAb,UACE,eAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAxB,SACE,UAAC,KAAD,CACE,MAAOnE,EAAYU,UACnB,KAAK,YACL,MAAO,CAAC,CAAEiD,SAAU,GAAMC,QAAS,yCACnC,QAAS,CACP,CACEM,MAAO,qBACPC,MAAO,QAET,CACED,MAAO,qBACPC,MAAO,QAGX,YAAY,2CAGhB,eAAK,GAAI,CAAEN,KAAM,EAAGC,OAAQ,GAAK,GAAI,CAAED,KAAM,GAAK,GAAI,CAAEA,KAAM,IAAM,GAAI,GAAxE,SACE,UAAC,GAAD,CACE,MAAO7D,EAAYW,WACnB,KAAK,aACL,MAAO,CAAC,CAAEgD,SAAU,GAAMC,QAAS,uBACnC,YAAY,2BACZ,WAAY,CACVG,MAAO,CACLf,MAAO,aAKf,eAAK,GAAI,CAAEa,KAAM,EAAGC,OAAQ,GAAK,GAAI,CAAED,KAAM,IAAM,GAAI,CAAEA,KAAM,IAAM,GAAI,GAAzE,SACE,UAAC,KAAD,CACE,MAAO7D,EAAYY,MACnB,KAAK,QACL,MAAO,CAAC,CAAE+C,SAAU,GAAMC,QAAS,+CACnC,QAAS,CACP,CACEM,MAAO,eACPC,MAAO,WAET,CACED,MAAO,eACPC,MAAO,WAGX,YAAY,uDAKpB,eAAM,MAAM,2BAAO,SAAU,GAA7B,SACE,UAAC,WAAD,CAAc,KAAK,UAAnB,SACE,UAAC,GAAD,CACE,mBAAoB,CAClBf,OAAQ,UAAM,CACZ,MAAO,CACLtC,IAAK,IAAF,OAAMsD,KAAKC,UAIpB,QAASxB,EACT,OAAO,kBASrB,GAAe5B","file":"p__form__advanced-form.6e0409b0.async.js","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"fieldProps\", \"proFieldProps\"];\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { dateArrayFormatter } from '@ant-design/pro-utils';\nimport React, { useContext } from 'react';\nimport FieldContext from '../../FieldContext';\nimport ProField from '../Field';\nvar valueType = 'dateRange';\n/**\n * 日期区间选择组件\n *\n * @param\n */\n\nvar ProFormDateRangePicker = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var fieldProps = _ref.fieldProps,\n      proFieldProps = _ref.proFieldProps,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var context = useContext(FieldContext);\n  return _jsx(ProField, _objectSpread({\n    ref: ref,\n    fieldProps: _objectSpread({\n      getPopupContainer: context.getPopupContainer\n    }, fieldProps),\n    valueType: valueType,\n    proFieldProps: proFieldProps,\n    filedConfig: {\n      valueType: valueType,\n      lightFilterLabelFormatter: function lightFilterLabelFormatter(value) {\n        return dateArrayFormatter(value, (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.format) || 'YYYY-MM-DD');\n      }\n    }\n  }, rest));\n});\nexport default ProFormDateRangePicker;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"fieldProps\", \"children\", \"params\", \"proFieldProps\", \"mode\", \"valueEnum\", \"request\", \"showSearch\", \"options\"],\n    _excluded2 = [\"fieldProps\", \"children\", \"params\", \"proFieldProps\", \"mode\", \"valueEnum\", \"request\", \"options\"];\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { runFunction } from '@ant-design/pro-utils';\nimport React, { useContext } from 'react';\nimport FieldContext from '../../FieldContext';\nimport ProFormField from '../Field';\n/**\n * 选择框\n *\n * @param\n */\n\nvar ProFormSelectComponents = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var fieldProps = _ref.fieldProps,\n      children = _ref.children,\n      params = _ref.params,\n      proFieldProps = _ref.proFieldProps,\n      mode = _ref.mode,\n      valueEnum = _ref.valueEnum,\n      request = _ref.request,\n      showSearch = _ref.showSearch,\n      options = _ref.options,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var context = useContext(FieldContext);\n  return _jsx(ProFormField, _objectSpread(_objectSpread({\n    valueEnum: runFunction(valueEnum),\n    request: request,\n    params: params,\n    valueType: \"select\",\n    filedConfig: {\n      customLightMode: true\n    },\n    fieldProps: _objectSpread({\n      options: options,\n      mode: mode,\n      showSearch: showSearch,\n      getPopupContainer: context.getPopupContainer\n    }, fieldProps),\n    ref: ref,\n    proFieldProps: proFieldProps\n  }, rest), {}, {\n    children: children\n  }));\n});\nvar SearchSelect = /*#__PURE__*/React.forwardRef(function (_ref2, ref) {\n  var fieldProps = _ref2.fieldProps,\n      children = _ref2.children,\n      params = _ref2.params,\n      proFieldProps = _ref2.proFieldProps,\n      mode = _ref2.mode,\n      valueEnum = _ref2.valueEnum,\n      request = _ref2.request,\n      options = _ref2.options,\n      rest = _objectWithoutProperties(_ref2, _excluded2);\n\n  var props = _objectSpread({\n    options: options,\n    mode: mode || 'multiple',\n    labelInValue: true,\n    showSearch: true,\n    showArrow: false,\n    autoClearSearchValue: true,\n    optionLabelProp: 'label'\n  }, fieldProps);\n\n  var context = useContext(FieldContext);\n  return _jsx(ProFormField, _objectSpread(_objectSpread({\n    valueEnum: runFunction(valueEnum),\n    request: request,\n    params: params,\n    valueType: \"select\",\n    filedConfig: {\n      customLightMode: true\n    },\n    fieldProps: _objectSpread({\n      getPopupContainer: context.getPopupContainer\n    }, props),\n    ref: ref,\n    proFieldProps: proFieldProps\n  }, rest), {}, {\n    children: children\n  }));\n});\nvar ProFormSelect = ProFormSelectComponents;\nvar ProFormSearchSelect = SearchSelect;\nvar WrappedProFormSelect = ProFormSelect;\nWrappedProFormSelect.SearchSelect = ProFormSearchSelect; // @ts-ignore\n// eslint-disable-next-line no-param-reassign\n\nWrappedProFormSelect.displayName = 'ProFormComponent';\nexport default WrappedProFormSelect;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"fieldProps\", \"proFieldProps\"],\n    _excluded2 = [\"fieldProps\", \"proFieldProps\"];\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport ProField from '../Field';\nvar valueType = 'text';\n/**\n * 文本组件\n *\n * @param\n */\n\nvar ProFormText = function ProFormText(_ref) {\n  var fieldProps = _ref.fieldProps,\n      proFieldProps = _ref.proFieldProps,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return _jsx(ProField, _objectSpread({\n    valueType: valueType,\n    fieldProps: fieldProps,\n    filedConfig: {\n      valueType: valueType\n    },\n    proFieldProps: proFieldProps\n  }, rest));\n};\n\nvar Password = function Password(_ref2) {\n  var fieldProps = _ref2.fieldProps,\n      proFieldProps = _ref2.proFieldProps,\n      rest = _objectWithoutProperties(_ref2, _excluded2);\n\n  return _jsx(ProField, _objectSpread({\n    valueType: \"password\",\n    fieldProps: fieldProps,\n    proFieldProps: proFieldProps,\n    filedConfig: {\n      valueType: valueType\n    }\n  }, rest));\n};\n\nvar WrappedProFormText = ProFormText;\nWrappedProFormText.Password = Password; // @ts-ignore\n// eslint-disable-next-line no-param-reassign\n\nWrappedProFormText.displayName = 'ProFormComponent';\nexport default WrappedProFormText;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"card___1dsH6\",\"errorIcon\":\"errorIcon___3jptF\",\"anticon\":\"anticon___A0Hdx\",\"errorPopover\":\"errorPopover___FGjVx\",\"errorListItem\":\"errorListItem___1rmVg\",\"errorField\":\"errorField___2Y7eW\",\"editable\":\"editable___WRDur\"};","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"fieldProps\", \"proFieldProps\"],\n    _excluded2 = [\"fieldProps\", \"proFieldProps\"];\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { dateArrayFormatter } from '@ant-design/pro-utils';\nimport React, { useContext } from 'react';\nimport FieldContext from '../../FieldContext';\nimport ProField from '../Field';\nvar valueType = 'time';\n/** 时间区间选择器 */\n\nvar TimeRangePicker = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var fieldProps = _ref.fieldProps,\n      proFieldProps = _ref.proFieldProps,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var context = useContext(FieldContext);\n  return _jsx(ProField, _objectSpread({\n    ref: ref,\n    fieldProps: _objectSpread({\n      getPopupContainer: context.getPopupContainer\n    }, fieldProps),\n    valueType: \"timeRange\",\n    proFieldProps: proFieldProps,\n    filedConfig: {\n      valueType: 'timeRange',\n      lightFilterLabelFormatter: function lightFilterLabelFormatter(value) {\n        return dateArrayFormatter(value, 'HH:mm:SS');\n      }\n    }\n  }, rest));\n});\n/**\n * 时间选择组件\n *\n * @param\n */\n\nvar ProFormTimePicker = function ProFormTimePicker(_ref2) {\n  var fieldProps = _ref2.fieldProps,\n      proFieldProps = _ref2.proFieldProps,\n      rest = _objectWithoutProperties(_ref2, _excluded2);\n\n  var context = useContext(FieldContext);\n  return _jsx(ProField, _objectSpread({\n    fieldProps: _objectSpread({\n      getPopupContainer: context.getPopupContainer\n    }, fieldProps),\n    valueType: valueType,\n    proFieldProps: proFieldProps,\n    filedConfig: {\n      customLightMode: true,\n      valueType: valueType\n    }\n  }, rest));\n};\n\nvar WrappedProFormTimePicker = ProFormTimePicker;\nWrappedProFormTimePicker.RangePicker = TimeRangePicker;\nexport default WrappedProFormTimePicker;","import \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"onTableChange\", \"maxLength\", \"formItemProps\", \"recordCreatorProps\", \"rowKey\", \"controlled\", \"defaultValue\", \"onChange\", \"editableFormRef\"],\n    _excluded2 = [\"record\", \"position\", \"creatorButtonText\", \"newRecordType\", \"parentKey\", \"style\"];\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { PlusOutlined } from '@ant-design/icons';\nimport ProForm, { ProFormDependency } from '@ant-design/pro-form';\nimport { useIntl } from '@ant-design/pro-provider';\nimport { isDeepEqualReact, runFunction, usePrevious, useRefFunction } from '@ant-design/pro-utils';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport get from \"rc-util/es/utils/get\";\nimport set from \"rc-util/es/utils/set\";\nimport React, { useContext, useEffect, useImperativeHandle, useMemo, useRef } from 'react';\nimport ProTable from '../../Table';\nvar EditableTableActionContext = /*#__PURE__*/React.createContext(undefined);\n/** 可编辑表格的按钮 */\n\nfunction RecordCreator(props) {\n  var children = props.children,\n      record = props.record,\n      position = props.position,\n      newRecordType = props.newRecordType,\n      parentKey = props.parentKey;\n  var actionRef = useContext(EditableTableActionContext);\n  return /*#__PURE__*/React.cloneElement(children, _objectSpread(_objectSpread({}, children.props), {}, {\n    onClick: function () {\n      var _onClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n        var _children$props$onCli, _children$props, _actionRef$current;\n\n        var isOk;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return (_children$props$onCli = (_children$props = children.props).onClick) === null || _children$props$onCli === void 0 ? void 0 : _children$props$onCli.call(_children$props, e);\n\n              case 2:\n                isOk = _context.sent;\n\n                if (!(isOk === false)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                actionRef === null || actionRef === void 0 ? void 0 : (_actionRef$current = actionRef.current) === null || _actionRef$current === void 0 ? void 0 : _actionRef$current.addEditRecord(record, {\n                  position: position,\n                  newRecordType: newRecordType,\n                  parentKey: parentKey\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function onClick(_x) {\n        return _onClick.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  }));\n}\n/**\n * 可以直接放到 Form 中的可编辑表格\n *\n * @param props\n */\n\n\nfunction EditableTable(props) {\n  var _props$editable2, _props$editable4;\n\n  var intl = useIntl();\n\n  var onTableChange = props.onTableChange,\n      maxLength = props.maxLength,\n      formItemProps = props.formItemProps,\n      recordCreatorProps = props.recordCreatorProps,\n      rowKey = props.rowKey,\n      controlled = props.controlled,\n      defaultValue = props.defaultValue,\n      onChange = props.onChange,\n      editableFormRef = props.editableFormRef,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  var preData = usePrevious(props.value);\n  var actionRef = useRef();\n  var formRef = useRef(); // 设置 ref\n\n  useImperativeHandle(rest.actionRef, function () {\n    return actionRef.current;\n  });\n\n  var _useMergedState = useMergedState(function () {\n    return props.value || defaultValue || [];\n  }, {\n    value: props.value,\n    onChange: props.onChange\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      value = _useMergedState2[0],\n      setValue = _useMergedState2[1];\n\n  var getRowKey = React.useMemo(function () {\n    if (typeof rowKey === 'function') {\n      return rowKey;\n    }\n\n    return function (record, index) {\n      return record[rowKey] || index;\n    };\n  }, [rowKey]);\n  /**\n   * 根据不同的情况返回不同的 rowKey\n   * @param finlayRowKey\n   * @returns string | number\n   */\n\n  var coverRowKey = function coverRowKey(finlayRowKey) {\n    /**\n     * 如果是 prop.name 的模式，就需要把行号转化成具体的rowKey。\n     */\n    if (typeof finlayRowKey === 'number' && !props.name) {\n      if (finlayRowKey >= value.length) return finlayRowKey;\n      var rowData = value && value[finlayRowKey];\n      return getRowKey === null || getRowKey === void 0 ? void 0 : getRowKey(rowData, finlayRowKey);\n    }\n    /**\n     * 如果是 prop.name 的模式，就直接返回行号\n     */\n\n\n    if ((typeof finlayRowKey === 'string' || finlayRowKey >= value.length) && props.name) {\n      var rowIndex = value.findIndex(function (item, index) {\n        var _getRowKey;\n\n        return (getRowKey === null || getRowKey === void 0 ? void 0 : (_getRowKey = getRowKey(item, index)) === null || _getRowKey === void 0 ? void 0 : _getRowKey.toString()) === (finlayRowKey === null || finlayRowKey === void 0 ? void 0 : finlayRowKey.toString());\n      });\n      return rowIndex;\n    }\n\n    return finlayRowKey;\n  }; // 设置 editableFormRef\n\n\n  useImperativeHandle(editableFormRef, function () {\n    /**\n     * 获取一行数据的\n     * @param rowIndex\n     * @returns T | undefined\n     */\n    var getRowData = function getRowData(rowIndex) {\n      var _finlayRowKey$toStrin, _formRef$current;\n\n      if (rowIndex == undefined) {\n        throw new Error('rowIndex is required');\n      }\n\n      var finlayRowKey = coverRowKey(rowIndex);\n      var rowKeyName = [props.name, (_finlayRowKey$toStrin = finlayRowKey === null || finlayRowKey === void 0 ? void 0 : finlayRowKey.toString()) !== null && _finlayRowKey$toStrin !== void 0 ? _finlayRowKey$toStrin : ''].flat(1).filter(Boolean);\n      return (_formRef$current = formRef.current) === null || _formRef$current === void 0 ? void 0 : _formRef$current.getFieldValue(rowKeyName);\n    };\n    /**\n     * 获取整个 table 的数据\n     * @returns T[] | undefined\n     */\n\n\n    var getRowsData = function getRowsData() {\n      var _formRef$current3;\n\n      var rowKeyName = [props.name].flat(1).filter(Boolean);\n\n      if (Array.isArray(rowKeyName) && rowKeyName.length === 0) {\n        var _formRef$current2;\n\n        var rowData = (_formRef$current2 = formRef.current) === null || _formRef$current2 === void 0 ? void 0 : _formRef$current2.getFieldsValue();\n        if (Array.isArray(rowData)) return rowData;\n        return Object.keys(rowData).map(function (key) {\n          return rowData[key];\n        });\n      }\n\n      return (_formRef$current3 = formRef.current) === null || _formRef$current3 === void 0 ? void 0 : _formRef$current3.getFieldValue(rowKeyName);\n    };\n\n    return _objectSpread(_objectSpread({}, formRef.current), {}, {\n      getRowData: getRowData,\n      getRowsData: getRowsData,\n\n      /**\n       * 设置一行的数据，会将数据进行简单的 merge\n       * @param rowIndex\n       * @param data\n       * @returns void\n       */\n      setRowData: function setRowData(rowIndex, data) {\n        var _finlayRowKey$toStrin2, _formRef$current4, _formRef$current4$get, _formRef$current5;\n\n        if (rowIndex == undefined) {\n          throw new Error('rowIndex is required');\n        }\n\n        var finlayRowKey = coverRowKey(rowIndex);\n        var rowKeyName = [props.name, (_finlayRowKey$toStrin2 = finlayRowKey === null || finlayRowKey === void 0 ? void 0 : finlayRowKey.toString()) !== null && _finlayRowKey$toStrin2 !== void 0 ? _finlayRowKey$toStrin2 : ''].flat(1).filter(Boolean);\n        var oldTableDate = ((_formRef$current4 = formRef.current) === null || _formRef$current4 === void 0 ? void 0 : (_formRef$current4$get = _formRef$current4.getFieldsValue) === null || _formRef$current4$get === void 0 ? void 0 : _formRef$current4$get.call(_formRef$current4)) || {};\n        var updateValues = set(oldTableDate, rowKeyName, _objectSpread(_objectSpread({}, getRowData(rowIndex)), data || {}));\n        return (_formRef$current5 = formRef.current) === null || _formRef$current5 === void 0 ? void 0 : _formRef$current5.setFieldsValue(updateValues);\n      }\n    });\n  });\n  useEffect(function () {\n    if (!props.controlled) return;\n    value.forEach(function (current, index) {\n      var _formRef$current6;\n\n      (_formRef$current6 = formRef.current) === null || _formRef$current6 === void 0 ? void 0 : _formRef$current6.setFieldsValue(_defineProperty({}, getRowKey(current, index), current));\n    }, {}); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [value, props.controlled]);\n  useEffect(function () {\n    if (props.name) {\n      var _props$editable;\n\n      formRef.current = props === null || props === void 0 ? void 0 : (_props$editable = props.editable) === null || _props$editable === void 0 ? void 0 : _props$editable.form;\n    }\n  }, [(_props$editable2 = props.editable) === null || _props$editable2 === void 0 ? void 0 : _props$editable2.form, props.name]);\n\n  var _ref = recordCreatorProps || {},\n      record = _ref.record,\n      position = _ref.position,\n      creatorButtonText = _ref.creatorButtonText,\n      newRecordType = _ref.newRecordType,\n      parentKey = _ref.parentKey,\n      style = _ref.style,\n      restButtonProps = _objectWithoutProperties(_ref, _excluded2);\n\n  var isTop = position === 'top';\n  var creatorButtonDom = useMemo(function () {\n    if (maxLength && maxLength <= (value === null || value === void 0 ? void 0 : value.length)) {\n      return false;\n    }\n\n    return recordCreatorProps !== false && _jsx(RecordCreator, {\n      record: runFunction(record, value === null || value === void 0 ? void 0 : value.length, value) || {},\n      position: position,\n      parentKey: runFunction(parentKey, value === null || value === void 0 ? void 0 : value.length, value),\n      newRecordType: newRecordType,\n      children: _jsx(_Button, _objectSpread(_objectSpread({\n        type: \"dashed\",\n        style: _objectSpread({\n          display: 'block',\n          margin: '10px 0',\n          width: '100%'\n        }, style),\n        icon: _jsx(PlusOutlined, {})\n      }, restButtonProps), {}, {\n        children: creatorButtonText || intl.getMessage('editableTable.action.add', '添加一行数据')\n      }))\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [recordCreatorProps, maxLength, value === null || value === void 0 ? void 0 : value.length]);\n  var buttonRenderProps = useMemo(function () {\n    if (!creatorButtonDom) {\n      return {};\n    }\n\n    if (isTop) {\n      return {\n        components: {\n          header: {\n            wrapper: function wrapper(_ref2) {\n              var _rest$columns;\n\n              var className = _ref2.className,\n                  children = _ref2.children;\n              return _jsxs(\"thead\", {\n                className: className,\n                children: [children, _jsxs(\"tr\", {\n                  style: {\n                    position: 'relative'\n                  },\n                  children: [_jsx(\"td\", {\n                    colSpan: 0,\n                    style: {\n                      visibility: 'hidden'\n                    },\n                    children: creatorButtonDom\n                  }), _jsx(\"td\", {\n                    style: {\n                      position: 'absolute',\n                      left: 0,\n                      width: '100%'\n                    },\n                    colSpan: (_rest$columns = rest.columns) === null || _rest$columns === void 0 ? void 0 : _rest$columns.length,\n                    children: creatorButtonDom\n                  })]\n                })]\n              });\n            }\n          }\n        }\n      };\n    }\n\n    return {\n      tableViewRender: function tableViewRender(_, dom) {\n        var _props$tableViewRende, _props$tableViewRende2;\n\n        return _jsxs(_Fragment, {\n          children: [(_props$tableViewRende = (_props$tableViewRende2 = props.tableViewRender) === null || _props$tableViewRende2 === void 0 ? void 0 : _props$tableViewRende2.call(props, _, dom)) !== null && _props$tableViewRende !== void 0 ? _props$tableViewRende : dom, creatorButtonDom]\n        });\n      }\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isTop, creatorButtonDom]);\n\n  var editableProps = _objectSpread({}, props.editable);\n  /**\n   * 防止闭包的onchange\n   *\n   * >>>>>>为了性能好辛苦\n   */\n\n\n  var newOnValueChange = useRefFunction(function (r, dataSource) {\n    var _props$editable3, _props$editable3$onVa, _props$onValuesChange;\n\n    (_props$editable3 = props.editable) === null || _props$editable3 === void 0 ? void 0 : (_props$editable3$onVa = _props$editable3.onValuesChange) === null || _props$editable3$onVa === void 0 ? void 0 : _props$editable3$onVa.call(_props$editable3, r, dataSource);\n    (_props$onValuesChange = props.onValuesChange) === null || _props$onValuesChange === void 0 ? void 0 : _props$onValuesChange.call(props, dataSource, r);\n\n    if (props.controlled) {\n      var _props$onChange;\n\n      props === null || props === void 0 ? void 0 : (_props$onChange = props.onChange) === null || _props$onChange === void 0 ? void 0 : _props$onChange.call(props, dataSource);\n    }\n  });\n\n  if ((props === null || props === void 0 ? void 0 : props.onValuesChange) || ((_props$editable4 = props.editable) === null || _props$editable4 === void 0 ? void 0 : _props$editable4.onValuesChange) || // 受控模式需要触发 onchange\n  props.controlled && (props === null || props === void 0 ? void 0 : props.onChange)) {\n    editableProps.onValuesChange = newOnValueChange;\n  }\n\n  return _jsxs(_Fragment, {\n    children: [_jsx(EditableTableActionContext.Provider, {\n      value: actionRef,\n      children: _jsx(ProTable, _objectSpread(_objectSpread(_objectSpread({\n        search: false,\n        options: false,\n        pagination: false,\n        rowKey: rowKey,\n        revalidateOnFocus: false\n      }, rest), buttonRenderProps), {}, {\n        tableLayout: \"fixed\",\n        actionRef: actionRef,\n        onChange: onTableChange,\n        editable: _objectSpread(_objectSpread({}, editableProps), {}, {\n          formProps: _objectSpread({\n            formRef: formRef\n          }, editableProps.formProps)\n        }),\n        dataSource: value,\n        onDataSourceChange: function onDataSourceChange(dataSource) {\n          setValue(dataSource);\n          /**\n           * 如果是top，需要重新设置一下 form，不然会导致 id 相同数据混淆\n           */\n\n          if (props.name && position === 'top') {\n            var _formRef$current7;\n\n            var newValue = set({}, [props.name].flat(1).filter(Boolean), dataSource);\n            (_formRef$current7 = formRef.current) === null || _formRef$current7 === void 0 ? void 0 : _formRef$current7.setFieldsValue(newValue);\n          }\n        }\n      }))\n    }), props.name ? _jsx(ProFormDependency, {\n      name: [props.name],\n      children: function children(changeValue) {\n        var _props$editable5, _props$editable5$onVa;\n\n        var list = get(changeValue, [props.name].flat(1));\n        var changeItem = list === null || list === void 0 ? void 0 : list.find(function (item, index) {\n          return !isDeepEqualReact(item, preData === null || preData === void 0 ? void 0 : preData[index]);\n        });\n        if (!changeItem) return null; // 如果不存在 preData 说明是初始化，此时不需要触发 onValuesChange\n\n        if (preData) props === null || props === void 0 ? void 0 : (_props$editable5 = props.editable) === null || _props$editable5 === void 0 ? void 0 : (_props$editable5$onVa = _props$editable5.onValuesChange) === null || _props$editable5$onVa === void 0 ? void 0 : _props$editable5$onVa.call(_props$editable5, changeItem, list);\n        return null;\n      }\n    }) : null]\n  });\n}\n\nfunction FieldEditableTable(props) {\n  var form = ProForm.useFormInstance();\n  if (!props.name) return _jsx(EditableTable, _objectSpread({}, props));\n  return _jsx(_Form.Item, _objectSpread(_objectSpread({\n    style: {\n      maxWidth: '100%'\n    }\n  }, props === null || props === void 0 ? void 0 : props.formItemProps), {}, {\n    name: props.name,\n    children: _jsx(EditableTable, _objectSpread(_objectSpread({}, props), {}, {\n      editable: _objectSpread(_objectSpread({}, props.editable), {}, {\n        form: form\n      })\n    }))\n  }));\n}\n\nFieldEditableTable.RecordCreator = RecordCreator;\nexport default FieldEditableTable;","import { CloseCircleOutlined } from '@ant-design/icons';\nimport { Card, Col, Popover, Row, message } from 'antd';\n\nimport type { FC } from 'react';\nimport { useState } from 'react';\nimport ProForm, {\n  ProFormDateRangePicker,\n  ProFormSelect,\n  ProFormText,\n  ProFormTimePicker,\n} from '@ant-design/pro-form';\nimport type { ProColumnType } from '@ant-design/pro-table';\nimport { EditableProTable } from '@ant-design/pro-table';\nimport { PageContainer, FooterToolbar } from '@ant-design/pro-layout';\nimport { fakeSubmitForm } from './service';\nimport styles from './style.less';\n\ninterface TableFormDateType {\n  key: string;\n  workId?: string;\n  name?: string;\n  department?: string;\n  isNew?: boolean;\n  editable?: boolean;\n}\ntype InternalNamePath = (string | number)[];\n\nconst fieldLabels = {\n  name: '仓库名',\n  url: '仓库域名',\n  owner: '仓库管理员',\n  approver: '审批人',\n  dateRange: '生效日期',\n  type: '仓库类型',\n  name2: '任务名',\n  url2: '任务描述',\n  owner2: '执行人',\n  approver2: '责任人',\n  dateRange2: '生效日期',\n  type2: '任务类型',\n};\n\nconst tableData = [\n  {\n    key: '1',\n    workId: '00001',\n    name: 'John Brown',\n    department: 'New York No. 1 Lake Park',\n  },\n  {\n    key: '2',\n    workId: '00002',\n    name: 'Jim Green',\n    department: 'London No. 1 Lake Park',\n  },\n  {\n    key: '3',\n    workId: '00003',\n    name: 'Joe Black',\n    department: 'Sidney No. 1 Lake Park',\n  },\n];\n\ninterface ErrorField {\n  name: InternalNamePath;\n  errors: string[];\n}\n\nconst AdvancedForm: FC<Record<string, any>> = () => {\n  const [error, setError] = useState<ErrorField[]>([]);\n  const getErrorInfo = (errors: ErrorField[]) => {\n    const errorCount = errors.filter((item) => item.errors.length > 0).length;\n    if (!errors || errorCount === 0) {\n      return null;\n    }\n    const scrollToField = (fieldKey: string) => {\n      const labelNode = document.querySelector(`label[for=\"${fieldKey}\"]`);\n      if (labelNode) {\n        labelNode.scrollIntoView(true);\n      }\n    };\n    const errorList = errors.map((err) => {\n      if (!err || err.errors.length === 0) {\n        return null;\n      }\n      const key = err.name[0] as string;\n      return (\n        <li key={key} className={styles.errorListItem} onClick={() => scrollToField(key)}>\n          <CloseCircleOutlined className={styles.errorIcon} />\n          <div className={styles.errorMessage}>{err.errors[0]}</div>\n          <div className={styles.errorField}>{fieldLabels[key]}</div>\n        </li>\n      );\n    });\n    return (\n      <span className={styles.errorIcon}>\n        <Popover\n          title=\"表单校验信息\"\n          content={errorList}\n          overlayClassName={styles.errorPopover}\n          trigger=\"click\"\n          getPopupContainer={(trigger: HTMLElement) => {\n            if (trigger && trigger.parentNode) {\n              return trigger.parentNode as HTMLElement;\n            }\n            return trigger;\n          }}\n        >\n          <CloseCircleOutlined />\n        </Popover>\n        {errorCount}\n      </span>\n    );\n  };\n\n  const onFinish = async (values: Record<string, any>) => {\n    setError([]);\n    try {\n      await fakeSubmitForm(values);\n      message.success('提交成功');\n    } catch {\n      // console.log\n    }\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    setError(errorInfo.errorFields);\n  };\n\n  const columns: ProColumnType<TableFormDateType>[] = [\n    {\n      title: '成员姓名',\n      dataIndex: 'name',\n      key: 'name',\n      width: '20%',\n    },\n    {\n      title: '工号',\n      dataIndex: 'workId',\n      key: 'workId',\n      width: '20%',\n    },\n    {\n      title: '所属部门',\n      dataIndex: 'department',\n      key: 'department',\n      width: '40%',\n    },\n    {\n      title: '操作',\n      key: 'action',\n      valueType: 'option',\n      render: (_, record: TableFormDateType, index, action) => {\n        return [\n          <a\n            key=\"eidit\"\n            onClick={() => {\n              action?.startEditable(record.key);\n            }}\n          >\n            编辑\n          </a>,\n        ];\n      },\n    },\n  ];\n\n  return (\n    <ProForm\n      layout=\"vertical\"\n      hideRequiredMark\n      submitter={{\n        render: (props, dom) => {\n          return (\n            <FooterToolbar>\n              {getErrorInfo(error)}\n              {dom}\n            </FooterToolbar>\n          );\n        },\n      }}\n      initialValues={{ members: tableData }}\n      onFinish={onFinish}\n      onFinishFailed={onFinishFailed}\n    >\n      <PageContainer content=\"高级表单常见于一次性输入和提交大批量数据的场景。\">\n        <Card title=\"仓库管理\" className={styles.card} bordered={false}>\n          <Row gutter={16}>\n            <Col lg={6} md={12} sm={24}>\n              <ProFormText\n                label={fieldLabels.name}\n                name=\"name\"\n                rules={[{ required: true, message: '请输入仓库名称' }]}\n                placeholder=\"请输入仓库名称\"\n              />\n            </Col>\n            <Col xl={{ span: 6, offset: 2 }} lg={{ span: 8 }} md={{ span: 12 }} sm={24}>\n              <ProFormText\n                label={fieldLabels.url}\n                name=\"url\"\n                rules={[{ required: true, message: '请选择' }]}\n                fieldProps={{\n                  style: { width: '100%' },\n                  addonBefore: 'http://',\n                  addonAfter: '.com',\n                }}\n                placeholder=\"请输入\"\n              />\n            </Col>\n            <Col xl={{ span: 8, offset: 2 }} lg={{ span: 10 }} md={{ span: 24 }} sm={24}>\n              <ProFormSelect\n                label={fieldLabels.owner}\n                name=\"owner\"\n                rules={[{ required: true, message: '请选择管理员' }]}\n                options={[\n                  {\n                    label: '付晓晓',\n                    value: 'xiao',\n                  },\n                  {\n                    label: '周毛毛',\n                    value: 'mao',\n                  },\n                ]}\n                placeholder=\"请选择管理员\"\n              />\n            </Col>\n          </Row>\n          <Row gutter={16}>\n            <Col lg={6} md={12} sm={24}>\n              <ProFormSelect\n                label={fieldLabels.approver}\n                name=\"approver\"\n                rules={[{ required: true, message: '请选择审批员' }]}\n                options={[\n                  {\n                    label: '付晓晓',\n                    value: 'xiao',\n                  },\n                  {\n                    label: '周毛毛',\n                    value: 'mao',\n                  },\n                ]}\n                placeholder=\"请选择管理员\"\n              />\n            </Col>\n            <Col xl={{ span: 6, offset: 2 }} lg={{ span: 8 }} md={{ span: 12 }} sm={24}>\n              <ProFormDateRangePicker\n                label={fieldLabels.dateRange}\n                name=\"dateRange\"\n                fieldProps={{\n                  style: {\n                    width: '100%',\n                  },\n                }}\n                rules={[{ required: true, message: '请选择生效日期' }]}\n              />\n            </Col>\n            <Col xl={{ span: 8, offset: 2 }} lg={{ span: 10 }} md={{ span: 24 }} sm={24}>\n              <ProFormSelect\n                label={fieldLabels.type}\n                name=\"type\"\n                rules={[{ required: true, message: '请选择仓库类型' }]}\n                options={[\n                  {\n                    label: '私密',\n                    value: 'private',\n                  },\n                  {\n                    label: '公开',\n                    value: 'public',\n                  },\n                ]}\n                placeholder=\"请选择仓库类型\"\n              />\n            </Col>\n          </Row>\n        </Card>\n        <Card title=\"任务管理\" className={styles.card} bordered={false}>\n          <Row gutter={16}>\n            <Col lg={6} md={12} sm={24}>\n              <ProFormText\n                label={fieldLabels.name2}\n                name=\"name2\"\n                rules={[{ required: true, message: '请输入' }]}\n              />\n            </Col>\n            <Col xl={{ span: 6, offset: 2 }} lg={{ span: 8 }} md={{ span: 12 }} sm={24}>\n              <ProFormText\n                label={fieldLabels.url2}\n                name=\"url2\"\n                rules={[{ required: true, message: '请选择' }]}\n              />\n            </Col>\n            <Col xl={{ span: 8, offset: 2 }} lg={{ span: 10 }} md={{ span: 24 }} sm={24}>\n              <ProFormSelect\n                label={fieldLabels.owner2}\n                name=\"owner2\"\n                rules={[{ required: true, message: '请选择管理员' }]}\n                options={[\n                  {\n                    label: '付晓晓',\n                    value: 'xiao',\n                  },\n                  {\n                    label: '周毛毛',\n                    value: 'mao',\n                  },\n                ]}\n              />\n            </Col>\n          </Row>\n          <Row gutter={16}>\n            <Col lg={6} md={12} sm={24}>\n              <ProFormSelect\n                label={fieldLabels.approver2}\n                name=\"approver2\"\n                rules={[{ required: true, message: '请选择审批员' }]}\n                options={[\n                  {\n                    label: '付晓晓',\n                    value: 'xiao',\n                  },\n                  {\n                    label: '周毛毛',\n                    value: 'mao',\n                  },\n                ]}\n                placeholder=\"请选择审批员\"\n              />\n            </Col>\n            <Col xl={{ span: 6, offset: 2 }} lg={{ span: 8 }} md={{ span: 12 }} sm={24}>\n              <ProFormTimePicker\n                label={fieldLabels.dateRange2}\n                name=\"dateRange2\"\n                rules={[{ required: true, message: '请输入' }]}\n                placeholder=\"提醒时间\"\n                fieldProps={{\n                  style: {\n                    width: '100%',\n                  },\n                }}\n              />\n            </Col>\n            <Col xl={{ span: 8, offset: 2 }} lg={{ span: 10 }} md={{ span: 24 }} sm={24}>\n              <ProFormSelect\n                label={fieldLabels.type2}\n                name=\"type2\"\n                rules={[{ required: true, message: '请选择仓库类型' }]}\n                options={[\n                  {\n                    label: '私密',\n                    value: 'private',\n                  },\n                  {\n                    label: '公开',\n                    value: 'public',\n                  },\n                ]}\n                placeholder=\"请选择仓库类型\"\n              />\n            </Col>\n          </Row>\n        </Card>\n        <Card title=\"成员管理\" bordered={false}>\n          <ProForm.Item name=\"members\">\n            <EditableProTable<TableFormDateType>\n              recordCreatorProps={{\n                record: () => {\n                  return {\n                    key: `0${Date.now()}`,\n                  };\n                },\n              }}\n              columns={columns}\n              rowKey=\"key\"\n            />\n          </ProForm.Item>\n        </Card>\n      </PageContainer>\n    </ProForm>\n  );\n};\n\nexport default AdvancedForm;\n"],"sourceRoot":""}