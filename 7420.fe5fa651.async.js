(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7420],{72178:function(xt,M,d){"use strict";d.d(M,{sg:function(){return k0},yi:function(){return R0},aC:function(){return z0},x1:function(){return K0},Kj:function(){return Q0},Ex:function(){return im},Fk:function(){return om},TZ:function(){return fm},m:function(){return bm},cQ:function(){return Sm},kB:function(){return Am}});var b={};d.r(b),d.d(b,{Base:function(){return Ea},Circle:function(){return fw},Ellipse:function(){return cw},Image:function(){return dw},Line:function(){return gw},Marker:function(){return xw},Path:function(){return pf},Polygon:function(){return Ow},Polyline:function(){return Iw},Rect:function(){return Fw},Text:function(){return Nw}});var O={};d.r(O),d.d(O,{Canvas:function(){return vv},Event:function(){return $e.Event},Group:function(){return cf},Shape:function(){return b},__esModule:function(){return Yw.X},version:function(){return Hw}});var k={};d.r(k),d.d(k,{Base:function(){return ya},Circle:function(){return $w},Dom:function(){return Jw},Ellipse:function(){return tS},Image:function(){return rS},Line:function(){return iS},Marker:function(){return oS},Path:function(){return lS},Polygon:function(){return fS},Polyline:function(){return cS},Rect:function(){return yS},Text:function(){return MS}});var L={};d.r(L),d.d(L,{Canvas:function(){return Sv},Event:function(){return $e.Event},Group:function(){return yf},Shape:function(){return k},version:function(){return WS}});var P={};d.r(P),d.d(P,{Chart:function(){return cb},ComponentController:function(){return Wo},DIRECTION:function(){return N},Event:function(){return Hr},Facet:function(){return Tr},Geometry:function(){return Qa},GeometryLabel:function(){return ol},Interaction:function(){return Da},InteractionAction:function(){return ln},LAYER:function(){return R},Types:function(){return zb},Util:function(){return ud},VERSION:function(){return Xb},View:function(){return qu},getActionClass:function(){return Ii},getAnimation:function(){return ef},getEngine:function(){return rt},getFacet:function(){return Zr},getGeometryLabel:function(){return Rc},getGeometryLabelLayout:function(){return Nc},getInteraction:function(){return Fa},getShapeFactory:function(){return nf},getTheme:function(){return Ct},registerAction:function(){return Br},registerAnimation:function(){return hi},registerComponentController:function(){return cn},registerEngine:function(){return tt},registerFacet:function(){return Kr},registerGeometry:function(){return Ca},registerGeometryLabel:function(){return ms},registerGeometryLabelLayout:function(){return Ao},registerInteraction:function(){return gn},registerShape:function(){return bn},registerShapeFactory:function(){return fo},registerTheme:function(){return Dt}});var A={};d.r(A),d.d(A,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var C={};d.r(C),d.d(C,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var E={};d.r(E),d.d(E,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var p={};d.r(p),d.d(p,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var w={};d.r(w),d.d(w,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var y={};d.r(y),d.d(y,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var x={};d.r(x),d.d(x,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var g={};d.r(g),d.d(g,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var S={};d.r(S),d.d(S,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var _={};d.r(_),d.d(_,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var B={};d.r(B),d.d(B,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var F={};d.r(F),d.d(F,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var V={};d.r(V),d.d(V,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var Z={};d.r(Z),d.d(Z,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var X={};d.r(X),d.d(X,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var U={};d.r(U),d.d(U,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var nt={};d.r(nt),d.d(nt,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var q={};d.r(q),d.d(q,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var wt={};d.r(wt),d.d(wt,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var ft={};d.r(ft),d.d(ft,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var Ot={};d.r(Ot),d.d(Ot,{EVENT_MAP:function(){return dn},onEvent:function(){return si}});var St={};d.r(St),d.d(St,{calculationItemsBBox:function(){return _m},cloneEvent:function(){return iu},formatPadding:function(){return Nh},isNaN:function(){return io},isViewportChanged:function(){return Pm},processParallelEdges:function(){return _R}});var At={};d.r(At),d.d(At,{getColorsWithSubjectColor:function(){return Rm},mixColor:function(){return Na}});var Et={};d.r(Et),d.d(Et,{Line:function(){return Ro},applyMatrix:function(){return Rs},distance:function(){return Ns},floydWarshall:function(){return Vh},fractionToLine:function(){return Uh},getAdjMatrix:function(){return Hh},getBBoxBoundLine:function(){return jh},getCircleCenterByPoints:function(){return Xh},getCircleIntersectByPoint:function(){return Qm},getDegree:function(){return uu},getEllipseIntersectByPoint:function(){return Jm},getLineIntersect:function(){return Fs},getPointsCenter:function(){return ax},getRectIntersectByPoint:function(){return $m},intersectBBox:function(){return nx},invertMatrix:function(){return qm},isPointInPolygon:function(){return Ys},isPointsOverlap:function(){return Zh},isPolygonsIntersect:function(){return Wh},itemIntersectByLine:function(){return ix},move:function(){return rx},pointLineSquareDist:function(){return ox},pointRectSquareDist:function(){return sx},rotate:function(){return l3},scale:function(){return s3},scaleMatrix:function(){return tx},squareDist:function(){return fu},translate:function(){return ex}});var bt={};d.r(bt),d.d(bt,{getClosedSpline:function(){return Kh},getControlPoint:function(){return hu},getSpline:function(){return lx},paddedHull:function(){return dx},pathToPoints:function(){return cu},pointsToPolygon:function(){return ux},roundedHull:function(){return vx}});var Lt={};d.r(Lt),d.d(Lt,{getBBox:function(){return du},getChartRegion:function(){return k3},getComboBBox:function(){return tc},getLabelPosition:function(){return pu},getLetterWidth:function(){return Tx},getLoopCfgs:function(){return Cx},getTextSize:function(){return Px},plainCombosToTrees:function(){return Jh},radialLayout:function(){return Ax},reconstructTree:function(){return qh},traverseTree:function(){return Zi},traverseTreeUp:function(){return xa}});var Bt={};d.r(Bt),d.d(Bt,{adjMatrix:function(){return Bu},breadthFirstSearch:function(){return A9},degree:function(){return d1},depthFirstSearch:function(){return Z1},detectAllCycles:function(){return _9},detectAllDirectedCycle:function(){return J1},detectAllUndirectedCycle:function(){return Q1},detectDirectedCycle:function(){return O9},findAllPath:function(){return D9},findShortestPath:function(){return B9},floydWarshall:function(){return m1},getConnectedComponents:function(){return $1},getPageRank:function(){return H9},minimumSpanningTree:function(){return X9}});var gt=d(67294),J=d(67984),I=d(13008),u=d(49242),R;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(R||(R={}));var N;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(N||(N={}));var z;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(z||(z={}));var j={FORE:3,MID:2,BG:1},K;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(K||(K={}));var at;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(at||(at={}));var Tt;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(Tt||(Tt={}));var pt=["color","shape","size"],Q="_origin",vt=1,et=1,it=.25,ct={};function rt(i){var r=ct[i];if(!r)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return r}function tt(i,r){ct[i]=r}var mt=d(6056),_t=d(45442);function Wt(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function te(i){return typeof i=="number"&&!isNaN(i)}function ce(i,r,t,e){var n=t,a=e;if(r){var o=Wt(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(te(n)?n:vt,vt),height:Math.max(te(a)?a:et,et)}}function Pe(i){var r=i.parentNode;r&&r.removeChild(i)}var we=d(90494),Ce=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(we.default),Ge=Ce,$e=d(65722),cr=d(68060),or=d(25228),Xr=d(58368),xn=d(13541),Wr=d(72469),sn=d(51441),Jn=sn.Axis.Line,ai=sn.Axis.Circle,Si=sn.Grid.Line,Mi=sn.Grid.Circle,Ht=sn.Legend.Category,Kt=sn.Legend.Continuous,ie=sn.Tooltip.Html,se=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function xe(i){var r="linear";return se.test(i)?r="time":(0,u.isString)(i)&&(r="cat"),r}function Me(i,r,t){var e=r||[];if((0,u.isNumber)(i)||(0,u.isNil)((0,u.firstValue)(e,i))&&(0,u.isEmpty)(t)){var n=(0,Wr.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,u.valuesOfKey)(e,i),o=(0,u.get)(t,"type",xe(a[0])),s=(0,Wr.getScale)(o);return new s((0,I.__assign)({field:i,values:a},t))}function Se(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function _e(i){return i.alias||i.field}var de=d(31437);function Ue(i){var r,t;switch(i){case N.TOP:r={x:0,y:1},t={x:1,y:1};break;case N.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case N.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case N.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function Re(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function tr(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=Ue(r):i.isPolar&&(t=Re(i));var e=t.start,n=t.end;return{start:i.convert(e),end:i.convert(n)}}function hr(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function ar(i){var r=i.start,t=i.end;return r.x===t.x}function vr(i,r){var t=i.start,e=i.end,n=ar(i);return n?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function pr(i,r){return(0,u.get)(i,["components","axis",r],{})}function Cr(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?de.angle(o,s):de.angle(o,s)*-1,f=l+(r.end-r.start),h=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:h,startAngle:l,endAngle:f}}function Je(i,r){return(0,u.isBoolean)(i)?i===!1?!1:{}:(0,u.get)(i,[r])}function Ar(i,r){return(0,u.get)(i,"position",r)}function Ir(i,r){return(0,u.get)(r,["title","text"],_e(i))}var Tr=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,u.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,n=r.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(R.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,u.each)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,u.each)(r,function(a){var o=a[t];!(0,u.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=1/(t===0?1:t),o=1/(r===0?1:r),s={x:a*e,y:o*n},l={x:a*(e+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),n=e.coordinate,a=r.geometries,o=(0,u.get)(n,"type","rect");if(o==="rect"&&a.length){(0,u.isNil)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),f=l[0],h=l[1],c=Je(s,f),v=Je(s,h);c!==!1&&(e.axes[f]=this.getXAxisOption(f,s,c,t)),v!==!1&&(e.axes[h]=this.getYAxisOption(h,s,v,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,u.every)(r,function(e){var n=e.field,a=e.value;return!(0,u.isNil)(a)&&n?t[n]===a:!0})}},i}(),Rr={},Zr=function(i){return Rr[(0,u.lowerCase)(i)]},Kr=function(i,r){Rr[(0,u.lowerCase)(i)]=r},jn=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,u.assign)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),ln=jn,Kn=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(ln),ci=Kn,oi={};function Li(i,r){var t=oi[i],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(r,a),e.name=i,e.init()}return e}function Ii(i){var r=oi[i];return(0,u.get)(r,"ActionClass")}function Br(i,r,t){oi[i]={ActionClass:r,cfg:t}}function vi(i){delete oi[i]}function ki(i,r){var t=new ci(r);return t.callback=i,t.name="callback",t}function li(i){if((0,u.isEmpty)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,u.each)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}function Tn(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function di(i,r,t,e,n,a){a===void 0&&(a=0);var o=Tn(i,r,t,e),s=Tn(i,r,t,n),l=Tn(i,r,a,e),f=Tn(i,r,a,n);if(n-e==Math.PI*2){var h=Tn(i,r,t,e+Math.PI),c=Tn(i,r,a,e+Math.PI),v=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(v.push(["A",a,a,0,1,0,c.x,c.y]),v.push(["A",a,a,0,1,0,f.x,f.y])),v.push(["M",o.x,o.y]),v.push(["Z"]),v}var m=n-e<=Math.PI?0:1,T=[["M",o.x,o.y],["A",t,t,0,m,1,s.x,s.y],["L",f.x,f.y]];return a&&T.push(["A",a,a,0,m,0,l.x,l.y]),T.push(["L",o.x,o.y]),T.push(["Z"]),T}function Gi(i,r,t,e,n){var a=Tn(i,r,t,e),o=Tn(i,r,t,n);if((0,u.isNumberEqual)(n-e,Math.PI*2)){var s=Tn(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function mi(i,r){var t=i.points,e=li(t),n,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(n=e.maxY*l,a=e.minY*l):(n=e.maxX*l,a=e.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function Ci(i,r){if((0,u.isNumber)(i)&&(0,u.isNumber)(r))return[i,r];for(var t=-1,e=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*r[o]-i[o]*r[a],e+=(i[a]+i[o])*s,n+=(r[a]+r[o])*s;return l*=3,[e/l,n/l]}function qn(i,r){var t=i.attr(),e=r.attr();return(0,u.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function $i(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function ua(i,r,t){if((0,u.isString)(i))return i.padEnd(r,t);if((0,u.isArray)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}function Jt(i,r){return r.forEach(function(t){delete i[t]}),i}function Rt(i,r,t){r===void 0&&(r=[]),t===void 0&&(t={});for(var e=0,n=i;e<n.length;e++){var a=n[e];t[a]||(r.push(a),t[a]=!0)}return r}function Qt(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function pe(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function Oe(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function rr(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,n=i.end;t=$i(r.x,e.x,n.x)&&$i(r.y,e.y,n.y)}else{var a=i.invert(r);t=$i(a.x,0,1)&&$i(a.y,0,1)}return t}function ur(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function lr(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),f=i.getRadius();return{type:"path",startState:{path:di(l.x,l.y,f+r,o,o)},endState:function(c){var v=(s-o)*c+o,m=di(l.x,l.y,f+r,o,v);return{path:m}},attrs:{path:di(l.x,l.y,f+r,o,s)}}}var h;return i.isTransposed?h={height:a+r*2}:h={width:n+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+r*2:0,height:i.isTransposed?0:a+r*2},endState:h,attrs:{x:t.x-r,y:e.y-r,width:n+r*2,height:a+r*2}}}function Vr(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function yn(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function ti(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],f=e?"y":"x",h=Math.abs(s[f]-o[f])*(a-n),c=s[f]>=o[f]?1:0,v=h>Math.PI?1:0,m=t.convert(s),T=Oe(t,m);if(T>=.5)if(h===Math.PI*2){var D={x:(s.x+o.x)/2,y:(s.y+o.y)/2},Y=t.convert(D);l.push(["A",T,T,0,v,c,Y.x,Y.y]),l.push(["A",T,T,0,v,c,m.x,m.y])}else l.push(["A",T,T,0,v,c,m.x,m.y]);return l}function Nt(i){(0,u.each)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Ut=function(i,r,t,e){var n=[],a,o,s=!!e,l,f;if(s){l=[Infinity,Infinity],f=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=de.min([0,0],l,v),f=de.max([0,0],f,v)}l=de.min([0,0],l,e[0]),f=de.max([0,0],f,e[1])}for(var h=0,m=i.length;h<m;h++){var v=i[h];if(t)a=i[h?h-1:m-1],o=i[(h+1)%m];else if(h===0||h===m-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var T=[0,0];T=de.sub(T,o,a),T=de.scale(T,T,r);var D=de.distance(v,a),Y=de.distance(v,o),W=D+Y;W!==0&&(D/=W,Y/=W);var H=de.scale([0,0],T,-D),st=de.scale([0,0],T,Y),lt=de.add([0,0],v,H),Mt=de.add([0,0],v,st);s&&(lt=de.max([0,0],lt,l),lt=de.min([0,0],lt,f),Mt=de.max([0,0],Mt,l),Mt=de.min([0,0],Mt,f)),n.push(lt),n.push(Mt)}return t&&n.push(n.shift()),n};function qt(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=Ut(n,.4,e,t),l=n.length,f=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),f}function ye(i,r){return Vr(i,r)}function ge(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return ye(i,r);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)}var f=t||[[0,0],[1,1]],h=qt(e,r,f);return h.unshift(["M",n.x,n.y]),h}function Te(i,r){var t=[];return(0,u.each)(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(yn(e,i));break;case"z":default:t.push(e);break}}),t}function er(i,r){var t=[],e,n,a,o;return(0,u.each)(r,function(s,l){var f=s[0];switch(f.toLowerCase()){case"m":case"c":case"q":t.push(yn(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(ti(e,n,i)):t.push(yn(s,i));break;case"z":default:t.push(s);break}}),Nt(t),t}var nr=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,u.each)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,u.each)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case N.TOP:case N.TOP_LEFT:case N.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case N.RIGHT:case N.RIGHT_TOP:case N.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case N.BOTTOM:case N.BOTTOM_LEFT:case N.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case N.LEFT:case N.LEFT_TOP:case N.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return new i(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),Pt=function(i,r){var t=r.start,e=r.end;return new nr(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function ht(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var ot=d(70146);function dt(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?n:null}function kt(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?e.attr("path"):null}function jt(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function oe(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function fe(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function ue(i){return i&&i.component&&i.component.isList()}function ke(i){return i&&i.component&&i.component.isSlider()}function Be(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function Ye(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=kt(i,r);return e?sr(i.view,e):void 0}var n=dt(i,r);return n?$r(i.view,n):null}function fr(i,r,t){var e=dt(i,t);if(!e)return null;var n=i.view,a=Qi(n,r,{x:e.x,y:e.y}),o=Qi(n,r,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return $r(r,s)}function Xe(i){var r=i.geometries,t=[];return(0,u.each)(r,function(e){var n=e.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,u.each)(i.views,function(e){t=t.concat(Xe(e))}),t}function Ne(i,r,t){var e=Xe(i);return e.filter(function(n){return Er(n,r)===t})}function Or(i,r){var t=i.geometries,e=[];return(0,u.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function Er(i,r){var t=i.getModel(),e=t.data,n;return(0,u.isArray)(e)?n=e[0][r]:n=e[r],n}function jr(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function $r(i,r){var t=Xe(i),e=[];return(0,u.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();jr(r,o)&&e.push(n)}),e}function mr(i){var r=[];return(0,u.each)(i,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function sr(i,r){var t=Xe(i),e=mr(r),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=mr(o.attr("path"));else{var l=o.getCanvasBBox();s=ht(l)}return(0,ot.default)(e,s)});return n}function Qr(i){return i.getComponents().map(function(r){return r.component})}function Cn(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function Dn(i,r){if(i.length<=2)return ye(i,!1);var t=i[0],e=[];(0,u.each)(i,function(a){e.push(a.x),e.push(a.y)});var n=qt(e,r,null);return n.unshift(["M",t.x,t.y]),n}function ui(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function fi(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function Ba(i,r){var t=i.getCoordinate();return t.invert(r)}function Qi(i,r,t){var e=Ba(i,t);return r.getCoordinate().convert(e)}function Ji(i,r,t,e){var n=!1;return(0,u.each)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function fa(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,u.each)(i.views,function(e){if(t=fa(e,r),t)return!1}),t}var Za=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,u.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=Qr(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&ui(a,e):ui(a,e)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,u.each)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},i}(),lo=Za,Ho=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),Da=Ho;function Ka(i,r){var t=i.split(":"),e=t[0],n=r.getAction(e)||Li(e,r);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function wa(i){var r=i.action,t=i.methodName;if(r[t])r[t]();else throw new Error("Action("+r.name+") doesn't have a method called "+t)}var xi={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},da=function(i){(0,I.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,u.each)(this.steps,function(e,n){(0,u.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,u.each)(this.steps,function(e,n){(0,u.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new lo(t);this.context=e;var n=this.steps;(0,u.each)(n,function(a){(0,u.each)(a,function(o){if((0,u.isFunction)(o.action))o.actionObject={action:ki(o.action,e),methodName:"execute"};else if((0,u.isString)(o.action))o.actionObject=Ka(o.action,e);else if((0,u.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,u.each)(s,function(l){o.actionObject.push(Ka(l,e))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===xi.SHOW_ENABLE)return!0;if(t===xi.PROCESSING)return e===xi.START;if(t===xi.START)return e!==xi.PROCESSING;if(t===xi.END)return e===xi.PROCESSING||e===xi.START;if(t===xi.ROLLBACK){if(n[xi.END])return e===xi.END;if(e===xi.START)return!0}return!1},r.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==xi.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var f=function(h){a.event=h,n.isAllowExcute(t,e)?((0,u.isArray)(s)?(0,u.each)(s,function(c){a.event=h,wa(c)}):(a.event=h,wa(s)),n.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};e.debounce?o[l]=(0,u.debounce)(f,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=(0,u.throttle)(f,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=f}return o[l]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(Da),uo=da,$a={};function Fa(i){return $a[(0,u.lowerCase)(i)]}function gn(i,r){$a[(0,u.lowerCase)(i)]=r}function Eo(i,r,t){var e=Fa(i);if(!e)return null;if((0,u.isPlainObject)(e)){var n=(0,u.mix)((0,u.clone)(e),t);return new uo(r,n)}else{var a=e;return new a(r,t)}}var pi=d(7755),Pn=d(31506);function Sa(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=mi(o.getModel(),s),f=l.startAngle,h=l.endAngle,c=(f+h)/2,v=7.5,m=v*Math.cos(c),T=v*Math.sin(c);return{matrix:Pn.transform(null,[["t",m,T]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,I.__assign)((0,I.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,I.__assign)((0,I.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,I.__assign)((0,I.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,I.__assign)((0,I.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,I.__assign)((0,I.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,I.__assign)((0,I.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,I.__assign)((0,I.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,I.__assign)((0,I.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,u.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,u.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,u.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,u.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,u.deepMix)({},e,{title:null,label:{offset:8},grid:(0,u.deepMix)({},n,{line:{type:"line"}})}),radius:(0,u.deepMix)({},e,{title:null,label:{offset:8},grid:(0,u.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,u.deepMix)({},a,{layout:"vertical"}),left:(0,u.deepMix)({},a,{layout:"vertical"}),top:(0,u.deepMix)({},a,{layout:"horizontal"}),bottom:(0,u.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+pi.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+pi.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},r[""+pi.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},r[""+pi.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+pi.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+pi.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var En={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ma={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Vt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],yt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],G={backgroundColor:"transparent",brandColor:Vt[0],paletteQualitative10:Vt,paletteQualitative20:yt,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:En[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:En[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:En[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:En[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:En[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:En[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:En[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Vt[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:En[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:En[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:En[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:En[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:En[25],annotationArcBorderColor:En[15],annotationArcBorder:.5,annotationLineBorderColor:En[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:En[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Ma[95],annotationTextBorder:1.5,annotationRegionFillColor:En[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:En[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:En[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:En[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ma[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:En[25],pointFillColor:Vt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ma[100],pointBorderOpacity:1,pointActiveBorderColor:En[100],pointSelectedBorder:2,pointSelectedBorderColor:En[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Vt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Ma[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:En[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:En[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Vt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Vt[0],areaFillOpacity:.25,areaActiveFillColor:Vt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Vt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Vt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:En[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:En[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Vt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:En[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:En[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Vt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ma[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:En[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:En[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},$=Sa(G),ut={default:$};function Ct(i){return(0,u.get)(ut,(0,u.lowerCase)(i),ut.default)}function Dt(i,r){ut[(0,u.lowerCase)(i)]=(0,u.deepMix)({},ut.default,r)}function Xt(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,u.isNumberEqual)(e,n)}function ne(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}function ae(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(r),s=n.invert(o.y),l=(0,u.find)(i,function(f){var h=f[Q];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var me=(0,u.memoize)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var o=r[a],s=i.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function Ee(i,r,t){var e=t;if(!t){var n=r.getAttribute("position"),a=n.getFields();e=a[0]}var o=r.scales;return o[e]?o[e].getText(i[e]):(0,u.hasKey)(i,e)?i[e]:e}function ze(i){var r=(0,u.values)(i.attributes);return(0,u.filter)(r,function(t){return(0,u.contains)(pt,t.type)})}function Ze(i){for(var r=ze(i),t,e=0,n=r;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function xr(i,r){var t=r.field,e=i[t];if((0,u.isArray)(e)){var n=e.map(function(a){return r.getText(a)});return n.join("-")}return r.getText(e)}function Gr(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(i[n])}var a=Ze(r);return _e(a)}function kr(i,r,t){if(r.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(e==="heatmap"||e==="point"){for(var f=t.coordinate,h=f.invert(i),c=n.invert(h.x),v=a.invert(h.y),m=Infinity,T=0;T<r.length;T++){var D=r[T],Y=D[Q],W=Math.pow(Y[o]-c,2)+Math.pow(Y[s]-v,2);W<m&&(m=W,l=D)}return l}var H=r[0],st=r[r.length-1],lt=ne(i,t),Mt=H[Q][o],Ft=H[Q][s],zt=st[Q][o],Zt=a.isLinear&&(0,u.isArray)(Ft);if((0,u.isArray)(Mt)){for(var T=0;T<r.length;T++){var Yt=r[T],Y=Yt[Q];if(n.translate(Y[o][0])<=lt&&n.translate(Y[o][1])>=lt)if(Zt)(0,u.isArray)(l)||(l=[]),l.push(Yt);else{l=Yt;break}}(0,u.isArray)(l)&&(l=ae(l,i,t))}else{var re=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var T=0;T<r.length;T++){var Yt=r[T],Y=Yt[Q];if(Xt(Y[o],lt,n))if(Zt)(0,u.isArray)(l)||(l=[]),l.push(Yt);else{l=Yt;break}else n.translate(Y[o])<=lt&&(st=Yt,re=r[T+1])}(0,u.isArray)(l)&&(l=ae(l,i,t))}else{if((lt>n.translate(zt)||lt<n.translate(Mt))&&(lt>n.max||lt<n.min))return null;for(var he=0,le=r.length-1,Ae=void 0;he<=le;){Ae=Math.floor((he+le)/2);var Ie=r[Ae][Q][o];if(Xt(Ie,lt,n))return r[Ae];n.translate(Ie)<=n.translate(lt)?(he=Ae+1,st=r[Ae],re=r[Ae+1]):(le===0&&(st=r[0]),le=Ae-1)}}st&&re&&Math.abs(n.translate(st[Q][o])-lt)>Math.abs(n.translate(re[Q][o])-lt)&&(st=re)}var Le=me(t.getXScale());return!l&&Math.abs(n.translate(st[Q][o])-lt)<=Le/2&&(l=st),l}function hn(i,r,t){t===void 0&&(t="");var e=i[Q],n=Ee(e,r,t),a=r.tooltipOption,o=r.theme.defaultColor,s=[],l,f;function h(Ft,zt){if(!(0,u.isNil)(zt)&&zt!==""){var Zt={title:n,data:e,mappingData:i,name:Ft,value:zt,color:i.color||o,marker:!0};s.push(Zt)}}if((0,u.isObject)(a)){var c=a.fields,v=a.callback;if(v){var m=c.map(function(Ft){return i[Q][Ft]}),T=v.apply(void 0,m),D=(0,I.__assign)({data:i[Q],mappingData:i,title:n,color:i.color||o,marker:!0},T);s.push(D)}else for(var Y=r.scales,W=0,H=c;W<H.length;W++){var st=H[W];if(!(0,u.isNil)(e[st])){var lt=Y[st];l=_e(lt),f=lt.getText(e[st]),h(l,f)}}}else{var Mt=Ze(r);(0,u.isNil)(e[Mt.field])||(f=xr(e,Mt),l=Gr(e,r),h(l,f))}return s}var vn={};function cn(i,r){vn[i]=r}function It(i){delete vn[i]}function ee(){return Object.keys(vn)}function ve(i){return vn[i]}var be=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,u.some)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,I.__assign)({start:r,end:t},a),l=(0,xn.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,I.__assign)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,u.each)(e,function(n){var a,o=n[0],s=n.slice(1),l=(0,u.isNil)(r)?!0:r.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),Fe=be,dr=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),Hr=dr;function _n(i){return!(0,u.isNumber)(i)&&!(0,u.isArray)(i)}function Ei(i){i===void 0&&(i=0);var r=(0,u.isArray)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,I.__spreadArrays)(r,r);break;case 3:r=(0,I.__spreadArrays)(r,[r[1]]);break;default:r=r.slice(0,4);break}return r}var aa=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case N.TOP:case N.TOP_LEFT:case N.TOP_RIGHT:this.top+=n;break;case N.RIGHT:case N.RIGHT_TOP:case N.RIGHT_BOTTOM:this.right+=e;break;case N.BOTTOM:case N.BOTTOM_LEFT:case N.BOTTOM_RIGHT:this.bottom+=n;break;case N.LEFT:case N.LEFT_TOP:case N.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function ha(i){var r=i.padding;if(!_n(r))return Ei(r);var t=i.viewBBox,e=i.autoPadding,n=new aa;(0,u.each)(i.getComponents(),function(s){var l=s.component,f=s.type;if(!(f===z.GRID||f===z.TOOLTIP)){var h=l.getLayoutBBox(),c=new nr(h.x,h.y,h.width,h.height);if(f===z.AXIS){var v=c.exceed(t);n.shrink(v)}else{var m=s.direction;n.inc(c,m)}}});var a=n.getPadding();if(e){var o=Ei(i.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function ys(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),n=i.getController("slider"),a=ha(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(Ei(i.appendPadding)),i.adjustCoordinate(),[r,n,t,e].forEach(function(o){o&&o.layout()})}var fb=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,u.deepMix)(l,o.scaleDef,e)}var f=Me(r,t,a);return this.cacheScale(f,e,n),f},i.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,u.each)(t,function(s){var l=r.getScale(s);a=(0,u.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,u.isNumber)(l.min)?Math.min(n,l.min):n,(0,u.each)(l.values,function(f){o.includes(f)||o.push(f)})}),(0,u.each)(t,function(s){var l=r.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(Se(n.scale,r),n.scaleDef=t):(n={key:e,scale:r,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,u.last)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,n=t.field,a=(0,u.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),Tc=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.id=(0,u.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=ee(),e.scalePool=new fb,e.layoutFunc=ys,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(Y){var W=Y.name;if(!W.includes(":")){var H=e.createViewEvent(Y);e.doPlotEvent(H),e.emit(W,H)}},e.onDelegateEvents=function(Y){var W=Y.name;if(!!W.includes(":")){var H=e.createViewEvent(Y);e.emit(W,H)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,f=t.region,h=f===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:f,c=t.padding,v=t.appendPadding,m=t.theme,T=t.options,D=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=l,e.region=h,e.padding=c,e.appendPadding=v,e.options=(0,I.__assign)((0,I.__assign)({},e.options),T),e.limitInPlot=D,e.themeObject=(0,u.isObject)(m)?(0,u.deepMix)({},Ct("default"),m):Ct(m),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new Fe(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},r.prototype.render=function(t){t===void 0&&(t=!1),this.emit(K.BEFORE_RENDER),this.paint(t),this.emit(K.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(K.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(K.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(K.BEFORE_DESTROY);var t=this.interactions;(0,u.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,u.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,u.isFunction)(e)?((0,u.set)(this.options,["filters",t],e),this):(!e&&(0,u.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,u.isBoolean)(t)?(0,u.set)(this.options,["axes"],t):(0,u.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,u.isBoolean)(t)?(0,u.set)(this.options,["legends"],t):(0,u.isString)(t)?(0,u.set)(this.options,["legends",t],e):(0,u.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,u.isString)(t)?(0,u.set)(this.options,["scales",t],e):(0,u.isObject)(t)&&(0,u.each)(t,function(a,o){(0,u.set)(n.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,u.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,u.isString)(t)?(0,u.set)(this.options,"coordinate",{type:t,cfg:e}):(0,u.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=Zr(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,I.__assign)((0,I.__assign)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,u.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,u.mix)(this.options,t),this.initOptions(),this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,u.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,u.isObject)(t)?(0,u.deepMix)({},this.themeObject,t):Ct(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=Eo(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(K.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit(K.AFTER_CHANGE_DATA)},r.prototype.createView=function(t){var e={data:this.options.data,scales:(0,u.clone)(this.options.scales),axes:(0,u.clone)(this.options.axes),coordinate:(0,u.clone)(this.coordinateController.getOption()),tooltip:(0,u.clone)(this.options.tooltip),legends:(0,u.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,I.__assign)((0,I.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:j.BG}),middleGroup:this.middleGroup.addGroup({zIndex:j.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:j.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,I.__assign)((0,I.__assign)({},e),(0,u.get)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,u.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},r.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===R.BG?this.backgroundGroup:t===R.MID?this.middleGroup:t===R.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return rr(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,u.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return Rt((0,u.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,u.each)(t,function(l,f){n[f]&&(o=n[f].scale(l)),a[f]&&(s=a[f].scale(l))}),!(0,u.isNil)(o)&&!(0,u.isNil)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,u.find)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var f=void 0,h=0,c=l.length;h<c;h++){var v=l[h];f=kr(t,v,s),f&&n.push(f)}}for(var m=this.views,a=0,o=m.length;a<o;a++){var T=m[a],D=T.getSnapRecords(t);n=n.concat(D)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,u.size)(e)===0?t:(0,u.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var l=e[s];return l(n[s],n,a)})})},r.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,u.get)(n,t);return(0,u.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,u.isEqual)(e,a)&&(0,u.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(K.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(K.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,u.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},r.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;_n(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=lr(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,f=s.length;l<f;l++){var h=s[l];h.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,n,a){var o=(0,u.get)(this.options.scales,[t]),s=(0,I.__assign)((0,I.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,f=s.end,h=new nr(t+n*l.x,e+a*l.y,n*(f.x-l.x),a*(f.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new nr(t+n*l.x,e+a*l.y,n*(f.x-l.x),a*(f.y-l.y)),this.coordinateBBox=this.viewBBox)},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=ve(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new Hr(this,t,a);return o.type=n,o},r.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var l=this.isPointInPlot(o);if(l){var f="plot:"+e;t.type=f,this.emit(f,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!l?(e==="mousemove"&&(t.type=at.MOUSE_LEAVE,this.emit(at.MOUSE_LEAVE,t)),t.type=at.LEAVE,this.emit(at.LEAVE,t)):!this.isPreMouseInPlot&&l&&(e==="mousemove"&&(t.type=at.MOUSE_ENTER,this.emit(at.MOUSE_ENTER,t)),t.type=at.ENTER,this.emit(at.ENTER,t)),this.isPreMouseInPlot=l):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=at.MOUSE_LEAVE,this.emit(at.MOUSE_LEAVE,t)),t.type=at.LEAVE,this.emit(at.LEAVE,t),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,u.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var f={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(f):l.init(f)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,f=0,h=t.length;f<h;f++){var c=t[f],v=s[c],m=this.getScaleKey(c);this.createScale(c,e.includes(c)?a:l,v,m),this.createdScaleKeys.set(m,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync()},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();Rt(s,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();Rt(s,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,I.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,u.each)(e,function(o){var s=o.field,l=o.values,f=o.isCategory,h=o.isIdentity;if((f||h)&&l&&!(0,u.get)(a,[s,"range"])){var c=l.length,v=void 0;if(c===1)v=[.5,1];else{var m=1,T=0;pe(n)?n.isTransposed?(m=(0,u.get)(t.theme,"widthRatio.multiplePie",1/1.3),T=1/c*m,v=[T/2,1-T/2]):v=[0,1-1/c]:(T=1/c/2,v=[T,1-T])}o.range=v}})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,f=t.annotations,h=f===void 0?[]:f,c=0;c<n.length;c++){var v=n[c];this.createGeometry(v)}for(var m=0;m<o.length;m++){var T=o[m],D=T.type,Y=T.cfg;this.interaction(D,Y)}for(var W=0;W<l.length;W++){var H=l[W];this.createView(H)}for(var st=this.getController("annotation"),lt=0;lt<h.length;lt++){var Mt=h[lt];st.annotation(Mt)}},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,u.each)(t,function(s,l){(0,u.isFunction)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(Ge);function Ca(i,r){Tc.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,I.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var qu=Tc,hb=function(i){(0,I.__extends)(r,i);function r(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,f=t.padding,h=t.appendPadding,c=t.renderer,v=c===void 0?"canvas":c,m=t.pixelRatio,T=t.localRefresh,D=T===void 0?!0:T,Y=t.visible,W=Y===void 0?!0:Y,H=t.defaultInteractions,st=H===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:H,lt=t.options,Mt=t.limitInPlot,Ft=t.theme,zt=(0,u.isString)(n)?document.getElementById(n):n,Zt=(0,mt.Z)('<div style="position:relative;"></div>');zt.appendChild(Zt);var Yt=ce(zt,l,a,o),re=rt(v),he=new re.Canvas((0,I.__assign)({container:Zt,pixelRatio:m,localRefresh:D},Yt));return e=i.call(this,{parent:null,canvas:he,backgroundGroup:he.addGroup({zIndex:j.BG}),middleGroup:he.addGroup({zIndex:j.MID}),foregroundGroup:he.addGroup({zIndex:j.FORE}),padding:f,appendPadding:h,visible:W,options:lt,limitInPlot:Mt,theme:Ft})||this,e.onResize=(0,u.debounce)(function(){e.forceFit()},300),e.ele=zt,e.canvas=he,e.width=Yt.width,e.height=Yt.height,e.autoFit=l,e.localRefresh=D,e.renderer=v,e.wrapperElement=Zt,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(st),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,u.each)(t,function(n){e.interaction(n)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Pe(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=ce(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},r.prototype.updateCanvasStyle=function(){(0,_t.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(qu),cb=hb,Wo=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(){(0,u.each)(this.components,function(r){r.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),Pc=0,vb=1/2,db=1/2,pb=.05,gb=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,a=n===void 0?["x","y"]:n,o=r.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=e,this.dimValuesMap=o}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[a===0?0:a-1],l=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);u.each(r,function(a,o){u.each(n,function(s,l){e.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(r,t){return u.each(r,function(e){e[t]===void 0&&(e[t]=Pc)}),u.groupBy(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var t=this,e=t.xField,n=t.yField,a=u.assign({},this.dimValuesMap),o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=u.valuesOfKey(r,l).sort(function(f,h){return f-h}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[Pc,1]}return a},i}(),rl=gb,_c={},Oc=function(i){return _c[i.toLowerCase()]},nl=function(i,r){if(Oc(i))throw new Error("Adjust type '"+i+"' existed.");_c[i.toLowerCase()]=r},Gt=d(8108),yb=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?vb:n,o=t.dodgeRatio,s=o===void 0?db:o,l=t.dodgeBy,f=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,v=t.groupNum,m=t.defaultSize,T=t.maxColumnWidth,D=t.minColumnWidth,Y=t.columnWidthRatio,W=t.customOffset;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=f,e.dodgePadding=h,e.xDimensionLegenth=c,e.groupNum=v,e.defaultSize=m,e.maxColumnWidth=T,e.minColumnWidth=D,e.columnWidthRatio=Y,e.customOffset=W,e}return r.prototype.process=function(t){var e=u.clone(t),n=u.flatten(e),a=this.dodgeBy,o=a?u.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),f=this.groupData(n,t);return u.each(f,function(h,c){var v;e.length===1?v={pre:e[0]-1,next:e[0]+1}:v=o.getAdjustRange(t,parseFloat(c),e),u.each(h,function(m){var T=m[t],D=l[T],Y=D.indexOf(a);if(u.isNil(s))m[t]=o.getDodgeOffset(v,Y,D.length);else{var W=v.pre,H=v.next;m[t]=u.isFunction(s)?s(m,v):(W+H)/2+s}})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,f=a.dodgePadding,h=t.pre,c=t.next,v=c-h,m;if(!u.isNil(l)&&u.isNil(f)&&l>=0){var T=this.getIntervalOnlyOffset(n,e);m=h+T}else if(!u.isNil(f)&&u.isNil(l)&&f>=0){var T=this.getDodgeOnlyOffset(n,e);m=h+T}else if(!u.isNil(l)&&!u.isNil(f)&&l>=0&&f>=0){var T=this.getIntervalAndDodgeOffset(n,e);m=h+T}else{var D=v*o/n,Y=s*D,T=1/2*(v-n*D-(n-1)*Y)+((e+1)*D+e*Y)-1/2*D-1/2*v;m=(h+c)/2+T}return m},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,f=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,m=o/s,T=(1-(l-1)*m)/l*f/(t-1),D=((1-m*(l-1))/l-T*(t-1))/t;if(D=u.isNil(v)?D:1/l/t*v,!u.isNil(h)){var Y=h/s;D=Math.min(D,Y)}if(!u.isNil(c)){var W=c/s;D=Math.max(D,W)}D=a?a/s:D,T=((1-(l-1)*m)/l-t*D)/(t-1);var H=((1/2+e)*D+e*T+1/2*m)*l-m/2;return H},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,f=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,m=o/s,T=1*f/(l-1),D=((1-T*(l-1))/l-m*(t-1))/t;if(D=v?1/l/t*v:D,!u.isNil(h)){var Y=h/s;D=Math.min(D,Y)}if(!u.isNil(c)){var W=c/s;D=Math.max(D,W)}D=a?a/s:D,T=(1-(D*t+m*(t-1))*l)/(l-1);var H=((1/2+e)*D+e*m+1/2*T)*l-T/2;return H},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,f=a/s,h=o/s,c=((1-f*(l-1))/l-h*(t-1))/t,v=((1/2+e)*c+e*h+1/2*f)*l-f/2;return v},r.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},u.each(e,function(o,s){var l=u.valuesOfKey(o,t);l.length||l.push(0),u.each(l,function(f){a[f]||(a[f]=[]),a[f].push(s)})}),n[t]=a),a},r}(rl),mb=yb;function xb(i,r){return(r-i)*Math.random()+i}var bb=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=u.clone(t),n=u.flatten(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return u.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*pb;return xb(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return u.each(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(rl),wb=bb,tf=u.Cache,Sb=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,f=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return e.adjustNames=a,e.height=s,e.size=f,e.reverseOrder=c,e}return r.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,l=new tf,f=new tf;return s.map(function(h){return h.map(function(c){var v,m=u.get(c,n,0),T=u.get(c,[a]),D=m.toString();if(T=u.isArray(T)?T[1]:T,!u.isNil(T)){var Y=T>=0?l:f;Y.has(D)||Y.set(D,0);var W=Y.get(D),H=T+W;return Y.set(D,H),(0,Gt.__assign)((0,Gt.__assign)({},c),(v={},v[a]=[W,H],v))}return c})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",f=s?this.reverse(t):t,h=new tf;return f.map(function(c){return c.map(function(v){var m,T=e.size,D=v[a],Y=T*2/o;h.has(D)||h.set(D,Y/2);var W=h.get(D);return h.set(D,W+Y),(0,Gt.__assign)((0,Gt.__assign)({},v),(m={},m[l]=W,m))})})},r}(rl),Mb=Sb,Cb=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=u.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(f){return s[f]}));return u.map(t,function(f){return u.map(f,function(h){var c,v,m=h[o],T=h[a];if(u.isArray(m)){var D=(l-s[T])/2;return(0,Gt.__assign)((0,Gt.__assign)({},h),(c={},c[o]=u.map(m,function(W){return D+W}),c))}var Y=(l-m)/2;return(0,Gt.__assign)((0,Gt.__assign)({},h),(v={},v[o]=[Y,m+Y],v))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=u.groupBy(t,function(l){return l[a]});return u.mapValues(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var n=u.map(t,function(o){return u.get(o,e,[])}),a=u.flatten(n);return Math.max.apply(Math,a)},r}(rl),Eb=Cb;nl("Dodge",mb),nl("Jitter",wb),nl("Stack",Mb),nl("Symmetric",Eb);var Lc={};function ef(i){return Lc[i.toLowerCase()]}function hi(i,r){Lc[i.toLowerCase()]=r}var jo={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Ab={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Ic={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Tb(i,r){return{delay:(0,u.isFunction)(i.delay)?i.delay(r):i.delay,easing:(0,u.isFunction)(i.easing)?i.easing(r):i.easing,duration:(0,u.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback}}function kc(i,r,t){var e=Ab[i];return e&&((0,u.isFunction)(e)&&(e=e(r)),e=(0,u.deepMix)({},jo,e),t)?e[t]:e}function Uo(i,r,t){var e=(0,u.get)(i.get("origin"),"data",Q),n=r.animation,a=Tb(r,e);if(n){var o=ef(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function Pb(i,r,t,e,n){if(Ic[t]){var a=Ic[t](e),o=ef((0,u.get)(a,"animation",""));if(o){var s=(0,I.__assign)((0,I.__assign)((0,I.__assign)({},jo.appear),a),r);i.stopAnimate(),o(i,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var _b=d(31207),Ob=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?Uo(n,a,{coordinate:e.coordinate,toAttrs:(0,I.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,f=a.shape,h=a.shapeType,c=o.indexOf(t);if(e){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&f.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&f.toBack()}var v=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(T){n.syncShapeStyle(f,v,T,null)}):this.syncShapeStyle(f,v,"reset",null),v.remove(!0);var m={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",m),(0,_b.propagationDelegate)(this.shape,"statechange",m)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,u.each)(e,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[e]||a.theme[s];this.statesStyle=(0,u.deepMix)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,u.get)(n,[t,"style"],{}),o=a[e]||a;return(0,u.isFunction)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,u.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var f=e?"enter":"appear",h=this.getAnimateCfg(f);h&&Uo(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,I.__assign)({},this.shape.attr())})}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=e.get("children"),f=0;f<s.length;f++)this.syncShapeStyle(s[f],l[f],n,a,o+f);else{if(n&&n!=="reset"){var h=t.get("name");(0,u.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);e.attr(c)}var v=qn(t,e);this.animate?a?Uo(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v):t.attr(v)}},r.prototype.getShapeType=function(t){var e=(0,u.get)(t,"shape");return(0,u.isArray)(e)?e[0]:e},r}(Ge),Bc=Ob,Dc={},Fc={};function Rc(i){return Dc[i.toLowerCase()]}function ms(i,r){Dc[i.toLowerCase()]=r}function Nc(i){return Fc[i.toLowerCase()]}function Ao(i,r){Fc[i.toLowerCase()]=r}var il=d(57350),Lb={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,u.get)(n,[i,"default"],{}),o=t.getMarker(r);return(0,u.deepMix)({},a,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},Ib={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,il.parsePathString)(i);return r.isPolar?t=er(r,t):t=Te(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},rf={};function fo(i,r){var t=(0,u.upperFirst)(i),e=(0,I.__assign)((0,I.__assign)((0,I.__assign)({},Lb),r),{geometryType:i});return rf[t]=e,e}function bn(i,r,t){var e=(0,u.upperFirst)(i),n=rf[e],a=(0,I.__assign)((0,I.__assign)({},Ib),t);return n[r]=a,a}function nf(i){var r=(0,u.upperFirst)(i);return rf[r]}function kb(i,r,t){if(t===void 0&&(t={}),!r)return[i];var e=(0,u.groupToMap)(i,r),n=[];if(r.length===1&&t[r[0]])for(var a=t[r[0]],o=0,s=a;o<s.length;o++){var l=s[o],f=e["_"+l];f&&n.push(f)}else for(var h in e)if(e.hasOwnProperty(h)){var c=e[h];n.push(c)}return n}function Yc(i,r){return(0,u.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,u.isEqual)(i[t],r[t])})}function xs(i){return(0,u.isArray)(i)?i:i.split("*")}function Bb(i,r){var t=[];return(0,u.each)(r,function(e,n){var a=n.split(" ")[0];a===i&&t.push(e)}),t}var Db=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,f=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,v=t.theme,m=t.scales,T=m===void 0?{}:m,D=t.scaleDefs,Y=D===void 0?{}:D;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=f,e.visible=c,e.userTheme=v,e.scales=T,e.scaleDefs=Y,e}return r.prototype.position=function(t){var e=t;(0,u.isPlainObject)(t)||(e={fields:xs(t)});var n=(0,u.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,u.set)(e,"fields",n)),(0,u.set)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,u.isString)(t)||(0,u.isPlainObject)(t))&&(e=[t]),(0,u.each)(e,function(n,a){(0,u.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,u.isString)(t)){var n=xs(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,u.isString)(t)){var n=xs(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,u.isString)(t)){var a={},o=xs(t);a.fields=o,(0,u.isFunction)(e)?a.callback=e:(0,u.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,u.isEqual)(s,l)?e&&(n||!(0,u.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,u.deepMix)({},kc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,f=o.length;l<f;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var v=this.container,m=this.type,T=this.coordinate,D=(0,u.get)(this.animateOption,"appear"),Y=this.getYScale(),W=T.convert({x:0,y:Y.scale(this.getYMinValue())});Pb(v,D,m,T,W)}this.labelOption&&this.renderLabels((0,u.flatten)(s),t),this.dataArray=s,(0,u.each)(this.lastElementsMap,function(H){H.animate=e.animateOption,H.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,I.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,u.each)(this.attributes,function(e){pt.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,u.isEmpty)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],f=l.field;l.isIdentity?n.push(l.values):n.push(e[f])}return t.mapping.apply(t,n)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){t=(0,u.isArray)(t)?t[0]:t;var e=t[Q];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),f=s.field||"x",h=l.field||"y",c=e[h],v;s.type==="identity"?v=s.values[0]:v=e[f];var m;o==="interval"||o==="schema"?m=v:o==="line"||o==="area"||o==="path"?m=o:m=v+"-"+c;for(var T=this.groupScales,a=0,D=T.length;a<D;a++){var Y=T[a],W=Y.field;m=m+"-"+e[W]}var H=this.getAdjust("dodge");if(H){var st=H.dodgeBy;st&&(m=m+"-"+e[st])}return this.getAdjust("jitter")&&(m=m+"-"+t.x+"-"+t.y),m},r.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var f=a[l];f.fields?Rt(f.fields,t,e):f.values&&Rt(f.values,t,e)}return o&&o.fields&&Rt(o.fields,t,e),(0,u.isObject)(s)&&s.fields&&Rt(s.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=pt.length;n<a;n++){var o=pt[n],s=this.attributeOption[o];s&&s.fields&&Rt(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return e.translate(s[Q][n])-e.translate(l[Q][n])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!nf(t))return this.shapeFactory||(this.shapeFactory=(0,u.clone)(nf(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new Bc({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[Q],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,u.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,f=0,h=t.length;f<h;f++){var c=t[f],v=this.getElementId(c);s[v]&&(v=v+"-"+e+"-"+f);var m=o[v];if(!m)m=this.createElement(c,n);else{var T=this.getDrawCfg(c),D=m.getModel();(this.isCoordinateChanged||Yc(T,D))&&(m.animate=this.animateOption,m.update(T)),delete o[v]}l.push(m),s[v]=m}return l},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,u.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},r.prototype.createAttrOption=function(t,e,n){if((0,u.isNil)(e)||(0,u.isObject)(e))(0,u.isObject)(e)&&(0,u.isEqual)(Object.keys(e),["values"])?(0,u.set)(this.attributeOption,t,{fields:e.values}):(0,u.set)(this.attributeOption,t,e);else{var a={};(0,u.isNumber)(e)?a.values=[e]:a.fields=xs(e),n&&((0,u.isFunction)(n)?a.callback=n:a.values=n),(0,u.set)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},f=function(v){if(a.hasOwnProperty(v)){var m=a[v];if(!m)return{value:void 0};var T=(0,I.__assign)({},m),D=T.callback,Y=T.values,W=T.fields,H=W===void 0?[]:W,st=H.map(function(Mt){var Ft=t.scales[Mt];return Ft.isCategory&&!l[Mt]&&pt.includes(v)&&(t.groupScales.push(Ft),l[Mt]=!0),Ft});T.scales=st,v!=="position"&&st.length===1&&st[0].type==="identity"?T.values=st[0].values:!D&&!Y&&(v==="size"?T.values=o.sizes:v==="shape"?T.values=o.shapes[s]||[]:v==="color"&&(st.length?T.values=st[0].values.length<=10?o.colors10:o.colors20:T.values=o.colors10));var lt=(0,Xr.getAttribute)(v);n[v]=new lt(T)}};for(var h in a){var c=f(h);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(Mt){return Mt.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var f=a[s],h=[],c=0,v=f.length;c<v;c++){var m=f[c],T={};for(var D in m)T[D]=m[D];T[Q]=m;for(var Y=0,W=n;Y<W.length;Y++){var H=W[Y],st=H.field;T[st]=H.translate(T[st])}h.push(T)}o.push(h)}var lt=this.adjustData(o);return this.beforeMappingData=lt,lt},r.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,f=0,h=e.length;f<h;f++){var c=e[f],v=(0,I.__assign)({xField:s,yField:l},c),m=c.type;if(m==="dodge"){var T=[];if(a.isCategory||a.type==="identity")T.push("x");else if(!o)T.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");v.adjustNames=T,v.dodgeRatio=this.theme.columnWidthRatio}else if(m==="stack"){var D=this.coordinate;if(!o){v.height=D.getHeight();var Y=this.getDefaultValue("size")||3;v.size=Y}!D.isTransposed&&(0,u.isNil)(v.reverseOrder)&&(v.reverseOrder=!0)}var W=Oc(m),H=new W(v);n=H.process(n),this.adjusts[m]=H}return n},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var l=e[s],f=l.field;o.push(f),(0,u.get)(n,[f,"values"])&&(a[f]=n[f].values)}return kb(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,u.flatten)(e),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var f=n[l],h=Math.min.apply(null,f[a]),c=Math.max.apply(null,f[a]);h<o&&(o=h),c>s&&(s=c)}var v=this.scaleDefs,m={};o<t.min&&!(0,u.get)(v,[a,"min"])&&(m.min=o),s>t.max&&!(0,u.get)(v,[a,"max"])&&(m.max=s),t.change(m)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,f=e.getShapePoints(l,s);o.points=f}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,u.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[Q],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var f=e[l],h=f.names,c=this.getAttributeValues(f,o);if(h.length>1)for(var v=0;v<c.length;v+=1){var m=c[v],T=h[v];s[T]=(0,u.isArray)(m)&&m.length===1?m[0]:m}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},r.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,u.isArray)(e)&&(0,u.isArray)(n)){a=[],o=[];for(var f=0,h=0,c=e.length,v=n.length;f<c&&h<v;f+=1,h+=1)s=l.convert({x:e[f],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,u.isArray)(n)){o=[];for(var m=0;m<n.length;m++){var T=n[m];s=l.convert({x:e,y:T}),a&&a!==s.x?((0,u.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,u.isArray)(e)){a=[];for(var m=0;m<e.length;m++){var D=e[m];s=l.convert({x:D,y:n}),o&&o!==s.y?((0,u.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var Y=l.convert({x:e,y:n});a=Y.x,o=Y.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(f){return e[f]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,u.each)(s,function(l,f){l&&l.key&&e.idFields.push(f)})),o&&(this.theme=this.userTheme?(0,u.deepMix)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=Rc(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,u.each)(this.elementsMap,function(l,f){var h=Bb(f,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var v=h[c],m=v.getChildren(),T=0;T<m.length;T++){var D=m[T];D.cfg.name=["element","label"],D.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,u.get)(this.animateOption,"appear")===void 0||(0,u.get)(this.animateOption,"appear")&&(0,u.get)(this.animateOption,["appear","animation"])===void 0)},r}(Ge),Qa=Db,al=Pn.transform;function af(i,r,t){var e=al(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Gc(i,r){var t=i.attr(),e=t.x,n=t.y,a=al(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]]);i.setMatrix(a)}function _Y(){return[1,0,0,0,1,0,0,0,1]}function Fb(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=al(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)}var Rb=function(){function i(r){this.shapesMap={},this.lastShapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var f=l[s];f&&this.renderLabel(f,o)}this.doLayout(r,t),this.renderLabelLine(r),this.adjustLabel(r)}var h=this.lastShapesMap,c=this.shapesMap;(0,u.each)(c,function(v,m){if(v.destroyed)delete c[m];else{if(h[m]){var T=v.get("data"),D=v.get("origin"),Y=v.get("coordinate"),W=h[m],H=v.get("animateCfg");W.set("data",T),W.set("origin",D),W.set("animateCfg",H),W.set("coordinate",Y);var st=(0,u.get)(H,"update"),lt=W.getChildren();v.getChildren().map(function(Ft,zt){var Zt=lt[zt];Zt.set("data",T),Zt.set("origin",D),Zt.set("animateCfg",H),Zt.set("coordinate",Y);var Yt=qn(Zt,Ft);st?Uo(Zt,st,{toAttrs:Yt,coordinate:Y}):Zt.attr(Yt)}),n.shapesMap[m]=W}else{a.add(v);var Mt=(0,u.get)(v.get("animateCfg"),e?"enter":"appear");Mt&&Uo(v,Mt,{toAttrs:(0,I.__assign)({},v.attr()),coordinate:v.get("coordinate")})}delete h[m]}}),(0,u.each)(h,function(v){var m=(0,u.get)(v.get("animateCfg"),"leave");m?Uo(v,m,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,n=r.data,a=r.mappingData,o=r.coordinate,s=r.animate,l=r.content,f={id:e,data:n,origin:a,coordinate:o},h=t.addGroup((0,I.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,u.deepMix)({},this.animate,s)},f)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var v=l.getCanvasBBox(),m=v.width,T=v.height,D=(0,u.get)(r,"textAlign","left"),Y=r.x,W=r.y-T/2;D==="center"?Y=Y-m/2:(D==="right"||D==="end")&&(Y=Y-m),af(l,Y,W),c=l,h.add(l)}else c=h.addShape("text",(0,I.__assign)({attrs:(0,I.__assign)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,u.get)(r,"textBaseline","middle"),text:r.content},r.style)},f));r.rotate&&Gc(c,r.rotate),this.shapesMap[e]=h},i.prototype.doLayout=function(r,t){var e=this;if(this.layout){var n=(0,u.isArray)(this.layout)?this.layout:[this.layout];(0,u.each)(n,function(a){var o=Nc((0,u.get)(a,"type",""));if(o){var s=[],l=[];(0,u.each)(e.shapesMap,function(f,h){s.push(f),l.push(t[h])}),o(r,s,l,e.region,a.cfg)}})}},i.prototype.renderLabelLine=function(r){var t=this;(0,u.each)(r,function(e){var n=(0,u.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,u.get)(e,"labelLine",{}),l=e.id,f=s.path;if(!f){var h=Tn(a.x,a.y,o,e.angle);f=[["M",h.x,h.y],["L",e.x,e.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,I.__assign)({path:f,stroke:e.color?e.color:(0,u.get)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r){var t=this;(0,u.each)(r,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},i}(),Nb=Rb;function Yb(i){var r=0;return(0,u.each)(i,function(t){r+=t}),r/i.length}var Gb=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,u.each)(r,function(a,o){var s=n[o];if(!s||(0,u.isNil)(a.x)||(0,u.isNil)(a.y)){e.push(null);return}var l=(0,u.isArray)(s.content)?s.content:[s.content];s.content=l;var f=l.length;(0,u.each)(l,function(h,c){if((0,u.isNil)(h)||h===""){e.push(null);return}var v=(0,I.__assign)((0,I.__assign)({},s),t.getLabelPoint(s,a,c));v.textAlign||(v.textAlign=t.getLabelAlign(v,c,f)),v.offset<=0&&(v.labelLine=null),e.push(v)})}),e},i.prototype.render=function(r,t){t===void 0&&(t=!1);var e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,u.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getDefaultOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffset=function(r,t,e){var n=this.getDefaultOffset(r.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,f={x:0,y:0};return t>0||e===1?f[s]=n*l:f[s]=n*l*-1,f},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function o(D,Y){var W=D;return(0,u.isArray)(W)&&(r.content.length===1?W.length<=2?W=W[D.length-1]:W=Yb(W):W=W[Y]),W}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=Ci(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var f=(0,u.isArray)(t.shape)?t.shape[0]:t.shape;if(f==="funnel"||f==="pyramid"){var h=(0,u.get)(t,"nextPoints"),c=(0,u.get)(t,"points");if(h){var v=n.convert(c[1]),m=n.convert(h[1]);s.x=(v.x+m.x)/2,s.y=(v.y+m.y)/2}else if(f==="pyramid"){var v=n.convert(c[1]),m=n.convert(c[2]);s.x=(v.x+m.x)/2,s.y=(v.y+m.y)/2}}r.position&&this.setLabelPosition(s,t,e,r.position);var T=this.getLabelOffset(r,e,a);return s.start={x:s.x,y:s.y},s.x+=T.x,s.y+=T.y,s.color=t.color,s},i.prototype.getLabelAlign=function(r,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(r.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=r[Q],s=t.getElementId(r);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,n=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new Nb({container:t,layout:(0,u.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?kc("label",o):!1,s},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,l=e.scales,f=e.coordinate,h=s,c=h.fields,v=h.callback,m=h.cfg,T=c.map(function(Y){return l[Y]}),D=[];return(0,u.each)(r,function(Y,W){var H=Y[Q],st=t.getLabelText(H,T),lt;if(v){var Mt=c.map(function(Zt){return H[Zt]});if(lt=v.apply(void 0,Mt),(0,u.isNil)(lt)){D.push(null);return}}var Ft=(0,I.__assign)((0,I.__assign)({id:t.getLabelId(Y),data:H,mappingData:Y,coordinate:f},m),lt),zt=Ft.content;(0,u.isFunction)(zt)?Ft.content=zt(H,Y,W):(0,u.isUndefined)(zt)&&(Ft.content=st[0]),(0,u.isFunction)(Ft.position)&&(Ft.position=Ft.position(H,Y,W)),a==="polygon"||Ft.offset<0&&!["line","point","path"].includes(a)?Ft=(0,u.deepMix)({},n,o.innerLabels,Ft):Ft=(0,u.deepMix)({},n,o.labels,Ft),D.push(Ft)}),D},i.prototype.getLabelText=function(r,t){var e=[];return(0,u.each)(t,function(n){var a=r[n.field];(0,u.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,u.isNil)(a)||a===""?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(r,0):t.applyMatrix(0,r)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,u.each)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,u.each)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}(),ol=Gb,zb=d(61102),Xb="4.0.15",To={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},zn={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},pa=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Vb=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Hb={backgroundColor:"#141414",brandColor:pa[0],paletteQualitative10:pa,paletteQualitative20:Vb,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:zn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:zn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:zn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:zn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:zn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:zn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:zn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:pa[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:zn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:zn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:zn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:To[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:To[25],annotationArcBorderColor:zn[15],annotationArcBorder:.5,annotationLineBorderColor:zn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:zn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:To[95],annotationTextBorder:1.5,annotationRegionFillColor:zn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:zn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:zn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:zn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:To[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:zn[25],pointFillColor:pa[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:To[100],pointBorderOpacity:1,pointActiveBorderColor:zn[100],pointSelectedBorder:2,pointSelectedBorderColor:zn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:pa[0],hollowPointBorderOpacity:.95,hollowPointFillColor:To[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:zn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:zn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:pa[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:pa[0],areaFillOpacity:.25,areaActiveFillColor:pa[0],areaActiveFillOpacity:.5,areaSelectedFillColor:pa[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:pa[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:zn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:zn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:pa[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:zn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:zn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:pa[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:To[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:zn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:zn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},_r=d(65353),Bi=d(73890),An=d(21830),sl=d(46812),Di=d(66631),kn=d(27154),Wb=d(9217),jb=d(5253),OY=d(39984),Ub=d(98229),Zb=d(35755);function Kb(){return window?window.devicePixelRatio:1}function zc(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function Po(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function of(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function $b(i,r){return!i||!r?i||r:{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}}function Xc(i,r){return i[0]===r[0]&&i[1]===r[1]}var LY=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,IY=/[^\s\,]+/gi,Qb=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Jb=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,qb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Vc=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Hc(i,r){var t=i.match(Vc);(0,kn.default)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function tw(i,r,t){var e=Qb.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var f=Math.tan(n),h=f*f,c=(l.x-s.x+f*(l.y-s.y))/(h+1)+s.x,v=f*(l.x-s.x+f*(l.y-s.y))/(h+1)+s.y,m=i.createLinearGradient(s.x,s.y,c,v);return Hc(a,m),m}function ew(i,r,t){var e=Jb.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var l=s.match(Vc);return l[l.length-1].split(":")[1]}var f=r.getBBox(),h=f.maxX-f.minX,c=f.maxY-f.minY,v=Math.sqrt(h*h+c*c)/2,m=i.createRadialGradient(f.minX+h*n,f.minY+c*a,0,f.minX+h/2,f.minY+c/2,o*v);return Hc(s,m),m}function rw(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=qb.exec(t),o=a[1],s=a[2];function l(){e=i.createPattern(n,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),e}function nw(i,r,t){if((0,An.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return tw(i,r,t);if(t[0]==="r")return ew(i,r,t);if(t[0]==="p")return rw(i,r,t)}return t}}function iw(i){var r=0,t=0,e=0,n=0;return(0,Di.default)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}function ll(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function sf(i,r){return ll(i)*ll(r)?(i[0]*r[0]+i[1]*r[1])/(ll(i)*ll(r)):1}function Wc(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(sf(i,r))}function jc(i,r){var t=r[1],e=r[2],n=(0,jb.default)((0,Wb.default)(r[3]),Math.PI*2),a=r[4],o=r[5],s=i[0],l=i[1],f=r[6],h=r[7],c=Math.cos(n)*(s-f)/2+Math.sin(n)*(l-h)/2,v=-1*Math.sin(n)*(s-f)/2+Math.cos(n)*(l-h)/2,m=c*c/(t*t)+v*v/(e*e);m>1&&(t*=Math.sqrt(m),e*=Math.sqrt(m));var T=t*t*(v*v)+e*e*(c*c),D=T?Math.sqrt((t*t*(e*e)-T)/T):1;a===o&&(D*=-1),isNaN(D)&&(D=0);var Y=e?D*t*v/e:0,W=t?D*-e*c/t:0,H=(s+f)/2+Math.cos(n)*Y-Math.sin(n)*W,st=(l+h)/2+Math.sin(n)*Y+Math.cos(n)*W,lt=[(c-Y)/t,(v-W)/e],Mt=[(-1*c-Y)/t,(-1*v-W)/e],Ft=Wc([1,0],lt),zt=Wc(lt,Mt);return sf(lt,Mt)<=-1&&(zt=Math.PI),sf(lt,Mt)>=1&&(zt=0),o===0&&zt>0&&(zt=zt-2*Math.PI),o===1&&zt<0&&(zt=zt+2*Math.PI),{cx:H,cy:st,rx:Xc(i,[f,h])?0:t,ry:Xc(i,[f,h])?0:e,startAngle:Ft,endAngle:Ft+zt,xRotation:n,arcFlag:a,sweepFlag:o}}var ul=Math.sin,fl=Math.cos,lf=Math.atan2,hl=Math.PI;function Uc(i,r,t,e,n,a,o){var s=r.stroke,l=r.lineWidth,f=t-n,h=e-a,c=lf(h,f),v=new pf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*fl(hl/6)+","+10*ul(hl/6)+" L0,0 L"+10*fl(hl/6)+",-"+10*ul(hl/6),stroke:s,lineWidth:l}});v.translate(n,a),v.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",v)}function Zc(i,r,t,e,n,a,o){var s=r.startArrow,l=r.endArrow,f=r.stroke,h=r.lineWidth,c=o?s:l,v=c.d,m=c.fill,T=c.stroke,D=c.lineWidth,Y=(0,_r.__rest)(c,["d","fill","stroke","lineWidth"]),W=t-n,H=e-a,st=lf(H,W);v&&(n=n-fl(st)*v,a=a-ul(st)*v);var lt=new pf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,_r.__assign)((0,_r.__assign)({},Y),{stroke:T||f,lineWidth:D||h,fill:m})});lt.translate(n,a),lt.rotateAtPoint(n,a,st),i.set(o?"startArrowShape":"endArrowShape",lt)}function _o(i,r,t,e,n){var a=lf(e-r,t-i);return{dx:fl(a)*n,dy:ul(a)*n}}function uf(i,r,t,e,n,a){typeof r.startArrow=="object"?Zc(i,r,t,e,n,a,!0):r.startArrow?Uc(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function ff(i,r,t,e,n,a){typeof r.endArrow=="object"?Zc(i,r,t,e,n,a,!1):r.endArrow?Uc(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var Kc={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Zo(i,r){var t=r.attr();for(var e in t){var n=t[e],a=Kc[e]?Kc[e]:e;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,u.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=nw(i,r,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function hf(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.get("visible")?n.draw(i,t):n.skipDraw()}}function $c(i,r,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],f={dx:0,dy:0};r.beginPath();for(var h=0;h<n.length;h++){var c=n[h],v=c[0];if(h===0&&a&&a.d){var m=i.getStartTangent();f=_o(m[0][0],m[0][1],m[1][0],m[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var T=n[h+1];if(T[0]==="Z"){var m=i.getEndTangent();f=_o(m[0][0],m[0][1],m[1][0],m[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var m=i.getEndTangent();f=_o(m[0][0],m[0][1],m[1][0],m[1][1],o.d)}var D=f.dx,Y=f.dy;switch(v){case"M":r.moveTo(c[1]-D,c[2]-Y),l=[c[1],c[2]];break;case"L":r.lineTo(c[1]-D,c[2]-Y);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-D,c[4]-Y);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-D,c[6]-Y);break;case"A":{var W=void 0;e?(W=e[h],W||(W=jc(s,c),e[h]=W)):W=jc(s,c);var H=W.cx,st=W.cy,lt=W.rx,Mt=W.ry,Ft=W.startAngle,zt=W.endAngle,Zt=W.xRotation,Yt=W.sweepFlag;if(r.ellipse)r.ellipse(H,st,lt,Mt,Zt,Ft,zt,1-Yt);else{var re=lt>Mt?lt:Mt,he=lt>Mt?1:lt/Mt,le=lt>Mt?Mt/lt:1;r.translate(H,st),r.rotate(Zt),r.scale(he,le),r.arc(0,0,re,Ft,zt,1-Yt),r.scale(1/he,1/le),r.rotate(-Zt),r.translate(-H,-st)}break}case"Z":r.closePath();break;default:break}if(v==="Z")s=l;else{var Ae=c.length;s=[c[Ae-2],c[Ae-1]]}}}function Qc(i,r){var t=i.get("canvas");t&&(r==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function aw(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?r=$b(t,n):e?r=t:a&&(r=n)}return r}function Jc(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,u.each)(i,function(a){var o=aw(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,r),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function ow(i,r){return!i||!r||!of(i,r)?null:{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}}var qc=d(41056),sw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){Qc(this,t)},r.prototype.getShapeBase=function(){return b},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),Zo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),Zo(t,this),this._applyClip(t,this.getClip()),hf(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}($e.AbstractGroup),cf=sw,lw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return b},r.prototype.getGroupBase=function(){return cf},r.prototype.onCanvasChange=function(t){Qc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,qc.b)(t),a=n(this),o=e/2,s=a.x-o,l=a.y-o,f=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:f,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),Zo(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?Jc([this,n]):this.getCanvasBBox();if(!of(e,a)){this.set("hasChanged",!1);return}}t.save(),Zo(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",of(t,n))}this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,Bi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,Bi.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}($e.AbstractShape),Ea=lw,uw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,f=s.y,h=s.r,c=o/2,v=zc(l,f,t,e);return a&&n?v<=h+c:a?v<=h:n?v>=h-c&&v<=h+c:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},r}(Ea),fw=uw;function cl(i,r,t,e){return i/(t*t)+r/(e*e)}var hw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=o/2,f=s.x,h=s.y,c=s.rx,v=s.ry,m=(t-f)*(t-f),T=(e-h)*(e-h);return a&&n?cl(m,T,c+l,v+l)<=1:a?cl(m,T,c,v)<=1:n?cl(m,T,c-l,v-l)>=1&&cl(m,T,c+l,v+l)<=1:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,f=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(f,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},r}(Ea),cw=hw;function tv(i){return i instanceof HTMLElement&&(0,An.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var vw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,An.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):tv(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,f=e.sy,h=e.swidth,c=e.sheight,v=e.img;(v instanceof Image||tv(v))&&(!(0,Bi.default)(l)&&!(0,Bi.default)(f)&&!(0,Bi.default)(h)&&!(0,Bi.default)(c)?t.drawImage(v,l,f,h,c,n,a,o,s):t.drawImage(v,n,a,o,s))},r}(Ea),dw=vw,Ja=d(23646);function ho(i,r,t,e,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),f=Math.min(r,e),h=Math.max(r,e),c=n/2;return a>=s-c&&a<=l+c&&o>=f-c&&o<=h+c?Ja.default.pointToLine(i,r,t,e,a,o)<=n/2:!1}var pw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&uf(this,t,a,o,e,n),l&&ff(this,t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,f=s.y1,h=s.x2,c=s.y2;return ho(l,f,h,c,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,f=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=_o(n,a,o,s,e.startArrow.d)),f&&f.d&&(c=_o(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ja.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ja.default.pointAt(n,a,o,s,t)},r}(Ea),gw=pw,ev=d(74479),yw={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},mw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,u.isNil)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,sl.default)(a)?(s=a,l=s(e,n,o),l=(0,ev.Z)(l)):(s=r.Symbols[a],l=s(e,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},r.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");$c(this,t,{path:e},n)},r.Symbols=yw,r}(Ea),xw=mw,vl=d(15730),bw=d(49274),ww=d(26632);function rv(i,r,t){var e=(0,ww.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var Sw=1e-6;function vf(i){return Math.abs(i)<Sw?0:i<0?-1:1}function Mw(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function nv(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(Mw(o,s,[r,t]))return!0;vf(o[1]-t)>0!=vf(s[1]-t)>0&&vf(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var Cw=d(2879);function bs(i,r,t,e,n,a,o,s){var l=(Math.atan2(s-r,o-i)+Math.PI*2)%(Math.PI*2);if(l<e||l>n)return!1;var f={x:i+t*Math.cos(l),y:r+t*Math.sin(l)};return zc(f.x,f.y,o,s)<=a/2}var df=d(35600),iv=d(77160);function Ew(i){for(var r=!1,t=i.length,e=0;e<t;e++){var n=i[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function Aw(i,r,t,e){for(var n=!1,a=r/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,f=s.params,h=s.prePoint,c=s.box;if(!(c&&!Po(c.x-a,c.y-a,c.width+r,c.height+r,t,e))){switch(s.command){case"L":case"Z":n=ho(h[0],h[1],l[0],l[1],r,t,e);break;case"Q":var v=Cw.default.pointDistance(h[0],h[1],f[1],f[2],f[3],f[4],t,e);n=v<=r/2;break;case"C":var m=vl.default.pointDistance(h[0],h[1],f[1],f[2],f[3],f[4],f[5],f[6],t,e);n=m<=r/2;break;case"A":var T=s.arcParams,D=T.cx,Y=T.cy,W=T.rx,H=T.ry,st=T.startAngle,lt=T.endAngle,Mt=T.xRotation,Ft=[t,e,1],zt=[1,0,0,0,1,0,0,0,1],Zt=W>H?W:H,Yt=W>H?1:W/H,re=W>H?H/W:1;df.translate(zt,zt,[-D,-Y]),df.rotate(zt,zt,-Mt),df.scale(zt,zt,[1/Yt,1/re]),iv.transformMat3(Ft,Ft,zt),n=bs(0,0,Zt,st,lt,r,Ft[0],Ft[1]);break;default:break}if(n)break}}return n}function Tw(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var dl=(0,_r.__assign)({hasArc:Ew,extractPolygons:Tw,isPointInStroke:Aw},$e.PathUtil);function av(i,r,t){for(var e=!1,n=0;n<i.length;n++){var a=i[n];if(e=nv(a,r,t),e)break}return e}var Pw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,ev.Z)(t);var e=dl.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,bw.default)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();uf(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();ff(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),f=!1;if(n&&(f=dl.isPointInStroke(s,o,t,e)),!f&&a)if(l)f=rv(this,t,e);else{var h=this.attr("path"),c=dl.extractPolygons(h);f=av(c.polygons,t,e)||av(c.polylines,t,e)}return f},r.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");$c(this,t,e,n)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,u.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,u.each)(e,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,u.isNil)(s)||(0,u.isNil)(a))return null;var l=s.length,f=o[a+1];return vl.default.pointAt(s[l-2],s[l-1],f[1],f[2],f[3],f[4],f[5],f[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",dl.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,l,f=this.get("curve");if(!!f){if((0,u.each)(f,function(h,c){s=f[c+1],l=h.length,s&&(t+=vl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,u.each)(f,function(h,c){s=f[c+1],l=h.length,s&&(a=[],a[0]=e/t,o=vl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},r}(Ea),pf=Pw;function ov(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],f=i[o+1][0],h=i[o+1][1];if(ho(s,l,f,h,r,t,e))return!0}if(n){var c=i[0],v=i[a-1];if(ho(c[0],c[1],v[0],v[1],r,t,e))return!0}return!1}var _w=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,l=!1;return n&&(l=ov(s,o,t,e,!0)),!l&&a&&(l=nv(s,t,e)),l},r.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(Ea),Ow=_w,sv=d(65386),Lw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,l=n[0][0],f=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&uf(this,t,n[1][0],n[1][1],l,f),o&&ff(this,t,n[s-2][0],n[s-2][1],h,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return ov(s,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],f=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var v=_o(l,f,n[1][0],n[1][1],a.d);l+=v.dx,f+=v.dy}if(o&&o.d){var v=_o(n[s-2][0],n[s-2][1],h,c,o.d);h-=v.dx,c-=v.dy}t.beginPath(),t.moveTo(l,f);for(var m=0;m<s-1;m++){var T=n[m];t.lineTo(T[0],T[1])}t.lineTo(h,c)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,u.isNil)(e)?(this.set("totalLength",sv.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,u.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ja.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,u.each)(t,function(l,f){t[f+1]&&(o=[],o[0]=n/e,s=Ja.default.length(l[0],l[1],t[f+1][0],t[f+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(Ea),Iw=Lw;function kw(i,r,t,e,n,a,o){var s=n/2;return Po(i-s,r-s,t,n,a,o)||Po(i+t-s,r-s,n,e,a,o)||Po(i+s,r+e-s,t,n,a,o)||Po(i-s,r+s,n,e,a,o)}function Bw(i,r,t,e,n,a,o,s){var l=a/2;return ho(i+n,r,i+t-n,r,a,o,s)||ho(i+t,r+n,i+t,r+e-n,a,o,s)||ho(i+t-n,r+e,i+n,r+e,a,o,s)||ho(i,r+e-n,i,r+n,a,o,s)||bs(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||bs(i+t-n,r+e-n,n,0,.5*Math.PI,a,o,s)||bs(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,o,s)||bs(i+n,r+n,n,Math.PI,1.5*Math.PI,a,o,s)}var Dw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,f=s.y,h=s.width,c=s.height,v=s.radius;if(v){var T=!1;return n&&(T=Bw(l,f,h,c,v,o,t,e)),!T&&a&&(T=rv(this,t,e)),T}else{var m=o/2;if(a&&n)return Po(l-m,f-m,h+m,c+m,t,e);if(a)return Po(l,f,h,c,t,e);if(n)return kw(l,f,h,c,o,t,e)}},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var f=iw(l),h=f[0],c=f[1],v=f[2],m=f[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-v),v!==0&&t.arc(n+o-v,a+s-v,v,0,Math.PI/2),t.lineTo(n+m,a+s),m!==0&&t.arc(n+m,a+s-m,m,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(Ea),Fw=Dw,lv=d(8914),Rw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,lv.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,An.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},r.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,f=a.fontSize*1,h=this._getSpaceingY(),c=(0,lv.getTextHeight)(a.text,a.fontSize,a.lineHeight),v;(0,kn.default)(e,function(m,T){v=l+T*(h+f)-c+f,o==="middle"&&(v+=c-f-(c-f)/2),o==="top"&&(v+=c-f),n?t.fillText(m,s,v):t.strokeText(m,s,v)})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=n.text;e?t.fillText(l,a,o):t.strokeText(l,a,o)}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,Bi.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,Bi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(Ea),Nw=Rw,Yw=d(4555),kY=d(85424),Gw=d(22487),uv=d(6052);function zw(i,r){if(r){var t=(0,uv.U_)(r);return(0,uv.rG)(t,i)}return i}function fv(i,r,t){var e=i.getTotalMatrix();if(e){var n=zw([r,t,1],e),a=n[0],o=n[1];return[a,o]}return[r,t]}function hv(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,Gw.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var e=fv(i,r,t),n=e[0],a=e[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function cv(i,r,t){if(!hv(i,r,t))return null;for(var e=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=cv(s,r,t);else if(hv(s,r,t)){var l=s,f=fv(s,r,t),h=f[0],c=f[1];l.isInShape(h,c)&&(e=s)}if(e)break}return e}var Xw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return b},r.prototype.getGroupBase=function(){return cf},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Kb();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?cv(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=Jc(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=ow(n,e))}return n},r.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,Zb.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Zo(t,this),hf(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),Zo(t,this),hf(t,n,a),t.restore()),(0,kn.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,Ub.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r}($e.AbstractCanvas),vv=Xw,Vw=d(71270),Hw=Vw.version,gf={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},wn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},BY=null;function ga(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function dv(i){var r=gf[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=ga(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function pv(i,r){var t=i.get("el"),e=(0,u.toArray)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function Ww(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var o=e[r+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function jw(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function ws(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function Ss(i,r){var t=i.getClip(),e=i.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){dv(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function gv(i,r){r.forEach(function(t){t.draw(i)})}function yv(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(r==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,f=l&&l.parentNode;l&&f&&f.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")Ww(o,a.indexOf(i));else if(r==="sort"){var h=i.get("children");h&&h.length&&pv(i,function(c,v){return h.indexOf(c)-h.indexOf(v)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?ws(i):r==="clip"?Ss(i,e):r==="attr"||r==="add"&&i.draw(e)}}var Uw=function(i){(0,_r.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=ga("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){yv(this,t)},r.prototype.getShapeBase=function(){return k},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Ss(this,t),this.createPath(t),e.length&&gv(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){wn[s]&&a.setAttribute(wn[s],o)}),ws(this)},r}($e.AbstractGroup),yf=Uw,Zw=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return k},r.prototype.getGroupBase=function(){return yf},r.prototype.onCanvasChange=function(t){yv(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,qc.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,f=this.getHitLineWidth(),h=f/2,c=a-h,v=o-h,m=a+s+h,T=o+l+h;return{x:c,y:v,minX:c,minY:v,maxX:m,maxY:T,width:s+f,height:l+f}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||dv(this),Ss(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,f=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,v=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),f&&v.setAttribute(wn.fillOpacity,f)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&v.setAttribute(wn.strokeOpacity,h),c&&v.setAttribute(wn.lineWidth,c))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(wn[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(wn[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(wn[e],"url(#"+o+")")}else a.setAttribute(wn[e],n)},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,f=a.shadowColor;(o||s||l||f)&&jw(this,t)},r.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&ws(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=e+o.top,f=document.elementFromPoint(s,l);return!!(f&&f.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}($e.AbstractShape),ya=Zw,Kw=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):wn[s]&&a.setAttribute(wn[s],o)})},r}(ya),$w=Kw,Qw=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){wn[s]&&a.setAttribute(wn[s],o)}),a.innerHTML=n.html},r}(ya),Jw=Qw,qw=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):wn[s]&&a.setAttribute(wn[s],o)})},r}(ya),tS=qw,eS=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,u.each)(e||a,function(s,l){l==="img"?n._setImage(a.img):wn[l]&&o.setAttribute(wn[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,u.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,u.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(ya),rS=eS,nS=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,u.isObject)(o)?t.addArrow(n,wn[s]):t.getDefaultArrow(n,wn[s]);a.setAttribute(wn[s],"url(#"+l+")")}else a.removeAttribute(wn[s]);else wn[s]&&a.setAttribute(wn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ja.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ja.default.pointAt(n,a,o,s,t)},r}(ya),iS=nS,pl={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},mv={get:function(i){return pl[i]},register:function(i,r){pl[i]=r},remove:function(i){delete pl[i]},getAll:function(){return pl}},aS=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,u.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,u.isFunction)(o)?s=o:s=mv.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=mv,r}(ya),oS=aS,sS=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,u.each)(e||a,function(s,l){if(l==="path"&&(0,u.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var f=(0,u.isObject)(s)?t.addArrow(a,wn[l]):t.getDefaultArrow(a,wn[l]);o.setAttribute(wn[l],"url(#"+f+")")}else o.removeAttribute(wn[l]);else wn[l]&&o.setAttribute(wn[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(ya),lS=sS,uS=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="points"&&(0,u.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):wn[s]&&a.setAttribute(wn[s],o)})},r}(ya),fS=uS,hS=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,u.each)(e||n,function(o,s){s==="points"&&(0,u.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):wn[s]&&a.setAttribute(wn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,u.isNil)(e)?(this.set("totalLength",sv.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,u.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ja.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,u.each)(t,function(l,f){t[f+1]&&(o=[],o[0]=n/e,s=Ja.default.length(l[0],l[1],t[f+1][0],t[f+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(ya),cS=hS,vS=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,dS=/[^\s\,]+/gi;function pS(i){var r=0,t=0,e=0,n=0;return(0,u.isArray)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}function DY(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(vS),each(i,function(r,t){if(r=r.match(dS),r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=e}each(r,function(n,a){isNaN(n)||(r[a]=+n)}),i[t]=r}),i}var gS=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,u.each)(e||a,function(f,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&wn[h]&&o.setAttribute(wn[h],f)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=pS(s);(0,u.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var f=[["M "+(e+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return f.join(" ")},r}(ya),yS=gS,mS=d(56463),xv=.3,xS={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},bS={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},wS={left:"left",start:"left",center:"middle",right:"end",end:"end"},SS=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,_r.__assign)((0,_r.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,u.each)(e||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?ws(n):wn[l]&&o.setAttribute(wn[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,mS.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",bS[n]||"alphabetic"):t.setAttribute("alignment-baseline",xS[n]||"baseline"),t.setAttribute("text-anchor",wS[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),f=l.length-1,h="";(0,u.each)(l,function(c,v){v===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-f+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(f-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(f+xv)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(f-1)-xv)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t},r}(ya),MS=SS,CS=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ES=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,AS=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function bv(i){var r=i.match(AS);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,u.each)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function TS(i,r){var t=CS.exec(i),e=(0,u.mod)((0,u.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,f=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",f),r.setAttribute("y2",h),r.innerHTML=bv(n)}function PS(i,r){var t=ES.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=bv(o)}var _S=function(){function i(r){this.cfg={};var t=null,e=(0,u.uniqueId)("gradient_");return r.toLowerCase()[0]==="l"?(t=ga("linearGradient"),TS(r,t)):(t=ga("radialGradient"),PS(r,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),OS=_S,LS={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},IS={x:"-40%",y:"-40%",width:"200%",height:"200%"},kS=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=ga("filter");return(0,u.each)(IS,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,u.uniqueId)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,u.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[LS[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){var e=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=e},i}(),BS=kS,DS=function(){function i(r,t){this.cfg={};var e=ga("marker"),n=(0,u.uniqueId)("marker_");e.setAttribute("id",n);var a=ga("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,u.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}(),wv=DS,FS=function(){function i(r){this.type="clip",this.cfg={};var t=ga("clipPath");this.el=t,this.id=(0,u.uniqueId)("clip_"),t.id=this.id;var e=r.cfg.el;return t.appendChild(e),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}(),RS=FS,NS=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,YS=function(){function i(r){this.cfg={};var t=ga("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=ga("image");t.appendChild(e);var n=(0,u.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var a=NS.exec(r),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),GS=YS,zS=function(){function i(r){var t=ga("defs"),e=(0,u.uniqueId)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new wv(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new OS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new wv(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new BS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new GS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new RS(r);return this.el.appendChild(t.el),this.add(t),t.id},i}(),XS=zS,VS=function(i){(0,_r.__extends)(r,i);function r(t){return i.call(this,(0,_r.__assign)((0,_r.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return k},r.prototype.getGroupBase=function(){return yf},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!gf[a.tagName]){for(var o=a.parentNode;o&&!gf[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=ga("svg"),e=new XS(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&pv(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?ws(this):t==="clip"?Ss(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Ss(this,t),e.length&&gv(t,e)},r}($e.AbstractCanvas),Sv=VS,HS=d(23231),WS=HS.version;function mf(i){return i?!1:i==null||isNaN(i)}function Mv(i){if((0,u.isArray)(i))return mf(i[1].y);var r=i.y;return(0,u.isArray)(r)?mf(r[0]):mf(r)}function xf(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++){var o=i[n];Mv(o)||e.push(o)}return[e]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];Mv(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function Ai(i,r,t,e){e===void 0&&(e="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,f=(0,I.__assign)((0,I.__assign)({},o),a);return s&&(r&&(a.stroke||(f.stroke=s)),t&&(a.fill||(f.fill=s))),e&&(0,u.isNil)(a[e])&&!(0,u.isNil)(l)&&(f[e]=l),f}function bf(i){var r=i.x,t=(0,u.isArray)(i.y)?i.y:[i.y];return t.map(function(e,n){return{x:(0,u.isArray)(r)?r[n]:r,y:e}})}var jS={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function Cv(i,r){var t=i.color;return{symbol:jS[r],style:{lineWidth:2,r:6,stroke:t}}}function US(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=Ai(i,!0,!1,"lineWidth"),l=xf(i.points,n,o),f=[],h=0,c=l.length;h<c;h++){var v=l[h];f=f.concat(KS(v,a,e,r,t,s))}return s.path=f,s}function wf(i,r,t,e,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=ge(i,!1,e)):(a=ye(i,!1),r&&a.push(["Z"])),a}function ZS(i,r,t,e,n,a){var o=[],s=[];(0,u.each)(i,function(h){var c=bf(h);o.push(c[1]),s.push(c[0])});var l=wf(o,r,e,n,a),f=wf(s,r,e,n,a);return t?l:l.concat(f)}function KS(i,r,t,e,n,a){if(i.length){var o=i[0];return(0,u.isArray)(o.y)?ZS(i,r,t,e,n,a):wf(i,r,e,n,a)}return[]}var FY=fo("line",{defaultShapeType:"line"});(0,u.each)(["line","dot","dash","smooth"],function(i){bn("line",i,{draw:function(r,t){var e=i==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=US(r,e,n),f=t.addShape({type:"path",attrs:l,name:"line"});return f},getMarker:function(r){return Cv(r,i)}})});var RY=null,$S=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,f=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),v=o[h];if(v){var T=v.getModel();(this.isCoordinateChanged||Yc(T,c))&&(v.animate=this.animateOption,v.update(c)),delete o[h]}else{var m=this.getShapeFactory();v=new Bc({shapeFactory:m,container:f,offscreenGroup:this.getOffscreenGroup()}),v.geometry=this,v.animate=this.animateOption,v.draw(c,n)}return l.push(v),s[h]=v,l},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[Q])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(Qa),Sf=$S;function QS(i,r,t,e,n){var a=[];if(i.length){for(var o=[],s=[],l=0,f=i.length;l<f;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,u.each)([o,s],function(c,v){var m=[],T=e.parsePoints(c),D=T[0];o.length===1&&s.length===1?m=v===0?[["M",D.x-.5,D.y],["L",D.x+.5,D.y]]:[["L",D.x+.5,D.y],["L",D.x-.5,D.y]]:(r&&T.push({x:D.x,y:D.y}),t?m=ge(T,!1,n):m=ye(T,!1),v>0&&(m[0][0]="L")),a=a.concat(m)}),a.push(["Z"])}return a}function gl(i,r,t,e,n){for(var a=Ai(i,r,!r,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,f=i.showSinglePoint,h=xf(l,o,f),c=[],v=0,m=h.length;v<m;v++){var T=h[v];c=c.concat(QS(T,s,t,e,n))}return a.path=c,a}function Ev(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var NY=fo("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,u.isArray)(i.y)?i.y:[t,i.y];return e.map(function(n){return{x:r,y:n}})}});bn("area","area",{draw:function(i,r){var t=gl(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}});var YY=null,JS=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,f=l===void 0?!1:l;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=f,e}return r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[Q])}return{points:e,data:n}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(Sf),qS=JS,GY=fo("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return bf(i)}});bn("edge","line",{draw:function(i,r){var t=Ai(i,!0,!1,"lineWidth"),e=ye(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var zY=null,t2=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(Qa),e2=t2,r2=d(55223),n2=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,u.get)(this.styleOption,["style","shadowBlur"]);return(0,u.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Q][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,u.isNumber)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,l=o.end,f=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),v=c.getFields()[0];this.clearShadowCanvasCtx();var m=this.getShadowCanvasCtx();e&&(t=t.filter(function(Zt){return Zt[Q][v]<=e[1]&&Zt[Q][v]>=e[0]}));for(var T=this.scales[v],D=0,Y=t;D<Y.length;D++){var W=Y[D],H=this.getDrawCfg(W),st=H.x,lt=H.y,Mt=T.scale(W[Q][v]);this.drawGrayScaleBlurredCircle(st-s.x,lt-l.y,n+a,Mt,m)}var Ft=m.getImageData(0,0,f,h);this.clearShadowCanvasCtx(),this.colorize(Ft),m.putImageData(Ft,0,0);var zt=this.getImageShape();zt.attr("x",s.x),zt.attr("y",l.y),zt.attr("width",f),zt.attr("height",h),zt.attr("img",m.canvas),zt.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,u.isNumber)(s)){var l=a[s]?a[s]:r2.default.rgb2arr(e.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,I.__assign)((0,I.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Q]})},r}(Qa),i2=n2;function Mf(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,u.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,f;(0,u.isArray)(t)?(l=t[0],f=t[1]):(l=t-a/2,f=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:f,y:(s+o)/2}):h.push({x:f,y:s},{x:f,y:o}),h}function Cf(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function Av(i,r,t){var e=[];return(0,u.isNil)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}var XY=fo("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return Mf(i)}});bn("interval","rect",{draw:function(i,r){var t=Ai(i,!1,!0),e=this.parsePath(Cf(i.points)),n=r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var VY=null;function a2(i,r){var t=i.length,e=i;(0,u.isString)(e[0])&&(e=i.map(function(s){return r.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function o2(i,r){if(r){var t=(0,u.flatten)(i),e=(0,u.valuesOfKey)(t,r);return e.length}return i.length}function Tv(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=a2(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var l=e.range,f=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=r.multiplePieWidthRatio:h=r.roseWidthRatio:(e.isLinear&&(f*=l[1]-l[0]),h=r.columnWidthRatio),f*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),v=c.dodgeBy,m=o2(a,v);f=f/m}var T=r.maxColumnWidth,D=r.minColumnWidth,Y=Qt(i.coordinate);if(T){var W=T/Y;f>W&&(f=W)}if(D){var H=D/Y;f<H&&(f=H)}return f}var s2=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Qt(o);n=n/s}else this.defaultSize||(this.defaultSize=Tv(this)),n=this.defaultSize;return e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,u.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,u.get)(e,[n,"max"])&&t.change({max:0}))}},r}(Qa),l2=s2,u2=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return r}(Sf),f2=u2,Oo={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},Pv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],h2=["cross","tick","plus","hyphen","line"];function Ef(i,r,t,e,n){var a=Ai(r,n,!n,"r"),o=i.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),f=0,h=o;f<h.length;f++){var c=h[f];l.addShape({type:"marker",attrs:(0,I.__assign)((0,I.__assign)((0,I.__assign)({},a),{symbol:Oo[e]||e}),c)})}return l}return t.addShape({type:"marker",attrs:(0,I.__assign)((0,I.__assign)((0,I.__assign)({},a),{symbol:Oo[e]||e}),s)})}var HY=fo("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return bf(i)}});(0,u.each)(Pv,function(i){bn("point","hollow-"+i,{draw:function(r,t){return Ef(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:Oo[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var WY=null,c2=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,I.__assign)((0,I.__assign)({},e),{isStack:!!this.getAdjust("stack")})},r}(Qa),v2=c2;function d2(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,u.isEqual)((0,u.last)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var jY=fo("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,u.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});bn("polygon","polygon",{draw:function(i,r){if(!(0,u.isEmpty)(i.points)){var t=Ai(i,!0,!0),e=this.parsePath(d2(i.points));return r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var UY=null,p2=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,u.isArray)(n)&&(0,u.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),f=s.values.length,h=l.values.length,c=.5*1/f,v=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-v,a+v,a+v,a-v]):(0,u.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-v/2,a+v/2,a+v/2,a-v/2]):(0,u.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),e.x=n,e.y=a}return e},r}(Qa),g2=p2,ZY=fo("schema",{defaultShapeType:""}),KY=null,y2=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Qt(o);n=n/s}else this.defaultSize||(this.defaultSize=Tv(this)),n=this.defaultSize;return e.size=n,e},r}(Qa),m2=y2;bn("area","line",{draw:function(i,r){var t=gl(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),bn("area","smooth",{draw:function(i,r){var t=this.coordinate,e=gl(i,!1,!0,this,Ev(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}}),bn("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=gl(i,!0,!0,this,Ev(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function Af(i,r){var t=[];t.push({x:i.x,y:i.y*1/2+r.y*1/2}),t.push({x:r.x,y:i.y*1/2+r.y*1/2}),t.push(r);var e=["C"];return(0,u.each)(t,function(n){e.push(n.x,n.y)}),e}function Tf(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,u.each)(t,function(n){e.push(n.x,n.y)}),e}function x2(i,r,t){var e=Tf(r,t),n=[["M",i.x,i.y]];return n.push(e),n}function b2(i,r){var t=Tf(i[1],r),e=Tf(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}bn("edge","arc",{draw:function(i,r){var t=Ai(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=x2(e[0],e[1],o):(t.fill=t.stroke,a=b2(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=Gi((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:a})});var s=Af(e[1],e[3]),l=Af(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function w2(i,r){var t=Af(i,r),e=[["M",i.x,i.y]];return e.push(t),e}bn("edge","smooth",{draw:function(i,r){var t=Ai(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(w2(e[0],e[1]));return r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var yl=1/3;function S2(i,r){var t=[];t.push({x:i.x,y:i.y*(1-yl)+r.y*yl}),t.push({x:r.x,y:i.y*(1-yl)+r.y*yl}),t.push(r);var e=[["M",i.x,i.y]];return(0,u.each)(t,function(n){e.push(["L",n.x,n.y])}),e}bn("edge","vhv",{draw:function(i,r){var t=Ai(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(S2(e[0],e[1]));return r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),bn("interval","funnel",{getPoints:function(i){return i.size=i.size*2,Mf(i)},draw:function(i,r){var t=Ai(i,!1,!0),e=this.parsePath(Av(i.points,i.nextPoints,!1)),n=r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),bn("interval","hollow-rect",{draw:function(i,r){var t=Ai(i,!0,!1),e=this.parsePath(Cf(i.points)),n=r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function M2(i){var r=i.x,t=i.y,e=i.y0;return(0,u.isArray)(t)?t.map(function(n,a){return{x:(0,u.isArray)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}bn("interval","line",{getPoints:function(i){return M2(i)},draw:function(i,r){var t=Ai(i,!0,!1,"lineWidth"),e=this.parsePath(Cf(i.points,!1)),n=r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:r}}}}),bn("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,Mf(i,!0)},draw:function(i,r){var t=Ai(i,!1,!0),e=this.parsePath(Av(i.points,i.nextPoints,!0)),n=r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function C2(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,u.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+n/2,l=r-n/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function E2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}bn("interval","tick",{getPoints:function(i){return C2(i)},draw:function(i,r){var t=Ai(i,!0,!1),e=this.parsePath(E2(i.points)),n=r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:r}}}});var A2=function(i,r,t){var e=i.x,n=i.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var f=(n+o)/2;s=[{x:e,y:f},{x:a,y:f}];break;default:break}return s};function T2(i,r){var t=[];return(0,u.each)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var o=A2(e,a,r);t=t.concat(o)}}),t}function P2(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function _2(i,r){var t=xf(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,u.each)(t,function(n){var a=T2(n,r);e=e.concat(P2(a))}),(0,I.__assign)((0,I.__assign)({},Ai(i,!0,!1,"lineWidth")),{path:e})}(0,u.each)(["hv","vh","hvh","vhv"],function(i){bn("line",i,{draw:function(r,t){var e=_2(r,i),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(r){return Cv(r,i)}})}),(0,u.each)(h2,function(i){bn("point",i,{draw:function(r,t){return Ef(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:Oo[i],style:{r:4.5,stroke:t,fill:null}}}})}),bn("point","image",{draw:function(i,r){var t=Ai(i,!1,!1,"r").r,e=this.parsePoints(i.points),n=e[0];if(i.isStack)n=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return r.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,u.each)(Pv,function(i){bn("point",i,{draw:function(r,t){return Ef(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:Oo[i]||i,style:{r:4.5,fill:t}}}})});function _v(i){var r=(0,u.isArray)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t,a=r.length>3?r[3]:e,o=r.length>2?r[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function Ov(i,r,t){var e=t/2,n;if((0,u.isArray)(r)){var a=_v(r),o=a.min,s=a.max,l=a.median,f=a.min1,h=a.max1,c=i-e,v=i+e;n=[[c,s],[v,s],[i,s],[i,h],[c,f],[c,h],[v,h],[v,f],[i,f],[i,o],[c,o],[v,o],[c,l],[v,l]]}else{r=(0,u.isNil)(r)?.5:r;var m=_v(i),o=m.min,s=m.max,l=m.median,f=m.min1,h=m.max1,T=r-e,D=r+e;n=[[o,T],[o,D],[o,r],[f,r],[f,T],[f,D],[h,D],[h,T],[h,r],[s,r],[s,T],[s,D],[l,T],[l,D]]}return n.map(function(Y){return{x:Y[0],y:Y[1]}})}function O2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}bn("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return Ov(r,t,e)},draw:function(i,r){var t=Ai(i,!0,!1),e=this.parsePath(O2(i.points)),n=r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=Ov(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function L2(i){var r=(0,u.isArray)(i)?i:[i],t=r.sort(function(e,n){return n-e});return ua(t,4,t[t.length-1])}function Lv(i,r,t){var e=L2(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function I2(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}bn("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return Lv(r,t,e)},draw:function(i,r){var t=Ai(i,!0,!0),e=this.parsePath(I2(i.points)),n=r.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=Lv(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function k2(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);r&&(n=(0,u.clamp)(r,0,Math.min(t,e))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}bn("polygon","square",{draw:function(i,r){if(!(0,u.isEmpty)(i.points)){var t=Ai(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,I.__assign)((0,I.__assign)({},t),k2(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var B2=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=e.points,f=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,v=(f.x-h.x)/2*c,m=(f.y-h.y)/2*c;switch(a){case"right":s||(t.x-=v,t.y+=m),t.textAlign=(0,u.get)(t,"textAlign","left");break;case"left":s?t.x-=v*2:(t.x+=v,t.y+=m),t.textAlign=(0,u.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=v,t.y-=m):t.y+=m*2,t.textAlign=(0,u.get)(t,"textAlign","center"),t.textBaseline=(0,u.get)(t,"textBaseline","top");break;case"middle":s?t.x-=v:t.y+=m,t.textAlign=(0,u.get)(t,"textAlign","center");break;case"top":s&&(t.x-=v,t.y+=m),t.textAlign=(0,u.get)(t,"textAlign","center"),t.textBaseline=(0,u.get)(t,"textBaseline","bottom");break;default:break}},r}(ol),D2=B2,ml=Math.PI/2,F2=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},r.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var l=this.getDefaultOffset(t.offset)*a,f=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(f,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=f,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(f,l,h):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,u.isArray)(t.x)&&!(0,u.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,u.isArray)(t.x)?t.x[e]:t.x,y:(0,u.isArray)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return ur(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=Oe(o,n);if(l===0)return(0,I.__assign)((0,I.__assign)({},s),{r:l});var f=t;if(o.isTransposed&&l>e&&!a){var h=Math.asin(e/(2*l));f=t+h*2}else l=l+e;return{x:s.x+l*Math.cos(f),y:s.y+l*Math.sin(f),r:l}},r.prototype.getLabelRotate=function(t,e,n){var a=t+ml;return n&&(a-=ml),a&&(a>ml?a=a-Math.PI:a<-ml&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,u.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(ol),Iv=F2,R2=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultLayout="distribute",e}return r.prototype.getDefaultLabelCfg=function(){return(0,u.get)(this.geometry.theme,"pieLabels",{})},r.prototype.getDefaultOffset=function(t){return t||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,u.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,u.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=ur(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=ur(e,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,I.__assign)((0,I.__assign)({},Tn(o.x,o.y,s,t)),{angle:t,r:s})},r}(Iv),N2=R2,kv=4;function Y2(i,r,t,e,n,a){var o=!0,s=e.start,l=e.end,f=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,v=0,m=Number.MIN_VALUE,T=r.map(function(Mt){return Mt.y>v&&(v=Mt.y),Mt.y<m&&(m=Mt.y),{size:t,targets:[Mt.y-f]}});for(m-=f,v-f>h&&(h=v-f);o;)for(T.forEach(function(Mt){var Ft=(Math.min.apply(m,Mt.targets)+Math.max.apply(m,Mt.targets))/2;Mt.pos=Math.min(Math.max(m,Ft-Mt.size/2),h-Mt.size)}),o=!1,c=T.length;c--;)if(c>0){var D=T[c-1],Y=T[c];D.pos+D.size>Y.pos&&(D.size+=Y.size,D.targets=D.targets.concat(Y.targets),D.pos+D.size>h&&(D.pos=h-D.size),T.splice(c,1),o=!0)}c=0,T.forEach(function(Mt){var Ft=f+t/2;Mt.targets.forEach(function(){r[c].y=Mt.pos+Ft,Ft+=t,c++})});for(var W={},H=0,st=i;H<st.length;H++){var lt=st[H];W[lt.get("id")]=lt}r.forEach(function(Mt){var Ft=Mt.r*Mt.r,zt=Math.pow(Math.abs(Mt.y-n.y),2);if(Ft<zt)Mt.x=n.x;else{var Zt=Math.sqrt(Ft-zt);a?Mt.x=n.x+Zt:Mt.x=n.x-Zt}var Yt=W[Mt.id];Yt.attr("x",Mt.x),Yt.attr("y",Mt.y);var re=(0,u.find)(Yt.getChildren(),function(he){return he.get("type")==="text"});re&&(re.attr("y",Mt.y),re.attr("x",Mt.x))})}function G2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,f=o+n,h=f*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(m){!m||(m.textAlign==="right"?v[0].push(m):v[1].push(m))}),v.forEach(function(m,T){var D=h/l;m.length>D&&(m.sort(function(Y,W){return W["..percent"]-Y["..percent"]}),m.splice(D,m.length-D)),m.sort(function(Y,W){return Y.y-W.y}),Y2(r,m,l,c,s,T)})}(0,u.each)(i,function(m){if(m&&m.labelLine){var T=m.offset,D=m.angle,Y=Tn(s.x,s.y,o,D),W=Tn(s.x,s.y,o+T/2,D),H=m.x+(0,u.get)(m,"offsetX",0),st=m.y+(0,u.get)(m,"offsetY",0),lt={x:H-Math.cos(D)*kv,y:st-Math.sin(D)*kv};(0,u.isObject)(m.labelLine)||(m.labelLine={}),m.labelLine.path=["M "+Y.x,Y.y+" Q"+W.x,W.y+" "+lt.x,lt.y].join(",")}})}var Bv=4;function z2(i,r,t,e,n,a,o){r.sort(function(Yt,re){return Yt.y-re.y});var s=e.start,l=e.end,f=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,v=r.map(function(Yt){return{content:Yt.content,size:t,pos:Yt.y,targets:[Yt.y]}}),m=Math.max.apply(Math,v.map(function(Yt){return Yt.pos})),T=Math.min.apply(Math,v.map(function(Yt){return Yt.pos}));if(o){for(var D=Math.min(T,h-(v.length-1)*t),Y=Math.max(D+v.length*t,m+t),W=!0;W;)for(W=!1,c=v.length;c--;)if(c>0){var H=v[c-1],st=v[c];H.pos+H.size>st.pos&&(st.pos+c*t<Y?(H.size+=st.size,H.targets=H.targets.concat(st.targets),v.splice(c,1)):H.pos=st.pos-H.size,W=!0)}}else for(var Y=Math.max(f+(v.length-1)*t,m),D=Math.min(T,Y-(v.length-1)*t),W=!0;W;)for(W=!1,c=v.length;c--;)if(c>0){var H=v[c-1],st=v[c];H.pos+H.size>st.pos&&(H.pos-D>c*t?H.pos-=H.size:(H.size+=st.size,H.targets=H.targets.concat(st.targets),v.splice(c,1)),W=!0)}c=0,v.forEach(function(Yt){var re=Yt.pos;Yt.targets.forEach(function(){r[c].y=re,re+=t,c++})});for(var lt={},Mt=0,Ft=i;Mt<Ft.length;Mt++){var zt=Ft[Mt];lt[zt.get("id")]=zt}var Zt=(Math.max.apply(Math,r.map(function(Yt){return Yt.y}))-Math.min.apply(Math,r.map(function(Yt){return Yt.y})))/2;Zt=Math.max(Zt,a),r.forEach(function(Yt){var re=lt[Yt.id],he=re.find(function(Le){return Le.get("type")==="text"});if(he&&he.attr("y")!==Yt.y){var le=Zt*Zt,Ae=Math.pow(Math.abs(Yt.y-n.y),2);if(le<Ae)Yt.x=n.x;else{var Ie=Math.sqrt(le-Ae);o?Yt.x=n.x+Ie:Yt.x=n.x-Ie}}re.attr("x",Yt.x),re.attr("y",Yt.y),he&&(he.attr("y",Yt.y),he.attr("x",Yt.x))})}function X2(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,u.get)(i[0],"labelHeight",14),f=o+n,h=f*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(m){!m||(m.x<s.x?v[0].push(m):v[1].push(m))}),v.forEach(function(m,T){var D=h/l;if(m.length>D){m.sort(function(W,H){return H["data.percent"]-W["data.percent"]});var Y=m.splice(D,m.length-D+1);Y.forEach(function(W){var H=r.findIndex(function(st){return st.get("id")===W.id});r[H]&&(r[H].remove(!0),r.splice(H,1))})}z2(r,m,l,c,s,f,T===1)})}(0,u.each)(i,function(m){if(m&&m.labelLine){var T=m.angle,D=Tn(s.x,s.y,o,T),Y=m.x+(0,u.get)(m,"offsetX",0)*(Math.cos(T)>0?1:-1),W=m.y+(0,u.get)(m,"offsetY",0)*(Math.sin(T)>0?1:-1),H={x:Y-Math.cos(T)*Bv,y:W-Math.sin(T)*Bv},st=m.labelLine.smooth,lt=[],Mt=H.x-s.x,Ft=H.y-s.y,zt=Math.atan(Ft/Mt);if(Mt<0&&(zt+=Math.PI),st===!1){(0,u.isObject)(m.labelLine)||(m.labelLine={});var Zt=0;(T<0&&T>-Math.PI/2||T>Math.PI*1.5)&&H.y>D.y&&(Zt=1),T>=0&&T<Math.PI/2&&H.y>D.y&&(Zt=1),T>=Math.PI/2&&T<Math.PI&&D.y>H.y&&(Zt=1),(T<-Math.PI/2||T>=Math.PI&&T<Math.PI*1.5)&&D.y>H.y&&(Zt=1);var Yt=n/2>4?4:Math.max(n/2-1,0),re=Tn(s.x,s.y,o+Yt,T),he=Tn(s.x,s.y,o+n/2,zt),le=0;lt.push("M "+D.x+" "+D.y),lt.push("L "+re.x+" "+re.y),lt.push("A "+s.x+" "+s.y+" 0 "+le+" "+Zt+" "+he.x+" "+he.y),lt.push("L "+H.x+" "+H.y)}else{var re=Tn(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),T),Ae=D.x<s.x?1:-1;lt.push("M "+H.x+" "+H.y);var Ie=(D.y-s.y)/(D.x-s.x),Le=(H.y-s.y)/(H.x-s.x);Math.abs(Ie-Le)>Math.pow(Math.E,-16)&&lt.push.apply(lt,["C",H.x+Ae*4,H.y,2*re.x-D.x,2*re.y-D.y,D.x,D.y]),lt.push("L "+D.x+" "+D.y)}m.labelLine.path=lt.join(" ")}})}function V2(i,r,t,e){(0,u.each)(r,function(n){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,f=n.getCanvasBBox(),h=f.minX,c=f.minY,v=f.maxX,m=f.maxY,T=f.x,D=f.y,Y=f.width,W=f.height,H=T,st=D;(h<a||v<a)&&(H=a),(c<o||m<o)&&(st=o),h>s?H=s-Y:v>s&&(H=H-(v-s)),c>l?st=l-W:m>l&&(st=st-(m-l)),(H!==T||st!==D)&&af(n,H-T,st-D)})}function H2(i,r,t,e){(0,u.each)(r,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var W2=100,Dv=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,n=r.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=n;l<=a;l+=1){if(!e[l]){e[l]={};continue}if(l===n||l===a){for(var f=o;f<=s;f++)if(e[l][f]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function j2(i,r,t){t===void 0&&(t=W2);var e=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),f,h=-e,c=0,v=0,m=function(W){var H=W*.1;return[H*Math.cos(H),H*Math.sin(H)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var T=!1,D=0,Y={};Math.min(Math.abs(c),Math.abs(v))<l&&D<t;)if(f=m(h+=e),c=~~f[0],v=~~f[1],!(!c&&!v||Y[c+"-"+v])&&(i.attr({x:a+c,y:o+v}),c+v<0&&i.attr("textAlign","right"),D++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),T=!0,Y[c+"-"+v]=!0;break}return T}function U2(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function Z2(i,r,t,e){var n=new Dv;(0,u.each)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});j2(o,n)||a.remove(!0)}),n.destroy()}function K2(i,r,t,e){var n=new Dv;(0,u.each)(r,function(a){for(var o=a.find(function(m){return m.get("type")==="text"}),s=o.attr(),l=s.x,f=s.y,h=!1,c=0;c<=8;c++){var v=U2(o,l,f,c);if(n.hasGap(v)){n.fillGap(v),h=!0;break}}h||a.remove(!0)}),n.destroy()}function $2(i,r,t){var e={fillOpacity:(0,u.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,u.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,u.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function Q2(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=r.easing,a=r.duration,o=r.delay;i.animate(e,a,n,function(){i.remove(!0)},o)}function J2(i,r,t){var e,n=r[0],a=r[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(Pn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=Pn.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(Pn.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=Pn.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(Pn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=Pn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function Pf(i,r,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),f,h;n==="y"?(f=a.x+s/2,h=e.y<a.y?e.y:a.y):n==="x"?(f=e.x>a.x?e.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(f=t.getCenter().x,h=t.getCenter().y):(f=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=J2(i,[f,h],n);i.animate({matrix:c},r)}function q2(i,r,t){var e=t.coordinate,n=t.minYPoint;Pf(i,r,e,n,"x")}function tM(i,r,t){var e=t.coordinate,n=t.minYPoint;Pf(i,r,e,n,"y")}function eM(i,r,t){var e=t.coordinate,n=t.minYPoint;Pf(i,r,e,n,"xy")}function rM(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}function nM(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}function iM(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;i.applyToMatrix([o,s,1]);var l=Pn.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:Pn.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function aM(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,s,1]);var l=Pn.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:Pn.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}var oM=d(84909);function Fv(i,r){var t,e=(0,oM.Z)(i,r),n=e.startAngle,a=e.endAngle;return!(0,u.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,u.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,u.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,u.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function Rv(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(r=[i[i.length-2],i[i.length-1]]),r}function Nv(i){var r,t,e,n=i.filter(function(st){return st[0]==="A"||st[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),f=Rv(i[s-1]),h=Rv(i[l-1]),c=Fv(f,a),v=c.startAngle,m=c.endAngle,T=Fv(h,o),D=T.startAngle,Y=T.endAngle;(0,u.isNumberEqual)(v,D)&&(0,u.isNumberEqual)(m,Y)?(t=v,e=m):(t=Math.min(v,D),e=Math.max(m,Y));var W=a[1],H=n[n.length-1][1];return W<H?(r=[H,W],W=r[0],H=r[1]):W===H&&(H=0),{startAngle:t,endAngle:e,radius:W,innerRadius:H}}function sM(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(H){return H[0]}),s=Nv(a),l=s.startAngle,f=s.endAngle,h=s.radius,c=s.innerRadius,v=Nv(i.attr("path")),m=v.startAngle,T=v.endAngle,D=n.getCenter(),Y=l-m,W=f-T;i.animate(function(H){var st=m+H*Y,lt=T+H*W;return(0,I.__assign)((0,I.__assign)({},e),{path:(0,u.isEqual)(o,["M","A","A","Z"])?Gi(D.x,D.y,h,st,lt):di(D.x,D.y,h,st,lt,c)})},(0,I.__assign)((0,I.__assign)({},r),{callback:function(){i.attr("path",a)}}))}function lM(i,r,t){var e=lr(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,I.__assign)((0,I.__assign)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function _f(i,r,t){if(i.isGroup())(0,u.each)(i.getChildren(),function(s){_f(s,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=Pn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:Pn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:Pn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,I.__assign)((0,I.__assign)({},r),{callback:function(){i.remove(!0)}}))}}function uM(i,r,t){_f(i,r,"zoomIn")}function fM(i,r,t){_f(i,r,"zoomOut")}function qa(i){return[N.TOP,N.BOTTOM].includes(i)?{offsetX:0,offsetY:i===N.TOP?-8:8,style:{textAlign:"center",textBaseline:i===N.TOP?"bottom":"top"}}:[N.LEFT,N.RIGHT].includes(i)?{offsetX:i===N.LEFT?-8:8,offsetY:0,style:{textAlign:i===N.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Of(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var hM=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,l=n/(1+1/Math.sin(o/2)),f=Of(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:Of(f,l,h),end:Of(f,l,c)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),f=l.length,h=[];return l.forEach(function(c,v){var m=[{field:s,value:c,values:l}],T=(0,u.filter)(t,e.getFacetDataFilter(m)),D={type:o,data:T,region:e.getRegion(f,v),columnValue:c,columnField:s,columnIndex:v,columnValuesLength:f,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(D)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},qa(N.TOP),t.cfg.title);a.annotation().text(s)})},r}(Tr),cM=hM,vM=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var f=this.getPageCount(l,a),h=[];return s.forEach(function(c,v){var m=e.getRowCol(v,a),T=m.row,D=m.col,Y=[{field:o,value:c,values:s}],W=(0,u.filter)(t,e.getFacetDataFilter(Y)),H={type:e.cfg.type,data:W,region:e.getRegion(f,a,D,T),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:D,rowIndex:T,columnValuesLength:a,rowValuesLength:f,total:l};h.push(H)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,I.__assign)((0,I.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},qa(N.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},r}(Tr),dM=vM,pM=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,I.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,I.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,l=[],f=0;f<s;f++)for(var h=n[f],c=0;c<o;c++){var v=n[c],m={type:a,data:t,region:this.getRegion(o,s,f,c),columnValue:h,rowValue:v,columnField:h,rowField:v,columnIndex:f,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(m)}return l},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,I.__assign)((0,I.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.rowValuesLength,f=e.columnValue,h=e.rowValue,c=e.view;if(o===0){var v=(0,u.get)(t.cfg.columnTitle,"formatter"),m=(0,u.deepMix)({position:["50%","0%"],content:v?v(f):f},qa(N.TOP),t.cfg.columnTitle);c.annotation().text(m)}if(a===s-1){var v=(0,u.get)(t.cfg.rowTitle,"formatter"),m=(0,u.deepMix)({position:["100%","50%"],content:v?v(h):h},qa(N.RIGHT),t.cfg.rowTitle);c.annotation().text(m)}})},r}(Tr),gM=pM,yM=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],f=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,f=this.getFieldValues(t,c).slice(0,2),s=f.length),l.forEach(function(v,m){f.forEach(function(T,D){var Y=[{field:h,value:v,values:l},{field:c,value:T,values:f}],W=(0,u.filter)(t,e.getFacetDataFilter(Y)),H={type:e.cfg.type,data:W,region:e.getRegion(s,o,m,D),columnValue:v,rowValue:T,columnField:h,rowField:c,columnIndex:m,rowIndex:D,columnValuesLength:o,rowValuesLength:s};a.push(H)})}),a},r.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,I.__assign)((0,I.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,u.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var f=(0,u.deepMix)({position:["50%","0%"],content:l?l(a):a},qa(N.TOP),t.cfg.title);s.annotation().text(f)}else{var f=(0,u.deepMix)({position:["100%","50%"],content:l?l(o):o},qa(N.RIGHT),t.cfg.title);s.annotation().text(f)}})},r}(Tr),mM=yM,xM=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,I.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,I.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,f=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),f=c.length),h.forEach(function(v,m){c.forEach(function(T,D){var Y=[{field:a,value:v,values:h},{field:o,value:T,values:c}],W=(0,u.filter)(t,e.getFacetDataFilter(Y)),H={type:e.cfg.type,data:W,region:e.getRegion(f,l,m,D),columnValue:v,rowValue:T,columnField:a,rowField:o,columnIndex:m,rowIndex:D,columnValuesLength:l,rowValuesLength:f};s.push(H)})}),s},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.columnValue,f=e.rowValue,h=e.view;if(o===0){var c=(0,u.get)(t.cfg.columnTitle,"formatter"),v=(0,u.deepMix)({position:["50%","0%"],content:c?c(l):l},qa(N.TOP),t.cfg.columnTitle);h.annotation().text(v)}if(a===s-1){var c=(0,u.get)(t.cfg.rowTitle,"formatter"),v=(0,u.deepMix)({position:["100%","50%"],content:c?c(f):f},qa(N.RIGHT),t.cfg.rowTitle);h.annotation().text(v)}})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,I.__assign)((0,I.__assign)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,I.__assign)((0,I.__assign)({},n),{title:null}):n},r}(Tr),bM=xM,wM=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(K.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,l={x:o*n,y:s*a},f={x:l.x+o,y:l.y+s*2/3};return{start:l,end:f}},r.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(v){e.isLeaf(v)&&(n.push(v),v.columnIndex=a,a++)}),n.forEach(function(v){v.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),f=0,h=l;f<h.length;f++){var c=h[f];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var l=[],f=o[e-1],h=this.getFieldValues(t,f);return h.forEach(function(c,v){var m=[{field:f,value:c,values:h}],T=t.filter(a.getFacetDataFilter(m));if(T.length){var D={type:a.cfg.type,data:T,region:null,columnValue:c,rowValue:"",columnField:f,rowField:"",columnIndex:v,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(T,e+1,n)};l.push(D),n.push(D)}}),l}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},qa(N.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},r.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var f=l.view.coordinateBBox,h={x:f.bl.x+(f.tr.x-f.bl.x)/2,y:f.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},v={x:h.x,y:c.y};n.drawLine([s,c,v,h])})},r.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,u.assign)({path:e},n)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):n},r}(Tr),SM=wM,MM=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(R.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(R.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,l=o.extra,f=l.type,h=t.getAnnotationTheme(f);s.update(t.getAnnotationCfg(f,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,u.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(K.AFTER_RENDER,function(){n(o)}):n(o)}):(0,u.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(K.AFTER_RENDER,function(){a(o)}):a(o)})},r.prototype.render=function(){},r.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),f=t.cache.get(a);if(f)Jt(l,["container"]),f.component.update(l),e.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),e.set(a,!0))}};this.view.once(K.AFTER_RENDER,function(){(0,u.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,u.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.createAnnotation=function(t){var e=t.type,n=sn.Annotation[(0,u.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?R.FORE:R.BG,direction:N.NONE,type:z.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,I.__assign)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,I.__assign)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,I.__assign)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,I.__assign)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,I.__assign)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,I.__assign)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,I.__assign)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,I.__assign)({type:"regionFilter"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,u.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,u.isArray)(a)){var l=a[0],f=a[1];if((0,u.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,e),s=this.getNormalizedValue(f,Object.values(n)[0])}else if(!(0,u.isNil)(a))for(var h=0,c=(0,u.keys)(a);h<c.length;h++){var v=c[h],m=a[v];v===e.field&&(o=this.getNormalizedValue(m,e)),n[v]&&(s=this.getNormalizedValue(m,n[v]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,f=this.view.getData(),h=(0,u.isArray)(t)?t[0]:t[l],c=(0,u.isArray)(e)?e[0]:e[l],v=[],m;return(0,u.each)(f,function(T,D){if(T[l]===h&&(m=D),D>=m){var Y=n.parsePosition([T[l],T[s.field]]);Y&&v.push(Y)}if(T[l]===c)return!1}),v},r.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},f=a.getWidth()*e+l.x,h=a.getHeight()*n+l.y;return{x:f,y:h}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,u.isNil)(e))return null;if(t==="arc"){var s=e,l=s.start,f=s.end,h=this.parsePosition(l),c=this.parsePosition(f),v=ur(a,h),m=ur(a,c);v>m&&(m=Math.PI*2+m),o={center:a.getCenter(),radius:Oe(a,h),startAngle:v,endAngle:m}}else if(t==="image"){var T=e,l=T.start,f=T.end;o={start:this.parsePosition(l),end:this.parsePosition(f),src:e.src}}else if(t==="line"){var D=e,l=D.start,f=D.end;o={start:this.parsePosition(l),end:this.parsePosition(f),text:(0,u.get)(e,"text",null)}}else if(t==="region"){var Y=e,l=Y.start,f=Y.end;o={start:this.parsePosition(l),end:this.parsePosition(f)}}else if(t==="text"){var W=this.view.getData(),H=e,st=H.position,lt=H.content,Mt=(0,I.__rest)(H,["position","content"]),Ft=lt;(0,u.isFunction)(lt)&&(Ft=lt(W)),o=(0,I.__assign)((0,I.__assign)((0,I.__assign)({},this.parsePosition(st)),Mt),{content:Ft})}else if(t==="dataMarker"){var zt=e,st=zt.position,Zt=zt.point,Yt=zt.line,re=zt.text,he=zt.autoAdjust,le=zt.direction;o=(0,I.__assign)((0,I.__assign)({},this.parsePosition(st)),{coordinateBBox:this.getCoordinateBBox(),point:Zt,line:Yt,text:re,autoAdjust:he,direction:le})}else if(t==="dataRegion"){var Ae=e,l=Ae.start,f=Ae.end,Ie=Ae.region,re=Ae.text,Le=Ae.lineLength;o={points:this.getRegionPoints(l,f),region:Ie,text:re,lineLength:Le}}else if(t==="regionFilter"){var je=e,l=je.start,f=je.end,Ke=je.apply,Qe=je.color,He=this.view.geometries,We=[],yr=function(br){!br||(br.isGroup()?br.getChildren().forEach(function(Dr){return yr(Dr)}):We.push(br))};(0,u.each)(He,function(br){Ke?(0,u.contains)(Ke,br.type)&&(0,u.each)(br.elements,function(Dr){yr(Dr.shape)}):(0,u.each)(br.elements,function(Dr){yr(Dr.shape)})}),o={color:Qe,shapes:We,start:this.parsePosition(l),end:this.parsePosition(f)}}var gr=(0,u.deepMix)({},n,(0,I.__assign)((0,I.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return gr.container=this.getComponentContainer(gr),gr.animate=this.view.getOptions().animate&&gr.animate&&(0,u.get)(e,"animate",gr.animate),gr.animateOption=(0,u.deepMix)({},jo,gr.animateOption,e.animateOption),gr},r.prototype.isTop=function(t){return(0,u.get)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,u.get)(this.view.getTheme(),["components","annotation",t],{})},r}(Wo),CM=MM;function Yv(i,r){return(0,u.get)(i,["components","axis",r,"grid"],{})}function xl(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var f=s.value;if(e)n.push({points:[i.convert(t==="y"?{x:0,y:f}:{x:f,y:0}),i.convert(t==="y"?{x:1,y:f}:{x:f,y:1})]});else if(l){var h=o.value,c=(h+f)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function Lf(i,r,t,e,n){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,f){var h=l?l.value:f.value,c=f.value,v=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:e?c:v,y:0}),i.convert({x:e?c:v,y:1})]}):o.push({points:(0,u.map)(Array(a+1),function(m,T){return i.convert({x:T/a,y:e?c:v})})}),f},s[0]),o}function Gv(i,r){var t=(0,u.get)(r,"grid");if(t===null)return!1;var e=(0,u.get)(i,"grid");return!(t===void 0&&e===null)}var co=["container"],zv=(0,I.__assign)((0,I.__assign)({},jo),{appear:null}),EM=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(R.BG).addGroup(),e.axisContainer=e.view.getLayer(R.BG).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,u.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,f=l.dim,h=l.scale,c=l.alignTick,v;if(s===z.AXIS)e.isPolar?f==="x"?v=e.isTransposed?tr(e,o):Cr(e):f==="y"&&(v=e.isTransposed?Cr(e):tr(e,o)):v=tr(e,o);else if(s===z.GRID)if(e.isPolar){var m=void 0;e.isTransposed?m=f==="x"?Lf(e,t.view.getYScales()[0],h,c,f):xl(e,h,f,c):m=f==="x"?xl(e,h,f,c):Lf(e,t.view.getXScale(),h,c,f),v={items:m,center:t.view.getCoordinate().getCenter()}}else v={items:xl(e,h,f,c)};a.update(v)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=Je(this.option,e.field);if(n!==!1){var a=Ar(n,N.BOTTOM),o=R.BG,s="x",l=this.view.getCoordinate(),f=this.getId("axis",e.field),h=this.getId("grid",e.field);if(l.isRect){var c=this.cache.get(f);if(c){var v=this.getLineAxisCfg(e,n,a);Jt(v,co),c.component.update(v),t.set(f,c)}else c=this.createLineAxis(e,n,o,a,s),this.cache.set(f,c),t.set(f,c);var m=this.cache.get(h);if(m){var v=this.getLineGridCfg(e,n,a,s);Jt(v,co),m.component.update(v),t.set(h,m)}else m=this.createLineGrid(e,n,o,a,s),m&&(this.cache.set(h,m),t.set(h,m))}else if(l.isPolar){var c=this.cache.get(f);if(c){var v=l.isTransposed?this.getLineAxisCfg(e,n,N.RADIUS):this.getCircleAxisCfg(e,n,a);Jt(v,co),c.component.update(v),t.set(f,c)}else{if(l.isTransposed){if((0,u.isUndefined)(n))return;c=this.createLineAxis(e,n,o,N.RADIUS,s)}else c=this.createCircleAxis(e,n,o,a,s);this.cache.set(f,c),t.set(f,c)}var m=this.cache.get(h);if(m){var v=l.isTransposed?this.getCircleGridCfg(e,n,N.RADIUS,s):this.getLineGridCfg(e,n,N.CIRCLE,s);Jt(v,co),m.component.update(v),t.set(h,m)}else{if(l.isTransposed){if((0,u.isUndefined)(n))return;m=this.createCircleGrid(e,n,o,N.RADIUS,s)}else m=this.createLineGrid(e,n,o,N.CIRCLE,s);m&&(this.cache.set(h,m),t.set(h,m))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,u.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=Je(e.option,s);if(l!==!1){var f=R.BG,h="y",c=e.getId("axis",s),v=e.getId("grid",s),m=e.view.getCoordinate();if(m.isRect){var T=Ar(l,o===0?N.LEFT:N.RIGHT),D=e.cache.get(c);if(D){var Y=e.getLineAxisCfg(a,l,T);Jt(Y,co),D.component.update(Y),t.set(c,D)}else D=e.createLineAxis(a,l,f,T,h),e.cache.set(c,D),t.set(c,D);var W=e.cache.get(v);if(W){var Y=e.getLineGridCfg(a,l,T,h);Jt(Y,co),W.component.update(Y),t.set(v,W)}else W=e.createLineGrid(a,l,f,T,h),W&&(e.cache.set(v,W),t.set(v,W))}else if(m.isPolar){var D=e.cache.get(c);if(D){var Y=m.isTransposed?e.getCircleAxisCfg(a,l,N.CIRCLE):e.getLineAxisCfg(a,l,N.RADIUS);Jt(Y,co),D.component.update(Y),t.set(c,D)}else{if(m.isTransposed){if((0,u.isUndefined)(l))return;D=e.createCircleAxis(a,l,f,N.CIRCLE,h)}else D=e.createLineAxis(a,l,f,N.RADIUS,h);e.cache.set(c,D),t.set(c,D)}var W=e.cache.get(v);if(W){var Y=m.isTransposed?e.getLineGridCfg(a,l,N.CIRCLE,h):e.getCircleGridCfg(a,l,N.RADIUS,h);Jt(Y,co),W.component.update(Y),t.set(v,W)}else{if(m.isTransposed){if((0,u.isUndefined)(l))return;W=e.createLineGrid(a,l,f,N.CIRCLE,h)}else W=e.createCircleGrid(a,l,f,N.RADIUS,h);W&&(e.cache.set(v,W),t.set(v,W))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new Jn(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===N.RADIUS?N.NONE:a,type:z.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new Si(s),layer:n,direction:N.NONE,type:z.GRID,extra:{dim:o,scale:t,alignTick:(0,u.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new ai(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:z.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new Mi(s),layer:n,direction:N.NONE,type:z.GRID,extra:{dim:o,scale:t,alignTick:(0,u.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=tr(o,n),l=Ir(t,e),f=pr(this.view.getTheme(),n),h=(0,u.get)(e,["title"])?(0,u.deepMix)({title:{style:{text:l}}},e):e,c=(0,u.deepMix)((0,I.__assign)((0,I.__assign)({container:a},s),{ticks:t.getTicks().map(function(st){return{id:""+st.tickValue,name:st.text,value:st.value}}),verticalFactor:o.isPolar?vr(s,o.getCenter())*-1:vr(s,o.getCenter())}),f,h),v=this.getAnimateCfg(c),m=v.animate,T=v.animateOption;c.animateOption=T,c.animate=m;var D=ar(s),Y=(0,u.get)(c,"verticalLimitLength",D?1/3:1/2);if(Y<=1){var W=this.view.getCanvas().get("width"),H=this.view.getCanvas().get("height");c.verticalLimitLength=Y*(D?W:H)}return c},r.prototype.getLineGridCfg=function(t,e,n,a){if(!!Gv(pr(this.view.getTheme(),n),e)){var o=Yv(this.view.getTheme(),n),s=(0,u.deepMix)({container:this.gridContainer},o,(0,u.get)(e,"grid"),this.getAnimateCfg(e));return s.items=xl(this.view.getCoordinate(),t,a,(0,u.get)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(D){return{id:""+D.tickValue,name:D.text,value:D.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Ir(t,e),f=pr(this.view.getTheme(),N.CIRCLE),h=(0,u.get)(e,["title"])?(0,u.deepMix)({title:{style:{text:l}}},e):e,c=(0,u.deepMix)((0,I.__assign)((0,I.__assign)({container:a},Cr(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),f,h),v=this.getAnimateCfg(c),m=v.animate,T=v.animateOption;return c.animate=m,c.animateOption=T,c},r.prototype.getCircleGridCfg=function(t,e,n,a){if(!!Gv(pr(this.view.getTheme(),n),e)){var o=Yv(this.view.getTheme(),N.RADIUS),s=(0,u.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,u.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,u.get)(s,"alignTick",!0),f=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=Lf(this.view.getCoordinate(),f,t,l,a),s}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,u.get)(t,"animate"),animateOption:t&&t.animateOption?(0,u.deepMix)({},zv,t.animateOption):zv}},r}(Wo),AM=EM;function bl(i,r,t){return t===N.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===N.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===N.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===N.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===N.TOP_LEFT||t===N.LEFT_TOP?[i.tl.x,i.tl.y]:t===N.TOP_RIGHT||t===N.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===N.BOTTOM_LEFT||t===N.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===N.BOTTOM_RIGHT||t===N.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function TM(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function Xv(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Vv(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function PM(i,r){var t=r.matrix[0],e=r.matrix[4],n=i;return t<0&&(n=Xv(n)),e<0&&(n=Vv(n)),n}function _M(i,r){var t=i;return r.isReflect("x")&&(t=Xv(t)),r.isReflect("y")&&(t=Vv(t)),t}function $Y(i,r){var t=i;return t=TM(t,r),t=PM(t,r),t=_M(t,r),t}function Hv(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,I.__spreadArrays)([r],n)).join("")}else e=i.mapping(r).join("");return e||t}function Wv(i){var r=i.symbol;(0,u.isString)(r)&&Oo[r]&&(i.symbol=Oo[r])}function If(i){return i.startsWith(N.LEFT)||i.startsWith(N.RIGHT)?"vertical":"horizontal"}function OM(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),f=i.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(c){var v,m=c.text,T=c.value,D=m,Y=a.invert(T),W=i.filterFieldData(o,[(v={},v[o]=Y,v)]).length===0,H=Hv(s,Y,f),st=Hv(l,Y,"point"),lt=r.getShapeMarker(st,{color:H,isInPolar:h});return lt=(0,u.deepMix)({},e,lt,n),Wv(lt),{id:Y,name:D,value:Y,marker:lt,unchecked:W}})}return[]}function LM(i,r,t){return t.map(function(e){var n=(0,u.deepMix)({},i,r,e.marker);return Wv(n),e.marker=n,e})}function jv(i,r){return(0,u.isBoolean)(i)?i===!1?!1:{}:(0,u.get)(i,[r],i)}function Ms(i){return(0,u.get)(i,"position",N.BOTTOM)}var IM=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(R.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,l,f){var h=t.createFieldLegend(s,l,f);h&&(h.component.init(),t.components.push(h))};if((0,u.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=R.FORE,o=Ms(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:z.LEGEND,extra:void 0})}}else this.loopLegends(e)},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,u.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,u.each)(this.components,function(n){var a=n.component,o=n.direction,s=If(o),l=t.getCategoryLegendSizeCfg(s),f=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,f||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),v=new nr(c.x,c.y,c.width,c.height),m=bl(t.view.viewBBox,v,o),T=m[0],D=m[1],Y=bl(t.layoutBBox,v,o),W=Y[0],H=Y[1],st=0,lt=0;o.startsWith("top")||o.startsWith("bottom")?(st=T,lt=H):(st=W,lt=D),o.indexOf("left")>=0&&(st+=e[3]),o.indexOf("right")>=0&&(st-=e[1]),o.indexOf("top")>=0&&(lt+=e[0]),o.indexOf("bottom")>=0&&(lt-=e[2]),a.update({x:st,y:lt}),t.layoutBBox=t.layoutBBox.cut(v,o)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(v,m,T){var D=t.getId(T.field),Y=t.getComponentById(D);if(Y){var W=void 0,H=jv(t.option,T.field);H!==!1&&((0,u.get)(H,"custom")?W=t.getCategoryCfg(v,m,T,H,!0):T.isLinear?W=t.getContinuousCfg(v,m,T,H):T.isCategory&&(W=t.getCategoryCfg(v,m,T,H))),W&&(Jt(W,["container"]),Y.direction=Ms(H),Y.component.update(W),e[D]=!0)}else{var st=t.createFieldLegend(v,m,T);st&&(st.component.init(),t.components.push(st),e[D]=!0)}};if((0,u.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Jt(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var f=R.FORE,h=Ms(this.option);this.components.push({id:a,component:l,layer:f,direction:h,type:z.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var c=[];(0,u.each)(this.getComponents(),function(v){e[v.id]?c.push(v):v.component.destroy()}),this.components=c},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,u.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,u.each)(n,function(o){var s=o.getGroupAttributes();(0,u.each)(s,function(l){var f=l.getScale(l.type);!f||f.type==="identity"||a[f.field]||(t(o,l,f),a[f.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,o=jv(this.option,n.field),s=R.FORE,l=Ms(o);if(o!==!1&&((0,u.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:z.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new Ht(o)},r.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new Kt(o)},r.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new Ht(o)},r.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,u.find)(o,function(D){return D.value===0}),l=(0,u.find)(o,function(D){return D.value===1}),f=o.map(function(D){var Y=D.value,W=D.tickValue,H=e.mapping(n.invert(Y)).join("");return{value:W,attrValue:H,color:H,scaleValue:Y}});s||f.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||f.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),f.sort(function(D,Y){return D.value-Y.value});var h={min:(0,u.head)(f).value,max:(0,u.last)(f).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(h.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(h.colors=f.map(function(D){return D.attrValue}));var c=this.container,v=Ms(a),m=If(v),T=(0,u.get)(a,"title");return T&&(T=(0,u.deepMix)({text:_e(n)},T)),h.container=c,h.layout=m,h.title=T,h.animateOption=jo,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,l=(0,u.get)(a,"position",N.BOTTOM),f=(0,u.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,u.get)(a,"marker"),c=If(l),v=o?LM(f,h,a.items):OM(this.view,t,e,f,h),m=(0,u.get)(a,"title");m&&(m=(0,u.deepMix)({text:n?_e(n):""},m));var T=this.getCategoryLegendSizeCfg(c);T.container=s,T.layout=c,T.items=v,T.title=m,T.animateOption=jo;var D=this.mergeLegendCfg(T,a,l);D.reversed&&D.items.reverse();var Y=(0,u.get)(D,"maxItemWidth");return Y&&Y<=1&&(D.maxItemWidth=this.view.viewBBox.width*Y),D},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,u.get)(this.view.getTheme(),["components","legend",a],{});return(0,u.deepMix)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,u.find)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*it,maxHeight:a}:{maxWidth:n,maxHeight:a*it}},r}(Wo),kM=IM,BM=function(i){(0,I.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(R.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new nr(e.x,e.y,Math.min(e.width,t),e.height),a=bl(this.view.viewBBox,n,N.BOTTOM),o=a[0],s=a[1],l=bl(this.view.coordinateBBox,n,N.BOTTOM),f=l[0],h=l[1];this.slider.component.update({x:f,y:s,width:t})}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new sn.Slider((0,I.__assign)({container:this.container},t));return e.init(),{component:e,layer:R.FORE,direction:N.BOTTOM,type:z.OTHER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();return Jt(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},r.prototype.getSliderCfg=function(){if((0,u.isObject)(this.option)){var t=(0,I.__assign)({data:this.getData()},(0,u.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,u.deepMix)({},{x:e,y:n,width:a},this.option);return(0,I.__assign)((0,I.__assign)({},o),{trendCfg:t})}return{}},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,f){return f[o]===s[0]&&l.push(f[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,u.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(D,Y){return D.includes(Y[s])||D.push(Y[s]),D},[]),f=(0,u.size)(l),h=Math.floor(t*(f-1)),c=Math.floor(e*(f-1)),v=(0,u.get)(l,[h]),m=(0,u.get)(l,[c]),T=this.getSliderCfg().formatter;T&&(v=T(v,n[h],h),m=T(m,n[c],c)),this.slider.component.update({minText:v,maxText:m,start:t,end:e}),this.view.filter(a.field,function(D,Y){var W=l.indexOf(D);return W>-1?$i(W,h,c):!0})}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r}(Wo),DM=BM;function FM(i){for(var r=[],t=function(n){var a=i[n],o=(0,u.find)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},e=0;e<i.length;e++)t(e);return r}var RM=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,I.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,f=s.showMarkers,h=s.showCrosshairs,c=s.showContent,v=s.marker,m=this.items,T=this.title;if(!(0,u.isEqual)(T,a)||!(0,u.isEqual)(m,n)?(e.emit("tooltip:change",(0,I.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,u.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),f&&this.renderTooltipMarkers(n,v)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var D=(0,u.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(D?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,u.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var f=l[s],h=f.mappingData,c=h.x,v=h.y;f.x=(0,u.isArray)(c)?c[c.length-1]:c,f.y=(0,u.isArray)(v)?v[v.length-1]:v}var m=this.getTooltipCfg().shared;if(m===!1&&e.length>1){for(var T=e[0],D=Math.abs(t.y-T[0].y),Y=0,W=e;Y<W.length;Y++){var H=W[Y],st=Math.abs(t.y-H[0].y);st<=D&&(T=H,D=st)}e=[T]}return FM((0,u.flatten)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,u.get)(n,["components","tooltip"],{}),o=(0,u.isUndefined)((0,u.get)(e,"enterable"))?a.enterable:(0,u.get)(e,"enterable");return(0,u.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new ie((0,I.__assign)((0,I.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,f=s.y,h=(0,I.__assign)((0,I.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:f});n.addShape("marker",{attrs:h})}},r.prototype.renderCrosshairs=function(t,e){var n=(0,u.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!rr(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=ur(n,t),l=n.getCenter(),f=n.getRadius();o=Tn(l.x,l.y,f,s),a=l}var h=(0,u.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,u.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new sn.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},r.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!rr(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:Oe(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,u.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,u.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var f=this.yCrosshair;f?n.isRect&&f.get("type")==="circle"||!n.isRect&&f.get("type")==="line"?(f=new sn.Crosshair[o](a),f.init()):f.update(a):(f=new sn.Crosshair[o](a),f.init()),f.render(),f.show(),this.yCrosshair=f}},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,u.get)(n,["crosshairs","text"]),o=(0,u.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),f=s[0],h=l.getXScale(),c=l.getYScales()[0],v=void 0,m=void 0;if(o){var T=this.view.getCoordinate().invert(e);v=h.invert(T.x),m=c.invert(T.y)}else v=f.data[h.field],m=f.data[c.field];var D=t==="x"?v:m;return(0,u.isFunction)(a)?a=a(t,D,s,e):a.content=D,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,f=hn(l,t,n);f.length&&a.push(f)}return a},r.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var f=l[s],h=kr(e,f,t);if(h){var c=t.getElementId(h),v=t.elementsMap[c];if(t.type==="heatmap"||v.visible){var m=hn(h,t,n);m.length&&a.push(m)}}}return a},r.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,f=0,h=a;f<h.length;f++){var c=h[f];if(c.visible&&c.tooltipOption!==!1){var v=c.type,m=void 0;["point","edge","polygon"].includes(v)?m=this.getTooltipItemsByHitShape(c,e,l):["area","line","path","heatmap"].includes(v)?m=this.getTooltipItemsByFindData(c,e,l):s!==!1?m=this.getTooltipItemsByFindData(c,e,l):m=this.getTooltipItemsByHitShape(c,e,l),m.length&&n.push(m)}}for(var T=0,D=t.views;T<D.length;T++){var Y=D[T];n=n.concat(this.findItemsFromView(Y,e))}return n},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,u.find)(t.views,function(n){return e.getViewWithGeometry(n)})},r}(Wo),NM=RM,YM=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,u.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,u.each)(l,function(Ae){if(Ae.type==="interval"||Ae.type==="schema"){var Ie=Ae.getElementsBy(function(Le){var je=Le.getData();return je[a]===o});s=s.concat(Ie)}}),s.length){var f=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),v=h;(0,u.each)(s,function(Ae){var Ie=Ae.shape.getCanvasBBox();f.isTransposed?(Ie.minY<h.minY&&(h=Ie),Ie.maxY>c.maxY&&(c=Ie)):(Ie.minX<h.minX&&(h=Ie),Ie.maxX>c.maxX&&(c=Ie)),v.x=Math.min(Ie.minX,v.minX),v.y=Math.min(Ie.minY,v.minY),v.width=Math.max(Ie.maxX,v.maxX)-v.x,v.height=Math.max(Ie.maxY,v.maxY)-v.y});var m=t.backgroundGroup,T=t.coordinateBBox,D=void 0;if(f.isRect){var Y=t.getXScale(),W=Y.isLinear?0:.25,H=void 0,st=void 0,lt=void 0,Mt=void 0;f.isTransposed?(H=T.minX,st=Math.min(c.minY,h.minY)-W*c.height,lt=T.width,Mt=v.height+W*2*c.height):(H=Math.min(h.minX,c.minX)-W*h.width,st=Math.min(T.minY,h.minY),lt=v.width+W*2*h.width,Mt=T.height),D=[["M",H,st],["L",H+lt,st],["L",H+lt,st+Mt],["L",H,st+Mt],["Z"]]}else{var Ft=(0,u.head)(s),zt=(0,u.last)(s),Zt=mi(Ft.getModel(),f).startAngle,Yt=mi(zt.getModel(),f).endAngle,re=f.getCenter(),he=f.getRadius(),le=f.innerRadius*he;D=di(re.x,re.y,he,Zt,Yt,le)}this.regionPath?(this.regionPath.attr("path",D),this.regionPath.show()):this.regionPath=m.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:D,fill:"#CCD6EC",opacity:.3}})}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(ln),GM=YM,zM=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,f={x:e.x,y:e.y};(!l||!(0,u.isEqual)(l,f))&&this.showTooltip(n,f),this.timeStamp=s,this.location=f}}},r.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(ln),Uv=zM,XM=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var n=fi(t);(0,u.each)(n,function(a){var o=Qi(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=fi(t);(0,u.each)(e,function(n){n.hideTooltip()})},r}(Uv),VM=XM,HM=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,u.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,I.__assign)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,u.get)(a,["components","tooltip","domStyles"],{}),s=new ie({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},r}(ln),WM=HM,jM=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,n=Or(t,this.stateName);(0,u.each)(n,function(a){e.setElementState(a,!1)})},r}(ln),kf=jM;function Zv(i){return(0,u.get)(i.get("delegateObject"),"item")}var UM=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=Xe(a);this.setElementsStateByItem(s,o,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=fa(a,e),s=Er(t,e);return!(0,u.isNil)(s)&&n.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,u.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=jt(this.context);if(e)fe(this.context)&&this.setStateByElement(e,t);else{var n=oe(this.context);if(ue(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Zv(s.fromShape)===Zv(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=jt(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(kf),Bf=UM,ZM=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Bf),KM=ZM,$M=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},r.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},r.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},r.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=Er(t,a.field);if(!this.cache[o]){var s=Ne(n,a.field,o),l=this.linkGroup,f=l.addGroup();this.cache[o]=f;var h=s.length;(0,u.each)(s,function(c,v){if(v<h-1){var m=s[v+1];e.addLinkShape(f,c,m)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=Er(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=jt(t);e&&this.linkByElement(e)},r.prototype.unlink=function(){var t=jt(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(ln),QM=$M,JM=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(Be(this.context))t=Ye(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=$r(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=Xe(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=fi(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,f=a.getYScales()[0].field;(0,u.each)(o,function(h){var c=Xe(h),v=c.filter(function(m){var T=m.getModel().data;return Ji(s,T,l,f)});n.setElementsState(v,e,c)})},r.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=fi(n);Be(this.context)&&(0,u.each)(a,function(o){var s=Xe(o),l=fr(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,u.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=fi(e);(0,u.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(kf),Df=JM,qM=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Df),tC=qM,eC=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=jt(this.context);if(e){if(!fe(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=jt(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(kf),Ff=eC,rC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Ff),nC=rC,Cs="inactive",Es="active";function Rf(i){var r=Xe(i);(0,u.each)(r,function(t){t.hasState(Es)&&t.setState(Es,!1),t.hasState(Cs)&&t.setState(Cs,!1)})}function Kv(i,r,t){(0,u.each)(i,function(e){r(e)?(e.hasState(Cs)&&e.setState(Cs,!1),e.setState(Es,t)):(e.hasState(Es)&&e.setState(Es,!1),e.setState(Cs,t))})}var Lo=Tt.INACTIVE,to=Tt.ACTIVE,iC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=to,t}return r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(l){return o.isMathItem(l,e,n)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Lo)&&t.setState(Lo,!1),t.setState(to,!0)):t.hasState(to)||t.setState(Lo,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,u.each)(t,function(l){a.setElementHighlight(l,e)});else{var o=Or(this.context.view,to),s=!0;(0,u.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,u.each)(t,function(l){e(l)&&(l.hasState(to)&&l.setState(to,!1),l.setState(Lo,!0))})}},r.prototype.setElementState=function(t,e){var n=this.context.view,a=Xe(n);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Rf(t)},r}(Bf),Nf=iC,aC=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=Er(t,o.field),l=Xe(n),f=l.filter(function(h){return Er(h,o.field)===s});this.setHighlightBy(l,function(h){return f.includes(h)},e)}},r}(Nf),oC=aC,sC=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Lo)&&t.setState(Lo,!1),t.setState(to,!0)):(t.setState(Lo,!0),t.hasState(to)&&t.setState(to,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=Er(t,a.field),s=Xe(n),l=s.filter(function(f){return Er(f,a.field)===o});this.setHighlightBy(s,function(f){return l.includes(f)},e)},r.prototype.toggle=function(){var t=jt(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Nf),lC=sC,uC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Rf(t)},r.prototype.highlight=function(){this.setState()},r.prototype.setElementsState=function(t,e,n){Kv(n,function(a){return t.indexOf(a)>=0},e)},r}(Df),$v=uC,fC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var n=this.context.view,a=Xe(n);Kv(a,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;Rf(t)},r}(Ff),hC=fC,cC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Df),vC=cC,dC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Bf),pC=dC,gC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Ff),yC=gC,mC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=oe(this.context),e=null;return ue(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=Qr(e),a=[];return(0,u.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,u.each)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=fa(a,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=fa(o,a),l=Er(e,a),f=s.getText(l);this.setItemsState(t,f,n)},r.prototype.setStateEnable=function(t){var e=this,n=jt(this.context);if(n){var a=this.getAllowComponents();(0,u.each)(a,function(f){e.setStateByElement(f,n,t)})}else{var o=oe(this.context);if(ue(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,u.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(ln),wl=mC,xC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(wl),bC=xC,Qv="inactive",Jv="active";function wC(i){var r=i.getItems();(0,u.each)(r,function(t){i.hasState(t,Jv)&&i.setItemState(t,Jv,!1),i.hasState(t,Qv)&&i.setItemState(t,Qv,!1)})}var As="inactive",Io="active",SC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Io,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,u.each)(a,function(l){e(l)?(t.hasState(l,As)&&t.setItemState(l,As,!1),t.setItemState(l,Io,!0)):t.hasState(l,Io)||t.setItemState(l,As,!0)});else{var o=t.getItemsByState(Io),s=!0;(0,u.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,u.each)(a,function(l){e(l)&&(t.hasState(l,Io)&&t.setItemState(l,Io,!1),t.setItemState(l,As,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)wC(t.list);else{var e=this.getAllowComponents();(0,u.each)(e,function(n){n.clearItemsState(Io),n.clearItemsState(As)})}},r}(wl),Yf=SC,MC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(wl),CC=MC,EC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(wl),AC=EC,TC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,I.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,u.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(ln),Gf=TC,PC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,u.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=Cn(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},r}(Gf),_C=PC,OC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,u.head)(t),end:(0,u.last)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:l}},r}(Gf),qv=OC;function td(i){i.x=(0,u.clamp)(i.x,0,1),i.y=(0,u.clamp)(i.y,0,1)}var LC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,u.head)(n)),l=o.invert((0,u.last)(n));return this.inPlot&&(td(s),td(l)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(qv),ed=LC,IC=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,u.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Gf),rd=IC,kC=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return Dn(t,!0)},r}(rd),BC=kC,DC=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(ln),FC=DC,RC=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,u.each)(t.views,function(o){a.filterView(o,e,n)})},r.prototype.filter=function(){var t=oe(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(ue(t)){if(a){var o=n.getItemsByState("unchecked"),s=fa(e,a),l=o.map(function(v){return v.name});l.length?this.filterView(e,a,function(v){var m=s.getText(v);return!l.includes(m)}):this.filterView(e,a,null),e.render(!0)}}else if(ke(t)){var f=n.getValue(),h=f[0],c=f[1];this.filterView(e,a,function(v){return v>=h&&v<=c}),e.render(!0)}}},r}(ln),NC=RC;function nd(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var f=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(f),v=i.values.indexOf(h),m=i.values.slice(c,v+1);return function(T){return m.includes(T)}}else return function(T){return T>=f&&T<=h}}var YC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(Be(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(e),f=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=nd(h,"x",l,f);this.filterView(o,h.field,c)}if(this.hasDim("y")){var v=o.getYScales()[0],c=nd(v,"y",l,f);this.filterView(o,v.field,c)}this.reRender(o)}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t){t.render(!0)},r}(ln),Sl=YC,GC=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=fi(t);(0,u.each)(a,function(o){o.filter(e,n)})},r.prototype.reRender=function(t){var e=fi(t);(0,u.each)(e,function(n){n.render(!0)})},r}(Sl),zf=GC,zC=function(i){(0,I.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=oe(this.context),e=this.context.view,n=Xe(e);if(Be(this.context)){var a=Ye(this.context,10);a&&(0,u.each)(n,function(T){a.includes(T)?T.show():T.hide()})}else if(t){var o=t.component,s=o.get("field");if(ue(t)){if(s){var l=o.getItemsByState("unchecked"),f=fa(e,s),h=l.map(function(T){return T.name});(0,u.each)(n,function(T){var D=Er(T,s),Y=f.getText(D);h.indexOf(Y)>=0?T.hide():T.show()})}}else if(ke(t)){var c=o.getValue(),v=c[0],m=c[1];(0,u.each)(n,function(T){var D=Er(T,s);D>=v&&D<=m?T.show():T.hide()})}}},r.prototype.clear=function(){var t=Xe(this.context.view);(0,u.each)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(ln),XC=zC,VC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){Be(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Ye(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=fi(t);(0,u.each)(s,function(l){var f=Xe(l);(0,u.each)(f,function(h){var c=h.getModel().data;Ji(o,c,n,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=fi(e);(0,u.each)(n,function(a){var o=fr(t.context,a,10),s=Xe(a);o&&(0,u.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=fi(this.context.view);(0,u.each)(t,function(e){var n=Xe(e);(0,u.each)(n,function(a){a.show()})})},r}(ln),id=VC,HC=10,WC=5,jC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,u.deepMix)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,I.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=Ei(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,I.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=Pn.transform(null,[["t",n.x-o.width-HC,n.y+o.height+WC]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(ln),UC=jC,ZC=4,KC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):Cn(t,this.startPoint)>ZC&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(ln),$C=KC,QC=5,JC=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=Cn(t,e);if(n>QC&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=Pn.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(ln),qC=JC,ad="x",od="y",tE=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[ad,od],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(ad),this.resetDim(od);var t=this.context.view;t.render(!0)},r}(ln),sd=tE,eE=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,u.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),l=s.x-o.x,f=s.y-o.y,h=this.context.view,c=this.dims;(0,u.each)(c,function(v){t.translateDim(v,{x:l*-1,y:f*-1})}),h.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,f=l-s,h=n[t]*f;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(sd),rE=eE,nE=function(i){(0,I.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,n=this.dims;(0,u.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,f=e.max,h=n*s,c=l-h,v=f+h,m=v-c,T=m/s;v>c&&T<100&&T>.01&&a.scale(e.field,{nice:!1,min:l-h,max:f+h})},r}(sd),iE=nE;Dt("dark",Sa(Hb)),tt("canvas",O),tt("svg",L),Ca("Polygon",g2),Ca("Interval",l2),Ca("Schema",m2),Ca("Path",Sf),Ca("Point",v2),Ca("Line",f2),Ca("Area",qS),Ca("Edge",e2),Ca("Heatmap",i2),ms("base",ol),ms("interval",D2),ms("pie",N2),ms("polar",Iv),Ao("overlap",K2),Ao("distribute",G2),Ao("fixed-overlap",Z2),Ao("limit-in-shape",H2),Ao("limit-in-canvas",V2),Ao("pie-outer",X2),hi("fade-in",$2),hi("fade-out",Q2),hi("grow-in-x",q2),hi("grow-in-xy",eM),hi("grow-in-y",tM),hi("scale-in-x",iM),hi("scale-in-y",aM),hi("wave-in",lM),hi("zoom-in",uM),hi("zoom-out",fM),hi("position-update",nM),hi("sector-path-update",sM),hi("path-in",rM),Kr("rect",bM),Kr("mirror",mM),Kr("list",dM),Kr("matrix",gM),Kr("circle",cM),Kr("tree",SM),cn("axis",AM),cn("legend",kM),cn("tooltip",NM),cn("annotation",CM),cn("slider",DM),Br("tooltip",Uv),Br("sibling-tooltip",VM),Br("ellipsis-text",WM),Br("element-active",KM),Br("element-single-active",nC),Br("element-range-active",tC),Br("element-highlight",Nf),Br("element-highlight-by-x",lC),Br("element-highlight-by-color",oC),Br("element-single-highlight",hC),Br("element-range-highlight",$v),Br("element-sibling-highlight",$v,{effectSiblings:!0,effectByRecord:!0}),Br("element-selected",pC),Br("element-single-selected",yC),Br("element-range-selected",vC),Br("element-link-by-color",QM),Br("active-region",GM),Br("list-active",bC),Br("list-selected",CC),Br("list-highlight",Yf),Br("list-unchecked",AC),Br("legend-item-highlight",Yf,{componentNames:["legend"]}),Br("axis-label-highlight",Yf,{componentNames:["axis"]}),Br("rect-mask",qv),Br("x-rect-mask",ed,{dim:"x"}),Br("y-rect-mask",ed,{dim:"y"}),Br("circle-mask",_C),Br("path-mask",rd),Br("smooth-path-mask",BC),Br("cursor",FC),Br("data-filter",NC),Br("brush",Sl),Br("brush-x",Sl,{dims:["x"]}),Br("brush-y",Sl,{dims:["y"]}),Br("sibling-filter",zf),Br("sibling-x-filter",zf),Br("sibling-y-filter",zf),Br("element-filter",XC),Br("element-sibling-filter",id),Br("element-sibling-filter-record",id,{byRecord:!0}),Br("view-drag",$C),Br("view-move",qC),Br("scale-translate",rE),Br("scale-zoom",iE),Br("reset-button",UC,{name:"reset-button",text:"reset"});function vo(i){return i.isInPlot()}gn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),gn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),gn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),gn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),gn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),gn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),gn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),gn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),gn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),gn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),gn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),gn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),gn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:vo,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:vo,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:vo,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),gn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),gn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:vo,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:vo,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:vo,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),gn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:vo,action:"path-mask:start"},{trigger:"mousedown",isEnable:vo,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),gn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),gn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),gn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),gn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),gn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),gn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function ld(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}gn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return ld(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!ld(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),gn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var ud={translate:af,rotate:Gc,zoom:Fb,transform:al,getAngle:mi,polarToCartesian:Tn},Ml=function(){function i(r){this.EVENT="gesture",this.gm=r}return i.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},i.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},i}(),aE=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},r}(Ml),po=typeof performance=="object"&&performance.now?performance:Date,oE=300,fd=10,sE=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>fd||n-this.touchStartY>fd)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=po.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},oE)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(Ml),lE=100,uE=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(po.now()-this.latestMoveTime<lE){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=po.now(),o=e-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=po.now()},r}(Ml),fE=300,hd=2,hE=function(i){(0,_r.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<hd&&n-this.touchStartY<hd&&po.now()-this.touchStartTime<fE&&this.emit({x:e,y:n,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=po.now(),this.touchStartX=e,this.touchStartY=n},r}(Ml),cE={Pan:aE,Press:sE,Swipe:uE,Tap:hE},vE=function(i){return cE[i]},cd=function(i){(0,_r.__extends)(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=vE(n);return new a(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},r}(we.default),dE=d(68716),pE=dE.yD,gE=800,yE="swipe",mE="pan",vd="wheel",xE=function(i){(0,_r.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.rafMs=0,e.onPan=function(n){e.raf&&cancelAnimationFrame(e.raf);var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit(vd,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=po.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new cd(t,{gestures:["Pan","Swipe"]}),e.gm.on(yE,e.onSwipe),e.gm.on(mE,e.onPan),e}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=po.now(),s=(o-e.ms)/gE;if(s<1){s=pE(1-s);var l=o-e.rafMs,f=n*s*l,h=a*s*l,c=e.getWrapperEvent(t,f,h);e.emit(vd,c),e.rafMs=o,e.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,e,n){return(0,_r.__assign)((0,_r.__assign)({},t),{deltaX:-e,deltaY:-n})},r}(we.default),Sn=d(78646),dd=d(13733),bE=d(90835),QY=d(86050),wE=d(85506),go=d(97488),JY=d(98880),SE=d(88373),ko=d(55225);cn("gesture",J.Z);var oa="origin",Ts="_origin",pd=1e3,gd=60*pd,yd=60*gd,Cl=24*yd,ME=Cl*7,CE=Cl*30,EE=Cl*365,AE={second:{value:pd,format:"HH:mm:ss"},miniute:{value:gd,format:"HH:mm"},hour:{value:yd,format:"HH"},day:{value:Cl,format:"YYYY-MM-DD"},week:{value:ME,format:"YYYY-MM-DD"},month:{value:CE,format:"YYYY-MM"},year:{value:EE,format:"YYYY"}},El=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],TE=[],PE={axis:"axis-label",label:"label",legend:"legend-item"},_E={title:"title",description:"description",breadcrumb:"breadcrumb"},md=(0,u.deepMix)(Ti(_E),Xf("Plot",El)),xd=Xf("Layer",El),dn=(0,u.deepMix)({},Ti(PE),Xf("View",El),OE());function si(i,r,t){i.view.on(r,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:i,canvas:i.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function Ti(i){var r={};return(0,u.each)(i,function(t,e){var n=(0,u.upperFirst)(e),a="on"+n,o=t+":";(0,u.each)(El,function(s){var l=(0,u.upperFirst)(s),f=""+a+l,h=""+o+s;r[f]=h})}),r}function Xf(i,r){var t={},e="on";return(0,u.each)(r,function(n){var a=(0,u.upperFirst)(n),o=""+e+i+a;t[o]=n}),t}function OE(){var i={},r="on";return(0,u.each)(TE,function(t){var e=(0,u.upperFirst)(t),n=""+r+e;i[n]=t}),i}var LE=d(62810),IE=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r}(LE.BBox),tn=IE,kE=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return r.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},r.prototype.updateConfig=function(t){this.options=(0,u.deepMix)({},this.options,t),this.processOptions(this.options)},r.prototype.beforeInit=function(){return null},r.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},r.prototype.afterInit=function(){return null},r.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},r.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},r.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,u.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},r.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},r.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},r.prototype.addLayer=function(t){var e=(0,u.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},r.prototype.removeLayer=function(t){var e=(0,u.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},r.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,u.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},r.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},r.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},r.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new tn(t.x,t.y,this.width,this.height)},r.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,u.deepMix)({},a,t)},r.prototype.eachLayer=function(t){(0,u.each)(this.layers,t)},r.prototype.parseEvents=function(t){var e=this,n=(0,u.keys)(xd);(0,u.each)(t,function(a,o){if((0,u.contains)(n,o)&&(0,u.isFunction)(a)){var s=xd[o]||o,l=a;e.on(s,l),e.eventHandlers.push({name:s,handler:l})}})},r.prototype.getLayerBBox=function(){return new tn(this.x,this.y,this.width,this.height)},r.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,l=(this.x+this.width-n)/t,f=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:l,y:f}}}return{start:{x:0,y:0},end:{x:1,y:1}}},r}(we.default),Al=kE;function Ko(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function bd(i,r){var t=(0,Gt.__spreadArrays)(i);return r.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function BE(i){return i.getComponents().filter(function(r){return r.type===Sn.COMPONENT_TYPE.AXIS}).map(function(r){return r.component})}function DE(i){return i.getComponents().filter(function(r){return r.type===Sn.COMPONENT_TYPE.LEGEND}).map(function(r){return r.component})}function qY(i){var r=i.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return r}function tG(i){var r=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return r}function FE(i,r){for(var t=i.length;t>0&&!(r>=i[t-1]);)t-=1;return t}function wd(i,r){return!(i.maxY<r.minY||r.maxY<i.minY||i.maxX<r.minX||r.maxX<i.minX)}function eG(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var RE=function(){function i(r){this.position="top",this.destroyed=!1,(0,u.assign)(this,r),this.init()}return i.prototype.getBBox=function(){var r=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return tn.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,u.isArray)(e)&&(0,u.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](r.plot.options.legend.position))}),new tn(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var r=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,u.mix)({x:e,y:n,text:r},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var r=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:(0,Gt.__assign)({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var l="",f=s.split(""),h=[],c=0;c<f.length;c++){var v=f[c];n.attr("text",l+=v);var m=n.getBBox().width-1;if(m>r){if(c===0)break;h.push(c),l=""}}return bd(f,h)});return n.remove(),o.join(`
`)},i}(),Tl=RE,NE=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return r.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},r.prototype.getGroup=function(){return this.group},r.prototype.getConfig=function(){return this.config},r.prototype.getBBox=function(){return this.getGroup().getBBox()},r.prototype.clear=function(){this.group.clear()},r.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},r.prototype.update=function(t){this.config=(0,Gt.__assign)((0,Gt.__assign)({},this.config),t),this.initConfig(this.config)},r.prototype.destroy=function(){(0,u.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},r.prototype.initGroup=function(){this.group=this.container.addGroup()},r.prototype.getCanvas=function(){return this.container.get("canvas")},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.initConfig=function(t){},r}(we.default),Ps=NE,YE=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return r.prototype.getGeometry=function(){return this.geometry},r.prototype.getLabels=function(){return this.labels},r.prototype.show=function(){this.container.show()},r.prototype.hide=function(){this.container.hide()},r.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,u.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(Sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(Sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},r.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,u.each)(this.geometry.elements,function(s,l){var f=[].concat(e.drawLabelItem(t,s,l));(0,u.each)(f,function(h,c){e.adjustLabel(h,s,c),h.destroyed||(e.labels.push(h),e.labelsCfgMap[h.get("id")]=(0,u.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,go.getDefaultAnimateCfg)("label",this.coord):!1;(0,u.each)(a,function(s,l){var f=t.findById(l);if(f)if(n[l]){var h=n[l],c=(0,u.get)(o,"update");c&&(f.stopAnimate(),f.attr(h),(0,go.doAnimate)(f,c,{toAttrs:(0,Gt.__assign)({},s),coordinate:e.coord}))}else{var v=(0,u.get)(o,"appear");v&&(f.stopAnimate(),(0,go.doAnimate)(f,v,{toAttrs:(0,Gt.__assign)({},f.attr()),coordinate:e.coord}))}delete n[l]}),(0,u.each)(n,function(s,l){var f=(0,u.get)(o,"leave");if(f){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,go.doAnimate)(h,f,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},r.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",(0,Gt.__assign)({attrs:e},n))},r.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),l=this.getDefaultOffset(),f=this.getLabelOffset();return(0,u.map)(s,function(h,c){var v,m={x:h.x+f.x,y:h.y+f.y},T=(0,u.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,D=a.getLabelId(T);return a.drawLabelText(t,(0,Gt.__assign)((0,Gt.__assign)({},h),m),(v={id:D,name:"label",offset:l,element:e},v[oa]=T,v))})},r.prototype.getDefaultOffset=function(){return Number(this.options.offset)},r.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,u.isNumber)(e)?e:0,y:(0,u.isNumber)(n)?n:0}},r.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*e,(0,u.isNumber)(a)&&(l.x+=a),(0,u.isNumber)(o)&&(l.y+=o),l},r.prototype.getDefaultOptions=function(){return{}},r.prototype.layoutLabels=function(t,e){},r.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},r.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new tn(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},r}(Ps),Vf=YE,Sd={};function qi(i,r){Sd[i]=r}function GE(i){return Sd[i]}var Hf=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(t,e,n){return i.reduce(function(a,o){return o(a,e,n)},t)}},Wf=function(){return function(i){return i}},Md=function(i){return function(r){var t=Number(r);return isNaN(t)||(0,u.isNil)(i)?r:t.toFixed(i)}},Cd=function(i){return function(r){return(0,u.isNil)(i)?r:r+" "+i}};function jf(i,r,t){i[t]&&(r[t]=i[t])}var zE=function(){function i(r){this.config=!1,this.plot=r.plot,this.dim=r.dim,this.init()}return i.prototype.init=function(){this.config=!1;var r=this.plot.getPlotTheme();this.themeConfig=r&&r.axis&&r.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=(0,Gt.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,jf(this.localProps,this.config,"autoHideLabel"),jf(this.localProps,this.config,"autoRotateLabel"),jf(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var r=this.plot.options,t=r[this.dim+"Axis"]?r[this.dim+"Axis"]:{},e=(0,u.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var r=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,f=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,u.isFunction)(s)?this.config.grid=function(h,c,v){var m=s(h,c,v);return{line:{type:l,style:(0,u.deepMix)({},(0,u.get)(r.themeConfig,"grid.line.style"),m)},alternateColor:f}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:f},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var r=this.localProps.label,t=r.style,e=(0,Gt.__rest)(r,["style"]),n=(0,Gt.__assign)({},e);t&&(n.style=(0,Gt.__assign)({},this.localProps.label.style)),n.style=(0,u.deepMix)({},(0,u.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var r=(0,Gt.__assign)({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(r.style=n),r.style=(0,u.deepMix)({},(0,u.get)(this.config,"title.style"),r.textStyle),a&&(r.text=a)):this.config.showTitle=!1,this.config.title=r},i.prototype._isVisible=function(r){return!!(this.localProps[r]&&this.localProps[r].visible)},i.prototype.applyThemeConfig=function(r){this.config[r]=(0,u.deepMix)({},(0,u.get)(this.themeConfig,r+".style"),this.config[r])},i.prototype.parseFormatter=function(r){var t=Hf(Wf(),Md(r.precision),Cd(r.suffix));return r.formatter&&(t=Hf(t,r.formatter)),t},i}(),XE=zE;function Pl(i){var r=0;return each(i,function(t){r+=t*t}),Math.sqrt(r)}function Uf(i,r){return i.x*r.y+i.y*r.x}function rG(i,r){var t=Pl(i),e=Pl(r),n=Uf(i,r),a=Math.acos(n/t/e);return a}function nG(i,r){var t=Pl(i),e=Pl(r),n=Uf(i,r),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function iG(i,r){var t=i.x,e=i.y,n=i.z,a=r.x,o=r.y,s=r.z,l=e*s-n*o,f=n*a-t*s,h=t*o-e*a;return{x:l,y:f,z:h}}function aG(i,r){return{x:i.x-r.x,y:i.y-r.y}}function _l(i,r,t){t===void 0&&(t=1);var e=[i.x,i.y,t];return iv.transformMat3(e,e,r),{x:e[0],y:e[1]}}function Ed(i,r,t){return i>=r&&i<=t}var VE=.001;function oG(i,r,t,e){var n={x:t.x-i.x,y:t.y-i.y},a={x:r.x-i.x,y:r.y-i.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,f=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>VE*f*h){var v=(n.x*o.y-n.y*o.x)/s,m=(n.x*a.y-n.y*a.x)/s;Ed(v,0,1)&&Ed(m,0,1)&&(c={x:i.x+v*a.x,y:i.y+v*a.y})}return c}function HE(i,r){for(var t=!1,e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,f=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;f&&(t=!t)}return t}function Ol(i){return i*i}function Ll(i,r){return Math.sqrt(Ol(i.x-r.x)+Ol(i.y-r.y))}function Ad(i,r){return Math.sqrt(Ol(i.x-r.x)+Ol(i.y-r.y))}function Td(i,r,t){var e=Ll(r,t);if(e===0)return Ll(i,r);var n=((i.x-r.x)*(t.x-r.x)+(i.y-r.y)*(t.y-r.y))/e;n=Math.max(0,Math.min(1,n));var a=Ll(i,{x:r.x+n*(t.x-r.x),y:r.y+n*(t.y-r.y)});return Math.sqrt(a)}function Pd(i,r){var t=Infinity;(0,u.each)(r,function(h){var c=Math.sqrt(Ll(h,i));t>c&&(t=c)});for(var e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,f=Td(i,{x:a,y:o},{x:s,y:l});t>f&&(t=f)}return t}function WE(i,r){for(var t=0,e=i;t<e.length;t++){var n=e[t],a=HE(n,r);if(a)return!0}return!1}function _d(i,r){if(WE(i,r))return 0;var t=Infinity,e=Infinity;return(0,u.each)(i,function(n){var a=Pd(n,r);t>a&&(t=a)}),(0,u.each)(r,function(n){var a=Pd(n,i);e>a&&(e=a)}),Math.min(t,e)}function jE(i){var r=i.getBBox(),t=r.minX,e=r.minY,n=r.maxX-r.minX,a=r.maxY-r.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=_l({x:0,y:0},s);l.x+=t,l.y+=e;var f=_l({x:n,y:0},s);f.x+=t,f.y+=e;var h=_l({x:0,y:a},s);h.x+=t,h.y+=e;var c=_l({x:n,y:a},s);c.x+=t,c.y+=e;var v=[l,f,h,c];v.sort(function(Zt,Yt){return Zt.y-Yt.y});var m=v[0].y,T=v[v.length-1].y,D=[v[0],v[1]],Y=[v[2],v[3]],W=D[0].x<D[1].x?D[0]:D[1],H=D[0].x<D[1].x?D[1]:D[0],st=Y[0].x<Y[1].x?Y[0]:Y[1],lt=Y[0].x<Y[1].x?Y[1]:Y[0];v.sort(function(Zt,Yt){return Zt.x-Yt.x});var Mt=v[0].x,Ft=v[v.length-1].x,zt={width:Ft-Mt,height:T-m,left:Mt,right:Ft,top:m,bottom:T,topLeft:W,topRight:H,bottomLeft:st,bottomRight:lt,centerX:Mt+(Ft-Mt)/2,centerY:m+(T-m)/2};return zt}var UE=2;function Zf(i){return i.length<5?i:Kf(i,UE)}function Kf(i,r){for(var t,e=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},f=Td(s,l.start,l.end);f>e&&(e=f,n=o)}if(e>r){var h=Kf(i.slice(0,n+1),r),c=Kf(i.slice(n,i.length),r);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function Od(i){var r=(0,u.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2?r[t]:(r[t-1]+r[t])/2}function ZE(i){var r=0;return(0,u.each)(i,function(t){r+=t}),r/i.length}function Ld(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function KE(i,r,t,e,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,r]);for(var s=r;s<=r+e;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,r+e]);for(var s=r+e;s>=r;s-=n)a.push([i,s]);return a}var $E=function(){function i(r){(0,u.assign)(this,r),this._init()}return i.prototype._init=function(){var r=this.plot.options,t=r.yField,e=r.data,n=this.plot.processData(e);if(!((0,u.isEmpty)(n)||!(0,u.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,u.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,u.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),f=(1-l.scale(s))*100+"%",h=["0%",f],c=["100%",f];this.config=(0,u.mix)({start:h,end:c},o)}else{var v=this.cfg,m=v.start,T=v.end;this.config=(0,u.clone)(o);var D=this.getXScale(),Y=this.getYScale(),W=(0,u.clone)(m),H=(0,u.clone)(T);(0,u.each)(m,function(st,lt){(!(0,u.contains)((0,u.toArray)(m[lt]),"%")||(0,u.isNumber)(m[lt]))&&(lt===0?W[lt]=D.scale(m[0])*100+"%":W[lt]=(1-Y.scale(m[1]))*100+"%")}),(0,u.each)(T,function(st,lt){(!(0,u.contains)((0,u.toArray)(T[lt]),"%")||(0,u.isNumber)(T[lt]))&&(lt===0?H[lt]=D.scale(T[0])*100+"%":H[lt]=(1-Y.scale(T[1]))*100+"%")}),this.config.start=W,this.config.end=H}}},i.prototype.getYScale=function(){var r=this._getState("min"),t=this._getState("max"),e=(0,Wr.getScale)("linear"),n=new e((0,u.mix)({},{min:this.plot.type==="column"?0:r,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var r=this.extractXValue();if((0,u.isString)(r[0])){var t=(0,Wr.getScale)("cat"),e=new t((0,u.mix)({},{values:r},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),t=(0,Wr.getScale)("linear"),e=new t((0,u.mix)({},{min:n,max:a,nice:!0,values:r},this.plot.config.scales[this.plot.options.xField]));return e}},i.prototype._getState=function(r){if(this.values=this._extractValues(),r==="median")return Od(this.values);if(r==="mean")return ZE(this.values);if(r==="max")return Math.max.apply(Math,this.values);if(r==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var r=this.plot.options,t=r.yField,e=[],n=this.plot.processData(r.data);return(0,u.each)(n,function(a){(0,u.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.extractXValue=function(){var r=this.plot.options,t=r.xField,e=[],n=this.plot.processData(r.data);return(0,u.each)(n,function(a){(0,u.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var r=this.cfg.text;if(r){if(!r.position||r.position==="start")return"left";if(r.position==="center")return"center";if(r.position==="end")return"right"}},i}(),QE=$E,JE=function(){function i(r){this.config={};var t=r.plot,e=(0,Gt.__rest)(r,["plot"]);this.plot=t,this.originConfig=e,this.init(r)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(r){var t=this;(0,u.assign)(this.config,r),this.config.callback=function(e){return t.parseCallBack(e)}},i.prototype.parseCallBack=function(r){var t=this.originConfig,e=this.plot.getPlotTheme(),n=(0,Gt.__assign)({},t);return this.parseOffset(t,n),t.position&&((0,u.isFunction)(t.position)?n.position=t.position(r):n.position=t.position),this.parseFormatter(n),t.style&&((0,u.isFunction)(t.style)?n.textStyle=t.style(r):n.textStyle=t.style),n.textStyle=(0,u.deepMix)({},(0,u.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(r,t){var e=["offset","offsetX","offsetY"],n=0;(0,u.each)(e,function(a){(0,u.has)(r,a)&&(t[a]=r[a],n++)}),n===0&&(0,u.get)(r,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(r){var t=this.originConfig;r.content=function(e,n){var a=e[t.fields[0]];return Hf(Wf(),Md(t.precision),Cd(t.suffix),t.formatter?t.formatter:Wf())(a,e,n)}},i}(),qE=JE,Bo,$f;function Id(i,r){Bo||kd(i),(0,u.each)(Bo,function(t){var e=Bd(t,r),n=e.labelData,a=e.con;if(Dd(n,a)){var o=nA();t.shape.attr(o)}})}function tA(i,r){Bo||kd(i),(0,u.each)(Bo,function(t,e){var n=Bd(t,r),a=n.labelData,o=n.con;if(Dd(a,o)){var s=$f[e],l=rA(s);t.shape.attr(l)}})}function kd(i){var r;Bo=[],$f=[];var t=(r=i.view.getController("axis"))===null||r===void 0?void 0:r.getComponents();(0,u.each)(t,function(e){var n=e.component,a=[],o=eA(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,u.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),$f.push(h.attr()))}),o){var l=o.ticks,f=o.field;(0,u.each)(a,function(h,c){h.value=l[c],h.scaleField=f,h.type=o.type})}Bo.push.apply(Bo,a)})}function eA(i,r){var t=i.options,e="y",n=r.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return i.view.get("scales")[a]}function Bd(i,r){var t,e=(t={},t[i.scaleField]=i.value,t),n=(0,u.clone)(r);return i.type==="time"&&(0,u.isObject)(r)&&!(0,u.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function rA(i){var r=i.opacity||1;return{opacity:r*.2}}function nA(){return{opacity:1,fontWeight:600,fill:"red"}}function Dd(i,r){if(!(0,u.isFunction)(r)){var t=r.name,e=r.exp;return i[t]?(0,u.isFunction)(e)?e(i[t]):i[t]===e:!1}return r(i)}var iA={active:Id,selected:Id,disable:tA},aA=function(i){(0,Gt.__extends)(r,i);function r(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return r.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},r.prototype.getState=function(t){return this._states[t]},r.prototype.getAllStates=function(){return this._states},r.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},r.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,u.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},r.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},r}(we.default),oA=aA;function eo(i,r){if(!(0,u.isFunction)(r)){var t=r.name,e=r.exp;return(0,u.isFunction)(e)?e(i[t]):i[t]===e}return r(i)}var sA=function(){function i(r){this.shapeContainers=[],(0,u.assign)(this,r)}return i.prototype.createStateManager=function(){this.stateManager=new oA},i.prototype.bindStateManager=function(r,t){this.stateManager=r,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(r){var t=this;(0,u.each)(r,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(r){var t=this,e=r.type,n=r.condition,a=r.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,u.each)(this.shapes,function(o,s){var l=o.get("origin").data,f=(0,u.isArray)(l)?l[0]:l;if(eo(f,n)){var h=r.style?r.style:t._getDefaultStateStyle(e,o),c=t.originAttrs[s],v=void 0;(0,u.isFunction)(h)?v=h(c):v=(0,u.mix)({},c,h),o.attr(v),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(r){var t=this;(0,u.each)(r,function(e){var n=e.state,a;(0,u.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?si(t.plot,t._eventParser(e.event),a):a()})},i.prototype._stateChangeProcess=function(r){var t=this;(0,u.each)(r,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},i.prototype._getShapes=function(){var r=this,t=[],e=this.plot.view.geometries;return(0,u.each)(e,function(n){var a=n.container;r.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var r=[];return(0,u.each)(this.shapes,function(t){r.push((0,u.clone)(t.attr()))}),r},i.prototype._eventParser=function(r){var t=r.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},i.prototype._getDefaultStateStyle=function(r,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][r];return(0,u.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(r,t,e){var n=this;(0,u.each)(t,function(a){if(n.plot[a]){var o=xA(a,r);o(n.plot,e)}})},i.prototype.setZIndex=function(r,t){if(r==="active"||r==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,u.each)(this.shapeContainers,function(r){var t=r.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},i}(),lA=sA,$o,Il;function Fd(i,r){$o||Rd(i),(0,u.each)($o,function(t,e){var n=t.get("origin");if(eo(n,r)){var a=Il[e],o=(0,u.mix)({},a,{opacity:1});t.attr(o)}})}function uA(i,r){$o||Rd(i),(0,u.each)($o,function(t,e){var n=t.get("origin");if(eo(n,r)){var a=Il[e],o=fA(a);t.attr(o)}})}function Rd(i){$o=[],Il=[];var r=i.view.get("elements");(0,u.each)(r,function(t){var e=t.get("labels");e&&(0,u.each)(e,function(n){$o.push(n),Il.push(n.attr())})})}function fA(i){var r=i.opacity||1;return{opacity:r*.2}}var hA={active:Fd,selected:Fd,disable:uA},cA=["xField","yField","angleField"];function Nd(i,r){var t=i.options;if(dA(t,r)){var e=t.data;(0,u.each)(e,function(n){if(eo(n,r)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){Yd(r,o,!1)}),i.view.showTooltip(a)}})}}function vA(i,r){i.view.on("tooltip:change",function(t){Yd(r,t,!0)})}function Yd(i,r,t){var e=!t,n=(0,u.clone)(r.items);r.items.splice(0),(0,u.each)(n,function(a){var o=a.point._origin;eo(o,i)===e&&r.items.push(a)})}function dA(i,r){var t=pA(i);return!(0,u.isFunction)(r)&&t.indexOf(r.name)}function pA(i){var r=[];return(0,u.each)(cA,function(t){(0,u.has)(i,t)&&r.push(t)}),r}var gA={active:Nd,selected:Nd,disable:vA},yA={axis:XE,label:qE,guideLine:QE},mA={tooltip:gA,label:hA,axis:iA};function Fi(i,r){var t=yA[i];return new t(r).config}function xA(i,r){return mA[i][r]}var bA=["start","process","end","reset"],wA=function(){function i(r){var t=this.getDefaultCfg();(0,u.assign)(this,t,r),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(r){this.preStart(r),this.start(r),this.afterStart(r)},i.prototype.preStart=function(r){},i.prototype.afterStart=function(r){},i.prototype._process=function(r){this.preProcess(r),this.process(r),this.afterProcess(r)},i.prototype.preProcess=function(r){},i.prototype.process=function(r){},i.prototype.afterProcess=function(r){},i.prototype._end=function(r){this.preEnd(r),this.end(r),this.afterEnd(r)},i.prototype.preEnd=function(r){},i.prototype.end=function(r){},i.prototype.afterEnd=function(r){},i.prototype._reset=function(r){this.preReset(r),this.reset(r),this.afterReset(r)},i.prototype.preReset=function(r){},i.prototype.reset=function(r){},i.prototype.afterReset=function(r){},i.prototype._bindEvents=function(){var r=this;(0,u.each)(bA,function(t){var e=r[t+"Event"],n=(0,u.wrapBehavior)(r,"_"+t);r.view.on(e,n),r._eventHandlers.push({type:e,handler:n})})},i.prototype._unbindEvents=function(){var r=this,t=this._eventHandlers;(0,u.each)(t,function(e){r.view.off(e.type,e.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),Qf=wA,SA=function(i){(0,Gt.__extends)(r,i);function r(t,e,n,a){var o=i.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return r.registerInteraction=function(t,e){r.GLOBAL_INTERACTION_MAP[t]=e},r.registerPlotInteraction=function(t,e,n){r.PLOT_INTERACTION_MAP[t]||(r.PLOT_INTERACTION_MAP[t]={}),r.PLOT_INTERACTION_MAP[t][e]=n},r.getInteraction=function(t,e){return e&&r.PLOT_INTERACTION_MAP[e]&&r[e][t]?r.PLOT_INTERACTION_MAP[e][t]:r.GLOBAL_INTERACTION_MAP[t]},r.getInteractionRange=function(t,e){},r.prototype.destroy=function(){(0,u.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},r.prototype.getViewLayer=function(){return this.viewLayer},r.prototype.getRange=function(){return this.interactionRange},r.prototype.getInteractionConfig=function(){return this.interactionConfig},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.render=function(){},r.prototype.start=function(t){},r.GLOBAL_INTERACTION_MAP={},r.PLOT_INTERACTION_MAP={},r}(Qf),Aa=SA,Gd=function(i,r,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,u.groupBy)(t,i),l=n?r.slice(r.length-o,r.length-a):r.slice(a,o);return(0,u.flatten)((0,u.map)(l,function(f){return s[f]||[]}))},Ra;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(Ra||(Ra={}));var kl=4,zd=8,MA=32,CA=20,EA=999,Bl=function(i){i===void 0&&(i={});var r=(0,Gt.__assign)({type:"horizontal",categorySize:MA,width:zd,height:zd,padding:[0,0,0,0]},i);return i.padding||(r.padding=r.type==="horizontal"?[kl,0,kl,0]:[0,kl,0,kl]),r},AA=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Bl(e),a=n.padding,o=a[0],s=a[1],l=a[2],f=a[3];return n.type==="horizontal"?new tn(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new tn(t.maxX-n.width-f-s,t.minY,n.width+f+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,u.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(Sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(Sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(Sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(Sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(Ra.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(Ra.BEFORE_CHANGE_DATA,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},r.prototype.renderScrollbar=function(){var t=Bl(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],f=n?{x:a.minX+l,y:e.minY+s}:{x:e.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:f.x,y:f.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new sn.Scrollbar({container:this.container,x:f.x,y:f.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",EA),this.scrollbar.on("scrollchange",this.onChangeFn))},r.prototype.measureScrollBar=function(){var t=Bl(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],l=t.type!=="vertical",f=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(v){return v});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?f.width:f.height)/t.categorySize),this.trackLen=l?f.width-s-a:f.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,u.clamp)(this.step/h.values.length,0,1),CA)},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,u.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},r.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=Bl(this.getInteractionConfig()),l=this.getViewLayer(),f=l.options.meta,h=l.getData(),c=Gd(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(v){var m=(0,u.get)(f,v.field)||{};n.view.scale(v.field,(0,Gt.__assign)((0,Gt.__assign)({formatter:v.formatter},m),{type:v.type,min:v.min,max:v.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},r.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},r}(Aa),TA=AA,Dl=4,Xd=16,Jf=function(i){i===void 0&&(i={});var r=(0,Gt.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(r.padding=r.type==="horizontal"?[Dl,0,Dl,0]:[0,Dl,0,Dl]),i.height||(r.height=Xd),i.width||(r.width=Xd);var t=(0,u.clamp)(Math.min(r.start,r.end),0,1),e=(0,u.clamp)(Math.max(r.start,r.end),0,1);return r.start=t,r.end=e,r},PA=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Jf(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],f=a[3];if(n.type==="horizontal"){var h=new tn(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new tn(t.maxX-n.width-f-s,t.minY,n.width+f+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=Jf(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,u.isEqual)(s,[0,0,0,1]))&&!(0,u.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(Sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(Sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(Sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(Sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},r.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new sn.Slider((0,Gt.__assign)((0,Gt.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},r.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=Jf(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,f=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,v=o.textStyle,m=o.trendCfg,T=m===void 0?{}:m,D=l[0],Y=l[1],W=l[2],H=l[3],st=this.getSliderMinMaxText(this.curStart,this.curEnd),lt=st.minText,Mt=st.maxText,Ft={x:e.minX+H,y:n.minY+D,width:e.width-H-Y,height:n.height-D-W,start:this.curStart,end:this.curEnd,minText:lt,maxText:Mt,backgroundStyle:f,foregroundStyle:h,handlerStyle:c,textStyle:v,trendCfg:(0,Gt.__assign)((0,Gt.__assign)({isArea:!1,smooth:!1},T),{data:this.getSliderTrendData()})};return Ft},r.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,u.map)(e,function(a){return a[n]})},r.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,u.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return Gd(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},r.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,u.size)(o),f=Math.round(t*l),h=Math.max(f+1,Math.round(e*l)),c=o.slice(f,h);return{minText:c.length>0?(0,u.head)(c)[s]:"",maxText:c.length>0?(0,u.last)(c)[s]:""}},r.prototype.onChange=function(t){var e=this.view,n=(0,u.clamp)(Math.min(t[0],t[1]),0,1),a=(0,u.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,f=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:f}),this.slider.render();var h=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(h)},r}(Aa),_A=PA,OA=function(i){(0,Gt.__extends)(r,i);function r(t){return i.call(this,(0,u.deepMix)({},t))||this}return r.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},r.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},r.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},r.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},r.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},r}(Ps),LA=OA,Vd="timelinestart",IA="timelinechange",Hd="timelineend",kA="timelineupdate",BA=20,DA=20,FA=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this,(0,u.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,u.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(Hd,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(Vd,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,u.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return r.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},r.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(kA,this.currentTick)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},r.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new LA({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},r.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},r.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,f=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+BA,this.timeLine.y=f+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-DA,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(v){v.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(v,m){e.tickPosList.push(e.timeLine.x+m*h);var T=t.addShape("text",{attrs:{x:e.timeLine.x+m*h,y:e.timeLine.y+e.timeLine.height+5,text:v,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),D=T.getBBox();return D.minX>c?(T.show(),c=D.minX+D.width+10):T.hide(),T})},r.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,u.findIndex)(a,function(v){return v===e}),f=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",f),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:f,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",f),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:f,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},r.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(IA,this.currentTick)),this.getCanvas().draw()},r.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,u.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},r.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(Vd,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(Hd,null))),this.getCanvas().draw()},r.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},r}(Ps),RA=FA,NA=40;function Wd(i){return(0,Gt.__assign)({loop:!1,auto:!0,height:NA,padding:[0,20,0,0],speed:2},i)}var YA=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Wd(e),a=n.padding[0],o=n.padding[2];return new tn(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},r.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},r.prototype.start=function(){},r.prototype.renderTimeLine=function(){var t=this;this.config=Wd(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],f=o[1],h=o[2],c=o[3],v=this.getRange(),m=this.getTicks(),T=e.width-c-f,D={x:e.minX+c,y:v.tl.y+l,width:T,height:v.height-l-h,loop:a,ticks:m,speed:s,defaultCurrentTick:m[0]};this.timeline?(0,u.isEqual)(D,this.timeLineConfig)||(this.timeLineConfig=D,this.timeline.update(D)):(this.container=this.canvas.addGroup(),this.timeline=new RA((0,Gt.__assign)({container:this.container},D)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(m[0])),this.timeLineConfig=D)},r.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},r.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},r.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,u.uniq)(e.map(function(n){return n[t]}))},r.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(Sn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(Sn.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(Sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(Sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},r.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},r}(Aa),GA=YA;function zA(i,r){var t=[1,0,0,0,1,0,0,0,1],e=Pn.transform(t,r);i.setMatrix(e)}function Qo(i,r){var t=r?(0,u.clone)(r):[1,0,0,0,1,0,0,0,1];return Pn.transform(t,i)}function jd(i,r,t,e){var n=e?(0,u.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=r,n[7]=t,i.setMatrix(n)}function XA(i,r,t){ud.translate(i,r,t)}function sG(i,r){Util.rotate(i,r)}var VA=document.createElement("canvas"),Ud=VA.getContext("2d"),Fl=(0,u.memoize)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return Ud.font=[a,o,n,t+"px",e].join(" "),Ud.measureText((0,u.isString)(i)?i:"").width},function(i,r){return r?(0,Gt.__spreadArrays)([i],(0,u.values)(r)).join(""):i}),Zd=function(i,r,t){var e=16,n=Fl("...",t),a;(0,u.isString)(i)?a=i:a=(0,u.toString)(i);var o=r,s=[],l,f;if(Fl(i,t)<=r)return i;for(;l=a.substr(0,e),f=Fl(l,t),!(f+n>o&&f>o);)if(s.push(l),o-=f,a=a.substr(e),!a)return s.join("");for(;l=a.substr(0,1),f=Fl(l,t),!(f+n>o);)if(s.push(l),o-=f,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},$n;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})($n||($n={}));var Rl;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(Rl||(Rl={}));var yo;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(yo||(yo={}));var HA=160,WA=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=UA(e.target,function(o){return o.get("name")===$n.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),f=(0,u.clamp)(t.offsetX+o,s,l);f!==t.offsetX&&(XA(t.bodyGroup,t.offsetX-f,0),t.offsetX=f)},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.selectItem=function(t){this.doSelectItem(t)},r.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},r.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:yo.NORMAL,style:{}},line:{spacingX:yo.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:yo.SMALL,style:{}},itemName:{spacingX:yo.NORMAL,spacingY:yo.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:yo.LARGE};this.config=(0,u.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},r.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],f=t.addGroup({name:$n.TOOLTIP_INDICATOR_INNER});this.renderTitle(f),this.bodyGroup=f.addGroup({name:$n.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(e.renderItem(e.bodyGroup,h,c))}),this.layoutItems(f),jd(f,o,s),this.applyClip(t),this.bindEvents(f)},r.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:$n.TOOLTIP_INDICATOR_TITLE,attrs:(0,Gt.__assign)({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},r.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:$n.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,l=this.curY,f=o.addShape({name:$n.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:(0,Gt.__assign)({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,f.attr({width:this.curX-s-f.attr("lineWidth")*2,height:this.curY-l-f.attr("lineWidth")*2}),this.curY=l,o},r.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=(0,Gt.__assign)({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:$n.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},r.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=Zd(e.title,HA,n.style||{}),o=t.addShape({name:$n.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:(0,Gt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},r.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:$n.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(l,f){var h=o.addGroup({name:$n.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:f}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},r.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:$n.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:(0,Gt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},r.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:$n.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:(0,Gt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},r.prototype.layoutItems=function(t){var e=t.findAllByName($n.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName($n.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},r.prototype.layoutItemValues=function(t){var e=t.findAllByName($n.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(l){return tn.fromBBoxObject(l.getBBox())}),a=t.findAllByName($n.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return tn.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));e.forEach(function(l,f){var h=n[f],c=l.findAllByName($n.TOOLTIP_INDICATOR_ITEM_NAME)[0],v=l.findAllByName($n.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&v){var m=tn.fromBBoxObject(c.getBBox()),T=tn.fromBBoxObject(v.getBBox());m.height<h.height&&c.attr("y",c.attr("y")+(h.height-m.height)/2),T.height<h.height&&v.attr("y",v.attr("y")+(h.height-T.height)/2),T.maxX<s&&v.attr("x",v.attr("x")+s-T.maxX)}})},r.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},r.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName($n.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(Rl.ON_SELECT_ITEM,this.selectedItemId)},r.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,f=t.findAllByName($n.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName($n.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName($n.TOOLTIP_INDICATOR_ITEM_NAME),v=t.findAllByName($n.TOOLTIP_INDICATOR_ITEM_VALUE),m=e&&e+"Style";f&&(f.attr(a.style),f.attr(a[m]||{})),h&&(h.attr(o.style),h.attr(o[m]||{})),c.forEach(function(T){T.attr(s.style),T.attr(s[m]||{})}),v.forEach(function(T){T.attr(l.style),T.attr(l[m]||{})})},r.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName($n.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new cd(n),this.wheel=new xE(n),this.wheel.on("wheel",this.onWheel)},r.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},r.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},r}(Ps),jA=WA;function UA(i,r){for(var t=i;t;){if(r(t))return t;t=t.getParent()}}function ZA(i,r){return(0,u.filter)(i.geometries,function(t){return t.type===r})}function mo(i,r){return(0,u.head)(ZA(i,r))}function KA(i){return(0,u.map)(i.elements,function(r){return r.shape})}function lG(i,r){i.geometries.forEach(r)}function qf(i,r){i.geometries.forEach(function(t){t.elements.forEach(function(e){r(e)})})}function $A(i,r,t){return(0,u.some)(r,function(e){return t(e.get(oa),i.get(oa))})}function Nl(i,r){var t=i.getBBox(),e=0,n=0;t.minX<r.minX?e=t.minX-r.minX:t.maxX>r.maxX&&(e=t.maxX-r.maxX),e&&i.attr("x",i.attr("x")-e),t.minY<r.minY?n=t.minY-r.minY:t.maxY>r.maxY&&(n=t.maxY-r.maxY),n&&i.attr("y",i.attr("y")-n)}function th(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function Yl(i,r){var t=i.getBBox();return(0,u.some)(r,function(e){var n=e.getBBox();return th(t,n,2)>0})}var Kd=8,$d=function(i){i===void 0&&(i={});var r=(0,Gt.__assign)({showTotal:!1,showPercent:!1,padding:[Kd,24,Kd,24],height:i.showPercent?72:54},i);return r},Jo;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(Jo||(Jo={}));var QA=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return r.prototype.active=function(){var t=wE.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},r.prototype.setState=function(t){var e=this;qf(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(Jo.ACTIVE_ELEMENT,{element:t,isSingle:!0})},r.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];qf(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(Jo.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},r.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;qf(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(e===void 0||l[o]===e))})},r.prototype.getView=function(){return this.context.view},r.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},r}(ln);Br("tooltip-indicator",QA),gn("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var JA=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,f=n.getData(),h=f[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(f[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return r.getInteractionRange=function(t,e){var n=$d(e),a=n.padding,o=a[0],s=a[2];return new tn(t.minX,t.minY,t.width,n.height+o+s)},r.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},r.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,u.last)(a.getTicks()).tickValue,s=t.view.padding;(0,u.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(Rl.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(Sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(Sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(Jo.ACTIVE_ELEMENT,this.onElementActive),e.on(Jo.ACTIVE_ELEMENT_BY_X,this.onElementActive)},r.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},r.prototype.createComponent=function(){var t=$d(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),f=this.view.getXScale(),h=(0,u.last)(f.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new jA({container:this.container,x:l.x+o,y:l.y+e,width:l.width-o-n,height:l.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},r.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},r.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],l=t||(0,u.last)(o.getTicks()).tickValue,f=e.getLegendAttributes(),h=f.find(function(D){return D.type==="color"}),c=[],v=e.getGroupScales()[0],m=v.field;v&&v.isCategory&&v.getTicks().forEach(function(D){var Y=D.text,W=D.tickValue,H=h.mapping(W).join("")||a;c.push({id:W,title:Y,color:H,values:[]})});var T=(n==null?void 0:n.filter(function(D){return D[o.field]===l}))||[];return c.forEach(function(D){var Y=T.find(function(W){return W[m]===D.id});D.values.push({value:s.formatter?s.formatter(Y[s.field]):Y[s.field]})}),c},r}(Aa),qA=JA;Aa.registerInteraction("slider",_A),Aa.registerInteraction("scrollbar",TA),Aa.registerInteraction("timeline",GA),Aa.registerInteraction("tooltip-indicator",qA);var Qd=Aa,tT=function(){function i(r){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=r.plot}return i.prototype.registerPadding=function(r,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==r})||this.innerPaddingComponents.push(r):this.innerPaddingComponents.push(r):e?this.outerPaddingComponents.find(function(n){return n==r})||this.outerPaddingComponents.push(r):this.outerPaddingComponents.push(r)},i.prototype.getPaddingComponents=function(r){return r===void 0&&(r="outer"),(r==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,u.filter)(this.outerPaddingComponents,function(r){return r.afterRender})},i.prototype.clearOuterComponents=function(){(0,u.each)(this.outerPaddingComponents,function(r){r.afterRender&&r.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var r=this.plot.options,t=r.padding?r.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var r=this._getInnerAutoPadding();this.plot.updateConfig({padding:r}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new tn(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var r=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,u.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,f=s.maxX,h=s.minY,c=s.maxY;c>=e&&c<=n&&o==="top"&&(e=c),h>=e&&h<=n&&o==="bottom"&&(n=h),f>r&&f<=t&&o==="left"&&(r=f),l>=r&&f<=t&&o==="right"&&(t=l)}}),new tn(r,e,t-r,n-e)},i.prototype._getInnerAutoPadding=function(){var r,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,f=this.plot.config.theme.bleeding;(0,u.isArray)(f)&&(0,u.each)(f,function(D,Y){typeof f[Y]=="function"&&(f[Y]=f[Y](t))}),this.bleeding=(0,u.clone)(f);var h=[new tn(n.minX,n.minY,n.width,n.height)];((r=this.plot.config.coordinate)===null||r===void 0?void 0:r.type)==="cartesian"&&this._getCartesianAxis(e,h[0],h);var c=this._mergeBBox(h);this._getLegend(e,c,h),c=this._mergeBBox(h);var v=this.innerPaddingComponents;(0,u.each)(v,function(D){var Y=D,W=Y.getBBox();h.push(W)}),c=this._mergeBBox(h);var m=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],T=this._getPanel(e);return m[0]+=T[0],m[1]+=T[1],m[2]+=T[2],m[3]+=T[3],m},i.prototype._getCartesianAxis=function(r,t,e){var n=BE(r),a=r.getCoordinate().isTransposed;(0,u.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),f=l.minX,h=l.minY,c=l.width,v=l.height;a?s==="bottom"?e.push(new tn(t.minX-c,h,c,v)):s==="left"?e.push(new tn(f,t.maxY,c,v)):s==="top"&&e.push(new tn(t.maxX,h,c,v)):s==="left"?e.push(new tn(t.minX-c,h,c,v)):s==="bottom"?e.push(new tn(f,t.maxY,c,v)):s==="right"&&e.push(new tn(t.maxX,h,c,v))}})},i.prototype._getLegend=function(r,t,e){var n=DE(r);(0,u.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,f=s.minY,h=s.width,c=s.height;o==="top"?e.push(new tn(l,t.minY-c,h,c)):o==="bottom"?e.push(new tn(l,t.maxY,h,c)):o==="left"?e.push(new tn(t.minX-h,f,h,c)):e.push(new tn(t.maxX,f,h,c))})},i.prototype._getPanel=function(r){var t=[],e=r.geometries;(0,u.each)(e,function(T){T.labelsContainer&&t.push(T.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,u.each)(t,function(T){var D=T.get("children");D.forEach(function(Y){if(!(Y.type==="group"&&Y.get("children").length===0)){var W=Y.getBBox();W.minX<n&&(n=W.minX),W.maxX>a&&(a=W.maxX),W.minY<o&&(o=W.minY),W.maxY>s&&(s=W.maxY)}})});var l=r.coordinateBBox,f=Math.max(a-parseFloat(l.maxX),0);if(f>0){var h=l.width/(l.width+f);f*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var v=Math.max(parseFloat(l.minY)-o,0);if(v>0){var h=l.height/(l.height+v);v*=h}var m=Math.max(s-parseFloat(l.maxY),0);if(m>0){var h=l.height/(l.height+m);m*=h}return[v,f,m,c]},i.prototype._mergeBBox=function(r){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,u.each)(r,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},i}(),eT=tT,rT="#5B8FF9",nT=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],iT=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],Jd=function(i){return i&&i.split("-")[0]==="top"?12:24},qd=function(i){var r=i.title&&i.title.visible,t=i.description&&i.description.visible;return r||t?12:24},tp=function(i){return(0,u.some)(i.interactions||[],function(r){return(r.type==="slider"||r.type==="scrollbar")&&(r.cfg&&r.cfg.type)!=="vertical"})?8:24},ep={width:400,height:400,bleeding:[qd,24,tp,24],padding:"auto",defaultColor:rT,colors:nT,colors_20:iT,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Jd,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},aT={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[qd,24,tp,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Jd,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},rp={default:ep,dark:aT};function uG(i,r){var t=zi();rp[i.toLowerCase()]=deepMix({},t,r)}function zi(i){i===void 0&&(i="default");var r=rp[i.toLowerCase()];return r||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),ep)}var np={};function ip(i,r){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,u.each)(r,function(a,o){var s;if((0,u.has)(t,o)){var l=t[o];(0,u.each)(a,function(f,h){(0,u.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",f)})}else e=(0,u.deepMix)({},e,(s={},s[o]=a,s))}),(0,u.isEmpty)(n)||(e=(0,u.deepMix)({},e,{geometries:n})),e}function ta(i,r){np[i.toLowerCase()]=ip(i,r)}function ap(i){return np[i.toLowerCase()]||{}}function oT(i){var r=(0,u.clone)(i);return r.legend||(r.legend={}),r}var eh={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},op={default:eh};function sp(i,r){op[i.toLowerCase()]=(0,u.deepMix)({},eh,r)}function lp(i){var r=op[i.toLowerCase()];return r||eh}var sT=Ct(),lT=function(){function i(){}return i.getGlobalTheme=function(r){return(0,u.isString)(r)?zi(r):(0,u.deepMix)({},zi(),r)},i.prototype.getPlotTheme=function(r,t){var e=r.theme;return(0,u.isString)(e)?(0,u.deepMix)({},zi(e),ap(t)):(0,u.deepMix)({},zi(),ap(t),ip(t,e))},i.prototype.getTheme=function(r,t){var e=oT(this.getPlotTheme(r,t)),n=(0,u.deepMix)({},sT,e);return n},i.prototype.getResponsiveTheme=function(r){return lp(r)||lp("default")},i}(),rh=lT,uT=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,u.deepMix)({},e.options),e.paddingController=new eT({plot:e}),e.stateController=new lA({plot:e}),e.themeController=new rh,e}return r.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,u.reduce)((0,u.flatten)((0,u.map)([n,a,(0,u.hasKey)(t,"interactions")?t:e],function(s){return(0,u.get)(s,"interactions",[])})),function(s,l){var f=(0,u.findIndex)(s,function(h){return h.type===l.type});return f>=0&&s.splice(f,1),(0,Gt.__spreadArrays)(s,[l])},[]);return(0,u.deepMix)({},n,a,e,t,{interactions:o})},r.prototype.beforeInit=function(){this.emit(Ra.BEFORE_INIT),i.prototype.beforeInit.call(this)},r.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new qu({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(Sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Ra.AFTER_INIT))},r.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},r.prototype.render=function(){this.emit(Ra.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,u.isEmpty)(t)||this.view.render(),this.emit(Ra.AFTER_RENDER)},r.prototype.repaint=function(){this.canvas&&this.canvas.draw()},r.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},r.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options;if((0,u.contains)(t,"colorField"))return this.view.getScaleByField(t)},r.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,u.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},r.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},r.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){this.emit(Ra.BEFORE_CHANGE_DATA);var e=(0,u.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Ra.AFTER_CHANGE_DATA)},r.prototype.getPlot=function(){return this.view},r.prototype.getLabels=function(){return this.labels},r.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},r.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},r.prototype.getInteractions=function(){return this.interactions},r.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},r.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},r.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},r.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},r.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},r.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},r.prototype.processData=function(t){return t},r.prototype.scale=function(){var t=(0,u.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,u.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},r.prototype.axis=function(){var t=Fi("axis",{plot:this,dim:"x"}),e=Fi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,u.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,u.deepMix)({},n)),(0,u.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},r.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},r.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,u.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},r.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},r.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,u.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,u.get)(e,"position")),offsetX:(0,u.get)(e,"offsetX"),offsetY:(0,u.get)(e,"offsetY"),flipPage:(0,u.get)(e,"flipPage"),marker:(0,u.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,u.get)(e,"title"):null,itemName:(0,u.get)(e,"text")};this.setConfig("legends",n)},r.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,u.each)(this.options.guideLine,function(n){var a=Fi("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},r.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,u.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,u.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},r.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},r.prototype.applyInteractions=function(){var t=this,e=tn.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new tn(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,Sn.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var f=Qd.getInteraction(l.type,t.type);if(f){var h=new f({view:t.view},t,f.getInteractionRange(e,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},r.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,u.assign)(this.config[t],e)},r.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:dn;(0,u.each)(n.events,function(o,s){if((0,u.isFunction)(o)){var l=a[s]||s,f=o;si(e,l,f)}})}},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Ko(t.title)){var n=this.width,a=this.config.theme,o=new Tl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,u.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Ko(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Ko(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new Tl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,u.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},r.prototype.doRenderLabel=function(t,e){(0,u.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=GE(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},r.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},r.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},r.prototype.doDestroyLabels=function(){(0,u.each)(this.labels,function(t){t.destroy()}),this.labels=[]},r.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=Qd.getInteraction(s.type,t.type),f=l&&l.getInteractionRange(a,s.cfg),h="";f&&(f.maxY===a.maxY&&f.minY>a.minY?h="bottom":f.maxX===a.maxX&&f.minX>a.minX?h="right":f.minX===a.minX&&f.maxX>a.maxX?h="left":f.minY===a.minY&&f.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return f},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},r.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,u.hasKey)(t,"max")||(0,u.hasKey)(t,"min")||(0,u.hasKey)(t,"maxLimit")||(0,u.hasKey)(t,"minLimit"))},r.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,l={x:0,y:0},f={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),f.x=t.maxX/(n+o),f.y=t.maxY/(a+s),{start:l,end:f}},r}(Al),Qn=uT,fT=d(91033),hT=function(){function i(r){var t=this;this.onResize=(0,u.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=r.containerDOM,n=r.plot;this.containerDOM=e,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var r=zi(),t=this.plot.width?this.plot.width:r.width,e=this.plot.height?this.plot.height:r.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var r=this.getCanvasSize(),t=r.width,e=r.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},i.prototype.updateCanvasTheme=function(){var r=this.plot.theme,t=rh.getGlobalTheme(r),e=(0,u.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},i.prototype.updateCanvasStyle=function(r){(0,_t.Z)(this.getCanvasDOM(),r),(0,_t.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var r=this.plot.forceFit;r&&(this.resizeObserver=new fT.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var r=this.plot,t=r.renderer,e=t===void 0?"canvas":t,n=r.pixelRatio,a=r.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,f=s.height,h=e==="canvas"?vv:Sv;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:f,pixelRatio:n}),this.width=l,this.height=f,this.updateCanvasTheme()},i}(),cT=hT;function vT(i,r){return!!(i&&r&&i===r)}function dT(i,r){return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}var pT=function(){function i(r){this.plot=r.plot,this.canvas=r.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,u.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,u.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var r=this.eventHandlers;(0,u.each)(r,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(r,t,e){r.on(t,e),this.eventHandlers.push({target:r,type:t,handler:e})},i.prototype.onEvents=function(r){var t=this.getEventObj(r),e=r.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+r.type,r),this.plot.emit(""+r.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,r.type)},i.prototype.onMove=function(r){var t=r.target,e=this.getEventObj(r);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+r.type,e),this.lastShape&&!vT(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},i.prototype.isShapeInView=function(r){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=r.get("parent");e;){var n=e.get("name");if(n&&(0,u.contains)(t,n))return!0;e=e.get("parent")}return!1},i.prototype.getEventObj=function(r){var t={clientX:r.clientX,clientY:r.clientY,x:r.x,y:r.y,plot:this.plot,data:r.data?r.data.data:null,canvas:this.canvas,target:r.target,gEvent:r};return t},i.prototype.onLayerEvent=function(r,t,e){var n=this;(0,u.each)(r,function(a){var o=a.getGlobalBBox();if(dT({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},i}(),gT=pT,up={};function un(i,r){up[i.toLowerCase()]=r}function yT(i){return up[i.toLowerCase()]}var mT=function(i){(0,Gt.__extends)(r,i);function r(t,e){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,u.isNil)(e.forceFit)?(0,u.isNil)(e.width)&&(0,u.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new cT({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new gT({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return r.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},r.prototype.repaint=function(){this.canvasController.canvas.draw()},r.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Qn&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof Al&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},r.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Qn&&a.changeData(t)});else{var n=this.layers[0];n instanceof Qn&&n.changeData(t)}},r.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},r.prototype.getXScale=function(){return this.layers[0].getXScale()},r.prototype.getYScale=function(){return this.layers[0].getYScale()},r.prototype.getColorScale=function(){return this.layers[0].getColorScale()},r.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},r.prototype.getData=function(){var t=this.layers[0];return t.getData()},r.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof Qn&&n.bindStateManager(t,e)})},r.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof Qn&&n.setActive(t,e)})},r.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof Qn&&n.setSelected(t,e)})},r.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof Qn&&n.setDisable(t,e)})},r.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof Qn&&n.setDefault(t,e)})},r.prototype.getView=function(){return this.layers[0].view},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},r.prototype.getCanvas=function(){return this.canvasController.canvas},r.prototype.getLayers=function(){return this.layers},r.prototype.render=function(){this.eachLayer(function(t){return t.render()})},r.prototype.eachLayer=function(t){(0,u.each)(this.layers,t)},r.prototype.addLayer=function(t){var e=(0,u.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},r.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=yT(t.type),n=(0,u.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},r.prototype.parseEvents=function(t){var e=this,n=(0,u.keys)(md);t.events&&(0,u.each)(t.events,function(a,o){if((0,u.contains)(n,o)&&(0,u.isFunction)(a)){var s=md[o]||o,l=a;e.on(s,l)}})},r}(we.default),Jr=mT,xT=function(){function i(r){(0,u.assign)(this,r),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),_s=xT,bT=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,u.has)(t,"color")){var a=t.color;(0,u.isString)(a)?e.values=[a]:(0,u.isFunction)(a)?e.callback=a:(0,u.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,u.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return[t[o]]}},r}(_s),fp=bT;function wT(i,r){var t=[];if(i.length){for(var e=0,n=i.length;e<n;e+=1){var a=i[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}r&&t.push(["Z"])}return t}function hp(i,r){var t=i.getCenter(),e=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return e}function nh(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convertPoint({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function ST(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],f=e?"y":"x",h=Math.abs(s[f]-o[f])*(a-n),c=s[f]>=o[f]?1:0,v=h>Math.PI?1:0,m=t.convertPoint(s),T=hp(t,m);if(T>=.5)if(h===Math.PI*2){var D={x:(s.x+o.x)/2,y:(s.y+o.y)/2},Y=t.convertPoint(D);l.push(["A",T,T,0,v,c,Y.x,Y.y]),l.push(["A",T,T,0,v,c,m.x,m.y])}else l.push(["A",T,T,0,v,c,m.x,m.y]);return l}function MT(i){each(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var CT=function(i,r,t,e){var n=[],a,o,s=!!e,l,f;if(s){l=[Infinity,Infinity],f=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=de.min([0,0],l,v),f=de.max([0,0],f,v)}l=de.min([0,0],l,e[0]),f=de.max([0,0],f,e[1])}for(var h=0,m=i.length;h<m;h++){var v=i[h];if(t)a=i[h?h-1:m-1],o=i[(h+1)%m];else if(h===0||h===m-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var T=[0,0];T=de.sub(T,o,a),T=de.scale(T,T,r);var D=de.distance(v,a),Y=de.distance(v,o),W=D+Y;W!==0&&(D/=W,Y/=W);var H=de.scale([0,0],T,-D),st=de.scale([0,0],T,Y),lt=de.add([0,0],v,H),Mt=de.add([0,0],v,st);s&&(lt=de.max([0,0],lt,l),lt=de.min([0,0],lt,f),Mt=de.max([0,0],Mt,l),Mt=de.min([0,0],Mt,f)),n.push(lt),n.push(Mt)}return t&&n.push(n.shift()),n};function ET(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=CT(n,.4,e,t),l=n.length,f=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),f}function AT(i,r){return wT(i,r)}function ih(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return AT(i,r);(0,u.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=ET(e,r,o);return s.unshift(["M",n.x,n.y]),s}function fG(i,r){return hp(i,r)}function hG(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function cG(i,r){var t=[];return each(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(nh(e,i));break;case"z":default:t.push(e);break}}),t}function vG(i,r){var t=[],e,n,a,o;return each(r,function(s,l){var f=s[0];switch(f.toLowerCase()){case"m":case"c":case"q":t.push(nh(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(ST(e,n,i)):t.push(nh(s,i));break;case"z":default:t.push(s);break}}),MT(t),t}bn("area","miniArea",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=cp(i,this,!1),n=(0,u.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=r.addShape("path",{attrs:{path:e,fill:dp(i.color||zi().defaultColor),opacity:t||.4},style:n});return a}}),bn("area","miniAreaSmooth",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=cp(i,this,!0),n=r.addShape("path",{attrs:{path:e,fill:dp(i.color||zi().defaultColor),opacity:t||.5}});return n}});function cp(i,r,t){var e=[[0,0],[1,1]],n=[],a=[];(0,u.each)(i.points,function(f){n.push(f[1]),a.push(f[0])}),a=r.parsePoints(a.reverse()),n=Zf(r.parsePoints(n));var o=t?ih(n,!1,e):vp(n),s=vp(a);s[0][0]="L";var l=o.concat(s);return l}function vp(i){for(var r=[],t=0;t<i.length;t++){var e=i[t],n=t===0?"M":"L";r.push([n,e.x,e.y])}return r}function dp(i){return"l(90) 0:"+i+" 1:#ffffff"}var TT=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},r}(fp),PT=TT,_T={main:fp,mini:PT},pp=["colorField","stackField","groupField"],OT=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},r.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,u.isString)(t.color)?n.values=[t.color]:(0,u.isFunction)(t.color)?n.callback=t.color:(0,u.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,u.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},r.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,u.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},r.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,u.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},r.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return o}},r.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return o}},r.prototype._getColorMappingField=function(t){for(var e=0,n=pp;e<n.length;e++){var a=n[e];if((0,u.get)(t,a))return[t[a]]}},r.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=pp;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},r}(_s),LT=OT,IT={main:LT},kT=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,u.get)(t,["line","style"]))&&this.parseStyle()},r.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,u.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,u.has)(t,"color")){var n=t.color;(0,u.isString)(n)?e.values=[n]:(0,u.isFunction)(n)?e.callback=n:(0,u.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,u.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,u.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r}(_s),ah=kT,BT=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,u.isString)(t.color)?e.values=[t.color]:(0,u.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,u.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,u.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},r.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return[t[o]]}},r}(ah),DT=BT;bn("line","miniLine",{draw:function(i,r){for(var t=Zf(i.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,u.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=r.addShape("path",{attrs:(0,u.mix)({path:e,stroke:i.color||zi().defaultColor,lineWidth:i.size||2},s)});return l}}),bn("line","miniLineSmooth",{draw:function(i,r){var t=Zf(i.points),e=[[0,0],[1,1]],n=ih(t,!1,e),a=r.addShape("path",{attrs:(0,u.mix)({path:n,stroke:i.color||zi().defaultColor,lineWidth:i.size||2},i.style)});return a}});var FT=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},r}(ah),RT=FT,NT={main:ah,guide:DT,mini:RT},YT=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,u.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,u.isEmpty)(e)||(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,u.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},r.prototype.parseShape=function(t){this.config.shape=t},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,u.isFunction)(e)?(s?n.fields=(0,u.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,u.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},r.prototype._parseColor=function(t,e){(0,u.isString)(t.color)?e.values=[t.color]:(0,u.isFunction)(t.color)?e.callback=t.color:(0,u.isArray)(t.color)&&(e.values=t.color)},r}(_s),GT=YT;function zT(i,r){var t=[];return(0,u.each)(r,function(e){var n=e[i];t.push(n)}),(0,u.uniq)(t)}var XT=["seriesField","stackField"],VT=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,u.keys)(e).length>0&&(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},r.prototype.parseShape=function(t){var e={};(0,u.isString)(t)?e.values=[t]:(0,u.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,u.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},r.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=zT(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},r.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,u.isString)(t.color)?e.values=[t.color]:(0,u.isFunction)(t.color)?e.callback=t.color:(0,u.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},r.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,u.has)(e.point,t);return n},r.prototype._getColorMappingField=function(t){for(var e=0,n=XT;e<n.length;e++){var a=n[e];if((0,u.get)(t,a))return[t[a]]}},r}(_s),HT=VT,WT={guide:HT,circle:GT},jT={area:_T,line:NT,point:WT,interval:IT};function ni(i,r,t){var e=jT[i][r];return new e(t).config}function UT(i){var r=AE,t=i.split(" "),e=r[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function bi(i,r){if(!r)return i;Object.prototype.hasOwnProperty.call(r,"tickCount")&&(i.tickCount=r.tickCount),Object.prototype.hasOwnProperty.call(r,"type")&&r.type!=="dateTime"&&(i.type=r.type),Object.prototype.hasOwnProperty.call(r,"tickInterval")&&(r.type==="time"?i.tickInterval=UT(r.tickInterval):i.tickInterval=r.tickInterval),r.type==="time"&&r.mask&&(i.mask=r.mask),Object.prototype.hasOwnProperty.call(r,"min")&&(i.min=r.min),Object.prototype.hasOwnProperty.call(r,"max")&&(i.max=r.max),Object.prototype.hasOwnProperty.call(r,"minLimit")&&(i.minLimit=r.minLimit),Object.prototype.hasOwnProperty.call(r,"maxLimit")&&(i.maxLimit=r.maxLimit),Object.prototype.hasOwnProperty.call(r,"nice")&&(i.nice=r.nice),Object.prototype.hasOwnProperty.call(r,"formatter")&&(i.formatter=r.formatter),Object.prototype.hasOwnProperty.call(r,"exponent")&&(i.exponent=r.exponent),Object.prototype.hasOwnProperty.call(r,"base")&&(i.base=r.base),r.tickMethod&&(i.tickMethod=r.tickMethod)}function ZT(i,r){var t=(0,u.filter)(r,function(a){return(0,u.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,u.isNil)(i.min)&&(i.min=0):n<0&&(0,u.isNil)(i.max)&&(i.max=0)}var oh;function KT(i,r){var t={easing:"easeLinear",duration:1e4},e=(0,u.deepMix)({},r,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[oh.options.yField],f=(0,u.clone)(i.get("origin"));$T(i,o);var h=i.get("clipShape"),c=i.get("parent"),v=12,m=null,T=oh.options.seriesField;T&&(m=c.addShape("text",{attrs:{x:o.start.x+v,y:0,text:f.data[0][T],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var D=m?16:0,Y=c.addShape("text",{attrs:{x:o.start.x+v,y:D,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),Y.animate({opacity:0},300,function(){Y.remove(),(0,u.isNil)(m)||m.remove();var st=n.labelsContainer;st.get("visible")||st.set("visible",!0)}))};var W=e.delay;(0,u.isFunction)(W)&&(W=e.delay(a));var H=e.easing;(0,u.isFunction)(H)&&(H=e.easing(a)),h.animate({width:o.getWidth()},e.duration,H,e.callback,W),e.onFrame=function(st){var lt=gp(st,f,o);if(!!lt){Y.attr("x",lt[0]+v),Y.attr("y",lt[1]+D);var Mt=QT(l,lt[1],o);l.formatter&&(Mt=l.formatter(Mt)),Y.attr("text",Mt)}},Y.animate(e.onFrame,{duration:e.duration,easing:H,callback:e.callback,delay:W}),m&&m.animate({onFrame:function(st){var lt=gp(st,f,o);!lt||(m.attr("x",lt[0]+v),m.attr("y",lt[1]))}},e.duration,H,e.callback,W)}function $T(i,r){var t=r.start,e=r.end,n=r.height;i.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function gp(i,r,t){for(var e=r.points,n=t.start.x+t.getWidth()*i,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),f=o.y+l*(n-o.x);return[n,f]}}}function QT(i,r,t){var e=(r-t.start.y)/(t.end.y-t.start.y);return i.invert(e).toFixed(2)}function JT(i){oh=i}hi("clipingWithData",KT);var qT=function(){function i(r){this.type="shape",this.shapes=r.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,u.deepMix)([],this.nodes)}return i.prototype.measure=function(r){var t=(0,u.deepMix)({},jE(r),{shape:r});return t},i.prototype.measureNodes=function(){var r=this,t=[],e=[];(0,u.each)(this.shapes,function(n,a){var o=(0,u.deepMix)({},r.nodes[a],r.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},i.prototype._parserNodes=function(){var r=this;(0,u.each)(this.shapes,function(t){var e=r.measure(t);r.nodes.push(e)})},i}(),yp=qT;function tP(i,r,t){return t===void 0&&(t={ratio:.6}),r.width*t.ratio}var eP={type:"padding",usage:"assign",expression:tP};function rP(i,r){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=_d(t,e);return Math.round(n)>=2}var nP={type:"group",usage:"compare",expression:rP};function iP(i,r,t){t===void 0&&(t={value:4});var e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],a=_d(e,n);return Math.round(a)>=t.value}var aP={type:"chain",usage:"compare",expression:iP};function oP(i,r,t){t===void 0&&(t={value:5});var e=Math.abs(i.bottom-r.top);return Math.round(e)>=t.value}var sP={type:"chain",usage:"compare",expression:oP};function lP(i,r,t){return t===void 0&&(t={ratio:.15}),i.width<r.width*t.ratio}var uP={type:"padding",usage:"compare",expression:lP};function fP(i,r){var t=2,e=r.coord.radius/t;return Math.min(e,i.value)}var hP={type:"padding",usage:"assign",expression:fP};function cP(i,r,t){return t===void 0&&(t={ratio:.8}),r.radius*t.ratio}var vP={type:"padding",usage:"assign",expression:cP},mp={elementDist:aP,elementDistVertical:sP,elementCollision:nP,elementWidth:uP,columnWidth:eP,ringThickness:vP,minRingThickness:hP};function dG(i,r){mp[i]=r}function qo(i){i.attr("text","")}function dP(i,r,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],f=l.shape;if(s!==t&&!f.get("blank")){var h=xp(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,v){return v.top-c.top}),(0,u.each)(o,function(c,v){if(v>0){var m=c.shape;qo(m),m.set("blank",!0)}}))}function xp(i,r){return!(i.bottom<r.top||r.bottom<i.top||i.right<r.left||r.right<i.left)}var pP=d(82097),xo=d.n(pP),gP=1e3,bp=60*gP,sh=60*bp,Gl=24*sh,wp=31*Gl,Sp=365*Gl;function Mp(i,r,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),f=n[0].shape.get("delegateObject").item.name,h=new Date(f),c=n[n.length-1].shape.get("delegateObject").item.name,v=new Date(c),m=Cp(h,v),T=Cp(l,o);if(m===T){if(t!==0&&t!==n.length-1){var D=xP(m);i.attr("text",xo().format(l,D))}return}if(t!==0){var Y=n[t-1].shape.get("delegateObject").item.name,W=new Date(Y),H=yP(m,l,W);if(H){var D=mP(m,T);i.attr("text",xo().format(l,D));return}}}function yP(i,r,t){var e=Ep(r,i),n=Ep(t,i);return e===n}function Cp(i,r){var t,e=Math.abs(i-r),n={minute:[bp,sh],hour:[sh,Gl],day:[Gl,wp],month:[wp,Sp],year:[Sp,Infinity]};return(0,u.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function mP(i,r){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(r),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function xP(i){var r=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=r.indexOf(i),n=t[e];return n}function Ep(i,r){if(r==="year")return i.getFullYear();if(r==="month")return i.getMonth()+1;if(r==="day")return i.getDay()+1;if(r==="hour")return i.getHours()+1;if(r==="minute")return i.getMinutes()+1}function bP(i){var r=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return r.test(i)||t.test(i)}var Ap={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function Tp(i,r,t,e){if(!(!(0,u.has)(e,"node")||!(0,u.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(r.formatter){i.attr("text",r.formatter(a));return}if(r.unit){var o=Pp(r,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var f=SP(n),h=Od(f),l=wP(h),c=Ap[l].number,v=MP(n),m=CP(v,c),s=Pp({unit:l,decimal:m},a).num;i.attr("text",s+l)}}}}function Pp(i,r){var t=["k","m","b","t"],e,n;if(i.unit==="auto"){var a=Math.floor(Math.log(r)/Math.log(1e3));n=t[a-1],e=(r/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=Ap[i.unit];n=i.unit,e=(r/o.number).toFixed(i.decimal)}return{num:e,unitname:n}}function wP(i){var r=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return r[t-1]}function SP(i){var r=[];return(0,u.each)(i,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);r.push(n)}),r}function MP(i){if(i.length>=2){var r=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(r-t)}return 0}function CP(i,r){var t=Math.floor(Math.log10(r));if(i>=r){var e=i%r;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function EP(i,r,t){var e=t.nodes.nodes;if(r!==e.length-1){var n=e[r],a=e[r+1],o=AP(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function AP(i,r){var t,e={x:r.centerX-i.centerX,y:r.centerY-i.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=Uf(e,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=TP(l);var f=Math.abs(i.centerX-r.centerX),h=Math.abs(i.centerY-r.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:f,distY:h}}function TP(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function PP(i,r,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(xp(a,o)){var s=e.plot.view.geometries[0].elements[0],l=o.top-a.height/2,f=10;if(l-f>e.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),v=s.getShapes(),m=_P(c,v).get("box"),T=m.left+m.width/2,D=m.top,Y=s.get("labelController").labelsContainer,W=Y.addShape("path",{attrs:{path:[["M",T,D],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),H={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-f),n[t]=e.nodes.measure(a.shape),n[t].line=W,n[t].origin_position=H}}}}function _P(i,r){var t;return(0,u.each)(r,function(e){var n=e,a=n.get("id");a===i&&(t=n)}),t}function OP(i,r,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!_p(r.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&qo(i)}}function _p(i,r,t){var e=[];(0,u.each)(i,function(s){s==="start"?e.push(r===0):s==="end"?e.push(r===t.length-1):(0,u.isNumber)(s)&&e.push(r===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function LP(i,r,t,e){var n=e.nodes.nodes;if(!_p(r.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&qo(i)}}function IP(i,r,t,e){var n=e.nodes.nodes,a=BP(n);if(!(t<=1)){var o=n[t],s=kP(t,n),l=s.centerX-o.centerX,f=s.centerY-o.centerY,h=Math.sqrt(l*l+f*f);h<a&&(qo(i),i.set("blank",!0))}}function kP(i,r){for(var t=i-1;t>0;t--){var e=r[t];if(!e.shape.get("blank"))return e}}function BP(i){var r=(0,u.deepMix)([],i);return r.sort(function(t,e){return e.width-t.width}),Math.round(r[0].width)}function DP(i,r,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],l=(0,u.get)(s,["label","fields",0],(0,u.get)(s,["position","fields",1])),f=FP(o,l,n),h=!1;if((0,u.each)(f,function(T){T.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,v=c.x,m=c.y;i.attr("x",v),i.attr("y",m)}}else qo(i)}function FP(i,r,t){var e=[];(0,u.each)(i,function(h){e.push(h[r])}),e.sort(function(h,c){return h-c});var n=e[0],a=lh(t,r,n),o=e[e.length-1],s=lh(t,r,o),l=RP(e),f=lh(t,r,l);return{min:a,max:s,median:f}}function RP(i){var r=(0,u.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2,r[t]}function lh(i,r,t){for(var e=0,n=i;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[r]===t)return a}}function Op(i,r){var t=r.abbreviateBy?r.abbreviateBy:"end",e=i.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function NP(i,r,t,e){var n=e.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?Tp(i,r,t,n):bP(a)?Mp(i,r,t,n):Op(i,r)}function YP(i,r){i.resetMatrix(),i.attr({rotate:360-r.degree,textAlign:"right",textBaseline:"middle"})}function GP(i,r){for(var t=i.attr("text"),e=Math.ceil(t.length/r.lineNumber),n="",a=1;a<r.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var Lp={textWrapper:GP,textRotation:YP,textAbbreviate:Op,textHide:qo,digitsAbbreviate:Tp,datetimeStringAbbrevaite:Mp,robustAbbrevaite:NP,nodesResampling:OP,nodesResamplingByAbbrevate:LP,nodesResamplingByChange:IP,nodesResamplingByState:DP,nodeJitter:EP,nodeJitterUpward:PP,clearOverlapping:dP};function pG(i,r){Lp[i]=r}var zP=function(){function i(r){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,u.assign)(this,r),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var r;this.nodes.type==="shape"?r=this.nodes:r=this.nodes,r.type==="shape"&&r.measureNodes(),this.rules&&this._applyRules(),r.type==="shape"&&r.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var r=this._constraintsTest();!r&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),r=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var r=mp[this.currentConstraint.name],t=this.currentConstraint.option;return r.usage==="compare"?this._constraintCompare(r,t):this._constraintAssignment(r,t)},i.prototype._constraintCompare=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(r,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(r(a,o,e)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(r,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(r(a,s,e)===!1)return!1}return!0},i.prototype._constraintAssignment=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=r(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var r=this.rules[this.currentConstraint.name][this.iterationIndex],t=Lp[r.name],e=r.option?r.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},i.prototype._applyRule=function(r,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(r,e,n,a)},i}(),Ip=zP,XP=function(){function i(r){(0,u.assign)(this,r),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),kp=XP,VP={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},HP=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},r.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},r.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var v=h.get("delegateObject").axis.get("field");if(v===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new yp({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,f=s.rules;new Ip({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:f,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},r.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return VP[a]},r.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},r.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,u.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},r}(kp),bo=HP;function WP(i){var r=i.getResponsiveTheme(),t=i.canvas;new bo({plot:i,responsiveTheme:r,dim:"x"}),new bo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var jP=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},r.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,u.each)(t,function(l){e=e.concat(l.findAllByName("label"))});var n=new yp({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new Ip({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},r.prototype.getType=function(){return null},r}(kp),Bp=jP,UP=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,u.get)(this.plot.options,["label","type"],"point")},r}(Bp);function ZP(i){var r=i.getResponsiveTheme();new UP({plot:i,responsiveTheme:r})}var KP=[],$P=[{name:"responsiveAxis",method:WP},{name:"responsivePointLabel",method:ZP}],QP={preRender:KP,afterRender:$P},Dp=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Gt.__assign)({offsetX:0,offsetY:0},n)},r.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},r.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,u.get)(t,"model.mappingData",[]);return(0,u.map)(l,function(f,h){var c,v=n.getValue(f);return(0,Gt.__assign)((0,Gt.__assign)((0,Gt.__assign)({},n.getPosition(f)),{text:s?s(v,(c={},c[Ts]=f._origin,c.mappingDatum=f,c.mappingDatumIndex=h,c.element=t,c.elementIndex=e,c),e):v,textAlign:"center",textBaseline:"middle"}),o)})},r.prototype.getValue=function(t){return(0,u.get)(t._origin,this.layer.options.yField)},r.prototype.getPosition=function(t){var e={x:(0,u.isArray)(t.x)?(0,u.last)(t.x):t.x,y:(0,u.isArray)(t.y)?(0,u.last)(t.y):t.y};return e},r.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,u.each)(e,function(s,l){l>1&&n.labelResamplingByChange(s,e,l,o)})}a=this.isOverlapped(e),a&&(0,u.each)(e,function(s,l){s.get("visible")&&n.clearOverlapping(s,e,l)})}},r.prototype.adjustLabel=function(){},r.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),l=this.getCenter(o),f=l.x-s.x,h=l.y-s.y,c=Math.sqrt(f*f+h*h);c<a&&t.set("visible",!1)},r.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var l=wd(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(f,h){return h.minY-f.minY}),(0,u.each)(a,function(f,h){h>0&&f.set("visible",!1)}))},r.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=wd(n,o);if(s)return!0}}return!1},r.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},r.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},r.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},r}(Vf),Fp=Dp;qi("point",Dp);var Rp=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=tn.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),f=l[0],h=l[1],c=(0,u.groupBy)(e,function(m){return m.get(oa)[Sn.FIELD_ORIGIN][f]}),v=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,u.each)((0,u.keys)(c).reverse(),function(m){for(var T=n.sortLabels(t,c[m]);T.length;){var D=T.shift();if($A(D,o,function(H,st){return H._origin[f]===st._origin[f]&&H._origin[h]===st._origin[h]})){D.set("visible",!1);continue}Nl(D,s);var Y=Yl(D,o),W=void 0;if(Y&&(D.attr("y",D.attr("y")+2*v),Nl(D,s),W=Yl(D,o)),W){D.set("visible",!1);continue}o.push(D)}})},r.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(oa)[Sn.FIELD_ORIGIN][n]-o.get(oa)[Sn.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},r}(Fp),JP=Rp;qi("point-auto",Rp);var qP=8,t_=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,u.each)(t,function(e){var n=r.getShapeInfo(e.shape),a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,f=r.options.formatter,h=f?f(n.name):n.name;r.container.addShape("text",{attrs:(0,u.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,u.clone)(r.label.style);return delete t.fill,{offsetX:qP,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="line"})},i.prototype.getShapeInfo=function(r){var t=r.get("origin").points,e=t[t.length-1],n=r.attr("stroke"),a=this.plot.options.seriesField,o=r.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},i}(),Np=t_,e_={line:"line",point:"point"},r_=Ti(e_);(0,u.assign)(dn,r_);var n_={stroke:"transparent",fill:"#FCC509",lineWidth:0},i_={stroke:"#FFF",fill:"#FCC509",lineWidth:1},a_={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},o_=function(){function i(r){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:n_,selected:a_,active:i_},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=r.view,this.size=r.size||6,this.config=(0,u.deepMix)({},this.defaultCfg,r),this._init()}return i.prototype.render=function(){var r=this.getDataArray();this._renderPoints(r),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var r=this.view.geometries[0];return r.dataArray},i.prototype._init=function(){var r=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){r.clear()})},i.prototype._renderPoints=function(r){var t=this;(0,u.each)(this.config.data,function(e,n){(0,u.each)(r,function(a){var o=(0,u.find)(a,function(W){return(0,u.isMatch)(W._origin,e)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),f=o.x,h=o.y;(0,u.isArray)(f)&&(f=f[0]),(0,u.isArray)(h)&&(h=h[0]);var c=t.config.symbol,v=t.config,m=v.offsetX,T=v.offsetY,D=void 0;if((0,u.isString)(c)&&c.startsWith("image://")){var Y=c.substr(8);D=l.addShape("image",{attrs:{x:f-t.size/2+m,y:h-t.size/2+T,img:Y,width:t.size,height:t.size}})}else c=(0,u.isString)(c)?bE.MarkerSymbols[c]:c,D=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:(0,Gt.__assign)((0,Gt.__assign)({x:f+m,y:h+T,r:t.size/2},s),{symbol:c})});t.points.push(D),t._animatePoint(D),t._renderLabel(l,o,n),l.set("data",e),l.set("origin",o)}})})},i.prototype._renderLabel=function(r,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,f=n.formatter,h=n.position,c=n.field,v=t._origin[c];f&&(v=f(v,{_origin:t._origin},e));var m=(0,u.isArray)(t.x)?t.x[0]:t.x,T=(0,u.isArray)(t.y)?t.y[0]:t.y,D=r.addShape("text",{name:"marker-label",id:"label-"+e,attrs:(0,Gt.__assign)((0,Gt.__assign)({x:m+o,y:T+l,text:v||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(D)}},i.prototype._addInteraction=function(){var r=this,t=this.config.events;(0,u.each)(t,function(e,n){r.container.on(r.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),f=s.get("id"),h={id:f,data:l};n==="click"?r.selectedPoint&&r.selectedPoint.get("id")===f?(r.selectedPoint=null,r.setState("inactive",h)):(r.selectedPoint=s,r.setState("selected",h)):n==="mouseenter"?r.setState("active",h):n==="mouseleave"&&r.setState("inactive",h)}r.view.canvas.draw()}),r.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==r.name&&r.selectedPoint)&&(r.selectedPoint=null,r.setState("inactive"))})})},i.prototype.setState=function(r,t){var e=this;r==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):r==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):r==="selected"&&this._onSelected(t)},i.prototype._onActive=function(r){var t=this,e=this.config.style.active;(0,u.each)(this.points,function(n){n.get("id")===r.id?(0,u.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(r){var t=this.config.style.normal;(!this.selectedPoint||r.get("id")!==this.selectedPoint.get("id"))&&(0,u.each)(t,function(e,n){r.attr(n,e)})},i.prototype._onSelected=function(r){var t=this,e=this.config.style.selected;(0,u.each)(this.points,function(n){n.get("id")===r.id?(0,u.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(r){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,f=l===void 0?go.DEFAULT_ANIMATE_CFG.appear:l;r.animate((0,Gt.__assign)({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),f)}},i}(),s_=o_,l_=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+1}},u_=function(i){var r=i.shape,t=r.attr("opacity")||1;return{opacity:t*.2}},f_=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+2}};ta("line",{lineStyle:{normal:{},active:l_,disable:u_,selected:f_},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var h_={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};sp("line",h_);var c_=function(i){(0,Gt.__extends)(r,i);function r(t){return i.call(this,(0,Gt.__assign)({processEvent:"mousemove"},t))||this}return r.prototype.start=function(){},r.prototype.process=function(t){var e=(0,u.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,u.get)(t,"data.data");(0,u.each)(e,function(o){(0,u.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,u.each)(e,function(o){(0,u.each)(o.elements,function(s){s.setState("active",!1)})})},r}(Qf),v_=c_,d_=function(i){(0,Gt.__extends)(r,i);function r(t){return i.call(this,(0,Gt.__assign)({endEvent:"click"},t))||this}return r.prototype.start=function(){},r.prototype.end=function(t){var e=t.target,n=(0,u.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,u.get)(t,"data.data");(0,u.each)(n,function(o){(0,u.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,u.each)(n,function(o){(0,u.each)(o.elements,function(s){s.setState("inactive",!1)})})},r}(Qf),p_=d_,g_=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Gt.__assign)((0,Gt.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},r}(dd.Z);cn("selected-tooltip",g_);var y_=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.getPoint();(0,u.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},r.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,u.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},r}(ln),m_=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Gt.__assign)((0,Gt.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},r}(dd.Z);cn("tooltip-active",m_);var x_=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.getView().removeInteraction("tooltip")},r.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},r.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,u.filter)(t.geometries,function(a){return a.type=="point"});(0,u.each)(n,function(a){(0,u.each)(a.elements,function(o){o.setState("active",!1)})})},r.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,u.filter)(e.geometries,function(s){return s.type=="point"});(0,u.each)(o,function(s){(0,u.each)(s.elements,function(l){l.setState("active",(0,u.findIndex)(a,function(f){return f.data===l.data})!==-1)})})},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},r}(ln),b_=x_;Br("selected-tooltip",y_),gn("selected-tooltip",{start:[{trigger:Sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:Sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),Br("marker-active",b_),gn("marker-active",{start:[{trigger:Sn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:Sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var w_={line:"line",point:"point"},Yp=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},r.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,u.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new s_((0,Gt.__assign)((0,Gt.__assign)({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return w_[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,u.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),this.setConfig("scales",e),ZT(e[t.yField],(0,u.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.tooltip=function(){(0,u.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){this.addLine(),this.addPoint()},r.prototype.addLine=function(){var t=this.options;this.line=ni("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},r.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,u.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=ni("point","guide",{plot:this}),this.setConfig("geometry",this.point))},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=mo(this.view,"line");if(n.type==="line"){var l=new Np((0,Gt.__assign)({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,(0,Gt.__assign)({type:"point",formatter:o.formatter&&function(f){return o.formatter(f)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(JT({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},r.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new v_({view:this.view})),this.interactions.push(new p_({view:this.view}))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,A)},r.prototype.applyResponsive=function(t){var e=this,n=QP[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},r}(Qn),Os=Yp;un("line",Yp);var S_=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Os.getDefaultOptions,r}(Jr),Gp=S_;function M_(i,r,t,e,n){var a=e-r,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,f=r;(0,u.each)(o,function(h){h.y0=t,h.y1=n,h.x0=f,f+=h.value*l,h.x1=h.x0+h.value*l})}function C_(i,r,t,e,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,f=t;(0,u.each)(o,function(h){h.x0=r,h.x1=e,h.y0=f,f+=h.value*l,h.y1=h.y0+h.value*l})}var E_=(1+Math.sqrt(5))/2;function zp(i,r,t,e,n){var a=i.children,o=i.value;a.sort(function(zt,Zt){return Zt.value-zt.value});for(var s=[],l,f,h,c,v,m,T,D,Y=0,W=0;Y<a.length;){var H=e-r,st=n-t;for(l=a[W++].value,f=l,h=l,c=Math.max(st/H,H/st)/(o*E_),v=l*l*c,T=Math.max(f/v,v/h);W<a.length;W++){if(D=a[W].value,l+=D,D<h&&(h=D),D>f&&(f=D),v=l*l*c,m=Math.max(f/v,v/h),m>T){l-=D;break}T=m}var lt={value:l,dice:H<st,children:a.slice(Y,W)};if(s.push(lt),lt.dice){var Mt=o?st*l/o:st;M_(lt,r,t,e,t+Mt),o&&(t+=Mt)}else{var Ft=o?H*l/o:H;C_(lt,r,t,r+Ft,n),o&&(r+=Ft)}o-=l,Y=W}return s}var A_=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=(0,Gt.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=(0,Gt.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=(0,Gt.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=(0,Gt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=(0,Gt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},r.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),jd(this.group,this.x,this.y)},r.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],f=o[2],h=o[3],c,v=t.addShape("rect",{class:"breadcrumb-background",attrs:(0,Gt.__assign)({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(m,T){var D=t.addGroup({id:"item-group-"+m.key,data:m,class:"item-group",attrs:{cursor:"pointer"}}),Y=D.addShape("rect",{id:"item-background-"+m.key,class:"item-background",attrs:(0,Gt.__assign)((0,Gt.__assign)({x:e,y:n,width:h+l,height:s+f},a.itemBackgroundStyle),{cursor:"pointer"})});Y.name="breadcrumb";var W=D.addShape("text",{id:"item-text-"+m.key,class:"item-text",attrs:(0,Gt.__assign)((0,Gt.__assign)({x:e+h,y:n+s,text:m.text},a.textStyle),{cursor:"pointer"})});W.name="breadcrumb";var H=W.getBBox();c=a.itemHeight||H.height;var st=a.itemWidth||H.width;a.maxItemWidth&&(st=Math.min(st,a.maxItemWidth));var lt={x:e,y:n,width:st+h+l,height:c+s+f};if(Y.attr("width",lt.width),Y.attr("height",lt.height),D.setClip({type:"rect",attrs:lt}),e+=lt.width,T!==a.items.length-1){var Mt=t.addShape("text",{attrs:(0,Gt.__assign)({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=Mt.getBBox().width}}),v.attr({width:e,height:c+s+f})},r.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,f){return function(){var h=l.get("data"),c=n.find(function(v){return v.key===h});e.emit(f,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),f=o("dblclick",s,"onItemDblclick"),h=e.onItemGroupToggleActive(s,!0),c=e.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",f),s.on("mouseenter",h),s.on("mouseleave",c),e.listeners.push({target:s,event:"click",callback:l}),e.listeners.push({target:s,event:"dblclick",callback:f}),e.listeners.push({target:s,event:"mouseenter",callback:h}),e.listeners.push({target:s,event:"mouseleave",callback:c})})},r.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},r}(Ps),T_=A_,zl=[1,0,0,0,1,0,0,0,1],Do=400,ts="easeQuadInOut";function P_(i,r,t){var e=Wp(i),n=Hp(r),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,l=(n.minY-e.minY)*o,f=Qo([["s",a,o],["t",s,l]]),h=r.geometries[0];Xl(h);var c=r.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var v=Xp(h,c);h.container.set("visible",!1),r.canvas.draw(),t(),window.setTimeout(function(){(0,u.each)(v,function(Y,W){W===0?Y.animate({matrix:f},Do,ts,function(){c.remove(),r.canvas.draw()}):Y.animate(Qo,Do)}),h=r.geometries[0],Xl(h);var m=h.getShapes();(0,u.each)(m,function(Y){Y.attr("opacity",0),Y.animate({opacity:1},Do,ts)});var T=h.container;T.stopAnimate(),T.set("visible",!0),T.attr("matrix",(0,u.clone)(zl)),zA(T,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var D=(0,u.clone)(zl);h.container.animate({matrix:D},Do,ts,function(){jp(h)}),r.canvas.draw()},16)}function Xp(i,r){var t=i.getShapes(),e=[];return(0,u.each)(t,function(n){var a=r.addShape("path",{attrs:(0,u.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function Vp(i,r,t){var e=r.geometries[0];Xl(e);var n=e.container;n.attr("matrix",(0,u.clone)(zl));var a=r.backgroundGroup.addGroup();a.set("zIndex",-100);var o=Xp(e,a);n.set("visible",!1),r.canvas.draw(),t(),e=r.geometries[0],Xl(e),n=e.container;var s=__(e.getShapes(),i),l=Wp(s),f=Hp(r),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:f.minX,y:f.minY,width:f.width,height:f.height}}),O_(a,o,l,f);var c=f.width/l.width,v=f.height/l.height,m=(f.minX-l.minX)*c,T=(f.minY-l.minY)*v,D=Qo([["s",c,v],["t",m,T]]);n.setMatrix(D),n.set("visible",!0),n.animate({matrix:zl},Do,ts,function(){jp(e)})}function __(i,r){var t;return(0,u.each)(i,function(e){var n=e.get("origin").data.name;n===r&&(t=e)}),t}function Hp(i){var r=i.coordinateBBox,t={minX:r.minX,minY:r.minY,centerX:(r.maxX-r.minX)/2,centerY:(r.maxY-r.minY)/2,width:r.width,height:r.height};return t}function Wp(i){var r=i.attr("path"),t=r[0][1],e=r[0][2],n=r[1][1],a=r[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function O_(i,r,t,e){var n=t.width/e.width,a=t.height/e.height,o=Qo([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},Do,ts,function(){i.remove()}),(0,u.each)(r,function(s){s.animate({opacity:0},Do,ts)})}function Xl(i){var r=i.labelsContainer;r.set("visible",!1)}function jp(i){var r=i.labelsContainer;r.set("visible",!0)}var L_=100,I_=30,k_=10,B_=function(i){i===void 0&&(i={});var r=(0,Gt.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:L_,itemHeight:I_,padding:[0,0,0,0]},i);return r},Up=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getInteractionRange=function(t,e){var n=B_(e),a=n.padding,o=a[0],s=a[1];if(t)return new tn(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},r.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,u.clone)(this.currentNode.name),value:(0,u.clone)(this.currentNode.value)},depth:(0,u.clone)(this.currentDepth)},this.currentDepth++,P_(t.target,this.view,function(){e.update(n)}))},r.prototype.update=function(t){(0,u.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},r.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,u.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+k_,this.breadcrumb=new T_({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},r.prototype.clear=function(){},r.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},r.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,u.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},r.prototype.findParent=function(t,e){if(t.parent)(0,u.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},r.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?Vp(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,u.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?Vp(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},r.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,u.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},r.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},r.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,u.hasKey)(this.mapping,String(t))){var n=(0,u.clone)(this.mapping[t]);if(n.values&&(0,u.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,u.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},r.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},r.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},r}(Aa),D_=Up;Aa.registerInteraction("drilldown",Up);var F_={drilldown:D_},R_={rect:"polygon",breadcrumb:"breadcrumb"},N_=Ti(R_);(0,u.assign)(dn,N_);var Zp=4,Y_=8;function G_(i,r){return!i.children||i.depth>=r}function z_(i,r,t){var e=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(l){for(var f="",h=l.split(""),c=[],v=0;v<h.length;v++){var m=h[v];a.attr("text",f+=m);var T=a.getBBox().width-1;if(T>r){if(v===0)break;c.push(v),f=""}}return bd(h,c)});return a.remove(),s.join(`
`)}function Kp(i,r,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:r}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),s="",l=t-a,f=0;f<i.length;f++){var h=i[f];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var v=s.substr(0,s.length-1);if(v.length>0)return v+"..."}}return o.remove(),n.remove(),s}var X_=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,u.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=G_(a,r.plot.options.maxLevel);if(a.showLabel){var s=(0,u.clone)(r.options.style),l=r.getPosition(n,o),f=r.options.formatter,h=f?f(a.name):a.name,c=r.getTextBaseLine(o),v=r.container.addShape("text",{attrs:(0,u.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});r.adjustLabel(v,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(r,t){var e=r.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(r){return r?"middle":"top"},i.prototype.adjustLabel=function(r,t,e){e?this.adjustLeafLabel(r,t):this.adjustParentLabel(r,t)},i.prototype.adjustLeafLabel=function(r,t){var e=t.getBBox(),n=r.getBBox(),a=(0,u.clone)(r.attr("text")),o=2,s=Math.max(r.attr("fontSize")-o,Y_),l=e.x+e.width/2,f=e.y+e.height/2;r.attr({x:l,y:f,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=e.width-Zp*2;if(n.width>e.width&&n.height>e.height){r.attr("text","");return}else if(h<s){r.attr("text","");return}if(n.width>e.width){var c=z_(r,h,this.container);r.attr({lineHeight:r.attr("fontSize"),text:c});var v=r.getBBox();if(v.height>e.height){var m=Kp(a,s,h,this.container);r.attr("text",m)}}},i.prototype.adjustParentLabel=function(r,t){var e=t.getBBox(),n=e.width-Zp*2;if(r.getBBox().width>n){var a=Kp(r.attr("text"),r.attr("fontSize"),n,this.container);r.attr("text",a)}},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,u.clone)(t)}},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="polygon"})},i}(),V_=X_,H_=4,Ls=4,$p=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},r.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,u.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},r.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new V_((0,Gt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.geometryParser=function(){return"polygon"},r.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=zp(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},r.prototype.processData=function(){return this.rootData},r.prototype.coord=function(){},r.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(f){var h=t.adjustStyleByDepth(f,l);return(0,u.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},r.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,u.each)(e,function(a){var o=F_[a.type];if(o){var s=new o((0,u.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},r.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,C)},r.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,u.each)(t,function(o){(0,u.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,u.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var f=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=f/2>h?h:Ls;s.showLabel=c!==Ls;var v=zp(s,s.x0+Ls,s.y0+c,s.x1-Ls,s.y1-Ls);n.fillColorField(v,a,s[a]),n.recursive(v,s.depth+1)}})})},r.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,u.each)(t,function(l){(0,u.hasKey)(l,"x0")&&l.depth<=o&&e.push((0,Gt.__assign)((0,Gt.__assign)({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,u.hasKey)(l,"children")&&a.getAllNodes(l.children,e)})},r.prototype.fillColorField=function(t,e,n){(0,u.each)(t,function(a){(0,u.hasKey)(a,e)||(a[e]=n)})},r.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+H_*2},r.prototype.isLeaf=function(t){return!t.children||t.children.length===0},r.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},r.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},r}(Qn),W_=$p;un("treemap",$p);var j_=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="treemap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=W_.getDefaultOptions,r}(Jr),Qp=j_,Jp=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},r}(Os);un("step-line",Jp);var U_=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="step-line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Jp.getDefaultOptions,r}(Jr),qp=U_;function tg(i,r){var t=[],e=i.get("origin").points;return(0,u.each)(e,function(n){t.push(r.convertPoint(n))}),t}var Z_=function(){function i(r){(0,u.deepMix)(this,this.constructor.getDefaultOptions(r),r),this._init()}return i.getDefaultOptions=function(r){var t=r.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,u.deepMix)({},go.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype.draw=function(){var r=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,f;t?a.forEach(function(h,c){s=e[c],c++>0&&r._drawTag(l,f,h,s),f=s,l=h}):a.forEach(function(h,c){f=e[c],c++>0&&r._drawTag(h,f,o,s),s=f,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(r,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=tg(r,o)[a?3:0],l=tg(e,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(r,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,f=this.arrow.headSize,h=t.y-r.y,c=t.x-r.x,v;l?(c-f)/2<e?(e=Math.max(1,(c-f)/2),v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e,t.y-o-a/2]]):v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e-f,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-f,t.y-o]]:(h-f)/2<e?(e=Math.max(1,(h-f)/2),v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a/2,t.y-e]]):v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a,t.y-e-f],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-f]];var m=this.container.addShape("polygon",{name:"arrow",attrs:(0,Gt.__assign)((0,Gt.__assign)({},this.arrow.style),{points:v})});s!==!1&&this._fadeInTagShape(m)},i.prototype._drawTagValue=function(r,t,e,n){var a=this,o=a.size,s=a.offset,l=a.animation,f=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:(0,Gt.__assign)((0,Gt.__assign)({},this.value.style),{text:h,x:f?(r.x+e.x)/2:r.x+s+o/2,y:f?r.y-s-o/2:(r.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(f){var v=e.x-r.x,m=c.getBBox().width;if(m>v){var T=m/h.length,D=Math.max(1,Math.ceil(v/T)-1),Y=h.slice(0,D)+"...";c.attr("text",Y)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(r){var t=this.animation,e=r.attr("opacity");r.attr("opacity",0);var n=(0,u.get)(t,"appear",go.DEFAULT_ANIMATE_CFG.appear).duration;r.animate({opacity:e},n)},i}(),eg=Z_;function K_(i){var r=i.getResponsiveTheme(),t=i.canvas;new bo({plot:i,responsiveTheme:r,dim:"x"}),new bo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var $_=[],Q_=[{name:"responsiveAxis",method:K_}],J_={preRender:$_,afterRender:Q_},q_=function(i){var r=i.opacity||1;return{opacity:r*.5}},tO=function(i){var r=i.opacity||1;return{opacity:r*.5}},uh={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:q_,disable:tO,selected:{lineWidth:1,stroke:"black"}}};ta("bar",uh);function ro(i){var r=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(r.substr(0,2),16)),t.push(parseInt(r.substr(2,2),16)),t.push(parseInt(r.substr(4,2),16)),t}function fh(i){var r;return r=Math.round(i),r=r.toString(16),r.length===1&&(r="0"+i),r}function gG(i){return"#"+(fh(i[0])+fh(i[1])+fh(i[2]))}function Vl(i,r){var t;return(0,u.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var hh=function(i){var r=ro(i),t=r[0],e=r[1],n=r[2],a=(t*299+e*587+n*114)/1e3<128;return a},rg=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),f=this.getValue(t);return(0,u.deepMix)({},o,(0,Gt.__assign)((0,Gt.__assign)({},this.getPosition(t)),{text:s?s(f,(n={},n[Ts]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):f,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},r.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),f=this.getElementShapeBBox(e);if(f.width<=l.width){var h=f.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Gt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.getValue=function(t){return(0,u.get)(t.getData(),this.layer.options.xField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,f=a.height,h=a.width,c=this.options,v=c.offsetX,m=c.offsetY,T=c.position,D=l+f/2+m,Y=n<0?-1:1,W;if(T==="left"){var H=n>0?o:s;W=H+e*Y+v}else if(T==="right"){var H=n>0?s:o;W=H+e*Y+v}else W=o+h/2+v;return{x:W,y:D}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=ro(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],f=Vl(l,s);return f}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},r.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},r.prototype.getTextBaseline=function(){return"middle"},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,u.each)(n.get("origin").points,function(m){a.push(e.coord.convertPoint(m))});var o=a.map(function(m){return m.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),f=a.map(function(m){return m.y}),h=Math.min.apply(Math,f),c=Math.max.apply(Math,f),v=new tn(s,h,l-s,c-h);return v},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Vf),ng=rg;qi("bar",rg);var ig=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,f=a.height,h=this.options,c=h.offsetX,v=h.offsetY,m=l+f/2+v,T=n<0?-1:1,D=n>0?s:o,Y=D+e*T+c;return{x:Y,y:m}},r.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,u.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,f=s.lightStyle,h=(0,u.groupBy)(e,function(c){return c.get(oa)[Sn.FIELD_ORIGIN][o]});(0,u.each)(e,function(c){var v=h[c.get(oa)[Sn.FIELD_ORIGIN][o]]||[],m=c.get("element"),T=m.shape,D=hh(T.attr("fill")),Y=n.getElementShapeBBox(m),W=tn.fromBBoxObject(c.getBBox());if(th(a,Y)<=0&&c.set("visible",!1),W.width>Y.width){var H=(0,u.findIndex)(v,function(lt){return lt===c});H!==v.length-1&&c.set("visible",!1)}else{c.attr({x:Y.x+Y.width/2,textAlign:"center"});var st=W.width>Y.width||W.height>Y.height;st?c.attr({stroke:f==null?void 0:f.stroke}):c.attr({fill:D?f==null?void 0:f.fill:l==null?void 0:l.fill,fillOpacity:D?f==null?void 0:f.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],f=(0,u.groupBy)(a,function(m){return m.get(oa)[Sn.FIELD_ORIGIN][o]}),h=(0,u.uniq)((0,u.map)(a,function(m){return m.get(oa)[Sn.FIELD_ORIGIN][o]})),c;for((0,u.size)(h)>0&&(c=h.shift(),(0,u.each)(f[c],function(m){return l.push(m)})),(0,u.size)(h)>0&&(c=h.pop(),(0,u.each)(f[c],function(m){return l.push(m)})),(0,u.each)(h.reverse(),function(m){(0,u.each)(f[m],function(T){return l.push(T)})});l.length>0;){var v=l.shift();v.get("visible")&&(Nl(v,n),Yl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,u.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(ng),eO=ig;qi("bar-auto",ig);var rO={bar:"interval"},nO=Ti(rO);(0,u.assign)(dn,nO);var iO={bar:"interval"},aO={interval:"bar"},ag=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,u.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new eg((0,Gt.__assign)({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?iO[e]:aO[e]},r.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,u.each)(e,function(o){var s=(0,u.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,u.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),e[t.xField]={},(0,u.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.axis=function(){var t=Fi("axis",{plot:this,dim:"x"}),e=Fi("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.adjustBar=function(t){return null},r.prototype.addGeometry=function(){var t=this.options,e=ni("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,u.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=mo(this.view,"interval");this.doRenderLabel(s,(0,Gt.__assign)({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},r.prototype.applyResponsive=function(t){var e=this,n=J_[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},r}(Qn),Hl=ag;un("bar",ag);var oO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="bar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Hl.getDefaultOptions,r}(Jr),og=oO;ta("stackedBar",uh);var sO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},r}(ng),yG=null;qi("stacked-bar",sO);var lO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(eO),mG=null;qi("stacked-bar-auto",lO);var sg=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=mo(this.view,"interval");this.doRenderLabel(s,(0,Gt.__assign)({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Hl),ch=sg;un("stackedBar",sg);var uO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ch.getDefaultOptions,r}(Jr),lg=uO;ta("groupedBar",uh);var ug=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,u.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,u.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){e.items[l]=s})})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,u.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,u.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},r.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Hl),fg=ug;un("groupedBar",ug);var fO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=fg.getDefaultOptions,r}(Jr),hg=fO,vh=function(i,r,t){var e=(0,u.groupBy)(i,r);e=(0,u.mapValues)(e,function(o){return(0,u.map)(o,function(s){return(0,u.map)(t,function(l){return s[l]})})}),e=(0,u.mapValues)(e,u.flatten),e=(0,u.mapValues)(e,function(o){return(0,u.map)(o,function(s){var l=Number.parseFloat(s);return!(0,u.isNumber)(l)||isNaN(l)?0:l})});var n=(0,u.mapValues)(e,function(o){return(0,u.reduce)(o,function(s,l){return s+l},0)}),a=(0,u.map)(i,function(o){var s=(0,Gt.__assign)((0,Gt.__assign)({},o),{_origin:o,total:n[o[r]]});return(0,u.each)(t,function(l){s[l]=o[l]/(n[o[r]]||1)}),s});return(0,u.each)((0,u.groupBy)(a,r),function(o){var s=0;(0,u.each)(o,function(l,f){(0,u.each)(t,function(h,c){(s+l[h]>=1||f===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},cg=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=i.prototype.processData.call(this,t);return vh(o,a,[n])},r.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(ch),vg=cg;un("percentStackedBar",cg);var hO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=vg.getDefaultOptions,r}(Jr),dg=hO,pg=8;function cO(i,r){var t;return(0,u.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var vO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,u.each)(e,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),f=r.getTextAlign(),h=[];(0,u.each)(s,function(c,v){var m=v===0?r.options.leftStyle:r.options.rightStyle,T=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&T!=="black"&&(m.stroke=null);var D=r.options.formatter,Y=D?D(l[v]):l[v],W=r.container.addShape("text",{attrs:(0,u.deepMix)({},m,{x:c.x,y:c.y,text:Y,fill:T,textAlign:f[v],textBaseline:"middle"}),name:"label"});h.push(W),r.doAnimation(W)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,u.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new tn(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:pg,offsetY:0,style:(0,u.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,f=s.offsetY,h=a+o/2+f,c,v;return this.options.position==="outer"?(c=e-l,v=n+l):(c=e+l,v=n-l),[{x:c,y:h},{x:v,y:h}]},i.prototype.getValue=function(r){var t=this.plot.options.xField;return r.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=ro(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=cO(s,o);return l}var f=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return f},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,f=[r.getBBox(),t.getBBox()],h=r.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var v=f[0].width+f[1].width,m=f[0].maxX-f[1].minX>2,T=v>s;(m||T)&&(h=a-this.options.offsetX,r.attr("fill",this.options.leftStyle.fill),r.attr("textAlign","right"),f[0]=r.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),f[1]=t.getBBox())}f[0].minX<l.minX&&(h=l.minX+pg,r.attr("textAlign","left")),r.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),dO=vO,gg;function yg(i,r){var t=i.getBBox(),e=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},r.duration,r.easing,function(){i.setClip(null)},r.delay)}yg.animationName="clipInFromCenter";function pO(i){gg=i}function mg(i,r){var t=gO(i).attr("path"),e=(0,u.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function gO(i){var r=i.id,t;return(0,u.each)(gg,function(e){e.id===r&&(t=e)}),t}mg.animationName="updateFromCenter",hi("clipInFromCenter",yg),hi("updateFromCenter",mg);var xg=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,u.each)(e,function(n){var a=n.elements;(0,u.each)(a,function(o){t.push(o.shape)})}),pO(t),i.prototype.afterRender.call(this)},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new dO((0,Gt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.animation=function(){i.prototype.animation.call(this)},r}(Hl),yO=xg;un("rangeBar",xg);var mO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="rangeBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=yO.getDefaultOptions,r}(Jr),bg=mO,wg=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(Fp),xO=wg;qi("area-point",wg);var Sg=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){i.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},r.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=mo(e,"area"),l=KA(s).sort(function(f,h){return h.getBBox().height-f.getBBox().height});(0,u.each)(t,function(f){var h=f.getBBox(),c=KE(h.x,h.y,h.width,h.height),v=(0,u.map)(l,function(D){return{area:D,matches:(0,u.filter)(c,function(Y){return!!D.isHit(Y[0],Y[1])}).length}}).sort(function(D,Y){return D.matches-Y.matches});if((0,u.last)(v).matches>0){var m=(0,u.last)(v).area.attr("fill"),T=hh(m);f.attr({fill:T?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:T?o.fillOpacity:a.fillOpacity,stroke:T?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},r}(JP),bO=Sg;qi("area-point-auto",Sg);function wO(i){var r=i.getResponsiveTheme(),t=i.canvas;new bo({plot:i,responsiveTheme:r,dim:"x"}),new bo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var SO=[],MO=[{name:"responsiveAxis",method:wO}],CO={preRender:SO,afterRender:MO},EO={area:"area",line:"line",point:"point"},AO=Ti(EO);(0,u.assign)(dn,AO);var TO=function(i){var r=i.opacity||1;return{opacity:r}},PO=function(i){var r=i.opacity||1;return{opacity:r*.5}},_O=function(i){var r=i.opacity||1;return{opacity:r}},OO=function(i){var r=i.opacity||1;return{opacity:r*.5}},LO=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},IO=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},kO=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},BO=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}},Mg={areaStyle:{normal:{},active:TO,disable:PO,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:_O,disable:OO,selected:LO},pointStyle:{normal:{},active:IO,disable:BO,selected:kO},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};ta("area",Mg);var DO={area:"area",line:"line",point:"point"},Cg=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return DO[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){return null},r.prototype.addGeometry=function(){var t=this.options,e=ni("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},r.prototype.adjustArea=function(t){},r.prototype.adjustLine=function(t){},r.prototype.adjustPoint=function(t){},r.prototype.addLine=function(){var t=this.options,e=(0,u.deepMix)({},t.line);if(e.visible){var n=ni("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},r.prototype.addPoint=function(){var t=this.options,e=(0,u.deepMix)({},t.point);if(e.visible){var n=ni("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=mo(this.view,"area");this.doRenderLabel(s,(0,Gt.__assign)({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.label=function(){},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},r.prototype.applyResponsive=function(t){var e=this,n=CO[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r}(Qn),dh=Cg;un("area",Cg);var FO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="area",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=dh.getDefaultOptions,r}(Jr),Eg=FO,RO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,u.reduce)(n.y,function(f,h){return f+h},0)/(0,u.size)(n.y);return{x:n.x,y:l,color:a,name:s}},r}(Np),NO=RO,ph=12,YO=.01,GO=100,zO=12;function XO(i){var r=-Infinity,t=Infinity,e=-Infinity;return(0,u.each)(i,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);r=Math.max(r,a)}),{xRange:[t,e],maxHeight:r}}function Ag(i,r,t){var e=r[0],n=r[r.length-1];(0,u.each)(r,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>e.x&&(e=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function VO(i,r){var t;for(t=0;t<i.length;t++){var e=i[t];if(e.x===r||e.x>r)break}return t}var HO=function(){function i(r){this.destroyed=!1,this.scaleFactor=[],this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,u.each)(e,function(o,s){var l=r.drawLabel(o,s);l&&(n.push((0,u.deepMix)({},o[0],l)),r.scaleFactor.push(l.scaleFactor))});var a=[];(0,u.each)(n,function(o,s){var l=r.options,f=l.style,h=l.offsetX,c=l.offsetY,v=r.getFontSize(s),m=r.options.formatter,T=m?m(o._origin[t]):o._origin[t],D=r.container.addShape("text",{attrs:(0,u.deepMix)({},{x:o.x+h,y:o.y+c,text:T,fill:o.color,fontSize:v,textAlign:"center",textBaseline:"top"},f),name:"label"});a.push(D)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,u.clone)(r.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(r,t){var e=XO(r),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,r),l=this.getLabelBbox(t),f={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection(zO,a,this.testFit,f,YO,GO);if(h!==null){f.justTest=!1;var c=this.testFit(f);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(r,t,e){for(var n=[],a=2,o=r;o<t;o+=a){var s=Ag(o,e,0),l=Ag(o,e,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(r,t,e,n,a,o){for(var s=0;s<o;s++){var l=(r+t)/2,f=n;f.height=l,f.width=l*f.aspect;var h=e(f),c=(t-r)/2<a;if(h&&c)return l;h?r=l:t=l}return null},i.prototype.testFit=function(r){for(var t=r.xRange,e=r.width,n=r.height,a=r.data,o=r.justTest,s=0;s<a.length;s++){var l=a[s],f=l.x,h=f+e;if(h>t[1])break;for(var c=VO(a,h),v=-Infinity,m=null,T=Infinity,D=s;D<c;D++){var Y=a[D].y[1],W=a[D].y[0];if(W<T&&(T=W),Y>v&&(v=Y,m=W),T-v<n)break}if(T-v>=n)return o?!0:{x:f,y0:v,y1:m,width:e,height:n}}return!1},i.prototype.getLabelBbox=function(r){var t=(0,u.clone)(this.plot.theme.label.textStyle);t.fontSize=ph;var e=this.container.addShape("text",{attrs:(0,Gt.__assign)({text:r,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="area"})},i.prototype.getFontSize=function(r){if(this.options.autoScale){var t=this.scaleFactor[r];return ph*t}return ph},i}(),WO=HO,jO={lineLabel:{Ctr:NO},areaLabel:{Ctr:WO}};function UO(i,r,t){if(i.options[r]&&i.options[r].visible){var e=jO[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var ZO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(xO),xG=null;qi("stackedArea-point",ZO);var KO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},r}(bO),bG=null;qi("stackedArea-point-auto",KO),ta("stackedArea",Mg);var Tg=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},r.prototype.beforeInit=function(){var t=(0,u.get)(this.options,["label","visible"]),e=(0,u.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},r.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},r.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,u.each)(e,function(n){var a=(0,Gt.__assign)({view:t.view,plot:t},t.options[n]),o=UO(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(dh),gh=Tg;un("stackedArea",Tg);var $O=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gh.getDefaultOptions,r}(Jr),Pg=$O,_g=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return vh(t,n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},r}(gh),Og=_g;un("percentStackedArea",_g);var QO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Og.getDefaultOptions,r}(Jr),Lg=QO;function JO(i){var r=i.getResponsiveTheme(),t=i.canvas;new bo({plot:i,responsiveTheme:r,dim:"x"}),new bo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var qO=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,u.get)(this.plot.options,["label","position"],"inner")},r}(Bp);function tL(i){var r=i.getResponsiveTheme();new qO({plot:i,responsiveTheme:r})}var eL=[],rL=[{name:"responsiveAxis",method:JO},{name:"responsiveLabel",method:tL}],nL={preRender:eL,afterRender:rL},iL={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};sp("column",iL);var Ig=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,l=o.formatter,f=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,u.deepMix)({},s,(0,Gt.__assign)((0,Gt.__assign)({},this.getPosition(t)),{text:l?l(h,(n={},n[Ts]=(a=f[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=f[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Gt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},r.prototype.getValue=function(t){return(0,u.get)(t.getData(),this.layer.options.yField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,f=a.height,h=a.width,c=this.options,v=c.offsetX,m=c.offsetY,T=c.position,D=o+h/2+v,Y=n>0?-1:1,W;if(T==="top"){var H=n>0?s:l;W=H+e*Y+m}else if(T==="bottom"){var H=n>0?l:s;W=H+e*Y+m}else W=s+f/2+m;return{x:D,y:W}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=ro(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],f=Vl(l,s);return f}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,u.each)(n.get("origin").points,function(m){a.push(e.coord.convertPoint(m))});var o=a.map(function(m){return m.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),f=a.map(function(m){return m.y}),h=Math.min.apply(Math,f),c=Math.max.apply(Math,f),v=new tn(s,h,l-s,c-h);return v},r.prototype.getTextAlign=function(){return"center"},r.prototype.getTextBaseLine=function(){return"middle"},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Vf),yh=Ig;qi("column",Ig);var kg=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,f=a.width,h=this.options,c=h.offsetX,v=h.offsetY,m=o+f/2+c,T=n>0?-1:1,D=n>0?s:l,Y=D+e*T+v;return{x:m,y:Y}},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,u.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,f=s.lightStyle,h=(0,u.groupBy)(e,function(c){return c.get(oa)[Sn.FIELD_ORIGIN][o]});(0,u.each)(e,function(c){var v=h[c.get(oa)[Sn.FIELD_ORIGIN][o]]||[],m=c.get("element"),T=m.shape,D=hh(T.attr("fill")),Y=n.getElementShapeBBox(m),W=tn.fromBBoxObject(c.getBBox());if(th(a,Y)<=0&&c.set("visible",!1),W.height>Y.height){var H=(0,u.findIndex)(v,function(lt){return lt===c});H!==0&&c.set("visible",!1)}else{c.attr({y:Y.y+Y.height/2,textBaseline:"middle"});var st=W.width>Y.width||W.height>Y.height;st?c.attr({stroke:f==null?void 0:f.stroke}):c.attr({fill:D?f==null?void 0:f.fill:l==null?void 0:l.fill,fillOpacity:D?f==null?void 0:f.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],f=(0,u.groupBy)(a,function(m){return m.get(oa)[Sn.FIELD_ORIGIN][o]}),h=(0,u.uniq)((0,u.map)(a,function(m){return m.get(oa)[Sn.FIELD_ORIGIN][o]})),c;for((0,u.size)(h)>0&&(c=h.shift(),(0,u.each)(f[c],function(m){return l.push(m)})),(0,u.size)(h)>0&&(c=h.pop(),(0,u.each)(f[c],function(m){return l.push(m)})),(0,u.each)(h.reverse(),function(m){(0,u.each)(f[m],function(T){return l.push(T)})});l.length>0;){var v=l.shift();v.get("visible")&&(Nl(v,n),Yl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,u.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(yh),aL=kg;qi("column-auto",kg);var oL={column:"interval"},sL=Ti(oL);(0,u.assign)(dn,sL);var lL=function(i){var r=i.opacity||1;return{opacity:r*.5}},uL=function(i){var r=i.opacity||1;return{opacity:r*.5,fillOpacity:r*.5}},mh={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:lL,disable:uL,selected:{lineWidth:1,stroke:"black"}}};ta("column",mh);var fL={column:"interval"},hL={interval:"column"},Bg=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new eg((0,Gt.__assign)({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?fL[e]:hL[e]},r.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,u.each)(t,function(a){var o=(0,u.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.adjustColumn=function(t){},r.prototype.addGeometry=function(){var t=this.options,e=ni("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,u.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},r.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,w)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=mo(this.view,"interval");this.doRenderLabel(s,(0,Gt.__assign)({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.applyResponsive=function(t){var e=this,n=nL[t];(0,u.each)(n,function(a){var o=a;o.method(e)})},r}(Qn),es=Bg;un("column",Bg);var cL=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="column",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=es.getDefaultOptions,r}(Jr),Dg=cL;ta("groupedColumn",mh);var Fg=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(es),xh=Fg;un("groupedColumn",Fg);var vL=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xh.getDefaultOptions,r}(Jr),Rg=vL;function Ng(i,r){var t=[],e=i.get("origin").points;return(0,u.each)(e,function(n){t.push(r.convertPoint(n))}),t}function dL(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var pL=function(){function i(r){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,u.assign)(this,r),this._init()}return i.prototype.draw=function(){var r=this,t=this._getGroupedShapes();(0,u.each)(t,function(e,n){e.length>0&&r._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(r,t){r==="active"&&this._onActive(t),r==="disabled"&&this._onDisabled(t),r==="selected"&&this._onSelected(t)},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype._getGroupedShapes=function(){var r=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,u.each)(t,function(o){a[o]=[]}),(0,u.each)(n,function(o){var s=o.get("origin").data,l=s[r.field];a[l].push(o)}),a},i.prototype._drawConnection=function(r,t){var e=r[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<r.length-1;a++){var o=Ng(r[a],n),s=Ng(r[a+1],n),l=(0,u.mix)({},this._areaStyle[t]),f=(0,u.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,f.opacity=0);var h=this.container.addShape("path",{attrs:(0,u.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,u.mix)({},f,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),v=r[a].get("origin").data;h.set("data",v),c.set("data",v),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(r,t){var e=t+"Style";if(this[e])return this[e];var n=dL()[e],a={fill:r};return t==="line"&&(a={stroke:r}),(0,u.mix)(n,a)},i.prototype._addInteraction=function(){var r=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[r.field];r.setState("active",{name:r.field,exp:n}),r.setState("disabled",{name:r.field,exp:function(a){return a!==n}}),r.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&r.setState("disabled",{name:r.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var r=this.view.coordinateBBox,t=r.x,e=r.y,n=r.width,a=r.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(r){var t=this;(0,u.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if(eo(n,r)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,u.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if(eo(n,r)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(r){(0,u.each)(this.areas,function(t){var e=t.get("data");eo(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,u.each)(this.lines,function(t){var e=t.get("data");eo(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(r){this._onActive(r)},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),gL=pL;ta("stackedColumn",mh);var yL=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},r}(yh),wG=null;qi("stacked-column",yL);var mL=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(aL),SG=null;qi("stacked-column-auto",mL);var Yg=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},r.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},r.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new gL((0,Gt.__assign)({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=mo(this.view,"interval");this.doRenderLabel(s,(0,Gt.__assign)({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(es),Wl=Yg;un("stackedColumn",Yg);var xL=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Wl.getDefaultOptions,r}(Jr),Gg=xL,bh=8;function bL(i,r){var t;return(0,u.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var wL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,u.each)(n,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),f=r.getTextBaseline(),h=[];(0,u.each)(s,function(c,v){var m=v===1?r.options.topStyle:r.options.bottomStyle,T=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&T!=="black"&&(m.stroke=null);var D=r.options.formatter,Y=D?D(l[v]):l[v],W=r.container.addShape("text",{attrs:(0,u.deepMix)({},m,{x:c.x,y:c.y,text:Y,fill:T,textAlign:"center",textBaseline:f[v]}),name:"label"});h.push(W),r.doAnimation(W)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,u.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new tn(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:0,offsetY:bh,style:(0,u.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=e+o/2,f,h;return this.options.position==="outer"?(f=n-s,h=a+s):(f=n+s,h=a-s),[{x:l,y:h},{x:l,y:f}]},i.prototype.getValue=function(r){var t=this.plot.options.yField;return r.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=ro(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=bL(s,o);return l}var f=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return f},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),l=s.height,f=l,h=this.view.coordinateBBox,c=[r.getBBox(),t.getBBox()],v=r.attr("y"),m=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var T=c[0].height+c[1].height,D=c[1].maxY-c[0].minY>2,Y=T>f;(D||Y)&&(m=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),v=o+this.options.offsetY,r.attr("fill",this.options.bottomStyle.fill),r.attr("textBaseline","top"),c[0]=r.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-bh&&(v=h.maxY-bh/2,r.attr("textBaseline","bottom")),r.attr("y",v),t.attr("y",m),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),SL=wL,zg;function Xg(i,r){var t=i.getBBox(),e=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Xg.animationName="clipInFromCenterVertical";function ML(i){zg=i}function Vg(i,r){var t=CL(i).attr("path"),e=(0,u.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function CL(i){var r=i.id,t;return(0,u.each)(zg,function(e){e.id===r&&(t=e)}),t}Vg.animationName="updateFromCenterVertical",hi("clipInFromCenterVertical",Xg),hi("updateFromCenterVertical",Vg);var Hg=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return r.getDefaultOptions=function(){return(0,u.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,u.each)(e,function(n){var a=n.elements;(0,u.each)(a,function(o){t.push(o.shape)})}),ML(t),i.prototype.afterRender.call(this)},r.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new SL((0,Gt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r}(es),EL=Hg;un("rangeColumn",Hg);var AL=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="rangeColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=EL.getDefaultOptions,r}(Jr),Wg=AL,jg=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return vh(t||[],n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Wl),Ug=jg;un("percentStackedColumn",jg);var TL=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ug.getDefaultOptions,r}(Jr),Zg=TL,PL={pie:"interval"},_L=Ti(PL);(0,u.assign)(dn,_L);function jl(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}function MG(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function OL(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function LL(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e&&i.x<r.x&&(e=-e),n&&i.y<r.y&&(n=-n),i.x===r.x&&i.width===r.width&&(e=r.width),i.y===r.y&&i.height===r.height&&(n=r.height),{xOverlap:e,yOverlap:n}}function CG(i,r){return i.x<r.x&&i.x+i.width>r.x+r.width&&i.y<r.y&&i.y+i.height>r.y+r.height}var IL=function(i,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(Infinity)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function kL(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function BL(i){var r=Math.PI/2,t=i;return(t>r||t<-r)&&(t=t+Math.PI),t}var EG=4;function DL(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}function FL(i,r){var t=i.getBBox();r.y<=t.y&&r.y+r.height>=t.y+t.height||i.get("parent").set("visible",!1)}var RL=function(){function i(r,t){this.destroyed=!1,this.plot=r,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,u.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return i.prototype.adjustOverlap=function(r,t){for(var e=1;e<r.length;e++)for(var n=r[e],a=0,o=e-1;o>=0;o--){var s=r[o],l=s.getBBox(),f=n.getBBox();if(s.get("parent").get("visible")&&(a=OL(l,f),!IL(a,0))){n.get("parent").set("visible",!1);break}}r.forEach(function(h){return FL(h,t)})},i.prototype.adjustItem=function(r){},i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var r=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[r]},0)},i.prototype.drawTexts=function(){var r=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,f=t.allowOverlap,h=this.getItems(),c=[];h.map(function(v,m){var T=(0,u.deepMix)({},v,e),D=r.getFilteredSum(),Y=r.plot.options.angleField,W=v.origin[Y]/D,H=n?n(v.name,{_origin:v.origin,percent:W},m):v.name,st=r.container.addGroup({name:"itemGroup",index:m,capture:!1}),lt=st.addShape("text",{attrs:(0,u.deepMix)({},T,{x:v.x+o,y:v.y+s,text:H})});lt.set("id","text-"+v.name+"-"+m),c.push(lt)}),c.forEach(function(v){var m=r.coordinateBBox;r.adjustText(v,m)}),l&&this.layout(c,h,this.coordinateBBox),f||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(v,m){a&&r.rotateLabel(v,BL(h[m].angle))})},i.prototype.adjustText=function(r,t){var e=r.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),r.attr("textAlign")==="left"?r.attr("x",Math.max(e.x-a,0)):r.attr("textAlign")==="right"&&r.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=r.attr(l)});var s=r.attr("text").split(`
`).map(function(l){return Zd(l,n,o)});r.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var r=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=r.arcPoints[a],l=s.x<e.x,f=r.options.offset>4?4:0,h=r.getLinePath(o,s,f),c=r.options.line;n.addShape("path",{attrs:(0,Gt.__assign)({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-f:f))})}},i.prototype.getLinePath=function(r,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,f=jl(s,a,l+e);e<4&&(f=t);var h=t.x<s.x,c=r.getBBox(),v={x:h?c.maxX:c.minX,y:c.y+c.height/2},m=["C",v.x+(h?1:-1)*(e<4?e/2:4),v.y,2*f.x-t.x,2*f.y-t.y,f.x,f.y],T=["L",f.x,f.y],D=n?m:T,Y=["M",v.x,v.y].concat(D).concat("L",t.x,t.y);return Y.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var r=this.getGeometry().coordinate,t=r.getCenter(),e=r.getRadius(),n=r.startAngle;return{center:t,radius:e,startAngle:n}},i.prototype.adjustOption=function(r){var t=r.offset,e=this.getCoordinate().radius;(0,u.isString)(t)&&(t=e*DL(t)),r.offset=t},i.prototype.rotateLabel=function(r,t){var e=r.attr("x"),n=r.attr("y"),a=Pn.transform(r.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);r.setMatrix(a)},i.prototype.getItems=function(){var r=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var l=jl(n,s.angle,a+t),f=(0,Gt.__assign)((0,Gt.__assign)({},s),l);return r.adjustItem(f),f});return o},i.prototype.initArcPoints=function(){var r=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,f=l[1],h=f.field,c=e.map(function(v){var m=v.shape.get("origin"),T=m.color,D=m.data[0]||m.data,Y=s+Math.PI*2*f.scale(D[h]),W=(s+Y)/2,H=jl(a,W,o);s=Y;var st=f.getText(D[t]),lt=H.x>a.x?"left":"right";return{x:H.x,y:H.y,color:T,name:st,origin:D,angle:kL(r.getGeometry().coordinate,H),textAlign:lt}});this.arcPoints=c},i}(),wh=RL;function AG(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}var NL=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},r.prototype.adjustItem=function(t){t.textAlign="middle"},r.prototype.drawLines=function(){},r.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,u.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:(0,Gt.__assign)((0,Gt.__assign)({},e),{textAlign:"center",textBaseline:"middle"})}},r.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=e.getBBox(),f={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,u.clone)(f),c=(0,u.clone)(f);if(e.get("id")!==t.get("id")){var v=LL(s,l),m=v.xOverlap,T=v.yOverlap;if(m&&(h.x=f.x+m,h.y=f.y+Math.tan(o)*m),T){var D=T;f.y<a.y?D=D<0?D:l.minY-s.maxY:D=D>0?D:l.maxY-s.minY,c.y=f.y+D,c.x=f.x+D/Math.tan(o)}var Y=Ad(f,h),W=Ad(f,c),H=Y<W?h:c;t.attr("x",H.x),t.attr("y",H.y)}},r}(wh),YL=NL,TG=16,GL=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Gt.__assign)((0,Gt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,u.filter)(t,function(f){return f.attr("x")<=o.x}),l=(0,u.filter)(t,function(f){return f.attr("x")>o.x});[l,s].forEach(function(f,h){a._antiCollision(f,!h,n)})},r.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,f=s.radius,h=this.options.offset,c=f+h,v=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),m=Math.floor(v/o);this.options.allowOverlap||t.slice(m).forEach(function(Yt){Yt.get("parent").set("visible",!1)}),t.splice(m,t.length-m),t.sort(function(Yt,re){return Yt.getBBox().y-re.getBBox().y});for(var T=!0,D,Y=l.y+v/2,W=l.y-v/2,H=t.map(function(Yt){var re=Yt.getBBox();return re.maxY>Y&&(Y=Math.min(n.maxY,re.maxY)),re.minY<W&&(W=Math.max(n.minY,re.minY)),{text:Yt.attr("text"),size:o,pos:re.y,targets:[]}}),st=0;st<H.length;)st===H.length-1?H[st].targets[0]=Y:H[st].targets[0]=H[st+1].pos-H[st+1].size/2,st++;for(;T;)for(H.forEach(function(Yt){var re=(0,u.last)(Yt.targets);Yt.pos=Math.max(W,Math.min(Yt.pos,re-Yt.size))}),T=!1,D=H.length;D--;)if(D>0){var lt=H[D-1],Mt=H[D];if(lt.pos+lt.size>Mt.pos){lt.size+=Mt.size,lt.targets=lt.targets.concat(Mt.targets);var Ft=(0,u.last)(lt.targets);lt.pos+lt.size>Ft&&(lt.pos=Ft-lt.size),H.splice(D,1),T=!0}else lt.targets.splice(-1,1,Mt.pos)}D=0,H.forEach(function(Yt){var re=o/2;Yt.targets.forEach(function(){t[D].attr("y",Yt.pos+re),re+=o,D++})});var zt=[],Zt=[];t.forEach(function(Yt,re){var he=a.arcPoints[re];he.angle>=0&&he.angle<=Math.PI?Zt.push(Yt):zt.push(Yt)}),[zt,Zt].forEach(function(Yt,re){if(!!Yt.length){var he=re?(0,u.last)(Yt).getBBox().maxY-l.y:l.y-(0,u.head)(Yt).getBBox().minY;he=Math.max(c,he);var le=h>4?4:0,Ae=Math.max.apply(0,(0,u.map)(t,function(Ke){return Ke.getBBox().width}))+h+le,Ie=Math.max(c,Math.min((he+c)/2,l.x-(n.minX+Ae))),Le=Ie*Ie,je=he*he;Yt.forEach(function(Ke,Qe){var He=a.arcPoints[Qe],We=Ke.getBBox(),yr={x:We.minX+We.width/2,y:We.minY+We.height/2},gr=Math.pow(yr.y-l.y,2),Mr=jl(l,He.angle,f),qe=(e?1:-1)*le*2;if(gr>je)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",Ke.attr("text")),Ke.attr("x",Mr.x+qe);else{var br=l.x+(e?1:-1)*Math.sqrt((1-gr/je)*Le);(l.x===Mr.x&&yr.y===Mr.y||l.y===Mr.y&&br===Mr.x)&&(br=Mr.x),Ke.attr("x",br+qe)}})}})},r.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,u.head)(t)?(0,u.head)(t).getBBox().height:14},r}(wh),zL=GL,PG=16,XL=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Gt.__assign)((0,Gt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},r.prototype.layout=function(t,e,n){},r}(wh),VL=XL,Kg={inner:YL,outer:zL,"outer-center":VL};function HL(i){if(!Kg[i]){console.warn("this label "+i+" is not registered");return}return Kg[i]}var WL=0,Sh=15,jL="#CCC",UL=2,ZL=-2,$g=15;function Qg(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}var KL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.options=(0,u.deepMix)({},this.getDefaultOptions(),r),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear()})},i.prototype.render=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,u.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,u.each)(n,function(Mt){e.push(Mt.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],f=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,v=this.coord.polarRadius,m=this.view.coordinateBBox,T=m.width,D=m.height;this.width=T,this.height=D;for(var Y=c,W=function(Mt){var Ft=t[Mt],zt=f.scale(Ft[l]),Zt=Y+Math.PI*2*zt,Yt=Y+(Zt-Y)/2;Y=Zt;var re=Qg(h,Yt,v+WL),he=Qg(h,Yt,v+Sh),le=jL;if(H.options.fields.length===2){var Ae=H.options.fields[1],Ie=H.view.geometries[0].scales[Ae],Le=Ie.scale(Ft[Ae]);if(Le){var je=Math.floor(Le*(e.length-1));le=e[je].attr("fill")}}var Ke={_anchor:re,_inflection:he,_data:Ft,x:he.x,y:he.y,r:v+Sh,fill:le,textGroup:null,_side:null},Qe=[];if((0,u.each)(H.options.fields,function(Dr){o&&Dr===Ul?Qe.push(Ft[s]):Qe.push(Ft[Dr])}),H.options.formatter){var He=H.options.formatter(Ft[s],{_origin:Ft,color:le},Mt);(0,u.isString)(He)&&(He=[He]),Qe=He}var We=H.container.addGroup({capture:!1,visible:!1}),yr={x:0,y:0,fontSize:H.options.text.fontSize,lineHeight:H.options.text.fontSize,fontWeight:H.options.text.fontWeight,fill:H.options.text.fill},gr=Ft[s];H.options.formatter&&(gr=Qe[0]);var Mr=(0,u.clone)(yr);Qe.length===2&&(Mr.fontWeight=700);var qe=We.addShape("text",{attrs:(0,u.mix)({textBaseline:Qe.length===2?"top":"middle",text:gr},Mr),data:Ft,offsetY:Qe.length===2?UL:0,name:"label"});if(qe.name="label",Qe.length===2){var br=We.addShape("text",{attrs:(0,u.mix)({textBaseline:"bottom",text:Qe[1]},yr),data:Ft,offsetY:ZL,name:"label"});br.name="label"}Ke.textGroup=We,re.x<h.x?(Ke._side="left",H.halves[0].push(Ke)):(Ke._side="right",H.halves[1].push(Ke))},H=this,st=0;st<t.length;st++)W(st);var lt=Math.floor(D/this.options.lineHeight);(0,u.each)(this.halves,function(Mt){Mt.length>lt&&Mt.splice(lt,Mt.length-lt),Mt.sort(function(Ft,zt){return Ft.y-zt.y}),r._antiCollision(Mt)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(r){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-Sh-this.options.lineHeight,l=!0,f=n,h,c=0,v=Number.MIN_VALUE,m=0,T=r.map(function(st){var lt=st.y;lt>c&&(c=lt),lt<v&&(v=lt);var Mt=st.textGroup,Ft=Mt.getBBox().width;return Ft>=m&&(m=Ft),{size:t.options.lineHeight,targets:[lt-s]}});c-s>f&&(f=c-s);for(var D=function(st){st.forEach(function(lt){var Mt=(Math.min.apply(v,lt.targets)+Math.max.apply(v,lt.targets))/2;lt.pos=Math.min(Math.max(v,Mt-lt.size/2),f-lt.size)})};l;)for(D(T),l=!1,h=T.length;h--;)if(h>0){var Y=T[h-1],W=T[h];Y.pos+Y.size>W.pos&&(Y.size+=W.size,Y.targets=Y.targets.concat(W.targets),Y.pos+Y.size>f&&(Y.pos=f-Y.size),T.splice(h,1),l=!0)}h=0,T.forEach(function(st){var lt=s;st.targets.forEach(function(){r[h].y=st.pos+lt+t.options.lineHeight/2,lt+=t.options.lineHeight,h++})});var H=[];r.forEach(function(st){var lt=t._drawLabel(st);t._drawLabelLine(st,m,lt),H.push(lt)})},i.prototype._drawLabel=function(r){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=r.y,o=r.textGroup,s=o.get("children"),l=r._side==="left"?1:-1,f=(0,Gt.__assign)({textAlign:r._side==="left"?"right":"left",x:r._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(f.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),v=a+c;h.attr(f),h.attr("y",v)}),o.show(),o},i.prototype._drawLabelLine=function(r,t,e){var n=[r._anchor.x,r._anchor.y],a=[r._inflection.x,r._inflection.y],o=r.y,s=r.textGroup;if(!!s){var l=[r._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],f=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+$g,v=l[0]-$g,m=[r._side==="left"?c:v,a[1]];f=[n,h,m,l],(r._side==="right"&&m[0]<h[0]||r._side==="left"&&m[0]>h[0])&&(f=[n,h,l])}else f=[n,[a[0],o],l];for(var T=[],D=0;D<f.length;D++){var Y=f[D],W="L";D===0&&(W="M"),T.push([W,Y[0],Y[1]])}e.addShape("path",{attrs:{path:T,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(r){r.text.fontSize&&(r.lineHeight=r.text.fontSize*3)},i}(),$L=KL,QL=function(i){var r=i.opacity||1;return{fillOpacity:r*.8}},JL=function(i){var r=i.opacity||1;return{fillOpacity:r*.5}};ta("pie",{columnStyle:{normal:{},active:QL,disable:JL,selected:{lineWidth:1,stroke:"black"}}});var Ul="$$percentage$$",qL={pie:"interval"},tI={pie:"column"},Jg=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,u.every)(a,function(l){return l[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,u.every)(n,function(h){return h[o]===0}),l=s?Ul:o;this.labelComponent=new $L((0,Gt.__assign)({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var f=HL(e.type);this.labelComponent=new f(this,t.label),this.labelComponent.render()}}},r.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?qL[e]:tI[e]},r.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,u.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},r.prototype.processData=function(t){var e=this.options.angleField,n=(0,u.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return(0,Gt.__assign)((0,Gt.__assign)({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[Ul]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return(0,Gt.__assign)((0,Gt.__assign)({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},r.prototype.axis=function(){},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,u.every)(e,function(s){return s[n]===0});o?a=ni("interval","main",{plot:this,positionFields:[1,Ul]}):a=ni("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},r.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,y)},r.prototype.label=function(){this.pie.label=!1},r}(Qn),qg=Jg;un("pie",Jg);var eI=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="pie",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=qg.getDefaultOptions,r}(Jr),ty=eI,rI=.3989422804014327,nI=1/255/16,Is="_origin",iI=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return r.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},r.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Is][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,u.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},r.prototype.prepareBlur=function(){var t=(0,u.get)(this.styleOption,["style","shadowBlur"]);(0,u.isNumber)(t)||(t=this.radius/2),this.blur=t},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=ro(e.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(nI/t/n/rI))/3*t,o=a-t,s=a+o,l=e.getContext("2d");e.width=e.height=s*2,l.clearRect(0,0,e.width,e.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},r.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),f=this.getAttribute("color"),h=f.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function(st){return st[Is][h]<=e[1]&&st[Is][h]>=e[0]}));for(var v=this.scales[h],m=0;m<t.length;m++){var T=t[m],D=this.getDrawCfg(T),Y=v.scale(T[Is][h]);this.drawGrayScaleBlurredCircle(D.x-a.x,D.y-o.y,this.radius+this.blur,Y,c)}var W=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(W),c.putImageData(W,0,0);var H=new Image;H.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,Gt.__assign)((0,Gt.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Is]})},r}(Qa);Ca("linearHeatmap",iI);var aI=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return r.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},r.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},r.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},r.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},r.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},r.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},r.prototype.getCoordinate=function(){var t;return(0,u.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},r}(we.default),oI=aI,Zl=4,ey=1,sI=.1,lI=function(){function i(r){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();r.plot.options.theme&&r.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,u.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var r=this.options.plot.container;this.container=r.addGroup()},i.prototype.render=function(){var r=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new tn(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),l=(0,u.clone)(e).reverse(),f=(t-r)/e.length;(0,u.each)(l,function(h,c){var v=o*c,m={to:t-f*c,from:t-f*(c+1)},T=n.container.addShape("rect",{attrs:{x:0,y:v,width:a,height:o,fill:h,opacity:ey,cursor:"pointer"},name:"legend"});T.set("info",m);var D=n.getDataSlide(m);n.dataSlides[m.from+"-"+m.to]={mode:"active",data:D},s.addShape("path",{attrs:(0,Gt.__assign)({path:[["M",0,v+o],["L",a,v+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Gt.__assign)({text:t,x:a/2,y:-Zl,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Gt.__assign)((0,Gt.__assign)({text:r,x:a/2,y:this.height+Zl,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:(0,Gt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),l=(t-r)/e.length;(0,u.each)(e,function(f,h){var c=a*h,v={from:l*h,to:l*(h+1)},m=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:f,opacity:.8,cursor:"pointer"},name:"legend"});m.set("info",v),s.addShape("path",{attrs:(0,Gt.__assign)({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Gt.__assign)((0,Gt.__assign)({text:r,x:-Zl,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Gt.__assign)({text:t,x:this.width+Zl,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:(0,Gt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.options.plot.options.width;return r*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.options.plot.options.height;return r*.5}return 10},i.prototype.legendLayout=function(){var r=this,t=this.options.plot.getPlotTheme().bleeding;(0,u.isArray)(t)&&(0,u.each)(t,function(f,h){typeof t[h]=="function"&&(t[h]=t[h](r.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=l-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var r=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=r.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:sI},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:ey},200));var l=r.getFilteredData();l.length>0&&(r.view.changeData(l),r.view.scale(t,{min:r.colorScale.min,max:r.colorScale.max,nice:r.colorScale.nice}),r.view.render())}})},i.prototype.getFilteredData=function(){var r=[];return(0,u.each)(this.dataSlides,function(t){t.mode=="active"&&r.push.apply(r,t.data)}),r},i.prototype.getDataSlide=function(r){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,u.each)(a,function(o){var s=o[n];s>=r.from&&s<r.to&&t.push(o)}),t},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.getScales=function(){var r;return(0,u.each)(this.view.geometries,function(t){t.type==="heatmap"&&(r=t.scales)}),r},i}(),uI=lI,fI={background:{Ctr:oI},legend:{Ctr:uI,padding:"outer"}};function hI(i,r,t){if(i.options[r]&&i.options[r].visible){var e=fI[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var cI={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},vI=Ti(cI);(0,u.assign)(dn,vI);var ry=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.destroy=function(){(0,u.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,u.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.geometryParser=function(){return"heatmap"},r.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},r.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,u.deepMix)(e,t.point):t.point=e;var n=ni("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=Fi("label",(0,Gt.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,x)},r.prototype.renderPlotComponents=function(){var t=this;(0,u.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,u.each)(e,function(n){var a=(0,Gt.__assign)({view:t.view,plot:t},t.options[n]),o=hI(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Qn),dI=ry;un("densityHeatmap",ry);var pI=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="densityHeatmap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=dI.getDefaultOptions,r}(Jr),ny=pI;function Kl(i,r,t,e,n){var a=t*n,o=e*n,s=[["M",i-a/2,r+o/2],["Q",i-a/2,r,i-a/2,r-o/2],["Q",i,r-o/2,i+a/2,r-o/2],["Q",i+a/2,r,i+a/2,r+o/2],["Q",i,r+o/2,i-a/2,r+o/2],["Z"]];return s}function $l(i,r,t){var e=[["M",i,r],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function iy(i,r,t){var e=[["M",i-t,r],["Q",i-t,r-t,i,r-t],["Q",i+t,r-t,i+t,r],["Q",i+t,r+t,i,r+t],["Q",i-t,r+t,i-t,r],["Z"]];return e}bn("polygon","rect",{draw:function(i,r){var t=this.parsePoints(i.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=Kl(a,o,e,n,i.size);return r.addShape("path",{attrs:(0,u.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),bn("point","curvePoint",{draw:function(i,r){var t=$l(i.x,i.y,i.size);return r.addShape("path",{attrs:(0,u.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var gI=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.view.geometries[0].elements;(0,u.each)(t,function(e){var n=e.shape,a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,f=r.options.formatter,h=f?f(r.getContent(n)):r.getContent(n),c=r.getPosition(n),v=r.getTextColor(n),m=r.container.addShape("text",{attrs:(0,u.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:v,textAlign:"center",textBaseline:"middle"}),name:"label"});r.options.adjustPosition&&r.adjustLabel(m,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,u.clone)(t)}},i.prototype.getContent=function(r){var t=r.get("origin").data,e=this.plot.options.colorField;return t[e]},i.prototype.getPosition=function(r){var t=r.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(r){if(this.options.adjustColor){var t=r.attr("fill"),e=r.attr("opacity")?r.attr("opacity"):1,n=ro(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=Vl(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(r,t){var e=r.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&r.attr("text","")},i}(),yI=gI,ay=4,mI=function(){function i(r){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,u.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var r=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){r.clear(),r.options.plot.canvas.draw()})},i.prototype.render=function(){var r=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new tn(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),l="l(90)";(0,u.each)(e,function(v,m){var T=o*m;l+=T+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,u.each)(e,function(v,m){var T=s*m;n.container.addShape("path",{attrs:(0,Gt.__assign)({path:[["M",0,T],["L",n.width,T]]},n.options.ticklineStyle)});var D=Math.round(a*m);n.container.addShape("text",{attrs:(0,Gt.__assign)({text:D,textAlign:"left",textBaseline:"middle",x:n.width+ay,y:T},n.options.text.style),name:"legend-label"})});var f=10,h=14,c=[["M",-f,-h/2],["L",0,0],["L",-f,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Gt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),l="l(0)";(0,u.each)(e,function(v,m){var T=o*m;l+=T+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,u.each)(e,function(v,m){var T=s*m;n.container.addShape("path",{attrs:(0,Gt.__assign)({path:[["M",T,0],["L",T,n.height]]},n.options.ticklineStyle),name:"legend-label"});var D=Math.round(a*m);n.container.addShape("text",{attrs:(0,Gt.__assign)({text:D,textAlign:"center",textBaseline:"top",x:T,y:n.height+ay},n.options.text.style)})});var f=14,h=10,c=[["M",0,0],["L",-f/2,-h],["L",f/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Gt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.view.coordinateBBox.width;return r}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.view.coordinateBBox.height;return r}return 10},i.prototype.legendLayout=function(){var r=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,u.isArray)(e)&&(0,u.each)(e,function(h,c){typeof e[c]=="function"&&(e[c]=e[c](r.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,f=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=l-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=f-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(f-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=f-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var r=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],v=(c-o)/(s-o);r.moveAnchor(v)};this.view.on(e,l),this.interactiveEvents[e]={target:this.view,handler:l};var f=function(){r.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",f),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:f}},i.prototype.moveAnchor=function(r){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*r,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*r,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.offEvent=function(){(0,u.each)(this.interactiveEvents,function(r,t){var e=r.target,n=r.handler;e.off(t,n)})},i}(),xI=mI,bI={label:{Ctr:yI},legend:{Ctr:xI,padding:"outer"}};function wI(i,r,t){if(i.options[r]&&i.options[r].visible){var e=bI[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var oy=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},r.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,u.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,Wr.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},r.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},r.prototype.destroy=function(){(0,u.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(){return""},r.prototype.coord=function(){},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,u.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,u.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},r.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},r.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,l=t.width-n[1]-n[3],f=t.height-n[0]-n[2],h=(0,u.valuesOfKey)(s,a).length,c=(0,u.valuesOfKey)(s,o).length;return[l/h,f/c]},r.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,u.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,f=o.size,h=f*2/Math.min(n[0],n[1]);e.options.sizeField||(h=1);var c=iy(s,l,f),v=Kl(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:v},500,"easeLinear")})},r.prototype.rectToCircle=function(t){var e=this;(0,u.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,u.each)(o,function(Y){s.push(a.convertPoint(Y))});var l=n.getBBox(),f=l.width,h=l.height,c=l.minX+f/2,v=l.minY+h/2,m=e.options.sizeField?1:.9,T=iy(c,v,Math.min(f,h)/2*m),D=$l(c,v,Math.min(f,h)/2*m);n.stopAnimate(),n.animate({path:T},500,"easeLinear",function(){n.attr("path",D)})})},r.prototype.rectSizeMapping=function(t,e,n){(0,u.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),f=l.width,h=l.height,c=l.minX+f/2,v=l.minY+h/2,m=Kl(c,v,f,h,s);a.stopAnimate(),a.animate({path:m},500,"easeLinear")})},r.prototype.circleSizeMapping=function(t,e,n){(0,u.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,l=a.get("origin"),f=l.x,h=l.y,c=l.size,v=$l(f,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:v},500,"easeLinear")})},r.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,u.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=l/2;var f=$l(o,s,l/2);n.stopAnimate(),n.animate({path:f},500,"easeLinear")})},r.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,u.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,f=a.minY+s/2,h=Kl(l,f,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},r.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,u.each)(t,function(n){e.push(n.shape)}),e},r.prototype.renderPlotComponents=function(){var t=this;(0,u.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,u.each)(e,function(n){var a=(0,Gt.__assign)({view:t.view,plot:t},t.options[n]),o=wI(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Qn),SI=oy;un("heatmap",oy);var MI=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="heatmap",i.prototype.createLayers.call(this,e)},r.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},r.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},r.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=SI.getDefaultOptions,r}(Jr),sy=MI,CI=function(i){(0,Gt.__extends)(r,i);function r(t){var e=this,n=(0,u.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=i.call(this,n)||this,e}return r}(SE.Z),EI=CI;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var Mh=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var t=r.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),rs=function(){if(!!Mh){for(var r=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(r.font=t.toString(10)+"px sans-serif",r.measureText("\uFF37").width===e&&r.measureText("m").width===n)return t+1;e=r.measureText("\uFF37").width,n=r.measureText("m").width,t--}return 0}}(),AI=function(r){for(var t,e,n=r.length;n;t=Math.floor(Math.random()*n),e=r[--n],r[n]=r[t],r[t]=e);return r},Ch=function(r,t){if(!Mh)return;Array.isArray(r)||(r=[r]),r.forEach(function(Pr,De){if(typeof Pr=="string"){if(r[De]=document.getElementById(Pr),!r[De])throw"The element id specified is not found."}else if(!Pr.tagName&&!Pr.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:rs,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<rs&&(e.minFontSize=rs),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<e.data.length;l++)s<e.data[l].weight&&(s=e.data[l].weight);var f=function(De){var ir=Math.min(Math.max(e.minFontSize,e.maxFontSize*De/s),e.maxFontSize);return Nr?ir*e.fontScale:ir},h=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(De){return 1-Math.sin(De)},h=!0;break;case"diamond":e.shape=function(De){var ir=De%(2*Math.PI/4);return 1/(Math.cos(ir)+Math.sin(ir))};break;case"square":e.shape=function(De){var ir=(De+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(ir)+Math.sin(ir))};break;case"triangle-forward":e.shape=function(De){var ir=De%(2*Math.PI/3);return 1/(Math.cos(ir)+Math.sqrt(3)*Math.sin(ir))};break;case"triangle-backward":e.shape=function(De){var ir=(De+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(ir)+Math.sqrt(3)*Math.sin(ir))};break;case"triangle":case"triangle-up":e.shape=function(De){var ir=(De+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(ir)+Math.sqrt(3)*Math.sin(ir))};break;case"triangle-down":e.shape=function(De){var ir=(De+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(ir)+Math.sqrt(3)*Math.sin(ir))};break;case"pentagon":e.shape=function(De){var ir=(De+.955)%(2*Math.PI/5);return 1/(Math.cos(ir)+.726543*Math.sin(ir))};break;case"star":e.shape=function(De){var ir=(De+.955)%(2*Math.PI/10);return(De+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-ir)+3.07768*Math.sin(2*Math.PI/10-ir)):1/(Math.cos(ir)+3.07768*Math.sin(ir))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var c=e.gridSize,v=c-e.maskGapWidth,m=Math.abs(e.maxRotation-e.minRotation),T=Math.min(e.maxRotation,e.minRotation),D=e.rotationSteps,Y,W,H,st,lt,Mt,Ft;function zt(Pr,De){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(De-Pr)+Pr).toFixed()+"%)"}switch(e.color){case"random-dark":Ft=function(){return zt(10,50)};break;case"random-light":Ft=function(){return zt(50,90)};break;default:typeof e.color=="function"&&(Ft=e.color);break}var Zt=null;typeof e.classes=="function"&&(Zt=e.classes);var Yt=!1,re=[],he,le=function(De){var ir=De.currentTarget,Yr=ir.getBoundingClientRect(),Ur,Lr;De.touches?(Ur=De.touches[0].clientX,Lr=De.touches[0].clientY):(Ur=De.clientX,Lr=De.clientY);var nn=Ur-Yr.left,qr=Lr-Yr.top,zr=Math.floor(nn*(ir.width/Yr.width||1)/c),an=Math.floor(qr*(ir.height/Yr.height||1)/c);return re&&re[zr]&&re[zr][an]},Ae=function(De,ir,Yr,Ur){Ur(De?De.id:-1)},Ie=function(De){var ir=le(De);if(he!==ir&&!(Nr&&ir&&ir.item&&!(0,u.get)(ir,["item","twiceRender"]))){if(!ir){e.onWordCloudHover(void 0,void 0,De,en),e.active&&Ae(void 0,void 0,De,en);return}e.onWordCloudHover(ir.item,ir.dimension,De,en),e.active&&Ae(ir.item,ir.dimension,De,en),he=ir}},Le=function(De){var ir=le(De);!ir||(e.onWordCloudClick(ir.item,ir.dimension,De),De.preventDefault())},je=[],Ke=function(De){if(je[De])return je[De];var ir=De*8,Yr=ir,Ur=[];for(De===0&&Ur.push([st[0],st[1],0]);Yr--;){var Lr=1;e.shape!=="circle"&&(Lr=e.shape(Yr/ir*2*Math.PI)),Ur.push([st[0]+De*Lr*Math.cos(-Yr/ir*2*Math.PI),st[1]+De*Lr*Math.sin(-Yr/ir*2*Math.PI)*e.ellipticity,Yr/ir*2*Math.PI])}return je[De]=Ur,Ur},Qe=function(){return e.abortThreshold>0&&new Date().getTime()-Mt>e.abortThreshold},He=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:m===0?T:D>0?T+Math.floor(Math.random()*D)*m/D:T+Math.random()*m},We=function(De,ir,Yr){var Ur=!1,Lr=f(ir);if(Lr<=0)return!1;var nn=1;Lr<rs&&(nn=function(){for(var zo=2;zo*Lr<rs;)zo+=2;return zo}());var qr=document.createElement("canvas"),zr=qr.getContext("2d",{willReadFrequently:!0});zr.font=e.fontWeight+" "+(Lr*nn).toString(10)+"px "+e.fontFamily;var an=zr.measureText(De).width/nn,pn=Math.max(Lr*nn,zr.measureText("m").width,zr.measureText("\uFF37").width)/nn,Yn=an+pn*2,On=pn*3,Un=Math.ceil(Yn/c),ri=Math.ceil(On/c);Yn=Un*c,On=ri*c;var Yi=-an/2,Hi=-pn*.4,yi=Math.ceil((Yn*Math.abs(Math.sin(Yr))+On*Math.abs(Math.cos(Yr)))/c),Fr=Math.ceil((Yn*Math.abs(Math.cos(Yr))+On*Math.abs(Math.sin(Yr)))/c),Zn=Fr*c,_i=yi*c;qr.setAttribute("width",Zn),qr.setAttribute("height",_i),Ur&&(document.body.appendChild(qr),zr.save()),zr.scale(1/nn,1/nn),zr.translate(Zn*nn/2,_i*nn/2),zr.rotate(-Yr),zr.font=e.fontWeight+" "+(Lr*nn).toString(10)+"px "+e.fontFamily,zr.fillStyle="#000",zr.textBaseline="middle",zr.fillText(De,Yi*nn,(Hi+Lr*.5)*nn);var wi;try{wi=zr.getImageData(0,0,Zn,_i).data}catch(Wi){return!1}if(Qe())return!1;Ur&&(zr.strokeRect(Yi*nn,Hi,an*nn,pn*nn),zr.restore());for(var Ua=[],Oi=Fr,Ln,Mn,Gn,Wn=[yi/2,Fr/2,yi/2,Fr/2];Oi--;)for(Ln=yi;Ln--;){Gn=c;t:{for(;Gn--;)for(Mn=c;Mn--;)if(wi[((Ln*c+Gn)*Zn+(Oi*c+Mn))*4+3]){Ua.push([Oi,Ln]),Oi<Wn[3]&&(Wn[3]=Oi),Oi>Wn[1]&&(Wn[1]=Oi),Ln<Wn[0]&&(Wn[0]=Ln),Ln>Wn[2]&&(Wn[2]=Ln),Ur&&(zr.fillStyle="rgba(255, 0, 0, 0.5)",zr.fillRect(Oi*c,Ln*c,c-.5,c-.5));break t}Ur&&(zr.fillStyle="rgba(0, 0, 255, 0.5)",zr.fillRect(Oi*c,Ln*c,c-.5,c-.5))}}return Ur&&(zr.fillStyle="rgba(0, 255, 0, 0.5)",zr.fillRect(Wn[3]*c,Wn[0]*c,(Wn[1]-Wn[3]+1)*c,(Wn[2]-Wn[0]+1)*c)),{mu:nn,occupied:Ua,bounds:Wn,gw:Fr,gh:yi,fillTextOffsetX:Yi,fillTextOffsetY:Hi,fillTextWidth:an,fillTextHeight:pn,fontSize:Lr}},yr=function(De,ir,Yr,Ur,Lr){for(var nn=Lr.length;nn--;){var qr=De+Lr[nn][0],zr=ir+Lr[nn][1];if(qr>=W||zr>=H||qr<0||zr<0){if(!e.drawOutOfBound)return!1;continue}if(!Y[qr][zr])return!1}return!0},gr=function(De,ir,Yr,Ur,Lr,nn,qr,zr,an,pn,Yn){var On=Yr.fontSize,Un=e.color,ri=e.classes;if(!Yn)Ft?Un=Ft(Ur,Lr,On,nn,qr):Un=e.color,Zt?ri=Zt(Ur,Lr,On,nn,qr):ri=e.classes;else{var Yi=wr(pn);Un=Yi?Yi.color:e.color}var Hi,yi=Yr.bounds;Hi={x:(De+yi[3])*c,y:(ir+yi[0])*c,w:(yi[1]-yi[3]+1)*c,h:(yi[2]-yi[0]+1)*c},r.forEach(function(Fr){if(Fr.getContext){var Zn=Fr.getContext("2d"),_i=Yr.mu;Zn.save();var wi=e.fontWeight+" "+(On*_i).toString(10)+"px "+e.fontFamily;Zn.scale(1/_i,1/_i),Zn.font=wi,Zn.fillStyle=Un;var Ua=(De+Yr.gw/2)*c*_i,Oi=(ir+Yr.gh/2)*c*_i;Zn.translate(Ua,Oi),zr!==0&&Zn.rotate(-zr),Zn.textBaseline="middle",e.selected===pn&&(Zn.shadowColor=e.shadowColor,Zn.shadowBlur=e.shadowBlur),Zn.fillText(Ur,Yr.fillTextOffsetX*_i,(Yr.fillTextOffsetY+On*.5)*_i),Yn||n.push({gx:De,gy:ir,info:Yr,word:Ur,weight:Lr,distance:nn,theta:qr,rotateDeg:zr,attributes:an,id:pn,color:Un}),Zn.restore()}else{var Ln=document.createElement("span"),Mn="";Mn="rotate("+-zr/Math.PI*180+"deg) ",Yr.mu!==1&&(Mn+="translateX(-"+Yr.fillTextWidth/4+"px) scale("+1/Yr.mu+")");var Gn={position:"absolute",display:"block",font:e.fontWeight+" "+On*Yr.mu+"px "+e.fontFamily,left:(De+Yr.gw/2)*c+Yr.fillTextOffsetX+"px",top:(ir+Yr.gh/2)*c+Yr.fillTextOffsetY+"px",width:Yr.fillTextWidth+"px",height:Yr.fillTextHeight+"px",lineHeight:On+"px",whiteSpace:"nowrap",transform:Mn,webkitTransform:Mn,msTransform:Mn,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};Un&&(Gn.color=Un),Ln.textContent=Ur;for(var Wn in Gn)Ln.style[Wn]=Gn[Wn];if(an)for(var Wi in an)Ln.setAttribute(Wi,an[Wi]);ri&&(Ln.className+=ri),Fr.appendChild(Ln)}})},Mr=function(De,ir,Yr,Ur,Lr){if(!(De>=W||ir>=H||De<0||ir<0)){if(Y[De][ir]=!1,Yr){var nn=r[0].getContext("2d");nn.fillRect(De*c,ir*c,v,v)}Yt&&(re[De][ir]={item:Lr,dimension:Ur})}},qe=function(De,ir,Yr,Ur,Lr){var nn=Lr.occupied,qr=e.drawMask,zr;qr&&(zr=r[0].getContext("2d"),zr.save(),zr.fillStyle=e.maskColor);var an;if(Yt){var pn=Lr.bounds;an={x:(De+pn[3])*c,y:(ir+pn[0])*c,w:(pn[1]-pn[3]+1)*c,h:(pn[2]-pn[0]+1)*c}}for(var Yn=nn.length;Yn--;){var On=De+nn[Yn][0],Un=ir+nn[Yn][1];if(!(On>=W||Un>=H||On<0||Un<0)){var ri=wr(Lr.item.id);ri&&(Lr.item.color=ri.color),Mr(On,Un,qr,an,Lr.item)}}qr&&zr.restore()},br=function(De,ir,Yr,Ur,Lr,nn,qr,zr){var an=Math.floor(De[0]-ir.gw/2),pn=Math.floor(De[1]-ir.gh/2),Yn=ir.gw,On=ir.gh;return yr(an,pn,Yn,On,ir.occupied)?(gr(an,pn,ir,Yr,Ur,Lr,De[2],nn,qr,zr,!1),qe(an,pn,Yn,On,ir),{gx:an,gy:pn,rot:nn,info:ir}):!1},Dr=function(De){var ir,Yr,Ur,Lr;Array.isArray(De)?(ir=De[0],Yr=De[1]):(ir=De.word,Yr=De.weight,Ur=De.attributes,Lr=De.id);var nn=(0,u.isNil)(De.rotateDeg)?He():De.rotateDeg,qr=We(ir,Yr,nn);if(qr&&(qr.item=De),!qr||Qe())return!1;if(!e.drawOutOfBound){var zr=qr.bounds;if(zr[1]-zr[3]+1>W||zr[2]-zr[0]+1>H)return!1}for(var an=lt+1;an--;){var pn=Ke(lt-an);e.shuffle&&(pn=[].concat(pn),AI(pn));for(var Yn=0;Yn<pn.length;Yn++){var On=br(pn[Yn],qr,ir,Yr,lt-an,nn,Ur,Lr);if(On)return On}}return null},Sr=function(De,ir,Yr){if(ir)return!r.some(function(Ur){var Lr=document.createEvent("CustomEvent");return Lr.initCustomEvent(De,!0,ir,Yr||{}),!Ur.dispatchEvent(Lr)},this);r.forEach(function(Ur){var Lr=document.createEvent("CustomEvent");Lr.initCustomEvent(De,!0,ir,Yr||{}),Ur.dispatchEvent(Lr)},this)},wr=function(De){for(var ir=0;ir<n.length;ir++){var Yr=n[ir];if(n[ir].id===De)return Yr}},Nr,en=function(De){if(De!==void 0){if(e.selected!==De&&r[0].getContext){e.selected=De;var ir=r[0].getContext("2d");ir.fillStyle=e.backgroundColor,ir.clearRect(0,0,r[0].width,r[0].height),ir.fillRect(0,0,r[0].width,r[0].height);for(var Yr=0;Yr<n.length;Yr++){var Ur=n[Yr];(!Nr||Nr&&(0,u.get)(Ur,["info","item","twiceRender"]))&&gr(Ur.gx,Ur.gy,Ur.info,Ur.word,Ur.weight,Ur.distance,Ur.theta,Ur.rotateDeg,Ur.attributes,Ur.id,!0)}}return}var Lr=r[0];if(Lr.getContext)W=Math.ceil(Lr.width/c),H=Math.ceil(Lr.height/c);else{var nn=Lr.getBoundingClientRect();W=Math.ceil(nn.width/c),H=Math.ceil(nn.height/c)}if(!!Sr("wordcloudstart",!0)){st=e.origin?[e.origin[0]/c,e.origin[1]/c]:[W/2,H/(h?4:2)],lt=Math.floor(Math.sqrt(W*W+H*H)),Y=[];var qr,zr,an;if(!Lr.getContext||e.clearCanvas)for(r.forEach(function(Mn){if(Mn.getContext){var Gn=Mn.getContext("2d");Gn.fillStyle=e.backgroundColor,Gn.clearRect(0,0,W*(c+1),H*(c+1)),Gn.fillRect(0,0,W*(c+1),H*(c+1))}else Mn.textContent="",Mn.style.backgroundColor=e.backgroundColor,Mn.style.position="relative"}),qr=W;qr--;)for(Y[qr]=[],zr=H;zr--;)Y[qr][zr]=!0;else{var pn=document.createElement("canvas").getContext("2d");pn.fillStyle=e.backgroundColor,pn.fillRect(0,0,1,1);var Yn=pn.getImageData(0,0,1,1).data,On=Lr.getContext("2d").getImageData(0,0,W*c,H*c).data;qr=W;for(var Un,ri;qr--;)for(Y[qr]=[],zr=H;zr--;){ri=c;t:for(;ri--;)for(Un=c;Un--;)for(an=4;an--;)if(On[((zr*c+ri)*W*c+(qr*c+Un))*4+an]!==Yn[an]){Y[qr][zr]=!1;break t}Y[qr][zr]!==!1&&(Y[qr][zr]=!0)}On=pn=Yn=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(Yt=!0,qr=W+1;qr--;)re[qr]=[];e.onWordCloudHover&&Lr.addEventListener("mousemove",Ie),e.onWordCloudClick&&(Lr.addEventListener("click",Le),Lr.addEventListener("touchstart",Le),Lr.addEventListener("touchend",function(Mn){Mn.preventDefault()}),Lr.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),Lr.addEventListener("wordcloudstart",function Mn(){Lr.removeEventListener("wordcloudstart",Mn),Lr.removeEventListener("mousemove",Ie),Lr.removeEventListener("click",Le),he=void 0})}if(e.animatable){an=0;var Zn,_i;e.wait!==0?(Zn=window.setTimeout,_i=window.clearTimeout):(Zn=window.setImmediate,_i=window.clearImmediate);var wi=function(Gn,Wn){r.forEach(function(Wi){Wi.addEventListener(Gn,Wn)},this)},Ua=function(Gn,Wn){r.forEach(function(Wi){Wi.removeEventListener(Gn,Wn)},this)},Oi=function Mn(){Ua("wordcloudstart",Mn),_i(Ln)};wi("wordcloudstart",Oi);var Ln=Zn(function Mn(){if(an>=e.data.length){_i(Ln),Sr("wordcloudstop",!1),Ua("wordcloudstart",Oi);return}Mt=new Date().getTime();var Gn=Dr(e.data[an]),Wn=!Sr("wordclouddrawn",!0,{item:e.data[an],drawn:Gn});if(Qe()||Wn){_i(Ln),e.abort(),Sr("wordcloudabort",!1),Sr("wordcloudstop",!1),Ua("wordcloudstart",Oi);return}an++,Ln=Zn(Mn,e.wait)},e.wait)}else{t.maskImage&&r.forEach(function(Mn){if(Mn.getContext){var Gn=Mn.getContext("2d");Gn.fillStyle=e.backgroundColor,Gn.clearRect(0,0,W*(c+1),H*(c+1)),Gn.fillRect(0,0,W*(c+1),H*(c+1))}});for(var Yi=[],Hi=0;Hi<e.data.length;Hi++){var yi=Dr(e.data[Hi]);yi&&Yi.push(yi)}if(Yi.length===e.data.length&&!Nr){for(r.forEach(function(Mn){if(Mn.getContext){var Gn=Mn.getContext("2d");Gn.fillStyle=e.backgroundColor,Gn.clearRect(0,0,W*(c+1),H*(c+1)),Gn.fillRect(0,0,W*(c+1),H*(c+1))}}),qr=W;qr--;)for(Y[qr]=[],zr=H;zr--;)Y[qr][zr]=!0;Nr=!0;for(var Fr=0;Fr<e.data.length;Fr++)Dr((0,Gt.__assign)((0,Gt.__assign)({},e.data[Fr]),{twiceRender:Nr}))}}}};en()};Ch.isSupported=Mh,Ch.minFontSize=rs;var TI=Ch,PI=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,u.get)(t,"tooltip.visible",!0),e.options=(0,u.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return r.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},r.prototype.render=function(){i.prototype.render.call(this),this._render()},r.prototype._initToolTips=function(){this._toolTips=new EI({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},r.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},r.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},r.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),TI(this._targetCanvas,this.options)},r.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,u.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},r.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),f=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(f.data[h]=s[0],f.data[h+1]=s[1],f.data[h+2]=s[2],f.data[h+3]=s[3]):(f.data[h]=s[0],f.data[h+1]=s[1],f.data[h+2]=s[2],f.data[h+3]=254);a.putImageData(f,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,u.deepMix)({},this.options,{clearCanvas:!1}),this._start()},r.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},r.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,l=255,f=0;f<a.data.length;f+=o){var h=a.data[f]+a.data[f+1]+a.data[f+2],c=a.data[f+3];c<128||h>250*3?(a.data[f]=l,a.data[f+1]=l,a.data[f+2]=l,a.data[f+3]=s):(a.data[f]=s,a.data[f+1]=s,a.data[f+2]=s,a.data[f+3]=l)}return n.putImageData(a,0,0),e},r}(Al),_I=PI,OI=function(i){(0,Gt.__extends)(r,i);function r(t,e){var n=this;return e.renderer="canvas",n=i.call(this,t,e)||this,n}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,i.prototype.createLayers.call(this,e)},r}(Jr),LI=OI;un("wordCloud",_I);var II={rose:"interval"},kI=Ti(II);(0,u.assign)(dn,kI);var BI={rose:"interval"},DI={rose:"column"},ly=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,u.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},r.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?BI[e]:DI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=ni("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.adjustRoseAdjust=function(){},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,g)},r.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,u.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=Fi("label",(0,Gt.__assign)({plot:this,labelType:"polar",fields:n},e));return a},r.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[e]})}},r}(Qn),Eh=ly;un("rose",ly);var FI=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="rose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Eh.getDefaultOptions,r}(Jr),uy=FI,RI=function(i){var r=i.opacity||1;return{opacity:r*.5}},NI=function(i){var r=i.opacity||1;return{opacity:r*.5}};ta("funnel",{columnStyle:{normal:{},active:RI,disable:NI,selected:{lineWidth:1,stroke:"black"}}});var fy=d(95280);function YI(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,u.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,f;(0,u.isArray)(t)?(l=t[0],f=t[1]):(l=t-a/2,f=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:f,y:(s+o)/2}):h.push({x:f,y:s},{x:f,y:o}),h}function GI(i,r){var t=[],e=i.points,n=i.nextPoints;if(r){var a=r.yValues,o=r.yValuesMax,s=r.yValuesNext,l=(e[0].y+e[1].y)/2,f=a[0]+a[1],h=a.map(function(D){return D/f/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,v=.001;if((0,u.isNil)(n))t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l],["L",e[1].x,c+l],["L",e[2].x,c+l],["L",e[3].x,c+(e[3].y-l)*h[0]+l],["Z"]),t.push(["M",e[0].x,c+.002+l],["L",e[1].x,c+.002+(e[1].y-l)*h[1]+l],["L",e[2].x,c+.002+(e[2].y-l)*h[1]+l],["L",e[3].x,c+.002+l],["Z"]);else{var m=s[0]+s[1],T=s.map(function(D){return D/m/.5});t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l-v],["L",e[1].x,c+l-v],["L",n[1].x,c+l-v],["L",n[0].x,c+(n[3].y-l)*T[0]+l-v],["Z"]),t.push(["M",e[0].x,c+l+v],["L",e[1].x,c+(e[1].y-l)*h[1]+l+v],["L",n[1].x,c+(n[2].y-l)*T[1]+l+v],["L",n[0].x,c+l+v],["Z"])}}else(0,u.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}bn("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,YI(i)},draw:function(i,r){var t,e=(0,fy.getStyle)(i,!1,!0),n=(0,u.get)(i,"data.__compare__"),a=this.parsePath(GI(i,n));return r.addShape("path",(t={name:"interval",attrs:(0,Gt.__assign)((0,Gt.__assign)({},e),{path:a})},t.__compare__=n,t))},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function Ah(i,r,t){return(1-t)*i+t*r}function zI(i,r){var t=r.reverse,e=r.ratioUpper,n=r.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,f=.6;if(t){var h=n;n=e,e=h}var c=(o.x-s)*Ah(f,l,n)+s;a.push(["M",c,o.y]);for(var v=1,m=i.length;v<m;v++){var T=i[v].x;switch(v){case 1:case 2:T=(T-s)*Ah(f,l,e)+s;break;case 3:T=(T-s)*Ah(f,l,n)+s;break}a.push(["L",T,i[v].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}bn("interval","funnel-dynamic-rect",{draw:function(i,r){var t=(0,fy.getStyle)(i,!1,!0),e=(0,u.get)(i,"data.__custom__"),n=this.parsePath(zI(i.points,e));return r.addShape("path",{attrs:(0,Gt.__assign)((0,Gt.__assign)({},t),{path:n})})},getMarker:function(i){var r=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:r}}}});function hy(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,f=i.getBBox(),h=l?f.maxX:f.minX,c=(f.minY+f.maxY)/2,v=i.setClip({type:"rect",attrs:{x:f.x,y:f.y,width:f.width,height:f.height}}),m={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(Pn.transform(v.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var T={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(m,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(T,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}hy.animationName="funnelScaleInX",hi("funnelScaleInX",hy);function cy(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,f=i.getBBox(),h=(f.minX+f.maxX)/2,c=l?f.maxY:f.minY,v=i.setClip({type:"rect",attrs:{x:f.x,y:f.y,width:f.width,height:f.height}}),m={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(Pn.transform(v.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var T={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(m,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(T,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}cy.animationName="funnelScaleInY",hi("funnelScaleInY",cy);function Ql(i,r,t){return(1-t)*i+t*r}var XI={column:"interval"},VI={interval:"funnel"},vy=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var l=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(l),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return r.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,u.deepMix)({},go.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,u.deepMix)({},i.getDefaultOptions.call(this),e)},r.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,u.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},r.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,u.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,l;a=pi.CONTAINER_CLASS,o=(0,mt.Z)('<div class="'+a+'"></div>'),(0,_t.Z)(o,ko.default[a]);var f=o;if(e){a=pi.TITLE_CLASS,o=(0,mt.Z)('<div class="'+a+'"></div>'),(0,_t.Z)(o,ko.default[a]),f.appendChild(o);var h=o;a=pi.MARKER_CLASS,o=(0,mt.Z)('<span class="'+a+'"></span>'),(0,_t.Z)(o,ko.default[a]),(0,_t.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,mt.Z)("<span>"+e+"</span>"),h.appendChild(o)}if(n){a=pi.LIST_CLASS,o=(0,mt.Z)('<ul class="'+a+'"></ul>'),(0,_t.Z)(o,ko.default[a]),f.appendChild(o);var c=o;n.reduce(function(v,m){s||(s=m.color);var T=(0,u.get)(m,"point._origin.__compare__.compareValues"),D=(0,u.get)(m,"point._origin.__compare__.yValues");return D.forEach(function(Y,W){return v.push([T[W],Y])}),v},[]).forEach(function(v,m){var T=v[0],D=v[1];a=pi.LIST_ITEM_CLASS,o=(0,mt.Z)('<li class="'+a+'" data-index='+m+"></li>"),(0,_t.Z)(o,ko.default[a]),c.appendChild(o);var Y=o;a=pi.NAME_CLASS,o=(0,mt.Z)('<span class="'+a+'">'+T+"</span>"),(0,_t.Z)(o,ko.default[a]),Y.appendChild(o),a=pi.VALUE_CLASS,o=(0,mt.Z)('<span class="'+a+'">'+D+"</span>"),(0,_t.Z)(o,ko.default[a]),Y.appendChild(o)})}return s&&l&&(0,_t.Z)(l,{backgroundColor:s}),f}}),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){var t=this.options,e=ni("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},r.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,u.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,u.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,u.findIndex)(n,function(l){return(0,u.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},r.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},r.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},r.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},r.prototype.geometryParser=function(t,e){return t==="g2"?XI[e]:VI[e]},r.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,u.set)(t,"meta."+t.yField+".nice",!1),(0,u.set)(t,"tooltip.shared",!1)),t},r.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,f=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,v=n.value,m=v===void 0?{}:v,T=Date.now(),D=this._findPercentageContainer(!0);this._eachShape(function(Y,W,H,st){if(W>0){var lt=Y.getBBox(),Mt=lt.minX,Ft=lt.maxX,zt=lt.maxY,Zt=lt.minY,Yt=e.transpose?Mt:Ft,re=e.transpose&&e.compareField?zt:Zt,he=t._findPercentageMembersInContainerByIndex(D,W,!0),le=he.line,Ae=he.text,Ie=he.value,Le=[function(He,We,yr,gr,Mr){yr&&(yr.attr((0,u.deepMix)({},f.style,{x1:He,y1:We,x2:e.transpose?He+a:He-a,y2:e.transpose?We-o:We+o,opacity:0})),yr.set("adjustTimestamp",T));var qe=0,br=0,Dr=function(){gr&&(gr.attr((0,u.deepMix)({},c.style,{x:e.transpose?He+a:He-a-s-br-s,y:e.transpose?We-o-s:We+o,opacity:0,text:c.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),gr.set("adjustTimestamp",T),qe=gr.getBBox().width)},Sr=function(){Mr&&(Mr.attr((0,u.deepMix)({},m.style,{x:e.transpose?He+a+qe+s:He-a-s,y:e.transpose?We-o-s:We+o,opacity:0,text:(0,u.isFunction)(m.formatter)?e.compareField?m.formatter((0,u.get)(st,"__compare__.yValues.0"),(0,u.get)(H,"__compare__.yValues.0")):m.formatter(st[e.yField],H[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),Mr.set("adjustTimestamp",T),br=Mr.getBBox().width)};e.transpose?(Dr(),Sr()):(Sr(),Dr())},function(He,We,yr,gr,Mr){yr&&(yr.attr((0,u.deepMix)({},f.style,{x1:He,y1:We,x2:He+a,y2:e.transpose?e.compareField?We+o:We-o:We+o,opacity:0})),yr.set("adjustTimestamp",T));var qe=0;gr&&(gr.attr((0,u.deepMix)({},c.style,{x:e.transpose?He+a:He+a+s,y:e.transpose?e.compareField?We+o+s:We-o-s:We+o,opacity:0,text:c.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),gr.set("adjustTimestamp",T),qe=gr.getBBox().width),Mr&&(Mr.attr((0,u.deepMix)({},m.style,{x:e.transpose?He+a+qe+s:He+a+s+qe+s,y:e.transpose?e.compareField?We+o+s:We-o-s:We+o,opacity:0,text:(0,u.isFunction)(m.formatter)?e.compareField?m.formatter((0,u.get)(st,"__compare__.yValues.1"),(0,u.get)(H,"__compare__.yValues.1")):m.formatter(st[e.yField],H[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),Mr.set("adjustTimestamp",T))}];if(e.compareField){var je=[Mt,Zt],Ke=je[0],Qe=je[1];[[Ke,Qe],[Yt,re]].forEach(function(He,We){var yr=He[0],gr=He[1];return Le[We](yr,gr,le&&le[We],Ae&&Ae[We],Ie&&Ie[We])})}else Le[1](Yt,re,le,Ae,Ie)}st=H,W++}),D.get("children").forEach(function(Y){Y.get("adjustTimestamp")!=T&&(Y.attr({opacity:0}),D.set(Y.get("id"),null),setTimeout(function(){return Y.remove()},0))})}},r.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var f={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var v=n._findPercentageMembersInContainerByIndex(o,c),m={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},T=function(Y){if(Y&&Y.get("type")=="text"){var W=Y.getBBox(),H=W.minX,st=W.maxX,lt=W.minY,Mt=W.maxY;H<m.minX&&(m.minX=H),st>m.maxX&&(m.maxX=st),lt<m.minY&&(m.minY=lt),Mt>m.maxY&&(m.maxY=Mt)}};if((0,u.each)(v,function(Y){return(0,u.isArray)(Y)?T(Y[l]):T(Y)}),m.minX>f.maxX||m.maxX<f.minX||m.minY>f.maxY||m.maxY<f.minY){var D=function(Y){if(Y){var W={opacity:1};t?Y.animate(W,t):Y.attr(W)}};(0,u.each)(v,function(Y){return(0,u.isArray)(Y)?D(Y[l]):D(Y)}),(0,u.assign)(f,m)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},r.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),f=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,u.each)(l,function(h){return(0,u.isArray)(h)?h.forEach(f):f(h)})}),t&&e&&setTimeout(e,t)},r.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},r.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},r.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,f=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,v=o.value,m=v===void 0?{}:v,T={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return T;if(f.visible!==!1){var D=function(st){var lt="_percentage-line-"+e+"-"+st,Mt=t.get(lt);return!Mt&&n&&(Mt=t.addShape({id:lt,type:"line",attrs:{}}),t.set(lt,Mt)),Mt},Y=a.compareField?[0,1].map(D):D(0);T.line=Y}if(c.visible!==!1){var D=function(lt){var Mt="_percentage-text-"+e+"-"+lt,Ft=t.get(Mt);return!Ft&&n&&(Ft=t.addShape({id:Mt,type:"text",attrs:{}}),t.set(Mt,Ft)),Ft},W=a.compareField?[0,1].map(D):D(0);T.text=W}if(m.visible!==!1){var D=function(lt){var Mt="_percentage-value-"+e+"-"+lt,Ft=t.get(Mt);return!Ft&&n&&(Ft=t.addShape({id:Mt,type:"text",attrs:{}}),t.set(Mt,Ft)),Ft},H=a.compareField?[0,1].map(D):D(0);T.value=H}return T},r.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,u.get)(t,"animation.update.duration"),n=(0,u.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},r.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=e.label||{},f=(0,u.deepMix)((0,Gt.__assign)({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,v,m,T){var D,Y=c.get("element");v==0&&(h=m);var W=c.getBBox(),H=W.minX,st=W.maxX,lt=W.minY,Mt=W.maxY,Ft=m[n],zt=m[a];l.adjustColor&&(f.fill=t._getAdjustedTextFillByShape(c));var Zt=m.__compare__,Yt,re=(D={},D[Ts]=m,D.element=Y,D.elementIndex=T,D.mappingDatum=[].concat(Y.getModel().mappingData)[0],D.mappingDatumIndex=0,D);l.formatter?Yt=l.formatter(Ft,re,v,zt,h[a]):Zt?Yt=[0,1].map(function(){return""+zt}).join(e.transpose?`

`:"    "):Yt=Ft+" "+zt;var he=t._findLabelInContainerByIndex(s,v,!0),le=Zt?Zt.yValues[0]/(Zt.yValues[0]+Zt.yValues[1]):.5;he&&(he.attr((0,Gt.__assign)((0,Gt.__assign)({},f),{x:Ql(H,st,e.transpose?.5:le),y:Ql(lt,Mt,e.transpose?le:.5),text:Yt})),he.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},r.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var f=a._findLabelInContainerByIndex(o,l);if(f){var h=s.getBBox(),c=f.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var v={opacity:1};e?f.animate(v,e):f.attr(v)}}}}),e&&n&&setTimeout(n,e)},r.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var f=a._findLabelInContainerByIndex(o,l);if(f){var h={opacity:0};e?f.animate(h,e):f.attr(h)}}}),e&&n&&setTimeout(n,e)},r.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},r.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+e;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},r.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(m,T,D){T==0&&(e=m.get("parent").getBBox(),n=(0,u.get)(D,"__compare__"))}),e&&n&&(0,u.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=e.minX,f=e.maxX,h=e.minY,c=e.maxY,v=a.get("children");[0,1].forEach(function(m){var T=v[m];T||(T=a.addShape({type:"text"})),T.attr((0,u.deepMix)({},(0,u.get)(t,"compareText.style"),{text:t.transpose?s[m]:m?"  "+s[m]:s[m]+"  ",x:t.transpose?l+(0,u.get)(t,"compareText.offsetX"):Ql(l,f,o[0]/(o[0]+o[1])),y:t.transpose?Ql(h,c,o[0]/(o[0]+o[1]))+(m?8:-8):h+(0,u.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":m?"left":"right",textBaseline:t.transpose&&m?"top":"bottom"}))})}}},r.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},r.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},r.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(l,f){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,f),s=c,o++})},r.prototype._getGeometry=function(){return this.view.geometries[0]},r.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=ro(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=Vl(s,o);return l},r.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var l=o[e.yField],f=l/n,h=a-f;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:e.transpose},a=h})},r.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},r.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,u.contains)(a,s[e.xField])});return o},r.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,u.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},r.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,f=s[e.xField],h=s[e.yField],c=s[e.compareField];n||(n=c);var v=o.find(function(T){return T[e.xField]==f});v||(v=(l={},l[e.xField]=f,l[e.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},l),o.push(v));var m=c==n?0:1;return v.__compare__.yValues[m]=h,a[m]<h&&(a[m]=h),v.__compare__.compareValues[m]=c,o},[]),t.forEach(function(o,s){o[e.yField]=(0,u.get)(o,"__compare__.yValues",[]).reduce(function(l,f){return l+=f},0),(0,u.set)(o,"__compare__.yValuesMax",a),(0,u.set)(o,"__compare__.yValuesNext",(0,u.get)(t,s+1+".__compare__.yValues"))}),t},r.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,u.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,u.set)(n,"__compare__.yValuesMax",e),(0,u.set)(n,"__compare__.yValuesNext",(0,u.get)(t,a+1+".__compare__.yValues"))})},r}(Qn),HI=vy;un("funnel",vy);var WI=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="funnel",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=HI.getDefaultOptions,r}(Jr),jI=WI,dy=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},r}(Eh),UI=dy;un("stackedRose",dy);var ZI=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedRose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=UI.getDefaultOptions,r}(Jr),py=ZI,gy=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},r}(Eh),KI=gy;un("groupedRose",gy);var $I=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedRose",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=KI.getDefaultOptions,r}(Jr),yy=$I,QI={area:"area",line:"line",point:"point"},JI=Ti(QI);(0,u.assign)(dn,JI);var qI=function(i){var r=i.opacity||1;return{opacity:r}},tk=function(i){var r=i.opacity||1;return{opacity:r*.5}},ek=function(i){var r=i.opacity||1;return{opacity:r}},rk=function(i){var r=i.opacity||1;return{opacity:r*.5}},nk=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},ik=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},ak=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},ok=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}};ta("radar",{areaStyle:{normal:{},active:qI,disable:tk,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:ek,disable:rk,selected:nk},pointStyle:{normal:{},active:ik,disable:ok,selected:ak}});var sk={area:"area",line:"line",point:"point"},my=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},r.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},r.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return sk[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,u.has)(t,"angleAxis")&&bi(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,u.has)(t,"radiusAxis")&&bi(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},r.prototype.axis=function(){var t=this.options,e=Fi("axis",{plot:this,dim:"angle"}),n=Fi("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},r.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=ni("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=ni("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=ni("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=Fi("label",(0,Gt.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},r.prototype.annotation=function(){},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,S)},r}(Qn),lk=my;un("radar",my);var uk=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="radar",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},r.getDefaultOptions=lk.getDefaultOptions,r}(Jr),xy=uk,fk=d(89810),hk=d(79189),ck=function(){function i(r){var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,r,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,u.isElement)(this.container)){this.wrapperNode=(0,mt.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,_t.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var r=this.html;this.wrapperNode.appendChild(r),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(r){(0,u.isType)(r,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(r)):this.wrapperNode.innerHTML=r,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(r,t){this.x=r,this.y=t,this.setDomPosition(r,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(r,t){var e=r,n=t,a=(0,fk.Z)(this.wrapperNode),o=(0,hk.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=r-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,_t.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),by=ck,vk="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",dk="font-size:32px;font-weight:bold;color:#4D4D4D";function pk(i,r){var t='<span class="liquid-guide-value" style='+dk+">"+i+"</span>";return'<div class="liquid-guide-html '+r+'" style='+vk+">"+t+"</div>"}var gk=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,u.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=pk(s,this.statisticClass),t},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r}(by),yk=gk,mk={liquid:"intervl",statistic:"annotation-text"},xk=Ti(mk);(0,u.assign)(dn,xk);var wy=zi(),Sy={splitPoints:function(i){var r=[],t=i.x,e=i.y;return e=(0,u.isArray)(e)?e:[e],(0,u.each)(e,function(n,a){var o={x:(0,u.isArray)(t)?t[a]:t,y:n};r.push(o)}),r},addFillAttrs:function(i,r){r.color&&!i.fill&&(i.fill=r.color),(0,u.isNumber)(r.opacity)&&(i.opacity=i.fillOpacity=r.opacity)},addStrokeAttrs:function(i,r){r.color&&!i.stroke&&(i.stroke=r.color),(0,u.isNumber)(r.opacity)&&(i.opacity=i.strokeOpacity=r.opacity)}},Th={lerp:function(i,r,t){return(1-t)*i+t*r}},bk=function(i){var r={lineWidth:0,fill:wy.color,fillOpacity:.85},t=(0,u.mix)({},r,i.style);return Sy.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},wk=function(i){var r={fill:"#fff",stroke:wy.color,fillOpacity:0,lineWidth:2},t=(0,u.mix)({},r,i.style);return Sy.addStrokeAttrs(t,i),t};function Sk(i,r,t,e){return r===0?[[i+1/2*t/Math.PI/2,e/2],[i+1/2*t/Math.PI,e],[i+t/4,e]]:r===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),e],[i+1/2*t/Math.PI/2*(Math.PI-1),e/2],[i+t/4,0]]:r===2?[[i+1/2*t/Math.PI/2,-e/2],[i+1/2*t/Math.PI,-e],[i+t/4,-e]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-e],[i+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[i+t/4,0]]}function Mk(i,r,t,e,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],f=e;f<-Math.PI*2;)f+=Math.PI*2;for(;f>0;)f-=Math.PI*2;f=f/Math.PI/2*t;var h=a-i+f-i*2;l.push(["M",h,r]);for(var c=0,v=0;v<s;++v){var m=v%4,T=Sk(v*t/4,m,t,n);l.push(["C",T[0][0]+h,-T[0][1]+r,T[1][0]+h,-T[1][1]+r,T[2][0]+h,-T[2][1]+r]),v===s-1&&(c=T[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,r]),l}function Ck(i,r,t,e,n,a,o,s){for(var l=o.getBBox(),f=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,v=0;v<e;v++){var m=e<=1?0:v/(e-1),T=a.addShape("path",{attrs:{path:Mk(s,l.minY+h*t,f/4,0,f/Th.lerp(56,64,m),i,r),fill:n,opacity:Th.lerp(.6,.3,m)}}),D=Qo([["t",f/2,0]]);T.animate({matrix:D},{duration:Th.lerp(c,.7*c,m),repeat:!0})}}bn("interval","liquid-fill-gauge",{draw:function(i,r){var t=.5,e=Infinity;(0,u.each)(i.points,function(v){v.x<e&&(e=v.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),f=bk(i).fill,h=r.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return Ck(a.x,a.y,1-i.points[1].y,3,f,h,c,l*4),r.addShape("circle",{name:"wrap",attrs:(0,u.mix)(wk(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function My(i,r){var t=i.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,u.get)(r,"factor",.5)),1),a=(0,u.get)(r,"delay",0),o=(0,u.get)(r,"duration",800),s=r.callback,l=(e.minX+e.maxX)/2,f=e.maxY,h=t.find(function(D){return D.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var v=t.find(function(D){return D.get("name")=="waves"}),m=(0,u.clone)(v.attr("matrix"))||[1,0,0,0,1,0,0,0,1],T=Qo(m,[["t",-l,-f],["s",1,0],["t",l,f]]);v.setMatrix(T),v.animate({matrix:m},o,r.easing,function(){return s&&s(t,h,v)},a)}My.animationName="liquidMoveIn",hi("liquidMoveIn",My);var Ek={column:"interval"},Ak={interval:"liquid"},Cy=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return r.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,u.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,u.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,u.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,u.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},r.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},r.prototype.coord=function(){},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};bi(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,u.isFunction)(n)&&(n=n()),n&&(t.style=n)},r.prototype.addGeometry=function(){var t=ni("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},r.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,u.get)(t,"animation.factor"),n=(0,u.get)(t,"animation.easing"),a=(0,u.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},r.prototype.geometryParser=function(t,e){return t==="g2"?Ek[e]:Ak[e]},r.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},r.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,u.isFunction)(e.htmlContent)},r.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,u.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(e.visible!==!1){var f=(0,u.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete f.visible,delete f.formatter,delete f.adjustColor,f}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,_)},r.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,_t.Z)(o,{position:"relative"}),this.statistic=new yk((0,Gt.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},r.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},r.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},r.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,u.forIn)(o,function(s,l){return n.attr(l,s)})},r.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,u.get)(t,"statistic.adjustColor")===!1)return{fill:(0,u.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,u.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var f=this.options.color,h=.8,c=ro(f),v=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return v<156?e:n}return n},r.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},r.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,f=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,v=h-f/2,m=c-f/2;return new tn(v,m,f,f)},r}(Qn),Ph=Cy;un("liquid",Cy);var Tk=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="liquid",i.prototype.createLayers.call(this,e)},r.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Ph&&a.changeValue(t)});else{var n=this.layers[0];n instanceof Ph&&n.changeValue(t)}},r.getDefaultOptions=Ph.getDefaultOptions,r}(Jr),Ey=Tk,Ay=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return r.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,u.clone)(t);(0,u.sortBy)(l,a);var f=(0,u.valuesOfKey)(l,a),h=(0,u.getRange)(f),c=h.max-h.min,v=o;if(!o&&s&&(v=c/s),!o&&!s){var m=Ld(f);v=c/m}var T={};(0,u.each)(l,function(Y){var W=Y[a],H=e.getBin(W,v),st=H[0]+"-"+H[1];(0,u.hasKey)(T,st)||(T[st]={name:st,range:H,count:0,data:[]}),T[st].data.push(Y),T[st].count+=1});var D=[];return(0,u.each)(T,function(Y){D.push(Y)}),D},r.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},r.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},r}(es),Pk=Ay;un("histogram",Ay);var _k=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="histogram",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Pk.getDefaultOptions,r}(Jr),Ty=_k,Ok={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*r*r:0},triweight:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(r,3):0},cosinus:function(i){var r=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?r:0}},Py=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return r.prototype.init=function(){var t=this.options.xAxis?(0,u.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,u.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,f=l||"epanechnikov",h=Ok[f],c=(0,u.clone)(t);(0,u.sortBy)(c,a);var v=(0,u.valuesOfKey)(c,a),m=(0,u.getRange)(v),T=m.max-m.min,D=s,Y=o;!s&&o&&(D=Math.floor(T/o)),!o&&s&&(Y=T/s),!s&&!o&&(D=Ld(v),Y=T/s);var W=(0,Wr.getScale)("linear"),H=new W({min:m.min,max:m.max,tickCount:D,nice:!1}),st=H.getTicks(),lt=[];return(0,u.each)(st,function(Mt){var Ft=e.kernelDensityEstimator(Y,h,Mt,v);lt.push({value:Mt.text,density:Ft})}),lt},r.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,u.each)(a,function(s){var l=(n.tickValue-s)/t;o+=e(l)}),a.length===0?0:o/a.length},r}(dh),Lk=Py;un("density",Py);var _G=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="density",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Lk.getDefaultOptions,r}(Jr),OG=null,Ik={ring:"interval"},kk=Ti(Ik);(0,u.assign)(dn,kk);var Bk="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",Dk="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",Fk="font-size:32px;font-weight:bold;color:#4D4D4D";function Rk(i,r,t,e){var n=Bk+"width:"+e+"px;",a=i?'<span class="ring-guide-name" style='+Dk+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+Fk+">"+r+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var Nk=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,u.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,u.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},r.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,u.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,u.each)(this.plot.options.data,function(f){typeof f[a]=="number"&&(e+=f[a])});var l=(t={},t[a]=e,t[o]=s,t);return l},r.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,f=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(e[l]):null,value:f.getText(e[s])};return t==="item"&&(c.itemData=e,c.color=n),c},r.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=Rk(t.name,t.value,this.statisticClass,e);return n},r.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},r.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},r}(by),Yk=Nk,Gk={ring:"interval"},zk={interval:"ring"},_y=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),r.centralId++,this.statisticClass="statisticClassId"+r.centralId,this.adjustLabelDefaultOptions()},r.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,_t.Z)(e,{position:"relative"}),this.statistic=new Yk((0,Gt.__assign)({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},r.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?Gk[e]:zk[e]},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,B)},r.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},r.centralId=0,r}(qg),Oy=_y;un("donut",_y);var Xk=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Oy.getDefaultOptions,r}(Jr),Ly=Xk;function Vk(i,r,t){var e=i.style,n=i.defaultStyle,a=i.color,o=(0,Gt.__assign)((0,Gt.__assign)({},n),e);return a&&(r&&(o.stroke=a),t&&(o.fill=a)),o}function Hk(i){var r=[],t=i[0];r.push(["M",t.x,t.y]);for(var e=1,n=i.length;e<n;e++)r.push(["L",i[e].x,i[e].y]);return r.push(["L",t.x,t.y]),r.push(["z"]),r}bn("interval","waterfall",{draw:function(i,r){var t=Vk(i,!1,!0),e=this.parsePath(Hk(i.points)),n=r.addShape("path",{attrs:(0,Gt.__assign)((0,Gt.__assign)({},t),{path:e}),name:"interval"}),a=(0,u.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),r.addShape("path",{attrs:(0,Gt.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var Iy=2,Wk=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),l=e.getData(),f=l[sa],h=l[this.layer.options.yField],c=(0,u.isArray)(f)?f[1]:f,v=this.options.formatter,m=[].concat(e.getModel().mappingData),T=v?m[0]&&m[0]._origin[Jl]:0,D=v?v(c,(n={},n[Ts]=(a=m[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=m[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=T,n),T):c,Y=(s.minY+s.maxY)/2,W="bottom";h<0?(Y=s.maxY+Iy,W="top"):Y=s.minY-Iy,t.attr("y",Y),t.attr("text",D),t.attr("textBaseline",W)},r}(yh),LG=null;qi("waterfall",Wk);function jk(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var Uk=function(){function i(r){this.textAttrs={},this.view=r.view,this.fields=r.fields,this.formatter=r.formatter,this.textAttrs=(0,u.mix)(jk(),r.style),this._init()}return i.prototype.draw=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,u.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,u.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[sa],f=l;(0,u.isArray)(l)&&(f=l[1]-l[0]),f=f>0?"+"+f:f,o[_h]&&(f=l[0]-l[1]);var h=f;if(r.formatter){var c=e[a].attr("fill");h=r.formatter(""+f,{_origin:t[a],color:c},a)}var v=r.container.addShape("text",{attrs:(0,Gt.__assign)({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},r.textAttrs),name:"dill-label"});v.getBBox().height>s.height&&v.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var r=this;this.view.on(Sn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){r.clear()}),this.view.on(Sn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){r.draw()})},i}(),Zk=Uk,Kk={waterfall:"interval"},$k={interval:"waterfall"},sa="$$value$$",_h="$$total$$",Jl="$$index$$",ky=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new Zk({view:this.view,fields:[t.xField,t.yField,sa],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,u.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[_h]){var l=s[sa];o.value=l[0]-l[1]}e.items[a]=o}}),this.renderLabel()},r.prototype.renderLabel=function(){var t=mo(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,(0,Gt.__assign)({type:"waterfall"},this.options.label))},r.prototype.geometryParser=function(t,e){return t==="g2"?Kk[e]:$k[e]},r.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},r.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,sa]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,u.map)(t,function(f,h){var c,v=f[o];if(h>0){var m=n[h-1][sa];(0,u.isArray)(m)?v=[m[1],f[o]+m[1]]:v=[m,f[o]+m]}n.push((0,Gt.__assign)((0,Gt.__assign)({},f),(c={},c[sa]=v,c[Jl]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,u.map)(t,function(f){return f[o]}),l=(0,u.reduce)(s,function(f,h){return f+h},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[sa]=[l,0],e[Jl]=n.length,e[_h]=!0,e))}return n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[sa]={},(0,u.has)(t,"yAxis")&&bi(e[sa],t.yAxis),this.setConfig("scales",e)},r.prototype.axis=function(){var t=Fi("axis",{plot:this,dim:"x"}),e=Fi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[sa]=e,this.setConfig("axes",n)},r.prototype.coord=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,F)},r.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,sa]))},r.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,u.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=(0,Gt.__assign)((0,Gt.__assign)({},t),{leaderLine:e}),n},r.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,sa,Jl]};if((0,u.isFunction)(e.color))s.callback=e.color;else{var l="#f4664a",f="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,u.isString)(e.color))l=f=h=e.color;else if((0,u.isObject)(e.color)){var c=e.color,v=c.rising,m=c.falling,T=c.total;l=v,f=m,h=T}s.callback=function(D,Y,W,H){return H===t.options.data.length?h||(W[0]>=0?l:f):((0,u.isArray)(W)?W[1]-W[0]:W)>=0?l:f}}return s},r.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},r.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[sa]=n}},r}(Qn),Qk=ky;un("waterfall",ky);var Jk=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="waterfall",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Qk.getDefaultOptions,r}(Jr),By=Jk,qk=function(){function i(r){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=r,this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options,t=r.xBaseline,e=r.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new tn(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new tn(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var f={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(f)}else s=[new tn(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var l=(e-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new tn(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var v={name:t<=a.min?"bottom-right":"bottom-left",bbox:new tn(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(v),s.length>1){var m={name:"top-right",bbox:new tn(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(m);var T={name:"bottom-right",bbox:new tn(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(T)}}else if(s.length===2)if(e<=o.min){var D={name:"top-left",bbox:s[0],index:0};this.regionData.push(D);var m={name:"top-right",bbox:s[1],index:2};this.regionData.push(m)}else{var Y={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(Y);var T={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(T)}else if(t<=a.min)if(e<=o.min){var m={name:"top-right",bbox:s[0],index:2};this.regionData.push(m)}else{var T={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(T)}else if(e<=o.min){var D={name:"top-left",bbox:s[0],index:0};this.regionData.push(D)}else{var Y={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(Y)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,u.each)(this.regionData,function(a){var o=a.index,s=r.container.addGroup(),l=s.addShape("rect",{attrs:(0,Gt.__assign)({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(r.options.label&&r.options.label.text){var f=(0,u.deepMix)({},t.label,r.options.label),h=r.getLabelConfig(a,f);s.addShape("text",{attrs:(0,Gt.__assign)({},h),name:"quadrant-label"})}l.set("data",a),r.quadrantGroups.push(s)});var n=(0,u.deepMix)({},t.line,this.options.lineStyle);(0,u.each)(this.lineData,function(a){r.container.addShape("path",{attrs:(0,Gt.__assign)({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(r){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,u.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,u.isFunction)(n)&&(0,u.each)(r,function(a,o){e[o]=n(a)})}return e},i.prototype.getLabelConfig=function(r,t){var e=r.index,n=0,a=0,o={},s=t.text;(0,u.isFunction)(s)?s=s(r):(0,u.isArray)(s)&&(s=s[e]);var l=t.position,f=l.split("-"),h=r.name.split("-");return h[1]==="left"?(f[0]==="inner"&&(n=r.bbox.maxX-t.offset,o.textAlign="right"),f[0]==="outter"&&(n=r.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(f[0]==="inner"&&(n=r.bbox.minX+t.offset,o.textAlign="left"),f[0]==="outter"&&(n=r.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(f[1]==="inner"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom"),f[1]==="outter"&&(a=r.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(f[1]==="inner"&&(a=r.bbox.minY+t.offset,o.textBaseline="top"),f[1]==="outter"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,u.deepMix)({},t.style,o),o.lineHeight=o.fontSize,(0,Gt.__assign)({x:n,y:a,text:s},o)},i}(),tB=qk,Fo=d(56645),eB={exp:Fo.regressionExp,linear:Fo.regressionLinear,loess:Fo.regressionLoess,log:Fo.regressionLog,poly:Fo.regressionPoly,pow:Fo.regressionPow,quad:Fo.regressionQuad};function rB(i,r){return Math.sqrt(i*(1-i)/r)*1.96}var nB=function(){function i(r){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,u.deepMix)({},t,r),this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options.plotOptions,t=r.xField,e=r.yField,n=r.data,a=eB[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,Wr.getScale)("linear"),o=this.adjustScale(r,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),f=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,f,e);this.container.addShape("path",{attrs:(0,Gt.__assign)({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,f,e),v=[[0,0],[1,1]],m=ih(c,!1,v);this.shape=this.container.addShape("path",{attrs:(0,Gt.__assign)({path:m},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(r){var t=[],e=[];return(0,u.each)(r,function(n){t.push({x:n[0],y:n[1]});var a=rB(r.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},i.prototype.getTrendlinePoints=function(r,t,e){var n=[];return(0,u.each)(this.data.trendlineData,function(a){var o=r.scale(a.x),s=t.scale(a.y),l=e.start.x+e.width*o,f=e.start.y-e.height*s;n.push({x:l,y:f})}),n},i.prototype.getConfidencePath=function(r,t,e){var n=[],a=[],o=[];(0,u.each)(this.data.confidenceData,function(c){var v=r.scale(c.x),m=t.scale(c.y0),T=t.scale(c.y1),D=e.start.x+e.width*v,Y=e.start.y-e.height*m,W=e.start.y-e.height*T;n.push({x:D,y:Y}),a.push({x:D,y:W})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",f=n[s];!isNaN(f.x)&&!isNaN(f.y)&&o.push([l,f.x,f.y])}for(var h=a.length-1;h>0;h--){var f=a[h];!isNaN(f.x)&&!isNaN(f.y)&&o.push(["L",f.x,f.y])}return o},i.prototype.adjustScale=function(r,t,e){var n=r.min,a=r.max,o=this.options.plotOptions,s=o.data,l=o.xField,f=o.yField,h=e==="x"?l:f,c=(0,u.minBy)(s,h)[h],v=(0,u.maxBy)(s,h)[h],m=(n-c)/(v-c),T=(a-v)/(v-c),D=(0,u.minBy)(t,e)[e],Y=(0,u.maxBy)(t,e)[e];return{min:D+m*(Y-D),max:Y+T*(Y-D)}},i}(),iB=nB,aB={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},oB=Ti(aB);(0,u.assign)(dn,oB);var sB=function(i){var r=i.stroke||"#000";return{stroke:r}},lB=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},uB=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ta("scatter",{pointStyle:{normal:{},active:sB,selected:lB,inactive:uB}});var fB={scatter:"point"},hB={point:"point"},Dy=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new tB((0,Gt.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new iB((0,Gt.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},r.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},r.prototype.isValidLinearValue=function(t){return(0,u.isNil)(t)?!1:!Number.isNaN(Number(t))},r.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,u.get)(this.options,["xAxis","type"],"linear"),l=(0,u.get)(this.options,["yAxis","type"],"linear");if(s&&l){var f=t.filter(function(h){return!(s==="linear"&&!e.isValidLinearValue(h[a])||l==="linear"&&!e.isValidLinearValue(h[o]))}).map(function(h){var c;return(0,Gt.__assign)((0,Gt.__assign)({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return f}return t},r.prototype.geometryParser=function(t,e){return t==="g2"?fB[e]:hB[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,u.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),e[t.yField]={},(0,u.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis);var n=(0,u.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,u.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=ni("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",(0,Gt.__assign)({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=Fi("label",(0,Gt.__assign)((0,Gt.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},r.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||V)},r.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},r}(Qn),Fy=Dy;un("scatter",Dy);var cB=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="scatter",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Fy.getDefaultOptions,r}(Jr),Ry=cB,vB=d(78685);bn("point","bubble-point",{draw:function(i,r){var t=(0,vB.iV)(this,i,r,"circle",!1);if(!i.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});var dB=function(i){var r=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:r,fillOpacity:t}},pB=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},gB=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};ta("bubble",{pointStyle:{normal:{},active:dB,selected:pB,inactive:gB}});var Ny=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,V)},r}(Fy),yB=Ny;un("bubble",Ny);var mB=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="bubble",i.prototype.createLayers.call(this,e)},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=yB.getDefaultOptions,r}(Jr),Yy=mB,xB={bullet:"interval",bulletTarget:"bullet-target"},bB=Ti(xB);(0,u.assign)(dn,bB);var wB=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var r=this.getGeometry(),t=(0,u.map)(r==null?void 0:r.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(r,t,e){for(var n=this.cfg,a=n.rangeColors,o=r.minX,s=r.minY-r.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var f=(t[l]-t[l-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:f,height:r.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=f}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new tn(r.x,s,o,r.height*n.rangeSize);this.drawBulletTicks(c,h,e)}},i.prototype.drawBulletTicks=function(r,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,u.get)(a,"lineHeight",0)-a.fontSize/2,f=0;f<o;f+=1){var h=r.minX+t*f*e,c=""+t*f;if(n.axis.formatter&&(c=n.axis.formatter(c,f)),this.container.addShape("text",{name:"tick",attrs:(0,Gt.__assign)({x:h,y:s==="before"?r.minY-l:r.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var v=n.axis.tickLine;f>0&&f!==o-1&&this.container.addShape("path",{attrs:(0,Gt.__assign)({path:[["M",h,r.minY],["L",h,r.maxY]]},v)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),SB=wB,MB=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var r=(0,u.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=r[t].getBBox(),n=e.width/r[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(r,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var f=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:(0,Gt.__assign)((0,Gt.__assign)({width:f.width,height:r.height*a.markerSize-f.width/2,x:r.minX+s*e,y:r.minY-r.height*(a.markerSize-1)/2},f),{fill:o[l%o.length]||f.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),CB=MB,EB=function(i){var r=i.opacity||1;return{opacity:r*.5,lineWidth:0}},AB=function(i){var r=i.opacity||1;return{opacity:r*.5}};ta("bullet",{columnStyle:{normal:{},active:EB,disable:AB,selected:{}}});var TB={bullet:"interval"},PB={interval:"bullet"},_B="$$stackField$$",OB="$$xField$$",LB="$$yField$$",Gy=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:_B,xField:OB,yField:LB,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,u.has)(t,"yAxis")&&bi(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&bi(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new SB(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new CB(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},r.prototype.geometryParser=function(t,e){return t==="g2"?TB[e]:PB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=(0,Gt.__assign)({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},r.prototype.addGeometry=function(){var t=this.options,e=ni("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Z)},r.prototype.extractLabel=function(){var t=this.options,e=(0,u.deepMix)({},t.label);if(e.visible===!1)return!1;var n=Fi("label",(0,Gt.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},r.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},r.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},r.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var f=a.measures[l],h=a.title||""+o;n.push((s={},s[e.xField]=h,s[e.yField]=f,s[e.stackField]=""+l,s))}}),n},r}(Qn),IB=Gy;un("bullet",Gy);var kB=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="bullet",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=IB.getDefaultOptions,r}(Jr),zy=kB,ns="$$day$$",is="$$week$$",Xy="$$date$$",IG="$$is_month_center$$",as="YYYY-MM-DD",BB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],DB=["S","M","T","W","T","F","S"],ks=864e5;function FB(i){var r=(0,Gt.__spreadArrays)(i).sort(function(t,e){return t.getTime()-e.getTime()});return[xo().format((0,u.head)(r),as),xo().format((0,u.last)(r),as)]}function kG(i){var r=i||new Date;return[fecha.format(new Date(r.getFullYear(),0,1),FORMATTER),fecha.format(new Date(r.getFullYear(),11,30),FORMATTER)]}function RB(i){return i.getMonth()!==ql(new Date(i),7*ks).getMonth()}function NB(i){return i.getMonth()!==ql(new Date(i),ks).getMonth()}function Vy(i){var r=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-r.getTime())/ks+r.getDay()+1)/7)}function YB(i){return i.getDay()}function ql(i,r){return i.setMilliseconds(i.getMilliseconds()+r),i}function Hy(i){var r,t=i[0],e=i[1],n=xo().parse(t,as),a=xo().parse(e,as);return n>a&&(r=[n,a],a=r[0],n=r[1]),[n,a]}function GB(i,r,t){for(var e=[],n=Hy(r),a=n[0],o=n[1],s=new Date(a),l=function(){var f,h=xo().format(s,as),c=(0,u.find)(i,function(v){return v[t]===h});e.push((0,Gt.__assign)((f={},f[ns]=YB(s),f[is]=""+Vy(s),f[t]=h,f[Xy]=new Date(s),f),c)),ql(s,ks)};s<=o;)l();return e}function zB(i){var r=Hy(i),t=r[0],e=r[1],n=new Map;function a(l){var f=l.getMonth(),h=Vy(l);n.has(f)||n.set(f,[]),n.get(f).push(h)}for(var o=new Date(t);o<=e;)a(o),ql(o,ks*7);e<o&&a(e);var s={};return n.forEach(function(l,f){var h=Math.ceil(((0,u.head)(l)+(0,u.last)(l))/2);s[h]=f}),s}var XB={rect:"polygon"},VB=Ti(XB);(0,u.assign)(dn,VB);var Wy=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return r.getDefaultOptions=function(){var t;return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[ns]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[is]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},r.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,u.isNil)(n)){var a=(0,u.map)(t,function(o){return xo().parse(""+o[e],as)});n=FB(a)}return GB(t,n,e)},r.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[is,ns]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[is,ns]))},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return Fi("label",(0,Gt.__assign)({plot:this,fields:[n],position:"top",offset:0},e))},r.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},r.prototype.geometryParser=function(){return""},r.prototype.axis=function(){var t=Fi("axis",{plot:this,dim:"x"}),e=Fi("axis",{plot:this,dim:"y"}),n={};n[is]=t,n[ns]=e,this.setConfig("axes",n)},r.prototype.scale=function(){i.prototype.scale.call(this);var t=zB(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?DB:a,s=n.months,l=s===void 0?BB:s,f=e[is],h=e[ns];f.formatter=function(T){var D=t[T];return D!==void 0?l[D]:""},h.formatter=function(T){return o[T]||""};var c=this.options,v=c.xAxis,m=c.yAxis;f.alias=(0,u.get)(v,["title","text"],f.alias),h.alias=(0,u.get)(m,["title","text"],h.alias),this.setConfig("scales",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,X)},r}(Qn),HB=Wy;un("calendar",Wy),bn("polygon","calendar-polygon",{draw:function(i,r){if(!(0,u.isEmpty)(i.points)){var t=i.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=(0,Gt.__assign)((0,Gt.__assign)({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:e}),a=r.addShape("path",{attrs:n}),o=i.data[Xy];if(RB(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];r.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),NB(o)&&r.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return r.sort(),a}}});var WB=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="calendar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=HB.getDefaultOptions,r}(Jr),jB=WB,jy=function(){function i(r){this.uid=r}return i.prototype.setOption=function(r,t){this.type=r,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var r=this;bn("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=r.options,this.gauge.axis=r.axis,this.gauge.pivot=r.pivot,this.gauge.type=r.type;var s=this.gauge,l=this.gauge.type,f=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:f.x||0,y:1});s.center=h,s.group=e;var v={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(v.x*v.x+v.y*v.y);var m=this.getAngleRange(),T=m.starAngle,D=m.endAngle,Y=f.x*(D-T)+T;switch(l){case"meterGauge":this.drawBarGauge(Y),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(Y),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(Y),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||zi().colors,f=this.getAngleRange(),h=f.starAngle,c=f.endAngle,v={min:e,max:n,starAngle:h,endAngle:c},m=0;m<a.length;m++){var T=this.valueToAngle(a[m],v),D=this.valueToAngle(a[m+1],v);if(D>=T){var Y=this.getPath(T,D),W=(0,u.deepMix)({fill:l[m]},s);this.drawRing(Y,W)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:e,max:n,starAngle:s,endAngle:l},h=(n-e)/a.tickCount,c=0;c<a.tickCount;c++){var v=e+c*h,m=this.valueToAngle(v+h/2,f);this.drawRect(m,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,m=this.valueToAngle(v,f),T=(0,u.clone)(t.tickLine.style);c%5!=0&&(T.lineWidth=T.lineWidth/2),this.drawRect(m,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:T})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,m=this.valueToAngle(v,f);this.drawRect(m,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,f=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||zi().colors,v=this.getAngleRange(),m=v.starAngle,T=v.endAngle,D={min:a,max:o,starAngle:m,endAngle:T},Y=(T-m)/(50-1),W=Y/3,H=0;H<50;H++){var st=m+H*Y,lt=this.getPath(st-W/2,st+W-W/2),Mt=h;if(s&&s.length){var Ft=s.map(function(Yt){return e.valueToAngle(Yt,D)}),zt=FE(Ft,st),Zt=Math.min(zt,s.length-1);Mt=(0,u.deepMix)({},{fill:c[Zt-1]},f)||h}else Mt=t>=st?(0,u.deepMix)({},{fill:l},f):h;this.drawRing(lt,Mt)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var f=l*(s-o)+o;return f=Math.max(f,o),f=Math.min(f,s),f},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,u.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=(0,Gt.__assign)((0,Gt.__assign)({},n),e),o=a.offset,s=a.length,l=this.gauge.center,f;o<0?f=this.gauge.ringRadius-this.gauge.options.rangeSize+o:f=this.gauge.ringRadius+o;var h=f*Math.cos(t)+l.x,c=f*Math.sin(t)+l.y,v=(f+s)*Math.cos(t)+l.x,m=(f+s)*Math.sin(t)+l.y,T=this.gauge.group.addShape("line",{attrs:(0,u.deepMix)({},{x1:h,y1:c,x2:v,y2:m},e.style)});T.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,f=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(e)+n.x,v=a*Math.sin(e)+n.y,m=(a-o)*Math.cos(e)+n.x,T=(a-o)*Math.sin(e)+n.y,D=Math.abs(t-e)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,D,1,c,v],["L",m,T],["A",a-o,a-o,0,D,0,f,h],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,f=this.gauge.pivot,h=f.thickness,c=f.thickness/2.5,v=this.gauge.group,m=t.points[0],T=this.parsePoint({x:0,y:0}),D=m.x*(a-n)+n,Y=(this.gauge.ringRadius-l)*s*Math.cos(D)+this.gauge.center.x,W=(this.gauge.ringRadius-l)*s*Math.sin(D)+this.gauge.center.y,H={x:Y,y:W};if(f.base.visible&&v.addShape("circle",{attrs:(0,u.deepMix)({},{x:T.x,y:T.y,r:f.base.size?f.base.size/2:h*2.2},f.base.style)}),f.pointer.visible){var st={x:T.x-H.x,y:T.y-H.y},lt=Math.sqrt(st.x*st.x+st.y*st.y);st.x*=1/lt,st.y*=1/lt;var Mt=-Math.PI/2,Ft=Math.cos(Mt)*st.x-Math.sin(Mt)*st.y,zt=Math.sin(Mt)*st.x+Math.cos(Mt)*st.y,Zt=Math.PI/2,Yt=Math.cos(Zt)*st.x-Math.sin(Zt)*st.y,re=Math.sin(Zt)*st.x+Math.cos(Zt)*st.y,he=[["M",H.x+Ft*c,H.y+zt*c],["L",T.x+Ft*h,T.y+zt*h],["L",T.x+Yt*h,T.y+re*h],["L",H.x+Yt*c,H.y+re*c],["Z"]];v.addShape("path",{attrs:(0,u.deepMix)({},{path:he},f.pointer.style)}),v.addShape("circle",{attrs:{x:H.x,y:H.y,r:c,fill:f.pointer.style.fill}}),v.addShape("circle",{attrs:{x:T.x,y:T.y,r:h,fill:f.pointer.style.fill}})}f.pin.visible&&v.addShape("circle",{attrs:(0,u.deepMix)({},{x:T.x,y:T.y,r:c/1.2},f.pin.style)})}})},i}(),UB={range:"point",statistic:"annotation-text"},ZB=Ti(UB);(0,u.assign)(dn,ZB);var Uy=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="gauge",e}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},r.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(T){return+T}).sort(function(T,D){return T-D}),o=this.options,s=o.min,l=s===void 0?a[0]:s,f=o.max,h=f===void 0?a[a.length-1]:f,c=o.format,v=c===void 0?function(T){return""+T}:c,m=v(e);this.options.data=[{value:e||0}],this.options.valueText=m,this.options.min=l,this.options.max=h,this.options.format=v,this.initG2Shape(),i.prototype.init.call(this)},r.prototype.initG2Shape=function(){this.gaugeShape=new jy((0,u.uniqueId)()),this.gaugeShape.setOption(this.type,(0,u.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},r.prototype.geometryParser=function(){return"gauge"},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};bi(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},r.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},r.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},r.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},r.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,U)},r}(Qn),Oh=Uy;un("gauge",Uy);var KB=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="gauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Oh.getDefaultOptions,r}(Jr),Zy=KB,Ky=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},r.prototype.initG2Shape=function(){this.gaugeShape=new jy((0,u.uniqueId)()),this.gaugeShape.setOption(this.type,(0,u.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},r.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},r.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,e].map(function(f,h){return{type:"text",top:!0,position:["50%","50%"],content:a(f),style:(0,u.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},r}(Oh),$B=Ky;un("fanGauge",Ky);var QB=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="fanGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$B.getDefaultOptions,r}(Jr),$y=QB,Qy=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},r}(Oh),JB=Qy;un("meterGauge",Qy);var qB=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="meterGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=JB.getDefaultOptions,r}(Jr),Jy=qB,tD=d(25155),no=d.n(tD),BG=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e),no()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},r.getDefaultOptions=Oy.getDefaultOptions,r}(Jr),DG=null,FG=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e),no()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},r.getDefaultOptions=xh.getDefaultOptions,r}(Jr),RG=null,NG=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e),no()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},r.getDefaultOptions=fg.getDefaultOptions,r}(Jr),YG=null,GG=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e),no()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},r.getDefaultOptions=Og.getDefaultOptions,r}(Jr),zG=null,XG=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e),no()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},r.getDefaultOptions=vg.getDefaultOptions,r}(Jr),VG=null,HG=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e),no()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},r.getDefaultOptions=Ug.getDefaultOptions,r}(Jr),WG=null,jG=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e),no()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},r.getDefaultOptions=gh.getDefaultOptions,r}(Jr),UG=null,ZG=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e),no()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},r.getDefaultOptions=ch.getDefaultOptions,r}(Jr),KG=null,$G=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e),no()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},r.getDefaultOptions=Wl.getDefaultOptions,r}(Jr),QG=null,eD=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},r.prototype.coord=function(){},r.prototype.addGeometry=function(){},r.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,u.each)(e.guideLine,function(o){var s=Fi("guideLine",{plot:t,cfg:(0,u.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},r}(Qn),tu=eD,rD=function(){function i(r){(0,u.assign)(this,r),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(r,t,e){var n={};if((0,u.assign)(this,r),this.coord=this.view.geometries[0].coordinate,r.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(r.style){var s=this.shape,l=s.attrs,f=(0,u.deepMix)({},l,r.style);n=(0,u.deepMix)({},f,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var r=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,u.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:(0,Gt.__assign)({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(r,0),this.canvas.draw()},i}(),qy=rD,nD={progress:"interval"},iD=Ti(nD);(0,u.assign)(dn,iD);var aD={progress:"interval"},oD={interval:"progress"},t0=["#55A6F3","#E8EDF3"],e0=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||t0};t=(0,u.mix)(t,e)},r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,u.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},r.prototype.update=function(t){var e=this.options;if((0,u.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,u.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},r.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,u.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},r.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,u.each)(this.options.marker,function(s){var l=(0,u.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),f=new qy(l);t.markers.push(f)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},r.prototype.geometryParser=function(t,e){return t==="g2"?aD[e]:oD[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.addGeometry=function(){var t=this.options,e=ni("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,u.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,nt)},r.prototype.parseColorProps=function(t){var e;if(t.color)if((0,u.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,u.isString)(e)){var n=(0,u.clone)(t0);return n[0]=e,n}else return e;return t.color},r.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},r.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,u.each)(this.markers,function(f,h){h>e-1?f.destroy():f.update(t[h],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,u.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new qy(s);this.markers.push(l)}},r.prototype.getSize=function(){var t=this.height;return t>=50?10:4},r.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,l=s.geometries;(0,u.each)(l,function(f){if(f.type==="interval"){var h=f.elements;(0,u.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,u.isArray)(t)?(0,u.each)(t,function(f,h){o[h].animate(f,n,a)}):o[0].animate(t,n,a)},r.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},r.prototype.updateColorConfigByStyle=function(t){var e=this;(0,u.isArray)(t)?(0,u.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},r}(tu),r0=e0;un("progress",e0);var sD=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="progress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},r.getDefaultOptions=r0.getDefaultOptions,r}(Jr),n0=sD,lD={ringProgress:"interval"},uD=Ti(lD);(0,u.assign)(dn,uD);var fD=["#55A6F3","#E8EDF3"],i0=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||fD};t=(0,u.mix)(t,e)},r.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=this.options;this.ring=ni("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},r.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,q)},r.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},r}(r0),hD=i0;un("ringProgress",i0);var cD=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="ringProgress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t){var e=this.layers[0];e.update(t)},r.getDefaultOptions=hD.getDefaultOptions,r}(Jr),a0=cD,vD={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,u.assign)(dn,vD);var dD=.6,pD={column:"interval"},gD={interval:"column"},o0=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?pD[e]:gD[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},r.prototype.addGeometry=function(){var t=this.options,e=ni("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,wt)},r.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,u.mix)(this.options,t)},r.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*dD},r.prototype.getColumnNum=function(t,e){var n=[];return(0,u.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},r}(tu),yD=o0;un("tinyColumn",o0);var mD=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="tinyColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=yD.getDefaultOptions,r}(Jr),s0=mD,xD={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,u.assign)(dn,xD);var bD={area:"area",line:"line"},l0=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return r.prototype.geometryParser=function(t,e){return bD[e]},r.prototype.addGeometry=function(){this.area=ni("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=ni("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,ft)},r}(tu),wD=l0;un("tinyArea",l0);var SD=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="tinyArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=wD.getDefaultOptions,r}(Jr),u0=SD,MD={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,u.assign)(dn,MD);var CD={line:"line"},f0=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return r.prototype.geometryParser=function(t,e){return CD[e]},r.prototype.addGeometry=function(){this.line=ni("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Ot)},r}(tu),ED=f0;un("tinyLine",f0);var AD=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="tinyLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ED.getDefaultOptions,r}(Jr),h0=AD,Lh=5,TD=function(i){(0,Gt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,u.deepMix)({},t),e.themeController=new rh,e}return r.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,u.deepMix)({},n,a,e,t)},r.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,l=a.yField,f=0;f<this.requiredField.length;f++){var h=this.requiredField[f];if(!(0,u.hasKey)(this.options,h))return!1}return!(!(0,u.isArray)(l)||l.length<2||!(0,u.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,u.each)(o,function(c,v){if(!(0,u.isArray)(c)||c.length===0){var m=t.getMockData(v);o[v]=m}}),!o[0][0][s]||!o[1][0][s]))},r.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},r.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){t&&t.length<2||!(0,u.isArray)(t[0])||(0,u.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},r.prototype.changeDataByIndex=function(t,e){if(!(0,u.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},r.prototype.doDestroy=function(){(0,u.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,u.each)(this.legends,function(t){t.destroy()}),this.legends=[]},r.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t((0,Gt.__assign)({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},r.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},r.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,u.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,u.each)(s,function(h,c){if(!(0,u.isString)(h)&&(0,u.hasKey)(l,c)){var v=l[c];h.style||(h.style={}),h.style[v]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var f=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,u.deepMix)({},f,s)},r.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,Wr.getScale)("linear"),a=new n((0,u.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),f=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),f.push(c)}return f},r.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,u.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],f=o.max?o.max:s[s.length-1];return{min:l,max:f,values:s}},r.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(l){return l[o]===t})},r.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},r.prototype.adjustLayout=function(){var t=this,e,n,a=zi().bleeding;(0,u.isArray)(a)&&(0,u.each)(a,function(m,T){typeof a[T]=="function"&&(a[T]=a[T](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),f=0,h,c;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),f=h.height+Lh*2);var v=s.map(function(m,T){return T===0?Math.max.apply(null,[m+f,l[T]]):Math.max.apply(null,[m,l[T]])});this.geomLayers[0].updateConfig({padding:v}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:v}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+Lh}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+Lh}))},r.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},r.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},r.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},r.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},r.prototype.setGeometryVisibility=function(t,e){(0,u.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},r.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(l){return(0,u.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,u.each)(s,function(l){var f=l.get("component").get("field");f===e&&(n=l)})}return n},r.prototype.getUnCheckedValue=function(){var t=[];return(0,u.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,u.each)(n,function(a){t.push(a.name)})}),t},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Ko(t.title)){var n=this.width,a=this.theme,o=new Tl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,u.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Ko(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Ko(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new Tl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,u.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},r.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new tn(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,u.each)(o,function(s){if(s){var l=s.position,f=s.getBBox(),h=f.minX,c=f.maxX,v=f.minY,m=f.maxY;m>=n&&m<=a&&l==="top"&&(n=m),v>=n&&v<=a&&l==="bottom"&&(a=v),c>t&&c<=e&&l==="left"&&(t=c),h>=t&&c<=e&&l==="right"&&(e=h)}}),new tn(t,n,e-t,a-n)},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},r}(Al),c0=TD,v0={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},d0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},p0=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:d0,rightConfig:d0},lineConfigs:[(0,u.deepMix)({},v0,{color:"#5B8FF9"}),(0,u.deepMix)({},v0,{color:"#e76c5e"})]})},r.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,l=e.xAxis,f=e.tooltip,h=e.lineConfigs,c=e.legend,v=e.events,m=e.customMeta;this.colors=[h[0].color,h[1].color];var T=this.getYAxisGlobalConfig(),D=this.createLayer(Os,n[0],(0,Gt.__assign)({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,u.deepMix)({},T,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:v},h[0]));D.render();var Y={};Y[s[1]]={ticks:this.getTicks()};var W=this.createLayer(Os,n[1],(0,Gt.__assign)({xField:o,yField:s[1],meta:m?a:(0,u.deepMix)({},a,Y),serieField:s[1],xAxis:l,yAxis:(0,u.deepMix)({},T,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,u.deepMix)({},{showMarkers:!1,custom:{onChange:function(H,st){t.tooltip(H,st)}}},f),events:v},h[1]));W.render(),c.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,u.clone)(e.items[0]),f=this.getDataByXField(e.title,0)[0];f&&(0,u.findIndex)(e.items,function(h){return h.name===o[0]})<0&&e.items.push((0,Gt.__assign)((0,Gt.__assign)({},l),{mappingData:(0,u.deepMix)({},l.mappingData,{_origin:f}),data:f,name:o[0],value:f[o[0]],color:this.colors[0]})),s.visible&&(0,u.each)(this.legends,function(h,c){var v=h.get("items")[0];if(v.unchecked){var m=c===0?1:0;e.items.splice(m,1)}})},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,u.each)(this.geomLayers,function(f,h){var c=(0,u.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),v=[{name:n[h],unchecked:!1,marker:c}],m=new sn.Legend.Category({id:t.type,container:s,x:0,y:0,items:v,updateAutoRender:!0,itemBackground:null,itemName:l.text});m.init(),m.render(),t.legends.push(m)}),(0,u.each)(this.geomLayers,function(f,h){t.legendFilter(h)})},r}(c0),PD=p0;un("dualLine",p0);var _D=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="dualLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=PD.getDefaultOptions,r}(Jr),g0=_D,OD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},LD={color:"#5B8FF9"},y0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},m0=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:y0,rightConfig:y0},lineConfig:OD,columnConfig:LD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=zi(),l=s.colors,f=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?f:l,v=[];(0,u.each)(h,function(m,T){v.push(c[T+1])}),a.lineConfig.color=v}},r.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,f=t.lineConfig,h=t.columnConfig,c=t.events,v=t.customMeta;this.colors=[h.color,f.color],this.drawColumn();var m={};m[o[1]]={ticks:this.getTicks()};var T=this.createLayer(Os,e[1],(0,Gt.__assign)({xField:a,yField:o[1],seriesField:s,meta:v?n:(0,u.deepMix)({},n,m),xAxis:{visible:!1},yAxis:(0,u.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},f));T.render(),l.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,l=e.tooltip,f=e.columnConfig,h=e.meta,c=e.events,v=this.createLayer(es,n[0],(0,Gt.__assign)({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,u.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,u.deepMix)({},{showMarkers:!1,custom:{onChange:function(m,T){t.tooltip(m,T)}}},l),events:c},f));v.render()},r.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,f=(0,u.clone)(e.items[0]),h=this.getDataByXField(e.title,1),c=(0,u.get)(l,"formatter");if(h&&(0,u.each)(h,function(Y,W){var H=n.geomLayers[1].options.seriesField,st=H?Y[H]:s[1],lt=c?c(Y[o],Y[s[1]],Y[H]):{name:st,value:Y[s[1]]};e.items.push((0,Gt.__assign)((0,Gt.__assign)((0,Gt.__assign)((0,Gt.__assign)({},f),{mappingData:(0,u.deepMix)({},f.mappingData,{_origin:h}),data:Y}),lt),{color:(0,u.isArray)(n.colors[1])?n.colors[1][W]:n.colors[1]}))}),this.options.legend.visible){var v=this.getUnCheckedValue(),m=this.legends[0].get("items").length+this.legends[1].get("items").length;if(v.length===m){t.style.display="none";return}else t.style.display="block";var T=[],D=[];(0,u.each)(e.items,function(Y){var W=Y.name;!(0,u.contains)(T,W)&&!(0,u.contains)(v,W)&&(T.push(W),D.push(Y))}),(0,u.each)(e.items,function(Y,W){W<D.length?e.items[W]=D[W]:e.items.pop()})}},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var m=t.getValueBySeriesField();v=t.createNormalLegend(m,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},r.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,u.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],f=new sn.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return f.init(),f.render(),f},r.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,u.each)(t,function(f,h){s.push({name:f,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[h]}}})});var l=new sn.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},r.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(f){var h=n.geomLayers[t].view,c=f.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,u.pull)(o,c.name),h.filter(c.value,function(v){return!(0,u.contains)(o,v)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(e,function(v){return!(0,u.contains)(o,v)}),h.render())),n.canvas.draw()})},r.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,u.each)(a,function(s){var l=s[e];(0,u.contains)(o,l)||o.push(l)}),o},r}(c0),Ih=m0;un("columnLine",m0);var ID=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="columnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ih.getDefaultOptions,r}(Jr),x0=ID,kD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},BD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},b0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},w0=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,u.deepMix)({},b0,{colorMapping:!1}),rightConfig:b0},lineConfig:kD,columnConfig:BD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var l=zi(),f=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>f.length?h:f,m=[],T=s.length;(0,u.each)(c,function(Y,W){m.push(v[W+T])}),a.lineConfig.color=m}var D=this.options.columnConfig.color;this.options.columnConfig.color=D.slice(0,s.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,l=e.xAxis,f=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(xh,n[0],(0,Gt.__assign)({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,u.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,u.deepMix)({},f,{showMarkers:!1,custom:{onChange:function(m,T){t.tooltip(m,T)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var m=t.getValueBySeriesField();v=t.createNormalLegend(m,f[c],o[c],l,s)}else if(h.options.groupField){var m=t.getValueByGroupField();v=t.createNormalLegend(m,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},r.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,u.each)(a,function(s){var l=s[e];(0,u.contains)(o,l)||o.push(l)}),o},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Ih),DD=w0;un("groupedColumnLine",w0);var FD=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="groupedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=DD.getDefaultOptions,r}(Jr),S0=FD,RD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},ND={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},M0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},C0=function(i){(0,Gt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return r.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,u.deepMix)({},M0,{colorMapping:!1}),rightConfig:M0},lineConfig:RD,columnConfig:ND,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var l=zi(),f=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>f.length?h:f,m=[],T=n.length;(0,u.each)(c,function(Y,W){m.push(v[W+T])}),o.lineConfig.color=m}var D=this.options.columnConfig.color;this.options.columnConfig.color=D.slice(0,n.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,l=e.xAxis,f=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(Wl,n[0],(0,Gt.__assign)({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,u.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,u.deepMix)({},f,{showMarkers:!1,custom:{onChange:function(m,T){t.tooltip(m,T)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var m=t.getValueBySeriesField();v=t.createNormalLegend(m,f[c],o[c],l,s)}else if(h.options.stackField){var m=t.getValueByStackField();v=t.createNormalLegend(m,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},r.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,u.each)(a,function(s){var l=s[e];(0,u.contains)(o,l)||o.push(l)}),o},r.prototype.getUnCheckedValue=function(){var t=[];return(0,u.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,u.each)(n,function(a){t.push(a.name)})}),t},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Ih),YD=C0;un("stackedColumnLine",C0);var GD=function(i){(0,Gt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,u.deepMix)({},t);e.type="stackedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=YD.getDefaultOptions,r}(Jr),E0=GD,zD=function(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},JG=function(r,t){return JSON.stringify(r)===JSON.stringify(t)},XD=function(r,t){return new Set(r.concat(t)).size===r.length},VD=function(r,t){var e={}.toString;return e.call(r)==="[object "+t+"]"},HD=function(r){if(!r)return r;var t={};for(var e in r)t[e]=r[e];return t},Bs={sameArray:XD,camelCase:zD,isType:VD,clone:HD},WD=d(73935),jD=function(r){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",WD.render(r,t),t},kh=jD;function A0(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function UD(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?A0(Object(t),!0).forEach(function(e){ZD(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):A0(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function ZD(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function fn(i,r){var t=(0,gt.useRef)(),e=(0,gt.useRef)(null),n=function(){var l,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(f,h)},a=function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var v=l;if(!v){var m,T=r;v="".concat((T==null||(m=T.title)===null||m===void 0?void 0:m.text)||(i==null?void 0:i.name),".png")}var D=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(f,h),Y=document.createElement("a");Y.href=D,Y.download=v,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),Y=null}catch(W){console.log(W)}},o=function(){var l,f,h,c,v;if((l=r.statistic)===null||l===void 0?void 0:l.htmlContent){var m=r.statistic.htmlContent;r.statistic.htmlContent=function(){var D=m.apply(void 0,arguments);return Bs.isType(D,"String")||Bs.isType(D,"Number")||Bs.isType(D,"HTMLDivElement")?D:kh(D)}}if(((f=r.tooltip)===null||f===void 0||(h=f.custom)===null||h===void 0?void 0:h.container)&&(r.tooltip.custom.container=kh(r.tooltip.custom.container)),(c=r.tooltip)===null||c===void 0||(v=c.custom)===null||v===void 0?void 0:v.customContent){var T=r.tooltip.custom.customContent;r.tooltip.custom.customContent=function(D,Y){var W=T(D,Y)||"";return Bs.isType(W,"HTMLDivElement")?W:kh(W)}}};return(0,gt.useEffect)(function(){t.current&&(r.onlyChangeData?t.current.changeData((r==null?void 0:r.data)||[]):(o(),t.current.updateConfig(r),t.current.render()))},[(r==null?void 0:r.memoData)?r.memoData:JSON.stringify(r)]),(0,gt.useEffect)(function(){if(!e.current)return function(){return null};o();var s=new i(e.current,UD({},r));return s.__proto__.toDataURL=function(l,f){return n(l,f)},s.__proto__.downloadImage=function(l,f,h){return a(l,f,h)},s.render(),t.current=Bs.clone(s),function(){return s.destroy()}},[]),{chart:t,container:e,toDataURL:n,downloadImage:a}}var KD=gt.createContext({});function eu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(t){return typeof t}:eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(i)}function $D(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function T0(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function QD(i,r,t){return r&&T0(i.prototype,r),t&&T0(i,t),i}function JD(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&Bh(i,r)}function Bh(i,r){return Bh=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},Bh(i,r)}function qD(i){var r=r5();return function(){var e=ru(i),n;if(r){var a=ru(this).constructor;n=Reflect.construct(e,arguments,a)}else n=e.apply(this,arguments);return t5(this,n)}}function t5(i,r){return r&&(eu(r)==="object"||typeof r=="function")?r:e5(i)}function e5(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function r5(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function ru(i){return ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ru(i)}var n5=function(i){JD(t,i);var r=qD(t);function t(){var e;return $D(this,t),e=r.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return gt.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return QD(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(gt.Component),on=n5,qG=KD.Provider;function i5(i,r){if(i==null)return{};var t=a5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function a5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var P0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=i5(i,["chartRef","style","className"]),s=fn(Eg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});P0.defaultProps=Eg.getDefaultOptions();var o5=P0;function s5(i,r){if(i==null)return{};var t=l5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function l5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var _0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=s5(i,["chartRef","style","className"]),s=fn(og,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});_0.defaultProps=og.getDefaultOptions();var u5=_0;function f5(i,r){if(i==null)return{};var t=h5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function h5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var O0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=f5(i,["chartRef","style","className"]),s=fn(Yy,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});O0.defaultProps=Yy.getDefaultOptions();var c5=O0;function v5(i,r){if(i==null)return{};var t=d5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function d5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var L0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=v5(i,["chartRef","style","className"]),s=fn(zy,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});L0.defaultProps=zy.getDefaultOptions();var p5=L0;function g5(i,r){if(i==null)return{};var t=y5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function y5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var m5=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=g5(i,["chartRef","style","className"]),s=fn(jB,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))}),x5=m5;function b5(i,r){if(i==null)return{};var t=w5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function w5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var I0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=b5(i,["chartRef","style","className"]),s=fn(Dg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});I0.defaultProps=Dg.getDefaultOptions();var k0=I0;function S5(i,r){if(i==null)return{};var t=M5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function M5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var B0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=S5(i,["chartRef","style","className"]),s=fn(x0,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});B0.defaultProps=x0.getDefaultOptions();var C5=B0;function E5(i,r){if(i==null)return{};var t=A5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function A5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var D0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=E5(i,["chartRef","style","className"]),s=fn(ny,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});D0.defaultProps=ny.getDefaultOptions();var T5=D0;function P5(i,r){if(i==null)return{};var t=_5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function _5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=P5(i,["chartRef","style","className"]),s=fn(Ly,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});F0.defaultProps=Ly.getDefaultOptions();var R0=F0;function O5(i,r){if(i==null)return{};var t=L5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function L5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=O5(i,["chartRef","style","className"]),s=fn(g0,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});N0.defaultProps=g0.getDefaultOptions();var I5=N0;function k5(i,r){if(i==null)return{};var t=B5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function B5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Y0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=k5(i,["chartRef","style","className"]),s=fn($y,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});Y0.defaultProps=$y.getDefaultOptions();var D5=Y0;function F5(i,r){if(i==null)return{};var t=R5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function R5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N5=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=F5(i,["chartRef","style","className"]),s=fn(jI,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))}),Y5=N5;function G5(i,r){if(i==null)return{};var t=z5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function z5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var G0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=G5(i,["chartRef","style","className"]),s=fn(Zy,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});G0.defaultProps=Zy.getDefaultOptions();var z0=G0;function X5(i,r){if(i==null)return{};var t=V5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function V5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var X0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=X5(i,["chartRef","style","className"]),s=fn(hg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});X0.defaultProps=hg.getDefaultOptions();var H5=X0;function W5(i,r){if(i==null)return{};var t=j5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function j5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var V0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=W5(i,["chartRef","style","className"]),s=fn(Rg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});V0.defaultProps=Rg.getDefaultOptions();var U5=V0;function Z5(i,r){if(i==null)return{};var t=K5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function K5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var H0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Z5(i,["chartRef","style","className"]),s=fn(S0,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});H0.defaultProps=S0.getDefaultOptions();var $5=H0;function Q5(i,r){if(i==null)return{};var t=J5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function J5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var W0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Q5(i,["chartRef","style","className"]),s=fn(yy,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});W0.defaultProps=yy.getDefaultOptions();var q5=W0;function tF(i,r){if(i==null)return{};var t=eF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function eF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var j0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=tF(i,["chartRef","style","className"]),s=fn(sy,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});j0.defaultProps=sy.getDefaultOptions();var rF=j0;function nF(i,r){if(i==null)return{};var t=iF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function iF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var U0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=nF(i,["chartRef","style","className"]),s=fn(Ty,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});U0.defaultProps=Ty.getDefaultOptions();var aF=U0;function oF(i,r){if(i==null)return{};var t=sF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function sF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=oF(i,["chartRef","style","className"]),s=fn(Gp,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});Z0.defaultProps=Gp.getDefaultOptions();var K0=Z0;function lF(i,r){if(i==null)return{};var t=uF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function uF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=lF(i,["chartRef","style","className"]),s=fn(Ey,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});$0.defaultProps=Ey.getDefaultOptions();var Q0=$0;function fF(i,r){if(i==null)return{};var t=hF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function hF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var J0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=fF(i,["chartRef","style","className"]),s=fn(Jy,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});J0.defaultProps=Jy.getDefaultOptions();var cF=J0;function vF(i,r){if(i==null)return{};var t=dF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function dF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var q0=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=vF(i,["chartRef","style","className"]),s=fn(Lg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});q0.defaultProps=Lg.getDefaultOptions();var pF=q0;function gF(i,r){if(i==null)return{};var t=yF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function yF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var tm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=gF(i,["chartRef","style","className"]),s=fn(dg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});tm.defaultProps=dg.getDefaultOptions();var mF=tm;function xF(i,r){if(i==null)return{};var t=bF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function bF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var em=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=xF(i,["chartRef","style","className"]),s=fn(Zg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});em.defaultProps=Zg.getDefaultOptions();var wF=em;function SF(i,r){if(i==null)return{};var t=MF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function MF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var rm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=SF(i,["chartRef","style","className"]),s=fn(ty,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});rm.defaultProps=ty.getDefaultOptions();var CF=rm;function EF(i,r){if(i==null)return{};var t=AF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function AF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var nm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=EF(i,["chartRef","style","className"]),s=fn(n0,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});nm.defaultProps=n0.getDefaultOptions();var im=nm;function TF(i,r){if(i==null)return{};var t=PF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function PF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var am=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=TF(i,["chartRef","style","className"]),s=fn(xy,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});am.defaultProps=xy.getDefaultOptions();var om=am;function _F(i,r){if(i==null)return{};var t=OF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function OF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var sm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=_F(i,["chartRef","style","className"]),s=fn(bg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});sm.defaultProps=bg.getDefaultOptions();var LF=sm;function IF(i,r){if(i==null)return{};var t=kF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function kF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var lm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=IF(i,["chartRef","style","className"]),s=fn(Wg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});lm.defaultProps=Wg.getDefaultOptions();var BF=lm;function DF(i,r){if(i==null)return{};var t=FF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function FF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var um=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=DF(i,["chartRef","style","className"]),s=fn(a0,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});um.defaultProps=a0.getDefaultOptions();var fm=um;function RF(i,r){if(i==null)return{};var t=NF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function NF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var hm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=RF(i,["chartRef","style","className"]),s=fn(uy,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});hm.defaultProps=uy.getDefaultOptions();var YF=hm;function GF(i,r){if(i==null)return{};var t=zF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function zF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var cm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=GF(i,["chartRef","style","className"]),s=fn(Ry,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});cm.defaultProps=Ry.getDefaultOptions();var XF=cm;function VF(i,r){if(i==null)return{};var t=HF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function HF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var vm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=VF(i,["chartRef","style","className"]),s=fn(Pg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});vm.defaultProps=Pg.getDefaultOptions();var WF=vm;function jF(i,r){if(i==null)return{};var t=UF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function UF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var dm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=jF(i,["chartRef","style","className"]),s=fn(lg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});dm.defaultProps=lg.getDefaultOptions();var ZF=dm;function KF(i,r){if(i==null)return{};var t=$F(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $F(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var pm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=KF(i,["chartRef","style","className"]),s=fn(Gg,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});pm.defaultProps=Gg.getDefaultOptions();var QF=pm;function JF(i,r){if(i==null)return{};var t=qF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function qF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var gm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=JF(i,["chartRef","style","className"]),s=fn(E0,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});gm.defaultProps=E0.getDefaultOptions();var tR=gm;function eR(i,r){if(i==null)return{};var t=rR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function rR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var ym=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=eR(i,["chartRef","style","className"]),s=fn(py,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});ym.defaultProps=py.getDefaultOptions();var nR=ym;function iR(i,r){if(i==null)return{};var t=aR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function aR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var mm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=iR(i,["chartRef","style","className"]),s=fn(qp,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});mm.defaultProps=qp.getDefaultOptions();var oR=mm;function sR(i,r){if(i==null)return{};var t=lR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function lR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var xm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=sR(i,["chartRef","style","className"]),s=fn(u0,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});xm.defaultProps=u0.getDefaultOptions();var bm=xm;function uR(i,r){if(i==null)return{};var t=fR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function fR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var wm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=uR(i,["chartRef","style","className"]),s=fn(s0,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});wm.defaultProps=s0.getDefaultOptions();var Sm=wm;function hR(i,r){if(i==null)return{};var t=cR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function cR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Mm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=hR(i,["chartRef","style","className"]),s=fn(h0,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});Mm.defaultProps=h0.getDefaultOptions();var vR=Mm;function dR(i,r){if(i==null)return{};var t=pR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function pR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Cm=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=dR(i,["chartRef","style","className"]),s=fn(Qp,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});Cm.defaultProps=Qp.getDefaultOptions();var gR=Cm;function yR(i,r){if(i==null)return{};var t=mR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function mR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Em=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=yR(i,["chartRef","style","className"]),s=fn(By,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))});Em.defaultProps=By.getDefaultOptions();var xR=Em;function bR(i,r){if(i==null)return{};var t=wR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function wR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var SR=(0,gt.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=bR(i,["chartRef","style","className"]),s=fn(LI,o),l=s.chart,f=s.container;return(0,gt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,gt.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),gt.createElement(on,null,gt.createElement("div",{className:a,style:n,ref:f}))}),Am=SR,MR={i8:"3.8.5"},ei=d(50229),CR={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(r){var t=this,e=this.events;this.graph=r,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!0),(0,kn.default)(e,function(n,a){r.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(r){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!1),(0,kn.default)(t,function(e,n){r.off(n,e)})},get:function(r){return this[r]},set:function(r,t){return this[r]=t,this}},ER=function(){function i(){}return i.registerBehavior=function(r,t){if(!t)throw new Error("please specify handler for this behavior: "+r);var e=(0,ei.d9)(CR);Object.assign(e,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var f={};l&&((0,ei.S6)(l,function(h,c){f[c]=(0,ei.Ko)(s,h)}),this.events=f)};n.prototype=e,i.types[r]=n},i.hasBehavior=function(r){return!!i.types[r]},i.getBehavior=function(r){return i.types[r]},i.types={},i}(),Dh=ER,Fh;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(Fh||(Fh={}));var Ta=d(16185);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rh=function(r,t){return Rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Rh(r,t)};function Xn(i,r){Rh(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var $t=function(){return $t=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$t.apply(this,arguments)};function ji(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t}function t7(i,r,t,e){var n=arguments.length,a=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,r,t,e);else for(var s=i.length-1;s>=0;s--)(o=i[s])&&(a=(n<3?o(a):n>3?o(r,t,a):o(r,t))||a);return n>3&&a&&Object.defineProperty(r,t,a),a}function e7(i,r){return function(t,e){r(t,e,i)}}function r7(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function n7(i,r,t,e){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(h){try{f(e.next(h))}catch(c){o(c)}}function l(h){try{f(e.throw(h))}catch(c){o(c)}}function f(h){h.done?a(h.value):n(h.value).then(s,l)}f((e=e.apply(i,r||[])).next())})}function i7(i,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(h){return l([f,h])}}function l(f){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,n&&(a=f[0]&2?n.return:f[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,f[1])).done)return a;switch(n=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(i,t)}catch(h){f=[6,h],n=0}finally{e=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function a7(i,r,t,e){e===void 0&&(e=t),i[e]=r[t]}function o7(i,r){for(var t in i)t!=="default"&&!r.hasOwnProperty(t)&&(r[t]=i[t])}function Tm(i){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&i[r],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function AR(i,r){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),n,a=[],o;try{for(;(r===void 0||r-- >0)&&!(n=e.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(o)throw o.error}}return a}function s7(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(AR(arguments[r]));return i}function Ds(){for(var i=0,r=0,t=arguments.length;r<t;r++)i+=arguments[r].length;for(var e=Array(i),n=0,r=0;r<t;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,n++)e[n]=a[o];return e}function nu(i){return this instanceof nu?(this.v=i,this):new nu(i)}function l7(i,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t.apply(i,r||[]),n,a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(v){e[v]&&(n[v]=function(m){return new Promise(function(T,D){a.push([v,m,T,D])>1||s(v,m)})})}function s(v,m){try{l(e[v](m))}catch(T){c(a[0][3],T)}}function l(v){v.value instanceof nu?Promise.resolve(v.value.v).then(f,h):c(a[0][2],v)}function f(v){s("next",v)}function h(v){s("throw",v)}function c(v,m){v(m),a.shift(),a.length&&s(a[0][0],a[0][1])}}function u7(i){var r,t;return r={},e("next"),e("throw",function(n){throw n}),e("return"),r[Symbol.iterator]=function(){return this},r;function e(n,a){r[n]=i[n]?function(o){return(t=!t)?{value:nu(i[n](o)),done:n==="return"}:a?a(o):o}:a}}function f7(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],t;return r?r.call(i):(i=typeof Tm=="function"?Tm(i):i[Symbol.iterator](),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(a){t[a]=i[a]&&function(o){return new Promise(function(s,l){o=i[a](o),n(s,l,o.done,o.value)})}}function n(a,o,s,l){Promise.resolve(l).then(function(f){a({value:f,done:s})},o)}}function h7(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}function c7(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(r[t]=i[t]);return r.default=i,r}function v7(i){return i&&i.__esModule?i:{default:i}}function d7(i,r){if(!r.has(i))throw new TypeError("attempted to get private field on non-instance");return r.get(i)}function p7(i,r,t){if(!r.has(i))throw new TypeError("attempted to set private field on non-instance");return r.set(i,t),t}var TR=d(30490),PR=function(i){Xn(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}return r}(TR.Z),Nh=function(r){var t=0,e=0,n=0,a=0;if((0,Ta.default)(r))t=e=n=a=r;else if((0,An.default)(r)){var o=parseInt(r,10);t=e=n=a=o}else(0,Di.default)(r)&&(t=r[0],n=(0,Bi.default)(r[1])?r[0]:r[1],a=(0,Bi.default)(r[2])?r[0]:r[2],e=(0,Bi.default)(r[3])?n:r[3]);return[t,n,a,e]},iu=function(r){var t=new PR(r.type,r);return t.clientX=r.clientX,t.clientY=r.clientY,t.x=r.x,t.y=r.y,t.target=r.target,t.currentTarget=r.currentTarget,t.bubbles=!0,t.item=r.item,t},Pm=function(r){if(!r)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(r[n]!==e[n])return!0;return!1},io=function(r){return Number.isNaN(Number(r))},_m=function(r){for(var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity,o=0;o<r.length;o++){var s=r[o],l=s.getBBox(),f=l.minX,h=l.minY,c=l.maxX,v=l.maxY;f<t&&(t=f),h<n&&(n=h),c>e&&(e=c),v>a&&(a=v)}var m=Math.floor(t),T=Math.floor(n),D=Math.ceil(e)-Math.floor(t),Y=Math.ceil(a)-Math.floor(n);return{x:m,y:T,width:D,height:Y,minX:t,minY:n,maxX:e,maxY:a}},_R=function(r,t){t===void 0&&(t=15);for(var e=r.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},f=0;f<e;f++){var h=r[f],c=h.source,v=h.target,m=c+"-"+v;if(!s[f]){o[m]||(o[m]=[]),s[f]=!0,o[m].push(h);for(var T=0;T<e;T++)if(f!==T){var D=r[T],Y=D.source,W=D.target;s[T]||(c===W&&v===Y?(o[m].push(D),s[T]=!0,l[Y+"|"+W+"|"+(o[m].length-1)]=!0):c===Y&&v===W&&(o[m].push(D),s[T]=!0))}}}for(var H in o)for(var st=o[H],lt=st.length,Mt=0;Mt<lt;Mt++){var Ft=st[Mt];if(Ft.source===Ft.target){Ft.type="loop",Ft.loopCfg={position:a[Mt%8],dist:Math.floor(Mt/8)*20+50};continue}Ft.type="quadratic";var zt=(Mt%2==0?1:-1)*(l[Ft.source+"|"+Ft.target+"|"+Mt]?-1:1);lt%2==1?Ft.curveOffset=zt*Math.ceil(Mt/2)*n:Ft.curveOffset=zt*(Math.floor(Mt/2)*n+t)}return r},Om=Math.abs,OR=10,LR=["shift","ctrl","alt","control"],IR={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(r){var t=this.origin,e=+r.clientX,n=+r.clientY;if(!(io(e)||io(n))){var a=e-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),f=this.graph.get("canvas").getCanvasBBox();(f.minX<=s+this.scalableRange&&f.minX+a>s+this.scalableRange||f.maxX+this.scalableRange>=0&&f.maxX+this.scalableRange+a<0)&&(a=0),(f.minY<=l+this.scalableRange&&f.minY+o>l+this.scalableRange||f.maxY+this.scalableRange>=0&&f.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(r){var t=this,e=r.originalEvent;if(!(e&&e.button!==0)&&!(r.name!==Fh.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||r.shape)&&(t.origin={x:r.clientX,y:r.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(H){H.hide()})}for(var f=n.getNodes(),h=0,c=f.length;h<c;h++)for(var v=f[h].getContainer(),m=v.get("children"),T=0,D=m;T<D.length;T++){var Y=D[T],W=Y.get("isKeyShape");W||Y.hide()}}},onMouseMove:function(r){var t=this.graph;if(!(this.keydown||r.shape)&&(r=iu(r),!!this.origin)){if(this.dragging)r.type="drag",t.emit("canvas:drag",r);else{if(Om(this.origin.x-r.clientX)+Om(this.origin.y-r.clientY)<OR)return;this.shouldBegin.call(this,r)&&(r.type="dragstart",t.emit("canvas:dragstart",r),this.dragging=!0)}this.shouldUpdate.call(this,r)&&this.updateViewport(r)}},onMouseUp:function(r){var t=this.graph;if(!(this.keydown||r.shape)){if(this.enableOptimize){for(var e=t.getEdges(),n=0,a=e.length;n<a;n++){var o=e[n].get("group").get("children");!o||o.forEach(function(Y){Y.show()})}for(var s=t.getNodes(),l=0,f=s.length;l<f;l++)for(var h=s[l].getContainer(),c=h.get("children"),v=0,m=c;v<m.length;v++){var T=m[v],D=T.get("isKeyShape");D||T.show()}}if(!this.dragging){this.origin=null;return}r=iu(r),this.shouldEnd.call(this,r)&&this.updateViewport(r),r.type="dragend",t.emit("canvas:dragend",r),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(r){var t=this,e=r.key;!e||(LR.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},kR=d(6767),au=d.n(kR),ou=d(21997),su=2,Lm=.16,BR=.05,DR=.05,FR=.15,Im=5,km=4,RR=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Bm(i,r,t){var e;return Math.round(i.h)>=60&&Math.round(i.h)<=240?e=t?Math.round(i.h)-su*r:Math.round(i.h)+su*r:e=t?Math.round(i.h)+su*r:Math.round(i.h)-su*r,e<0?e+=360:e>=360&&(e-=360),e}function Dm(i,r,t){if(i.h===0&&i.s===0)return i.s;var e;return t?e=i.s-Lm*r:r===km?e=i.s+Lm:e=i.s+BR*r,e>1&&(e=1),t&&r===Im&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function Fm(i,r,t){var e;return t?e=i.v+DR*r:e=i.v-FR*r,e>1&&(e=1),Number(e.toFixed(2))}function Yh(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=(0,ou.Z)(i),n=Im;n>0;n-=1){var a=e.toHsv(),o=(0,ou.Z)({h:Bm(a,n,!0),s:Dm(a,n,!0),v:Fm(a,n,!0)}).toHexString();t.push(o)}t.push(e.toHexString());for(var s=1;s<=km;s+=1){var l=e.toHsv(),f=(0,ou.Z)({h:Bm(l,s),s:Dm(l,s),v:Fm(l,s)}).toHexString();t.push(f)}return r.theme==="dark"?RR.map(function(h){var c=h.index,v=h.opacity,m=ou.Z.mix(r.backgroundColor||"#141414",t[c],v*100).toHexString();return m}):t}var Gh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ui={},zh={};Object.keys(Gh).forEach(function(i){Ui[i]=Yh(Gh[i]),Ui[i].primary=Ui[i][5],zh[i]=Yh(Gh[i],{theme:"dark",backgroundColor:"#141414"}),zh[i].primary=zh[i][5]});var g7=Ui.red,y7=Ui.volcano,m7=Ui.gold,x7=Ui.orange,b7=Ui.yellow,w7=Ui.lime,S7=Ui.green,M7=Ui.cyan,C7=Ui.blue,E7=Ui.geekblue,A7=Ui.purple,T7=Ui.magenta,P7=Ui.grey,Na=function(r,t,e){var n=au()(r),a=au()(t);return au()([(1-e)*n.color[0]+e*a.color[0],(1-e)*n.color[1]+e*a.color[1],(1-e)*n.color[2]+e*a.color[2]]).rgb()},Rm=function(r,t,e,n){t===void 0&&(t="#fff"),e===void 0&&(e="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Na(t,r,.05).rgb().toString(),o=Na(t,n,.02).rgb().toString(),s=Na(t,n,.05).rgb().toString(),l=Na(t,n,.1).rgb().toString(),f=Na(t,n,.2).rgb().toString(),h=Na(t,n,.3).rgb().toString(),c=Yh(r,{theme:e,backgroundColor:t}),v=au()(r).hex().toLowerCase(),m=c.indexOf(v),T=r;return m!==-1&&(T=c[m+1]),{mainStroke:r,mainFill:Na(t,r,.1).rgb().toString(),activeStroke:r,activeFill:a,inactiveStroke:Na(t,r,.4).rgb().toString(),inactiveFill:a,selectedStroke:r,selectedFill:t,highlightStroke:T,highlightFill:Na(t,r,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:r,edgeInactiveStroke:f,edgeSelectedStroke:r,edgeHighlightStroke:r,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:r,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:r,comboSelectedFill:o,comboHighlightStroke:T,comboHighlightFill:o,comboDisableStroke:f,comboDisableFill:s}},NR="rgb(95, 149, 255)",YR="rgb(255, 255, 255)",Nm="rgb(0, 0, 0)",mn=Rm(NR,YR),Ve={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:mn.mainStroke,fill:mn.mainFill},size:20,color:mn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:mn.activeFill,stroke:mn.activeStroke}},nodeStateStyles:{active:{fill:mn.activeFill,stroke:mn.activeStroke,lineWidth:2,shadowColor:mn.mainStroke,shadowBlur:10},selected:{fill:mn.selectedFill,stroke:mn.selectedStroke,lineWidth:4,shadowColor:mn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:mn.highlightFill,stroke:mn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:mn.inactiveFill,stroke:mn.inactiveStroke,lineWidth:1},disable:{fill:mn.disableFill,stroke:mn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Nm,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:mn.edgeMainStroke,lineAppendWidth:2},color:mn.edgeMainStroke},edgeStateStyles:{active:{stroke:mn.edgeActiveStroke,lineWidth:1},selected:{stroke:mn.edgeSelectedStroke,lineWidth:2,shadowColor:mn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:mn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:mn.edgeInactiveStroke,lineWidth:1},disable:{stroke:mn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Nm,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:mn.comboMainFill,lineWidth:1,stroke:mn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:mn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:mn.comboActiveStroke,lineWidth:1,fill:mn.comboActiveFill},selected:{stroke:mn.comboSelectedStroke,lineWidth:2,fill:mn.comboSelectedFill,shadowColor:mn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:mn.comboHighlightStroke,lineWidth:2,fill:mn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:mn.comboInactiveStroke,fill:mn.comboInactiveFill,lineWidth:1},disable:{stroke:mn.comboDisableStroke,fill:mn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},GR={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(r){if(!this.origin||!r||r.destroyed)return!1;var t=r.getType();return t==="combo"},onDragStart:function(r){var t=this;if(!!this.shouldBegin.call(this,r)){var e=r.item;if(!(!e||e.destroyed||e.hasLocked())){var n=e.getContainer();n.set("capture",!1);var a=r.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),f=e.get("id"),h=l.filter(function(v){var m=v.get("id");return f===m});h.length===0?this.targets.push(e):l.length>1?l.forEach(function(v){var m=v.hasLocked();m||t.targets.push(v)}):this.targets.push(e);var c=[];this.targets.forEach(function(v){c.push((0,ei.d9)(v.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}}},onDrag:function(r){var t=this;!this.origin||!this.shouldUpdate(this,r)||(this.get("enableDelegate")?this.updateDelegate(r):this.targets.map(function(e){t.update(e,r)}))},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){var t=r.item;if(t){var e=t.getContainer();e.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(r);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,ei.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(r){var t=r.item;if(!!this.validationCombo(t)){this.updatePositions(r);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&e.updateComboTree(a,n.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(r){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(r),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var n=e.getModel();n.comboId&&t.updateComboTree(e)}))},onDropNode:function(r){if(!(!this.targets||this.targets.length===0)){var t=this,e=r.item;this.updatePositions(r);var n=t.graph,a=e.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(r){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(e){return t.update(e,r)})},update:function(r,t){var e=this.origin,n=r.get("model"),a=r.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-e.x+this.point[a].x,s=t.y-e.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(r,l,!1):r.updatePosition(l)},updateDelegate:function(r){var t=this.graph;if(this.delegateRect){var v=r.x-this.origin.x+this.originPoint.minX,m=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:v,y:m})}else{var e=this.graph.get("group"),n=(0,ei.b$)({},Ve.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(r),o=a.x,s=a.y,l=a.width,f=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:f,minX:h,minY:c},this.delegateRect=e.addShape("rect",{attrs:$t({width:l,height:f,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var t=this.graph,e=t.findAllByState("node",this.selectedState);e.length===0&&e.push(r.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<e.length;l++){var f=e[l],h=f.getBBox(),c=h.minX,v=h.minY,m=h.maxX,T=h.maxY;c<n&&(n=c),v<o&&(o=v),m>a&&(a=m),T>s&&(s=T)}var D=Math.floor(n),Y=Math.floor(o),W=Math.ceil(a)-Math.floor(n),H=Math.ceil(s)-Math.floor(o);return{x:D,y:Y,width:W,height:H,minX:n,minY:o}}},zR={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(r){var t=r.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(r.item,{event:r,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=e.getNodes(),l=e.getEdges(),f=s.length,h=l.length,c=0;c<f;c++){var v=s[c],m=v.hasState("selected");n.resetSelected&&m&&e.setItemState(v,"selected",!1),e.setItemState(v,a,!1),o&&e.setItemState(v,o,!0)}for(var c=0;c<h;c++){var T=l[c];e.setItemState(T,a,!1),o&&e.setItemState(T,o,!0)}o&&e.setItemState(t,o,!1),e.setItemState(t,a,!0);for(var D=t.getEdges(),Y=D.length,c=0;c<Y;c++){var T=D[c],W=void 0;T.getSource()===t?W=T.getTarget():W=T.getSource(),o&&e.setItemState(W,o,!1),e.setItemState(W,a,!0),e.setItemState(T,o,!1),e.setItemState(T,a,!0),T.toFront()}e.emit("afteractivaterelations",{item:r.item,action:"activate"})}},clearActiveState:function(r){var t=this,e=t.get("graph");if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=e.get("autoPaint");e.setAutoPaint(!1);for(var s=e.getNodes(),l=e.getEdges(),f=s.length,h=l.length,c=0;c<f;c++){var v=s[c];e.clearItemStates(v,[n,a])}for(var c=0;c<h;c++){var m=l[c];e.clearItemStates(m,[n,a,"deactivate"])}e.paint(),e.setAutoPaint(o),e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(r){var t=this,e=t.graph;if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=e.getNodes(),s=e.getEdges(),l=o.length,f=s.length,h=0;h<l;h++){var c=o[h];e.clearItemStates(c,[n,a])}for(var h=0;h<f;h++){var v=s[h];e.clearItemStates(v,[n,a,"deactivate"])}e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}}},lu=Math.min,Ym=Math.max,Gm=Math.abs,zm="shift",XR=["drag","shift","ctrl","alt","control"],VR={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:zm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return XR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=zm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(r){var t=r.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:r.canvasX,y:r.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(r)},onMouseUp:function(r){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(r),this.dragging=!1)},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(r){var t=this,e=this,n=e.graph,a=e.originPoint,o=e.shouldUpdate,s=this.selectedState,l={x:r.x,y:r.y},f=n.getPointByCanvas(a.x,a.y),h=lu(l.x,f.x),c=Ym(l.x,f.x),v=lu(l.y,f.y),m=Ym(l.y,f.y),T=[],D=[];n.getNodes().forEach(function(W){var H=W.getBBox();if(H.centerX>=h&&H.centerX<=c&&H.centerY>=v&&H.centerY<=m&&o(W,"select")){T.push(W);var st=W.getModel();D.push(st.id),n.setItemState(W,s,!0)}});var Y=[];this.includeEdges&&T.forEach(function(W){var H=W.getOutEdges();H.forEach(function(st){var lt=st.getModel(),Mt=lt.source,Ft=lt.target;D.includes(Mt)&&D.includes(Ft)&&o(st,"select")&&(Y.push(st),n.setItemState(st,t.selectedState,!0))})}),this.selectedEdges=Y,this.selectedNodes=T,this.onSelect&&this.onSelect(T,Y),n.emit("nodeselectchange",{selectedItems:{nodes:T,edges:Y},select:!0})},createBrush:function(){var r=this,t=r.graph.get("canvas").addShape("rect",{attrs:r.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(r){var t=this.originPoint;this.brush.attr({width:Gm(r.canvasX-t.x),height:Gm(r.canvasY-t.y),x:lu(r.canvasX,t.x),y:lu(r.canvasY,t.y)})},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Xm="shift",HR=["shift","ctrl","alt","control"],WR={getDefaultCfg:function(){return{multiple:!0,trigger:Xm,selectedState:"selected"}},getEvents:function(){var r=this;return HR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Xm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),r.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(r){var t=this,e=r.item;if(!(!e||e.destroyed)){var n=e.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,f=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,r)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,kn.default)(c,function(T){T!==e&&o.setItemState(T,t.selectedState,!1)})}if(e.hasState(this.selectedState)){f.call(this,r)&&o.setItemState(e,this.selectedState,!1);var v=o.findAllByState("node",this.selectedState),m=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:m},select:!1})}else{f.call(this,r)&&o.setItemState(e,this.selectedState,!0);var v=o.findAllByState("node",this.selectedState),m=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:m},select:!0})}}}},onCanvasClick:function(){var r=this,t=this.graph,e=t.findAllByState("node",this.selectedState);(0,kn.default)(e,function(a){t.setItemState(a,r.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,kn.default)(n,function(a){t.setItemState(a,r.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},la=d(31502);la.translate=function(i,r,t){var e=new Array(9);return la.fromTranslation(e,t),la.multiply(i,e,r)},la.rotate=function(i,r,t){var e=new Array(9);return la.fromRotation(e,t),la.multiply(i,e,r)},la.scale=function(i,r,t){var e=new Array(9);return la.fromScaling(e,t),la.multiply(i,e,r)},la.transform=function(i,r){for(var t=[].concat(i),e=0,n=r.length;e<n;e++){var a=r[e];switch(a[0]){case"t":la.translate(t,t,[a[1],a[2]]);break;case"s":la.scale(t,t,[a[1],a[2]]);break;case"r":la.rotate(t,t,a[1]);break;default:break}}return t};var ao=la,Ya=d(76172);Ya.angle=function(i,r){var t=Ya.dot(i,r)/(Ya.length(i)*Ya.length(r));return Math.acos((0,u.clamp)(t,-1,1))},Ya.direction=function(i,r){return i[0]*r[1]-r[0]*i[1]},Ya.angleTo=function(i,r,t){var e=Ya.angle(i,r),n=Ya.direction(i,r)>=0;return t?n?Math.PI*2-e:e:n?e:Math.PI*2-e},Ya.vertical=function(i,r,t){return t?(i[0]=r[1],i[1]=-1*r[0]):(i[0]=-1*r[1],i[1]=r[0]),i};var Vn=Ya,jR=d(88395),Vm=jR,Ga=function(i,r){var t=i?(0,u.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,u.each)(r,function(e){switch(e[0]){case"t":ao.translate(t,t,[e[1],e[2]]);break;case"s":ao.scale(t,t,[e[1],e[2]]);break;case"r":ao.rotate(t,t,e[1]);break;case"m":ao.multiply(t,t,e[1]);break;default:return!1}}),t},Hm=.05,UR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var r=this.fixSelectedItems;return r.fixState||(r.fixState="selected"),r.fixAll&&(r.fixLineWidth=!0,r.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(r){var t=r.originalEvent.touches,e=t[0],n=t[1];r.preventDefault(),!!n&&(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(r){if(!!this.moveable){r.preventDefault();var t=r.originalEvent.touches,e=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(m,T){return Math.hypot(T.x-m.x,T.y-m.y)},o=a({x:e.pageX,y:e.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),f=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>f||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(r.clientX,r.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",r)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(r){var t=this,e=this,n=e.graph,a=e.fixSelectedItems;if(!!this.shouldUpdate.call(this,r)){r.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(r.clientX,r.clientY),l=this.get("sensitivity"),f=n.getZoom(),h=f,c=f;r.wheelDelta<0?h=1-Hm*l:h=1/(1-Hm*l),c=f*h;var v=this.get("minZoom")||n.get("minZoom"),m=this.get("maxZoom")||n.get("maxZoom");if(!(c>m||c<v)){var T=this.get("enableOptimize");if(T){var D=this.get("optimizeZoom"),Y=this.get("optimized"),W=n.getNodes(),H=n.getEdges(),st=W.length,lt=H.length;if(!Y){for(var Mt=0;Mt<st;Mt++){var Ft=W[Mt];if(!Ft.destroyed)for(var zt=Ft.get("group").get("children"),Zt=zt.length,Yt=0;Yt<Zt;Yt++){var re=zt[Yt];!re.destoryed&&!re.get("isKeyShape")&&re.hide()}}for(var he=0;he<lt;he++)for(var le=H[he],zt=le.get("group").get("children"),Zt=zt.length,Yt=0;Yt<Zt;Yt++){var re=zt[Yt];re.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Ae=setTimeout(function(){var zr=n.getZoom(),an=t.get("optimized");if(an){t.set("optimized",!1);for(var pn=0;pn<st;pn++){var Yn=W[pn],On=Yn.get("group").get("children"),Un=On.length;if(zr<D)Yn.getKeyShape().show();else for(var ri=0;ri<Un;ri++){var Yi=On[ri];Yi.get("visible")||Yi.show()}}for(var Hi=0;Hi<lt;Hi++){var yi=H[Hi],On=yi.get("group").get("children"),Un=On.length;if(zr<D)yi.getKeyShape().show();else for(var ri=0;ri<Un;ri++){var Yi=On[ri];Yi.get("visible")||Yi.show()}}}},500);this.set("timeout",Ae)}if(f<=1){var Ie=void 0,Le=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Ie=n.findAllByState("node",a.fixState),Le=n.findAllByState("edge",a.fixState);for(var je=f/c,Ke=Ie.length,Qe=0;Qe<Ke;Qe++){var Ft=Ie[Qe],He=Ft.getContainer(),We=Ft.getModel(),yr=Ft.getOriginStyle(),gr=Ft.getStateStyle(a.fixState),Mr=Ft.get("shapeFactory").getShape(We.shape||We.type).getStateStyle(a.fixState,Ft)[a.fixState];if(a.fixAll){if(c<=1){var qe=(0,u.clone)(He.getMatrix());qe||(qe=[1,0,0,0,1,0,0,0,1]);var br=Ft.getModel(),Dr=br.x,Sr=br.y;ao.translate(qe,qe,[-Dr,-Sr]),ao.scale(qe,qe,[je,je]),ao.translate(qe,qe,[Dr,Sr]),He.setMatrix(qe)}}else for(var zt=He.get("children"),Zt=zt.length,Yt=0;Yt<Zt;Yt++){var re=zt[Yt],wr=void 0,Nr=void 0;if(a.fixLabel){var en=re.get("type");if(en==="text"){wr=re.attr("fontSize")||12;var Pr=gr[re.get("name")],De=Mr[re.get("name")],ir=Pr?Pr.fontSize:12,Yr=De?De.fontSize:12,Ur=ir||Yr||12;if(c<=1&&re.attr("fontSize",Ur/c),Nr)break}}if(a.fixLineWidth&&re.get("isKeyShape")){Nr=re.attr("lineWidth")||0;var Lr=gr.lineWidth||Mr.lineWidth||yr.lineWidth||0;if(c<=1&&re.attr("lineWidth",Lr/c),wr)break}}}for(var nn=Le.length,qr=0;qr<nn;qr++)for(var le=Le[qr],He=le.getContainer(),zt=He.get("children"),We=le.getModel(),gr=le.getStateStyle(a.fixState),Mr=le.get("shapeFactory").getShape(We.shape||We.type).getStateStyle(a.fixState,le)[a.fixState],Zt=zt.length,Yt=0;Yt<Zt;Yt++){var re=zt[Yt],wr=void 0,Nr=void 0;if(a.fixLabel||a.fixAll){var en=re.get("type");if(en==="text"){wr=re.attr("fontSize")||12;var Pr=gr[re.get("name")],De=Mr[re.get("name")],ir=Pr?Pr.fontSize:12,Yr=De?De.fontSize:12,Ur=ir||Yr||12;if(c<=1&&re.attr("fontSize",Ur/c),Nr)break}}if((a.fixLineWidth||a.fixAll)&&re.get("isKeyShape")){Nr=re.attr("lineWidth")||0;var Lr=gr.lineWidth||Mr.lineWidth||1;if(c<=1&&re.attr("lineWidth",Lr/c),wr)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",r)}}}},Fn=d(1513),gi=d(57821),Wm={onMouseEnter:function(r){var t=r.item;this.currentTarget=t,this.showTooltip(r),this.graph.emit("tooltipchange",{item:r.item,action:"show"})},onMouseMove:function(r){if(!this.shouldUpdate(r)){this.hideTooltip();return}!this.currentTarget||r.item!==this.currentTarget||this.updatePosition(r)},onMouseLeave:function(r){!this.shouldEnd(r)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(r){var t=this.container;if(!(!r.item||r.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(r.item.get("model"),r);t.innerHTML=e,(0,Fn.Z)(this.container,{visibility:"visible"}),this.updatePosition(r)}},hideTooltip:function(){(0,Fn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(r){var t=this.get("shouldBegin"),e=this,n=e.width,a=e.height,o=e.container,s=e.graph;if(!t(r)){(0,Fn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(r.clientX,r.clientY),f=s.getCanvasByPoint(l.x,l.y),h=f.x,c=f.y,v=o.getBoundingClientRect();h>n/2?h-=v.width:h+=this.offset,c>a/2?c-=v.height:c+=this.offset;var m=h+"px",T=c+"px";(0,Fn.Z)(this.container,{left:m,top:T,visibility:"visible"})},createTooltip:function(r){var t=r.get("el");t.style.position="relative";var e=(0,gi.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),(0,Fn.Z)(e,{position:"absolute",visibility:"visible"}),this.width=r.get("width"),this.height=r.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},ZR=$t({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Wm),KR=$t({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Wm),Xi=d(90497),$R={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:r.x,y:r.y};for(var l=t.save().groups,f=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){f=c.parentId;break}}if(f){var v=o[f].nodeGroup;a.setGroupStyle(v.get("keyShape"),"hover")}}},onDrag:function(r){!this.mouseOrigin||this.updateDelegate(r)},onDragEnd:function(r){var t=this.graph,e=r.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[e];n.updateGroup(e,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(r){var t=this.graph,e=r.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[e],o=n.getBBox(),s=n.get("type");if(a){var W=this,H=W.mouseOrigin,st=W.shapeOrigin,lt=r.x-H.x,Mt=r.y-H.y,Ft=lt+st.x,zt=Mt+st.y;a.attr({x:Ft,y:zt}),this.delegateShapeBBoxs[e]=a.getBBox()}else{var l=t.get("delegateGroup"),f=o.x,h=o.y,c=o.width,v=o.height,m=$t({width:c,height:v},(0,Xi.default)({},Ve.delegateStyle,this.delegateStyle));if(s==="circle"){var T=c>v?c/2:v/2,D=f+T,Y=h+T;a=l.addShape("circle",{attrs:$t({x:D,y:Y,r:T},m),name:"circle-delegate-shape"}),this.shapeOrigin={x:D,y:Y}}else a=l.addShape("rect",{attrs:$t({x:f,y:h},m),name:"rect-delegate-shape"}),this.shapeOrigin={x:f,y:h};this.delegateShapes[e]=a,this.delegateShapeBBoxs[e]=a.getBBox()}},onOutOfRange:function(r){var t=this,e=this.graph.get("canvas").get("el"),n=function a(o){o.target!==e&&(t.onDragEnd(r),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},QR=document.body,JR={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(r){var t=this.graph;if(!!this.shouldBegin.call(this,r)){var e=r.item;this.target=e;var n=e.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,f=l.get("keyShape");o.setGroupStyle(f,"hover"),this.inGroupId=a}}this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}},onDrag:function(r){if(!!this.origin&&!!this.get("shouldUpdate").call(this,r)){this.update(this.target,r,!0);var t=r.item,e=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=e.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,f=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(f,"default"):o.setGroupStyle(f,"hover")}}}},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,r),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(r)}},setCurrentGroupStyle:function(r){var t=this.graph,e=r.item,n=e.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,f=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),v=e.getBBox(),m=c.getBBox(),T=v.centerX,D=v.centerY,Y=m.minX,W=m.minY,H=m.maxX,st=m.maxY;if(!(T<H*this.maxMultiple&&T>Y*this.minMultiple&&D<st*this.maxMultiple&&D>W*this.minMultiple)||this.inGroupId!==a){var lt=f[a];f[a]=lt.filter(function(zt){return zt!==o}),s.dynamicChangeGroupSize(r,h,c),delete n.groupId}if(this.inGroupId!==a){var Mt=l[this.inGroupId].nodeGroup;if(!Mt)return;var Ft=Mt.get("keyShape");f[this.inGroupId].indexOf(o)===-1&&f[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,Mt,Ft)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var Mt=l[this.inGroupId].nodeGroup;if(!Mt)return;var c=Mt.get("keyShape");f[this.inGroupId].indexOf(o)===-1&&f[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,Mt,c)}else if(!this.inGroupId&&a){Object.keys(f).forEach(function(Yt){var re=f[Yt];f[Yt]=re.filter(function(he){return he!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(r,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(r){var t=this,e=t.graph.get("canvas").get("el");function n(a){a.target!==e&&(r.item=t.target,t.onDragEnd(r),document.body.removeEventListener("mouseup",n,!0))}t.origin&&QR.addEventListener("mouseup",n,!0)},update:function(r,t,e){var n=this.origin,a=r.get("model"),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(e){this.updateDelegate(t,s,l);return}var f={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(r,f):(r.updatePosition(f),this.graph.paint())},updateDelegate:function(r,t,e){var n=this.graph,a=r.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),f=(0,Xi.default)({},Ve.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:$t({width:s.width,height:s.height,x:t-s.width/2,y:e-s.height/2},f),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:e-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:e}))}},jm="dblclick",qR=["click","dblclick"],t3={getDefaultCfg:function(){return{trigger:jm}},getEvents:function(){var r,t;return qR.includes(this.trigger)?t=this.trigger:(t=jm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r[""+t]="onGroupClick",r},onGroupClick:function(r){var t=r.target,e=this.graph,n=t.get("groupId");if(!!n){var a=e.get("customGroupControll");a.collapseExpandGroup(n)}}},Um="click",e3=["click","dblclick"],r3={getDefaultCfg:function(){return{trigger:Um,onChange:function(){}}},getEvents:function(){var r,t;return e3.includes(this.trigger)?t=this.trigger:(t=Um,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["node:"+t]="onNodeClick",r.touchstart="onNodeClick",r},onNodeClick:function(r){var t=r.item,e=this.graph.findDataById(t.get("id"));if(!!e){var n=e.children;if(!(!n||n.length===0)){var a=!e.collapsed;if(!!this.shouldBegin(r,a)&&(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:r.item,collapsed:a}),!!this.shouldUpdate(r,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},n3=function i(r,t){if(t(r)!==!1&&r){var e=r.get("combos");if(e.length===0)return!1;(0,ei.S6)(e,function(n){i(n,t)})}},i3={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(r){var t=r.item;if(!t||t.destroyed||!this.shouldUpdate(this,r))return!1;var e=t.getType();return e==="combo"},onDragStart:function(r){var t=this,e=this.graph,n=r.item;if(!!this.validationCombo(r)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var f=l.get("id");return o===f});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var f=l.getModel();if(f.parentId){var h=e.findById(f.parentId);h&&e.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:r.x,y:r.y},this.currentItemChildCombos=[],n3(n,function(l){if(l.destroyed)return!1;var f=l.getModel();return t.currentItemChildCombos.push(f.id),!0})}},onDrag:function(r){var t=this;if(!!this.origin&&!!this.validationCombo(r))if(this.enableDelegate)this.updateDelegate(r);else{if(this.activeState){var e=this.graph,n=r.item,a=n.getModel(),o=e.getCombos(),s=n.getBBox(),l=s.centerX,f=s.centerY,h=s.width,c=o.filter(function(v){var m=v.getModel();return a.parentId,m.id!==a.id&&!t.currentItemChildCombos.includes(m.id)});c.map(function(v){var m=v.getBBox(),T=m.centerX,D=m.centerY,Y=m.width,W=l-T,H=f-D,st=2*Math.sqrt(W*W+H*H);h+Y-st>.8*h?e.setItemState(v,t.activeState,!0):e.setItemState(v,t.activeState,!1)})}(0,ei.S6)(this.targets,function(v){t.updateCombo(v,r)})}},updatePositions:function(r){var t=this;this.enableDelegate&&(0,ei.S6)(this.targets,function(e){t.updateCombo(e,r)})},onDrop:function(r){var t=this,e=r.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(r);var n=this.graph,a=e.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(e)}),this.end(e,r),this.endComparison=!0}},onNodeDrop:function(r){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(r);var e=this.graph,n=r.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=e.findById(a);e.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?e.updateCombo(l):a!==l.getID()&&(o=e.findById(a),a!==l.getModel().parentId&&e.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)e.updateCombo(l);else{var f=l.getModel();f.comboId&&e.updateComboTree(l)}});this.endComparison=!0,this.end(o,r)}},onDragEnter:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(r){if(!(!this.targets||this.targets.length===0)){var t=r.item;this.updatePositions(r);var e=this.getParentCombo(t.getModel().parentId),n=this.graph;e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,r)}},end:function(r,t){var e=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}r&&this.activeState&&n.setItemState(r,this.activeState,!1),r||this.targets.map(function(o){e.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(r,t){var e=this;if(t(r)!==!1&&r){var n=r.get("combos");(0,ei.S6)(n,function(o){e.traverse(o,t)});var a=r.get("nodes");(0,ei.S6)(a,function(o){e.traverse(o,t)})}},updateCombo:function(r,t){var e=this;this.traverse(r,function(n){return n.destroyed?!1:(e.updateSignleItem(n,t),!0)})},updateSignleItem:function(r,t){var e=this.origin,n=this.graph,a=r.getModel(),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-e.x+this.point[o].x,l=t.y-e.y+this.point[o].y;n.updateItem(r,{x:s,y:l})},getParentCombo:function(r){var t=this.graph;if(!!r){var e=t.findById(r);if(!!e)return e}},updateDelegate:function(r){var t=this.graph;if(this.delegateShape){var v=r.x-this.origin.x+this.originPoint.minX,m=r.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:v,y:m})}else{var e=t.get("delegateGroup"),n=null;this.targets.length>1?n=_m(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,f=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:f,minY:h};var c=$t($t({},Ve.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:$t({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},Zm="dblclick",a3=["click","dblclick"],o3={getDefaultCfg:function(){return{trigger:Zm,relayout:!0}},getEvents:function(){var r,t;return a3.includes(this.trigger)?t=this.trigger:(t=Zm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["combo:"+t]="onComboClick",r},onComboClick:function(r){var t=r.item,e=this,n=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},Km=function(r,t,e){return r>=t&&r<=e},Fs=function(r,t,e,n){var a=.001,o={x:e.x-r.x,y:e.y-r.y},s={x:t.x-r.x,y:t.y-r.y},l={x:n.x-e.x,y:n.y-e.y},f=s.x*l.y-s.y*l.x,h=f*f,c=s.x*s.x+s.y*s.y,v=l.x*l.x+l.y*l.y,m=null;if(h>a*c*v){var T=(o.x*l.y-o.y*l.x)/f,D=(o.x*s.y-o.y*s.x)/f;Km(T,0,1)&&Km(D,0,1)&&(m={x:r.x+T*s.x,y:r.y+T*s.y})}return m},$m=function(r,t){var e=r.x,n=r.y,a=r.width,o=r.height,s=e+a/2,l=n+o/2,f=[],h={x:s,y:l};f.push({x:e,y:n}),f.push({x:e+a,y:n}),f.push({x:e+a,y:n+o}),f.push({x:e,y:n+o}),f.push({x:e,y:n});for(var c=null,v=1;v<f.length&&(c=Fs(f[v-1],f[v],h,t),!c);v++);return c},Qm=function(r,t){var e=r.x,n=r.y,a=r.r,o=t.x,s=t.y,l=o-e,f=s-n,h=Math.sqrt(l*l+f*f);if(h<a)return null;var c=Math.sign(l),v=Math.sign(f),m=Math.atan(f/l);return{x:e+Math.abs(a*Math.cos(m))*c,y:n+Math.abs(a*Math.sin(m))*v}},Jm=function(r,t){var e=r.rx,n=r.ry,a=r.x,o=r.y,s=t.x-a,l=t.y-o,f=Math.atan2(l/n,s/e);return f<0&&(f+=2*Math.PI),{x:a+e*Math.cos(f),y:o+n*Math.sin(f)}},Rs=function(r,t,e){e===void 0&&(e=1);var n=[r.x,r.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Vm.transformMat3(n,n,t),{x:n[0],y:n[1]}},qm=function(r,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=ao.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[r.x,r.y,e];return Vm.transformMat3(a,a,n),{x:a[0],y:a[1]}},Xh=function(r,t,e){var n=r.x-t.x,a=r.y-t.y,o=r.x-e.x,s=r.y-e.y,l=(r.x*r.x-t.x*t.x-t.y*t.y+r.y*r.y)/2,f=(r.x*r.x-e.x*e.x-e.y*e.y+r.y*r.y)/2,h=a*o-n*s;return{x:-(s*l-a*f)/h,y:-(n*f-o*l)/h}},Ns=function(r,t){var e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)},tx=function(r,t){var e=[];return r.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),e.push(a)}),e},Vh=function(r){for(var t=[],e=r.length,n=0;n<e;n+=1){t[n]=[];for(var a=0;a<e;a+=1)n===a?t[n][a]=0:r[n][a]===0||!r[n][a]?t[n][a]=Infinity:t[n][a]=r[n][a]}for(var o=0;o<e;o+=1)for(var n=0;n<e;n+=1)for(var a=0;a<e;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},Hh=function(r,t){var e=r.nodes,n=r.edges,a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.id]=l;var f=[];a.push(f)}),n&&n.forEach(function(s){var l=s.source,f=s.target,h=o[l],c=o[f];a[h][c]=1,t||(a[c][h]=1)}),a},ex=function(r,t){r.translate(t.x,t.y)},rx=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=r.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=Ga(e,[["t",a,o]]);r.setMatrix(s)},s3=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=t;(0,Di.default)(t)||(n=[t,t]),(0,Di.default)(t)&&t.length===1&&(n=[t[0],t[0]]),e=Ga(e,[["s",n[0],n[1]]]),r.setMatrix(e)},l3=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=Ga(e,[["r",t]]),r.setMatrix(e)},uu=function(r,t,e){for(var n=[],a=0;a<r;a++)n[a]=0;return e.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function u3(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}var Ys=function(r,t,e){var n=!1,a=r.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var f=r[l],h=r[(l+1)%a];if(u3(f,h,[t,e]))return!0;s(f[1]-e)>0!=s(h[1]-e)>0&&s(t-(e-f[1])*(f[0]-h[0])/(f[1]-h[1])-f[0])<0&&(n=!n)}return n},nx=function(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)},f3=function(r,t){var e=!1;return(0,u.each)(r,function(n){if(Fs(n.from,n.to,t.from,t.to))return e=!0,!1}),e},Wh=function(r,t){var e=function(v){var m=v.map(function(D){return D[0]}),T=v.map(function(D){return D[1]});return{minX:Math.min.apply(null,m),maxX:Math.max.apply(null,m),minY:Math.min.apply(null,T),maxY:Math.max.apply(null,T)}},n=function(v){for(var m=[],T=v.length,D=0;D<T-1;D++){var Y=v[D],W=v[D+1];m.push({from:{x:Y[0],y:Y[1]},to:{x:W[0],y:W[1]}})}if(m.length>1){var H=v[0],st=v[T-1];m.push({from:{x:st[0],y:st[1]},to:{x:H[0],y:H[1]}})}return m};if(r.length<2||t.length<2)return!1;var a=e(r),o=e(t);if(!nx(a,o))return!1;var s=!1;if((0,u.each)(t,function(c){if(Ys(r,c[0],c[1]))return s=!0,!1}),s||((0,u.each)(r,function(c){if(Ys(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(r),f=n(t),h=!1;return(0,u.each)(f,function(c){if(f3(l,c))return h=!0,!1}),h},Ro=function(){function i(r,t,e,n){this.x1=r,this.y1=t,this.x2=e,this.y2=n}return i.prototype.getBBox=function(){var r=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:r,y:t,minX:r,minY:t,maxX:e,maxY:n,width:e-r,height:n-t};return a},i}(),jh=function(r,t){var e={top:[r.minX,r.minY,r.maxX,r.minY],left:[r.minX,r.minY,r.minX,r.maxY],bottom:[r.minX,r.maxY,r.maxX,r.maxY],right:[r.maxX,r.minY,r.maxX,r.maxY]};return e[t]},h3=function(r,t){var e=(t.x2-t.x1)*(r.y1-t.y1)-(t.y2-t.y1)*(r.x1-t.x1),n=(r.x2-r.x1)*(r.y1-t.y1)-(r.y2-r.y1)*(r.x1-t.x1),a=(t.y2-t.y1)*(r.x2-r.x1)-(t.x2-t.x1)*(r.y2-r.y1);if(a){var o=e/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},ix=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=0,o=[],s=0;s<4;s++){var l=jh(n,e[s]),f=l[0],h=l[1],c=l[2],v=l[3];o[s]=Fs({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:f,y:h},{x:c,y:v}),o[s]&&(a+=1)}return[o,a]},Uh=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=jh(n,e[s]),f=l[0],h=l[1],c=l[2],v=l[3],m=h3(t,new Ro(f,h,c,v));m=Math.abs(m-.5),m>=0&&m<=1&&(o+=1,a=m<a?m:a)}return o===0?-1:a},ax=function(r){var t=0,e=0;if(r.length>0){for(var n=0,a=r;n<a.length;n++){var o=a[n];t+=o.x,e+=o.y}t/=r.length,e/=r.length}return{x:t,y:e}},fu=function(r,t){return Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)},ox=function(r,t){var e=t.x1,n=t.y1,a=t.x2-e,o=t.y2-n,s=r.x-e,l=r.y-n,f=s*a+l*o,h;f<=0?h=0:(s=a-s,l=o-l,f=s*a+l*o,f<=0?h=0:h=f*f/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},Zh=function(r,t,e){return e===void 0&&(e=.001),Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)<Math.pow(e,2)},sx=function(r,t){var e=r.x<t.x,n=r.x>t.x+t.width,a=r.y>t.y+t.height,o=r.y<t.y,s=e||n||a||o;if(!s)return 0;if(a&&!e&&!n)return Math.pow(t.y+t.height-r.y,2);if(o&&!e&&!n)return Math.pow(r.y-t.y,2);if(e&&!a&&!o)return Math.pow(t.x-r.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-r.x,2);var l=Math.min(Math.abs(t.x-r.x),Math.abs(t.x+t.width-r.x)),f=Math.min(Math.abs(t.y-r.y),Math.abs(t.y+t.height-r.y));return l*l+f*f},c3=function(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){if(e.charAt(0)==="\\")return e.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},lx=function(r){var t=[];if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,il.catmullRom2Bezier)(t);return l.unshift(["M",r[0].x,r[0].y]),l},hu=function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var a={x:(1-e)*r.x+e*t.x,y:(1-e)*r.y+e*t.y},o=[];Vn.normalize(o,[t.x-r.x,t.y-r.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},ux=function(r,t){var e=r.length;if(!e)return"";for(var n="",a="",o=0;o<e;o++){var s=r[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=c3(a,s)}return t&&(n+="Z"),n},cu=function(r){var t=[];return r.forEach(function(e){var n=e[0];if(n!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var o=e.length;t.push([e[o-2],e[o-1]])}}),t},Kh=function(r){if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);var t=r[0],e=r[1],n=r[r.length-1],a=r[r.length-2];r.unshift(n),r.unshift(a),r.push(t),r.push(e);for(var o=[],s=1;s<r.length-2;s+=1){var l=r[s-1].x,f=r[s-1].y,h=r[s].x,c=r[s].y,v=r[s+1].x,m=r[s+1].y,T=s!==r.length-2?r[s+2].x:v,D=s!==r.length-2?r[s+2].y:m,Y=h+(v-l)/6,W=c+(m-f)/6,H=v-(T-h)/6,st=m-(D-c)/6;o.push(["C",Y,W,H,st,v,m])}return o.unshift(["M",n.x,n.y]),o},fx=function(r,t){return Vn.scale([],Vn.normalize([],r),t)},hx=function(r,t){var e=[r[1]-t[1],t[0]-r[0]],n=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[e[0]/n,e[1]/n]},cx=function(r,t){return[t[0]-r[0],t[1]-r[1]]};function vx(i,r){var t=function(c){var v=[c[0][0],c[0][1]-r],m=[c[0][0],c[0][1]+r];return"M "+v+" A "+r+","+r+",0,0,0,"+m+" A "+r+","+r+",0,0,0,"+v},e=function(c){var v=Vn.scale([],hx(c[0],c[1]),r),m=Vn.scale([],v,-1),T=Vn.add([],c[0],v),D=Vn.add([],c[1],v),Y=Vn.add([],c[1],m),W=Vn.add([],c[0],m);return"M "+T+" L "+D+" A "+[r,r,"0,0,0",Y].join(",")+" L "+W+" A "+[r,r,"0,0,0",T].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return e(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=Vn.scale([],hx(o,s),r);n[a]=[Vn.add([],o,l),Vn.add([],s,l)]}var f="A "+[r,r,"0,0,0,"].join(",");return n=n.map(function(h,c){var v="";return c===0&&(v="M "+n[n.length-1][1]+" "),v+=f+h[0]+" L "+h[1],v}),n.join(" ")}function dx(i,r){var t=i.length,e=function(h){var c=[h[0][0],h[0][1]-r],v=[h[0][0],h[0][1]+r];return"M "+c+" A "+[r,r,"0,0,0",v].join(",")+" A "+[r,r,"0,0,0",c].join(",")},n=function(h){var c=cx(h[0],h[1]),v=fx(c,r),m=Vn.add([],h[0],Vn.scale([],v,-1)),T=Vn.add([],h[1],v),D=1.2*r,Y=fx(Vn.normalize([],c),D),W=Vn.scale([],Y,-1),H=Vn.add([],m,W),st=Vn.add([],T,W),lt=Vn.add([],m,Y);return"M "+m+" C "+[H,st,T].join(",")+" S "+[lt,m].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return e(i);if(t===2)return n(i);for(var a=i.map(function(f,h){var c=i[(h+1)%t];return{p:f,v:Vn.normalize([],cx(f,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=Vn.normalize([],Vn.add([],a[s].v,Vn.scale([],a[o].v,-1)));a[o].p=Vn.add([],a[o].p,Vn.scale([],l,r))}return a.map(function(f){var h=f.p;return{x:h[0],y:h[1]}})}var px="shift",v3=["drag","shift","ctrl","alt","control"],d3=function(r,t){var e,n=r.getKeyShape();if(r.get("type")==="path")e=cu(n.attr("path"));else{var a=n.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return Wh(t,e)},p3={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:px,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return v3.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=px,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(r){var t=this.lasso,e=r.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:r.x,y:r.y},this.points.push(this.originPoint),t.show())},onDragMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:r.x,y:r.y}),this.updateLasso(r))},onDragEnd:function(r){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var r=this.points,t=[];return r.length&&(r.forEach(function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",r[0].x,r[0].y])),t},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,t=this,e=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[e.getCanvasByPoint(h.x,h.y).x,e.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];e.getNodes().forEach(function(h){if(d3(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),e.setItemState(h,o,!0)}});var f=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(v){var m=v.getModel(),T=m.source,D=m.target;l.includes(T)&&l.includes(D)&&n(v,"select")&&(f.push(v),e.setItemState(v,r.selectedState,!0))})}),this.selectedEdges=f,this.selectedNodes=s,this.onSelect&&this.onSelect(s,f),e.emit("nodeselectchange",{selectedItems:{nodes:s,edges:f},select:!0})},createLasso:function(){var r=this,t=r.graph.get("delegateGroup").addShape("path",{attrs:$t({path:[]},r.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(r){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},gx="click",g3=["click","drag"],yx=void 0,y3=["shift","ctrl","control","alt","meta",void 0],m3={getDefaultCfg:function(){return{trigger:gx,key:yx,edgeConfig:{}}},getEvents:function(){var r=this;g3.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=gx,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),r.key&&y3.indexOf(r.key.toLowerCase())===-1&&(r.trigger=yx,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return r.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:r.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),r.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:r.x,y:r.y})}},onClick:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item,n=t.graph,a=e.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,r))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,r))return;t.edge=n.addItem("edge",$t({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(r){var t=this;if(!(t.key&&!t.keydown)){var e={x:r.x,y:r.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,n=r.item;if(t.addingEdge&&r.target&&r.target.isCanvas&&r.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!e.get("groupByTypes"))for(var o=r.x,s=r.y,l=e.getNodes(),f=l.length,h=0;h<f;h++){var c=l[h],v=c.getModel(),m=c.getBBox();if(o<=m.maxX&&o>=m.minX&&s<=m.maxY&&s>=m.minY){if(!t.shouldEnd.call(t,{x:r.x,y:r.y,canvasX:r.canvasX,canvasY:r.canvasY,clientX:r.clientX,clientY:r.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(t.edge,{target:v.id}),e.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(r){var t=this,e=r.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var r=this;r.addingEdge&&r.edge&&(r.graph.removeItem(r.edge,!1),r.addingEdge=!1,r.edge=null),this.keydown=!1}},mx="ctrl",x3=["shift","ctrl","alt","control"],b3="1",w3={getDefaultCfg:function(){return{trigger:mx,combinedKey:b3,functionName:"fitView",functionParams:[]}},getEvents:function(){return x3.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=mx,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},S3={"drag-canvas":IR,"zoom-canvas":UR,"drag-node":GR,"activate-relations":zR,"brush-select":VR,"click-select":WR,"lasso-select":p3,tooltip:ZR,"edge-tooltip":KR,"drag-group":$R,"drag-node-with-group":JR,"collapse-expand-group":t3,"collapse-expand":r3,"drag-combo":i3,"collapse-expand-combo":o3,"create-edge":m3,"shortcuts-call":w3};(0,kn.default)(S3,function(i,r){Dh.registerBehavior(r,i)});var xx=Dh,No=d(14563),Gs=d(70673),Pa=d(83077),bx=d(54544),M3=function(r){var t=(0,bx.default)(r.groups,"id"),e=(0,bx.default)(r.groups,"parentId"),n={};for(var a in e)if(!!a){var o=e[a],s=t[a];if(s&&o){var l=Ds(o,s);n[a]=l}else o&&(n[a]=o)}var f=$t($t({},t),n),h={};for(var c in f)if(!(!c||c==="undefined")){var o=f[c].map(function(D){return D.id});h[c]=o}var v={},m=function(D){if(!D||D==="undefined")return"continue";for(var Y=h[D],W=[],H=0,st=Y;H<st.length;H++){var lt=st[H],Mt=f[lt].map(function(zt){return zt.id});W.push.apply(W,Mt)}var Ft=r.nodes?r.nodes.filter(function(zt){return W.indexOf(zt.groupId)>-1||W.indexOf(zt.parentId)>-1}).map(function(zt){return zt.id}):[];v[D]=Ft};for(var c in h)m(c);return v},C3=function(){function i(r){this.graph=r,this.destroyed=!1,this.modes=r.get("modes")||{default:[]},this.formatModes(),this.mode=r.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var r=this.modes;(0,kn.default)(r,function(t){(0,kn.default)(t,function(e,n){(0,An.default)(e)&&(t[n]={type:e})})})},i.prototype.setBehaviors=function(r){var t=this.graph,e=this.modes[r],n=[],a;(0,kn.default)(e||[],function(o){var s=Dh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(r,t){return(0,kn.default)(t,function(e){r.indexOf(e)<0&&((0,An.default)(e)&&(e={type:e}),r.push(e))}),r},i.filterBehaviors=function(r,t){var e=[];return r.forEach(function(n){var a="";(0,An.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&e.push(n)}),e},i.prototype.setMode=function(r){var t=this,e=t.modes,n=t.graph,a=r,o=e[a];!o||(n.emit("beforemodechange",{mode:r}),(0,kn.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:r}),this.mode=r)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(r,t,e){var n=this,a;if((0,Di.default)(r)?a=r:a=[r],(0,Di.default)(t))return(0,kn.default)(t,function(s){n.modes[s]?e?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):e&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||e&&(this.modes[o]=a),e?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),E3=C3,A3=function(){function i(r){this.destroyed=!1,this.graph=r,this.destroyed=!1}return i.prototype.getViewCenter=function(){var r=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),n=t.get("height");return{x:(e-r[1]-r[3])/2+r[3],y:(n-r[0]-r[2])/2+r[0]}},i.prototype.fitCenter=function(){var r=this.graph,t=r.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var n=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};r.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var r=this.graph,t=this.getFormatPadding(),e=r.get("width"),n=r.get("height"),a=r.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};r.translate(s.x-l.x,s.y-l.y);var f=(e-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=f;f>h&&(c=h),r.zoom(c,s)}},i.prototype.getFormatPadding=function(){var r=this.graph.get("fitViewPadding");return Nh(r)},i.prototype.focusPoint=function(r,t,e){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-r.x)*s[0],f=(o.y-r.y)*s[4],h=0,c=0,v=0,m=0;this.graph.get("canvas").animate(function(T){v=l*T,m=f*T,n.graph.translate(v-h,m-c),h=v,c=m},$t({},e))}else this.graph.translate((o.x-r.x)*s[0],(o.y-r.y)*s[4])},i.prototype.getPointByCanvas=function(r,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=qm({x:r,y:t},e);return n},i.prototype.getPointByClient=function(r,t){var e=this.graph.get("canvas"),n=e.getPointByClient(r,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(r,t){var e=this.graph.get("canvas"),n=this.getCanvasByPoint(r,t),a=e.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(r,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Rs({x:r,y:t},e)},i.prototype.focus=function(r,t,e){(0,An.default)(r)&&(r=this.graph.findById(r));var n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r&&this.focusPoint({x:a[6],y:a[7]},t,e)},i.prototype.changeSize=function(r,t){var e=this.graph;if(!(0,Ta.default)(r)||!(0,Ta.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:r,height:t});var n=e.get("canvas");n.changeSize(r,t);var a=e.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=e.get("minZoom");(0,Fn.Z)(o.get("container"),{width:r+"px",height:t+"px"}),(0,Fn.Z)(o.get("gridContainer"),{width:r/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),T3=A3,zs=d(73136),vu=d(61262),P3=function(){function i(r){this.preItem=null,this.graph=r,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var r=this,t=r.graph,e=r.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,vu.default)(this,"onCanvasEvents"),s=(0,vu.default)(this,"onExtendEvents"),l=(0,vu.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,e.push((0,zs.Z)(a,"DOMMouseScroll",l)),e.push((0,zs.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(e.push((0,zs.Z)(window,"keydown",s)),e.push((0,zs.Z)(window,"keyup",s)),e.push((0,zs.Z)(window,"focus",s)))},i.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},i.prototype.onCanvasEvents=function(r){var t=this.graph,e=t.get("canvas"),n=r.target,a=r.type;r.canvasX=r.x,r.canvasY=r.y;var o={x:r.canvasX,y:r.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),Pm(l)&&(o=t.getPointByClient(r.clientX,r.clientY)),r.x=o.x,r.y=o.y,r.currentTarget=t,n===e){a==="mousemove"&&this.handleMouseMove(r,"canvas"),r.target=e,r.item=null,t.emit(a,r),t.emit("canvas:"+a,r);return}var f=i.getItemRoot(n);if(!f){t.emit(a,r);return}var h=f.get("item");if(!h.destroyed){var c=h.getType();if(r.target=n,r.item=h,r.canvasX===r.x&&r.canvasY===r.y){var v=t.getCanvasByPoint(r.x,r.y);r.canvasX=v.x,r.canvasY=v.y}t.emit(a,r),r.name&&!r.name.includes(":")?t.emit(c+":"+a,r):t.emit(r.name,r),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(r,c)}},i.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},i.prototype.onWheelEvent=function(r){(0,Bi.default)(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},i.prototype.handleMouseMove=function(r,t){var e=this,n=e.graph,a=e.preItem,o=n.get("canvas"),s=r.target===o?null:r.item;r=iu(r),a&&a!==s&&!a.destroyed&&(r.item=a,this.emitCustomEvent(a.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",r)),s&&a!==s&&(r.item=s,this.emitCustomEvent(t,"mouseenter",r),this.dragging&&this.emitCustomEvent(t,"dragenter",r)),this.preItem=s},i.prototype.emitCustomEvent=function(r,t,e){e.type=t,this.graph.emit(r+":"+t,e)},i.prototype.destroy=function(){var r=this,t=r.graph,e=r.canvasHandler,n=r.extendEvents,a=t.get("canvas");a.off("*",e),(0,kn.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),_3=P3,wx=d(8289),Sx=d(33643),Mx=d(85260),O3=d(58070),L3={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},ma=Math.PI,$h=Math.sin,Qh=Math.cos,Ri=$h(ma/8),Ni=Qh(ma/8),du=function(r,t){var e=r.getBBox(),n={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Rs(n,o),a=Rs(a,o)}var s=n.x,l=n.y,f=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:f,maxY:h,width:f-s,height:h-l}},Cx=function(r){var t=r.sourceNode||r.targetNode,e=t.get("group"),n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=r.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,f=s.position||Ve.defaultLoopPosition,h=[n[6],n[7]],c=[r.startPoint.x,r.startPoint.y],v=[r.endPoint.x,r.endPoint.y],m=o.height/2,T=o.height/2,D=m*Ri,Y=m*Ni,W=T*Ri,H=T*Ni;if(c[0]===v[0]&&c[1]===v[1]){switch(f){case"top":c=[h[0]-D,h[1]-Y],v=[h[0]+W,h[1]-H];break;case"top-right":m=o.height/2,T=o.width/2,D=m*Ri,Y=m*Ni,W=T*Ri,H=T*Ni,c=[h[0]+D,h[1]-Y],v=[h[0]+H,h[1]-W];break;case"right":m=o.width/2,T=o.width/2,D=m*Ri,Y=m*Ni,W=T*Ri,H=T*Ni,c=[h[0]+Y,h[1]-D],v=[h[0]+H,h[1]+W];break;case"bottom-right":m=o.width/2,T=o.height/2,D=m*Ri,Y=m*Ni,W=T*Ri,H=T*Ni,c=[h[0]+Y,h[1]+D],v=[h[0]+W,h[1]+H];break;case"bottom":m=o.height/2,T=o.height/2,D=m*Ri,Y=m*Ni,W=T*Ri,H=T*Ni,c=[h[0]+D,h[1]+Y],v=[h[0]-W,h[1]+H];break;case"bottom-left":m=o.height/2,T=o.width/2,D=m*Ri,Y=m*Ni,W=T*Ri,H=T*Ni,c=[h[0]-D,h[1]+Y],v=[h[0]-H,h[1]+W];break;case"left":m=o.width/2,T=o.width/2,D=m*Ri,Y=m*Ni,W=T*Ri,H=T*Ni,c=[h[0]-Y,h[1]+D],v=[h[0]-H,h[1]-W];break;case"top-left":m=o.width/2,T=o.height/2,D=m*Ri,Y=m*Ni,W=T*Ri,H=T*Ni,c=[h[0]-Y,h[1]-D],v=[h[0]-W,h[1]-H];break;default:m=o.width/2,T=o.width/2,D=m*Ri,Y=m*Ni,W=T*Ri,H=T*Ni,c=[h[0]-D,h[1]-Y],v=[h[0]+W,h[1]-H]}if(s.clockwise===!1){var st=[c[0],c[1]];c=[v[0],v[1]],v=[st[0],st[1]]}}var lt=[c[0]-h[0],c[1]-h[1]],Mt=(m+l)/m,Ft=(T+l)/T;s.clockwise===!1&&(Mt=(T+l)/T,Ft=(m+l)/m);var zt=Vn.scale([],lt,Mt),Zt=[h[0]+zt[0],h[1]+zt[1]],Yt=[v[0]-h[0],v[1]-h[1]],re=Vn.scale([],Yt,Ft),he=[h[0]+re[0],h[1]+re[1]];return r.startPoint={x:c[0],y:c[1]},r.endPoint={x:v[0],y:v[1]},r.controlPoints=[{x:Zt[0],y:Zt[1]},{x:he[0],y:he[1]}],r},pu=function(r,t,e,n,a){var o=1e-4,s=[],l=r.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=r.getStartTangent().reverse();else if(t>1-o)s=r.getEndTangent();else{var f=r.getPoint(t+o);s.push([l.x,l.y]),s.push([f.x,f.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=ma*2),e&&(l.x+=Qh(h)*e,l.y+=$h(h)*e),n){var c=h-ma/2;h>1/2*ma&&h<3*1/2*ma&&(c-=ma),l.x+=Qh(c)*n,l.y+=$h(c)*n}var v={x:l.x,y:l.y,angle:h};return a?(h>1/2*ma&&h<3*1/2*ma&&(h-=ma),$t({rotate:h},v)):v},Ex=function i(r,t){if(t(r)===!1)return!1;if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return!1}return!0},I3=function i(r,t){if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return}return t(r)!==!1},Zi=function(r,t){typeof t=="function"&&Ex(r,t)},xa=function(r,t){typeof t=="function"&&I3(r,t)},Ax=function(r,t){var e=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&e.indexOf(t)>=0&&(s="x",o="y");var l=0;Zi(r,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var f=ma*2/l,h=a[s]-n[s];return h===0||Zi(r,function(c){var v=(c[s]-n[s])/h*(ma*2-f)+f,m=Math.abs(o==="x"?c.x-r.x:c.y-r.y);return c.x=m*Math.cos(v),c.y=m*Math.sin(v),!0}),r},Tx=function(r,t){return t*(L3[r]||1)},Px=function(r,t){var e=0,n=new RegExp("[\u4E00-\u9FA5]+");return r.split("").forEach(function(a){n.test(a)?e+=t:e+=Tx(a,t)}),[e,t]},Jh=function(r,t){var e=[],n={},a={};r.forEach(function(s){a[s.id]=s}),r.forEach(function(s,l){var f=(0,u.clone)(s);f.itemType="combo",f.children=void 0,f.parentId===f.id?(console.warn("The parentId for combo "+f.id+" can not be the same as the combo's id"),delete f.parentId):f.parentId&&!a[f.parentId]&&(console.warn("The parent combo for combo "+f.id+" does not exist!"),delete f.parentId);var h=n[f.id];if(h){if(f.children=h.children,n[f.id]=f,h=f,!h.parentId){e.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(f):c.children=[f];else{var v={id:h.parentId,children:[h]};n[h.parentId]=v,n[f.id]=f}return}if((0,u.isString)(s.parentId)){var m=n[s.parentId];if(m)m.children?m.children.push(f):m.children=[f],n[f.id]=f;else{var T={id:s.parentId,children:[f]};n[T.id]=T,n[f.id]=f}}else e.push(f),n[f.id]=f});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var f={id:s.id,comboId:s.comboId};l.children?l.children.push(f):l.children=[f],f.itemType="node",n[s.id]=f}}),e.forEach(function(s){s.depth=0,Ex(s,function(l){var f,h=n[l.id].itemType;h==="node"?f=n[l.comboId]:f=n[l.parentId],f?h==="node"?l.depth=f.depth+1:l.depth=f.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),e},qh=function(r,t,e){var n=r,a,o={root:{children:r}},s=!1,l="root";(r||[]).forEach(function(m){if(!s){if(m.id===t){a=m,m.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0;return}Zi(m,function(T){return o[T.id]={children:T.children},n=o[T.parentId||T.comboId||"root"].children,T&&(T.removed||t===T.id)&&n?(l=T.parentId||T.comboId||"root",a=T,T.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0,!1):!0})}}),n=o[l].children;var f=n?n.indexOf(a):-1;if(f>-1&&n.splice(f,1),s||(a={id:t,itemType:"node",comboId:e},o[t]={children:void 0}),t){var h=!1;if(e){var c=0;(r||[]).forEach(function(m){h||Zi(m,function(T){return e===T.id?(h=!0,T.children?T.children.push(a):T.children=[a],c=T.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!e||!h)&&a.itemType!=="node"&&r.push(a);var v=a.depth;Zi(a,function(m){return m.itemType==="node"?v+=2:v+=1,m.depth=v,!0})}return r},tc=function(r,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!r||r.length===0||(r.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&e.minX>o.minX&&(e.minX=o.minX),o.y&&e.minY>o.minY&&(e.minY=o.minY),o.x&&e.maxX<o.maxX&&(e.maxX=o.maxX),o.y&&e.maxY<o.maxY&&(e.maxY=o.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(n){(e[n]===Infinity||e[n]===-Infinity)&&(e[n]=void 0)})),e},k3=function(r){var t=r.group,e=r.height,n=r.width,a=r.x,o=r.y,s=t.get("canvas"),l=s.get("width"),f=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/f,h.end.x=(a+n)/l,h.end.y=(o+e)/f,h};function gu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gu=function(t){return typeof t}:gu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(i)}function _x(i){if(typeof i!="string")return i;var r=function(zt){if(typeof zt!="string")return zt;try{return JSON.parse(zt.trim())}catch(Zt){return zt.trim()}},t=r(i);if(typeof t!="string")return t;for(var e=function(zt){return zt[zt.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var zt=[],Zt=0;Zt<arguments.length;Zt++)zt[Zt]=arguments[Zt];return zt.some(function(Yt){return e(o)===Yt})},l=function(){return e(a)},f=null,h=0,c="";h<n.length;){var v=n[h],m=s('"',"'");if(!m&&!v.trim()){h+=1;continue}var T=n[h-1]==="\\",D=s("}"),Y=s("]"),W=s(","),H=l();if(m)if(e(o)===v&&!T){o.pop();var st=r(c);H.push(st),f=st,c=""}else c+=v;else if(Y&&v===",")c&&(H.push(r(c)),c="");else if(D&&v===":")o.push(","),c&&(H.push(c),c="");else if(W&&v===",")c&&(H.push(r(c)),c=""),o.pop();else if(v==="}"&&(D||W)){c&&(H.push(r(c)),c=""),W&&o.pop();for(var lt={},Mt=1;Mt<H.length;Mt+=2)lt[H[Mt-1]]=H[Mt];a.pop(),a.length&&e(a).push(lt),o.pop(),f=lt}else v==="]"&&Y?(c&&(H.push(r(c)),c=""),a.pop(),a.length&&e(a).push(H),o.pop(),f=H):v==="{"?(a.push([]),o.push("}")):v==="["?(a.push([]),o.push("]")):v==='"'?o.push('"'):v==="'"?o.push("'"):c+=v;h+=1}return f||c}var B3=function(r){return r.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},D3=function(r){return function(t){for(var e=r.length,n=[],a=0,o="";a<e;)if(r[a]==="{"&&r[a+1]==="{")n.push(o),o="",a+=2;else if(r[a]==="}"&&r[a+1]==="}"){if(n.length){var s=n.pop();o=(0,O3.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=r[a],a+=1;return n.push(o),n.map(function(l,f){return n[f-1]&&n[f-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function Ox(i,r){var t={},e=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return Ox(s,r)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(e).forEach(function(s){var l=B3(s),f=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=_x(f);t=$t($t({},t),h)}else a[l]=_x(f)}catch(c){if(l==="style")throw c;a[l]=f}}),a.attrs=t,r&&r.style&&a.name&&gu(r.style[a.name])==="object"&&(a.attrs=$t($t({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=$t($t({},a.attrs),r.style)),n.length&&(a.children=n),a}function F3(i,r,t){var e=i.attrs,n=e===void 0?{}:e,a={x:r.x||0,y:r.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=Px(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=$t({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function Lx(i,r){var t;r===void 0&&(r={x:0,y:0});var e=$t({x:0,y:0,width:0,height:0},r);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=$t({},r);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var f=Lx(i.children[l],s);if(f.bbox){var h=f.bbox;f.attrs.next==="inline"?s.x+=f.bbox.width:s.y+=f.bbox.height,h.width+h.x>e.width&&(e.width=h.width+h.x),h.height+h.y>e.height&&(e.height=h.height+h.y)}}}return i.bbox=F3(i,r,e),i.attrs=$t($t({},i.attrs),i.bbox),i}function Ix(i,r){var t,e,n,a,o=(i||{}).type,s=((r==null?void 0:r.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&r)return{action:"delete",val:r,type:o,key:s};if(i&&!r)return{action:"add",val:i,type:o};if(!i&&!r)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((e=r.children)===null||e===void 0?void 0:e.length)>0)for(var f=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=r.children)===null||a===void 0?void 0:a.length),h=r.children||[],c=i.children||[],v=0;v<f;v+=1)l.push(Ix(c[v],h[v]));var m=Object.keys(r.attrs),T=Object.keys(i.attrs);return r.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:r,key:s,children:l}:m.filter(function(D){return D!=="children"}).some(function(D){return i.attrs[D]!==r.attrs[D]||!T.includes(D)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function kx(i){var r={},t=function(n){var a=typeof i=="function"?i(n):i,o=D3(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],f=Lx(Ox(l,n));return s.remove(),f};return{draw:function(n,a){var o=t(n),s=a,l=function f(h){var c=h.attrs,v=c===void 0?{}:c,m=h.bbox,T=h.type,D=h.children,Y=ji(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var W=a.addShape(h.type,$t({attrs:v,origin:{bbox:m,type:T,children:D}},Y));h.keyshape&&(s=W)}h.children&&h.children.forEach(function(H){return f(H)})};return l(o),r[n.id]=[o],s},update:function(n,a){r[n.id]||(r[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),f=r[n.id].pop(),h=Ix(l,f),c=function T(D){var Y;D.type!=="group"&&o.addShape(D.type,{attrs:D.attrs}),((Y=D.children)===null||Y===void 0?void 0:Y.length)&&D.children.map(function(W){return T(W)})},v=function T(D){var Y,W=s.find(function(H){return H.attrs.key===D.attrs.key});W&&o.removeChild(W),((Y=D.children)===null||Y===void 0?void 0:Y.length)&&D.children.map(function(H){return T(H)})},m=function T(D){var Y=D.key;if(D.type!=="group"){var W=s.find(function(st){return st.attrs.key===Y});switch(D.action){case"change":if(W){var H=D.val.keyshape?a.getOriginStyle():{};W.attr($t($t({},H),D.val.attrs))}break;case"add":c(D.val);break;case"delete":v(D.val);break;case"restructure":v(D.formerTarget),c(D.nowTarget);break;default:break}}D.children&&D.children.forEach(function(st){return T(st)})};m(h),r[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var ec={};function Bx(i){return ec[i]||(ec[i]=(0,u.upperFirst)(i)),ec[i]}var R3={defaultShapeType:"defaultType",className:null,getShape:function(r){var t=this,e=t[r]||t[t.defaultShapeType];return e},draw:function(r,t,e){var n=this.getShape(r),a=n.draw(t,e);return n.afterDraw&&n.afterDraw(t,e,a),a},baseUpdate:function(r,t,e){var n=this.getShape(r);n.update&&n.update(t,e),n.afterUpdate&&n.afterUpdate(t,e)},setState:function(r,t,e,n){var a=this.getShape(r);a.setState(t,e,n)},shouldUpdate:function(r){var t=this.getShape(r);return!!t.update},getControlPoints:function(r,t){var e=this.getShape(r);return e.getControlPoints(t)},getAnchorPoints:function(r,t){var e=this.getShape(r);return e.getAnchorPoints(t)}},rc={options:{},draw:function(r,t){return this.drawShape(r,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.options.anchorPoints,e=r.anchorPoints||t;return e}},yu=function(){function i(){}return i.registerFactory=function(r,t){var e=Bx(r),n=R3,a=$t($t({},n),t);return i[e]=a,a.className=e,a},i.getFactory=function(r){var t=Bx(r);return i[t]},i.registerNode=function(r,t,e){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=kx(t);a=$t($t({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=kx(s);a=$t($t($t({},n.getShape("single-node")),o),t)}else{var l=e?n.getShape(e):rc;a=$t($t({},l),t)}return a.type=r,a.itemType="node",n[r]=a,a},i.registerEdge=function(r,t,e){var n=i.Edge,a=e?n.getShape(e):rc,o=$t($t({},a),t);return o.type=r,o.itemType="edge",n[r]=o,o},i.registerCombo=function(r,t,e){var n=i.Combo,a=e?n.getShape(e):rc,o=$t($t({},a),t);return o.type=r,o.itemType="combo",n[r]=o,o},i}(),ii=yu;yu.registerFactory("node",{defaultShapeType:"circle"}),yu.registerFactory("edge",{defaultShapeType:"line"}),yu.registerFactory("combo",{defaultShapeType:"circle"});var nc="bboxCache",ic="bboxCanvasCache",N3=function(){function i(r){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),r);var e=this.get("model"),n=e.id,a=this.get("type");n||(n=(0,u.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=r.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=e.shape||e.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var f=l[s].options;if(f&&f.stateStyles){var h=this.get("styles")||e.stateStyles;h=(0,u.deepMix)({},f.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=du(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.calculateCanvasBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=du(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.drawInner=function(){var r=this,t=r.get("shapeFactory"),e=r.get("group"),n=r.get("model");e.clear();var a=n.visible;if(a!==void 0&&!a&&r.changeVisibility(a),!!t){r.updatePosition(n);var o=r.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,e);l&&(r.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(r){var t={},e=this.get("group"),n=e.get("children"),a=this.getKeyShape(),o=this;(0,u.each)(n,function(f){var h=f.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),v=o.getShapeStyleByName();c?t[c]=v:Object.assign(t,v)}});var s=this.getOriginStyle(),l={};r?l=(0,u.deepMix)({},s,t,r.style,{labelCfg:r.labelCfg}):l=(0,u.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(r,t){var e=this,n=e.get("states");(0,u.each)(n,function(a){r.setState(t,a,!0,e)})},i.prototype.init=function(){var r=ii.getFactory(this.get("type"));this.set("shapeFactory",r)},i.prototype.get=function(r){return this._cfg[r]},i.prototype.set=function(r,t){(0,u.isPlainObject)(r)?this._cfg=$t($t({},this._cfg),r):this._cfg[r]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(nc,null),this.set(ic,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(r){var t=this.get("group"),e=this.getKeyShape();if(r&&(e=t.find(function(a){return a.get("name")===r})),e){var n={};return(0,u.each)(e.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(r){var t=this.get("styles");if(t){var e=r;return e.style=$t($t({},t),r.style),e}return r},i.prototype.getStateStyle=function(r){var t=this.get("styles"),e=t&&t[r];return e},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var r=this,t={};return(0,u.each)(r.getStates(),function(e){t=Object.assign(t,r.getStateStyle(e))}),t},i.prototype.setState=function(r,t){var e=this.get("states"),n=this.get("shapeFactory"),a=r,o=r;(0,u.isString)(t)&&(a=r+":"+t,o=r+":");var s=e;if((0,u.isBoolean)(t)){var l=e.indexOf(o);if(t){if(l>-1)return;e.push(a)}else l>-1&&e.splice(l,1)}else if((0,u.isString)(t)){var f=e.filter(function(v){return v.includes(o)});f.length>0&&this.clearStates(f),s=s.filter(function(v){return!v.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,r,t,this)}},i.prototype.clearStates=function(r){var t=this,e=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;r||(r=e),(0,u.isString)(r)&&(r=[r]);var s=e.filter(function(l){return r.indexOf(l)===-1});t.set("states",s),r.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(r){var t=this.getStates();return t.indexOf(r)>=0},i.prototype.refresh=function(){var r=this.get("model");this.updatePosition(r),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(r){return!1},i.prototype.update=function(r){var t=this.get("model"),e=t.visible,n=r.visible;e!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};r.x=isNaN(r.x)?t.x:r.x,r.y=isNaN(r.y)?t.y:r.y;var o=this.get("styles");if(r.stateStyles){var s=r.stateStyles;(0,u.mix)(o,s),delete r.stateStyles}Object.assign(t,r);var l=this.isOnlyMove(r);l?this.updatePosition(r):((a.x!==r.x||a.y!==r.y)&&this.updatePosition(r),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var r=this.get("shapeFactory"),t=this.get("model"),e=t.shape||t.type;if(r.shouldUpdate(e)&&e===this.get("currentShape")){var n=this.getShapeCfg(t);r.baseUpdate(e,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(r,e)},i.prototype.updatePosition=function(r){var t=this.get("model"),e=(0,u.isNil)(r.x)?t.x:r.x,n=(0,u.isNil)(r.y)?t.y:r.y,a=this.get("group");(0,u.isNil)(e)||(0,u.isNil)(n)||(a.resetMatrix(),ex(a,{x:e,y:n}),t.x=e,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var r=this.get(nc);return r||(r=this.calculateBBox(),this.set(nc,r)),r},i.prototype.getCanvasBBox=function(){var r=this.get(ic);return r||(r=this.calculateCanvasBBox(),this.set(ic,r)),r},i.prototype.toFront=function(){var r=this.get("group");r.toFront()},i.prototype.toBack=function(){var r=this.get("group");r.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(r){var t=this.get("group");r?t.show():t.hide(),this.set("visible",r)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(r){var t=this.get("group");t&&t.set("capture",r)},i.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),t=this.get("group");r&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),Dx=N3,mu={source:"start",target:"end"},za="Node",os="Point",Y3="Anchor",G3=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},r.prototype.setEnd=function(t,e){var n=mu[t]+os,a=t+za,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,u.isPlainObject)(e)?(this.set(n,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(n,null))},r.prototype.getLinkPoint=function(t,e,n){var a=mu[t]+os,o=t+za,s=this.get(a);if(!s){var l=this.get(o),f=t+Y3,h=this.getPrePoint(t,n),c=e[f];(0,u.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,u.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},r.prototype.getPrePoint=function(t,e){if(e&&e.length){var n=t==="source"?0:e.length-1;return e[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},r.prototype.getEndPoint=function(t){var e=t+za,n=mu[t]+os,a=this.get(e);return a?a.get("model"):this.get(n)},r.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:e,endPoint:n})},r.prototype.getEndCenter=function(t){var e=t+za,n=mu[t]+os,a=this.get(e);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},r.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},r.prototype.getShapeCfg=function(t){var e=this,n=e.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var o=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,o),a.endPoint=e.getLinkPoint("target",t,o)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},r.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+za),n=this.get("target"+za);return e?delete t["source"+za]:t.source=this.get("start"+os),n?delete t["target"+za]:t.target=this.get("end"+os),!(0,u.isString)(t.source)&&!(0,u.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,u.isString)(t.target)&&!(0,u.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},r.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},r.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},r.prototype.getSource=function(){return this.get("source")},r.prototype.getTarget=function(){return this.get("target")},r.prototype.updatePosition=function(){},r.prototype.update=function(t){var e=this.get("model"),n=e.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,u.mix)(o,s),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},r.prototype.destroy=function(){var t=this.get("source"+za),e=this.get("target"+za);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),i.prototype.destroy.call(this)},r}(Dx),z3=G3,Xs=d(66974),ac="anchorPointsCache",X3="bboxCache",V3=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getNearestPoint=function(t,e){for(var n=0,a=t[0],o=Ns(t[0],e),s=0;s<t.length;s++){var l=t[s],f=Ns(l,e);f<o&&(a=l,o=f,n=s)}return a.anchorIndex=n,a},r.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},r.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},r.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if(t==="target"){var a=function(f){return f.getSource()===e};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(f){return f.getTarget()===e};return n.filter(o).map(function(l){return l.getSource()})}var s=function(f){return f.getSource()===e?f.getTarget():f.getSource()};return n.map(s)},r.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},r.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),n=e.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var f=this.getAnchorPoints(),h;switch(n){case"circle":h=Qm({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=Jm({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=$m(l,t)}var c=h;return f.length&&(c||(c=t),c=this.getNearestPoint(f,c)),c||(c={x:o,y:s}),c},r.prototype.getAnchorPoints=function(){var t=this.get(ac);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=e.getAnchorPoints(s,o)||[];(0,kn.default)(l,function(f,h){var c=(0,Xs.default)({x:n.minX+f[0]*n.width,y:n.minY+f[1]*n.height},f[2],{index:h});t.push(c)}),this.set(ac,t)}return t},r.prototype.addEdge=function(t){this.get("edges").push(t)},r.prototype.lock=function(){this.set("locked",!0)},r.prototype.unlock=function(){this.set("locked",!1)},r.prototype.hasLocked=function(){return this.get("locked")},r.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},r.prototype.clearCache=function(){this.set(X3,null),this.set(ac,null)},r.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,Bi.default)(t.x),n=!(0,Bi.default)(t.y),a=Object.keys(t);return a.length===1&&(e||n)||a.length===2&&e&&n},r}(Dx),Fx=V3,H3="bboxCache",Rx="bboxCanvasCache",oc="sizeCache",W3="anchorPointsCache",j3=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},r.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||Ve.defaultCombo.size[0]/2,width:n.width||Ve.defaultCombo.size[0],height:n.height||Ve.defaultCombo.size[1]};a.style=$t($t($t({},e),t.style),o);var s=t.padding||Ve.defaultCombo.padding;return(0,Ta.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(oc,o),a}return t},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=du(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(oc);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},r.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},r.prototype.getNodes=function(){var t=this;return t.get("nodes")},r.prototype.getCombos=function(){var t=this;return t.get("combos")},r.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},r.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},r.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.isOnlyMove=function(t){return!1},r.prototype.getBBox=function(){this.set(Rx,null);var t=this.calculateCanvasBBox();return t},r.prototype.clearCache=function(){this.set(H3,null),this.set(Rx,null),this.set(W3,null)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(oc,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},r}(Fx),U3=j3,xu="node",bu="edge",Nx="vedge",wu="combo",Z3="default",Yx="Mapper",oo="stateStyles",K3=Object.hasOwnProperty,$3=function(){function i(r){this.graph=r,this.destroyed=!1}return i.prototype.addItem=function(r,t){var e=this,n=this.graph,a=r===Nx?bu:r,o=n.get(a+"Group")||n.get("group"),s=(0,Mx.default)(a),l=null,f=n.get(a+(0,Mx.default)(oo))||{},h=n.get(Z3+s);t[oo]&&(f=t[oo]);var c=n.get(a+Yx);if(c){var v=c(t);v[oo]&&(f=v[oo],delete v[oo]),t=(0,Xi.default)({},h,t,v)}else h&&(0,kn.default)(h,function(st,lt){K3.call(t,lt)||((0,Sx.default)(st)?t[lt]=(0,wx.default)(st):t[lt]=h[lt])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:r,model:t}),r===bu||r===Nx){var m=void 0,T=void 0;if(m=t.source,T=t.target,m&&(0,An.default)(m)&&(m=n.findById(m)),T&&(0,An.default)(T)&&(T=n.findById(T)),!m||!T){console.warn("The source or target node of edge "+t.id+" does not exist!");return}m.getType&&m.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(m)),T.getType&&T.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(T)),l=new z3({model:t,source:m,target:T,styles:f,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(r===xu)l=new Fx({model:t,styles:f,group:o.addGroup()});else if(r===wu){var D=t.children,Y=tc(D,n);t.x=Y.x||t.x||Math.random()*100,t.y=Y.y||t.y||Math.random()*100;var W=o.addGroup();W.setZIndex(t.depth),l=new U3({model:t,styles:f,bbox:Y,group:W});var H=l.getModel();(D||[]).forEach(function(st){var lt=n.findById(st.id);l.addChild(lt),st.depth=H.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),e.updateCombo(l,[])},250)}if(l)return n.get(r+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(r,t){var e=this.graph;if((0,An.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n="";r.getType&&(n=r.getType());var a=e.get(n+Yx),o=r.getModel();if(a){var s=(0,Xi.default)({},o,t),l=a(s),f=(0,Xi.default)({},o,l,t);l[oo]&&(r.set("styles",f[oo]),delete f[oo]),(0,kn.default)(f,function(m,T){t[T]=m})}else(0,kn.default)(t,function(m,T){o[T]&&(0,Sx.default)(m)&&!(0,Di.default)(m)&&(t[T]=$t($t({},o[T]),t[T]))});if(e.emit("beforeupdateitem",{item:r,cfg:t}),n===bu){if(t.source){var h=t.source;(0,An.default)(h)&&(h=e.findById(h)),r.setSource(h)}if(t.target){var c=t.target;(0,An.default)(c)&&(c=e.findById(c)),r.setTarget(c)}}if(r.update(t),n===xu||n===wu){var v=r.getEdges();(0,kn.default)(v,function(m){m.refresh()})}e.emit("afterupdateitem",{item:r,cfg:t})}},i.prototype.updateCombo=function(r,t){var e=this.graph;if((0,An.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=tc(t,e);r.set("bbox",n),r.update({x:n.x,y:n.y});for(var a=r.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(r){var t=this.graph;(0,An.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.hideItem(n)}),e.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(r){var t=this.graph;(0,An.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.showItem(n)}),e.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(r){var t=this,e=this.graph;if((0,An.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=(0,wx.default)(r.getModel());e.emit("beforeremoveitem",{item:n});var a="";r.getType&&(a=r.getType());var o=e.get(a+"s"),s=o.indexOf(r);if(s>-1&&o.splice(s,1),a===bu){var l=e.get("v"+a+"s"),f=l.indexOf(r);f>-1&&l.splice(f,1)}var h=r.get("id"),c=e.get("itemMap");delete c[h];var v=e.get("comboTrees"),m=r.get("id");if(a===xu){var T=r.getModel().comboId;if(v){var D=v,Y=!1;v.forEach(function(Ft){Y||Zi(Ft,function(zt){if(zt.id===m&&D){var Zt=D.indexOf(zt);return D.splice(Zt,1),Y=!0,!1}return D=zt.children,!0})})}for(var W=r.getEdges(),H=W.length-1;H>=0;H--)e.removeItem(W[H],!1);T&&e.updateCombo(T)}else if(a===wu){var st=r.getModel().parentId,lt,Mt=!1;(v||[]).forEach(function(zt){Mt||Zi(zt,function(Zt){return Zt.id===m?(lt=Zt,Mt=!0,!1):!0})}),lt.removed=!0,lt&&lt.children&&lt.children.forEach(function(zt){t.removeItem(zt.id)});for(var W=r.getEdges(),H=W.length;H>=0;H--)e.removeItem(W[H],!1);st&&e.updateCombo(st)}r.destroy(),e.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(r,t,e){var n=this.graph,a=t;(0,An.default)(e)&&(a=t+":"+e),!(r.hasState(a)===e||(0,An.default)(e)&&r.hasState(a))&&(n.emit("beforeitemstatechange",{item:r,state:a,enabled:e}),r.setState(t,e),n.autoPaint(),n.emit("afteritemstatechange",{item:r,state:a,enabled:e}))},i.prototype.priorityState=function(r,t){var e=this.graph,n=r;(0,An.default)(r)&&(n=e.findById(r)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(r,t){var e=this.graph;(0,An.default)(r)&&(r=e.findById(r)),e.emit("beforeitemstatesclear",{item:r,states:t}),r.clearStates(t),e.emit("afteritemstatesclear",{item:r,states:t})},i.prototype.refreshItem=function(r){var t=this.graph;(0,An.default)(r)&&(r=t.findById(r)),t.emit("beforeitemrefresh",{item:r}),r.refresh(),t.emit("afteritemrefresh",{item:r})},i.prototype.addCombos=function(r,t){var e=this,n=this.graph;(r||[]).forEach(function(o){xa(o,function(s){var l;return t.forEach(function(f){f.id===s.id&&(f.children=s.children,f.depth=s.depth,l=f)}),l&&e.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(r,t){var e=this,n=this.graph;if((0,An.default)(r)&&(r=n.findById(r)),!r){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:r,visible:t}),r.changeVisibility(t),r.getType&&r.getType()===xu){var a=r.getEdges();(0,kn.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||e.changeItemVisibility(h,t)})}else if(r.getType&&r.getType()===wu){var o=n.get("comboTrees"),s=r.get("id"),l=[],f=!1;(o||[]).forEach(function(c){f||!c.children||c.children.length===0||Zi(c,function(v){return v.id===s?(l=v.children,f=!0,!1):!0})}),l.forEach(function(c){var v=n.findById(c.id);e.changeItemVisibility(v,t)});var a=r.getEdges();(0,kn.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||e.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:r,visible:t}),r},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),Q3=$3,ba=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(r){var t=this;t.nodes=r.nodes||[],t.edges=r.edges||[],t.combos=r.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(r){var t=this;t.init(r),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(r){var t=this;(0,Xs.default)(t,r)},i.prototype.destroy=function(){var r=this;r.positions=null,r.nodes=null,r.edges=null,r.destroyed=!0},i}(),Gx={registerLayout:function(r,t,e){if(e===void 0&&(e=ba),!t)throw new Error("please specify handler for this layout: "+r);var n=function(a){Xn(o,a);function o(s){var l=a.call(this)||this,f=l,h={},c=f.getDefaultCfg();return(0,Xs.default)(h,c,t,s),(0,kn.default)(h,function(v,m){f[m]=v}),l}return o}(e);Gx[r]=n}},zx=Gx;function J3(i,r,t,e){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),e?r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function q3(i,r,t){for(var e=t.length,n=0;n<e;n++)if(i.id===t[n].source&&r.id===t[n].target||r.id===t[n].source&&i.id===t[n].target)return!0;return!1}function tN(i,r){return i.degree<r.degree?-1:i.degree>r.degree?1:0}var eN=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.radius,l=t.startRadius,f=t.endRadius,h=t.divisions,c=t.startAngle,v=t.endAngle,m=(v-c)/a,T={};e.forEach(function(Yt,re){T[Yt.id]=re}),t.nodeMap=T;var D=uu(e.length,T,n);t.degrees=D,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!f?s=t.height>t.width?t.width/2:t.height/2:!l&&f?l=f:l&&!f&&(f=l);var Y=t.angleRatio,W=m*Y;t.astep=W;var H=t.ordering,st=[];H==="topology"?st=t.topologyOrdering():H==="topology-directed"?st=t.topologyOrdering(!0):H==="degree"?st=t.degreeOrdering():st=e;for(var lt=t.clockwise,Mt=Math.ceil(a/h),Ft=0;Ft<a;++Ft){var zt=s;!zt&&l!==null&&f!==null&&(zt=l+Ft*(f-l)/(a-1)),zt||(zt=10+Ft*100/(a-1));var Zt=c+Ft%Mt*W+2*Math.PI/h*Math.floor(Ft/Mt);lt||(Zt=v-Ft%Mt*W-2*Math.PI/h*Math.floor(Ft/Mt)),st[Ft].x=o[0]+Math.cos(Zt)*zt,st[Ft].y=o[1]+Math.sin(Zt)*zt,st[Ft].weight=D[Ft]}}},r.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var e=this,n=e.degrees,a=e.edges,o=e.nodes,s=(0,u.clone)(o),l=e.nodeMap,f=[s[0]],h=[o[0]],c=[],v=o.length;c[0]=!0,J3(s,a,l,t);var m=0;return s.forEach(function(T,D){if(D!==0)if((D===v-1||n[D]!==n[D+1]||q3(f[m],T,a))&&c[D]!==!0)f.push(T),h.push(o[l[T.id]]),c[D]=!0,m++;else{for(var Y=f[m].children,W=!1,H=0;H<Y.length;H++){var st=l[Y[H]];if(n[st]===n[D]&&c[st]!==!0){f.push(s[st]),h.push(o[l[s[st].id]]),c[st]=!0,W=!0;break}}for(var lt=0;!W&&(c[lt]||(f.push(s[lt]),h.push(o[l[s[lt].id]]),c[lt]=!0,W=!0),lt++,lt!==v););}}),h},r.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],a=t.degrees;return e.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(tN),n},r}(ba),rN=eN,nN=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=[],l;(0,Di.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,e.forEach(function(Zt){s.push(Zt);var Yt=l;(0,Di.default)(Zt.size)?Yt=Math.max(Zt.size[0],Zt.size[1]):(0,u.isNumber)(Zt.size)&&(Yt=Zt.size),l=Math.max(l,Yt)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var f={},h={};if(s.forEach(function(Zt,Yt){f[Zt.id]=Zt,h[Zt.id]=Yt}),(t.sortBy==="degree"||!(0,An.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,u.isNumber)(e[0].degree))){var c=uu(e.length,h,n);s.forEach(function(Zt,Yt){Zt.degree=c[Yt]})}s.sort(function(Zt,Yt){return Yt[t.sortBy]-Zt[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var v=[[]],m=v[0];s.forEach(function(Zt){if(m.length>0){var Yt=Math.abs(m[0][t.sortBy]-Zt[t.sortBy]);t.maxLevelDiff&&Yt>=t.maxLevelDiff&&(m=[],v.push(m))}m.push(Zt)});var T=l+t.minNodeSpacing;if(!t.preventOverlap){var D=v.length>0&&v[0].length>1,Y=Math.min(t.width,t.height)/2-T,W=Y/(v.length+(D?1:0));T=Math.min(T,W)}var H=0;if(v.forEach(function(Zt){var Yt=t.sweep;Yt===void 0&&(Yt=2*Math.PI-2*Math.PI/Zt.length);var re=Zt.dTheta=Yt/Math.max(1,Zt.length-1);if(Zt.length>1&&t.preventOverlap){var he=Math.cos(re)-Math.cos(0),le=Math.sin(re)-Math.sin(0),Ae=Math.sqrt(T*T/(he*he+le*le));H=Math.max(Ae,H)}Zt.r=H,H+=T}),t.equidistant){for(var st=0,lt=0,Mt=0;Mt<v.length;Mt++){var Ft=v[Mt],zt=Ft.r-lt;st=Math.max(st,zt)}lt=0,v.forEach(function(Zt,Yt){Yt===0&&(lt=Zt.r),Zt.r=lt,lt+=st})}v.forEach(function(Zt){var Yt=Zt.dTheta,re=Zt.r;Zt.forEach(function(he,le){var Ae=t.startAngle+(t.clockwise?1:-1)*Yt*le;he.x=o[0]+re*Math.cos(Ae),he.y=o[1]+re*Math.sin(Ae)})})}},r}(ba),iN=nN,aN=d(49772),Xx=d.n(aN),oN=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return r.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!e){var o=t.edges||[],s=new(Xx()).graphlib.Graph,l;n?(0,Di.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(m){return m.size?(0,Di.default)(m.size)?m.size:[m.size,m.size]:[40,40]};var f=Su(t.nodesepFunc,t.nodesep,50),h=Su(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(f=Su(t.ranksepFunc,t.ranksep,50),h=Su(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),e.forEach(function(v){var m=l(v),T=h(v),D=f(v),Y=m[0]+2*D,W=m[1]+2*T;s.setNode(v.id,{width:Y,height:W})}),o.forEach(function(v){s.setEdge(v.source,v.target,{weight:v.weight||1})}),Xx().layout(s);var c;s.nodes().forEach(function(v){c=s.node(v);var m=e.findIndex(function(T){return T.id===v});e[m].x=c.x,e[m].y=c.y}),s.edges().forEach(function(v){c=s.edge(v);var m=o.findIndex(function(T){return T.source===v.v&&T.target===v.w});t.controlPoints&&o[m].type!=="loop"&&o[m].shape!=="loop"&&(o[m].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},r.prototype.sortLevel=function(t){var e=this,n=e.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,f={};if(s.forEach(function(D){var Y=D.comboId;f[Y]||(f[Y]={x:0,y:0,count:0}),f[Y].x+=D.x,f[Y].y+=D.y,f[Y].count++}),Object.keys(f).forEach(function(D){f[D].x/=f[D].count,f[D].y/=f[D].count}),l!==1){var h=s.sort(function(D,Y){return D.x-Y.x}),c=h[0].x,v=h[l-1].x,m=(v-c)/(l-1),T=s.sort(function(D,Y){var W=D[t]||"undefined",H=Y[t]||"undefined";return W<H?-1:W>H?1:0});T.forEach(function(D,Y){D.x=c+Y*m})}})},r}(ba),sN=oN;function Su(i,r,t){var e;return i?e=i:(0,u.isNumber)(r)?e=function(){return r}:e=function(){return t},e}function lN(i){const r=+this._x.call(null,i),t=+this._y.call(null,i);return Vx(this.cover(r,t),r,t,i)}function Vx(i,r,t,e){if(isNaN(r)||isNaN(t))return i;var n,a=i._root,o={data:e},s=i._x0,l=i._y0,f=i._x1,h=i._y1,c,v,m,T,D,Y,W,H;if(!a)return i._root=o,i;for(;a.length;)if((D=r>=(c=(s+f)/2))?s=c:f=c,(Y=t>=(v=(l+h)/2))?l=v:h=v,n=a,!(a=a[W=Y<<1|D]))return n[W]=o,i;if(m=+i._x.call(null,a.data),T=+i._y.call(null,a.data),r===m&&t===T)return o.next=a,n?n[W]=o:i._root=o,i;do n=n?n[W]=new Array(4):i._root=new Array(4),(D=r>=(c=(s+f)/2))?s=c:f=c,(Y=t>=(v=(l+h)/2))?l=v:h=v;while((W=Y<<1|D)==(H=(T>=v)<<1|m>=c));return n[H]=a,n[W]=o,i}function uN(i){var r,t,e=i.length,n,a,o=new Array(e),s=new Array(e),l=Infinity,f=Infinity,h=-Infinity,c=-Infinity;for(t=0;t<e;++t)isNaN(n=+this._x.call(null,r=i[t]))||isNaN(a=+this._y.call(null,r))||(o[t]=n,s[t]=a,n<l&&(l=n),n>h&&(h=n),a<f&&(f=a),a>c&&(c=a));if(l>h||f>c)return this;for(this.cover(l,f).cover(h,c),t=0;t<e;++t)Vx(this,o[t],s[t],i[t]);return this}function fN(i,r){if(isNaN(i=+i)||isNaN(r=+r))return this;var t=this._x0,e=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(e=Math.floor(r))+1;else{for(var o=n-t||1,s=this._root,l,f;t>i||i>=n||e>r||r>=a;)switch(f=(r<e)<<1|i<t,l=new Array(4),l[f]=s,s=l,o*=2,f){case 0:n=t+o,a=e+o;break;case 1:t=n-o,a=e+o;break;case 2:n=t+o,e=a-o;break;case 3:t=n-o,e=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=e,this._x1=n,this._y1=a,this}function hN(){var i=[];return this.visit(function(r){if(!r.length)do i.push(r.data);while(r=r.next)}),i}function cN(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ea(i,r,t,e,n){this.node=i,this.x0=r,this.y0=t,this.x1=e,this.y1=n}function vN(i,r,t){var e,n=this._x0,a=this._y0,o,s,l,f,h=this._x1,c=this._y1,v=[],m=this._root,T,D;for(m&&v.push(new ea(m,n,a,h,c)),t==null?t=Infinity:(n=i-t,a=r-t,h=i+t,c=r+t,t*=t);T=v.pop();)if(!(!(m=T.node)||(o=T.x0)>h||(s=T.y0)>c||(l=T.x1)<n||(f=T.y1)<a))if(m.length){var Y=(o+l)/2,W=(s+f)/2;v.push(new ea(m[3],Y,W,l,f),new ea(m[2],o,W,Y,f),new ea(m[1],Y,s,l,W),new ea(m[0],o,s,Y,W)),(D=(r>=W)<<1|i>=Y)&&(T=v[v.length-1],v[v.length-1]=v[v.length-1-D],v[v.length-1-D]=T)}else{var H=i-+this._x.call(null,m.data),st=r-+this._y.call(null,m.data),lt=H*H+st*st;if(lt<t){var Mt=Math.sqrt(t=lt);n=i-Mt,a=r-Mt,h=i+Mt,c=r+Mt,e=m.data}}return e}function dN(i){if(isNaN(h=+this._x.call(null,i))||isNaN(c=+this._y.call(null,i)))return this;var r,t=this._root,e,n,a,o=this._x0,s=this._y0,l=this._x1,f=this._y1,h,c,v,m,T,D,Y,W;if(!t)return this;if(t.length)for(;;){if((T=h>=(v=(o+l)/2))?o=v:l=v,(D=c>=(m=(s+f)/2))?s=m:f=m,r=t,!(t=t[Y=D<<1|T]))return this;if(!t.length)break;(r[Y+1&3]||r[Y+2&3]||r[Y+3&3])&&(e=r,W=Y)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):r?(a?r[Y]=a:delete r[Y],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(e?e[W]=t:this._root=t),this):(this._root=a,this)}function pN(i){for(var r=0,t=i.length;r<t;++r)this.remove(i[r]);return this}function gN(){return this._root}function yN(){var i=0;return this.visit(function(r){if(!r.length)do++i;while(r=r.next)}),i}function mN(i){var r=[],t,e=this._root,n,a,o,s,l;for(e&&r.push(new ea(e,this._x0,this._y0,this._x1,this._y1));t=r.pop();)if(!i(e=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&e.length){var f=(a+s)/2,h=(o+l)/2;(n=e[3])&&r.push(new ea(n,f,h,s,l)),(n=e[2])&&r.push(new ea(n,a,h,f,l)),(n=e[1])&&r.push(new ea(n,f,o,s,h)),(n=e[0])&&r.push(new ea(n,a,o,f,h))}return this}function xN(i){var r=[],t=[],e;for(this._root&&r.push(new ea(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var n=e.node;if(n.length){var a,o=e.x0,s=e.y0,l=e.x1,f=e.y1,h=(o+l)/2,c=(s+f)/2;(a=n[0])&&r.push(new ea(a,o,s,h,c)),(a=n[1])&&r.push(new ea(a,h,s,l,c)),(a=n[2])&&r.push(new ea(a,o,c,h,f)),(a=n[3])&&r.push(new ea(a,h,c,l,f))}t.push(e)}for(;e=t.pop();)i(e.node,e.x0,e.y0,e.x1,e.y1);return this}function bN(i){return i[0]}function wN(i){return arguments.length?(this._x=i,this):this._x}function SN(i){return i[1]}function MN(i){return arguments.length?(this._y=i,this):this._y}function sc(i,r,t){var e=new lc(r==null?bN:r,t==null?SN:t,NaN,NaN,NaN,NaN);return i==null?e:e.addAll(i)}function lc(i,r,t,e,n,a){this._x=i,this._y=r,this._x0=t,this._y0=e,this._x1=n,this._y1=a,this._root=void 0}function Hx(i){for(var r={data:i.data},t=r;i=i.next;)t=t.next={data:i.data};return r}var ra=sc.prototype=lc.prototype;ra.copy=function(){var i=new lc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,t,e;if(!r)return i;if(!r.length)return i._root=Hx(r),i;for(t=[{source:r,target:i._root=new Array(4)}];r=t.pop();)for(var n=0;n<4;++n)(e=r.source[n])&&(e.length?t.push({source:e,target:r.target[n]=new Array(4)}):r.target[n]=Hx(e));return i},ra.add=lN,ra.addAll=uN,ra.cover=fN,ra.data=hN,ra.extent=cN,ra.find=vN,ra.remove=dN,ra.removeAll=pN,ra.root=gN,ra.size=yN,ra.visit=mN,ra.visitAfter=xN,ra.x=wN,ra.y=MN;function na(i){return function(){return i}}function wo(i){return(i()-.5)*1e-6}var CN={value:function(){}};function Wx(){for(var i=0,r=arguments.length,t={},e;i<r;++i){if(!(e=arguments[i]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new Mu(t)}function Mu(i){this._=i}function EN(i,r){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}Mu.prototype=Wx.prototype={constructor:Mu,on:function(r,t){var e=this._,n=EN(r+"",e),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(r=n[o]).type)&&(a=AN(e[a],r.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(r=n[o]).type)e[a]=jx(e[a],r.name,t);else if(t==null)for(a in e)e[a]=jx(e[a],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new Mu(r)},call:function(r,t){if((a=arguments.length-2)>0)for(var e=new Array(a),n=0,a,o;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,a=o.length;n<a;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],a=0,o=n.length;a<o;++a)n[a].value.apply(t,e)}};function AN(i,r){for(var t=0,e=i.length,n;t<e;++t)if((n=i[t]).name===r)return n.value}function jx(i,r,t){for(var e=0,n=i.length;e<n;++e)if(i[e].name===r){i[e]=CN,i=i.slice(0,e).concat(i.slice(e+1));break}return t!=null&&i.push({name:r,value:t}),i}var TN=Wx,ss=0,Vs=0,Hs=0,Ux=1e3,Cu,Ws,Eu=0,Yo=0,Au=0,js=typeof performance=="object"&&performance.now?performance:Date,Zx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function Kx(){return Yo||(Zx(PN),Yo=js.now()+Au)}function PN(){Yo=0}function uc(){this._call=this._time=this._next=null}uc.prototype=$x.prototype={constructor:uc,restart:function(i,r,t){if(typeof i!="function")throw new TypeError("callback is not a function");t=(t==null?Kx():+t)+(r==null?0:+r),!this._next&&Ws!==this&&(Ws?Ws._next=this:Cu=this,Ws=this),this._call=i,this._time=t,fc()},stop:function(){this._call&&(this._call=null,this._time=Infinity,fc())}};function $x(i,r,t){var e=new uc;return e.restart(i,r,t),e}function _N(){Kx(),++ss;for(var i=Cu,r;i;)(r=Yo-i._time)>=0&&i._call.call(null,r),i=i._next;--ss}function Qx(){Yo=(Eu=js.now())+Au,ss=Vs=0;try{_N()}finally{ss=0,LN(),Yo=0}}function ON(){var i=js.now(),r=i-Eu;r>Ux&&(Au-=r,Eu=i)}function LN(){for(var i,r=Cu,t,e=Infinity;r;)r._call?(e>r._time&&(e=r._time),i=r,r=r._next):(t=r._next,r._next=null,r=i?i._next=t:Cu=t);Ws=i,fc(e)}function fc(i){if(!ss){Vs&&(Vs=clearTimeout(Vs));var r=i-Yo;r>24?(i<Infinity&&(Vs=setTimeout(Qx,i-js.now()-Au)),Hs&&(Hs=clearInterval(Hs))):(Hs||(Eu=js.now(),Hs=setInterval(ON,Ux)),ss=1,Zx(Qx))}}var IN=1664525,kN=1013904223,Jx=4294967296;function BN(){var i=1;return function(){return(i=(IN*i+kN)%Jx)/Jx}}function DN(i){return i.x}function FN(i){return i.y}var RN=10,NN=Math.PI*(3-Math.sqrt(5));function qx(i){var r,t=1,e=.001,n=1-Math.pow(e,1/300),a=0,o=.6,s=new Map,l=$x(c),f=TN("tick","end"),h=BN();i==null&&(i=[]);function c(){v(),f.call("tick",r),t<e&&(l.stop(),f.call("end",r))}function v(D){var Y,W=i.length,H;D===void 0&&(D=1);for(var st=0;st<D;++st)for(t+=(a-t)*n,s.forEach(function(lt){lt(t)}),Y=0;Y<W;++Y)H=i[Y],H.fx==null?H.x+=H.vx*=o:(H.x=H.fx,H.vx=0),H.fy==null?H.y+=H.vy*=o:(H.y=H.fy,H.vy=0);return r}function m(){for(var D=0,Y=i.length,W;D<Y;++D){if(W=i[D],W.index=D,W.fx!=null&&(W.x=W.fx),W.fy!=null&&(W.y=W.fy),isNaN(W.x)||isNaN(W.y)){var H=RN*Math.sqrt(.5+D),st=D*NN;W.x=H*Math.cos(st),W.y=H*Math.sin(st)}(isNaN(W.vx)||isNaN(W.vy))&&(W.vx=W.vy=0)}}function T(D){return D.initialize&&D.initialize(i,h),D}return m(),r={tick:v,restart:function(){return l.restart(c),r},stop:function(){return l.stop(),r},nodes:function(Y){return arguments.length?(i=Y,m(),s.forEach(T),r):i},alpha:function(Y){return arguments.length?(t=+Y,r):t},alphaMin:function(Y){return arguments.length?(e=+Y,r):e},alphaDecay:function(Y){return arguments.length?(n=+Y,r):+n},alphaTarget:function(Y){return arguments.length?(a=+Y,r):a},velocityDecay:function(Y){return arguments.length?(o=1-Y,r):1-o},randomSource:function(Y){return arguments.length?(h=Y,s.forEach(T),r):h},force:function(Y,W){return arguments.length>1?(W==null?s.delete(Y):s.set(Y,T(W)),r):s.get(Y)},find:function(Y,W,H){var st=0,lt=i.length,Mt,Ft,zt,Zt,Yt;for(H==null?H=Infinity:H*=H,st=0;st<lt;++st)Zt=i[st],Mt=Y-Zt.x,Ft=W-Zt.y,zt=Mt*Mt+Ft*Ft,zt<H&&(Yt=Zt,H=zt);return Yt},on:function(Y,W){return arguments.length>1?(f.on(Y,W),r):f.on(Y)}}}function t1(){var i,r,t,e,n=na(-30),a,o=1,s=Infinity,l=.81;function f(m){var T,D=i.length,Y=sc(i,DN,FN).visitAfter(c);for(e=m,T=0;T<D;++T)r=i[T],Y.visit(v)}function h(){if(!!i){var m,T=i.length,D;for(a=new Array(T),m=0;m<T;++m)D=i[m],a[D.index]=+n(D,m,i)}}function c(m){var T=0,D,Y,W=0,H,st,lt;if(m.length){for(H=st=lt=0;lt<4;++lt)(D=m[lt])&&(Y=Math.abs(D.value))&&(T+=D.value,W+=Y,H+=Y*D.x,st+=Y*D.y);m.x=H/W,m.y=st/W}else{D=m,D.x=D.data.x,D.y=D.data.y;do T+=a[D.data.index];while(D=D.next)}m.value=T}function v(m,T,D,Y){if(!m.value)return!0;var W=m.x-r.x,H=m.y-r.y,st=Y-T,lt=W*W+H*H;if(st*st/l<lt)return lt<s&&(W===0&&(W=wo(t),lt+=W*W),H===0&&(H=wo(t),lt+=H*H),lt<o&&(lt=Math.sqrt(o*lt)),r.vx+=W*m.value*e/lt,r.vy+=H*m.value*e/lt),!0;if(m.length||lt>=s)return;(m.data!==r||m.next)&&(W===0&&(W=wo(t),lt+=W*W),H===0&&(H=wo(t),lt+=H*H),lt<o&&(lt=Math.sqrt(o*lt)));do m.data!==r&&(st=a[m.data.index]*e/lt,r.vx+=W*st,r.vy+=H*st);while(m=m.next)}return f.initialize=function(m,T){i=m,t=T,h()},f.strength=function(m){return arguments.length?(n=typeof m=="function"?m:na(+m),h(),f):n},f.distanceMin=function(m){return arguments.length?(o=m*m,f):Math.sqrt(o)},f.distanceMax=function(m){return arguments.length?(s=m*m,f):Math.sqrt(s)},f.theta=function(m){return arguments.length?(l=m*m,f):Math.sqrt(l)},f}function YN(i,r){var t,e=1;i==null&&(i=0),r==null&&(r=0);function n(){var a,o=t.length,s,l=0,f=0;for(a=0;a<o;++a)s=t[a],l+=s.x,f+=s.y;for(l=(l/o-i)*e,f=(f/o-r)*e,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=f}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(r=+a,n):r},n.strength=function(a){return arguments.length?(e=+a,n):e},n}function GN(i){return i.index}function e1(i,r){var t=i.get(r);if(!t)throw new Error("node not found: "+r);return t}function r1(i){var r=GN,t=c,e,n=na(30),a,o,s,l,f,h=1;i==null&&(i=[]);function c(Y){return 1/Math.min(s[Y.source.index],s[Y.target.index])}function v(Y){for(var W=0,H=i.length;W<h;++W)for(var st=0,lt,Mt,Ft,zt,Zt,Yt,re;st<H;++st)lt=i[st],Mt=lt.source,Ft=lt.target,zt=Ft.x+Ft.vx-Mt.x-Mt.vx||wo(f),Zt=Ft.y+Ft.vy-Mt.y-Mt.vy||wo(f),Yt=Math.sqrt(zt*zt+Zt*Zt),Yt=(Yt-a[st])/Yt*Y*e[st],zt*=Yt,Zt*=Yt,Ft.vx-=zt*(re=l[st]),Ft.vy-=Zt*re,Mt.vx+=zt*(re=1-re),Mt.vy+=Zt*re}function m(){if(!!o){var Y,W=o.length,H=i.length,st=new Map(o.map(function(Mt,Ft){return[r(Mt,Ft,o),Mt]})),lt;for(Y=0,s=new Array(W);Y<H;++Y)lt=i[Y],lt.index=Y,typeof lt.source!="object"&&(lt.source=e1(st,lt.source)),typeof lt.target!="object"&&(lt.target=e1(st,lt.target)),s[lt.source.index]=(s[lt.source.index]||0)+1,s[lt.target.index]=(s[lt.target.index]||0)+1;for(Y=0,l=new Array(H);Y<H;++Y)lt=i[Y],l[Y]=s[lt.source.index]/(s[lt.source.index]+s[lt.target.index]);e=new Array(H),T(),a=new Array(H),D()}}function T(){if(!!o)for(var Y=0,W=i.length;Y<W;++Y)e[Y]=+t(i[Y],Y,i)}function D(){if(!!o)for(var Y=0,W=i.length;Y<W;++Y)a[Y]=+n(i[Y],Y,i)}return v.initialize=function(Y,W){o=Y,f=W,m()},v.links=function(Y){return arguments.length?(i=Y,m(),v):i},v.id=function(Y){return arguments.length?(r=Y,v):r},v.iterations=function(Y){return arguments.length?(h=+Y,v):h},v.strength=function(Y){return arguments.length?(t=typeof Y=="function"?Y:na(+Y),T(),v):t},v.distance=function(Y){return arguments.length?(n=typeof Y=="function"?Y:na(+Y),D(),v):n},v}function zN(i){return i.x+i.vx}function XN(i){return i.y+i.vy}function n1(i){var r,t,e,n=1,a=1;typeof i!="function"&&(i=na(i==null?1:+i));function o(){for(var f,h=r.length,c,v,m,T,D,Y,W=0;W<a;++W)for(c=sc(r,zN,XN).visitAfter(s),f=0;f<h;++f)v=r[f],D=t[v.index],Y=D*D,m=v.x+v.vx,T=v.y+v.vy,c.visit(H);function H(st,lt,Mt,Ft,zt){var Zt=st.data,Yt=st.r,re=D+Yt;if(Zt){if(Zt.index>v.index){var he=m-Zt.x-Zt.vx,le=T-Zt.y-Zt.vy,Ae=he*he+le*le;Ae<re*re&&(he===0&&(he=wo(e),Ae+=he*he),le===0&&(le=wo(e),Ae+=le*le),Ae=(re-(Ae=Math.sqrt(Ae)))/Ae*n,v.vx+=(he*=Ae)*(re=(Yt*=Yt)/(Y+Yt)),v.vy+=(le*=Ae)*re,Zt.vx-=he*(re=1-re),Zt.vy-=le*re)}return}return lt>m+re||Ft<m-re||Mt>T+re||zt<T-re}}function s(f){if(f.data)return f.r=t[f.data.index];for(var h=f.r=0;h<4;++h)f[h]&&f[h].r>f.r&&(f.r=f[h].r)}function l(){if(!!r){var f,h=r.length,c;for(t=new Array(h),f=0;f<h;++f)c=r[f],t[c.index]=+i(c,f,r)}}return o.initialize=function(f,h){r=f,e=h,l()},o.iterations=function(f){return arguments.length?(a=+f,o):a},o.strength=function(f){return arguments.length?(n=+f,o):n},o.radius=function(f){return arguments.length?(i=typeof f=="function"?f:na(+f),l(),o):i},o}function VN(i){var r=na(.1),t,e,n;typeof i!="function"&&(i=na(i==null?0:+i));function a(s){for(var l=0,f=t.length,h;l<f;++l)h=t[l],h.vx+=(n[l]-h.x)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:na(+s),o(),a):r},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:na(+s),o(),a):i},a}function HN(i){var r=na(.1),t,e,n;typeof i!="function"&&(i=na(i==null?0:+i));function a(s){for(var l=0,f=t.length,h;l<f;++l)h=t[l],h.vy+=(n[l]-h.y)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:na(+s),o(),a):r},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:na(+s),o(),a):i},a}function WN(){function i(qe){return function(){return qe}}var r=function(br){return br.cluster},t=i(1),e=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},f=[],h=100,c=100,v={none:{x:0,y:0}},m=[],T,D="force",Y=!0,W=.1;function H(qe){if(!Y)return H;T.tick(),Zt();for(var br=0,Dr=s.length,Sr=void 0,wr=qe*W;br<Dr;++br)Sr=s[br],Sr.vx+=(v[r(Sr)].x-Sr.x)*wr,Sr.vy+=(v[r(Sr)].y-Sr.y)*wr}function st(){!s||lt()}function lt(){if(!(!s||!s.length)){if(r(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var qe=Mt();T=qx(qe.nodes).force("x",VN(h).strength(.1)).force("y",HN(c).strength(.1)).force("collide",n1(function(br){return br.r}).iterations(4)).force("charge",t1().strength(e)).force("links",r1(qe.nodes.length?qe.links:[]).distance(n).strength(a)),m=T.nodes(),Zt()}}function Mt(){var qe=[],br=[],Dr={},Sr=[],wr={},Nr=[];return wr=Ft(s),Nr=zt(f),Sr=Object.keys(wr),Sr.forEach(function(en,Pr){var De=wr[en];qe.push({id:en,size:De.count,r:Math.sqrt(De.sumforceNodeSize/Math.PI)}),Dr[en]=Pr}),Nr.forEach(function(en){var Pr=Dr[en.source],De=Dr[en.target];Pr!==void 0&&De!==void 0&&br.push({source:Pr,target:De,count:en.count})}),{nodes:qe,links:br}}function Ft(qe){var br={};return qe.forEach(function(Dr){var Sr=r(Dr);br[Sr]||(br[Sr]={count:0,sumforceNodeSize:0})}),qe.forEach(function(Dr){var Sr=r(Dr),wr=t(Dr),Nr=br[Sr];Nr.count=Nr.count+1,Nr.sumforceNodeSize=Nr.sumforceNodeSize+Math.PI*(wr*wr)*1.3,br[Sr]=Nr}),br}function zt(qe){var br={},Dr=[];qe.forEach(function(wr){var Nr=Yt(wr),en=0;br[Nr]!==void 0&&(en=br[Nr]),en+=1,br[Nr]=en});var Sr=Object.entries(br);return Sr.forEach(function(wr){var Nr=wr[0],en=wr[1],Pr=Nr.split("~")[0],De=Nr.split("~")[1];Pr!==void 0&&De!==void 0&&Dr.push({source:Pr,target:De,count:en})}),Dr}function Zt(){return v={none:{x:0,y:0}},m.forEach(function(qe){v[qe.id]={x:qe.x-o[0],y:qe.y-o[1]}}),v}function Yt(qe){var br=r(l[qe.source]),Dr=r(l[qe.target]);return br<=Dr?br+"~"+Dr:Dr+"~"+br}function re(qe){l={},qe.forEach(function(br){l[br.id]=br})}function he(qe){return arguments.length?(D=qe,st(),H):D}function le(qe){return arguments.length?typeof qe=="string"?(r=function(Dr){return Dr[qe]},H):(r=qe,H):r}function Ae(qe){return arguments.length?(Y=qe,H):Y}function Ie(qe){return arguments.length?(W=qe,H):W}function Le(qe){return arguments.length?(h=qe,H):h}function je(qe){return arguments.length?(c=qe,H):c}function Ke(qe){return arguments.length?(re(qe||[]),s=qe||[],H):s}function Qe(qe){return arguments.length?(f=qe||[],st(),H):f}function He(qe){return arguments.length?(typeof qe=="function"?t=qe:t=i(+qe),st(),H):t}function We(qe){return arguments.length?(typeof qe=="function"?e=qe:e=i(+qe),st(),H):e}function yr(qe){return arguments.length?(typeof qe=="function"?n=qe:n=i(+qe),st(),H):n}function gr(qe){return arguments.length?(typeof qe=="function"?a=qe:a=i(+qe),st(),H):a}function Mr(qe){return arguments.length?(o=qe,H):o}return H.initialize=function(qe){s=qe,st()},H.template=he,H.groupBy=le,H.enableGrouping=Ae,H.strength=Ie,H.centerX=Le,H.centerY=je,H.nodes=Ke,H.links=Qe,H.forceNodeSize=He,H.nodeSize=H.forceNodeSize,H.forceCharge=We,H.forceLinkDistance=yr,H.forceLinkStrength=gr,H.offset=Mr,H.getFocis=Zt,H}var so={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},jN=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},r.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),e.ticking=!1},r.prototype.execute=function(t){var e=this,n=e.nodes,a=e.edges;if(!e.ticking){var o=e.forceSimulation,s=e.alphaMin,l=e.alphaDecay,f=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(a)),o.nodes(n),e.edgeForce.links(a)),e.preventOverlap&&e.overlapProcess(o),o.alpha(f).restart(),this.ticking=!0;else try{var h=t1();if(e.nodeStrength&&h.strength(e.nodeStrength),o=qx().nodes(n),e.clustering){var c=WN();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",YN(e.center[0],e.center[1])).force("charge",h).alpha(f).alphaDecay(l).alphaMin(s),e.preventOverlap&&e.overlapProcess(o),a){var v=r1().id(function(D){return D.id}).links(a);e.edgeStrength&&v.strength(e.edgeStrength),e.linkDistance&&v.distance(e.linkDistance),e.edgeForce=v,o.force("link",v)}if(e.workerEnabled&&!KN()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)o.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{o.stop();for(var m=ZN(o),T=1;T<=m;T++)o.tick(),postMessage({type:so.TICK,currentTick:T,totalTicks:m,nodes:n},void 0);e.ticking=!1}e.forceSimulation=o,e.ticking=!0}catch(D){e.ticking=!1,console.warn(D)}}},r.prototype.overlapProcess=function(t){var e=this,n=e.nodeSize,a=e.nodeSpacing,o,s,l=e.collideStrength;if((0,Ta.default)(a)?s=function(){return a}:(0,sl.default)(a)?s=a:s=function(){return 0},!n)o=function(m){if(m.size){if((0,Di.default)(m.size)){var T=m.size[0]>m.size[1]?m.size[0]:m.size[1];return T/2+s(m)}return m.size/2+s(m)}return 10+s(m)};else if((0,sl.default)(n))o=function(m){var T=n(m);return T+s(m)};else if((0,Di.default)(n)){var f=n[0]>n[1]?n[0]:n[1],h=f/2;o=function(m){return h+s(m)}}else if((0,Ta.default)(n)){var c=n/2;o=function(m){return c+s(m)}}else o=function(){return 10};t.force("collisionForce",n1(o).strength(l))},r.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,Xs.default)(e,t)},r.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},r}(ba),UN=jN;function ZN(i){var r=i.alphaMin(),t=i.alphaTarget(),e=i.alpha(),n=Math.log((r-t)/(e-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function KN(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var $N=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}var a={},o={};e.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,f;t.initVals(),l&&(f=t.getClusterMap());for(var h=function(Y){var W=[];e.forEach(function(H,st){W[st]={x:0,y:0}}),t.applyCalculate(e,n,W),l&&t.applyClusterForce(f,W),e.forEach(function(H,st){!(0,u.isNumber)(H.x)||!(0,u.isNumber)(H.y)||(H.x+=W[st].x*s,H.y+=W[st].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,v=0;v<a;v++)h(v);var m=[0,0];e.forEach(function(D){!(0,u.isNumber)(D.x)||!(0,u.isNumber)(D.y)||(m[0]+=D.x,m[1]+=D.y)}),m[0]/=e.length,m[1]/=e.length;var T=[o[0]-m[0],o[1]-m[1]];e.forEach(function(D,Y){!(0,u.isNumber)(D.x)||!(0,u.isNumber)(D.y)||(D.x+=T[0],D.y+=T[1])})},r.prototype.initVals=function(){for(var t=this,e=t.edges,n={},a=0;a<e.length;++a)n[e[a].source]?n[e[a].source]++:n[e[a].source]=1,n[e[a].target]?n[e[a].target]++:n[e[a].target]=1;for(var o=[],a=0;a<e.length;++a)o[a]=n[e[a].source]/(n[e[a].source]+n[e[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,f,h;if((0,u.isNumber)(l)?h=function(){return l}:(0,u.isFunction)(l)?h=l:h=function(){return 0},!s)f=function(Mt){if(Mt.size){if((0,u.isArray)(Mt.size)){var Ft=Mt.size[0]>Mt.size[1]?Mt.size[0]:Mt.size[1];return Ft/2+h(Mt)}return Mt.size/2+h(Mt)}return 10+h(Mt)};else if((0,u.isFunction)(s))f=function(Mt){var Ft=s(Mt);return Ft+h(Mt)};else if((0,u.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],v=c/2;f=function(Mt){return v+h(Mt)}}else if((0,u.isNumber)(s)){var m=s/2;f=function(Mt){return m+h(Mt)}}else f=function(){return 10};this.nodeSize=f;var T=this.linkDistance,D;T||(T=50),(0,u.isNumber)(T)&&(D=function(Mt){return T}),this.linkDistance=D;var Y=this.linkStrength,W;Y||(Y=1),(0,u.isNumber)(Y)&&(W=function(Mt){return Y}),this.linkStrength=W;var H=this.nodeStrength,st;H||(H=30),(0,u.isNumber)(H)&&(st=function(Mt){return H}),this.nodeStrength=st},r.prototype.getClusterMap=function(){var t=this,e=t.nodes,n={};e.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,u.isNumber)(o.x)&&(l.cx+=o.x),(0,u.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},r.prototype.applyClusterForce=function(t,e){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,u.isNumber)(h.x)||!(0,u.isNumber)(h.y))){var v=t[h.cluster],m=h.x-v.cx,T=h.y-v.cy,D=Math.sqrt(m*m+T*T);e[c].x-=m*s*l/D,e[c].y-=T*s*l/D}});for(var f in t)t[f].cx=0,t[f].cy=0,t[f].count=0;o.forEach(function(h){var c=t[h.cluster];(0,u.isNumber)(h.x)&&(c.cx+=h.x),(0,u.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var f in t)t[f].cx/=t[f].count,t[f].cy/=t[f].count},r.prototype.applyCalculate=function(t,e,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(f,h){if(!(l<h)){var c=s.x-f.x,v=s.y-f.y,m=c*c+v*v;m<1&&(m=Math.sqrt(m)),c===0&&(c=Math.random()*.01,m+=c*c),v===0&&(v=Math.random()*.01,m+=v*v);var T=Math.sqrt(m);o[s.id+"-"+f.id]={vx:c,vy:v,vl:m,sqrtVl:T},o[f.id+"-"+s.id]={vx:-c,vy:-v,vl:m,sqrtVl:T}}})}),a.calRepulsive(t,n,o),a.calAttractive(e,n,o)},r.prototype.calRepulsive=function(t,e,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,f=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,v){t.forEach(function(m,T){if(v!==T&&!(!(0,u.isNumber)(c.x)||!(0,u.isNumber)(m.x)||!(0,u.isNumber)(c.y)||!(0,u.isNumber)(m.y))){var D=n[c.id+"-"+m.id],Y=D.vl,W=D.vx,H=D.vy;if(!(Y>a)&&(e[v].x+=W*o(m)*s/Y,e[v].y+=H*o(m)*s/Y,f&&v<T)){var st=h(c),lt=h(m),Mt=st+lt;if(Y<Mt*Mt){var Ft=n[c.id+"-"+m.id].sqrtVl,zt=(Mt-Ft)/Ft*l,Zt=lt*lt/(st*st+lt*lt),Yt=W*zt,re=H*zt;e[v].x+=Yt*Zt,e[v].y+=re*Zt,Zt=1-Zt,e[T].x-=Yt*Zt,e[T].y-=re*Zt}}}})})},r.prototype.calAttractive=function(t,e,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,f=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var v=a.nodeIdxMap[h.source],m=a.nodeIdxMap[h.target];if(v!==m){var T=a.nodeMap[h.source],D=a.nodeMap[h.target];if(!(!(0,u.isNumber)(D.x)||!(0,u.isNumber)(T.x)||!(0,u.isNumber)(D.y)||!(0,u.isNumber)(T.y))){var Y=n[h.target+"-"+h.source],W=Y.vl,H=Y.sqrtVl,st=Y.vx,lt=Y.vy,Mt=(H-o(h))/H*s*l(h),Ft=st*Mt,zt=lt*Mt,Zt=f[c];e[m].x-=Ft*Zt,e[m].y-=zt*Zt,e[v].x+=Ft*(1-Zt),e[v].y+=zt*(1-Zt)}}}})},r}(ba),QN=$N,JN=800,qN=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},r.prototype.execute=function(){var t=this,e=this,n=e.nodes,a=e.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,f){(0,u.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,u.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=f}),e.nodeMap=o,e.nodeIdxMap=s,e.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(e.length+1)),f=t.gravity,h=t.speed,c=t.clustering,v={};if(c){e.forEach(function(Y){if(v[Y.cluster]===void 0){var W={name:Y.cluster,cx:0,cy:0,count:0};v[Y.cluster]=W}var H=v[Y.cluster];(0,u.isNumber)(Y.x)&&(H.cx+=Y.x),(0,u.isNumber)(Y.y)&&(H.cy+=Y.y),H.count++});for(var m in v)v[m].cx/=v[m].count,v[m].cy/=v[m].count}for(var T=function(W){var H=[];if(e.forEach(function(Mt,Ft){H[Ft]={x:0,y:0}}),t.applyCalculate(e,n,H,l),c){var st=t.clusterGravity||f;e.forEach(function(Mt,Ft){if(!(!(0,u.isNumber)(Mt.x)||!(0,u.isNumber)(Mt.y))){var zt=v[Mt.cluster],Zt=Math.sqrt((Mt.x-zt.cx)*(Mt.x-zt.cx)+(Mt.y-zt.cy)*(Mt.y-zt.cy)),Yt=l*st;H[Ft].x-=Yt*(Mt.x-zt.cx)/Zt,H[Ft].y-=Yt*(Mt.y-zt.cy)/Zt}});for(var lt in v)v[lt].cx=0,v[lt].cy=0,v[lt].count=0;e.forEach(function(Mt){var Ft=v[Mt.cluster];(0,u.isNumber)(Mt.x)&&(Ft.cx+=Mt.x),(0,u.isNumber)(Mt.y)&&(Ft.cy+=Mt.y),Ft.count++});for(var lt in v)v[lt].cx/=v[lt].count,v[lt].cy/=v[lt].count}e.forEach(function(Mt,Ft){if(!(!(0,u.isNumber)(Mt.x)||!(0,u.isNumber)(Mt.y))){var zt=.01*l*f;H[Ft].x-=zt*(Mt.x-o[0]),H[Ft].y-=zt*(Mt.y-o[1])}}),e.forEach(function(Mt,Ft){if(!(!(0,u.isNumber)(Mt.x)||!(0,u.isNumber)(Mt.y))){var zt=Math.sqrt(H[Ft].x*H[Ft].x+H[Ft].y*H[Ft].y);if(zt>0){var Zt=Math.min(s*(h/JN),zt);Mt.x+=H[Ft].x/zt*Zt,Mt.y+=H[Ft].y/zt*Zt}}})},D=0;D<a;D++)T(D)},r.prototype.applyCalculate=function(t,e,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(e,n,a)},r.prototype.calRepulsive=function(t,e,n){t.forEach(function(a,o){e[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,u.isNumber)(a.x)||!(0,u.isNumber)(s.x)||!(0,u.isNumber)(a.y)||!(0,u.isNumber)(s.y))){var f=a.x-s.x,h=a.y-s.y,c=f*f+h*h;if(c===0){c=1;var v=o>l?1:-1;f=.01*v,h=.01*v}var m=n*n/c;e[o].x+=f*m,e[o].y+=h*m}})})},r.prototype.calAttractive=function(t,e,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var f=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,u.isNumber)(h.x)||!(0,u.isNumber)(f.x)||!(0,u.isNumber)(h.y)||!(0,u.isNumber)(f.y))){var c=h.x-f.x,v=h.y-f.y,m=Math.sqrt(c*c+v*v),T=m*m/n;e[l].x-=c/m*T,e[l].y-=v/m*T,e[s].x+=c/m*T,e[s].y+=v/m*T}}}})},r}(ba),t4=qN,e4=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return r.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},r.prototype.execute=function(){var t=this,e=t.nodes,n=e.length,a=t.center;if(n!==0){if(n===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.edges,s=[];e.forEach(function(H){s.push(H)});var l={};if(s.forEach(function(H,st){l[H.id]=st}),(t.sortBy==="degree"||!(0,An.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",io(e[0].degree))){var f=uu(s.length,l,o);s.forEach(function(H,st){H.degree=f[st]})}s.sort(function(H,st){return st[t.sortBy]-H[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var v=t.small(),m=t.large();(v-1)*m>=t.cells?t.small(v-1):(m-1)*v>=t.cells&&t.large(m-1)}else for(;t.cols*t.rows<t.cells;){var v=t.small(),m=t.large();(m+1)*v>=t.cells?t.large(m+1):t.small(v+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(H){(!H.x||!H.y)&&(H.x=0,H.y=0);var st,lt;(0,u.isArray)(H.size)?(st=H.size[0],lt=H.size[1]):(0,u.isNumber)(H.size)&&(st=H.size,lt=H.size),(st===void 0||lt===void 0)&&((0,u.isArray)(t.nodeSize)?(st=t.nodeSize[0],lt=t.nodeSize[1]):(0,u.isNumber)(t.nodeSize)?(st=t.nodeSize,lt=t.nodeSize):(st=30,lt=30));var Mt=t.preventOverlapPadding,Ft=st+Mt,zt=lt+Mt;t.cellWidth=Math.max(t.cellWidth,Ft),t.cellHeight=Math.max(t.cellHeight,zt)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var T=0;T<s.length;T++){var D=s[T],Y=void 0;if(t.position&&(Y=t.position(D)),Y&&(Y.row!==void 0||Y.col!==void 0)){var W={row:Y.row,col:Y.col};if(W.col===void 0)for(W.col=0;t.used(W.row,W.col);)W.col++;else if(W.row===void 0)for(W.row=0;t.used(W.row,W.col);)W.row++;t.id2manPos[D.id]=W,t.use(W.row,W.col)}t.getPos(D)}}},r.prototype.small=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.large=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.used=function(t,e){var n=this;return n.cellUsed["c-"+t+"-"+e]||!1},r.prototype.use=function(t,e){var n=this;n.cellUsed["c-"+t+"-"+e]=!0},r.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},r.prototype.getPos=function(t){var e=this,n=e.begin,a=e.cellWidth,o=e.cellHeight,s,l,f=e.id2manPos[t.id];if(f)s=f.col*a+a/2+n[0],l=f.row*o+o/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();s=e.col*a+a/2+n[0],l=e.row*o+o/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=s,t.y=l},r}(ba),r4=e4,n4=d(79320),i1=d(81306),a1=d(59206),Tu=d(69610),Pu=d(54941);const i4=Object.prototype.toString;function ca(i){const r=i4.call(i);return r.endsWith("Array]")&&!r.includes("Big")}function a4(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ca(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]>o&&(o=i[s]);return o}function o4(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ca(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]<o&&(o=i[s]);return o}function o1(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ca(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!ca(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var e=o4(i),n=a4(i);if(e===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=a===void 0?r.autoMinMax?e:0:a,s=r.max,l=s===void 0?r.autoMinMax?n:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var f=(l-o)/(n-e),h=0;h<i.length;h++)t[h]=(i[h]-e)*f+o;return t}var _u=" ".repeat(2),s1=" ".repeat(4);function s4(){return l1(this)}function l1(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.maxRows,e=t===void 0?15:t,n=r.maxColumns,a=n===void 0?10:n,o=r.maxNumSize,s=o===void 0?8:o,l=r.padMinus,f=l===void 0?"auto":l;return"".concat(i.constructor.name,` {
`).concat(_u,`[
`).concat(s1).concat(l4(i,e,a,s,f),`
`).concat(_u,`]
`).concat(_u,"rows: ").concat(i.rows,`
`).concat(_u,"columns: ").concat(i.columns,`
}`)}function l4(i,r,t,e,n){var a=i.rows,o=i.columns,s=Math.min(a,r),l=Math.min(o,t),f=[];if(n==="auto"){n=!1;t:for(var h=0;h<s;h++)for(var c=0;c<l;c++)if(i.get(h,c)<0){n=!0;break t}}for(var v=0;v<s;v++){for(var m=[],T=0;T<l;T++)m.push(u4(i.get(v,T),e,n));f.push("".concat(m.join(" ")))}return l!==o&&(f[f.length-1]+=" ... ".concat(o-t," more columns")),s!==a&&f.push("... ".concat(a-r," more rows")),f.join(`
`.concat(s1))}function u4(i,r,t){return(i>=0&&t?" ".concat(u1(i,r-1)):u1(i,r)).padEnd(r)}function u1(i,r){var t=i.toString();if(t.length<=r)return t;var e=i.toFixed(r);if(e.length>r&&(e=i.toFixed(Math.max(0,r-(e.length-r)))),e.length<=r&&!e.startsWith("0.000")&&!e.startsWith("-0.000"))return e;var n=i.toExponential(r);return n.length>r&&(n=i.toExponential(Math.max(0,r-(n.length-r)))),n.slice(0)}function f4(i,r){i.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},i.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e);return this},i.prototype.addM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e.get(n,a));return this},i.add=function(e,n){var a=new r(e);return a.add(n)},i.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},i.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e);return this},i.prototype.subM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e.get(n,a));return this},i.sub=function(e,n){var a=new r(e);return a.sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},i.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e);return this},i.prototype.mulM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e.get(n,a));return this},i.mul=function(e,n){var a=new r(e);return a.mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},i.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e);return this},i.prototype.divM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e.get(n,a));return this},i.div=function(e,n){var a=new r(e);return a.div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},i.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e);return this},i.prototype.modM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e.get(n,a));return this},i.mod=function(e,n){var a=new r(e);return a.mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},i.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e);return this},i.prototype.andM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e.get(n,a));return this},i.and=function(e,n){var a=new r(e);return a.and(n)},i.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},i.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e);return this},i.prototype.orM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e.get(n,a));return this},i.or=function(e,n){var a=new r(e);return a.or(n)},i.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},i.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e);return this},i.prototype.xorM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e.get(n,a));return this},i.xor=function(e,n){var a=new r(e);return a.xor(n)},i.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},i.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e);return this},i.prototype.leftShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e.get(n,a));return this},i.leftShift=function(e,n){var a=new r(e);return a.leftShift(n)},i.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},i.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e);return this},i.prototype.signPropagatingRightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e.get(n,a));return this},i.signPropagatingRightShift=function(e,n){var a=new r(e);return a.signPropagatingRightShift(n)},i.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},i.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e);return this},i.prototype.rightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e.get(n,a));return this},i.rightShift=function(e,n){var a=new r(e);return a.rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},i.not=function(e){var n=new r(e);return n.not()},i.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},i.abs=function(e){var n=new r(e);return n.abs()},i.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},i.acos=function(e){var n=new r(e);return n.acos()},i.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},i.acosh=function(e){var n=new r(e);return n.acosh()},i.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},i.asin=function(e){var n=new r(e);return n.asin()},i.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},i.asinh=function(e){var n=new r(e);return n.asinh()},i.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},i.atan=function(e){var n=new r(e);return n.atan()},i.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},i.atanh=function(e){var n=new r(e);return n.atanh()},i.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},i.cbrt=function(e){var n=new r(e);return n.cbrt()},i.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},i.ceil=function(e){var n=new r(e);return n.ceil()},i.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},i.clz32=function(e){var n=new r(e);return n.clz32()},i.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},i.cos=function(e){var n=new r(e);return n.cos()},i.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},i.cosh=function(e){var n=new r(e);return n.cosh()},i.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},i.exp=function(e){var n=new r(e);return n.exp()},i.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},i.expm1=function(e){var n=new r(e);return n.expm1()},i.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},i.floor=function(e){var n=new r(e);return n.floor()},i.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},i.fround=function(e){var n=new r(e);return n.fround()},i.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},i.log=function(e){var n=new r(e);return n.log()},i.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},i.log1p=function(e){var n=new r(e);return n.log1p()},i.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},i.log10=function(e){var n=new r(e);return n.log10()},i.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},i.log2=function(e){var n=new r(e);return n.log2()},i.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},i.round=function(e){var n=new r(e);return n.round()},i.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},i.sign=function(e){var n=new r(e);return n.sign()},i.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},i.sin=function(e){var n=new r(e);return n.sin()},i.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},i.sinh=function(e){var n=new r(e);return n.sinh()},i.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},i.sqrt=function(e){var n=new r(e);return n.sqrt()},i.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},i.tan=function(e){var n=new r(e);return n.tan()},i.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},i.tanh=function(e){var n=new r(e);return n.tanh()},i.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},i.trunc=function(e){var n=new r(e);return n.trunc()},i.pow=function(e,n){var a=new r(e);return a.pow(n)},i.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},i.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e));return this},i.prototype.powM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e.get(n,a)));return this}}function _a(i,r,t){var e=t?i.rows:i.rows-1;if(r<0||r>e)throw new RangeError("Row index out of range")}function Oa(i,r,t){var e=t?i.columns:i.columns-1;if(r<0||r>e)throw new RangeError("Column index out of range")}function ls(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function us(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function h4(i,r){if(!ca(r))throw new TypeError("row indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.rows)throw new RangeError("row indices are out of range")}function c4(i,r){if(!ca(r))throw new TypeError("column indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.columns)throw new RangeError("column indices are out of range")}function f1(i,r,t,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Lu("startRow",r),Lu("endRow",t),Lu("startColumn",e),Lu("endColumn",n),r>t||e>n||r<0||r>=i.rows||t<0||t>=i.rows||e<0||e>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function Ou(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<i;e++)t.push(r);return t}function Lu(i,r){if(typeof r!="number")throw new TypeError("".concat(i," must be a number"))}function fs(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function v4(i){for(var r=Ou(i.rows),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]+=i.get(t,e);return r}function d4(i){for(var r=Ou(i.columns),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]+=i.get(t,e);return r}function p4(i){for(var r=0,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r+=i.get(t,e);return r}function g4(i){for(var r=Ou(i.rows,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]*=i.get(t,e);return r}function y4(i){for(var r=Ou(i.columns,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]*=i.get(t,e);return r}function m4(i){for(var r=1,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r*=i.get(t,e);return r}function x4(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<e;o++){for(var s=0,l=0,f=0,h=0;h<n;h++)f=i.get(o,h)-t[o],s+=f,l+=f*f;r?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function b4(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<n;o++){for(var s=0,l=0,f=0,h=0;h<e;h++)f=i.get(h,o)-t[o],s+=f,l+=f*f;r?a.push((l-s*s/e)/(e-1)):a.push((l-s*s/e)/e)}return a}function w4(i,r,t){for(var e=i.rows,n=i.columns,a=e*n,o=0,s=0,l=0,f=0;f<e;f++)for(var h=0;h<n;h++)l=i.get(f,h)-t,o+=l,s+=l*l;return r?(s-o*o/a)/(a-1):(s-o*o/a)/a}function S4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[t])}function M4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[e])}function C4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r)}function E4(i){for(var r=[],t=0;t<i.rows;t++){for(var e=0,n=0;n<i.columns;n++)e+=Math.pow(i.get(t,n),2)/(i.columns-1);r.push(Math.sqrt(e))}return r}function A4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[t])}function T4(i){for(var r=[],t=0;t<i.columns;t++){for(var e=0,n=0;n<i.rows;n++)e+=Math.pow(i.get(n,t),2)/(i.rows-1);r.push(Math.sqrt(e))}return r}function P4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[e])}function _4(i){for(var r=i.size-1,t=0,e=0;e<i.columns;e++)for(var n=0;n<i.rows;n++)t+=Math.pow(i.get(n,e),2)/r;return Math.sqrt(t)}function O4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r)}var Pi=function(){function i(){(0,Tu.Z)(this,i)}return(0,Pu.Z)(i,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);for(var s=e+1;s<this.rows;s++)this.get(t,s)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var a=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(a,n)&&(a=o);if(t.get(a,n)===0)n++;else{t.swapRows(e,a);for(var s=t.get(e,n),l=n;l<t.columns;l++)t.set(e,l,t.get(e,l)/s);for(var f=e+1;f<t.rows;f++){var h=t.get(f,n)/t.get(e,n);t.set(f,n,0);for(var c=n+1;c<t.columns;c++)t.set(f,c,t.get(f,c)-t.get(e,c)*h)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,a=n-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var o=0,s=!1;o<n&&s===!1;)t.get(a,o)===1?s=!0:o++;for(var l=0;l<a;l++)for(var f=t.get(l,o),h=o;h<e;h++){var c=t.get(l,h)-f*t.get(a,h);t.set(l,h,c)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,a=t.columns,o=a===void 0?1:a;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var s=new rn(this.rows*n,this.columns*o),l=0;l<n;l++)for(var f=0;f<o;f++)s.setSubMatrix(this,this.rows*l,this.columns*f);return s}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){_a(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return rn.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){_a(this,t),e=ls(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){_a(this,t),_a(this,e);for(var n=0;n<this.columns;n++){var a=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,a)}return this}},{key:"getColumn",value:function(t){Oa(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return rn.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){Oa(this,t),e=us(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){Oa(this,t),Oa(this,e);for(var n=0;n<this.rows;n++){var a=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,a)}return this}},{key:"addRowVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=us(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=us(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=us(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=us(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){_a(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){Oa(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)>o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var f=this.get(0,0),h=0;h<this.rows;h++)for(var c=0;c<this.columns;c++)this.get(h,c)>f&&(f=this.get(h,c));return f}default:throw new Error("invalid option: ".concat(t))}}},{key:"maxIndex",value:function(){fs(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"min",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.POSITIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.POSITIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)<o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var f=this.get(0,0),h=0;h<this.rows;h++)for(var c=0;c<this.columns;c++)this.get(h,c)<f&&(f=this.get(h,c));return f}default:throw new Error("invalid option: ".concat(t))}}},{key:"minIndex",value:function(){fs(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"maxRow",value:function(t){if(_a(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){_a(this,t),fs(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),n[1]=a);return n}},{key:"minRow",value:function(t){if(_a(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){_a(this,t),fs(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),n[1]=a);return n}},{key:"maxColumn",value:function(t){if(Oa(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){Oa(this,t),fs(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),n[0]=a);return n}},{key:"minColumn",value:function(t){if(Oa(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){Oa(this,t),fs(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),n[0]=a);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius";switch(t){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError("unknown norm type: ".concat(t))}}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){i.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}},{key:"mmul",value:function(t){t=rn.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.columns,o=new rn(e,a),s=new Float64Array(n),l=0;l<a;l++){for(var f=0;f<n;f++)s[f]=t.get(f,l);for(var h=0;h<e;h++){for(var c=0,v=0;v<n;v++)c+=this.get(h,v)*s[v];o.set(h,l,c)}}return o}},{key:"strassen2x2",value:function(t){t=rn.checkMatrix(t);var e=new rn(2,2),n=this.get(0,0),a=t.get(0,0),o=this.get(0,1),s=t.get(0,1),l=this.get(1,0),f=t.get(1,0),h=this.get(1,1),c=t.get(1,1),v=(n+h)*(a+c),m=(l+h)*a,T=n*(s-c),D=h*(f-a),Y=(n+o)*c,W=(l-n)*(a+s),H=(o-h)*(f+c),st=v+D-Y+H,lt=T+Y,Mt=m+D,Ft=v-m+T+W;return e.set(0,0,st),e.set(0,1,lt),e.set(1,0,Mt),e.set(1,1,Ft),e}},{key:"strassen3x3",value:function(t){t=rn.checkMatrix(t);var e=new rn(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),l=this.get(1,1),f=this.get(1,2),h=this.get(2,0),c=this.get(2,1),v=this.get(2,2),m=t.get(0,0),T=t.get(0,1),D=t.get(0,2),Y=t.get(1,0),W=t.get(1,1),H=t.get(1,2),st=t.get(2,0),lt=t.get(2,1),Mt=t.get(2,2),Ft=(n+a+o-s-l-c-v)*W,zt=(n-s)*(-T+W),Zt=l*(-m+T+Y-W-H-st+Mt),Yt=(-n+s+l)*(m-T+W),re=(s+l)*(-m+T),he=n*m,le=(-n+h+c)*(m-D+H),Ae=(-n+h)*(D-H),Ie=(h+c)*(-m+D),Le=(n+a+o-l-f-h-c)*H,je=c*(-m+D+Y-W-H-st+lt),Ke=(-o+c+v)*(W+st-lt),Qe=(o-v)*(W-lt),He=o*st,We=(c+v)*(-st+lt),yr=(-o+l+f)*(H+st-Mt),gr=(o-f)*(H-Mt),Mr=(l+f)*(-st+Mt),qe=a*Y,br=f*lt,Dr=s*D,Sr=h*T,wr=v*Mt,Nr=he+He+qe,en=Ft+Yt+re+he+Ke+He+We,Pr=he+le+Ie+Le+He+yr+Mr,De=zt+Zt+Yt+he+He+yr+gr,ir=zt+Yt+re+he+br,Yr=He+yr+gr+Mr+Dr,Ur=he+le+Ae+je+Ke+Qe+He,Lr=Ke+Qe+He+We+Sr,nn=he+le+Ae+Ie+wr;return e.set(0,0,Nr),e.set(0,1,en),e.set(0,2,Pr),e.set(1,0,De),e.set(1,1,ir),e.set(1,2,Yr),e.set(2,0,Ur),e.set(2,1,Lr),e.set(2,2,nn),e}},{key:"mmulStrassen",value:function(t){t=rn.checkMatrix(t);var e=this.clone(),n=e.rows,a=e.columns,o=t.rows,s=t.columns;a!==o&&console.warn("Multiplying ".concat(n," x ").concat(a," and ").concat(o," x ").concat(s," matrix: dimensions do not match."));function l(v,m,T){var D=v.rows,Y=v.columns;if(D===m&&Y===T)return v;var W=i.zeros(m,T);return W=W.setSubMatrix(v,0,0),W}var f=Math.max(n,o),h=Math.max(a,s);e=l(e,f,h),t=l(t,f,h);function c(v,m,T,D){if(T<=512||D<=512)return v.mmul(m);T%2==1&&D%2==1?(v=l(v,T+1,D+1),m=l(m,T+1,D+1)):T%2==1?(v=l(v,T+1,D),m=l(m,T+1,D)):D%2==1&&(v=l(v,T,D+1),m=l(m,T,D+1));var Y=parseInt(v.rows/2,10),W=parseInt(v.columns/2,10),H=v.subMatrix(0,Y-1,0,W-1),st=m.subMatrix(0,Y-1,0,W-1),lt=v.subMatrix(0,Y-1,W,v.columns-1),Mt=m.subMatrix(0,Y-1,W,m.columns-1),Ft=v.subMatrix(Y,v.rows-1,0,W-1),zt=m.subMatrix(Y,m.rows-1,0,W-1),Zt=v.subMatrix(Y,v.rows-1,W,v.columns-1),Yt=m.subMatrix(Y,m.rows-1,W,m.columns-1),re=c(i.add(H,Zt),i.add(st,Yt),Y,W),he=c(i.add(Ft,Zt),st,Y,W),le=c(H,i.sub(Mt,Yt),Y,W),Ae=c(Zt,i.sub(zt,st),Y,W),Ie=c(i.add(H,lt),Yt,Y,W),Le=c(i.sub(Ft,H),i.add(st,Mt),Y,W),je=c(i.sub(lt,Zt),i.add(zt,Yt),Y,W),Ke=i.add(re,Ae);Ke.sub(Ie),Ke.add(je);var Qe=i.add(le,Ie),He=i.add(he,Ae),We=i.sub(re,he);We.add(le),We.add(Le);var yr=i.zeros(2*Ke.rows,2*Ke.columns);return yr=yr.setSubMatrix(Ke,0,0),yr=yr.setSubMatrix(Qe,Ke.rows,0),yr=yr.setSubMatrix(He,0,Ke.columns),yr=yr.setSubMatrix(We,Ke.rows,Ke.columns),yr.subMatrix(0,T-1,0,D-1)}return c(e,t,f,h)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new rn(this.rows,this.columns),l=0;l<this.rows;l++){var f=this.getRow(l);f.length>0&&o1(f,{min:n,max:o,output:f}),s.setRow(l,f)}return s}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new rn(this.rows,this.columns),l=0;l<this.columns;l++){var f=this.getColumn(l);f.length&&o1(f,{min:n,max:o,output:f}),s.setColumn(l,f)}return s}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var a=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var a=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=rn.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.rows,o=t.columns,s=new rn(e*a,n*o),l=0;l<e;l++)for(var f=0;f<n;f++)for(var h=0;h<a;h++)for(var c=0;c<o;c++)s.set(a*l+h,o*f+c,this.get(l,f)*t.get(h,c));return s}},{key:"kroneckerSum",value:function(t){if(t=rn.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,a=this.kroneckerProduct(rn.eye(n,n)),o=rn.eye(e,e).kroneckerProduct(t);return a.add(o)}},{key:"transpose",value:function(){for(var t=new rn(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h1,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h1,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,a){f1(this,t,e,n,a);for(var o=new rn(e-t+1,a-n+1),s=t;s<=e;s++)for(var l=n;l<=a;l++)o.set(s-t,l-n,this.get(s,l));return o}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var a=new rn(t.length,n-e+1),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));a.set(o,s-e,this.get(t[o],s))}return a}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var a=new rn(n-e+1,t.length),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));a.set(s-e,o,this.get(s,t[o]))}return a}},{key:"setSubMatrix",value:function(t,e,n){if(t=rn.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,o=n+t.columns-1;f1(this,e,a,n,o);for(var s=0;s<t.rows;s++)for(var l=0;l<t.columns;l++)this.set(e+s,n+l,t.get(s,l));return this}},{key:"selection",value:function(t,e){h4(this,t),c4(this,e);for(var n=new rn(t.length,e.length),a=0;a<t.length;a++)for(var o=t[a],s=0;s<e.length;s++){var l=e[s];n.set(a,s,this.get(o,l))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new rn(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return v4(this);case"column":return d4(this);case void 0:return p4(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return g4(this);case"column":return y4(this);case void 0:return m4(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.unbiased,o=a===void 0?!0:a,s=n.mean,l=s===void 0?this.mean(t):s;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!ca(l))throw new TypeError("mean must be an array");return x4(this,o,l)}case"column":{if(!ca(l))throw new TypeError("mean must be an array");return b4(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return w4(this,o,l)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.center,o=a===void 0?this.mean(t):a;switch(t){case"row":{if(!ca(o))throw new TypeError("center must be an array");return S4(this,o),this}case"column":{if(!ca(o))throw new TypeError("center must be an array");return M4(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return C4(this,o),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=E4(this);else if(!ca(n))throw new TypeError("scale must be an array");return A4(this,n),this}case"column":{if(n===void 0)n=T4(this);else if(!ca(n))throw new TypeError("scale must be an array");return P4(this,n),this}case void 0:{if(n===void 0)n=_4(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return O4(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return l1(this,t)}}],[{key:"from1DArray",value:function(t,e,n){var a=t*e;if(a!==n.length)throw new RangeError("data length does not match given dimensions");for(var o=new rn(t,e),s=0;s<t;s++)for(var l=0;l<e;l++)o.set(s,l,n[s*e+l]);return o}},{key:"rowVector",value:function(t){for(var e=new rn(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new rn(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new rn(t,e)}},{key:"ones",value:function(t,e){return new rn(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var a=n.random,o=a===void 0?Math.random:a,s=new rn(t,e),l=0;l<t;l++)for(var f=0;f<e;f++)s.set(l,f,o());return s}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var a=n.min,o=a===void 0?0:a,s=n.max,l=s===void 0?1e3:s,f=n.random,h=f===void 0?Math.random:f;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(l))throw new TypeError("max must be an integer");if(o>=l)throw new RangeError("min must be smaller than max");for(var c=l-o,v=new rn(t,e),m=0;m<t;m++)for(var T=0;T<e;T++){var D=o+Math.round(h()*c);v.set(m,T,D)}return v}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var a=Math.min(t,e),o=this.zeros(t,e),s=0;s<a;s++)o.set(s,s,n);return o}},{key:"diag",value:function(t,e,n){var a=t.length;e===void 0&&(e=a),n===void 0&&(n=e);for(var o=Math.min(a,e,n),s=this.zeros(e,n),l=0;l<o;l++)s.set(l,l,t[l]);return s}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new rn(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.min(t.get(s,l),e.get(s,l)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new this(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.max(t.get(s,l),e.get(s,l)));return o}},{key:"checkMatrix",value:function(t){return i.isMatrix(t)?t:new rn(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),i}();Pi.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Pi.prototype[Symbol.for("nodejs.util.inspect.custom")]=s4);function h1(i,r){return i-r}function L4(i){return i.every(function(r){return typeof r=="number"})}Pi.random=Pi.rand,Pi.randomInt=Pi.randInt,Pi.diagonal=Pi.diag,Pi.prototype.diagonal=Pi.prototype.diag,Pi.identity=Pi.eye,Pi.prototype.negate=Pi.prototype.neg,Pi.prototype.tensorProduct=Pi.prototype.kroneckerProduct;var rn=function(i){(0,i1.Z)(t,i);var r=(0,a1.Z)(t);function t(e,n){var a;if((0,Tu.Z)(this,t),a=r.call(this),t.isMatrix(e))return(0,n4.Z)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(n)&&n>=0)for(var o=0;o<e;o++)a.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(ca(e)){var s=e;if(e=s.length,n=e?s[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<e;l++){if(s[l].length!==n)throw new RangeError("Inconsistent array dimensions");if(!L4(s[l]))throw new TypeError("Input data contains non-numeric values");a.data.push(Float64Array.from(s[l]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=n,a}return(0,Pu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}},{key:"removeRow",value:function(n){return _a(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,a){return a===void 0&&(a=n,n=this.rows),_a(this,n,!0),a=Float64Array.from(ls(this,a)),this.data.splice(n,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(n){Oa(this,n);for(var a=0;a<this.rows;a++){for(var o=new Float64Array(this.columns-1),s=0;s<n;s++)o[s]=this.data[a][s];for(var l=n+1;l<this.columns;l++)o[l-1]=this.data[a][l];this.data[a]=o}return this.columns-=1,this}},{key:"addColumn",value:function(n,a){typeof a=="undefined"&&(a=n,n=this.columns),Oa(this,n,!0),a=us(this,a);for(var o=0;o<this.rows;o++){for(var s=new Float64Array(this.columns+1),l=0;l<n;l++)s[l]=this.data[o][l];for(s[l++]=a[o];l<this.columns+1;l++)s[l]=this.data[o][l-1];this.data[o]=s}return this.columns+=1,this}}]),t}(Pi);f4(Pi,rn);var I4=function(i){(0,i1.Z)(t,i);var r=(0,a1.Z)(t);function t(e){var n;return(0,Tu.Z)(this,t),n=r.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return(0,Pu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}}]),t}(Pi);function hs(i,r){var t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}var c1=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,Tu.Z)(this,i),r=I4.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");var e=r.rows,n=r.columns,a=t.computeLeftSingularVectors,o=a===void 0?!0:a,s=t.computeRightSingularVectors,l=s===void 0?!0:s,f=t.autoTranspose,h=f===void 0?!1:f,c=Boolean(o),v=Boolean(l),m=!1,T;if(e<n)if(!h)T=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{T=r.transpose(),e=T.rows,n=T.columns,m=!0;var D=c;c=v,v=D}else T=r.clone();for(var Y=Math.min(e,n),W=Math.min(e+1,n),H=new Float64Array(W),st=new rn(e,Y),lt=new rn(n,n),Mt=new Float64Array(n),Ft=new Float64Array(e),zt=new Float64Array(W),Zt=0;Zt<W;Zt++)zt[Zt]=Zt;for(var Yt=Math.min(e-1,n),re=Math.max(0,Math.min(n-2,e)),he=Math.max(Yt,re),le=0;le<he;le++){if(le<Yt){H[le]=0;for(var Ae=le;Ae<e;Ae++)H[le]=hs(H[le],T.get(Ae,le));if(H[le]!==0){T.get(le,le)<0&&(H[le]=-H[le]);for(var Ie=le;Ie<e;Ie++)T.set(Ie,le,T.get(Ie,le)/H[le]);T.set(le,le,T.get(le,le)+1)}H[le]=-H[le]}for(var Le=le+1;Le<n;Le++){if(le<Yt&&H[le]!==0){for(var je=0,Ke=le;Ke<e;Ke++)je+=T.get(Ke,le)*T.get(Ke,Le);je=-je/T.get(le,le);for(var Qe=le;Qe<e;Qe++)T.set(Qe,Le,T.get(Qe,Le)+je*T.get(Qe,le))}Mt[Le]=T.get(le,Le)}if(c&&le<Yt)for(var He=le;He<e;He++)st.set(He,le,T.get(He,le));if(le<re){Mt[le]=0;for(var We=le+1;We<n;We++)Mt[le]=hs(Mt[le],Mt[We]);if(Mt[le]!==0){Mt[le+1]<0&&(Mt[le]=0-Mt[le]);for(var yr=le+1;yr<n;yr++)Mt[yr]/=Mt[le];Mt[le+1]+=1}if(Mt[le]=-Mt[le],le+1<e&&Mt[le]!==0){for(var gr=le+1;gr<e;gr++)Ft[gr]=0;for(var Mr=le+1;Mr<e;Mr++)for(var qe=le+1;qe<n;qe++)Ft[Mr]+=Mt[qe]*T.get(Mr,qe);for(var br=le+1;br<n;br++)for(var Dr=-Mt[br]/Mt[le+1],Sr=le+1;Sr<e;Sr++)T.set(Sr,br,T.get(Sr,br)+Dr*Ft[Sr])}if(v)for(var wr=le+1;wr<n;wr++)lt.set(wr,le,Mt[wr])}}var Nr=Math.min(n,e+1);if(Yt<n&&(H[Yt]=T.get(Yt,Yt)),e<Nr&&(H[Nr-1]=0),re+1<Nr&&(Mt[re]=T.get(re,Nr-1)),Mt[Nr-1]=0,c){for(var en=Yt;en<Y;en++){for(var Pr=0;Pr<e;Pr++)st.set(Pr,en,0);st.set(en,en,1)}for(var De=Yt-1;De>=0;De--)if(H[De]!==0){for(var ir=De+1;ir<Y;ir++){for(var Yr=0,Ur=De;Ur<e;Ur++)Yr+=st.get(Ur,De)*st.get(Ur,ir);Yr=-Yr/st.get(De,De);for(var Lr=De;Lr<e;Lr++)st.set(Lr,ir,st.get(Lr,ir)+Yr*st.get(Lr,De))}for(var nn=De;nn<e;nn++)st.set(nn,De,-st.get(nn,De));st.set(De,De,1+st.get(De,De));for(var qr=0;qr<De-1;qr++)st.set(qr,De,0)}else{for(var zr=0;zr<e;zr++)st.set(zr,De,0);st.set(De,De,1)}}if(v)for(var an=n-1;an>=0;an--){if(an<re&&Mt[an]!==0)for(var pn=an+1;pn<n;pn++){for(var Yn=0,On=an+1;On<n;On++)Yn+=lt.get(On,an)*lt.get(On,pn);Yn=-Yn/lt.get(an+1,an);for(var Un=an+1;Un<n;Un++)lt.set(Un,pn,lt.get(Un,pn)+Yn*lt.get(Un,an))}for(var ri=0;ri<n;ri++)lt.set(ri,an,0);lt.set(an,an,1)}for(var Yi=Nr-1,Hi=0,yi=Number.EPSILON;Nr>0;){var Fr=void 0,Zn=void 0;for(Fr=Nr-2;Fr>=-1&&Fr!==-1;Fr--){var _i=Number.MIN_VALUE+yi*Math.abs(H[Fr]+Math.abs(H[Fr+1]));if(Math.abs(Mt[Fr])<=_i||Number.isNaN(Mt[Fr])){Mt[Fr]=0;break}}if(Fr===Nr-2)Zn=4;else{var wi=void 0;for(wi=Nr-1;wi>=Fr&&wi!==Fr;wi--){var Ua=(wi!==Nr?Math.abs(Mt[wi]):0)+(wi!==Fr+1?Math.abs(Mt[wi-1]):0);if(Math.abs(H[wi])<=yi*Ua){H[wi]=0;break}}wi===Fr?Zn=3:wi===Nr-1?Zn=1:(Zn=2,Fr=wi)}switch(Fr++,Zn){case 1:{var Oi=Mt[Nr-2];Mt[Nr-2]=0;for(var Ln=Nr-2;Ln>=Fr;Ln--){var Mn=hs(H[Ln],Oi),Gn=H[Ln]/Mn,Wn=Oi/Mn;if(H[Ln]=Mn,Ln!==Fr&&(Oi=-Wn*Mt[Ln-1],Mt[Ln-1]=Gn*Mt[Ln-1]),v)for(var Wi=0;Wi<n;Wi++)Mn=Gn*lt.get(Wi,Ln)+Wn*lt.get(Wi,Nr-1),lt.set(Wi,Nr-1,-Wn*lt.get(Wi,Ln)+Gn*lt.get(Wi,Nr-1)),lt.set(Wi,Ln,Mn)}break}case 2:{var zo=Mt[Fr-1];Mt[Fr-1]=0;for(var La=Fr;La<Nr;La++){var Js=hs(H[La],zo),Cc=H[La]/Js,Ec=zo/Js;if(H[La]=Js,zo=-Ec*Mt[La],Mt[La]=Cc*Mt[La],c)for(var So=0;So<e;So++)Js=Cc*st.get(So,La)+Ec*st.get(So,Fr-1),st.set(So,Fr-1,-Ec*st.get(So,La)+Cc*st.get(So,Fr-1)),st.set(So,La,Js)}break}case 3:{var qs=Math.max(Math.abs(H[Nr-1]),Math.abs(H[Nr-2]),Math.abs(Mt[Nr-2]),Math.abs(H[Fr]),Math.abs(Mt[Fr])),vs=H[Nr-1]/qs,ub=H[Nr-2]/qs,$u=Mt[Nr-2]/qs,Ac=H[Fr]/qs,TY=Mt[Fr]/qs,Xo=((ub+vs)*(ub-vs)+$u*$u)/2,Qu=vs*$u*(vs*$u),tl=0;(Xo!==0||Qu!==0)&&(Xo<0?tl=0-Math.sqrt(Xo*Xo+Qu):tl=Math.sqrt(Xo*Xo+Qu),tl=Qu/(Xo+tl));for(var Vo=(Ac+vs)*(Ac-vs)+tl,ds=Ac*TY,In=Fr;In<Nr-1;In++){var ia=hs(Vo,ds);ia===0&&(ia=Number.MIN_VALUE);var Ia=Vo/ia,ka=ds/ia;if(In!==Fr&&(Mt[In-1]=ia),Vo=Ia*H[In]+ka*Mt[In],Mt[In]=Ia*Mt[In]-ka*H[In],ds=ka*H[In+1],H[In+1]=Ia*H[In+1],v)for(var Mo=0;Mo<n;Mo++)ia=Ia*lt.get(Mo,In)+ka*lt.get(Mo,In+1),lt.set(Mo,In+1,-ka*lt.get(Mo,In)+Ia*lt.get(Mo,In+1)),lt.set(Mo,In,ia);if(ia=hs(Vo,ds),ia===0&&(ia=Number.MIN_VALUE),Ia=Vo/ia,ka=ds/ia,H[In]=ia,Vo=Ia*Mt[In]+ka*H[In+1],H[In+1]=-ka*Mt[In]+Ia*H[In+1],ds=ka*Mt[In+1],Mt[In+1]=Ia*Mt[In+1],c&&In<e-1)for(var Co=0;Co<e;Co++)ia=Ia*st.get(Co,In)+ka*st.get(Co,In+1),st.set(Co,In+1,-ka*st.get(Co,In)+Ia*st.get(Co,In+1)),st.set(Co,In,ia)}Mt[Nr-2]=Vo,Hi=Hi+1;break}case 4:{if(H[Fr]<=0&&(H[Fr]=H[Fr]<0?-H[Fr]:0,v))for(var Ju=0;Ju<=Yi;Ju++)lt.set(Ju,Fr,-lt.get(Ju,Fr));for(;Fr<Yi&&!(H[Fr]>=H[Fr+1]);){var el=H[Fr];if(H[Fr]=H[Fr+1],H[Fr+1]=el,v&&Fr<n-1)for(var ps=0;ps<n;ps++)el=lt.get(ps,Fr+1),lt.set(ps,Fr+1,lt.get(ps,Fr)),lt.set(ps,Fr,el);if(c&&Fr<e-1)for(var gs=0;gs<e;gs++)el=st.get(gs,Fr+1),st.set(gs,Fr+1,st.get(gs,Fr)),st.set(gs,Fr,el);Fr++}Hi=0,Nr--;break}}}if(m){var PY=lt;lt=st,st=PY}this.m=e,this.n=n,this.s=H,this.U=st,this.V=lt}return(0,Pu.Z)(i,[{key:"solve",value:function(t){for(var e=t,n=this.threshold,a=this.s.length,o=rn.zeros(a,a),s=0;s<a;s++)Math.abs(this.s[s])<=n?o.set(s,s,0):o.set(s,s,1/this.s[s]);for(var l=this.U,f=this.rightSingularVectors,h=f.mmul(o),c=f.rows,v=l.rows,m=rn.zeros(c,v),T=0;T<c;T++)for(var D=0;D<v;D++){for(var Y=0,W=0;W<a;W++)Y+=h.get(T,W)*l.get(D,W);m.set(T,D,Y)}return m.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(rn.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,a=t.columns,o=new rn(n,this.s.length),s=0;s<n;s++)for(var l=0;l<a;l++)Math.abs(this.s[l])>e&&o.set(s,l,t.get(s,l)/this.s[l]);for(var f=this.U,h=f.rows,c=f.columns,v=new rn(n,h),m=0;m<n;m++)for(var T=0;T<h;T++){for(var D=0,Y=0;Y<c;Y++)D+=o.get(m,Y)*f.get(T,Y);v.set(m,T,D)}return v}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,a=0,o=n.length;a<o;a++)n[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return rn.diag(this.s)}}]),i}(),k4=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.linkDistance,l=Hh({nodes:e,edges:a},!1),f=Vh(l);t.handleInfinity(f);var h=tx(f,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(v,m){e[m].x=v[0]+o[0],e[m].y=v[1]+o[1]})}},r.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,a=rn.mul(rn.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var f=new c1(a),h=rn.sqrt(f.diagonalMatrix).diagonal();return f.leftSingularVectors.toJSON().map(function(c){return rn.mul([c],[h]).toJSON()[0].splice(0,e)})},r.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&e<a&&(e=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=e)})})},r}(ba),B4=k4,D4=function(){function i(r){this.distances=r.distances,this.dimension=r.dimension||2,this.linkDistance=r.linkDistance}return i.prototype.layout=function(){var r=this,t=r.dimension,e=r.distances,n=r.linkDistance;try{var a=rn.mul(rn.pow(e,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var f=new c1(a),h=rn.sqrt(f.diagonalMatrix).diagonal();return f.leftSingularVectors.toJSON().map(function(D){return rn.mul([D],[h]).toJSON()[0].splice(0,t)})}catch(D){for(var c=[],v=0;v<e.length;v++){var m=Math.random()*n,T=Math.random()*n;c.push([m,T])}return c}},i}(),F4=D4,R4=800,N4=function(){function i(r){this.disp=[],this.positions=r.positions,this.adjMatrix=r.adjMatrix,this.focusID=r.focusID,this.radii=r.radii,this.iterations=r.iterations||10,this.height=r.height||10,this.width=r.width||10,this.speed=r.speed||100,this.gravity=r.gravity||10,this.nodeSizeFunc=r.nodeSizeFunc,this.k=r.k||5,this.strictRadial=r.strictRadial,this.nodes=r.nodes}return i.prototype.layout=function(){var r=this,t=r.positions,e=[],n=r.iterations,a=r.width/10;r.maxDisplace=a,r.disp=e;for(var o=0;o<n;o++)t.forEach(function(s,l){e[l]={x:0,y:0}}),r.getRepulsion(),r.updatePositions();return t},i.prototype.getRepulsion=function(){var r=this,t=r.positions,e=r.nodes,n=r.disp,a=r.k,o=r.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(f,h){if(l!==h&&o[l]===o[h]){var c=s[0]-f[0],v=s[1]-f[1],m=Math.sqrt(c*c+v*v);if(m===0){m=1;var T=l>h?1:-1;c=.01*T,v=.01*T}if(m<r.nodeSizeFunc(e[l])/2+r.nodeSizeFunc(e[h])/2){var D=a*a/m;n[l].x+=c/m*D,n[l].y+=v/m*D}}})})},i.prototype.updatePositions=function(){var r=this,t=r.positions,e=r.disp,n=r.speed,a=r.strictRadial,o=r.focusID,s=r.maxDisplace||r.width/10;a&&e.forEach(function(f,h){var c=t[h][0]-t[o][0],v=t[h][1]-t[o][1],m=Math.sqrt(c*c+v*v),T=v/m,D=-c/m,Y=Math.sqrt(f.x*f.x+f.y*f.y),W=Math.acos((T*f.x+D*f.y)/Y);W>Math.PI/2&&(W-=Math.PI/2,T*=-1,D*=-1);var H=Math.cos(W)*Y;f.x=T*H,f.y=D*H});var l=r.radii;t.forEach(function(f,h){if(h!==o){var c=Math.sqrt(e[h].x*e[h].x+e[h].y*e[h].y);if(c>0&&h!==o){var v=Math.min(s*(n/R4),c);if(f[0]+=e[h].x/c*v,f[1]+=e[h].y/c*v,a){var m=f[0]-t[o][0],T=f[1]-t[o][1],D=Math.sqrt(m*m+T*T);m=m/D*l[h],T=T/D*l[h],f[0]=t[o][0]+m,f[1]=t[o][1]+T}}}})},i}(),Y4=N4;function G4(i){for(var r=i.length,t=i[0].length,e=[],n=0;n<r;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);e.push(a)}return e}function z4(i,r){var t=-1;return i.forEach(function(e,n){e.id===r&&(t=n)}),t}function v1(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var X4=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[],a=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,An.default)(t.focusNode)){for(var l=!1,f=0;f<e.length;f++)e[f].id===t.focusNode&&(s=e[f],t.focusNode=s,l=!0,f=e.length);l||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var h=z4(e,s.id);t.focusIndex=h;var c=Hh({nodes:e,edges:n},!1),v=Vh(c),m=t.maxToFocus(v,h);t.handleInfinity(v,h,m+1),t.distances=v;var T=v[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var D=t.width||500,Y=t.height||500,W=D-a[0]>a[0]?a[0]:D-a[0],H=Y-a[1]>a[1]?a[1]:Y-a[1];W===0&&(W=D/2),H===0&&(H=Y/2);var st=H>W?W:H,lt=Math.max.apply(Math,T),Mt=[];T.forEach(function(Qe,He){t.unitRadius||(t.unitRadius=st/lt),Mt[He]=Qe*t.unitRadius}),t.radii=Mt;var Ft=t.eIdealDisMatrix();t.eIdealDistances=Ft;var zt=G4(Ft);t.weights=zt;var Zt=new F4({distances:Ft,linkDistance:o}),Yt=Zt.layout();Yt.forEach(function(Qe){io(Qe[0])&&(Qe[0]=Math.random()*o),io(Qe[1])&&(Qe[1]=Math.random()*o)}),t.positions=Yt,Yt.forEach(function(Qe,He){e[He].x=Qe[0]+a[0],e[He].y=Qe[1]+a[1]}),Yt.forEach(function(Qe){Qe[0]-=Yt[h][0],Qe[1]-=Yt[h][1]}),t.run();var re=t.preventOverlap,he=t.nodeSize,le,Ae=t.strictRadial;if(re){var Ie=t.nodeSpacing,Le;(0,Ta.default)(Ie)?Le=function(){return Ie}:(0,sl.default)(Ie)?Le=Ie:Le=function(){return 0},he?(0,Di.default)(he)?le=function(He){var We=he[0]>he[1]?he[0]:he[1];return We+Le(He)}:le=function(He){return he+Le(He)}:le=function(He){if(He.size){if((0,Di.default)(He.size)){var We=He.size[0]>He.size[1]?He.size[0]:He.size[1];return We+Le(He)}return He.size+Le(He)}return 10+Le(He)};var je={nodeSizeFunc:le,adjMatrix:c,positions:Yt,radii:Mt,height:Y,width:D,strictRadial:Ae,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:Yt.length/4.5,nodes:e},Ke=new Y4(je);Yt=Ke.layout()}Yt.forEach(function(Qe,He){e[He].x=Qe[0]+a[0],e[He].y=Qe[1]+a[1]})}},r.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=e;l++){var f=l/e;t.oneIteration(f,n,s,o,a)}},r.prototype.oneIteration=function(t,e,n,a,o){var s=this,l=1-t,f=s.focusIndex;e.forEach(function(h,c){var v=v1(h,[0,0]),m=v===0?0:1/v;if(c!==f){var T=0,D=0,Y=0;e.forEach(function(H,st){if(c!==st){var lt=v1(h,H),Mt=lt===0?0:1/lt,Ft=a[st][c];Y+=o[c][st],T+=o[c][st]*(H[0]+Ft*(h[0]-H[0])*Mt),D+=o[c][st]*(H[1]+Ft*(h[1]-H[1])*Mt)}});var W=n[c]===0?0:1/n[c];Y*=l,Y+=t*W*W,T*=l,T+=t*W*h[0]*m,h[0]=T/Y,D*=l,D+=t*W*h[1]*m,h[1]=D/Y}})},r.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(f,h){var c=[];f.forEach(function(v,m){if(h===m)c.push(0);else if(o[h]===o[m])if(t.sortBy==="data")c.push(v*(Math.abs(h-m)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var T=e[h][t.sortBy]||0,D=e[m][t.sortBy]||0;(0,An.default)(T)&&(T=T.charCodeAt(0)),(0,An.default)(D)&&(D=D.charCodeAt(0)),c.push(v*(Math.abs(T-D)*t.sortStrength)/(o[h]/s))}else c.push(v*a/(o[h]/s));else{var Y=(a+s)/2;c.push(v*Y)}}),l.push(c)}),l},r.prototype.handleInfinity=function(t,e,n){for(var a=t.length,o=0;o<a;o++)if(t[e][o]===Infinity){t[e][o]=n,t[o][e]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[e][s]===Infinity&&(t[e][s]=n+t[o][s],t[s][e]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==e){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[e][o]-t[e][s]);l=l===0?1:l,t[o][s]=l}}},r.prototype.maxToFocus=function(t,e){for(var n=0,a=0;a<t[e].length;a++)t[e][a]!==Infinity&&(n=t[e][a]>n?t[e][a]:n);return n},r}(ba),V4=X4,H4=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},r.prototype.execute=function(){var t=this,e=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},r}(ba),W4=H4,j4=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return r.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(m){var T=[];e.forEach(function(D,Y){T[Y]={x:0,y:0}}),t.applyCalculate(T),t.applyComboCenterForce(T),e.forEach(function(D,Y){!(0,u.isNumber)(D.x)||!(0,u.isNumber)(D.y)||(D.x+=T[Y].x*o,D.y+=T[Y].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},f=0;f<n;f++)l(f);var h=[0,0];e.forEach(function(v){!(0,u.isNumber)(v.x)||!(0,u.isNumber)(v.y)||(h[0]+=v.x,h[1]+=v.y)}),h[0]/=e.length,h[1]/=e.length;var c=[a[0]-h[0],a[1]-h[1]];e.forEach(function(v,m){!(0,u.isNumber)(v.x)||!(0,u.isNumber)(v.y)||(v.x+=c[0],v.y+=c[1])}),t.combos.forEach(function(v){var m=s[v.id];m&&m.empty&&(v.x=m.cx||v.x,v.y=m.cy||v.y)}),t.previousLayouted=!0},r.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(Le,je){s[Le.id]=Le,l[Le.id]=je}),t.nodeMap=s,t.nodeIdxMap=l;var f={};a.forEach(function(Le){f[Le.id]=Le}),t.oriComboMap=f,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var v=0;v<e.length;++v)o[e[v].source]?o[e[v].source]++:o[e[v].source]=1,o[e[v].target]?o[e[v].target]++:o[e[v].target]=1;for(var m=[],v=0;v<e.length;++v)m[v]=o[e[v].source]/(o[e[v].source]+o[e[v].target]);this.bias=m;var T=t.nodeSize,D=t.nodeSpacing,Y,W;if((0,u.isNumber)(D)?W=function(){return D}:(0,u.isFunction)(D)?W=D:W=function(){return 0},this.nodeSpacing=W,!T)Y=function(je){if(je.size){if((0,u.isArray)(je.size)){var Ke=je.size[0]>je.size[1]?je.size[0]:je.size[1];return Ke/2}return je.size/2}return 10};else if((0,u.isFunction)(T))Y=function(je){return T(je)};else if((0,u.isArray)(T)){var H=T[0]>T[1]?T[0]:T[1],st=H/2;Y=function(je){return st}}else{var lt=T/2;Y=function(je){return lt}}this.nodeSize=Y;var Mt=t.comboSpacing,Ft;(0,u.isNumber)(Mt)?Ft=function(){return Mt}:(0,u.isFunction)(Mt)?Ft=Mt:Ft=function(){return 0},this.comboSpacing=Ft;var zt=t.comboPadding,Zt;(0,u.isNumber)(zt)?Zt=function(){return zt}:(0,u.isArray)(zt)?Zt=function(){return Math.max.apply(null,zt)}:(0,u.isFunction)(zt)?Zt=zt:Zt=function(){return 0},this.comboPadding=Zt;var Yt=this.linkDistance,re;Yt||(Yt=10),(0,u.isNumber)(Yt)?re=function(je){return Yt}:re=Yt,this.linkDistance=re;var he=this.edgeStrength,le;he||(he=1),(0,u.isNumber)(he)?le=function(je){return he}:le=he,this.edgeStrength=le;var Ae=this.nodeStrength,Ie;Ae||(Ae=30),(0,u.isNumber)(Ae)?Ie=function(je){return Ae}:Ie=Ae,this.nodeStrength=Ie},r.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},r.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var f=[];xa(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var v=h.children;v&&v.forEach(function(H){if(!s[H.id]&&!e[H.id])return!0;f.push(H)});var m=s[h.id];if(m.cx=0,m.cy=0,f.length===0){m.empty=!0;var T=o[h.id],D=Object.keys(e).length,Y=h.id+"-visual-child-"+D,W={id:Y,x:T.x,y:T.y,depth:m.depth+1,itemType:"node"};t.nodes.push(W),e[Y]=W,n[Y]=D,m.cx=T.x,m.cy=T.y,f.push(W)}return f.forEach(function(H){if(m.count++,H.itemType!=="node"){var st=s[H.id];(0,u.isNumber)(st.cx)&&(m.cx+=st.cx),(0,u.isNumber)(st.cy)&&(m.cy+=st.cy);return}var lt=e[H.id];!lt||((0,u.isNumber)(lt.x)&&(m.cx+=lt.x),(0,u.isNumber)(lt.y)&&(m.cy+=lt.y))}),m.cx/=m.count,m.cy/=m.count,m.children=f,!0})}),s},r.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,a=e.comboGravity||n,o=this.alpha,s=e.comboTrees,l=e.nodeIdxMap,f=e.nodeMap,h=e.comboMap;(s||[]).forEach(function(c){xa(c,function(v){if(v.itemType==="node")return!0;var m=h[v.id];if(!m)return!0;var T=h[v.id],D=(T.depth+1)*.5,Y=T.cx,W=T.cy;return T.cx=0,T.cy=0,T.children.forEach(function(H){if(H.itemType!=="node"){var st=h[H.id];st&&(0,u.isNumber)(st.cx)&&(T.cx+=st.cx),st&&(0,u.isNumber)(st.cy)&&(T.cy+=st.cy);return}var lt=f[H.id],Mt=lt.x-Y||.005,Ft=lt.y-W||.005,zt=Math.sqrt(Mt*Mt+Ft*Ft),Zt=l[lt.id],Yt=a*o/zt*D;t[Zt].x-=Mt*Yt,t[Zt].y-=Ft*Yt,(0,u.isNumber)(lt.x)&&(T.cx+=lt.x),(0,u.isNumber)(lt.y)&&(T.cy+=lt.y)}),T.cx/=T.count,T.cy/=T.count,!0})})},r.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,a=e.nodes,o={};a.forEach(function(l,f){a.forEach(function(h,c){if(!(f<c)){var v=l.x-h.x||.005,m=l.y-h.y||.005,T=v*v+m*m,D=Math.sqrt(T);T<1&&(T=D),o[l.id+"-"+h.id]={vx:v,vy:m,vl2:T,vl:D},o[h.id+"-"+l.id]={vx:-v,vy:-m,vl2:T,vl:D}}})}),e.updateComboSizes(n),e.calRepulsive(t,o),e.calAttractive(t,o);var s=e.preventComboOverlap;s&&e.comboNonOverlapping(t,n)},r.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,a=e.nodeMap,o=e.nodeSize,s=e.comboSpacing,l=e.comboPadding;(n||[]).forEach(function(f){var h=[];xa(f,function(c){if(c.itemType==="node")return!0;var v=t[c.id];if(!!v){var m=c.children;m&&m.forEach(function(Y){!t[Y.id]&&!a[Y.id]||h.push(Y)}),v.minX=Infinity,v.minY=Infinity,v.maxX=-Infinity,v.maxY=-Infinity,h.forEach(function(Y){if(Y.itemType!=="node")return!0;var W=a[Y.id];if(!W)return!0;var H=o(W),st=W.x-H,lt=W.y-H,Mt=W.x+H,Ft=W.y+H;v.minX>st&&(v.minX=st),v.minY>lt&&(v.minY=lt),v.maxX<Mt&&(v.maxX=Mt),v.maxY<Ft&&(v.maxY=Ft)});var T=e.oriComboMap[c.id].size||Ve.defaultCombo.size;(0,u.isArray)(T)&&(T=T[0]);var D=Math.max(v.maxX-v.minX,v.maxY-v.minY,T);return v.r=D/2+s(v)/2+l(v),!0}})})},r.prototype.comboNonOverlapping=function(t,e){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;xa(a,function(f){if(!(!e[f.id]&&!l[f.id]&&f.id!=="comboTreeRoot")){var h=f.children;return h&&h.length>1&&h.forEach(function(c,v){if(c.itemType!=="node"){var m=e[c.id];!m||h.forEach(function(T,D){if(!(v<=D)&&T.itemType!=="node"){var Y=e[T.id];if(!!Y){var W=m.cx-Y.cx||.005,H=m.cy-Y.cy||.005,st=W*W+H*H,lt=m.r,Mt=Y.r,Ft=lt+Mt,zt=Mt*Mt,Zt=lt*lt;if(st<Ft*Ft){var Yt=c.children;if(!Yt||Yt.length===0)return;var re=T.children;if(!re||re.length===0)return;var he=Math.sqrt(st),le=(Ft-he)/he*o,Ae=W*le,Ie=H*le,Le=zt/(Zt+zt),je=1-Le;Yt.forEach(function(Ke){if(Ke.itemType==="node"&&!!l[Ke.id]){var Qe=s[Ke.id];re.forEach(function(He){if(He.itemType==="node"&&!!l[He.id]){var We=s[He.id];t[Qe].x+=Ae*Le,t[Qe].y+=Ie*Le,t[We].x-=Ae*je,t[We].y-=Ie*je}})}})}}}})}}),!0}})},r.prototype.calRepulsive=function(t,e){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,f=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,v=n.nodeSpacing,m=n.depthRepulsiveForceScale,T=n.center;a.forEach(function(D,Y){if(!(!D.x||!D.y)){if(T){var W=n.gravity,H=D.x-T[0]||.005,st=D.y-T[1]||.005,lt=Math.sqrt(H*H+st*st);t[Y].x-=H*W*l/lt,t[Y].y-=st*W*l/lt}a.forEach(function(Mt,Ft){if(Y!==Ft&&!(!Mt.x||!Mt.y)){var zt=e[D.id+"-"+Mt.id],Zt=zt.vl2,Yt=zt.vl;if(!(Yt>o)){var re=e[D.id+"-"+Mt.id],he=re.vx,le=re.vy,Ae=Math.abs(Mt.depth-D.depth)+1||1;Mt.comboId!==D.comboId&&Ae++;var Ie=Ae?Math.pow(m,Ae):1,Le=s(Mt)*l/Zt*Ie;if(t[Y].x+=he*Le,t[Y].y+=le*Le,Y<Ft&&h){var je=c(D)+v(D),Ke=c(Mt)+v(Mt),Qe=je+Ke;if(Zt<Qe*Qe){var He=(Qe-Yt)/Yt*f,We=Ke*Ke,yr=We/(je*je+We),gr=he*He,Mr=le*He;t[Y].x+=gr*yr,t[Y].y+=Mr*yr,yr=1-yr,t[Ft].x-=gr*yr,t[Ft].y-=Mr*yr}}}}})}})},r.prototype.calAttractive=function(t,e){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,f=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,v){if(!(!c.source||!c.target||c.source===c.target)){var m=n.nodeIdxMap[c.source],T=n.nodeIdxMap[c.target],D=n.nodeMap[c.source],Y=n.nodeMap[c.target],W=Math.abs(D.depth-Y.depth);D.comboId===Y.comboId&&(W=W/2);var H=W?Math.pow(h,W):1;if(D.comboId!==Y.comboId&&H===1?H=h/2:D.comboId===Y.comboId&&(H=2),!(!(0,u.isNumber)(Y.x)||!(0,u.isNumber)(D.x)||!(0,u.isNumber)(Y.y)||!(0,u.isNumber)(D.y))){var st=e[c.target+"-"+c.source],lt=st.vl,Mt=st.vx,Ft=st.vy,zt=(lt-o(c))/lt*s*l(c)*H,Zt=Mt*zt,Yt=Ft*zt,re=f[v];t[T].x-=Zt*re,t[T].y-=Yt*re,t[m].x+=Zt*(1-re),t[m].y+=Yt*(1-re)}}})},r}(ba),U4=j4,Z4={circular:rN,concentric:iN,dagre:sN,force:UN,g6force:QN,comboForce:U4,fruchterman:t4,grid:r4,mds:B4,radial:V4,random:W4};(0,kn.default)(Z4,function(i,r){zx.registerLayout(r,{},i)});var Us=zx,hc=self;function K4(i){var r=i.data.type;return r===so.RUN}function $4(i){var r=i.data.type;switch(r){case so.RUN:{var t=i.data,e=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=Us[s];if(!l){hc.postMessage({type:so.ERROR,message:"layout "+s+" not found"});break}var f=new l(o);f.init({nodes:e,edges:n}),f.execute(),hc.postMessage({type:so.END,nodes:e}),f.destroy();break}default:break}}hc.onmessage=function(i){K4(i)&&$4(i)};var Q4=null;function Iu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iu=function(t){return typeof t}:Iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(i)}var J4=function(r){return setTimeout(r,16)},q4=function(r){return clearTimeout(r)},ku={requestAnimationFrame:function(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||J4;return t(r)},cancelAnimationFrame:function(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||q4;return t(r)}},t6=function(){function i(r){this.graph=r,this.layoutCfg=r.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new Q4,this.worker)},i.prototype.stopWorker=function(){var r=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,r.requestId&&(ku.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(ku.cancelAnimationFrame(r.requestId2),r.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(r){var t=this.graph;this.data=this.setDataFromGraph();var e=this.data.nodes;if(!e)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var f=this.initPositions(o.center,e);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var v=o.onLayoutEnd;o.onLayoutEnd=function(){v&&v(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var m=!1;if(this.layoutType!==void 0){try{l=new Us[this.layoutType](o)}catch(W){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(m=l.enableTick,m){var T=o.onTick,D=o.onLayoutEnd,c=function(){T&&T(),t.refreshPositions()};l.tick=c;var Y=function(){D&&D(),t.emit("afterlayout")};l.onLayoutEnd=Y}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!f)&&this.layoutType!=="force"&&!m&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(r,t){var e=this,n=r.nodes,a=r.edges,o=this,s=o.layoutCfg,l=o.graph,f=this.getWorker(),h=this.workerData;if(!f)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=r6(s,function(v){return typeof v!="function"});return f.postMessage({type:so.RUN,nodes:n,edges:a,layoutCfg:c}),f.onmessage=function(v){e.handleWorkerMessage(v,r,t)},!0},i.prototype.handleWorkerMessage=function(r,t,e){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=r.data,f=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(f){case so.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=ku.requestAnimationFrame(function(){cc(t,l),a.refreshPositions(),h(),l.currentTick===1&&e&&e(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=ku.requestAnimationFrame(function(){cc(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case so.END:o.currentTick==null&&(cc(t,l),this.refreshLayout(),e&&e(),a.emit("afterlayout"));break;case so.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var r=this.graph;r.get("animate")?r.positionsAnimate():r.refreshPositions()},i.prototype.updateLayoutCfg=function(r){var t=this,e=t.graph,n=t.layoutMethod;if(this.layoutType=r.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(r.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(r),e.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(r){var t=this,e=t.graph,n=t.layoutMethod;this.layoutType=r,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=r,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var r=this.layoutMethod;r&&r.destroy(),this.layout()},i.prototype.destroyLayout=function(){var r=this,t=r.layoutMethod,e=r.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var r=[],t=[],e=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var f=l.getModel();r.push(f)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var f=l.getModel();f.isComboEdge||t.push(f)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var f=l.getModel();e.push(f)}});var s={nodes:r,edges:t,combos:e};return s},i.prototype.relayout=function(r){var t=this,e=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(r){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),e.emit("beforelayout"),n.execute(r),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var r=this.graph,t=r.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||io(e[0].x))){var n=[0,0];e.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=e.length,n[1]/=e.length,e.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(r,t){var e=this.graph;if(!t)return!1;var n=!0,a=e.get("width")*.85,o=e.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),f=Math.ceil(s/l),h=a/(l-1),c=o/(f-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var v=r[0]-a/2,m=r[1]-o/2;return t.forEach(function(T,D){io(T.x)&&(n=!1,T.x=D%l*h+v),io(T.y)&&(n=!1,T.y=Math.floor(D/l)*c+m)}),n},i.prototype.destroy=function(){var r=this.layoutMethod;this.graph=null,r&&r.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),e6=t6;function cc(i,r){var t=i.nodes,e=r.nodes;t.forEach(function(n,a){n.x=e[a].x,n.y=e[a].y})}function r6(i,r){var t={};return i&&Iu(i)==="object"?(Object.keys(i).forEach(function(e){i.hasOwnProperty(e)&&r(i[e])&&(t[e]=i[e])}),t):i}var Go=null,n6=function(){function i(r){this.graph=r,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(r,t,e){if(!!e[t]){var n=e[t].indexOf(r);n>=0&&e[t].splice(n,1)}},i.cacheState=function(r,t,e){e[t]||(e[t]=[]),e[t].push(r)},i.prototype.updateState=function(r,t,e){var n=this,a=i.checkCache,o=i.cacheState;if(!r.destroyed){var s=this.cachedStates,l=s.enabled,f=s.disabled;e?(a(r,t,f),o(r,t,l)):(a(r,t,l),o(r,t,f)),Go&&clearTimeout(Go),Go=setTimeout(function(){Go=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(r,t,e){var n=this;(0,An.default)(t)?this.updateState(r,t,e):t.forEach(function(a){n.updateState(r,a,e)})},i.prototype.updateGraphStates=function(){var r=this.graph.get("states"),t=this.cachedStates;(0,kn.default)(t.disabled,function(e,n){r[n]&&(r[n]=r[n].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),(0,kn.default)(t.enabled,function(e,n){if(!r[n])r[n]=e;else{var a={};r[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),e.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,r[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:r}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Go&&clearTimeout(Go),Go=null,this.destroyed=!0},i}(),i6=n6,vc=null,a6=function(){function i(r){this.graph=r;var t=r.get("groupStyle");this.styles=(0,Xi.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(r,t,e,n,a,o){e===void 0&&(e="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),f=l.get("children").map(function(Mr){return Mr.get("id")});if(f.indexOf(r)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+r+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:r,zIndex:n}),c=this.styles.default,v=this.calculationGroupPosition(t),m=v.x,T=v.y,D=v.width,Y=v.height,W=v.maxX,H=this.getGroupPadding(r),st=s.get("groupBBoxs");st[r]={x:m,y:T,width:D,height:Y,maxX:W};var lt=null;if(a){var Mt=s.get("groups");t.forEach(function(Mr){var qe=s.findById(Mr),br=qe.getModel();br.groupId||(br.groupId=r)}),Mt.find(function(Mr){return Mr.id===r})||(Mt.push({id:r,title:o}),s.set({groups:Mt}))}var Ft=s.get("groups").filter(function(Mr){return Mr.id===r});Ft&&Ft.length>0&&(lt=Ft[0].title);var zt=0,Zt=0,Yt=null;if(e==="circle"){var re=D>Y?D/2:Y/2,he=(D+2*m)/2,le=(Y+2*T)/2,Ae=re+H;Yt=h.addShape("circle",{attrs:$t($t({},c),{x:he,y:le,r:Ae}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"circle-group-shape"}),zt=he,Zt=le-Ae,this.setDeletageGroupByStyle(r,h,{width:D,height:Y,x:he,y:le,r:Ae})}else{var Ie=H*c.disCoefficient;Yt=h.addShape("rect",{attrs:$t($t({},c),{x:m-Ie,y:T-Ie,width:D+Ie*2,height:Y+Ie*2}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"rect-group-shape"}),zt=m-Ie+15,Zt=T-Ie+15,this.setDeletageGroupByStyle(r,h,{x:m-Ie,y:T-Ie,width:D+Ie,height:Y+Ie,btnOffset:W-3})}if(lt){var Le=lt.offsetX,je=Le===void 0?0:Le,Ke=lt.offsetY,Qe=Ke===void 0?0:Ke,He=lt.text,We=He===void 0?lt:He,yr=ji(lt,["offsetX","offsetY","text"]),gr=h.addShape("text",{attrs:$t({text:We,stroke:"#444",x:zt+je,y:Zt+Qe},yr),className:"group-title",name:"group-title-shape"});gr.set("capture",!1)}h.set("keyShape",Yt),s.get("groupNodes")[r]=t},i.prototype.setGroupStyle=function(r,t){if(!(!r||r.get("destroyed"))){var e={},n=this.styles,a=n.hover,o=n.default;(0,An.default)(t)?t==="default"?e=(0,Xi.default)({},o):t==="hover"&&(e=(0,Xi.default)({},a)):e=(0,Xi.default)({},o,t),Object.keys(e).forEach(function(s){r.attr(s,e[s])})}},i.prototype.calculationGroupPosition=function(r,t){if(t===void 0&&(t={x:100,y:100}),r.length===0)return{x:t.x,y:t.y,width:100,height:100};var e=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;r.forEach(function(v){var m=(0,An.default)(v)?e.findById(v):v,T=m.getBBox(),D=T.minX,Y=T.minY,W=T.maxX,H=T.maxY;D<n&&(n=D),Y<o&&(o=Y),W>a&&(a=W),H>s&&(s=H)});var l=Math.floor(n),f=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-f;return{x:l,y:f,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(r,t,e){t===void 0&&(t="id"),e===void 0&&(e="parentId");var n="children",a=[],o=[];return r.forEach(function(s){a[s[t]]=s}),r.forEach(function(s){var l=a[s[e]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(r){var t=this.graph,e=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===r}),o=1;a.length>0&&(vc||(vc=this.flatToTree(n)),Zi(vc[0],function(h){if(h.parentId===r&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===r&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===r}).length>0,f=l?e.maxDis+(o>1?o/2:1)*30:e.minDis;return f},i.prototype.setDeletageGroupByStyle=function(r,t,e){var n=e.width,a=e.height,o=e.x,s=e.y,l=e.r,f=e.btnOffset,h=this.customGroup[r];if(!h)this.customGroup[r]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:f}};else{var c=h.groupStyle,v=(0,Xi.default)({},c,e);this.customGroup[r]={nodeGroup:t,groupStyle:v}}},i.prototype.getDeletageGroupById=function(r){return this.customGroup[r]},i.prototype.collapseExpandGroup=function(r){var t=this.getDeletageGroupById(r),e=t.nodeGroup,n=e.get("hasHidden");n?(e.set("hasHidden",!1),this.expandGroup(r)):(e.set("hasHidden",!0),this.collapseGroup(r))},i.prototype.setGroupTmpNode=function(r,t){var e=this.graph,n=e.get("groupNodes"),a=e.get("groups");n[r].indexOf(t)<0&&n[r].push(t);var o=a.filter(function(l){return l.id===r}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(r){var t=this,e=this.getDeletageGroupById(r),n=e.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[r],f=n.get("keyShape"),h=a.r,c=a.width,v=a.height,m=a.offsetX,T=a.offsetY,D=ji(a,["r","width","height","offsetX","offsetY"]);Object.keys(D).forEach(function(zt){f.attr(zt,D[zt])});var Y={groupId:r,id:r+"-custom-node",x:f.attr("x"),y:f.attr("y"),style:{r:h},type:"circle"},W=n.find(function(zt){return zt.get("className")==="group-title"});s==="circle"?(f.animate({r:h},{duration:500,easing:"easeCubic"}),W&&W.attr({x:f.attr("x")+m,y:f.attr("y")+T})):s==="rect"&&(f.animate({width:c,height:v},{duration:500,easing:"easeCubic"}),W&&W.attr({x:f.attr("x")+10,y:f.attr("y")+v/2+5}),Y={groupId:r,id:r+"-custom-node",x:f.attr("x")+c/2,y:f.attr("y")+v/2,size:[c,v],type:"rect"});var H=o.getEdges(),st=H.filter(function(zt){var Zt=zt.getModel();return!l.includes(Zt.source)&&l.includes(Zt.target)}),lt=H.filter(function(zt){var Zt=zt.getModel();return l.includes(Zt.source)&&!l.includes(Zt.target)}),Mt=H.filter(function(zt){var Zt=zt.getModel();return l.includes(Zt.source)&&l.includes(Zt.target)});if(l.forEach(function(zt){var Zt=o.findById(zt),Yt=Zt.getModel(),re=Yt.groupId;if(re&&re!==r){var he=t.getDeletageGroupById(re),le=he.nodeGroup;le.hide()}Zt.hide()}),Mt.forEach(function(zt){var Zt=zt.getSource(),Yt=zt.getTarget();Zt.isVisible()&&Yt.isVisible()?zt.show():zt.hide()}),st.length>0||lt.length>0){var Ft=o.add("node",Y);Ft.set("capture",!1),Ft.hide(),this.delegateInGroup[r]={delegateNode:Ft},this.setGroupTmpNode(r,r+"-custom-node"),this.updateEdgeInGroupLinks(r,st,lt)}},i.prototype.updateEdgeInGroupLinks=function(r,t,e){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),f=s.get("id"),h=l.target;return a[f]=h,n.updateItem(s,{target:r+"-custom-node"}),!0});var o={};e.map(function(s){var l=s.getModel(),f=s.get("id"),h=l.source;return o[f]=h,n.updateItem(s,{source:r+"-custom-node"}),!0}),this.delegateInGroup[r]=(0,Xi.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:o},this.delegateInGroup[r])},i.prototype.expandGroup=function(r){var t=this,e=this.graph,n=e.get("groupType"),a=e.get("groupNodes")[r],o=a.filter(function(Ke){return Ke.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,f=s.height,h=this.getDeletageGroupById(r).nodeGroup,c=h.get("keyShape"),v=this.styles,m=v.default,T=v.collapse;Object.keys(m).forEach(function(Ke){c.attr(Ke,m[Ke])});var D=h.find(function(Ke){return Ke.get("className")==="group-title"}),Y=this.getGroupPadding(r);if(n==="circle"){var W=l>f?l/2:f/2;c.animate({r:W+Y},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var H=T.width,st=T.height;c.animate({width:H+l+Y*m.disCoefficient*2,height:st+f+Y*m.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(D){var lt=null,Mt=e.get("groups").filter(function(Ke){return Ke.id===r});Mt&&Mt.length>0&&(lt=Mt[0].title);var Ft=lt.offsetX,zt=Ft===void 0?0:Ft,Zt=lt.offsetY,Yt=Zt===void 0?0:Zt;n==="circle"?D.animate({x:c.attr("x")+zt,y:c.attr("y")-c.attr("r")+Yt},{duration:600,easing:"easeCubic"}):n==="rect"&&D.animate({x:c.attr("x")+(15+zt),y:c.attr("y")+(15+Yt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(He){var We=e.findById(He),yr=We.getModel(),gr=yr.groupId;if(gr&&gr!==r){var Mr=t.getDeletageGroupById(gr),qe=Mr.nodeGroup;qe.show();var br=qe.get("hasHidden");br||We.show()}else We.show()});var Ke=e.getEdges(),Qe=Ke.filter(function(He){var We=He.getModel();return a.includes(We.source)||a.includes(We.target)});Qe.forEach(function(He){var We=He.getSource(),yr=He.getTarget();We.isVisible()&&yr.isVisible()&&He.show()})},300);var re=this.delegateInGroup[r];if(re){var he=re.sourceOutTargetInEdges,le=re.sourceInTargetOutEdges,Ae=re.edgesOuts,Ie=re.edgesIn,Le=re.delegateNode;he.map(function(Ke){var Qe=Ke.get("id"),He=Ae[Qe];return e.updateItem(Ke,{target:He}),!0}),le.map(function(Ke){var Qe=Ke.get("id"),He=Ie[Qe];return e.updateItem(Ke,{source:He}),!0});var je=Le.getModel();this.deleteTmpNode(r,je.id),e.remove(Le),delete this.delegateInGroup[r]}},i.prototype.deleteTmpNode=function(r,t){var e=this.graph,n=e.get("groups"),a=e.get("groupNodes")[r],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(f){return f.id===r}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(r){var t=this.graph,e=this.getDeletageGroupById(r);if(!!e){var n=e.nodeGroup,a=t.get("groupNodes"),o=a[r];o.forEach(function(m){var T=t.findById(m),D=T.getModel(),Y=D.groupId;!Y||r===Y&&(delete D.groupId,t.updateItem(T,D))}),n.destroy(),delete this.customGroup[r];var s=t.get("groups");if(s.length>0){var l=s.filter(function(m){return m.id!==r});t.set("groups",l)}for(var f=null,h=null,c=0;c<s.length;c++){var v=s[c];if(r===v.id){f=v.parentId,h=v;break}}h&&delete h.parentId,delete a[r],f&&(a[f]=a[f].filter(function(m){return!o.includes(m)}))}},i.prototype.updateGroup=function(r,t,e){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(r,t,e);for(var o=n.save().groups,s=null,l=null,f=0;f<o.length;f++){var h=o[f];if(r===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,v=c.get("keyShape");this.setGroupStyle(v,"default");var m=v.getBBox(),T=m.minX,D=m.minY,Y=m.maxX,W=m.maxY,H=this.getDeletageGroupById(r).nodeGroup,st=H.get("keyShape"),lt=st.getBBox(),Mt=lt.x,Ft=lt.y;if(!(Mt<Y&&Mt>T&&Ft<W&&Ft>D)){delete l.parentId;var zt=n.get("groupNodes"),Zt=zt[r],Yt=zt[s];zt[s]=Yt.filter(function(Sr){return Zt.indexOf(Sr)===-1});var re=this.calculationGroupPosition(zt[s]),he=re.x,le=re.y,Ae=re.width,Ie=re.height,Le=this.getGroupPadding(s),je=c.find(function(Sr){return Sr.get("className")==="group-title"}),Ke=0,Qe=0;if(a==="circle"){var He=Ae>Ie?Ae/2:Ie/2,We=he,yr=le;v.attr({r:He+Le,x:We,y:yr}),Ke=We,Qe=yr-v.attr("r")}else if(a==="rect"){var gr=this.styles.default,Mr=Le*gr.disCoefficient;v.attr({x:he-Mr,y:le-Mr}),Ke=he-Mr+15,Qe=le-Mr+15}if(je){var qe=l.title,br=0,Dr=0;qe&&(br=qe.offsetX,Dr=qe.offsetY),je.attr({x:Ke+br,y:Qe+Dr})}}}},i.prototype.updateItemInGroup=function(r,t,e){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[r],f=this.getDeletageGroupById(r).nodeGroup,h=f.getBBox(),c=[];l.forEach(function(v,m){var T=a.findById(v),D=T.getModel(),Y=D.groupId;Y&&!c.includes(Y)&&c.push(Y),n.nodePoint[m]||(n.nodePoint[m]={x:D.x,y:D.y});var W=t.x-h.x+n.nodePoint[m].x,H=t.y-h.y+n.nodePoint[m].y;n.nodePoint[m]={x:W,y:H},a.updateItem(T,{x:W,y:H})}),c.includes(r)||c.push(r),c.forEach(function(v){var m=n.getDeletageGroupById(v).nodeGroup,T=m.get("keyShape"),D=s[v].filter(function(Ie){return Ie.indexOf("custom-node")===-1}),Y=n.calculationGroupPosition(D,t),W=Y.x,H=Y.y,st=Y.width,lt=Y.height,Mt=0,Ft=0;if(o==="circle"){var zt=(st+2*W)/2,Zt=(lt+2*H)/2;T.attr({x:zt,y:Zt}),Mt=zt,Ft=Zt-T.attr("r")}else if(o==="rect"){var Yt=m.get("hasHidden"),re=n.getGroupPadding(v),he={},le=n.styles.default,Ae=re*le.disCoefficient;Mt=W-Ae+15,Ft=H-Ae+15,Yt?(he={x:W-Ae,y:H-Ae},Ft=Ft+10):he={x:W-Ae,y:H-Ae,width:st+Ae*2,height:lt+Ae*2},T.attr(he)}n.updateGroupTitle(m,v,Mt,Ft)})},i.prototype.updateGroupTitle=function(r,t,e,n){var a=this.graph,o=r.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var f=0,h=0;s&&(f=s.offsetX||0,h=s.offsetY||0),o.attr({x:e+f,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(r,t,e){var n=r.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),f=s.get("groupNodes"),h=f[o];if(h.length===0){delete f[o];var c=s.get("groups");s.set("groups",c.filter(function(Yt){return Yt.id!==o})),t.remove()}else{var v=this.calculationGroupPosition(h),m=v.x,T=v.y,D=v.width,Y=v.height,W=this.getGroupPadding(o),H=0,st=0;if(l==="circle"){var lt=D>Y?D/2:Y/2,Mt=(D+2*m)/2,Ft=(Y+2*T)/2;e.attr({r:lt+W,x:Mt,y:Ft}),H=Mt,st=Ft-e.attr("r")}else if(l==="rect"){var zt=this.styles.default,Zt=W*zt.disCoefficient;e.attr({x:m-Zt,y:T-Zt,width:D+Zt*2,height:Y+Zt*2}),H=m-Zt+15,st=T-Zt+15}this.updateGroupTitle(t,o,H,st)}this.setGroupStyle(e,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),o6=a6,s6=function(r){var t={};return r.getNodes().forEach(function(e){t[e.getID()]={degree:0,inDegree:0,outDegree:0}}),r.getEdges().forEach(function(e){t[e.getSource().getID()].degree++,t[e.getSource().getID()].outDegree++,t[e.getTarget().getID()].degree++,t[e.getTarget().getID()].inDegree++}),t},d1=s6,l6=function(){function i(r){this.compare=r||i.defaultCompareFunction}return i.defaultCompareFunction=function(r,t){return r===t?0:r<t?-1:1},i.prototype.equal=function(r,t){return this.compare(r,t)===0},i.prototype.lessThan=function(r,t){return this.compare(r,t)<0},i.prototype.greaterThan=function(r,t){return this.compare(r,t)>0},i.prototype.lessThanOrEqual=function(r,t){return this.lessThan(r,t)||this.equal(r,t)},i.prototype.greaterThanOrEqual=function(r,t){return this.greaterThan(r,t)||this.equal(r,t)},i.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}},i}(),u6=l6,p1=function(){function i(r,t){t===void 0&&(t=null),this.value=r,this.next=t}return i.prototype.toString=function(r){return r?r(this.value):""+this.value},i}(),f6=function(){function i(r){r===void 0&&(r=null),this.head=null,this.tail=null,this.compare=new u6(r)}return i.prototype.prepend=function(r){var t=new p1(r,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(r){var t=new p1(r);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(r){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,r);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare.equal(e.next.value,r)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare.equal(this.tail.value,r)&&(this.tail=e),t},i.prototype.find=function(r){var t=r.value,e=t===void 0?void 0:t,n=r.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||e!==void 0&&this.compare.equal(o.value,e))return o;o=o.next}return null},i.prototype.deleteTail=function(){var r=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,r;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,r},i.prototype.deleteHead=function(){if(!this.head)return null;var r=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),r},i.prototype.fromArray=function(r){var t=this;return r.forEach(function(e){return t.append(e)}),this},i.prototype.toArray=function(){for(var r=[],t=this.head;t;)r.push(t),t=t.next;return r},i.prototype.reverse=function(){for(var r=this.head,t=null,e=null;r;)e=r.next,r.next=t,t=r,r=e;this.tail=this.head,this.head=t},i.prototype.toString=function(r){return r===void 0&&(r=void 0),this.toArray().map(function(t){return t.toString(r)}).toString()},i}(),g1=f6,h6=function(){function i(r){r===void 0&&(r=10),this.linkedList=new g1,this.maxStep=r}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(r){this.linkedList.prepend(r),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(r){return r.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),y1=h6,c6=function(r,t){var e=r.getNodes(),n=r.getEdges(),a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.getID()]=l;var f=[];a.push(f)}),n&&n.forEach(function(s){var l=s.getModel(),f=l.source,h=l.target,c=o[f],v=o[h];a[c][v]=1,t||(a[v][c]=1)}),a},Bu=c6,v6=function(r,t){var e=r.get("adjMatrix");e||(e=Bu(r,t));for(var n=[],a=e.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:e[o][s]===0||!e[o][s]?n[o][s]=Infinity:n[o][s]=e[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},m1=v6,x1=function(r,t,e){return(r.y-e.y)*(t.x-e.x)-(r.x-e.x)*(t.y-e.y)},b1=function(r){var t=r.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&x1(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&x1(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),e.pop();var o=e.concat(a);return o},d6={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function p6(i,r,t){var e=!1,n=function(l,f){return r.cells[l+f*r.width]},a=function(l,f){var h=0;return n(l-1,f-1)>=t&&(h+=1),n(l,f-1)>t&&(h+=2),n(l-1,f)>t&&(h+=4),n(l,f)>t&&(h+=8),h},o=function(l,f){for(var h=l,c=f,v,m,T=0;T<r.width*r.height;T++){if(v=h,m=c,i.findIndex(function(Y){return Y.x===h&&Y.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var D=a(h,c);switch(D){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:v===0&&(m===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:v===1&&(m===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+D),!0}}};this.march=function(){for(var s=0;s<r.width&&!e;s+=1)for(var l=0;l<r.height&&!e;l+=1)n(s,l)>t&&a(s,l)!==15&&(e=o(s,l));return e}}var g6=function(r,t,e){var n=Math.ceil(r/e),a=Math.ceil(t/e),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},y6=function(r,t,e){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:r.getModel().x,y:r.getModel().y},l={x:o.getModel().x,y:o.getModel().y},f=fu(s,l),h=new Ro(s.x,s.y,l.x,l.y),c=e.reduce(function(v,m){return Uh(m,h)>0?v+1:v},0);f*Math.pow(c+1,2)<a&&(n=o,a=f*Math.pow(c+1,2))}),n},w1=function(r,t){var e=Number.POSITIVE_INFINITY,n=null;return r.forEach(function(a){var o=Uh(a,t);o>=0&&o<e&&(n=a,e=o)}),n},m6=function(r,t,e,n){var a=[],o=[];o.push(r);for(var s=!0,l=0,f=function(m,T){var D=!1;return T.forEach(function(Y){D||(Zh(m,{x:Y.x1,y:Y.y1})||Zh(m,{x:Y.x2,y:Y.y2}))&&(D=!0)}),D},h=function(m,T){for(var D=0,Y=T;D<Y.length;D++){var W=Y[D],H=W.getBBox(),st=[[H.x,H.y],[H.x+H.width,H.y],[H.x,H.y+H.height],[H.x+H.width,H.y+H.height]];if(Ys(st,m.x,m.y))return!0}return!1};s&&l<e;){s=!1;for(var c=function(){var m=o.pop(),T=w1(t,m);if(T){var D=ix(T,m),Y=D[0],W=D[1];if(W===2){var H=function(lt){for(var Mt=n,Ft=S1(T,Mt,Y,lt),zt=f(Ft,o)||f(Ft,a),Zt=h(Ft,t);!zt&&Zt&&Mt>=1;)Mt/=1.5,Ft=S1(T,Mt,Y,lt),zt=f(Ft,o)||f(Ft,a),Zt=h(Ft,t);Ft&&!zt&&(!lt||!Zt)&&(o.push(new Ro(m.x1,m.y1,Ft.x,Ft.y)),o.push(new Ro(Ft.x,Ft.y,m.x2,m.y2)),s=!0)};H(!0),s||H(!1)}}s||a.push(m),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function x6(i,r,t,e,n){var a=y6(i,t,r);if(a===null)return[];var o=function(c){for(var v=[];c.length>0;){var m=c.pop();if(c.length===0){v.push(m);break}var T=c.pop(),D=new Ro(m.x1,m.y1,T.x2,T.y2),Y=w1(r,D);Y?(v.push(m),c.push(T)):c.push(D)}return v},s=new Ro(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=m6(s,r,e,n),f=o(l);return f}var b6=function(r,t,e){var n=Object.assign(d6,e),a=ax(r.map(function(H){return{x:H.getModel().x,y:H.getModel().y}}));r=r.sort(function(H,st){return fu({x:H.getModel().x,y:H.getModel().y},a)-fu({x:st.getModel().x,y:st.getModel().y},a)});var o=[],s=[];r.forEach(function(H){var st=x6(H,t,o,n.maxRoutingIterations,n.morphBuffer);st.forEach(function(lt){s.push(lt)}),o.push(H)});for(var l=w6(r,s,n.nodeR0),f=g6(l.width,l.height,n.pixelGroupSize),h=[],c=[],v=0;v<n.maxMarchingIterations;v++)if(S6(r,t,s,l,f,n),h=[],c=[],!!new p6(h,f,n.threshold).march()){var m=h.map(function(H){return{x:Math.round(H.x*n.pixelGroupSize+l.minX),y:Math.round(H.y*n.pixelGroupSize+l.minY)}});if(m){var T=m.length;if(n.skip>1)for(T=Math.floor(m.length/n.skip);T<3&&n.skip>1;)n.skip-=1,T=Math.floor(m.length/n.skip);for(var D=0,Y=0;Y<T;Y+=1,D+=n.skip)c.push({x:m[D].x,y:m[D].y})}var W=function(){for(var st=0,lt=r;st<lt.length;st++){var Mt=lt[st],Ft=c.map(function(zt){return[zt.x,zt.y]});if(!Ys(Ft,Mt.getBBox().centerX,Mt.getBBox().centerY))return!1}return!0};if(c&&W())return c;if(n.threshold*=.9,v<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function w6(i,r,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),r.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];e.minX=(s.minX<e.minX?s.minX:e.minX)-t,e.minY=(s.minY<e.minY?s.minY:e.minY)-t,e.maxX=(s.maxX>e.maxX?s.maxX:e.maxX)+t,e.maxY=(s.maxY>e.maxY?s.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function S6(i,r,t,e,n,a){function o(m,T){var D=Math.floor((m-T)/a.pixelGroupSize);return D<0?0:D}function s(m,T){return m*a.pixelGroupSize+T}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),f=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(T,D){var Y=Math.min(o(T.minX,D+e.minX),n.width),W=Math.min(o(T.minY,D+e.minY),n.height),H=Math.min(o(T.maxX,-D+e.minX),n.width),st=Math.min(o(T.maxY,-D+e.minY),n.height);return[Y,W,H,st]},c=function(T,D){for(var Y=T.getBBox(),W=h(Y,a.nodeR1),H=W[0],st=W[1],lt=W[2],Mt=W[3],Ft=st;Ft<Mt;Ft+=1)for(var zt=H;zt<lt;zt+=1)if(!(D<0&&n[zt+Ft*n.width]<=0)){var Zt=s(zt,e.minX),Yt=s(Ft,e.minY),re=sx({x:Zt,y:Yt},{x:Y.minX,y:Y.minY,width:Y.width,height:Y.height});if(re<Math.pow(a.nodeR1,2)){var he=Math.sqrt(re)-a.nodeR1;n.cells[zt+Ft*n.width]+=D*he*he}}},v=function(T,D){for(var Y=T.getBBox(),W=h(Y,a.edgeR1),H=W[0],st=W[1],lt=W[2],Mt=W[3],Ft=st;Ft<Mt;Ft+=1)for(var zt=H;zt<lt;zt+=1)if(!(D<0&&n.cells[zt+Ft*n.width]<=0)){var Zt=s(zt,e.minX),Yt=s(Ft,e.minY),re=ox({x:Zt,y:Yt},T);if(re<Math.pow(a.edgeR1,2)){var he=Math.sqrt(re)-a.edgeR1;n.cells[zt+Ft*n.width]+=D*he*he}}};a.nodeInfluenceFactor&&i.forEach(function(m){c(m,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(m){v(m,a.edgeInfluenceFactor/f)}),a.negativeNodeInfluenceFactor&&r.forEach(function(m){c(m,a.negativeNodeInfluenceFactor/l)})}function S1(i,r,t,e){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],f={topLeft:{x:n.minX-r,y:n.minY-r},topRight:{x:n.maxX+r,y:n.minY-r},bottomLeft:{x:n.minX-r,y:n.maxY+r},bottomRight:{x:n.maxX+r,y:n.maxY+r}},h=n.height*n.width;function c(T,D){return n.width*((T.y-n.minY+(D.y-n.minY))*.5)}if(o){if(a)return e?f.topLeft:f.bottomRight;if(s)return e?f.bottomLeft:f.topRight;var v=c(o,l);return v<h*.5?o.y>l.y?e?f.topLeft:f.bottomRight:e?f.topRight:f.bottomLeft:o.y<l.y?e?f.bottomLeft:f.topRight:e?f.bottomRight:f.topLeft}if(l){if(a)return e?f.topRight:f.bottomLeft;if(s)return e?f.bottomRight:f.topLeft}var m=c(a,s);return m<h*.5?a.x>s.x?e?f.topLeft:f.bottomRight:e?f.bottomLeft:f.topRight:a.x<s.x?e?f.topRight:f.bottomLeft:e?f.bottomRight:f.topLeft}var M6=function(){function i(r,t){this.cfg=(0,u.deepMix)(this.getDefaultCfg(),t),this.graph=r,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return(0,u.isString)(e)?r.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,u.isString)(e)?r.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var r=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+r:10+r,this.cfg.bubbleCfg={nodeR0:this.padding-r,nodeR1:this.padding-r,morphBuffer:this.padding-r}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(r,t){var e,n,a;switch(this.type){case"round-convex":e=b1(r),a=vx(e.map(function(o){return[o.x,o.y]}),this.padding),n=(0,il.parsePathString)(a);break;case"smooth-convex":e=b1(r),a=dx(e.map(function(o){return[o.x,o.y]}),this.padding),n=e.length>=2&&Kh(a);break;case"bubble":e=b6(r,t,this.cfg.bubbleCfg),n=e.length>=2&&Kh(e);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:$t({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r)),this.members.push(r);var t=this.nonMembers.indexOf(r);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r)),this.nonMembers.push(r);var t=this.members.indexOf(r);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r));var t=this.members.indexOf(r);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(r){if(!!r){(0,u.isString)(r)&&(r=this.graph.findById(r));var t=this.nonMembers.indexOf(r);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(r,t){var e=this;this.group.findById(this.id).remove(),r&&(this.members=r.map(function(n){return(0,u.isString)(n)?e.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,u.isString)(n)?e.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(r){var t=this.group.findById(this.id);t.attr($t({},r))},i.prototype.updateCfg=function(r){var t=this;this.cfg=(0,u.deepMix)(this.cfg,r),this.id=this.cfg.id,this.group=this.cfg.group,r.members&&(this.members=this.cfg.members.map(function(e){return(0,u.isString)(e)?t.graph.findById(e):e})),r.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,u.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(r){var t=this,e;(0,u.isString)(r)?e=this.graph.findById(r):e=r;var n,a=e.getKeyShape();if(e.get("type")==="path")n=cu(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),Wh(n,cu(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),C6=M6,E6="node",A6="svg",T6=function(i){Xn(r,i);function r(t){var e=i.call(this)||this;return e.cfg=(0,u.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new y1(e.cfg.maxStep),e.redoStack=new y1(e.cfg.maxStep)),e}return r.prototype.init=function(){this.initCanvas();var t=new _3(this),e=new T3(this),n=new E3(this),a=new Q3(this),o=new e6(this),s=new i6(this),l=new o6(this);this.set({eventController:t,viewController:e,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},r.prototype.initCanvas=function(){var t=this.get("container");if((0,u.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===A6)o=new Gs.Z({container:t,width:e,height:n});else{var s={container:t,width:e,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new No.Z(s)}this.set("canvas",o),this.initGroups()},r.prototype.initPlugin=function(){var t=this;(0,u.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},r.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),n=e.id,a=t.addGroup({id:n+"-root",className:Ve.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:Ve.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:Ve.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:Ve.comboContainerClassName}),f=a.addGroup({id:n+"-group",className:Ve.customGroupContainerClassName});f.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:f,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:Ve.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return(0,u.isPlainObject)(t)?this.cfg=$t($t({},this.cfg),t):this.cfg[t]=e,this},r.prototype.get=function(t){return this.cfg[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){(0,u.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},r.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},r.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},r.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,e){var n,a=this.get(t+"s");return(0,u.each)(a,function(o,s){if(e(o,s))return n=o,n}),n},r.prototype.findAll=function(t,e){var n=[];return(0,u.each)(this.get(t+"s"),function(a,o){e(a,o)&&n.push(a)}),n},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(n){return n.hasState(e)})},r.prototype.translate=function(t,e){var n=this.get("group"),a=(0,u.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),Pa.wO.translate(a,a,[t,e]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},r.prototype.moveTo=function(t,e){var n=this.get("group");rx(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},r.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},r.prototype.zoom=function(t,e){var n=this.get("group"),a=(0,u.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?(Pa.wO.translate(a,a,[-e.x,-e.y]),Pa.wO.scale(a,a,[t,t]),Pa.wO.translate(a,a,[e.x,e.y])):Pa.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},r.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},r.prototype.focusItem=function(t,e,n){var a=this.get("viewController"),o=!1;e?o=!0:e===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},r.prototype.showItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},f={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],f.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],f.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],f.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:f})}},r.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},f={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],f.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],f.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],f.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:f})}},r.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},r.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},r.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},r.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var n=t;if((0,u.isString)(t)&&(n=this.findById(t)),!n&&(0,u.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),e&&this.get("enabledStack")){var s=$t($t({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var f=n.getEdges(),h=f.length-1;h>=0;h--)l.edges.push($t($t({},f[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var v=qh(this.get("comboTrees"));this.set("comboTrees",v)}}},r.prototype.addItem=function(t,e,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=e.groupId,f=e.nodes,h=e.type,c=e.zIndex,v=e.title,m=v;return(0,u.isString)(v)&&(m={text:v}),this.get("customGroupControll").create(l,f,h,c,!0,m)}if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var T,D=this.get("comboTrees");if(D||(D=[]),t==="combo"){var Y=this.get("itemMap"),W=!1;if(D.forEach(function(re){W||xa(re,function(he){if(e.parentId===he.id){W=!0;var le=$t({id:e.id,depth:he.depth+2},e);he.children?he.children.push(le):he.children=[le],e.depth=le.depth,T=s.addItem(t,e)}var Ae=Y[he.id];return W&&Ae&&Ae.getType&&Ae.getType()==="combo"&&s.updateCombo(Ae,he.children),!0})}),!W){var H=$t({id:e.id,depth:0},e);e.depth=H.depth,D.push(H),T=s.addItem(t,e)}this.set("comboTrees",D)}else if(t==="node"&&(0,u.isString)(e.comboId)&&D){var st=this.findById(e.comboId);if(st&&st.getType&&st.getType()!=="combo"){console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}T=s.addItem(t,e);var lt=this.get("itemMap"),Mt=!1,Ft=!1;(D||[]).forEach(function(re){Ft||Mt||xa(re,function(he){if(he.id===e.id)return Ft=!0,!1;if(e.comboId===he.id&&!Ft){Mt=!0;var le=(0,u.clone)(e);le.itemType="node",he.children?he.children.push(le):he.children=[le],e.depth=he.depth+1}return Mt&&lt[he.id].getType&&lt[he.id].getType()==="combo"&&s.updateCombo(lt[he.id],he.children),!0})})}else T=s.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var st=this.findById(e.comboId||e.parentId);st&&st.addChild(T)}var zt=this.get("combos");if(zt&&zt.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var Zt=$t($t({},T.getModel()),{itemType:t}),Yt={};switch(t){case"node":Yt.nodes=[Zt];break;case"edge":Yt.edges=[Zt];break;case"combo":Yt.combos=[Zt];break;default:break}this.pushStack("add",{before:{},after:Yt})}return T},r.prototype.add=function(t,e,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,e,n,a)},r.prototype.updateItem=function(t,e,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,u.isString)(t)?s=this.findById(t):s=t;var l=(0,u.clone)(s.getModel()),f="";s.getType&&(f=s.getType());var h=Ds(s.getStates());if(f==="combo"&&(0,u.each)(h,function(T){return a.setItemState(s,T,!1)}),o.updateItem(s,e),f==="combo"&&(0,u.each)(h,function(T){return a.setItemState(s,T,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},v={nodes:[],edges:[],combos:[]},m=$t({id:l.id},e);switch(f){case"node":c.nodes.push(l),v.nodes.push(m);break;case"edge":c.edges.push(l),v.edges.push(m);break;case"combo":c.combos.push(l),v.combos.push(m);break;default:break}f==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:v})}},r.prototype.update=function(t,e,n){n===void 0&&(n=!0),this.updateItem(t,e,n)},r.prototype.setItemState=function(t,e,n){(0,u.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,n);var o=this.get("stateController");(0,u.isString)(n)?o.updateState(t,e+":"+n,!0):o.updateState(t,e,n)},r.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},r.prototype.data=function(t){this.set("data",t)},r.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o,l=e.combos,f=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,u.each)(a,function(H){t.add("node",H,!1,!1)}),f&&f.length!==0){var h=Jh(f,a);this.set("comboTrees",h),t.addCombos(f)}(0,u.each)(s,function(H){t.add("edge",H,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var v=t.get("layoutController");v.layout(m)||m();function m(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(f&&f.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var T=this.getNodes();T.forEach(function(H){H.toFront()})}else{var D=this.getEdges();D.forEach(function(H){H.toBack()})}if(e.nodes){var Y=e.nodes.filter(function(H){return H.groupId});if(Y.length>0){var W=t.get("groupType");this.renderCustomGroup(e,W)}}this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(t,e,n){var a=this,o,s=this.get("itemMap");(0,u.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===E6){var f=o.getContainer().getMatrix();f||(f=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:f[6],y:f[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);e[t+"s"].push(o)})},r.prototype.changeData=function(t,e){e===void 0&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(D){return n.clearItemStates(D)}),this.getEdges().map(function(D){return n.clearItemStates(D)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},f=t.combos;if(f){var h=Jh(f,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,u.each)(s,function(D,Y){s[Y].getModel().depth=0,!(D.getType&&D.getType()==="edge")&&(D.getType&&D.getType()==="combo"?(delete s[Y],D.destroy()):l.nodes.indexOf(D)<0&&(delete s[Y],n.remove(D,!1)))});for(var c=this.getCombos(),v=c.length,m=v-1;m>=0;m--)c[m].destroyed&&c.splice(m,1);f&&(n.addCombos(f),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,u.each)(s,function(D,Y){D.getType&&(D.getType()==="node"||D.getType()==="combo")||l.edges.indexOf(D)<0&&(delete s[Y],n.remove(D,!1))}),this.set({nodes:l.nodes,edges:l.edges});var T=this.get("layoutController");return T.changeData(),n.get("animate")&&!T.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},r.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},r.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,u.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=e.map(function(f){var h=n.findById(f),c="";h.getType&&(c=h.getType());var v={id:h.getID(),itemType:c};return c==="combo"?v.parentId=a:c==="node"&&(v.comboId=a),v});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(f){xa(f,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},r.prototype.uncombo=function(t){var e=this,n,a=this,o=t;if((0,u.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var f=this.get("itemMap"),h=o.get("id"),c,v=[],m=this.get("combos"),T=this.findById(s);if(l.forEach(function(Y){c||xa(Y,function(W){var H;if(W.id===h){c=W;var st=o.getEdges();st.forEach(function(Mt){e.removeItem(Mt,!1)});var lt=m.indexOf(t);m.splice(lt,1),delete f[h],o.destroy()}if(s&&c&&W.id===s){T.removeCombo(o),v=W.children;var lt=v.indexOf(c);return lt!==-1&&v.splice(lt,1),(H=c.children)===null||H===void 0||H.forEach(function(Ft){var zt=e.findById(Ft.id),Zt=zt.getModel();zt.getType&&zt.getType()==="combo"?(Ft.parentId=s,delete Ft.comboId,Zt.parentId=s,delete Zt.comboId):zt.getType&&zt.getType()==="node"&&(Ft.comboId=s,Zt.comboId=s),T.addChild(zt),v.push(Ft)}),!1}return!0})}),!s&&c){var D=l.indexOf(c);l.splice(D,1),(n=c.children)===null||n===void 0||n.forEach(function(Y){Y.parentId=void 0;var W=e.findById(Y.id).getModel();W.parentId=void 0,Y.itemType!=="node"&&l.push(Y)})}},r.prototype.updateCombos=function(){var t=this,e=this,n=this.get("comboTrees"),a=e.get("itemController"),o=e.get("itemMap");(n||[]).forEach(function(s){xa(s,function(l){if(!l)return!0;var f=o[l.id];if(f&&f.getType&&f.getType()==="combo"){var h=Ds(f.getStates());(0,u.each)(h,function(c){return t.setItemState(f,c,!1)}),a.updateCombo(f,l.children),(0,u.each)(h,function(c){return t.setItemState(f,c,!0)})}return!0})}),e.sortCombos()},r.prototype.updateCombo=function(t){var e=this,n=this,a=t,o;if((0,u.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),f=n.get("itemMap");(s||[]).forEach(function(h){xa(h,function(c){if(!c)return!0;var v=f[c.id];if(o===c.id&&v&&v.getType&&v.getType()==="combo"){var m=Ds(v.getStates());(0,u.each)(m,function(T){v.getStateStyle(T)&&e.setItemState(v,T,!1)}),l.updateCombo(v,c.children),(0,u.each)(m,function(T){v.getStateStyle(T)&&e.setItemState(v,T,!0)}),o&&(o=c.parentId)}return!0})})},r.prototype.updateComboTree=function(t,e){var n=this;this.set("comboSorted",!1);var a;(0,u.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(e&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),f=!0,h;if((l||[]).forEach(function(D){h||Zi(D,function(Y){if(!h)return Y.id===a.getID()&&(h=Y),!0})}),Zi(h,function(D){return D.id===e?(f=!1,!1):!0}),!f){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var v="";if(a.getType&&(v=a.getType()),v==="combo"?o.parentId=e:v==="node"&&(o.comboId=e),e){var m=this.findById(e);m&&m.addChild(a)}if(s){var m=this.findById(s);m&&m.removeChild(a)}var T=qh(this.get("comboTrees"),o.id,e);this.set("comboTrees",T),this.updateCombos()},r.prototype.renderCustomGroup=function(t,e){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var v=M3(t);Object.keys(v).forEach(function(T){var D=v[T];n.get("customGroupControll").create(T,D,e,l),l--});var m=this.get("customGroup");m.sort()}else{var f=s.filter(function(T){return T.groupId}),h=[],c=(0,u.groupBy)(f,"groupId");Object.keys(c).forEach(function(T){var D=c[T].map(function(Y){return Y.id});n.get("customGroupControll").create(T,D,e,l),l--,h.find(function(Y){return Y.id===T})||h.push({id:T})}),this.set({groups:h})}},r.prototype.save=function(){var t=[],e=[],n=[];return(0,u.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,u.each)(this.get("edges"),function(a){e.push(a.getModel())}),(0,u.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:e,combos:n,groups:this.get("groups")}},r.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},r.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,u.each)(e,function(o){o.refresh()}),(0,u.each)(n,function(o){o.refresh()}),(0,u.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((0,u.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},r.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,a=t.getNodes(),o=a.map(function(l){var f=l.getModel();return{id:f.id,x:f.x,y:f.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,u.each)(o,function(f){var h=t.findById(f.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),v=h.get("model");if(!c){var m=h.getContainer().getMatrix();m||(m=[1,0,0,0,1,0,0,0,1]),c={x:m[6],y:m[7]},h.set("originAttrs",c)}if(n){var T=n(h,l,f,c);h.set("model",Object.assign(v,T))}else v.x=c.x+(f.x-c.x)*l,v.y=c.y+(f.y-c.y)*l}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){(0,u.each)(a,function(f){f.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},r.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,u.each)(e,function(f){s=f.getModel();var h=f.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(f.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,u.each)(n,function(f){var h=f.getSource().getModel(),c=f.getTarget().getModel();(l[h.id]||l[c.id]||f.getModel().isComboEdge)&&f.refresh()}),(0,u.each)(a,function(f){f.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},r.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},r.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},r.prototype.toDataURL=function(t,e){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),f=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",f);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var v=void 0,m=o.getContext("2d"),T=this.get("width"),D=this.get("height"),Y=void 0;if(e){var W=window.devicePixelRatio;v=m.getImageData(0,0,T*W,D*W),Y=m.globalCompositeOperation,m.globalCompositeOperation="destination-over",m.fillStyle=e,m.fillRect(0,0,T,D)}s=o.toDataURL(t),e&&(m.clearRect(0,0,T,D),m.putImageData(v,0,0),m.globalCompositeOperation=Y)}return s},r.prototype.toFullDataURL=function(t,e,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),f=(0,gi.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,u.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var v=o+c[0]+c[2],m=s+c[1]+c[3],T={container:f,height:v,width:m,quickHit:!0},D=l==="svg"?new Gs.Z(T):new No.Z(T),Y=this.get("group"),W=Y.clone(),H=(0,u.clone)(W.getMatrix());H||(H=[1,0,0,0,1,0,0,0,1]);var st=(a.maxX+a.minX)/2,lt=(a.maxY+a.minY)/2;Pa.wO.translate(H,H,[-st,-lt]),Pa.wO.translate(H,H,[s/2+c[3],o/2+c[0]]),W.resetMatrix(),W.setMatrix(H),D.add(W);var Mt=D.get("el"),Ft="";e||(e="image/png"),setTimeout(function(){if(l==="svg"){var zt=Mt.cloneNode(!0),Zt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Yt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Zt);Yt.replaceChild(zt,Yt.documentElement);var re=new XMLSerializer().serializeToString(Yt);Ft="data:image/svg+xml;charset=utf8,"+encodeURIComponent(re)}else{var he=void 0,le=Mt.getContext("2d"),Ae=void 0;if(h){var Ie=window.devicePixelRatio;he=le.getImageData(0,0,m*Ie,v*Ie),Ae=le.globalCompositeOperation,le.globalCompositeOperation="destination-over",le.fillStyle=h,le.fillRect(0,0,m,v)}Ft=Mt.toDataURL(e),h&&(le.clearRect(0,0,m,v),le.putImageData(he,0,0),le.globalCompositeOperation=Ae)}t==null||t(Ft)},16)},r.prototype.downloadFullImage=function(t,e,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,f=this.get("renderer"),h=(0,gi.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,v=n?n.padding:void 0;v?(0,u.isNumber)(v)&&(v=[v,v,v,v]):v=[0,0,0,0];var m=s+v[0]+v[2],T=l+v[1]+v[3],D={container:h,height:m,width:T},Y=f==="svg"?new Gs.Z(D):new No.Z(D),W=this.get("group"),H=W.clone(),st=(0,u.clone)(H.getMatrix());st||(st=[1,0,0,0,1,0,0,0,1]);var lt=(o.maxX+o.minX)/2,Mt=(o.maxY+o.minY)/2;Pa.wO.translate(st,st,[-lt,-Mt]),Pa.wO.translate(st,st,[l/2+v[3],s/2+v[0]]),H.resetMatrix(),H.setMatrix(st),Y.add(H);var Ft=Y.get("el");e||(e="image/png"),setTimeout(function(){var zt="";if(f==="svg"){var Zt=Ft.cloneNode(!0),Yt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),re=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Yt);re.replaceChild(Zt,re.documentElement);var he=new XMLSerializer().serializeToString(re);zt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(he)}else{var le=void 0,Ae=Ft.getContext("2d"),Ie=void 0;if(c){var Le=window.devicePixelRatio;le=Ae.getImageData(0,0,T*Le,m*Le),Ie=Ae.globalCompositeOperation,Ae.globalCompositeOperation="destination-over",Ae.fillStyle=c,Ae.fillRect(0,0,T,m)}zt=Ft.toDataURL(e),c&&(Ae.clearRect(0,0,T,m),Ae.putImageData(le,0,0),Ae.globalCompositeOperation=Ie)}var je=document.createElement("a"),Ke=(t||"graph")+(f==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(zt,f,je,Ke);var Qe=document.createEvent("MouseEvents");Qe.initEvent("click",!1,!1),je.dispatchEvent(Qe)},16)},r.prototype.downloadImage=function(t,e,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();e||(e="image/png");var f=(t||"graph")+(l==="svg"?".svg":e.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(e,n);a.dataURLToImage(c,l,h,f);var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),h.dispatchEvent(v)},16)},r.prototype.dataURLToImage=function(t,e,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var f=atob(o[1]),h=f.length,c=new Uint8Array(h);h--;)c[h]=f.charCodeAt(h);var v=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(v,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(v)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},r.prototype.updateLayout=function(t){var e=this.get("layoutController"),n;(0,u.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),e.updateLayoutCfg(s)}else this.set("layout",t),e.changeLayout(n)},r.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!!e){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},r.prototype.collapseCombo=function(t){var e=this;if((0,u.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],f=this.get("comboTrees"),h=!1,c={};(f||[]).forEach(function(T){c[T.id]=T}),(f||[]).forEach(function(T){h||Zi(T,function(D){if(h&&c[D.id])return!1;if(n.parentId===D.id?(c={},D.children.forEach(function(W){c[W.id]=W})):n.id===D.id&&(h=!0),h){var Y=e.findById(D.id);Y&&Y.getType&&Y.getType()==="combo"&&(s=s.concat(Y.getNodes()),l=l.concat(Y.getCombos()))}return!0})});var v={},m=[];o.forEach(function(T){if(!(T.isVisible()&&!T.getModel().isVEdge)){var D=T.getSource(),Y=T.getTarget();if((s.includes(D)||l.includes(D))&&!s.includes(Y)&&!l.includes(Y)||D.getModel().id===n.id){var W=T.getModel();if(W.isVEdge){e.removeItem(T,!1);return}for(var H=Y.getModel();!Y.isVisible();){if(Y=e.findById(H.parentId||H.comboId),!Y||!H.parentId&&!H.comboId)return;H=Y.getModel()}var st=H.id;if(v[n.id+"-"+st]){v[n.id+"-"+st]+=W.size||1;return}var lt=e.addItem("vedge",{source:n.id,target:st,isVEdge:!0},!1);v[n.id+"-"+st]=W.size||1,m.push(lt)}else if(!s.includes(D)&&!l.includes(D)&&(s.includes(Y)||l.includes(Y))||Y.getModel().id===n.id){var W=T.getModel();if(W.isVEdge){e.removeItem(T,!1);return}for(var Mt=D.getModel();!D.isVisible();){if(D=e.findById(Mt.parentId||Mt.comboId),!D||!Mt.parentId&&!Mt.comboId)return;Mt=D.getModel()}var Ft=Mt.id;if(v[Ft+"-"+n.id]){v[Ft+"-"+n.id]+=W.size||1;return}var lt=e.addItem("vedge",{target:n.id,source:Ft,isVEdge:!0},!1);v[Ft+"-"+n.id]=W.size||1,m.push(lt)}}}),m.forEach(function(T){var D=T.getModel();e.updateItem(T,{size:v[D.source+"-"+D.target]},!1)})},r.prototype.expandCombo=function(t){var e=this;if((0,u.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],f=this.get("comboTrees"),h=!1,c={};(f||[]).forEach(function(T){c[T.id]=T}),(f||[]).forEach(function(T){h||Zi(T,function(D){if(h&&c[D.id])return!1;if(n.parentId===D.id?(c={},D.children.forEach(function(W){c[W.id]=W})):n.id===D.id&&(h=!0),h){var Y=e.findById(D.id);Y&&Y.getType&&Y.getType()==="combo"&&(s=s.concat(Y.getNodes()),l=l.concat(Y.getCombos()))}return!0})});var v={},m={};o.forEach(function(T){if(!(T.isVisible()&&!T.getModel().isVEdge)){var D=T.getSource(),Y=T.getTarget(),W=D.get("id"),H=Y.get("id");if((s.includes(D)||l.includes(D))&&!s.includes(Y)&&!l.includes(Y)||W===n.id){if(T.getModel().isVEdge){e.removeItem(T,!1);return}for(var st=Y.getModel();!Y.isVisible();){if(Y=e.findById(st.comboId||st.parentId),!Y||!st.parentId&&!st.comboId)return;st=Y.getModel()}H=st.id;for(var lt=D.getModel();!D.isVisible();){if(D=e.findById(lt.comboId||lt.parentId),!D||!lt.parentId&&!lt.comboId)return;if(lt.comboId===n.id||lt.parentId===n.id)break;lt=D.getModel()}if(W=lt.id,H){var Mt=W+"-"+H;if(v[Mt]){v[Mt]+=T.getModel().size||1,e.updateItem(m[Mt],{size:v[Mt]},!1);return}var Ft=e.addItem("vedge",{source:W,target:H,isVEdge:!0},!1);v[Mt]=T.getModel().size||1,m[Mt]=Ft}}else if(!s.includes(D)&&!l.includes(D)&&(s.includes(Y)||l.includes(Y))||H===n.id){if(T.getModel().isVEdge){e.removeItem(T,!1);return}for(var lt=D.getModel();!D.isVisible();){if(D=e.findById(lt.comboId||lt.parentId),!D||!lt.parentId&&!lt.comboId)return;lt=D.getModel()}W=lt.id;for(var st=Y.getModel();!Y.isVisible();){if(Y=e.findById(st.comboId||st.parentId),!Y||!st.parentId&&!st.comboId)return;if(st.comboId===n.id||st.parentId===n.id)break;st=Y.getModel()}if(H=st.id,W){var Mt=W+"-"+H;if(v[Mt]){v[Mt]+=T.getModel().size||1,e.updateItem(m[Mt],{size:v[Mt]},!1);return}var Ft=e.addItem("vedge",{target:H,source:W,isVEdge:!0},!1);v[Mt]=T.getModel().size||1,m[Mt]=Ft}}else(s.includes(D)||l.includes(D))&&(s.includes(Y)||l.includes(Y))&&D.isVisible()&&Y.isVisible()&&T.show()}})},r.prototype.collapseExpandCombo=function(t){if((0,u.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=e.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.collapseGroup=function(t){var e=this.get("customGroupControll");e.collapseGroup(t)},r.prototype.expandGroup=function(t){var e=this.get("customGroupControll");e.expandGroup(t)},r.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},r.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},r.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){Zi(l,function(f){return n[f.depth]?n[f.depth].push(f.id):n[f.depth]=[f.id],a[f.id]=f.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var f=l.getModel(),h=a[f.source]||0,c=a[f.target]||0,v=Math.max(h,c);n[v]?n[v].push(f.id):n[v]=[f.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var f=l.length-1;f>=0;f--){var h=t.findById(l[f]);h==null||h.toFront()}})}},r.prototype.getNeighbors=function(t,e){var n=t;return(0,u.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},r.prototype.getNodeDegree=function(t,e){e===void 0&&(e=void 0);var n=t;(0,u.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=d1(this)),this.set("degees",a);var o=a[n.getID()],s;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?(0,u.clone)(e):{before:{},after:(0,u.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},r.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=Bu(this,e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=Bu(this,e),this.set("adjMatrix",n)),(!a||!t)&&(a=m1(this,e),this.set("shortestPathMatrix",a)),a},r.prototype.destroy=function(){this.clear(),this.clearStack(),(0,u.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=e.addGroup({id:t.id+"-container"}),o=new C6(this,$t($t({},t),{group:a})),s=o.id;return n[s]=o,o},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e;(0,u.isString)(t)?e=this.getHullById(t):e=t;var n=this.get("hullMap");delete n[e.id],e.destroy()},r.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=Ve.waterMarkerImage);var n=this.get("container");(0,u.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,u.deepMix)({},Ve.imageWaterMarkerConfig,e),s=o.width,l=o.height,f=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new No.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var m=a.get("context"),T=h.rotate,D=h.x,Y=h.y;m.rotate(-T*Math.PI/180);var W=new Image;W.crossOrigin="anonymous",W.src=t,W.onload=function(){if(m.drawImage(W,D,Y,h.width,h.height),m.rotate(T*Math.PI/180),f)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var H=document.querySelector(".g6-graph-watermarker");H||(H=document.createElement("div"),H.className="g6-graph-watermarker"),H.className="g6-graph-watermarker",a.destroyed||(H.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(H))}}},r.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,u.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,u.deepMix)({},Ve.textWaterMarkerConfig,e),s=o.width,l=o.height,f=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new No.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var m=a.get("context"),T=h.rotate,D=h.fill,Y=h.fontFamily,W=h.fontSize,H=h.baseline,st=h.x,lt=h.y,Mt=h.lineHeight;m.rotate(-T*Math.PI/180),m.font=W+"px "+Y,m.fillStyle=D,m.textBaseline=H;for(var Ft=t.length-1;Ft>=0;Ft--)m.fillText(t[Ft],st,lt+Ft*Mt);if(m.rotate(T*Math.PI/180),f)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var zt=document.querySelector(".g6-graph-watermarker");zt||(zt=document.createElement("div"),zt.className="g6-graph-watermarker"),zt.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(zt)}},r}(we.default),M1=T6,P6=d(77201),C1=d.n(P6),_6=function(i){Xn(r,i);function r(t){var e=i.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return r.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=C1()[t.type](e,t);return Ax(n),n}:function(e){return C1()[t.type](e,t)}):null},r.indexOfChild=function(t,e){var n=-1;return(0,ei.S6)(t,function(a,o){if(e===a.id)return n=o,!1}),n},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},r.prototype.innerAddChild=function(t,e,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(e){if(s.set("parent",e),n){var l=e.get("originAttrs");if(l)s.set("originAttrs",l);else{var f=e.getModel();s.set("originAttrs",{x:f.x,y:f.y})}}var h=e.get("children");h?h.push(s):e.set("children",[s]),a.addItem("edge",{source:e,target:s,id:e.get("id")+":"+s.get("id")},!1)}return(0,ei.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:e}),s},r.prototype.innerUpdateChild=function(t,e,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,e,n);return}(0,ei.S6)(t.children||[],function(T){a.innerUpdateChild(T,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var f=s.length-1;f>=0;f--){var h=s[f].getModel();r.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(f,1))}}var c,v;o.get("originAttrs")&&(c=o.get("originAttrs").x,v=o.get("originAttrs").y);var m=o.getModel();n&&o.set("originAttrs",{x:m.x,y:m.y}),o.set("model",t.data),(c!==t.x||v!==t.y)&&o.updatePosition({x:t.x,y:t.y})},r.prototype.innerRemoveChild=function(t,e,n){var a=this,o=a.findById(t);if(!!o)if((0,ei.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,e,n)}),n){var s=o.getModel();o.set("to",e),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},r.prototype.changeData=function(t){var e=this;this.getNodes().map(function(n){return e.clearItemStates(n)}),this.getEdges().map(function(n){return e.clearItemStates(n)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},r.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},r.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},r.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},r.prototype.layout=function(t){var e=this,n=e.get("data"),a=e.get("layoutMethod"),o=a(n,e.get("layout")),s=e.get("animate");if(e.emit("beforerefreshlayout",{data:n,layoutData:o}),e.emit("beforelayout"),e.innerUpdateChild(o,void 0,s),t){var l=e.get("viewController");l.fitView()}s?e.layoutAnimate(o):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:n,layoutData:o}),e.emit("afterlayout")},r.prototype.addChild=function(t,e){var n=this;n.emit("beforeaddchild",{model:t,parent:e}),(0,ei.HD)(e)||(e=e.get("id"));var a=n.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},r.prototype.updateChild=function(t,e){var n=this;if(!e||!n.findById(e)){n.changeData(t);return}var a=n.findById(e).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=r.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},r.prototype.removeChild=function(t){var e=this,n=e.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=e.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),f=r.indexOfChild(s,l.id);s.splice(f,1)}e.changeData()}},r.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var a=null;return(0,ei.S6)(e.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},r.prototype.layoutAnimate=function(t,e){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Zi(t,function(s){var l=n.findById(s.id);if(l){var f=l.get("originAttrs"),h=l.get("model");if(f||(f={x:h.x,y:h.y},l.set("originAttrs",f)),e){var c=e(l,o,f,t);l.set("model",Object.assign(h,c))}else h.x=f.x+(s.x-f.x)*o,h.y=f.y+(s.y-f.y)*o}return!0}),(0,ei.S6)(n.get("removeList"),function(s){var l=s.getModel(),f=s.get("originAttrs"),h=s.get("to");l.x=f.x+(h.x-f.x)*o,l.y=f.y+(h.y-f.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,ei.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,ei.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},r.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},r.prototype.isLayoutAnimating=function(){return this.layoutAnimating},r.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},r.prototype.save=function(){return this.get("data")},r}(M1),O6=_6,L6="-shape",E1="-label",Du=["startArrow","endArrow"],dc="-label-bg",pc={options:{},itemType:"",type:"",getCustomConfig:function(r){return{}},getOptions:function(r){return(0,u.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(r)||{},r)},draw:function(r,t){var e=this.drawShape(r,t);if(e.set("className",this.itemType+L6),r.label){var n=this.drawLabel(r,t);n.set("className",this.itemType+E1)}return e},afterDraw:function(r,t,e){},drawShape:function(r,t){return null},drawLabel:function(r,t){var e=this.getOptions(r).labelCfg,n=e||{},a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),f=s.getMatrix();if(f||(f=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":f=Ga(f,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":f=Ga(f,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":f=Ga(f,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:f=Ga(f,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else f=Ga(f,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(f)}if(a.background){var h=this.drawLabelBg(r,t,s),c=this.itemType+dc;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,u.mix)({},n,r.labelCfg),o=this.getLabelBgStyleByPosition(e,r,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(r,t,e){return{text:r.label}},getLabelBgStyleByPosition:function(r,t,e,n){return{}},getLabelStyle:function(r,t,e){var n=this.getLabelStyleByPosition(r,t,e),a=this.itemType+"Label",o=Ve[a]?Ve[a].style:null,s=$t($t($t({},o),n),t.style);return s},getShapeStyle:function(r){return r.style},update:function(r,t){this.updateShapeStyle(r,t),this.updateLabel(r,t)},updateShapeStyle:function(r,t){var e=t.getContainer(),n=t.getKeyShape(),a=(0,u.mix)({},n.attr(),r.style),o=function(f){var h,c=a[f];if((0,u.isPlainObject)(c)){var v=e.find(function(m){return m.get("name")===f});v&&v.attr(c)}else n.attr((h={},h[f]=c,h))};for(var s in a)o(s)},updateLabel:function(r,t){var e=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+E1,o=e.find(function(lt){return lt.get("className")===a}),s=this.itemType+dc,l=e.find(function(lt){return lt.get("classname")===s});if(r.label||r.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,u.deepMix)({},n,h,r.labelCfg),v=this.getLabelStyleByPosition(r,c,e),m=r.labelCfg?r.labelCfg.style:void 0,T=c.style&&c.style.background,D=$t($t($t({},o.attr()),v),m),Y=D.rotate;if(delete D.rotate,Y){var W=[1,0,0,0,1,0,0,0,1];W=Ga(W,[["t",-D.x,-D.y],["r",Y],["t",D.x,D.y]]),o.resetMatrix(),o.attr($t($t({},D),{matrix:W}))}else o.resetMatrix(),o.attr(D);if(!l)D.background&&(l=this.drawLabelBg(r,e,o),l.set("classname",s),o.toFront());else if(D.background){var H=this.getLabelBgStyleByPosition(o,r,c,e),st=$t($t({},H),T);l.resetMatrix(),Y&&l.rotateAtStart(Y),l.attr(st)}else e.removeChild(l)}else{var f=this.drawLabel(r,e);f.set("className",a)}},afterUpdate:function(r,t){},setState:function(r,t,e){var n,a,o=e.get("keyShape");if(!!o){var s=e.getType(),l=(0,u.isBoolean)(t)?r:r+":"+t,f=this.getStateStyle(l,e),h=e.getStateStyle(l);if(!(!h&&!f)){var c=(0,u.mix)({},h||f),v=e.getContainer();if(t){var m=function(le){var Ae,Ie=c[le];if((0,u.isPlainObject)(Ie)&&!Du.includes(le)){var Le=v.find(function(je){return je.get("name")===le});Le&&Le.attr(Ie)}else o.attr((Ae={},Ae[le]=Ie,Ae))};for(var T in c)m(T)}else{var D=(0,u.clone)(e.getCurrentStatesStyle()),Y=e.getModel(),W=(0,u.mix)({},Y.style,(0,u.clone)(e.getOriginStyle())),H=o.get("name"),st=o.attr(),lt={},Mt=function(le){var Ae=c[le];if((0,u.isPlainObject)(Ae)&&!Du.includes(le)){var Ie=v.find(function(Ke){return Ke.get("name")===le});if(Ie){var Le=Ie.attr();(0,u.each)(Ae,function(Ke,Qe){(Le[Qe]||Le[Qe]===0)&&delete Le[Qe]}),lt[le]=Le}}else{var je={x:1,y:1,cx:1,cy:1};st[le]&&!je[le]&&delete st[le]}};for(var Ft in c)Mt(Ft);H?lt[H]=st:(0,u.mix)(lt,st);for(var T in D){var zt=D[T];(!(0,u.isPlainObject)(zt)||Du.includes(T))&&(H?((0,u.mix)(W[H],(a={},a[T]=zt,a)),delete W[T]):(0,u.mix)(W,(n={},n[T]=zt,n)),delete D[T])}var Zt={};(0,u.deepMix)(Zt,W,lt,D);var Yt=function(le){var Ae,Ie,Le=Zt[le];if((0,u.isPlainObject)(Le)&&!Du.includes(le)){var je=v.find(function(Ke){return Ke.get("name")===le});je&&je.attr(Le)}else s==="combo"?H||o.attr((Ae={},Ae[le]=Le,Ae)):o.attr((Ie={},Ie[le]=Le,Ie))};for(var re in Zt)Yt(re)}}}},getStateStyle:function(r,t){var e=t.getModel(),n=t.getType(),a=this.getOptions(e),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,f=e.stateStyles?e.stateStyles[r]:o&&o[r];return n==="combo"?(0,u.clone)(f):(0,u.mix)({},l,f)},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.getOptions(r).anchorPoints;return t}},I6={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Ve.nodeLabel.offset,getSize:function(r){var t=r.size||this.getOptions({}).size||Ve.defaultNode.size;return(0,u.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,u.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:r.label};var n=t.offset;(0,u.isNil)(n)&&(n=this.offset);var a=this.getSize(r),o=a[0],s=a[1],l;switch(e){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=r.label,l},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=Nh(o.padding),l=a.width+s[1]+s[3],f=a.height+s[0]+s[2],h=e.offset;(0,u.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=$t($t($t({},c),o),{width:l,height:f}),c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=t.find(function(zt){return zt.get("className")==="link-point-left"}),a=t.find(function(zt){return zt.get("className")==="link-point-right"}),o=t.find(function(zt){return zt.get("className")==="link-point-top"}),s=t.find(function(zt){return zt.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=e);var f=(0,u.mix)({},l,r.linkPoints),h=f.fill,c=f.stroke,v=f.lineWidth,m=f.size/2;m||(m=f.r);var T=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},D=T.left,Y=T.right,W=T.top,H=T.bottom,st=this.getSize(r),lt=st[0],Mt=st[1],Ft={r:m,fill:h,stroke:c,lineWidth:v};n?!D&&D!==void 0?n.remove():n.attr($t($t({},Ft),{x:-lt/2,y:0})):D&&t.addShape("circle",{attrs:$t($t({},Ft),{x:-lt/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!Y&&Y!==void 0&&a.remove(),a.attr($t($t({},Ft),{x:lt/2,y:0}))):Y&&t.addShape("circle",{attrs:$t($t({},Ft),{x:lt/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!W&&W!==void 0&&o.remove(),o.attr($t($t({},Ft),{x:0,y:-Mt/2}))):W&&t.addShape("circle",{attrs:$t($t({},Ft),{x:0,y:-Mt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!H&&H!==void 0?s.remove():s.attr($t($t({},Ft),{x:0,y:Mt/2})):H&&t.addShape("circle",{attrs:$t($t({},Ft),{x:0,y:Mt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(r,t,e,n){var a=t.get("keyShape");a.attr($t({},e)),this.updateLabel(r,t),n&&this.updateIcon(r,t)},updateIcon:function(r,t){var e=this,n=t.getContainer(),a=this.getOptions(r).icon,o=(r.icon?r.icon:{show:void 0}).show,s=n.find(function(v){return v.get("className")===e.type+"-icon"});if(s)if(o||o===void 0){var l=(0,u.mix)({},s.attr(),a),f=l.width,h=l.height;s.attr($t($t({},l),{x:-f/2,y:-h/2}))}else s.remove();else if(o){var f=a.width,h=a.height;n.addShape("image",{attrs:$t($t({},a),{x:-f/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(T){return T.get("className")==="node-label"});c&&c.toFront()}}},k6=$t($t({},pc),I6);ii.registerNode("single-node",k6);var Fu="edge-shape";function B6(i){var r=i;return i==="start"?r="end":i==="end"&&(r="start"),r}var D6={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Ve.defaultEdge.size,style:{x:0,y:0,stroke:Ve.defaultEdge.style.stroke,lineAppendWidth:Ve.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ve.edgeLabel.style.fill,fontSize:Ve.edgeLabel.style.fontSize}},stateStyles:$t({},Ve.edgeStateStyles)},getPath:function(r){var t=[];return(0,u.each)(r,function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,u.mix)({},t,e,r.style),a=r.size||Ve.defaultEdge.size;r=this.getPathPoints(r);var o=r.startPoint,s=r.endPoint,l=this.getControlPoints(r),f=[o];l&&(f=f.concat(l)),f.push(s);var h=this.getPath(f),c=(0,u.mix)({},Ve.defaultEdge.style,{stroke:Ve.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(W){return W.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,f=this.getControlPoints(r),h=[s];f&&(h=h.concat(f)),h.push(l);var c=(0,u.mix)({},n,a.attr(),r.style),v=r.sourceNode,m=r.targetNode,T={radius:c.radius};f||(T={source:v,target:m,offset:c.offset,radius:c.radius});var D=this.getPath(h,T),Y=(0,u.mix)(n,a.attr(),{lineWidth:o,path:D},r.style);a&&a.attr(Y)},getLabelStyleByPosition:function(r,t,e){var n=t.position||this.labelPosition,a={},o=e&&e.find(function(v){return v.get("className")===Fu}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,f=t.refY||this.refY;if(r.startPoint.x===r.endPoint.x&&r.startPoint.y===r.endPoint.y)return a.x=r.startPoint.x+l,a.y=r.startPoint.y+f,a.text=r.label,a;var h=(0,u.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=pu(o,s,l,f,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=r.label,a},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],f=a.height+s[0]+s[2],h=e.position||this.labelPosition,c=$t($t({},o),{width:l,height:f,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),v=(0,u.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,m=n&&n.find(function(st){return st.get("className")===Fu}),T;h==="start"?T=0:h==="end"?T=1:T=.5;var D=e.refX||this.refX,Y=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+D,c.y=t.startPoint.y+Y,c;var W=pu(m,T,D-l/2,Y+f/2,v),H=W.angle;return H>1/2*Math.PI&&H<3*1/2*Math.PI&&(W=pu(m,T,D+l/2,Y+f/2,v)),v&&(c.x=W.x,c.y=W.y),c.rotate=W.rotate,c},_getTextAlign:function(r,t){var e="center";return t?(t=t%(Math.PI*2),r!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=r:e=B6(r)),e):r},getControlPoints:function(r){return r.controlPoints},getPathPoints:function(r){return r},drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("path",{className:Fu,name:Fu,attrs:e});return n},drawLabel:function(r,t){var e=this.options.labelCfg,n=(0,u.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e,r.labelCfg),a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(r,t,s),f=this.itemType+dc;l.set("classname",f),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,u.deepMix)({},n,r.labelCfg),o=this.getLabelStyle(r,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(e,r,a,t);delete l.rotate;var f=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&f.rotateAtStart(s),f}},F6=$t($t({},pc),D6);ii.registerEdge("single-edge",F6),ii.registerEdge("line",{getControlPoints:function(){}},"single-edge"),ii.registerEdge("spline",{getPath:function(r){var t=lx(r);return t}},"single-edge"),ii.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(r){var t=r.startPoint,e=r.endPoint,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,o;if(r.controlPoints!==void 0){if(o=r.controlPoints[0],a=Xh(t,o,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>o.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>o.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),(0,Di.default)(r.curveOffset)&&(r.curveOffset=r.curveOffset[0]),r.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:e.x-t.x,y:e.y-t.y},l=Math.atan2(s.y,s.x);o={x:r.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:r.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=Xh(t,o,e)}var f=Ns(t,a),h=[{x:f,y:f}];return h},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),r.length===2?t.push(["L",r[1].x,r[1].y]):t.push(["A",r[1].x,r[1].y,0,0,this.clockwise,r[2].x,r[2].y]),t}},"single-edge"),ii.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(r){var t=r.controlPoints;if(!t||!t.length){var e=r.startPoint,n=r.endPoint;r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Di.default)(this.curveOffset)&&(r.curveOffset=r.curveOffset[0]),(0,Di.default)(this.curvePosition)&&(r.curvePosition=r.curveOffset[0]);var a=hu(e,n,r.curvePosition,r.curveOffset);t=[a]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["Q",r[1].x,r[1].y,r[2].x,r[2].y]),t}},"single-edge"),ii.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(r){var t=r.controlPoints;if(r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Ta.default)(r.curveOffset)&&(r.curveOffset=[r.curveOffset,-r.curveOffset]),(0,Ta.default)(r.curvePosition)&&(r.curvePosition=[r.curvePosition,1-r.curvePosition]),!t||!t.length||t.length<2){var e=r.startPoint,n=r.endPoint,a=hu(e,n,r.curvePosition[0],r.curveOffset[0]),o=hu(e,n,r.curvePosition[1],r.curveOffset[1]);t=[a,o]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]),t}},"single-edge"),ii.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Ta.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(e.y-t.y)*this.curvePosition[0]+t.y},a={x:e.x,y:(e.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),ii.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Ta.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(e.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(e.x-t.x)*this.curvePosition[1]+t.x,y:e.y},o=[n,a];return o}},"cubic"),ii.registerEdge("loop",{getPathPoints:function(r){return Cx(r)},getControlPoints:function(r){return r.controlPoints},afterDraw:function(r){r.controlPoints=void 0},afterUpdate:function(r){r.controlPoints=void 0}},"cubic");var R6={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Ve.comboLabel.refX,refY:Ve.comboLabel.refY,options:{style:{stroke:Ve.defaultCombo.style.stroke,fill:Ve.defaultCombo.style.fill,lineWidth:Ve.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ve.comboLabel.style.fill,fontSize:Ve.comboLabel.style.fontSize}},stateStyles:$t({},Ve.comboStateStyles)},getSize:function(r){var t=(0,u.clone)(r.size||this.options.size||Ve.defaultCombo.size);return(0,u.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,u.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,u.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,u.isNil)(o)&&(o=this.refX),(0,u.isNil)(s)&&(s=this.refY);var l=this.getSize(r),f=Math.max(n.r,l[0]/2)||l[0]/2,h=f+a,c;switch(e){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:r.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=r.label,c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr($t({},e)),this.updateLabel(r,t)}},N6=$t($t({},pc),R6);ii.registerCombo("single-combo",N6),ii.registerCombo("circle",{options:{size:[Ve.defaultCombo.size[0],Ve.defaultCombo.size[0]],padding:Ve.defaultCombo.padding[0],animate:!0,style:{stroke:Ve.defaultCombo.style.stroke,fill:Ve.defaultCombo.style.fill,lineWidth:Ve.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ve.comboLabel.style.fill,fontSize:Ve.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:$t({},Ve.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r);delete e.height,delete e.width;var n=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,u.isArray)(e)&&(e=e[0]);var n={stroke:r.color},a=(0,u.mix)({},t,n,r.style),o=this.getSize(r),s;!(0,u.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||Ve.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+e;var l=$t({x:0,y:0},a);return r.style?r.style.r=s:r.style={r:s},l},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,u.isArray)(n)&&(n=n[0]);var a=(0,u.clone)(r.style),o=Math.max(a.r,e[0]/2)||e[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:r.color},f=t.get("keyShape"),h=(0,u.mix)({},f.attr(),l,a);r.style?r.style.r=o:r.style={r:o},this.updateShape(r,t,h,!0)}},"single-combo"),ii.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Ve.defaultCombo.style.stroke,fill:Ve.defaultCombo.style.fill,lineWidth:Ve.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Ve.comboLabel.style.fill,fontSize:Ve.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:$t({},Ve.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,u.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,u.isNil)(o)&&(o=this.refX),(0,u.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],f=n.height/2+a[0],h;switch(e){case"top":h={x:0-l+o,y:0-f+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:f+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:r.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=r.label,h},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,u.isNumber)(e)&&(e=[e,e,e,e]);var n={stroke:r.color},a=(0,u.mix)({},t,n,r.style),o=this.getSize(r),s,l;!(0,u.isNumber)(a.width)||isNaN(a.width)?s=o[0]||Ve.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,u.isNumber)(a.height)||isNaN(a.height)?l=o[1]||Ve.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var f=-s/2-e[3],h=-l/2-e[0];a.width=s+e[1]+e[3],a.height=l+e[0]+e[2];var c=$t({x:f,y:h},a);return r.style?(r.style.width=s,r.style.height=l):r.style={width:s,height:l},c},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,u.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,u.clone)(r.style),o=Math.max(a.width,e[0])||e[0],s=Math.max(a.height,e[1])||e[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var f={stroke:r.color},h=t.get("keyShape"),c=(0,u.mix)({},h.attr(),f,a);r.style?(r.style.width=o,r.style.height=s):r.style={width:o,height:s},this.updateShape(r,t,c,!1)},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr($t({},e)),this.updateLabel(r,t)}},"single-combo"),ii.registerNode("circle",{options:{size:Ve.defaultNode.size,style:{x:0,y:0,stroke:Ve.defaultNode.style.stroke,fill:Ve.defaultNode.style.fill,lineWidth:Ve.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ve.nodeLabel.style.fill,fontSize:Ve.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ve.defaultNode.linkPoints.size,lineWidth:Ve.defaultNode.linkPoints.lineWidth,fill:Ve.defaultNode.linkPoints.fill,stroke:Ve.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:$t({},Ve.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=(0,Xi.default)({},n,r.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,f=o.height,h=o.show;return h&&t.addShape("image",{attrs:$t({x:-l/2,y:-f/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(r,t),s},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=ji(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),m=v[0]/2;o&&t.addShape("circle",{attrs:$t($t({},c),{x:-m,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:$t($t({},c),{x:m,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:-m,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:m,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,Xi.default)({},t,e),a=this.getSize(r),o=a[0]/2,s=$t({x:0,y:0,r:o},n);return s},update:function(r,t){var e=t.getContainer(),n=this.getSize(r),a={stroke:r.color,r:n[0]/2},o=t.get("keyShape"),s=(0,Xi.default)({},o.attr(),a,r.style);this.updateShape(r,t,s,!0),this.updateLinkPoints(r,e)}},"single-node"),ii.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:Ve.defaultNode.style.stroke,fill:Ve.defaultNode.style.fill,lineWidth:Ve.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ve.nodeLabel.style.fill,fontSize:Ve.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ve.defaultNode.linkPoints.size,lineWidth:Ve.defaultNode.linkPoints.lineWidth,fill:Ve.defaultNode.linkPoints.fill,stroke:Ve.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:$t({},Ve.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(r,t),n},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=ji(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),m=v[0],T=v[1];o&&t.addShape("circle",{attrs:$t($t({},c),{x:-m/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:$t($t({},c),{x:m/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:-T/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:T/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=$t({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o=t.get("keyShape");r.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:r.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,u.mix)({},n,o.attr(),s);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!1),this.updateLinkPoints(r,e)}},"single-node"),ii.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:Ve.defaultNode.style.stroke,fill:Ve.defaultNode.style.fill,lineWidth:Ve.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ve.nodeLabel.style.fill,fontSize:Ve.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ve.defaultNode.linkPoints.size,lineWidth:Ve.defaultNode.linkPoints.lineWidth,fill:Ve.defaultNode.linkPoints.fill,stroke:Ve.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:$t({},Ve.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:$t({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=ji(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),m=v[0]/2,T=v[1]/2;o&&t.addShape("circle",{attrs:$t($t({},c),{x:-m,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:$t($t({},c),{x:m,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:-T,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:T,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getSize(r),o=a[0]/2,s=a[1]/2,l=$t({x:0,y:0,rx:o,ry:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o={stroke:r.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),ii.registerNode("diamond",{options:{size:[80,80],style:{stroke:Ve.defaultNode.style.stroke,fill:Ve.defaultNode.style.fill,lineWidth:Ve.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ve.nodeLabel.style.fill,fontSize:Ve.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ve.defaultNode.linkPoints.size,lineWidth:Ve.defaultNode.linkPoints.lineWidth,fill:Ve.defaultNode.linkPoints.fill,stroke:Ve.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:$t({},Ve.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:$t({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=ji(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),m=v[0],T=v[1];o&&t.addShape("circle",{attrs:$t($t({},c),{x:-m/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:$t($t({},c),{x:m/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:-T/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:T/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(r){var t=this.getSize(r),e=t[0],n=t[1],a=[["M",0,-n/2],["L",e/2,0],["L",0,n/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getPath(r),o=$t({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),ii.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:Ve.defaultNode.style.stroke,fill:Ve.defaultNode.style.fill,lineWidth:Ve.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ve.nodeLabel.style.fill,fontSize:Ve.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ve.defaultNode.linkPoints.size,lineWidth:Ve.defaultNode.linkPoints.lineWidth,fill:Ve.defaultNode.linkPoints.fill,stroke:Ve.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:$t({},Ve.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(r,t){var e=this.getOptions(r),n=e.icon,a=n===void 0?{}:n,o=e.direction,s=this.getShapeStyle(r),l=r.direction||o,f=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,v=a.show,m=a.offset;if(v){var T=-h/2,D=-c/2;(l==="up"||l==="down")&&(D+=m),(l==="left"||l==="right")&&(T+=m),t.addShape("image",{attrs:$t({x:T,y:D},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(r,t),f},drawLinkPoints:function(r,t){var e=this.getOptions(r),n=e.linkPoints,a=n===void 0?{}:n,o=e.direction,s=r.direction||o,l=a.top,f=a.left,h=a.right,c=a.bottom,v=a.size,m=a.r,T=ji(a,["top","left","right","bottom","size","r"]),D=this.getSize(r),Y=D[0];if(f){var W=null,H=Y*Math.sin(1/3*Math.PI),st=Y*Math.sin(1/3*Math.PI);s==="up"?W=[-st,H]:s==="down"?W=[-st,-H]:s==="left"&&(W=[-st,st-H]),W&&t.addShape("circle",{attrs:$t($t({},T),{x:W[0],y:W[1],r:v/2||m||5}),className:"link-point-left",name:"link-point-left"})}if(h){var lt=null,H=Y*Math.sin(1/3*Math.PI),st=Y*Math.sin(1/3*Math.PI);s==="up"?lt=[st,H]:s==="down"?lt=[st,-H]:s==="right"&&(lt=[st,st-H]),lt&&t.addShape("circle",{attrs:$t($t({},T),{x:lt[0],y:lt[1],r:v/2||m||5}),className:"link-point-right",name:"link-point-right"})}if(l){var Mt=null,H=Y*Math.sin(1/3*Math.PI),st=Y*Math.sin(1/3*Math.PI);s==="up"?Mt=[st-H,-H]:s==="left"?Mt=[st,-H]:s==="right"&&(Mt=[-st,-H]),Mt&&t.addShape("circle",{attrs:$t($t({},T),{x:Mt[0],y:Mt[1],r:v/2||m||5}),className:"link-point-top",name:"link-point-top"})}if(c){var Ft=null,H=Y*Math.sin(1/3*Math.PI),st=Y*Math.sin(1/3*Math.PI);s==="down"?Ft=[-st+H,H]:s==="left"?Ft=[st,H]:s==="right"&&(Ft=[-st,H]),Ft&&t.addShape("circle",{attrs:$t($t({},T),{x:Ft[0],y:Ft[1],r:v/2||m||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(r){var t=this.getOptions(r).direction,e=r.direction||t,n=this.getSize(r),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return e==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:e==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:e==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getPath(r),o=$t({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}),n=e.linkPoints,a=e.direction,o=r.direction||a,s=t.find(function(je){return je.get("className")==="link-point-left"}),l=t.find(function(je){return je.get("className")==="link-point-right"}),f=t.find(function(je){return je.get("className")==="link-point-top"}),h=t.find(function(je){return je.get("className")==="link-point-bottom"}),c=n,v=s||l||f||h;v&&(c=v.attr());var m=(0,u.mix)({},c,r.linkPoints),T=m.fill,D=m.stroke,Y=m.lineWidth,W=m.size/2;W||(W=m.r);var H=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},st=H.left,lt=H.right,Mt=H.top,Ft=H.bottom,zt=this.getSize(r),Zt=zt[0],Yt={r:W,fill:T,stroke:D,lineWidth:Y},re=null,he=Zt*Math.sin(1/3*Math.PI),le=Zt*Math.sin(1/3*Math.PI);o==="up"?re=[-le,he]:o==="down"?re=[-le,-he]:o==="left"&&(re=[-le,le-he]),re&&(s?!st&&st!==void 0?s.remove():s.attr($t($t({},Yt),{x:re[0],y:re[1]})):st&&t.addShape("circle",{attrs:$t($t({},Yt),{x:re[0],y:re[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Ae=null;o==="up"?Ae=[le,he]:o==="down"?Ae=[le,-he]:o==="right"&&(Ae=[le,le-he]),Ae&&(l?!lt&&lt!==void 0?l.remove():l.attr($t($t({},Yt),{x:Ae[0],y:Ae[1]})):lt&&t.addShape("circle",{attrs:$t($t({},Yt),{x:Ae[0],y:Ae[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Ie=null;o==="up"?Ie=[le-he,-he]:o==="left"?Ie=[le,-he]:o==="right"&&(Ie=[-le,-he]),Ie&&(f?!Mt&&Mt!==void 0?f.remove():f.attr($t($t({},Yt),{x:Ie[0],y:Ie[1]})):Mt&&t.addShape("circle",{attrs:$t($t({},Yt),{x:Ie[0],y:Ie[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var Le=null;o==="down"?Le=[-le+he,he]:o==="left"?Le=[le,he]:o==="right"&&(Le=[-le,he]),Le&&(h?!Ft&&Ft!==void 0?h.remove():h.attr($t($t({},Yt),{x:Le[0],y:Le[1]})):Ft&&t.addShape("circle",{attrs:$t($t({},Yt),{x:Le[0],y:Le[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),ii.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:Ve.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(r,t){var e=this.getOptions(r).preRect,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=this.getSize(r),s=o[0],l=o[1],f=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=ji(n,["show"]);return h&&t.addShape("rect",{attrs:$t({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(r,t),this.drawStateIcon(r,t),this.drawLinkPoints(r,t),f},drawLogoIcon:function(r,t){var e=this.getOptions(r).logoIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,f=n.x,h=n.y,c=n.offset,v=ji(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:$t($t({},v),{x:f||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(r,t){var e=this.getOptions(r).stateIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,f=n.x,h=n.y,c=n.offset,v=ji(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:$t($t({},v),{x:f||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=ji(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),m=v[0],T=v[1];o&&t.addShape("circle",{attrs:$t($t({},c),{x:-m/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:$t($t({},c),{x:m/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:-T/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:$t($t({},c),{x:0,y:T/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(r,t){var e=this.getOptions(r),n=e.labelCfg,a=n===void 0?{}:n,o=e.logoIcon,s=o===void 0?{}:o,l=e.descriptionCfg,f=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=null,m=s.show,T=s.width,D=-c/2+a.offset;m&&(D=-c/2+T+a.offset);var Y=a.style,W=f.style,H=f.paddingTop;return(0,u.isString)(r.description)?(v=t.addShape("text",{attrs:$t($t({},Y),{x:D,y:-5,text:r.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:$t($t({},W),{x:D,y:17+(H||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0})):v=t.addShape("text",{attrs:$t($t({},Y),{x:D,y:7,text:r.label}),draggable:!0}),v},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=$t({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=this.getOptions(r),n=e.style,a=n===void 0?{}:n,o=e.labelCfg,s=o===void 0?{}:o,l=e.descriptionCfg,f=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=h[1],m=t.get("keyShape");m.attr($t($t({},a),{x:-c/2,y:-v/2,width:c,height:v}));var T=t.getContainer(),D=T.find(function(Dr){return Dr.get("className")==="rect-logo-icon"}),Y=D?D.attr():{},W=(0,u.mix)({},Y,r.logoIcon),H=W.width;H===void 0&&(H=this.options.logoIcon.width);var st=r.logoIcon?r.logoIcon.show:void 0,lt=s.offset,Mt=-c/2+H+lt;!st&&st!==void 0&&(Mt=-c/2+lt);var Ft=T.find(function(Dr){return Dr.get("className")==="node-label"}),zt=T.find(function(Dr){return Dr.get("className")==="rect-description"});if(r.label)if(!Ft)T.addShape("text",{attrs:$t($t({},s.style),{x:Mt,y:r.description?-5:7,text:r.label}),className:"node-label",name:"node-label",draggable:!0});else{var Zt=r.labelCfg?r.labelCfg.style:{},Yt=(0,u.mix)({},Ft.attr(),Zt);r.label&&(Yt.text=r.label),Yt.x=Mt,(0,u.isString)(r.description)&&(Yt.y=-5),zt&&(zt.resetMatrix(),zt.attr({x:Mt})),Ft.resetMatrix(),Ft.attr(Yt)}if((0,u.isString)(r.description)){var re=f.paddingTop;if(!zt)T.addShape("text",{attrs:$t($t({},f.style),{x:Mt,y:17+(re||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var Zt=r.descriptionCfg?r.descriptionCfg.style:{},he=(0,u.mix)({},zt.attr(),Zt);(0,u.isString)(r.description)&&(he.text=r.description),he.x=Mt,zt.resetMatrix(),zt.attr($t($t({},he),{y:17+(re||0)}))}}var le=T.find(function(Dr){return Dr.get("className")==="pre-rect"});if(le){var Ae=(0,u.mix)({},le.attr(),r.preRect);le.attr($t($t({},Ae),{x:-c/2,y:-v/2,height:v}))}if(D)if(!st&&st!==void 0)D.remove();else{var Ie=W.width,Le=W.height,je=W.x,Ke=W.y,Qe=W.offset,He=ji(W,["width","height","x","y","offset"]);D.attr($t($t({},He),{x:je||-c/2+Ie+Qe,y:Ke||-Le/2,width:Ie,height:Le}))}else st&&this.drawLogoIcon(r,T);var We=T.find(function(Dr){return Dr.get("className")==="rect-state-icon"}),yr=We?We.attr():{},gr=(0,u.mix)({},yr,r.stateIcon);if(We){!gr.show&&gr.show!==void 0&&We.remove();var Mr=gr.width,Le=gr.height,je=gr.x,Ke=gr.y,qe=gr.offset,br=ji(gr,["width","height","x","y","offset"]);We.attr($t($t({},br),{x:je||c/2-Mr+qe,y:Ke||-Le/2,width:Mr,height:Le}))}else gr.show&&this.drawStateIcon(r,T);this.updateLinkPoints(r,T)}},"single-node"),ii.registerNode("star",{options:{size:60,style:{stroke:Ve.defaultNode.style.stroke,fill:Ve.defaultNode.style.fill,lineWidth:Ve.defaultNode.style.lineWidth},labelCfg:{style:{fill:Ve.nodeLabel.style.fill,fontSize:Ve.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:Ve.defaultNode.linkPoints.size,lineWidth:Ve.defaultNode.linkPoints.lineWidth,fill:Ve.defaultNode.linkPoints.fill,stroke:Ve.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:$t({},Ve.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:$t({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.leftBottom,f=n.rightBottom,h=n.size,c=n.r,v=ji(n,["top","left","right","leftBottom","rightBottom","size","r"]),m=this.getSize(r),T=m[0];if(s){var D=Math.cos((18+72*0)/180*Math.PI)*T,Y=Math.sin((18+72*0)/180*Math.PI)*T;t.addShape("circle",{attrs:$t($t({},v),{x:D,y:-Y,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var D=Math.cos((18+72*1)/180*Math.PI)*T,Y=Math.sin((18+72*1)/180*Math.PI)*T;t.addShape("circle",{attrs:$t($t({},v),{x:D,y:-Y,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var D=Math.cos((18+72*2)/180*Math.PI)*T,Y=Math.sin((18+72*2)/180*Math.PI)*T;t.addShape("circle",{attrs:$t($t({},v),{x:D,y:-Y,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var D=Math.cos((18+72*3)/180*Math.PI)*T,Y=Math.sin((18+72*3)/180*Math.PI)*T;t.addShape("circle",{attrs:$t($t({},v),{x:D,y:-Y,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(f){var D=Math.cos((18+72*4)/180*Math.PI)*T,Y=Math.sin((18+72*4)/180*Math.PI)*T;t.addShape("circle",{attrs:$t($t({},v),{x:D,y:-Y,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(r){for(var t=this.getSize(r),e=t[0],n=e*3/8,a=r.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*e,f=Math.sin((18+72*s)/180*Math.PI)*e,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-f]):o.push(["L",l,-f]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,u.mix)({},t,e),a=this.getPath(r),o=$t({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}).linkPoints,n=t.find(function(he){return he.get("className")==="link-point-left"}),a=t.find(function(he){return he.get("className")==="link-point-right"}),o=t.find(function(he){return he.get("className")==="link-point-top"}),s=t.find(function(he){return he.get("className")==="link-point-left-bottom"}),l=t.find(function(he){return he.get("className")==="link-point-right-bottom"}),f=e,h=n||a||o||s||l;h&&(f=h.attr());var c=(0,u.mix)({},f,r.linkPoints),v=c.fill,m=c.stroke,T=c.lineWidth,D=c.size/2;D||(D=c.r);var Y=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},W=Y.left,H=Y.right,st=Y.top,lt=Y.leftBottom,Mt=Y.rightBottom,Ft=this.getSize(r),zt=Ft[0],Zt={r:D,fill:v,stroke:m,lineWidth:T},Yt=Math.cos((18+72*0)/180*Math.PI)*zt,re=Math.sin((18+72*0)/180*Math.PI)*zt;a?!H&&H!==void 0?a.remove():a.attr($t($t({},Zt),{x:Yt,y:-re})):H&&t.addShape("circle",{attrs:$t($t({},Zt),{x:Yt,y:-re}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Yt=Math.cos((18+72*1)/180*Math.PI)*zt,re=Math.sin((18+72*1)/180*Math.PI)*zt,o?!st&&st!==void 0?o.remove():o.attr($t($t({},Zt),{x:Yt,y:-re})):st&&t.addShape("circle",{attrs:$t($t({},Zt),{x:Yt,y:-re}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Yt=Math.cos((18+72*2)/180*Math.PI)*zt,re=Math.sin((18+72*2)/180*Math.PI)*zt,n?!W&&W!==void 0?n.remove():n.attr($t($t({},Zt),{x:Yt,y:-re})):W&&t.addShape("circle",{attrs:$t($t({},Zt),{x:Yt,y:-re}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Yt=Math.cos((18+72*3)/180*Math.PI)*zt,re=Math.sin((18+72*3)/180*Math.PI)*zt,s?!lt&&lt!==void 0?s.remove():s.attr($t($t({},Zt),{x:Yt,y:-re})):lt&&t.addShape("circle",{attrs:$t($t({},Zt),{x:Yt,y:-re}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Yt=Math.cos((18+72*4)/180*Math.PI)*zt,re=Math.sin((18+72*4)/180*Math.PI)*zt,l?!Mt&&Mt!==void 0?s.remove():l.attr($t($t({},Zt),{x:Yt,y:-re})):Mt&&t.addShape("circle",{attrs:$t($t({},Zt),{x:Yt,y:-re}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),ii.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r);delete n.fill;var a=t.addShape(e,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(r,a),a},drawClip:function(r,t){var e=this.getOptions(r).clipCfg;if(!!e.show){var n=e.type,a=e.x,o=e.y,s=e.style;if(n==="circle"){var l=e.r;t.setClip({type:"circle",attrs:$t({r:l,x:a,y:o},s)})}else if(n==="rect"){var f=e.width,h=e.height,c=a-f/2,v=o-h/2;t.setClip({type:"rect",attrs:$t({x:c,y:v,width:f,height:h},s)})}else if(n==="ellipse"){var m=e.rx,T=e.ry;t.setClip({type:"ellipse",attrs:$t({x:a,y:o,rx:m,ry:T},s)})}else if(n==="polygon"){var D=e.points;t.setClip({type:"polygon",attrs:$t({points:D},s)})}else if(n==="path"){var Y=e.path;t.setClip({type:"path",attrs:$t({path:Y},s)})}}},getShapeStyle:function(r){var t=this.getOptions(r).style,e=this.getSize(r),n=this.getOptions(r).img,a=e[0],o=e[1];t&&(a=t.width||e[0],o=t.height||e[1]);var s=$t({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(r,t){var e=t.getContainer(),n=this.itemType+"-shape",a=e.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(r);a&&a.attr(o)}},"single-node");function Ru(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ru=function(t){return typeof t}:Ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(i)}var Nu=function(r){var t=r.x,e=r.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},Y6=function(r){r===void 0&&(r=[]);var t=[],e=[];r.forEach(function(l){t.push(l.x),e.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},A1=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},gc=function(r){var t=[],e={};return r.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,e[a]=n}),(0,u.each)(e,function(n){t.push(n)}),t},Yu=function(r){return r=gc(r),r},T1=function(r,t){return[r,{x:r.x,y:t.y},t]},Gu=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},G6=function(r,t){var e=Math.abs(r.x-t.centerX),n=Math.abs(r.y-t.centerY);return e/t.width>n/t.height},yc=function(r,t){var e=G6(t,r);return e?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},mc=function(r,t){var e=Math.min(r.minX,t.minX),n=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),o=Math.max(r.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(n+o)/2,minX:e,minY:n,maxX:a,maxY:o,height:o-n,width:a-e}},xc=function(r){var t=r.minX,e=r.minY,n=r.maxX,a=r.maxY;return[{x:t,y:e},{x:n,y:e},{x:n,y:a},{x:t,y:a}]},zu=function(r,t){var e=r.x,n=r.y;return e<t.minX||e>t.maxX||n<t.minY||n>t.maxY},z6=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},X6=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},V6=function(r,t){return z6(r,t.x).concat(X6(r,t.y))},Zs=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},H6=function(r,t){var e=-2,n=0;return t.forEach(function(a){a&&(r.x===a.x&&(n+=e),r.y===a.y&&(n+=e))}),n},P1=function(r,t,e,n,a){return Zs(r,t)+Zs(r,e)+H6(r,[t,e,n,a])},W6=function i(r,t,e,n,a){a===void 0&&(a=0),r.unshift(t[n]),e[n]&&e[n]!==n&&a<=100&&i(r,t,e,e[n],a+1)},j6=function(r,t){var e=r.indexOf(t);e>-1&&r.splice(e,1)},Xu=function(r,t,e,n){var a=t.x-r.x,o=t.y-r.y,s=n.x-e.x,l=n.y-e.y,f=(-o*(r.x-e.x)+a*(r.y-e.y))/(-s*o+a*l),h=(s*(r.y-e.y)-l*(r.x-e.x))/(-s*o+a*l);return f>=0&&f<=1&&h>=0&&h<=1},bc=function(r,t,e){if(e.width===0&&e.height===0)return!1;var n=xc(e),a=n[0],o=n[1],s=n[2],l=n[3];return Xu(r,t,a,o)||Xu(r,t,a,l)||Xu(r,t,o,s)||Xu(r,t,s,l)},U6=function(r,t,e,n){var a=[];return r.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!bc(o,t,e)&&!bc(o,t,n)&&a.push(o)}),gc(a)},Z6=function(r,t,e,n,a,o,s){var l=[],f=[t],h={},c={},v={};c[t.id]=0,v[t.id]=P1(t,e,t);var m={};r.forEach(function(Y){m[Y.id]=Y});for(var T=function(){var W,H=Infinity;if(f.forEach(function(lt){v[lt.id]<H&&(H=v[lt.id],W=lt)}),W===e){var st=[];return W6(st,m,h,e.id),{value:st}}j6(f,W),l.push(W),U6(r,W,n,a).forEach(function(lt){if(l.indexOf(lt)===-1){f.indexOf(lt)===-1&&f.push(lt);var Mt=v[W.id]+Zs(W,lt);c[lt.id]&&Mt>=c[lt.id]||(h[lt.id]=W.id,c[lt.id]=Mt,v[lt.id]=c[lt.id]+P1(lt,e,t,o,s))}})};f.length;){var D=T();if(Ru(D)==="object")return D.value}return[t,e]},K6=function(r,t,e){return!(r.x===t.x&&t.x===e.x||r.y===t.y&&t.y===e.y)},$6=function(r,t,e,n){var a=Zs(r,t),o=Zs(e,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-r.x),y:t.y-n/a*(t.y-r.y)},l={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)};return[s,l]},_1=function(r,t){var e=[],n=r[0];return e.push("M"+n.x+" "+n.y),r.forEach(function(a,o){var s=r[o+1],l=r[o+2];if(s&&l)if(K6(a,s,l)){var f=$6(a,s,l,t),h=f[0],c=f[1];e.push("L"+h.x+" "+h.y),e.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),e.push("L"+c.x+" "+c.y)}else e.push("L"+s.x+" "+s.y);else s&&e.push("L"+s.x+" "+s.y)}),e.join("")},Q6=function(r,t,e,n,a){var o,s;if(!e||!e.getType())o=Nu(r);else if(e.getType()==="combo"){var l=e.getKeyShape();o=l.getCanvasBBox()||Nu(r),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=e.getBBox();if(!n||!n.getType())s=Nu(t);else if(n.getType()==="combo"){var f=n.getKeyShape();s=f.getCanvasBBox()||Nu(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(A1(o,s))return Yu(T1(r,t));var h=Gu(o,a),c=Gu(s,a);if(A1(h,c))return Yu(T1(r,t));var v=yc(h,r),m=yc(c,t),T=Y6([v,m]),D=mc(h,c),Y=mc(h,T),W=mc(c,T),H=[];H=H.concat(xc(Y)),H=H.concat(xc(W));var st={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[T,Y,W].forEach(function(Mt){H=H.concat(V6(Mt,st).filter(function(Ft){return zu(Ft,h)&&zu(Ft,c)}))}),[{x:v.x,y:m.y},{x:m.x,y:v.y}].forEach(function(Mt){zu(Mt,h)&&zu(Mt,c)&&H.push(Mt)}),H.unshift(v),H.push(m),H=gc(H);var lt=Z6(H,v,m,o,s,r,t);return lt.unshift(r),lt.push(t),Yu(lt)};function Vu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vu=function(t){return typeof t}:Vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(i)}var J6=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},q6=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},t8=function(r,t){return[r,t]},e8=function(r,t,e,n,a){return Yu(Q6(r,t,e,n,a.offset))},r8={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:J6,fallbackRoute:e8},_7={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:q6,fallbackRoute:t8},va=function(r,t){var e=Math.floor(r/t);return e<0?0:e},n8=function(r,t,e){var n={};return r.forEach(function(a){if(a)for(var o=Gu(a.getBBox(),e),s=va(o.minX,t);s<=va(o.maxX,t);s+=1)for(var l=va(o.minY,t);l<=va(o.maxY,t);l+=1){var f=s+"-"+l;n[f]=!0}}),n},wc=function(r,t){var e=t.x-r.x,n=t.y-r.y;if(!e&&!n)return 0;var a=(360+Math.atan2(n,e)*180/Math.PI)%360;return a},O1=function(r,t){var e=Math.abs(r-t);return e>180?360-e:e},L1=function(r,t,e){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=e(r,t[a]);s<n&&(n=s)}return n},I1=function(r,t,e){var n=[];if(!t)return n;var a=e.directions,o=e.offset,s=t.getBBox(),l=Gu(t.getBBox(),o);for(var f in l)l[f]=va(l[f],e.gridSize);var h=r.x>va(s.minX,e.gridSize)&&r.x<va(s.maxX,e.gridSize)&&r.y>va(s.minY,e.gridSize)&&r.y<va(s.maxY,e.gridSize);if(h)for(var c=0,v=a;c<v.length;c++)for(var m=v[c],T=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],f=0;f<4;f++){var D=T[f],Y=Fs(r,{x:r.x+m.stepX*l.width,y:r.y+m.stepY*l.height},D[0],D[1]);Y&&!bc(r,Y,t.getBBox())&&(Y.id=Y.x+"-"+Y.y,n.push(Y))}else{var Y=yc(l,r);Y.id=Y.x+"-"+Y.y,n.push(Y)}return n},k1=function(r,t,e,n,a){var o=(0,Xi.default)(r8,a);o.obstacles=o.obstacles||[];var s=n8(o.obstacles.concat([e,n]),o.gridSize,o.offset),l={x:va(r.x,o.gridSize),y:va(r.y,o.gridSize)},f={x:va(t.x,o.gridSize),y:va(t.y,o.gridSize)};r.id=l.x+"-"+l.y,t.id=f.x+"-"+f.y;var h=I1(l,e,o),c=I1(f,n,o);h.forEach(function(Zt){delete s[Zt.id]}),c.forEach(function(Zt){delete s[Zt.id]});for(var v={},m={},T={},D={},Y={},W=0;W<h.length;W++){var H=h[W];v[H.id]=H,D[H.id]=0,Y[H.id]=L1(H,c,o.distFunc)}for(var st=function(Yt,re){var he=wc(Yt,re),le;if(T[Yt.id]){var Ie=wc({x:parseFloat(T[Yt.id].split("-")[0]),y:parseFloat(T[Yt.id].split("-")[1])},Yt);le=O1(Ie,he)}else{var Ae=wc(l,Yt);le=O1(Ae,he)}return le},lt=function(Yt){var re=[t],he={x:parseFloat(Yt.split("-")[0]),y:parseFloat(Yt.split("-")[1]),id:Yt};for(st(he,f)&&re.unshift({x:he.x===f.x?t.x:he.x*o.gridSize,y:he.y===f.y?t.y:he.y*o.gridSize});T[Yt]&&T[Yt]!==Yt;){var le={x:parseFloat(Yt.split("-")[0]),y:parseFloat(Yt.split("-")[1]),id:Yt},Ae=T[Yt],Ie={x:parseFloat(Ae.split("-")[0]),y:parseFloat(Ae.split("-")[1]),id:Ae},Le=st(Ie,le);Le&&re.unshift({x:Ie.x===le.x?re[0].x:Ie.x*o.gridSize,y:Ie.y===le.y?re[0].y:Ie.y*o.gridSize}),Yt=Ae}var je={x:parseFloat(Yt.split("-")[0]),y:parseFloat(Yt.split("-")[1]),id:Yt};return re[0].x=je.x===l.x?r.x:re[0].x,re[0].y=je.y===l.y?r.y:re[0].y,re.unshift(r),re},Mt=o.maximumLoops,Ft=function(){var Yt,re=Infinity;for(var he in v)Y[he]<=re&&(re=Y[he],Yt=v[he]);if(!Yt)return"break";if(c.findIndex(function(He){return He.x===Yt.x&&He.y===Yt.y})>-1){var le=lt(Yt.id);return{value:le}}delete v[Yt.id],m[Yt.id]=!0;for(var Ae=0;Ae<o.directions.length;Ae++){var Ie=o.directions[Ae],Le={x:Yt.x+Ie.stepX,y:Yt.y+Ie.stepY,id:Yt.x+Ie.stepX+"-"+(Yt.y+Ie.stepY)};if(!m[Le.id]){var je=st(Yt,Le);if(!(je>o.maxAllowedDirectionChange)&&!s[Le.id]){v[Le.id]||(v[Le.id]=Le);var Ke=o.distFunc(Yt,Le)+(isNaN(o.penalties[je])?o.gridSize:o.penalties[je]),Qe=D[Yt.id]+Ke;D[Le.id]&&Qe>=D[Le.id]||(T[Le.id]=Yt.id,D[Le.id]=Qe,Y[Le.id]=Qe+L1(Le,c,o.distFunc))}}}Mt-=1};Object.keys(v).length>0&&Mt>0;){var zt=Ft();if(Vu(zt)==="object")return zt.value;if(zt==="break")break}return o.fallbackRoute(r,t,e,n,o)};ii.registerEdge("polyline",{options:{color:Ve.defaultEdge.color,size:Ve.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:Ve.defaultEdge.style.stroke,lineAppendWidth:Ve.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Ve.edgeLabel.style.fill,fontSize:Ve.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:$t({},Ve.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r);e.radius===0&&delete e.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return n},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,u.mix)({},t,e,r.style);r=this.getPathPoints(r),this.radius=n.radius,this.offset=n.offset;var a=r.startPoint,o=r.endPoint,s=this.getControlPoints(r),l=[a];s&&(l=l.concat(s)),l.push(o);var f=r.sourceNode,h=r.targetNode,c=n.radius,v=this.options.routeCfg;v.offset=n.offset;var m=this.getPath(l,f,h,c,v);((0,u.isArray)(m)&&m.length<=1||(0,u.isString)(m)&&m.indexOf("L")===-1)&&(m="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(m="M0 0, L0 0");var T=(0,u.mix)({},Ve.defaultEdge.style,n,{lineWidth:r.size,path:m});return T},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(H){return H.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,f=this.getControlPoints(r),h=[s];f&&(h=h.concat(f)),h.push(l);var c=(0,u.mix)({},n,a.attr(),r.style),v=r.sourceNode,m=r.targetNode,T=c.radius,D=this.options.routeCfg;D.offset=c.offset;var Y=this.getPath(h,v,m,T,D);((0,u.isArray)(Y)&&Y.length<=1||(0,u.isString)(Y)&&Y.indexOf("L")===-1)&&(Y="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(Y="M0 0, L0 0");var W=(0,u.mix)(n,a.attr(),{lineWidth:o,path:Y},r.style);a&&a.attr(W)},getPath:function(r,t,e,n,a){var o=a.offset;if(!o||r.length>2){if(n)return _1(r,n);var s=[];return(0,u.each)(r,function(c,v){v===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=k1(r[0],r[r.length-1],t,e,a);var f=_1(l,n);return f}l=k1(r[0],r[r.length-1],t,e,a);var h=ux(l);return h}},"single-edge");var i8={triangle:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+" L "+(n+t)+","+r/2+" Z";return a},vee:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=20),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+r/2+" Z";return a},circle:function(r,t){r===void 0&&(r=5),t===void 0&&(t=0);var e=t*2,n="M "+e+`, 0
            a `+r+","+r+" 0 1,0 "+r*2+`,0
            a `+r+","+r+" 0 1,0 "+-r*2+",0";return n},rect:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=10),e===void 0&&(e=0);var n=e*2,a="M "+n+","+-r/2+` 
        L `+(n+t)+","+-r/2+` 
        L `+(n+t)+","+r/2+` 
        L `+n+","+r/2+" Z";return a},diamond:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-r/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+r/2+" Z";return a},triangleRect:function(r,t,e,n,a,o){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,f="M "+s+",0 L "+(s+t)+",-"+r/2+" L "+(s+t)+","+r/2+` Z
            M `+l+", -"+e/2+`
            L `+(l+n)+" -"+e/2+`
            L `+(l+n)+" "+e/2+`
            L `+l+" "+e/2+`
            Z`;return f}},a8={collapse:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r+e-4,t]]},expand:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r-e+2*e-4,t],["M",r-e+e,t-e+4],["L",r,t+e-4]]},upTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t+a],["L",r+n,t+a],["L",r,t-e],["Z"]]},downTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t-a],["L",r+n,t-a],["L",r,t+e],["Z"]]}},cs=ii,o8={mat3:Pa.wO,mix:Xs.default,deepMix:Xi.default,transform:Pa.vs},s8=$t($t($t($t($t($t({},o8),St),Lt),bt),Et),At),l8=s8,u8=function(){function i(r){this._cfgs=(0,Xi.default)(this.getDefaultCfgs(),r),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(r){var t=this;t.set("graph",r);var e=t.getEvents(),n={};(0,kn.default)(e,function(a,o){var s=(0,vu.default)(t,a);n[o]=s,r.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(r){return this._cfgs[r]},i.prototype.set=function(r,t){this._cfgs[r]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var r=this.get("graph"),t=this._events;(0,kn.default)(t,function(e,n){r.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Xa=u8,B1="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",f8=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{img:B1}},r.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||B1,f=(0,gi.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,gi.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);f.appendChild(h),(0,Fn.Z)(f,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,Fn.Z)(h,{width:o/e+"px",height:s/e+"px",left:"0px",top:"0px"}),n.insertBefore(f,a),this.set("container",f),this.set("gridContainer",h)},r.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},r.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,Fn.Z)(e,{transform:a})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},r}(Xa),h8=f8,c8=d(38186),Sc=d.n(c8);Sc()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var v8=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},r.prototype.init=function(){var t=this.get("className"),e=(0,gi.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,Fn.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(e),this.set("menu",e)},r.prototype.onMenuShow=function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){e.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),f=s(t,l);(0,An.default)(f)?o.innerHTML=f:o.innerHTML=f.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(zt){h(zt.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var v=l.get("width"),m=l.get("height"),T=o.getBoundingClientRect(),D=this.get("offsetX")||0,Y=this.get("offsetY")||0,W=l.getContainer().offsetTop,H=l.getContainer().offsetLeft,st=t.canvasX+H+D,lt=t.canvasY+W+Y;st+T.width>v&&(st=t.canvasX-T.width-D+H),lt+T.height>m&&(lt=t.canvasY-T.height-Y+W),(0,Fn.Z)(o,{top:lt+"px",left:st+"px",visibility:"visible"});var Mt=function(zt){e.onMenuHide()};document.body.addEventListener("click",Mt),this.set("handler",Mt)}}}},r.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},r.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,Fn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},r.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Xa),d8=v8,D1=Math.max,p8="default",g8="keyShape",y8="delegate",F1="svg",m8=function(i){Xn(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,u.debounce)(function(e){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,a=e.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,gi.Z)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),f=0,h=0,c=!1,v=0,m=0,T=0,D=0,Y=0,W=0;l.addEventListener("dragstart",function(H){if(H.dataTransfer){var st=new Image;st.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",H.dataTransfer.setDragImage(st,0,0),H.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,H.target===l){var lt=l.style;v=parseInt(lt.left,10),m=parseInt(lt.top,10),T=parseInt(lt.width,10),D=parseInt(lt.height,10),!(T>n[0]||D>n[1])&&(W=a.getZoom(),Y=t.get("ratio"),c=!0,f=H.clientX,h=H.clientY)}},!1),l.addEventListener("drag",function(H){if(!(!c||(0,Bi.default)(H.clientX)||(0,Bi.default)(H.clientY))){var st=f-H.clientX,lt=h-H.clientY;(v-st<0||v-st+T>=n[0])&&(st=0),(m-lt<0||m-lt+D>=n[1])&&(lt=0),v-=st,m-=lt,(0,Fn.Z)(l,{left:v+"px",top:m+"px"}),a.translate(st*W/Y,lt*W/Y),f=H.clientX,h=H.clientY}},!1),l.addEventListener("dragend",function(){c=!1,e.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),f=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),v=s.getPointByCanvas(f,h),m=this.get("viewport");m||this.initViewport();var T=s.getZoom(),D=(v.x-c.x)*t,Y=(v.y-c.y)*t,W=c.x*t+a,H=c.y*t+o,st=W+D,lt=H+Y;W<0&&(D+=W,W=0),st>l[0]&&(D=D-(st-l[0])),H<0&&(Y+=H,H=0),lt>l[1]&&(Y=Y-(lt-l[1])),this.set("ratio",t);var Mt=W+"px",Ft=H+"px";(0,Fn.Z)(m,{left:Mt,top:Ft,width:D+"px",height:Y+"px"})}},r.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),e.clear(),e.add(a);var o=t.get("renderer");o===F1&&this.updateVisible(a)}},r.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},r.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,kn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,kn.default)(e.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},r.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),f=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(f,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,kn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,kn.default)(e.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},r.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var n=e.length-1;n>=0;n--){var a=t[e[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[e[n]])}},r.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var f={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(f)}else s=n.addShape("rect",{attrs:$t({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},r.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,gi.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,An.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):e.get("container").appendChild(s),t.set("container",s);var l=(0,gi.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var f,h=e.get("renderer");h===F1?f=new Gs.Z({container:l,width:n[0],height:n[1]}):f=new No.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",f),t.updateCanvas()},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case p8:this.updateGraphShapes();break;case g8:this.updateKeyShapes();break;case y8:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var f=l.getCanvasBBox(),h=e.get("canvas").getBBox(),c=h.width,v=h.height;Number.isFinite(f.width)&&(c=D1(f.width,c),v=D1(f.height,v)),c+=2*s,v+=2*s;var m=Math.min(n[0]/c,n[1]/v),T=[1,0,0,0,1,0,0,0,1],D=0,Y=0;Number.isFinite(f.minX)&&(D=-f.minX),Number.isFinite(f.minY)&&(Y=-f.minY);var W=(n[0]-(c-2*s)*m)/2,H=(n[1]-(v-2*s)*m)/2;T=Ga(T,[["t",D,Y],["s",m,m],["t",W,H]]),l.setMatrix(T),this.set("ratio",m),this.set("totaldx",W+D*m),this.set("totaldy",H+Y*m),this.set("dx",W),this.set("dy",H),this.updateViewport()}}}}},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},r}(Xa),x8=m8;function Va(i,r,t){var e=i.x-r.x,n=i.y-r.y;return!t||Math.abs(e)>t||Math.abs(n)>t?Math.sqrt(e*e+n*n):t}function b8(i,r){return i.x*r.x+i.y*r.y}function R1(i,r){var t=(r.source.y-r.target.y)/(r.source.x-r.target.x),e=(t*t*r.source.x+t*(i.y-r.source.y)+i.x)/(t*t+1),n=t*(e-r.source.x)+r.source.y;return{x:e,y:n}}var w8=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},r.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},r.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(lt){(lt.x===null||!lt.y===null||lt.x===void 0||!lt.y===void 0)&&(s=!0),o[lt.id]=lt}),s)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var l=e.get("divisions"),f=e.get("divRate"),h=e.divideEdges(l);e.set("edgePoints",h);var c=e.getEdgeBundles();e.set("edgeBundles",c);for(var v=e.get("cycles"),m=e.get("iterations"),T=e.get("iterRate"),D=e.get("lambda"),Y=0;Y<v;Y++){for(var W=function(Mt){var Ft=[];n.forEach(function(zt,Zt){if(zt.source!==zt.target){var Yt=o[zt.source],re=o[zt.target];Ft[Zt]=e.getEdgeForces({source:Yt,target:re},Zt,l,D);for(var he=0;he<l+1;he++)h[Zt][he].x+=Ft[Zt][he].x,h[Zt][he].y+=Ft[Zt][he].y}})},H=0;H<m;H++)W(H);D=D/2,l*=f,m*=T,h=e.divideEdges(l),e.set("edgePoints",h)}n.forEach(function(lt,Mt){lt.source!==lt.target&&(lt.shape="polyline",lt.type="polyline",lt.controlPoints=h[Mt].slice(1,h[Mt].length-1))});var st=e.get("graph");st.refresh()}},r.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(o){e.set(o,t[o])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(n)},r.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,a=e.get("nodeIdMap"),o=e.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var f=a[s.source],h=a[s.target];if(t===1)o[l].push({x:f.x,y:f.y}),o[l].push({x:.5*(f.x+h.x),y:.5*(f.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=Va({x:f.x,y:f.y},{x:h.x,y:h.y}):c=e.getEdgeLength(o[l]);var v=c/(t+1),m=v,T=[{x:f.x,y:f.y}];o[l].forEach(function(D,Y){if(Y!==0){for(var W=Va(D,o[l][Y-1]);W>m;){var H=m/W,st={x:o[l][Y-1].x,y:o[l][Y-1].y};st.x+=H*(D.x-o[l][Y-1].x),st.y+=H*(D.y-o[l][Y-1].y),T.push(st),W-=m,m=v}m-=W}}),T.push({x:h.x,y:h.y}),o[l]=T}}),o},r.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,a){a!==0&&(e+=Va(n,t[a-1]))}),e},r.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,f){(!s[f]||s[f]===void 0)&&(s[f]=[])}),n.forEach(function(l,f){var h=o[l.source],c=o[l.target];n.forEach(function(v,m){if(!(m<=f)){var T=o[v.source],D=o[v.target],Y=t.getBundleScore({source:h,target:c},{source:T,target:D});Y>=a&&(s[f].push(m),s[m].push(f))}})}),s},r.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Va({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Va({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=n.getAngleScore(t,e),o=n.getScaleScore(t,e),s=n.getPositionScore(t,e),l=n.getVisibilityScore(t,e);return a*o*s*l},r.prototype.getAngleScore=function(t,e){var n=b8({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},r.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,a=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return a},r.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},s=Va(a,o);return n/(n+s)},r.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return n<a?n:a},r.prototype.getEdgeVisibility=function(t,e){var n=R1(e.source,t),a=R1(e.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Va(o,s)/Va(n,a))},r.prototype.getEdgeForces=function(t,e,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),f=l/(Va(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var v={x:0,y:0},m=o.getSpringForce({pre:s[e][c-1],cur:s[e][c],next:s[e][c+1]},f),T=o.getElectrostaticForce(c,e);v.x=a*(m.x+T.x),v.y=a*(m.y+T.y),h.push(v)}return h.push({x:0,y:0}),h},r.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=e,a*=e,{x:n,y:a}},r.prototype.getElectrostaticForce=function(t,e){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[e],f={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[e][t].x,y:s[h][t].y-s[e][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var v=Va(s[h][t],s[e][t]),m=1/v;f.x+=c.x*m,f.y+=c.y*m}}),f},r.prototype.isTicking=function(){return this.get("ticking")},r.prototype.getSimulation=function(){return this.get("forceSimulation")},r.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},r}(Xa),S8=w8,Hu=.05,N1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},M8=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,ei.d9)(N1),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},r.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},r.prototype.createDelegate=function(t){var e=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){e.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-Hu:a=1/(1-Hu);var f=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(f||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.set("r2",c*c);var v=e.get("d");e.set("molecularParam",(v+1)*c),e.set("delegateCenterDiff",void 0),e.magnify(t,l)}},r.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var n=e.get("dragPrePos"),a=e.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-Hu:o=1/(1-Hu);var l=e.get("maxR"),f=e.get("minR"),h=e.get("r");(h>(l||a.get("height"))&&o>1||h<(f||a.get("height")*.05)&&o<1)&&(o=1),h*=o,e.set("r",h),e.set("r2",h*h);var c=e.get("d");e.set("molecularParam",(c+1)*h),e.magnify(t,s),e.set("dragPrePos",{x:t.x,y:t.y})}},r.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=e.get("d"),o=a+n,s=e.get("maxD"),l=e.get("minD");if(o<s&&o>l){e.set("d",o);var f=e.get("r");e.set("molecularParam",(o+1)*f);var h=e.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,c)}}},r.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=e.get("d"),s=o+a,l=e.get("maxD"),f=e.get("minD");if(s<l&&s>f){e.set("d",s);var h=e.get("r");e.set("molecularParam",(s+1)*h),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},r.prototype.magnify=function(t,e){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),f=n.get("r"),h=n.get("r2"),c=n.get("d"),v=n.get("molecularParam"),m=a.getNodes(),T=m.length,D=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(D=n.get("cacheCenter"));var Y=n.get("delegateCenterDiff");Y&&(D.x+=Y.x,D.y+=Y.y),n.updateDelegate(D,f);for(var W=0;W<T;W++){var H=m[W].getModel(),st=H.x,lt=H.y;if(!(isNaN(st)||isNaN(lt))){var Mt=(st-D.x)*(st-D.x)+(lt-D.y)*(lt-D.y);if(!isNaN(Mt)&&Mt<h&&Mt!==0){var Ft=Math.sqrt(Mt),zt=v*Ft/(c*Ft+f),Zt=(st-D.x)/Ft,Yt=(lt-D.y)/Ft;if(H.x=Zt*zt+D.x,H.y=Yt*zt+D.y,s[H.id]||(s[H.id]={x:st,y:lt,texts:[]}),o.push(H),l&&2*Ft<f)for(var re=m[W],he=re.getContainer(),le=he.getChildren(),Ae=le.length,Ie=0;Ie<Ae;Ie++){var Le=le[Ie];Le.get("type")==="text"&&(s[H.id].texts.push({visible:Le.get("visible"),shape:Le}),Le.set("visible",!0))}}}}a.refreshPositions()},r.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=e.length,o=0;o<a;o++){var s=e[o],l=s.id,f=n[l];s.x=f.x,s.y=f.y;for(var h=f.texts.length,c=0;c<h;c++){var v=f.texts[c];v.shape.set("visible",v.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,f=t.minR,h=t.maxR,c=t.scaleDBy,v=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(a)||e.set("d",a),isNaN(l)||e.set("maxD",l),isNaN(s)||e.set("minD",s),isNaN(h)||e.set("maxR",h),isNaN(f)||e.set("minR",f);var m=e.get("d"),T=e.get("r");if(e.set("molecularParam",(m+1)*T),(o==="mousemove"||o==="click"||o==="drag")&&e.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){e.set("scaleDBy",c),e.get("delegate").remove(),e.get("delegate").destroy();var D=e.get("dPercentText");D&&(D.remove(),D.destroy())}if(v==="drag"||v==="wheel"||v==="unset"){e.set("scaleRBy",v),e.get("delegate").remove(),e.get("delegate").destroy();var D=e.get("dPercentText");D&&(D.remove(),D.destroy())}},r.prototype.updateDelegate=function(t,e){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),f=a.get("delegateStyle")||N1;s=l.addShape("circle",{attrs:$t({r:e/1.5,x:t.x,y:t.y},f),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(T){a.scaleRByWheel(T)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(T){a.set("dragging",!0),a.set("cacheCenter",{x:T.x,y:T.y}),a.set("dragPrePos",{x:T.x,y:T.y})}),s.on("drag",function(T){a.scaleRByDrag(T)}),s.on("dragend",function(T){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(T){n.scaleDByWheel(T)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(T){a.set("dragging",!0),a.set("cacheCenter",{x:T.x,y:T.y}),a.set("dragPrePos",{x:T.x,y:T.y})}),s.on("drag",function(T){n.scaleDByDrag(T)}),s.on("dragend",function(T){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),v=t.y+e/1.5+16;if(!c||c.destroyed){var m=o.get("group");c=m.addShape("text",{attrs:{text:h+"%",x:t.x,y:v,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:v})}a.set("delegate",s)},r.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Xa),C8=M8;Sc()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var E8=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},r.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),a=n(e),o=a;(0,ei.HD)(a)&&(o=(0,gi.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var f=this.get("handleClick");o.addEventListener("click",function(c){var v=c.path.filter(function(T){return T.nodeName==="LI"});if(v.length!==0){var m=v[0].getAttribute("code");!m||(f?f(m,e):t.handleDefaultOperator(m,e))}});var h=this.get("position");h&&(0,Fn.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},r.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,f=s.redoStack,h=l.length,c=f.length;h===1?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},r.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action;t.pushStack(a,(0,ei.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=t.findById(f.id);f.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.updateItem(f.id,f,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=f.itemType;delete f.itemType,t.addItem(h,f,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.removeItem(f.id,!1)})});break;default:}}}},r.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,ei.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=t.findById(f.id);f.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.updateItem(f.id,f,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=f.itemType;delete f.itemType,t.addItem(h,f,!1)})});break}default:}}}},r.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;e.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;e.zoomTo(n*.9);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},r.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},r}(Xa),A8=E8;Sc()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var T8=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},r.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,gi.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,Fn.Z)(e,{position:"absolute",visibility:"hidden"}),n.appendChild(e),this.set("tooltip",e)},r.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},r.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},r.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},r.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,An.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},r.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,Fn.Z)(t,{visibility:"hidden"})},r.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(!e(t)){(0,Fn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,f=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),v=c.x,m=c.y;v+=l,m+=f;var T=n.getBoundingClientRect();v+T.width>o&&(v=v-T.width-l),m+T.height>s&&(m=m-T.height-f),(0,Fn.Z)(n,{left:v+"px",top:m+"px",visibility:"visible"})},r.prototype.hide=function(){this.onMouseLeave()},r.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Xa),P8=T8,Y1=d(89539);function _8(i){return(0,u.map)(i,function(r,t){var e=t===0?"M":"L",n=r[0],a=r[1];return[e,n,a]})}function G1(i){return _8(i)}function O8(i){if(i.length<=2)return G1(i);var r=[];(0,u.each)(i,function(o){(0,u.isEqual)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=il.catmullRom2Bezier(r,!1),e=(0,u.head)(i),n=e[0],a=e[1];return t.unshift(["M",n,a]),t}function L8(i,r,t,e){e===void 0&&(e=!0);var n=new Wr.Linear({values:i}),a=new Wr.Category({values:(0,u.map)(i,function(s,l){return l})}),o=(0,u.map)(i,function(s,l){return[a.scale(l)*r,t-n.scale(s)*t]});return e?O8(o):G1(o)}function I8(i,r,t){for(var e=new Wr.Linear({values:i}),n=new Wr.Category({values:(0,u.map)(i,function(c,v){return v})}),a=(0,u.map)(i,function(c,v){return[n.scale(v)*r,t-e.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],f={x:l[0],y:l[1],y0:t,size:5},h=D8(f);o.push.apply(o,h)}return F8(o)}function k8(i,r){var t=new Wr.Linear({values:i}),e=Math.max(0,t.min);return r-t.scale(e)*r}function B8(i,r,t,e){var n=Ds(i),a=k8(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}function D8(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,Y1.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s,l;(0,Y1.isArray)(r)?(s=r[0],l=r[1]):(s=r-n/2,l=r+n/2);var f=[{x:s,y:a},{x:s,y:o}];return f.push({x:l,y:o},{x:l,y:a}),f}function F8(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var O7={opacity:.5},R8={stroke:"#C5C5C5",strokeOpacity:.85},N8={fill:"#CACED4",opacity:.85},Y8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.width,s=o===void 0?200:o,l=r.height,f=l===void 0?26:l,h=r.smooth,c=h===void 0?!0:h,v=r.isArea,m=v===void 0?!1:v,T=r.data,D=T===void 0?[]:T,Y=r.lineStyle,W=r.areaStyle,H=r.group,st=r.interval,lt=st===void 0?null:st;this.group=H,this.x=e,this.y=a,this.width=s,this.height=f,this.data=D,this.smooth=c,this.isArea=m,this.lineStyle=Object.assign({},R8,Y),this.areaStyle=Object.assign({},N8,W),this.intervalConfig=lt,this.renderLine()}return i.prototype.renderLine=function(){var r=this,t=r.x,e=r.y,n=r.width,a=r.height,o=r.data,s=r.smooth,l=r.isArea,f=r.backgroundStyle,h=r.lineStyle,c=r.areaStyle,v=this.group.addGroup({name:"trend-group"});if(o){var m=L8(o,n,a,s);if(v.addShape("path",{attrs:$t({path:m},h)}),l){var T=B8(m,n,a,o);v.addShape("path",{attrs:$t({path:T},c)})}}this.intervalConfig&&v.addShape("path",{attrs:$t({path:I8(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),v.move(t,e)},i.prototype.destory=function(){this.group.destroy()},i}(),G8=Y8,z8={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},X8={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},V8=function(){function i(r){var t=r.group,e=r.name,n=r.type,a=r.x,o=a===void 0?0:a,s=r.y,l=s===void 0?0:s,f=r.width,h=f===void 0?2:f,c=r.height,v=c===void 0?24:c,m=r.style,T=m===void 0?{}:m;this.group=t,this.name=e,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=v,n==="trend"?this.style=$t($t({},z8),T):n==="simple"&&(this.style=$t($t({},X8),T)),this.renderHandle()}return i.prototype.setX=function(r){this.setXY(r,void 0)},i.prototype.setY=function(r){this.setXY(void 0,r)},i.prototype.setXY=function(r,t){(0,u.isNumber)(r)&&(this.x=r),(0,u.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var r=this,t=r.width,e=r.height,n=r.style,a=r.name,o=n.fill,s=n.stroke,l=n.radius,f=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=r.style.highLightFill;r.background.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=r.style.fill;r.background.attr("fill",e)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),z1=V8,H8=function(){function i(r){this.config=(0,u.deepMix)({},r),this.init()}return i.prototype.update=function(r){this.config=(0,u.deepMix)({},this.config,r),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var r=this.config,t=r.group,e=r.style;this.circle=t.addShape("circle",{attrs:$t({x:this.config.x,y:this.config.y,r:this.config.r},e)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var r=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var r=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-r/Math.sqrt(3)/2,this.config.y-r/2],["L",this.config.x+r/Math.sqrt(3),this.config.y],["L",this.config.x-r/Math.sqrt(3)/2,this.config.y+r/2]]},i}(),W8=H8,j8="#ccc",U8="green",Z8={fill:"#607889",stroke:"#607889"},K8={fill:"#fff"},$8={fill:"green"},Q8={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Ks=110,Ha=50,J8=function(){function i(r){this.controllerCfg=(0,u.deepMix)({},Q8,r),this.group=r.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r+e,t],["L",r,t+e]]},i.prototype.getPreMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r-e,t],["L",r,t+e]]},i.prototype.renderPlayButton=function(){var r=this.controllerCfg,t=r.width,e=r.height,n=r.x,a=r.y,o=r.hiddleToggle,s=r.fill,l=s===void 0?j8:s,f=r.stroke,h=f===void 0?U8:f,c=r.playBtnStyle,v=c===void 0?Z8:c,m=r.preBtnStyle,T=m===void 0?K8:m,D=r.nextBtnStyle,Y=D===void 0?$8:D,W=e/2-5,H=a+10,st=this.group.addShape("rect",{attrs:{x:n,y:H,width:t,height:e,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:H,r:W}):this.playButton=new W8({group:this.group,x:t/2,y:H+W+5,r:W,isPlay:this.isPlay,style:v}),this.group.addShape("path",{attrs:$t({path:this.getPreMarkerPath(t/2-5*W,H+W+5,W*.5)},T),name:"preStepBtn"}),this.group.addShape("path",{attrs:$t({path:this.getPreMarkerPath(t/2-4.5*W,H+W+5,W*.5)},T),name:"preStepBtn"}),this.group.addShape("path",{attrs:$t({path:this.getNextMarkerPath(t/2+5*W,H+W+5,W*.5)},Y),name:"nextStepBtn"}),this.group.addShape("path",{attrs:$t({path:this.getNextMarkerPath(t/2+4.5*W,H+W+5,W*.5)},Y),name:"nextStepBtn"}),st.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var r=this.controllerCfg,t=r.y,e=r.width,n=r.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,f=0;f<5;f++){var h=t+15+f*(f+1)+o;a.addShape("rect",{attrs:{x:e-(n?Ha:Ks),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var f=0;f<4;f++)a.addShape("rect",{attrs:{x:e-(n?Ha:Ks),y:this.speedAxisY[f]+2,width:15,height:2*f+1,fill:"#fff",opacity:.3},speed:s[f]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:e-(n?Ha:Ks)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(e-(n?Ha:Ks),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(r,t){return[["M",r,t],["L",r-12,t-6],["L",r-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var r=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:r-Ha,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",r-Ha+3,this.speedAxisY[1]+6],["L",r-Ha+7,this.speedAxisY[1]+10],["L",r-Ha+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:r-Ha+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var r=this,t=this.controllerCfg,e=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){r.speedPoint.attr("path",r.getPath(e-(n?Ha:Ks),a.y)),r.currentSpeed=a.target.get("speed"),r.speedText.attr("text",r.currentSpeed+".0X"),r.group.emit("timebarConfigChanged",{speed:r.currentSpeed,type:r.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(r.checkedIcon.hide(),r.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),r.currentType="range"):(r.checkedIcon.show(),r.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),r.currentType="single"),a.target.set("isChecked",!o),r.group.emit("timebarConfigChanged",{type:r.currentType,speed:r.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),X1=J8,V1="timelinestart",H1="timelineend",Wa="valueChange",Wu="timebarConfigChanged",ju="playPauseBtn",Uu="nextStepBtn",Zu="preStepBtn",q8={fill:"#416180",opacity:.05},t9={fill:"#416180",opacity:.15,radius:5},e9={fill:"#5B8FF9",opacity:.3,cursor:"move"},Mc=2,r9={width:Mc,height:24},n9={textBaseline:"middle",fill:"#000",opacity:.45},i9=function(){function i(r){var t=this;this.prevX=0,this.onMouseDown=function(We){return function(yr){t.currentHandler=We;var gr=yr.originalEvent;gr.stopPropagation(),gr.preventDefault(),t.prevX=(0,u.get)(gr,"touches.0.pageX",gr.pageX);var Mr=t.canvas.get("container");Mr.addEventListener("mousemove",t.onMouseMove),Mr.addEventListener("mouseup",t.onMouseUp),Mr.addEventListener("mouseleave",t.onMouseUp),Mr.addEventListener("touchmove",t.onMouseMove),Mr.addEventListener("touchend",t.onMouseUp),Mr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(We){We.stopPropagation(),We.preventDefault();var yr=(0,u.get)(We,"touches.0.pageX",We.pageX),gr=yr-t.prevX,Mr=t.adjustOffsetRange(gr/t.width);t.updateStartEnd(Mr),t.updateUI(),t.prevX=yr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var We=t.canvas.get("container");We&&(We.removeEventListener("mousemove",t.onMouseMove),We.removeEventListener("mouseup",t.onMouseUp),We.removeEventListener("mouseleave",t.onMouseUp),We.removeEventListener("touchmove",t.onMouseMove),We.removeEventListener("touchend",t.onMouseUp),We.removeEventListener("touchcancel",t.onMouseUp))};var e=r.x,n=e===void 0?0:e,a=r.y,o=a===void 0?0:a,s=r.width,l=s===void 0?100:s,f=r.height,h=r.padding,c=h===void 0?10:h,v=r.trendCfg,m=r.controllerCfg,T=m===void 0?{speed:1}:m,D=r.backgroundStyle,Y=D===void 0?{}:D,W=r.foregroundStyle,H=W===void 0?{}:W,st=r.handlerStyle,lt=st===void 0?{}:st,Mt=r.textStyle,Ft=Mt===void 0?{}:Mt,zt=r.start,Zt=zt===void 0?0:zt,Yt=r.end,re=Yt===void 0?1:Yt,he=r.minText,le=he===void 0?"":he,Ae=r.maxText,Ie=Ae===void 0?"":Ae,Le=r.group,je=r.graph,Ke=r.canvas,Qe=r.ticks,He=r.type;this.graph=je,this.canvas=Ke,this.group=Le,this.timeBarType=He,this.x=n,this.y=o,this.width=l,this.height=f,this.padding=c,this.ticks=Qe,this.trendCfg=v,this.controllerCfg=T,this.currentSpeed=T.speed,He==="trend"?this.backgroundStyle=$t($t({},q8),Y):He==="simple"&&(this.backgroundStyle=$t($t({},t9),Y)),this.foregroundStyle=$t($t({},e9),H),this.handlerStyle=$t($t({},r9),lt),this.textStyle=$t($t({},n9),Ft),this.currentMode="range",this.start=Zt,this.end=re,this.minText=le,this.maxText=Ie,this.renderSlider()}return i.prototype.update=function(r){var t=r.x,e=r.y,n=r.width,a=r.height,o=r.minText,s=r.maxText,l=r.start,f=r.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(f,0)),(0,u.assign)(this,{x:t,y:e,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(r,t){this.minTextShape.attr("text",r),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var r=this,t=this,e=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,u.size)((0,u.get)(this.trendCfg,"data"))){var o=new G8($t($t({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:$t({x:0,y:0,width:e,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:$t({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:$t({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:$t({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:$t({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:$t({x:0,y:this.y,height:n},this.foregroundStyle)});var f=(0,u.get)(this.handlerStyle,"width",2),h=(0,u.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new z1($t({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:f,height:h,cursor:"ew-resize"},this.handlerStyle));var v=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new z1($t({name:"maxHandlerShape",group:v,type:a,x:this.x,y:this.y,width:f,height:h,cursor:"ew-resize"},this.handlerStyle));var m=this.ticks,T=e/(m.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(Y){Y.destroy()});var D=-Infinity;this.textList=m.map(function(Y,W){r.tickPosList.push(r.x+W*T);var H=r.group.addShape("text",{attrs:{x:r.x+W*T,y:r.y+n+5,text:Y,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),st=r.group.addShape("line",{attrs:{x1:r.x+W*T,y1:r.y+n+2,x2:r.x+W*T,y2:r.y+n+6,lineWidth:1,stroke:"#ccc"}}),lt=H.getBBox();return lt.minX>D?(H.show(),st.show(),D=lt.minX+lt.width+10):(H.hide(),st.hide()),H}),this.controllerBtnGroup=new X1({group:this.group,x:this.x,y:this.y+n+25,width:e,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(ju+":click",function(){r.isPlay=!r.isPlay,r.currentHandler=r.maxHandlerShape,r.changePlayStatus()}),this.group.on(Uu+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(.01),r.updateUI()}),this.group.on(Zu+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(-.01),r.updateUI()}),this.group.on(Wu,function(n){var a=n.type,o=n.speed;r.currentSpeed=o,r.currentMode=a,a==="single"?(r.minHandlerShape.hide(),r.foregroundShape.hide(),r.minTextShape.hide()):a==="range"&&(r.minHandlerShape.show(),r.foregroundShape.show(),r.minTextShape.show())})},i.prototype.adjustTickIndex=function(r){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=r&&r<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-r)<Math.abs(r-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(r){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,r))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,r))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,r))}default:return 0}},i.prototype.updateStartEnd=function(r){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=r,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=r,this.end+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var r=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=(0,u.get)(this.handlerStyle,"width",Mc);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,u.each)(o,function(l,f){return r.minTextShape.attr(f,l)}),this.maxHandlerShape.setX(e-n/2),(0,u.each)(s,function(l,f){return r.maxTextShape.attr(f,l)}),this.currentMode==="range"?this.graph.emit(Wa,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(Wa,{value:[this.end,this.end]})},i.prototype.dodgeText=function(r){var t,e,n=2,a=(0,u.get)(this.handlerStyle,"width",Mc),o=this.minTextShape,s=this.maxTextShape,l=r[0],f=r[1],h=!1;l>f&&(t=[f,l],l=t[0],f=t[1],e=[s,o],o=e[0],s=e[1],h=!0);var c=o.getBBox(),v=s.getBBox(),m=null,T=null;return this.timeBarType==="trend"?(m=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},T=v.width>this.width-f-n?{x:f-a/2-n,textAlign:"right"}:{x:f+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(m=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},T=v.width>this.width-f-n?{x:f-a/2-n,textAlign:"center"}:{x:f+a/2+n,textAlign:"center"}),h?[T,m]:[m,T]},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r,e=t.ticks,n=t.width,a=r.currentSpeed,o=n/e.length,s=o/((10-a)*1e3/60),l=r.adjustOffsetRange(s/r.width);r.updateStartEnd(l),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(V1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(H1,null))},i.prototype.destory=function(){this.graph.off(Wa);var r=this.group,t=r.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=r.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),r.off(ju+":click"),r.off(Uu+":click"),r.off(Zu+":click"),r.off(Wu),r.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),a9=i9,L7={opacity:.5,fill:"#000"},I7={opacity:.5,fill:"#000",r:5},k7={fill:"#fff",fontSize:12},o9=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.container,s=r.text,l=r.padding,f=l===void 0?[4,4,4,4]:l,h=r.className,c=h===void 0?"g6-component-timebar-tooltip":h,v=r.backgroundColor,m=v===void 0?"#000":v,T=r.textColor,D=T===void 0?"#fff":T,Y=r.opacity,W=Y===void 0?.8:Y,H=r.fontSize,st=H===void 0?12:H;this.container=o,this.className=c,this.backgroundColor=m,this.textColor=D,this.x=e,this.y=a,this.text=s,this.padding=f,this.opacity=W,this.fontSize=st,this.render()}return i.prototype.render=function(){var r=this,t=r.className,e=r.x,n=r.y,a=r.backgroundColor,o=r.textColor,s=r.text,l=r.padding,f=r.opacity,h=r.fontSize,c=r.container,v=(0,gi.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+f+'"></div>');(0,u.isString)(c)&&(c=document.getElementById(c)),c.appendChild(v),r.parentHeight=c.offsetHeight,r.parentWidth=c.offsetWidth,(0,Fn.Z)(v,{visibility:"hidden",top:0,left:0});var m=(0,gi.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");m.innerHTML=s,v.appendChild(m),r.backgroundDOM=m;var T=(0,gi.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");v.appendChild(T),r.arrowDOM=T,r.container=v},i.prototype.show=function(r){var t=this,e=r.text,n=r.x,a=r.y,o=r.clientX,s=r.clientY;t.backgroundDOM.innerHTML=e;var l=t.backgroundDOM.offsetWidth,f=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,Fn.Z)(t.container,{top:-f-c+"px",left:n+"px",visibility:"visible"}),(0,Fn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,Fn.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:f+"px"});var v=n-l/2,m=n+l/2;v<0?(0,Fn.Z)(t.backgroundDOM,{marginLeft:-l/2-v+"px"}):m>t.parentWidth&&(0,Fn.Z)(t.backgroundDOM,{marginLeft:-l/2-m+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,Fn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),s9=o9,l9={fill:"#5B8FF9"},u9={fill:"#e6e8e9"},f9=function(){function i(r){this.frameCount=0;var t=r.graph,e=r.canvas,n=r.group,a=r.width,o=r.height,s=r.padding,l=r.data,f=r.start,h=r.end,c=r.x,v=c===void 0?0:c,m=r.y,T=m===void 0?0:m,D=r.tickLabelFormatter,Y=r.selectedTickStyle,W=Y===void 0?l9:Y,H=r.unselectedTickStyle,st=H===void 0?u9:H,lt=r.tooltipBackgroundColor,Mt=r.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=f,this.end=h,this.tickLabelFormatter=D,this.selectedTickStyle=W,this.unselectedTickStyle=st,this.x=v,this.y=T,this.tooltipBackgroundColor=lt,this.tooltipFomatter=Mt,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var r=this,t=r.width,e=r.height,n=r.padding,a=r.data,o=r.start,s=r.end,l=r.tickLabelFormatter,f=r.selectedTickStyle,h=r.unselectedTickStyle,c=t-2*n,v=10,m=4,T=3*n+m+v,D=e-T-2*n,Y=2,W=a.length,H=(c-Y*(W-1))/W;this.tickWidth=H;var st=this.sliceGroup,lt=[],Mt=[],Ft=Math.round(W*o),zt=Math.round(W*s);this.startTickRectId=Ft,this.endTickRectId=zt,a.forEach(function(Yt,re){var he=re>=Ft&&re<=zt,le=he?f:h,Ae=st.addShape("rect",{attrs:$t({x:n+re*(H+Y),y:n,width:H,height:D},le),draggable:!0,name:"tick-rect-"+re}),Ie=st.addShape("rect",{attrs:{x:n+re*H+Y*(2*re-1)/2,y:n,width:re===0||re===W-1?H+Y/2:H+Y,height:D,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+re});Ie.toFront();var Le=Ae.getBBox(),je=(Le.minX+Le.maxX)/2;lt.push({rect:Ae,pickRect:Ie,value:Yt.date,x:je,y:Le.minY});var Ke;if(l?(Ke=l(Yt),!(0,u.isString)(Ke)&&Ke&&(Ke=Yt.date)):re%Math.round(W/10)==0&&(Ke=Yt.date),Ke){Mt.push(Ke);var Qe=Le.maxY+n*2;st.addShape("line",{attrs:{stroke:"#BFBFBF",x1:je,y1:Qe,x2:je,y2:Qe+m}});var He=Qe+m+n,We=st.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:je,y:He,textAlign:"center",text:Ke,textBaseline:"top",fontSize:10},capture:!1}),yr=We.getBBox();yr.maxX>t?We.attr("textAlign","right"):yr.minX<0&&We.attr("textAlign","left")}}),this.tickRects=lt;var Zt=this.group;this.currentSpeed=1,this.controllerBtnGroup=new X1({group:Zt,x:this.x,y:this.y+e+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var r=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var v=parseInt(c.get("name").split("-")[2],10);if(!isNaN(v)){var m=r.tickRects,T=r.unselectedTickStyle;m.forEach(function(H){H.rect.attr(T)});var D=r.selectedTickStyle;m[v].rect.attr(D),r.startTickRectId=v,r.endTickRectId=v;var Y=m.length,W=v/Y;r.graph.emit(Wa,{value:[W,W]})}}}),t.on("dragstart",function(h){var c=r.tickRects,v=r.unselectedTickStyle;c.forEach(function(H){H.rect.attr(v)});var m=h.target,T=parseInt(m.get("name").split("-")[2],10),D=r.selectedTickStyle;c[T].rect.attr(D),r.startTickRectId=T;var Y=c.length,W=T/Y;r.graph.emit(Wa,{value:[W,W]}),r.dragging=!0}),t.on("dragover",function(h){if(!!r.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),v=r.startTickRectId,m=r.tickRects,T=r.selectedTickStyle,D=r.unselectedTickStyle,Y=0;Y<m.length;Y++){var W=Y>=v&&Y<=c?T:D;m[Y].rect.attr(W)}var H=m.length;r.endTickRectId=c;var st=v/H,lt=c/H;r.graph.emit(Wa,{value:[st,lt]})}}),t.on("drop",function(h){if(!!r.dragging&&(r.dragging=!1,h.target.get("type")==="rect")){var c=r.startTickRectId,v=parseInt(h.target.get("name").split("-")[2],10);if(!(v<c)){var m=r.selectedTickStyle,T=r.tickRects;T[v].rect.attr(m),r.endTickRectId=v;var D=T.length,Y=c/D,W=v/D;r.graph.emit(Wa,{value:[Y,W]})}}});var e=this,n=e.tooltipBackgroundColor,a=e.tooltipFomatter,o=e.canvas,s=new s9({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(v){var m=v.target;if(m.get("type")==="rect"){var T=parseInt(m.get("name").split("-")[2],10),D=o.getClientByPoint(l[T].x,l[T].y);s.show({x:l[T].x,y:l[T].y,clientX:D.x,clientY:D.y,text:a?a(l[T].value):l[T].value})}}),c.on("mouseleave",function(v){s.hide()})});var f=this.group;f.on(ju+":click",function(){r.isPlay=!r.isPlay,r.changePlayStatus()}),f.on(Uu+":click",function(){r.updateStartEnd(1)}),f.on(Zu+":click",function(){r.updateStartEnd(-1)}),f.on(Wu,function(h){var c=h.type,v=h.speed;r.currentSpeed=v})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(V1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(H1,null))},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.currentSpeed;r.frameCount%(60/t)==0&&(r.frameCount=0,r.updateStartEnd(1)),r.frameCount++,r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.updateStartEnd=function(r){var t=this,e=this.tickRects,n=e.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(r>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)e[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(o);var f=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(Wa,{value:[f,h]})}},i.prototype.destory=function(){this.graph.off(Wa);var r=this.sliceGroup;r.off("click"),r.off("dragstart"),r.off("dragover"),r.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,r.off(ju+":click"),r.off(Uu+":click"),r.off(Zu+":click"),r.off(Wu),this.sliceGroup.destroy()},i}(),h9=f9,c9=8,v9=26,d9=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},r.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,n=e.width,a=e.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),f;s?f=s:(f=(0,gi.Z)("<div class='"+o+"'></div>"),(0,Fn.Z)(f,{position:"relative"})),l.appendChild(f),this.set("timeBarContainer",f);var h,c=t.get("renderer");c==="SVG"?h=new Gs.Z({container:f,width:n,height:a}):h=new No.Z({container:f,width:n,height:a}),this.set("canvas",h)},r.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent()},r.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,f=t.slider,h=t.controllerCfg,c=l.data,v=ji(l,["data"]),m=e-2*o,T=s==="trend"?v9:c9,D=this.get("graph"),Y=this.get("timeBarGroup"),W=this.get("canvas"),H=null;if(s==="trend"||s==="simple")H=new a9($t($t({graph:D,canvas:W,group:Y,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:m,height:T,padding:o,trendCfg:$t($t({},v),{data:c.map(function(lt){return lt.value})})},f),{ticks:c.map(function(lt){return lt.date}),handlerStyle:$t($t({},f.handlerStyle),{height:f.height||T}),controllerCfg:h}));else if(s==="tick"){var st=this._cfgs.tick;H=new h9($t({graph:D,canvas:W,group:Y,x:n+o,y:a+o},st))}this.set("timebar",H)},r.prototype.filterData=function(t){var e=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*e[0]),f=Math.round(n.length*e[1]);f=f>=n.length?n.length-1:f;var h=n[l].date,c=n[f].date;if(a!=="tick"){var v=this.get("timebar");v.setText(h,c)}if(o)o(s,h,c);else{var m=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=m);var T=this.cacheGraphData.nodes.filter(function(W){return W.date>=h&&W.date<=c}),D=T.map(function(W){return W.id}),Y=this.cacheGraphData.edges.filter(function(W){return D.includes(W.source)&&D.includes(W.target)});s.changeData({nodes:T,edges:Y})}},r.prototype.initEvent=function(){var t=this,e=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[e,n]})}),o.on(Wa,function(s){t.filterData(s)})},r.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(e)}},r}(Xa),p9=d9;function g9(i,r){var t,e;if(i.naturalWidth)t=i.naturalWidth,e=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){r==null||r(n.width,n.height)}}return[t,e]}var y9=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var a=this.get("container"),o=(0,gi.Z)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,f=!1,h=0,c=0,v=0,m=0,T=0,D=0;a.addEventListener("mousedown",function(Y){if(e.refresh=!1,Y.target===o){var W=o.style;v=parseInt(W.width,10),m=parseInt(W.height,10);var H=t.get("width"),st=t.get("height");v>H||m>st||(D=n.getZoom(),T=t.get("ratio"),f=!0,s=Y.clientX,l=Y.clientY)}},!1),a.addEventListener("mousemove",function(Y){if(!(!f||(0,Bi.default)(Y.clientX)||(0,Bi.default)(Y.clientY))){var W=t.get("width"),H=t.get("height"),st=o.style;h=parseInt(st.left,10),c=parseInt(st.top,10),v=parseInt(st.width,10),m=parseInt(st.height,10);var lt=s-Y.clientX,Mt=l-Y.clientY;h-lt<0?lt=h:h-lt+v>=W&&(lt=0),c-Mt<0?Mt=c:c-Mt+m>=H&&(Mt=0),h-=lt,c-=Mt,(0,Fn.Z)(o,{left:h+"px",top:c+"px"}),n.translate(lt*D/T,Mt*D/T),s=Y.clientX,l=Y.clientY}},!1),a.addEventListener("mouseleave",function(){f=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){f=!1,e.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,f=a.getGroup(),h=f.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],v=[h.maxX-h.minX,h.maxY-h.minY],m={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(m.width=v[0],m.height=m.width/l):(m.height=v[1],m.width=m.height*l),m.minX=c[0]-m.width/2,m.minY=c[1]-m.height/2;var T=f.getMatrix();T||(T=[1,0,0,0,1,0,0,0,1]);var D=ao.invert([],T),Y=Rs({x:m.minX,y:m.minY},D),W=a.getCanvasByPoint(Y.x,Y.y),H=this.get("viewport");H||this.initViewport();var st=o/m.width,lt=st*e,Mt=st*n,Ft=e*-W.x/m.width,zt=n*-W.y/m.height,Zt=Ft+lt,Yt=zt+Mt;Ft<0&&(lt+=Ft,Ft=0),Zt>e&&(lt=lt-(Zt-e)),zt<0&&(Mt+=zt,zt=0),Yt>n&&(Mt=Mt-(Yt-n)),this.set("ratio",t);var re=Ft+"px",he=zt+"px";(0,Fn.Z)(H,{left:re,top:he,width:lt+"px",height:Mt+"px"})}},r.prototype.init=function(){this.initContainer()},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),a=e.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),f=t.get("width"),h=t.get("height");!f&&!h&&(f=200),f?(h=o*f,t.set("height",h)):(f=1/o*h,t.set("width",f));var c=(0,gi.Z)("<div class='"+s+"' style='width: "+f+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,An.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):e.get("container").appendChild(c),t.set("container",c);var v=(0,gi.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(v);var m=(0,gi.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');v.appendChild(m),t.set("containerDOM",v),t.set("containerSpan",m);var T=(0,gi.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",T),t.updateImgSize(),m.appendChild(T),t.updateCanvas()},r.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),a=t.get("height");e.onload=function(){var o=g9(e);o[0]>o[1]?e.width=n:e.height=a}},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=e.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var a=(0,gi.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var o=e.get("containerSpan");o.appendChild(a),e.updateCanvas()},r.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},r}(Xa),m9=y9,W1=.05,j1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},x9=function(i){Xn(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,ei.d9)(j1),showLabel:"edge",scaleRBy:"wheel"}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},r.prototype.init=function(){var t=this,e=t.get("showLabel"),n=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},r.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");(!n||n.destroyed)&&(e.filter(t),n=e.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){e.scaleRByWheel(a)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-W1:a=1/(1-W1);var f=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(f||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.filter(t)}},r.prototype.filter=function(t){var e=this,n=e.get("graph"),a=n.getNodes(),o={},s=e.get("r"),l=e.get("type"),f={x:t.x,y:t.y};e.updateDelegate(f,s);var h=e.get("shouldShow"),c=e.get("vShapes");c&&c.forEach(function(W){W.remove(),W.destroy()}),c=[],a.forEach(function(W){var H=W.getModel(),st=H.x,lt=H.y;Ns({x:st,y:lt},f)<s&&(o[H.id]=W)});var v=n.getEdges(),m=[];v.forEach(function(W){var H=W.getModel(),st=H.source,lt=H.target;h(H)&&(l==="only-source"||l==="one"?o[st]&&!o[lt]&&m.push(W):l==="only-target"||l==="one"?o[lt]&&!o[st]&&m.push(W):l==="both"&&o[st]&&o[lt]&&m.push(W))});var T=e.get("showNodeLabel"),D=e.get("showEdgelabel"),Y=n.get("group");m.forEach(function(W){var H=W.get("group").get("children");H.forEach(function(st){var lt=st.get("type"),Mt=Y.addShape(lt,{attrs:st.attr()});c.push(Mt),T&&lt==="text"&&Mt.set("visible",!0)})}),Object.keys(o).forEach(function(W){var H=o[W],st=H.get("group").clone();if(Y.add(st),c.push(st),D)for(var lt=st.get("children"),Mt=0;Mt<lt.length;Mt++){var Ft=lt[Mt];Ft.get("type")==="text"&&Ft.set("visible",!0)}}),e.set("vShapes",c)},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,f=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(s)||e.set("maxR",s),isNaN(o)||e.set("minR",o),(a==="mousemove"||a==="click")&&e.set("trigger",a),l==="wheel"||l==="unset"){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var c=e.get("dPercentText");c&&(c.remove(),c.destroy())}(f==="node"||f==="both")&&e.set("showNodeLabel",!0),(f==="edge"||f==="both")&&e.set("showEdgeLabel",!0),h&&e.set("shouldShow",h)},r.prototype.updateDelegate=function(t,e){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||j1;o=s.addShape("circle",{attrs:$t({r:e,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(f){n.scaleRByWheel(f)})}else o.attr({x:t.x,y:t.y,r:e});n.set("delegate",o)},r.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Xa),b9=x9,Ki={Menu:d8,Grid:h8,Minimap:x8,Bundling:S8,ToolBar:A8,Tooltip:P8,Fisheye:C8,TimeBar:p9,ImageMinimap:m9,EdgeFilterLens:b9};function w9(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}function U1(i,r,t,e){e.enter({current:r,previous:t}),i.getNeighbors(r,"target").forEach(function(n){e.allowTraversal({previous:t,current:r,next:n})&&U1(i,n,r,e)}),e.leave({current:r,previous:t})}function Z1(i,r,t){var e=null,n=i.findById(r);U1(i,n,e,w9(t))}var S9=function(){function i(){this.linkedList=new g1}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(r){this.linkedList.append(r)},i.prototype.dequeue=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toString=function(r){return this.linkedList.toString(r)},i}(),M9=S9;function C9(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}var E9=function(r,t,e){var n=C9(e),a=new M9,o=r.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),r.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},A9=E9;function T9(i){for(var r=[],t={},e=[],n=function l(f){e.push(f),t[f.get("id")]=!0;for(var h=f.getNeighbors(),c=0;c<h.length;++c){var v=h[c];t[v.get("id")]||l(v)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];e.length>0;)s.push(e.pop());r.push(s)}}return r}function K1(i){for(var r=[],t={},e={},n={},a=[],o=0,s=function c(v){e[v.get("id")]=o,n[v.get("id")]=o,o+=1,r.push(v),t[v.get("id")]=!0;for(var m=v.getNeighbors("target").filter(function(H){return i.indexOf(H)>-1}),T=0;T<m.length;T++){var D=m[T];!e[D.get("id")]&&e[D.get("id")]!==0?(c(D),n[v.get("id")]=Math.min(n[v.get("id")],n[D.get("id")])):t[D.get("id")]&&(n[v.get("id")]=Math.min(n[v.get("id")],e[D.get("id")]))}if(n[v.get("id")]===e[v.get("id")]){for(var Y=[];r.length>0;){var W=r.pop();if(t[W.get("id")]=!1,Y.push(W),W===v)break}Y.length>0&&a.push(Y)}},l=0,f=i;l<f.length;l++){var h=f[l];!e[h.get("id")]&&e[h.get("id")]!==0&&s(h)}return a}function $1(i,r){var t=r===void 0?i.get("directed"):r,e=i.getNodes();return t?K1(e):T9(e)}var P9=function(r){var t=null,e={},n={},a={},o={};r.getNodes().forEach(function(f){n[f.getID()]=f});for(var s={enter:function(h){var c=h.current,v=h.previous;if(a[c.getID()]){t={};for(var m=c,T=v;T.getID()!==c.getID();)t[m.getID()]=T,m=T,T=e[T.getID()];t[m.getID()]=T}else a[c.getID()]=c,delete n[c.getID()],e[c.getID()]=v},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];Z1(r,l,s)}return t},Q1=function(r,t,e){var n,a,o;e===void 0&&(e=!0);for(var s=[],l=$1(r,!1),f=0,h=l;f<h.length;f++){var c=h[f];if(!!c.length)for(var v=c[0],m=v.get("id"),T=[v],D=(n={},n[m]=v,n),Y=(a={},a[m]=new Set,a);T.length>0;)for(var W=T.pop(),H=W.get("id"),st=W.getNeighbors(),lt=0;lt<st.length;lt+=1){var Mt=st[lt],Ft=Mt.get("id");if(Ft===H)s.push((o={},o[Mt.getID()]=W,o));else if(!(Ft in Y))D[Ft]=W,T.push(Mt),Y[Ft]=new Set([W]);else if(!Y[H].has(Mt)){for(var zt=!0,Zt=[Mt,W],Yt=D[H];Y[Ft].size&&!Y[Ft].has(Yt)&&(Zt.push(Yt),Yt!==D[Yt.getID()]);)Yt=D[Yt.getID()];if(Zt.push(Yt),t&&e?(zt=!1,Zt.findIndex(function(le){return t.indexOf(le.get("id"))>-1})>-1&&(zt=!0)):t&&!e&&Zt.findIndex(function(le){return t.indexOf(le.get("id"))>-1})>-1&&(zt=!1),zt){for(var re={},he=1;he<Zt.length;he+=1)re[Zt[he-1].getID()]=Zt[he];Zt.length&&(re[Zt[Zt.length-1].getID()]=Zt[0]),s.push(re)}Y[Ft].add(W)}}}return s},J1=function(r,t,e){e===void 0&&(e=!0);for(var n=[],a=new Set,o=[],s=[],l={},f={},h=function(re){for(var he=[re];he.length>0;){var le=he.pop();a.has(le)&&(a.delete(le),o[le.get("id")].forEach(function(Ae){he.push(Ae)}),o[le.get("id")].clear())}},c=function Yt(re,he,le){var Ae=!1;if(t&&e===!1&&t.indexOf(re.get("id"))>-1)return Ae;n.push(re),a.add(re);for(var Ie=le[re.getID()],Le=0;Le<Ie.length;Le+=1){var je=l[Ie[Le]];if(je===he){for(var Ke={},Qe=1;Qe<n.length;Qe+=1)Ke[n[Qe-1].getID()]=n[Qe];n.length&&(Ke[n[n.length-1].getID()]=n[0]),s.push(Ke),Ae=!0}else a.has(je)||Yt(je,he,le)&&(Ae=!0)}if(Ae)h(re);else for(var Le=0;Le<Ie.length;Le+=1){var je=l[Ie[Le]];o[je.get("id")].has(re)||o[je.get("id")].add(re)}return n.pop(),Ae},v=r.getNodes(),m=0;m<v.length;m+=1){var T=v[m],D=T.getID();f[D]=m,l[m]=T}if(t&&e)for(var m=0;m<t.length;m++){var D=t[m];f[v[m].getID()]=f[D],f[D]=0,l[0]=r.findById(D),l[f[v[m].getID()]]=v[m]}for(var Y=function(re){for(var he,le,Ae=Infinity,Ie=0;Ie<re.length;Ie+=1)for(var Le=re[Ie],je=0;je<Le.length;je++){var Ke=f[Le[je].getID()];Ke<Ae&&(Ae=Ke,le=Ie)}for(var Qe=re[le],He=[],Ie=0;Ie<Qe.length;Ie+=1){var We=Qe[Ie];He[We.getID()]=[];for(var yr=0,gr=We.getNeighbors("target").filter(function(br){return Qe.indexOf(br)>-1});yr<gr.length;yr++){var Mr=gr[yr];Mr===We&&!(e===!1&&t.indexOf(We.getId())>-1)?s.push((he={},he[We.getID()]=We,he)):He[We.getID()].push(f[Mr.getID()])}}return{component:Qe,adjList:He,minIdx:Ae}},W=0;W<v.length;){var H=v.filter(function(Yt){return f[Yt.getID()]>=W}),st=K1(H).filter(function(Yt){return Yt.length>1});if(st.length===0)break;var lt=Y(st),Mt=lt.minIdx,Ft=lt.adjList,zt=lt.component;if(zt.length>1){zt.forEach(function(Yt){o[Yt.get("id")]=new Set});var Zt=l[Mt];if(t&&e&&t.indexOf(Zt.get("id"))===-1)return s;c(Zt,Zt,Ft),W=Mt+1}else break}return s},_9=function(r,t,e,n){return n===void 0&&(n=!0),t===void 0&&(t=r.get("directed")),t?J1(r,e,n):Q1(r,e,n)},O9=P9,L9=function(r,t,e,n){var a=r.getNodes(),o=[],s={},l={},f={};a.forEach(function(Y,W){var H=Y.getID();o.push(H),l[H]=Infinity,H===t&&(l[H]=0)});for(var h=a.length,c=function(W){var H=I9(l,a,s),st=H.get("id");if(s[st]=!0,l[st]===Infinity)return"continue";var lt=[];e?lt=H.getOutEdges():lt=H.getEdges(),lt.forEach(function(Mt){var Ft=Mt.getTarget().getID(),zt=Mt.getSource().getID(),Zt=Ft===st?zt:Ft,Yt=n&&Mt.getModel()[n]?Mt.getModel()[n]:1;l[Zt]>l[H.get("id")]+Yt&&(l[Zt]=l[H.get("id")]+Yt,f[Zt]=H.get("id"))})},v=0;v<h;v++)c(v);var m={};for(var T in l){m[T]=[T];for(var D=f[T];D!==void 0;)m[T].unshift(D),D=f[D]}return{length:l,path:m}};function I9(i,r,t){for(var e=Infinity,n,a=0;a<r.length;a++){var o=r[a].get("id");!t[o]&&i[o]<=e&&(e=i[o],n=r[a])}return n}var k9=L9,B9=function(r,t,e,n,a){(0,u.isString)(t)&&(t=r.findById(t)),(0,u.isString)(e)&&(e=r.findById(e));var o=k9(r,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[e.get("id")],path:l[e.get("id")]}},D9=function(r,t,e,n){var a;if((0,u.isString)(t)&&(t=r.findById(t)),(0,u.isString)(e)&&(e=r.findById(e)),n===void 0&&(n=r.get("directed")),t===e)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],f=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var v=c.shift();v&&(o.push(v),s[v.get("id")]=!0,h=n?v.getNeighbors("target"):v.getNeighbors(),l.push(h.filter(function(D){return!s[D.get("id")]})))}else{var m=o.pop();s[m.get("id")]=!1,l.pop();continue}if(o[o.length-1]===e){var T=o.map(function(Y){return Y.get("id")});f.push(T);var m=o.pop();s[m.get("id")]=!1,l.pop()}}return f},F9=function(){function i(r){this.count=r.length,this.parent={};for(var t=0,e=r;t<e.length;t++){var n=e[t];this.parent[n]=n}}return i.prototype.find=function(r){for(;this.parent[r]!==r;)r=this.parent[r];return r},i.prototype.union=function(r,t){var e=this.find(r),n=this.find(t);e!==n&&(e<n?(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]):(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]))},i.prototype.connected=function(r,t){return this.find(r)===this.find(t)},i}(),R9=F9,N9=function(r,t){return r-t},Y9=function(){function i(r){r===void 0&&(r=N9),this.compareFn=r,this.list=[]}return i.prototype.getLeft=function(r){return 2*r+1},i.prototype.getRight=function(r){return 2*r+2},i.prototype.getParent=function(r){return r===0?null:Math.floor((r-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var r=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),r},i.prototype.insert=function(r){if(r!==null){this.list.push(r);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(r){for(var t=this.getParent(r);r&&r>0&&this.compareFn(this.list[t],this.list[r])>0;){var e=this.list[t];this.list[t]=this.list[r],this.list[r]=e,r=t,t=this.getParent(r)}},i.prototype.moveDown=function(r){var t,e=r,n=this.getLeft(r),a=this.getRight(r),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[e],this.list[n])>0?e=n:a!==null&&a<o&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),r!==e&&(t=[this.list[e],this.list[r]],this.list[r]=t[0],this.list[e]=t[1],this.moveDown(e))},i}(),G9=Y9,z9=function(r,t){var e=[],n=r.getNodes();if(n.length===0)return e;var a=n[0],o=new Set;o.add(a);var s=function(m,T){return t?m.getModel()[t]-T.getModel()[t]:0},l=new G9(s);for(a.getEdges().forEach(function(v){l.insert(v)});!l.isEmpty();){var f=l.delMin(),h=f.getSource(),c=f.getTarget();o.has(h)&&o.has(c)||(e.push(f),o.has(h)||(o.add(h),h.getEdges().forEach(function(v){l.insert(v)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(v){l.insert(v)})))}return e},q1=function(r,t){var e=[];if(r.getNodes().length===0)return e;var n=r.getEdges().map(function(f){return f});t&&n.sort(function(f,h){return f.getModel()[t]-h.getModel()[t]});for(var a=new R9(r.getNodes().map(function(f){return f.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(e.push(o),a.union(s,l))}return e};function X9(i,r,t){var e={prim:z9,kruskal:q1};return t?e[t](i,r):q1(i,r)}var V9=function(r,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var n=1,a=0,o=1e3,s=r.getNodes(),l=s.length,f,h={},c={},v=0;v<l;++v){var m=s[v],T=m.get("id");h[T]=1/l,c[T]=1/l}for(;o>0&&n>t;){a=0;for(var v=0;v<l;++v){var m=s[v],T=m.get("id");if(f=0,r.getNodeDegree(m,"in")===0)h[T]=0;else{for(var D=m.getNeighbors("source"),Y=0;Y<D.length;++Y){var W=D[Y],H=r.getNodeDegree(W,"out");H>0&&(f+=c[W.get("id")]/H)}h[T]=e*f,a+=h[T]}}a=(1-a)/l,n=0;for(var v=0;v<l;++v){var m=s[v],T=m.get("id");f=h[T]+a,n+=Math.abs(f-c[T]),c[T]=f}o-=1}return c},H9=V9,B7=cs.registerNode,D7=cs.registerEdge,F7=cs.registerCombo,R7=xx.registerBehavior,N7=Us.registerLayout,Y7=Ki.Minimap,G7=Ki.Grid,z7=Ki.Bundling,X7=Ki.Menu,W9=Ki.Fisheye,V7=Ki.ToolBar,H7=Ki.Tooltip,j9=Ki.TimeBar,U9=Ki.ImageMinimap,Z9=Ki.EdgeFilterLens,Vi={version:MR.i8,Graph:M1,TreeGraph:O6,Util:l8,registerNode:cs.registerNode,registerEdge:cs.registerEdge,registerCombo:cs.registerCombo,registerBehavior:xx.registerBehavior,registerLayout:Us.registerLayout,Layout:Us,Global:Ve,Minimap:Ki.Minimap,Grid:Ki.Grid,Bundling:Ki.Bundling,Menu:Ki.Menu,ToolBar:Ki.ToolBar,Tooltip:Ki.Tooltip,TimeBar:j9,Fisheye:W9,ImageMinimap:U9,EdgeFilterLens:Z9,Algorithm:Bt,Arrow:i8,Marker:a8};function tb(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function ja(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?tb(Object(t),!0).forEach(function(e){K9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):tb(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function K9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}Vi.registerNode("card-node",{draw:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a=Object.assign({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:ja({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:e},a),name:"main-box",draggable:!0}),l=r.title||r.label,f,h=r&&r.labelCfg&&r.labelCfg.style?r.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);f=t.addShape("text",{attrs:ja(ja({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var v=f?f.getBBox():{height:n[1]/2},m=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:v.height+4,fill:e,radius:[o,o,0,0]},name:"title-rect",draggable:!0});f&&f.toFront();var T;r.children&&(T=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?Vi.Marker.expand:Vi.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var D=r&&r.description?r.description:void 0,Y=m.getBBox(),W;if(D&&(W=t.addShape("text",{attrs:ja({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+Y.height+8,text:D},h),name:"description"})),W){var H,st=W.getBBox(),lt=Y.height+16+st.height,Mt=n[0]>st.width+16?n[0]:st.width+16;s.attr({width:Mt,height:lt}),m==null||m.attr("width",Mt),(H=T)===null||H===void 0||H.attr({x:Mt-n[0]/2,y:lt/2-n[1]/2})}return s},update:void 0},"single-node"),Vi.registerNode("round-rect",{drawShape:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a.stroke&&(e=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:e},a);var s=t.addShape("rect",{attrs:ja({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(r,t){var e=t.getContainer(),n=e.get("children"),a=n[0],o=n[1],s=n[2],l=r.style&&r.style.stroke?r.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var $9=function(r){Vi.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,n){var a=this.getShapeStyle(e),o=e.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:ja(ja({},a),{},{x:0,y:0})}),f={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(f=Object.assign({},f,e.leftIcon.style),h=e.leftIcon.img),n.addShape("rect",{attrs:ja({x:1,y:1,width:38,height:a.height-2},f)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),r.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Vi.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Vi.Marker.collapse},name:"remove-item"})),e.label&&n.addShape("text",{attrs:ja(ja({},s.style),{},{text:e.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};Vi.registerEdge("fund-polyline",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=n.y-e.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,f={x:e.x+o,y:n.y+l},h={x:f.x+s,y:n.y},c={x:(f.x-e.x)*(n.y-e.y)/(f.y-e.y)+e.x,y:n.y},v=[["M",e.x,e.y],["L",f.x,f.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(v=[["M",e.x,e.y],["L",n.x,n.y]]);var m=r||{},T=m.style,D=t.addShape("path",{attrs:{path:v,stroke:T.stroke||r.colorMap&&r.colorMap[r.dataType]?r.colorMap[r.dataType]:"#5B8FF9",lineWidth:T.lineWidth||1.2,endArrow:!1},name:"path-shape"}),Y=0,W=8,H;if(r.label&&(H=t.addShape("text",{attrs:{text:r.label,x:h.x+Y,y:n.y-W-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),r.dataType){var st=H?H.getBBox():{height:0};t.addShape("text",{attrs:{text:r.dataType,x:h.x+Y,y:n.y-W-st.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return r.subLabel&&t.addShape("text",{attrs:{text:r.subLabel,x:h.x+Y,y:n.y+W+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),D},update:void 0},"single-edge"),Vi.registerEdge("flow-line",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=r.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+n.y)/2],["L",n.x,(e.y+n.y)/2],["L",n.x,n.y]]}});return s}});function eb(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function Q9(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?eb(Object(t),!0).forEach(function(e){J9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):eb(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function J9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}var q9={show:!1,size:[150,100],type:"keyShape"},$s=function(r,t,e){var n,a;return e&&e.current&&(n=e.current.offsetWidth,a=e.current.offsetHeight||500),console.log("graph size",n,a,t,r,e,e.current),!r&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||n||500,t||a||500]},Qs=function(r,t){if(!(!t||t.destroyed)&&r&&r.show){var e=Object.assign(q9,r),n=new Vi.Minimap(Q9({},e));return t.addPlugin(n),n}};function Ku(i,r,t){var e=(0,gt.useRef)(),n=r.data,a=r.nodeStyle,o=r.nodeAnchorPoints,s=r.nodeType,l=r.edgeType,f=r.edgeStyle,h=r.width,c=r.height,v=r.layout,m=r.minimapCfg,T=r.behaviors,D=r.nodeLabelCfg,Y=r.edgeLabelCfg,W;return(0,gt.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,gt.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(H){i.updateItem(H,{type:s,style:a,anchorPoints:o,labelCfg:D})})},[a,o,s]),(0,gt.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(H){i.updateItem(H,{type:l,style:f,labelCfg:Y})})},[f,l]),(0,gt.useEffect)(function(){if(i&&!i.destroyed){var H=$s(h,c,t);i.changeSize(H[0],H[1])}},[t,h,c]),(0,gt.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(v)},[v]),(0,gt.useEffect)(function(){if(!(!m||!i||i.destroyed))if(m.show)W=Qs(m,i),W&&W.updateCanvas();else{var H=i.get("plugins")[0];H&&i.removePlugin(H)}},[m]),(0,gt.useEffect)(function(){if(i&&!i.destroyed){var H=i.get("modes"),st=H.default,lt=[];st.forEach(function(Mt){(0,u.isObject)(Mt)?lt.push(Mt.type):(0,u.isString)(Mt)&&lt.push(Mt)}),i.removeBehaviors(lt,"default"),i.addBehaviors(T,"default")}},[T]),(0,gt.useEffect)(function(){if(e.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:e}}var rb={hover:{stroke:"#1890ff",lineWidth:2}},tY={fill:"#91d5ff",stroke:"#40a9ff",radius:5},eY={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},rY={type:"compactBox",direction:"TB",getId:function(r){return r.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},nb={style:{fill:"#000",fontSize:12}},Bn,nY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"rect":s,f=r.edgeType,h=f===void 0?"flow-line":f,c=r.collapseExpand,v=c===void 0?!1:c,m=r.nodeSize,T=m===void 0?[120,40]:m,D=r.nodeLabelCfg,Y=D===void 0?nb:D,W=r.edgeLabelCfg,H=W===void 0?nb:W,st=r.layout,lt=st===void 0?rY:st,Mt=r.enableEdit,Ft=Mt===void 0?!1:Mt,zt=r.minimapCfg,Zt=r.nodeStyle,Yt=Zt===void 0?tY:Zt,re=r.edgeStyle,he=re===void 0?eY:re,le=r.nodeStateStyles,Ae=le===void 0?rb:le,Ie=r.edgeStateStyles,Le=Ie===void 0?rb:Ie,je=r.handleNodeClick,Ke=r.handleEdgeClick,Qe=r.handleNodeHover,He=r.handleNodeUnHover,We=r.handleEdgeHover,yr=r.handleEdgeUnHover,gr=r.handleCanvasClick,Mr=r.graphRef,qe={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:v,nodeSize:T,nodeLabelCfg:Y,edgeLabelCfg:H,layout:lt,enableEdit:Ft,minimapCfg:zt,nodeStyle:Yt,edgeStyle:he,nodeStateStyles:Ae,edgeStateStyles:Le,handleNodeClick:je,handleEdgeClick:Ke,handleNodeHover:Qe,handleNodeUnHover:He,handleEdgeHover:We,handleEdgeUnHover:yr,handleCanvasClick:gr,graphRef:Mr},br=gt.useRef(null);return Ku(Bn,qe,br),(0,gt.useEffect)(function(){var Dr=$s(a,o,br);return(!Bn||Bn.destroyed)&&(l==="icon-node"&&$9({enableEdit:Ft}),Bn=new Vi.TreeGraph({container:br.current,width:Dr[0],height:Dr[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:T,style:Yt,labelCfg:Y},defaultEdge:{type:h,style:he,labelCfg:H},nodeStateStyles:Ae,edgeStateStyles:Le,layout:lt}),Mr&&(Mr.current=Bn)),Qs(zt,Bn),Bn.data(t),Bn.render(),Bn.fitView(),v&&Bn.addBehaviors({type:"collapse-expand",onChange:function(wr,Nr){if(!wr)return!1;var en=wr.get("model").data;return en.collapsed=Nr,!0}},"default"),Bn.on("node:mouseenter",function(Sr){var wr=Sr.item;Bn.setItemState(wr,"hover",!0),Qe&&Qe(wr,Bn)}),Bn.on("node:mouseleave",function(Sr){var wr=Sr.item;Bn.setItemState(wr,"hover",!1),He&&He(wr,Bn)}),Bn.on("node:click",function(Sr){var wr=Sr.item,Nr=Sr.target,en=Nr.get("type"),Pr=Nr.get("name");if(en==="marker"){var De=wr.getModel();if(Pr==="add-item"){De.children||(De.children=[]);var ir=Math.random().toString(36).slice(-8);De.children.push({id:ir,label:ir}),Bn.updateChild(De,De.id)}else Pr==="remove-item"&&Bn.removeChild(De.id)}else je&&je(wr,Bn)}),Bn.on("edge:mouseenter",function(Sr){var wr=Sr.item;Bn.setItemState(wr,"hover",!0),We&&We(wr,Bn)}),Bn.on("edge:mouseleave",function(Sr){var wr=Sr.item;Bn.setItemState(wr,"hover",!1),yr&&yr(wr,Bn)}),Bn.on("edge:click",function(Sr){var wr=Sr.item;Ke&&Ke(wr,Bn)}),Bn.on("canvas:click",function(Sr){gr&&gr(Bn)}),function(){return Bn.destroy()}},[]),gt.createElement(on,null,gt.createElement("div",{className:e,style:n,ref:br}))},iY=nY,ib={hover:{stroke:"#1890ff",lineWidth:2}},aY=[120,40],oY={stroke:"#40a9ff"},sY=[[.5,0],[.5,1]],lY={stroke:"#91d5ff",endArrow:{path:Vi.Arrow.vee(10,10),fill:"#91d5ff"}},uY={type:"dagre",rankdir:"TB",nodesepFunc:function(r){return 0},ranksepFunc:function(r){return 0},controlPoints:!0},ab={style:{fill:"#000",fontSize:12}},Hn,fY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"modelRect":s,f=r.edgeType,h=f===void 0?"polyline":f,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,m=r.nodeSize,T=m===void 0?aY:m,D=r.nodeLabelCfg,Y=D===void 0?ab:D,W=r.edgeLabelCfg,H=W===void 0?ab:W,st=r.nodeAnchorPoints,lt=st===void 0?sY:st,Mt=r.layout,Ft=Mt===void 0?uY:Mt,zt=r.minimapCfg,Zt=r.nodeStyle,Yt=Zt===void 0?oY:Zt,re=r.edgeStyle,he=re===void 0?lY:re,le=r.nodeStateStyles,Ae=le===void 0?ib:le,Ie=r.edgeStateStyles,Le=Ie===void 0?ib:Ie,je=r.handleEdgeClick,Ke=r.handleEdgeHover,Qe=r.handleEdgeUnHover,He=r.handleNodeClick,We=r.handleNodeHover,yr=r.handleNodeUnHover,gr=r.handleCanvasClick,Mr=r.graphRef,qe={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:T,nodeLabelCfg:Y,edgeLabelCfg:H,nodeAnchorPoints:lt,layout:Ft,minimapCfg:zt,nodeStyle:Yt,edgeStyle:he,nodeStateStyles:Ae,edgeStateStyles:Le,handleEdgeClick:je,handleEdgeHover:Ke,handleEdgeUnHover:Qe,handleNodeClick:He,handleNodeHover:We,handleNodeUnHover:yr,handleCanvasClick:gr,graphRef:Mr},br=gt.useRef(null);return Ku(Hn,qe,br),(0,gt.useEffect)(function(){var Dr=$s(a,o,br);return(!Hn||Hn.destroyed)&&(Hn=new Vi.Graph({container:br.current,width:Dr[0],height:Dr[1],modes:{default:v},defaultNode:{type:l,size:T,style:Yt,anchorPoints:lt,labelCfg:Y},defaultEdge:{type:h,style:he,labelCfg:H},nodeStateStyles:Ae,edgeStateStyles:Le,layout:Ft}),Mr&&(Mr.current=Hn)),Qs(zt,Hn),Hn.data(t),Hn.render(),Hn.fitView(),Hn.on("edge:mouseenter",function(Sr){var wr=Sr.item;Hn.setItemState(wr,"hover",!0),Ke&&Ke(wr,Hn)}),Hn.on("node:mouseenter",function(Sr){var wr=Sr.item;Hn.setItemState(wr,"hover",!1),We&&We(wr,Hn)}),Hn.on("edge:mouseleave",function(Sr){var wr=Sr.item;Hn.setItemState(wr,"hover",!1),Qe&&Qe(wr,Hn)}),Hn.on("node:mouseleave",function(Sr){var wr=Sr.item;Hn.setItemState(wr,"hover",!1),yr&&yr(wr,Hn)}),Hn.on("edge:click",function(Sr){var wr=Sr.item;je&&je(wr,Hn)}),Hn.on("node:click",function(Sr){var wr=Sr.item;He&&He(wr,Hn)}),Hn.on("canvas:click",function(Sr){gr&&gr(Hn)}),function(){return Hn.destroy()}},[]),gt.createElement(on,null,gt.createElement("div",{className:e,style:n,ref:br}))},hY=fY,ob={hover:{stroke:"#1890ff",lineWidth:2}},cY=[150,30],vY={stroke:"#72CC4A",fill:"#f00"},dY=[[.5,0],[.5,1]],pY={stroke:"#91d5ff",endArrow:{path:Vi.Arrow.vee(10,10),fill:"#91d5ff"}},gY={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},sb={style:{fill:"#000000A6",fontSize:10}},Nn,yY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"round-rect":s,f=r.edgeType,h=f===void 0?"fund-polyline":f,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,m=r.nodeSize,T=m===void 0?cY:m,D=r.nodeLabelCfg,Y=D===void 0?sb:D,W=r.edgeLabelCfg,H=W===void 0?sb:W,st=r.nodeAnchorPoints,lt=st===void 0?dY:st,Mt=r.layout,Ft=Mt===void 0?gY:Mt,zt=r.minimapCfg,Zt=r.nodeStyle,Yt=Zt===void 0?vY:Zt,re=r.edgeStyle,he=re===void 0?pY:re,le=r.nodeStateStyles,Ae=le===void 0?ob:le,Ie=r.edgeStateStyles,Le=Ie===void 0?ob:Ie,je=r.colorMap,Ke=je===void 0?{}:je,Qe=r.handleEdgeClick,He=r.handleEdgeHover,We=r.handleEdgeUnHover,yr=r.handleNodeClick,gr=r.handleNodeHover,Mr=r.handleNodeUnHover,qe=r.handleCanvasClick,br=r.graphRef,Dr=gt.useRef(null),Sr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:T,nodeLabelCfg:Y,edgeLabelCfg:H,nodeAnchorPoints:lt,layout:Ft,minimapCfg:zt,nodeStyle:Yt,edgeStyle:he,nodeStateStyles:Ae,edgeStateStyles:Le,colorMap:Ke,handleEdgeClick:Qe,handleEdgeHover:He,handleEdgeUnHover:We,handleNodeClick:yr,handleNodeHover:gr,handleNodeUnHover:Mr,handleCanvasClick:qe,graphRef:br};return Ku(Nn,Sr,Dr),(0,gt.useEffect)(function(){var wr=$s(a,o,Dr);(!Nn||Nn.destroyed)&&(Nn=new Vi.Graph({container:Dr.current,width:wr[0],height:wr[1],modes:{default:v},defaultNode:{type:l,size:T,style:Yt,anchorPoints:lt,labelCfg:Y},defaultEdge:{type:h,style:he,colorMap:Ke,labelCfg:H},nodeStateStyles:Ae,edgeStateStyles:Le,layout:Ft}),br&&(br.current=Nn)),Qs(zt,Nn),Nn.data(t),Nn.render();var Nr=Nn.getEdges();return Nr.forEach(function(en){var Pr=en.getKeyShape(),De=Pr.attr("stroke"),ir=en.getTarget();ir.update({style:{stroke:De}})}),Nn.fitView(),Nn.on("edge:mouseenter",function(en){var Pr=en.item;Nn.setItemState(Pr,"hover",!0),He&&He(Pr,Nn)}),Nn.on("edge:mouseleave",function(en){var Pr=en.item;Nn.setItemState(Pr,"hover",!1),We&&We(Pr,Nn)}),Nn.on("edge:click",function(en){var Pr=en.item;Qe&&Qe(Pr,Nn)}),Nn.on("node:mouseenter",function(en){var Pr=en.item;Nn.setItemState(Pr,"hover",!1),gr&&gr(Pr,Nn)}),Nn.on("node:mouseleave",function(en){var Pr=en.item;Nn.setItemState(Pr,"hover",!1),Mr&&Mr(Pr,Nn)}),Nn.on("node:click",function(en){var Pr=en.item;yr&&yr(Pr,Nn)}),Nn.on("canvas:click",function(en){qe&&qe(Nn)}),function(){return Nn.destroy()}},[]),gt.createElement(on,null,gt.createElement("div",{className:e,style:n,ref:Dr}))},mY=yY,lb={hover:{stroke:"#1890ff",lineWidth:2}},xY=[120,40],bY={stroke:"#40a9ff"},wY=[[0,.5],[1,.5]],SY={stroke:"#ccc",endArrow:{path:Vi.Arrow.vee(10,10),fill:"#ccc"}},MY={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(r){return 100}},CY={style:{fill:"#000",fontSize:12}},Rn,EY=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"card-node":s,f=r.edgeType,h=f===void 0?"cubic-horizontal":f,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,m=r.nodeSize,T=m===void 0?xY:m,D=r.nodeLabelCfg,Y=D===void 0?CY:D,W=r.nodeAnchorPoints,H=W===void 0?wY:W,st=r.layout,lt=st===void 0?MY:st,Mt=r.minimapCfg,Ft=r.nodeStyle,zt=Ft===void 0?bY:Ft,Zt=r.edgeStyle,Yt=Zt===void 0?SY:Zt,re=r.nodeStateStyles,he=re===void 0?lb:re,le=r.edgeStateStyles,Ae=le===void 0?lb:le,Ie=r.collapseExpand,Le=Ie===void 0?!0:Ie,je=r.handleEdgeClick,Ke=r.handleEdgeHover,Qe=r.handleEdgeUnHover,He=r.handleNodeClick,We=r.handleNodeHover,yr=r.handleNodeUnHover,gr=r.handleCanvasClick,Mr=r.graphRef,qe=gt.useRef(null),br={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:T,nodeLabelCfg:Y,nodeAnchorPoints:H,layout:lt,minimapCfg:Mt,nodeStyle:zt,edgeStyle:Yt,nodeStateStyles:he,edgeStateStyles:Ae,collapseExpand:Le,handleEdgeClick:je,handleEdgeHover:Ke,handleEdgeUnHover:Qe,handleNodeClick:He,handleNodeHover:We,handleNodeUnHover:yr,handleCanvasClick:gr,graphRef:Mr};return Ku(Rn,br,qe),(0,gt.useEffect)(function(){var Dr=$s(a,o,qe);return(!Rn||Rn.destroyed)&&(Rn=new Vi.TreeGraph({container:qe.current,width:Dr[0],height:Dr[1],modes:{default:v},defaultNode:{type:l,size:T,style:zt,anchorPoints:H,labelCfg:Y},defaultEdge:{type:h,style:Yt},nodeStateStyles:he,edgeStateStyles:Ae,layout:lt}),Mr&&(Mr.current=Rn)),Qs(Mt,Rn),Rn.data(t),Rn.render(),Rn.fitView(),Le&&Rn.on("node:click",function(Sr){var wr=Sr.item;Sr.target.get("name")==="collapse-icon"?(Rn.updateItem(wr,{collapsed:!wr.getModel().collapsed}),Rn.layout()):He&&He(wr,Rn)}),Rn.on("edge:mouseenter",function(Sr){var wr=Sr.item;Rn.setItemState(wr,"hover",!0),Ke&&Ke(wr,Rn)}),Rn.on("edge:mouseleave",function(Sr){var wr=Sr.item;Rn.setItemState(wr,"hover",!1),Qe&&Qe(wr,Rn)}),Rn.on("edge:click",function(Sr){var wr=Sr.item;je&&je(wr,Rn)}),Rn.on("node:mouseenter",function(Sr){var wr=Sr.item;Rn.setItemState(wr,"hover",!1),We&&We(wr,Rn)}),Rn.on("node:mouseleave",function(Sr){var wr=Sr.item;Rn.setItemState(wr,"hover",!1),yr&&yr(wr,Rn)}),Rn.on("canvas:click",function(Sr){gr&&gr(Rn)}),function(){return Rn.destroy()}},[]),gt.createElement(on,null,gt.createElement("div",{className:e,style:n,ref:qe}))},AY=EY,W7={Area:o5,Bar:u5,Bubble:c5,Bullet:p5,Calendar:x5,Column:k0,ColumnLine:C5,DensityHeatmap:T5,Donut:R0,DualLine:I5,FanGauge:D5,Funnel:Y5,Gauge:z0,GroupedBar:H5,GroupedColumn:U5,GroupedColumnLine:$5,GroupedRose:q5,Heatmap:rF,Histogram:aF,Line:K0,Liquid:Q0,MeterGauge:cF,PercentStackedArea:pF,PercentStackedBar:mF,PercentStackedColumn:wF,Pie:CF,Progress:im,Radar:om,RangeBar:LF,RangeColumn:BF,RingProgress:fm,Rose:YF,Scatter:XF,StackedArea:WF,StackedBar:ZF,StackedColumn:QF,StackedColumnLine:tR,StackedRose:nR,StepLine:oR,TinyArea:bm,TinyColumn:Sm,TinyLine:vR,Treemap:gR,Waterfall:xR,WordCloud:Am,OrganizationTreeGraph:iY,DagreGraph:hY,IndentedTree:AY,DagreFundFlowGraph:mY,G2:P}},3935:function(xt,M,d){"use strict";var b=d(38251),O=d(90494),k=d(91241),L=function(P){(0,b.ZT)(A,P);function A(C){var E=P.call(this)||this;E.destroyed=!1;var p=E.getDefaultCfg();return E.cfg=(0,k.CD)(p,C),E}return A.prototype.getDefaultCfg=function(){return{}},A.prototype.get=function(C){return this.cfg[C]},A.prototype.set=function(C,E){this.cfg[C]=E},A.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},A}(O.default);M.Z=L},28190:function(xt,M,d){"use strict";d.d(M,{Z:function(){return ua}});var b=d(38251),O=d(43631),k=d(36540),L=d(91241),P=d(49242),A=0,C=0,E=0,p=1e3,w,y,x=0,g=0,S=0,_=typeof performance=="object"&&performance.now?performance:Date,B=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Jt){setTimeout(Jt,17)};function F(){return g||(B(V),g=_.now()+S)}function V(){g=0}function Z(){this._call=this._time=this._next=null}Z.prototype=X.prototype={constructor:Z,restart:function(Jt,Rt,Qt){if(typeof Jt!="function")throw new TypeError("callback is not a function");Qt=(Qt==null?F():+Qt)+(Rt==null?0:+Rt),!this._next&&y!==this&&(y?y._next=this:w=this,y=this),this._call=Jt,this._time=Qt,ft()},stop:function(){this._call&&(this._call=null,this._time=Infinity,ft())}};function X(Jt,Rt,Qt){var pe=new Z;return pe.restart(Jt,Rt,Qt),pe}function U(){F(),++A;for(var Jt=w,Rt;Jt;)(Rt=g-Jt._time)>=0&&Jt._call.call(null,Rt),Jt=Jt._next;--A}function nt(){g=(x=_.now())+S,A=C=0;try{U()}finally{A=0,wt(),g=0}}function q(){var Jt=_.now(),Rt=Jt-x;Rt>p&&(S-=Rt,x=Jt)}function wt(){for(var Jt,Rt=w,Qt,pe=Infinity;Rt;)Rt._call?(pe>Rt._time&&(pe=Rt._time),Jt=Rt,Rt=Rt._next):(Qt=Rt._next,Rt._next=null,Rt=Jt?Jt._next=Qt:w=Qt);y=Jt,ft(pe)}function ft(Jt){if(!A){C&&(C=clearTimeout(C));var Rt=Jt-g;Rt>24?(Jt<Infinity&&(C=setTimeout(nt,Jt-_.now()-S)),E&&(E=clearInterval(E))):(E||(x=_.now(),E=setInterval(q,p)),A=1,B(nt))}}function Ot(Jt,Rt,Qt){Jt.prototype=Rt.prototype=Qt,Qt.constructor=Jt}function St(Jt,Rt){var Qt=Object.create(Jt.prototype);for(var pe in Rt)Qt[pe]=Rt[pe];return Qt}function At(){}var Et=.7,bt=1/Et,Lt="\\s*([+-]?\\d+)\\s*",Bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J=/^#([0-9a-f]{3,8})$/,I=new RegExp("^rgb\\(".concat(Lt,",").concat(Lt,",").concat(Lt,"\\)$")),u=new RegExp("^rgb\\(".concat(gt,",").concat(gt,",").concat(gt,"\\)$")),R=new RegExp("^rgba\\(".concat(Lt,",").concat(Lt,",").concat(Lt,",").concat(Bt,"\\)$")),N=new RegExp("^rgba\\(".concat(gt,",").concat(gt,",").concat(gt,",").concat(Bt,"\\)$")),z=new RegExp("^hsl\\(".concat(Bt,",").concat(gt,",").concat(gt,"\\)$")),j=new RegExp("^hsla\\(".concat(Bt,",").concat(gt,",").concat(gt,",").concat(Bt,"\\)$")),K={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ot(At,vt,{copy:function(Rt){return Object.assign(new this.constructor,this,Rt)},displayable:function(){return this.rgb().displayable()},hex:at,formatHex:at,formatHex8:Tt,formatHsl:pt,formatRgb:Q,toString:Q});function at(){return this.rgb().formatHex()}function Tt(){return this.rgb().formatHex8()}function pt(){return Ce(this).formatHsl()}function Q(){return this.rgb().formatRgb()}function vt(Jt){var Rt,Qt;return Jt=(Jt+"").trim().toLowerCase(),(Rt=J.exec(Jt))?(Qt=Rt[1].length,Rt=parseInt(Rt[1],16),Qt===6?et(Rt):Qt===3?new tt(Rt>>8&15|Rt>>4&240,Rt>>4&15|Rt&240,(Rt&15)<<4|Rt&15,1):Qt===8?it(Rt>>24&255,Rt>>16&255,Rt>>8&255,(Rt&255)/255):Qt===4?it(Rt>>12&15|Rt>>8&240,Rt>>8&15|Rt>>4&240,Rt>>4&15|Rt&240,((Rt&15)<<4|Rt&15)/255):null):(Rt=I.exec(Jt))?new tt(Rt[1],Rt[2],Rt[3],1):(Rt=u.exec(Jt))?new tt(Rt[1]*255/100,Rt[2]*255/100,Rt[3]*255/100,1):(Rt=R.exec(Jt))?it(Rt[1],Rt[2],Rt[3],Rt[4]):(Rt=N.exec(Jt))?it(Rt[1]*255/100,Rt[2]*255/100,Rt[3]*255/100,Rt[4]):(Rt=z.exec(Jt))?we(Rt[1],Rt[2]/100,Rt[3]/100,1):(Rt=j.exec(Jt))?we(Rt[1],Rt[2]/100,Rt[3]/100,Rt[4]):K.hasOwnProperty(Jt)?et(K[Jt]):Jt==="transparent"?new tt(NaN,NaN,NaN,0):null}function et(Jt){return new tt(Jt>>16&255,Jt>>8&255,Jt&255,1)}function it(Jt,Rt,Qt,pe){return pe<=0&&(Jt=Rt=Qt=NaN),new tt(Jt,Rt,Qt,pe)}function ct(Jt){return Jt instanceof At||(Jt=vt(Jt)),Jt?(Jt=Jt.rgb(),new tt(Jt.r,Jt.g,Jt.b,Jt.opacity)):new tt}function rt(Jt,Rt,Qt,pe){return arguments.length===1?ct(Jt):new tt(Jt,Rt,Qt,pe==null?1:pe)}function tt(Jt,Rt,Qt,pe){this.r=+Jt,this.g=+Rt,this.b=+Qt,this.opacity=+pe}Ot(tt,rt,St(At,{brighter:function(Rt){return Rt=Rt==null?bt:Math.pow(bt,Rt),new tt(this.r*Rt,this.g*Rt,this.b*Rt,this.opacity)},darker:function(Rt){return Rt=Rt==null?Et:Math.pow(Et,Rt),new tt(this.r*Rt,this.g*Rt,this.b*Rt,this.opacity)},rgb:function(){return this},clamp:function(){return new tt(ce(this.r),ce(this.g),ce(this.b),te(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mt,formatHex:mt,formatHex8:_t,formatRgb:Wt,toString:Wt}));function mt(){return"#".concat(Pe(this.r)).concat(Pe(this.g)).concat(Pe(this.b))}function _t(){return"#".concat(Pe(this.r)).concat(Pe(this.g)).concat(Pe(this.b)).concat(Pe((isNaN(this.opacity)?1:this.opacity)*255))}function Wt(){var Jt=te(this.opacity);return"".concat(Jt===1?"rgb(":"rgba(").concat(ce(this.r),", ").concat(ce(this.g),", ").concat(ce(this.b)).concat(Jt===1?")":", ".concat(Jt,")"))}function te(Jt){return isNaN(Jt)?1:Math.max(0,Math.min(1,Jt))}function ce(Jt){return Math.max(0,Math.min(255,Math.round(Jt)||0))}function Pe(Jt){return Jt=ce(Jt),(Jt<16?"0":"")+Jt.toString(16)}function we(Jt,Rt,Qt,pe){return pe<=0?Jt=Rt=Qt=NaN:Qt<=0||Qt>=1?Jt=Rt=NaN:Rt<=0&&(Jt=NaN),new $e(Jt,Rt,Qt,pe)}function Ce(Jt){if(Jt instanceof $e)return new $e(Jt.h,Jt.s,Jt.l,Jt.opacity);if(Jt instanceof At||(Jt=vt(Jt)),!Jt)return new $e;if(Jt instanceof $e)return Jt;Jt=Jt.rgb();var Rt=Jt.r/255,Qt=Jt.g/255,pe=Jt.b/255,Oe=Math.min(Rt,Qt,pe),rr=Math.max(Rt,Qt,pe),ur=NaN,lr=rr-Oe,Vr=(rr+Oe)/2;return lr?(Rt===rr?ur=(Qt-pe)/lr+(Qt<pe)*6:Qt===rr?ur=(pe-Rt)/lr+2:ur=(Rt-Qt)/lr+4,lr/=Vr<.5?rr+Oe:2-rr-Oe,ur*=60):lr=Vr>0&&Vr<1?0:ur,new $e(ur,lr,Vr,Jt.opacity)}function Ge(Jt,Rt,Qt,pe){return arguments.length===1?Ce(Jt):new $e(Jt,Rt,Qt,pe==null?1:pe)}function $e(Jt,Rt,Qt,pe){this.h=+Jt,this.s=+Rt,this.l=+Qt,this.opacity=+pe}Ot($e,Ge,St(At,{brighter:function(Rt){return Rt=Rt==null?bt:Math.pow(bt,Rt),new $e(this.h,this.s,this.l*Rt,this.opacity)},darker:function(Rt){return Rt=Rt==null?Et:Math.pow(Et,Rt),new $e(this.h,this.s,this.l*Rt,this.opacity)},rgb:function(){var Rt=this.h%360+(this.h<0)*360,Qt=isNaN(Rt)||isNaN(this.s)?0:this.s,pe=this.l,Oe=pe+(pe<.5?pe:1-pe)*Qt,rr=2*pe-Oe;return new tt(Xr(Rt>=240?Rt-240:Rt+120,rr,Oe),Xr(Rt,rr,Oe),Xr(Rt<120?Rt+240:Rt-120,rr,Oe),this.opacity)},clamp:function(){return new $e(cr(this.h),or(this.s),or(this.l),te(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Rt=te(this.opacity);return"".concat(Rt===1?"hsl(":"hsla(").concat(cr(this.h),", ").concat(or(this.s)*100,"%, ").concat(or(this.l)*100,"%").concat(Rt===1?")":", ".concat(Rt,")"))}}));function cr(Jt){return Jt=(Jt||0)%360,Jt<0?Jt+360:Jt}function or(Jt){return Math.max(0,Math.min(1,Jt||0))}function Xr(Jt,Rt,Qt){return(Jt<60?Rt+(Qt-Rt)*Jt/60:Jt<180?Qt:Jt<240?Rt+(Qt-Rt)*(240-Jt)/60:Rt)*255}function xn(Jt,Rt,Qt,pe,Oe){var rr=Jt*Jt,ur=rr*Jt;return((1-3*Jt+3*rr-ur)*Rt+(4-6*rr+3*ur)*Qt+(1+3*Jt+3*rr-3*ur)*pe+ur*Oe)/6}function Wr(Jt){var Rt=Jt.length-1;return function(Qt){var pe=Qt<=0?Qt=0:Qt>=1?(Qt=1,Rt-1):Math.floor(Qt*Rt),Oe=Jt[pe],rr=Jt[pe+1],ur=pe>0?Jt[pe-1]:2*Oe-rr,lr=pe<Rt-1?Jt[pe+2]:2*rr-Oe;return xn((Qt-pe/Rt)*Rt,ur,Oe,rr,lr)}}function sn(Jt){var Rt=Jt.length;return function(Qt){var pe=Math.floor(((Qt%=1)<0?++Qt:Qt)*Rt),Oe=Jt[(pe+Rt-1)%Rt],rr=Jt[pe%Rt],ur=Jt[(pe+1)%Rt],lr=Jt[(pe+2)%Rt];return xn((Qt-pe/Rt)*Rt,Oe,rr,ur,lr)}}var Jn=function(Jt){return function(){return Jt}};function ai(Jt,Rt){return function(Qt){return Jt+Qt*Rt}}function Si(Jt,Rt,Qt){return Jt=Math.pow(Jt,Qt),Rt=Math.pow(Rt,Qt)-Jt,Qt=1/Qt,function(pe){return Math.pow(Jt+pe*Rt,Qt)}}function Mi(Jt,Rt){var Qt=Rt-Jt;return Qt?ai(Jt,Qt>180||Qt<-180?Qt-360*Math.round(Qt/360):Qt):constant(isNaN(Jt)?Rt:Jt)}function Ht(Jt){return(Jt=+Jt)==1?Kt:function(Rt,Qt){return Qt-Rt?Si(Rt,Qt,Jt):Jn(isNaN(Rt)?Qt:Rt)}}function Kt(Jt,Rt){var Qt=Rt-Jt;return Qt?ai(Jt,Qt):Jn(isNaN(Jt)?Rt:Jt)}var ie=function Jt(Rt){var Qt=Ht(Rt);function pe(Oe,rr){var ur=Qt((Oe=rt(Oe)).r,(rr=rt(rr)).r),lr=Qt(Oe.g,rr.g),Vr=Qt(Oe.b,rr.b),yn=Kt(Oe.opacity,rr.opacity);return function(ti){return Oe.r=ur(ti),Oe.g=lr(ti),Oe.b=Vr(ti),Oe.opacity=yn(ti),Oe+""}}return pe.gamma=Jt,pe}(1);function se(Jt){return function(Rt){var Qt=Rt.length,pe=new Array(Qt),Oe=new Array(Qt),rr=new Array(Qt),ur,lr;for(ur=0;ur<Qt;++ur)lr=rt(Rt[ur]),pe[ur]=lr.r||0,Oe[ur]=lr.g||0,rr[ur]=lr.b||0;return pe=Jt(pe),Oe=Jt(Oe),rr=Jt(rr),lr.opacity=1,function(Vr){return lr.r=pe(Vr),lr.g=Oe(Vr),lr.b=rr(Vr),lr+""}}}var xe=se(Wr),Me=se(sn);function Se(Jt,Rt){Rt||(Rt=[]);var Qt=Jt?Math.min(Rt.length,Jt.length):0,pe=Rt.slice(),Oe;return function(rr){for(Oe=0;Oe<Qt;++Oe)pe[Oe]=Jt[Oe]*(1-rr)+Rt[Oe]*rr;return pe}}function _e(Jt){return ArrayBuffer.isView(Jt)&&!(Jt instanceof DataView)}function de(Jt,Rt){return(_e(Rt)?Se:Ue)(Jt,Rt)}function Ue(Jt,Rt){var Qt=Rt?Rt.length:0,pe=Jt?Math.min(Qt,Jt.length):0,Oe=new Array(pe),rr=new Array(Qt),ur;for(ur=0;ur<pe;++ur)Oe[ur]=Ar(Jt[ur],Rt[ur]);for(;ur<Qt;++ur)rr[ur]=Rt[ur];return function(lr){for(ur=0;ur<pe;++ur)rr[ur]=Oe[ur](lr);return rr}}function Re(Jt,Rt){var Qt=new Date;return Jt=+Jt,Rt=+Rt,function(pe){return Qt.setTime(Jt*(1-pe)+Rt*pe),Qt}}function tr(Jt,Rt){return Jt=+Jt,Rt=+Rt,function(Qt){return Jt*(1-Qt)+Rt*Qt}}function hr(Jt,Rt){var Qt={},pe={},Oe;(Jt===null||typeof Jt!="object")&&(Jt={}),(Rt===null||typeof Rt!="object")&&(Rt={});for(Oe in Rt)Oe in Jt?Qt[Oe]=Ar(Jt[Oe],Rt[Oe]):pe[Oe]=Rt[Oe];return function(rr){for(Oe in Qt)pe[Oe]=Qt[Oe](rr);return pe}}var ar=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vr=new RegExp(ar.source,"g");function pr(Jt){return function(){return Jt}}function Cr(Jt){return function(Rt){return Jt(Rt)+""}}function Je(Jt,Rt){var Qt=ar.lastIndex=vr.lastIndex=0,pe,Oe,rr,ur=-1,lr=[],Vr=[];for(Jt=Jt+"",Rt=Rt+"";(pe=ar.exec(Jt))&&(Oe=vr.exec(Rt));)(rr=Oe.index)>Qt&&(rr=Rt.slice(Qt,rr),lr[ur]?lr[ur]+=rr:lr[++ur]=rr),(pe=pe[0])===(Oe=Oe[0])?lr[ur]?lr[ur]+=Oe:lr[++ur]=Oe:(lr[++ur]=null,Vr.push({i:ur,x:tr(pe,Oe)})),Qt=vr.lastIndex;return Qt<Rt.length&&(rr=Rt.slice(Qt),lr[ur]?lr[ur]+=rr:lr[++ur]=rr),lr.length<2?Vr[0]?Cr(Vr[0].x):pr(Rt):(Rt=Vr.length,function(yn){for(var ti=0,Nt;ti<Rt;++ti)lr[(Nt=Vr[ti]).i]=Nt.x(yn);return lr.join("")})}function Ar(Jt,Rt){var Qt=typeof Rt,pe;return Rt==null||Qt==="boolean"?Jn(Rt):(Qt==="number"?tr:Qt==="string"?(pe=vt(Rt))?(Rt=pe,ie):Je:Rt instanceof vt?ie:Rt instanceof Date?Re:_e(Rt)?Se:Array.isArray(Rt)?Ue:typeof Rt.valueOf!="function"&&typeof Rt.toString!="function"||isNaN(Rt)?hr:tr)(Jt,Rt)}var Ir=d(8364),Tr=d(80234),Rr=function(Jt){return["fill","stroke","fillStyle","strokeStyle"].includes(Jt)},Zr=function(Jt){return/^[r,R,L,l]{1}[\s]*\(/.test(Jt)},Kr=[1,0,0,0,1,0,0,0,1];function jn(Jt,Rt,Qt){var pe={},Oe=Rt.fromAttrs,rr=Rt.toAttrs;if(!Jt.destroyed){var ur;for(var lr in rr)if(!(0,P.isEqual)(Oe[lr],rr[lr]))if(lr==="path"){var Vr=rr[lr],yn=Oe[lr];Vr.length>yn.length?(Vr=Tr.parsePathString(rr[lr]),yn=Tr.parsePathString(Oe[lr]),yn=Tr.fillPathByDiff(yn,Vr),yn=Tr.formatPath(yn,Vr),Rt.fromAttrs.path=yn,Rt.toAttrs.path=Vr):Rt.pathFormatted||(Vr=Tr.parsePathString(rr[lr]),yn=Tr.parsePathString(Oe[lr]),yn=Tr.formatPath(yn,Vr),Rt.fromAttrs.path=yn,Rt.toAttrs.path=Vr,Rt.pathFormatted=!0),pe[lr]=[];for(var ti=0;ti<Vr.length;ti++){for(var Nt=Vr[ti],Ut=yn[ti],qt=[],ye=0;ye<Nt.length;ye++)(0,P.isNumber)(Nt[ye])&&Ut&&(0,P.isNumber)(Ut[ye])?(ur=Ar(Ut[ye],Nt[ye]),qt.push(ur(Qt))):qt.push(Nt[ye]);pe[lr].push(qt)}}else if(lr==="matrix"){var ge=de(Oe[lr]||Kr,rr[lr]||Kr),Te=ge(Qt);pe[lr]=Te}else Rr(lr)&&Zr(rr[lr])?pe[lr]=rr[lr]:(0,P.isFunction)(rr[lr])||(ur=Ar(Oe[lr],rr[lr]),pe[lr]=ur(Qt));Jt.attr(pe)}}function ln(Jt,Rt,Qt){var pe=Rt.startTime,Oe=Rt.delay;if(Qt<pe+Oe||Rt._paused)return!1;var rr,ur=Rt.duration,lr=Rt.easing,Vr=(0,Ir._)(lr);if(Qt=Qt-pe-Rt.delay,Rt.repeat)rr=Qt%ur/ur,rr=Vr(rr);else if(rr=Qt/ur,rr<1)rr=Vr(rr);else return Rt.onFrame?Jt.attr(Rt.onFrame(1)):Jt.attr(Rt.toAttrs),!0;if(Rt.onFrame){var yn=Rt.onFrame(rr);Jt.attr(yn)}else jn(Jt,Rt,rr);return!1}var Kn=function(){function Jt(Rt){this.animators=[],this.current=0,this.timer=null,this.canvas=Rt}return Jt.prototype.initTimer=function(){var Rt=this,Qt=!1,pe,Oe,rr;this.timer=X(function(ur){if(Rt.current=ur,Rt.animators.length>0){for(var lr=Rt.animators.length-1;lr>=0;lr--){if(pe=Rt.animators[lr],pe.destroyed){Rt.removeAnimator(lr);continue}if(!pe.isAnimatePaused()){Oe=pe.get("animations");for(var Vr=Oe.length-1;Vr>=0;Vr--)rr=Oe[Vr],Qt=ln(pe,rr,ur),Qt&&(Oe.splice(Vr,1),Qt=!1,rr.callback&&rr.callback())}Oe.length===0&&Rt.removeAnimator(lr)}var yn=Rt.canvas.get("autoDraw");yn||Rt.canvas.draw()}})},Jt.prototype.addAnimator=function(Rt){this.animators.push(Rt)},Jt.prototype.removeAnimator=function(Rt){this.animators.splice(Rt,1)},Jt.prototype.isAnimating=function(){return!!this.animators.length},Jt.prototype.stop=function(){this.timer&&this.timer.stop()},Jt.prototype.stopAllAnimations=function(Rt){Rt===void 0&&(Rt=!0),this.animators.forEach(function(Qt){Qt.stopAnimate(Rt)}),this.animators=[],this.canvas.draw()},Jt.prototype.getTime=function(){return this.current},Jt}(),ci=Kn,oi=d(65608),Li=40,Ii=0,Br=":",vi=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function ki(Jt,Rt){for(var Qt in Jt)if(Jt.hasOwnProperty(Qt)&&Qt.indexOf(Br+Rt)>=0)return!0;return!1}function li(Jt,Rt,Qt){Qt.name=Rt,Qt.target=Jt,Qt.currentTarget=Jt,Qt.delegateTarget=Jt,Jt.emit(Rt,Qt)}function Tn(Jt,Rt,Qt){if(Qt.bubbles){var pe=void 0,Oe=!1;if(Rt==="mouseenter"?(pe=Qt.fromShape,Oe=!0):Rt==="mouseleave"&&(Oe=!0,pe=Qt.toShape),Jt.isCanvas()&&Oe)return;if(pe&&(0,L.UY)(Jt,pe)){Qt.bubbles=!1;return}Qt.name=Rt,Qt.currentTarget=Jt,Qt.delegateTarget=Jt,Jt.emit(Rt,Qt)}}var di=function(){function Jt(Rt){var Qt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(pe){var Oe=pe.type;Qt._triggerEvent(Oe,pe)},this._onDocumentMove=function(pe){var Oe=Qt.canvas,rr=Oe.get("el");if(rr!==pe.target&&(Qt.dragging||Qt.currentShape)){var ur=Qt._getPointInfo(pe);Qt.dragging&&Qt._emitEvent("drag",pe,ur,Qt.draggingShape)}},this._onDocumentMouseUp=function(pe){var Oe=Qt.canvas,rr=Oe.get("el");if(rr!==pe.target&&Qt.dragging){var ur=Qt._getPointInfo(pe);Qt.draggingShape&&Qt._emitEvent("drop",pe,ur,null),Qt._emitEvent("dragend",pe,ur,Qt.draggingShape),Qt._afterDrag(Qt.draggingShape,ur,pe)}},this.canvas=Rt.canvas}return Jt.prototype.init=function(){this._bindEvents()},Jt.prototype._bindEvents=function(){var Rt=this,Qt=this.canvas.get("el");(0,L.S6)(vi,function(pe){Qt.addEventListener(pe,Rt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Jt.prototype._clearEvents=function(){var Rt=this,Qt=this.canvas.get("el");(0,L.S6)(vi,function(pe){Qt.removeEventListener(pe,Rt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Jt.prototype._getEventObj=function(Rt,Qt,pe,Oe,rr,ur){var lr=new oi.Z(Rt,Qt);return lr.fromShape=rr,lr.toShape=ur,lr.x=pe.x,lr.y=pe.y,lr.clientX=pe.clientX,lr.clientY=pe.clientY,lr.propagationPath.push(Oe),lr},Jt.prototype._getShape=function(Rt,Qt){return this.canvas.getShape(Rt.x,Rt.y,Qt)},Jt.prototype._getPointInfo=function(Rt){var Qt=this.canvas,pe=Qt.getClientByEvent(Rt),Oe=Qt.getPointByEvent(Rt);return{x:Oe.x,y:Oe.y,clientX:pe.x,clientY:pe.y}},Jt.prototype._triggerEvent=function(Rt,Qt){var pe=this._getPointInfo(Qt),Oe=this._getShape(pe,Qt),rr=this["_on"+Rt],ur=!1;if(rr)rr.call(this,pe,Oe,Qt);else{var lr=this.currentShape;Rt==="mouseenter"||Rt==="dragenter"||Rt==="mouseover"?(this._emitEvent(Rt,Qt,pe,null,null,Oe),Oe&&this._emitEvent(Rt,Qt,pe,Oe,null,Oe),Rt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",Qt,pe,null)):Rt==="mouseleave"||Rt==="dragleave"||Rt==="mouseout"?(ur=!0,lr&&this._emitEvent(Rt,Qt,pe,lr,lr,null),this._emitEvent(Rt,Qt,pe,null,lr,null),Rt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",Qt,pe,null)):this._emitEvent(Rt,Qt,pe,Oe,null,null)}if(ur||(this.currentShape=Oe),Oe&&!Oe.get("destroyed")){var Vr=this.canvas,yn=Vr.get("el");yn.style.cursor=Oe.attr("cursor")||Vr.get("cursor")}},Jt.prototype._onmousedown=function(Rt,Qt,pe){pe.button===Ii&&(this.mousedownShape=Qt,this.mousedownPoint=Rt,this.mousedownTimeStamp=pe.timeStamp),this._emitEvent("mousedown",pe,Rt,Qt,null,null)},Jt.prototype._emitMouseoverEvents=function(Rt,Qt,pe,Oe){var rr=this.canvas.get("el");pe!==Oe&&(pe&&(this._emitEvent("mouseout",Rt,Qt,pe,pe,Oe),this._emitEvent("mouseleave",Rt,Qt,pe,pe,Oe),(!Oe||Oe.get("destroyed"))&&(rr.style.cursor=this.canvas.get("cursor"))),Oe&&(this._emitEvent("mouseover",Rt,Qt,Oe,pe,Oe),this._emitEvent("mouseenter",Rt,Qt,Oe,pe,Oe)))},Jt.prototype._emitDragoverEvents=function(Rt,Qt,pe,Oe,rr){Oe?(Oe!==pe&&(pe&&this._emitEvent("dragleave",Rt,Qt,pe,pe,Oe),this._emitEvent("dragenter",Rt,Qt,Oe,pe,Oe)),rr||this._emitEvent("dragover",Rt,Qt,Oe)):pe&&this._emitEvent("dragleave",Rt,Qt,pe,pe,Oe),rr&&this._emitEvent("dragover",Rt,Qt,Oe)},Jt.prototype._afterDrag=function(Rt,Qt,pe){Rt&&(Rt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Oe=this._getShape(Qt,pe);Oe!==Rt&&this._emitMouseoverEvents(pe,Qt,Rt,Oe),this.currentShape=Oe},Jt.prototype._onmouseup=function(Rt,Qt,pe){if(pe.button===Ii){var Oe=this.draggingShape;this.dragging?(Oe&&this._emitEvent("drop",pe,Rt,Qt),this._emitEvent("dragend",pe,Rt,Oe),this._afterDrag(Oe,Rt,pe)):(this._emitEvent("mouseup",pe,Rt,Qt),Qt===this.mousedownShape&&this._emitEvent("click",pe,Rt,Qt),this.mousedownShape=null,this.mousedownPoint=null)}},Jt.prototype._ondragover=function(Rt,Qt,pe){pe.preventDefault();var Oe=this.currentShape;this._emitDragoverEvents(pe,Rt,Oe,Qt,!0)},Jt.prototype._onmousemove=function(Rt,Qt,pe){var Oe=this.canvas,rr=this.currentShape,ur=this.draggingShape;if(this.dragging)ur&&this._emitDragoverEvents(pe,Rt,rr,Qt,!1),this._emitEvent("drag",pe,Rt,ur);else{var lr=this.mousedownPoint;if(lr){var Vr=this.mousedownShape,yn=pe.timeStamp,ti=yn-this.mousedownTimeStamp,Nt=lr.clientX-Rt.clientX,Ut=lr.clientY-Rt.clientY,qt=Nt*Nt+Ut*Ut;ti>120||qt>Li?Vr&&Vr.get("draggable")?(ur=this.mousedownShape,ur.set("capture",!1),this.draggingShape=ur,this.dragging=!0,this._emitEvent("dragstart",pe,Rt,ur),this.mousedownShape=null,this.mousedownPoint=null):!Vr&&Oe.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",pe,Rt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(pe,Rt,rr,Qt),this._emitEvent("mousemove",pe,Rt,Qt)):(this._emitMouseoverEvents(pe,Rt,rr,Qt),this._emitEvent("mousemove",pe,Rt,Qt))}else this._emitMouseoverEvents(pe,Rt,rr,Qt),this._emitEvent("mousemove",pe,Rt,Qt)}},Jt.prototype._emitEvent=function(Rt,Qt,pe,Oe,rr,ur){var lr=this._getEventObj(Rt,Qt,pe,Oe,rr,ur);if(Oe){lr.shape=Oe,li(Oe,Rt,lr);for(var Vr=Oe.getParent();Vr;)Vr.emitDelegation(Rt,lr),lr.propagationStopped||Tn(Vr,Rt,lr),lr.propagationPath.push(Vr),Vr=Vr.getParent()}else{var yn=this.canvas;li(yn,Rt,lr)}},Jt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Jt}(),Gi=di,mi="px",Ci=(0,O.detect)(),qn=Ci&&Ci.name==="firefox",$i=function(Jt){(0,b.ZT)(Rt,Jt);function Rt(Qt){var pe=Jt.call(this,Qt)||this;return pe.initContainer(),pe.initDom(),pe.initEvents(),pe.initTimeline(),pe}return Rt.prototype.getDefaultCfg=function(){var Qt=Jt.prototype.getDefaultCfg.call(this);return Qt.cursor="default",Qt.supportCSSTransform=!1,Qt},Rt.prototype.initContainer=function(){var Qt=this.get("container");(0,L.HD)(Qt)&&(Qt=document.getElementById(Qt),this.set("container",Qt))},Rt.prototype.initDom=function(){var Qt=this.createDom();this.set("el",Qt);var pe=this.get("container");pe.appendChild(Qt),this.setDOMSize(this.get("width"),this.get("height"))},Rt.prototype.initEvents=function(){var Qt=new Gi({canvas:this});Qt.init(),this.set("eventController",Qt)},Rt.prototype.initTimeline=function(){var Qt=new ci(this);this.set("timeline",Qt)},Rt.prototype.setDOMSize=function(Qt,pe){var Oe=this.get("el");L.jU&&(Oe.style.width=Qt+mi,Oe.style.height=pe+mi)},Rt.prototype.changeSize=function(Qt,pe){this.setDOMSize(Qt,pe),this.set("width",Qt),this.set("height",pe),this.onCanvasChange("changeSize")},Rt.prototype.getRenderer=function(){return this.get("renderer")},Rt.prototype.getCursor=function(){return this.get("cursor")},Rt.prototype.setCursor=function(Qt){this.set("cursor",Qt);var pe=this.get("el");L.jU&&pe&&(pe.style.cursor=Qt)},Rt.prototype.getPointByEvent=function(Qt){var pe=this.get("supportCSSTransform");if(pe){if(qn&&!(0,L.kK)(Qt.layerX)&&Qt.layerX!==Qt.offsetX)return{x:Qt.layerX,y:Qt.layerY};if(!(0,L.kK)(Qt.offsetX))return{x:Qt.offsetX,y:Qt.offsetY}}var Oe=this.getClientByEvent(Qt),rr=Oe.x,ur=Oe.y;return this.getPointByClient(rr,ur)},Rt.prototype.getClientByEvent=function(Qt){var pe=Qt;return Qt.touches&&(Qt.type==="touchend"?pe=Qt.changedTouches[0]:pe=Qt.touches[0]),{x:pe.clientX,y:pe.clientY}},Rt.prototype.getPointByClient=function(Qt,pe){var Oe=this.get("el"),rr=Oe.getBoundingClientRect();return{x:Qt-rr.left,y:pe-rr.top}},Rt.prototype.getClientByPoint=function(Qt,pe){var Oe=this.get("el"),rr=Oe.getBoundingClientRect();return{x:Qt+rr.left,y:pe+rr.top}},Rt.prototype.draw=function(){},Rt.prototype.removeDom=function(){var Qt=this.get("el");Qt.parentNode.removeChild(Qt)},Rt.prototype.clearEvents=function(){var Qt=this.get("eventController");Qt.destroy()},Rt.prototype.isCanvas=function(){return!0},Rt.prototype.getParent=function(){return null},Rt.prototype.destroy=function(){var Qt=this.get("timeline");this.get("destroyed")||(this.clear(),Qt&&Qt.stop(),this.clearEvents(),this.removeDom(),Jt.prototype.destroy.call(this))},Rt}(k.Z),ua=$i},36540:function(xt,M,d){"use strict";var b=d(38251),O=d(94638),k=d(91241),L={},P="_INDEX";function A(x,g){if(x.set("canvas",g),x.isGroup()){var S=x.get("children");S.length&&S.forEach(function(_){A(_,g)})}}function C(x,g){if(x.set("timeline",g),x.isGroup()){var S=x.get("children");S.length&&S.forEach(function(_){C(_,g)})}}function E(x,g){var S=x.getChildren();return S.indexOf(g)>=0}function p(x,g,S){S===void 0&&(S=!0),S?g.destroy():(g.set("parent",null),g.set("canvas",null)),(0,k.As)(x.getChildren(),g)}function w(x){return function(g,S){var _=x(g,S);return _===0?g[P]-S[P]:_}}var y=function(x){(0,b.ZT)(g,x);function g(){return x!==null&&x.apply(this,arguments)||this}return g.prototype.isCanvas=function(){return!1},g.prototype.getBBox=function(){var S=Infinity,_=-Infinity,B=Infinity,F=-Infinity,V=this.getChildren().filter(function(X){return X.get("visible")&&(!X.isGroup()||X.isGroup()&&X.getChildren().length>0)});V.length>0?(0,k.S6)(V,function(X){var U=X.getBBox(),nt=U.minX,q=U.maxX,wt=U.minY,ft=U.maxY;nt<S&&(S=nt),q>_&&(_=q),wt<B&&(B=wt),ft>F&&(F=ft)}):(S=0,_=0,B=0,F=0);var Z={x:S,y:B,minX:S,minY:B,maxX:_,maxY:F,width:_-S,height:F-B};return Z},g.prototype.getCanvasBBox=function(){var S=Infinity,_=-Infinity,B=Infinity,F=-Infinity,V=this.getChildren().filter(function(X){return X.get("visible")&&(!X.isGroup()||X.isGroup()&&X.getChildren().length>0)});V.length>0?(0,k.S6)(V,function(X){var U=X.getCanvasBBox(),nt=U.minX,q=U.maxX,wt=U.minY,ft=U.maxY;nt<S&&(S=nt),q>_&&(_=q),wt<B&&(B=wt),ft>F&&(F=ft)}):(S=0,_=0,B=0,F=0);var Z={x:S,y:B,minX:S,minY:B,maxX:_,maxY:F,width:_-S,height:F-B};return Z},g.prototype.getDefaultCfg=function(){var S=x.prototype.getDefaultCfg.call(this);return S.children=[],S},g.prototype.onAttrChange=function(S,_,B){if(x.prototype.onAttrChange.call(this,S,_,B),S==="matrix"){var F=this.getTotalMatrix();this._applyChildrenMarix(F)}},g.prototype.applyMatrix=function(S){var _=this.getTotalMatrix();x.prototype.applyMatrix.call(this,S);var B=this.getTotalMatrix();B!==_&&this._applyChildrenMarix(B)},g.prototype._applyChildrenMarix=function(S){var _=this.getChildren();(0,k.S6)(_,function(B){B.applyMatrix(S)})},g.prototype.addShape=function(){for(var S=[],_=0;_<arguments.length;_++)S[_]=arguments[_];var B=S[0],F=S[1];(0,k.Kn)(B)?F=B:F.type=B;var V=L[F.type];V||(V=(0,k.jC)(F.type),L[F.type]=V);var Z=this.getShapeBase(),X=new Z[V](F);return this.add(X),X},g.prototype.addGroup=function(){for(var S=[],_=0;_<arguments.length;_++)S[_]=arguments[_];var B=S[0],F=S[1],V;if((0,k.mf)(B))F?V=new B(F):V=new B({parent:this});else{var Z=B||{},X=this.getGroupBase();V=new X(Z)}return this.add(V),V},g.prototype.getCanvas=function(){var S;return this.isCanvas()?S=this:S=this.get("canvas"),S},g.prototype.getShape=function(S,_,B){if(!(0,k.pP)(this))return null;var F=this.getChildren(),V;if(this.isCanvas())V=this._findShape(F,S,_,B);else{var Z=[S,_,1];Z=this.invertFromMatrix(Z),this.isClipped(Z[0],Z[1])||(V=this._findShape(F,Z[0],Z[1],B))}return V},g.prototype._findShape=function(S,_,B,F){for(var V=null,Z=S.length-1;Z>=0;Z--){var X=S[Z];if((0,k.pP)(X)&&(X.isGroup()?V=X.getShape(_,B,F):X.isHit(_,B)&&(V=X)),V)break}return V},g.prototype.add=function(S){var _=this.getCanvas(),B=this.getChildren(),F=this.get("timeline"),V=S.getParent();V&&p(V,S,!1),S.set("parent",this),_&&A(S,_),F&&C(S,F),B.push(S),S.onCanvasChange("add"),this._applyElementMatrix(S)},g.prototype._applyElementMatrix=function(S){var _=this.getTotalMatrix();_&&S.applyMatrix(_)},g.prototype.getChildren=function(){return this.get("children")},g.prototype.sort=function(){var S=this.getChildren();(0,k.S6)(S,function(_,B){return _[P]=B,_}),S.sort(w(function(_,B){return _.get("zIndex")-B.get("zIndex")})),this.onCanvasChange("sort")},g.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var S=this.getChildren(),_=S.length-1;_>=0;_--)S[_].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},g.prototype.destroy=function(){this.get("destroyed")||(this.clear(),x.prototype.destroy.call(this))},g.prototype.getFirst=function(){return this.getChildByIndex(0)},g.prototype.getLast=function(){var S=this.getChildren();return this.getChildByIndex(S.length-1)},g.prototype.getChildByIndex=function(S){var _=this.getChildren();return _[S]},g.prototype.getCount=function(){var S=this.getChildren();return S.length},g.prototype.contain=function(S){var _=this.getChildren();return _.indexOf(S)>-1},g.prototype.removeChild=function(S,_){_===void 0&&(_=!0),this.contain(S)&&S.remove(_)},g.prototype.findAll=function(S){var _=[],B=this.getChildren();return(0,k.S6)(B,function(F){S(F)&&_.push(F),F.isGroup()&&(_=_.concat(F.findAll(S)))}),_},g.prototype.find=function(S){var _=null,B=this.getChildren();return(0,k.S6)(B,function(F){if(S(F)?_=F:F.isGroup()&&(_=F.find(S)),_)return!1}),_},g.prototype.findById=function(S){return this.find(function(_){return _.get("id")===S})},g.prototype.findByClassName=function(S){return this.find(function(_){return _.get("className")===S})},g.prototype.findAllByName=function(S){return this.findAll(function(_){return _.get("name")===S})},g}(O.Z);M.Z=y},94638:function(xt,M,d){"use strict";d.d(M,{Z:function(){return Ot}});var b=d(38251),O=d(49242),k=d(35600);function L(St,At,Et){var bt=[0,0,0,0,0,0,0,0,0];return k.fromTranslation(bt,Et),k.multiply(St,bt,At)}function P(St,At,Et){var bt=[0,0,0,0,0,0,0,0,0];return k.fromRotation(bt,Et),k.multiply(St,bt,At)}function A(St,At,Et){var bt=[0,0,0,0,0,0,0,0,0];return k.fromScaling(bt,Et),k.multiply(St,bt,At)}function C(St,At,Et){return k.multiply(St,Et,At)}function E(St,At){for(var Et=St?[].concat(St):[1,0,0,0,1,0,0,0,1],bt=0,Lt=At.length;bt<Lt;bt++){var Bt=At[bt];switch(Bt[0]){case"t":L(Et,Et,[Bt[1],Bt[2]]);break;case"s":A(Et,Et,[Bt[1],Bt[2]]);break;case"r":P(Et,Et,Bt[1]);break;case"m":C(Et,Et,Bt[1]);break;default:break}}return Et}function p(St,At){return St[0]*At[1]-At[0]*St[1]}function w(St,At,Et){var bt=vec2.angle(St,At),Lt=p(St,At)>=0;return Et?Lt?Math.PI*2-bt:bt:Lt?bt:Math.PI*2-bt}function y(St,At,Et){return Et?(St[0]=At[1],St[1]=-1*At[0]):(St[0]=-1*At[1],St[1]=At[0]),St}var x=d(91241),g=d(93557),S=d(3935),_=E,B="matrix",F=["zIndex","capture","visible","type"],V=["repeat"],Z=":",X="*";function U(St){for(var At=[],Et=0;Et<St.length;Et++)(0,O.isArray)(St[Et])?At.push([].concat(St[Et])):At.push(St[Et]);return At}function nt(St,At){var Et={},bt=At.attrs;for(var Lt in St)Et[Lt]=bt[Lt];return Et}function q(St,At){var Et={},bt=At.attr();return(0,O.each)(St,function(Lt,Bt){V.indexOf(Bt)===-1&&!(0,O.isEqual)(bt[Bt],Lt)&&(Et[Bt]=Lt)}),Et}function wt(St,At){if(At.onFrame)return St;var Et=At.startTime,bt=At.delay,Lt=At.duration,Bt=Object.prototype.hasOwnProperty;return(0,O.each)(St,function(gt){Et+bt<gt.startTime+gt.delay+gt.duration&&Lt>gt.delay&&(0,O.each)(At.toAttrs,function(J,I){Bt.call(gt.toAttrs,I)&&(delete gt.toAttrs[I],delete gt.fromAttrs[I])})}),St}var ft=function(St){(0,b.ZT)(At,St);function At(Et){var bt=St.call(this,Et)||this;bt.attrs={};var Lt=bt.getDefaultAttrs();return(0,O.mix)(Lt,Et.attrs),bt.attrs=Lt,bt.initAttrs(Lt),bt.initAnimate(),bt}return At.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},At.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},At.prototype.onCanvasChange=function(Et){},At.prototype.initAttrs=function(Et){},At.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},At.prototype.isGroup=function(){return!1},At.prototype.getParent=function(){return this.get("parent")},At.prototype.getCanvas=function(){return this.get("canvas")},At.prototype.attr=function(){for(var Et,bt=[],Lt=0;Lt<arguments.length;Lt++)bt[Lt]=arguments[Lt];var Bt=bt[0],gt=bt[1];if(!Bt)return this.attrs;if((0,O.isObject)(Bt)){for(var J in Bt)this.setAttr(J,Bt[J]);return this.afterAttrsChange(Bt),this}return bt.length===2?(this.setAttr(Bt,gt),this.afterAttrsChange((Et={},Et[Bt]=gt,Et)),this):this.attrs[Bt]},At.prototype.isClipped=function(Et,bt){var Lt=this.getClip();return Lt&&!Lt.isHit(Et,bt)},At.prototype.setAttr=function(Et,bt){var Lt=this.attrs[Et];Lt!==bt&&(this.attrs[Et]=bt,this.onAttrChange(Et,bt,Lt))},At.prototype.onAttrChange=function(Et,bt,Lt){Et==="matrix"&&this.set("totalMatrix",null)},At.prototype.afterAttrsChange=function(Et){if(this.cfg.isClipShape){var bt=this.cfg.applyTo;bt&&bt.onCanvasChange("clip")}else this.onCanvasChange("attr")},At.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},At.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},At.prototype.setZIndex=function(Et){this.set("zIndex",Et);var bt=this.getParent();return bt&&bt.sort(),this},At.prototype.toFront=function(){var Et=this.getParent();if(!!Et){var bt=Et.getChildren(),Lt=this.get("el"),Bt=bt.indexOf(this);bt.splice(Bt,1),bt.push(this),this.onCanvasChange("zIndex")}},At.prototype.toBack=function(){var Et=this.getParent();if(!!Et){var bt=Et.getChildren(),Lt=this.get("el"),Bt=bt.indexOf(this);bt.splice(Bt,1),bt.unshift(this),this.onCanvasChange("zIndex")}},At.prototype.remove=function(Et){Et===void 0&&(Et=!0);var bt=this.getParent();bt?((0,x.As)(bt.getChildren(),this),bt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),Et&&this.destroy()},At.prototype.resetMatrix=function(){this.attr(B,this.getDefaultMatrix()),this.onCanvasChange("matrix")},At.prototype.getMatrix=function(){return this.attr(B)},At.prototype.setMatrix=function(Et){this.attr(B,Et),this.onCanvasChange("matrix")},At.prototype.getTotalMatrix=function(){var Et=this.cfg.totalMatrix;if(!Et){var bt=this.attr("matrix"),Lt=this.cfg.parentMatrix;Lt&&bt?Et=(0,g.xq)(Lt,bt):Et=bt||Lt,this.set("totalMatrix",Et)}return Et},At.prototype.applyMatrix=function(Et){var bt=this.attr("matrix"),Lt=null;Et&&bt?Lt=(0,g.xq)(Et,bt):Lt=bt||Et,this.set("totalMatrix",Lt),this.set("parentMatrix",Et)},At.prototype.getDefaultMatrix=function(){return null},At.prototype.applyToMatrix=function(Et){var bt=this.attr("matrix");return bt?(0,g.rG)(bt,Et):Et},At.prototype.invertFromMatrix=function(Et){var bt=this.attr("matrix");if(bt){var Lt=(0,g.U_)(bt);if(Lt)return(0,g.rG)(Lt,Et)}return Et},At.prototype.setClip=function(Et){var bt=this.getCanvas(),Lt=null;if(Et){var Bt=this.getShapeBase(),gt=(0,O.upperFirst)(Et.type),J=Bt[gt];J&&(Lt=new J({type:Et.type,isClipShape:!0,applyTo:this,attrs:Et.attrs,canvas:bt}))}return this.set("clipShape",Lt),this.onCanvasChange("clip"),Lt},At.prototype.getClip=function(){var Et=this.cfg.clipShape;return Et||null},At.prototype.clone=function(){var Et=this,bt=this.attrs,Lt={};(0,O.each)(bt,function(J,I){(0,O.isArray)(bt[I])?Lt[I]=U(bt[I]):Lt[I]=bt[I]});var Bt=this.constructor,gt=new Bt({attrs:Lt});return(0,O.each)(F,function(J){gt.set(J,Et.get(J))}),gt},At.prototype.destroy=function(){var Et=this.destroyed;Et||(this.attrs={},St.prototype.destroy.call(this))},At.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},At.prototype.animate=function(){for(var Et=[],bt=0;bt<arguments.length;bt++)Et[bt]=arguments[bt];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var Lt=this.get("timeline");Lt||(Lt=this.get("canvas").get("timeline"),this.set("timeline",Lt));var Bt=this.get("animations")||[];Lt.timer||Lt.initTimer();var gt=Et[0],J=Et[1],I=Et[2],u=I===void 0?"easeLinear":I,R=Et[3],N=R===void 0?O.noop:R,z=Et[4],j=z===void 0?0:z,K,at,Tt,pt,Q;(0,O.isFunction)(gt)?(K=gt,gt={}):(0,O.isObject)(gt)&&gt.onFrame&&(K=gt.onFrame,at=gt.repeat),(0,O.isObject)(J)?(Q=J,J=Q.duration,u=Q.easing||"easeLinear",j=Q.delay||0,at=Q.repeat||at||!1,N=Q.callback||O.noop,Tt=Q.pauseCallback||O.noop,pt=Q.resumeCallback||O.noop):((0,O.isNumber)(N)&&(j=N,N=null),(0,O.isFunction)(u)?(N=u,u="easeLinear"):u=u||"easeLinear");var vt=q(gt,this),et={fromAttrs:nt(vt,this),toAttrs:vt,duration:J,easing:u,repeat:at,callback:N,pauseCallback:Tt,resumeCallback:pt,delay:j,startTime:Lt.getTime(),id:(0,O.uniqueId)(),onFrame:K,pathFormatted:!1};Bt.length>0?Bt=wt(Bt,et):Lt.addAnimator(this),Bt.push(et),this.set("animations",Bt),this.set("_pause",{isPaused:!1})}},At.prototype.stopAnimate=function(Et){var bt=this;Et===void 0&&(Et=!0);var Lt=this.get("animations");(0,O.each)(Lt,function(Bt){Et&&(Bt.onFrame?bt.attr(Bt.onFrame(1)):bt.attr(Bt.toAttrs)),Bt.callback&&Bt.callback()}),this.set("animating",!1),this.set("animations",[])},At.prototype.pauseAnimate=function(){var Et=this.get("timeline"),bt=this.get("animations"),Lt=Et.getTime();return(0,O.each)(bt,function(Bt){Bt._paused=!0,Bt._pauseTime=Lt,Bt.pauseCallback&&Bt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Lt}),this},At.prototype.resumeAnimate=function(){var Et=this.get("timeline"),bt=Et.getTime(),Lt=this.get("animations"),Bt=this.get("_pause").pauseTime;return(0,O.each)(Lt,function(gt){gt.startTime=gt.startTime+(bt-Bt),gt._paused=!1,gt._pauseTime=null,gt.resumeCallback&&gt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Lt),this},At.prototype.emitDelegation=function(Et,bt){var Lt=this,Bt=bt.propagationPath,gt=this.getEvents(),J;Et==="mouseenter"?J=bt.fromShape:Et==="mouseleave"&&(J=bt.toShape);for(var I=function(z){var j=Bt[z],K=j.get("name");if(K){if((j.isGroup()||j.isCanvas&&j.isCanvas())&&J&&(0,x.UY)(j,J))return"break";(0,O.isArray)(K)?(0,O.each)(K,function(at){Lt.emitDelegateEvent(j,at,bt)}):u.emitDelegateEvent(j,K,bt)}},u=this,R=0;R<Bt.length;R++){var N=I(R);if(N==="break")break}},At.prototype.emitDelegateEvent=function(Et,bt,Lt){var Bt=this.getEvents(),gt=bt+Z+Lt.type;(Bt[gt]||Bt[X])&&(Lt.name=gt,Lt.currentTarget=Et,Lt.delegateTarget=this,Lt.delegateObject=Et.get("delegateObject"),this.emit(gt,Lt))},At.prototype.translate=function(Et,bt){Et===void 0&&(Et=0),bt===void 0&&(bt=0);var Lt=this.getMatrix(),Bt=_(Lt,[["t",Et,bt]]);return this.setMatrix(Bt),this},At.prototype.move=function(Et,bt){var Lt=this.attr("x")||0,Bt=this.attr("y")||0;return this.translate(Et-Lt,bt-Bt),this},At.prototype.moveTo=function(Et,bt){return this.move(Et,bt)},At.prototype.scale=function(Et,bt){var Lt=this.getMatrix(),Bt=_(Lt,[["s",Et,bt||Et]]);return this.setMatrix(Bt),this},At.prototype.rotate=function(Et){var bt=this.getMatrix(),Lt=_(bt,[["r",Et]]);return this.setMatrix(Lt),this},At.prototype.rotateAtStart=function(Et){var bt=this.attr(),Lt=bt.x,Bt=bt.y,gt=this.getMatrix(),J=_(gt,[["t",-Lt,-Bt],["r",Et],["t",Lt,Bt]]);return this.setMatrix(J),this},At.prototype.rotateAtPoint=function(Et,bt,Lt){var Bt=this.getMatrix(),gt=_(Bt,[["t",-Et,-bt],["r",Lt],["t",Et,bt]]);return this.setMatrix(gt),this},At}(S.Z),Ot=ft},1756:function(xt,M,d){"use strict";var b=d(38251),O=d(36540),k=function(L){(0,b.ZT)(P,L);function P(){return L!==null&&L.apply(this,arguments)||this}return P.prototype.isGroup=function(){return!0},P.prototype.isEntityGroup=function(){return!1},P.prototype.clone=function(){for(var A=L.prototype.clone.call(this),C=this.getChildren(),E=0;E<C.length;E++){var p=C[E];A.add(p.clone())}return A},P}(O.Z);M.Z=k},51995:function(xt,M,d){"use strict";var b=d(38251),O=d(94638),k=d(93557),L=function(P){(0,b.ZT)(A,P);function A(C){return P.call(this,C)||this}return A.prototype._isInBBox=function(C,E){var p=this.getBBox();return p.minX<=C&&p.maxX>=C&&p.minY<=E&&p.maxY>=E},A.prototype.afterAttrsChange=function(C){P.prototype.afterAttrsChange.call(this,C),this.clearCacheBBox()},A.prototype.getBBox=function(){var C=this.cfg.bbox;return C||(C=this.calculateBBox(),this.set("bbox",C)),C},A.prototype.getCanvasBBox=function(){var C=this.cfg.canvasBBox;return C||(C=this.calculateCanvasBBox(),this.set("canvasBBox",C)),C},A.prototype.applyMatrix=function(C){P.prototype.applyMatrix.call(this,C),this.set("canvasBBox",null)},A.prototype.calculateCanvasBBox=function(){var C=this.getBBox(),E=this.getTotalMatrix(),p=C.minX,w=C.minY,y=C.maxX,x=C.maxY;if(E){var g=(0,k.rG)(E,[C.minX,C.minY]),S=(0,k.rG)(E,[C.maxX,C.minY]),_=(0,k.rG)(E,[C.minX,C.maxY]),B=(0,k.rG)(E,[C.maxX,C.maxY]);p=Math.min(g[0],S[0],_[0],B[0]),y=Math.max(g[0],S[0],_[0],B[0]),w=Math.min(g[1],S[1],_[1],B[1]),x=Math.max(g[1],S[1],_[1],B[1])}var F=this.attrs;if(F.shadowColor){var V=F.shadowBlur,Z=V===void 0?0:V,X=F.shadowOffsetX,U=X===void 0?0:X,nt=F.shadowOffsetY,q=nt===void 0?0:nt,wt=p-Z+U,ft=y+Z+U,Ot=w-Z+q,St=x+Z+q;p=Math.min(p,wt),y=Math.max(y,ft),w=Math.min(w,Ot),x=Math.max(x,St)}return{x:p,y:w,minX:p,minY:w,maxX:y,maxY:x,width:y-p,height:x-w}},A.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},A.prototype.isClipShape=function(){return this.get("isClipShape")},A.prototype.isInShape=function(C,E){return!1},A.prototype.isOnlyHitBox=function(){return!1},A.prototype.isHit=function(C,E){var p=this.get("startArrowShape"),w=this.get("endArrowShape"),y=[C,E,1];y=this.invertFromMatrix(y);var x=y[0],g=y[1],S=this._isInBBox(x,g);return this.isOnlyHitBox()?S:!!(S&&!this.isClipped(x,g)&&(this.isInShape(x,g)||p&&p.isHit(x,g)||w&&w.isHit(x,g)))},A}(O.Z);M.Z=L},8364:function(xt,M,d){"use strict";d.d(M,{_:function(){return k},C:function(){return L}});var b=d(13681),O={};function k(P){return O[P.toLowerCase()]||b[P]}function L(P,A){O[P.toLowerCase()]=A}},95802:function(xt,M,d){"use strict";d.d(M,{b:function(){return k},W:function(){return O}});var b=new Map;function O(X,U){b.set(X,U)}function k(X){return b.get(X)}function L(X){var U=X.attr(),nt=U.x,q=U.y,wt=U.width,ft=U.height;return{x:nt,y:q,width:wt,height:ft}}function P(X){var U=X.attr(),nt=U.x,q=U.y,wt=U.r;return{x:nt-wt,y:q-wt,width:wt*2,height:wt*2}}var A=d(89838);function C(X,U){return!X||!U?X||U:{minX:Math.min(X.minX,U.minX),minY:Math.min(X.minY,U.minY),maxX:Math.max(X.maxX,U.maxX),maxY:Math.max(X.maxY,U.maxY)}}function E(X,U){var nt=X.get("startArrowShape"),q=X.get("endArrowShape"),wt=null,ft=null;return nt&&(wt=nt.getCanvasBBox(),U=C(U,wt)),q&&(ft=q.getCanvasBBox(),U=C(U,ft)),U}function p(X){for(var U=X.attr(),nt=U.points,q=[],wt=[],ft=0;ft<nt.length;ft++){var Ot=nt[ft];q.push(Ot[0]),wt.push(Ot[1])}var St=A.Util.getBBoxByArray(q,wt),At=St.x,Et=St.y,bt=St.width,Lt=St.height,Bt={minX:At,minY:Et,maxX:At+bt,maxY:Et+Lt};return Bt=E(X,Bt),{x:Bt.minX,y:Bt.minY,width:Bt.maxX-Bt.minX,height:Bt.maxY-Bt.minY}}function w(X){for(var U=X.attr(),nt=U.points,q=[],wt=[],ft=0;ft<nt.length;ft++){var Ot=nt[ft];q.push(Ot[0]),wt.push(Ot[1])}return A.Util.getBBoxByArray(q,wt)}var y=d(93323);function x(X){var U=X.attr(),nt=U.x,q=U.y,wt=U.text,ft=U.fontSize,Ot=U.lineHeight,St=U.font;St||(St=(0,y.$O)(U));var At=(0,y.mY)(wt,St),Et;if(!At)Et={x:nt,y:q,width:0,height:0};else{var bt=U.textAlign,Lt=U.textBaseline,Bt=(0,y.FE)(wt,ft,Ot),gt={x:nt,y:q-Bt};bt&&(bt==="end"||bt==="right"?gt.x-=At:bt==="center"&&(gt.x-=At/2)),Lt&&(Lt==="top"?gt.y+=Bt:Lt==="middle"&&(gt.y+=Bt/2)),Et={x:gt.x,y:gt.y,width:At,height:Bt}}return Et}var g=d(57350),S=d(49242);function _(X,U){for(var nt=[],q=[],wt=[],ft=0;ft<X.length;ft++){var Ot=X[ft],St=Ot.currentPoint,At=Ot.params,Et=Ot.prePoint,bt=void 0;switch(Ot.command){case"Q":bt=A.Quad.box(Et[0],Et[1],At[1],At[2],At[3],At[4]);break;case"C":bt=A.Cubic.box(Et[0],Et[1],At[1],At[2],At[3],At[4],At[5],At[6]);break;case"A":var Lt=Ot.arcParams;bt=A.Arc.box(Lt.cx,Lt.cy,Lt.rx,Lt.ry,Lt.xRotation,Lt.startAngle,Lt.endAngle);break;default:nt.push(St[0]),q.push(St[1]);break}bt&&(Ot.box=bt,nt.push(bt.x,bt.x+bt.width),q.push(bt.y,bt.y+bt.height)),U&&(Ot.command==="L"||Ot.command==="M")&&Ot.prePoint&&Ot.nextPoint&&wt.push(Ot)}nt=nt.filter(function(R){return!Number.isNaN(R)&&R!==Infinity&&R!==-Infinity}),q=q.filter(function(R){return!Number.isNaN(R)&&R!==Infinity&&R!==-Infinity});var Bt=(0,S.min)(nt),gt=(0,S.min)(q),J=(0,S.max)(nt),I=(0,S.max)(q);if(wt.length===0)return{x:Bt,y:gt,width:J-Bt,height:I-gt};for(var ft=0;ft<wt.length;ft++){var Ot=wt[ft],St=Ot.currentPoint,u=void 0;St[0]===Bt?(u=B(Ot,U),Bt=Bt-u.xExtra):St[0]===J&&(u=B(Ot,U),J=J+u.xExtra),St[1]===gt?(u=B(Ot,U),gt=gt-u.yExtra):St[1]===I&&(u=B(Ot,U),I=I+u.yExtra)}return{x:Bt,y:gt,width:J-Bt,height:I-gt}}function B(X,U){var nt=X.prePoint,q=X.currentPoint,wt=X.nextPoint,ft=Math.pow(q[0]-nt[0],2)+Math.pow(q[1]-nt[1],2),Ot=Math.pow(q[0]-wt[0],2)+Math.pow(q[1]-wt[1],2),St=Math.pow(nt[0]-wt[0],2)+Math.pow(nt[1]-wt[1],2),At=Math.acos((ft+Ot-St)/(2*Math.sqrt(ft)*Math.sqrt(Ot)));if(!At||Math.sin(At)===0||(0,S.isNumberEqual)(At,0))return{xExtra:0,yExtra:0};var Et=Math.abs(Math.atan2(wt[1]-q[1],wt[0]-q[0])),bt=Math.abs(Math.atan2(wt[0]-q[0],wt[1]-q[1]));Et=Et>Math.PI/2?Math.PI-Et:Et,bt=bt>Math.PI/2?Math.PI-bt:bt;var Lt={xExtra:Math.cos(At/2-Et)*(U/2*(1/Math.sin(At/2)))-U/2||0,yExtra:Math.cos(bt-At/2)*(U/2*(1/Math.sin(At/2)))-U/2||0};return Lt}function F(X){var U=X.attr(),nt=U.path,q=U.stroke,wt=q?U.lineWidth:0,ft=X.get("segments")||(0,g.path2Segments)(nt),Ot=_(ft,wt),St=Ot.x,At=Ot.y,Et=Ot.width,bt=Ot.height,Lt={minX:St,minY:At,maxX:St+Et,maxY:At+bt};return Lt=E(X,Lt),{x:Lt.minX,y:Lt.minY,width:Lt.maxX-Lt.minX,height:Lt.maxY-Lt.minY}}function V(X){var U=X.attr(),nt=U.x1,q=U.y1,wt=U.x2,ft=U.y2,Ot=Math.min(nt,wt),St=Math.max(nt,wt),At=Math.min(q,ft),Et=Math.max(q,ft),bt={minX:Ot,maxX:St,minY:At,maxY:Et};return bt=E(X,bt),{x:bt.minX,y:bt.minY,width:bt.maxX-bt.minX,height:bt.maxY-bt.minY}}function Z(X){var U=X.attr(),nt=U.x,q=U.y,wt=U.rx,ft=U.ry;return{x:nt-wt,y:q-ft,width:wt*2,height:ft*2}}O("rect",L),O("image",L),O("circle",P),O("marker",P),O("polyline",p),O("polygon",w),O("text",x),O("path",F),O("line",V),O("ellipse",Z)},65608:function(xt,M){"use strict";var d=function(){function b(O,k){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=k,this.timeStamp=k.timeStamp}return b.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},b.prototype.stopPropagation=function(){this.propagationStopped=!0},b.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},b.prototype.save=function(){},b.prototype.restore=function(){},b}();M.Z=d},85622:function(xt,M,d){"use strict";d.r(M),d.d(M,{Event:function(){return E.Z},Base:function(){return p.Z},AbstractCanvas:function(){return w.Z},AbstractGroup:function(){return y.Z},AbstractShape:function(){return x.Z},PathUtil:function(){return b},getBBoxMethod:function(){return g.b},registerBBox:function(){return g.W},getTextHeight:function(){return S.FE},assembleFont:function(){return S.$O},isAllowCapture:function(){return _.pP},multiplyVec2:function(){return B.rG},invert:function(){return B.U_},getOffScreenContext:function(){return F.L},registerEasing:function(){return V.C},version:function(){return Z}});var b=d(80234),O=d(82723),k=d.n(O),L={};for(var P in O)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(P)<0&&(L[P]=function(X){return O[X]}.bind(0,P));d.d(M,L);var A=d(12548),C=d.n(A),L={};for(var P in A)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(P)<0&&(L[P]=function(U){return A[U]}.bind(0,P));d.d(M,L);var E=d(65608),p=d(3935),w=d(28190),y=d(1756),x=d(51995),g=d(95802),S=d(93323),_=d(91241),B=d(93557),F=d(40897),V=d(8364),Z="0.5.11"},12548:function(){},82723:function(){},93557:function(xt,M,d){"use strict";d.d(M,{xq:function(){return b},rG:function(){return O},U_:function(){return k}});function b(L,P){var A=[],C=L[0],E=L[1],p=L[2],w=L[3],y=L[4],x=L[5],g=L[6],S=L[7],_=L[8],B=P[0],F=P[1],V=P[2],Z=P[3],X=P[4],U=P[5],nt=P[6],q=P[7],wt=P[8];return A[0]=B*C+F*w+V*g,A[1]=B*E+F*y+V*S,A[2]=B*p+F*x+V*_,A[3]=Z*C+X*w+U*g,A[4]=Z*E+X*y+U*S,A[5]=Z*p+X*x+U*_,A[6]=nt*C+q*w+wt*g,A[7]=nt*E+q*y+wt*S,A[8]=nt*p+q*x+wt*_,A}function O(L,P){var A=[],C=P[0],E=P[1];return A[0]=L[0]*C+L[3]*E+L[6],A[1]=L[1]*C+L[4]*E+L[7],A}function k(L){var P=[],A=L[0],C=L[1],E=L[2],p=L[3],w=L[4],y=L[5],x=L[6],g=L[7],S=L[8],_=S*w-y*g,B=-S*p+y*x,F=g*p-w*x,V=A*_+C*B+E*F;return V?(V=1/V,P[0]=_*V,P[1]=(-S*C+E*g)*V,P[2]=(y*C-E*w)*V,P[3]=B*V,P[4]=(S*A-E*x)*V,P[5]=(-y*A+E*p)*V,P[6]=F*V,P[7]=(-g*A+C*x)*V,P[8]=(w*A-C*p)*V,P):null}},40897:function(xt,M,d){"use strict";d.d(M,{L:function(){return O}});var b=null;function O(){if(!b){var k=document.createElement("canvas");k.width=1,k.height=1,b=k.getContext("2d")}return b}},80234:function(xt,M,d){"use strict";d.r(M),d.d(M,{catmullRomToBezier:function(){return A},fillPath:function(){return Lt},fillPathByDiff:function(){return I},formatPath:function(){return N},intersection:function(){return St},parsePathArray:function(){return S},parsePathString:function(){return P},pathToAbsolute:function(){return E},pathToCurve:function(){return x},rectPath:function(){return X}});var b=d(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,k=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),L=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig"),P=function(z){if(!z)return null;if((0,b.isArray)(z))return z;var j={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},K=[];return String(z).replace(k,function(at,Tt,pt){var Q=[],vt=Tt.toLowerCase();if(pt.replace(L,function(et,it){it&&Q.push(+it)}),vt==="m"&&Q.length>2&&(K.push([Tt].concat(Q.splice(0,2))),vt="l",Tt=Tt==="m"?"l":"L"),vt==="o"&&Q.length===1&&K.push([Tt,Q[0]]),vt==="r")K.push([Tt].concat(Q));else for(;Q.length>=j[vt]&&(K.push([Tt].concat(Q.splice(0,j[vt]))),!!j[vt]););return z}),K},A=function(z,j){for(var K=[],at=0,Tt=z.length;Tt-2*!j>at;at+=2){var pt=[{x:+z[at-2],y:+z[at-1]},{x:+z[at],y:+z[at+1]},{x:+z[at+2],y:+z[at+3]},{x:+z[at+4],y:+z[at+5]}];j?at?Tt-4===at?pt[3]={x:+z[0],y:+z[1]}:Tt-2===at&&(pt[2]={x:+z[0],y:+z[1]},pt[3]={x:+z[2],y:+z[3]}):pt[0]={x:+z[Tt-2],y:+z[Tt-1]}:Tt-4===at?pt[3]=pt[2]:at||(pt[0]={x:+z[at],y:+z[at+1]}),K.push(["C",(-pt[0].x+6*pt[1].x+pt[2].x)/6,(-pt[0].y+6*pt[1].y+pt[2].y)/6,(pt[1].x+6*pt[2].x-pt[3].x)/6,(pt[1].y+6*pt[2].y-pt[3].y)/6,pt[2].x,pt[2].y])}return K},C=function(z,j,K,at,Tt){var pt=[];if(Tt===null&&at===null&&(at=K),z=+z,j=+j,K=+K,at=+at,Tt!==null){var Q=Math.PI/180,vt=z+K*Math.cos(-at*Q),et=z+K*Math.cos(-Tt*Q),it=j+K*Math.sin(-at*Q),ct=j+K*Math.sin(-Tt*Q);pt=[["M",vt,it],["A",K,K,0,+(Tt-at>180),0,et,ct]]}else pt=[["M",z,j],["m",0,-at],["a",K,at,0,1,1,0,2*at],["a",K,at,0,1,1,0,-2*at],["z"]];return pt},E=function(z){if(z=P(z),!z||!z.length)return[["M",0,0]];var j=[],K=0,at=0,Tt=0,pt=0,Q=0,vt,et;z[0][0]==="M"&&(K=+z[0][1],at=+z[0][2],Tt=K,pt=at,Q++,j[0]=["M",K,at]);for(var it=z.length===3&&z[0][0]==="M"&&z[1][0].toUpperCase()==="R"&&z[2][0].toUpperCase()==="Z",ct=void 0,rt=void 0,tt=Q,mt=z.length;tt<mt;tt++){if(j.push(ct=[]),rt=z[tt],vt=rt[0],vt!==vt.toUpperCase())switch(ct[0]=vt.toUpperCase(),ct[0]){case"A":ct[1]=rt[1],ct[2]=rt[2],ct[3]=rt[3],ct[4]=rt[4],ct[5]=rt[5],ct[6]=+rt[6]+K,ct[7]=+rt[7]+at;break;case"V":ct[1]=+rt[1]+at;break;case"H":ct[1]=+rt[1]+K;break;case"R":et=[K,at].concat(rt.slice(1));for(var _t=2,Wt=et.length;_t<Wt;_t++)et[_t]=+et[_t]+K,et[++_t]=+et[_t]+at;j.pop(),j=j.concat(A(et,it));break;case"O":j.pop(),et=C(K,at,rt[1],rt[2]),et.push(et[0]),j=j.concat(et);break;case"U":j.pop(),j=j.concat(C(K,at,rt[1],rt[2],rt[3])),ct=["U"].concat(j[j.length-1].slice(-2));break;case"M":Tt=+rt[1]+K,pt=+rt[2]+at;break;default:for(var _t=1,Wt=rt.length;_t<Wt;_t++)ct[_t]=+rt[_t]+(_t%2?K:at)}else if(vt==="R")et=[K,at].concat(rt.slice(1)),j.pop(),j=j.concat(A(et,it)),ct=["R"].concat(rt.slice(-2));else if(vt==="O")j.pop(),et=C(K,at,rt[1],rt[2]),et.push(et[0]),j=j.concat(et);else if(vt==="U")j.pop(),j=j.concat(C(K,at,rt[1],rt[2],rt[3])),ct=["U"].concat(j[j.length-1].slice(-2));else for(var te=0,ce=rt.length;te<ce;te++)ct[te]=rt[te];if(vt=vt.toUpperCase(),vt!=="O")switch(ct[0]){case"Z":K=+Tt,at=+pt;break;case"H":K=ct[1];break;case"V":at=ct[1];break;case"M":Tt=ct[ct.length-2],pt=ct[ct.length-1];break;default:K=ct[ct.length-2],at=ct[ct.length-1]}}return j},p=function(z,j,K,at){return[z,j,K,at,K,at]},w=function(z,j,K,at,Tt,pt){var Q=1/3,vt=2/3;return[Q*z+vt*K,Q*j+vt*at,Q*Tt+vt*K,Q*pt+vt*at,Tt,pt]},y=function(z,j,K,at,Tt,pt,Q,vt,et,it){K===at&&(K+=1);var ct=Math.PI*120/180,rt=Math.PI/180*(+Tt||0),tt=[],mt,_t,Wt,te,ce,Pe=function(Re,tr,hr){var ar=Re*Math.cos(hr)-tr*Math.sin(hr),vr=Re*Math.sin(hr)+tr*Math.cos(hr);return{x:ar,y:vr}};if(it)_t=it[0],Wt=it[1],te=it[2],ce=it[3];else{mt=Pe(z,j,-rt),z=mt.x,j=mt.y,mt=Pe(vt,et,-rt),vt=mt.x,et=mt.y,z===vt&&j===et&&(vt+=1,et+=1);var we=(z-vt)/2,Ce=(j-et)/2,Ge=we*we/(K*K)+Ce*Ce/(at*at);Ge>1&&(Ge=Math.sqrt(Ge),K=Ge*K,at=Ge*at);var $e=K*K,cr=at*at,or=(pt===Q?-1:1)*Math.sqrt(Math.abs(($e*cr-$e*Ce*Ce-cr*we*we)/($e*Ce*Ce+cr*we*we)));te=or*K*Ce/at+(z+vt)/2,ce=or*-at*we/K+(j+et)/2,_t=Math.asin(((j-ce)/at).toFixed(9)),Wt=Math.asin(((et-ce)/at).toFixed(9)),_t=z<te?Math.PI-_t:_t,Wt=vt<te?Math.PI-Wt:Wt,_t<0&&(_t=Math.PI*2+_t),Wt<0&&(Wt=Math.PI*2+Wt),Q&&_t>Wt&&(_t=_t-Math.PI*2),!Q&&Wt>_t&&(Wt=Wt-Math.PI*2)}var Xr=Wt-_t;if(Math.abs(Xr)>ct){var xn=Wt,Wr=vt,sn=et;Wt=_t+ct*(Q&&Wt>_t?1:-1),vt=te+K*Math.cos(Wt),et=ce+at*Math.sin(Wt),tt=y(vt,et,K,at,Tt,0,Q,Wr,sn,[Wt,xn,te,ce])}Xr=Wt-_t;var Jn=Math.cos(_t),ai=Math.sin(_t),Si=Math.cos(Wt),Mi=Math.sin(Wt),Ht=Math.tan(Xr/4),Kt=4/3*K*Ht,ie=4/3*at*Ht,se=[z,j],xe=[z+Kt*ai,j-ie*Jn],Me=[vt+Kt*Mi,et-ie*Si],Se=[vt,et];if(xe[0]=2*se[0]-xe[0],xe[1]=2*se[1]-xe[1],it)return[xe,Me,Se].concat(tt);tt=[xe,Me,Se].concat(tt).join().split(",");for(var _e=[],de=0,Ue=tt.length;de<Ue;de++)_e[de]=de%2?Pe(tt[de-1],tt[de],rt).y:Pe(tt[de],tt[de+1],rt).x;return _e},x=function(z,j){var K=E(z),at=j&&E(j),Tt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},pt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Q=[],vt=[],et="",it="",ct,rt=function(we,Ce,Ge){var $e,cr;if(!we)return["C",Ce.x,Ce.y,Ce.x,Ce.y,Ce.x,Ce.y];switch(!(we[0]in{T:1,Q:1})&&(Ce.qx=Ce.qy=null),we[0]){case"M":Ce.X=we[1],Ce.Y=we[2];break;case"A":we=["C"].concat(y.apply(0,[Ce.x,Ce.y].concat(we.slice(1))));break;case"S":Ge==="C"||Ge==="S"?($e=Ce.x*2-Ce.bx,cr=Ce.y*2-Ce.by):($e=Ce.x,cr=Ce.y),we=["C",$e,cr].concat(we.slice(1));break;case"T":Ge==="Q"||Ge==="T"?(Ce.qx=Ce.x*2-Ce.qx,Ce.qy=Ce.y*2-Ce.qy):(Ce.qx=Ce.x,Ce.qy=Ce.y),we=["C"].concat(w(Ce.x,Ce.y,Ce.qx,Ce.qy,we[1],we[2]));break;case"Q":Ce.qx=we[1],Ce.qy=we[2],we=["C"].concat(w(Ce.x,Ce.y,we[1],we[2],we[3],we[4]));break;case"L":we=["C"].concat(p(Ce.x,Ce.y,we[1],we[2]));break;case"H":we=["C"].concat(p(Ce.x,Ce.y,we[1],Ce.y));break;case"V":we=["C"].concat(p(Ce.x,Ce.y,Ce.x,we[1]));break;case"Z":we=["C"].concat(p(Ce.x,Ce.y,Ce.X,Ce.Y));break;default:break}return we},tt=function(we,Ce){if(we[Ce].length>7){we[Ce].shift();for(var Ge=we[Ce];Ge.length;)Q[Ce]="A",at&&(vt[Ce]="A"),we.splice(Ce++,0,["C"].concat(Ge.splice(0,6)));we.splice(Ce,1),ct=Math.max(K.length,at&&at.length||0)}},mt=function(we,Ce,Ge,$e,cr){we&&Ce&&we[cr][0]==="M"&&Ce[cr][0]!=="M"&&(Ce.splice(cr,0,["M",$e.x,$e.y]),Ge.bx=0,Ge.by=0,Ge.x=we[cr][1],Ge.y=we[cr][2],ct=Math.max(K.length,at&&at.length||0))};ct=Math.max(K.length,at&&at.length||0);for(var _t=0;_t<ct;_t++){K[_t]&&(et=K[_t][0]),et!=="C"&&(Q[_t]=et,_t&&(it=Q[_t-1])),K[_t]=rt(K[_t],Tt,it),Q[_t]!=="A"&&et==="C"&&(Q[_t]="C"),tt(K,_t),at&&(at[_t]&&(et=at[_t][0]),et!=="C"&&(vt[_t]=et,_t&&(it=vt[_t-1])),at[_t]=rt(at[_t],pt,it),vt[_t]!=="A"&&et==="C"&&(vt[_t]="C"),tt(at,_t)),mt(K,at,Tt,pt,_t),mt(at,K,pt,Tt,_t);var Wt=K[_t],te=at&&at[_t],ce=Wt.length,Pe=at&&te.length;Tt.x=Wt[ce-2],Tt.y=Wt[ce-1],Tt.bx=parseFloat(Wt[ce-4])||Tt.x,Tt.by=parseFloat(Wt[ce-3])||Tt.y,pt.bx=at&&(parseFloat(te[Pe-4])||pt.x),pt.by=at&&(parseFloat(te[Pe-3])||pt.y),pt.x=at&&te[Pe-2],pt.y=at&&te[Pe-1]}return at?[K,at]:K},g=/,?([a-z]),?/gi,S=function(z){return z.join(",").replace(g,"$1")},_=function(z,j,K,at,Tt){var pt=-3*j+9*K-9*at+3*Tt,Q=z*pt+6*j-12*K+6*at;return z*Q-3*j+3*K},B=function(z,j,K,at,Tt,pt,Q,vt,et){et===null&&(et=1),et=et>1?1:et<0?0:et;for(var it=et/2,ct=12,rt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],tt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],mt=0,_t=0;_t<ct;_t++){var Wt=it*rt[_t]+it,te=_(Wt,z,K,Tt,Q),ce=_(Wt,j,at,pt,vt),Pe=te*te+ce*ce;mt+=tt[_t]*Math.sqrt(Pe)}return it*mt},F=function(z,j,K,at,Tt,pt,Q,vt){for(var et=[],it=[[],[]],ct,rt,tt,mt,_t=0;_t<2;++_t){if(_t===0?(rt=6*z-12*K+6*Tt,ct=-3*z+9*K-9*Tt+3*Q,tt=3*K-3*z):(rt=6*j-12*at+6*pt,ct=-3*j+9*at-9*pt+3*vt,tt=3*at-3*j),Math.abs(ct)<1e-12){if(Math.abs(rt)<1e-12)continue;mt=-tt/rt,mt>0&&mt<1&&et.push(mt);continue}var Wt=rt*rt-4*tt*ct,te=Math.sqrt(Wt);if(!(Wt<0)){var ce=(-rt+te)/(2*ct);ce>0&&ce<1&&et.push(ce);var Pe=(-rt-te)/(2*ct);Pe>0&&Pe<1&&et.push(Pe)}}for(var we=et.length,Ce=we,Ge;we--;)mt=et[we],Ge=1-mt,it[0][we]=Ge*Ge*Ge*z+3*Ge*Ge*mt*K+3*Ge*mt*mt*Tt+mt*mt*mt*Q,it[1][we]=Ge*Ge*Ge*j+3*Ge*Ge*mt*at+3*Ge*mt*mt*pt+mt*mt*mt*vt;return it[0][Ce]=z,it[1][Ce]=j,it[0][Ce+1]=Q,it[1][Ce+1]=vt,it[0].length=it[1].length=Ce+2,{min:{x:Math.min.apply(0,it[0]),y:Math.min.apply(0,it[1])},max:{x:Math.max.apply(0,it[0]),y:Math.max.apply(0,it[1])}}},V=function(z,j,K,at,Tt,pt,Q,vt){if(!(Math.max(z,K)<Math.min(Tt,Q)||Math.min(z,K)>Math.max(Tt,Q)||Math.max(j,at)<Math.min(pt,vt)||Math.min(j,at)>Math.max(pt,vt))){var et=(z*at-j*K)*(Tt-Q)-(z-K)*(Tt*vt-pt*Q),it=(z*at-j*K)*(pt-vt)-(j-at)*(Tt*vt-pt*Q),ct=(z-K)*(pt-vt)-(j-at)*(Tt-Q);if(!!ct){var rt=et/ct,tt=it/ct,mt=+rt.toFixed(2),_t=+tt.toFixed(2);if(!(mt<+Math.min(z,K).toFixed(2)||mt>+Math.max(z,K).toFixed(2)||mt<+Math.min(Tt,Q).toFixed(2)||mt>+Math.max(Tt,Q).toFixed(2)||_t<+Math.min(j,at).toFixed(2)||_t>+Math.max(j,at).toFixed(2)||_t<+Math.min(pt,vt).toFixed(2)||_t>+Math.max(pt,vt).toFixed(2)))return{x:rt,y:tt}}}},Z=function(z,j,K){return j>=z.x&&j<=z.x+z.width&&K>=z.y&&K<=z.y+z.height},X=function(z,j,K,at,Tt){if(Tt)return[["M",+z+ +Tt,j],["l",K-Tt*2,0],["a",Tt,Tt,0,0,1,Tt,Tt],["l",0,at-Tt*2],["a",Tt,Tt,0,0,1,-Tt,Tt],["l",Tt*2-K,0],["a",Tt,Tt,0,0,1,-Tt,-Tt],["l",0,Tt*2-at],["a",Tt,Tt,0,0,1,Tt,-Tt],["z"]];var pt=[["M",z,j],["l",K,0],["l",0,at],["l",-K,0],["z"]];return pt.parsePathArray=S,pt},U=function(z,j,K,at){return z===null&&(z=j=K=at=0),j===null&&(j=z.y,K=z.width,at=z.height,z=z.x),{x:z,y:j,width:K,w:K,height:at,h:at,x2:z+K,y2:j+at,cx:z+K/2,cy:j+at/2,r1:Math.min(K,at)/2,r2:Math.max(K,at)/2,r0:Math.sqrt(K*K+at*at)/2,path:X(z,j,K,at),vb:[z,j,K,at].join(" ")}},nt=function(z,j){return z=U(z),j=U(j),Z(j,z.x,z.y)||Z(j,z.x2,z.y)||Z(j,z.x,z.y2)||Z(j,z.x2,z.y2)||Z(z,j.x,j.y)||Z(z,j.x2,j.y)||Z(z,j.x,j.y2)||Z(z,j.x2,j.y2)||(z.x<j.x2&&z.x>j.x||j.x<z.x2&&j.x>z.x)&&(z.y<j.y2&&z.y>j.y||j.y<z.y2&&j.y>z.y)},q=function(z,j,K,at,Tt,pt,Q,vt){(0,b.isArray)(z)||(z=[z,j,K,at,Tt,pt,Q,vt]);var et=F.apply(null,z);return U(et.min.x,et.min.y,et.max.x-et.min.x,et.max.y-et.min.y)},wt=function(z,j,K,at,Tt,pt,Q,vt,et){var it=1-et,ct=Math.pow(it,3),rt=Math.pow(it,2),tt=et*et,mt=tt*et,_t=ct*z+rt*3*et*K+it*3*et*et*Tt+mt*Q,Wt=ct*j+rt*3*et*at+it*3*et*et*pt+mt*vt,te=z+2*et*(K-z)+tt*(Tt-2*K+z),ce=j+2*et*(at-j)+tt*(pt-2*at+j),Pe=K+2*et*(Tt-K)+tt*(Q-2*Tt+K),we=at+2*et*(pt-at)+tt*(vt-2*pt+at),Ce=it*z+et*K,Ge=it*j+et*at,$e=it*Tt+et*Q,cr=it*pt+et*vt,or=90-Math.atan2(te-Pe,ce-we)*180/Math.PI;return{x:_t,y:Wt,m:{x:te,y:ce},n:{x:Pe,y:we},start:{x:Ce,y:Ge},end:{x:$e,y:cr},alpha:or}},ft=function(z,j,K){var at=q(z),Tt=q(j);if(!nt(at,Tt))return K?0:[];for(var pt=B.apply(0,z),Q=B.apply(0,j),vt=~~(pt/8),et=~~(Q/8),it=[],ct=[],rt={},tt=K?0:[],mt=0;mt<vt+1;mt++){var _t=wt.apply(0,z.concat(mt/vt));it.push({x:_t.x,y:_t.y,t:mt/vt})}for(var mt=0;mt<et+1;mt++){var _t=wt.apply(0,j.concat(mt/et));ct.push({x:_t.x,y:_t.y,t:mt/et})}for(var mt=0;mt<vt;mt++)for(var Wt=0;Wt<et;Wt++){var te=it[mt],ce=it[mt+1],Pe=ct[Wt],we=ct[Wt+1],Ce=Math.abs(ce.x-te.x)<.001?"y":"x",Ge=Math.abs(we.x-Pe.x)<.001?"y":"x",$e=V(te.x,te.y,ce.x,ce.y,Pe.x,Pe.y,we.x,we.y);if($e){if(rt[$e.x.toFixed(4)]===$e.y.toFixed(4))continue;rt[$e.x.toFixed(4)]=$e.y.toFixed(4);var cr=te.t+Math.abs(($e[Ce]-te[Ce])/(ce[Ce]-te[Ce]))*(ce.t-te.t),or=Pe.t+Math.abs(($e[Ge]-Pe[Ge])/(we[Ge]-Pe[Ge]))*(we.t-Pe.t);cr>=0&&cr<=1&&or>=0&&or<=1&&(K?tt+=1:tt.push({x:$e.x,y:$e.y,t1:cr,t2:or}))}}return tt},Ot=function(z,j,K){z=x(z),j=x(j);for(var at,Tt,pt,Q,vt,et,it,ct,rt,tt,mt=K?0:[],_t=0,Wt=z.length;_t<Wt;_t++){var te=z[_t];if(te[0]==="M")at=vt=te[1],Tt=et=te[2];else{te[0]==="C"?(rt=[at,Tt].concat(te.slice(1)),at=rt[6],Tt=rt[7]):(rt=[at,Tt,at,Tt,vt,et,vt,et],at=vt,Tt=et);for(var ce=0,Pe=j.length;ce<Pe;ce++){var we=j[ce];if(we[0]==="M")pt=it=we[1],Q=ct=we[2];else{we[0]==="C"?(tt=[pt,Q].concat(we.slice(1)),pt=tt[6],Q=tt[7]):(tt=[pt,Q,pt,Q,it,ct,it,ct],pt=it,Q=ct);var Ce=ft(rt,tt,K);if(K)mt+=Ce;else{for(var Ge=0,$e=Ce.length;Ge<$e;Ge++)Ce[Ge].segment1=_t,Ce[Ge].segment2=ce,Ce[Ge].bez1=rt,Ce[Ge].bez2=tt;mt=mt.concat(Ce)}}}}}return mt},St=function(z,j){return Ot(z,j)};function At(z,j){var K=[],at=[];function Tt(pt,Q){if(pt.length===1)K.push(pt[0]),at.push(pt[0]);else{for(var vt=[],et=0;et<pt.length-1;et++)et===0&&K.push(pt[0]),et===pt.length-2&&at.push(pt[et+1]),vt[et]=[(1-Q)*pt[et][0]+Q*pt[et+1][0],(1-Q)*pt[et][1]+Q*pt[et+1][1]];Tt(vt,Q)}}return z.length&&Tt(z,j),{left:K,right:at.reverse()}}function Et(z,j,K){var at=[[z[1],z[2]]];K=K||2;var Tt=[];j[0]==="A"?(at.push(j[6]),at.push(j[7])):j[0]==="C"?(at.push([j[1],j[2]]),at.push([j[3],j[4]]),at.push([j[5],j[6]])):j[0]==="S"||j[0]==="Q"?(at.push([j[1],j[2]]),at.push([j[3],j[4]])):at.push([j[1],j[2]]);for(var pt=at,Q=1/K,vt=0;vt<K-1;vt++){var et=Q/(1-Q*vt),it=At(pt,et);Tt.push(it.left),pt=it.right}Tt.push(pt);var ct=Tt.map(function(rt){var tt=[];return rt.length===4&&(tt.push("C"),tt=tt.concat(rt[2])),rt.length>=3&&(rt.length===3&&tt.push("Q"),tt=tt.concat(rt[1])),rt.length===2&&tt.push("L"),tt=tt.concat(rt[rt.length-1]),tt});return ct}var bt=function(z,j,K){if(K===1)return[[].concat(z)];var at=[];if(j[0]==="L"||j[0]==="C"||j[0]==="Q")at=at.concat(Et(z,j,K));else{var Tt=[].concat(z);Tt[0]==="M"&&(Tt[0]="L");for(var pt=0;pt<=K-1;pt++)at.push(Tt)}return at},Lt=function(z,j){if(z.length===1)return z;var K=z.length-1,at=j.length-1,Tt=K/at,pt=[];if(z.length===1&&z[0][0]==="M"){for(var Q=0;Q<at-K;Q++)z.push(z[0]);return z}for(var Q=0;Q<at;Q++){var vt=Math.floor(Tt*Q);pt[vt]=(pt[vt]||0)+1}var et=pt.reduce(function(it,ct,rt){return rt===K?it.concat(z[K]):it.concat(bt(z[rt],z[rt+1],ct))},[]);return et.unshift(z[0]),(j[at]==="Z"||j[at]==="z")&&et.push("Z"),et},Bt=function(z,j){if(z.length!==j.length)return!1;var K=!0;return(0,b.each)(z,function(at,Tt){if(at!==j[Tt])return K=!1,!1}),K};function gt(z,j,K){var at=null,Tt=K;return j<Tt&&(Tt=j,at="add"),z<Tt&&(Tt=z,at="del"),{type:at,min:Tt}}var J=function(z,j){var K=z.length,at=j.length,Tt,pt,Q=0;if(K===0||at===0)return null;for(var vt=[],et=0;et<=K;et++)vt[et]=[],vt[et][0]={min:et};for(var it=0;it<=at;it++)vt[0][it]={min:it};for(var et=1;et<=K;et++){Tt=z[et-1];for(var it=1;it<=at;it++){pt=j[it-1],Bt(Tt,pt)?Q=0:Q=1;var ct=vt[et-1][it].min+1,rt=vt[et][it-1].min+1,tt=vt[et-1][it-1].min+Q;vt[et][it]=gt(ct,rt,tt)}}return vt},I=function(z,j){var K=J(z,j),at=z.length,Tt=j.length,pt=[],Q=1,vt=1;if(K[at][Tt].min!==at){for(var et=1;et<=at;et++){var it=K[et][et].min;vt=et;for(var ct=Q;ct<=Tt;ct++)K[et][ct].min<it&&(it=K[et][ct].min,vt=ct);Q=vt,K[et][Q].type&&pt.push({index:et-1,type:K[et][Q].type})}for(var et=pt.length-1;et>=0;et--)Q=pt[et].index,pt[et].type==="add"?z.splice(Q,0,[].concat(z[Q])):z.splice(Q,1)}at=z.length;var rt=Tt-at;if(at<Tt)for(var et=0;et<rt;et++)z[at-1][0]==="z"||z[at-1][0]==="Z"?z.splice(at-2,0,z[at-2]):z.push(z[at-1]),at+=1;return z};function u(z,j,K){for(var at=[].concat(z),Tt,pt=1/(K+1),Q=R(j)[0],vt=1;vt<=K;vt++)pt*=vt,Tt=Math.floor(z.length*pt),Tt===0?at.unshift([Q[0]*pt+z[Tt][0]*(1-pt),Q[1]*pt+z[Tt][1]*(1-pt)]):at.splice(Tt,0,[Q[0]*pt+z[Tt][0]*(1-pt),Q[1]*pt+z[Tt][1]*(1-pt)]);return at}function R(z){var j=[];switch(z[0]){case"M":j.push([z[1],z[2]]);break;case"L":j.push([z[1],z[2]]);break;case"A":j.push([z[6],z[7]]);break;case"Q":j.push([z[3],z[4]]),j.push([z[1],z[2]]);break;case"T":j.push([z[1],z[2]]);break;case"C":j.push([z[5],z[6]]),j.push([z[1],z[2]]),j.push([z[3],z[4]]);break;case"S":j.push([z[3],z[4]]),j.push([z[1],z[2]]);break;case"H":j.push([z[1],z[1]]);break;case"V":j.push([z[1],z[1]]);break;default:}return j}var N=function(z,j){if(z.length<=1)return z;for(var K,at=0;at<j.length;at++)if(z[at][0]!==j[at][0])switch(K=R(z[at]),j[at][0]){case"M":z[at]=["M"].concat(K[0]);break;case"L":z[at]=["L"].concat(K[0]);break;case"A":z[at]=[].concat(j[at]),z[at][6]=K[0][0],z[at][7]=K[0][1];break;case"Q":if(K.length<2)if(at>0)K=u(K,z[at-1],1);else{z[at]=j[at];break}z[at]=["Q"].concat(K.reduce(function(Tt,pt){return Tt.concat(pt)},[]));break;case"T":z[at]=["T"].concat(K[0]);break;case"C":if(K.length<3)if(at>0)K=u(K,z[at-1],2);else{z[at]=j[at];break}z[at]=["C"].concat(K.reduce(function(Tt,pt){return Tt.concat(pt)},[]));break;case"S":if(K.length<2)if(at>0)K=u(K,z[at-1],1);else{z[at]=j[at];break}z[at]=["S"].concat(K.reduce(function(Tt,pt){return Tt.concat(pt)},[]));break;default:z[at]=j[at]}return z}},93323:function(xt,M,d){"use strict";d.d(M,{FE:function(){return k},mY:function(){return P},$O:function(){return A}});var b=d(91241),O=d(40897);function k(C,E,p){var w=1;if((0,b.HD)(C)&&(w=C.split(`
`).length),w>1){var y=L(E,p);return E*w+y*(w-1)}return E}function L(C,E){return E?E-C:C*.14}function P(C,E){var p=(0,O.L)(),w=0;if((0,b.kK)(C)||C==="")return w;if(p.save(),p.font=E,(0,b.HD)(C)&&C.includes(`
`)){var y=C.split(`
`);(0,b.S6)(y,function(x){var g=p.measureText(x).width;w<g&&(w=g)})}else w=p.measureText(C).width;return p.restore(),w}function A(C){var E=C.fontSize,p=C.fontFamily,w=C.fontWeight,y=C.fontStyle,x=C.fontVariant;return[y,x,w,E+"px",p].join(" ").trim()}},91241:function(xt,M,d){"use strict";d.d(M,{As:function(){return O},jU:function(){return k},kK:function(){return b.isNil},mf:function(){return b.isFunction},HD:function(){return b.isString},Kn:function(){return b.isObject},CD:function(){return b.mix},S6:function(){return b.each},jC:function(){return b.upperFirst},UY:function(){return L},pP:function(){return P}});var b=d(49242);function O(A,C){var E=A.indexOf(C);E!==-1&&A.splice(E,1)}var k=typeof window!="undefined"&&typeof window.document!="undefined";function L(A,C){if(A.isCanvas())return!0;for(var E=C.getParent(),p=!1;E;){if(E===A){p=!0;break}E=E.getParent()}return p}function P(A){return A.cfg.visible&&A.cfg.capture}},30490:function(xt,M){"use strict";var d;d={value:!0};var b=function(){function O(k,L){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=k,this.name=k,this.originalEvent=L,this.timeStamp=L.timeStamp}return O.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},O.prototype.stopPropagation=function(){this.propagationStopped=!0},O.prototype.toString=function(){var k=this.type;return"[Event (type="+k+")]"},O.prototype.save=function(){},O.prototype.restore=function(){},O}();M.Z=b},38251:function(xt,M,d){"use strict";d.d(M,{ZT:function(){return O}});var b=function(u,R){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,z){N.__proto__=z}||function(N,z){for(var j in z)Object.prototype.hasOwnProperty.call(z,j)&&(N[j]=z[j])},b(u,R)};function O(u,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");b(u,R);function N(){this.constructor=u}u.prototype=R===null?Object.create(R):(N.prototype=R.prototype,new N)}var k=function(){return k=Object.assign||function(R){for(var N,z=1,j=arguments.length;z<j;z++){N=arguments[z];for(var K in N)Object.prototype.hasOwnProperty.call(N,K)&&(R[K]=N[K])}return R},k.apply(this,arguments)};function L(u,R){var N={};for(var z in u)Object.prototype.hasOwnProperty.call(u,z)&&R.indexOf(z)<0&&(N[z]=u[z]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,z=Object.getOwnPropertySymbols(u);j<z.length;j++)R.indexOf(z[j])<0&&Object.prototype.propertyIsEnumerable.call(u,z[j])&&(N[z[j]]=u[z[j]]);return N}function P(u,R,N,z){var j=arguments.length,K=j<3?R:z===null?z=Object.getOwnPropertyDescriptor(R,N):z,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(u,R,N,z);else for(var Tt=u.length-1;Tt>=0;Tt--)(at=u[Tt])&&(K=(j<3?at(K):j>3?at(R,N,K):at(R,N))||K);return j>3&&K&&Object.defineProperty(R,N,K),K}function A(u,R){return function(N,z){R(N,z,u)}}function C(u,R,N,z,j,K){function at(_t){if(_t!==void 0&&typeof _t!="function")throw new TypeError("Function expected");return _t}for(var Tt=z.kind,pt=Tt==="getter"?"get":Tt==="setter"?"set":"value",Q=!R&&u?z.static?u:u.prototype:null,vt=R||(Q?Object.getOwnPropertyDescriptor(Q,z.name):{}),et,it=!1,ct=N.length-1;ct>=0;ct--){var rt={};for(var tt in z)rt[tt]=tt==="access"?{}:z[tt];for(var tt in z.access)rt.access[tt]=z.access[tt];rt.addInitializer=function(_t){if(it)throw new TypeError("Cannot add initializers after decoration has completed");K.push(at(_t||null))};var mt=(0,N[ct])(Tt==="accessor"?{get:vt.get,set:vt.set}:vt[pt],rt);if(Tt==="accessor"){if(mt===void 0)continue;if(mt===null||typeof mt!="object")throw new TypeError("Object expected");(et=at(mt.get))&&(vt.get=et),(et=at(mt.set))&&(vt.set=et),(et=at(mt.init))&&j.unshift(et)}else(et=at(mt))&&(Tt==="field"?j.unshift(et):vt[pt]=et)}Q&&Object.defineProperty(Q,z.name,vt),it=!0}function E(u,R,N){for(var z=arguments.length>2,j=0;j<R.length;j++)N=z?R[j].call(u,N):R[j].call(u);return z?N:void 0}function p(u){return typeof u=="symbol"?u:"".concat(u)}function w(u,R,N){return typeof R=="symbol"&&(R=R.description?"[".concat(R.description,"]"):""),Object.defineProperty(u,"name",{configurable:!0,value:N?"".concat(N," ",R):R})}function y(u,R){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,R)}function x(u,R,N,z){function j(K){return K instanceof N?K:new N(function(at){at(K)})}return new(N||(N=Promise))(function(K,at){function Tt(vt){try{Q(z.next(vt))}catch(et){at(et)}}function pt(vt){try{Q(z.throw(vt))}catch(et){at(et)}}function Q(vt){vt.done?K(vt.value):j(vt.value).then(Tt,pt)}Q((z=z.apply(u,R||[])).next())})}function g(u,R){var N={label:0,sent:function(){if(K[0]&1)throw K[1];return K[1]},trys:[],ops:[]},z,j,K,at;return at={next:Tt(0),throw:Tt(1),return:Tt(2)},typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function Tt(Q){return function(vt){return pt([Q,vt])}}function pt(Q){if(z)throw new TypeError("Generator is already executing.");for(;at&&(at=0,Q[0]&&(N=0)),N;)try{if(z=1,j&&(K=Q[0]&2?j.return:Q[0]?j.throw||((K=j.return)&&K.call(j),0):j.next)&&!(K=K.call(j,Q[1])).done)return K;switch(j=0,K&&(Q=[Q[0]&2,K.value]),Q[0]){case 0:case 1:K=Q;break;case 4:return N.label++,{value:Q[1],done:!1};case 5:N.label++,j=Q[1],Q=[0];continue;case 7:Q=N.ops.pop(),N.trys.pop();continue;default:if(K=N.trys,!(K=K.length>0&&K[K.length-1])&&(Q[0]===6||Q[0]===2)){N=0;continue}if(Q[0]===3&&(!K||Q[1]>K[0]&&Q[1]<K[3])){N.label=Q[1];break}if(Q[0]===6&&N.label<K[1]){N.label=K[1],K=Q;break}if(K&&N.label<K[2]){N.label=K[2],N.ops.push(Q);break}K[2]&&N.ops.pop(),N.trys.pop();continue}Q=R.call(u,N)}catch(vt){Q=[6,vt],j=0}finally{z=K=0}if(Q[0]&5)throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}}var S=Object.create?function(u,R,N,z){z===void 0&&(z=N);var j=Object.getOwnPropertyDescriptor(R,N);(!j||("get"in j?!R.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return R[N]}}),Object.defineProperty(u,z,j)}:function(u,R,N,z){z===void 0&&(z=N),u[z]=R[N]};function _(u,R){for(var N in u)N!=="default"&&!Object.prototype.hasOwnProperty.call(R,N)&&S(R,u,N)}function B(u){var R=typeof Symbol=="function"&&Symbol.iterator,N=R&&u[R],z=0;if(N)return N.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&z>=u.length&&(u=void 0),{value:u&&u[z++],done:!u}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(u,R){var N=typeof Symbol=="function"&&u[Symbol.iterator];if(!N)return u;var z=N.call(u),j,K=[],at;try{for(;(R===void 0||R-- >0)&&!(j=z.next()).done;)K.push(j.value)}catch(Tt){at={error:Tt}}finally{try{j&&!j.done&&(N=z.return)&&N.call(z)}finally{if(at)throw at.error}}return K}function V(){for(var u=[],R=0;R<arguments.length;R++)u=u.concat(F(arguments[R]));return u}function Z(){for(var u=0,R=0,N=arguments.length;R<N;R++)u+=arguments[R].length;for(var z=Array(u),j=0,R=0;R<N;R++)for(var K=arguments[R],at=0,Tt=K.length;at<Tt;at++,j++)z[j]=K[at];return z}function X(u,R,N){if(N||arguments.length===2)for(var z=0,j=R.length,K;z<j;z++)(K||!(z in R))&&(K||(K=Array.prototype.slice.call(R,0,z)),K[z]=R[z]);return u.concat(K||Array.prototype.slice.call(R))}function U(u){return this instanceof U?(this.v=u,this):new U(u)}function nt(u,R,N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=N.apply(u,R||[]),j,K=[];return j={},at("next"),at("throw"),at("return"),j[Symbol.asyncIterator]=function(){return this},j;function at(it){z[it]&&(j[it]=function(ct){return new Promise(function(rt,tt){K.push([it,ct,rt,tt])>1||Tt(it,ct)})})}function Tt(it,ct){try{pt(z[it](ct))}catch(rt){et(K[0][3],rt)}}function pt(it){it.value instanceof U?Promise.resolve(it.value.v).then(Q,vt):et(K[0][2],it)}function Q(it){Tt("next",it)}function vt(it){Tt("throw",it)}function et(it,ct){it(ct),K.shift(),K.length&&Tt(K[0][0],K[0][1])}}function q(u){var R,N;return R={},z("next"),z("throw",function(j){throw j}),z("return"),R[Symbol.iterator]=function(){return this},R;function z(j,K){R[j]=u[j]?function(at){return(N=!N)?{value:U(u[j](at)),done:!1}:K?K(at):at}:K}}function wt(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R=u[Symbol.asyncIterator],N;return R?R.call(u):(u=typeof B=="function"?B(u):u[Symbol.iterator](),N={},z("next"),z("throw"),z("return"),N[Symbol.asyncIterator]=function(){return this},N);function z(K){N[K]=u[K]&&function(at){return new Promise(function(Tt,pt){at=u[K](at),j(Tt,pt,at.done,at.value)})}}function j(K,at,Tt,pt){Promise.resolve(pt).then(function(Q){K({value:Q,done:Tt})},at)}}function ft(u,R){return Object.defineProperty?Object.defineProperty(u,"raw",{value:R}):u.raw=R,u}var Ot=Object.create?function(u,R){Object.defineProperty(u,"default",{enumerable:!0,value:R})}:function(u,R){u.default=R};function St(u){if(u&&u.__esModule)return u;var R={};if(u!=null)for(var N in u)N!=="default"&&Object.prototype.hasOwnProperty.call(u,N)&&S(R,u,N);return Ot(R,u),R}function At(u){return u&&u.__esModule?u:{default:u}}function Et(u,R,N,z){if(N==="a"&&!z)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?u!==R||!z:!R.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return N==="m"?z:N==="a"?z.call(u):z?z.value:R.get(u)}function bt(u,R,N,z,j){if(z==="m")throw new TypeError("Private method is not writable");if(z==="a"&&!j)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?u!==R||!j:!R.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return z==="a"?j.call(u,N):j?j.value=N:R.set(u,N),N}function Lt(u,R){if(R===null||typeof R!="object"&&typeof R!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof u=="function"?R===u:u.has(R)}function Bt(u,R,N){if(R!=null){if(typeof R!="object"&&typeof R!="function")throw new TypeError("Object expected.");var z;if(N){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");z=R[Symbol.asyncDispose]}if(z===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");z=R[Symbol.dispose]}if(typeof z!="function")throw new TypeError("Object not disposable.");u.stack.push({value:R,dispose:z,async:N})}else N&&u.stack.push({async:!0});return R}var gt=typeof SuppressedError=="function"?SuppressedError:function(u,R,N){var z=new Error(N);return z.name="SuppressedError",z.error=u,z.suppressed=R,z};function J(u){function R(z){u.error=u.hasError?new gt(z,u.error,"An error was suppressed during disposal."):z,u.hasError=!0}function N(){for(;u.stack.length;){var z=u.stack.pop();try{var j=z.dispose&&z.dispose.call(z.value);if(z.async)return Promise.resolve(j).then(N,function(K){return R(K),N()})}catch(K){R(K)}}if(u.hasError)throw u.error}return N()}var I={__extends:O,__assign:k,__rest:L,__decorate:P,__param:A,__metadata:y,__awaiter:x,__generator:g,__createBinding:S,__exportStar:_,__values:B,__read:F,__spread:V,__spreadArrays:Z,__spreadArray:X,__await:U,__asyncGenerator:nt,__asyncDelegator:q,__asyncValues:wt,__makeTemplateObject:ft,__importStar:St,__importDefault:At,__classPrivateFieldGet:Et,__classPrivateFieldSet:bt,__classPrivateFieldIn:Lt,__addDisposableResource:Bt,__disposeResources:J}},14563:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(93470),k=d(85622),L=d(77096),P=d(63528),A=d(64830),C=d(21927),E=d(70530),p=function(w){O.__extends(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype.getDefaultCfg=function(){var x=w.prototype.getDefaultCfg.call(this);return x.renderer="canvas",x.autoDraw=!0,x.localRefresh=!0,x.refreshElements=[],x.clipView=!0,x.quickHit=!1,x},y.prototype.onCanvasChange=function(x){(x==="attr"||x==="sort"||x==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},y.prototype.getShapeBase=function(){return P},y.prototype.getGroupBase=function(){return A.default},y.prototype.getPixelRatio=function(){var x=this.get("pixelRatio")||C.getPixelRatio();return x>=1?Math.ceil(x):1},y.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},y.prototype.createDom=function(){var x=document.createElement("canvas"),g=x.getContext("2d");return this.set("context",g),x},y.prototype.setDOMSize=function(x,g){w.prototype.setDOMSize.call(this,x,g);var S=this.get("context"),_=this.get("el"),B=this.getPixelRatio();_.width=B*x,_.height=B*g,B>1&&S.scale(B,B)},y.prototype.clear=function(){w.prototype.clear.call(this),this._clearFrame();var x=this.get("context"),g=this.get("el");x.clearRect(0,0,g.width,g.height)},y.prototype.getShape=function(x,g){var S;return this.get("quickHit")?S=L.getShape(this,x,g):S=w.prototype.getShape.call(this,x,g,null),S},y.prototype._getRefreshRegion=function(){var x=this.get("refreshElements"),g=this.getViewRange(),S;if(x.length&&x[0]===this)S=g;else if(S=E.getMergedRegion(x),S){S.minX=Math.floor(S.minX),S.minY=Math.floor(S.minY),S.maxX=Math.ceil(S.maxX),S.maxY=Math.ceil(S.maxY),S.maxY+=1;var _=this.get("clipView");_&&(S=E.mergeView(S,g))}return S},y.prototype.refreshElement=function(x){var g=this.get("refreshElements");g.push(x)},y.prototype._clearFrame=function(){var x=this.get("drawFrame");x&&(C.clearAnimationFrame(x),this.set("drawFrame",null),this.set("refreshElements",[]))},y.prototype.draw=function(){var x=this.get("drawFrame");this.get("autoDraw")&&x||this._startDraw()},y.prototype._drawAll=function(){var x=this.get("context"),g=this.get("el"),S=this.getChildren();x.clearRect(0,0,g.width,g.height),E.applyAttrsToContext(x,this),E.drawChildren(x,S),this.set("refreshElements",[])},y.prototype._drawRegion=function(){var x=this.get("context"),g=this.get("refreshElements"),S=this.getChildren(),_=this._getRefreshRegion();_?(x.clearRect(_.minX,_.minY,_.maxX-_.minX,_.maxY-_.minY),x.save(),x.beginPath(),x.rect(_.minX,_.minY,_.maxX-_.minX,_.maxY-_.minY),x.clip(),E.applyAttrsToContext(x,this),E.checkRefresh(this,S,_),E.drawChildren(x,S,_),x.restore()):g.length&&E.clearChanged(g),C.each(g,function(B){B.get("hasChanged")&&B.set("hasChanged",!1)}),this.set("refreshElements",[])},y.prototype._startDraw=function(){var x=this,g=this.get("drawFrame");g||(g=C.requestAnimationFrame(function(){x.get("localRefresh")?x._drawRegion():x._drawAll(),x.set("drawFrame",null)}),this.set("drawFrame",g))},y.prototype.skipDraw=function(){},y.prototype.removeDom=function(){var x=this.get("el");x.width=0,x.height=0,x.parentNode.removeChild(x)},y}(k.AbstractCanvas);M.Z=p},64830:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(85622),k=d(63528),L=d(70530),P=d(49242),A=d(21927),C=function(E){b.__extends(p,E);function p(){return E!==null&&E.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(w){L.refreshElement(this,w)},p.prototype.getShapeBase=function(){return k},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(w,y){y&&(w.save(),L.applyAttrsToContext(w,y),y.createPath(w),w.restore(),w.clip(),y._afterDraw())},p.prototype.cacheCanvasBBox=function(){var w=this.cfg.children,y=[],x=[];P.each(w,function(X){var U=X.cfg.cacheCanvasBBox;U&&X.cfg.isInView&&(y.push(U.minX,U.maxX),x.push(U.minY,U.maxY))});var g=null;if(y.length){var S=P.min(y),_=P.max(y),B=P.min(x),F=P.max(x);g={minX:S,minY:B,x:S,y:B,maxX:_,maxY:F,width:_-S,height:F-B};var V=this.cfg.canvas;if(V){var Z=V.getViewRange();this.set("isInView",A.intersectRect(g,Z))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",g)},p.prototype.draw=function(w,y){var x=this.cfg.children,g=y?this.cfg.refresh:!0;x.length&&g&&(w.save(),L.applyAttrsToContext(w,this),this._applyClip(w,this.getClip()),L.drawChildren(w,x,y),w.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(O.AbstractGroup);M.default=C},41310:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(85622),k=d(21927),L=d(70530),P=d(85622),A=d(63528),C=d(64830),E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},y),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},w.prototype.getShapeBase=function(){return A},w.prototype.getGroupBase=function(){return C.default},w.prototype.onCanvasChange=function(y){L.refreshElement(this,y)},w.prototype.calculateBBox=function(){var y=this.get("type"),x=this.getHitLineWidth(),g=P.getBBoxMethod(y),S=g(this),_=x/2,B=S.x-_,F=S.y-_,V=S.x+S.width+_,Z=S.y+S.height+_;return{x:B,minX:B,y:F,minY:F,width:S.width+x,height:S.height+x,maxX:V,maxY:Z}},w.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},w.prototype.isStroke=function(){return!!this.attrs.stroke},w.prototype._applyClip=function(y,x){x&&(y.save(),L.applyAttrsToContext(y,x),x.createPath(y),y.restore(),y.clip(),x._afterDraw())},w.prototype.draw=function(y,x){var g=this.cfg.clipShape;if(x){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var S=this.getCanvasBBox();if(!k.intersectRect(x,S)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}y.save(),L.applyAttrsToContext(y,this),this._applyClip(y,g),this.drawPath(y),y.restore(),this._afterDraw()},w.prototype.getCanvasViewBox=function(){var y=this.cfg.canvas;return y?y.getViewRange():null},w.prototype.cacheCanvasBBox=function(){var y=this.getCanvasViewBox();if(y){var x=this.getCanvasBBox(),g=k.intersectRect(x,y);this.set("isInView",g),g?this.set("cacheCanvasBBox",x):this.set("cacheCanvasBBox",null)}},w.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},w.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},w.prototype.drawPath=function(y){this.createPath(y),this.strokeAndFill(y),this.afterDrawPath(y)},w.prototype.fill=function(y){y.fill()},w.prototype.stroke=function(y){y.stroke()},w.prototype.strokeAndFill=function(y){var x=this.attrs,g=x.lineWidth,S=x.opacity,_=x.strokeOpacity,B=x.fillOpacity;this.isFill()&&(!k.isNil(B)&&B!==1?(y.globalAlpha=B,this.fill(y),y.globalAlpha=S):this.fill(y)),this.isStroke()&&g>0&&(!k.isNil(_)&&_!==1&&(y.globalAlpha=_),this.stroke(y)),this.afterDrawPath(y)},w.prototype.createPath=function(y){},w.prototype.afterDrawPath=function(y){},w.prototype.isInShape=function(y,x){var g=this.isStroke(),S=this.isFill(),_=this.getHitLineWidth();return this.isInStrokeOrPath(y,x,g,S,_)},w.prototype.isInStrokeOrPath=function(y,x,g,S,_){return!1},w.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var y=this.attrs;return y.lineWidth+y.lineAppendWidth},w}(O.AbstractShape);M.default=E},22925:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(41310),k=d(21927),L=function(P){b.__extends(A,P);function A(){return P!==null&&P.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var C=P.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},C),{x:0,y:0,r:0})},A.prototype.isInStrokeOrPath=function(C,E,p,w,y){var x=this.attr(),g=x.x,S=x.y,_=x.r,B=y/2,F=k.distance(g,S,C,E);return w&&p?F<=_+B:w?F<=_:p?F>=_-B&&F<=_+B:!1},A.prototype.createPath=function(C){var E=this.attr(),p=E.x,w=E.y,y=E.r;C.beginPath(),C.arc(p,w,y,0,Math.PI*2,!1),C.closePath()},A}(O.default);M.default=L},21287:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(41310);function k(P,A,C,E){return P/(C*C)+A/(E*E)}var L=function(P){b.__extends(A,P);function A(){return P!==null&&P.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var C=P.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},C),{x:0,y:0,rx:0,ry:0})},A.prototype.isInStrokeOrPath=function(C,E,p,w,y){var x=this.attr(),g=y/2,S=x.x,_=x.y,B=x.rx,F=x.ry,V=(C-S)*(C-S),Z=(E-_)*(E-_);return w&&p?k(V,Z,B+g,F+g)<=1:w?k(V,Z,B,F)<=1:p?k(V,Z,B-g,F-g)>=1&&k(V,Z,B+g,F+g)<=1:!1},A.prototype.createPath=function(C){var E=this.attr(),p=E.x,w=E.y,y=E.rx,x=E.ry;if(C.beginPath(),C.ellipse)C.ellipse(p,w,y,x,0,0,Math.PI*2,!1);else{var g=y>x?y:x,S=y>x?1:y/x,_=y>x?x/y:1;C.save(),C.translate(p,w),C.scale(S,_),C.arc(0,0,g,0,Math.PI*2),C.restore(),C.closePath()}},A}(O.default);M.default=L},55303:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(41310),k=d(21927);function L(A){return A instanceof HTMLElement&&k.isString(A.nodeName)&&A.nodeName.toUpperCase()==="CANVAS"}var P=function(A){b.__extends(C,A);function C(){return A!==null&&A.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,width:0,height:0})},C.prototype.initAttrs=function(E){this._setImage(E.img)},C.prototype.isStroke=function(){return!1},C.prototype.isOnlyHitBox=function(){return!0},C.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var E=this.get("canvas");E?E.draw():this.createPath(this.get("context"))}},C.prototype._setImage=function(E){var p=this,w=this.attrs;if(k.isString(E)){var y=new Image;y.onload=function(){if(p.destroyed)return!1;p.attr("img",y),p.set("loading",!1),p._afterLoading();var x=p.get("callback");x&&x.call(p)},y.crossOrigin="Anonymous",y.src=E,this.set("loading",!0)}else E instanceof Image?(w.width||(w.width=E.width),w.height||(w.height=E.height)):L(E)&&(w.width||(w.width=Number(E.getAttribute("width"))),w.height||(w.height,Number(E.getAttribute("height"))))},C.prototype.onAttrChange=function(E,p,w){A.prototype.onAttrChange.call(this,E,p,w),E==="img"&&this._setImage(p)},C.prototype.createPath=function(E){if(this.get("loading")){this.set("toDraw",!0),this.set("context",E);return}var p=this.attr(),w=p.x,y=p.y,x=p.width,g=p.height,S=p.sx,_=p.sy,B=p.swidth,F=p.sheight,V=p.img;(V instanceof Image||L(V))&&(!k.isNil(S)&&!k.isNil(_)&&!k.isNil(B)&&!k.isNil(F)?E.drawImage(V,S,_,B,F,w,y,x,g):E.drawImage(V,w,y,x,g))},C}(O.default);M.default=P},63528:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(41310);Object.defineProperty(M,"Base",{enumerable:!0,get:function(){return b.default}});var O=d(22925);Object.defineProperty(M,"Circle",{enumerable:!0,get:function(){return O.default}});var k=d(21287);Object.defineProperty(M,"Ellipse",{enumerable:!0,get:function(){return k.default}});var L=d(55303);Object.defineProperty(M,"Image",{enumerable:!0,get:function(){return L.default}});var P=d(65159);Object.defineProperty(M,"Line",{enumerable:!0,get:function(){return P.default}});var A=d(22034);Object.defineProperty(M,"Marker",{enumerable:!0,get:function(){return A.default}});var C=d(55263);Object.defineProperty(M,"Path",{enumerable:!0,get:function(){return C.default}});var E=d(69324);Object.defineProperty(M,"Polygon",{enumerable:!0,get:function(){return E.default}});var p=d(49067);Object.defineProperty(M,"Polyline",{enumerable:!0,get:function(){return p.default}});var w=d(9558);Object.defineProperty(M,"Rect",{enumerable:!0,get:function(){return w.default}});var y=d(17310);Object.defineProperty(M,"Text",{enumerable:!0,get:function(){return y.default}})},65159:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(89838),k=d(41310),L=d(63161),P=d(27836),A=function(C){b.__extends(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var p=C.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.initAttrs=function(p){this.setArrow()},E.prototype.onAttrChange=function(p,w,y){C.prototype.onAttrChange.call(this,p,w,y),this.setArrow()},E.prototype.setArrow=function(){var p=this.attr(),w=p.x1,y=p.y1,x=p.x2,g=p.y2,S=p.startArrow,_=p.endArrow;S&&P.addStartArrow(this,p,x,g,w,y),_&&P.addEndArrow(this,p,w,y,x,g)},E.prototype.isInStrokeOrPath=function(p,w,y,x,g){if(!y||!g)return!1;var S=this.attr(),_=S.x1,B=S.y1,F=S.x2,V=S.y2;return L.default(_,B,F,V,g,p,w)},E.prototype.createPath=function(p){var w=this.attr(),y=w.x1,x=w.y1,g=w.x2,S=w.y2,_=w.startArrow,B=w.endArrow,F={dx:0,dy:0},V={dx:0,dy:0};_&&_.d&&(F=P.getShortenOffset(y,x,g,S,w.startArrow.d)),B&&B.d&&(V=P.getShortenOffset(y,x,g,S,w.endArrow.d)),p.beginPath(),p.moveTo(y+F.dx,x+F.dy),p.lineTo(g-V.dx,S-V.dy)},E.prototype.afterDrawPath=function(p){var w=this.get("startArrowShape"),y=this.get("endArrowShape");w&&w.draw(p),y&&y.draw(p)},E.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,y=p.y1,x=p.x2,g=p.y2;return O.Line.length(w,y,x,g)},E.prototype.getPoint=function(p){var w=this.attr(),y=w.x1,x=w.y1,g=w.x2,S=w.y2;return O.Line.pointAt(y,x,g,S,p)},E}(k.default);M.default=A},22034:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(49242),k=d(57350),L=d(41310),P=d(21927),A=d(70530),C={circle:function(p,w,y){return[["M",p-y,w],["A",y,y,0,1,0,p+y,w],["A",y,y,0,1,0,p-y,w]]},square:function(p,w,y){return[["M",p-y,w-y],["L",p+y,w-y],["L",p+y,w+y],["L",p-y,w+y],["Z"]]},diamond:function(p,w,y){return[["M",p-y,w],["L",p,w-y],["L",p+y,w],["L",p,w+y],["Z"]]},triangle:function(p,w,y){var x=y*Math.sin(1/3*Math.PI);return[["M",p-y,w+x],["L",p,w-x],["L",p+y,w+x],["Z"]]},"triangle-down":function(p,w,y){var x=y*Math.sin(1/3*Math.PI);return[["M",p-y,w-x],["L",p+y,w-x],["L",p,w+x],["Z"]]}},E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.initAttrs=function(y){this._resetParamsCache()},w.prototype._resetParamsCache=function(){this.set("paramsCache",{})},w.prototype.onAttrChange=function(y,x,g){p.prototype.onAttrChange.call(this,y,x,g),["symbol","x","y","r","radius"].indexOf(y)!==-1&&this._resetParamsCache()},w.prototype.isOnlyHitBox=function(){return!0},w.prototype._getR=function(y){return O.isNil(y.r)?y.radius:y.r},w.prototype._getPath=function(){var y=this.attr(),x=y.x,g=y.y,S=y.symbol||"circle",_=this._getR(y),B,F;if(P.isFunction(S))B=S,F=B(x,g,_),F=k.path2Absolute(F);else{if(B=w.Symbols[S],!B)return console.warn(S+" marker is not supported."),null;F=B(x,g,_)}return F},w.prototype.createPath=function(y){var x=this._getPath(),g=this.get("paramsCache");A.drawPath(this,y,{path:x},g)},w.Symbols=C,w}(L.default);M.default=E},55263:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(89838),k=d(49242),L=d(41310),P=d(57350),A=d(70530),C=d(31977),E=d(50970),p=d(55531),w=d(27836);function y(g,S,_){for(var B=!1,F=0;F<g.length;F++){var V=g[F];if(B=E.default(V,S,_),B)break}return B}var x=function(g){b.__extends(S,g);function S(){return g!==null&&g.apply(this,arguments)||this}return S.prototype.getDefaultAttrs=function(){var _=g.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},_),{startArrow:!1,endArrow:!1})},S.prototype.initAttrs=function(_){this._setPathArr(_.path),this.setArrow()},S.prototype.onAttrChange=function(_,B,F){g.prototype.onAttrChange.call(this,_,B,F),_==="path"&&this._setPathArr(B),this.setArrow()},S.prototype._setPathArr=function(_){this.attrs.path=P.path2Absolute(_);var B=p.default.hasArc(_);this.set("hasArc",B),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},S.prototype.getSegments=function(){var _=this.get("segements");return _||(_=P.path2Segments(this.attr("path")),this.set("segments",_)),_},S.prototype.setArrow=function(){var _=this.attr(),B=_.startArrow,F=_.endArrow;if(B){var V=this.getStartTangent();w.addStartArrow(this,_,V[0][0],V[0][1],V[1][0],V[1][1])}if(F){var V=this.getEndTangent();w.addEndArrow(this,_,V[0][0],V[0][1],V[1][0],V[1][1])}},S.prototype.isInStrokeOrPath=function(_,B,F,V,Z){var X=this.getSegments(),U=this.get("hasArc"),nt=!1;if(F){var q=this.getTotalLength();nt=p.default.isPointInStroke(X,Z,_,B,q)}if(!nt&&V)if(U)nt=C.default(this,_,B);else{var wt=this.attr("path"),ft=p.default.extractPolygons(wt);nt=y(ft.polygons,_,B)||y(ft.polylines,_,B)}return nt},S.prototype.createPath=function(_){var B=this.attr(),F=this.get("paramsCache");A.drawPath(this,_,B,F)},S.prototype.afterDrawPath=function(_){var B=this.get("startArrowShape"),F=this.get("endArrowShape");B&&B.draw(_),F&&F.draw(_)},S.prototype.getTotalLength=function(){var _=this.get("totalLength");return k.isNil(_)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):_},S.prototype.getPoint=function(_){var B=this.get("tCache");B||(this._calculateCurve(),this._setTcache(),B=this.get("tCache"));var F,V,Z=this.get("curve");if(!B||B.length===0)return Z?{x:Z[0][1],y:Z[0][2]}:null;k.each(B,function(q,wt){_>=q[0]&&_<=q[1]&&(F=(_-q[0])/(q[1]-q[0]),V=wt)});var X=Z[V];if(k.isNil(X)||k.isNil(V))return null;var U=X.length,nt=Z[V+1];return O.Cubic.pointAt(X[U-2],X[U-1],nt[1],nt[2],nt[3],nt[4],nt[5],nt[6],F)},S.prototype._calculateCurve=function(){var _=this.attr().path;this.set("curve",p.default.pathToCurve(_))},S.prototype._setTcache=function(){var _=0,B=0,F=[],V,Z,X,U,nt=this.get("curve");if(!!nt){if(k.each(nt,function(q,wt){X=nt[wt+1],U=q.length,X&&(_+=O.Cubic.length(q[U-2],q[U-1],X[1],X[2],X[3],X[4],X[5],X[6])||0)}),this.set("totalLength",_),_===0){this.set("tCache",[]);return}k.each(nt,function(q,wt){X=nt[wt+1],U=q.length,X&&(V=[],V[0]=B/_,Z=O.Cubic.length(q[U-2],q[U-1],X[1],X[2],X[3],X[4],X[5],X[6]),B+=Z||0,V[1]=B/_,F.push(V))}),this.set("tCache",F)}},S.prototype.getStartTangent=function(){var _=this.getSegments(),B;if(_.length>1){var F=_[0].currentPoint,V=_[1].currentPoint,Z=_[1].startTangent;B=[],Z?(B.push([F[0]-Z[0],F[1]-Z[1]]),B.push([F[0],F[1]])):(B.push([V[0],V[1]]),B.push([F[0],F[1]]))}return B},S.prototype.getEndTangent=function(){var _=this.getSegments(),B=_.length,F;if(B>1){var V=_[B-2].currentPoint,Z=_[B-1].currentPoint,X=_[B-1].endTangent;F=[],X?(F.push([Z[0]-X[0],Z[1]-X[1]]),F.push([Z[0],Z[1]])):(F.push([V[0],V[1]]),F.push([Z[0],Z[1]]))}return F},S}(L.default);M.default=x},69324:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(41310),k=d(39761),L=d(50970),P=function(A){b.__extends(C,A);function C(){return A!==null&&A.apply(this,arguments)||this}return C.prototype.isInStrokeOrPath=function(E,p,w,y,x){var g=this.attr().points,S=!1;return w&&(S=k.default(g,x,E,p,!0)),!S&&y&&(S=L.default(g,E,p)),S},C.prototype.createPath=function(E){var p=this.attr(),w=p.points;if(!(w.length<2)){E.beginPath();for(var y=0;y<w.length;y++){var x=w[y];y===0?E.moveTo(x[0],x[1]):E.lineTo(x[0],x[1])}E.closePath()}},C}(O.default);M.default=P},49067:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(89838),k=d(89838),L=d(49242),P=d(41310),A=d(39761),C=d(27836),E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},y),{startArrow:!1,endArrow:!1})},w.prototype.initAttrs=function(y){this.setArrow()},w.prototype.onAttrChange=function(y,x,g){p.prototype.onAttrChange.call(this,y,x,g),this.setArrow(),["points"].indexOf(y)!==-1&&this._resetCache()},w.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},w.prototype.setArrow=function(){var y=this.attr(),x=this.attrs,g=x.points,S=x.startArrow,_=x.endArrow,B=g.length,F=g[0][0],V=g[0][1],Z=g[B-1][0],X=g[B-1][1];S&&C.addStartArrow(this,y,g[1][0],g[1][1],F,V),_&&C.addEndArrow(this,y,g[B-2][0],g[B-2][1],Z,X)},w.prototype.isFill=function(){return!1},w.prototype.isInStrokeOrPath=function(y,x,g,S,_){if(!g||!_)return!1;var B=this.attr().points;return A.default(B,_,y,x,!1)},w.prototype.isStroke=function(){return!0},w.prototype.createPath=function(y){var x=this.attr(),g=x.points,S=x.startArrow,_=x.endArrow,B=g.length;if(!(g.length<2)){var F=g[0][0],V=g[0][1],Z=g[B-1][0],X=g[B-1][1];if(S&&S.d){var U=C.getShortenOffset(F,V,g[1][0],g[1][1],S.d);F+=U.dx,V+=U.dy}if(_&&_.d){var U=C.getShortenOffset(g[B-2][0],g[B-2][1],Z,X,_.d);Z-=U.dx,X-=U.dy}y.beginPath(),y.moveTo(F,V);for(var nt=0;nt<B-1;nt++){var q=g[nt];y.lineTo(q[0],q[1])}y.lineTo(Z,X)}},w.prototype.afterDrawPath=function(y){var x=this.get("startArrowShape"),g=this.get("endArrowShape");x&&x.draw(y),g&&g.draw(y)},w.prototype.getTotalLength=function(){var y=this.attr().points,x=this.get("totalLength");return L.isNil(x)?(this.set("totalLength",k.Polyline.length(y)),this.get("totalLength")):x},w.prototype.getPoint=function(y){var x=this.attr().points,g=this.get("tCache");g||(this._setTcache(),g=this.get("tCache"));var S,_;return L.each(g,function(B,F){y>=B[0]&&y<=B[1]&&(S=(y-B[0])/(B[1]-B[0]),_=F)}),O.Line.pointAt(x[_][0],x[_][1],x[_+1][0],x[_+1][1],S)},w.prototype._setTcache=function(){var y=this.attr().points;if(!(!y||y.length===0)){var x=this.getTotalLength();if(!(x<=0)){var g=0,S=[],_,B;L.each(y,function(F,V){y[V+1]&&(_=[],_[0]=g/x,B=O.Line.length(F[0],F[1],y[V+1][0],y[V+1][1]),g+=B,_[1]=g/x,S.push(_))}),this.set("tCache",S)}}},w.prototype.getStartTangent=function(){var y=this.attr().points,x=[];return x.push([y[1][0],y[1][1]]),x.push([y[0][0],y[0][1]]),x},w.prototype.getEndTangent=function(){var y=this.attr().points,x=y.length-1,g=[];return g.push([y[x-1][0],y[x-1][1]]),g.push([y[x][0],y[x][1]]),g},w}(P.default);M.default=E},9558:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(41310),k=d(93377),L=d(21927),P=d(21897),A=d(46647),C=d(31977),E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},y),{x:0,y:0,width:0,height:0,radius:0})},w.prototype.isInStrokeOrPath=function(y,x,g,S,_){var B=this.attr(),F=B.x,V=B.y,Z=B.width,X=B.height,U=B.radius;if(U){var q=!1;return g&&(q=A.default(F,V,Z,X,U,_,y,x)),!q&&S&&(q=C.default(this,y,x)),q}else{var nt=_/2;if(S&&g)return L.inBox(F-nt,V-nt,Z+nt,X+nt,y,x);if(S)return L.inBox(F,V,Z,X,y,x);if(g)return P.default(F,V,Z,X,_,y,x)}},w.prototype.createPath=function(y){var x=this.attr(),g=x.x,S=x.y,_=x.width,B=x.height,F=x.radius;if(y.beginPath(),F===0)y.rect(g,S,_,B);else{var V=k.parseRadius(F),Z=V[0],X=V[1],U=V[2],nt=V[3];y.moveTo(g+Z,S),y.lineTo(g+_-X,S),X!==0&&y.arc(g+_-X,S+X,X,-Math.PI/2,0),y.lineTo(g+_,S+B-U),U!==0&&y.arc(g+_-U,S+B-U,U,0,Math.PI/2),y.lineTo(g+nt,S+B),nt!==0&&y.arc(g+nt,S+B-nt,nt,Math.PI/2,Math.PI),y.lineTo(g,S+Z),Z!==0&&y.arc(g+Z,S+Z,Z,Math.PI,Math.PI*1.5),y.closePath()}},w}(O.default);M.default=E},17310:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(41310),k=d(21927),L=d(85622),P=function(A){b.__extends(C,A);function C(){return A!==null&&A.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},C.prototype.isOnlyHitBox=function(){return!0},C.prototype.initAttrs=function(E){this._assembleFont(),E.text&&this._setText(E.text)},C.prototype._assembleFont=function(){var E=this.attrs;E.font=L.assembleFont(E)},C.prototype._setText=function(E){var p=null;k.isString(E)&&E.indexOf(`
`)!==-1&&(p=E.split(`
`)),this.set("textArr",p)},C.prototype.onAttrChange=function(E,p,w){A.prototype.onAttrChange.call(this,E,p,w),E.startsWith("font")&&this._assembleFont(),E==="text"&&this._setText(p)},C.prototype._getSpaceingY=function(){var E=this.attrs,p=E.lineHeight,w=E.fontSize*1;return p?p-w:w*.14},C.prototype._drawTextArr=function(E,p,w){var y=this.attrs,x=y.textBaseline,g=y.x,S=y.y,_=y.fontSize*1,B=this._getSpaceingY(),F=L.getTextHeight(y.text,y.fontSize,y.lineHeight),V;k.each(p,function(Z,X){V=S+X*(B+_)-F+_,x==="middle"&&(V+=F-_-(F-_)/2),x==="top"&&(V+=F-_),k.isNil(Z)||(w?E.fillText(Z,g,V):E.strokeText(Z,g,V))})},C.prototype._drawText=function(E,p){var w=this.attr(),y=w.x,x=w.y,g=this.get("textArr");if(g)this._drawTextArr(E,g,p);else{var S=w.text;k.isNil(S)||(p?E.fillText(S,y,x):E.strokeText(S,y,x))}},C.prototype.strokeAndFill=function(E){var p=this.attrs,w=p.lineWidth,y=p.opacity,x=p.strokeOpacity,g=p.fillOpacity;this.isStroke()&&w>0&&(!k.isNil(x)&&x!==1&&(E.globalAlpha=y),this.stroke(E)),this.isFill()&&(!k.isNil(g)&&g!==1?(E.globalAlpha=g,this.fill(E),E.globalAlpha=y):this.fill(E)),this.afterDrawPath(E)},C.prototype.fill=function(E){this._drawText(E,!0)},C.prototype.stroke=function(E){this._drawText(E,!1)},C}(O.default);M.default=P},44706:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(21927);function O(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function k(A,C){return O(A)*O(C)?(A[0]*C[0]+A[1]*C[1])/(O(A)*O(C)):1}function L(A,C){return(A[0]*C[1]<A[1]*C[0]?-1:1)*Math.acos(k(A,C))}function P(A,C){var E=C[1],p=C[2],w=b.mod(b.toRadian(C[3]),Math.PI*2),y=C[4],x=C[5],g=A[0],S=A[1],_=C[6],B=C[7],F=Math.cos(w)*(g-_)/2+Math.sin(w)*(S-B)/2,V=-1*Math.sin(w)*(g-_)/2+Math.cos(w)*(S-B)/2,Z=F*F/(E*E)+V*V/(p*p);Z>1&&(E*=Math.sqrt(Z),p*=Math.sqrt(Z));var X=E*E*(V*V)+p*p*(F*F),U=X?Math.sqrt((E*E*(p*p)-X)/X):1;y===x&&(U*=-1),isNaN(U)&&(U=0);var nt=p?U*E*V/p:0,q=E?U*-p*F/E:0,wt=(g+_)/2+Math.cos(w)*nt-Math.sin(w)*q,ft=(S+B)/2+Math.sin(w)*nt+Math.cos(w)*q,Ot=[(F-nt)/E,(V-q)/p],St=[(-1*F-nt)/E,(-1*V-q)/p],At=L([1,0],Ot),Et=L(Ot,St);return k(Ot,St)<=-1&&(Et=Math.PI),k(Ot,St)>=1&&(Et=0),x===0&&Et>0&&(Et=Et-2*Math.PI),x===1&&Et<0&&(Et=Et+2*Math.PI),{cx:wt,cy:ft,rx:b.isSamePoint(A,[_,B])?0:E,ry:b.isSamePoint(A,[_,B])?0:p,startAngle:At,endAngle:At+Et,xRotation:w,arcFlag:y,sweepFlag:x}}M.default=P},27836:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.addEndArrow=M.addStartArrow=M.getShortenOffset=void 0;var b=d(93470),O=d(63528),k=Math.sin,L=Math.cos,P=Math.atan2,A=Math.PI;function C(x,g,S,_,B,F,V){var Z=g.stroke,X=g.lineWidth,U=S-B,nt=_-F,q=P(nt,U),wt=new O.Path({type:"path",canvas:x.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*L(A/6)+","+10*k(A/6)+" L0,0 L"+10*L(A/6)+",-"+10*k(A/6),stroke:Z,lineWidth:X}});wt.translate(B,F),wt.rotateAtPoint(B,F,q),x.set(V?"startArrowShape":"endArrowShape",wt)}function E(x,g,S,_,B,F,V){var Z=g.startArrow,X=g.endArrow,U=g.stroke,nt=g.lineWidth,q=V?Z:X,wt=q.d,ft=q.fill,Ot=q.stroke,St=q.lineWidth,At=b.__rest(q,["d","fill","stroke","lineWidth"]),Et=S-B,bt=_-F,Lt=P(bt,Et);wt&&(B=B-L(Lt)*wt,F=F-k(Lt)*wt);var Bt=new O.Path({type:"path",canvas:x.get("canvas"),isArrowShape:!0,attrs:b.__assign(b.__assign({},At),{stroke:Ot||U,lineWidth:St||nt,fill:ft})});Bt.translate(B,F),Bt.rotateAtPoint(B,F,Lt),x.set(V?"startArrowShape":"endArrowShape",Bt)}function p(x,g,S,_,B){var F=P(_-g,S-x);return{dx:L(F)*B,dy:k(F)*B}}M.getShortenOffset=p;function w(x,g,S,_,B,F){typeof g.startArrow=="object"?E(x,g,S,_,B,F,!0):g.startArrow?C(x,g,S,_,B,F,!0):x.set("startArrowShape",null)}M.addStartArrow=w;function y(x,g,S,_,B,F){typeof g.endArrow=="object"?E(x,g,S,_,B,F,!1):g.endArrow?C(x,g,S,_,B,F,!1):x.set("startArrowShape",null)}M.addEndArrow=y},70530:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.mergeView=M.getMergedRegion=M.getRefreshRegion=M.refreshElement=M.drawPath=M.clearChanged=M.checkChildrenRefresh=M.checkRefresh=M.drawChildren=M.applyAttrsToContext=void 0;var b=d(49242),O=d(93377),k=d(44706),L=d(21927),P=d(27836),A={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function C(Z,X){var U=X.attr();for(var nt in U){var q=U[nt],wt=A[nt]?A[nt]:nt;wt==="matrix"&&q?Z.transform(q[0],q[1],q[3],q[4],q[6],q[7]):wt==="lineDash"&&Z.setLineDash?b.isArray(q)&&Z.setLineDash(q):(wt==="strokeStyle"||wt==="fillStyle"?q=O.parseStyle(Z,X,q):wt==="globalAlpha"&&(q=q*Z.globalAlpha),Z[wt]=q)}}M.applyAttrsToContext=C;function E(Z,X,U){for(var nt=0;nt<X.length;nt++){var q=X[nt];q.cfg.visible?q.draw(Z,U):q.skipDraw()}}M.drawChildren=E;function p(Z,X,U){var nt=Z.get("refreshElements");b.each(nt,function(q){if(q!==Z)for(var wt=q.cfg.parent;wt&&wt!==Z&&!wt.cfg.refresh;)wt.cfg.refresh=!0,wt=wt.cfg.parent}),nt[0]===Z?x(X,U):w(X,U)}M.checkRefresh=p;function w(Z,X){for(var U=0;U<Z.length;U++){var nt=Z[U];if(nt.cfg.visible)if(nt.cfg.hasChanged)nt.cfg.refresh=!0,nt.isGroup()&&x(nt.cfg.children,X);else if(nt.cfg.refresh)nt.isGroup()&&w(nt.cfg.children,X);else{var q=g(nt,X);nt.cfg.refresh=q,q&&nt.isGroup()&&w(nt.cfg.children,X)}}}M.checkChildrenRefresh=w;function y(Z){for(var X=0;X<Z.length;X++){var U=Z[X];U.cfg.hasChanged=!1,U.isGroup()&&!U.destroyed&&y(U.cfg.children)}}M.clearChanged=y;function x(Z,X){for(var U=0;U<Z.length;U++){var nt=Z[U];!nt.cfg.visible||(nt.cfg.refresh=!0,nt.isGroup()&&x(nt.get("children"),X))}}function g(Z,X){var U=Z.cfg.cacheCanvasBBox,nt=Z.cfg.isInView&&U&&L.intersectRect(U,X);return nt}function S(Z,X,U,nt){var q=U.path,wt=U.startArrow,ft=U.endArrow;if(!!q){var Ot=[0,0],St=[0,0],At={dx:0,dy:0};X.beginPath();for(var Et=0;Et<q.length;Et++){var bt=q[Et],Lt=bt[0];if(Et===0&&wt&&wt.d){var Bt=Z.getStartTangent();At=P.getShortenOffset(Bt[0][0],Bt[0][1],Bt[1][0],Bt[1][1],wt.d)}else if(Et===q.length-2&&q[Et+1][0]==="Z"&&ft&&ft.d){var gt=q[Et+1];if(gt[0]==="Z"){var Bt=Z.getEndTangent();At=P.getShortenOffset(Bt[0][0],Bt[0][1],Bt[1][0],Bt[1][1],ft.d)}}else if(Et===q.length-1&&ft&&ft.d&&q[0]!=="Z"){var Bt=Z.getEndTangent();At=P.getShortenOffset(Bt[0][0],Bt[0][1],Bt[1][0],Bt[1][1],ft.d)}var J=At.dx,I=At.dy;switch(Lt){case"M":X.moveTo(bt[1]-J,bt[2]-I),St=[bt[1],bt[2]];break;case"L":X.lineTo(bt[1]-J,bt[2]-I);break;case"Q":X.quadraticCurveTo(bt[1],bt[2],bt[3]-J,bt[4]-I);break;case"C":X.bezierCurveTo(bt[1],bt[2],bt[3],bt[4],bt[5]-J,bt[6]-I);break;case"A":{var u=void 0;nt?(u=nt[Et],u||(u=k.default(Ot,bt),nt[Et]=u)):u=k.default(Ot,bt);var R=u.cx,N=u.cy,z=u.rx,j=u.ry,K=u.startAngle,at=u.endAngle,Tt=u.xRotation,pt=u.sweepFlag;if(X.ellipse)X.ellipse(R,N,z,j,Tt,K,at,1-pt);else{var Q=z>j?z:j,vt=z>j?1:z/j,et=z>j?j/z:1;X.translate(R,N),X.rotate(Tt),X.scale(vt,et),X.arc(0,0,Q,K,at,1-pt),X.scale(1/vt,1/et),X.rotate(-Tt),X.translate(-R,-N)}break}case"Z":X.closePath();break;default:break}if(Lt==="Z")Ot=St;else{var it=bt.length;Ot=[bt[it-2],bt[it-1]]}}}}M.drawPath=S;function _(Z,X){var U=Z.get("canvas");U&&(X==="remove"&&(Z._cacheCanvasBBox=Z.get("cacheCanvasBBox")),Z.get("hasChanged")||(Z.set("hasChanged",!0),Z.cfg.parent&&Z.cfg.parent.get("hasChanged")||(U.refreshElement(Z,X,U),U.get("autoDraw")&&U.draw())))}M.refreshElement=_;function B(Z){var X;if(Z.destroyed)X=Z._cacheCanvasBBox;else{var U=Z.get("cacheCanvasBBox"),nt=U&&!!(U.width&&U.height),q=Z.getCanvasBBox(),wt=q&&!!(q.width&&q.height);nt&&wt?X=L.mergeRegion(U,q):nt?X=U:wt&&(X=q)}return X}M.getRefreshRegion=B;function F(Z){if(!Z.length)return null;var X=[],U=[],nt=[],q=[];return b.each(Z,function(wt){var ft=B(wt);ft&&(X.push(ft.minX),U.push(ft.minY),nt.push(ft.maxX),q.push(ft.maxY))}),{minX:b.min(X),minY:b.min(U),maxX:b.max(nt),maxY:b.max(q)}}M.getMergedRegion=F;function V(Z,X){return!Z||!X||!L.intersectRect(Z,X)?null:{minX:Math.max(Z.minX,X.minX),minY:Math.max(Z.minY,X.minY),maxX:Math.min(Z.maxX,X.maxX),maxY:Math.min(Z.maxY,X.maxY)}}M.mergeView=V},77096:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.getShape=void 0;var b=d(85622);function O(A,C){if(C){var E=b.invert(C);return b.multiplyVec2(E,A)}return A}function k(A,C,E){var p=A.getTotalMatrix();if(p){var w=O([C,E,1],p),y=w[0],x=w[1];return[y,x]}return[C,E]}function L(A,C,E){if(A.isCanvas&&A.isCanvas())return!0;if(!b.isAllowCapture(A)||A.cfg.isInView===!1)return!1;if(A.cfg.clipShape){var p=k(A,C,E),w=p[0],y=p[1];if(A.isClipped(w,y))return!1}var x=A.cfg.cacheCanvasBBox||A.getCanvasBBox();return C>=x.minX&&C<=x.maxX&&E>=x.minY&&E<=x.maxY}function P(A,C,E){if(!L(A,C,E))return null;for(var p=null,w=A.getChildren(),y=w.length,x=y-1;x>=0;x--){var g=w[x];if(g.isGroup())p=P(g,C,E);else if(L(g,C,E)){var S=g,_=k(g,C,E),B=_[0],F=_[1];S.isInShape(B,F)&&(p=g)}if(p)break}return p}M.getShape=P},31977:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(85622);function O(k,L,P){var A=b.getOffScreenContext();return k.createPath(A),A.isPointInPath(L,P)}M.default=O},50970:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=1e-6;function b(L){return Math.abs(L)<d?0:L<0?-1:1}function O(L,P,A){return(A[0]-L[0])*(P[1]-L[1])==(P[0]-L[0])*(A[1]-L[1])&&Math.min(L[0],P[0])<=A[0]&&A[0]<=Math.max(L[0],P[0])&&Math.min(L[1],P[1])<=A[1]&&A[1]<=Math.max(L[1],P[1])}function k(L,P,A){var C=!1,E=L.length;if(E<=2)return!1;for(var p=0;p<E;p++){var w=L[p],y=L[(p+1)%E];if(O(w,y,[P,A]))return!0;b(w[1]-A)>0!=b(y[1]-A)>0&&b(P-(A-w[1])*(w[0]-y[0])/(w[1]-y[1])-w[0])<0&&(C=!C)}return C}M.default=k},70122:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(21927);function O(k,L,P,A,C,E,p,w){var y=(Math.atan2(w-L,p-k)+Math.PI*2)%(Math.PI*2);if(y<A||y>C)return!1;var x={x:k+P*Math.cos(y),y:L+P*Math.sin(y)};return b.distance(x.x,x.y,p,w)<=E/2}M.default=O},63161:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(89838);function O(k,L,P,A,C,E,p){var w=Math.min(k,P),y=Math.max(k,P),x=Math.min(L,A),g=Math.max(L,A),S=C/2;return E>=w-S&&E<=y+S&&p>=x-S&&p<=g+S?b.Line.pointToLine(k,L,P,A,E,p)<=C/2:!1}M.default=O},39761:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(63161);function O(k,L,P,A,C){var E=k.length;if(E<2)return!1;for(var p=0;p<E-1;p++){var w=k[p][0],y=k[p][1],x=k[p+1][0],g=k[p+1][1];if(b.default(w,y,x,g,L,P,A))return!0}if(C){var S=k[0],_=k[E-1];if(b.default(S[0],S[1],_[0],_[1],L,P,A))return!0}return!1}M.default=O},46647:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(63161),O=d(70122);function k(L,P,A,C,E,p,w,y){var x=p/2;return b.default(L+E,P,L+A-E,P,p,w,y)||b.default(L+A,P+E,L+A,P+C-E,p,w,y)||b.default(L+A-E,P+C,L+E,P+C,p,w,y)||b.default(L,P+C-E,L,P+E,p,w,y)||O.default(L+A-E,P+E,E,1.5*Math.PI,2*Math.PI,p,w,y)||O.default(L+A-E,P+C-E,E,0,.5*Math.PI,p,w,y)||O.default(L+E,P+C-E,E,.5*Math.PI,Math.PI,p,w,y)||O.default(L+E,P+E,E,Math.PI,1.5*Math.PI,p,w,y)}M.default=k},21897:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(21927);function O(k,L,P,A,C,E,p){var w=C/2;return b.inBox(k-w,L-w,P,C,E,p)||b.inBox(k+P-w,L-w,C,A,E,p)||b.inBox(k+w,L+A-w,P,C,E,p)||b.inBox(k-w,L+w,C,A,E,p)}M.default=O},93377:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.parseRadius=M.parseStyle=M.parsePattern=M.parseRadialGradient=M.parseLineGradient=void 0;var b=d(21927),O=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,k=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,L=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function A(x,g){var S=x.match(P);b.each(S,function(_){var B=_.split(":");g.addColorStop(B[0],B[1])})}function C(x,g,S){var _=O.exec(S),B=parseFloat(_[1])%360*(Math.PI/180),F=_[2],V=g.getBBox(),Z,X;B>=0&&B<1/2*Math.PI?(Z={x:V.minX,y:V.minY},X={x:V.maxX,y:V.maxY}):1/2*Math.PI<=B&&B<Math.PI?(Z={x:V.maxX,y:V.minY},X={x:V.minX,y:V.maxY}):Math.PI<=B&&B<3/2*Math.PI?(Z={x:V.maxX,y:V.maxY},X={x:V.minX,y:V.minY}):(Z={x:V.minX,y:V.maxY},X={x:V.maxX,y:V.minY});var U=Math.tan(B),nt=U*U,q=(X.x-Z.x+U*(X.y-Z.y))/(nt+1)+Z.x,wt=U*(X.x-Z.x+U*(X.y-Z.y))/(nt+1)+Z.y,ft=x.createLinearGradient(Z.x,Z.y,q,wt);return A(F,ft),ft}M.parseLineGradient=C;function E(x,g,S){var _=k.exec(S),B=parseFloat(_[1]),F=parseFloat(_[2]),V=parseFloat(_[3]),Z=_[4];if(V===0){var X=Z.match(P);return X[X.length-1].split(":")[1]}var U=g.getBBox(),nt=U.maxX-U.minX,q=U.maxY-U.minY,wt=Math.sqrt(nt*nt+q*q)/2,ft=x.createRadialGradient(U.minX+nt*B,U.minY+q*F,0,U.minX+nt/2,U.minY+q/2,V*wt);return A(Z,ft),ft}M.parseRadialGradient=E;function p(x,g,S){if(g.get("patternSource")&&g.get("patternSource")===S)return g.get("pattern");var _,B,F=L.exec(S),V=F[1],Z=F[2];function X(){_=x.createPattern(B,V),g.set("pattern",_),g.set("patternSource",S)}switch(V){case"a":V="repeat";break;case"x":V="repeat-x";break;case"y":V="repeat-y";break;case"n":V="no-repeat";break;default:V="no-repeat"}return B=new Image,Z.match(/^data:/i)||(B.crossOrigin="Anonymous"),B.src=Z,B.complete?X():(B.onload=X,B.src=B.src),_}M.parsePattern=p;function w(x,g,S){var _=g.getBBox();if(isNaN(_.x)||isNaN(_.y)||isNaN(_.width)||isNaN(_.height))return S;if(b.isString(S)){if(S[1]==="("||S[2]==="("){if(S[0]==="l")return C(x,g,S);if(S[0]==="r")return E(x,g,S);if(S[0]==="p")return p(x,g,S)}return S}if(S instanceof CanvasPattern)return S}M.parseStyle=w;function y(x){var g=0,S=0,_=0,B=0;return b.isArray(x)?x.length===1?g=S=_=B=x[0]:x.length===2?(g=_=x[0],S=B=x[1]):x.length===3?(g=x[0],S=B=x[1],_=x[2]):(g=x[0],S=x[1],_=x[2],B=x[3]):g=S=_=B=x,[g,S,_,B]}M.parseRadius=y},55531:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(93470),O=d(85622),k=d(89838),L=d(89838),P=d(77788),A=d(77160),C=d(21927),E=d(63161),p=d(70122),w=P.ext.transform;function y(S){for(var _=!1,B=S.length,F=0;F<B;F++){var V=S[F],Z=V[0];if(Z==="C"||Z==="A"||Z==="Q"){_=!0;break}}return _}function x(S,_,B,F,V){for(var Z=!1,X=_/2,U=0;U<S.length;U++){var nt=S[U],q=nt.currentPoint,wt=nt.params,ft=nt.prePoint,Ot=nt.box;if(!(Ot&&!C.inBox(Ot.x-X,Ot.y-X,Ot.width+_,Ot.height+_,B,F))){switch(nt.command){case"L":case"Z":Z=E.default(ft[0],ft[1],q[0],q[1],_,B,F);break;case"Q":var St=k.Quad.pointDistance(ft[0],ft[1],wt[1],wt[2],wt[3],wt[4],B,F);Z=St<=_/2;break;case"C":var At=L.Cubic.pointDistance(ft[0],ft[1],wt[1],wt[2],wt[3],wt[4],wt[5],wt[6],B,F,V);Z=At<=_/2;break;case"A":var Et=nt.arcParams,bt=Et.cx,Lt=Et.cy,Bt=Et.rx,gt=Et.ry,J=Et.startAngle,I=Et.endAngle,u=Et.xRotation,R=[B,F,1],N=Bt>gt?Bt:gt,z=Bt>gt?1:Bt/gt,j=Bt>gt?gt/Bt:1,K=w(null,[["t",-bt,-Lt],["r",-u],["s",1/z,1/j]]);A.transformMat3(R,R,K),Z=p.default(0,0,N,J,I,_,R[0],R[1]);break;default:break}if(Z)break}}return Z}function g(S){for(var _=S.length,B=[],F=[],V=[],Z=0;Z<_;Z++){var X=S[Z],U=X[0];U==="M"?(V.length&&(F.push(V),V=[]),V.push([X[1],X[2]])):U==="Z"?V.length&&(B.push(V),V=[]):V.push([X[1],X[2]])}return V.length>0&&F.push(V),{polygons:B,polylines:F}}M.default=b.__assign({hasArc:y,extractPolygons:g,isPointInStroke:x},O.PathUtil)},21927:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.isSamePoint=M.mergeRegion=M.intersectRect=M.inBox=M.distance=M.getPixelRatio=void 0;function b(){return window?window.devicePixelRatio:1}M.getPixelRatio=b;function O(E,p,w,y){var x=E-w,g=p-y;return Math.sqrt(x*x+g*g)}M.distance=O;function k(E,p,w,y,x,g){return x>=E&&x<=E+w&&g>=p&&g<=p+y}M.inBox=k;function L(E,p){return!(p.minX>E.maxX||p.maxX<E.minX||p.minY>E.maxY||p.maxY<E.minY)}M.intersectRect=L;function P(E,p){return!E||!p?E||p:{minX:Math.min(E.minX,p.minX),minY:Math.min(E.minY,p.minY),maxX:Math.max(E.maxX,p.maxX),maxY:Math.max(E.maxY,p.maxY)}}M.mergeRegion=P;function A(E,p){return E[0]===p[0]&&E[1]===p[1]}M.isSamePoint=A;var C=d(49242);Object.defineProperty(M,"isNil",{enumerable:!0,get:function(){return C.isNil}}),Object.defineProperty(M,"isString",{enumerable:!0,get:function(){return C.isString}}),Object.defineProperty(M,"isFunction",{enumerable:!0,get:function(){return C.isFunction}}),Object.defineProperty(M,"isArray",{enumerable:!0,get:function(){return C.isArray}}),Object.defineProperty(M,"each",{enumerable:!0,get:function(){return C.each}}),Object.defineProperty(M,"toRadian",{enumerable:!0,get:function(){return C.toRadian}}),Object.defineProperty(M,"mod",{enumerable:!0,get:function(){return C.mod}}),Object.defineProperty(M,"isNumberEqual",{enumerable:!0,get:function(){return C.isNumberEqual}}),Object.defineProperty(M,"requestAnimationFrame",{enumerable:!0,get:function(){return C.requestAnimationFrame}}),Object.defineProperty(M,"clearAnimationFrame",{enumerable:!0,get:function(){return C.clearAnimationFrame}})},77788:function(xt,M,d){"use strict";d.r(M),d.d(M,{ext:function(){return b},mat3:function(){return O},vec2:function(){return k},vec3:function(){return L}});var b={};d.r(b),d.d(b,{angleTo:function(){return y},direction:function(){return w},leftRotate:function(){return A},leftScale:function(){return C},leftTranslate:function(){return P},transform:function(){return p},vertical:function(){return x}});var O=d(35600),k=d(31437),L=d(77160);function P(g,S,_){var B=[0,0,0,0,0,0,0,0,0];return O.fromTranslation(B,_),O.multiply(g,B,S)}function A(g,S,_){var B=[0,0,0,0,0,0,0,0,0];return O.fromRotation(B,_),O.multiply(g,B,S)}function C(g,S,_){var B=[0,0,0,0,0,0,0,0,0];return O.fromScaling(B,_),O.multiply(g,B,S)}function E(g,S,_){return O.multiply(g,_,S)}function p(g,S){for(var _=g?[].concat(g):[1,0,0,0,1,0,0,0,1],B=0,F=S.length;B<F;B++){var V=S[B];switch(V[0]){case"t":P(_,_,[V[1],V[2]]);break;case"s":C(_,_,[V[1],V[2]]);break;case"r":A(_,_,V[1]);break;case"m":E(_,_,V[1]);break;default:break}}return _}function w(g,S){return g[0]*S[1]-S[0]*g[1]}function y(g,S,_){var B=k.angle(g,S),F=w(g,S)>=0;return _?F?Math.PI*2-B:B:F?B:Math.PI*2-B}function x(g,S,_){return _?(g[0]=S[1],g[1]=-1*S[0]):(g[0]=-1*S[1],g[1]=S[0]),g}},93470:function(xt,M,d){"use strict";d.r(M),d.d(M,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return L},__decorate:function(){return P},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return x},__generator:function(){return g},__createBinding:function(){return S},__exportStar:function(){return _},__values:function(){return B},__read:function(){return F},__spread:function(){return V},__spreadArrays:function(){return Z},__spreadArray:function(){return X},__await:function(){return U},__asyncGenerator:function(){return nt},__asyncDelegator:function(){return q},__asyncValues:function(){return wt},__makeTemplateObject:function(){return ft},__importStar:function(){return St},__importDefault:function(){return At},__classPrivateFieldGet:function(){return Et},__classPrivateFieldSet:function(){return bt},__classPrivateFieldIn:function(){return Lt},__addDisposableResource:function(){return Bt},__disposeResources:function(){return J}});var b=function(I,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,N){R.__proto__=N}||function(R,N){for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(R[z]=N[z])},b(I,u)};function O(I,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");b(I,u);function R(){this.constructor=I}I.prototype=u===null?Object.create(u):(R.prototype=u.prototype,new R)}var k=function(){return k=Object.assign||function(u){for(var R,N=1,z=arguments.length;N<z;N++){R=arguments[N];for(var j in R)Object.prototype.hasOwnProperty.call(R,j)&&(u[j]=R[j])}return u},k.apply(this,arguments)};function L(I,u){var R={};for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&u.indexOf(N)<0&&(R[N]=I[N]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,N=Object.getOwnPropertySymbols(I);z<N.length;z++)u.indexOf(N[z])<0&&Object.prototype.propertyIsEnumerable.call(I,N[z])&&(R[N[z]]=I[N[z]]);return R}function P(I,u,R,N){var z=arguments.length,j=z<3?u:N===null?N=Object.getOwnPropertyDescriptor(u,R):N,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(I,u,R,N);else for(var at=I.length-1;at>=0;at--)(K=I[at])&&(j=(z<3?K(j):z>3?K(u,R,j):K(u,R))||j);return z>3&&j&&Object.defineProperty(u,R,j),j}function A(I,u){return function(R,N){u(R,N,I)}}function C(I,u,R,N,z,j){function K(mt){if(mt!==void 0&&typeof mt!="function")throw new TypeError("Function expected");return mt}for(var at=N.kind,Tt=at==="getter"?"get":at==="setter"?"set":"value",pt=!u&&I?N.static?I:I.prototype:null,Q=u||(pt?Object.getOwnPropertyDescriptor(pt,N.name):{}),vt,et=!1,it=R.length-1;it>=0;it--){var ct={};for(var rt in N)ct[rt]=rt==="access"?{}:N[rt];for(var rt in N.access)ct.access[rt]=N.access[rt];ct.addInitializer=function(mt){if(et)throw new TypeError("Cannot add initializers after decoration has completed");j.push(K(mt||null))};var tt=(0,R[it])(at==="accessor"?{get:Q.get,set:Q.set}:Q[Tt],ct);if(at==="accessor"){if(tt===void 0)continue;if(tt===null||typeof tt!="object")throw new TypeError("Object expected");(vt=K(tt.get))&&(Q.get=vt),(vt=K(tt.set))&&(Q.set=vt),(vt=K(tt.init))&&z.unshift(vt)}else(vt=K(tt))&&(at==="field"?z.unshift(vt):Q[Tt]=vt)}pt&&Object.defineProperty(pt,N.name,Q),et=!0}function E(I,u,R){for(var N=arguments.length>2,z=0;z<u.length;z++)R=N?u[z].call(I,R):u[z].call(I);return N?R:void 0}function p(I){return typeof I=="symbol"?I:"".concat(I)}function w(I,u,R){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(I,"name",{configurable:!0,value:R?"".concat(R," ",u):u})}function y(I,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,u)}function x(I,u,R,N){function z(j){return j instanceof R?j:new R(function(K){K(j)})}return new(R||(R=Promise))(function(j,K){function at(Q){try{pt(N.next(Q))}catch(vt){K(vt)}}function Tt(Q){try{pt(N.throw(Q))}catch(vt){K(vt)}}function pt(Q){Q.done?j(Q.value):z(Q.value).then(at,Tt)}pt((N=N.apply(I,u||[])).next())})}function g(I,u){var R={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},N,z,j,K;return K={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function at(pt){return function(Q){return Tt([pt,Q])}}function Tt(pt){if(N)throw new TypeError("Generator is already executing.");for(;K&&(K=0,pt[0]&&(R=0)),R;)try{if(N=1,z&&(j=pt[0]&2?z.return:pt[0]?z.throw||((j=z.return)&&j.call(z),0):z.next)&&!(j=j.call(z,pt[1])).done)return j;switch(z=0,j&&(pt=[pt[0]&2,j.value]),pt[0]){case 0:case 1:j=pt;break;case 4:return R.label++,{value:pt[1],done:!1};case 5:R.label++,z=pt[1],pt=[0];continue;case 7:pt=R.ops.pop(),R.trys.pop();continue;default:if(j=R.trys,!(j=j.length>0&&j[j.length-1])&&(pt[0]===6||pt[0]===2)){R=0;continue}if(pt[0]===3&&(!j||pt[1]>j[0]&&pt[1]<j[3])){R.label=pt[1];break}if(pt[0]===6&&R.label<j[1]){R.label=j[1],j=pt;break}if(j&&R.label<j[2]){R.label=j[2],R.ops.push(pt);break}j[2]&&R.ops.pop(),R.trys.pop();continue}pt=u.call(I,R)}catch(Q){pt=[6,Q],z=0}finally{N=j=0}if(pt[0]&5)throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}}var S=Object.create?function(I,u,R,N){N===void 0&&(N=R);var z=Object.getOwnPropertyDescriptor(u,R);(!z||("get"in z?!u.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return u[R]}}),Object.defineProperty(I,N,z)}:function(I,u,R,N){N===void 0&&(N=R),I[N]=u[R]};function _(I,u){for(var R in I)R!=="default"&&!Object.prototype.hasOwnProperty.call(u,R)&&S(u,I,R)}function B(I){var u=typeof Symbol=="function"&&Symbol.iterator,R=u&&I[u],N=0;if(R)return R.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&N>=I.length&&(I=void 0),{value:I&&I[N++],done:!I}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(I,u){var R=typeof Symbol=="function"&&I[Symbol.iterator];if(!R)return I;var N=R.call(I),z,j=[],K;try{for(;(u===void 0||u-- >0)&&!(z=N.next()).done;)j.push(z.value)}catch(at){K={error:at}}finally{try{z&&!z.done&&(R=N.return)&&R.call(N)}finally{if(K)throw K.error}}return j}function V(){for(var I=[],u=0;u<arguments.length;u++)I=I.concat(F(arguments[u]));return I}function Z(){for(var I=0,u=0,R=arguments.length;u<R;u++)I+=arguments[u].length;for(var N=Array(I),z=0,u=0;u<R;u++)for(var j=arguments[u],K=0,at=j.length;K<at;K++,z++)N[z]=j[K];return N}function X(I,u,R){if(R||arguments.length===2)for(var N=0,z=u.length,j;N<z;N++)(j||!(N in u))&&(j||(j=Array.prototype.slice.call(u,0,N)),j[N]=u[N]);return I.concat(j||Array.prototype.slice.call(u))}function U(I){return this instanceof U?(this.v=I,this):new U(I)}function nt(I,u,R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=R.apply(I,u||[]),z,j=[];return z={},K("next"),K("throw"),K("return"),z[Symbol.asyncIterator]=function(){return this},z;function K(et){N[et]&&(z[et]=function(it){return new Promise(function(ct,rt){j.push([et,it,ct,rt])>1||at(et,it)})})}function at(et,it){try{Tt(N[et](it))}catch(ct){vt(j[0][3],ct)}}function Tt(et){et.value instanceof U?Promise.resolve(et.value.v).then(pt,Q):vt(j[0][2],et)}function pt(et){at("next",et)}function Q(et){at("throw",et)}function vt(et,it){et(it),j.shift(),j.length&&at(j[0][0],j[0][1])}}function q(I){var u,R;return u={},N("next"),N("throw",function(z){throw z}),N("return"),u[Symbol.iterator]=function(){return this},u;function N(z,j){u[z]=I[z]?function(K){return(R=!R)?{value:U(I[z](K)),done:!1}:j?j(K):K}:j}}function wt(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=I[Symbol.asyncIterator],R;return u?u.call(I):(I=typeof B=="function"?B(I):I[Symbol.iterator](),R={},N("next"),N("throw"),N("return"),R[Symbol.asyncIterator]=function(){return this},R);function N(j){R[j]=I[j]&&function(K){return new Promise(function(at,Tt){K=I[j](K),z(at,Tt,K.done,K.value)})}}function z(j,K,at,Tt){Promise.resolve(Tt).then(function(pt){j({value:pt,done:at})},K)}}function ft(I,u){return Object.defineProperty?Object.defineProperty(I,"raw",{value:u}):I.raw=u,I}var Ot=Object.create?function(I,u){Object.defineProperty(I,"default",{enumerable:!0,value:u})}:function(I,u){I.default=u};function St(I){if(I&&I.__esModule)return I;var u={};if(I!=null)for(var R in I)R!=="default"&&Object.prototype.hasOwnProperty.call(I,R)&&S(u,I,R);return Ot(u,I),u}function At(I){return I&&I.__esModule?I:{default:I}}function Et(I,u,R,N){if(R==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?I!==u||!N:!u.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return R==="m"?N:R==="a"?N.call(I):N?N.value:u.get(I)}function bt(I,u,R,N,z){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!z)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?I!==u||!z:!u.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?z.call(I,R):z?z.value=R:u.set(I,R),R}function Lt(I,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof I=="function"?u===I:I.has(u)}function Bt(I,u,R){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var N;if(R){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");N=u[Symbol.asyncDispose]}if(N===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");N=u[Symbol.dispose]}if(typeof N!="function")throw new TypeError("Object not disposable.");I.stack.push({value:u,dispose:N,async:R})}else R&&I.stack.push({async:!0});return u}var gt=typeof SuppressedError=="function"?SuppressedError:function(I,u,R){var N=new Error(R);return N.name="SuppressedError",N.error=I,N.suppressed=u,N};function J(I){function u(N){I.error=I.hasError?new gt(N,I.error,"An error was suppressed during disposal."):N,I.hasError=!0}function R(){for(;I.stack.length;){var N=I.stack.pop();try{var z=N.dispose&&N.dispose.call(N.value);if(N.async)return Promise.resolve(z).then(R,function(j){return u(j),R()})}catch(j){u(j)}}if(I.hasError)throw I.error}return R()}M.default={__extends:O,__assign:k,__rest:L,__decorate:P,__param:A,__metadata:y,__awaiter:x,__generator:g,__createBinding:S,__exportStar:_,__values:B,__read:F,__spread:V,__spreadArrays:Z,__spreadArray:X,__await:U,__asyncGenerator:nt,__asyncDelegator:q,__asyncValues:wt,__makeTemplateObject:ft,__importStar:St,__importDefault:At,__classPrivateFieldGet:Et,__classPrivateFieldSet:bt,__classPrivateFieldIn:Lt,__addDisposableResource:Bt,__disposeResources:J}},70673:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(58977),k=d(85622),L=d(65712),P=d(98820),A=d(50063),C=d(87596),E=d(4206),p=d(11694),w=d(21318),y=function(x){O.__extends(g,x);function g(S){return x.call(this,O.__assign(O.__assign({},S),{autoDraw:!0,renderer:"svg"}))||this}return g.prototype.getShapeBase=function(){return E},g.prototype.getGroupBase=function(){return p.default},g.prototype.getShape=function(S,_,B){var F=B.target||B.srcElement;if(!L.SHAPE_TO_TAGS[F.tagName]){for(var V=F.parentNode;V&&!L.SHAPE_TO_TAGS[V.tagName];)V=V.parentNode;F=V}return this.find(function(Z){return Z.get("el")===F})},g.prototype.createDom=function(){var S=C.createSVGElement("svg"),_=new w.default(S);return S.setAttribute("width",""+this.get("width")),S.setAttribute("height",""+this.get("height")),this.set("context",_),S},g.prototype.onCanvasChange=function(S){var _=this.get("context"),B=this.get("el");if(S==="sort"){var F=this.get("children");F&&F.length&&C.sortDom(this,function(Z,X){return F.indexOf(Z)-F.indexOf(X)?1:0})}else if(S==="clear"){if(B){B.innerHTML="";var V=_.el;V.innerHTML="",B.appendChild(V)}}else S==="matrix"?A.setTransform(this):S==="clip"?A.setClip(this,_):S==="changeSize"&&(B.setAttribute("width",""+this.get("width")),B.setAttribute("height",""+this.get("height")))},g.prototype.draw=function(){var S=this.get("context"),_=this.getChildren();A.setClip(this,S),_.length&&P.drawChildren(S,_)},g}(k.AbstractCanvas);M.Z=y},65712:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.EVENTS=M.SVG_ATTR_MAP=M.SHAPE_TO_TAGS=void 0,M.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},M.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},M.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},9353:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=d(87596),k=function(){function L(P,A){this.cfg={};var C=O.createSVGElement("marker"),E=b.uniqueId("marker_");C.setAttribute("id",E);var p=O.createSVGElement("path");p.setAttribute("stroke",P.stroke||"none"),p.setAttribute("fill",P.fill||"none"),C.appendChild(p),C.setAttribute("overflow","visible"),C.setAttribute("orient","auto-start-reverse"),this.el=C,this.child=p,this.id=E;var w=P[A==="marker-start"?"startArrow":"endArrow"];return this.stroke=P.stroke||"#000",w===!0?this._setDefaultPath(A,p):(this.cfg=w,this._setMarker(P.lineWidth,p)),this}return L.prototype.match=function(){return!1},L.prototype._setDefaultPath=function(P,A){var C=this.el;A.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),C.setAttribute("refX",""+10*Math.cos(Math.PI/6)),C.setAttribute("refY",""+5)},L.prototype._setMarker=function(P,A){var C=this.el,E=this.cfg.path,p=this.cfg.d;b.isArray(E)&&(E=E.map(function(w){return w.join(" ")}).join("")),A.setAttribute("d",E),C.appendChild(A),p&&C.setAttribute("refX",""+p/P)},L.prototype.update=function(P){var A=this.child;A.attr?A.attr("fill",P):A.setAttribute("fill",P)},L}();M.default=k},67926:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=d(87596),k=function(){function L(P){this.type="clip",this.cfg={};var A=O.createSVGElement("clipPath");this.el=A,this.id=b.uniqueId("clip_"),A.id=this.id;var C=P.cfg.el;return A.appendChild(C),this.cfg=P,this}return L.prototype.match=function(){return!1},L.prototype.remove=function(){var P=this.el;P.parentNode.removeChild(P)},L}();M.default=k},10052:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=d(87596),k=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,L=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function A(w){var y=w.match(P);if(!y)return"";var x="";return y.sort(function(g,S){return g=g.split(":"),S=S.split(":"),Number(g[0])-Number(S[0])}),b.each(y,function(g){g=g.split(":"),x+='<stop offset="'+g[0]+'" stop-color="'+g[1]+'"></stop>'}),x}function C(w,y){var x=k.exec(w),g=b.mod(b.toRadian(parseFloat(x[1])),Math.PI*2),S=x[2],_,B;g>=0&&g<.5*Math.PI?(_={x:0,y:0},B={x:1,y:1}):.5*Math.PI<=g&&g<Math.PI?(_={x:1,y:0},B={x:0,y:1}):Math.PI<=g&&g<1.5*Math.PI?(_={x:1,y:1},B={x:0,y:0}):(_={x:0,y:1},B={x:1,y:0});var F=Math.tan(g),V=F*F,Z=(B.x-_.x+F*(B.y-_.y))/(V+1)+_.x,X=F*(B.x-_.x+F*(B.y-_.y))/(V+1)+_.y;y.setAttribute("x1",_.x),y.setAttribute("y1",_.y),y.setAttribute("x2",Z),y.setAttribute("y2",X),y.innerHTML=A(S)}function E(w,y){var x=L.exec(w),g=parseFloat(x[1]),S=parseFloat(x[2]),_=parseFloat(x[3]),B=x[4];y.setAttribute("cx",g),y.setAttribute("cy",S),y.setAttribute("r",_),y.innerHTML=A(B)}var p=function(){function w(y){this.cfg={};var x=null,g=b.uniqueId("gradient_");return y.toLowerCase()[0]==="l"?(x=O.createSVGElement("linearGradient"),C(y,x)):(x=O.createSVGElement("radialGradient"),E(y,x)),x.setAttribute("id",g),this.el=x,this.id=g,this.cfg=y,this}return w.prototype.match=function(y,x){return this.cfg===x},w}();M.default=p},21318:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=d(10052),k=d(96526),L=d(9353),P=d(67926),A=d(10011),C=d(87596),E=function(){function p(w){var y=C.createSVGElement("defs"),x=b.uniqueId("defs_");y.id=x,w.appendChild(y),this.children=[],this.defaultArrow={},this.el=y,this.canvas=w}return p.prototype.find=function(w,y){for(var x=this.children,g=null,S=0;S<x.length;S++)if(x[S].match(w,y)){g=x[S].id;break}return g},p.prototype.findById=function(w){for(var y=this.children,x=null,g=0;g<y.length;g++)if(y[g].id===w){x=y[g];break}return x},p.prototype.add=function(w){this.children.push(w),w.canvas=this.canvas,w.parent=this},p.prototype.getDefaultArrow=function(w,y){var x=w.stroke||w.strokeStyle;if(this.defaultArrow[x])return this.defaultArrow[x].id;var g=new L.default(w,y);return this.defaultArrow[x]=g,this.el.appendChild(g.el),this.add(g),g.id},p.prototype.addGradient=function(w){var y=new O.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addArrow=function(w,y){var x=new L.default(w,y);return this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addShadow=function(w){var y=new k.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addPattern=function(w){var y=new A.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addClip=function(w){var y=new P.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p}();M.default=E},10011:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=d(87596),k=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,L=function(){function P(A){this.cfg={};var C=O.createSVGElement("pattern");C.setAttribute("patternUnits","userSpaceOnUse");var E=O.createSVGElement("image");C.appendChild(E);var p=b.uniqueId("pattern_");C.id=p,this.el=C,this.id=p,this.cfg=A;var w=k.exec(A),y=w[2];E.setAttribute("href",y);var x=new Image;y.match(/^data:/i)||(x.crossOrigin="Anonymous"),x.src=y;function g(){C.setAttribute("width",""+x.width),C.setAttribute("height",""+x.height)}return x.complete?g():(x.onload=g,x.src=x.src),this}return P.prototype.match=function(A,C){return this.cfg===C},P}();M.default=L},96526:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=d(87596),k={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},L={x:"-40%",y:"-40%",width:"200%",height:"200%"},P=function(){function A(C){this.type="filter",this.cfg={},this.type="filter";var E=O.createSVGElement("filter");return b.each(L,function(p,w){E.setAttribute(w,p)}),this.el=E,this.id=b.uniqueId("filter_"),this.el.id=this.id,this.cfg=C,this._parseShadow(C,E),this}return A.prototype.match=function(C,E){if(this.type!==C)return!1;var p=!0,w=this.cfg;return b.each(Object.keys(w),function(y){if(w[y]!==E[y])return p=!1,!1}),p},A.prototype.update=function(C,E){var p=this.cfg;return p[k[C]]=E,this._parseShadow(p,this.el),this},A.prototype._parseShadow=function(C,E){var p=`<feDropShadow
      dx="`+(C.dx||0)+`"
      dy="`+(C.dy||0)+`"
      stdDeviation="`+(C.blur?C.blur/10:0)+`"
      flood-color="`+(C.color?C.color:"#000")+`"
      flood-opacity="`+(C.opacity?C.opacity:1)+`"
      />`;E.innerHTML=p},A}();M.default=P},11694:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(85622),k=d(49242),L=d(4206),P=d(98820),A=d(50063),C=d(65712),E=d(87596),p=function(w){b.__extends(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype.isEntityGroup=function(){return!0},y.prototype.createDom=function(){var x=E.createSVGElement("g");this.set("el",x);var g=this.getParent();if(g){var S=g.get("el");S||(S=g.createDom(),g.set("el",S)),S.appendChild(x)}return x},y.prototype.afterAttrsChange=function(x){w.prototype.afterAttrsChange.call(this,x);var g=this.get("canvas");if(g&&g.get("autoDraw")){var S=g.get("context");this.createPath(S,x)}},y.prototype.onCanvasChange=function(x){P.refreshElement(this,x)},y.prototype.getShapeBase=function(){return L},y.prototype.getGroupBase=function(){return y},y.prototype.draw=function(x){var g=this.getChildren(),S=this.get("el");this.get("destroyed")?S&&S.parentNode.removeChild(S):(S||this.createDom(),A.setClip(this,x),this.createPath(x),g.length&&P.drawChildren(x,g))},y.prototype.createPath=function(x,g){var S=this.attr(),_=this.get("el");k.each(g||S,function(B,F){C.SVG_ATTR_MAP[F]&&_.setAttribute(C.SVG_ATTR_MAP[F],B)}),A.setTransform(this)},y}(O.AbstractGroup);M.default=p},4050:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(85622),k=d(50063),L=d(87596),P=d(98820),A=d(65712),C=d(4206),E=d(11694),p=d(85622),w=function(y){b.__extends(x,y);function x(){var g=y!==null&&y.apply(this,arguments)||this;return g.type="svg",g.canFill=!1,g.canStroke=!1,g}return x.prototype.getDefaultAttrs=function(){var g=y.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},g),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},x.prototype.afterAttrsChange=function(g){y.prototype.afterAttrsChange.call(this,g);var S=this.get("canvas");if(S&&S.get("autoDraw")){var _=S.get("context");this.draw(_,g)}},x.prototype.getShapeBase=function(){return C},x.prototype.getGroupBase=function(){return E.default},x.prototype.onCanvasChange=function(g){P.refreshElement(this,g)},x.prototype.calculateBBox=function(){var g=this.get("el"),S=null;if(g)S=g.getBBox();else{var _=p.getBBoxMethod(this.get("type"));_&&(S=_(this))}if(S){var B=S.x,F=S.y,V=S.width,Z=S.height,X=this.getHitLineWidth(),U=X/2,nt=B-U,q=F-U,wt=B+V+U,ft=F+Z+U;return{x:nt,y:q,minX:nt,minY:q,maxX:wt,maxY:ft,width:V+X,height:Z+X}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},x.prototype.isFill=function(){var g=this.attr(),S=g.fill,_=g.fillStyle;return(S||_||this.isClipShape())&&this.canFill},x.prototype.isStroke=function(){var g=this.attr(),S=g.stroke,_=g.strokeStyle;return(S||_)&&this.canStroke},x.prototype.draw=function(g,S){var _=this.get("el");this.get("destroyed")?_&&_.parentNode.removeChild(_):(_||L.createDom(this),k.setClip(this,g),this.createPath(g,S),this.shadow(g,S),this.strokeAndFill(g,S),this.transform(S))},x.prototype.createPath=function(g,S){},x.prototype.strokeAndFill=function(g,S){var _=S||this.attr(),B=_.fill,F=_.fillStyle,V=_.stroke,Z=_.strokeStyle,X=_.fillOpacity,U=_.strokeOpacity,nt=_.lineWidth,q=this.get("el");this.canFill&&(S?"fill"in _?this._setColor(g,"fill",B):"fillStyle"in _&&this._setColor(g,"fill",F):this._setColor(g,"fill",B||F),X&&q.setAttribute(A.SVG_ATTR_MAP.fillOpacity,X)),this.canStroke&&nt>0&&(S?"stroke"in _?this._setColor(g,"stroke",V):"strokeStyle"in _&&this._setColor(g,"stroke",Z):this._setColor(g,"stroke",V||Z),U&&q.setAttribute(A.SVG_ATTR_MAP.strokeOpacity,U),nt&&q.setAttribute(A.SVG_ATTR_MAP.lineWidth,nt))},x.prototype._setColor=function(g,S,_){var B=this.get("el");if(!_){B.setAttribute(A.SVG_ATTR_MAP[S],"none");return}if(_=_.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(_)){var F=g.find("gradient",_);F||(F=g.addGradient(_)),B.setAttribute(A.SVG_ATTR_MAP[S],"url(#"+F+")")}else if(/^[p,P]{1}[\s]*\(/.test(_)){var F=g.find("pattern",_);F||(F=g.addPattern(_)),B.setAttribute(A.SVG_ATTR_MAP[S],"url(#"+F+")")}else B.setAttribute(A.SVG_ATTR_MAP[S],_)},x.prototype.shadow=function(g,S){var _=this.attr(),B=S||_,F=B.shadowOffsetX,V=B.shadowOffsetY,Z=B.shadowBlur,X=B.shadowColor;(F||V||Z||X)&&k.setShadow(this,g)},x.prototype.transform=function(g){var S=this.attr(),_=(g||S).matrix;_&&k.setTransform(this)},x.prototype.isInShape=function(g,S){return this.isPointInPath(g,S)},x.prototype.isPointInPath=function(g,S){var _=this.get("el"),B=this.get("canvas"),F=B.get("el").getBoundingClientRect(),V=g+F.left,Z=S+F.top,X=document.elementFromPoint(V,Z);return!!(X&&X.isEqualNode(_))},x.prototype.getHitLineWidth=function(){var g=this.attrs,S=g.lineWidth,_=g.lineAppendWidth;return this.isStroke()?S+_:0},x}(O.AbstractShape);M.default=w},14661:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(49242),k=d(65712),L=d(4050),P=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="circle",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,r:0})},C.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");O.each(p||w,function(x,g){g==="x"||g==="y"?y.setAttribute("c"+g,x):k.SVG_ATTR_MAP[g]&&y.setAttribute(k.SVG_ATTR_MAP[g],x)})},C}(L.default);M.default=P},55504:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(49242),k=d(65712),L=d(4050),P=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="dom",E.canFill=!1,E.canStroke=!1,E}return C.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");if(O.each(p||w,function(_,B){k.SVG_ATTR_MAP[B]&&y.setAttribute(k.SVG_ATTR_MAP[B],_)}),typeof w.html=="function"){var x=w.html.call(this,w);if(x instanceof Element||x instanceof HTMLDocument){for(var g=y.childNodes,S=g.length-1;S>=0;S--)y.removeChild(g[S]);y.appendChild(x)}else y.innerHTML=x}else y.innerHTML=w.html},C}(L.default);M.default=P},92502:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(49242),k=d(65712),L=d(4050),P=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="ellipse",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,rx:0,ry:0})},C.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");O.each(p||w,function(x,g){g==="x"||g==="y"?y.setAttribute("c"+g,x):k.SVG_ATTR_MAP[g]&&y.setAttribute(k.SVG_ATTR_MAP[g],x)})},C}(L.default);M.default=P},74729:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(49242),k=d(65712),L=d(4050),P=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="image",E.canFill=!1,E.canStroke=!1,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,width:0,height:0})},C.prototype.createPath=function(E,p){var w=this,y=this.attr(),x=this.get("el");O.each(p||y,function(g,S){S==="img"?w._setImage(y.img):k.SVG_ATTR_MAP[S]&&x.setAttribute(k.SVG_ATTR_MAP[S],g)})},C.prototype.setAttr=function(E,p){this.attrs[E]=p,E==="img"&&this._setImage(p)},C.prototype._setImage=function(E){var p=this.attr(),w=this.get("el");if(O.isString(E))w.setAttribute("href",E);else if(E instanceof window.Image)p.width||(w.setAttribute("width",E.width),this.attr("width",E.width)),p.height||(w.setAttribute("height",E.height),this.attr("height",E.height)),w.setAttribute("href",E.src);else if(E instanceof HTMLElement&&O.isString(E.nodeName)&&E.nodeName.toUpperCase()==="CANVAS")w.setAttribute("href",E.toDataURL());else if(E instanceof ImageData){var y=document.createElement("canvas");y.setAttribute("width",""+E.width),y.setAttribute("height",""+E.height),y.getContext("2d").putImageData(E,0,0),p.width||(w.setAttribute("width",""+E.width),this.attr("width",E.width)),p.height||(w.setAttribute("height",""+E.height),this.attr("height",E.height)),w.setAttribute("href",y.toDataURL())}},C}(L.default);M.default=P},4206:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(4050);Object.defineProperty(M,"Base",{enumerable:!0,get:function(){return b.default}});var O=d(14661);Object.defineProperty(M,"Circle",{enumerable:!0,get:function(){return O.default}});var k=d(55504);Object.defineProperty(M,"Dom",{enumerable:!0,get:function(){return k.default}});var L=d(92502);Object.defineProperty(M,"Ellipse",{enumerable:!0,get:function(){return L.default}});var P=d(74729);Object.defineProperty(M,"Image",{enumerable:!0,get:function(){return P.default}});var A=d(34870);Object.defineProperty(M,"Line",{enumerable:!0,get:function(){return A.default}});var C=d(59408);Object.defineProperty(M,"Marker",{enumerable:!0,get:function(){return C.default}});var E=d(51076);Object.defineProperty(M,"Path",{enumerable:!0,get:function(){return E.default}});var p=d(36361);Object.defineProperty(M,"Polygon",{enumerable:!0,get:function(){return p.default}});var w=d(46406);Object.defineProperty(M,"Polyline",{enumerable:!0,get:function(){return w.default}});var y=d(71320);Object.defineProperty(M,"Rect",{enumerable:!0,get:function(){return y.default}});var x=d(35726);Object.defineProperty(M,"Text",{enumerable:!0,get:function(){return x.default}})},34870:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(89838),k=d(49242),L=d(65712),P=d(4050),A=function(C){b.__extends(E,C);function E(){var p=C!==null&&C.apply(this,arguments)||this;return p.type="line",p.canFill=!1,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=C.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.createPath=function(p,w){var y=this.attr(),x=this.get("el");k.each(w||y,function(g,S){if(S==="startArrow"||S==="endArrow")if(g){var _=k.isObject(g)?p.addArrow(y,L.SVG_ATTR_MAP[S]):p.getDefaultArrow(y,L.SVG_ATTR_MAP[S]);x.setAttribute(L.SVG_ATTR_MAP[S],"url(#"+_+")")}else x.removeAttribute(L.SVG_ATTR_MAP[S]);else L.SVG_ATTR_MAP[S]&&x.setAttribute(L.SVG_ATTR_MAP[S],g)})},E.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,y=p.y1,x=p.x2,g=p.y2;return O.Line.length(w,y,x,g)},E.prototype.getPoint=function(p){var w=this.attr(),y=w.x1,x=w.y1,g=w.x2,S=w.y2;return O.Line.pointAt(y,x,g,S,p)},E}(P.default);M.default=A},59408:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(49242),k=d(4050),L=d(22505),P=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="marker",E.canFill=!0,E.canStroke=!0,E}return C.prototype.createPath=function(E){var p=this.get("el");p.setAttribute("d",this._assembleMarker())},C.prototype._assembleMarker=function(){var E=this._getPath();return O.isArray(E)?E.map(function(p){return p.join(" ")}).join(""):E},C.prototype._getPath=function(){var E=this.attr(),p=E.x,w=E.y,y=E.r||E.radius,x=E.symbol||"circle",g;return O.isFunction(x)?g=x:g=L.default.get(x),g?g(p,w,y):(console.warn(g+" symbol is not exist."),null)},C.symbolsFactory=L.default,C}(k.default);M.default=P},22505:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d={circle:function(b,O,k){return[["M",b,O],["m",-k,0],["a",k,k,0,1,0,k*2,0],["a",k,k,0,1,0,-k*2,0]]},square:function(b,O,k){return[["M",b-k,O-k],["L",b+k,O-k],["L",b+k,O+k],["L",b-k,O+k],["Z"]]},diamond:function(b,O,k){return[["M",b-k,O],["L",b,O-k],["L",b+k,O],["L",b,O+k],["Z"]]},triangle:function(b,O,k){var L=k*Math.sin(1/3*Math.PI);return[["M",b-k,O+L],["L",b,O-L],["L",b+k,O+L],["z"]]},triangleDown:function(b,O,k){var L=k*Math.sin(1/3*Math.PI);return[["M",b-k,O-L],["L",b+k,O-L],["L",b,O+L],["Z"]]}};M.default={get:function(b){return d[b]},register:function(b,O){d[b]=O},remove:function(b){delete d[b]},getAll:function(){return d}}},51076:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(49242),k=d(65712),L=d(4050),P=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="path",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{startArrow:!1,endArrow:!1})},C.prototype.createPath=function(E,p){var w=this,y=this.attr(),x=this.get("el");O.each(p||y,function(g,S){if(S==="path"&&O.isArray(g))x.setAttribute("d",w._formatPath(g));else if(S==="startArrow"||S==="endArrow")if(g){var _=O.isObject(g)?E.addArrow(y,k.SVG_ATTR_MAP[S]):E.getDefaultArrow(y,k.SVG_ATTR_MAP[S]);x.setAttribute(k.SVG_ATTR_MAP[S],"url(#"+_+")")}else x.removeAttribute(k.SVG_ATTR_MAP[S]);else k.SVG_ATTR_MAP[S]&&x.setAttribute(k.SVG_ATTR_MAP[S],g)})},C.prototype._formatPath=function(E){var p=E.map(function(w){return w.join(" ")}).join("");return~p.indexOf("NaN")?"":p},C.prototype.getTotalLength=function(){var E=this.get("el");return E?E.getTotalLength():null},C.prototype.getPoint=function(E){var p=this.get("el"),w=this.getTotalLength();if(w===0)return null;var y=p?p.getPointAtLength(E*w):null;return y?{x:y.x,y:y.y}:null},C}(L.default);M.default=P},36361:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(49242),k=d(65712),L=d(4050),P=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="polygon",E.canFill=!0,E.canStroke=!0,E}return C.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");O.each(p||w,function(x,g){g==="points"&&O.isArray(x)&&x.length>=2?y.setAttribute("points",x.map(function(S){return S[0]+","+S[1]}).join(" ")):k.SVG_ATTR_MAP[g]&&y.setAttribute(k.SVG_ATTR_MAP[g],x)})},C}(L.default);M.default=P},46406:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(89838),k=d(89838),L=d(49242),P=d(65712),A=d(4050),C=function(E){b.__extends(p,E);function p(){var w=E!==null&&E.apply(this,arguments)||this;return w.type="polyline",w.canFill=!0,w.canStroke=!0,w}return p.prototype.getDefaultAttrs=function(){var w=E.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},w),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(w,y,x){E.prototype.onAttrChange.call(this,w,y,x),["points"].indexOf(w)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(w,y){var x=this.attr(),g=this.get("el");L.each(y||x,function(S,_){_==="points"&&L.isArray(S)&&S.length>=2?g.setAttribute("points",S.map(function(B){return B[0]+","+B[1]}).join(" ")):P.SVG_ATTR_MAP[_]&&g.setAttribute(P.SVG_ATTR_MAP[_],S)})},p.prototype.getTotalLength=function(){var w=this.attr().points,y=this.get("totalLength");return L.isNil(y)?(this.set("totalLength",O.Polyline.length(w)),this.get("totalLength")):y},p.prototype.getPoint=function(w){var y=this.attr().points,x=this.get("tCache");x||(this._setTcache(),x=this.get("tCache"));var g,S;return L.each(x,function(_,B){w>=_[0]&&w<=_[1]&&(g=(w-_[0])/(_[1]-_[0]),S=B)}),k.Line.pointAt(y[S][0],y[S][1],y[S+1][0],y[S+1][1],g)},p.prototype._setTcache=function(){var w=this.attr().points;if(!(!w||w.length===0)){var y=this.getTotalLength();if(!(y<=0)){var x=0,g=[],S,_;L.each(w,function(B,F){w[F+1]&&(S=[],S[0]=x/y,_=k.Line.length(B[0],B[1],w[F+1][0],w[F+1][1]),x+=_,S[1]=x/y,g.push(S))}),this.set("tCache",g)}}},p.prototype.getStartTangent=function(){var w=this.attr().points,y=[];return y.push([w[1][0],w[1][1]]),y.push([w[0][0],w[0][1]]),y},p.prototype.getEndTangent=function(){var w=this.attr().points,y=w.length-1,x=[];return x.push([w[y-1][0],w[y-1][1]]),x.push([w[y][0],w[y][1]]),x},p}(A.default);M.default=C},71320:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(49242),k=d(4050),L=d(65712),P=d(48490),A=function(C){b.__extends(E,C);function E(){var p=C!==null&&C.apply(this,arguments)||this;return p.type="rect",p.canFill=!0,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=C.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},E.prototype.createPath=function(p,w){var y=this,x=this.attr(),g=this.get("el"),S=!1,_=["x","y","width","height","radius"];O.each(w||x,function(B,F){_.indexOf(F)!==-1&&!S?(g.setAttribute("d",y._assembleRect(x)),S=!0):_.indexOf(F)===-1&&L.SVG_ATTR_MAP[F]&&g.setAttribute(L.SVG_ATTR_MAP[F],B)})},E.prototype._assembleRect=function(p){var w=p.x,y=p.y,x=p.width,g=p.height,S=p.radius;if(!S)return"M "+w+","+y+" l "+x+",0 l 0,"+g+" l"+-x+" 0 z";var _=P.parseRadius(S);O.isArray(S)?S.length===1?_.r1=_.r2=_.r3=_.r4=S[0]:S.length===2?(_.r1=_.r3=S[0],_.r2=_.r4=S[1]):S.length===3?(_.r1=S[0],_.r2=_.r4=S[1],_.r3=S[2]):(_.r1=S[0],_.r2=S[1],_.r3=S[2],_.r4=S[3]):_.r1=_.r2=_.r3=_.r4=S;var B=[["M "+(w+_.r1)+","+y],["l "+(x-_.r1-_.r2)+",0"],["a "+_.r2+","+_.r2+",0,0,1,"+_.r2+","+_.r2],["l 0,"+(g-_.r2-_.r3)],["a "+_.r3+","+_.r3+",0,0,1,"+-_.r3+","+_.r3],["l "+(_.r3+_.r4-x)+",0"],["a "+_.r4+","+_.r4+",0,0,1,"+-_.r4+","+-_.r4],["l 0,"+(_.r4+_.r1-g)],["a "+_.r1+","+_.r1+",0,0,1,"+_.r1+","+-_.r1],["z"]];return B.join(" ")},E}(k.default);M.default=A},35726:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(58977),O=d(49242),k=d(43631),L=d(50063),P=d(65712),A=d(4050),C=.3,E={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},w={left:"left",start:"left",center:"middle",right:"end",end:"end"},y=function(x){b.__extends(g,x);function g(){var S=x!==null&&x.apply(this,arguments)||this;return S.type="text",S.canFill=!0,S.canStroke=!0,S}return g.prototype.getDefaultAttrs=function(){var S=x.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},S),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},g.prototype.createPath=function(S,_){var B=this,F=this.attr(),V=this.get("el");this._setFont(),O.each(_||F,function(Z,X){X==="text"?B._setText(""+Z):X==="matrix"&&Z?L.setTransform(B):P.SVG_ATTR_MAP[X]&&V.setAttribute(P.SVG_ATTR_MAP[X],Z)}),V.setAttribute("paint-order","stroke"),V.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},g.prototype._setFont=function(){var S=this.get("el"),_=this.attr(),B=_.textBaseline,F=_.textAlign,V=k.detect();V&&V.name==="firefox"?S.setAttribute("dominant-baseline",p[B]||"alphabetic"):S.setAttribute("alignment-baseline",E[B]||"baseline"),S.setAttribute("text-anchor",w[F]||"left")},g.prototype._setText=function(S){var _=this.get("el"),B=this.attr(),F=B.x,V=B.textBaseline,Z=V===void 0?"bottom":V;if(!S)_.innerHTML="";else if(~S.indexOf(`
`)){var X=S.split(`
`),U=X.length-1,nt="";O.each(X,function(q,wt){wt===0?Z==="alphabetic"?nt+='<tspan x="'+F+'" dy="'+-U+'em">'+q+"</tspan>":Z==="top"?nt+='<tspan x="'+F+'" dy="0.9em">'+q+"</tspan>":Z==="middle"?nt+='<tspan x="'+F+'" dy="'+-(U-1)/2+'em">'+q+"</tspan>":Z==="bottom"?nt+='<tspan x="'+F+'" dy="-'+(U+C)+'em">'+q+"</tspan>":Z==="hanging"&&(nt+='<tspan x="'+F+'" dy="'+(-(U-1)-C)+'em">'+q+"</tspan>"):nt+='<tspan x="'+F+'" dy="1em">'+q+"</tspan>"}),_.innerHTML=nt}else _.innerHTML=S},g}(A.default);M.default=y},87596:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.moveTo=M.sortDom=M.createDom=M.createSVGElement=void 0;var b=d(49242),O=d(65712);function k(C){return document.createElementNS("http://www.w3.org/2000/svg",C)}M.createSVGElement=k;function L(C){var E=O.SHAPE_TO_TAGS[C.type],p=C.getParent();if(!E)throw new Error("the type "+C.type+" is not supported by svg");var w=k(E);if(C.get("id")&&(w.id=C.get("id")),C.set("el",w),C.set("attrs",{}),p){var y=p.get("el");y||(y=p.createDom(),p.set("el",y)),y.appendChild(w)}return w}M.createDom=L;function P(C,E){var p=C.get("el"),w=b.toArray(p.children).sort(E),y=document.createDocumentFragment();w.forEach(function(x){y.appendChild(x)}),p.appendChild(y)}M.sortDom=P;function A(C,E){var p=C.parentNode,w=Array.from(p.childNodes).filter(function(S){return S.nodeType===1&&S.nodeName.toLowerCase()!=="defs"}),y=w[E],x=w.indexOf(C);if(y){if(x>E)p.insertBefore(C,y);else if(x<E){var g=w[E+1];g?p.insertBefore(C,g):p.appendChild(C)}}else p.appendChild(C)}M.moveTo=A},98820:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.refreshElement=M.drawChildren=void 0;var b=d(50063),O=d(87596);function k(P,A){A.forEach(function(C){C.draw(P)})}M.drawChildren=k;function L(P,A){var C=P.get("canvas");if(C&&C.get("autoDraw")){var E=C.get("context"),p=P.getParent(),w=p?p.getChildren():[C],y=P.get("el");if(A==="remove"){var x=P.get("isClipShape");if(x){var g=y&&y.parentNode,S=g&&g.parentNode;g&&S&&S.removeChild(g)}else y&&y.parentNode&&y.parentNode.removeChild(y)}else if(A==="show")y.setAttribute("visibility","visible");else if(A==="hide")y.setAttribute("visibility","hidden");else if(A==="zIndex")O.moveTo(y,w.indexOf(P));else if(A==="sort"){var _=P.get("children");_&&_.length&&O.sortDom(P,function(B,F){return _.indexOf(B)-_.indexOf(F)?1:0})}else A==="clear"?y&&(y.innerHTML=""):A==="matrix"?b.setTransform(P):A==="clip"?b.setClip(P,E):A==="attr"||A==="add"&&P.draw(E)}}M.refreshElement=L},48490:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.parsePath=M.parseRadius=void 0;var b=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,k=/[^\s,]+/gi;function L(A){var C=0,E=0,p=0,w=0;return b.isArray(A)?A.length===1?C=E=p=w=A[0]:A.length===2?(C=p=A[0],E=w=A[1]):A.length===3?(C=A[0],E=w=A[1],p=A[2]):(C=A[0],E=A[1],p=A[2],w=A[3]):C=E=p=w=A,{r1:C,r2:E,r3:p,r4:w}}M.parseRadius=L;function P(A){if(A=A||[],b.isArray(A))return A;if(b.isString(A))return A=A.match(O),b.each(A,function(C,E){if(C=C.match(k),C[0].length>1){var p=C[0].charAt(0);C.splice(1,0,C[0].substr(1)),C[0]=p}b.each(C,function(w,y){isNaN(w)||(C[y]=+w)}),A[E]=C}),A}M.parsePath=P},50063:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.setClip=M.setTransform=M.setShadow=void 0;var b=d(87596);function O(P,A){var C=P.cfg.el,E=P.attr(),p={dx:E.shadowOffsetX,dy:E.shadowOffsetY,blur:E.shadowBlur,color:E.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)C.removeAttribute("filter");else{var w=A.find("filter",p);w||(w=A.addShadow(p)),C.setAttribute("filter","url(#"+w+")")}}M.setShadow=O;function k(P){var A=P.attr().matrix;if(A){for(var C=P.cfg.el,E=[],p=0;p<9;p+=3)E.push(A[p]+","+A[p+1]);E=E.join(","),E.indexOf("NaN")===-1?C.setAttribute("transform","matrix("+E+")"):console.warn("invalid matrix:",A)}}M.setTransform=k;function L(P,A){var C=P.getClip(),E=P.get("el");if(!C)E.removeAttribute("clip-path");else if(C&&!E.hasAttribute("clip-path")){b.createDom(C),C.createPath(A);var p=A.addClip(C);E.setAttribute("clip-path","url(#"+p+")")}}M.setClip=L},58977:function(xt,M,d){"use strict";d.r(M),d.d(M,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return L},__decorate:function(){return P},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return x},__generator:function(){return g},__createBinding:function(){return S},__exportStar:function(){return _},__values:function(){return B},__read:function(){return F},__spread:function(){return V},__spreadArrays:function(){return Z},__spreadArray:function(){return X},__await:function(){return U},__asyncGenerator:function(){return nt},__asyncDelegator:function(){return q},__asyncValues:function(){return wt},__makeTemplateObject:function(){return ft},__importStar:function(){return St},__importDefault:function(){return At},__classPrivateFieldGet:function(){return Et},__classPrivateFieldSet:function(){return bt},__classPrivateFieldIn:function(){return Lt},__addDisposableResource:function(){return Bt},__disposeResources:function(){return J}});var b=function(I,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,N){R.__proto__=N}||function(R,N){for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(R[z]=N[z])},b(I,u)};function O(I,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");b(I,u);function R(){this.constructor=I}I.prototype=u===null?Object.create(u):(R.prototype=u.prototype,new R)}var k=function(){return k=Object.assign||function(u){for(var R,N=1,z=arguments.length;N<z;N++){R=arguments[N];for(var j in R)Object.prototype.hasOwnProperty.call(R,j)&&(u[j]=R[j])}return u},k.apply(this,arguments)};function L(I,u){var R={};for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&u.indexOf(N)<0&&(R[N]=I[N]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,N=Object.getOwnPropertySymbols(I);z<N.length;z++)u.indexOf(N[z])<0&&Object.prototype.propertyIsEnumerable.call(I,N[z])&&(R[N[z]]=I[N[z]]);return R}function P(I,u,R,N){var z=arguments.length,j=z<3?u:N===null?N=Object.getOwnPropertyDescriptor(u,R):N,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(I,u,R,N);else for(var at=I.length-1;at>=0;at--)(K=I[at])&&(j=(z<3?K(j):z>3?K(u,R,j):K(u,R))||j);return z>3&&j&&Object.defineProperty(u,R,j),j}function A(I,u){return function(R,N){u(R,N,I)}}function C(I,u,R,N,z,j){function K(mt){if(mt!==void 0&&typeof mt!="function")throw new TypeError("Function expected");return mt}for(var at=N.kind,Tt=at==="getter"?"get":at==="setter"?"set":"value",pt=!u&&I?N.static?I:I.prototype:null,Q=u||(pt?Object.getOwnPropertyDescriptor(pt,N.name):{}),vt,et=!1,it=R.length-1;it>=0;it--){var ct={};for(var rt in N)ct[rt]=rt==="access"?{}:N[rt];for(var rt in N.access)ct.access[rt]=N.access[rt];ct.addInitializer=function(mt){if(et)throw new TypeError("Cannot add initializers after decoration has completed");j.push(K(mt||null))};var tt=(0,R[it])(at==="accessor"?{get:Q.get,set:Q.set}:Q[Tt],ct);if(at==="accessor"){if(tt===void 0)continue;if(tt===null||typeof tt!="object")throw new TypeError("Object expected");(vt=K(tt.get))&&(Q.get=vt),(vt=K(tt.set))&&(Q.set=vt),(vt=K(tt.init))&&z.unshift(vt)}else(vt=K(tt))&&(at==="field"?z.unshift(vt):Q[Tt]=vt)}pt&&Object.defineProperty(pt,N.name,Q),et=!0}function E(I,u,R){for(var N=arguments.length>2,z=0;z<u.length;z++)R=N?u[z].call(I,R):u[z].call(I);return N?R:void 0}function p(I){return typeof I=="symbol"?I:"".concat(I)}function w(I,u,R){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(I,"name",{configurable:!0,value:R?"".concat(R," ",u):u})}function y(I,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,u)}function x(I,u,R,N){function z(j){return j instanceof R?j:new R(function(K){K(j)})}return new(R||(R=Promise))(function(j,K){function at(Q){try{pt(N.next(Q))}catch(vt){K(vt)}}function Tt(Q){try{pt(N.throw(Q))}catch(vt){K(vt)}}function pt(Q){Q.done?j(Q.value):z(Q.value).then(at,Tt)}pt((N=N.apply(I,u||[])).next())})}function g(I,u){var R={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},N,z,j,K;return K={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function at(pt){return function(Q){return Tt([pt,Q])}}function Tt(pt){if(N)throw new TypeError("Generator is already executing.");for(;K&&(K=0,pt[0]&&(R=0)),R;)try{if(N=1,z&&(j=pt[0]&2?z.return:pt[0]?z.throw||((j=z.return)&&j.call(z),0):z.next)&&!(j=j.call(z,pt[1])).done)return j;switch(z=0,j&&(pt=[pt[0]&2,j.value]),pt[0]){case 0:case 1:j=pt;break;case 4:return R.label++,{value:pt[1],done:!1};case 5:R.label++,z=pt[1],pt=[0];continue;case 7:pt=R.ops.pop(),R.trys.pop();continue;default:if(j=R.trys,!(j=j.length>0&&j[j.length-1])&&(pt[0]===6||pt[0]===2)){R=0;continue}if(pt[0]===3&&(!j||pt[1]>j[0]&&pt[1]<j[3])){R.label=pt[1];break}if(pt[0]===6&&R.label<j[1]){R.label=j[1],j=pt;break}if(j&&R.label<j[2]){R.label=j[2],R.ops.push(pt);break}j[2]&&R.ops.pop(),R.trys.pop();continue}pt=u.call(I,R)}catch(Q){pt=[6,Q],z=0}finally{N=j=0}if(pt[0]&5)throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}}var S=Object.create?function(I,u,R,N){N===void 0&&(N=R);var z=Object.getOwnPropertyDescriptor(u,R);(!z||("get"in z?!u.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return u[R]}}),Object.defineProperty(I,N,z)}:function(I,u,R,N){N===void 0&&(N=R),I[N]=u[R]};function _(I,u){for(var R in I)R!=="default"&&!Object.prototype.hasOwnProperty.call(u,R)&&S(u,I,R)}function B(I){var u=typeof Symbol=="function"&&Symbol.iterator,R=u&&I[u],N=0;if(R)return R.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&N>=I.length&&(I=void 0),{value:I&&I[N++],done:!I}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(I,u){var R=typeof Symbol=="function"&&I[Symbol.iterator];if(!R)return I;var N=R.call(I),z,j=[],K;try{for(;(u===void 0||u-- >0)&&!(z=N.next()).done;)j.push(z.value)}catch(at){K={error:at}}finally{try{z&&!z.done&&(R=N.return)&&R.call(N)}finally{if(K)throw K.error}}return j}function V(){for(var I=[],u=0;u<arguments.length;u++)I=I.concat(F(arguments[u]));return I}function Z(){for(var I=0,u=0,R=arguments.length;u<R;u++)I+=arguments[u].length;for(var N=Array(I),z=0,u=0;u<R;u++)for(var j=arguments[u],K=0,at=j.length;K<at;K++,z++)N[z]=j[K];return N}function X(I,u,R){if(R||arguments.length===2)for(var N=0,z=u.length,j;N<z;N++)(j||!(N in u))&&(j||(j=Array.prototype.slice.call(u,0,N)),j[N]=u[N]);return I.concat(j||Array.prototype.slice.call(u))}function U(I){return this instanceof U?(this.v=I,this):new U(I)}function nt(I,u,R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=R.apply(I,u||[]),z,j=[];return z={},K("next"),K("throw"),K("return"),z[Symbol.asyncIterator]=function(){return this},z;function K(et){N[et]&&(z[et]=function(it){return new Promise(function(ct,rt){j.push([et,it,ct,rt])>1||at(et,it)})})}function at(et,it){try{Tt(N[et](it))}catch(ct){vt(j[0][3],ct)}}function Tt(et){et.value instanceof U?Promise.resolve(et.value.v).then(pt,Q):vt(j[0][2],et)}function pt(et){at("next",et)}function Q(et){at("throw",et)}function vt(et,it){et(it),j.shift(),j.length&&at(j[0][0],j[0][1])}}function q(I){var u,R;return u={},N("next"),N("throw",function(z){throw z}),N("return"),u[Symbol.iterator]=function(){return this},u;function N(z,j){u[z]=I[z]?function(K){return(R=!R)?{value:U(I[z](K)),done:!1}:j?j(K):K}:j}}function wt(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=I[Symbol.asyncIterator],R;return u?u.call(I):(I=typeof B=="function"?B(I):I[Symbol.iterator](),R={},N("next"),N("throw"),N("return"),R[Symbol.asyncIterator]=function(){return this},R);function N(j){R[j]=I[j]&&function(K){return new Promise(function(at,Tt){K=I[j](K),z(at,Tt,K.done,K.value)})}}function z(j,K,at,Tt){Promise.resolve(Tt).then(function(pt){j({value:pt,done:at})},K)}}function ft(I,u){return Object.defineProperty?Object.defineProperty(I,"raw",{value:u}):I.raw=u,I}var Ot=Object.create?function(I,u){Object.defineProperty(I,"default",{enumerable:!0,value:u})}:function(I,u){I.default=u};function St(I){if(I&&I.__esModule)return I;var u={};if(I!=null)for(var R in I)R!=="default"&&Object.prototype.hasOwnProperty.call(I,R)&&S(u,I,R);return Ot(u,I),u}function At(I){return I&&I.__esModule?I:{default:I}}function Et(I,u,R,N){if(R==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?I!==u||!N:!u.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return R==="m"?N:R==="a"?N.call(I):N?N.value:u.get(I)}function bt(I,u,R,N,z){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!z)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?I!==u||!z:!u.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?z.call(I,R):z?z.value=R:u.set(I,R),R}function Lt(I,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof I=="function"?u===I:I.has(u)}function Bt(I,u,R){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var N;if(R){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");N=u[Symbol.asyncDispose]}if(N===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");N=u[Symbol.dispose]}if(typeof N!="function")throw new TypeError("Object not disposable.");I.stack.push({value:u,dispose:N,async:R})}else R&&I.stack.push({async:!0});return u}var gt=typeof SuppressedError=="function"?SuppressedError:function(I,u,R){var N=new Error(R);return N.name="SuppressedError",N.error=I,N.suppressed=u,N};function J(I){function u(N){I.error=I.hasError?new gt(N,I.error,"An error was suppressed during disposal."):N,I.hasError=!0}function R(){for(;I.stack.length;){var N=I.stack.pop();try{var z=N.dispose&&N.dispose.call(N.value);if(N.async)return Promise.resolve(z).then(R,function(j){return u(j),R()})}catch(j){u(j)}}if(I.hasError)throw I.error}return R()}M.default={__extends:O,__assign:k,__rest:L,__decorate:P,__param:A,__metadata:y,__awaiter:x,__generator:g,__createBinding:S,__exportStar:_,__values:B,__read:F,__spread:V,__spreadArrays:Z,__spreadArray:X,__await:U,__asyncGenerator:nt,__asyncDelegator:q,__asyncValues:wt,__makeTemplateObject:ft,__importStar:St,__importDefault:At,__classPrivateFieldGet:Et,__classPrivateFieldSet:bt,__classPrivateFieldIn:Lt,__addDisposableResource:Bt,__disposeResources:J}},83077:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(16854);M.wO=O.default;var k=d(13841);b=k.default;var L=d(38269);b=L.default;var P=d(34302);M.vs=P.default},16854:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(31502);b.translate=function(O,k,L){var P=new Array(9);return b.fromTranslation(P,L),b.multiply(O,P,k)},b.rotate=function(O,k,L){var P=new Array(9);return b.fromRotation(P,L),b.multiply(O,P,k)},b.scale=function(O,k,L){var P=new Array(9);return b.fromScaling(P,L),b.multiply(O,P,k)},b.transform=function(O,k){for(var L=[].concat(O),P=0,A=k.length;P<A;P++){var C=k[P];switch(C[0]){case"t":b.translate(L,L,[C[1],C[2]]);break;case"s":b.scale(L,L,[C[1],C[2]]);break;case"r":b.rotate(L,L,C[1]);break;default:break}}return L},M.default=b},34302:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=d(16854);M.default=function(k,L){var P=k?b.clone(k):[1,0,0,0,1,0,0,0,1];return b.each(L,function(A){switch(A[0]){case"t":O.default.translate(P,P,[A[1],A[2]]);break;case"s":O.default.scale(P,P,[A[1],A[2]]);break;case"r":O.default.rotate(P,P,A[1]);break;case"m":O.default.multiply(P,P,A[1]);break;default:return!1}}),P}},13841:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(76172),O=d(49242);b.angle=function(k,L){var P=b.dot(k,L)/(b.length(k)*b.length(L));return Math.acos(O.clamp(P,-1,1))},b.direction=function(k,L){return k[0]*L[1]-L[0]*k[1]},b.angleTo=function(k,L,P){var A=b.angle(k,L),C=b.direction(k,L)>=0;return P?C?Math.PI*2-A:A:C?A:Math.PI*2-A},b.vertical=function(k,L,P){return P?(k[0]=L[1],k[1]=-1*L[0]):(k[0]=-1*L[1],k[1]=L[0]),k},M.default=b},38269:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(88395);M.default=b},55223:function(xt,M,d){"use strict";d.r(M);var b=d(49242),O=/rgba?\(([\s.,0-9]+)\)/,k=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,L=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,A=function(F){return/^[r,R,L,l]{1}[\s]*\(/.test(F)},C=function(){var F=document.createElement("i");return F.title="Web Colour Picker",F.style.display="none",document.body.appendChild(F),F},E=function(F,V,Z,X){return F[X]+(V[X]-F[X])*Z};function p(F){return"#"+y(F[0])+y(F[1])+y(F[2])}var w=function(F){return[parseInt(F.substr(1,2),16),parseInt(F.substr(3,2),16),parseInt(F.substr(5,2),16)]},y=function(F){var V=Math.round(F).toString(16);return V.length===1?"0"+V:V},x=function(F,V){var Z=isNaN(Number(V))||V<0?0:V>1?1:Number(V),X=F.length-1,U=Math.floor(X*Z),nt=X*Z-U,q=F[U],wt=U===X?q:F[U+1];return p([E(q,wt,nt,0),E(q,wt,nt,1),E(q,wt,nt,2)])},g,S=function(F){if(F[0]==="#"&&F.length===7)return F;g||(g=C()),g.style.color=F;var V=document.defaultView.getComputedStyle(g,"").getPropertyValue("color"),Z=O.exec(V),X=Z[1].split(/\s*,\s*/).map(function(U){return Number(U)});return V=p(X),V},_=function(F){var V=(0,b.isString)(F)?F.split("-"):F,Z=(0,b.map)(V,function(X){return w(X.indexOf("#")===-1?S(X):X)});return function(X){return x(Z,X)}},B=function(F){if(A(F)){var V,Z=void 0;if(F[0]==="l"){var X=k.exec(F),U=+X[1]+90;Z=X[2],V="linear-gradient("+U+"deg, "}else if(F[0]==="r"){V="radial-gradient(";var X=L.exec(F);Z=X[4]}var nt=Z.match(P);return(0,b.each)(nt,function(q,wt){var ft=q.split(":");V+=ft[1]+" "+ft[0]*100+"%",wt!==nt.length-1&&(V+=", ")}),V+=")",V}return F};M.default={rgb2arr:w,gradient:_,toRGB:(0,b.memoize)(S),toCSSGradient:B}},51441:function(xt,M,d){"use strict";d.r(M),d.d(M,{Annotation:function(){return b},Axis:function(){return A},Component:function(){return vt},Crosshair:function(){return C},Grid:function(){return E},GroupComponent:function(){return tt},HtmlComponent:function(){return ua},Legend:function(){return p},Scrollbar:function(){return Ma},Slider:function(){return Eo},Tooltip:function(){return y}});var b={};d.r(b),d.d(b,{Arc:function(){return ai},DataMarker:function(){return se},DataRegion:function(){return Me},Image:function(){return Kt},Line:function(){return xn},Region:function(){return Mi},RegionFilter:function(){return _e},Text:function(){return sn}});var O={};d.r(O),d.d(O,{ellipsisHead:function(){return ar},ellipsisMiddle:function(){return pr},ellipsisTail:function(){return vr},getDefault:function(){return hr}});var k={};d.r(k),d.d(k,{equidistance:function(){return Kr},getDefault:function(){return Ir},reserveBoth:function(){return Zr},reserveFirst:function(){return Tr},reserveLast:function(){return Rr}});var L={};d.r(L),d.d(L,{fixedAngle:function(){return ci},getDefault:function(){return Kn},unfixedAngle:function(){return oi}});var P={};d.r(P),d.d(P,{autoEllipsis:function(){return O},autoHide:function(){return k},autoRotate:function(){return L}});var A={};d.r(A),d.d(A,{Base:function(){return Re},Circle:function(){return vi},Line:function(){return Ii}});var C={};d.r(C),d.d(C,{Base:function(){return li},Circle:function(){return mi},Html:function(){return ur},Line:function(){return di}});var E={};d.r(E),d.d(E,{Base:function(){return Vr},Circle:function(){return Nt},Line:function(){return qt}});var p={};d.r(p),d.d(p,{Base:function(){return ge},Category:function(){return er},Continuous:function(){return ot}});var w={};d.r(w),d.d(w,{CONTAINER_CLASS:function(){return kt},CROSSHAIR_X:function(){return Ye},CROSSHAIR_Y:function(){return fr},LIST_CLASS:function(){return oe},LIST_ITEM_CLASS:function(){return fe},MARKER_CLASS:function(){return ue},NAME_CLASS:function(){return Be},TITLE_CLASS:function(){return jt},VALUE_CLASS:function(){return ke}});var y={};d.r(y),d.d(y,{Html:function(){return sr}});var x=d(62117),g=d(49242),S=d(66192);function _(Vt,yt,G){var $=new S.default(yt,G);$.target=Vt,$.propagationPath.push(Vt),Vt.emitDelegation(yt,$);for(var ut=Vt.getParent();ut;)ut.emitDelegation(yt,$),$.propagationPath.push(ut),ut=ut.getParent()}var B=d(31506),F=d(31437),V=[1,0,0,0,1,0,0,0,1];function Z(Vt,yt,G){if(G===void 0&&(G=V),!yt)return null;var $=B.transform(G,[["t",-Vt.x,-Vt.y],["r",yt],["t",Vt.x,Vt.y]]);return $}function X(Vt,yt){return!Vt.x&&!Vt.y?null:B.transform(yt||V,[["t",Vt.x,Vt.y]])}function U(Vt){var yt=[1,0,0],G=[0,0,0];return vec3.transformMat3(G,yt,Vt),Math.atan2(G[1],G[0])}function nt(Vt,yt){var G=[0,0];return F.transformMat3(G,yt,Vt),G}function q(Vt,yt){var G=nt(Vt,[yt.minX,yt.minY]),$=nt(Vt,[yt.maxX,yt.minY]),ut=nt(Vt,[yt.minX,yt.maxY]),Ct=nt(Vt,[yt.maxX,yt.maxY]),Dt=Math.min(G[0],$[0],ut[0],Ct[0]),Xt=Math.max(G[0],$[0],ut[0],Ct[0]),ne=Math.min(G[1],$[1],ut[1],Ct[1]),ae=Math.max(G[1],$[1],ut[1],Ct[1]);return{x:Dt,y:ne,minX:Dt,minY:ne,maxX:Xt,maxY:ae,width:Xt-Dt,height:ae-ne}}function wt(Vt,yt,G,$){if(yt){var ut=Z({x:G,y:$},yt,Vt.getMatrix());Vt.setMatrix(ut)}}function ft(Vt,yt,G){var $=X({x:yt,y:G});Vt.attr("matrix",$)}function Ot(Vt){var yt=0,G=0,$=0,ut=0;return(0,g.isNumber)(Vt)?yt=G=$=ut=Vt:(0,g.isArray)(Vt)&&(yt=Vt[0],$=(0,g.isNil)(Vt[1])?Vt[0]:Vt[1],ut=(0,g.isNil)(Vt[2])?Vt[0]:Vt[2],G=(0,g.isNil)(Vt[3])?$:Vt[3]),[yt,$,ut,G]}function St(Vt){for(var yt=Vt.childNodes,G=yt.length,$=G-1;$>=0;$--)Vt.removeChild(yt[$])}function At(Vt,yt){return!!Vt.className.match(new RegExp("(\\s|^)"+yt+"(\\s|$)"))}function Et(Vt){var yt=Vt.start,G=Vt.end,$=Math.min(yt.x,G.x),ut=Math.min(yt.y,G.y),Ct=Math.max(yt.x,G.x),Dt=Math.max(yt.y,G.y);return{x:$,y:ut,minX:$,minY:ut,maxX:Ct,maxY:Dt,width:Ct-$,height:Dt-ut}}function bt(Vt){var yt=Vt.map(function(Xt){return Xt.x}),G=Vt.map(function(Xt){return Xt.y}),$=Math.min.apply(Math,yt),ut=Math.min.apply(Math,G),Ct=Math.max.apply(Math,yt),Dt=Math.max.apply(Math,G);return{x:$,y:ut,minX:$,minY:ut,maxX:Ct,maxY:Dt,width:Ct-$,height:Dt-ut}}function Lt(Vt,yt,G,$){return{x:Vt,y:yt,width:G,height:$,minX:Vt,minY:yt,maxX:Vt+G,maxY:yt+$}}function Bt(Vt,yt,G){return(1-G)*Vt+yt*G}function gt(Vt,yt,G){return{x:Vt.x+Math.cos(G)*yt,y:Vt.y+Math.sin(G)*yt}}function J(Vt,yt){var G=yt.x-Vt.x,$=yt.y-Vt.y;return Math.sqrt(G*G+$*$)}var I=function(Vt){return new Promise(function(yt){setTimeout(yt,Vt)})},u=function(Vt,yt){return[Vt,yt].includes(Infinity)?Math.abs(Vt)===Math.abs(yt):Math.abs(Vt-yt)<Math.pow(Number.EPSILON,.5)};function R(Vt,yt){var G=Math.max(Vt.minX,yt.minX),$=Math.max(Vt.minY,yt.minY),ut=Math.min(Vt.maxX,yt.maxX),Ct=Math.min(Vt.maxY,yt.maxY);return Lt(G,$,ut-G,Ct-$)}function N(Vt,yt){var G=Math.min(Vt.minX,yt.minX),$=Math.min(Vt.minY,yt.minY),ut=Math.max(Vt.maxX,yt.maxX),Ct=Math.max(Vt.maxY,yt.maxY);return Lt(G,$,ut-G,Ct-$)}function z(Vt){var yt=Vt.getClip(),G=yt&&yt.getBBox(),$;if(!Vt.isGroup())$=Vt.getBBox();else{var ut=Infinity,Ct=-Infinity,Dt=Infinity,Xt=-Infinity,ne=Vt.getChildren();ne.length>0?(0,g.each)(ne,function(ae){if(ae.get("visible")){if(ae.isGroup()&&ae.get("children").length===0)return!0;var me=z(ae),Ee=ae.applyToMatrix([me.minX,me.minY,1]),ze=ae.applyToMatrix([me.minX,me.maxY,1]),Ze=ae.applyToMatrix([me.maxX,me.minY,1]),xr=ae.applyToMatrix([me.maxX,me.maxY,1]),Gr=Math.min(Ee[0],ze[0],Ze[0],xr[0]),kr=Math.max(Ee[0],ze[0],Ze[0],xr[0]),hn=Math.min(Ee[1],ze[1],Ze[1],xr[1]),vn=Math.max(Ee[1],ze[1],Ze[1],xr[1]);Gr<ut&&(ut=Gr),kr>Ct&&(Ct=kr),hn<Dt&&(Dt=hn),vn>Xt&&(Xt=vn)}}):(ut=0,Ct=0,Dt=0,Xt=0),$=Lt(ut,Dt,Ct-ut,Xt-Dt)}return G?R($,G):$}function j(Vt,yt){if(!(!Vt.getClip()&&!yt.getClip())){var G=yt.getClip();if(!G){Vt.setClip(null);return}var $={type:G.get("type"),attrs:G.attr()};Vt.setClip($)}}function K(Vt){return Vt+"px"}function at(Vt,yt,G,$){var ut=J(Vt,yt),Ct=$/ut,Dt=0;return G==="start"?Dt=0-Ct:G==="end"&&(Dt=1+Ct),{x:Bt(Vt.x,yt.x,Dt),y:Bt(Vt.y,yt.y,Dt)}}var Tt=d(65722),pt={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Q=function(Vt){(0,x.__extends)(yt,Vt);function yt(G){var $=Vt.call(this,G)||this;return $.initCfg(),$}return yt.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},yt.prototype.clear=function(){},yt.prototype.update=function(G){var $=this,ut=this.get("defaultCfg");(0,g.each)(G,function(Ct,Dt){var Xt=$.get(Dt),ne=Ct;Xt!==Ct&&((0,g.isObject)(Ct)&&ut[Dt]&&(ne=(0,g.deepMix)({},ut[Dt],Ct)),$.set(Dt,ne))}),this.updateInner(G),this.afterUpdate(G)},yt.prototype.updateInner=function(G){},yt.prototype.afterUpdate=function(G){(0,g.hasKey)(G,"visible")&&(G.visible?this.show():this.hide()),(0,g.hasKey)(G,"capture")&&this.setCapture(G.capture)},yt.prototype.getLayoutBBox=function(){return this.getBBox()},yt.prototype.getLocationType=function(){return this.get("locationType")},yt.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},yt.prototype.setOffset=function(G,$){this.update({offsetX:G,offsetY:$})},yt.prototype.setLocation=function(G){var $=(0,x.__assign)({},G);this.update($)},yt.prototype.getLocation=function(){var G=this,$={},ut=this.get("locationType"),Ct=pt[ut];return(0,g.each)(Ct,function(Dt){$[Dt]=G.get(Dt)}),$},yt.prototype.isList=function(){return!1},yt.prototype.isSlider=function(){return!1},yt.prototype.init=function(){},yt.prototype.initCfg=function(){var G=this,$=this.get("defaultCfg");(0,g.each)($,function(ut,Ct){var Dt=G.get(Ct);if((0,g.isObject)(Dt)){var Xt=(0,g.deepMix)({},ut,Dt);G.set(Ct,Xt)}})},yt}(Tt.Base),vt=Q,et="update_status",it=["visible","tip","delegateObject"],ct=["container","group","shapesMap","isRegister","isUpdating","destroyed"],rt=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},yt.prototype.remove=function(){this.clear();var G=this.get("group");G.remove()},yt.prototype.clear=function(){var G=this.get("group");G.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},yt.prototype.getChildComponentById=function(G){var $=this.getElementById(G),ut=$&&$.get("component");return ut},yt.prototype.getElementById=function(G){return this.get("shapesMap")[G]},yt.prototype.getElementByLocalId=function(G){var $=this.getElementId(G);return this.getElementById($)},yt.prototype.getElementsByName=function(G){var $=[];return(0,g.each)(this.get("shapesMap"),function(ut){ut.get("name")===G&&$.push(ut)}),$},yt.prototype.getContainer=function(){return this.get("container")},yt.prototype.updateInner=function(G){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},yt.prototype.render=function(){var G=this.get("offScreenGroup");G||(G=this.offScreenRender());var $=this.get("group");this.updateElements(G,$),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},yt.prototype.show=function(){var G=this.get("group");G.show(),this.set("visible",!0)},yt.prototype.hide=function(){var G=this.get("group");G.hide(),this.set("visible",!1)},yt.prototype.setCapture=function(G){var $=this.get("group");$.set("capture",G),this.set("capture",G)},yt.prototype.destroy=function(){this.removeEvent(),this.remove(),Vt.prototype.destroy.call(this)},yt.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},yt.prototype.getLayoutBBox=function(){var G=this.get("group"),$=this.getInnerLayoutBBox(),ut=G.getTotalMatrix();return ut&&($=q(ut,$)),$},yt.prototype.on=function(G,$,ut){var Ct=this.get("group");return Ct.on(G,$,ut),this},yt.prototype.off=function(G,$){var ut=this.get("group");return ut&&ut.off(G,$),this},yt.prototype.emit=function(G,$){var ut=this.get("group");ut.emit(G,$)},yt.prototype.init=function(){Vt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},yt.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},yt.prototype.delegateEmit=function(G,$){var ut=this.get("group");$.target=ut,ut.emit(G,$),_(ut,G,$)},yt.prototype.createOffScreenGroup=function(){var G=this.get("group"),$=G.getGroupBase(),ut=new $({delegateObject:this.getDelegateObject()});return ut},yt.prototype.applyOffset=function(){var G=this.get("offsetX"),$=this.get("offsetY");this.moveElementTo(this.get("group"),{x:G,y:$})},yt.prototype.initGroup=function(){var G=this.get("container");this.set("group",G.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},yt.prototype.offScreenRender=function(){this.clearOffScreenCache();var G=this.createOffScreenGroup();return this.renderInner(G),this.set("offScreenGroup",G),this.set("offScreenBBox",z(G)),G},yt.prototype.addGroup=function(G,$){this.appendDelegateObject(G,$);var ut=G.addGroup($);return this.get("isRegister")&&this.registerElement(ut),ut},yt.prototype.addShape=function(G,$){this.appendDelegateObject(G,$);var ut=G.addShape($);return this.get("isRegister")&&this.registerElement(ut),ut},yt.prototype.addComponent=function(G,$){var ut=$.id,Ct=$.component,Dt=(0,x.__rest)($,["id","component"]),Xt=new Ct((0,x.__assign)((0,x.__assign)({},Dt),{id:ut,container:G,updateAutoRender:this.get("updateAutoRender")}));return Xt.init(),Xt.render(),this.get("isRegister")&&this.registerElement(Xt.get("group")),Xt},yt.prototype.initEvent=function(){},yt.prototype.removeEvent=function(){var G=this.get("group");G.off()},yt.prototype.getElementId=function(G){var $=this.get("id"),ut=this.get("name");return $+"-"+ut+"-"+G},yt.prototype.registerElement=function(G){var $=G.get("id");this.get("shapesMap")[$]=G},yt.prototype.unregisterElement=function(G){var $=G.get("id");delete this.get("shapesMap")[$]},yt.prototype.moveElementTo=function(G,$){var ut=X($);G.attr("matrix",ut)},yt.prototype.addAnimation=function(G,$,ut){var Ct=$.attr("opacity");(0,g.isNil)(Ct)&&(Ct=1),$.attr("opacity",0),$.animate({opacity:Ct},ut)},yt.prototype.removeAnimation=function(G,$,ut){$.animate({opacity:0},ut)},yt.prototype.updateAnimation=function(G,$,ut,Ct){$.animate(ut,Ct)},yt.prototype.updateElements=function(G,$){var ut=this,Ct=this.get("animate"),Dt=this.get("animateOption"),Xt=G.getChildren().slice(0),ne;(0,g.each)(Xt,function(ae){var me=ae.get("id"),Ee=ut.getElementById(me),ze=ae.get("name");if(Ee)if(ae.get("isComponent")){var Ze=ae.get("component"),xr=Ee.get("component"),Gr=(0,g.pick)(Ze.cfg,(0,g.difference)((0,g.keys)(Ze.cfg),ct));xr.update(Gr),Ee.set(et,"update")}else{var kr=ut.getReplaceAttrs(Ee,ae);Ct&&Dt.update?ut.updateAnimation(ze,Ee,kr,Dt.update):Ee.attr(kr),ae.isGroup()&&ut.updateElements(ae,Ee),(0,g.each)(it,function(It){Ee.set(It,ae.get(It))}),j(Ee,ae),ne=Ee,Ee.set(et,"update")}else{$.add(ae);var hn=$.getChildren();if(hn.splice(hn.length-1,1),ne){var vn=hn.indexOf(ne);hn.splice(vn+1,0,ae)}else hn.unshift(ae);if(ut.registerElement(ae),ae.set(et,"add"),ae.get("isComponent")){var Ze=ae.get("component");Ze.set("container",$)}else ae.isGroup()&&ut.registerNewGroup(ae);if(ne=ae,Ct){var cn=ut.get("isInit")?Dt.appear:Dt.enter;cn&&ut.addAnimation(ze,ae,cn)}}})},yt.prototype.clearUpdateStatus=function(G){var $=G.getChildren();(0,g.each)($,function(ut){ut.set(et,null)})},yt.prototype.clearOffScreenCache=function(){var G=this.get("offScreenGroup");G&&G.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},yt.prototype.getDelegateObject=function(){var G,$=this.get("name"),ut=(G={},G[$]=this,G.component=this,G);return ut},yt.prototype.appendDelegateObject=function(G,$){var ut=G.get("delegateObject");$.delegateObject||($.delegateObject={}),(0,g.mix)($.delegateObject,ut)},yt.prototype.getReplaceAttrs=function(G,$){var ut=G.attr(),Ct=$.attr();return(0,g.each)(ut,function(Dt,Xt){Ct[Xt]===void 0&&(Ct[Xt]=void 0)}),Ct},yt.prototype.registerNewGroup=function(G){var $=this,ut=G.getChildren();(0,g.each)(ut,function(Ct){$.registerElement(Ct),Ct.set(et,"add"),Ct.isGroup()&&$.registerNewGroup(Ct)})},yt.prototype.deleteElements=function(){var G=this,$=this.get("shapesMap"),ut=[];(0,g.each)($,function(Xt,ne){!Xt.get(et)||Xt.destroyed?ut.push([ne,Xt]):Xt.set(et,null)});var Ct=this.get("animate"),Dt=this.get("animateOption");(0,g.each)(ut,function(Xt){var ne=Xt[0],ae=Xt[1];if(!ae.destroyed){var me=ae.get("name");if(Ct&&Dt.leave){var Ee=(0,g.mix)({callback:function(){G.removeElement(ae)}},Dt.leave);G.removeAnimation(me,ae,Ee)}else G.removeElement(ae)}delete $[ne]})},yt.prototype.removeElement=function(G){if(G.get("isGroup")){var $=G.get("component");$&&$.destroy()}G.remove()},yt}(vt),tt=rt,mt="\u2026";function _t(Vt){for(var yt=0,G=0;G<Vt.length;G++)yt+=Wt(Vt,G);return yt}function Wt(Vt,yt){return Vt.charCodeAt(yt)>0&&Vt.charCodeAt(yt)<128?1:2}function te(Vt,yt,G){G===void 0&&(G="tail");var $=Vt.length,ut="";if(G==="tail"){for(var Ct=0,Dt=0;Ct<yt;){var Xt=Wt(Vt,Dt);if(Ct+Xt<=yt)ut+=Vt[Dt],Ct+=Wt(Vt,Dt),Dt++;else break}ut+=mt}else if(G==="head"){for(var Ct=0,Dt=$-1;Ct<yt;){var Xt=Wt(Vt,Dt);if(Ct+Xt<=yt)ut+=Vt[Dt],Ct+=Wt(Vt,Dt),Dt--;else break}ut=mt+ut}else{for(var ne="",ae="",Ct=0,me=0,Ee=$-1;Ct<yt;){var ze=Wt(Vt,me),Ze=!1;ze+Ct<=yt&&(ne+=Vt[me],me++,Ct+=ze,Ze=!0);var xr=Wt(Vt,Ee);if(xr+Ct<=yt&&(ae=Vt[Ee]+ae,Ct+=xr,Ee--,Ze=!0),!Ze)break}ut=ne+mt+ae}return ut}var ce="\u2026",Pe=2;function we(Vt){var yt=0;return(0,g.each)(Vt,function(G){var $=G.getBBox(),ut=$.width;yt<ut&&(yt=ut)}),yt}function Ce(Vt,yt){var G=yt.getCanvasBBox();return Vt?G.width:G.height}function Ge(Vt,yt){return Vt.getBBox().width<yt}function $e(Vt,yt,G,$){$===void 0&&($="tail");var ut=yt.attr("text"),Ct=Ce(Vt,yt),Dt=_t(ut),Xt=!1;if(G<Ct){var ne=Math.floor(G/Ct*Dt)-Pe,ae=void 0;ne>=0?ae=te(ut,ne,$):ae=ce,ae&&(yt.attr("text",ae),Xt=!0)}return Xt?yt.set("tip",ut):yt.set("tip",null),Xt}function cr(Vt,yt){var G=yt.x,$=yt.y,ut=yt.content,Ct=yt.style,Dt=yt.id,Xt=yt.name,ne=yt.rotate,ae=yt.maxLength,me=yt.autoEllipsis,Ee=yt.isVertical,ze=yt.ellipsisPosition,Ze=yt.background,xr=Vt.addGroup({id:Dt+"-group",name:Xt+"-group",attrs:{x:G,y:$}}),Gr=xr.addShape({type:"text",id:Dt,name:Xt,attrs:(0,x.__assign)({x:0,y:0,text:ut},Ct)}),kr=Ot((0,g.get)(Ze,"padding",0));if(ae&&me){var hn=ae-(kr[1]+kr[3]);$e(!Ee,Gr,hn,ze)}if(Ze){var vn=(0,g.get)(Ze,"style",{}),cn=Gr.getCanvasBBox(),It=cn.minX,ee=cn.minY,ve=cn.width,be=cn.height,Fe=xr.addShape("rect",{id:Dt+"-bg",name:Dt+"-bg",attrs:(0,x.__assign)({x:It-kr[3],y:ee-kr[0],width:ve+kr[1]+kr[3],height:be+kr[0]+kr[2]},vn)});Fe.toBack()}ft(xr,G,$),wt(xr,ne,G,$)}var or={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},Xr=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:or.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:or.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:or.lineColor,lineWidth:1}}}})},yt.prototype.renderInner=function(G){this.renderLine(G),this.get("text")&&this.renderLabel(G)},yt.prototype.renderLine=function(G){var $=this.get("start"),ut=this.get("end"),Ct=this.get("style");this.addShape(G,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,x.__assign)({x1:$.x,y1:$.y,x2:ut.x,y2:ut.y},Ct)})},yt.prototype.getLabelPoint=function(G,$,ut){var Ct;return ut==="start"?Ct=0:ut==="center"?Ct=.5:(0,g.isString)(ut)&&ut.indexOf("%")!==-1?Ct=parseInt(ut,10)/100:(0,g.isNumber)(ut)?Ct=ut:Ct=1,(Ct>1||Ct<0)&&(Ct=1),{x:Bt(G.x,$.x,Ct),y:Bt(G.y,$.y,Ct)}},yt.prototype.renderLabel=function(G){var $=this.get("text"),ut=this.get("start"),Ct=this.get("end"),Dt=$.position,Xt=$.content,ne=$.style,ae=$.offsetX,me=$.offsetY,Ee=$.autoRotate,ze=$.maxLength,Ze=$.autoEllipsis,xr=$.ellipsisPosition,Gr=$.background,kr=$.isVertical,hn=kr===void 0?!1:kr,vn=this.getLabelPoint(ut,Ct,Dt),cn=vn.x+ae,It=vn.y+me,ee={id:this.getElementId("line-text"),name:"annotation-line-text",x:cn,y:It,content:Xt,style:ne,maxLength:ze,autoEllipsis:Ze,ellipsisPosition:xr,background:Gr,isVertical:hn};if(Ee){var ve=[Ct.x-ut.x,Ct.y-ut.y];ee.rotate=Math.atan2(ve[1],ve[0])}cr(G,ee)},yt}(tt),xn=Xr,Wr=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:or.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:or.fontFamily}}})},yt.prototype.setLocation=function(G){this.set("x",G.x),this.set("y",G.y),this.resetLocation()},yt.prototype.renderInner=function(G){var $=this.getLocation(),ut=$.x,Ct=$.y,Dt=this.get("content"),Xt=this.get("style"),ne=this.getElementId("text"),ae=this.get("name")+"-text",me=this.get("maxLength"),Ee=this.get("autoEllipsis"),ze=this.get("isVertical"),Ze=this.get("ellipsisPosition"),xr=this.get("background"),Gr=this.get("rotate"),kr={id:ne,name:ae,x:ut,y:Ct,content:Dt,style:Xt,maxLength:me,autoEllipsis:Ee,isVertical:ze,ellipsisPosition:Ze,background:xr,rotate:Gr};cr(G,kr)},yt.prototype.resetLocation=function(){var G=this.getElementByLocalId("text-group");if(G){var $=this.getLocation(),ut=$.x,Ct=$.y,Dt=this.get("rotate");ft(G,ut,Ct),wt(G,Dt,ut,Ct)}},yt}(tt),sn=Wr,Jn=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},yt.prototype.renderInner=function(G){this.renderArc(G)},yt.prototype.getArcPath=function(){var G=this.getLocation(),$=G.center,ut=G.radius,Ct=G.startAngle,Dt=G.endAngle,Xt=gt($,ut,Ct),ne=gt($,ut,Dt),ae=Dt-Ct>Math.PI?1:0,me=[["M",Xt.x,Xt.y]];if(Dt-Ct==Math.PI*2){var Ee=gt($,ut,Ct+Math.PI);me.push(["A",ut,ut,0,ae,1,Ee.x,Ee.y]),me.push(["A",ut,ut,0,ae,1,ne.x,ne.y])}else me.push(["A",ut,ut,0,ae,1,ne.x,ne.y]);return me},yt.prototype.renderArc=function(G){var $=this.getArcPath(),ut=this.get("style");this.addShape(G,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,x.__assign)({path:$},ut)})},yt}(tt),ai=Jn,Si=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:or.regionColor,opacity:.4}}})},yt.prototype.renderInner=function(G){this.renderRegion(G)},yt.prototype.renderRegion=function(G){var $=this.get("start"),ut=this.get("end"),Ct=this.get("style"),Dt=Et({start:$,end:ut});this.addShape(G,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,x.__assign)({x:Dt.x,y:Dt.y,width:Dt.width,height:Dt.height},Ct)})},yt}(tt),Mi=Si,Ht=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},yt.prototype.renderInner=function(G){this.renderImage(G)},yt.prototype.getImageAttrs=function(){var G=this.get("start"),$=this.get("end"),ut=this.get("style"),Ct=Et({start:G,end:$}),Dt=this.get("src");return(0,x.__assign)({x:Ct.x,y:Ct.y,img:Dt,width:Ct.width,height:Ct.height},ut)},yt.prototype.renderImage=function(G){this.addShape(G,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},yt}(tt),Kt=Ht,ie=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:or.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:or.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:or.fontFamily}}}})},yt.prototype.renderInner=function(G){(0,g.get)(this.get("line"),"display")&&this.renderLine(G),(0,g.get)(this.get("text"),"display")&&this.renderText(G),(0,g.get)(this.get("point"),"display")&&this.renderPoint(G),this.get("autoAdjust")&&this.autoAdjust(G)},yt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},yt.prototype.renderPoint=function(G){var $=this.getShapeAttrs().point;this.addShape(G,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:$})},yt.prototype.renderLine=function(G){var $=this.getShapeAttrs().line;this.addShape(G,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:$})},yt.prototype.renderText=function(G){var $=this.getShapeAttrs().text,ut=$.x,Ct=$.y,Dt=$.text,Xt=(0,x.__rest)($,["x","y","text"]),ne=this.get("text"),ae=ne.background,me=ne.maxLength,Ee=ne.autoEllipsis,ze=ne.isVertival,Ze=ne.ellipsisPosition,xr={x:ut,y:Ct,id:this.getElementId("text"),name:"annotation-text",content:Dt,style:Xt,background:ae,maxLength:me,autoEllipsis:Ee,isVertival:ze,ellipsisPosition:Ze};cr(G,xr)},yt.prototype.autoAdjust=function(G){var $=this.get("direction"),ut=this.get("x"),Ct=this.get("y"),Dt=(0,g.get)(this.get("line"),"length",0),Xt=this.get("coordinateBBox"),ne=G.getBBox(),ae=ne.minX,me=ne.maxX,Ee=ne.minY,ze=ne.maxY,Ze=G.findById(this.getElementId("text-group")),xr=G.findById(this.getElementId("text")),Gr=G.findById(this.getElementId("line"));if(!!Xt){if(Ze){if(ut+ae<=Xt.minX){var kr=Xt.minX-(ut+ae);ft(Ze,Ze.attr("x")+kr,Ze.attr("y"))}if(ut+me>=Xt.maxX){var kr=ut+me-Xt.maxX;ft(Ze,Ze.attr("x")-kr,Ze.attr("y"))}}if($==="upward"&&Ct+Ee<=Xt.minY||$!=="upward"&&Ct+ze>=Xt.maxY){var hn=void 0,vn=void 0;$==="upward"&&Ct+Ee<=Xt.minY?(hn="top",vn=1):(hn="bottom",vn=-1),xr.attr("textBaseline",hn),Gr&&Gr.attr("path",[["M",0,0],["L",0,Dt*vn]]),ft(Ze,Ze.attr("x"),(Dt+2)*vn)}}},yt.prototype.getShapeAttrs=function(){var G=(0,g.get)(this.get("line"),"display"),$=(0,g.get)(this.get("point"),"style",{}),ut=(0,g.get)(this.get("line"),"style",{}),Ct=(0,g.get)(this.get("text"),"style",{}),Dt=this.get("direction"),Xt=G?(0,g.get)(this.get("line"),"length",0):0,ne=Dt==="upward"?-1:1;return{point:(0,x.__assign)({x:0,y:0},$),line:(0,x.__assign)({path:[["M",0,0],["L",0,Xt*ne]]},ut),text:(0,x.__assign)({x:0,y:(Xt+2)*ne,text:(0,g.get)(this.get("text"),"content",""),textBaseline:Dt==="upward"?"bottom":"top"},Ct)}},yt}(tt),se=ie,xe=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:or.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:or.textColor,fontFamily:or.fontFamily}}}})},yt.prototype.renderInner=function(G){var $=(0,g.get)(this.get("region"),"style",{}),ut=(0,g.get)(this.get("text"),"style",{}),Ct=this.get("lineLength")||0,Dt=this.get("points");if(!!Dt.length){var Xt=bt(Dt),ne=[];ne.push(["M",Dt[0].x,Xt.minY-Ct]),Dt.forEach(function(me){ne.push(["L",me.x,me.y])}),ne.push(["L",Dt[Dt.length-1].x,Dt[Dt.length-1].y-Ct]),this.addShape(G,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,x.__assign)({path:ne},$)});var ae=(0,x.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(Xt.minX+Xt.maxX)/2,y:Xt.minY-Ct},this.get("text"));cr(G,ae)}},yt}(tt),Me=xe,Se=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},yt.prototype.renderInner=function(G){var $=this,ut=this.get("start"),Ct=this.get("end"),Dt=this.addGroup(G,{id:this.getElementId("region-filter"),capture:!1});(0,g.each)(this.get("shapes"),function(ne,ae){var me=ne.get("type"),Ee=(0,g.clone)(ne.attr());$.adjustShapeAttrs(Ee),$.addShape(Dt,{id:$.getElementId("shape-"+me+"-"+ae),capture:!1,type:me,attrs:Ee})});var Xt=Et({start:ut,end:Ct});Dt.setClip({type:"rect",attrs:{x:Xt.minX,y:Xt.minY,width:Xt.width,height:Xt.height}})},yt.prototype.adjustShapeAttrs=function(G){var $=this.get("color");G.fill&&(G.fill=G.fillStyle=$),G.stroke=G.strokeStyle=$},yt}(tt),_e=Se;function de(Vt,yt,G){var $=yt+"Style",ut=null;return(0,g.each)(G,function(Ct,Dt){Vt[Dt]&&Ct[$]&&(ut||(ut={}),(0,g.mix)(ut,Ct[$]))}),ut}var Ue=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:or.lineColor}},tickLine:{style:{lineWidth:1,stroke:or.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:or.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:or.textColor,textBaseline:"middle",fontFamily:or.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:or.textColor,textBaseline:"middle",fontFamily:or.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:or.uncheckedColor}}}}})},yt.prototype.renderInner=function(G){this.get("line")&&this.drawLine(G),this.drawTicks(G),this.get("title")&&this.drawTitle(G)},yt.prototype.isList=function(){return!0},yt.prototype.getItems=function(){return this.get("ticks")},yt.prototype.setItems=function(G){this.update({ticks:G})},yt.prototype.updateItem=function(G,$){(0,g.mix)(G,$),this.clear(),this.render()},yt.prototype.clearItems=function(){var G=this.getElementByLocalId("label-group");G&&G.clear()},yt.prototype.setItemState=function(G,$,ut){G[$]=ut,this.updateTickStates(G)},yt.prototype.hasState=function(G,$){return!!G[$]},yt.prototype.getItemStates=function(G){var $=this.get("tickStates"),ut=[];return(0,g.each)($,function(Ct,Dt){G[Dt]&&ut.push(Dt)}),ut},yt.prototype.clearItemsState=function(G){var $=this,ut=this.getItemsByState(G);(0,g.each)(ut,function(Ct){$.setItemState(Ct,G,!1)})},yt.prototype.getItemsByState=function(G){var $=this,ut=this.getItems();return(0,g.filter)(ut,function(Ct){return $.hasState(Ct,G)})},yt.prototype.getSidePoint=function(G,$){var ut=this,Ct=ut.getSideVector($,G);return{x:G.x+Ct[0],y:G.y+Ct[1]}},yt.prototype.getTextAnchor=function(G){var $;return(0,g.isNumberEqual)(G[0],0)?$="center":G[0]>0?$="start":G[0]<0&&($="end"),$},yt.prototype.processOverlap=function(G){},yt.prototype.drawLine=function(G){var $=this.getLinePath(),ut=this.get("line");this.addShape(G,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,g.mix)({path:$},ut.style)})},yt.prototype.getTickLineItems=function(G){var $=this,ut=[],Ct=this.get("tickLine"),Dt=Ct.alignTick,Xt=Ct.length,ne=1,ae=G.length;return ae>=2&&(ne=G[1].value-G[0].value),(0,g.each)(G,function(me){var Ee=me.point;Dt||(Ee=$.getTickPoint(me.value-ne/2));var ze=$.getSidePoint(Ee,Xt);ut.push({startPoint:Ee,tickValue:me.value,endPoint:ze,tickId:me.id,id:"tickline-"+me.id})}),ut},yt.prototype.getSubTickLineItems=function(G){var $=[],ut=this.get("subTickLine"),Ct=ut.count,Dt=G.length;if(Dt>=2)for(var Xt=0;Xt<Dt-1;Xt++)for(var ne=G[Xt],ae=G[Xt+1],me=0;me<Ct;me++){var Ee=(me+1)/(Ct+1),ze=(1-Ee)*ne.tickValue+Ee*ae.tickValue,Ze=this.getTickPoint(ze),xr=this.getSidePoint(Ze,ut.length);$.push({startPoint:Ze,endPoint:xr,tickValue:ze,id:"sub-"+ne.id+"-"+me})}return $},yt.prototype.getTickLineAttrs=function(G,$){var ut=this.get($).style,Ct=G.startPoint,Dt=G.endPoint,Xt=(0,g.mix)({x1:Ct.x,y1:Ct.y,x2:Dt.x,y2:Dt.y},ut);return Xt},yt.prototype.drawTick=function(G,$,ut){this.addShape($,{type:"line",id:this.getElementId(G.id),name:"axis-"+ut,attrs:this.getTickLineAttrs(G,ut)})},yt.prototype.drawTickLines=function(G){var $=this,ut=this.get("ticks"),Ct=this.get("subTickLine"),Dt=this.getTickLineItems(ut),Xt=this.addGroup(G,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),ne=this.get("tickLine");if((0,g.each)(Dt,function(me){if(ne.displayWithLabel){var Ee=$.getElementId("label-"+me.tickId);G.findById(Ee)&&$.drawTick(me,Xt,"tickLine")}else $.drawTick(me,Xt,"tickLine")}),Ct){var ae=this.getSubTickLineItems(Dt);(0,g.each)(ae,function(me){$.drawTick(me,Xt,"subTickLine")})}},yt.prototype.processTicks=function(){var G=this,$=this.get("ticks");(0,g.each)($,function(ut){ut.point=G.getTickPoint(ut.value),(0,g.isNil)(ut.id)&&(ut.id=ut.name)})},yt.prototype.drawTicks=function(G){var $=this;this.processTicks(),this.get("label")&&this.drawLabels(G),this.get("tickLine")&&this.drawTickLines(G);var ut=this.get("ticks");(0,g.each)(ut,function(Ct){$.applyTickStates(Ct,G)})},yt.prototype.getLabelAttrs=function(G,$){var ut=this.get("label"),Ct=ut.offset,Dt=ut.style,Xt=ut.rotate,ne=ut.formatter,ae=this.getSidePoint(G.point,Ct),me=this.getSideVector(Ct,ae),Ee=ne?ne(G.name,G,$):G.name,ze=(0,g.mix)({x:ae.x,y:ae.y,text:Ee,textAlign:this.getTextAnchor(me)},Dt);return Xt&&(ze.matrix=Z(ae,Xt)),ze},yt.prototype.drawLabels=function(G){var $=this,ut=this.get("ticks"),Ct=this.addGroup(G,{name:"axis-label-group",id:this.getElementId("label-group")});(0,g.each)(ut,function(Dt,Xt){$.addShape(Ct,{type:"text",name:"axis-label",id:$.getElementId("label-"+Dt.id),attrs:$.getLabelAttrs(Dt,Xt),delegateObject:{tick:Dt,item:Dt,index:Xt}})}),this.processOverlap(Ct)},yt.prototype.getTitleAttrs=function(){var G=this.get("title"),$=G.style,ut=G.position,Ct=G.offset,Dt=G.spacing,Xt=Dt===void 0?0:Dt,ne=G.autoRotate,ae=$.fontSize,me=.5;ut==="start"?me=0:ut==="end"&&(me=1);var Ee=this.getTickPoint(me),ze=this.getSidePoint(Ee,Ct||Xt+ae/2),Ze=(0,g.mix)({x:ze.x,y:ze.y,text:G.text},$),xr=G.rotate,Gr=xr;if((0,g.isNil)(xr)&&ne){var kr=this.getAxisVector(Ee),hn=[1,0];Gr=B.angleTo(kr,hn,!0)}if(Gr){var vn=Z(ze,Gr);Ze.matrix=vn}return Ze},yt.prototype.drawTitle=function(G){this.addShape(G,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},yt.prototype.applyTickStates=function(G,$){var ut=this.getItemStates(G);if(ut.length){var Ct=this.get("tickStates"),Dt=this.getElementId("label-"+G.id),Xt=$.findById(Dt);if(Xt){var ne=de(G,"label",Ct);ne&&Xt.attr(ne)}var ae=this.getElementId("tickline-"+G.id),me=$.findById(ae);if(me){var Ee=de(G,"tickLine",Ct);Ee&&me.attr(Ee)}}},yt.prototype.updateTickStates=function(G){var $=this.getItemStates(G),ut=this.get("tickStates"),Ct=this.get("label"),Dt=this.getElementByLocalId("label-"+G.id),Xt=this.get("tickLine"),ne=this.getElementByLocalId("tickline-"+G.id);if($.length){if(Dt){var ae=de(G,"label",ut);ae&&Dt.attr(ae)}if(ne){var me=de(G,"tickLine",ut);me&&ne.attr(me)}}else Dt&&Dt.attr(Ct.style),ne&&ne.attr(Xt.style)},yt}(tt),Re=Ue;function tr(Vt,yt,G,$){var ut=yt.getChildren(),Ct=!1;return(0,g.each)(ut,function(Dt){var Xt=$e(Vt,Dt,G,$);Ct=Ct||Xt}),Ct}function hr(){return vr}function ar(Vt,yt,G){return tr(Vt,yt,G,"head")}function vr(Vt,yt,G){return tr(Vt,yt,G,"tail")}function pr(Vt,yt,G){return tr(Vt,yt,G,"middle")}function Cr(Vt){var yt=Vt.attr("matrix");return yt&&yt[0]!==1}function Je(Vt,yt,G,$,ut){ut===void 0&&(ut=!1);var Ct=!1;if(Vt)Ct=Math.abs(G.y-$.y)<G.height;else if(yt){var Dt=ut?$.height:G.height;Ct=Math.abs(G.x-$.x)<Dt}else{var Xt=ut?$.width:G.width;Ct=Math.abs(G.x-$.x)<Xt}return Ct}function Ar(Vt,yt,G){var $=yt.getChildren().slice();if(!$.length)return!1;var ut=!1;G&&$.reverse();for(var Ct=$.length,Dt=$[0],Xt=Cr(Dt),ne=Dt.getBBox(),ae=1;ae<Ct;ae++){var me=$[ae],Ee=me.getBBox(),ze=Je(Vt,Xt,ne,Ee,G);ze?(me.hide(),ut=!0):ne=Ee}return ut}function Ir(){return Kr}function Tr(Vt,yt){return Ar(Vt,yt,!1)}function Rr(Vt,yt){return Ar(Vt,yt,!0)}function Zr(Vt,yt){var G=yt.getChildren().slice();if(G.length<=2)return!1;for(var $=!1,ut=G.length,Ct=G[0],Dt=G[ut-1],Xt=Cr(Ct),ne=Ct.getBBox(),ae=Ct,me=1;me<ut-1;me++){var Ee=G[me],ze=Ee.getBBox(),Ze=Je(Vt,Xt,ne,ze);Ze?(Ee.hide(),$=!0):(ne=ze,ae=Ee)}var xr=Dt.getBBox(),Gr=Je(Vt,Xt,ne,xr);return Gr&&(ae.hide(),$=!0),$}function Kr(Vt,yt){var G=yt.getChildren().slice();if(G.length<2)return!1;var $=!1,ut=G[0],Ct=ut.getBBox(),Dt=G[1],Xt=Cr(ut),ne=G.length,ae=0;if(Vt){var me=Math.abs(Dt.attr("y")-ut.attr("y"));ae=Ct.height/me}else if(Xt){var me=Math.abs(Dt.attr("x")-ut.attr("x"));ae=Ct.width/me}else{var Ee=we(G),me=Math.abs(Dt.attr("x")-ut.attr("x"));ae=Ee/me}if(ae>1){ae=Math.ceil(ae);for(var ze=0;ze<ne;ze++)ze%ae!=0&&(G[ze].hide(),$=!0)}return $}function jn(Vt,yt){(0,g.each)(Vt,function(G){var $=G.attr("x"),ut=G.attr("y"),Ct=Z({x:$,y:ut},yt);G.attr("matrix",Ct)})}function ln(Vt,yt,G,$){var ut=yt.getChildren();if(!ut.length||!Vt&&ut.length<2)return!1;var Ct=we(ut),Dt=!1;if(Vt)Dt=!!G&&Ct>G;else{var Xt=Math.abs(ut[1].attr("x")-ut[0].attr("x"));Dt=Ct>Xt}if(Dt){var ne=$(G,Ct);jn(ut,ne)}return Dt}function Kn(){return ci}function ci(Vt,yt,G){return ln(Vt,yt,G,function(){return Vt?or.verticalAxisRotate:or.horizontalAxisRotate})}function oi(Vt,yt,G){return ln(Vt,yt,G,function($,ut){if(!$)return Vt?or.verticalAxisRotate:or.horizontalAxisRotate;if(Vt)return-Math.acos($/ut);var Ct=0;return $>ut?Ct=Math.PI/4:(Ct=Math.asin($/ut),Ct>Math.PI/4&&(Ct=Math.PI/4)),Ct})}var Li=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{type:"line",locationType:"region",start:null,end:null})},yt.prototype.getLinePath=function(){var G=this.get("start"),$=this.get("end"),ut=[];return ut.push(["M",G.x,G.y]),ut.push(["L",$.x,$.y]),ut},yt.prototype.getInnerLayoutBBox=function(){var G=this.get("start"),$=this.get("end"),ut=Vt.prototype.getInnerLayoutBBox.call(this),Ct=Math.min(G.x,$.x,ut.x),Dt=Math.min(G.y,$.y,ut.y),Xt=Math.max(G.x,$.x,ut.maxX),ne=Math.max(G.y,$.y,ut.maxY);return{x:Ct,y:Dt,minX:Ct,minY:Dt,maxX:Xt,maxY:ne,width:Xt-Ct,height:ne-Dt}},yt.prototype.isVertical=function(){var G=this.get("start"),$=this.get("end");return(0,g.isNumberEqual)(G.x,$.x)},yt.prototype.isHorizontal=function(){var G=this.get("start"),$=this.get("end");return(0,g.isNumberEqual)(G.y,$.y)},yt.prototype.getTickPoint=function(G){var $=this,ut=$.get("start"),Ct=$.get("end"),Dt=Ct.x-ut.x,Xt=Ct.y-ut.y;return{x:ut.x+Dt*G,y:ut.y+Xt*G}},yt.prototype.getSideVector=function(G){var $=this.getAxisVector(),ut=F.normalize([0,0],$),Ct=this.get("verticalFactor"),Dt=[ut[1],ut[0]*-1];return F.scale([0,0],Dt,G*Ct)},yt.prototype.getAxisVector=function(){var G=this.get("start"),$=this.get("end");return[$.x-G.x,$.y-G.y]},yt.prototype.processOverlap=function(G){var $=this,ut=this.isVertical(),Ct=this.isHorizontal();if(!(!ut&&!Ct)){var Dt=this.get("label"),Xt=this.get("title"),ne=this.get("verticalLimitLength"),ae=Dt.offset,me=ne,Ee=0,ze=0;Xt&&(Ee=Xt.style.fontSize,ze=Xt.spacing),me&&(me=me-ae-ze-Ee);var Ze=this.get("overlapOrder");if((0,g.each)(Ze,function(kr){Dt[kr]&&$.autoProcessOverlap(kr,Dt[kr],G,me)}),Xt){var xr=G.getBBox(),Gr=ut?xr.width:xr.height;(0,g.isNil)(Xt.offset)&&(Xt.offset=ae+Gr+ze+Ee/2)}}},yt.prototype.autoProcessOverlap=function(G,$,ut,Ct){var Dt=this,Xt=this.isVertical(),ne=!1,ae=P[G];if($===!0?ne=ae.getDefault()(Xt,ut,Ct):(0,g.isFunction)($)?ne=$(Xt,ut,Ct):ae[$]&&(ne=ae[$](Xt,ut,Ct)),G==="autoRotate"){if(ne){var me=ut.getChildren(),Ee=this.get("verticalFactor");(0,g.each)(me,function(Ze){var xr=Ze.attr("textAlign");if(xr==="center"){var Gr=Ee>0?"end":"start";Ze.attr("textAlign",Gr)}})}}else if(G==="autoHide"){var ze=ut.getChildren().slice(0);(0,g.each)(ze,function(Ze){Ze.get("visible")||(Dt.get("isRegister")&&Dt.unregisterElement(Ze),Ze.remove())})}},yt}(Re),Ii=Li,Br=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},yt.prototype.getLinePath=function(){var G=this.get("center"),$=G.x,ut=G.y,Ct=this.get("radius"),Dt=Ct,Xt=this.get("startAngle"),ne=this.get("endAngle"),ae=[];if(Math.abs(ne-Xt)===Math.PI*2)ae=[["M",$,ut-Dt],["A",Ct,Dt,0,1,1,$,ut+Dt],["A",Ct,Dt,0,1,1,$,ut-Dt],["Z"]];else{var me=this.getCirclePoint(Xt),Ee=this.getCirclePoint(ne),ze=Math.abs(ne-Xt)>Math.PI?1:0,Ze=Xt>ne?0:1;ae=[["M",$,ut],["L",me.x,me.y],["A",Ct,Dt,0,ze,Ze,Ee.x,Ee.y],["L",$,ut]]}return ae},yt.prototype.getTickPoint=function(G){var $=this.get("startAngle"),ut=this.get("endAngle"),Ct=$+(ut-$)*G;return this.getCirclePoint(Ct)},yt.prototype.getSideVector=function(G,$){var ut=this.get("center"),Ct=[$.x-ut.x,$.y-ut.y],Dt=this.get("verticalFactor"),Xt=F.length(Ct);return F.scale(Ct,Ct,Dt*G/Xt),Ct},yt.prototype.getAxisVector=function(G){var $=this.get("center"),ut=[G.x-$.x,G.y-$.y];return[ut[1],-1*ut[0]]},yt.prototype.getCirclePoint=function(G,$){var ut=this.get("center");return $=$||this.get("radius"),{x:ut.x+Math.cos(G)*$,y:ut.y+Math.sin(G)*$}},yt}(Re),vi=Br,ki=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:or.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:or.textColor,textAlign:"center",textBaseline:"middle",fontFamily:or.fontFamily}},textBackground:{padding:5,style:{stroke:or.lineColor}}}})},yt.prototype.renderInner=function(G){this.get("line")&&this.renderLine(G),this.get("text")&&(this.renderText(G),this.renderBackground(G))},yt.prototype.renderText=function(G){var $=this.get("text"),ut=$.style,Ct=$.autoRotate,Dt=$.content;if(!(0,g.isNil)(Dt)){var Xt=this.getTextPoint(),ne=null;if(Ct){var ae=this.getRotateAngle();ne=Z(Xt,ae)}this.addShape(G,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,x.__assign)((0,x.__assign)((0,x.__assign)({},Xt),{text:Dt,matrix:ne}),ut)})}},yt.prototype.renderLine=function(G){var $=this.getLinePath(),ut=this.get("line"),Ct=ut.style;this.addShape(G,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,x.__assign)({path:$},Ct)})},yt.prototype.renderBackground=function(G){var $=this.getElementId("text"),ut=G.findById($),Ct=this.get("textBackground");if(Ct&&ut){var Dt=ut.getBBox(),Xt=Ot(Ct.padding),ne=Ct.style,ae=this.addShape(G,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,x.__assign)({x:Dt.x-Xt[3],y:Dt.y-Xt[0],width:Dt.width+Xt[1]+Xt[3],height:Dt.height+Xt[0]+Xt[2],matrix:ut.attr("matrix")},ne)});ae.toBack()}},yt}(tt),li=ki,Tn=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{type:"line",locationType:"region",start:null,end:null})},yt.prototype.getRotateAngle=function(){var G=this.getLocation(),$=G.start,ut=G.end,Ct=this.get("text").position,Dt=Math.atan2(ut.y-$.y,ut.x-$.x),Xt=Ct==="start"?Dt-Math.PI/2:Dt+Math.PI/2;return Xt},yt.prototype.getTextPoint=function(){var G=this.getLocation(),$=G.start,ut=G.end,Ct=this.get("text"),Dt=Ct.position,Xt=Ct.offset;return at($,ut,Dt,Xt)},yt.prototype.getLinePath=function(){var G=this.getLocation(),$=G.start,ut=G.end;return[["M",$.x,$.y],["L",ut.x,ut.y]]},yt}(li),di=Tn,Gi=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},yt.prototype.getRotateAngle=function(){var G=this.getLocation(),$=G.startAngle,ut=G.endAngle,Ct=this.get("text").position,Dt=Ct==="start"?$+Math.PI/2:ut-Math.PI/2;return Dt},yt.prototype.getTextPoint=function(){var G=this.get("text"),$=G.position,ut=G.offset,Ct=this.getLocation(),Dt=Ct.center,Xt=Ct.radius,ne=Ct.startAngle,ae=Ct.endAngle,me=$==="start"?ne:ae,Ee=this.getRotateAngle()-Math.PI,ze=gt(Dt,Xt,me),Ze=Math.cos(Ee)*ut,xr=Math.sin(Ee)*ut;return{x:ze.x+Ze,y:ze.y+xr}},yt.prototype.getLinePath=function(){var G=this.getLocation(),$=G.center,ut=G.radius,Ct=G.startAngle,Dt=G.endAngle,Xt=null;if(Dt-Ct==Math.PI*2){var ne=$.x,ae=$.y;Xt=[["M",ne,ae-ut],["A",ut,ut,0,1,1,ne,ae+ut],["A",ut,ut,0,1,1,ne,ae-ut],["Z"]]}else{var me=gt($,ut,Ct),Ee=gt($,ut,Dt),ze=Math.abs(Dt-Ct)>Math.PI?1:0,Ze=Ct>Dt?0:1;Xt=[["M",me.x,me.y],["A",ut,ut,0,ze,Ze,Ee.x,Ee.y]]}return Xt},yt}(li),mi=Gi,Ci=d(6056),qn=d(45442),$i=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},yt.prototype.getContainer=function(){return this.get("container")},yt.prototype.show=function(){var G=this.get("container");G.style.display="",this.set("visible",!0)},yt.prototype.hide=function(){var G=this.get("container");G.style.display="none",this.set("visible",!1)},yt.prototype.setCapture=function(G){var $=this.getContainer(),ut=G?"auto":"none";$.style.pointerEvents=ut,this.set("capture",G)},yt.prototype.getBBox=function(){var G=this.getContainer(),$=parseFloat(G.style.left)||0,ut=parseFloat(G.style.top)||0;return Lt($,ut,G.clientWidth,G.clientHeight)},yt.prototype.clear=function(){var G=this.get("container");St(G)},yt.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Vt.prototype.destroy.call(this)},yt.prototype.init=function(){Vt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},yt.prototype.initCapture=function(){this.setCapture(this.get("capture"))},yt.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},yt.prototype.initDom=function(){},yt.prototype.initContainer=function(){var G=this.get("container");if((0,g.isNil)(G)){G=this.createDom();var $=this.get("parent");(0,g.isString)($)&&($=document.getElementById($),this.set("parent",$)),$.appendChild(G),this.set("container",G)}else(0,g.isString)(G)&&(G=document.getElementById(G),this.set("container",G));this.get("parent")||this.set("parent",G.parentNode)},yt.prototype.resetStyles=function(){var G=this.get("domStyles"),$=this.get("defaultStyles");G?G=(0,g.deepMix)({},$,G):G=$,this.set("domStyles",G)},yt.prototype.applyStyles=function(){var G=this.get("domStyles");if(!!G){var $=this.getContainer();this.applyChildrenStyles($,G);var ut=this.get("containerClassName");if(ut&&At($,ut)){var Ct=G[ut];(0,qn.Z)($,Ct)}}},yt.prototype.applyChildrenStyles=function(G,$){(0,g.each)($,function(ut,Ct){var Dt=G.getElementsByClassName(Ct);(0,g.each)(Dt,function(Xt){(0,qn.Z)(Xt,ut)})})},yt.prototype.applyStyle=function(G,$){var ut=this.get("domStyles");(0,qn.Z)($,ut[G])},yt.prototype.createDom=function(){var G=this.get("containerTpl");return(0,Ci.Z)(G)},yt.prototype.initEvent=function(){},yt.prototype.removeDom=function(){var G=this.get("container");G&&G.parentNode.removeChild(G)},yt.prototype.removeEvent=function(){},yt.prototype.updateInner=function(G){(0,g.hasKey)(G,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},yt.prototype.resetPosition=function(){},yt}(vt),ua=$i,Jt="g2-crosshair",Rt=Jt+"-line",Qt=Jt+"-text",pe,Oe=(pe={},pe[""+Jt]={position:"relative"},pe[""+Rt]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},pe[""+Qt]={position:"absolute",color:or.textColor,fontFamily:or.fontFamily},pe),rr=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Jt+'"></div>',crosshairTpl:'<div class="'+Rt+'"></div>',textTpl:'<span class="'+Qt+'">{content}</span>',domStyles:null,containerClassName:Jt,defaultStyles:Oe,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},yt.prototype.render=function(){this.resetText(),this.resetPosition()},yt.prototype.initCrossHair=function(){var G=this.getContainer(),$=this.get("crosshairTpl"),ut=(0,Ci.Z)($);G.appendChild(ut),this.applyStyle(Rt,ut),this.set("crosshairEl",ut)},yt.prototype.getTextPoint=function(){var G=this.getLocation(),$=G.start,ut=G.end,Ct=this.get("text"),Dt=Ct.position,Xt=Ct.offset;return at($,ut,Dt,Xt)},yt.prototype.resetText=function(){var G=this.get("text"),$=this.get("textEl");if(G){var ut=G.content;if(!$){var Ct=this.getContainer(),Dt=(0,g.substitute)(this.get("textTpl"),G);$=(0,Ci.Z)(Dt),Ct.appendChild($),this.applyStyle(Qt,$),this.set("textEl",$)}$.innerHTML=ut}else $&&$.remove()},yt.prototype.isVertical=function(G,$){return G.x===$.x},yt.prototype.resetPosition=function(){var G=this.get("crosshairEl");G||(this.initCrossHair(),G=this.get("crosshairEl"));var $=this.get("start"),ut=this.get("end"),Ct=Math.min($.x,ut.x),Dt=Math.min($.y,ut.y);this.isVertical($,ut)?(0,qn.Z)(G,{width:"1px",height:K(Math.abs(ut.y-$.y))}):(0,qn.Z)(G,{height:"1px",width:K(Math.abs(ut.x-$.x))}),(0,qn.Z)(G,{top:K(Dt),left:K(Ct)}),this.alignText()},yt.prototype.alignText=function(){var G=this.get("textEl");if(G){var $=this.get("text").align,ut=G.clientWidth,Ct=this.getTextPoint();switch($){case"center":Ct.x=Ct.x-ut/2;break;case"right":Ct.x=Ct.x-ut;case"left":break}(0,qn.Z)(G,{top:K(Ct.y),left:K(Ct.x)})}},yt.prototype.updateInner=function(G){(0,g.hasKey)(G,"text")&&this.resetText(),Vt.prototype.updateInner.call(this,G)},yt}(ua),ur=rr,lr=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:or.lineColor}}}})},yt.prototype.getLineType=function(){var G=this.get("line")||this.get("defaultCfg").line;return G.type},yt.prototype.renderInner=function(G){this.drawGrid(G)},yt.prototype.getAlternatePath=function(G,$){var ut=this.getGridPath(G),Ct=$.slice(0).reverse(),Dt=this.getGridPath(Ct,!0),Xt=this.get("closed");return Xt?ut=ut.concat(Dt):(Dt[0][0]="L",ut=ut.concat(Dt),ut.push(["Z"])),ut},yt.prototype.getPathStyle=function(){return this.get("line").style},yt.prototype.drawGrid=function(G){var $=this,ut=this.get("line"),Ct=this.get("items"),Dt=this.get("alternateColor"),Xt=null;(0,g.each)(Ct,function(ne,ae){var me=ne.id||ae;if(ut){var Ee=$.getPathStyle(),ze=$.getElementId("line-"+me),Ze=$.getGridPath(ne.points);$.addShape(G,{type:"path",name:"grid-line",id:ze,attrs:(0,g.mix)({path:Ze},Ee)})}if(Dt&&ae>0){var xr=$.getElementId("region-"+me),Gr=ae%2==0;if((0,g.isString)(Dt))Gr&&$.drawAlternateRegion(xr,G,Xt.points,ne.points,Dt);else{var kr=Gr?Dt[1]:Dt[0];$.drawAlternateRegion(xr,G,Xt.points,ne.points,kr)}}Xt=ne})},yt.prototype.drawAlternateRegion=function(G,$,ut,Ct,Dt){var Xt=this.getAlternatePath(ut,Ct);this.addShape($,{type:"path",id:G,name:"grid-region",attrs:{path:Xt,fill:Dt}})},yt}(tt),Vr=lr;function yn(Vt,yt,G,$){var ut=G-Vt,Ct=$-yt;return Math.sqrt(ut*ut+Ct*Ct)}var ti=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{type:"circle",center:null,closed:!0})},yt.prototype.getGridPath=function(G,$){var ut=this.getLineType(),Ct=this.get("closed"),Dt=[];if(G.length)if(ut==="circle"){var Xt=this.get("center"),ne=G[0],ae=yn(Xt.x,Xt.y,ne.x,ne.y),me=$?0:1;Ct?(Dt.push(["M",Xt.x,Xt.y-ae]),Dt.push(["A",ae,ae,0,0,me,Xt.x,Xt.y+ae]),Dt.push(["A",ae,ae,0,0,me,Xt.x,Xt.y-ae]),Dt.push(["Z"])):(0,g.each)(G,function(Ee,ze){ze===0?Dt.push(["M",Ee.x,Ee.y]):Dt.push(["A",ae,ae,0,0,me,Ee.x,Ee.y])})}else(0,g.each)(G,function(Ee,ze){ze===0?Dt.push(["M",Ee.x,Ee.y]):Dt.push(["L",Ee.x,Ee.y])}),Ct&&Dt.push(["Z"]);return Dt},yt}(Vr),Nt=ti,Ut=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{type:"line"})},yt.prototype.getGridPath=function(G){var $=[];return(0,g.each)(G,function(ut,Ct){Ct===0?$.push(["M",ut.x,ut.y]):$.push(["L",ut.x,ut.y])}),$},yt}(Vr),qt=Ut,ye=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},yt.prototype.getLayoutBBox=function(){var G=Vt.prototype.getLayoutBBox.call(this),$=this.get("x"),ut=this.get("y"),Ct=this.get("offsetX"),Dt=this.get("offsetY"),Xt=this.get("maxWidth"),ne=this.get("maxHeight"),ae=$+Ct,me=ut+Dt,Ee=G.maxX-ae,ze=G.maxY-me;return Xt&&(Ee=Math.min(Ee,Xt)),ne&&(ze=Math.min(ze,ne)),Lt(ae,me,Ee,ze)},yt.prototype.setLocation=function(G){this.set("x",G.x),this.set("y",G.y),this.resetLocation()},yt.prototype.resetLocation=function(){var G=this.get("x"),$=this.get("y"),ut=this.get("offsetX"),Ct=this.get("offsetY");this.moveElementTo(this.get("group"),{x:G+ut,y:$+Ct})},yt.prototype.applyOffset=function(){this.resetLocation()},yt.prototype.getDrawPoint=function(){return this.get("currentPoint")},yt.prototype.setDrawPoint=function(G){return this.set("currentPoint",G)},yt.prototype.renderInner=function(G){this.resetDraw(),this.get("title")&&this.drawTitle(G),this.drawLegendContent(G),this.get("background")&&this.drawBackground(G)},yt.prototype.drawBackground=function(G){var $=this.get("background"),ut=G.getBBox(),Ct=Ot($.padding),Dt=(0,x.__assign)({x:0,y:0,width:ut.width+Ct[1]+Ct[3],height:ut.height+Ct[0]+Ct[2]},$.style),Xt=this.addShape(G,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:Dt});Xt.toBack()},yt.prototype.drawTitle=function(G){var $=this.get("currentPoint"),ut=this.get("title"),Ct=ut.spacing,Dt=ut.style,Xt=ut.text,ne=this.addShape(G,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,x.__assign)({text:Xt,x:$.x,y:$.y},Dt)}),ae=ne.getBBox();this.set("currentPoint",{x:$.x,y:ae.maxY+Ct})},yt.prototype.resetDraw=function(){var G=this.get("background"),$={x:0,y:0};if(G){var ut=Ot(G.padding);$.x=ut[3],$.y=ut[0]}this.set("currentPoint",$)},yt}(tt),ge=ye,Te=function(Vt){(0,x.__extends)(yt,Vt);function yt(){var G=Vt!==null&&Vt.apply(this,arguments)||this;return G.currentPageIndex=1,G.totalPagesCnt=1,G.pageWidth=0,G.pageHeight=0,G.startX=0,G.startY=0,G.onNavigationBack=function(){var $=G.getElementByLocalId("item-group");if(G.currentPageIndex>1){G.currentPageIndex-=1,G.updateNavigation();var ut=G.getCurrentNavigationMatrix();G.get("animate")?$.animate({matrix:ut},100):$.attr({matrix:ut})}},G.onNavigationAfter=function(){var $=G.getElementByLocalId("item-group");if(G.currentPageIndex<G.totalPagesCnt){G.currentPageIndex+=1,G.updateNavigation();var ut=G.getCurrentNavigationMatrix();G.get("animate")?$.animate({matrix:ut},100):$.attr({matrix:ut})}},G}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:or.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:or.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:or.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:or.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:or.uncheckedColor},markerStyle:{fill:or.uncheckedColor,stroke:or.uncheckedColor}},inactive:{nameStyle:{fill:or.uncheckedColor},markerStyle:{opacity:.2}}}}})},yt.prototype.isList=function(){return!0},yt.prototype.getItems=function(){return this.get("items")},yt.prototype.setItems=function(G){this.update({items:G})},yt.prototype.updateItem=function(G,$){(0,g.mix)(G,$),this.clear(),this.render()},yt.prototype.clearItems=function(){var G=this.getElementByLocalId("item-group");G&&G.clear()},yt.prototype.setItemState=function(G,$,ut){G[$]=ut;var Ct=this.getElementByLocalId("item-"+G.id);if(Ct){var Dt=this.getItems(),Xt=Dt.indexOf(G),ne=this.createOffScreenGroup(),ae=this.drawItem(G,Xt,this.getItemHeight(),ne);this.updateElements(ae,Ct),this.clearUpdateStatus(Ct)}},yt.prototype.hasState=function(G,$){return!!G[$]},yt.prototype.getItemStates=function(G){var $=this.get("itemStates"),ut=[];return(0,g.each)($,function(Ct,Dt){G[Dt]&&ut.push(Dt)}),ut},yt.prototype.clearItemsState=function(G){var $=this,ut=this.getItemsByState(G);(0,g.each)(ut,function(Ct){$.setItemState(Ct,G,!1)})},yt.prototype.getItemsByState=function(G){var $=this,ut=this.getItems();return(0,g.filter)(ut,function(Ct){return $.hasState(Ct,G)})},yt.prototype.drawLegendContent=function(G){this.processItems(),this.drawItems(G)},yt.prototype.processItems=function(){var G=this.get("items");(0,g.each)(G,function($){$.id||($.id=$.name)})},yt.prototype.drawItems=function(G){var $=this,ut=this.addGroup(G,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),Ct=this.addGroup(ut,{id:this.getElementId("item-group"),name:"legend-item-group"}),Dt=this.getItemHeight(),Xt=this.get("itemWidth"),ne=this.get("itemSpacing"),ae=this.get("currentPoint"),me=ae.x,Ee=ae.y,ze=this.get("layout"),Ze=this.get("items"),xr=!1,Gr=0,kr=this.get("maxWidth"),hn=this.get("maxHeight");(0,g.each)(Ze,function(vn,cn){var It=$.drawItem(vn,cn,Dt,Ct),ee=It.getBBox(),ve=Xt||ee.width;ve>Gr&&(Gr=ve),ze==="horizontal"?(kr&&kr<ae.x+ve-me&&(xr=!0,ae.x=me,ae.y+=Dt),$.moveElementTo(It,ae),ae.x+=ve+ne):(hn&&hn<ae.y+Dt-Ee&&(xr=!0,ae.x+=Gr+ne,ae.y=Ee,Gr=0),$.moveElementTo(It,ae),ae.y+=Dt)}),xr&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=me,this.startY=Ee,this.adjustNavigation(G,Ct))},yt.prototype.getItemHeight=function(){var G=this.get("itemHeight");if(!G){var $=this.get("itemName");$&&(G=$.style.fontSize+8)}return G},yt.prototype.drawMarker=function(G,$,ut,Ct){var Dt=(0,x.__assign)((0,x.__assign)((0,x.__assign)({x:0,y:Ct/2},$.style),{symbol:(0,g.get)(ut.marker,"symbol","circle")}),(0,g.get)(ut.marker,"style",{})),Xt=this.addShape(G,{type:"marker",id:this.getElementId("item-"+ut.id+"-marker"),name:"legend-item-marker",attrs:Dt}),ne=Xt.getBBox();Xt.attr("x",ne.width/2);var ae=Xt.attr(),me=ae.stroke,Ee=ae.fill;return me&&Xt.set("isStroke",!0),Ee&&Xt.set("isFill",!0),Xt},yt.prototype.drawItemText=function(G,$,ut,Ct,Dt,Xt,ne){var ae=ut.formatter,me=(0,x.__assign)({x:Xt,y:Dt/2,text:ae?ae(Ct[$],Ct,ne):Ct[$]},ut.style);return this.addShape(G,{type:"text",id:this.getElementId("item-"+Ct.id+"-"+$),name:"legend-item-"+$,attrs:me})},yt.prototype.drawItem=function(G,$,ut,Ct){var Dt="item-"+G.id,Xt=this.addGroup(Ct,{name:"legend-item-container",id:this.getElementId("item-container-"+Dt),delegateObject:{item:G,index:$}}),ne=this.addGroup(Xt,{name:"legend-item",id:this.getElementId(Dt),delegateObject:{item:G,index:$}}),ae=this.get("marker"),me=this.get("itemName"),Ee=this.get("itemValue"),ze=this.get("itemBackground"),Ze=this.getLimitItemWidth(),xr=0;if(ae){var Gr=this.drawMarker(ne,ae,G,ut);xr=Gr.getBBox().maxX+ae.spacing}if(me){var kr=this.drawItemText(ne,"name",me,G,ut,xr,$);Ze&&$e(!0,kr,(0,g.clamp)(Ze-xr,0,Ze)),xr=kr.getBBox().maxX+me.spacing}if(Ee){var hn=this.drawItemText(ne,"value",Ee,G,ut,xr,$);Ze&&(Ee.alignRight?(hn.attr({textAlign:"right",x:Ze}),$e(!0,hn,(0,g.clamp)(Ze-xr,0,Ze),"head")):$e(!0,hn,(0,g.clamp)(Ze-xr,0,Ze)))}if(ze){var vn=ne.getBBox(),cn=this.addShape(ne,{type:"rect",name:"legend-item-background",id:this.getElementId(Dt+"-background"),attrs:(0,x.__assign)({x:0,y:0,width:vn.width,height:ut},ze.style)});cn.toBack()}return this.applyItemStates(G,ne),ne},yt.prototype.adjustNavigation=function(G,$){var ut=this,Ct=this.startX,Dt=this.startY,Xt=this.get("layout"),ne=$.findAll(function(ve){return ve.get("name")==="legend-item"}),ae=this.get("maxWidth"),me=this.get("maxHeight"),Ee=this.get("itemWidth"),ze=this.get("itemSpacing"),Ze=this.getItemHeight(),xr=this.drawNavigation(G,Xt,"00/00",12),Gr=xr.getBBox(),kr={x:Ct,y:Dt},hn=1,vn=0,cn=0,It=0;if(Xt==="horizontal")this.pageHeight=Ze,(0,g.each)(ne,function(ve){var be=ve.getBBox(),Fe=Ee||be.width;(vn&&vn<kr.x+Fe+ze||ae<kr.x+Fe+ze+Gr.width)&&(hn===1&&(vn=kr.x+ze,ut.pageWidth=vn,ut.moveElementTo(xr,{x:ae-ze-Gr.width-Gr.minX,y:kr.y+Ze/2-Gr.height/2-Gr.minY})),hn+=1,kr.x=Ct,kr.y+=Ze),ut.moveElementTo(ve,kr),ve.getParent().setClip({type:"rect",attrs:{x:kr.x,y:kr.y,width:Fe+ze,height:Ze}}),kr.x+=Fe+ze});else{(0,g.each)(ne,function(ve){var be=ve.getBBox();be.width>cn&&(cn=be.width)}),It=cn,cn+=ze,ae&&(cn=Math.min(ae,cn),It=Math.min(ae,It)),this.pageWidth=cn,this.pageHeight=me-Math.max(Gr.height,Ze);var ee=Math.floor(this.pageHeight/Ze);(0,g.each)(ne,function(ve,be){be!==0&&be%ee==0&&(hn+=1,kr.x+=cn,kr.y=Dt),ut.moveElementTo(ve,kr),ve.getParent().setClip({type:"rect",attrs:{x:kr.x,y:kr.y,width:cn,height:Ze}}),kr.y+=Ze}),this.totalPagesCnt=hn,this.moveElementTo(xr,{x:Ct+It/2-Gr.width/2-Gr.minX,y:me-Gr.height-Gr.minY})}this.pageHeight&&this.pageWidth&&$.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=hn,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(xr),$.attr("matrix",this.getCurrentNavigationMatrix())},yt.prototype.drawNavigation=function(G,$,ut,Ct){var Dt={x:0,y:0},Xt=this.addGroup(G,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),ne=this.drawArrow(Xt,Dt,"navigation-arrow-left",$==="horizontal"?"up":"left",Ct);ne.on("click",this.onNavigationBack);var ae=ne.getBBox();Dt.x+=ae.width+2;var me=this.addShape(Xt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:Dt.x,y:Dt.y+Ct/2,text:ut,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),Ee=me.getBBox();Dt.x+=Ee.width+2;var ze=this.drawArrow(Xt,Dt,"navigation-arrow-right",$==="horizontal"?"down":"right",Ct);return ze.on("click",this.onNavigationAfter),Xt},yt.prototype.updateNavigation=function(G){var $=this.currentPageIndex+"/"+this.totalPagesCnt,ut=G?G.getChildren()[1]:this.getElementByLocalId("navigation-text"),Ct=G?G.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),Dt=G?G.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),Xt=ut.getBBox();ut.attr("text",$);var ne=ut.getBBox();ut.attr("x",ut.attr("x")-(ne.width-Xt.width)/2),Ct.attr("opacity",this.currentPageIndex===1?.45:1),Ct.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),Dt.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),Dt.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},yt.prototype.drawArrow=function(G,$,ut,Ct,Dt){var Xt=$.x,ne=$.y,ae={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},me=this.addShape(G,{type:"path",id:this.getElementId(ut),name:ut,attrs:{path:[["M",Xt+Dt/2,ne],["L",Xt,ne+Dt],["L",Xt+Dt,ne+Dt],["Z"]],fill:"#000",cursor:"pointer"}});return me.attr("matrix",Z({x:Xt+Dt/2,y:ne+Dt/2},ae[Ct])),me},yt.prototype.getCurrentNavigationMatrix=function(){var G=this,$=G.currentPageIndex,ut=G.pageWidth,Ct=G.pageHeight,Dt=this.get("layout"),Xt=Dt==="horizontal"?{x:0,y:Ct*(1-$)}:{x:ut*(1-$),y:0};return X(Xt)},yt.prototype.applyItemStates=function(G,$){var ut=this.getItemStates(G),Ct=ut.length>0;if(Ct){var Dt=$.getChildren(),Xt=this.get("itemStates");(0,g.each)(Dt,function(ne){var ae=ne.get("name"),me=ae.split("-")[2],Ee=de(G,me,Xt);Ee&&(ne.attr(Ee),me==="marker"&&!(ne.get("isStroke")&&ne.get("isFill"))&&(ne.get("isStroke")&&ne.attr("fill",null),ne.get("isFill")&&ne.attr("stroke",null)))})}},yt.prototype.getLimitItemWidth=function(){var G=this.get("itemWidth"),$=this.get("maxItemWidth");return $?G&&($=G<=$?G:$):G&&($=G),$},yt}(ge),er=Te,nr=1.4,Pt=.4,ht=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:or.textColor,textBaseline:"middle",fontFamily:or.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:or.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},yt.prototype.isSlider=function(){return!0},yt.prototype.getValue=function(){return this.getCurrentValue()},yt.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},yt.prototype.setRange=function(G,$){this.update({min:G,max:$})},yt.prototype.setValue=function(G){var $=this.getValue();this.set("value",G);var ut=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(ut),this.delegateEmit("valuechanged",{originValue:$,value:G})},yt.prototype.initEvent=function(){var G=this.get("group");this.bindSliderEvent(G),this.bindRailEvent(G),this.bindTrackEvent(G)},yt.prototype.drawLegendContent=function(G){this.drawRail(G),this.drawLabels(G),this.fixedElements(G),this.resetTrack(G),this.resetTrackClip(G),this.get("slidable")&&this.resetHandlers(G)},yt.prototype.bindSliderEvent=function(G){this.bindHandlersEvent(G)},yt.prototype.bindHandlersEvent=function(G){var $=this;G.on("legend-handler-min:drag",function(ut){var Ct=$.getValueByCanvasPoint(ut.x,ut.y),Dt=$.getCurrentValue(),Xt=Dt[1];Xt<Ct&&(Xt=Ct),$.setValue([Ct,Xt])}),G.on("legend-handler-max:drag",function(ut){var Ct=$.getValueByCanvasPoint(ut.x,ut.y),Dt=$.getCurrentValue(),Xt=Dt[0];Xt>Ct&&(Xt=Ct),$.setValue([Xt,Ct])})},yt.prototype.bindRailEvent=function(G){},yt.prototype.bindTrackEvent=function(G){var $=this,ut=null;G.on("legend-track:dragstart",function(Ct){ut={x:Ct.x,y:Ct.y}}),G.on("legend-track:drag",function(Ct){if(!!ut){var Dt=$.getValueByCanvasPoint(ut.x,ut.y),Xt=$.getValueByCanvasPoint(Ct.x,Ct.y),ne=$.getCurrentValue(),ae=ne[1]-ne[0],me=$.getRange(),Ee=Xt-Dt;Ee<0?ne[0]+Ee>me.min?$.setValue([ne[0]+Ee,ne[1]+Ee]):$.setValue([me.min,me.min+ae]):Ee>0&&(Ee>0&&ne[1]+Ee<me.max?$.setValue([ne[0]+Ee,ne[1]+Ee]):$.setValue([me.max-ae,me.max])),ut={x:Ct.x,y:Ct.y}}}),G.on("legend-track:dragend",function(Ct){ut=null})},yt.prototype.drawLabels=function(G){this.drawLabel("min",G),this.drawLabel("max",G)},yt.prototype.drawLabel=function(G,$){var ut=this.get("label"),Ct=ut.style,Dt=ut.align,Xt=this.get(G),ne=this.getLabelAlignAttrs(G,Dt),ae="label-"+G;this.addShape($,{type:"text",id:this.getElementId(ae),name:"legend-label-"+G,attrs:(0,x.__assign)((0,x.__assign)({x:0,y:0,text:Xt},Ct),ne)})},yt.prototype.getLabelAlignAttrs=function(G,$){var ut=this.isVertical(),Ct="center",Dt="middle";return ut?(Ct="start",$!=="rail"?G==="min"?Dt="top":Dt="bottom":Dt="top"):$!=="rail"?(Dt="top",G==="min"?Ct="start":Ct="end"):(Ct="start",Dt="middle"),{textAlign:Ct,textBaseline:Dt}},yt.prototype.getRailPath=function(G,$,ut,Ct){var Dt=this.get("rail"),Xt=Dt.size,ne=Dt.defaultLength,ae=Dt.type,me=this.isVertical(),Ee=ne,ze=ut,Ze=Ct;ze||(ze=me?Xt:Ee),Ze||(Ze=me?Ee:Xt);var xr=[];return ae==="color"?(xr.push(["M",G,$]),xr.push(["L",G+ze,$]),xr.push(["L",G+ze,$+Ze]),xr.push(["L",G,$+Ze]),xr.push(["Z"])):(xr.push(["M",G+ze,$]),xr.push(["L",G+ze,$+Ze]),xr.push(["L",G,$+Ze]),xr.push(["Z"])),xr},yt.prototype.drawRail=function(G){var $=this.get("rail"),ut=$.style;this.addShape(G,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,x.__assign)({path:this.getRailPath(0,0)},ut)})},yt.prototype.getTrackColor=function(G){var $=G.length;if(!$)return null;if($===1)return G[0];var ut;this.isVertical()?ut="l(90)":ut="l(0)";for(var Ct=0;Ct<$;Ct++){var Dt=Ct/($-1);ut+=" "+Dt+":"+G[Ct]}return ut},yt.prototype.getTrackPath=function(G){var $=this.getRailShape(G),ut=$.attr("path");return(0,g.clone)(ut)},yt.prototype.getClipTrackAttrs=function(G){var $=this.getCurrentValue(),ut=$[0],Ct=$[1],Dt=this.getRailBBox(G),Xt=this.getPointByValue(ut,G),ne=this.getPointByValue(Ct,G),ae=this.isVertical(),me,Ee,ze,Ze;return ae?(me=Dt.minX,Ee=Xt.y,ze=Dt.width,Ze=ne.y-Xt.y):(me=Xt.x,Ee=Dt.minY,ze=ne.x-Xt.x,Ze=Dt.height),{x:me,y:Ee,width:ze,height:Ze}},yt.prototype.getTrackAttrs=function(G){var $=this.get("track"),ut=this.get("colors"),Ct=this.getTrackPath(G);return(0,g.mix)({path:Ct,fill:this.getTrackColor(ut)},$.style)},yt.prototype.resetTrackClip=function(G){var $=G||this.get("group"),ut=this.getElementId("track"),Ct=$.findById(ut),Dt=Ct.getClip(),Xt=this.getClipTrackAttrs(G);Dt?Dt.attr(Xt):Ct.setClip({type:"rect",attrs:Xt})},yt.prototype.resetTrack=function(G){var $=this.getElementId("track"),ut=G.findById($),Ct=this.getTrackAttrs(G);ut?ut.attr(Ct):this.addShape(G,{type:"path",id:$,draggable:this.get("slidable"),name:"legend-track",attrs:Ct})},yt.prototype.getPointByValue=function(G,$){var ut=this.getRange(),Ct=ut.min,Dt=ut.max,Xt=(G-Ct)/(Dt-Ct),ne=this.getRailBBox($),ae=this.isVertical(),me={x:0,y:0};return ae?(me.x=ne.minX+ne.width/2,me.y=Bt(ne.minY,ne.maxY,Xt)):(me.x=Bt(ne.minX,ne.maxX,Xt),me.y=ne.minY+ne.height/2),me},yt.prototype.getRailShape=function(G){var $=G||this.get("group");return $.findById(this.getElementId("rail"))},yt.prototype.getRailBBox=function(G){var $=this.getRailShape(G),ut=$.getBBox();return ut},yt.prototype.getRailCanvasBBox=function(){var G=this.get("group"),$=G.findById(this.getElementId("rail")),ut=$.getCanvasBBox();return ut},yt.prototype.isVertical=function(){return this.get("layout")==="vertical"},yt.prototype.getValueByCanvasPoint=function(G,$){var ut=this.getRange(),Ct=ut.min,Dt=ut.max,Xt=this.getRailCanvasBBox(),ne=this.isVertical(),ae=this.get("step"),me;ne?me=($-Xt.minY)/Xt.height:me=(G-Xt.minX)/Xt.width;var Ee=Bt(Ct,Dt,me);if(ae){var ze=Math.round((Ee-Ct)/ae);Ee=Ct+ze*ae}return Ee>Dt&&(Ee=Dt),Ee<Ct&&(Ee=Ct),Ee},yt.prototype.getCurrentValue=function(){var G=this.get("value");return G||(G=[this.get("min"),this.get("max")]),G},yt.prototype.resetHandlers=function(G){var $=this.getCurrentValue(),ut=$[0],Ct=$[1];this.resetHandler(G,"min",ut),this.resetHandler(G,"max",Ct)},yt.prototype.getHandlerPath=function(G,$){var ut=this.isVertical(),Ct=[],Dt=G.size,Xt=$.x,ne=$.y,ae=Dt*nr,me=Dt/2,Ee=Dt/6;if(ut){var ze=Xt+ae*Pt;Ct.push(["M",Xt,ne]),Ct.push(["L",ze,ne+me]),Ct.push(["L",Xt+ae,ne+me]),Ct.push(["L",Xt+ae,ne-me]),Ct.push(["L",ze,ne-me]),Ct.push(["Z"]),Ct.push(["M",ze,ne+Ee]),Ct.push(["L",Xt+ae-2,ne+Ee]),Ct.push(["M",ze,ne-Ee]),Ct.push(["L",Xt+ae-2,ne-Ee])}else{var Ze=ne+ae*Pt;Ct.push(["M",Xt,ne]),Ct.push(["L",Xt-me,Ze]),Ct.push(["L",Xt-me,ne+ae]),Ct.push(["L",Xt+me,ne+ae]),Ct.push(["L",Xt+me,Ze]),Ct.push(["Z"]),Ct.push(["M",Xt-Ee,Ze]),Ct.push(["L",Xt-Ee,ne+ae-2]),Ct.push(["M",Xt+Ee,Ze]),Ct.push(["L",Xt+Ee,ne+ae-2])}return Ct},yt.prototype.resetHandler=function(G,$,ut){var Ct=this.getPointByValue(ut,G),Dt=this.get("handler"),Xt=this.getHandlerPath(Dt,Ct),ne=this.getElementId("handler-"+$),ae=G.findById(ne),me=this.isVertical();ae?ae.attr("path",Xt):this.addShape(G,{type:"path",name:"legend-handler-"+$,draggable:!0,id:ne,attrs:(0,x.__assign)((0,x.__assign)({path:Xt},Dt.style),{cursor:me?"ns-resize":"ew-resize"})})},yt.prototype.fixedElements=function(G){var $=G.findById(this.getElementId("rail")),ut=G.findById(this.getElementId("label-min")),Ct=G.findById(this.getElementId("label-max")),Dt=this.getDrawPoint();this.isVertical()?this.fixedVertail(ut,Ct,$,Dt):this.fixedHorizontal(ut,Ct,$,Dt)},yt.prototype.fitRailLength=function(G,$,ut,Ct){var Dt=this.isVertical(),Xt=Dt?"height":"width",ne=this.get("label"),ae=ne.align,me=ne.spacing,Ee=this.get("max"+(0,g.upperFirst)(Xt));if(Ee){var ze=ae==="rail"?ut[Xt]+G[Xt]+$[Xt]+me*2:ut[Xt],Ze=ze-Ee;Ze>0&&this.changeRailLength(Ct,Xt,ut[Xt]-Ze)}},yt.prototype.changeRailLength=function(G,$,ut){var Ct=G.getBBox(),Dt;$==="height"?Dt=this.getRailPath(Ct.x,Ct.y,Ct.width,ut):Dt=this.getRailPath(Ct.x,Ct.y,ut,Ct.height),G.attr("path",Dt)},yt.prototype.changeRailPosition=function(G,$,ut){var Ct=G.getBBox(),Dt=this.getRailPath($,ut,Ct.width,Ct.height);G.attr("path",Dt)},yt.prototype.fixedHorizontal=function(G,$,ut,Ct){var Dt=this.get("label"),Xt=Dt.align,ne=Dt.spacing,ae=ut.getBBox(),me=G.getBBox(),Ee=$.getBBox(),ze=ae.height;this.fitRailLength(me,Ee,ae,ut),ae=ut.getBBox(),Xt==="rail"?(G.attr({x:Ct.x,y:Ct.y+ze/2}),this.changeRailPosition(ut,Ct.x+me.width+ne,Ct.y),$.attr({x:Ct.x+me.width+ae.width+ne*2,y:Ct.y+ze/2})):Xt==="top"?(G.attr({x:Ct.x,y:Ct.y}),$.attr({x:Ct.x+ae.width,y:Ct.y}),this.changeRailPosition(ut,Ct.x,Ct.y+me.height+ne)):(this.changeRailPosition(ut,Ct.x,Ct.y),G.attr({x:Ct.x,y:Ct.y+ae.height+ne}),$.attr({x:Ct.x+ae.width,y:Ct.y+ae.height+ne}))},yt.prototype.fixedVertail=function(G,$,ut,Ct){var Dt=this.get("label"),Xt=Dt.align,ne=Dt.spacing,ae=ut.getBBox(),me=G.getBBox(),Ee=$.getBBox();if(this.fitRailLength(me,Ee,ae,ut),ae=ut.getBBox(),Xt==="rail")G.attr({x:Ct.x,y:Ct.y}),this.changeRailPosition(ut,Ct.x,Ct.y+me.height+ne),$.attr({x:Ct.x,y:Ct.y+me.height+ae.height+ne*2});else if(Xt==="right")G.attr({x:Ct.x+ae.width+ne,y:Ct.y}),this.changeRailPosition(ut,Ct.x,Ct.y),$.attr({x:Ct.x+ae.width+ne,y:Ct.y+ae.height});else{var ze=Math.max(me.width,Ee.width);G.attr({x:Ct.x,y:Ct.y}),this.changeRailPosition(ut,Ct.x+ze+ne,Ct.y),$.attr({x:Ct.x,y:Ct.y+ae.height})}},yt}(ge),ot=ht,dt=d(55223),kt="g2-tooltip",jt="g2-tooltip-title",oe="g2-tooltip-list",fe="g2-tooltip-list-item",ue="g2-tooltip-marker",ke="g2-tooltip-value",Be="g2-tooltip-name",Ye="g2-tooltip-crosshair-x",fr="g2-tooltip-crosshair-y",Xe,Ne=(Xe={},Xe[""+kt]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:or.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Xe[""+jt]={marginBottom:"4px"},Xe[""+oe]={margin:"0px",listStyleType:"none",padding:"0px"},Xe[""+fe]={listStyleType:"none",marginBottom:"4px"},Xe[""+ue]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Xe[""+ke]={display:"inline-block",float:"right",marginLeft:"30px"},Xe[""+Ye]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Xe[""+fr]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Xe);function Or(Vt,yt,G,$,ut){var Ct={left:Vt<ut.x,right:Vt+G>ut.x+ut.width,top:yt<ut.y,bottom:yt+$>ut.y+ut.height};return Ct}function Er(Vt,yt,G,$,ut,Ct){var Dt=Vt,Xt=yt;switch(Ct){case"left":Dt=Vt-$-G,Xt=yt-ut/2;break;case"right":Dt=Vt+G,Xt=yt-ut/2;break;case"top":Dt=Vt-$/2,Xt=yt-ut-G;break;case"bottom":Dt=Vt-$/2,Xt=yt+G;break;default:Dt=Vt+G,Xt=yt-ut-G;break}return{x:Dt,y:Xt}}function jr(Vt,yt,G,$,ut,Ct,Dt){var Xt=Er(Vt,yt,G,$,ut,Ct);if(Dt){var ne=Or(Xt.x,Xt.y,$,ut,Dt);Ct==="auto"?(ne.right&&(Xt.x=Math.max(0,Vt-$-G)),ne.top&&(Xt.y=Math.max(0,yt-ut-G))):Ct==="top"||Ct==="bottom"?(ne.left&&(Xt.x=Dt.x),ne.right&&(Xt.x=Dt.x+Dt.width-$),Ct==="top"&&ne.top&&(Xt.y=yt+G),Ct==="bottom"&&ne.bottom&&(Xt.y=yt-ut-G)):(ne.top&&(Xt.y=Dt.y),ne.bottom&&(Xt.y=Dt.y+Dt.height-ut),Ct==="left"&&ne.left&&(Xt.x=Vt+G),Ct==="right"&&ne.right&&(Xt.x=Vt-$-G))}return Xt}function $r(Vt,yt){var G=!1;return(0,g.each)(yt,function($){if((0,g.hasKey)(Vt,$))return G=!0,!1}),G}var mr=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+kt+'"><div class="'+jt+'"></div><ul class="'+oe+'"></ul></div>',itemTpl:'<li class="'+fe+`" data-index={index}>
          <span class="`+ue+`" style="background:{color}"></span>
          <span class="`+Be+`">{name}</span>:
          <span class="`+ke+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Ye+'"></div>',yCrosshairTpl:'<div class="'+fr+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:kt,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Ne})},yt.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},yt.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},yt.prototype.show=function(){var G=this.getContainer();!G||this.destroyed||(this.set("visible",!0),(0,qn.Z)(G,{visibility:"visible"}),this.setCrossHairsVisible(!0))},yt.prototype.hide=function(){var G=this.getContainer();!G||this.destroyed||(this.set("visible",!1),(0,qn.Z)(G,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},yt.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},yt.prototype.setLocation=function(G){this.set("x",G.x),this.set("y",G.y),this.resetPosition()},yt.prototype.setCrossHairsVisible=function(G){var $=G?"":"none",ut=this.get("xCrosshairDom"),Ct=this.get("yCrosshairDom");ut&&(0,qn.Z)(ut,{display:$}),Ct&&(0,qn.Z)(Ct,{display:$})},yt.prototype.initContainer=function(){if(Vt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var G=this.getHtmlContentNode();this.get("parent").appendChild(G),this.set("container",G),this.resetStyles(),this.applyStyles()}},yt.prototype.updateInner=function(G){this.get("customContent")?this.renderCustomContent():($r(G,["title","showTitle"])&&this.resetTitle(),(0,g.hasKey)(G,"items")&&this.renderItems()),Vt.prototype.updateInner.call(this,G)},yt.prototype.initDom=function(){this.cacheDoms()},yt.prototype.removeDom=function(){Vt.prototype.removeDom.call(this),this.clearCrosshairs()},yt.prototype.resetPosition=function(){var G=this.get("x"),$=this.get("y"),ut=this.get("offset"),Ct=this.getOffset(),Dt=Ct.offsetX,Xt=Ct.offsetY,ne=this.get("position"),ae=this.get("region"),me=this.getContainer(),Ee=this.getBBox(),ze=Ee.width,Ze=Ee.height,xr;ae&&(xr=Et(ae));var Gr=jr(G,$,ut,ze,Ze,ne,xr);(0,qn.Z)(me,{left:K(Gr.x+Dt),top:K(Gr.y+Xt)}),this.resetCrosshairs()},yt.prototype.renderCustomContent=function(){var G=this.getHtmlContentNode(),$=this.get("parent"),ut=this.get("container");ut&&ut.parentNode===$?$.replaceChild(G,ut):$.appendChild(G),this.set("container",G),this.resetStyles(),this.applyStyles()},yt.prototype.getHtmlContentNode=function(){var G,$=this.get("customContent");if($){var ut=$(this.get("title"),this.get("items"));(0,g.isElement)(ut)?G=ut:G=(0,Ci.Z)(ut)}return G},yt.prototype.cacheDoms=function(){var G=this.getContainer(),$=G.getElementsByClassName(jt)[0],ut=G.getElementsByClassName(oe)[0];this.set("titleDom",$),this.set("listDom",ut)},yt.prototype.resetTitle=function(){var G=this.get("title"),$=this.get("showTitle");$&&G?this.setTitle(G):this.setTitle("")},yt.prototype.setTitle=function(G){var $=this.get("titleDom");$&&($.innerText=G)},yt.prototype.resetCrosshairs=function(){var G=this.get("crosshairsRegion"),$=this.get("crosshairs");if(!G||!$)this.clearCrosshairs();else{var ut=Et(G),Ct=this.get("xCrosshairDom"),Dt=this.get("yCrosshairDom");$==="x"?(this.resetCrosshair("x",ut),Dt&&(Dt.remove(),this.set("yCrosshairDom",null))):$==="y"?(this.resetCrosshair("y",ut),Ct&&(Ct.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",ut),this.resetCrosshair("y",ut)),this.setCrossHairsVisible(this.get("visible"))}},yt.prototype.resetCrosshair=function(G,$){var ut=this.checkCrosshair(G),Ct=this.get(G);G==="x"?(0,qn.Z)(ut,{left:K(Ct),top:K($.y),height:K($.height)}):(0,qn.Z)(ut,{top:K(Ct),left:K($.x),width:K($.width)})},yt.prototype.checkCrosshair=function(G){var $=G+"CrosshairDom",ut=G+"CrosshairTpl",Ct="CROSSHAIR_"+G.toUpperCase(),Dt=w[Ct],Xt=this.get($),ne=this.get("parent");return Xt||(Xt=(0,Ci.Z)(this.get(ut)),this.applyStyle(Dt,Xt),ne.appendChild(Xt),this.set($,Xt)),Xt},yt.prototype.renderItems=function(){this.clearItemDoms();var G=this.get("items"),$=this.get("itemTpl"),ut=this.get("listDom");ut&&((0,g.each)(G,function(Ct){var Dt=dt.default.toCSSGradient(Ct.color),Xt=(0,x.__assign)((0,x.__assign)({},Ct),{color:Dt}),ne=(0,g.substitute)($,Xt),ae=(0,Ci.Z)(ne);ut.appendChild(ae)}),this.applyChildrenStyles(ut,this.get("domStyles")))},yt.prototype.clearItemDoms=function(){this.get("listDom")&&St(this.get("listDom"))},yt.prototype.clearCrosshairs=function(){var G=this.get("xCrosshairDom"),$=this.get("yCrosshairDom");G&&G.remove(),$&&$.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},yt}(ua),sr=mr,Qr={opacity:0},Cn={stroke:"#C5C5C5",strokeOpacity:.85},Dn={fill:"#CACED4",opacity:.85},ui=d(57350),fi=d(72469);function Ba(Vt){return(0,g.map)(Vt,function(yt,G){var $=G===0?"M":"L",ut=yt[0],Ct=yt[1];return[$,ut,Ct]})}function Qi(Vt){return Ba(Vt)}function Ji(Vt){if(Vt.length<=2)return Qi(Vt);var yt=[];(0,g.each)(Vt,function(Dt){(0,g.isEqual)(Dt,yt.slice(yt.length-2))||yt.push(Dt[0],Dt[1])});var G=(0,ui.catmullRom2Bezier)(yt,!1),$=(0,g.head)(Vt),ut=$[0],Ct=$[1];return G.unshift(["M",ut,Ct]),G}function fa(Vt,yt,G,$){$===void 0&&($=!0);var ut=new fi.Linear({values:Vt}),Ct=new fi.Category({values:(0,g.map)(Vt,function(Xt,ne){return ne})}),Dt=(0,g.map)(Vt,function(Xt,ne){return[Ct.scale(ne)*yt,G-ut.scale(Xt)*G]});return $?Ji(Dt):Qi(Dt)}function Za(Vt,yt,G){var $=(0,x.__spreadArrays)(Vt);return $.push(["L",yt,0]),$.push(["L",0,G]),$.push(["Z"]),$}var lo=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Qr,lineStyle:Cn,areaStyle:Dn})},yt.prototype.renderInner=function(G){var $=this.cfg,ut=$.width,Ct=$.height,Dt=$.data,Xt=$.smooth,ne=$.isArea,ae=$.backgroundStyle,me=$.lineStyle,Ee=$.areaStyle;this.addShape(G,{id:this.getElementId("background"),type:"rect",attrs:(0,x.__assign)({x:0,y:0,width:ut,height:Ct},ae)});var ze=fa(Dt,ut,Ct,Xt);if(this.addShape(G,{id:this.getElementId("line"),type:"path",attrs:(0,x.__assign)({path:ze},me)}),ne){var Ze=Za(ze,ut,Ct);this.addShape(G,{id:this.getElementId("area"),type:"path",attrs:(0,x.__assign)({path:Ze},Ee)})}},yt.prototype.applyOffset=function(){var G=this.cfg,$=G.x,ut=G.y;this.moveElementTo(this.get("group"),{x:$,y:ut})},yt}(tt),Ho=null,Da={fill:"#416180",opacity:.05},Ka={fill:"#5B8FF9",opacity:.15,cursor:"move"},wa=10,xi={width:wa,height:24},da={textBaseline:"middle",fill:"#000",opacity:.45},uo="sliderchange",$a={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},Fa=function(Vt){(0,x.__extends)(yt,Vt);function yt(){return Vt!==null&&Vt.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"handler",x:0,y:0,width:10,height:24,style:$a})},yt.prototype.renderInner=function(G){var $=this.cfg,ut=$.width,Ct=$.height,Dt=$.style,Xt=Dt.fill,ne=Dt.stroke,ae=Dt.radius,me=Dt.opacity,Ee=Dt.cursor;this.addShape(G,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:ut,height:Ct,fill:Xt,stroke:ne,radius:ae,opacity:me,cursor:Ee}});var ze=1/3*ut,Ze=2/3*ut,xr=1/4*Ct,Gr=3/4*Ct;this.addShape(G,{id:this.getElementId("line-left"),type:"line",attrs:{x1:ze,y1:xr,x2:ze,y2:Gr,stroke:ne,cursor:Ee}}),this.addShape(G,{id:this.getElementId("line-right"),type:"line",attrs:{x1:Ze,y1:xr,x2:Ze,y2:Gr,stroke:ne,cursor:Ee}})},yt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},yt.prototype.initEvent=function(){this.bindEvents()},yt.prototype.bindEvents=function(){var G=this;this.get("group").on("mouseenter",function(){var $=G.get("style").highLightFill;G.getElementByLocalId("background").attr("fill",$),G.draw()}),this.get("group").on("mouseleave",function(){var $=G.get("style").fill;G.getElementByLocalId("background").attr("fill",$),G.draw()})},yt.prototype.draw=function(){var G=this.get("container").get("canvas");G&&G.draw()},yt}(tt),gn=null,Eo=function(Vt){(0,x.__extends)(yt,Vt);function yt(){var G=Vt!==null&&Vt.apply(this,arguments)||this;return G.onMouseDown=function($){return function(ut){G.currentTarget=$;var Ct=ut.originalEvent;Ct.stopPropagation(),Ct.preventDefault(),G.prevX=(0,g.get)(Ct,"touches.0.pageX",Ct.pageX),G.prevY=(0,g.get)(Ct,"touches.0.pageY",Ct.pageY);var Dt=G.getContainerDOM();Dt.addEventListener("mousemove",G.onMouseMove),Dt.addEventListener("mouseup",G.onMouseUp),Dt.addEventListener("mouseleave",G.onMouseUp),Dt.addEventListener("touchmove",G.onMouseMove),Dt.addEventListener("touchend",G.onMouseUp),Dt.addEventListener("touchcancel",G.onMouseUp)}},G.onMouseMove=function($){var ut=G.cfg.width,Ct=[G.get("start"),G.get("end")];$.stopPropagation(),$.preventDefault();var Dt=(0,g.get)($,"touches.0.pageX",$.pageX),Xt=(0,g.get)($,"touches.0.pageY",$.pageY),ne=Dt-G.prevX,ae=G.adjustOffsetRange(ne/ut);G.updateStartEnd(ae),G.updateUI(G.getElementByLocalId("foreground"),G.getElementByLocalId("minText"),G.getElementByLocalId("maxText")),G.prevX=Dt,G.prevY=Xt,G.draw(),G.emit(uo,[G.get("start"),G.get("end")].sort()),G.delegateEmit("valuechanged",{originValue:Ct,value:[G.get("start"),G.get("end")]})},G.onMouseUp=function(){G.currentTarget&&(G.currentTarget=void 0);var $=G.getContainerDOM();$&&($.removeEventListener("mousemove",G.onMouseMove),$.removeEventListener("mouseup",G.onMouseUp),$.removeEventListener("mouseleave",G.onMouseUp),$.removeEventListener("touchmove",G.onMouseMove),$.removeEventListener("touchend",G.onMouseUp),$.removeEventListener("touchcancel",G.onMouseUp))},G}return yt.prototype.setRange=function(G,$){this.set("minLimit",G),this.set("maxLimit",$);var ut=this.get("start"),Ct=this.get("end"),Dt=(0,g.clamp)(ut,G,$),Xt=(0,g.clamp)(Ct,G,$);!this.get("isInit")&&(ut!==Dt||Ct!==Xt)&&this.setValue([Dt,Xt])},yt.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},yt.prototype.setValue=function(G){var $=this.getRange();if((0,g.isArray)(G)&&G.length===2){var ut=[this.get("start"),this.get("end")];this.update({start:(0,g.clamp)(G[0],$.min,$.max),end:(0,g.clamp)(G[1],$.min,$.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:ut,value:G})}},yt.prototype.getValue=function(){return[this.get("start"),this.get("end")]},yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Da,foregroundStyle:Ka,handlerStyle:xi,textStyle:da}})},yt.prototype.update=function(G){var $=G.start,ut=G.end,Ct=(0,x.__assign)({},G);(0,g.isNil)($)||(Ct.start=(0,g.clamp)($,0,1)),(0,g.isNil)(ut)||(Ct.end=(0,g.clamp)(ut,0,1)),Vt.prototype.update.call(this,Ct),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},yt.prototype.init=function(){this.set("start",(0,g.clamp)(this.get("start"),0,1)),this.set("end",(0,g.clamp)(this.get("end"),0,1)),Vt.prototype.init.call(this)},yt.prototype.renderInner=function(G){var $=this.cfg,ut=$.start,Ct=$.end,Dt=$.width,Xt=$.height,ne=$.trendCfg,ae=ne===void 0?{}:ne,me=$.minText,Ee=$.maxText,ze=$.backgroundStyle,Ze=ze===void 0?{}:ze,xr=$.foregroundStyle,Gr=xr===void 0?{}:xr,kr=$.textStyle,hn=kr===void 0?{}:kr,vn=$.handlerStyle,cn=vn===void 0?{}:vn,It=ut*Dt,ee=Ct*Dt;(0,g.size)((0,g.get)(ae,"data"))&&this.addComponent(G,(0,x.__assign)({component:lo,id:this.getElementId("trend"),x:0,y:0,width:Dt,height:Xt},ae)),this.addShape(G,{id:this.getElementId("background"),type:"rect",attrs:(0,x.__assign)({x:0,y:0,width:Dt,height:Xt},Ze)});var ve=this.addShape(G,{id:this.getElementId("minText"),type:"text",attrs:(0,x.__assign)({y:Xt/2,textAlign:"right",text:me,silent:!1},hn)}),be=this.addShape(G,{id:this.getElementId("maxText"),type:"text",attrs:(0,x.__assign)({y:Xt/2,textAlign:"left",text:Ee,silent:!1},hn)}),Fe=this.addShape(G,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,x.__assign)({y:0,height:Xt},Gr)}),dr=(0,g.get)(cn,"height",24);this.minHandler=this.addComponent(G,(0,x.__assign)({component:Fa,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(Xt-dr)/2,width:Dt,height:dr,cursor:"ew-resize"},cn)),this.maxHandler=this.addComponent(G,(0,x.__assign)({component:Fa,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(Xt-dr)/2,width:Dt,height:dr,cursor:"ew-resize"},cn)),this.updateUI(Fe,ve,be)},yt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},yt.prototype.initEvent=function(){this.bindEvents()},yt.prototype.updateUI=function(G,$,ut){var Ct=this.cfg,Dt=Ct.start,Xt=Ct.end,ne=Ct.width,ae=Ct.minText,me=Ct.maxText,Ee=Ct.handlerStyle,ze=Dt*ne,Ze=Xt*ne;G.attr("x",ze),G.attr("width",Ze-ze);var xr=(0,g.get)(Ee,"width",wa);$.attr("text",ae),ut.attr("text",me);var Gr=this._dodgeText([ze,Ze],$,ut),kr=Gr[0],hn=Gr[1];this.minHandler&&(this.minHandler.update({x:ze-xr/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,g.each)(kr,function(vn,cn){return $.attr(cn,vn)}),this.maxHandler&&(this.maxHandler.update({x:Ze-xr/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,g.each)(hn,function(vn,cn){return ut.attr(cn,vn)})},yt.prototype.bindEvents=function(){var G=this.get("group");G.on("handler-min:mousedown",this.onMouseDown("minHandler")),G.on("handler-min:touchstart",this.onMouseDown("minHandler")),G.on("handler-max:mousedown",this.onMouseDown("maxHandler")),G.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var $=G.findById(this.getElementId("foreground"));$.on("mousedown",this.onMouseDown("foreground")),$.on("touchstart",this.onMouseDown("foreground"))},yt.prototype.adjustOffsetRange=function(G){var $=this.cfg,ut=$.start,Ct=$.end;switch(this.currentTarget){case"minHandler":{var Dt=0-ut,Xt=1-ut;return Math.min(Xt,Math.max(Dt,G))}case"maxHandler":{var Dt=0-Ct,Xt=1-Ct;return Math.min(Xt,Math.max(Dt,G))}case"foreground":{var Dt=0-ut,Xt=1-Ct;return Math.min(Xt,Math.max(Dt,G))}}},yt.prototype.updateStartEnd=function(G){var $=this.cfg,ut=$.start,Ct=$.end;switch(this.currentTarget){case"minHandler":ut+=G;break;case"maxHandler":Ct+=G;break;case"foreground":ut+=G,Ct+=G;break}this.set("start",ut),this.set("end",Ct)},yt.prototype._dodgeText=function(G,$,ut){var Ct,Dt,Xt=this.cfg,ne=Xt.handlerStyle,ae=Xt.width,me=2,Ee=(0,g.get)(ne,"width",wa),ze=G[0],Ze=G[1],xr=!1;ze>Ze&&(Ct=[Ze,ze],ze=Ct[0],Ze=Ct[1],Dt=[ut,$],$=Dt[0],ut=Dt[1],xr=!0);var Gr=$.getBBox(),kr=ut.getBBox(),hn=Gr.width>ze-me?{x:ze+Ee/2+me,textAlign:"left"}:{x:ze-Ee/2-me,textAlign:"right"},vn=kr.width>ae-Ze-me?{x:Ze-Ee/2-me,textAlign:"right"}:{x:Ze+Ee/2+me,textAlign:"left"};return xr?[vn,hn]:[hn,vn]},yt.prototype.draw=function(){var G=this.get("container"),$=G&&G.get("canvas");$&&$.draw()},yt.prototype.getContainerDOM=function(){var G=this.get("container"),$=G&&G.get("canvas");return $&&$.get("container")},yt}(tt),pi=null,Pn=d(57817),Sa={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},En={default:Sa,hover:{thumbColor:"rgba(0,0,0,0.2)"}},Ma=function(Vt){(0,x.__extends)(yt,Vt);function yt(){var G=Vt!==null&&Vt.apply(this,arguments)||this;return G.clearEvents=g.noop,G.onStartEvent=function($){return function(ut){G.isMobile=$,ut.originalEvent.preventDefault();var Ct=$?(0,g.get)(ut.originalEvent,"touches.0.clientX"):ut.clientX,Dt=$?(0,g.get)(ut.originalEvent,"touches.0.clientY"):ut.clientY;G.startPos=G.cfg.isHorizontal?Ct:Dt,G.bindLaterEvent()}},G.bindLaterEvent=function(){var $=G.getContainerDOM(),ut=[];G.isMobile?ut=[(0,Pn.Z)($,"touchmove",G.onMouseMove),(0,Pn.Z)($,"touchend",G.onMouseUp),(0,Pn.Z)($,"touchcancel",G.onMouseUp)]:ut=[(0,Pn.Z)($,"mousemove",G.onMouseMove),(0,Pn.Z)($,"mouseup",G.onMouseUp),(0,Pn.Z)($,"mouseleave",G.onMouseUp)],G.clearEvents=function(){ut.forEach(function(Ct){Ct.remove()})}},G.onMouseMove=function($){var ut=G.cfg,Ct=ut.isHorizontal,Dt=ut.thumbOffset;$.preventDefault();var Xt=G.isMobile?(0,g.get)($,"touches.0.clientX"):$.clientX,ne=G.isMobile?(0,g.get)($,"touches.0.clientY"):$.clientY,ae=Ct?Xt:ne,me=ae-G.startPos;G.startPos=ae,G.updateThumbOffset(Dt+me)},G.onMouseUp=function($){$.preventDefault(),G.clearEvents()},G.onTrackClick=function($){var ut=G.cfg,Ct=ut.isHorizontal,Dt=ut.x,Xt=ut.y,ne=ut.thumbLen,ae=G.getContainerDOM(),me=ae.getBoundingClientRect(),Ee=$.clientX,ze=$.clientY,Ze=Ct?Ee-me.left-Dt-ne/2:ze-me.top-Xt-ne/2,xr=G.validateRange(Ze);G.updateThumbOffset(xr)},G.onThumbMouseOver=function(){var $=G.cfg.theme.hover.thumbColor;G.getElementByLocalId("thumb").attr("stroke",$),G.draw()},G.onThumbMouseOut=function(){var $=G.cfg.theme.default.thumbColor;G.getElementByLocalId("thumb").attr("stroke",$),G.draw()},G}return yt.prototype.setRange=function(G,$){this.set("minLimit",G),this.set("maxLimit",$);var ut=this.getValue(),Ct=(0,g.clamp)(ut,G,$);ut!==Ct&&!this.get("isInit")&&this.setValue(Ct)},yt.prototype.getRange=function(){var G=this.get("minLimit")||0,$=this.get("maxLimit")||1;return{min:G,max:$}},yt.prototype.setValue=function(G){var $=this.getRange(),ut=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,g.clamp)(G,$.min,$.max)}),this.delegateEmit("valuechange",{originalValue:ut,value:this.getValue()})},yt.prototype.getValue=function(){return(0,g.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},yt.prototype.getDefaultCfg=function(){var G=Vt.prototype.getDefaultCfg.call(this);return(0,x.__assign)((0,x.__assign)({},G),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:En})},yt.prototype.renderInner=function(G){this.renderTrackShape(G),this.renderThumbShape(G)},yt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},yt.prototype.initEvent=function(){this.bindEvents()},yt.prototype.renderTrackShape=function(G){var $=this.cfg,ut=$.trackLen,Ct=$.theme,Dt=Ct===void 0?{default:{}}:Ct,Xt=Dt.default,ne=Xt.lineCap,ae=Xt.trackColor,me=Xt.size,Ee=this.get("isHorizontal")?{x1:0+me/2,y1:me/2,x2:ut-me/2,y2:me/2,lineWidth:me,stroke:ae,lineCap:ne}:{x1:me/2,y1:0+me/2,x2:me/2,y2:ut-me/2,lineWidth:me,stroke:ae,lineCap:ne};return this.addShape(G,{id:this.getElementId("track"),name:"track",type:"line",attrs:Ee})},yt.prototype.renderThumbShape=function(G){var $=this.cfg,ut=$.thumbOffset,Ct=$.thumbLen,Dt=$.theme,Xt=Dt===void 0?{default:{}}:Dt,ne=Xt.default,ae=ne.size,me=ne.lineCap,Ee=ne.thumbColor,ze=this.get("isHorizontal")?{x1:ut+ae/2,y1:ae/2,x2:ut+Ct-ae/2,y2:ae/2,lineWidth:ae,stroke:Ee,lineCap:me,cursor:"default"}:{x1:ae/2,y1:ut+ae/2,x2:ae/2,y2:ut+Ct-ae/2,lineWidth:ae,stroke:Ee,lineCap:me,cursor:"default"};return this.addShape(G,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:ze})},yt.prototype.bindEvents=function(){var G=this.get("group");G.on("mousedown",this.onStartEvent(!1)),G.on("mouseup",this.onMouseUp),G.on("touchstart",this.onStartEvent(!0)),G.on("touchend",this.onMouseUp);var $=G.findById(this.getElementId("track"));$.on("click",this.onTrackClick);var ut=G.findById(this.getElementId("thumb"));ut.on("mouseover",this.onThumbMouseOver),ut.on("mouseout",this.onThumbMouseOut)},yt.prototype.getContainerDOM=function(){var G=this.get("container"),$=G&&G.get("canvas");return $&&$.get("container")},yt.prototype.validateRange=function(G){var $=this.cfg,ut=$.thumbLen,Ct=$.trackLen,Dt=G;return G+ut>Ct?Dt=Ct-ut:G+ut<ut&&(Dt=0),Dt},yt.prototype.draw=function(){var G=this.get("container"),$=G&&G.get("canvas");$&&$.draw()},yt.prototype.updateThumbOffset=function(G){var $=this.cfg,ut=$.thumbOffset,Ct=$.isHorizontal,Dt=$.thumbLen,Xt=$.size,ne=this.validateRange(G);if(ne!==ut){var ae=this.getElementByLocalId("thumb");Ct?ae.attr({x1:ne+Xt/2,x2:ne+Dt-Xt/2}):ae.attr({y1:ne+Xt/2,y2:ne+Dt-Xt/2}),this.emitOffsetChange(ne)}},yt.prototype.emitOffsetChange=function(G){var $=this.cfg,ut=$.thumbOffset,Ct=$.trackLen,Dt=$.thumbLen;this.cfg.thumbOffset=G,this.emit("scrollchange",{thumbOffset:G,ratio:(0,g.clamp)(G/(Ct-Dt),0,1)}),this.delegateEmit("valuechange",{originalValue:ut,value:G})},yt}(tt)},15110:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(62117),O=d(65722),k=d(49242),L={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},P=function(A){b.__extends(C,A);function C(E){var p=A.call(this,E)||this;return p.initCfg(),p}return C.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},C.prototype.clear=function(){},C.prototype.update=function(E){var p=this,w=this.get("defaultCfg");k.each(E,function(y,x){var g=p.get(x),S=y;g!==y&&(k.isObject(y)&&w[x]&&(S=k.deepMix({},w[x],y)),p.set(x,S))}),this.updateInner(E),this.afterUpdate(E)},C.prototype.updateInner=function(E){},C.prototype.afterUpdate=function(E){k.hasKey(E,"visible")&&(E.visible?this.show():this.hide()),k.hasKey(E,"capture")&&this.setCapture(E.capture)},C.prototype.getLayoutBBox=function(){return this.getBBox()},C.prototype.getLocationType=function(){return this.get("locationType")},C.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},C.prototype.setOffset=function(E,p){this.update({offsetX:E,offsetY:p})},C.prototype.setLocation=function(E){var p=b.__assign({},E);this.update(p)},C.prototype.getLocation=function(){var E=this,p={},w=this.get("locationType"),y=L[w];return k.each(y,function(x){p[x]=E.get(x)}),p},C.prototype.isList=function(){return!1},C.prototype.isSlider=function(){return!1},C.prototype.init=function(){},C.prototype.initCfg=function(){var E=this,p=this.get("defaultCfg");k.each(p,function(w,y){var x=E.get(y);if(k.isObject(x)){var g=k.deepMix({},w,x);E.set(y,g)}})},C}(O.Base);M.default=P},51964:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(62117),O=d(80478),k=d(49242),L=d(11594),P=d(15110),A=function(C){b.__extends(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E.prototype.getDefaultCfg=function(){var p=C.prototype.getDefaultCfg.call(this);return b.__assign(b.__assign({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},E.prototype.getContainer=function(){return this.get("container")},E.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},E.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},E.prototype.setCapture=function(p){var w=this.getContainer(),y=p?"auto":"none";w.style.pointerEvents=y,this.set("capture",p)},E.prototype.getBBox=function(){var p=this.getContainer(),w=parseFloat(p.style.left)||0,y=parseFloat(p.style.top)||0;return L.createBBox(w,y,p.clientWidth,p.clientHeight)},E.prototype.clear=function(){var p=this.get("container");L.clearDom(p)},E.prototype.destroy=function(){this.removeEvent(),this.removeDom(),C.prototype.destroy.call(this)},E.prototype.init=function(){C.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},E.prototype.initCapture=function(){this.setCapture(this.get("capture"))},E.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},E.prototype.initDom=function(){},E.prototype.initContainer=function(){var p=this.get("container");if(k.isNil(p)){p=this.createDom();var w=this.get("parent");k.isString(w)&&(w=document.getElementById(w),this.set("parent",w)),w.appendChild(p),this.set("container",p)}else k.isString(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},E.prototype.resetStyles=function(){var p=this.get("domStyles"),w=this.get("defaultStyles");p?p=k.deepMix({},w,p):p=w,this.set("domStyles",p)},E.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var w=this.getContainer();this.applyChildrenStyles(w,p);var y=this.get("containerClassName");if(y&&L.hasClass(w,y)){var x=p[y];O.modifyCSS(w,x)}}},E.prototype.applyChildrenStyles=function(p,w){k.each(w,function(y,x){var g=p.getElementsByClassName(x);k.each(g,function(S){O.modifyCSS(S,y)})})},E.prototype.applyStyle=function(p,w){var y=this.get("domStyles");O.modifyCSS(w,y[p])},E.prototype.createDom=function(){var p=this.get("containerTpl");return O.createDom(p)},E.prototype.initEvent=function(){},E.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode.removeChild(p)},E.prototype.removeEvent=function(){},E.prototype.updateInner=function(p){k.hasKey(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},E.prototype.resetPosition=function(){},E}(P.default);M.default=A},7755:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.CROSSHAIR_Y=M.CROSSHAIR_X=M.NAME_CLASS=M.VALUE_CLASS=M.MARKER_CLASS=M.LIST_ITEM_CLASS=M.LIST_CLASS=M.TITLE_CLASS=M.CONTAINER_CLASS=void 0,M.CONTAINER_CLASS="g2-tooltip",M.TITLE_CLASS="g2-tooltip-title",M.LIST_CLASS="g2-tooltip-list",M.LIST_ITEM_CLASS="g2-tooltip-list-item",M.MARKER_CLASS="g2-tooltip-marker",M.VALUE_CLASS="g2-tooltip-value",M.NAME_CLASS="g2-tooltip-name",M.CROSSHAIR_X="g2-tooltip-crosshair-x",M.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(xt,M,d){"use strict";var b;Object.defineProperty(M,"__esModule",{value:!0});var O=d(52782),k=d(7755);M.default=(b={},b[""+k.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:O.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},b[""+k.TITLE_CLASS]={marginBottom:"4px"},b[""+k.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},b[""+k.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},b[""+k.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},b[""+k.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},b[""+k.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},b[""+k.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},b)},88373:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(62117),k=d(55223),L=d(80478),P=d(49242),A=d(51964),C=d(11594),E=d(7755),p=d(55225),w=d(51227);function y(g,S){var _=!1;return P.each(S,function(B){if(P.hasKey(g,B))return _=!0,!1}),_}var x=function(g){O.__extends(S,g);function S(){return g!==null&&g.apply(this,arguments)||this}return S.prototype.getDefaultCfg=function(){var _=g.prototype.getDefaultCfg.call(this);return O.__assign(O.__assign({},_),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+E.CONTAINER_CLASS+'"><div class="'+E.TITLE_CLASS+'"></div><ul class="'+E.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+E.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+E.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+E.NAME_CLASS+`">{name}</span>:
          <span class="`+E.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+E.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+E.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:E.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},S.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},S.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},S.prototype.show=function(){var _=this.getContainer();!_||this.destroyed||(this.set("visible",!0),L.modifyCSS(_,{visibility:"visible"}),this.setCrossHairsVisible(!0))},S.prototype.hide=function(){var _=this.getContainer();!_||this.destroyed||(this.set("visible",!1),L.modifyCSS(_,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},S.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},S.prototype.setLocation=function(_){this.set("x",_.x),this.set("y",_.y),this.resetPosition()},S.prototype.setCrossHairsVisible=function(_){var B=_?"":"none",F=this.get("xCrosshairDom"),V=this.get("yCrosshairDom");F&&L.modifyCSS(F,{display:B}),V&&L.modifyCSS(V,{display:B})},S.prototype.initContainer=function(){if(g.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var _=this.getHtmlContentNode();this.get("parent").appendChild(_),this.set("container",_),this.resetStyles(),this.applyStyles()}},S.prototype.updateInner=function(_){this.get("customContent")?this.renderCustomContent():(y(_,["title","showTitle"])&&this.resetTitle(),P.hasKey(_,"items")&&this.renderItems()),g.prototype.updateInner.call(this,_)},S.prototype.initDom=function(){this.cacheDoms()},S.prototype.removeDom=function(){g.prototype.removeDom.call(this),this.clearCrosshairs()},S.prototype.resetPosition=function(){var _=this.get("x"),B=this.get("y"),F=this.get("offset"),V=this.getOffset(),Z=V.offsetX,X=V.offsetY,U=this.get("position"),nt=this.get("region"),q=this.getContainer(),wt=this.getBBox(),ft=wt.width,Ot=wt.height,St;nt&&(St=C.regionToBBox(nt));var At=w.getAlignPoint(_,B,F,ft,Ot,U,St);L.modifyCSS(q,{left:C.toPx(At.x+Z),top:C.toPx(At.y+X)}),this.resetCrosshairs()},S.prototype.renderCustomContent=function(){var _=this.getHtmlContentNode(),B=this.get("parent"),F=this.get("container");F&&F.parentNode===B?B.replaceChild(_,F):B.appendChild(_),this.set("container",_),this.resetStyles(),this.applyStyles()},S.prototype.getHtmlContentNode=function(){var _,B=this.get("customContent");if(B){var F=B(this.get("title"),this.get("items"));P.isElement(F)?_=F:_=L.createDom(F)}return _},S.prototype.cacheDoms=function(){var _=this.getContainer(),B=_.getElementsByClassName(E.TITLE_CLASS)[0],F=_.getElementsByClassName(E.LIST_CLASS)[0];this.set("titleDom",B),this.set("listDom",F)},S.prototype.resetTitle=function(){var _=this.get("title"),B=this.get("showTitle");B&&_?this.setTitle(_):this.setTitle("")},S.prototype.setTitle=function(_){var B=this.get("titleDom");B&&(B.innerText=_)},S.prototype.resetCrosshairs=function(){var _=this.get("crosshairsRegion"),B=this.get("crosshairs");if(!_||!B)this.clearCrosshairs();else{var F=C.regionToBBox(_),V=this.get("xCrosshairDom"),Z=this.get("yCrosshairDom");B==="x"?(this.resetCrosshair("x",F),Z&&(Z.remove(),this.set("yCrosshairDom",null))):B==="y"?(this.resetCrosshair("y",F),V&&(V.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",F),this.resetCrosshair("y",F)),this.setCrossHairsVisible(this.get("visible"))}},S.prototype.resetCrosshair=function(_,B){var F=this.checkCrosshair(_),V=this.get(_);_==="x"?L.modifyCSS(F,{left:C.toPx(V),top:C.toPx(B.y),height:C.toPx(B.height)}):L.modifyCSS(F,{top:C.toPx(V),left:C.toPx(B.x),width:C.toPx(B.width)})},S.prototype.checkCrosshair=function(_){var B=_+"CrosshairDom",F=_+"CrosshairTpl",V="CROSSHAIR_"+_.toUpperCase(),Z=E[V],X=this.get(B),U=this.get("parent");return X||(X=L.createDom(this.get(F)),this.applyStyle(Z,X),U.appendChild(X),this.set(B,X)),X},S.prototype.renderItems=function(){this.clearItemDoms();var _=this.get("items"),B=this.get("itemTpl"),F=this.get("listDom");F&&(P.each(_,function(V){var Z=k.default.toCSSGradient(V.color),X=O.__assign(O.__assign({},V),{color:Z}),U=P.substitute(B,X),nt=L.createDom(U);F.appendChild(nt)}),this.applyChildrenStyles(F,this.get("domStyles")))},S.prototype.clearItemDoms=function(){this.get("listDom")&&C.clearDom(this.get("listDom"))},S.prototype.clearCrosshairs=function(){var _=this.get("xCrosshairDom"),B=this.get("yCrosshairDom");_&&_.remove(),B&&B.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},S}(A.default);M.Z=x},51227:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.getAlignPoint=M.getPointByPosition=M.getOutSides=void 0;function d(k,L,P,A,C){var E={left:k<C.x,right:k+P>C.x+C.width,top:L<C.y,bottom:L+A>C.y+C.height};return E}M.getOutSides=d;function b(k,L,P,A,C,E){var p=k,w=L;switch(E){case"left":p=k-A-P,w=L-C/2;break;case"right":p=k+P,w=L-C/2;break;case"top":p=k-A/2,w=L-C-P;break;case"bottom":p=k-A/2,w=L+P;break;default:p=k+P,w=L-C-P;break}return{x:p,y:w}}M.getPointByPosition=b;function O(k,L,P,A,C,E,p){var w=b(k,L,P,A,C,E);if(p){var y=d(w.x,w.y,A,C,p);E==="auto"?(y.right&&(w.x=Math.max(0,k-A-P)),y.top&&(w.y=Math.max(0,L-C-P))):E==="top"||E==="bottom"?(y.left&&(w.x=p.x),y.right&&(w.x=p.x+p.width-A),E==="top"&&y.top&&(w.y=L+P),E==="bottom"&&y.bottom&&(w.y=L-C-P)):(y.top&&(w.y=p.y),y.bottom&&(w.y=p.y+p.height-C),E==="left"&&y.left&&(w.x=k+P),E==="right"&&y.right&&(w.x=k-A-P))}return w}M.getAlignPoint=O},31207:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.propagationDelegate=void 0;var b=d(66192);function O(k,L,P){var A=new b.default(L,P);A.target=k,A.propagationPath.push(k),k.emitDelegation(L,A);for(var C=k.getParent();C;)C.emitDelegation(L,A),A.propagationPath.push(C),C=C.getParent()}M.propagationDelegate=O},52782:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.getTextPoint=M.toPx=M.updateClip=M.getBBoxWithClip=M.mergeBBox=M.intersectBBox=M.near=M.wait=M.distance=M.getCirclePoint=M.getValueByPercent=M.createBBox=M.pointsToBBox=M.regionToBBox=M.hasClass=M.clearDom=M.formatPadding=void 0;var b=d(49242);function O(F){var V=0,Z=0,X=0,U=0;return b.isNumber(F)?V=Z=X=U=F:b.isArray(F)&&(V=F[0],X=b.isNil(F[1])?F[0]:F[1],U=b.isNil(F[2])?F[0]:F[2],Z=b.isNil(F[3])?X:F[3]),[V,X,U,Z]}M.formatPadding=O;function k(F){for(var V=F.childNodes,Z=V.length,X=Z-1;X>=0;X--)F.removeChild(V[X])}M.clearDom=k;function L(F,V){return!!F.className.match(new RegExp("(\\s|^)"+V+"(\\s|$)"))}M.hasClass=L;function P(F){var V=F.start,Z=F.end,X=Math.min(V.x,Z.x),U=Math.min(V.y,Z.y),nt=Math.max(V.x,Z.x),q=Math.max(V.y,Z.y);return{x:X,y:U,minX:X,minY:U,maxX:nt,maxY:q,width:nt-X,height:q-U}}M.regionToBBox=P;function A(F){var V=F.map(function(wt){return wt.x}),Z=F.map(function(wt){return wt.y}),X=Math.min.apply(Math,V),U=Math.min.apply(Math,Z),nt=Math.max.apply(Math,V),q=Math.max.apply(Math,Z);return{x:X,y:U,minX:X,minY:U,maxX:nt,maxY:q,width:nt-X,height:q-U}}M.pointsToBBox=A;function C(F,V,Z,X){return{x:F,y:V,width:Z,height:X,minX:F,minY:V,maxX:F+Z,maxY:V+X}}M.createBBox=C;function E(F,V,Z){return(1-Z)*F+V*Z}M.getValueByPercent=E;function p(F,V,Z){return{x:F.x+Math.cos(Z)*V,y:F.y+Math.sin(Z)*V}}M.getCirclePoint=p;function w(F,V){var Z=V.x-F.x,X=V.y-F.y;return Math.sqrt(Z*Z+X*X)}M.distance=w,M.wait=function(F){return new Promise(function(V){setTimeout(V,F)})},M.near=function(F,V){return[F,V].includes(Infinity)?Math.abs(F)===Math.abs(V):Math.abs(F-V)<Math.pow(Number.EPSILON,.5)};function y(F,V){var Z=Math.max(F.minX,V.minX),X=Math.max(F.minY,V.minY),U=Math.min(F.maxX,V.maxX),nt=Math.min(F.maxY,V.maxY);return C(Z,X,U-Z,nt-X)}M.intersectBBox=y;function x(F,V){var Z=Math.min(F.minX,V.minX),X=Math.min(F.minY,V.minY),U=Math.max(F.maxX,V.maxX),nt=Math.max(F.maxY,V.maxY);return C(Z,X,U-Z,nt-X)}M.mergeBBox=x;function g(F){var V=F.getClip(),Z=V&&V.getBBox(),X;if(!F.isGroup())X=F.getBBox();else{var U=Infinity,nt=-Infinity,q=Infinity,wt=-Infinity,ft=F.getChildren();ft.length>0?b.each(ft,function(Ot){if(Ot.get("visible")){if(Ot.isGroup()&&Ot.get("children").length===0)return!0;var St=g(Ot),At=Ot.applyToMatrix([St.minX,St.minY,1]),Et=Ot.applyToMatrix([St.minX,St.maxY,1]),bt=Ot.applyToMatrix([St.maxX,St.minY,1]),Lt=Ot.applyToMatrix([St.maxX,St.maxY,1]),Bt=Math.min(At[0],Et[0],bt[0],Lt[0]),gt=Math.max(At[0],Et[0],bt[0],Lt[0]),J=Math.min(At[1],Et[1],bt[1],Lt[1]),I=Math.max(At[1],Et[1],bt[1],Lt[1]);Bt<U&&(U=Bt),gt>nt&&(nt=gt),J<q&&(q=J),I>wt&&(wt=I)}}):(U=0,nt=0,q=0,wt=0),X=C(U,q,nt-U,wt-q)}return Z?y(X,Z):X}M.getBBoxWithClip=g;function S(F,V){if(!(!F.getClip()&&!V.getClip())){var Z=V.getClip();if(!Z){F.setClip(null);return}var X={type:Z.get("type"),attrs:Z.attr()};F.setClip(X)}}M.updateClip=S;function _(F){return F+"px"}M.toPx=_;function B(F,V,Z,X){var U=w(F,V),nt=X/U,q=0;return Z==="start"?q=0-nt:Z==="end"&&(q=1+nt),{x:E(F.x,V.x,q),y:E(F.y,V.y,q)}}M.getTextPoint=B},13541:function(xt,M,d){"use strict";d.r(M),d.d(M,{Coordinate:function(){return C},getCoordinate:function(){return B},registerCoordinate:function(){return F}});var b=d(65353),O=d(77160),k=d(35600),L=d(31506),P=d(49242),A=function(){function V(Z){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var X=Z.start,U=Z.end,nt=Z.matrix,q=nt===void 0?[1,0,0,0,1,0,0,0,1]:nt,wt=Z.isTransposed,ft=wt===void 0?!1:wt;this.start=X,this.end=U,this.matrix=q,this.originalMatrix=(0,b.__spreadArray)([],q),this.isTransposed=ft}return V.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},V.prototype.update=function(Z){(0,P.assign)(this,Z),this.initial()},V.prototype.convertDim=function(Z,X){var U,nt=this[X],q=nt.start,wt=nt.end;return this.isReflect(X)&&(U=[wt,q],q=U[0],wt=U[1]),q+Z*(wt-q)},V.prototype.invertDim=function(Z,X){var U,nt=this[X],q=nt.start,wt=nt.end;return this.isReflect(X)&&(U=[wt,q],q=U[0],wt=U[1]),(Z-q)/(wt-q)},V.prototype.applyMatrix=function(Z,X,U){U===void 0&&(U=0);var nt=this.matrix,q=[Z,X,U];return O.transformMat3(q,q,nt),q},V.prototype.invertMatrix=function(Z,X,U){U===void 0&&(U=0);var nt=this.matrix,q=k.invert([0,0,0,0,0,0,0,0,0],nt),wt=[Z,X,U];return q&&O.transformMat3(wt,wt,q),wt},V.prototype.convert=function(Z){var X=this.convertPoint(Z),U=X.x,nt=X.y,q=this.applyMatrix(U,nt,1);return{x:q[0],y:q[1]}},V.prototype.invert=function(Z){var X=this.invertMatrix(Z.x,Z.y,1);return this.invertPoint({x:X[0],y:X[1]})},V.prototype.rotate=function(Z){var X=this.matrix,U=this.center;return L.leftTranslate(X,X,[-U.x,-U.y]),L.leftRotate(X,X,Z),L.leftTranslate(X,X,[U.x,U.y]),this},V.prototype.reflect=function(Z){return Z==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},V.prototype.scale=function(Z,X){var U=this.matrix,nt=this.center;return L.leftTranslate(U,U,[-nt.x,-nt.y]),L.leftScale(U,U,[Z,X]),L.leftTranslate(U,U,[nt.x,nt.y]),this},V.prototype.translate=function(Z,X){var U=this.matrix;return L.leftTranslate(U,U,[Z,X]),this},V.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},V.prototype.getCenter=function(){return this.center},V.prototype.getWidth=function(){return this.width},V.prototype.getHeight=function(){return this.height},V.prototype.getRadius=function(){return this.radius},V.prototype.isReflect=function(Z){return Z==="x"?this.isReflectX:this.isReflectY},V.prototype.resetMatrix=function(Z){this.matrix=Z||(0,b.__spreadArray)([],this.originalMatrix)},V}(),C=A,E=function(V){(0,b.__extends)(Z,V);function Z(X){var U=V.call(this,X)||this;return U.isRect=!0,U.type="cartesian",U.initial(),U}return Z.prototype.initial=function(){V.prototype.initial.call(this);var X=this.start,U=this.end;this.x={start:X.x,end:U.x},this.y={start:X.y,end:U.y}},Z.prototype.convertPoint=function(X){var U,nt=X.x,q=X.y;return this.isTransposed&&(U=[q,nt],nt=U[0],q=U[1]),{x:this.convertDim(nt,"x"),y:this.convertDim(q,"y")}},Z.prototype.invertPoint=function(X){var U,nt=this.invertDim(X.x,"x"),q=this.invertDim(X.y,"y");return this.isTransposed&&(U=[q,nt],nt=U[0],q=U[1]),{x:nt,y:q}},Z}(C),p=E,w=d(31437),y=function(V){(0,b.__extends)(Z,V);function Z(X){var U=V.call(this,X)||this;U.isHelix=!0,U.type="helix";var nt=X.startAngle,q=nt===void 0?1.25*Math.PI:nt,wt=X.endAngle,ft=wt===void 0?7.25*Math.PI:wt,Ot=X.innerRadius,St=Ot===void 0?0:Ot,At=X.radius;return U.startAngle=q,U.endAngle=ft,U.innerRadius=St,U.radius=At,U.initial(),U}return Z.prototype.initial=function(){V.prototype.initial.call(this);var X=(this.endAngle-this.startAngle)/(2*Math.PI)+1,U=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(U=U*this.radius),this.d=Math.floor(U*(1-this.innerRadius)/X),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*U,end:this.innerRadius*U+this.d*.99}},Z.prototype.convertPoint=function(X){var U,nt=X.x,q=X.y;this.isTransposed&&(U=[q,nt],nt=U[0],q=U[1]);var wt=this.convertDim(nt,"x"),ft=this.a*wt,Ot=this.convertDim(q,"y");return{x:this.center.x+Math.cos(wt)*(ft+Ot),y:this.center.y+Math.sin(wt)*(ft+Ot)}},Z.prototype.invertPoint=function(X){var U,nt=this.d+this.y.start,q=w.subtract([0,0],[X.x,X.y],[this.center.x,this.center.y]),wt=L.angleTo(q,[1,0],!0),ft=wt*this.a;w.length(q)<ft&&(ft=w.length(q));var Ot=Math.floor((w.length(q)-ft)/nt);wt=2*Ot*Math.PI+wt;var St=this.a*wt,At=w.length(q)-St;At=(0,P.isNumberEqual)(At,0)?0:At;var Et=this.invertDim(wt,"x"),bt=this.invertDim(At,"y");return Et=(0,P.isNumberEqual)(Et,0)?0:Et,bt=(0,P.isNumberEqual)(bt,0)?0:bt,this.isTransposed&&(U=[bt,Et],Et=U[0],bt=U[1]),{x:Et,y:bt}},Z}(C),x=y,g=function(V){(0,b.__extends)(Z,V);function Z(X){var U=V.call(this,X)||this;U.isPolar=!0,U.type="polar";var nt=X.startAngle,q=nt===void 0?-Math.PI/2:nt,wt=X.endAngle,ft=wt===void 0?Math.PI*3/2:wt,Ot=X.innerRadius,St=Ot===void 0?0:Ot,At=X.radius;return U.startAngle=q,U.endAngle=ft,U.innerRadius=St,U.radius=At,U.initial(),U}return Z.prototype.initial=function(){for(V.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var X=this.getOneBox(),U=X.maxX-X.minX,nt=X.maxY-X.minY,q=Math.abs(X.minX)/U,wt=Math.abs(X.minY)/nt,ft;this.height/nt>this.width/U?(ft=this.width/U,this.circleCenter={x:this.center.x-(.5-q)*this.width,y:this.center.y-(.5-wt)*ft*nt}):(ft=this.height/nt,this.circleCenter={x:this.center.x-(.5-q)*ft*U,y:this.center.y-(.5-wt)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=ft*this.radius:(this.radius<=0||this.radius>ft)&&(this.polarRadius=ft):this.polarRadius=ft,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},Z.prototype.getRadius=function(){return this.polarRadius},Z.prototype.convertPoint=function(X){var U,nt=this.getCenter(),q=X.x,wt=X.y;return this.isTransposed&&(U=[wt,q],q=U[0],wt=U[1]),q=this.convertDim(q,"x"),wt=this.convertDim(wt,"y"),{x:nt.x+Math.cos(q)*wt,y:nt.y+Math.sin(q)*wt}},Z.prototype.invertPoint=function(X){var U,nt=this.getCenter(),q=[X.x-nt.x,X.y-nt.y],wt=this,ft=wt.startAngle,Ot=wt.endAngle;this.isReflect("x")&&(U=[Ot,ft],ft=U[0],Ot=U[1]);var St=[1,0,0,0,1,0,0,0,1];L.leftRotate(St,St,ft);var At=[1,0,0];O.transformMat3(At,At,St);var Et=[At[0],At[1]],bt=L.angleTo(Et,q,Ot<ft);(0,P.isNumberEqual)(bt,Math.PI*2)&&(bt=0);var Lt=w.length(q),Bt=bt/(Ot-ft);Bt=Ot-ft>0?Bt:-Bt;var gt=this.invertDim(Lt,"y"),J={x:0,y:0};return J.x=this.isTransposed?gt:Bt,J.y=this.isTransposed?Bt:gt,J},Z.prototype.getCenter=function(){return this.circleCenter},Z.prototype.getOneBox=function(){var X=this.startAngle,U=this.endAngle;if(Math.abs(U-X)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var nt=[0,Math.cos(X),Math.cos(U)],q=[0,Math.sin(X),Math.sin(U)],wt=Math.min(X,U);wt<Math.max(X,U);wt+=Math.PI/18)nt.push(Math.cos(wt)),q.push(Math.sin(wt));return{minX:Math.min.apply(Math,nt),maxX:Math.max.apply(Math,nt),minY:Math.min.apply(Math,q),maxY:Math.max.apply(Math,q)}},Z}(C),S=g,_={},B=function(V){return _[V.toLowerCase()]},F=function(V,Z){_[V.toLowerCase()]=Z};F("rect",p),F("cartesian",p),F("polar",S),F("helix",x)},57817:function(xt,M,d){"use strict";d.d(M,{Z:function(){return b}});function b(O,k,L){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(k,L,!1),{remove:function(){O.removeEventListener(k,L,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+k,L),{remove:function(){O.detachEvent("on"+k,L)}}}}},6056:function(xt,M,d){"use strict";d.d(M,{Z:function(){return A}});var b,O,k,L;function P(){b=document.createElement("table"),O=document.createElement("tr"),k=/^\s*<(\w+|!)[^>]*>/,L={tr:document.createElement("tbody"),tbody:b,thead:b,tfoot:b,td:O,th:O,"*":document.createElement("div")}}function A(C){b||P();var E=k.test(C)&&RegExp.$1;(!E||!(E in L))&&(E="*");var p=L[E];C=typeof C=="string"?C.replace(/(^\s*)|(\s*$)/g,""):C,p.innerHTML=""+C;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}},10430:function(xt,M,d){"use strict";d.d(M,{Z:function(){return O}});var b=d(99911);function O(k,L){var P=(0,b.Z)(k,"height",L);return P==="auto"&&(P=k.offsetHeight),parseFloat(P)}},79189:function(xt,M,d){"use strict";d.d(M,{Z:function(){return k}});var b=d(99911),O=d(10430);function k(L,P){var A=(0,O.Z)(L,P),C=parseFloat((0,b.Z)(L,"borderTopWidth"))||0,E=parseFloat((0,b.Z)(L,"paddingTop"))||0,p=parseFloat((0,b.Z)(L,"paddingBottom"))||0,w=parseFloat((0,b.Z)(L,"borderBottomWidth"))||0,y=parseFloat((0,b.Z)(L,"marginTop"))||0,x=parseFloat((0,b.Z)(L,"marginBottom"))||0;return A+C+w+E+p+y+x}},89810:function(xt,M,d){"use strict";d.d(M,{Z:function(){return k}});var b=d(99911),O=d(23408);function k(L,P){var A=(0,O.Z)(L,P),C=parseFloat((0,b.Z)(L,"borderLeftWidth"))||0,E=parseFloat((0,b.Z)(L,"paddingLeft"))||0,p=parseFloat((0,b.Z)(L,"paddingRight"))||0,w=parseFloat((0,b.Z)(L,"borderRightWidth"))||0,y=parseFloat((0,b.Z)(L,"marginRight"))||0,x=parseFloat((0,b.Z)(L,"marginLeft"))||0;return A+C+w+E+p+x+y}},99911:function(xt,M,d){"use strict";d.d(M,{Z:function(){return b}});function b(O,k,L){var P;try{P=window.getComputedStyle?window.getComputedStyle(O,null)[k]:O.style[k]}catch(A){}finally{P=P===void 0?L:P}return P}},23408:function(xt,M,d){"use strict";d.d(M,{Z:function(){return O}});var b=d(99911);function O(k,L){var P=(0,b.Z)(k,"width",L);return P==="auto"&&(P=k.offsetWidth),parseFloat(P)}},80478:function(xt,M,d){"use strict";d.r(M),d.d(M,{addEventListener:function(){return b.Z},createDom:function(){return O.Z},getHeight:function(){return k.Z},getOuterHeight:function(){return L.Z},getOuterWidth:function(){return P.Z},getRatio:function(){return A},getStyle:function(){return C.Z},getWidth:function(){return E.Z},modifyCSS:function(){return p.Z}});var b=d(57817),O=d(6056),k=d(10430),L=d(79189),P=d(89810);function A(){return window.devicePixelRatio?window.devicePixelRatio:2}var C=d(99911),E=d(23408),p=d(45442)},45442:function(xt,M,d){"use strict";d.d(M,{Z:function(){return b}});function b(O,k){if(O)for(var L in k)k.hasOwnProperty(L)&&(O.style[L]=k[L]);return O}},73136:function(xt,M){"use strict";var d;d={value:!0};function b(O,k,L){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(k,L,!1),{remove:function(){O.removeEventListener(k,L,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+k,L),{remove:function(){O.detachEvent("on"+k,L)}}}}M.Z=b},57821:function(xt,M){"use strict";var d;d={value:!0};var b,O,k,L;function P(){b=document.createElement("table"),O=document.createElement("tr"),k=/^\s*<(\w+|!)[^>]*>/,L={tr:document.createElement("tbody"),tbody:b,thead:b,tfoot:b,td:O,th:O,"*":document.createElement("div")}}function A(C){b||P();var E=k.test(C)&&RegExp.$1;(!E||!(E in L))&&(E="*");var p=L[E];C=typeof C=="string"?C.replace(/(^\s*)|(\s*$)/g,""):C,p.innerHTML=""+C;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}M.Z=A},1513:function(xt,M){"use strict";var d;d={value:!0};function b(O,k){if(O)for(var L in k)k.hasOwnProperty(L)&&(O.style[L]=k[L]);return O}M.Z=b},90494:function(xt,M,d){"use strict";d.r(M);var b="*",O=function(){function k(){this._events={}}return k.prototype.on=function(L,P,A){return this._events[L]||(this._events[L]=[]),this._events[L].push({callback:P,once:!!A}),this},k.prototype.once=function(L,P){return this.on(L,P,!0)},k.prototype.emit=function(L){for(var P=this,A=[],C=1;C<arguments.length;C++)A[C-1]=arguments[C];var E=this._events[L]||[],p=this._events[b]||[],w=function(y){for(var x=y.length,g=0;g<x;g++)if(!!y[g]){var S=y[g],_=S.callback,B=S.once;B&&(y.splice(g,1),y.length===0&&delete P._events[L],x--,g--),_.apply(P,A)}};w(E),w(p)},k.prototype.off=function(L,P){if(!L)this._events={};else if(!P)delete this._events[L];else{for(var A=this._events[L]||[],C=A.length,E=0;E<C;E++)A[E].callback===P&&(A.splice(E,1),C--,E--);A.length===0&&delete this._events[L]}return this},k.prototype.getEvents=function(){return this._events},k}();M.default=O},65722:function(xt,M,d){"use strict";d.r(M),d.d(M,{AbstractCanvas:function(){return Ut},AbstractGroup:function(){return ye},AbstractShape:function(){return Te},Base:function(){return Pe},Event:function(){return K},PathUtil:function(){return b},version:function(){return nr}});var b={};d.r(b),d.d(b,{catmullRomToBezier:function(){return C},fillPath:function(){return Bt},fillPathByDiff:function(){return u},formatPath:function(){return z},intersection:function(){return At},parsePathArray:function(){return _},parsePathString:function(){return A},pathToAbsolute:function(){return p},pathToCurve:function(){return g},rectPath:function(){return U}});var O=d(49242),k=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,L=new RegExp("([a-z])["+k+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+k+"]*,?["+k+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+k+"]*,?["+k+"]*","ig"),A=function(Pt){if(!Pt)return null;if((0,O.isArray)(Pt))return Pt;var ht={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ot=[];return String(Pt).replace(L,function(dt,kt,jt){var oe=[],fe=kt.toLowerCase();if(jt.replace(P,function(ue,ke){ke&&oe.push(+ke)}),fe==="m"&&oe.length>2&&(ot.push([kt].concat(oe.splice(0,2))),fe="l",kt=kt==="m"?"l":"L"),fe==="o"&&oe.length===1&&ot.push([kt,oe[0]]),fe==="r")ot.push([kt].concat(oe));else for(;oe.length>=ht[fe]&&(ot.push([kt].concat(oe.splice(0,ht[fe]))),!!ht[fe]););return Pt}),ot},C=function(Pt,ht){for(var ot=[],dt=0,kt=Pt.length;kt-2*!ht>dt;dt+=2){var jt=[{x:+Pt[dt-2],y:+Pt[dt-1]},{x:+Pt[dt],y:+Pt[dt+1]},{x:+Pt[dt+2],y:+Pt[dt+3]},{x:+Pt[dt+4],y:+Pt[dt+5]}];ht?dt?kt-4===dt?jt[3]={x:+Pt[0],y:+Pt[1]}:kt-2===dt&&(jt[2]={x:+Pt[0],y:+Pt[1]},jt[3]={x:+Pt[2],y:+Pt[3]}):jt[0]={x:+Pt[kt-2],y:+Pt[kt-1]}:kt-4===dt?jt[3]=jt[2]:dt||(jt[0]={x:+Pt[dt],y:+Pt[dt+1]}),ot.push(["C",(-jt[0].x+6*jt[1].x+jt[2].x)/6,(-jt[0].y+6*jt[1].y+jt[2].y)/6,(jt[1].x+6*jt[2].x-jt[3].x)/6,(jt[1].y+6*jt[2].y-jt[3].y)/6,jt[2].x,jt[2].y])}return ot},E=function(Pt,ht,ot,dt,kt){var jt=[];if(kt===null&&dt===null&&(dt=ot),Pt=+Pt,ht=+ht,ot=+ot,dt=+dt,kt!==null){var oe=Math.PI/180,fe=Pt+ot*Math.cos(-dt*oe),ue=Pt+ot*Math.cos(-kt*oe),ke=ht+ot*Math.sin(-dt*oe),Be=ht+ot*Math.sin(-kt*oe);jt=[["M",fe,ke],["A",ot,ot,0,+(kt-dt>180),0,ue,Be]]}else jt=[["M",Pt,ht],["m",0,-dt],["a",ot,dt,0,1,1,0,2*dt],["a",ot,dt,0,1,1,0,-2*dt],["z"]];return jt},p=function(Pt){if(Pt=A(Pt),!Pt||!Pt.length)return[["M",0,0]];var ht=[],ot=0,dt=0,kt=0,jt=0,oe=0,fe,ue;Pt[0][0]==="M"&&(ot=+Pt[0][1],dt=+Pt[0][2],kt=ot,jt=dt,oe++,ht[0]=["M",ot,dt]);for(var ke=Pt.length===3&&Pt[0][0]==="M"&&Pt[1][0].toUpperCase()==="R"&&Pt[2][0].toUpperCase()==="Z",Be=void 0,Ye=void 0,fr=oe,Xe=Pt.length;fr<Xe;fr++){if(ht.push(Be=[]),Ye=Pt[fr],fe=Ye[0],fe!==fe.toUpperCase())switch(Be[0]=fe.toUpperCase(),Be[0]){case"A":Be[1]=Ye[1],Be[2]=Ye[2],Be[3]=Ye[3],Be[4]=Ye[4],Be[5]=Ye[5],Be[6]=+Ye[6]+ot,Be[7]=+Ye[7]+dt;break;case"V":Be[1]=+Ye[1]+dt;break;case"H":Be[1]=+Ye[1]+ot;break;case"R":ue=[ot,dt].concat(Ye.slice(1));for(var Ne=2,Or=ue.length;Ne<Or;Ne++)ue[Ne]=+ue[Ne]+ot,ue[++Ne]=+ue[Ne]+dt;ht.pop(),ht=ht.concat(C(ue,ke));break;case"O":ht.pop(),ue=E(ot,dt,Ye[1],Ye[2]),ue.push(ue[0]),ht=ht.concat(ue);break;case"U":ht.pop(),ht=ht.concat(E(ot,dt,Ye[1],Ye[2],Ye[3])),Be=["U"].concat(ht[ht.length-1].slice(-2));break;case"M":kt=+Ye[1]+ot,jt=+Ye[2]+dt;break;default:for(var Ne=1,Or=Ye.length;Ne<Or;Ne++)Be[Ne]=+Ye[Ne]+(Ne%2?ot:dt)}else if(fe==="R")ue=[ot,dt].concat(Ye.slice(1)),ht.pop(),ht=ht.concat(C(ue,ke)),Be=["R"].concat(Ye.slice(-2));else if(fe==="O")ht.pop(),ue=E(ot,dt,Ye[1],Ye[2]),ue.push(ue[0]),ht=ht.concat(ue);else if(fe==="U")ht.pop(),ht=ht.concat(E(ot,dt,Ye[1],Ye[2],Ye[3])),Be=["U"].concat(ht[ht.length-1].slice(-2));else for(var Er=0,jr=Ye.length;Er<jr;Er++)Be[Er]=Ye[Er];if(fe=fe.toUpperCase(),fe!=="O")switch(Be[0]){case"Z":ot=+kt,dt=+jt;break;case"H":ot=Be[1];break;case"V":dt=Be[1];break;case"M":kt=Be[Be.length-2],jt=Be[Be.length-1];break;default:ot=Be[Be.length-2],dt=Be[Be.length-1]}}return ht},w=function(Pt,ht,ot,dt){return[Pt,ht,ot,dt,ot,dt]},y=function(Pt,ht,ot,dt,kt,jt){var oe=1/3,fe=2/3;return[oe*Pt+fe*ot,oe*ht+fe*dt,oe*kt+fe*ot,oe*jt+fe*dt,kt,jt]},x=function(Pt,ht,ot,dt,kt,jt,oe,fe,ue,ke){ot===dt&&(ot+=1);var Be=Math.PI*120/180,Ye=Math.PI/180*(+kt||0),fr=[],Xe,Ne,Or,Er,jr,$r=function(pi,Pn,Sa){var En=pi*Math.cos(Sa)-Pn*Math.sin(Sa),Ma=pi*Math.sin(Sa)+Pn*Math.cos(Sa);return{x:En,y:Ma}};if(ke)Ne=ke[0],Or=ke[1],Er=ke[2],jr=ke[3];else{Xe=$r(Pt,ht,-Ye),Pt=Xe.x,ht=Xe.y,Xe=$r(fe,ue,-Ye),fe=Xe.x,ue=Xe.y,Pt===fe&&ht===ue&&(fe+=1,ue+=1);var mr=(Pt-fe)/2,sr=(ht-ue)/2,Qr=mr*mr/(ot*ot)+sr*sr/(dt*dt);Qr>1&&(Qr=Math.sqrt(Qr),ot=Qr*ot,dt=Qr*dt);var Cn=ot*ot,Dn=dt*dt,ui=(jt===oe?-1:1)*Math.sqrt(Math.abs((Cn*Dn-Cn*sr*sr-Dn*mr*mr)/(Cn*sr*sr+Dn*mr*mr)));Er=ui*ot*sr/dt+(Pt+fe)/2,jr=ui*-dt*mr/ot+(ht+ue)/2,Ne=Math.asin(((ht-jr)/dt).toFixed(9)),Or=Math.asin(((ue-jr)/dt).toFixed(9)),Ne=Pt<Er?Math.PI-Ne:Ne,Or=fe<Er?Math.PI-Or:Or,Ne<0&&(Ne=Math.PI*2+Ne),Or<0&&(Or=Math.PI*2+Or),oe&&Ne>Or&&(Ne=Ne-Math.PI*2),!oe&&Or>Ne&&(Or=Or-Math.PI*2)}var fi=Or-Ne;if(Math.abs(fi)>Be){var Ba=Or,Qi=fe,Ji=ue;Or=Ne+Be*(oe&&Or>Ne?1:-1),fe=Er+ot*Math.cos(Or),ue=jr+dt*Math.sin(Or),fr=x(fe,ue,ot,dt,kt,0,oe,Qi,Ji,[Or,Ba,Er,jr])}fi=Or-Ne;var fa=Math.cos(Ne),Za=Math.sin(Ne),lo=Math.cos(Or),Ho=Math.sin(Or),Da=Math.tan(fi/4),Ka=4/3*ot*Da,wa=4/3*dt*Da,xi=[Pt,ht],da=[Pt+Ka*Za,ht-wa*fa],uo=[fe+Ka*Ho,ue-wa*lo],$a=[fe,ue];if(da[0]=2*xi[0]-da[0],da[1]=2*xi[1]-da[1],ke)return[da,uo,$a].concat(fr);fr=[da,uo,$a].concat(fr).join().split(",");for(var Fa=[],gn=0,Eo=fr.length;gn<Eo;gn++)Fa[gn]=gn%2?$r(fr[gn-1],fr[gn],Ye).y:$r(fr[gn],fr[gn+1],Ye).x;return Fa},g=function(Pt,ht){var ot=p(Pt),dt=ht&&p(ht),kt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},jt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},oe=[],fe=[],ue="",ke="",Be,Ye=function(mr,sr,Qr){var Cn,Dn;if(!mr)return["C",sr.x,sr.y,sr.x,sr.y,sr.x,sr.y];switch(!(mr[0]in{T:1,Q:1})&&(sr.qx=sr.qy=null),mr[0]){case"M":sr.X=mr[1],sr.Y=mr[2];break;case"A":mr=["C"].concat(x.apply(0,[sr.x,sr.y].concat(mr.slice(1))));break;case"S":Qr==="C"||Qr==="S"?(Cn=sr.x*2-sr.bx,Dn=sr.y*2-sr.by):(Cn=sr.x,Dn=sr.y),mr=["C",Cn,Dn].concat(mr.slice(1));break;case"T":Qr==="Q"||Qr==="T"?(sr.qx=sr.x*2-sr.qx,sr.qy=sr.y*2-sr.qy):(sr.qx=sr.x,sr.qy=sr.y),mr=["C"].concat(y(sr.x,sr.y,sr.qx,sr.qy,mr[1],mr[2]));break;case"Q":sr.qx=mr[1],sr.qy=mr[2],mr=["C"].concat(y(sr.x,sr.y,mr[1],mr[2],mr[3],mr[4]));break;case"L":mr=["C"].concat(w(sr.x,sr.y,mr[1],mr[2]));break;case"H":mr=["C"].concat(w(sr.x,sr.y,mr[1],sr.y));break;case"V":mr=["C"].concat(w(sr.x,sr.y,sr.x,mr[1]));break;case"Z":mr=["C"].concat(w(sr.x,sr.y,sr.X,sr.Y));break;default:break}return mr},fr=function(mr,sr){if(mr[sr].length>7){mr[sr].shift();for(var Qr=mr[sr];Qr.length;)oe[sr]="A",dt&&(fe[sr]="A"),mr.splice(sr++,0,["C"].concat(Qr.splice(0,6)));mr.splice(sr,1),Be=Math.max(ot.length,dt&&dt.length||0)}},Xe=function(mr,sr,Qr,Cn,Dn){mr&&sr&&mr[Dn][0]==="M"&&sr[Dn][0]!=="M"&&(sr.splice(Dn,0,["M",Cn.x,Cn.y]),Qr.bx=0,Qr.by=0,Qr.x=mr[Dn][1],Qr.y=mr[Dn][2],Be=Math.max(ot.length,dt&&dt.length||0))};Be=Math.max(ot.length,dt&&dt.length||0);for(var Ne=0;Ne<Be;Ne++){ot[Ne]&&(ue=ot[Ne][0]),ue!=="C"&&(oe[Ne]=ue,Ne&&(ke=oe[Ne-1])),ot[Ne]=Ye(ot[Ne],kt,ke),oe[Ne]!=="A"&&ue==="C"&&(oe[Ne]="C"),fr(ot,Ne),dt&&(dt[Ne]&&(ue=dt[Ne][0]),ue!=="C"&&(fe[Ne]=ue,Ne&&(ke=fe[Ne-1])),dt[Ne]=Ye(dt[Ne],jt,ke),fe[Ne]!=="A"&&ue==="C"&&(fe[Ne]="C"),fr(dt,Ne)),Xe(ot,dt,kt,jt,Ne),Xe(dt,ot,jt,kt,Ne);var Or=ot[Ne],Er=dt&&dt[Ne],jr=Or.length,$r=dt&&Er.length;kt.x=Or[jr-2],kt.y=Or[jr-1],kt.bx=parseFloat(Or[jr-4])||kt.x,kt.by=parseFloat(Or[jr-3])||kt.y,jt.bx=dt&&(parseFloat(Er[$r-4])||jt.x),jt.by=dt&&(parseFloat(Er[$r-3])||jt.y),jt.x=dt&&Er[$r-2],jt.y=dt&&Er[$r-1]}return dt?[ot,dt]:ot},S=/,?([a-z]),?/gi,_=function(Pt){return Pt.join(",").replace(S,"$1")},B=function(Pt,ht,ot,dt,kt){var jt=-3*ht+9*ot-9*dt+3*kt,oe=Pt*jt+6*ht-12*ot+6*dt;return Pt*oe-3*ht+3*ot},F=function(Pt,ht,ot,dt,kt,jt,oe,fe,ue){ue===null&&(ue=1),ue=ue>1?1:ue<0?0:ue;for(var ke=ue/2,Be=12,Ye=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],fr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Xe=0,Ne=0;Ne<Be;Ne++){var Or=ke*Ye[Ne]+ke,Er=B(Or,Pt,ot,kt,oe),jr=B(Or,ht,dt,jt,fe),$r=Er*Er+jr*jr;Xe+=fr[Ne]*Math.sqrt($r)}return ke*Xe},V=function(Pt,ht,ot,dt,kt,jt,oe,fe){for(var ue=[],ke=[[],[]],Be,Ye,fr,Xe,Ne=0;Ne<2;++Ne){if(Ne===0?(Ye=6*Pt-12*ot+6*kt,Be=-3*Pt+9*ot-9*kt+3*oe,fr=3*ot-3*Pt):(Ye=6*ht-12*dt+6*jt,Be=-3*ht+9*dt-9*jt+3*fe,fr=3*dt-3*ht),Math.abs(Be)<1e-12){if(Math.abs(Ye)<1e-12)continue;Xe=-fr/Ye,Xe>0&&Xe<1&&ue.push(Xe);continue}var Or=Ye*Ye-4*fr*Be,Er=Math.sqrt(Or);if(!(Or<0)){var jr=(-Ye+Er)/(2*Be);jr>0&&jr<1&&ue.push(jr);var $r=(-Ye-Er)/(2*Be);$r>0&&$r<1&&ue.push($r)}}for(var mr=ue.length,sr=mr,Qr;mr--;)Xe=ue[mr],Qr=1-Xe,ke[0][mr]=Qr*Qr*Qr*Pt+3*Qr*Qr*Xe*ot+3*Qr*Xe*Xe*kt+Xe*Xe*Xe*oe,ke[1][mr]=Qr*Qr*Qr*ht+3*Qr*Qr*Xe*dt+3*Qr*Xe*Xe*jt+Xe*Xe*Xe*fe;return ke[0][sr]=Pt,ke[1][sr]=ht,ke[0][sr+1]=oe,ke[1][sr+1]=fe,ke[0].length=ke[1].length=sr+2,{min:{x:Math.min.apply(0,ke[0]),y:Math.min.apply(0,ke[1])},max:{x:Math.max.apply(0,ke[0]),y:Math.max.apply(0,ke[1])}}},Z=function(Pt,ht,ot,dt,kt,jt,oe,fe){if(!(Math.max(Pt,ot)<Math.min(kt,oe)||Math.min(Pt,ot)>Math.max(kt,oe)||Math.max(ht,dt)<Math.min(jt,fe)||Math.min(ht,dt)>Math.max(jt,fe))){var ue=(Pt*dt-ht*ot)*(kt-oe)-(Pt-ot)*(kt*fe-jt*oe),ke=(Pt*dt-ht*ot)*(jt-fe)-(ht-dt)*(kt*fe-jt*oe),Be=(Pt-ot)*(jt-fe)-(ht-dt)*(kt-oe);if(!!Be){var Ye=ue/Be,fr=ke/Be,Xe=+Ye.toFixed(2),Ne=+fr.toFixed(2);if(!(Xe<+Math.min(Pt,ot).toFixed(2)||Xe>+Math.max(Pt,ot).toFixed(2)||Xe<+Math.min(kt,oe).toFixed(2)||Xe>+Math.max(kt,oe).toFixed(2)||Ne<+Math.min(ht,dt).toFixed(2)||Ne>+Math.max(ht,dt).toFixed(2)||Ne<+Math.min(jt,fe).toFixed(2)||Ne>+Math.max(jt,fe).toFixed(2)))return{x:Ye,y:fr}}}},X=function(Pt,ht,ot){return ht>=Pt.x&&ht<=Pt.x+Pt.width&&ot>=Pt.y&&ot<=Pt.y+Pt.height},U=function(Pt,ht,ot,dt,kt){if(kt)return[["M",+Pt+ +kt,ht],["l",ot-kt*2,0],["a",kt,kt,0,0,1,kt,kt],["l",0,dt-kt*2],["a",kt,kt,0,0,1,-kt,kt],["l",kt*2-ot,0],["a",kt,kt,0,0,1,-kt,-kt],["l",0,kt*2-dt],["a",kt,kt,0,0,1,kt,-kt],["z"]];var jt=[["M",Pt,ht],["l",ot,0],["l",0,dt],["l",-ot,0],["z"]];return jt.parsePathArray=_,jt},nt=function(Pt,ht,ot,dt){return Pt===null&&(Pt=ht=ot=dt=0),ht===null&&(ht=Pt.y,ot=Pt.width,dt=Pt.height,Pt=Pt.x),{x:Pt,y:ht,width:ot,w:ot,height:dt,h:dt,x2:Pt+ot,y2:ht+dt,cx:Pt+ot/2,cy:ht+dt/2,r1:Math.min(ot,dt)/2,r2:Math.max(ot,dt)/2,r0:Math.sqrt(ot*ot+dt*dt)/2,path:U(Pt,ht,ot,dt),vb:[Pt,ht,ot,dt].join(" ")}},q=function(Pt,ht){return Pt=nt(Pt),ht=nt(ht),X(ht,Pt.x,Pt.y)||X(ht,Pt.x2,Pt.y)||X(ht,Pt.x,Pt.y2)||X(ht,Pt.x2,Pt.y2)||X(Pt,ht.x,ht.y)||X(Pt,ht.x2,ht.y)||X(Pt,ht.x,ht.y2)||X(Pt,ht.x2,ht.y2)||(Pt.x<ht.x2&&Pt.x>ht.x||ht.x<Pt.x2&&ht.x>Pt.x)&&(Pt.y<ht.y2&&Pt.y>ht.y||ht.y<Pt.y2&&ht.y>Pt.y)},wt=function(Pt,ht,ot,dt,kt,jt,oe,fe){(0,O.isArray)(Pt)||(Pt=[Pt,ht,ot,dt,kt,jt,oe,fe]);var ue=V.apply(null,Pt);return nt(ue.min.x,ue.min.y,ue.max.x-ue.min.x,ue.max.y-ue.min.y)},ft=function(Pt,ht,ot,dt,kt,jt,oe,fe,ue){var ke=1-ue,Be=Math.pow(ke,3),Ye=Math.pow(ke,2),fr=ue*ue,Xe=fr*ue,Ne=Be*Pt+Ye*3*ue*ot+ke*3*ue*ue*kt+Xe*oe,Or=Be*ht+Ye*3*ue*dt+ke*3*ue*ue*jt+Xe*fe,Er=Pt+2*ue*(ot-Pt)+fr*(kt-2*ot+Pt),jr=ht+2*ue*(dt-ht)+fr*(jt-2*dt+ht),$r=ot+2*ue*(kt-ot)+fr*(oe-2*kt+ot),mr=dt+2*ue*(jt-dt)+fr*(fe-2*jt+dt),sr=ke*Pt+ue*ot,Qr=ke*ht+ue*dt,Cn=ke*kt+ue*oe,Dn=ke*jt+ue*fe,ui=90-Math.atan2(Er-$r,jr-mr)*180/Math.PI;return{x:Ne,y:Or,m:{x:Er,y:jr},n:{x:$r,y:mr},start:{x:sr,y:Qr},end:{x:Cn,y:Dn},alpha:ui}},Ot=function(Pt,ht,ot){var dt=wt(Pt),kt=wt(ht);if(!q(dt,kt))return ot?0:[];for(var jt=F.apply(0,Pt),oe=F.apply(0,ht),fe=~~(jt/8),ue=~~(oe/8),ke=[],Be=[],Ye={},fr=ot?0:[],Xe=0;Xe<fe+1;Xe++){var Ne=ft.apply(0,Pt.concat(Xe/fe));ke.push({x:Ne.x,y:Ne.y,t:Xe/fe})}for(var Xe=0;Xe<ue+1;Xe++){var Ne=ft.apply(0,ht.concat(Xe/ue));Be.push({x:Ne.x,y:Ne.y,t:Xe/ue})}for(var Xe=0;Xe<fe;Xe++)for(var Or=0;Or<ue;Or++){var Er=ke[Xe],jr=ke[Xe+1],$r=Be[Or],mr=Be[Or+1],sr=Math.abs(jr.x-Er.x)<.001?"y":"x",Qr=Math.abs(mr.x-$r.x)<.001?"y":"x",Cn=Z(Er.x,Er.y,jr.x,jr.y,$r.x,$r.y,mr.x,mr.y);if(Cn){if(Ye[Cn.x.toFixed(4)]===Cn.y.toFixed(4))continue;Ye[Cn.x.toFixed(4)]=Cn.y.toFixed(4);var Dn=Er.t+Math.abs((Cn[sr]-Er[sr])/(jr[sr]-Er[sr]))*(jr.t-Er.t),ui=$r.t+Math.abs((Cn[Qr]-$r[Qr])/(mr[Qr]-$r[Qr]))*(mr.t-$r.t);Dn>=0&&Dn<=1&&ui>=0&&ui<=1&&(ot?fr+=1:fr.push({x:Cn.x,y:Cn.y,t1:Dn,t2:ui}))}}return fr},St=function(Pt,ht,ot){Pt=g(Pt),ht=g(ht);for(var dt,kt,jt,oe,fe,ue,ke,Be,Ye,fr,Xe=ot?0:[],Ne=0,Or=Pt.length;Ne<Or;Ne++){var Er=Pt[Ne];if(Er[0]==="M")dt=fe=Er[1],kt=ue=Er[2];else{Er[0]==="C"?(Ye=[dt,kt].concat(Er.slice(1)),dt=Ye[6],kt=Ye[7]):(Ye=[dt,kt,dt,kt,fe,ue,fe,ue],dt=fe,kt=ue);for(var jr=0,$r=ht.length;jr<$r;jr++){var mr=ht[jr];if(mr[0]==="M")jt=ke=mr[1],oe=Be=mr[2];else{mr[0]==="C"?(fr=[jt,oe].concat(mr.slice(1)),jt=fr[6],oe=fr[7]):(fr=[jt,oe,jt,oe,ke,Be,ke,Be],jt=ke,oe=Be);var sr=Ot(Ye,fr,ot);if(ot)Xe+=sr;else{for(var Qr=0,Cn=sr.length;Qr<Cn;Qr++)sr[Qr].segment1=Ne,sr[Qr].segment2=jr,sr[Qr].bez1=Ye,sr[Qr].bez2=fr;Xe=Xe.concat(sr)}}}}}return Xe},At=function(Pt,ht){return St(Pt,ht)};function Et(Pt,ht){var ot=[],dt=[];function kt(jt,oe){if(jt.length===1)ot.push(jt[0]),dt.push(jt[0]);else{for(var fe=[],ue=0;ue<jt.length-1;ue++)ue===0&&ot.push(jt[0]),ue===jt.length-2&&dt.push(jt[ue+1]),fe[ue]=[(1-oe)*jt[ue][0]+oe*jt[ue+1][0],(1-oe)*jt[ue][1]+oe*jt[ue+1][1]];kt(fe,oe)}}return Pt.length&&kt(Pt,ht),{left:ot,right:dt.reverse()}}function bt(Pt,ht,ot){var dt=[[Pt[1],Pt[2]]];ot=ot||2;var kt=[];ht[0]==="A"?(dt.push(ht[6]),dt.push(ht[7])):ht[0]==="C"?(dt.push([ht[1],ht[2]]),dt.push([ht[3],ht[4]]),dt.push([ht[5],ht[6]])):ht[0]==="S"||ht[0]==="Q"?(dt.push([ht[1],ht[2]]),dt.push([ht[3],ht[4]])):dt.push([ht[1],ht[2]]);for(var jt=dt,oe=1/ot,fe=0;fe<ot-1;fe++){var ue=oe/(1-oe*fe),ke=Et(jt,ue);kt.push(ke.left),jt=ke.right}kt.push(jt);var Be=kt.map(function(Ye){var fr=[];return Ye.length===4&&(fr.push("C"),fr=fr.concat(Ye[2])),Ye.length>=3&&(Ye.length===3&&fr.push("Q"),fr=fr.concat(Ye[1])),Ye.length===2&&fr.push("L"),fr=fr.concat(Ye[Ye.length-1]),fr});return Be}var Lt=function(Pt,ht,ot){if(ot===1)return[[].concat(Pt)];var dt=[];if(ht[0]==="L"||ht[0]==="C"||ht[0]==="Q")dt=dt.concat(bt(Pt,ht,ot));else{var kt=[].concat(Pt);kt[0]==="M"&&(kt[0]="L");for(var jt=0;jt<=ot-1;jt++)dt.push(kt)}return dt},Bt=function(Pt,ht){if(Pt.length===1)return Pt;var ot=Pt.length-1,dt=ht.length-1,kt=ot/dt,jt=[];if(Pt.length===1&&Pt[0][0]==="M"){for(var oe=0;oe<dt-ot;oe++)Pt.push(Pt[0]);return Pt}for(var oe=0;oe<dt;oe++){var fe=Math.floor(kt*oe);jt[fe]=(jt[fe]||0)+1}var ue=jt.reduce(function(ke,Be,Ye){return Ye===ot?ke.concat(Pt[ot]):ke.concat(Lt(Pt[Ye],Pt[Ye+1],Be))},[]);return ue.unshift(Pt[0]),(ht[dt]==="Z"||ht[dt]==="z")&&ue.push("Z"),ue},gt=function(Pt,ht){if(Pt.length!==ht.length)return!1;var ot=!0;return(0,O.each)(Pt,function(dt,kt){if(dt!==ht[kt])return ot=!1,!1}),ot};function J(Pt,ht,ot){var dt=null,kt=ot;return ht<kt&&(kt=ht,dt="add"),Pt<kt&&(kt=Pt,dt="del"),{type:dt,min:kt}}var I=function(Pt,ht){var ot=Pt.length,dt=ht.length,kt,jt,oe=0;if(ot===0||dt===0)return null;for(var fe=[],ue=0;ue<=ot;ue++)fe[ue]=[],fe[ue][0]={min:ue};for(var ke=0;ke<=dt;ke++)fe[0][ke]={min:ke};for(var ue=1;ue<=ot;ue++){kt=Pt[ue-1];for(var ke=1;ke<=dt;ke++){jt=ht[ke-1],gt(kt,jt)?oe=0:oe=1;var Be=fe[ue-1][ke].min+1,Ye=fe[ue][ke-1].min+1,fr=fe[ue-1][ke-1].min+oe;fe[ue][ke]=J(Be,Ye,fr)}}return fe},u=function(Pt,ht){var ot=I(Pt,ht),dt=Pt.length,kt=ht.length,jt=[],oe=1,fe=1;if(ot[dt][kt].min!==dt){for(var ue=1;ue<=dt;ue++){var ke=ot[ue][ue].min;fe=ue;for(var Be=oe;Be<=kt;Be++)ot[ue][Be].min<ke&&(ke=ot[ue][Be].min,fe=Be);oe=fe,ot[ue][oe].type&&jt.push({index:ue-1,type:ot[ue][oe].type})}for(var ue=jt.length-1;ue>=0;ue--)oe=jt[ue].index,jt[ue].type==="add"?Pt.splice(oe,0,[].concat(Pt[oe])):Pt.splice(oe,1)}dt=Pt.length;var Ye=kt-dt;if(dt<kt)for(var ue=0;ue<Ye;ue++)Pt[dt-1][0]==="z"||Pt[dt-1][0]==="Z"?Pt.splice(dt-2,0,Pt[dt-2]):Pt.push(Pt[dt-1]),dt+=1;return Pt};function R(Pt,ht,ot){for(var dt=[].concat(Pt),kt,jt=1/(ot+1),oe=N(ht)[0],fe=1;fe<=ot;fe++)jt*=fe,kt=Math.floor(Pt.length*jt),kt===0?dt.unshift([oe[0]*jt+Pt[kt][0]*(1-jt),oe[1]*jt+Pt[kt][1]*(1-jt)]):dt.splice(kt,0,[oe[0]*jt+Pt[kt][0]*(1-jt),oe[1]*jt+Pt[kt][1]*(1-jt)]);return dt}function N(Pt){var ht=[];switch(Pt[0]){case"M":ht.push([Pt[1],Pt[2]]);break;case"L":ht.push([Pt[1],Pt[2]]);break;case"A":ht.push([Pt[6],Pt[7]]);break;case"Q":ht.push([Pt[3],Pt[4]]),ht.push([Pt[1],Pt[2]]);break;case"T":ht.push([Pt[1],Pt[2]]);break;case"C":ht.push([Pt[5],Pt[6]]),ht.push([Pt[1],Pt[2]]),ht.push([Pt[3],Pt[4]]);break;case"S":ht.push([Pt[3],Pt[4]]),ht.push([Pt[1],Pt[2]]);break;case"H":ht.push([Pt[1],Pt[1]]);break;case"V":ht.push([Pt[1],Pt[1]]);break;default:}return ht}var z=function(Pt,ht){if(Pt.length<=1)return Pt;for(var ot,dt=0;dt<ht.length;dt++)if(Pt[dt][0]!==ht[dt][0])switch(ot=N(Pt[dt]),ht[dt][0]){case"M":Pt[dt]=["M"].concat(ot[0]);break;case"L":Pt[dt]=["L"].concat(ot[0]);break;case"A":Pt[dt]=[].concat(ht[dt]),Pt[dt][6]=ot[0][0],Pt[dt][7]=ot[0][1];break;case"Q":if(ot.length<2)if(dt>0)ot=R(ot,Pt[dt-1],1);else{Pt[dt]=ht[dt];break}Pt[dt]=["Q"].concat(ot.reduce(function(kt,jt){return kt.concat(jt)},[]));break;case"T":Pt[dt]=["T"].concat(ot[0]);break;case"C":if(ot.length<3)if(dt>0)ot=R(ot,Pt[dt-1],2);else{Pt[dt]=ht[dt];break}Pt[dt]=["C"].concat(ot.reduce(function(kt,jt){return kt.concat(jt)},[]));break;case"S":if(ot.length<2)if(dt>0)ot=R(ot,Pt[dt-1],1);else{Pt[dt]=ht[dt];break}Pt[dt]=["S"].concat(ot.reduce(function(kt,jt){return kt.concat(jt)},[]));break;default:Pt[dt]=ht[dt]}return Pt},j=function(){function Pt(ht,ot){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=ht,this.name=ht,this.originalEvent=ot,this.timeStamp=ot.timeStamp}return Pt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Pt.prototype.stopPropagation=function(){this.propagationStopped=!0},Pt.prototype.toString=function(){var ht=this.type;return"[Event (type="+ht+")]"},Pt.prototype.save=function(){},Pt.prototype.restore=function(){},Pt}(),K=j,at=d(65353),Tt=d(90494),pt=d(73890),Q=d(46812),vt=d(21830),et=d(33643),it=d(66631),ct=d(66974),rt=d(27154),tt=d(85260);function mt(Pt,ht){var ot=Pt.indexOf(ht);ot!==-1&&Pt.splice(ot,1)}var _t=typeof window!="undefined"&&typeof window.document!="undefined";function Wt(Pt,ht){if(Pt.isCanvas())return!0;for(var ot=ht.getParent(),dt=!1;ot;){if(ot===Pt){dt=!0;break}ot=ot.getParent()}return dt}function te(Pt){return Pt.cfg.visible&&Pt.cfg.capture}var ce=function(Pt){(0,at.__extends)(ht,Pt);function ht(ot){var dt=Pt.call(this)||this;dt.destroyed=!1;var kt=dt.getDefaultCfg();return dt.cfg=(0,ct.default)(kt,ot),dt}return ht.prototype.getDefaultCfg=function(){return{}},ht.prototype.get=function(ot){return this.cfg[ot]},ht.prototype.set=function(ot,dt){this.cfg[ot]=dt},ht.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},ht}(Tt.default),Pe=ce,we=d(43631),Ce=d(31506);function Ge(Pt,ht){var ot=[],dt=Pt[0],kt=Pt[1],jt=Pt[2],oe=Pt[3],fe=Pt[4],ue=Pt[5],ke=Pt[6],Be=Pt[7],Ye=Pt[8],fr=ht[0],Xe=ht[1],Ne=ht[2],Or=ht[3],Er=ht[4],jr=ht[5],$r=ht[6],mr=ht[7],sr=ht[8];return ot[0]=fr*dt+Xe*oe+Ne*ke,ot[1]=fr*kt+Xe*fe+Ne*Be,ot[2]=fr*jt+Xe*ue+Ne*Ye,ot[3]=Or*dt+Er*oe+jr*ke,ot[4]=Or*kt+Er*fe+jr*Be,ot[5]=Or*jt+Er*ue+jr*Ye,ot[6]=$r*dt+mr*oe+sr*ke,ot[7]=$r*kt+mr*fe+sr*Be,ot[8]=$r*jt+mr*ue+sr*Ye,ot}function $e(Pt,ht){var ot=[],dt=ht[0],kt=ht[1];return ot[0]=Pt[0]*dt+Pt[3]*kt+Pt[6],ot[1]=Pt[1]*dt+Pt[4]*kt+Pt[7],ot}function cr(Pt){var ht=[],ot=Pt[0],dt=Pt[1],kt=Pt[2],jt=Pt[3],oe=Pt[4],fe=Pt[5],ue=Pt[6],ke=Pt[7],Be=Pt[8],Ye=Be*oe-fe*ke,fr=-Be*jt+fe*ue,Xe=ke*jt-oe*ue,Ne=ot*Ye+dt*fr+kt*Xe;return Ne?(Ne=1/Ne,ht[0]=Ye*Ne,ht[1]=(-Be*dt+kt*ke)*Ne,ht[2]=(fe*dt-kt*oe)*Ne,ht[3]=fr*Ne,ht[4]=(Be*ot-kt*ue)*Ne,ht[5]=(-fe*ot+kt*jt)*Ne,ht[6]=Xe*Ne,ht[7]=(-ke*ot+dt*ue)*Ne,ht[8]=(oe*ot-dt*jt)*Ne,ht):null}var or="matrix",Xr=["zIndex","capture","visible","type"],xn=["repeat"],Wr=":",sn="*";function Jn(Pt){for(var ht=[],ot=0;ot<Pt.length;ot++)(0,O.isArray)(Pt[ot])?ht.push([].concat(Pt[ot])):ht.push(Pt[ot]);return ht}function ai(Pt,ht){var ot={},dt=ht.attrs;for(var kt in Pt)ot[kt]=dt[kt];return ot}function Si(Pt,ht){var ot={},dt=ht.attr();return(0,O.each)(Pt,function(kt,jt){xn.indexOf(jt)===-1&&!(0,O.isEqual)(dt[jt],kt)&&(ot[jt]=kt)}),ot}function Mi(Pt,ht){if(ht.onFrame)return Pt;var ot=ht.startTime,dt=ht.delay,kt=ht.duration,jt=Object.prototype.hasOwnProperty;return(0,O.each)(Pt,function(oe){ot+dt<oe.startTime+oe.delay+oe.duration&&kt>oe.delay&&(0,O.each)(ht.toAttrs,function(fe,ue){jt.call(oe.toAttrs,ue)&&(delete oe.toAttrs[ue],delete oe.fromAttrs[ue])})}),Pt}var Ht=function(Pt){(0,at.__extends)(ht,Pt);function ht(ot){var dt=Pt.call(this,ot)||this;dt.attrs={};var kt=dt.getDefaultAttrs();return(0,O.mix)(kt,ot.attrs),dt.attrs=kt,dt.initAttrs(kt),dt.initAnimate(),dt}return ht.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},ht.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},ht.prototype.onCanvasChange=function(ot){},ht.prototype.initAttrs=function(ot){},ht.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},ht.prototype.isGroup=function(){return!1},ht.prototype.getParent=function(){return this.get("parent")},ht.prototype.getCanvas=function(){return this.get("canvas")},ht.prototype.attr=function(){for(var ot,dt=[],kt=0;kt<arguments.length;kt++)dt[kt]=arguments[kt];var jt=dt[0],oe=dt[1];if(!jt)return this.attrs;if((0,O.isObject)(jt)){for(var fe in jt)this.setAttr(fe,jt[fe]);return this.afterAttrsChange(jt),this}return dt.length===2?(this.setAttr(jt,oe),this.afterAttrsChange((ot={},ot[jt]=oe,ot)),this):this.attrs[jt]},ht.prototype.isClipped=function(ot,dt){var kt=this.getClip();return kt&&!kt.isHit(ot,dt)},ht.prototype.setAttr=function(ot,dt){var kt=this.attrs[ot];kt!==dt&&(this.attrs[ot]=dt,this.onAttrChange(ot,dt,kt))},ht.prototype.onAttrChange=function(ot,dt,kt){ot==="matrix"&&this.set("totalMatrix",null)},ht.prototype.afterAttrsChange=function(ot){this.onCanvasChange("attr")},ht.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},ht.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},ht.prototype.setZIndex=function(ot){this.set("zIndex",ot);var dt=this.getParent();return dt&&dt.sort(),this},ht.prototype.toFront=function(){var ot=this.getParent();if(!!ot){var dt=ot.getChildren(),kt=this.get("el"),jt=dt.indexOf(this);dt.splice(jt,1),dt.push(this),this.onCanvasChange("zIndex")}},ht.prototype.toBack=function(){var ot=this.getParent();if(!!ot){var dt=ot.getChildren(),kt=this.get("el"),jt=dt.indexOf(this);dt.splice(jt,1),dt.unshift(this),this.onCanvasChange("zIndex")}},ht.prototype.remove=function(ot){ot===void 0&&(ot=!0);var dt=this.getParent();dt?(mt(dt.getChildren(),this),dt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),ot&&this.destroy()},ht.prototype.resetMatrix=function(){this.attr(or,this.getDefaultMatrix()),this.onCanvasChange("matrix")},ht.prototype.getMatrix=function(){return this.attr(or)},ht.prototype.setMatrix=function(ot){this.attr(or,ot),this.onCanvasChange("matrix")},ht.prototype.getTotalMatrix=function(){var ot=this.get("totalMatrix");if(!ot){var dt=this.attr("matrix"),kt=this.get("parentMatrix");kt&&dt?ot=Ge(kt,dt):ot=dt||kt,this.set("totalMatrix",ot)}return ot},ht.prototype.applyMatrix=function(ot){var dt=this.attr("matrix"),kt=null;ot&&dt?kt=Ge(ot,dt):kt=dt||ot,this.set("totalMatrix",kt),this.set("parentMatrix",ot)},ht.prototype.getDefaultMatrix=function(){return null},ht.prototype.applyToMatrix=function(ot){var dt=this.attr("matrix");return dt?$e(dt,ot):ot},ht.prototype.invertFromMatrix=function(ot){var dt=this.attr("matrix");if(dt){var kt=cr(dt);if(kt)return $e(kt,ot)}return ot},ht.prototype.setClip=function(ot){var dt=this.getCanvas(),kt=null;if(ot){var jt=this.getShapeBase(),oe=(0,O.upperFirst)(ot.type),fe=jt[oe];fe&&(kt=new fe({type:ot.type,isClipShape:!0,attrs:ot.attrs,canvas:dt}))}return this.set("clipShape",kt),this.onCanvasChange("clip"),kt},ht.prototype.getClip=function(){var ot=this.cfg.clipShape;return ot||null},ht.prototype.clone=function(){var ot=this,dt=this.attrs,kt={};(0,O.each)(dt,function(fe,ue){(0,O.isArray)(dt[ue])?kt[ue]=Jn(dt[ue]):kt[ue]=dt[ue]});var jt=this.constructor,oe=new jt({attrs:kt});return(0,O.each)(Xr,function(fe){oe.set(fe,ot.get(fe))}),oe},ht.prototype.destroy=function(){var ot=this.destroyed;ot||(this.attrs={},Pt.prototype.destroy.call(this))},ht.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},ht.prototype.animate=function(){for(var ot=[],dt=0;dt<arguments.length;dt++)ot[dt]=arguments[dt];this.set("animating",!0);var kt=this.get("timeline");kt||(kt=this.get("canvas").get("timeline"),this.set("timeline",kt));var jt=this.get("animations")||[];kt.timer||kt.initTimer();var oe=ot[0],fe=ot[1],ue=ot[2],ke=ue===void 0?"easeLinear":ue,Be=ot[3],Ye=Be===void 0?O.noop:Be,fr=ot[4],Xe=fr===void 0?0:fr,Ne,Or,Er,jr,$r;(0,O.isFunction)(oe)?(Ne=oe,oe={}):(0,O.isObject)(oe)&&oe.onFrame&&(Ne=oe.onFrame,Or=oe.repeat),(0,O.isObject)(fe)?($r=fe,fe=$r.duration,ke=$r.easing||"easeLinear",Xe=$r.delay||0,Or=$r.repeat||Or||!1,Ye=$r.callback||O.noop,Er=$r.pauseCallback||O.noop,jr=$r.resumeCallback||O.noop):((0,O.isNumber)(Ye)&&(Xe=Ye,Ye=null),(0,O.isFunction)(ke)?(Ye=ke,ke="easeLinear"):ke=ke||"easeLinear");var mr=Si(oe,this),sr={fromAttrs:ai(mr,this),toAttrs:mr,duration:fe,easing:ke,repeat:Or,callback:Ye,pauseCallback:Er,resumeCallback:jr,delay:Xe,startTime:kt.getTime(),id:(0,O.uniqueId)(),onFrame:Ne,pathFormatted:!1};jt.length>0?jt=Mi(jt,sr):kt.addAnimator(this),jt.push(sr),this.set("animations",jt),this.set("_pause",{isPaused:!1})},ht.prototype.stopAnimate=function(ot){var dt=this;ot===void 0&&(ot=!0);var kt=this.get("animations");(0,O.each)(kt,function(jt){ot&&(jt.onFrame?dt.attr(jt.onFrame(1)):dt.attr(jt.toAttrs)),jt.callback&&jt.callback()}),this.set("animating",!1),this.set("animations",[])},ht.prototype.pauseAnimate=function(){var ot=this.get("timeline"),dt=this.get("animations"),kt=ot.getTime();return(0,O.each)(dt,function(jt){jt._paused=!0,jt._pauseTime=kt,jt.pauseCallback&&jt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:kt}),this},ht.prototype.resumeAnimate=function(){var ot=this.get("timeline"),dt=ot.getTime(),kt=this.get("animations"),jt=this.get("_pause").pauseTime;return(0,O.each)(kt,function(oe){oe.startTime=oe.startTime+(dt-jt),oe._paused=!1,oe._pauseTime=null,oe.resumeCallback&&oe.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",kt),this},ht.prototype.emitDelegation=function(ot,dt){var kt=this,jt=dt.propagationPath,oe=this.getEvents(),fe;ot==="mouseenter"?fe=dt.fromShape:ot==="mouseleave"&&(fe=dt.toShape);for(var ue=function(fr){var Xe=jt[fr],Ne=Xe.get("name");if(Ne){if((Xe.isGroup()||Xe.isCanvas&&Xe.isCanvas())&&fe&&Wt(Xe,fe))return"break";(0,O.isArray)(Ne)?(0,O.each)(Ne,function(Or){kt.emitDelegateEvent(Xe,Or,dt)}):ke.emitDelegateEvent(Xe,Ne,dt)}},ke=this,Be=0;Be<jt.length;Be++){var Ye=ue(Be);if(Ye==="break")break}},ht.prototype.emitDelegateEvent=function(ot,dt,kt){var jt=this.getEvents(),oe=dt+Wr+kt.type;(jt[oe]||jt[sn])&&(kt.name=oe,kt.currentTarget=ot,kt.delegateTarget=this,kt.delegateObject=ot.get("delegateObject"),this.emit(oe,kt))},ht.prototype.translate=function(ot,dt){ot===void 0&&(ot=0),dt===void 0&&(dt=0);var kt=this.getMatrix(),jt=Ce.transform(kt,[["t",ot,dt]]);return this.setMatrix(jt),this},ht.prototype.move=function(ot,dt){var kt=this.attr("x")||0,jt=this.attr("y")||0;return this.translate(ot-kt,dt-jt),this},ht.prototype.moveTo=function(ot,dt){return this.move(ot,dt)},ht.prototype.scale=function(ot,dt){var kt=this.getMatrix(),jt=Ce.transform(kt,[["s",ot,dt||ot]]);return this.setMatrix(jt),this},ht.prototype.rotate=function(ot){var dt=this.getMatrix(),kt=Ce.transform(dt,[["r",ot]]);return this.setMatrix(kt),this},ht.prototype.rotateAtStart=function(ot){var dt=this.attr(),kt=dt.x,jt=dt.y,oe=this.getMatrix(),fe=Ce.transform(oe,[["t",-kt,-jt],["r",ot],["t",kt,jt]]);return this.setMatrix(fe),this},ht.prototype.rotateAtPoint=function(ot,dt,kt){var jt=this.getMatrix(),oe=Ce.transform(jt,[["t",-ot,-dt],["r",kt],["t",ot,dt]]);return this.setMatrix(oe),this},ht}(Pe),Kt=Ht,ie={},se="_INDEX";function xe(Pt){Pt.isGroup()?(Pt.isEntityGroup()||Pt.get("children").length)&&Pt.onCanvasChange("add"):Pt.onCanvasChange("add")}function Me(Pt,ht){if(Pt.set("canvas",ht),Pt.isGroup()){var ot=Pt.get("children");ot.length&&ot.forEach(function(dt){Me(dt,ht)})}}function Se(Pt,ht){if(Pt.set("timeline",ht),Pt.isGroup()){var ot=Pt.get("children");ot.length&&ot.forEach(function(dt){Se(dt,ht)})}}function _e(Pt,ht){var ot=Pt.getChildren();return ot.indexOf(ht)>=0}function de(Pt,ht,ot){ot===void 0&&(ot=!0),ot?ht.destroy():(ht.set("parent",null),ht.set("canvas",null)),mt(Pt.getChildren(),ht)}function Ue(Pt){return function(ht,ot){var dt=Pt(ht,ot);return dt===0?ht[se]-ot[se]:dt}}var Re=function(Pt){(0,at.__extends)(ht,Pt);function ht(){return Pt!==null&&Pt.apply(this,arguments)||this}return ht.prototype.isCanvas=function(){return!1},ht.prototype.getBBox=function(){var ot=Infinity,dt=-Infinity,kt=Infinity,jt=-Infinity,oe=[],fe=[],ue=this.getChildren().filter(function(Be){return Be.get("visible")&&(!Be.isGroup()||Be.isGroup()&&Be.getChildren().length>0)});ue.length>0?((0,rt.default)(ue,function(Be){var Ye=Be.getBBox();oe.push(Ye.minX,Ye.maxX),fe.push(Ye.minY,Ye.maxY)}),ot=Math.min.apply(null,oe),dt=Math.max.apply(null,oe),kt=Math.min.apply(null,fe),jt=Math.max.apply(null,fe)):(ot=0,dt=0,kt=0,jt=0);var ke={x:ot,y:kt,minX:ot,minY:kt,maxX:dt,maxY:jt,width:dt-ot,height:jt-kt};return ke},ht.prototype.getCanvasBBox=function(){var ot=Infinity,dt=-Infinity,kt=Infinity,jt=-Infinity,oe=[],fe=[],ue=this.getChildren().filter(function(Be){return Be.get("visible")&&(!Be.isGroup()||Be.isGroup()&&Be.getChildren().length>0)});ue.length>0?((0,rt.default)(ue,function(Be){var Ye=Be.getCanvasBBox();oe.push(Ye.minX,Ye.maxX),fe.push(Ye.minY,Ye.maxY)}),ot=Math.min.apply(null,oe),dt=Math.max.apply(null,oe),kt=Math.min.apply(null,fe),jt=Math.max.apply(null,fe)):(ot=0,dt=0,kt=0,jt=0);var ke={x:ot,y:kt,minX:ot,minY:kt,maxX:dt,maxY:jt,width:dt-ot,height:jt-kt};return ke},ht.prototype.getDefaultCfg=function(){var ot=Pt.prototype.getDefaultCfg.call(this);return ot.children=[],ot},ht.prototype.onAttrChange=function(ot,dt,kt){if(Pt.prototype.onAttrChange.call(this,ot,dt,kt),ot==="matrix"){var jt=this.getTotalMatrix();this._applyChildrenMarix(jt)}},ht.prototype.applyMatrix=function(ot){var dt=this.getTotalMatrix();Pt.prototype.applyMatrix.call(this,ot);var kt=this.getTotalMatrix();kt!==dt&&this._applyChildrenMarix(kt)},ht.prototype._applyChildrenMarix=function(ot){var dt=this.getChildren();(0,rt.default)(dt,function(kt){kt.applyMatrix(ot)})},ht.prototype.addShape=function(){for(var ot=[],dt=0;dt<arguments.length;dt++)ot[dt]=arguments[dt];var kt=ot[0],jt=ot[1];(0,et.default)(kt)?jt=kt:jt.type=kt;var oe=ie[jt.type];oe||(oe=(0,tt.default)(jt.type),ie[jt.type]=oe);var fe=this.getShapeBase(),ue=new fe[oe](jt);return this.add(ue),ue},ht.prototype.addGroup=function(){for(var ot=[],dt=0;dt<arguments.length;dt++)ot[dt]=arguments[dt];var kt=ot[0],jt=ot[1],oe;if((0,Q.default)(kt))jt?oe=new kt(jt):oe=new kt({parent:this});else{var fe=kt||{},ue=this.getGroupBase();oe=new ue(fe)}return this.add(oe),oe},ht.prototype.getCanvas=function(){var ot;return this.isCanvas()?ot=this:ot=this.get("canvas"),ot},ht.prototype.getShape=function(ot,dt,kt){if(!te(this))return null;var jt=this.getChildren(),oe;if(this.isCanvas())oe=this._findShape(jt,ot,dt,kt);else{var fe=[ot,dt,1];fe=this.invertFromMatrix(fe),this.isClipped(fe[0],fe[1])||(oe=this._findShape(jt,fe[0],fe[1],kt))}return oe},ht.prototype._findShape=function(ot,dt,kt,jt){for(var oe=null,fe=ot.length-1;fe>=0;fe--){var ue=ot[fe];if(te(ue)&&(ue.isGroup()?oe=ue.getShape(dt,kt,jt):ue.isHit(dt,kt)&&(oe=ue)),oe)break}return oe},ht.prototype.add=function(ot){var dt=this.getCanvas(),kt=this.getChildren(),jt=this.get("timeline"),oe=ot.getParent();oe&&de(oe,ot,!1),ot.set("parent",this),dt&&Me(ot,dt),jt&&Se(ot,jt),kt.push(ot),xe(ot),this._applyElementMatrix(ot)},ht.prototype._applyElementMatrix=function(ot){var dt=this.getTotalMatrix();dt&&ot.applyMatrix(dt)},ht.prototype.getChildren=function(){return this.get("children")},ht.prototype.sort=function(){var ot=this.getChildren();(0,rt.default)(ot,function(dt,kt){return dt[se]=kt,dt}),ot.sort(Ue(function(dt,kt){return dt.get("zIndex")-kt.get("zIndex")})),this.onCanvasChange("sort")},ht.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var ot=this.getChildren(),dt=ot.length-1;dt>=0;dt--)ot[dt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},ht.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Pt.prototype.destroy.call(this))},ht.prototype.getFirst=function(){return this.getChildByIndex(0)},ht.prototype.getLast=function(){var ot=this.getChildren();return this.getChildByIndex(ot.length-1)},ht.prototype.getChildByIndex=function(ot){var dt=this.getChildren();return dt[ot]},ht.prototype.getCount=function(){var ot=this.getChildren();return ot.length},ht.prototype.contain=function(ot){var dt=this.getChildren();return dt.indexOf(ot)>-1},ht.prototype.removeChild=function(ot,dt){dt===void 0&&(dt=!0),this.contain(ot)&&ot.remove(dt)},ht.prototype.findAll=function(ot){var dt=[],kt=this.getChildren();return(0,rt.default)(kt,function(jt){ot(jt)&&dt.push(jt),jt.isGroup()&&(dt=dt.concat(jt.findAll(ot)))}),dt},ht.prototype.find=function(ot){var dt=null,kt=this.getChildren();return(0,rt.default)(kt,function(jt){if(ot(jt)?dt=jt:jt.isGroup()&&(dt=jt.find(ot)),dt)return!1}),dt},ht.prototype.findById=function(ot){return this.find(function(dt){return dt.get("id")===ot})},ht.prototype.findByClassName=function(ot){return this.find(function(dt){return dt.get("className")===ot})},ht.prototype.findAllByName=function(ot){return this.findAll(function(dt){return dt.get("name")===ot})},ht}(Kt),tr=Re,hr=0,ar=0,vr=0,pr=1e3,Cr,Je,Ar=0,Ir=0,Tr=0,Rr=typeof performance=="object"&&performance.now?performance:Date,Zr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Pt){setTimeout(Pt,17)};function Kr(){return Ir||(Zr(jn),Ir=Rr.now()+Tr)}function jn(){Ir=0}function ln(){this._call=this._time=this._next=null}ln.prototype=Kn.prototype={constructor:ln,restart:function(Pt,ht,ot){if(typeof Pt!="function")throw new TypeError("callback is not a function");ot=(ot==null?Kr():+ot)+(ht==null?0:+ht),!this._next&&Je!==this&&(Je?Je._next=this:Cr=this,Je=this),this._call=Pt,this._time=ot,Br()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Br())}};function Kn(Pt,ht,ot){var dt=new ln;return dt.restart(Pt,ht,ot),dt}function ci(){Kr(),++hr;for(var Pt=Cr,ht;Pt;)(ht=Ir-Pt._time)>=0&&Pt._call.call(null,ht),Pt=Pt._next;--hr}function oi(){Ir=(Ar=Rr.now())+Tr,hr=ar=0;try{ci()}finally{hr=0,Ii(),Ir=0}}function Li(){var Pt=Rr.now(),ht=Pt-Ar;ht>pr&&(Tr-=ht,Ar=Pt)}function Ii(){for(var Pt,ht=Cr,ot,dt=Infinity;ht;)ht._call?(dt>ht._time&&(dt=ht._time),Pt=ht,ht=ht._next):(ot=ht._next,ht._next=null,ht=Pt?Pt._next=ot:Cr=ot);Je=Pt,Br(dt)}function Br(Pt){if(!hr){ar&&(ar=clearTimeout(ar));var ht=Pt-Ir;ht>24?(Pt<Infinity&&(ar=setTimeout(oi,Pt-Rr.now()-Tr)),vr&&(vr=clearInterval(vr))):(vr||(Ar=Rr.now(),vr=setInterval(Li,pr)),hr=1,Zr(oi))}}var vi=d(13681),ki=d(21775),li=d(88122),Tn=function(Pt){return["fill","stroke","fillStyle","strokeStyle"].includes(Pt)},di=function(Pt){return/^[r,R,L,l]{1}[\s]*\(/.test(Pt)},Gi=[1,0,0,0,1,0,0,0,1];function mi(Pt,ht,ot){var dt={},kt=ht.fromAttrs,jt=ht.toAttrs;if(!Pt.destroyed){var oe;for(var fe in jt)if(!(0,O.isEqual)(kt[fe],jt[fe]))if(fe==="path"){var ue=jt[fe],ke=kt[fe];ue.length>ke.length?(ue=A(jt[fe]),ke=A(kt[fe]),ke=u(ke,ue),ke=z(ke,ue),ht.fromAttrs.path=ke,ht.toAttrs.path=ue):ht.pathFormatted||(ue=A(jt[fe]),ke=A(kt[fe]),ke=z(ke,ue),ht.fromAttrs.path=ke,ht.toAttrs.path=ue,ht.pathFormatted=!0),dt[fe]=[];for(var Be=0;Be<ue.length;Be++){for(var Ye=ue[Be],fr=ke[Be],Xe=[],Ne=0;Ne<Ye.length;Ne++)(0,O.isNumber)(Ye[Ne])&&fr&&(0,O.isNumber)(fr[Ne])?(oe=(0,ki.Z)(fr[Ne],Ye[Ne]),Xe.push(oe(ot))):Xe.push(Ye[Ne]);dt[fe].push(Xe)}}else if(fe==="matrix"){var Or=(0,li.Z)(kt[fe]||Gi,jt[fe]||Gi),Er=Or(ot);dt[fe]=Er}else Tn(fe)&&di(jt[fe])?dt[fe]=jt[fe]:(0,O.isFunction)(jt[fe])||(oe=(0,ki.Z)(kt[fe],jt[fe]),dt[fe]=oe(ot));Pt.attr(dt)}}function Ci(Pt,ht,ot){var dt=ht.startTime,kt=ht.delay;if(ot<dt+kt||ht._paused)return!1;var jt,oe=ht.duration,fe=ht.easing;if(ot=ot-dt-ht.delay,ht.repeat)jt=ot%oe/oe,jt=vi[fe](jt);else if(jt=ot/oe,jt<1)jt=vi[fe](jt);else return ht.onFrame?Pt.attr(ht.onFrame(1)):Pt.attr(ht.toAttrs),!0;if(ht.onFrame){var ue=ht.onFrame(jt);Pt.attr(ue)}else mi(Pt,ht,jt);return!1}var qn=function(){function Pt(ht){this.animators=[],this.current=0,this.timer=null,this.canvas=ht}return Pt.prototype.initTimer=function(){var ht=this,ot=!1,dt,kt,jt;this.timer=Kn(function(oe){if(ht.current=oe,ht.animators.length>0){for(var fe=ht.animators.length-1;fe>=0;fe--){if(dt=ht.animators[fe],dt.destroyed){ht.removeAnimator(fe);continue}if(!dt.isAnimatePaused()){kt=dt.get("animations");for(var ue=kt.length-1;ue>=0;ue--)jt=kt[ue],ot=Ci(dt,jt,oe),ot&&(kt.splice(ue,1),ot=!1,jt.callback&&jt.callback())}kt.length===0&&ht.removeAnimator(fe)}var ke=ht.canvas.get("autoDraw");ke||ht.canvas.draw()}})},Pt.prototype.addAnimator=function(ht){this.animators.push(ht)},Pt.prototype.removeAnimator=function(ht){this.animators.splice(ht,1)},Pt.prototype.isAnimating=function(){return!!this.animators.length},Pt.prototype.stop=function(){this.timer&&this.timer.stop()},Pt.prototype.stopAllAnimations=function(ht){ht===void 0&&(ht=!0),this.animators.forEach(function(ot){ot.stopAnimate(ht)}),this.animators=[],this.canvas.draw()},Pt.prototype.getTime=function(){return this.current},Pt}(),$i=qn,ua=40,Jt=0,Rt=":",Qt=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function pe(Pt,ht){for(var ot in Pt)if(Pt.hasOwnProperty(ot)&&ot.indexOf(Rt+ht)>=0)return!0;return!1}function Oe(Pt,ht,ot){ot.name=ht,ot.target=Pt,ot.currentTarget=Pt,ot.delegateTarget=Pt,Pt.emit(ht,ot)}function rr(Pt,ht,ot){if(ot.bubbles){var dt=void 0,kt=!1;if(ht==="mouseenter"?(dt=ot.fromShape,kt=!0):ht==="mouseleave"&&(kt=!0,dt=ot.toShape),Pt.isCanvas()&&kt)return;if(dt&&Wt(Pt,dt)){ot.bubbles=!1;return}ot.name=ht,ot.currentTarget=Pt,ot.delegateTarget=Pt,Pt.emit(ht,ot)}}var ur=function(){function Pt(ht){var ot=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(dt){var kt=dt.type;ot._triggerEvent(kt,dt)},this._onDocumentMove=function(dt){var kt=ot.canvas,jt=kt.get("el");if(jt!==dt.target&&(ot.dragging||ot.currentShape)){var oe=ot._getPointInfo(dt);ot.dragging&&ot._emitEvent("drag",dt,oe,ot.draggingShape)}},this._onDocumentMouseUp=function(dt){var kt=ot.canvas,jt=kt.get("el");if(jt!==dt.target&&ot.dragging){var oe=ot._getPointInfo(dt);ot.draggingShape&&ot._emitEvent("drop",dt,oe,null),ot._emitEvent("dragend",dt,oe,ot.draggingShape),ot._afterDrag(ot.draggingShape,oe,dt)}},this.canvas=ht.canvas}return Pt.prototype.init=function(){this._bindEvents()},Pt.prototype._bindEvents=function(){var ht=this,ot=this.canvas.get("el");(0,rt.default)(Qt,function(dt){ot.addEventListener(dt,ht._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Pt.prototype._clearEvents=function(){var ht=this,ot=this.canvas.get("el");(0,rt.default)(Qt,function(dt){ot.removeEventListener(dt,ht._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Pt.prototype._getEventObj=function(ht,ot,dt,kt,jt,oe){var fe=new K(ht,ot);return fe.fromShape=jt,fe.toShape=oe,fe.x=dt.x,fe.y=dt.y,fe.clientX=dt.clientX,fe.clientY=dt.clientY,fe.propagationPath.push(kt),fe},Pt.prototype._getShape=function(ht,ot){return this.canvas.getShape(ht.x,ht.y,ot)},Pt.prototype._getPointInfo=function(ht){var ot=this.canvas,dt=ot.getClientByEvent(ht),kt=ot.getPointByEvent(ht);return{x:kt.x,y:kt.y,clientX:dt.x,clientY:dt.y}},Pt.prototype._triggerEvent=function(ht,ot){var dt=this._getPointInfo(ot),kt=this._getShape(dt,ot),jt=this["_on"+ht],oe=!1;if(jt)jt.call(this,dt,kt,ot);else{var fe=this.currentShape;ht==="mouseenter"||ht==="dragenter"||ht==="mouseover"?(this._emitEvent(ht,ot,dt,null,null,kt),kt&&this._emitEvent(ht,ot,dt,kt,null,kt),ht==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",ot,dt,null)):ht==="mouseleave"||ht==="dragleave"||ht==="mouseout"?(oe=!0,fe&&this._emitEvent(ht,ot,dt,fe,fe,null),this._emitEvent(ht,ot,dt,null,fe,null),ht==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",ot,dt,null)):this._emitEvent(ht,ot,dt,kt,null,null)}if(oe||(this.currentShape=kt),kt&&!kt.get("destroyed")){var ue=this.canvas,ke=ue.get("el");ke.style.cursor=kt.attr("cursor")||ue.get("cursor")}},Pt.prototype._onmousedown=function(ht,ot,dt){dt.button===Jt&&(this.mousedownShape=ot,this.mousedownPoint=ht,this.mousedownTimeStamp=dt.timeStamp),this._emitEvent("mousedown",dt,ht,ot,null,null)},Pt.prototype._emitMouseoverEvents=function(ht,ot,dt,kt){var jt=this.canvas.get("el");dt!==kt&&(dt&&(this._emitEvent("mouseout",ht,ot,dt,dt,kt),this._emitEvent("mouseleave",ht,ot,dt,dt,kt),(!kt||kt.get("destroyed"))&&(jt.style.cursor=this.canvas.get("cursor"))),kt&&(this._emitEvent("mouseover",ht,ot,kt,dt,kt),this._emitEvent("mouseenter",ht,ot,kt,dt,kt)))},Pt.prototype._emitDragoverEvents=function(ht,ot,dt,kt,jt){kt?(kt!==dt&&(dt&&this._emitEvent("dragleave",ht,ot,dt,dt,kt),this._emitEvent("dragenter",ht,ot,kt,dt,kt)),jt||this._emitEvent("dragover",ht,ot,kt)):dt&&this._emitEvent("dragleave",ht,ot,dt,dt,kt),jt&&this._emitEvent("dragover",ht,ot,kt)},Pt.prototype._afterDrag=function(ht,ot,dt){ht&&(ht.set("capture",!0),this.draggingShape=null),this.dragging=!1;var kt=this._getShape(ot,dt);kt!==ht&&this._emitMouseoverEvents(dt,ot,ht,kt),this.currentShape=kt},Pt.prototype._onmouseup=function(ht,ot,dt){if(dt.button===Jt){var kt=this.draggingShape;this.dragging?(kt&&this._emitEvent("drop",dt,ht,ot),this._emitEvent("dragend",dt,ht,kt),this._afterDrag(kt,ht,dt)):(this._emitEvent("mouseup",dt,ht,ot),ot===this.mousedownShape&&this._emitEvent("click",dt,ht,ot),this.mousedownShape=null,this.mousedownPoint=null)}},Pt.prototype._ondragover=function(ht,ot,dt){dt.preventDefault();var kt=this.currentShape;this._emitDragoverEvents(dt,ht,kt,ot,!0)},Pt.prototype._onmousemove=function(ht,ot,dt){var kt=this.canvas,jt=this.currentShape,oe=this.draggingShape;if(this.dragging)oe&&this._emitDragoverEvents(dt,ht,jt,ot,!1),this._emitEvent("drag",dt,ht,oe);else{var fe=this.mousedownPoint;if(fe){var ue=this.mousedownShape,ke=dt.timeStamp,Be=ke-this.mousedownTimeStamp,Ye=fe.clientX-ht.clientX,fr=fe.clientY-ht.clientY,Xe=Ye*Ye+fr*fr;Be>120||Xe>ua?ue&&ue.get("draggable")?(oe=this.mousedownShape,oe.set("capture",!1),this.draggingShape=oe,this.dragging=!0,this._emitEvent("dragstart",dt,ht,oe),this.mousedownShape=null,this.mousedownPoint=null):!ue&&kt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",dt,ht,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(dt,ht,jt,ot),this._emitEvent("mousemove",dt,ht,ot)):(this._emitMouseoverEvents(dt,ht,jt,ot),this._emitEvent("mousemove",dt,ht,ot))}else this._emitMouseoverEvents(dt,ht,jt,ot),this._emitEvent("mousemove",dt,ht,ot)}},Pt.prototype._emitEvent=function(ht,ot,dt,kt,jt,oe){var fe=this._getEventObj(ht,ot,dt,kt,jt,oe);if(kt){fe.shape=kt,Oe(kt,ht,fe);for(var ue=kt.getParent();ue;)ue.emitDelegation(ht,fe),fe.propagationStopped||rr(ue,ht,fe),fe.propagationPath.push(ue),ue=ue.getParent()}else{var ke=this.canvas;Oe(ke,ht,fe)}},Pt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Pt}(),lr=ur,Vr="px",yn=(0,we.detect)(),ti=yn&&yn.name==="firefox",Nt=function(Pt){(0,at.__extends)(ht,Pt);function ht(ot){var dt=Pt.call(this,ot)||this;return dt.initContainer(),dt.initDom(),dt.initEvents(),dt.initTimeline(),dt}return ht.prototype.getDefaultCfg=function(){var ot=Pt.prototype.getDefaultCfg.call(this);return ot.cursor="default",ot.supportCSSTransform=!1,ot},ht.prototype.initContainer=function(){var ot=this.get("container");(0,vt.default)(ot)&&(ot=document.getElementById(ot),this.set("container",ot))},ht.prototype.initDom=function(){var ot=this.createDom();this.set("el",ot);var dt=this.get("container");dt.appendChild(ot),this.setDOMSize(this.get("width"),this.get("height"))},ht.prototype.initEvents=function(){var ot=new lr({canvas:this});ot.init(),this.set("eventController",ot)},ht.prototype.initTimeline=function(){var ot=new $i(this);this.set("timeline",ot)},ht.prototype.setDOMSize=function(ot,dt){var kt=this.get("el");_t&&(kt.style.width=ot+Vr,kt.style.height=dt+Vr)},ht.prototype.changeSize=function(ot,dt){this.setDOMSize(ot,dt),this.set("width",ot),this.set("height",dt),this.onCanvasChange("changeSize")},ht.prototype.getRenderer=function(){return this.get("renderer")},ht.prototype.getCursor=function(){return this.get("cursor")},ht.prototype.setCursor=function(ot){this.set("cursor",ot);var dt=this.get("el");_t&&dt&&(dt.style.cursor=ot)},ht.prototype.getPointByEvent=function(ot){var dt=this.get("supportCSSTransform");if(dt){if(ti&&!(0,pt.default)(ot.layerX)&&ot.layerX!==ot.offsetX)return{x:ot.layerX,y:ot.layerY};if(!(0,pt.default)(ot.offsetX))return{x:ot.offsetX,y:ot.offsetY}}var kt=this.getClientByEvent(ot),jt=kt.x,oe=kt.y;return this.getPointByClient(jt,oe)},ht.prototype.getClientByEvent=function(ot){var dt=ot;return ot.touches&&(ot.type==="touchend"?dt=ot.changedTouches[0]:dt=ot.touches[0]),{x:dt.clientX,y:dt.clientY}},ht.prototype.getPointByClient=function(ot,dt){var kt=this.get("el"),jt=kt.getBoundingClientRect();return{x:ot-jt.left,y:dt-jt.top}},ht.prototype.getClientByPoint=function(ot,dt){var kt=this.get("el"),jt=kt.getBoundingClientRect();return{x:ot+jt.left,y:dt+jt.top}},ht.prototype.draw=function(){},ht.prototype.removeDom=function(){var ot=this.get("el");ot.parentNode.removeChild(ot)},ht.prototype.clearEvents=function(){var ot=this.get("eventController");ot.destroy()},ht.prototype.isCanvas=function(){return!0},ht.prototype.getParent=function(){return null},ht.prototype.destroy=function(){var ot=this.get("timeline");this.get("destroyed")||(this.clear(),ot&&ot.stop(),this.clearEvents(),this.removeDom(),Pt.prototype.destroy.call(this))},ht}(tr),Ut=Nt,qt=function(Pt){(0,at.__extends)(ht,Pt);function ht(){return Pt!==null&&Pt.apply(this,arguments)||this}return ht.prototype.isGroup=function(){return!0},ht.prototype.isEntityGroup=function(){return!1},ht.prototype.clone=function(){for(var ot=Pt.prototype.clone.call(this),dt=this.getChildren(),kt=0;kt<dt.length;kt++){var jt=dt[kt];ot.add(jt.clone())}return ot},ht}(tr),ye=qt,ge=function(Pt){(0,at.__extends)(ht,Pt);function ht(ot){return Pt.call(this,ot)||this}return ht.prototype._isInBBox=function(ot,dt){var kt=this.getBBox();return kt.minX<=ot&&kt.maxX>=ot&&kt.minY<=dt&&kt.maxY>=dt},ht.prototype.afterAttrsChange=function(ot){Pt.prototype.afterAttrsChange.call(this,ot),this.clearCacheBBox()},ht.prototype.getBBox=function(){var ot=this.get("bbox");return ot||(ot=this.calculateBBox(),this.set("bbox",ot)),ot},ht.prototype.getCanvasBBox=function(){var ot=this.get("canvasBox");return ot||(ot=this.calculateCanvasBBox(),this.set("canvasBox",ot)),ot},ht.prototype.applyMatrix=function(ot){Pt.prototype.applyMatrix.call(this,ot),this.set("canvasBox",null)},ht.prototype.calculateCanvasBBox=function(){var ot=this.getBBox(),dt=this.getTotalMatrix(),kt=ot.minX,jt=ot.minY,oe=ot.maxX,fe=ot.maxY;if(dt){var ue=$e(dt,[ot.minX,ot.minY]),ke=$e(dt,[ot.maxX,ot.minY]),Be=$e(dt,[ot.minX,ot.maxY]),Ye=$e(dt,[ot.maxX,ot.maxY]);kt=Math.min(ue[0],ke[0],Be[0],Ye[0]),oe=Math.max(ue[0],ke[0],Be[0],Ye[0]),jt=Math.min(ue[1],ke[1],Be[1],Ye[1]),fe=Math.max(ue[1],ke[1],Be[1],Ye[1])}var fr=this.attrs;if(fr.shadowColor){var Xe=fr.shadowBlur,Ne=Xe===void 0?0:Xe,Or=fr.shadowOffsetX,Er=Or===void 0?0:Or,jr=fr.shadowOffsetY,$r=jr===void 0?0:jr,mr=kt-Ne+Er,sr=oe+Ne+Er,Qr=jt-Ne+$r,Cn=fe+Ne+$r;kt=Math.min(kt,mr),oe=Math.max(oe,sr),jt=Math.min(jt,Qr),fe=Math.max(fe,Cn)}return{x:kt,y:jt,minX:kt,minY:jt,maxX:oe,maxY:fe,width:oe-kt,height:fe-jt}},ht.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},ht.prototype.isClipShape=function(){return this.get("isClipShape")},ht.prototype.isInShape=function(ot,dt){return!1},ht.prototype.isOnlyHitBox=function(){return!1},ht.prototype.isHit=function(ot,dt){var kt=this.get("startArrowShape"),jt=this.get("endArrowShape"),oe=[ot,dt,1];oe=this.invertFromMatrix(oe);var fe=oe[0],ue=oe[1],ke=this._isInBBox(fe,ue);return this.isOnlyHitBox()?ke:!!(ke&&!this.isClipped(fe,ue)&&(this.isInShape(fe,ue)||kt&&kt.isHit(fe,ue)||jt&&jt.isHit(fe,ue)))},ht}(Kt),Te=ge,er=d(76062),nr=er.version},40455:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(b){var O=b.attr(),k=O.x,L=O.y,P=O.r;return{x:k-P,y:L-P,width:P*2,height:P*2}}M.default=d},27633:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(b){var O=b.attr(),k=O.x,L=O.y,P=O.rx,A=O.ry;return{x:k-P,y:L-A,width:P*2,height:A*2}}M.default=d},41056:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(28648);M.b=O.getMethod;var k=d(3541),L=d(40455),P=d(10687),A=d(19914),C=d(92933),E=d(89372),p=d(74461),w=d(27633);O.register("rect",k.default),O.register("image",k.default),O.register("circle",L.default),O.register("marker",L.default),O.register("polyline",P.default),O.register("polygon",A.default),O.register("text",C.default),O.register("path",E.default),O.register("line",p.default),O.register("ellipse",w.default)},74461:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(3406);function O(k){var L=k.attr(),P=L.x1,A=L.y1,C=L.x2,E=L.y2,p=Math.min(P,C),w=Math.max(P,C),y=Math.min(A,E),x=Math.max(A,E),g={minX:p,maxX:w,minY:y,maxY:x};return g=b.mergeArrowBBox(k,g),{x:g.minX,y:g.minY,width:g.maxX-g.minX,height:g.maxY-g.minY}}M.default=O},89372:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(2879),O=d(15730),k=d(33418),L=d(49274),P=d(39984),A=d(3406);function C(w,y){for(var x=[],g=[],S=[],_=0;_<w.length;_++){var B=w[_],F=B.currentPoint,V=B.params,Z=B.prePoint,X=void 0;switch(B.command){case"Q":X=b.default.box(Z[0],Z[1],V[1],V[2],V[3],V[4]);break;case"C":X=O.default.box(Z[0],Z[1],V[1],V[2],V[3],V[4],V[5],V[6]);break;case"A":var U=B.arcParams;X=k.default.box(U.cx,U.cy,U.rx,U.ry,U.xRotation,U.startAngle,U.endAngle);break;default:x.push(F[0]),g.push(F[1]);break}X&&(B.box=X,x.push(X.x,X.x+X.width),g.push(X.y,X.y+X.height)),y&&(B.command==="L"||B.command==="M")&&B.prePoint&&B.nextPoint&&S.push(B)}x=x.filter(function(St){return!Number.isNaN(St)}),g=g.filter(function(St){return!Number.isNaN(St)});var nt=Math.min.apply(null,x),q=Math.min.apply(null,g),wt=Math.max.apply(null,x),ft=Math.max.apply(null,g);if(S.length===0)return{x:nt,y:q,width:wt-nt,height:ft-q};for(var _=0;_<S.length;_++){var B=S[_],F=B.currentPoint,Ot=void 0;F[0]===nt?(Ot=E(B,y),nt=nt-Ot.xExtra):F[0]===wt&&(Ot=E(B,y),wt=wt+Ot.xExtra),F[1]===q?(Ot=E(B,y),q=q-Ot.yExtra):F[1]===ft&&(Ot=E(B,y),ft=ft+Ot.yExtra)}return{x:nt,y:q,width:wt-nt,height:ft-q}}function E(w,y){var x=w.prePoint,g=w.currentPoint,S=w.nextPoint,_=Math.pow(g[0]-x[0],2)+Math.pow(g[1]-x[1],2),B=Math.pow(g[0]-S[0],2)+Math.pow(g[1]-S[1],2),F=Math.pow(x[0]-S[0],2)+Math.pow(x[1]-S[1],2),V=Math.acos((_+B-F)/(2*Math.sqrt(_)*Math.sqrt(B)));if(!V||Math.sin(V)===0||P.default(V,0))return{xExtra:0,yExtra:0};var Z=Math.abs(Math.atan2(S[1]-g[1],S[0]-g[0])),X=Math.abs(Math.atan2(S[0]-g[0],S[1]-g[1]));Z=Z>Math.PI/2?Math.PI-Z:Z,X=X>Math.PI/2?Math.PI-X:X;var U={xExtra:Math.cos(V/2-Z)*(y/2*(1/Math.sin(V/2)))-y/2||0,yExtra:Math.cos(X-V/2)*(y/2*(1/Math.sin(V/2)))-y/2||0};return U}function p(w){var y=w.attr(),x=y.path,g=y.stroke,S=g?y.lineWidth:0,_=w.get("segments")||L.default(x),B=C(_,S),F=B.x,V=B.y,Z=B.width,X=B.height,U={minX:F,minY:V,maxX:F+Z,maxY:V+X};return U=A.mergeArrowBBox(w,U),{x:U.minX,y:U.minY,width:U.maxX-U.minX,height:U.maxY-U.minY}}M.default=p},19914:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(76256);function O(k){for(var L=k.attr(),P=L.points,A=[],C=[],E=0;E<P.length;E++){var p=P[E];A.push(p[0]),C.push(p[1])}return b.getBBoxByArray(A,C)}M.default=O},10687:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(76256),O=d(3406);function k(L){for(var P=L.attr(),A=P.points,C=[],E=[],p=0;p<A.length;p++){var w=A[p];C.push(w[0]),E.push(w[1])}var y=b.getBBoxByArray(C,E),x=y.x,g=y.y,S=y.width,_=y.height,B={minX:x,minY:g,maxX:x+S,maxY:g+_};return B=O.mergeArrowBBox(L,B),{x:B.minX,y:B.minY,width:B.maxX-B.minX,height:B.maxY-B.minY}}M.default=k},3541:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(b){var O=b.attr(),k=O.x,L=O.y,P=O.width,A=O.height;return{x:k,y:L,width:P,height:A}}M.default=d},28648:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=new Map;function b(k,L){d.set(k,L)}M.register=b;function O(k){return d.get(k)}M.getMethod=O},92933:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(8914);function O(k){var L=k.attr(),P=L.x,A=L.y,C=L.text,E=L.fontSize,p=L.lineHeight,w=L.font;w||(w=b.assembleFont(L));var y=b.getTextWidth(C,w),x;if(!y)x={x:P,y:A,width:0,height:0};else{var g=L.textAlign,S=L.textBaseline,_=b.getTextHeight(C,E,p),B={x:P,y:A-_};g&&(g==="end"||g==="right"?B.x-=y:g==="center"&&(B.x-=y/2)),S&&(S==="top"?B.y+=_:S==="middle"&&(B.y+=_/2)),x={x:B.x,y:B.y,width:y,height:_}}return x}M.default=O},3406:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(O,k){return!O||!k?O||k:{minX:Math.min(O.minX,k.minX),minY:Math.min(O.minY,k.minY),maxX:Math.max(O.maxX,k.maxX),maxY:Math.max(O.maxY,k.maxY)}}M.mergeBBox=d;function b(O,k){var L=O.get("startArrowShape"),P=O.get("endArrowShape"),A=null,C=null;return L&&(A=L.getCanvasBBox(),k=d(k,A)),P&&(C=P.getCanvasBBox(),k=d(k,C)),k}M.mergeArrowBBox=b},66192:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(){function b(O,k){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=k,this.timeStamp=k.timeStamp}return b.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},b.prototype.stopPropagation=function(){this.propagationStopped=!0},b.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},b.prototype.save=function(){},b.prototype.restore=function(){},b}();M.default=d},85424:function(xt,M){"use strict";var d;d={value:!0}},4555:function(xt,M){"use strict";Object.defineProperty(M,"X",{value:!0})},6052:function(xt,M){"use strict";var d;d={value:!0};function b(L,P){var A=[],C=L[0],E=L[1],p=L[2],w=L[3],y=L[4],x=L[5],g=L[6],S=L[7],_=L[8],B=P[0],F=P[1],V=P[2],Z=P[3],X=P[4],U=P[5],nt=P[6],q=P[7],wt=P[8];return A[0]=B*C+F*w+V*g,A[1]=B*E+F*y+V*S,A[2]=B*p+F*x+V*_,A[3]=Z*C+X*w+U*g,A[4]=Z*E+X*y+U*S,A[5]=Z*p+X*x+U*_,A[6]=nt*C+q*w+wt*g,A[7]=nt*E+q*y+wt*S,A[8]=nt*p+q*x+wt*_,A}d=b;function O(L,P){var A=[],C=P[0],E=P[1];return A[0]=L[0]*C+L[3]*E+L[6],A[1]=L[1]*C+L[4]*E+L[7],A}M.rG=O;function k(L){var P=[],A=L[0],C=L[1],E=L[2],p=L[3],w=L[4],y=L[5],x=L[6],g=L[7],S=L[8],_=S*w-y*g,B=-S*p+y*x,F=g*p-w*x,V=A*_+C*B+E*F;return V?(V=1/V,P[0]=_*V,P[1]=(-S*C+E*g)*V,P[2]=(y*C-E*w)*V,P[3]=B*V,P[4]=(S*A-E*x)*V,P[5]=(-y*A+E*p)*V,P[6]=F*V,P[7]=(-g*A+C*x)*V,P[8]=(w*A-C*p)*V,P):null}M.U_=k},26632:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=null;function b(){if(!d){var O=document.createElement("canvas");O.width=1,O.height=1,d=O.getContext("2d")}return d}M.getOffScreenContext=b},8914:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(22487),O=d(26632);function k(C,E,p){var w=1;if(b.isString(C)&&(w=C.split(`
`).length),w>1){var y=L(E,p);return E*w+y*(w-1)}return E}M.getTextHeight=k;function L(C,E){return E?E-C:C*.14}M.getLineSpaceing=L;function P(C,E){var p=O.getOffScreenContext(),w=0;if(b.isNil(C)||C==="")return w;if(p.save(),p.font=E,b.isString(C)&&C.includes(`
`)){var y=C.split(`
`);b.each(y,function(x){var g=p.measureText(x).width;w<g&&(w=g)})}else w=p.measureText(C).width;return p.restore(),w}M.getTextWidth=P;function A(C){var E=C.fontSize,p=C.fontFamily,w=C.fontWeight,y=C.fontStyle,x=C.fontVariant;return[y,x,w,E+"px",p].join(" ").trim()}M.assembleFont=A},22487:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function b(x,g){var S=x.indexOf(g);S!==-1&&x.splice(S,1)}M.removeFromArray=b,M.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var O=d(73890);M.isNil=O.default;var k=d(46812);M.isFunction=k.default;var L=d(21830);M.isString=L.default;var P=d(33643);M.isObject=P.default;var A=d(66631);M.isArray=A.default;var C=d(66974);M.mix=C.default;var E=d(27154);M.each=E.default;var p=d(85260);M.upperFirst=p.default;function w(x,g){if(x.isCanvas())return!0;for(var S=g.getParent(),_=!1;S;){if(S===x){_=!0;break}S=S.getParent()}return _}M.isParent=w;function y(x){return x.cfg.visible&&x.cfg.capture}M.isAllowCapture=y},76062:function(xt){"use strict";xt.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},84909:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(48465);function k(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function L(C,E){return k(C)*k(E)?(C[0]*E[0]+C[1]*E[1])/(k(C)*k(E)):1}function P(C,E){return(C[0]*E[1]<C[1]*E[0]?-1:1)*Math.acos(L(C,E))}function A(C,E){var p=E[1],w=E[2],y=O.mod(O.toRadian(E[3]),Math.PI*2),x=E[4],g=E[5],S=C[0],_=C[1],B=E[6],F=E[7],V=Math.cos(y)*(S-B)/2+Math.sin(y)*(_-F)/2,Z=-1*Math.sin(y)*(S-B)/2+Math.cos(y)*(_-F)/2,X=V*V/(p*p)+Z*Z/(w*w);X>1&&(p*=Math.sqrt(X),w*=Math.sqrt(X));var U=p*p*(Z*Z)+w*w*(V*V),nt=U?Math.sqrt((p*p*(w*w)-U)/U):1;x===g&&(nt*=-1),isNaN(nt)&&(nt=0);var q=w?nt*p*Z/w:0,wt=p?nt*-w*V/p:0,ft=(S+B)/2+Math.cos(y)*q-Math.sin(y)*wt,Ot=(_+F)/2+Math.sin(y)*q+Math.cos(y)*wt,St=[(V-q)/p,(Z-wt)/w],At=[(-1*V-q)/p,(-1*Z-wt)/w],Et=P([1,0],St),bt=P(St,At);return L(St,At)<=-1&&(bt=Math.PI),L(St,At)>=1&&(bt=0),g===0&&bt>0&&(bt=bt-2*Math.PI),g===1&&bt<0&&(bt=bt+2*Math.PI),{cx:ft,cy:Ot,rx:O.isSamePoint(C,[B,F])?0:p,ry:O.isSamePoint(C,[B,F])?0:w,startAngle:Et,endAngle:Et+bt,xRotation:y,arcFlag:x,sweepFlag:g}}M.Z=A},48465:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.isSamePoint=M.mergeRegion=M.intersectRect=M.inBox=M.distance=M.getPixelRatio=void 0;function b(){return window?window.devicePixelRatio:1}M.getPixelRatio=b;function O(F,V,Z,X){var U=F-Z,nt=V-X;return Math.sqrt(U*U+nt*nt)}M.distance=O;function k(F,V,Z,X,U,nt){return U>=F&&U<=F+Z&&nt>=V&&nt<=V+X}M.inBox=k;function L(F,V){return!(V.minX>F.maxX||V.maxX<F.minX||V.minY>F.maxY||V.maxY<F.minY)}M.intersectRect=L;function P(F,V){return!F||!V?F||V:{minX:Math.min(F.minX,V.minX),minY:Math.min(F.minY,V.minY),maxX:Math.max(F.maxX,V.maxX),maxY:Math.max(F.maxY,V.maxY)}}M.mergeRegion=P;function A(F,V){return F[0]===V[0]&&F[1]===V[1]}M.isSamePoint=A;var C=d(73890);Object.defineProperty(M,"isNil",{enumerable:!0,get:function(){return C.default}});var E=d(21830);Object.defineProperty(M,"isString",{enumerable:!0,get:function(){return E.default}});var p=d(46812);Object.defineProperty(M,"isFunction",{enumerable:!0,get:function(){return p.default}});var w=d(66631);Object.defineProperty(M,"isArray",{enumerable:!0,get:function(){return w.default}});var y=d(27154);Object.defineProperty(M,"each",{enumerable:!0,get:function(){return y.default}});var x=d(9217);Object.defineProperty(M,"toRadian",{enumerable:!0,get:function(){return x.default}});var g=d(5253);Object.defineProperty(M,"mod",{enumerable:!0,get:function(){return g.default}});var S=d(39984);Object.defineProperty(M,"isNumberEqual",{enumerable:!0,get:function(){return S.default}});var _=d(98229);Object.defineProperty(M,"requestAnimationFrame",{enumerable:!0,get:function(){return _.default}});var B=d(35755);Object.defineProperty(M,"clearAnimationFrame",{enumerable:!0,get:function(){return B.default}})},71270:function(xt){"use strict";xt.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.15","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":false,"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403"}')},89838:function(xt,M,d){"use strict";d.r(M),d.d(M,{Arc:function(){return u},Cubic:function(){return wt},Line:function(){return p},Polygon:function(){return pt},Polyline:function(){return at},Quad:function(){return V},Util:function(){return b}});var b={};d.r(b),d.d(b,{distance:function(){return k},getBBoxByArray:function(){return P},getBBoxRange:function(){return A},isNumberEqual:function(){return L},piMod:function(){return C}});var O=d(49242);function k(Q,vt,et,it){var ct=Q-et,rt=vt-it;return Math.sqrt(ct*ct+rt*rt)}function L(Q,vt){return Math.abs(Q-vt)<.001}function P(Q,vt){var et=(0,O.min)(Q),it=(0,O.min)(vt),ct=(0,O.max)(Q),rt=(0,O.max)(vt);return{x:et,y:it,width:ct-et,height:rt-it}}function A(Q,vt,et,it){return{minX:(0,O.min)([Q,et]),maxX:(0,O.max)([Q,et]),minY:(0,O.min)([vt,it]),maxY:(0,O.max)([vt,it])}}function C(Q){return(Q+Math.PI*2)%(Math.PI*2)}var E=d(31437),p={box:function(Q,vt,et,it){return P([Q,et],[vt,it])},length:function(Q,vt,et,it){return k(Q,vt,et,it)},pointAt:function(Q,vt,et,it,ct){return{x:(1-ct)*Q+ct*et,y:(1-ct)*vt+ct*it}},pointDistance:function(Q,vt,et,it,ct,rt){var tt=(et-Q)*(ct-Q)+(it-vt)*(rt-vt);if(tt<0)return k(Q,vt,ct,rt);var mt=(et-Q)*(et-Q)+(it-vt)*(it-vt);return tt>mt?k(et,it,ct,rt):this.pointToLine(Q,vt,et,it,ct,rt)},pointToLine:function(Q,vt,et,it,ct,rt){var tt=[et-Q,it-vt];if(E.exactEquals(tt,[0,0]))return Math.sqrt((ct-Q)*(ct-Q)+(rt-vt)*(rt-vt));var mt=[-tt[1],tt[0]];E.normalize(mt,mt);var _t=[ct-Q,rt-vt];return Math.abs(E.dot(_t,mt))},tangentAngle:function(Q,vt,et,it){return Math.atan2(it-vt,et-Q)}},w=1e-4;function y(Q,vt,et,it,ct,rt){var tt,mt=Infinity,_t=[et,it],Wt=20;rt&&rt>200&&(Wt=rt/10);for(var te=1/Wt,ce=te/10,Pe=0;Pe<=Wt;Pe++){var we=Pe*te,Ce=[ct.apply(null,Q.concat([we])),ct.apply(null,vt.concat([we]))],Ge=k(_t[0],_t[1],Ce[0],Ce[1]);Ge<mt&&(tt=we,mt=Ge)}if(tt===0)return{x:Q[0],y:vt[0]};if(tt===1){var $e=Q.length;return{x:Q[$e-1],y:vt[$e-1]}}mt=Infinity;for(var Pe=0;Pe<32&&!(ce<w);Pe++){var cr=tt-ce,or=tt+ce,Ce=[ct.apply(null,Q.concat([cr])),ct.apply(null,vt.concat([cr]))],Ge=k(_t[0],_t[1],Ce[0],Ce[1]);if(cr>=0&&Ge<mt)tt=cr,mt=Ge;else{var Xr=[ct.apply(null,Q.concat([or])),ct.apply(null,vt.concat([or]))],xn=k(_t[0],_t[1],Xr[0],Xr[1]);or<=1&&xn<mt?(tt=or,mt=xn):ce*=.5}}return{x:ct.apply(null,Q.concat([tt])),y:ct.apply(null,vt.concat([tt]))}}function x(Q,vt){for(var et=0,it=Q.length,ct=0;ct<it;ct++){var rt=Q[ct],tt=vt[ct],mt=Q[(ct+1)%it],_t=vt[(ct+1)%it];et+=k(rt,tt,mt,_t)}return et/2}function g(Q,vt,et,it){var ct=1-it;return ct*ct*Q+2*it*ct*vt+it*it*et}function S(Q,vt,et){var it=Q+et-2*vt;if(L(it,0))return[.5];var ct=(Q-vt)/it;return ct<=1&&ct>=0?[ct]:[]}function _(Q,vt,et,it){return 2*(1-it)*(vt-Q)+2*it*(et-vt)}function B(Q,vt,et,it,ct,rt,tt){var mt=g(Q,et,ct,tt),_t=g(vt,it,rt,tt),Wt=p.pointAt(Q,vt,et,it,tt),te=p.pointAt(et,it,ct,rt,tt);return[[Q,vt,Wt.x,Wt.y,mt,_t],[mt,_t,te.x,te.y,ct,rt]]}function F(Q,vt,et,it,ct,rt,tt){if(tt===0)return(k(Q,vt,et,it)+k(et,it,ct,rt)+k(Q,vt,ct,rt))/2;var mt=B(Q,vt,et,it,ct,rt,.5),_t=mt[0],Wt=mt[1];return _t.push(tt-1),Wt.push(tt-1),F.apply(null,_t)+F.apply(null,Wt)}var V={box:function(Q,vt,et,it,ct,rt){var tt=S(Q,et,ct)[0],mt=S(vt,it,rt)[0],_t=[Q,ct],Wt=[vt,rt];return tt!==void 0&&_t.push(g(Q,et,ct,tt)),mt!==void 0&&Wt.push(g(vt,it,rt,mt)),P(_t,Wt)},length:function(Q,vt,et,it,ct,rt){return F(Q,vt,et,it,ct,rt,3)},nearestPoint:function(Q,vt,et,it,ct,rt,tt,mt){return y([Q,et,ct],[vt,it,rt],tt,mt,g)},pointDistance:function(Q,vt,et,it,ct,rt,tt,mt){var _t=this.nearestPoint(Q,vt,et,it,ct,rt,tt,mt);return k(_t.x,_t.y,tt,mt)},interpolationAt:g,pointAt:function(Q,vt,et,it,ct,rt,tt){return{x:g(Q,et,ct,tt),y:g(vt,it,rt,tt)}},divide:function(Q,vt,et,it,ct,rt,tt){return B(Q,vt,et,it,ct,rt,tt)},tangentAngle:function(Q,vt,et,it,ct,rt,tt){var mt=_(Q,et,ct,tt),_t=_(vt,it,rt,tt),Wt=Math.atan2(_t,mt);return C(Wt)}};function Z(Q,vt,et,it,ct){var rt=1-ct;return rt*rt*rt*Q+3*vt*ct*rt*rt+3*et*ct*ct*rt+it*ct*ct*ct}function X(Q,vt,et,it,ct){var rt=1-ct;return 3*(rt*rt*(vt-Q)+2*rt*ct*(et-vt)+ct*ct*(it-et))}function U(Q,vt,et,it){var ct=-3*Q+9*vt-9*et+3*it,rt=6*Q-12*vt+6*et,tt=3*vt-3*Q,mt=[],_t,Wt,te;if(L(ct,0))L(rt,0)||(_t=-tt/rt,_t>=0&&_t<=1&&mt.push(_t));else{var ce=rt*rt-4*ct*tt;L(ce,0)?mt.push(-rt/(2*ct)):ce>0&&(te=Math.sqrt(ce),_t=(-rt+te)/(2*ct),Wt=(-rt-te)/(2*ct),_t>=0&&_t<=1&&mt.push(_t),Wt>=0&&Wt<=1&&mt.push(Wt))}return mt}function nt(Q,vt,et,it,ct,rt,tt,mt,_t){var Wt=Z(Q,et,ct,tt,_t),te=Z(vt,it,rt,mt,_t),ce=p.pointAt(Q,vt,et,it,_t),Pe=p.pointAt(et,it,ct,rt,_t),we=p.pointAt(ct,rt,tt,mt,_t),Ce=p.pointAt(ce.x,ce.y,Pe.x,Pe.y,_t),Ge=p.pointAt(Pe.x,Pe.y,we.x,we.y,_t);return[[Q,vt,ce.x,ce.y,Ce.x,Ce.y,Wt,te],[Wt,te,Ge.x,Ge.y,we.x,we.y,tt,mt]]}function q(Q,vt,et,it,ct,rt,tt,mt,_t){if(_t===0)return x([Q,et,ct,tt],[vt,it,rt,mt]);var Wt=nt(Q,vt,et,it,ct,rt,tt,mt,.5),te=Wt[0],ce=Wt[1];return te.push(_t-1),ce.push(_t-1),q.apply(null,te)+q.apply(null,ce)}var wt={extrema:U,box:function(Q,vt,et,it,ct,rt,tt,mt){for(var _t=[Q,tt],Wt=[vt,mt],te=U(Q,et,ct,tt),ce=U(vt,it,rt,mt),Pe=0;Pe<te.length;Pe++)_t.push(Z(Q,et,ct,tt,te[Pe]));for(var Pe=0;Pe<ce.length;Pe++)Wt.push(Z(vt,it,rt,mt,ce[Pe]));return P(_t,Wt)},length:function(Q,vt,et,it,ct,rt,tt,mt){return q(Q,vt,et,it,ct,rt,tt,mt,3)},nearestPoint:function(Q,vt,et,it,ct,rt,tt,mt,_t,Wt,te){return y([Q,et,ct,tt],[vt,it,rt,mt],_t,Wt,Z,te)},pointDistance:function(Q,vt,et,it,ct,rt,tt,mt,_t,Wt,te){var ce=this.nearestPoint(Q,vt,et,it,ct,rt,tt,mt,_t,Wt,te);return k(ce.x,ce.y,_t,Wt)},interpolationAt:Z,pointAt:function(Q,vt,et,it,ct,rt,tt,mt,_t){return{x:Z(Q,et,ct,tt,_t),y:Z(vt,it,rt,mt,_t)}},divide:function(Q,vt,et,it,ct,rt,tt,mt,_t){return nt(Q,vt,et,it,ct,rt,tt,mt,_t)},tangentAngle:function(Q,vt,et,it,ct,rt,tt,mt,_t){var Wt=X(Q,et,ct,tt,_t),te=X(vt,it,rt,mt,_t);return C(Math.atan2(te,Wt))}};function ft(Q,vt){var et=Math.abs(Q);return vt>0?et:et*-1}var Ot={box:function(Q,vt,et,it){return{x:Q-et,y:vt-it,width:et*2,height:it*2}},length:function(Q,vt,et,it){return Math.PI*(3*(et+it)-Math.sqrt((3*et+it)*(et+3*it)))},nearestPoint:function(Q,vt,et,it,ct,rt){var tt=et,mt=it;if(tt===0||mt===0)return{x:Q,y:vt};for(var _t=ct-Q,Wt=rt-vt,te=Math.abs(_t),ce=Math.abs(Wt),Pe=tt*tt,we=mt*mt,Ce=Math.PI/4,Ge,$e,cr=0;cr<4;cr++){Ge=tt*Math.cos(Ce),$e=mt*Math.sin(Ce);var or=(Pe-we)*Math.pow(Math.cos(Ce),3)/tt,Xr=(we-Pe)*Math.pow(Math.sin(Ce),3)/mt,xn=Ge-or,Wr=$e-Xr,sn=te-or,Jn=ce-Xr,ai=Math.hypot(Wr,xn),Si=Math.hypot(Jn,sn),Mi=ai*Math.asin((xn*Jn-Wr*sn)/(ai*Si)),Ht=Mi/Math.sqrt(Pe+we-Ge*Ge-$e*$e);Ce+=Ht,Ce=Math.min(Math.PI/2,Math.max(0,Ce))}return{x:Q+ft(Ge,_t),y:vt+ft($e,Wt)}},pointDistance:function(Q,vt,et,it,ct,rt){var tt=this.nearestPoint(Q,vt,et,it,ct,rt);return k(tt.x,tt.y,ct,rt)},pointAt:function(Q,vt,et,it,ct){var rt=2*Math.PI*ct;return{x:Q+et*Math.cos(rt),y:vt+it*Math.sin(rt)}},tangentAngle:function(Q,vt,et,it,ct){var rt=2*Math.PI*ct,tt=Math.atan2(it*Math.cos(rt),-et*Math.sin(rt));return C(tt)}};function St(Q,vt,et,it,ct,rt,tt,mt){return-1*et*Math.cos(ct)*Math.sin(mt)-it*Math.sin(ct)*Math.cos(mt)}function At(Q,vt,et,it,ct,rt,tt,mt){return-1*et*Math.sin(ct)*Math.sin(mt)+it*Math.cos(ct)*Math.cos(mt)}function Et(Q,vt,et){return Math.atan(-vt/Q*Math.tan(et))}function bt(Q,vt,et){return Math.atan(vt/(Q*Math.tan(et)))}function Lt(Q,vt,et,it,ct,rt){return et*Math.cos(ct)*Math.cos(rt)-it*Math.sin(ct)*Math.sin(rt)+Q}function Bt(Q,vt,et,it,ct,rt){return et*Math.sin(ct)*Math.cos(rt)+it*Math.cos(ct)*Math.sin(rt)+vt}function gt(Q,vt,et,it){var ct=Math.atan2(it*Q,et*vt);return(ct+Math.PI*2)%(Math.PI*2)}function J(Q,vt,et){return{x:Q*Math.cos(et),y:vt*Math.sin(et)}}function I(Q,vt,et){var it=Math.cos(et),ct=Math.sin(et);return[Q*it-vt*ct,Q*ct+vt*it]}var u={box:function(Q,vt,et,it,ct,rt,tt){for(var mt=Et(et,it,ct),_t=Infinity,Wt=-Infinity,te=[rt,tt],ce=-Math.PI*2;ce<=Math.PI*2;ce+=Math.PI){var Pe=mt+ce;rt<tt?rt<Pe&&Pe<tt&&te.push(Pe):tt<Pe&&Pe<rt&&te.push(Pe)}for(var ce=0;ce<te.length;ce++){var we=Lt(Q,vt,et,it,ct,te[ce]);we<_t&&(_t=we),we>Wt&&(Wt=we)}for(var Ce=bt(et,it,ct),Ge=Infinity,$e=-Infinity,cr=[rt,tt],ce=-Math.PI*2;ce<=Math.PI*2;ce+=Math.PI){var or=Ce+ce;rt<tt?rt<or&&or<tt&&cr.push(or):tt<or&&or<rt&&cr.push(or)}for(var ce=0;ce<cr.length;ce++){var Xr=Bt(Q,vt,et,it,ct,cr[ce]);Xr<Ge&&(Ge=Xr),Xr>$e&&($e=Xr)}return{x:_t,y:Ge,width:Wt-_t,height:$e-Ge}},length:function(Q,vt,et,it,ct,rt,tt){},nearestPoint:function(Q,vt,et,it,ct,rt,tt,mt,_t){var Wt=I(mt-Q,_t-vt,-ct),te=Wt[0],ce=Wt[1],Pe=Ot.nearestPoint(0,0,et,it,te,ce),we=gt(et,it,Pe.x,Pe.y);we<rt?Pe=J(et,it,rt):we>tt&&(Pe=J(et,it,tt));var Ce=I(Pe.x,Pe.y,ct);return{x:Ce[0]+Q,y:Ce[1]+vt}},pointDistance:function(Q,vt,et,it,ct,rt,tt,mt,_t){var Wt=this.nearestPoint(Q,vt,et,it,mt,_t);return k(Wt.x,Wt.y,mt,_t)},pointAt:function(Q,vt,et,it,ct,rt,tt,mt){var _t=(tt-rt)*mt+rt;return{x:Lt(Q,vt,et,it,ct,_t),y:Bt(Q,vt,et,it,ct,_t)}},tangentAngle:function(Q,vt,et,it,ct,rt,tt,mt){var _t=(tt-rt)*mt+rt,Wt=St(Q,vt,et,it,ct,rt,tt,_t),te=At(Q,vt,et,it,ct,rt,tt,_t);return C(Math.atan2(te,Wt))}};function R(Q){for(var vt=0,et=[],it=0;it<Q.length-1;it++){var ct=Q[it],rt=Q[it+1],tt=k(ct[0],ct[1],rt[0],rt[1]),mt={from:ct,to:rt,length:tt};et.push(mt),vt+=tt}return{segments:et,totalLength:vt}}function N(Q){if(Q.length<2)return 0;for(var vt=0,et=0;et<Q.length-1;et++){var it=Q[et],ct=Q[et+1];vt+=k(it[0],it[1],ct[0],ct[1])}return vt}function z(Q,vt){if(vt>1||vt<0||Q.length<2)return null;var et=R(Q),it=et.segments,ct=et.totalLength;if(ct===0)return{x:Q[0][0],y:Q[0][1]};for(var rt=0,tt=null,mt=0;mt<it.length;mt++){var _t=it[mt],Wt=_t.from,te=_t.to,ce=_t.length/ct;if(vt>=rt&&vt<=rt+ce){var Pe=(vt-rt)/ce;tt=p.pointAt(Wt[0],Wt[1],te[0],te[1],Pe);break}rt+=ce}return tt}function j(Q,vt){if(vt>1||vt<0||Q.length<2)return 0;for(var et=R(Q),it=et.segments,ct=et.totalLength,rt=0,tt=0,mt=0;mt<it.length;mt++){var _t=it[mt],Wt=_t.from,te=_t.to,ce=_t.length/ct;if(vt>=rt&&vt<=rt+ce){tt=Math.atan2(te[1]-Wt[1],te[0]-Wt[0]);break}rt+=ce}return tt}function K(Q,vt,et){for(var it=Infinity,ct=0;ct<Q.length-1;ct++){var rt=Q[ct],tt=Q[ct+1],mt=p.pointDistance(rt[0],rt[1],tt[0],tt[1],vt,et);mt<it&&(it=mt)}return it}var at={box:function(Q){for(var vt=[],et=[],it=0;it<Q.length;it++){var ct=Q[it];vt.push(ct[0]),et.push(ct[1])}return P(vt,et)},length:function(Q){return N(Q)},pointAt:function(Q,vt){return z(Q,vt)},pointDistance:function(Q,vt,et){return K(Q,vt,et)},tangentAngle:function(Q,vt){return j(Q,vt)}};function Tt(Q){var vt=Q.slice(0);return Q.length&&vt.push(Q[0]),vt}var pt={box:function(Q){return at.box(Q)},length:function(Q){return N(Tt(Q))},pointAt:function(Q,vt){return z(Tt(Q),vt)},pointDistance:function(Q,vt,et){return K(Tt(Q),vt,et)},tangentAngle:function(Q,vt){return j(Tt(Q),vt)}}},33418:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(76256),O=d(55397);function k(x,g,S,_,B,F,V,Z){return-1*S*Math.cos(B)*Math.sin(Z)-_*Math.sin(B)*Math.cos(Z)}function L(x,g,S,_,B,F,V,Z){return-1*S*Math.sin(B)*Math.sin(Z)+_*Math.cos(B)*Math.cos(Z)}function P(x,g,S){return Math.atan(-g/x*Math.tan(S))}function A(x,g,S){return Math.atan(g/(x*Math.tan(S)))}function C(x,g,S,_,B,F){return S*Math.cos(B)*Math.cos(F)-_*Math.sin(B)*Math.sin(F)+x}function E(x,g,S,_,B,F){return S*Math.sin(B)*Math.cos(F)+_*Math.cos(B)*Math.sin(F)+g}function p(x,g,S,_){var B=Math.atan2(_*x,S*g);return(B+Math.PI*2)%(Math.PI*2)}function w(x,g,S){return{x:x*Math.cos(S),y:g*Math.sin(S)}}function y(x,g,S){var _=Math.cos(S),B=Math.sin(S);return[x*_-g*B,x*B+g*_]}M.default={box:function(x,g,S,_,B,F,V){for(var Z=P(S,_,B),X=Infinity,U=-Infinity,nt=[F,V],q=-Math.PI*2;q<=Math.PI*2;q+=Math.PI){var wt=Z+q;F<V?F<wt&&wt<V&&nt.push(wt):V<wt&&wt<F&&nt.push(wt)}for(var q=0;q<nt.length;q++){var ft=C(x,g,S,_,B,nt[q]);ft<X&&(X=ft),ft>U&&(U=ft)}for(var Ot=A(S,_,B),St=Infinity,At=-Infinity,Et=[F,V],q=-Math.PI*2;q<=Math.PI*2;q+=Math.PI){var bt=Ot+q;F<V?F<bt&&bt<V&&Et.push(bt):V<bt&&bt<F&&Et.push(bt)}for(var q=0;q<Et.length;q++){var Lt=E(x,g,S,_,B,Et[q]);Lt<St&&(St=Lt),Lt>At&&(At=Lt)}return{x:X,y:St,width:U-X,height:At-St}},length:function(x,g,S,_,B,F,V){},nearestPoint:function(x,g,S,_,B,F,V,Z,X){var U=y(Z-x,X-g,-B),nt=U[0],q=U[1],wt=O.default.nearestPoint(0,0,S,_,nt,q),ft=p(S,_,wt.x,wt.y);ft<F?wt=w(S,_,F):ft>V&&(wt=w(S,_,V));var Ot=y(wt.x,wt.y,B);return{x:Ot[0]+x,y:Ot[1]+g}},pointDistance:function(x,g,S,_,B,F,V,Z,X){var U=this.nearestPoint(x,g,S,_,Z,X);return b.distance(U.x,U.y,Z,X)},pointAt:function(x,g,S,_,B,F,V,Z){var X=(V-F)*Z+F;return{x:C(x,g,S,_,B,X),y:E(x,g,S,_,B,X)}},tangentAngle:function(x,g,S,_,B,F,V,Z){var X=(V-F)*Z+F,U=k(x,g,S,_,B,F,V,X),nt=L(x,g,S,_,B,F,V,X);return b.piMod(Math.atan2(nt,U))}}},87335:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.snapLength=M.nearestPoint=void 0;var b=d(76256),O=1e-4;function k(P,A,C,E,p,w){var y,x=Infinity,g=[C,E],S=20;w&&w>200&&(S=w/10);for(var _=1/S,B=_/10,F=0;F<=S;F++){var V=F*_,Z=[p.apply(null,P.concat([V])),p.apply(null,A.concat([V]))],X=b.distance(g[0],g[1],Z[0],Z[1]);X<x&&(y=V,x=X)}if(y===0)return{x:P[0],y:A[0]};if(y===1){var U=P.length;return{x:P[U-1],y:A[U-1]}}x=Infinity;for(var F=0;F<32&&!(B<O);F++){var nt=y-B,q=y+B,Z=[p.apply(null,P.concat([nt])),p.apply(null,A.concat([nt]))],X=b.distance(g[0],g[1],Z[0],Z[1]);if(nt>=0&&X<x)y=nt,x=X;else{var wt=[p.apply(null,P.concat([q])),p.apply(null,A.concat([q]))],ft=b.distance(g[0],g[1],wt[0],wt[1]);q<=1&&ft<x?(y=q,x=ft):B*=.5}}return{x:p.apply(null,P.concat([y])),y:p.apply(null,A.concat([y]))}}M.nearestPoint=k;function L(P,A){for(var C=0,E=P.length,p=0;p<E;p++){var w=P[p],y=A[p],x=P[(p+1)%E],g=A[(p+1)%E];C+=b.distance(w,y,x,g)}return C/2}M.snapLength=L},15730:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(76256),O=d(23646),k=d(87335);function L(p,w,y,x,g){var S=1-g;return S*S*S*p+3*w*g*S*S+3*y*g*g*S+x*g*g*g}function P(p,w,y,x,g){var S=1-g;return 3*(S*S*(w-p)+2*S*g*(y-w)+g*g*(x-y))}function A(p,w,y,x){var g=-3*p+9*w-9*y+3*x,S=6*p-12*w+6*y,_=3*w-3*p,B=[],F,V,Z;if(b.isNumberEqual(g,0))b.isNumberEqual(S,0)||(F=-_/S,F>=0&&F<=1&&B.push(F));else{var X=S*S-4*g*_;b.isNumberEqual(X,0)?B.push(-S/(2*g)):X>0&&(Z=Math.sqrt(X),F=(-S+Z)/(2*g),V=(-S-Z)/(2*g),F>=0&&F<=1&&B.push(F),V>=0&&V<=1&&B.push(V))}return B}function C(p,w,y,x,g,S,_,B,F){var V=L(p,y,g,_,F),Z=L(w,x,S,B,F),X=O.default.pointAt(p,w,y,x,F),U=O.default.pointAt(y,x,g,S,F),nt=O.default.pointAt(g,S,_,B,F),q=O.default.pointAt(X.x,X.y,U.x,U.y,F),wt=O.default.pointAt(U.x,U.y,nt.x,nt.y,F);return[[p,w,X.x,X.y,q.x,q.y,V,Z],[V,Z,wt.x,wt.y,nt.x,nt.y,_,B]]}function E(p,w,y,x,g,S,_,B,F){if(F===0)return k.snapLength([p,y,g,_],[w,x,S,B]);var V=C(p,w,y,x,g,S,_,B,.5),Z=V[0],X=V[1];return Z.push(F-1),X.push(F-1),E.apply(null,Z)+E.apply(null,X)}M.default={extrema:A,box:function(p,w,y,x,g,S,_,B){for(var F=[p,_],V=[w,B],Z=A(p,y,g,_),X=A(w,x,S,B),U=0;U<Z.length;U++)F.push(L(p,y,g,_,Z[U]));for(var U=0;U<X.length;U++)V.push(L(w,x,S,B,X[U]));return b.getBBoxByArray(F,V)},length:function(p,w,y,x,g,S,_,B){return E(p,w,y,x,g,S,_,B,3)},nearestPoint:function(p,w,y,x,g,S,_,B,F,V,Z){return k.nearestPoint([p,y,g,_],[w,x,S,B],F,V,L,Z)},pointDistance:function(p,w,y,x,g,S,_,B,F,V,Z){var X=this.nearestPoint(p,w,y,x,g,S,_,B,F,V,Z);return b.distance(X.x,X.y,F,V)},interpolationAt:L,pointAt:function(p,w,y,x,g,S,_,B,F){return{x:L(p,y,g,_,F),y:L(w,x,S,B,F)}},divide:function(p,w,y,x,g,S,_,B,F){return C(p,w,y,x,g,S,_,B,F)},tangentAngle:function(p,w,y,x,g,S,_,B,F){var V=P(p,y,g,_,F),Z=P(w,x,S,B,F);return b.piMod(Math.atan2(Z,V))}}},55397:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(76256);function O(k,L){var P=Math.abs(k);return L>0?P:P*-1}M.default={box:function(k,L,P,A){return{x:k-P,y:L-A,width:P*2,height:A*2}},length:function(k,L,P,A){return Math.PI*(3*(P+A)-Math.sqrt((3*P+A)*(P+3*A)))},nearestPoint:function(k,L,P,A,C,E){var p=P,w=A;if(p===0||w===0)return{x:k,y:L};for(var y=C-k,x=E-L,g=Math.abs(y),S=Math.abs(x),_=p*p,B=w*w,F=Math.PI/4,V,Z,X=0;X<4;X++){V=p*Math.cos(F),Z=w*Math.sin(F);var U=(_-B)*Math.pow(Math.cos(F),3)/p,nt=(B-_)*Math.pow(Math.sin(F),3)/w,q=V-U,wt=Z-nt,ft=g-U,Ot=S-nt,St=Math.hypot(wt,q),At=Math.hypot(Ot,ft),Et=St*Math.asin((q*Ot-wt*ft)/(St*At)),bt=Et/Math.sqrt(_+B-V*V-Z*Z);F+=bt,F=Math.min(Math.PI/2,Math.max(0,F))}return{x:k+O(V,y),y:L+O(Z,x)}},pointDistance:function(k,L,P,A,C,E){var p=this.nearestPoint(k,L,P,A,C,E);return b.distance(p.x,p.y,C,E)},pointAt:function(k,L,P,A,C){var E=2*Math.PI*C;return{x:k+P*Math.cos(E),y:L+A*Math.sin(E)}},tangentAngle:function(k,L,P,A,C){var E=2*Math.PI*C,p=Math.atan2(A*Math.cos(E),-P*Math.sin(E));return b.piMod(p)}}},23646:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(76256),O=d(31437);M.default={box:function(k,L,P,A){return b.getBBoxByArray([k,P],[L,A])},length:function(k,L,P,A){return b.distance(k,L,P,A)},pointAt:function(k,L,P,A,C){return{x:(1-C)*k+C*P,y:(1-C)*L+C*A}},pointDistance:function(k,L,P,A,C,E){var p=(P-k)*(C-k)+(A-L)*(E-L);if(p<0)return b.distance(k,L,C,E);var w=(P-k)*(P-k)+(A-L)*(A-L);return p>w?b.distance(P,A,C,E):this.pointToLine(k,L,P,A,C,E)},pointToLine:function(k,L,P,A,C,E){var p=[P-k,A-L];if(O.exactEquals(p,[0,0]))return Math.sqrt((C-k)*(C-k)+(E-L)*(E-L));var w=[-p[1],p[0]];O.normalize(w,w);var y=[C-k,E-L];return Math.abs(O.dot(y,w))},tangentAngle:function(k,L,P,A){return Math.atan2(A-L,P-k)}}},65386:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(28171),k=d(76256);M.Z={box:function(L){for(var P=[],A=[],C=0;C<L.length;C++){var E=L[C];P.push(E[0]),A.push(E[1])}return k.getBBoxByArray(P,A)},length:function(L){return O.lengthOfSegment(L)},pointAt:function(L,P){return O.pointAtSegments(L,P)},pointDistance:function(L,P,A){return O.distanceAtSegment(L,P,A)},tangentAngle:function(L,P){return O.angleAtSegments(L,P)}}},2879:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(23646),O=d(76256),k=d(87335);function L(p,w,y,x){var g=1-x;return g*g*p+2*x*g*w+x*x*y}function P(p,w,y){var x=p+y-2*w;if(O.isNumberEqual(x,0))return[.5];var g=(p-w)/x;return g<=1&&g>=0?[g]:[]}function A(p,w,y,x){return 2*(1-x)*(w-p)+2*x*(y-w)}function C(p,w,y,x,g,S,_){var B=L(p,y,g,_),F=L(w,x,S,_),V=b.default.pointAt(p,w,y,x,_),Z=b.default.pointAt(y,x,g,S,_);return[[p,w,V.x,V.y,B,F],[B,F,Z.x,Z.y,g,S]]}function E(p,w,y,x,g,S,_){if(_===0)return(O.distance(p,w,y,x)+O.distance(y,x,g,S)+O.distance(p,w,g,S))/2;var B=C(p,w,y,x,g,S,.5),F=B[0],V=B[1];return F.push(_-1),V.push(_-1),E.apply(null,F)+E.apply(null,V)}M.default={box:function(p,w,y,x,g,S){var _=P(p,y,g)[0],B=P(w,x,S)[0],F=[p,g],V=[w,S];return _!==void 0&&F.push(L(p,y,g,_)),B!==void 0&&V.push(L(w,x,S,B)),O.getBBoxByArray(F,V)},length:function(p,w,y,x,g,S){return E(p,w,y,x,g,S,3)},nearestPoint:function(p,w,y,x,g,S,_,B){return k.nearestPoint([p,y,g],[w,x,S],_,B,L)},pointDistance:function(p,w,y,x,g,S,_,B){var F=this.nearestPoint(p,w,y,x,g,S,_,B);return O.distance(F.x,F.y,_,B)},interpolationAt:L,pointAt:function(p,w,y,x,g,S,_){return{x:L(p,y,g,_),y:L(w,x,S,_)}},divide:function(p,w,y,x,g,S,_){return C(p,w,y,x,g,S,_)},tangentAngle:function(p,w,y,x,g,S,_){var B=A(p,y,g,_),F=A(w,x,S,_),V=Math.atan2(F,B);return O.piMod(V)}}},28171:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.distanceAtSegment=M.angleAtSegments=M.pointAtSegments=M.lengthOfSegment=void 0;var b=d(23646),O=d(76256);function k(E){for(var p=0,w=[],y=0;y<E.length-1;y++){var x=E[y],g=E[y+1],S=O.distance(x[0],x[1],g[0],g[1]),_={from:x,to:g,length:S};w.push(_),p+=S}return{segments:w,totalLength:p}}function L(E){if(E.length<2)return 0;for(var p=0,w=0;w<E.length-1;w++){var y=E[w],x=E[w+1];p+=O.distance(y[0],y[1],x[0],x[1])}return p}M.lengthOfSegment=L;function P(E,p){if(p>1||p<0||E.length<2)return null;var w=k(E),y=w.segments,x=w.totalLength;if(x===0)return{x:E[0][0],y:E[0][1]};for(var g=0,S=null,_=0;_<y.length;_++){var B=y[_],F=B.from,V=B.to,Z=B.length/x;if(p>=g&&p<=g+Z){var X=(p-g)/Z;S=b.default.pointAt(F[0],F[1],V[0],V[1],X);break}g+=Z}return S}M.pointAtSegments=P;function A(E,p){if(p>1||p<0||E.length<2)return 0;for(var w=k(E),y=w.segments,x=w.totalLength,g=0,S=0,_=0;_<y.length;_++){var B=y[_],F=B.from,V=B.to,Z=B.length/x;if(p>=g&&p<=g+Z){S=Math.atan2(V[1]-F[1],V[0]-F[0]);break}g+=Z}return S}M.angleAtSegments=A;function C(E,p,w){for(var y=Infinity,x=0;x<E.length-1;x++){var g=E[x],S=E[x+1],_=b.default.pointDistance(g[0],g[1],S[0],S[1],p,w);_<y&&(y=_)}return y}M.distanceAtSegment=C},76256:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.piMod=M.getBBoxRange=M.getBBoxByArray=M.isNumberEqual=M.distance=void 0;var b=d(49242);function O(C,E,p,w){var y=C-p,x=E-w;return Math.sqrt(y*y+x*x)}M.distance=O;function k(C,E){return Math.abs(C-E)<.001}M.isNumberEqual=k;function L(C,E){var p=b.min(C),w=b.min(E),y=b.max(C),x=b.max(E);return{x:p,y:w,width:y-p,height:x-w}}M.getBBoxByArray=L;function P(C,E,p,w){return{minX:b.min([C,p]),maxX:b.max([C,p]),minY:b.min([E,w]),maxY:b.max([E,w])}}M.getBBoxRange=P;function A(C){return(C+Math.PI*2)%(Math.PI*2)}M.piMod=A},56463:function(xt,M,d){"use strict";var b=d(34155),O=this&&this.__spreadArrays||function(){for(var B=0,F=0,V=arguments.length;F<V;F++)B+=arguments[F].length;for(var Z=Array(B),X=0,F=0;F<V;F++)for(var U=arguments[F],nt=0,q=U.length;nt<q;nt++,X++)Z[X]=U[nt];return Z};Object.defineProperty(M,"__esModule",{value:!0});var k=function(){function B(F,V,Z){this.name=F,this.version=V,this.os=Z}return B}();M.BrowserInfo=k;var L=function(){function B(F){this.version=F,this.name="node",this.os=b.platform}return B}();M.NodeInfo=L;var P=function(){function B(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return B}();M.BotInfo=P;var A=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,C=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,E=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",A]],w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",C]];function y(B){return B?x(B):typeof navigator!="undefined"?x(navigator.userAgent):S()}M.detect=y;function x(B){var F=B!==""&&p.reduce(function(U,nt){var q=nt[0],wt=nt[1];if(U)return U;var ft=wt.exec(B);return!!ft&&[q,ft]},!1);if(!F)return null;var V=F[0],Z=F[1];if(V==="searchbot")return new P;var X=Z[1]&&Z[1].split(/[._]/).slice(0,3);return X?X.length<E&&(X=O(X,_(E-X.length))):X=[],new k(V,X.join("."),g(B))}M.parseUserAgent=x;function g(B){for(var F=0,V=w.length;F<V;F++){var Z=w[F],X=Z[0],U=Z[1],nt=U.test(B);if(nt)return X}return null}M.detectOS=g;function S(){var B=typeof b!="undefined"&&b.version;return B?new L(b.version.slice(1)):null}M.getNodeVersion=S;function _(B){for(var F=[],V=0;V<B;V++)F.push("0");return F}},23231:function(xt){"use strict";xt.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},52351:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=d(2810),k=function(){function L(P){var A=P.xField,C=P.yField,E=P.adjustNames,p=E===void 0?["x","y"]:E,w=P.dimValuesMap;this.adjustNames=p,this.xField=A,this.yField=C,this.dimValuesMap=w}return L.prototype.isAdjust=function(P){return this.adjustNames.indexOf(P)>=0},L.prototype.getAdjustRange=function(P,A,C){var E=this.yField,p=C.indexOf(A),w=C.length,y,x;return!E&&this.isAdjust("y")?(y=0,x=1):w>1?(y=C[p===0?0:p-1],x=C[p===w-1?w-1:p+1],p!==0?y+=(A-y)/2:y-=(x-A)/2,p!==w-1?x-=(x-A)/2:x+=(A-C[w-2])/2):(y=A===0?0:A-.5,x=A===0?1:A+.5),{pre:y,next:x}},L.prototype.adjustData=function(P,A){var C=this,E=this.getDimValues(A);b.each(P,function(p,w){b.each(E,function(y,x){C.adjustDim(x,y,p,w)})})},L.prototype.groupData=function(P,A){return b.each(P,function(C){C[A]===void 0&&(C[A]=O.DEFAULT_Y)}),b.groupBy(P,A)},L.prototype.adjustDim=function(P,A,C,E){},L.prototype.getDimValues=function(P){var A=this,C=A.xField,E=A.yField,p=b.assign({},this.dimValuesMap),w=[];if(C&&this.isAdjust("x")&&w.push(C),E&&this.isAdjust("y")&&w.push(E),w.forEach(function(x){p&&p[x]||(p[x]=b.valuesOfKey(P,x).sort(function(g,S){return g-S}))}),!E&&this.isAdjust("y")){var y="y";p[y]=[O.DEFAULT_Y,1]}return p},L}();M.default=k},2810:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.GAP=M.DODGE_RATIO=M.MARGIN_RATIO=M.DEFAULT_Y=void 0,M.DEFAULT_Y=0,M.MARGIN_RATIO=1/2,M.DODGE_RATIO=1/2,M.GAP=.05},68060:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Adjust=M.registerAdjust=M.getAdjust=void 0;var b=d(8108),O=d(52351);M.Adjust=O.default;var k={},L=function(A){return k[A.toLowerCase()]};M.getAdjust=L;var P=function(A,C){if(L(A))throw new Error("Adjust type '"+A+"' existed.");k[A.toLowerCase()]=C};M.registerAdjust=P,b.__exportStar(d(62056),M)},62056:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0})},58368:function(xt,M,d){"use strict";d.r(M),d.d(M,{Attribute:function(){return L},Color:function(){return E},Opacity:function(){return w},Position:function(){return x},Scale:function(){return F.Scale},Shape:function(){return S},Size:function(){return B},getAttribute:function(){return Z},registerAttribute:function(){return X}});var b=d(49242),O=function(U,nt){return(0,b.isString)(nt)?nt:U.invert(U.scale(nt))},k=function(){function U(nt){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(nt)}return U.prototype.mapping=function(){for(var nt=this,q=[],wt=0;wt<arguments.length;wt++)q[wt]=arguments[wt];var ft=q.map(function(Ot,St){return nt._toOriginParam(Ot,nt.scales[St])});return this.callback.apply(this,ft)},U.prototype.getLinearValue=function(nt){var q=this.values.length-1,wt=Math.floor(q*nt),ft=q*nt-wt,Ot=this.values[wt],St=wt===q?Ot:this.values[wt+1];return Ot+(St-Ot)*ft},U.prototype.getNames=function(){for(var nt=this.scales,q=this.names,wt=Math.min(nt.length,q.length),ft=[],Ot=0;Ot<wt;Ot+=1)ft.push(q[Ot]);return ft},U.prototype.getFields=function(){return this.scales.map(function(nt){return nt.field})},U.prototype.getScale=function(nt){return this.scales[this.names.indexOf(nt)]},U.prototype.defaultCallback=function(){for(var nt=this,q=[],wt=0;wt<arguments.length;wt++)q[wt]=arguments[wt];return q.length===0?this.values:q.map(function(ft,Ot){var St=nt.scales[Ot];return St.type==="identity"?St.values[0]:nt._getAttributeValue(St,ft)})},U.prototype._parseCfg=function(nt){var q=this,wt=nt.type,ft=wt===void 0?"base":wt,Ot=nt.names,St=Ot===void 0?[]:Ot,At=nt.scales,Et=At===void 0?[]:At,bt=nt.values,Lt=bt===void 0?[]:bt,Bt=nt.callback;this.type=ft,this.scales=Et,this.values=Lt,this.names=St,this.callback=function(){for(var gt=[],J=0;J<arguments.length;J++)gt[J]=arguments[J];if(Bt){var I=Bt.apply(void 0,gt);if(!(0,b.isNil)(I))return[I]}return q.defaultCallback.apply(q,gt)}},U.prototype._getAttributeValue=function(nt,q){if(nt.isCategory&&!this.linear){var wt=nt.translate(q);return this.values[wt%this.values.length]}var ft=nt.scale(q);return this.getLinearValue(ft)},U.prototype._toOriginParam=function(nt,q){return q.isLinear?nt:(0,b.isArray)(nt)?nt.map(function(wt){return O(q,wt)}):O(q,nt)},U}(),L=k,P=d(11758),A=d(55223),C=function(U){(0,P.__extends)(nt,U);function nt(q){var wt=U.call(this,q)||this;return wt.type="color",wt.names=["color"],(0,b.isString)(wt.values)&&(wt.linear=!0),wt.gradient=A.default.gradient(wt.values),wt}return nt.prototype.getLinearValue=function(q){return this.gradient(q)},nt}(L),E=C,p=function(U){(0,P.__extends)(nt,U);function nt(q){var wt=U.call(this,q)||this;return wt.type="opacity",wt.names=["opacity"],wt}return nt}(L),w=p,y=function(U){(0,P.__extends)(nt,U);function nt(q){var wt=U.call(this,q)||this;return wt.names=["x","y"],wt.type="position",wt}return nt.prototype.mapping=function(q,wt){var ft=this.scales,Ot=ft[0],St=ft[1];return(0,b.isNil)(q)||(0,b.isNil)(wt)?[]:[(0,b.isArray)(q)?q.map(function(At){return Ot.scale(At)}):Ot.scale(q),(0,b.isArray)(wt)?wt.map(function(At){return St.scale(At)}):St.scale(wt)]},nt}(L),x=y,g=function(U){(0,P.__extends)(nt,U);function nt(q){var wt=U.call(this,q)||this;return wt.type="shape",wt.names=["shape"],wt}return nt.prototype.getLinearValue=function(q){var wt=Math.round((this.values.length-1)*q);return this.values[wt]},nt}(L),S=g,_=function(U){(0,P.__extends)(nt,U);function nt(q){var wt=U.call(this,q)||this;return wt.type="size",wt.names=["size"],wt}return nt}(L),B=_,F=d(72469),V={},Z=function(U){return V[U.toLowerCase()]},X=function(U,nt){if(Z(U))throw new Error("Attribute type '".concat(U,"' existed."));V[U.toLowerCase()]=nt};X("Color",E),X("Opacity",w),X("Position",x),X("Shape",S),X("Size",B)},27210:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=function(L,P){return(0,b.isString)(P)?P:L.invert(L.scale(P))},k=function(){function L(P){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(P)}return L.prototype.mapping=function(){for(var P=this,A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];var E=A.map(function(p,w){return P._toOriginParam(p,P.scales[w])});return this.callback.apply(this,E)},L.prototype.getLinearValue=function(P){var A=this.values.length-1,C=Math.floor(A*P),E=A*P-C,p=this.values[C],w=C===A?p:this.values[C+1];return p+(w-p)*E},L.prototype.getNames=function(){for(var P=this.scales,A=this.names,C=Math.min(P.length,A.length),E=[],p=0;p<C;p+=1)E.push(A[p]);return E},L.prototype.getFields=function(){return this.scales.map(function(P){return P.field})},L.prototype.getScale=function(P){return this.scales[this.names.indexOf(P)]},L.prototype.defaultCallback=function(){for(var P=this,A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];return A.length===0?this.values:A.map(function(E,p){var w=P.scales[p];return w.type==="identity"?w.values[0]:P._getAttributeValue(w,E)})},L.prototype._parseCfg=function(P){var A=this,C=P.type,E=C===void 0?"base":C,p=P.names,w=p===void 0?[]:p,y=P.scales,x=y===void 0?[]:y,g=P.values,S=g===void 0?[]:g,_=P.callback;this.type=E,this.scales=x,this.values=S,this.names=w,this.callback=function(){for(var B=[],F=0;F<arguments.length;F++)B[F]=arguments[F];if(_){var V=_.apply(void 0,B);if(!(0,b.isNil)(V))return[V]}return A.defaultCallback.apply(A,B)}},L.prototype._getAttributeValue=function(P,A){if(P.isCategory&&!this.linear){var C=P.translate(A);return this.values[C%this.values.length]}var E=P.scale(A);return this.getLinearValue(E)},L.prototype._toOriginParam=function(P,A){return A.isLinear?P:(0,b.isArray)(P)?P.map(function(C){return O(A,C)}):O(A,P)},L}();M.default=k},25228:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Attribute=M.registerAttribute=M.getAttribute=void 0;var b=d(11758),O=d(27210);M.Attribute=O.default;var k={},L=function(A){return k[A.toLowerCase()]};M.getAttribute=L;var P=function(A,C){if(L(A))throw new Error("Attribute type '".concat(A,"' existed."));k[A.toLowerCase()]=C};M.registerAttribute=P,b.__exportStar(d(5925),M)},5925:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Scale=void 0;var b=d(72469);Object.defineProperty(M,"Scale",{enumerable:!0,get:function(){return b.Scale}})},11758:function(xt,M,d){"use strict";d.r(M),d.d(M,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return L},__decorate:function(){return P},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return x},__generator:function(){return g},__createBinding:function(){return S},__exportStar:function(){return _},__values:function(){return B},__read:function(){return F},__spread:function(){return V},__spreadArrays:function(){return Z},__spreadArray:function(){return X},__await:function(){return U},__asyncGenerator:function(){return nt},__asyncDelegator:function(){return q},__asyncValues:function(){return wt},__makeTemplateObject:function(){return ft},__importStar:function(){return St},__importDefault:function(){return At},__classPrivateFieldGet:function(){return Et},__classPrivateFieldSet:function(){return bt},__classPrivateFieldIn:function(){return Lt},__addDisposableResource:function(){return Bt},__disposeResources:function(){return J}});var b=function(I,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,N){R.__proto__=N}||function(R,N){for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(R[z]=N[z])},b(I,u)};function O(I,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");b(I,u);function R(){this.constructor=I}I.prototype=u===null?Object.create(u):(R.prototype=u.prototype,new R)}var k=function(){return k=Object.assign||function(u){for(var R,N=1,z=arguments.length;N<z;N++){R=arguments[N];for(var j in R)Object.prototype.hasOwnProperty.call(R,j)&&(u[j]=R[j])}return u},k.apply(this,arguments)};function L(I,u){var R={};for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&u.indexOf(N)<0&&(R[N]=I[N]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,N=Object.getOwnPropertySymbols(I);z<N.length;z++)u.indexOf(N[z])<0&&Object.prototype.propertyIsEnumerable.call(I,N[z])&&(R[N[z]]=I[N[z]]);return R}function P(I,u,R,N){var z=arguments.length,j=z<3?u:N===null?N=Object.getOwnPropertyDescriptor(u,R):N,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(I,u,R,N);else for(var at=I.length-1;at>=0;at--)(K=I[at])&&(j=(z<3?K(j):z>3?K(u,R,j):K(u,R))||j);return z>3&&j&&Object.defineProperty(u,R,j),j}function A(I,u){return function(R,N){u(R,N,I)}}function C(I,u,R,N,z,j){function K(mt){if(mt!==void 0&&typeof mt!="function")throw new TypeError("Function expected");return mt}for(var at=N.kind,Tt=at==="getter"?"get":at==="setter"?"set":"value",pt=!u&&I?N.static?I:I.prototype:null,Q=u||(pt?Object.getOwnPropertyDescriptor(pt,N.name):{}),vt,et=!1,it=R.length-1;it>=0;it--){var ct={};for(var rt in N)ct[rt]=rt==="access"?{}:N[rt];for(var rt in N.access)ct.access[rt]=N.access[rt];ct.addInitializer=function(mt){if(et)throw new TypeError("Cannot add initializers after decoration has completed");j.push(K(mt||null))};var tt=(0,R[it])(at==="accessor"?{get:Q.get,set:Q.set}:Q[Tt],ct);if(at==="accessor"){if(tt===void 0)continue;if(tt===null||typeof tt!="object")throw new TypeError("Object expected");(vt=K(tt.get))&&(Q.get=vt),(vt=K(tt.set))&&(Q.set=vt),(vt=K(tt.init))&&z.unshift(vt)}else(vt=K(tt))&&(at==="field"?z.unshift(vt):Q[Tt]=vt)}pt&&Object.defineProperty(pt,N.name,Q),et=!0}function E(I,u,R){for(var N=arguments.length>2,z=0;z<u.length;z++)R=N?u[z].call(I,R):u[z].call(I);return N?R:void 0}function p(I){return typeof I=="symbol"?I:"".concat(I)}function w(I,u,R){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(I,"name",{configurable:!0,value:R?"".concat(R," ",u):u})}function y(I,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,u)}function x(I,u,R,N){function z(j){return j instanceof R?j:new R(function(K){K(j)})}return new(R||(R=Promise))(function(j,K){function at(Q){try{pt(N.next(Q))}catch(vt){K(vt)}}function Tt(Q){try{pt(N.throw(Q))}catch(vt){K(vt)}}function pt(Q){Q.done?j(Q.value):z(Q.value).then(at,Tt)}pt((N=N.apply(I,u||[])).next())})}function g(I,u){var R={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},N,z,j,K;return K={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function at(pt){return function(Q){return Tt([pt,Q])}}function Tt(pt){if(N)throw new TypeError("Generator is already executing.");for(;K&&(K=0,pt[0]&&(R=0)),R;)try{if(N=1,z&&(j=pt[0]&2?z.return:pt[0]?z.throw||((j=z.return)&&j.call(z),0):z.next)&&!(j=j.call(z,pt[1])).done)return j;switch(z=0,j&&(pt=[pt[0]&2,j.value]),pt[0]){case 0:case 1:j=pt;break;case 4:return R.label++,{value:pt[1],done:!1};case 5:R.label++,z=pt[1],pt=[0];continue;case 7:pt=R.ops.pop(),R.trys.pop();continue;default:if(j=R.trys,!(j=j.length>0&&j[j.length-1])&&(pt[0]===6||pt[0]===2)){R=0;continue}if(pt[0]===3&&(!j||pt[1]>j[0]&&pt[1]<j[3])){R.label=pt[1];break}if(pt[0]===6&&R.label<j[1]){R.label=j[1],j=pt;break}if(j&&R.label<j[2]){R.label=j[2],R.ops.push(pt);break}j[2]&&R.ops.pop(),R.trys.pop();continue}pt=u.call(I,R)}catch(Q){pt=[6,Q],z=0}finally{N=j=0}if(pt[0]&5)throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}}var S=Object.create?function(I,u,R,N){N===void 0&&(N=R);var z=Object.getOwnPropertyDescriptor(u,R);(!z||("get"in z?!u.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return u[R]}}),Object.defineProperty(I,N,z)}:function(I,u,R,N){N===void 0&&(N=R),I[N]=u[R]};function _(I,u){for(var R in I)R!=="default"&&!Object.prototype.hasOwnProperty.call(u,R)&&S(u,I,R)}function B(I){var u=typeof Symbol=="function"&&Symbol.iterator,R=u&&I[u],N=0;if(R)return R.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&N>=I.length&&(I=void 0),{value:I&&I[N++],done:!I}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(I,u){var R=typeof Symbol=="function"&&I[Symbol.iterator];if(!R)return I;var N=R.call(I),z,j=[],K;try{for(;(u===void 0||u-- >0)&&!(z=N.next()).done;)j.push(z.value)}catch(at){K={error:at}}finally{try{z&&!z.done&&(R=N.return)&&R.call(N)}finally{if(K)throw K.error}}return j}function V(){for(var I=[],u=0;u<arguments.length;u++)I=I.concat(F(arguments[u]));return I}function Z(){for(var I=0,u=0,R=arguments.length;u<R;u++)I+=arguments[u].length;for(var N=Array(I),z=0,u=0;u<R;u++)for(var j=arguments[u],K=0,at=j.length;K<at;K++,z++)N[z]=j[K];return N}function X(I,u,R){if(R||arguments.length===2)for(var N=0,z=u.length,j;N<z;N++)(j||!(N in u))&&(j||(j=Array.prototype.slice.call(u,0,N)),j[N]=u[N]);return I.concat(j||Array.prototype.slice.call(u))}function U(I){return this instanceof U?(this.v=I,this):new U(I)}function nt(I,u,R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=R.apply(I,u||[]),z,j=[];return z={},K("next"),K("throw"),K("return"),z[Symbol.asyncIterator]=function(){return this},z;function K(et){N[et]&&(z[et]=function(it){return new Promise(function(ct,rt){j.push([et,it,ct,rt])>1||at(et,it)})})}function at(et,it){try{Tt(N[et](it))}catch(ct){vt(j[0][3],ct)}}function Tt(et){et.value instanceof U?Promise.resolve(et.value.v).then(pt,Q):vt(j[0][2],et)}function pt(et){at("next",et)}function Q(et){at("throw",et)}function vt(et,it){et(it),j.shift(),j.length&&at(j[0][0],j[0][1])}}function q(I){var u,R;return u={},N("next"),N("throw",function(z){throw z}),N("return"),u[Symbol.iterator]=function(){return this},u;function N(z,j){u[z]=I[z]?function(K){return(R=!R)?{value:U(I[z](K)),done:!1}:j?j(K):K}:j}}function wt(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=I[Symbol.asyncIterator],R;return u?u.call(I):(I=typeof B=="function"?B(I):I[Symbol.iterator](),R={},N("next"),N("throw"),N("return"),R[Symbol.asyncIterator]=function(){return this},R);function N(j){R[j]=I[j]&&function(K){return new Promise(function(at,Tt){K=I[j](K),z(at,Tt,K.done,K.value)})}}function z(j,K,at,Tt){Promise.resolve(Tt).then(function(pt){j({value:pt,done:at})},K)}}function ft(I,u){return Object.defineProperty?Object.defineProperty(I,"raw",{value:u}):I.raw=u,I}var Ot=Object.create?function(I,u){Object.defineProperty(I,"default",{enumerable:!0,value:u})}:function(I,u){I.default=u};function St(I){if(I&&I.__esModule)return I;var u={};if(I!=null)for(var R in I)R!=="default"&&Object.prototype.hasOwnProperty.call(I,R)&&S(u,I,R);return Ot(u,I),u}function At(I){return I&&I.__esModule?I:{default:I}}function Et(I,u,R,N){if(R==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?I!==u||!N:!u.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return R==="m"?N:R==="a"?N.call(I):N?N.value:u.get(I)}function bt(I,u,R,N,z){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!z)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?I!==u||!z:!u.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?z.call(I,R):z?z.value=R:u.set(I,R),R}function Lt(I,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof I=="function"?u===I:I.has(u)}function Bt(I,u,R){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var N;if(R){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");N=u[Symbol.asyncDispose]}if(N===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");N=u[Symbol.dispose]}if(typeof N!="function")throw new TypeError("Object not disposable.");I.stack.push({value:u,dispose:N,async:R})}else R&&I.stack.push({async:!0});return u}var gt=typeof SuppressedError=="function"?SuppressedError:function(I,u,R){var N=new Error(R);return N.name="SuppressedError",N.error=I,N.suppressed=u,N};function J(I){function u(N){I.error=I.hasError?new gt(N,I.error,"An error was suppressed during disposal."):N,I.hasError=!0}function R(){for(;I.stack.length;){var N=I.stack.pop();try{var z=N.dispose&&N.dispose.call(N.value);if(N.async)return Promise.resolve(z).then(R,function(j){return u(j),R()})}catch(j){u(j)}}if(I.hasError)throw I.error}return R()}M.default={__extends:O,__assign:k,__rest:L,__decorate:P,__param:A,__metadata:y,__awaiter:x,__generator:g,__createBinding:S,__exportStar:_,__values:B,__read:F,__spread:V,__spreadArrays:Z,__spreadArray:X,__await:U,__asyncGenerator:nt,__asyncDelegator:q,__asyncValues:wt,__makeTemplateObject:ft,__importStar:St,__importDefault:At,__classPrivateFieldGet:Et,__classPrivateFieldSet:bt,__classPrivateFieldIn:Lt,__addDisposableResource:Bt,__disposeResources:J}},61102:function(){},50817:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.registerAnimation=M.getAnimation=void 0;var d={};function b(k){return d[k.toLowerCase()]}M.getAnimation=b;function O(k,L){d[k.toLowerCase()]=L}M.registerAnimation=O},97488:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.doGroupAppearAnimate=M.doAnimate=M.getDefaultAnimateCfg=M.DEFAULT_ANIMATE_CFG=void 0;var b=d(13008),O=d(49242),k=d(78646),L=d(50817);M.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var P={interval:function(y){return{enter:{animation:y.isRect?y.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:y.isPolar&&y.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},A={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(y){var x;return y.isRect?x=y.isTransposed?"grow-in-x":"grow-in-y":(x="grow-in-xy",y.isPolar&&y.isTransposed&&(x="wave-in")),{animation:x}},schema:function(y){var x;return y.isRect?x=y.isTransposed?"grow-in-x":"grow-in-y":x="grow-in-xy",{animation:x}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function C(y,x){return{delay:O.isFunction(y.delay)?y.delay(x):y.delay,easing:O.isFunction(y.easing)?y.easing(x):y.easing,duration:O.isFunction(y.duration)?y.duration(x):y.duration,callback:y.callback}}function E(y,x,g){var S=P[y];return S&&(O.isFunction(S)&&(S=S(x)),S=O.deepMix({},M.DEFAULT_ANIMATE_CFG,S),g)?S[g]:S}M.getDefaultAnimateCfg=E;function p(y,x,g){var S=O.get(y.get("origin"),"data",k.FIELD_ORIGIN),_=x.animation,B=C(x,S);if(_){var F=L.getAnimation(_);F&&F(y,B,g)}else y.animate(g.toAttrs,B)}M.doAnimate=p;function w(y,x,g,S,_){if(A[g]){var B=A[g](S),F=L.getAnimation(O.get(B,"animation",""));if(F){var V=b.__assign(b.__assign(b.__assign({},M.DEFAULT_ANIMATE_CFG.appear),B),x);y.stopAnimate(),F(y,V,{coordinate:S,minYPoint:_,toAttrs:null})}}}M.doGroupAppearAnimate=w},51315:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(13008),O=b.__importDefault(d(90494)),k=function(L){b.__extends(P,L);function P(A){var C=L.call(this)||this;C.destroyed=!1;var E=A.visible,p=E===void 0?!0:E;return C.visible=p,C}return P.prototype.show=function(){var A=this.visible;A||this.changeVisible(!0)},P.prototype.hide=function(){var A=this.visible;A&&this.changeVisible(!1)},P.prototype.destroy=function(){this.off(),this.destroyed=!0},P.prototype.changeVisible=function(A){this.visible!==A&&(this.visible=A)},P}(O.default);M.default=k},72282:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Controller=void 0;var b=d(49242),O=function(){function k(L){this.visible=!0,this.components=[],this.view=L}return k.prototype.clear=function(){b.each(this.components,function(L){L.component.destroy()}),this.components=[]},k.prototype.destroy=function(){this.clear()},k.prototype.getComponents=function(){return this.components},k.prototype.changeVisible=function(L){this.visible!==L&&(this.components.forEach(function(P){L?P.component.show():P.component.hide()}),this.visible=L)},k}();M.Controller=O},67984:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(13008),k=d(72282),L=250,P=function(w,y){var x=y.x-w.x,g=y.y-w.y;return Math.abs(x)>Math.abs(g)?x>0?"right":"left":g>0?"down":"up"},A=function(w,y){var x=Math.abs(y.x-w.x),g=Math.abs(y.y-w.y);return Math.sqrt(x*x+g*g)},C=function(w,y){var x=(w.x+y.x)/2,g=(w.y+y.y)/2;return{x,y:g}},E=function(w,y){if(!!w){for(var x=[],g=w.length,S=0;S<g;S++){var _=w[S],B=_.clientX,F=_.clientY,V=y.getPointByClient(B,F);x.push(V)}return x}},p=function(w){O.__extends(y,w);function y(x){var g=w.call(this,x)||this;return g.processEvent={},g.touchStart=function(S){var _=E(S.originalEvent.touches,g.canvas);!_||(S.points=_,g.reset(),g.startTime=Date.now(),g.startPoints=_,_.length>1?(g.startDistance=A(_[0],_[1]),g.center=C(_[0],_[1])):g.pressTimeout=setTimeout(function(){var B="press";S.direction="none",g.emitStart(B,S),g.emitEvent(B,S),g.eventType=B},L))},g.touchMove=function(S){var _=E(S.originalEvent.touches,g.canvas);if(!!_){g.clearPressTimeout(),S.points=_;var B=g.startPoints;if(!!B)if(_.length>1){var F=g.startDistance,V=A(_[0],_[1]);S.zoom=V/F,S.center=g.center,g.emitStart("pinch",S),g.emitEvent("pinch",S)}else{var Z=_[0].x-B[0].x,X=_[0].y-B[0].y,U=g.direction||P(B[0],_[0]);g.direction=U;var nt=g.getEventType(_);S.direction=U,S.deltaX=Z,S.deltaY=X,g.emitStart(nt,S),g.emitEvent(nt,S);var q=g.lastMoveTime,wt=Date.now();wt-q>0&&(g.prevMoveTime=q,g.prevMovePoints=g.lastMovePoints,g.lastMoveTime=wt,g.lastMovePoints=_)}}},g.touchEnd=function(S){g.emitEnd(S);var _=g.lastMoveTime,B=Date.now();if(B-_<100){var F=g.prevMoveTime||g.startTime,V=_-F;if(V>0){var Z=g.prevMovePoints||g.startPoints,X=g.lastMovePoints,U=A(Z[0],X[0])/V;U>.3&&(S.velocity=U,S.direction=P(Z[0],X[0]),g.emitEvent("swipe",S))}}g.reset();var nt=S.touches;nt&&nt.length>0&&g.touchStart(S)},g.canvas=x.getCanvas(),g.delegateEvent(),g.processEvent={},g}return Object.defineProperty(y.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),y.prototype.init=function(){},y.prototype.render=function(){},y.prototype.layout=function(){},y.prototype.update=function(){},y.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},y.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},y.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},y.prototype.emitEvent=function(x,g){var S=this.view;S.emit(x,g)},y.prototype.emitStart=function(x,g){this.isProcess(x)||(this.enable(x),this.emitEvent(x+"start",g))},y.prototype.emitEnd=function(x){var g=this,S=this.processEvent;Object.keys(S).forEach(function(_){g.emitEvent(_+"end",x),delete S[_]})},y.prototype.enable=function(x){this.processEvent[x]=!0},y.prototype.isProcess=function(x){return this.processEvent[x]},y.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},y.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},y.prototype.getEventType=function(x){var g=this,S=g.eventType,_=g.view,B=g.startTime,F=g.startPoints;if(S)return S;var V,Z=_.getEvents().pan;if(!Z||!Z.length)V="press";else{var X=Date.now();X-B>L&&A(F[0],x[0])<10?V="press":V="pan"}return this.eventType=V,V},y}(k.Controller);M.Z=p},13733:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(13008),k=d(49242),L=d(96397),P=d(83714),A=d(38674),C=d(97127),E=d(72282);function p(y){for(var x=[],g=function(_){var B=y[_],F=k.find(x,function(V){return V.color===B.color&&V.name===B.name&&V.value===B.value&&V.title===B.title});F||x.push(B)},S=0;S<y.length;S++)g(S);return x}var w=function(y){O.__extends(x,y);function x(){var g=y!==null&&y.apply(this,arguments)||this;return g.isLocked=!1,g}return Object.defineProperty(x.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),x.prototype.init=function(){},x.prototype.isVisible=function(){var g=this.view.getOptions().tooltip;return g!==!1},x.prototype.render=function(){},x.prototype.showTooltip=function(g){if(this.point=g,!!this.isVisible()){var S=this.view,_=this.getTooltipItems(g);if(!_.length){this.hideTooltip();return}var B=this.getTitle(_),F={x:_[0].x,y:_[0].y};S.emit("tooltip:show",O.__assign({items:_,title:B},g));var V=this.getTooltipCfg(),Z=V.follow,X=V.showMarkers,U=V.showCrosshairs,nt=V.showContent,q=V.marker,wt=this.items,ft=this.title;if(!k.isEqual(ft,B)||!k.isEqual(wt,_)?(S.emit("tooltip:change",O.__assign({items:_,title:B},g)),nt&&(this.tooltip||this.renderTooltip(),this.tooltip.update(k.mix({},V,{items:_,title:B},Z?g:{})),this.tooltip.show()),X&&this.renderTooltipMarkers(_,q)):(this.tooltip&&Z&&(this.tooltip.update(g),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=_,this.title=B,U){var Ot=k.get(V,["crosshairs","follow"],!1);this.renderCrosshairs(Ot?g:F,V)}}},x.prototype.hideTooltip=function(){var g=this.getTooltipCfg().follow;if(!g){this.point=null;return}var S=this.tooltipMarkersGroup;S&&S.hide();var _=this.xCrosshair,B=this.yCrosshair;_&&_.hide(),B&&B.hide();var F=this.tooltip;F&&F.hide(),this.view.emit("tooltip:hide",{}),this.point=null},x.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},x.prototype.unlockTooltip=function(){this.isLocked=!1;var g=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(g.capture)},x.prototype.isTooltipLocked=function(){return this.isLocked},x.prototype.clear=function(){var g=this,S=g.tooltip,_=g.xCrosshair,B=g.yCrosshair,F=g.tooltipMarkersGroup;S&&(S.hide(),S.clear()),_&&_.clear(),B&&B.clear(),F&&F.clear()},x.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},x.prototype.changeVisible=function(g){if(this.visible!==g){var S=this,_=S.tooltip,B=S.tooltipMarkersGroup,F=S.xCrosshair,V=S.yCrosshair;g?(_&&_.show(),B&&B.show(),F&&F.show(),V&&V.show()):(_&&_.hide(),B&&B.hide(),F&&F.hide(),V&&V.hide()),this.visible=g}},x.prototype.getTooltipItems=function(g){var S=this.findItemsFromView(this.view,g);if(S.length){S=k.flatten(S);for(var _=0,B=S;_<B.length;_++)for(var F=B[_],V=0,Z=F;V<Z.length;V++){var X=Z[V],U=X.mappingData,nt=U.x,q=U.y;X.x=k.isArray(nt)?nt[nt.length-1]:nt,X.y=k.isArray(q)?q[q.length-1]:q}var wt=this.getTooltipCfg().shared;if(wt===!1&&S.length>1){for(var ft=S[0],Ot=Math.abs(g.y-ft[0].y),St=0,At=S;St<At.length;St++){var Et=At[St],bt=Math.abs(g.y-Et[0].y);bt<=Ot&&(ft=Et,Ot=bt)}S=[ft]}return p(k.flatten(S))}return[]},x.prototype.layout=function(){},x.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var g=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:g.get("width"),y:g.get("height")}})}},x.prototype.getTooltipCfg=function(){var g=this.view,S=g.getOptions().tooltip,_=g.getTheme(),B=k.get(_,["components","tooltip"],{}),F=k.isUndefined(k.get(S,"enterable"))?B.enterable:k.get(S,"enterable");return k.deepMix({},B,S,{capture:!!(F||this.isLocked)})},x.prototype.getTitle=function(g){var S=g[0].title||g[0].name;return this.title=S,S},x.prototype.renderTooltip=function(){var g=this.view.getCanvas(),S={start:{x:0,y:0},end:{x:g.get("width"),y:g.get("height")}},_=this.getTooltipCfg(),B=new L.HtmlTooltip(O.__assign(O.__assign({parent:g.get("el").parentNode,region:S},_),{visible:!1,crosshairs:null}));B.init(),this.tooltip=B},x.prototype.renderTooltipMarkers=function(g,S){for(var _=this.getTooltipMarkersGroup(),B=0,F=g;B<F.length;B++){var V=F[B],Z=V.x,X=V.y,U=O.__assign(O.__assign({fill:V.color,symbol:"circle",shadowColor:V.color},S),{x:Z,y:X});_.addShape("marker",{attrs:U})}},x.prototype.renderCrosshairs=function(g,S){var _=k.get(S,["crosshairs","type"],"x");_==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(g,S)):_==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(g,S)):_==="xy"&&(this.renderXCrosshairs(g,S),this.renderYCrosshairs(g,S))},x.prototype.renderXCrosshairs=function(g,S){var _=this.getViewWithGeometry(this.view).getCoordinate();if(!!P.isPointInCoordinate(_,g)){var B,F;if(_.isRect)_.isTransposed?(B={x:_.start.x,y:g.y},F={x:_.end.x,y:g.y}):(B={x:g.x,y:_.end.y},F={x:g.x,y:_.start.y});else{var V=P.getAngleByPoint(_,g),Z=_.getCenter(),X=_.getRadius();F=A.polarToCartesian(Z.x,Z.y,X,V),B=Z}var U=k.deepMix({start:B,end:F,container:this.getTooltipCrosshairsGroup()},k.get(S,"crosshairs",{}),this.getCrosshairsText("x",g,S));delete U.type;var nt=this.xCrosshair;nt?nt.update(U):(nt=new L.Crosshair.Line(U),nt.init()),nt.render(),nt.show(),this.xCrosshair=nt}},x.prototype.renderYCrosshairs=function(g,S){var _=this.getViewWithGeometry(this.view).getCoordinate();if(!!P.isPointInCoordinate(_,g)){var B,F;if(_.isRect){var V=void 0,Z=void 0;_.isTransposed?(V={x:g.x,y:_.end.y},Z={x:g.x,y:_.start.y}):(V={x:_.start.x,y:g.y},Z={x:_.end.x,y:g.y}),B={start:V,end:Z},F="Line"}else B={center:_.getCenter(),radius:P.getDistanceToCenter(_,g),startAngle:_.startAngle,endAngle:_.endAngle},F="Circle";B=k.deepMix({container:this.getTooltipCrosshairsGroup()},B,k.get(S,"crosshairs",{}),this.getCrosshairsText("y",g,S)),delete B.type;var X=this.yCrosshair;X?_.isRect&&X.get("type")==="circle"||!_.isRect&&X.get("type")==="line"?(X=new L.Crosshair[F](B),X.init()):X.update(B):(X=new L.Crosshair[F](B),X.init()),X.render(),X.show(),this.yCrosshair=X}},x.prototype.getCrosshairsText=function(g,S,_){var B=k.get(_,["crosshairs","text"]),F=k.get(_,["crosshairs","follow"]),V=this.items;if(B){var Z=this.getViewWithGeometry(this.view),X=V[0],U=Z.getXScale(),nt=Z.getYScales()[0],q=void 0,wt=void 0;if(F){var ft=this.view.getCoordinate().invert(S);q=U.invert(ft.x),wt=nt.invert(ft.y)}else q=X.data[U.field],wt=X.data[nt.field];var Ot=g==="x"?q:wt;return k.isFunction(B)?B=B(g,Ot,V,S):B.content=Ot,{text:B}}},x.prototype.getGuideGroup=function(){if(!this.guideGroup){var g=this.view.foregroundGroup;this.guideGroup=g.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},x.prototype.getTooltipMarkersGroup=function(){var g=this.tooltipMarkersGroup;return g&&!g.destroyed?(g.clear(),g.show()):(g=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),g.toFront(),this.tooltipMarkersGroup=g),g},x.prototype.getTooltipCrosshairsGroup=function(){var g=this.tooltipCrosshairsGroup;return g||(g=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),g.toBack(),this.tooltipCrosshairsGroup=g),g},x.prototype.getTooltipItemsByHitShape=function(g,S,_){var B=[],F=g.container,V=F.getShape(S.x,S.y);if(V&&V.get("visible")&&V.get("origin")){var Z=V.get("origin").mappingData,X=C.getTooltipItems(Z,g,_);X.length&&B.push(X)}return B},x.prototype.getTooltipItemsByFindData=function(g,S,_){var B=[],F=g.dataArray;g.sort(F);for(var V=0,Z=F;V<Z.length;V++){var X=Z[V],U=C.findDataByPoint(S,X,g);if(U){var nt=g.getElementId(U),q=g.elementsMap[nt];if(g.type==="heatmap"||q.visible){var wt=C.getTooltipItems(U,g,_);wt.length&&B.push(wt)}}}return B},x.prototype.findItemsFromView=function(g,S){if(g.getOptions().tooltip===!1)return[];for(var _=[],B=g.geometries,F=this.getTooltipCfg(),V=F.shared,Z=F.title,X=0,U=B;X<U.length;X++){var nt=U[X];if(nt.visible&&nt.tooltipOption!==!1){var q=nt.type,wt=void 0;["point","edge","polygon"].includes(q)?wt=this.getTooltipItemsByHitShape(nt,S,Z):["area","line","path","heatmap"].includes(q)?wt=this.getTooltipItemsByFindData(nt,S,Z):V!==!1?wt=this.getTooltipItemsByFindData(nt,S,Z):wt=this.getTooltipItemsByHitShape(nt,S,Z),wt.length&&_.push(wt)}}for(var ft=0,Ot=g.views;ft<Ot.length;ft++){var St=Ot[ft];_=_.concat(this.findItemsFromView(St,S))}return _},x.prototype.getViewWithGeometry=function(g){var S=this;return g.geometries.length?g:k.find(g.views,function(_){return S.getViewWithGeometry(_)})},x}(E.Controller);M.Z=w},78646:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.COMPONENT_MAX_VIEW_PERCENTAGE=M.MIN_CHART_HEIGHT=M.MIN_CHART_WIDTH=M.FIELD_ORIGIN=M.GROUP_ATTRS=M.ELEMENT_STATE=M.PLOT_EVENTS=M.VIEW_LIFE_CIRCLE=M.GROUP_Z_INDEX=M.COMPONENT_TYPE=M.DIRECTION=M.LAYER=void 0;var d;(function(A){A.FORE="fore",A.MID="mid",A.BG="bg"})(d=M.LAYER||(M.LAYER={}));var b;(function(A){A.TOP="top",A.TOP_LEFT="top-left",A.TOP_RIGHT="top-right",A.RIGHT="right",A.RIGHT_TOP="right-top",A.RIGHT_BOTTOM="right-bottom",A.LEFT="left",A.LEFT_TOP="left-top",A.LEFT_BOTTOM="left-bottom",A.BOTTOM="bottom",A.BOTTOM_LEFT="bottom-left",A.BOTTOM_RIGHT="bottom-right",A.RADIUS="radius",A.CIRCLE="circle",A.NONE="none"})(b=M.DIRECTION||(M.DIRECTION={}));var O;(function(A){A.AXIS="axis",A.GRID="grid",A.LEGEND="legend",A.TOOLTIP="tooltip",A.ANNOTATION="annotation",A.OTHER="other"})(O=M.COMPONENT_TYPE||(M.COMPONENT_TYPE={})),M.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var k;(function(A){A.BEFORE_RENDER="beforerender",A.AFTER_RENDER="afterrender",A.BEFORE_PAINT="beforepaint",A.AFTER_PAINT="afterpaint",A.BEFORE_CHANGE_DATA="beforechangedata",A.AFTER_CHANGE_DATA="afterchangedata",A.BEFORE_CLEAR="beforeclear",A.AFTER_CLEAR="afterclear",A.BEFORE_DESTROY="beforedestroy"})(k=M.VIEW_LIFE_CIRCLE||(M.VIEW_LIFE_CIRCLE={}));var L;(function(A){A.MOUSE_ENTER="plot:mouseenter",A.MOUSE_DOWN="plot:mousedown",A.MOUSE_MOVE="plot:mousemove",A.MOUSE_UP="plot:mouseup",A.MOUSE_LEAVE="plot:mouseleave",A.TOUCH_START="plot:touchstart",A.TOUCH_MOVE="plot:touchmove",A.TOUCH_END="plot:touchend",A.TOUCH_CANCEL="plot:touchcancel",A.CLICK="plot:click",A.DBLCLICK="plot:dblclick",A.CONTEXTMENU="plot:contextmenu",A.LEAVE="plot:leave",A.ENTER="plot:enter"})(L=M.PLOT_EVENTS||(M.PLOT_EVENTS={}));var P;(function(A){A.ACTIVE="active",A.INACTIVE="inactive",A.SELECTED="selected",A.DEFAULT="default"})(P=M.ELEMENT_STATE||(M.ELEMENT_STATE={})),M.GROUP_ATTRS=["color","shape","size"],M.FIELD_ORIGIN="_origin",M.MIN_CHART_WIDTH=1,M.MIN_CHART_HEIGHT=1,M.COMPONENT_MAX_VIEW_PERCENTAGE=.25},96397:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Slider=M.HtmlTooltip=M.ContinuousLegend=M.CategoryLegend=M.CircleGrid=M.LineGrid=M.CircleAxis=M.LineAxis=M.Annotation=M.Crosshair=M.Component=M.GroupComponent=M.HtmlComponent=void 0;var b=d(65722);Object.defineProperty(M,"Event",{enumerable:!0,get:function(){return b.Event}}),Object.defineProperty(M,"AbstractGroup",{enumerable:!0,get:function(){return b.AbstractGroup}}),Object.defineProperty(M,"AbstractShape",{enumerable:!0,get:function(){return b.AbstractShape}});var O=d(68060);Object.defineProperty(M,"registerAdjust",{enumerable:!0,get:function(){return O.registerAdjust}}),Object.defineProperty(M,"getAdjust",{enumerable:!0,get:function(){return O.getAdjust}}),Object.defineProperty(M,"Adjust",{enumerable:!0,get:function(){return O.Adjust}});var k=d(25228);Object.defineProperty(M,"getAttribute",{enumerable:!0,get:function(){return k.getAttribute}}),Object.defineProperty(M,"Attribute",{enumerable:!0,get:function(){return k.Attribute}});var L=d(58368);Object.defineProperty(M,"Color",{enumerable:!0,get:function(){return L.Color}});var P=d(13541);Object.defineProperty(M,"getCoordinate",{enumerable:!0,get:function(){return P.getCoordinate}}),Object.defineProperty(M,"registerCoordinate",{enumerable:!0,get:function(){return P.registerCoordinate}}),Object.defineProperty(M,"Coordinate",{enumerable:!0,get:function(){return P.Coordinate}});var A=d(72469);Object.defineProperty(M,"getScale",{enumerable:!0,get:function(){return A.getScale}}),Object.defineProperty(M,"registerScale",{enumerable:!0,get:function(){return A.registerScale}}),Object.defineProperty(M,"Scale",{enumerable:!0,get:function(){return A.Scale}});var C=d(51441);Object.defineProperty(M,"Annotation",{enumerable:!0,get:function(){return C.Annotation}}),Object.defineProperty(M,"Component",{enumerable:!0,get:function(){return C.Component}}),Object.defineProperty(M,"Crosshair",{enumerable:!0,get:function(){return C.Crosshair}}),Object.defineProperty(M,"GroupComponent",{enumerable:!0,get:function(){return C.GroupComponent}}),Object.defineProperty(M,"HtmlComponent",{enumerable:!0,get:function(){return C.HtmlComponent}}),Object.defineProperty(M,"Slider",{enumerable:!0,get:function(){return C.Slider}});var E=C.Axis.Line,p=C.Axis.Circle;M.LineAxis=E,M.CircleAxis=p;var w=C.Grid.Line,y=C.Grid.Circle;M.LineGrid=w,M.CircleGrid=y;var x=C.Legend.Category,g=C.Legend.Continuous;M.CategoryLegend=x,M.ContinuousLegend=g;var S=C.Tooltip.Html;M.HtmlTooltip=S},98880:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(13008),k=d(49242),L=d(97488),P=O.__importDefault(d(51315)),A=d(38674),C=d(31207),E=function(p){O.__extends(w,p);function w(y){var x=p.call(this,y)||this;x.states=[];var g=y.shapeFactory,S=y.container,_=y.offscreenGroup,B=y.visible,F=B===void 0?!0:B;return x.shapeFactory=g,x.container=S,x.offscreenGroup=_,x.visible=F,x}return w.prototype.draw=function(y,x){x===void 0&&(x=!1),this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.drawShape(y,x),this.visible===!1&&this.changeVisible(!1)},w.prototype.update=function(y){var x=this,g=x.shapeFactory,S=x.shape;if(!!S){this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.setShapeInfo(S,y);var _=this.getOffscreenGroup(),B=g.drawShape(this.shapeType,y,_);B.cfg.data=this.data,B.cfg.origin=y,this.syncShapeStyle(S,B,"",this.getAnimateCfg("update"))}},w.prototype.destroy=function(){var y=this,x=y.shapeFactory,g=y.shape;if(g){var S=this.getAnimateCfg("leave");S?L.doAnimate(g,S,{coordinate:x.coordinate,toAttrs:O.__assign({},g.attr())}):g.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},w.prototype.changeVisible=function(y){p.prototype.changeVisible.call(this,y),y?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(x){x.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(x){x.hide()}))},w.prototype.setState=function(y,x){var g=this,S=this,_=S.states,B=S.shapeFactory,F=S.model,V=S.shape,Z=S.shapeType,X=_.indexOf(y);if(x){if(X>-1)return;_.push(y),(y==="active"||y==="selected")&&V.toFront()}else{if(X===-1)return;_.splice(X,1),(y==="active"||y==="selected")&&V.toBack()}var U=B.drawShape(Z,F,this.getOffscreenGroup());_.length?_.forEach(function(q){g.syncShapeStyle(V,U,q,null)}):this.syncShapeStyle(V,U,"reset",null),U.remove(!0);var nt={state:y,stateStatus:x,element:this,target:this.container};this.container.emit("statechange",nt),C.propagationDelegate(this.shape,"statechange",nt)},w.prototype.clearStates=function(){var y=this,x=this.states;k.each(x,function(g){y.setState(g,!1)}),this.states=[]},w.prototype.hasState=function(y){return this.states.includes(y)},w.prototype.getStates=function(){return this.states},w.prototype.getData=function(){return this.data},w.prototype.getModel=function(){return this.model},w.prototype.getBBox=function(){var y=this,x=y.shape,g=y.labelShape,S={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return x&&(S=x.getCanvasBBox()),g&&g.forEach(function(_){var B=_.getCanvasBBox();S.x=Math.min(B.x,S.x),S.y=Math.min(B.y,S.y),S.minX=Math.min(B.minX,S.minX),S.minY=Math.min(B.minY,S.minY),S.maxX=Math.max(B.maxX,S.maxX),S.maxY=Math.max(B.maxY,S.maxY)}),S.width=S.maxX-S.minX,S.height=S.maxY-S.minY,S},w.prototype.getStatesStyle=function(){if(!this.statesStyle){var y=this,x=y.shapeType,g=y.geometry,S=y.shapeFactory,_=g.stateOption,B=S.defaultShapeType,F=S.theme[x]||S.theme[B];this.statesStyle=k.deepMix({},F,_)}return this.statesStyle},w.prototype.getStateStyle=function(y,x){var g=this.getStatesStyle(),S=k.get(g,[y,"style"],{}),_=S[x]||S;return k.isFunction(_)?_(this):_},w.prototype.getAnimateCfg=function(y){var x=this.animate;return x?x[y]:null},w.prototype.drawShape=function(y,x){x===void 0&&(x=!1);var g=this,S=g.shapeFactory,_=g.container,B=g.shapeType;if(this.shape=S.drawShape(B,y,_),this.shape){this.setShapeInfo(this.shape,y);var F=this.shape.cfg.name;F?k.isString(F)&&(this.shape.cfg.name=["element",F]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var V=x?"enter":"appear",Z=this.getAnimateCfg(V);Z&&L.doAnimate(this.shape,Z,{coordinate:S.coordinate,toAttrs:O.__assign({},this.shape.attr())})}},w.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var y=this.container.getGroupBase();this.offscreenGroup=new y({})}return this.offscreenGroup},w.prototype.setShapeInfo=function(y,x){var g=this;if(y.cfg.origin=x,y.cfg.element=this,y.isGroup()){var S=y.get("children");S.forEach(function(_){g.setShapeInfo(_,x)})}},w.prototype.syncShapeStyle=function(y,x,g,S,_){if(g===void 0&&(g=""),_===void 0&&(_=0),y.isGroup())for(var B=y.get("children"),F=x.get("children"),V=0;V<B.length;V++)this.syncShapeStyle(B[V],F[V],g,S,_+V);else{if(g&&g!=="reset"){var Z=y.get("name");k.isArray(Z)&&(Z=Z[1]);var X=this.getStateStyle(g,Z||_);x.attr(X)}var U=A.getReplaceAttrs(y,x);this.animate?S?L.doAnimate(y,S,{coordinate:this.shapeFactory.coordinate,toAttrs:U,shapeModel:this.model}):g?(y.stopAnimate(),y.animate(U,{duration:300})):y.attr(U):y.attr(U)}},w.prototype.getShapeType=function(y){var x=k.get(y,"shape");return k.isArray(x)?x[0]:x},w}(P.default);b=E},78685:function(xt,M,d){"use strict";var b;b={value:!0},M.iV=b=b=void 0;var O=d(13008),k=d(90835),L=d(95280);b=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],b=["cross","tick","plus","hyphen","line"];function P(A,C,E,p,w){var y=L.getStyle(C,w,!w,"r"),x=A.parsePoints(C.points),g=x[0];if(C.isStack)g=x[1];else if(x.length>1){for(var S=E.addGroup(),_=0,B=x;_<B.length;_++){var F=B[_];S.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},y),{symbol:k.MarkerSymbols[p]||p}),F)})}return S}return E.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},y),{symbol:k.MarkerSymbols[p]||p}),g)})}M.iV=P},95280:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.getStyle=void 0;var b=d(13008),O=d(49242);function k(L,P,A,C){C===void 0&&(C="");var E=L.style,p=E===void 0?{}:E,w=L.defaultStyle,y=L.color,x=L.size,g=b.__assign(b.__assign({},w),p);return y&&(P&&(p.stroke||(g.stroke=y)),A&&(p.fill||(g.fill=y))),C&&O.isNil(p[C])&&!O.isNil(x)&&(g[C]=x),g}M.getStyle=k},89921:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.convertPolarPath=M.convertNormalPath=M.getSplinePath=M.getLinePath=M.catmullRom2bezier=M.smoothBezier=void 0;var b=d(43567),O=d(49242),k=d(83714);function L(g,S){var _=[];if(g.length){_.push(["M",g[0].x,g[0].y]);for(var B=1,F=g.length;B<F;B+=1){var V=g[B];_.push(["L",V.x,V.y])}S&&_.push(["Z"])}return _}function P(g,S){for(var _=[g[0]],B=1,F=g.length;B<F;B=B+2){var V=S.convert({x:g[B],y:g[B+1]});_.push(V.x,V.y)}return _}function A(g,S,_){var B=_.isTransposed,F=_.startAngle,V=_.endAngle,Z={x:g[1],y:g[2]},X={x:S[1],y:S[2]},U=[],nt=B?"y":"x",q=Math.abs(X[nt]-Z[nt])*(V-F),wt=X[nt]>=Z[nt]?1:0,ft=q>Math.PI?1:0,Ot=_.convert(X),St=k.getDistanceToCenter(_,Ot);if(St>=.5)if(q===Math.PI*2){var At={x:(X.x+Z.x)/2,y:(X.y+Z.y)/2},Et=_.convert(At);U.push(["A",St,St,0,ft,wt,Et.x,Et.y]),U.push(["A",St,St,0,ft,wt,Ot.x,Ot.y])}else U.push(["A",St,St,0,ft,wt,Ot.x,Ot.y]);return U}function C(g){O.each(g,function(S,_){var B=S;if(B[0].toLowerCase()==="a"){var F=g[_-1],V=g[_+1];V&&V[0].toLowerCase()==="a"?F&&F[0].toLowerCase()==="l"&&(F[0]="M"):F&&F[0].toLowerCase()==="a"&&V&&V[0].toLowerCase()==="l"&&(V[0]="M")}})}M.smoothBezier=function(g,S,_,B){var F=[],V,Z,X=!!B,U,nt;if(X){U=[Infinity,Infinity],nt=[-Infinity,-Infinity];for(var q=0,wt=g.length;q<wt;q++){var ft=g[q];U=b.vec2.min([0,0],U,ft),nt=b.vec2.max([0,0],nt,ft)}U=b.vec2.min([0,0],U,B[0]),nt=b.vec2.max([0,0],nt,B[1])}for(var q=0,Ot=g.length;q<Ot;q++){var ft=g[q];if(_)V=g[q?q-1:Ot-1],Z=g[(q+1)%Ot];else if(q===0||q===Ot-1){F.push(ft);continue}else V=g[q-1],Z=g[q+1];var St=[0,0];St=b.vec2.sub(St,Z,V),St=b.vec2.scale(St,St,S);var At=b.vec2.distance(ft,V),Et=b.vec2.distance(ft,Z),bt=At+Et;bt!==0&&(At/=bt,Et/=bt);var Lt=b.vec2.scale([0,0],St,-At),Bt=b.vec2.scale([0,0],St,Et),gt=b.vec2.add([0,0],ft,Lt),J=b.vec2.add([0,0],ft,Bt);X&&(gt=b.vec2.max([0,0],gt,U),gt=b.vec2.min([0,0],gt,nt),J=b.vec2.max([0,0],J,U),J=b.vec2.min([0,0],J,nt)),F.push(gt),F.push(J)}return _&&F.push(F.shift()),F};function E(g,S,_){for(var B=!!S,F=[],V=0,Z=g.length;V<Z;V+=2)F.push([g[V],g[V+1]]);for(var X=M.smoothBezier(F,.4,B,_),U=F.length,nt=[],q,wt,ft,V=0;V<U-1;V++)q=X[V*2],wt=X[V*2+1],ft=F[V+1],nt.push(["C",q[0],q[1],wt[0],wt[1],ft[0],ft[1]]);return B&&(q=X[U],wt=X[U+1],ft=F[0],nt.push(["C",q[0],q[1],wt[0],wt[1],ft[0],ft[1]])),nt}M.catmullRom2bezier=E;function p(g,S){return L(g,S)}M.getLinePath=p;function w(g,S,_){var B=[],F=g[0],V=null;if(g.length<=2)return p(g,S);for(var Z=0,X=g.length;Z<X;Z++){var U=g[Z];(!V||!(V.x===U.x&&V.y===U.y))&&(B.push(U.x),B.push(U.y),V=U)}var nt=_||[[0,0],[1,1]],q=E(B,S,nt);return q.unshift(["M",F.x,F.y]),q}M.getSplinePath=w;function y(g,S){var _=[];return O.each(S,function(B){var F=B[0];switch(F.toLowerCase()){case"m":case"l":case"c":_.push(P(B,g));break;case"z":default:_.push(B);break}}),_}M.convertNormalPath=y;function x(g,S){var _=[],B,F,V,Z;return O.each(S,function(X,U){var nt=X[0];switch(nt.toLowerCase()){case"m":case"c":case"q":_.push(P(X,g));break;case"l":B=S[U-1],F=X,V=g.isTransposed,Z=V?B[B.length-2]===F[1]:B[B.length-1]===F[2],Z?_=_.concat(A(B,F,g)):_.push(P(X,g));break;case"z":default:_.push(X);break}}),C(_),_}M.convertPolarPath=x},54244:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=function(){function k(L,P){this.context=L,this.cfg=P,L.addAction(this)}return k.prototype.applyCfg=function(L){b.assign(this,L)},k.prototype.init=function(){this.applyCfg(this.cfg)},k.prototype.destroy=function(){this.context.removeAction(this),this.context=null},k}();M.default=O},32479:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(13008),O=b.__importDefault(d(54244)),k=function(L){b.__extends(P,L);function P(){return L!==null&&L.apply(this,arguments)||this}return P.prototype.execute=function(){this.callback&&this.callback(this.context)},P.prototype.destroy=function(){L.prototype.destroy.call(this),this.callback=null},P}(O.default);M.default=k},9154:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.createCallbackAction=M.unregisterAction=M.registerAction=M.getActionClass=M.createAction=void 0;var b=d(13008),O=b.__importDefault(d(32479)),k=d(49242),L={};function P(w,y){var x=L[w],g=null;if(x){var S=x.ActionClass,_=x.cfg;g=new S(y,_),g.name=w,g.init()}return g}M.createAction=P;function A(w){var y=L[w];return k.get(y,"ActionClass")}M.getActionClass=A;function C(w,y,x){L[w]={ActionClass:y,cfg:x}}M.registerAction=C;function E(w){delete L[w]}M.unregisterAction=E;function p(w,y){var x=new O.default(y);return x.callback=w,x.name="callback",x}M.createCallbackAction=p},85506:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.getScaleByField=M.isInRecords=M.getSiblingPoint=M.getSilbings=M.isInBox=M.getSpline=M.distance=M.getComponents=M.getElementsByPath=M.getIntersectElements=M.intersectRect=M.getElementValue=M.getElementsByState=M.getElementsByField=M.getElements=M.getSiblingMaskElements=M.getMaskedElements=M.isMask=M.isSlider=M.isList=M.isElementChange=M.getDelegationObject=M.getCurrentElement=void 0;var b=d(13008),O=d(49242),k=d(89921),L=d(62810),P=b.__importDefault(d(70146));function A(gt,J){var I=gt.event,u=I.target,R=u.getCanvasBBox();return R.width>=J||R.height>=J?R:null}function C(gt,J){var I=gt.event,u=I.target,R=u.getCanvasBBox();return R.width>=J||R.height>=J?u.attr("path"):null}function E(gt){var J=gt.event,I,u=J.target;return u&&(I=u.get("element")),I}M.getCurrentElement=E;function p(gt){var J=gt.event,I=J.target,u;return I&&(u=I.get("delegateObject")),u}M.getDelegationObject=p;function w(gt){var J=gt.event.gEvent;return!(J&&J.fromShape&&J.toShape&&J.fromShape.get("element")===J.toShape.get("element"))}M.isElementChange=w;function y(gt){return gt&&gt.component&&gt.component.isList()}M.isList=y;function x(gt){return gt&&gt.component&&gt.component.isSlider()}M.isSlider=x;function g(gt){var J=gt.event,I=J.target;return I&&I.get("name")==="mask"}M.isMask=g;function S(gt,J){var I=gt.event.target;if(I.get("type")==="path"){var u=C(gt,J);return u?q(gt.view,u):void 0}var R=A(gt,J);return R?U(gt.view,R):null}M.getMaskedElements=S;function _(gt,J,I){var u=A(gt,I);if(!u)return null;var R=gt.view,N=bt(R,J,{x:u.x,y:u.y}),z=bt(R,J,{x:u.maxX,y:u.maxY}),j={minX:N.x,minY:N.y,maxX:z.x,maxY:z.y};return U(J,j)}M.getSiblingMaskElements=_;function B(gt){var J=gt.geometries,I=[];return O.each(J,function(u){var R=u.elements;I=I.concat(R)}),gt.views&&gt.views.length&&O.each(gt.views,function(u){I=I.concat(B(u))}),I}M.getElements=B;function F(gt,J,I){var u=B(gt);return u.filter(function(R){return Z(R,J)===I})}M.getElementsByField=F;function V(gt,J){var I=gt.geometries,u=[];return O.each(I,function(R){var N=R.getElementsBy(function(z){return z.hasState(J)});u=u.concat(N)}),u}M.getElementsByState=V;function Z(gt,J){var I=gt.getModel(),u=I.data,R;return O.isArray(u)?R=u[0][J]:R=u[J],R}M.getElementValue=Z;function X(gt,J){return!(J.minX>gt.maxX||J.maxX<gt.minX||J.minY>gt.maxY||J.maxY<gt.minY)}M.intersectRect=X;function U(gt,J){var I=B(gt),u=[];return O.each(I,function(R){var N=R.shape,z=N.getCanvasBBox();X(J,z)&&u.push(R)}),u}M.getIntersectElements=U;function nt(gt){var J=[];return O.each(gt,function(I){var u=I[0];if(u!=="A")for(var R=1;R<I.length;R=R+2)J.push([I[R],I[R+1]]);else{var N=I.length;J.push([I[N-2],I[N-1]])}}),J}function q(gt,J){var I=B(gt),u=nt(J),R=I.filter(function(N){var z=N.shape,j;if(z.get("type")==="path")j=nt(z.attr("path"));else{var K=z.getCanvasBBox();j=L.toPoints(K)}return P.default(u,j)});return R}M.getElementsByPath=q;function wt(gt){return gt.getComponents().map(function(J){return J.component})}M.getComponents=wt;function ft(gt,J){var I=J.x-gt.x,u=J.y-gt.y;return Math.sqrt(I*I+u*u)}M.distance=ft;function Ot(gt,J){if(gt.length<=2)return k.getLinePath(gt,!1);var I=gt[0],u=[];O.each(gt,function(N){u.push(N.x),u.push(N.y)});var R=k.catmullRom2bezier(u,J,null);return R.unshift(["M",I.x,I.y]),R}M.getSpline=Ot;function St(gt,J){return gt.x<=J.x&&gt.maxX>=J.x&&gt.y<=J.y&&gt.maxY>J.y}M.isInBox=St;function At(gt){var J=gt.parent,I=null;return J&&(I=J.views.filter(function(u){return u!==gt})),I}M.getSilbings=At;function Et(gt,J){var I=gt.getCoordinate();return I.invert(J)}function bt(gt,J,I){var u=Et(gt,I);return J.getCoordinate().convert(u)}M.getSiblingPoint=bt;function Lt(gt,J,I,u){var R=!1;return O.each(gt,function(N){if(N[I]===J[I]&&N[u]===J[u])return R=!0,!1}),R}M.isInRecords=Lt;function Bt(gt,J){var I=gt.getScaleByField(J);return!I&&gt.views&&O.each(gt.views,function(u){if(I=Bt(u,J),I)return!1}),I}M.getScaleByField=Bt},94194:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=d(85506),k=function(){function L(P){this.actions=[],this.event=null,this.cacheMap={},this.view=P}return L.prototype.cache=function(){for(var P=[],A=0;A<arguments.length;A++)P[A]=arguments[A];if(P.length===1)return this.cacheMap[P[0]];P.length===2&&(this.cacheMap[P[0]]=P[1])},L.prototype.getAction=function(P){return this.actions.find(function(A){return A.name===P})},L.prototype.addAction=function(P){this.actions.push(P)},L.prototype.removeAction=function(P){var A=this.actions,C=this.actions.indexOf(P);C>=0&&A.splice(C,1)},L.prototype.getCurrentPoint=function(){var P=this.event;if(P)if(P.target instanceof HTMLElement){var A=this.view.getCanvas(),C=A.getPointByClient(P.clientX,P.clientY);return C}else return{x:P.x,y:P.y};return null},L.prototype.getCurrentShape=function(){return b.get(this.event,["gEvent","shape"])},L.prototype.isInPlot=function(){var P=this.getCurrentPoint();return P?this.view.isPointInPlot(P):!1},L.prototype.isInShape=function(P){var A=this.getCurrentShape();return A?A.get("name")===P:!1},L.prototype.isInComponent=function(P){var A=O.getComponents(this.view),C=this.getCurrentPoint();return C?!!A.find(function(E){var p=E.getBBox();return P?E.get("name")===P&&O.isInBox(p,C):O.isInBox(p,C)}):!1},L.prototype.destroy=function(){this.view=null,this.event=null,b.each(this.actions.slice(),function(P){P.destroy()}),this.actions=null,this.cacheMap=null},L}();M.default=k},86050:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(13008),k=d(49242),L=d(9154),P=O.__importDefault(d(94194)),A=O.__importDefault(d(38144));function C(y,x){var g=y.split(":"),S=g[0],_=x.getAction(S)||L.createAction(S,x);if(!_)throw new Error("There is no action named "+S);var B=g[1];return{action:_,methodName:B}}function E(y){var x=y.action,g=y.methodName;if(x[g])x[g]();else throw new Error("Action("+x.name+") doesn't have a method called "+g)}var p={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},w=function(y){O.__extends(x,y);function x(g,S){var _=y.call(this,g,S)||this;return _.callbackCaches={},_.emitCaches={},_.steps=S,_}return x.prototype.init=function(){this.initContext(),y.prototype.init.call(this)},x.prototype.destroy=function(){y.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},x.prototype.initEvents=function(){var g=this;k.each(this.steps,function(S,_){k.each(S,function(B){var F=g.getActionCallback(_,B);F&&g.bindEvent(B.trigger,F)})})},x.prototype.clearEvents=function(){var g=this;k.each(this.steps,function(S,_){k.each(S,function(B){var F=g.getActionCallback(_,B);F&&g.offEvent(B.trigger,F)})})},x.prototype.initContext=function(){var g=this.view,S=new P.default(g);this.context=S;var _=this.steps;k.each(_,function(B){k.each(B,function(F){if(k.isFunction(F.action))F.actionObject={action:L.createCallbackAction(F.action,S),methodName:"execute"};else if(k.isString(F.action))F.actionObject=C(F.action,S);else if(k.isArray(F.action)){var V=F.action;F.actionObject=[],k.each(V,function(Z){F.actionObject.push(C(Z,S))})}})})},x.prototype.isAllowStep=function(g){var S=this.currentStepName,_=this.steps;if(S===g||g===p.SHOW_ENABLE)return!0;if(g===p.PROCESSING)return S===p.START;if(g===p.START)return S!==p.PROCESSING;if(g===p.END)return S===p.PROCESSING||S===p.START;if(g===p.ROLLBACK){if(_[p.END])return S===p.END;if(S===p.START)return!0}return!1},x.prototype.isAllowExcute=function(g,S){if(this.isAllowStep(g)){var _=this.getKey(g,S);return S.once&&this.emitCaches[_]?!1:S.isEnable?S.isEnable(this.context):!0}return!1},x.prototype.enterStep=function(g){this.currentStepName=g,this.emitCaches={}},x.prototype.afterExecute=function(g,S){g!==p.SHOW_ENABLE&&this.currentStepName!==g&&this.enterStep(g);var _=this.getKey(g,S);this.emitCaches[_]=!0},x.prototype.getKey=function(g,S){return g+S.trigger+S.action},x.prototype.getActionCallback=function(g,S){var _=this,B=this.context,F=this.callbackCaches,V=S.actionObject;if(S.action&&V){var Z=this.getKey(g,S);if(!F[Z]){var X=function(U){B.event=U,_.isAllowExcute(g,S)?(k.isArray(V)?k.each(V,function(nt){B.event=U,E(nt)}):(B.event=U,E(V)),_.afterExecute(g,S),S.callback&&(B.event=U,S.callback(B))):B.event=null};S.debounce?F[Z]=k.debounce(X,S.debounce.wait,S.debounce.immediate):S.throttle?F[Z]=k.throttle(X,S.throttle.wait,{leading:S.throttle.leading,trailing:S.throttle.trailing}):F[Z]=X}return F[Z]}return null},x.prototype.bindEvent=function(g,S){var _=g.split(":");_[0]==="window"?window.addEventListener(_[1],S):_[0]==="document"?document.addEventListener(_[1],S):this.view.on(g,S)},x.prototype.offEvent=function(g,S){var _=g.split(":");_[0]==="window"?window.removeEventListener(_[1],S):_[0]==="document"?document.removeEventListener(_[1],S):this.view.off(g,S)},x}(A.default);b=w},38144:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(){function b(O,k){this.view=O,this.cfg=k}return b.prototype.init=function(){this.initEvents()},b.prototype.initEvents=function(){},b.prototype.clearEvents=function(){},b.prototype.destroy=function(){this.clearEvents()},b}();M.default=d},62810:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.toPoints=M.getRegionBBox=M.BBox=void 0;var b=d(49242),O=d(78646),k=function(){function P(A,C,E,p){A===void 0&&(A=0),C===void 0&&(C=0),E===void 0&&(E=0),p===void 0&&(p=0),this.x=A,this.y=C,this.height=p,this.width=E}return P.fromRange=function(A,C,E,p){return new P(A,C,E-A,p-C)},Object.defineProperty(P.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),P.prototype.isEqual=function(A){return this.x===A.x&&this.y===A.y&&this.width===A.width&&this.height===A.height},P.prototype.clone=function(){return new P(this.x,this.y,this.width,this.height)},P.prototype.add=function(){for(var A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];var E=this.clone();return b.each(A,function(p){E.x=Math.min(p.x,E.x),E.y=Math.min(p.y,E.y),E.width=Math.max(p.maxX,E.maxX)-E.x,E.height=Math.max(p.maxY,E.maxY)-E.y}),E},P.prototype.merge=function(){for(var A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];var E=this.clone();return b.each(A,function(p){E.x=Math.max(p.x,E.x),E.y=Math.max(p.y,E.y),E.width=Math.min(p.maxX,E.maxX)-E.x,E.height=Math.min(p.maxY,E.maxY)-E.y}),E},P.prototype.cut=function(A,C){var E=A.width,p=A.height;switch(C){case O.DIRECTION.TOP:case O.DIRECTION.TOP_LEFT:case O.DIRECTION.TOP_RIGHT:return P.fromRange(this.minX,this.minY+p,this.maxX,this.maxY);case O.DIRECTION.RIGHT:case O.DIRECTION.RIGHT_TOP:case O.DIRECTION.RIGHT_BOTTOM:return P.fromRange(this.minX,this.minY,this.maxX-E,this.maxY);case O.DIRECTION.BOTTOM:case O.DIRECTION.BOTTOM_LEFT:case O.DIRECTION.BOTTOM_RIGHT:return P.fromRange(this.minX,this.minY,this.maxX,this.maxY-p);case O.DIRECTION.LEFT:case O.DIRECTION.LEFT_TOP:case O.DIRECTION.LEFT_BOTTOM:return P.fromRange(this.minX+E,this.minY,this.maxX,this.maxY);default:return this}},P.prototype.shrink=function(A){var C=A[0],E=A[1],p=A[2],w=A[3];return new P(this.x+w,this.y+C,this.width-w-E,this.height-C-p)},P.prototype.exceed=function(A){return[Math.max(-this.minY+A.minY,0),Math.max(this.maxX-A.maxX,0),Math.max(this.maxY-A.maxY,0),Math.max(-this.minX+A.minX,0)]},P.prototype.size=function(){return this.width*this.height},P}();M.BBox=k,M.getRegionBBox=function(P,A){var C=A.start,E=A.end;return new k(P.x+P.width*C.x,P.y+P.height*C.y,P.width*Math.abs(E.x-C.x),P.height*Math.abs(E.y-C.y))};function L(P){return[[P.minX,P.minY],[P.maxX,P.minY],[P.maxX,P.maxY],[P.minX,P.maxY]]}M.toPoints=L},83714:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.getCoordinateClipCfg=M.getAngleByPoint=M.isPointInCoordinate=M.getDistanceToCenter=M.isFullCircle=M.getXDimensionLength=void 0;var b=d(38674),O=d(10521);function k(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var w=p.convert({x:0,y:0}),y=p.convert({x:1,y:0});return Math.sqrt(Math.pow(y.x-w.x,2)+Math.pow(y.y-w.y,2))}M.getXDimensionLength=k;function L(p){if(p.isPolar){var w=p.startAngle,y=p.endAngle;return y-w==Math.PI*2}return!1}M.isFullCircle=L;function P(p,w){var y=p.getCenter();return Math.sqrt(Math.pow(w.x-y.x,2)+Math.pow(w.y-y.y,2))}M.getDistanceToCenter=P;function A(p,w){var y=!1;if(p)if(p.type==="theta"){var x=p.start,g=p.end;y=O.isBetween(w.x,x.x,g.x)&&O.isBetween(w.y,x.y,g.y)}else{var S=p.invert(w);y=O.isBetween(S.x,0,1)&&O.isBetween(S.y,0,1)}return y}M.isPointInCoordinate=A;function C(p,w){var y=p.getCenter();return Math.atan2(w.y-y.y,w.x-y.x)}M.getAngleByPoint=C;function E(p,w){w===void 0&&(w=0);var y=p.start,x=p.end,g=p.getWidth(),S=p.getHeight();if(p.isPolar){var _=p.startAngle,B=p.endAngle,F=p.getCenter(),V=p.getRadius();return{type:"path",startState:{path:b.getSectorPath(F.x,F.y,V+w,_,_)},endState:function(X){var U=(B-_)*X+_,nt=b.getSectorPath(F.x,F.y,V+w,_,U);return{path:nt}},attrs:{path:b.getSectorPath(F.x,F.y,V+w,_,B)}}}var Z;return p.isTransposed?Z={height:S+w*2}:Z={width:g+w*2},{type:"rect",startState:{x:y.x-w,y:x.y-w,width:p.isTransposed?g+w*2:0,height:p.isTransposed?0:S+w*2},endState:Z,attrs:{x:y.x-w,y:x.y-w,width:g+w*2,height:S+w*2}}}M.getCoordinateClipCfg=E},38674:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.getReplaceAttrs=M.getPolygonCentroid=M.getAngle=M.getArcPath=M.getSectorPath=M.polarToCartesian=void 0;var b=d(49242);function O(p){if(b.isEmpty(p))return null;var w=p[0].x,y=p[0].x,x=p[0].y,g=p[0].y;return b.each(p,function(S){w=w>S.x?S.x:w,y=y<S.x?S.x:y,x=x>S.y?S.y:x,g=g<S.y?S.y:g}),{minX:w,maxX:y,minY:x,maxY:g,centerX:(w+y)/2,centerY:(x+g)/2}}function k(p,w,y,x){return{x:p+y*Math.cos(x),y:w+y*Math.sin(x)}}M.polarToCartesian=k;function L(p,w,y,x,g,S){S===void 0&&(S=0);var _=k(p,w,y,x),B=k(p,w,y,g),F=k(p,w,S,x),V=k(p,w,S,g);if(g-x==Math.PI*2){var Z=k(p,w,y,x+Math.PI),X=k(p,w,S,x+Math.PI),U=[["M",_.x,_.y],["A",y,y,0,1,1,Z.x,Z.y],["A",y,y,0,1,1,B.x,B.y],["M",F.x,F.y]];return S&&(U.push(["A",S,S,0,1,0,X.x,X.y]),U.push(["A",S,S,0,1,0,V.x,V.y])),U.push(["M",_.x,_.y]),U.push(["Z"]),U}var nt=g-x<=Math.PI?0:1,q=[["M",_.x,_.y],["A",y,y,0,nt,1,B.x,B.y],["L",V.x,V.y]];return S&&q.push(["A",S,S,0,nt,0,F.x,F.y]),q.push(["L",_.x,_.y]),q.push(["Z"]),q}M.getSectorPath=L;function P(p,w,y,x,g){var S=k(p,w,y,x),_=k(p,w,y,g);if(b.isNumberEqual(g-x,Math.PI*2)){var B=k(p,w,y,x+Math.PI);return[["M",S.x,S.y],["A",y,y,0,1,1,B.x,B.y],["A",y,y,0,1,1,S.x,S.y],["A",y,y,0,1,0,B.x,B.y],["A",y,y,0,1,0,S.x,S.y],["Z"]]}var F=g-x<=Math.PI?0:1;return[["M",S.x,S.y],["A",y,y,0,F,1,_.x,_.y]]}M.getArcPath=P;function A(p,w){var y=p.points,x=O(y),g,S,_=w.startAngle,B=w.endAngle,F=B-_;return w.isTransposed?(g=x.maxY*F,S=x.minY*F):(g=x.maxX*F,S=x.minX*F),g+=_,S+=_,{startAngle:S,endAngle:g}}M.getAngle=A;function C(p,w){if(b.isNumber(p)&&b.isNumber(w))return[p,w];for(var y=-1,x=0,g=0,S,_=p.length-1,B,F=0;++y<p.length;)S=_,_=y,F+=B=p[S]*w[_]-p[_]*w[S],x+=(p[S]+p[_])*B,g+=(w[S]+w[_])*B;return F*=3,[x/F,g/F]}M.getPolygonCentroid=C;function E(p,w){var y=p.attr(),x=w.attr();return b.each(y,function(g,S){x[S]===void 0&&(x[S]=void 0)}),x}M.getReplaceAttrs=E},10521:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.uniq=M.omit=M.padEnd=M.isBetween=void 0;var b=d(49242);function O(A,C,E){var p=Math.min(C,E),w=Math.max(C,E);return A>=p&&A<=w}M.isBetween=O;function k(A,C,E){if(b.isString(A))return A.padEnd(C,E);if(b.isArray(A)){var p=A.length;if(p<C)for(var w=C-p,y=0;y<w;y++)A.push(E)}return A}M.padEnd=k;function L(A,C){return C.forEach(function(E){delete A[E]}),A}M.omit=L;function P(A,C,E){C===void 0&&(C=[]),E===void 0&&(E={});for(var p=0,w=A;p<w.length;p++){var y=w[p];E[y]||(C.push(y),E[y]=!0)}return C}M.uniq=P},90835:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MarkerSymbols=void 0,M.MarkerSymbols={hexagon:function(d,b,O){var k=O/2*Math.sqrt(3);return[["M",d,b-O],["L",d+k,b-O/2],["L",d+k,b+O/2],["L",d,b+O],["L",d-k,b+O/2],["L",d-k,b-O/2],["Z"]]},bowtie:function(d,b,O){var k=O-1.5;return[["M",d-O,b-k],["L",d+O,b+k],["L",d+O,b-k],["L",d-O,b+k],["Z"]]},cross:function(d,b,O){return[["M",d-O,b-O],["L",d+O,b+O],["M",d+O,b-O],["L",d-O,b+O]]},tick:function(d,b,O){return[["M",d-O/2,b-O],["L",d+O/2,b-O],["M",d,b-O],["L",d,b+O],["M",d-O/2,b+O],["L",d+O/2,b+O]]},plus:function(d,b,O){return[["M",d-O,b],["L",d+O,b],["M",d,b-O],["L",d,b+O]]},hyphen:function(d,b,O){return[["M",d-O,b],["L",d+O,b]]},line:function(d,b,O){return[["M",d,b-O],["L",d,b+O]]}}},95152:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.getName=M.syncScale=M.createScaleByField=void 0;var b=d(13008),O=d(49242),k=d(96397),L=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function P(p){var w="linear";return L.test(p)?w="time":O.isString(p)&&(w="cat"),w}function A(p,w,y){var x=w||[];if(O.isNumber(p)||O.isNil(O.firstValue(x,p))&&O.isEmpty(y)){var g=k.getScale("identity");return new g({field:p.toString(),values:[p]})}var S=O.valuesOfKey(x,p),_=O.get(y,"type",P(S[0])),B=k.getScale(_);return new B(b.__assign({field:p,values:S},y))}M.createScaleByField=A;function C(p,w){if(p.type!=="identity"&&w.type!=="identity"){var y={};for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(y[x]=w[x]);p.change(y)}}M.syncScale=C;function E(p){return p.alias||p.field}M.getName=E},97127:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.getTooltipItems=M.findDataByPoint=void 0;var b=d(13008),O=d(49242),k=d(78646),L=d(95152);function P(B,F,V){var Z=V.translate(B),X=V.translate(F);return O.isNumberEqual(Z,X)}function A(B,F){var V=F.coordinate,Z=F.getXScale(),X=Z.range,U=X[X.length-1],nt=X[0],q=V.invert(B),wt=q.x;return V.isPolar&&wt>(1+U)/2&&(wt=nt),Z.translate(Z.invert(wt))}function C(B,F,V){var Z=V.coordinate,X=V.getYScale(),U=X.field,nt=Z.invert(F),q=X.invert(nt.y),wt=O.find(B,function(ft){var Ot=ft[k.FIELD_ORIGIN];return Ot[U][0]<=q&&Ot[U][1]>=q});return wt||B[B.length-1]}var E=O.memoize(function(B){if(B.isCategory)return 1;for(var F=B.values,V=F.length,Z=B.translate(F[0]),X=Z,U=0;U<V;U++){var nt=F[U],q=B.translate(nt);q<Z&&(Z=q),q>X&&(X=q)}return(X-Z)/(V-1)});function p(B,F,V){var Z=V;if(!V){var X=F.getAttribute("position"),U=X.getFields();Z=U[0]}var nt=F.scales;return nt[Z]?nt[Z].getText(B[Z]):O.hasKey(B,Z)?B[Z]:Z}function w(B){var F=O.values(B.attributes);return O.filter(F,function(V){return O.contains(k.GROUP_ATTRS,V.type)})}function y(B){for(var F=w(B),V,Z=0,X=F;Z<X.length;Z++){var U=X[Z],nt=U.getScale(U.type);if(nt&&nt.isLinear){V=nt;break}}var q=B.getXScale(),wt=B.getYScale();return V||wt||q}function x(B,F){var V=F.field,Z=B[V];if(O.isArray(Z)){var X=Z.map(function(U){return F.getText(U)});return X.join("-")}return F.getText(Z)}function g(B,F){var V,Z=F.getGroupScales();if(Z.length&&(V=Z[0]),V){var X=V.field;return V.getText(B[X])}var U=y(F);return L.getName(U)}function S(B,F,V){if(F.length===0)return null;var Z=V.type,X=V.getXScale(),U=V.getYScale(),nt=X.field,q=U.field,wt=null;if(Z==="heatmap"||Z==="point"){for(var ft=V.coordinate,Ot=ft.invert(B),St=X.invert(Ot.x),At=U.invert(Ot.y),Et=Infinity,bt=0;bt<F.length;bt++){var Lt=F[bt],Bt=Lt[k.FIELD_ORIGIN],gt=Math.pow(Bt[nt]-St,2)+Math.pow(Bt[q]-At,2);gt<Et&&(Et=gt,wt=Lt)}return wt}var J=F[0],I=F[F.length-1],u=A(B,V),R=J[k.FIELD_ORIGIN][nt],N=J[k.FIELD_ORIGIN][q],z=I[k.FIELD_ORIGIN][nt],j=U.isLinear&&O.isArray(N);if(O.isArray(R)){for(var bt=0;bt<F.length;bt++){var K=F[bt],Bt=K[k.FIELD_ORIGIN];if(X.translate(Bt[nt][0])<=u&&X.translate(Bt[nt][1])>=u)if(j)O.isArray(wt)||(wt=[]),wt.push(K);else{wt=K;break}}O.isArray(wt)&&(wt=C(wt,B,V))}else{var at=void 0;if(!X.isLinear&&X.type!=="timeCat"){for(var bt=0;bt<F.length;bt++){var K=F[bt],Bt=K[k.FIELD_ORIGIN];if(P(Bt[nt],u,X))if(j)O.isArray(wt)||(wt=[]),wt.push(K);else{wt=K;break}else X.translate(Bt[nt])<=u&&(I=K,at=F[bt+1])}O.isArray(wt)&&(wt=C(wt,B,V))}else{if((u>X.translate(z)||u<X.translate(R))&&(u>X.max||u<X.min))return null;for(var Tt=0,pt=F.length-1,Q=void 0;Tt<=pt;){Q=Math.floor((Tt+pt)/2);var vt=F[Q][k.FIELD_ORIGIN][nt];if(P(vt,u,X))return F[Q];X.translate(vt)<=X.translate(u)?(Tt=Q+1,I=F[Q],at=F[Q+1]):(pt===0&&(I=F[0]),pt=Q-1)}}I&&at&&Math.abs(X.translate(I[k.FIELD_ORIGIN][nt])-u)>Math.abs(X.translate(at[k.FIELD_ORIGIN][nt])-u)&&(I=at)}var et=E(V.getXScale());return!wt&&Math.abs(X.translate(I[k.FIELD_ORIGIN][nt])-u)<=et/2&&(wt=I),wt}M.findDataByPoint=S;function _(B,F,V){V===void 0&&(V="");var Z=B[k.FIELD_ORIGIN],X=p(Z,F,V),U=F.tooltipOption,nt=F.theme.defaultColor,q=[],wt,ft;function Ot(N,z){if(!O.isNil(z)&&z!==""){var j={title:X,data:Z,mappingData:B,name:N,value:z,color:B.color||nt,marker:!0};q.push(j)}}if(O.isObject(U)){var St=U.fields,At=U.callback;if(At){var Et=St.map(function(N){return B[k.FIELD_ORIGIN][N]}),bt=At.apply(void 0,Et),Lt=b.__assign({data:B[k.FIELD_ORIGIN],mappingData:B,title:X,color:B.color||nt,marker:!0},bt);q.push(Lt)}else for(var Bt=F.scales,gt=0,J=St;gt<J.length;gt++){var I=J[gt];if(!O.isNil(Z[I])){var u=Bt[I];wt=L.getName(u),ft=u.getText(Z[I]),Ot(wt,ft)}}}else{var R=y(F);O.isNil(Z[R.field])||(ft=x(Z,R),wt=g(Z,F),Ot(wt,ft))}return q}M.getTooltipItems=_},13008:function(xt,M,d){"use strict";d.r(M),d.d(M,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return L},__decorate:function(){return P},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return x},__generator:function(){return g},__createBinding:function(){return S},__exportStar:function(){return _},__values:function(){return B},__read:function(){return F},__spread:function(){return V},__spreadArrays:function(){return Z},__spreadArray:function(){return X},__await:function(){return U},__asyncGenerator:function(){return nt},__asyncDelegator:function(){return q},__asyncValues:function(){return wt},__makeTemplateObject:function(){return ft},__importStar:function(){return St},__importDefault:function(){return At},__classPrivateFieldGet:function(){return Et},__classPrivateFieldSet:function(){return bt},__classPrivateFieldIn:function(){return Lt},__addDisposableResource:function(){return Bt},__disposeResources:function(){return J}});var b=function(I,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,N){R.__proto__=N}||function(R,N){for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(R[z]=N[z])},b(I,u)};function O(I,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");b(I,u);function R(){this.constructor=I}I.prototype=u===null?Object.create(u):(R.prototype=u.prototype,new R)}var k=function(){return k=Object.assign||function(u){for(var R,N=1,z=arguments.length;N<z;N++){R=arguments[N];for(var j in R)Object.prototype.hasOwnProperty.call(R,j)&&(u[j]=R[j])}return u},k.apply(this,arguments)};function L(I,u){var R={};for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&u.indexOf(N)<0&&(R[N]=I[N]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,N=Object.getOwnPropertySymbols(I);z<N.length;z++)u.indexOf(N[z])<0&&Object.prototype.propertyIsEnumerable.call(I,N[z])&&(R[N[z]]=I[N[z]]);return R}function P(I,u,R,N){var z=arguments.length,j=z<3?u:N===null?N=Object.getOwnPropertyDescriptor(u,R):N,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(I,u,R,N);else for(var at=I.length-1;at>=0;at--)(K=I[at])&&(j=(z<3?K(j):z>3?K(u,R,j):K(u,R))||j);return z>3&&j&&Object.defineProperty(u,R,j),j}function A(I,u){return function(R,N){u(R,N,I)}}function C(I,u,R,N,z,j){function K(mt){if(mt!==void 0&&typeof mt!="function")throw new TypeError("Function expected");return mt}for(var at=N.kind,Tt=at==="getter"?"get":at==="setter"?"set":"value",pt=!u&&I?N.static?I:I.prototype:null,Q=u||(pt?Object.getOwnPropertyDescriptor(pt,N.name):{}),vt,et=!1,it=R.length-1;it>=0;it--){var ct={};for(var rt in N)ct[rt]=rt==="access"?{}:N[rt];for(var rt in N.access)ct.access[rt]=N.access[rt];ct.addInitializer=function(mt){if(et)throw new TypeError("Cannot add initializers after decoration has completed");j.push(K(mt||null))};var tt=(0,R[it])(at==="accessor"?{get:Q.get,set:Q.set}:Q[Tt],ct);if(at==="accessor"){if(tt===void 0)continue;if(tt===null||typeof tt!="object")throw new TypeError("Object expected");(vt=K(tt.get))&&(Q.get=vt),(vt=K(tt.set))&&(Q.set=vt),(vt=K(tt.init))&&z.unshift(vt)}else(vt=K(tt))&&(at==="field"?z.unshift(vt):Q[Tt]=vt)}pt&&Object.defineProperty(pt,N.name,Q),et=!0}function E(I,u,R){for(var N=arguments.length>2,z=0;z<u.length;z++)R=N?u[z].call(I,R):u[z].call(I);return N?R:void 0}function p(I){return typeof I=="symbol"?I:"".concat(I)}function w(I,u,R){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(I,"name",{configurable:!0,value:R?"".concat(R," ",u):u})}function y(I,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,u)}function x(I,u,R,N){function z(j){return j instanceof R?j:new R(function(K){K(j)})}return new(R||(R=Promise))(function(j,K){function at(Q){try{pt(N.next(Q))}catch(vt){K(vt)}}function Tt(Q){try{pt(N.throw(Q))}catch(vt){K(vt)}}function pt(Q){Q.done?j(Q.value):z(Q.value).then(at,Tt)}pt((N=N.apply(I,u||[])).next())})}function g(I,u){var R={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},N,z,j,K;return K={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function at(pt){return function(Q){return Tt([pt,Q])}}function Tt(pt){if(N)throw new TypeError("Generator is already executing.");for(;K&&(K=0,pt[0]&&(R=0)),R;)try{if(N=1,z&&(j=pt[0]&2?z.return:pt[0]?z.throw||((j=z.return)&&j.call(z),0):z.next)&&!(j=j.call(z,pt[1])).done)return j;switch(z=0,j&&(pt=[pt[0]&2,j.value]),pt[0]){case 0:case 1:j=pt;break;case 4:return R.label++,{value:pt[1],done:!1};case 5:R.label++,z=pt[1],pt=[0];continue;case 7:pt=R.ops.pop(),R.trys.pop();continue;default:if(j=R.trys,!(j=j.length>0&&j[j.length-1])&&(pt[0]===6||pt[0]===2)){R=0;continue}if(pt[0]===3&&(!j||pt[1]>j[0]&&pt[1]<j[3])){R.label=pt[1];break}if(pt[0]===6&&R.label<j[1]){R.label=j[1],j=pt;break}if(j&&R.label<j[2]){R.label=j[2],R.ops.push(pt);break}j[2]&&R.ops.pop(),R.trys.pop();continue}pt=u.call(I,R)}catch(Q){pt=[6,Q],z=0}finally{N=j=0}if(pt[0]&5)throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}}var S=Object.create?function(I,u,R,N){N===void 0&&(N=R);var z=Object.getOwnPropertyDescriptor(u,R);(!z||("get"in z?!u.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return u[R]}}),Object.defineProperty(I,N,z)}:function(I,u,R,N){N===void 0&&(N=R),I[N]=u[R]};function _(I,u){for(var R in I)R!=="default"&&!Object.prototype.hasOwnProperty.call(u,R)&&S(u,I,R)}function B(I){var u=typeof Symbol=="function"&&Symbol.iterator,R=u&&I[u],N=0;if(R)return R.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&N>=I.length&&(I=void 0),{value:I&&I[N++],done:!I}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(I,u){var R=typeof Symbol=="function"&&I[Symbol.iterator];if(!R)return I;var N=R.call(I),z,j=[],K;try{for(;(u===void 0||u-- >0)&&!(z=N.next()).done;)j.push(z.value)}catch(at){K={error:at}}finally{try{z&&!z.done&&(R=N.return)&&R.call(N)}finally{if(K)throw K.error}}return j}function V(){for(var I=[],u=0;u<arguments.length;u++)I=I.concat(F(arguments[u]));return I}function Z(){for(var I=0,u=0,R=arguments.length;u<R;u++)I+=arguments[u].length;for(var N=Array(I),z=0,u=0;u<R;u++)for(var j=arguments[u],K=0,at=j.length;K<at;K++,z++)N[z]=j[K];return N}function X(I,u,R){if(R||arguments.length===2)for(var N=0,z=u.length,j;N<z;N++)(j||!(N in u))&&(j||(j=Array.prototype.slice.call(u,0,N)),j[N]=u[N]);return I.concat(j||Array.prototype.slice.call(u))}function U(I){return this instanceof U?(this.v=I,this):new U(I)}function nt(I,u,R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=R.apply(I,u||[]),z,j=[];return z={},K("next"),K("throw"),K("return"),z[Symbol.asyncIterator]=function(){return this},z;function K(et){N[et]&&(z[et]=function(it){return new Promise(function(ct,rt){j.push([et,it,ct,rt])>1||at(et,it)})})}function at(et,it){try{Tt(N[et](it))}catch(ct){vt(j[0][3],ct)}}function Tt(et){et.value instanceof U?Promise.resolve(et.value.v).then(pt,Q):vt(j[0][2],et)}function pt(et){at("next",et)}function Q(et){at("throw",et)}function vt(et,it){et(it),j.shift(),j.length&&at(j[0][0],j[0][1])}}function q(I){var u,R;return u={},N("next"),N("throw",function(z){throw z}),N("return"),u[Symbol.iterator]=function(){return this},u;function N(z,j){u[z]=I[z]?function(K){return(R=!R)?{value:U(I[z](K)),done:!1}:j?j(K):K}:j}}function wt(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=I[Symbol.asyncIterator],R;return u?u.call(I):(I=typeof B=="function"?B(I):I[Symbol.iterator](),R={},N("next"),N("throw"),N("return"),R[Symbol.asyncIterator]=function(){return this},R);function N(j){R[j]=I[j]&&function(K){return new Promise(function(at,Tt){K=I[j](K),z(at,Tt,K.done,K.value)})}}function z(j,K,at,Tt){Promise.resolve(Tt).then(function(pt){j({value:pt,done:at})},K)}}function ft(I,u){return Object.defineProperty?Object.defineProperty(I,"raw",{value:u}):I.raw=u,I}var Ot=Object.create?function(I,u){Object.defineProperty(I,"default",{enumerable:!0,value:u})}:function(I,u){I.default=u};function St(I){if(I&&I.__esModule)return I;var u={};if(I!=null)for(var R in I)R!=="default"&&Object.prototype.hasOwnProperty.call(I,R)&&S(u,I,R);return Ot(u,I),u}function At(I){return I&&I.__esModule?I:{default:I}}function Et(I,u,R,N){if(R==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?I!==u||!N:!u.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return R==="m"?N:R==="a"?N.call(I):N?N.value:u.get(I)}function bt(I,u,R,N,z){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!z)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?I!==u||!z:!u.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?z.call(I,R):z?z.value=R:u.set(I,R),R}function Lt(I,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof I=="function"?u===I:I.has(u)}function Bt(I,u,R){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var N;if(R){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");N=u[Symbol.asyncDispose]}if(N===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");N=u[Symbol.dispose]}if(typeof N!="function")throw new TypeError("Object not disposable.");I.stack.push({value:u,dispose:N,async:R})}else R&&I.stack.push({async:!0});return u}var gt=typeof SuppressedError=="function"?SuppressedError:function(I,u,R){var N=new Error(R);return N.name="SuppressedError",N.error=I,N.suppressed=u,N};function J(I){function u(N){I.error=I.hasError?new gt(N,I.error,"An error was suppressed during disposal."):N,I.hasError=!0}function R(){for(;I.stack.length;){var N=I.stack.pop();try{var z=N.dispose&&N.dispose.call(N.value);if(N.async)return Promise.resolve(z).then(R,function(j){return u(j),R()})}catch(j){u(j)}}if(I.hasError)throw I.error}return R()}M.default={__extends:O,__assign:k,__rest:L,__decorate:P,__param:A,__metadata:y,__awaiter:x,__generator:g,__createBinding:S,__exportStar:_,__values:B,__read:F,__spread:V,__spreadArrays:Z,__spreadArray:X,__await:U,__asyncGenerator:nt,__asyncDelegator:q,__asyncValues:wt,__makeTemplateObject:ft,__importStar:St,__importDefault:At,__classPrivateFieldGet:Et,__classPrivateFieldSet:bt,__classPrivateFieldIn:Lt,__addDisposableResource:Bt,__disposeResources:J}},25155:function(xt){"use strict";var M=!1,d=function(){};if(M){var b=function(k,L){var P=arguments.length;L=new Array(P>1?P-1:0);for(var A=1;A<P;A++)L[A-1]=arguments[A];var C=0,E="Warning: "+k.replace(/%s/g,function(){return L[C++]});typeof console!="undefined"&&console.error(E);try{throw new Error(E)}catch(p){}};d=function(O,k,L){var P=arguments.length;L=new Array(P>2?P-2:0);for(var A=2;A<P;A++)L[A-2]=arguments[A];if(k===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");O||b.apply(null,[k].concat(L))}}xt.exports=d},74988:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.setMatrixArrayType=k,M.toRadian=P,M.equals=A;var d=M.EPSILON=1e-6,b=M.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,O=M.RANDOM=Math.random;function k(C){M.ARRAY_TYPE=b=C}var L=Math.PI/180;function P(C){return C*L}function A(C,E){return Math.abs(C-E)<=d*Math.max(1,Math.abs(C),Math.abs(E))}},31502:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.sub=M.mul=void 0,M.create=L,M.fromMat4=P,M.clone=A,M.copy=C,M.fromValues=E,M.set=p,M.identity=w,M.transpose=y,M.invert=x,M.adjoint=g,M.determinant=S,M.multiply=_,M.translate=B,M.rotate=F,M.scale=V,M.fromTranslation=Z,M.fromRotation=X,M.fromScaling=U,M.fromMat2d=nt,M.fromQuat=q,M.normalFromMat4=wt,M.projection=ft,M.str=Ot,M.frob=St,M.add=At,M.subtract=Et,M.multiplyScalar=bt,M.multiplyScalarAndAdd=Lt,M.exactEquals=Bt,M.equals=gt;var b=d(74988),O=k(b);function k(u){if(u&&u.__esModule)return u;var R={};if(u!=null)for(var N in u)Object.prototype.hasOwnProperty.call(u,N)&&(R[N]=u[N]);return R.default=u,R}function L(){var u=new O.ARRAY_TYPE(9);return O.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u}function P(u,R){return u[0]=R[0],u[1]=R[1],u[2]=R[2],u[3]=R[4],u[4]=R[5],u[5]=R[6],u[6]=R[8],u[7]=R[9],u[8]=R[10],u}function A(u){var R=new O.ARRAY_TYPE(9);return R[0]=u[0],R[1]=u[1],R[2]=u[2],R[3]=u[3],R[4]=u[4],R[5]=u[5],R[6]=u[6],R[7]=u[7],R[8]=u[8],R}function C(u,R){return u[0]=R[0],u[1]=R[1],u[2]=R[2],u[3]=R[3],u[4]=R[4],u[5]=R[5],u[6]=R[6],u[7]=R[7],u[8]=R[8],u}function E(u,R,N,z,j,K,at,Tt,pt){var Q=new O.ARRAY_TYPE(9);return Q[0]=u,Q[1]=R,Q[2]=N,Q[3]=z,Q[4]=j,Q[5]=K,Q[6]=at,Q[7]=Tt,Q[8]=pt,Q}function p(u,R,N,z,j,K,at,Tt,pt,Q){return u[0]=R,u[1]=N,u[2]=z,u[3]=j,u[4]=K,u[5]=at,u[6]=Tt,u[7]=pt,u[8]=Q,u}function w(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function y(u,R){if(u===R){var N=R[1],z=R[2],j=R[5];u[1]=R[3],u[2]=R[6],u[3]=N,u[5]=R[7],u[6]=z,u[7]=j}else u[0]=R[0],u[1]=R[3],u[2]=R[6],u[3]=R[1],u[4]=R[4],u[5]=R[7],u[6]=R[2],u[7]=R[5],u[8]=R[8];return u}function x(u,R){var N=R[0],z=R[1],j=R[2],K=R[3],at=R[4],Tt=R[5],pt=R[6],Q=R[7],vt=R[8],et=vt*at-Tt*Q,it=-vt*K+Tt*pt,ct=Q*K-at*pt,rt=N*et+z*it+j*ct;return rt?(rt=1/rt,u[0]=et*rt,u[1]=(-vt*z+j*Q)*rt,u[2]=(Tt*z-j*at)*rt,u[3]=it*rt,u[4]=(vt*N-j*pt)*rt,u[5]=(-Tt*N+j*K)*rt,u[6]=ct*rt,u[7]=(-Q*N+z*pt)*rt,u[8]=(at*N-z*K)*rt,u):null}function g(u,R){var N=R[0],z=R[1],j=R[2],K=R[3],at=R[4],Tt=R[5],pt=R[6],Q=R[7],vt=R[8];return u[0]=at*vt-Tt*Q,u[1]=j*Q-z*vt,u[2]=z*Tt-j*at,u[3]=Tt*pt-K*vt,u[4]=N*vt-j*pt,u[5]=j*K-N*Tt,u[6]=K*Q-at*pt,u[7]=z*pt-N*Q,u[8]=N*at-z*K,u}function S(u){var R=u[0],N=u[1],z=u[2],j=u[3],K=u[4],at=u[5],Tt=u[6],pt=u[7],Q=u[8];return R*(Q*K-at*pt)+N*(-Q*j+at*Tt)+z*(pt*j-K*Tt)}function _(u,R,N){var z=R[0],j=R[1],K=R[2],at=R[3],Tt=R[4],pt=R[5],Q=R[6],vt=R[7],et=R[8],it=N[0],ct=N[1],rt=N[2],tt=N[3],mt=N[4],_t=N[5],Wt=N[6],te=N[7],ce=N[8];return u[0]=it*z+ct*at+rt*Q,u[1]=it*j+ct*Tt+rt*vt,u[2]=it*K+ct*pt+rt*et,u[3]=tt*z+mt*at+_t*Q,u[4]=tt*j+mt*Tt+_t*vt,u[5]=tt*K+mt*pt+_t*et,u[6]=Wt*z+te*at+ce*Q,u[7]=Wt*j+te*Tt+ce*vt,u[8]=Wt*K+te*pt+ce*et,u}function B(u,R,N){var z=R[0],j=R[1],K=R[2],at=R[3],Tt=R[4],pt=R[5],Q=R[6],vt=R[7],et=R[8],it=N[0],ct=N[1];return u[0]=z,u[1]=j,u[2]=K,u[3]=at,u[4]=Tt,u[5]=pt,u[6]=it*z+ct*at+Q,u[7]=it*j+ct*Tt+vt,u[8]=it*K+ct*pt+et,u}function F(u,R,N){var z=R[0],j=R[1],K=R[2],at=R[3],Tt=R[4],pt=R[5],Q=R[6],vt=R[7],et=R[8],it=Math.sin(N),ct=Math.cos(N);return u[0]=ct*z+it*at,u[1]=ct*j+it*Tt,u[2]=ct*K+it*pt,u[3]=ct*at-it*z,u[4]=ct*Tt-it*j,u[5]=ct*pt-it*K,u[6]=Q,u[7]=vt,u[8]=et,u}function V(u,R,N){var z=N[0],j=N[1];return u[0]=z*R[0],u[1]=z*R[1],u[2]=z*R[2],u[3]=j*R[3],u[4]=j*R[4],u[5]=j*R[5],u[6]=R[6],u[7]=R[7],u[8]=R[8],u}function Z(u,R){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=R[0],u[7]=R[1],u[8]=1,u}function X(u,R){var N=Math.sin(R),z=Math.cos(R);return u[0]=z,u[1]=N,u[2]=0,u[3]=-N,u[4]=z,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function U(u,R){return u[0]=R[0],u[1]=0,u[2]=0,u[3]=0,u[4]=R[1],u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function nt(u,R){return u[0]=R[0],u[1]=R[1],u[2]=0,u[3]=R[2],u[4]=R[3],u[5]=0,u[6]=R[4],u[7]=R[5],u[8]=1,u}function q(u,R){var N=R[0],z=R[1],j=R[2],K=R[3],at=N+N,Tt=z+z,pt=j+j,Q=N*at,vt=z*at,et=z*Tt,it=j*at,ct=j*Tt,rt=j*pt,tt=K*at,mt=K*Tt,_t=K*pt;return u[0]=1-et-rt,u[3]=vt-_t,u[6]=it+mt,u[1]=vt+_t,u[4]=1-Q-rt,u[7]=ct-tt,u[2]=it-mt,u[5]=ct+tt,u[8]=1-Q-et,u}function wt(u,R){var N=R[0],z=R[1],j=R[2],K=R[3],at=R[4],Tt=R[5],pt=R[6],Q=R[7],vt=R[8],et=R[9],it=R[10],ct=R[11],rt=R[12],tt=R[13],mt=R[14],_t=R[15],Wt=N*Tt-z*at,te=N*pt-j*at,ce=N*Q-K*at,Pe=z*pt-j*Tt,we=z*Q-K*Tt,Ce=j*Q-K*pt,Ge=vt*tt-et*rt,$e=vt*mt-it*rt,cr=vt*_t-ct*rt,or=et*mt-it*tt,Xr=et*_t-ct*tt,xn=it*_t-ct*mt,Wr=Wt*xn-te*Xr+ce*or+Pe*cr-we*$e+Ce*Ge;return Wr?(Wr=1/Wr,u[0]=(Tt*xn-pt*Xr+Q*or)*Wr,u[1]=(pt*cr-at*xn-Q*$e)*Wr,u[2]=(at*Xr-Tt*cr+Q*Ge)*Wr,u[3]=(j*Xr-z*xn-K*or)*Wr,u[4]=(N*xn-j*cr+K*$e)*Wr,u[5]=(z*cr-N*Xr-K*Ge)*Wr,u[6]=(tt*Ce-mt*we+_t*Pe)*Wr,u[7]=(mt*ce-rt*Ce-_t*te)*Wr,u[8]=(rt*we-tt*ce+_t*Wt)*Wr,u):null}function ft(u,R,N){return u[0]=2/R,u[1]=0,u[2]=0,u[3]=0,u[4]=-2/N,u[5]=0,u[6]=-1,u[7]=1,u[8]=1,u}function Ot(u){return"mat3("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+", "+u[8]+")"}function St(u){return Math.sqrt(Math.pow(u[0],2)+Math.pow(u[1],2)+Math.pow(u[2],2)+Math.pow(u[3],2)+Math.pow(u[4],2)+Math.pow(u[5],2)+Math.pow(u[6],2)+Math.pow(u[7],2)+Math.pow(u[8],2))}function At(u,R,N){return u[0]=R[0]+N[0],u[1]=R[1]+N[1],u[2]=R[2]+N[2],u[3]=R[3]+N[3],u[4]=R[4]+N[4],u[5]=R[5]+N[5],u[6]=R[6]+N[6],u[7]=R[7]+N[7],u[8]=R[8]+N[8],u}function Et(u,R,N){return u[0]=R[0]-N[0],u[1]=R[1]-N[1],u[2]=R[2]-N[2],u[3]=R[3]-N[3],u[4]=R[4]-N[4],u[5]=R[5]-N[5],u[6]=R[6]-N[6],u[7]=R[7]-N[7],u[8]=R[8]-N[8],u}function bt(u,R,N){return u[0]=R[0]*N,u[1]=R[1]*N,u[2]=R[2]*N,u[3]=R[3]*N,u[4]=R[4]*N,u[5]=R[5]*N,u[6]=R[6]*N,u[7]=R[7]*N,u[8]=R[8]*N,u}function Lt(u,R,N,z){return u[0]=R[0]+N[0]*z,u[1]=R[1]+N[1]*z,u[2]=R[2]+N[2]*z,u[3]=R[3]+N[3]*z,u[4]=R[4]+N[4]*z,u[5]=R[5]+N[5]*z,u[6]=R[6]+N[6]*z,u[7]=R[7]+N[7]*z,u[8]=R[8]+N[8]*z,u}function Bt(u,R){return u[0]===R[0]&&u[1]===R[1]&&u[2]===R[2]&&u[3]===R[3]&&u[4]===R[4]&&u[5]===R[5]&&u[6]===R[6]&&u[7]===R[7]&&u[8]===R[8]}function gt(u,R){var N=u[0],z=u[1],j=u[2],K=u[3],at=u[4],Tt=u[5],pt=u[6],Q=u[7],vt=u[8],et=R[0],it=R[1],ct=R[2],rt=R[3],tt=R[4],mt=R[5],_t=R[6],Wt=R[7],te=R[8];return Math.abs(N-et)<=O.EPSILON*Math.max(1,Math.abs(N),Math.abs(et))&&Math.abs(z-it)<=O.EPSILON*Math.max(1,Math.abs(z),Math.abs(it))&&Math.abs(j-ct)<=O.EPSILON*Math.max(1,Math.abs(j),Math.abs(ct))&&Math.abs(K-rt)<=O.EPSILON*Math.max(1,Math.abs(K),Math.abs(rt))&&Math.abs(at-tt)<=O.EPSILON*Math.max(1,Math.abs(at),Math.abs(tt))&&Math.abs(Tt-mt)<=O.EPSILON*Math.max(1,Math.abs(Tt),Math.abs(mt))&&Math.abs(pt-_t)<=O.EPSILON*Math.max(1,Math.abs(pt),Math.abs(_t))&&Math.abs(Q-Wt)<=O.EPSILON*Math.max(1,Math.abs(Q),Math.abs(Wt))&&Math.abs(vt-te)<=O.EPSILON*Math.max(1,Math.abs(vt),Math.abs(te))}var J=M.mul=_,I=M.sub=Et},76172:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.forEach=M.sqrLen=M.sqrDist=M.dist=M.div=M.mul=M.sub=M.len=void 0,M.create=L,M.clone=P,M.fromValues=A,M.copy=C,M.set=E,M.add=p,M.subtract=w,M.multiply=y,M.divide=x,M.ceil=g,M.floor=S,M.min=_,M.max=B,M.round=F,M.scale=V,M.scaleAndAdd=Z,M.distance=X,M.squaredDistance=U,M.length=nt,M.squaredLength=q,M.negate=wt,M.inverse=ft,M.normalize=Ot,M.dot=St,M.cross=At,M.lerp=Et,M.random=bt,M.transformMat2=Lt,M.transformMat2d=Bt,M.transformMat3=gt,M.transformMat4=J,M.rotate=I,M.angle=u,M.str=R,M.exactEquals=N,M.equals=z;var b=d(74988),O=k(b);function k(it){if(it&&it.__esModule)return it;var ct={};if(it!=null)for(var rt in it)Object.prototype.hasOwnProperty.call(it,rt)&&(ct[rt]=it[rt]);return ct.default=it,ct}function L(){var it=new O.ARRAY_TYPE(2);return O.ARRAY_TYPE!=Float32Array&&(it[0]=0,it[1]=0),it}function P(it){var ct=new O.ARRAY_TYPE(2);return ct[0]=it[0],ct[1]=it[1],ct}function A(it,ct){var rt=new O.ARRAY_TYPE(2);return rt[0]=it,rt[1]=ct,rt}function C(it,ct){return it[0]=ct[0],it[1]=ct[1],it}function E(it,ct,rt){return it[0]=ct,it[1]=rt,it}function p(it,ct,rt){return it[0]=ct[0]+rt[0],it[1]=ct[1]+rt[1],it}function w(it,ct,rt){return it[0]=ct[0]-rt[0],it[1]=ct[1]-rt[1],it}function y(it,ct,rt){return it[0]=ct[0]*rt[0],it[1]=ct[1]*rt[1],it}function x(it,ct,rt){return it[0]=ct[0]/rt[0],it[1]=ct[1]/rt[1],it}function g(it,ct){return it[0]=Math.ceil(ct[0]),it[1]=Math.ceil(ct[1]),it}function S(it,ct){return it[0]=Math.floor(ct[0]),it[1]=Math.floor(ct[1]),it}function _(it,ct,rt){return it[0]=Math.min(ct[0],rt[0]),it[1]=Math.min(ct[1],rt[1]),it}function B(it,ct,rt){return it[0]=Math.max(ct[0],rt[0]),it[1]=Math.max(ct[1],rt[1]),it}function F(it,ct){return it[0]=Math.round(ct[0]),it[1]=Math.round(ct[1]),it}function V(it,ct,rt){return it[0]=ct[0]*rt,it[1]=ct[1]*rt,it}function Z(it,ct,rt,tt){return it[0]=ct[0]+rt[0]*tt,it[1]=ct[1]+rt[1]*tt,it}function X(it,ct){var rt=ct[0]-it[0],tt=ct[1]-it[1];return Math.sqrt(rt*rt+tt*tt)}function U(it,ct){var rt=ct[0]-it[0],tt=ct[1]-it[1];return rt*rt+tt*tt}function nt(it){var ct=it[0],rt=it[1];return Math.sqrt(ct*ct+rt*rt)}function q(it){var ct=it[0],rt=it[1];return ct*ct+rt*rt}function wt(it,ct){return it[0]=-ct[0],it[1]=-ct[1],it}function ft(it,ct){return it[0]=1/ct[0],it[1]=1/ct[1],it}function Ot(it,ct){var rt=ct[0],tt=ct[1],mt=rt*rt+tt*tt;return mt>0&&(mt=1/Math.sqrt(mt),it[0]=ct[0]*mt,it[1]=ct[1]*mt),it}function St(it,ct){return it[0]*ct[0]+it[1]*ct[1]}function At(it,ct,rt){var tt=ct[0]*rt[1]-ct[1]*rt[0];return it[0]=it[1]=0,it[2]=tt,it}function Et(it,ct,rt,tt){var mt=ct[0],_t=ct[1];return it[0]=mt+tt*(rt[0]-mt),it[1]=_t+tt*(rt[1]-_t),it}function bt(it,ct){ct=ct||1;var rt=O.RANDOM()*2*Math.PI;return it[0]=Math.cos(rt)*ct,it[1]=Math.sin(rt)*ct,it}function Lt(it,ct,rt){var tt=ct[0],mt=ct[1];return it[0]=rt[0]*tt+rt[2]*mt,it[1]=rt[1]*tt+rt[3]*mt,it}function Bt(it,ct,rt){var tt=ct[0],mt=ct[1];return it[0]=rt[0]*tt+rt[2]*mt+rt[4],it[1]=rt[1]*tt+rt[3]*mt+rt[5],it}function gt(it,ct,rt){var tt=ct[0],mt=ct[1];return it[0]=rt[0]*tt+rt[3]*mt+rt[6],it[1]=rt[1]*tt+rt[4]*mt+rt[7],it}function J(it,ct,rt){var tt=ct[0],mt=ct[1];return it[0]=rt[0]*tt+rt[4]*mt+rt[12],it[1]=rt[1]*tt+rt[5]*mt+rt[13],it}function I(it,ct,rt,tt){var mt=ct[0]-rt[0],_t=ct[1]-rt[1],Wt=Math.sin(tt),te=Math.cos(tt);return it[0]=mt*te-_t*Wt+rt[0],it[1]=mt*Wt+_t*te+rt[1],it}function u(it,ct){var rt=it[0],tt=it[1],mt=ct[0],_t=ct[1],Wt=rt*rt+tt*tt;Wt>0&&(Wt=1/Math.sqrt(Wt));var te=mt*mt+_t*_t;te>0&&(te=1/Math.sqrt(te));var ce=(rt*mt+tt*_t)*Wt*te;return ce>1?0:ce<-1?Math.PI:Math.acos(ce)}function R(it){return"vec2("+it[0]+", "+it[1]+")"}function N(it,ct){return it[0]===ct[0]&&it[1]===ct[1]}function z(it,ct){var rt=it[0],tt=it[1],mt=ct[0],_t=ct[1];return Math.abs(rt-mt)<=O.EPSILON*Math.max(1,Math.abs(rt),Math.abs(mt))&&Math.abs(tt-_t)<=O.EPSILON*Math.max(1,Math.abs(tt),Math.abs(_t))}var j=M.len=nt,K=M.sub=w,at=M.mul=y,Tt=M.div=x,pt=M.dist=X,Q=M.sqrDist=U,vt=M.sqrLen=q,et=M.forEach=function(){var it=L();return function(ct,rt,tt,mt,_t,Wt){var te=void 0,ce=void 0;for(rt||(rt=2),tt||(tt=0),mt?ce=Math.min(mt*rt+tt,ct.length):ce=ct.length,te=tt;te<ce;te+=rt)it[0]=ct[te],it[1]=ct[te+1],_t(it,it,Wt),ct[te]=it[0],ct[te+1]=it[1];return ct}}()},88395:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.forEach=M.sqrLen=M.len=M.sqrDist=M.dist=M.div=M.mul=M.sub=void 0,M.create=L,M.clone=P,M.length=A,M.fromValues=C,M.copy=E,M.set=p,M.add=w,M.subtract=y,M.multiply=x,M.divide=g,M.ceil=S,M.floor=_,M.min=B,M.max=F,M.round=V,M.scale=Z,M.scaleAndAdd=X,M.distance=U,M.squaredDistance=nt,M.squaredLength=q,M.negate=wt,M.inverse=ft,M.normalize=Ot,M.dot=St,M.cross=At,M.lerp=Et,M.hermite=bt,M.bezier=Lt,M.random=Bt,M.transformMat4=gt,M.transformMat3=J,M.transformQuat=I,M.rotateX=u,M.rotateY=R,M.rotateZ=N,M.angle=z,M.str=j,M.exactEquals=K,M.equals=at;var b=d(74988),O=k(b);function k(tt){if(tt&&tt.__esModule)return tt;var mt={};if(tt!=null)for(var _t in tt)Object.prototype.hasOwnProperty.call(tt,_t)&&(mt[_t]=tt[_t]);return mt.default=tt,mt}function L(){var tt=new O.ARRAY_TYPE(3);return O.ARRAY_TYPE!=Float32Array&&(tt[0]=0,tt[1]=0,tt[2]=0),tt}function P(tt){var mt=new O.ARRAY_TYPE(3);return mt[0]=tt[0],mt[1]=tt[1],mt[2]=tt[2],mt}function A(tt){var mt=tt[0],_t=tt[1],Wt=tt[2];return Math.sqrt(mt*mt+_t*_t+Wt*Wt)}function C(tt,mt,_t){var Wt=new O.ARRAY_TYPE(3);return Wt[0]=tt,Wt[1]=mt,Wt[2]=_t,Wt}function E(tt,mt){return tt[0]=mt[0],tt[1]=mt[1],tt[2]=mt[2],tt}function p(tt,mt,_t,Wt){return tt[0]=mt,tt[1]=_t,tt[2]=Wt,tt}function w(tt,mt,_t){return tt[0]=mt[0]+_t[0],tt[1]=mt[1]+_t[1],tt[2]=mt[2]+_t[2],tt}function y(tt,mt,_t){return tt[0]=mt[0]-_t[0],tt[1]=mt[1]-_t[1],tt[2]=mt[2]-_t[2],tt}function x(tt,mt,_t){return tt[0]=mt[0]*_t[0],tt[1]=mt[1]*_t[1],tt[2]=mt[2]*_t[2],tt}function g(tt,mt,_t){return tt[0]=mt[0]/_t[0],tt[1]=mt[1]/_t[1],tt[2]=mt[2]/_t[2],tt}function S(tt,mt){return tt[0]=Math.ceil(mt[0]),tt[1]=Math.ceil(mt[1]),tt[2]=Math.ceil(mt[2]),tt}function _(tt,mt){return tt[0]=Math.floor(mt[0]),tt[1]=Math.floor(mt[1]),tt[2]=Math.floor(mt[2]),tt}function B(tt,mt,_t){return tt[0]=Math.min(mt[0],_t[0]),tt[1]=Math.min(mt[1],_t[1]),tt[2]=Math.min(mt[2],_t[2]),tt}function F(tt,mt,_t){return tt[0]=Math.max(mt[0],_t[0]),tt[1]=Math.max(mt[1],_t[1]),tt[2]=Math.max(mt[2],_t[2]),tt}function V(tt,mt){return tt[0]=Math.round(mt[0]),tt[1]=Math.round(mt[1]),tt[2]=Math.round(mt[2]),tt}function Z(tt,mt,_t){return tt[0]=mt[0]*_t,tt[1]=mt[1]*_t,tt[2]=mt[2]*_t,tt}function X(tt,mt,_t,Wt){return tt[0]=mt[0]+_t[0]*Wt,tt[1]=mt[1]+_t[1]*Wt,tt[2]=mt[2]+_t[2]*Wt,tt}function U(tt,mt){var _t=mt[0]-tt[0],Wt=mt[1]-tt[1],te=mt[2]-tt[2];return Math.sqrt(_t*_t+Wt*Wt+te*te)}function nt(tt,mt){var _t=mt[0]-tt[0],Wt=mt[1]-tt[1],te=mt[2]-tt[2];return _t*_t+Wt*Wt+te*te}function q(tt){var mt=tt[0],_t=tt[1],Wt=tt[2];return mt*mt+_t*_t+Wt*Wt}function wt(tt,mt){return tt[0]=-mt[0],tt[1]=-mt[1],tt[2]=-mt[2],tt}function ft(tt,mt){return tt[0]=1/mt[0],tt[1]=1/mt[1],tt[2]=1/mt[2],tt}function Ot(tt,mt){var _t=mt[0],Wt=mt[1],te=mt[2],ce=_t*_t+Wt*Wt+te*te;return ce>0&&(ce=1/Math.sqrt(ce),tt[0]=mt[0]*ce,tt[1]=mt[1]*ce,tt[2]=mt[2]*ce),tt}function St(tt,mt){return tt[0]*mt[0]+tt[1]*mt[1]+tt[2]*mt[2]}function At(tt,mt,_t){var Wt=mt[0],te=mt[1],ce=mt[2],Pe=_t[0],we=_t[1],Ce=_t[2];return tt[0]=te*Ce-ce*we,tt[1]=ce*Pe-Wt*Ce,tt[2]=Wt*we-te*Pe,tt}function Et(tt,mt,_t,Wt){var te=mt[0],ce=mt[1],Pe=mt[2];return tt[0]=te+Wt*(_t[0]-te),tt[1]=ce+Wt*(_t[1]-ce),tt[2]=Pe+Wt*(_t[2]-Pe),tt}function bt(tt,mt,_t,Wt,te,ce){var Pe=ce*ce,we=Pe*(2*ce-3)+1,Ce=Pe*(ce-2)+ce,Ge=Pe*(ce-1),$e=Pe*(3-2*ce);return tt[0]=mt[0]*we+_t[0]*Ce+Wt[0]*Ge+te[0]*$e,tt[1]=mt[1]*we+_t[1]*Ce+Wt[1]*Ge+te[1]*$e,tt[2]=mt[2]*we+_t[2]*Ce+Wt[2]*Ge+te[2]*$e,tt}function Lt(tt,mt,_t,Wt,te,ce){var Pe=1-ce,we=Pe*Pe,Ce=ce*ce,Ge=we*Pe,$e=3*ce*we,cr=3*Ce*Pe,or=Ce*ce;return tt[0]=mt[0]*Ge+_t[0]*$e+Wt[0]*cr+te[0]*or,tt[1]=mt[1]*Ge+_t[1]*$e+Wt[1]*cr+te[1]*or,tt[2]=mt[2]*Ge+_t[2]*$e+Wt[2]*cr+te[2]*or,tt}function Bt(tt,mt){mt=mt||1;var _t=O.RANDOM()*2*Math.PI,Wt=O.RANDOM()*2-1,te=Math.sqrt(1-Wt*Wt)*mt;return tt[0]=Math.cos(_t)*te,tt[1]=Math.sin(_t)*te,tt[2]=Wt*mt,tt}function gt(tt,mt,_t){var Wt=mt[0],te=mt[1],ce=mt[2],Pe=_t[3]*Wt+_t[7]*te+_t[11]*ce+_t[15];return Pe=Pe||1,tt[0]=(_t[0]*Wt+_t[4]*te+_t[8]*ce+_t[12])/Pe,tt[1]=(_t[1]*Wt+_t[5]*te+_t[9]*ce+_t[13])/Pe,tt[2]=(_t[2]*Wt+_t[6]*te+_t[10]*ce+_t[14])/Pe,tt}function J(tt,mt,_t){var Wt=mt[0],te=mt[1],ce=mt[2];return tt[0]=Wt*_t[0]+te*_t[3]+ce*_t[6],tt[1]=Wt*_t[1]+te*_t[4]+ce*_t[7],tt[2]=Wt*_t[2]+te*_t[5]+ce*_t[8],tt}function I(tt,mt,_t){var Wt=_t[0],te=_t[1],ce=_t[2],Pe=_t[3],we=mt[0],Ce=mt[1],Ge=mt[2],$e=te*Ge-ce*Ce,cr=ce*we-Wt*Ge,or=Wt*Ce-te*we,Xr=te*or-ce*cr,xn=ce*$e-Wt*or,Wr=Wt*cr-te*$e,sn=Pe*2;return $e*=sn,cr*=sn,or*=sn,Xr*=2,xn*=2,Wr*=2,tt[0]=we+$e+Xr,tt[1]=Ce+cr+xn,tt[2]=Ge+or+Wr,tt}function u(tt,mt,_t,Wt){var te=[],ce=[];return te[0]=mt[0]-_t[0],te[1]=mt[1]-_t[1],te[2]=mt[2]-_t[2],ce[0]=te[0],ce[1]=te[1]*Math.cos(Wt)-te[2]*Math.sin(Wt),ce[2]=te[1]*Math.sin(Wt)+te[2]*Math.cos(Wt),tt[0]=ce[0]+_t[0],tt[1]=ce[1]+_t[1],tt[2]=ce[2]+_t[2],tt}function R(tt,mt,_t,Wt){var te=[],ce=[];return te[0]=mt[0]-_t[0],te[1]=mt[1]-_t[1],te[2]=mt[2]-_t[2],ce[0]=te[2]*Math.sin(Wt)+te[0]*Math.cos(Wt),ce[1]=te[1],ce[2]=te[2]*Math.cos(Wt)-te[0]*Math.sin(Wt),tt[0]=ce[0]+_t[0],tt[1]=ce[1]+_t[1],tt[2]=ce[2]+_t[2],tt}function N(tt,mt,_t,Wt){var te=[],ce=[];return te[0]=mt[0]-_t[0],te[1]=mt[1]-_t[1],te[2]=mt[2]-_t[2],ce[0]=te[0]*Math.cos(Wt)-te[1]*Math.sin(Wt),ce[1]=te[0]*Math.sin(Wt)+te[1]*Math.cos(Wt),ce[2]=te[2],tt[0]=ce[0]+_t[0],tt[1]=ce[1]+_t[1],tt[2]=ce[2]+_t[2],tt}function z(tt,mt){var _t=C(tt[0],tt[1],tt[2]),Wt=C(mt[0],mt[1],mt[2]);Ot(_t,_t),Ot(Wt,Wt);var te=St(_t,Wt);return te>1?0:te<-1?Math.PI:Math.acos(te)}function j(tt){return"vec3("+tt[0]+", "+tt[1]+", "+tt[2]+")"}function K(tt,mt){return tt[0]===mt[0]&&tt[1]===mt[1]&&tt[2]===mt[2]}function at(tt,mt){var _t=tt[0],Wt=tt[1],te=tt[2],ce=mt[0],Pe=mt[1],we=mt[2];return Math.abs(_t-ce)<=O.EPSILON*Math.max(1,Math.abs(_t),Math.abs(ce))&&Math.abs(Wt-Pe)<=O.EPSILON*Math.max(1,Math.abs(Wt),Math.abs(Pe))&&Math.abs(te-we)<=O.EPSILON*Math.max(1,Math.abs(te),Math.abs(we))}var Tt=M.sub=y,pt=M.mul=x,Q=M.div=g,vt=M.dist=U,et=M.sqrDist=nt,it=M.len=A,ct=M.sqrLen=q,rt=M.forEach=function(){var tt=L();return function(mt,_t,Wt,te,ce,Pe){var we=void 0,Ce=void 0;for(_t||(_t=3),Wt||(Wt=0),te?Ce=Math.min(te*_t+Wt,mt.length):Ce=mt.length,we=Wt;we<Ce;we+=_t)tt[0]=mt[we],tt[1]=mt[we+1],tt[2]=mt[we+2],ce(tt,tt,Pe),mt[we]=tt[0],mt[we+1]=tt[1],mt[we+2]=tt[2];return mt}}()},92640:function(xt,M,d){function b(w,y){w.prototype=Object.create(y.prototype),w.prototype.constructor=w,O(w,y)}function O(w,y){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},O(w,y)}var k=d(4905),L=d(90390),P=d(30130),A=d(22965),C=function(w){b(y,w);function y(){return w.apply(this,arguments)||this}var x=y.prototype;return x.execute=function(){var S=this;return P(S.rootNode,S.options,L)},y}(k),E={};function p(w,y){return y=A.assign({},E,y),new C(w,y).execute()}xt.exports=p},34542:function(xt,M,d){function b(w,y){w.prototype=Object.create(y.prototype),w.prototype.constructor=w,O(w,y)}function O(w,y){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},O(w,y)}var k=d(4905),L=d(37133),P=d(30130),A=d(22965),C=function(w){b(y,w);function y(){return w.apply(this,arguments)||this}var x=y.prototype;return x.execute=function(){var S=this;return S.rootNode.width=0,P(S.rootNode,S.options,L)},y}(k),E={};function p(w,y){return y=A.assign({},E,y),new C(w,y).execute()}xt.exports=p},57088:function(xt,M,d){function b(x,g){x.prototype=Object.create(g.prototype),x.prototype.constructor=x,O(x,g)}function O(x,g){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,B){return _.__proto__=B,_},O(x,g)}var k=d(4905),L=d(10568),P=d(59286),A=d(22965),C=["LR","RL","H"],E=C[0],p=function(x){b(g,x);function g(){return x.apply(this,arguments)||this}var S=g.prototype;return S.execute=function(){var B=this,F=B.options,V=B.rootNode;F.isHorizontal=!0;var Z=F.indent,X=Z===void 0?20:Z,U=F.dropCap,nt=U===void 0?!0:U,q=F.direction,wt=q===void 0?E:q,ft=F.align;if(wt&&C.indexOf(wt)===-1)throw new TypeError("Invalid direction: "+wt);if(wt===C[0])L(V,X,nt,ft);else if(wt===C[1])L(V,X,nt,ft),V.right2left();else if(wt===C[2]){var Ot=P(V,F),St=Ot.left,At=Ot.right;L(St,X,nt,ft),St.right2left(),L(At,X,nt,ft);var Et=St.getBoundingBox();At.translate(Et.width,0),V.x=At.x-V.width/2}return V},g}(k),w={};function y(x,g){return g=A.assign({},w,g),new p(x,g).execute()}xt.exports=y},77201:function(xt,M,d){var b={compactBox:d(92640),dendrogram:d(34542),indented:d(57088),mindmap:d(1355)};xt.exports=b},4905:function(xt,M,d){var b=d(27249),O=function(){function k(P,A){A===void 0&&(A={});var C=this;C.options=A,C.rootNode=b(P,A)}var L=k.prototype;return L.execute=function(){throw new Error("please override this method")},k}();xt.exports=O},37133:function(xt,M,d){var b=d(22965);function O(P,A){P===void 0&&(P=0),A===void 0&&(A=[]);var C=this;C.x=C.y=0,C.leftChild=C.rightChild=null,C.height=0,C.children=A}var k={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function L(P,A,C){C?(A.x=P.x,A.y=P.y):(A.x=P.y,A.y=P.x),P.children.forEach(function(E,p){L(E,A.children[p],C)})}xt.exports=function(P,A){A===void 0&&(A={}),A=b.assign({},k,A);var C=0;function E(g){if(!g)return null;g.width=0,g.depth&&g.depth>C&&(C=g.depth);var S=g.children,_=S.length,B=new O(g.height,[]);return S.forEach(function(F,V){var Z=E(F);B.children.push(Z),V===0&&(B.leftChild=Z),V===_-1&&(B.rightChild=Z)}),B.originNode=g,B.isLeaf=g.isLeaf(),B}function p(g){if(g.isLeaf||g.children.length===0)g.drawingDepth=C;else{var S=g.children.map(function(B){return p(B)}),_=Math.min.apply(null,S);g.drawingDepth=_-1}return g.drawingDepth}var w;function y(g){g.x=g.drawingDepth*A.rankSep,g.isLeaf?(g.y=0,w&&(g.y=w.y+w.height+A.nodeSep,g.originNode.parent!==w.originNode.parent&&(g.y+=A.subTreeSep)),w=g):(g.children.forEach(function(S){y(S)}),g.y=(g.leftChild.y+g.rightChild.y)/2)}var x=E(P);return p(x),y(x),L(x,P,A.isHorizontal),P}},30130:function(xt,M,d){var b=d(59286),O=["LR","RL","TB","BT","H","V"],k=["LR","RL","H"],L=function(C){return k.indexOf(C)>-1},P=O[0];xt.exports=function(A,C,E){var p=C.direction||P;if(C.isHorizontal=L(p),p&&O.indexOf(p)===-1)throw new TypeError("Invalid direction: "+p);if(p===O[0])E(A,C);else if(p===O[1])E(A,C),A.right2left();else if(p===O[2])E(A,C);else if(p===O[3])E(A,C),A.bottom2top();else if(p===O[4]||p===O[5]){var w=b(A,C),y=w.left,x=w.right;E(y,C),E(x,C),C.isHorizontal?y.right2left():y.bottom2top(),x.translate(y.x-x.x,y.y-x.y),A.x=y.x,A.y=x.y;var g=A.getBoundingBox();C.isHorizontal?g.top<0&&A.translate(0,-g.top):g.left<0&&A.translate(-g.left,0)}var S=C.fixedRoot;return S===void 0&&(S=!0),S&&A.translate(-(A.x+A.width/2+A.hgap),-(A.y+A.height/2+A.vgap)),A}},27249:function(xt,M,d){var b=d(22965),O=18,k=O*2,L=O,P={getId:function(p){return p.id||p.name},getPreH:function(p){return p.preH||0},getPreV:function(p){return p.preV||0},getHGap:function(p){return p.hgap||L},getVGap:function(p){return p.vgap||L},getChildren:function(p){return p.children},getHeight:function(p){return p.height||k},getWidth:function(p){var w=p.label||" ";return p.width||w.split("").length*O}};function A(E,p){var w=this;if(w.vgap=w.hgap=0,E instanceof A)return E;w.data=E;var y=p.getHGap(E),x=p.getVGap(E);return w.preH=p.getPreH(E),w.preV=p.getPreV(E),w.width=p.getWidth(E),w.height=p.getHeight(E),w.width+=w.preH,w.height+=w.preV,w.id=p.getId(E),w.x=w.y=0,w.depth=0,w.children||(w.children=[]),w.addGap(y,x),w}b.assign(A.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,w){var y=this;y.hgap+=p,y.vgap+=w,y.width+=2*p,y.height+=2*w},eachNode:function(p){for(var w=this,y=[w],x;x=y.shift();)p(x),y=x.children.concat(y)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var w=this,y=[w],x;x=y.shift();)p(x),y=y.concat(x.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(w){p.left=Math.min(p.left,w.x),p.top=Math.min(p.top,w.y),p.width=Math.max(p.width,w.x+w.width),p.height=Math.max(p.height,w.y+w.height)}),p},translate:function(p,w){p===void 0&&(p=0),w===void 0&&(w=0),this.eachNode(function(y){y.x+=p,y.y+=w,y.x+=y.preH,y.y+=y.preV})},right2left:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(y){y.x=y.x-(y.x-w.left)*2-y.width}),p.translate(w.width,0)},bottom2top:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(y){y.y=y.y-(y.y-w.top)*2-y.height}),p.translate(0,w.height)}});function C(E,p,w){p===void 0&&(p={}),p=b.assign({},P,p);var y=new A(E,p),x=[y],g;if(!w&&!E.collapsed){for(;g=x.shift();)if(!g.data.collapsed){var S=p.getChildren(g.data),_=S?S.length:0;if(g.children=new Array(_),S&&_)for(var B=0;B<_;B++){var F=new A(S[B],p);g.children[B]=F,x.push(F),F.parent=g,F.depth=g.depth+1}}}return y}xt.exports=C},10568:function(xt,M,d){var b=d(22965);function O(k,L,P,A,C){var E=typeof P=="function"?P(k):P*k.depth;if(!A)try{if(k.id===k.parent.children[0].id){k.x+=E,k.y=L?L.y:0;return}}catch(y){}if(k.x+=E,L){if(k.y=L.y+b.getHeight(L,k,C),L.parent&&k.parent.id!==L.parent.id){var p=L.parent,w=p.y+b.getHeight(p,k,C);k.y=w>k.y?w:k.y}}else k.y=0}xt.exports=function(k,L,P,A){var C=null;k.eachNode(function(E){O(E,C,L,P,A),C=E})}},24461:function(xt,M,d){var b=d(22965);function O(P,A){var C=0;return P.children.length?P.children.forEach(function(E){C+=O(E,A)}):C=P.height,P._subTreeSep=A.getSubTreeSep(P.data),P.totalHeight=Math.max(P.height,C)+2*P._subTreeSep,P.totalHeight}function k(P){var A=P.children,C=A.length;if(C){A.forEach(function(g){k(g)});var E=A[0],p=A[C-1],w=p.y-E.y+p.height,y=0;if(A.forEach(function(g){y+=g.totalHeight}),w>P.height)P.y=E.y+w/2-P.height/2;else if(A.length!==1||P.height>y){var x=P.y+(P.height-w)/2-E.y;A.forEach(function(g){g.translate(0,x)})}else P.y=(E.y+E.height/2+p.y+p.height/2)/2-P.height/2}}var L={getSubTreeSep:function(){return 0}};xt.exports=function(P,A){A===void 0&&(A={}),A=b.assign({},L,A),P.parent={x:0,width:0,height:0,y:0},P.BFTraverse(function(C){C.x=C.parent.x+C.parent.width}),P.parent=null,O(P,A),P.startY=0,P.y=P.totalHeight/2-P.height/2,P.eachNode(function(C){var E=C.children,p=E.length;if(p){var w=E[0];if(w.startY=C.startY+C._subTreeSep,p===1)w.y=C.y+C.height/2-w.height/2;else{w.y=w.startY+w.totalHeight/2-w.height/2;for(var y=1;y<p;y++){var x=E[y];x.startY=E[y-1].startY+E[y-1].totalHeight,x.y=x.startY+x.totalHeight/2-x.height/2}}}}),k(P)}},90390:function(xt){function M(P,A,C,E){E===void 0&&(E=[]);var p=this;p.w=P||0,p.h=A||0,p.y=C||0,p.x=0,p.c=E||[],p.cs=E.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}M.fromNode=function(P,A){if(!P)return null;var C=[];return P.children.forEach(function(E){C.push(M.fromNode(E,A))}),A?new M(P.height,P.width,P.x,C):new M(P.width,P.height,P.y,C)};function d(P,A,C){C?P.y+=A:P.x+=A,P.children.forEach(function(E){d(E,A,C)})}function b(P,A){var C=A?P.y:P.x;return P.children.forEach(function(E){C=Math.min(b(E,A),C)}),C}function O(P,A){var C=b(P,A);d(P,-C,A)}function k(P,A,C){C?A.y=P.x:A.x=P.x,P.c.forEach(function(E,p){k(E,A.children[p],C)})}function L(P,A,C){C===void 0&&(C=0),A?(P.x=C,C+=P.width):(P.y=C,C+=P.height),P.children.forEach(function(E){L(E,A,C)})}xt.exports=function(P,A){A===void 0&&(A={});var C=A.isHorizontal;function E(q){if(q.cs===0){p(q);return}E(q.c[0]);for(var wt=U(S(q.c[0].el),0,null),ft=1;ft<q.cs;++ft){E(q.c[ft]);var Ot=S(q.c[ft].er);w(q,ft,wt),wt=U(Ot,ft,wt)}F(q),p(q)}function p(q){q.cs===0?(q.el=q,q.er=q,q.msel=q.mser=0):(q.el=q.c[0].el,q.msel=q.c[0].msel,q.er=q.c[q.cs-1].er,q.mser=q.c[q.cs-1].mser)}function w(q,wt,ft){for(var Ot=q.c[wt-1],St=Ot.mod,At=q.c[wt],Et=At.mod;Ot!==null&&At!==null;){S(Ot)>ft.low&&(ft=ft.nxt);var bt=St+Ot.prelim+Ot.w-(Et+At.prelim);bt>0&&(Et+=bt,y(q,wt,ft.index,bt));var Lt=S(Ot),Bt=S(At);Lt<=Bt&&(Ot=g(Ot),Ot!==null&&(St+=Ot.mod)),Lt>=Bt&&(At=x(At),At!==null&&(Et+=At.mod))}!Ot&&!!At?_(q,wt,At,Et):!!Ot&&!At&&B(q,wt,Ot,St)}function y(q,wt,ft,Ot){q.c[wt].mod+=Ot,q.c[wt].msel+=Ot,q.c[wt].mser+=Ot,Z(q,wt,ft,Ot)}function x(q){return q.cs===0?q.tl:q.c[0]}function g(q){return q.cs===0?q.tr:q.c[q.cs-1]}function S(q){return q.y+q.h}function _(q,wt,ft,Ot){var St=q.c[0].el;St.tl=ft;var At=Ot-ft.mod-q.c[0].msel;St.mod+=At,St.prelim-=At,q.c[0].el=q.c[wt].el,q.c[0].msel=q.c[wt].msel}function B(q,wt,ft,Ot){var St=q.c[wt].er;St.tr=ft;var At=Ot-ft.mod-q.c[wt].mser;St.mod+=At,St.prelim-=At,q.c[wt].er=q.c[wt-1].er,q.c[wt].mser=q.c[wt-1].mser}function F(q){q.prelim=(q.c[0].prelim+q.c[0].mod+q.c[q.cs-1].mod+q.c[q.cs-1].prelim+q.c[q.cs-1].w)/2-q.w/2}function V(q,wt){wt+=q.mod,q.x=q.prelim+wt,X(q);for(var ft=0;ft<q.cs;ft++)V(q.c[ft],wt)}function Z(q,wt,ft,Ot){if(ft!==wt-1){var St=wt-ft;q.c[ft+1].shift+=Ot/St,q.c[wt].shift-=Ot/St,q.c[wt].change-=Ot-Ot/St}}function X(q){for(var wt=0,ft=0,Ot=0;Ot<q.cs;Ot++)wt+=q.c[Ot].shift,ft+=wt+q.c[Ot].change,q.c[Ot].mod+=ft}function U(q,wt,ft){for(;ft!==null&&q>=ft.low;)ft=ft.nxt;return{low:q,index:wt,nxt:ft}}L(P,C);var nt=M.fromNode(P,C);return E(nt),V(nt,0),k(nt,P,C),O(P,C),P}},59286:function(xt,M,d){var b=d(27249);xt.exports=function(O,k){for(var L=b(O.data,k,!0),P=b(O.data,k,!0),A=O.children.length,C=Math.round(A/2),E=k.getSide||function(x,g){return g<C?"right":"left"},p=0;p<A;p++){var w=O.children[p],y=E(w,p);y==="right"?P.children.push(w):L.children.push(w)}return L.eachNode(function(x){x.isRoot()||(x.side="left")}),P.eachNode(function(x){x.isRoot()||(x.side="right")}),{left:L,right:P}}},1355:function(xt,M,d){function b(w,y){w.prototype=Object.create(y.prototype),w.prototype.constructor=w,O(w,y)}function O(w,y){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},O(w,y)}var k=d(4905),L=d(24461),P=d(30130),A=d(22965),C=function(w){b(y,w);function y(){return w.apply(this,arguments)||this}var x=y.prototype;return x.execute=function(){var S=this;return P(S.rootNode,S.options,L)},y}(k),E={};function p(w,y){return y=A.assign({},E,y),new C(w,y).execute()}xt.exports=p},22965:function(xt,M,d){var b=d(49242),O=b.mix;function k(L,P,A,C){return C===void 0&&(C="height"),A==="center"?(L[C]+P[C])/2:L.height}xt.exports={assign:O,getHeight:k}},31506:function(xt,M,d){"use strict";d.r(M),d.d(M,{leftTranslate:function(){return k},leftRotate:function(){return L},leftScale:function(){return P},transform:function(){return C},direction:function(){return E},angleTo:function(){return p},vertical:function(){return w}});var b=d(35600),O=d(31437);function k(y,x,g){var S=[0,0,0,0,0,0,0,0,0];return b.fromTranslation(S,g),b.multiply(y,S,x)}function L(y,x,g){var S=[0,0,0,0,0,0,0,0,0];return b.fromRotation(S,g),b.multiply(y,S,x)}function P(y,x,g){var S=[0,0,0,0,0,0,0,0,0];return b.fromScaling(S,g),b.multiply(y,S,x)}function A(y,x,g){return b.multiply(y,g,x)}function C(y,x){for(var g=y?[].concat(y):[1,0,0,0,1,0,0,0,1],S=0,_=x.length;S<_;S++){var B=x[S];switch(B[0]){case"t":k(g,g,[B[1],B[2]]);break;case"s":P(g,g,[B[1],B[2]]);break;case"r":L(g,g,B[1]);break;case"m":A(g,g,B[1]);break;default:break}}return g}function E(y,x){return y[0]*x[1]-x[0]*y[1]}function p(y,x,g){var S=O.angle(y,x),_=E(y,x)>=0;return g?_?Math.PI*2-S:S:_?S:Math.PI*2-S}function w(y,x,g){return g?(y[0]=x[1],y[1]=-1*x[0]):(y[0]=-1*x[1],y[1]=x[0]),y}},43567:function(xt,M,d){"use strict";d.r(M),d.d(M,{mat3:function(){return b},vec2:function(){return O},vec3:function(){return k},ext:function(){return L}});var b=d(35600),O=d(31437),k=d(77160),L=d(31506)},57350:function(xt,M,d){"use strict";d.r(M),d.d(M,{catmullRom2Bezier:function(){return p},fillPath:function(){return g},fillPathByDiff:function(){return B},formatPath:function(){return Z},getArcParams:function(){return we},getLineIntersect:function(){return cr},isPointInPolygon:function(){return Wr},isPolygonsIntersect:function(){return Mi},parsePath:function(){return P},parsePathArray:function(){return _t},parsePathString:function(){return wt},path2Absolute:function(){return St},path2Curve:function(){return N},path2Segments:function(){return Ge},pathIntersection:function(){return tt},reactPath:function(){return X}});var b=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,k=/[^\s\,]+/ig;function L(Ht){var Kt=Ht||[];if((0,b.isArray)(Kt))return Kt;if((0,b.isString)(Kt))return Kt=Kt.match(O),(0,b.each)(Kt,function(ie,se){if(ie=ie.match(k),ie[0].length>1){var xe=ie[0].charAt(0);ie.splice(1,0,ie[0].substr(1)),ie[0]=xe}(0,b.each)(ie,function(Me,Se){isNaN(Me)||(ie[Se]=+Me)}),Kt[se]=ie}),Kt}var P=L,A=d(31437);function C(Ht,Kt,ie,se){var xe=[],Me=!!se,Se,_e,de,Ue,Re,tr,hr;if(Me){de=se[0],Ue=se[1];for(var ar=0,vr=Ht.length;ar<vr;ar+=1){var pr=Ht[ar];de=A.min([0,0],de,pr),Ue=A.max([0,0],Ue,pr)}}for(var ar=0,Cr=Ht.length;ar<Cr;ar+=1){var pr=Ht[ar];if(ar===0&&!ie)hr=pr;else if(ar===Cr-1&&!ie)tr=pr,xe.push(hr),xe.push(tr);else{var Je=[ar?ar-1:Cr-1,ar-1][ie?0:1];Se=Ht[Je],_e=Ht[ie?(ar+1)%Cr:ar+1];var Ar=[0,0];Ar=A.sub(Ar,_e,Se),Ar=A.scale(Ar,Ar,Kt);var Ir=A.distance(pr,Se),Tr=A.distance(pr,_e),Rr=Ir+Tr;Rr!==0&&(Ir/=Rr,Tr/=Rr);var Zr=A.scale([0,0],Ar,-Ir),Kr=A.scale([0,0],Ar,Tr);tr=A.add([0,0],pr,Zr),Re=A.add([0,0],pr,Kr),Re=A.min([0,0],Re,A.max([0,0],_e,pr)),Re=A.max([0,0],Re,A.min([0,0],_e,pr)),Zr=A.sub([0,0],Re,pr),Zr=A.scale([0,0],Zr,-Ir/Tr),tr=A.add([0,0],pr,Zr),tr=A.min([0,0],tr,A.max([0,0],Se,pr)),tr=A.max([0,0],tr,A.min([0,0],Se,pr)),Kr=A.sub([0,0],pr,tr),Kr=A.scale([0,0],Kr,Tr/Ir),Re=A.add([0,0],pr,Kr),Me&&(tr=A.max([0,0],tr,de),tr=A.min([0,0],tr,Ue),Re=A.max([0,0],Re,de),Re=A.min([0,0],Re,Ue)),xe.push(hr),xe.push(tr),hr=Re}}return ie&&xe.push(xe.shift()),xe}function E(Ht,Kt,ie){Kt===void 0&&(Kt=!1),ie===void 0&&(ie=[[0,0],[1,1]]);for(var se=!!Kt,xe=[],Me=0,Se=Ht.length;Me<Se;Me+=2)xe.push([Ht[Me],Ht[Me+1]]);for(var _e=C(xe,.4,se,ie),de=xe.length,Ue=[],Re,tr,hr,Me=0;Me<de-1;Me+=1)Re=_e[Me*2],tr=_e[Me*2+1],hr=xe[Me+1],Ue.push(["C",Re[0],Re[1],tr[0],tr[1],hr[0],hr[1]]);return se&&(Re=_e[de],tr=_e[de+1],hr=xe[0],Ue.push(["C",Re[0],Re[1],tr[0],tr[1],hr[0],hr[1]])),Ue}var p=E;function w(Ht,Kt){var ie=[],se=[];function xe(Me,Se){if(Me.length===1)ie.push(Me[0]),se.push(Me[0]);else{for(var _e=[],de=0;de<Me.length-1;de++)de===0&&ie.push(Me[0]),de===Me.length-2&&se.push(Me[de+1]),_e[de]=[(1-Se)*Me[de][0]+Se*Me[de+1][0],(1-Se)*Me[de][1]+Se*Me[de+1][1]];xe(_e,Se)}}return Ht.length&&xe(Ht,Kt),{left:ie,right:se.reverse()}}function y(Ht,Kt,ie){var se=[[Ht[1],Ht[2]]];ie=ie||2;var xe=[];Kt[0]==="A"?(se.push(Kt[6]),se.push(Kt[7])):Kt[0]==="C"?(se.push([Kt[1],Kt[2]]),se.push([Kt[3],Kt[4]]),se.push([Kt[5],Kt[6]])):Kt[0]==="S"||Kt[0]==="Q"?(se.push([Kt[1],Kt[2]]),se.push([Kt[3],Kt[4]])):se.push([Kt[1],Kt[2]]);for(var Me=se,Se=1/ie,_e=0;_e<ie-1;_e++){var de=Se/(1-Se*_e),Ue=w(Me,de);xe.push(Ue.left),Me=Ue.right}xe.push(Me);var Re=xe.map(function(tr){var hr=[];return tr.length===4&&(hr.push("C"),hr=hr.concat(tr[2])),tr.length>=3&&(tr.length===3&&hr.push("Q"),hr=hr.concat(tr[1])),tr.length===2&&hr.push("L"),hr=hr.concat(tr[tr.length-1]),hr});return Re}function x(Ht,Kt,ie){if(ie===1)return[[].concat(Ht)];var se=[];if(Kt[0]==="L"||Kt[0]==="C"||Kt[0]==="Q")se=se.concat(y(Ht,Kt,ie));else{var xe=[].concat(Ht);xe[0]==="M"&&(xe[0]="L");for(var Me=0;Me<=ie-1;Me++)se.push(xe)}return se}function g(Ht,Kt){if(Ht.length===1)return Ht;var ie=Ht.length-1,se=Kt.length-1,xe=ie/se,Me=[];if(Ht.length===1&&Ht[0][0]==="M"){for(var Se=0;Se<se-ie;Se++)Ht.push(Ht[0]);return Ht}for(var Se=0;Se<se;Se++){var _e=Math.floor(xe*Se);Me[_e]=(Me[_e]||0)+1}var de=Me.reduce(function(Ue,Re,tr){return tr===ie?Ue.concat(Ht[ie]):Ue.concat(x(Ht[tr],Ht[tr+1],Re))},[]);return de.unshift(Ht[0]),(Kt[se]==="Z"||Kt[se]==="z")&&de.push("Z"),de}function S(Ht,Kt,ie){var se=null,xe=ie;return Kt<xe&&(xe=Kt,se="add"),Ht<xe&&(xe=Ht,se="del"),{type:se,min:xe}}var _=function(Ht,Kt){var ie=Ht.length,se=Kt.length,xe,Me,Se=0;if(ie===0||se===0)return null;for(var _e=[],de=0;de<=ie;de++)_e[de]=[],_e[de][0]={min:de};for(var Ue=0;Ue<=se;Ue++)_e[0][Ue]={min:Ue};for(var de=1;de<=ie;de++){xe=Ht[de-1];for(var Ue=1;Ue<=se;Ue++){Me=Kt[Ue-1],(0,b.isEqual)(xe,Me)?Se=0:Se=1;var Re=_e[de-1][Ue].min+1,tr=_e[de][Ue-1].min+1,hr=_e[de-1][Ue-1].min+Se;_e[de][Ue]=S(Re,tr,hr)}}return _e};function B(Ht,Kt){var ie=_(Ht,Kt),se=Ht.length,xe=Kt.length,Me=[],Se=1,_e=1;if(ie[se][xe]!==se){for(var de=1;de<=se;de++){var Ue=ie[de][de].min;_e=de;for(var Re=Se;Re<=xe;Re++)ie[de][Re].min<Ue&&(Ue=ie[de][Re].min,_e=Re);Se=_e,ie[de][Se].type&&Me.push({index:de-1,type:ie[de][Se].type})}for(var de=Me.length-1;de>=0;de--)Se=Me[de].index,Me[de].type==="add"?Ht.splice(Se,0,[].concat(Ht[Se])):Ht.splice(Se,1)}if(se=Ht.length,se<xe)for(var de=0;de<xe-se;de++)Ht[se-1][0]==="z"||Ht[se-1][0]==="Z"?Ht.splice(se-2,0,Ht[se-2]):Ht.push(Ht[se-1]);return Ht}function F(Ht){var Kt=[];switch(Ht[0]){case"M":Kt.push([Ht[1],Ht[2]]);break;case"L":Kt.push([Ht[1],Ht[2]]);break;case"A":Kt.push([Ht[6],Ht[7]]);break;case"Q":Kt.push([Ht[3],Ht[4]]),Kt.push([Ht[1],Ht[2]]);break;case"T":Kt.push([Ht[1],Ht[2]]);break;case"C":Kt.push([Ht[5],Ht[6]]),Kt.push([Ht[1],Ht[2]]),Kt.push([Ht[3],Ht[4]]);break;case"S":Kt.push([Ht[3],Ht[4]]),Kt.push([Ht[1],Ht[2]]);break;case"H":Kt.push([Ht[1],Ht[1]]);break;case"V":Kt.push([Ht[1],Ht[1]]);break;default:}return Kt}function V(Ht,Kt,ie){for(var se=[].concat(Ht),xe,Me=1/(ie+1),Se=F(Kt)[0],_e=1;_e<=ie;_e++)Me*=_e,xe=Math.floor(Ht.length*Me),xe===0?se.unshift([Se[0]*Me+Ht[xe][0]*(1-Me),Se[1]*Me+Ht[xe][1]*(1-Me)]):se.splice(xe,0,[Se[0]*Me+Ht[xe][0]*(1-Me),Se[1]*Me+Ht[xe][1]*(1-Me)]);return se}function Z(Ht,Kt){if(Ht.length<=1)return Ht;for(var ie,se=0;se<Kt.length;se++)if(Ht[se][0]!==Kt[se][0])switch(ie=F(Ht[se]),Kt[se][0]){case"M":Ht[se]=["M"].concat(ie[0]);break;case"L":Ht[se]=["L"].concat(ie[0]);break;case"A":Ht[se]=[].concat(Kt[se]),Ht[se][6]=ie[0][0],Ht[se][7]=ie[0][1];break;case"Q":if(ie.length<2)if(se>0)ie=V(ie,Ht[se-1],1);else{Ht[se]=Kt[se];break}Ht[se]=["Q"].concat(ie.reduce(function(xe,Me){return xe.concat(Me)},[]));break;case"T":Ht[se]=["T"].concat(ie[0]);break;case"C":if(ie.length<3)if(se>0)ie=V(ie,Ht[se-1],2);else{Ht[se]=Kt[se];break}Ht[se]=["C"].concat(ie.reduce(function(xe,Me){return xe.concat(Me)},[]));break;case"S":if(ie.length<2)if(se>0)ie=V(ie,Ht[se-1],1);else{Ht[se]=Kt[se];break}Ht[se]=["S"].concat(ie.reduce(function(xe,Me){return xe.concat(Me)},[]));break;default:Ht[se]=Kt[se]}return Ht}function X(Ht,Kt,ie,se,xe){return xe?[["M",+Ht+ +xe,Kt],["l",ie-xe*2,0],["a",xe,xe,0,0,1,xe,xe],["l",0,se-xe*2],["a",xe,xe,0,0,1,-xe,xe],["l",xe*2-ie,0],["a",xe,xe,0,0,1,-xe,-xe],["l",0,xe*2-se],["a",xe,xe,0,0,1,xe,-xe],["z"]]:[["M",Ht,Kt],["l",ie,0],["l",0,se],["l",-ie,0],["z"]]}var U=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,nt=new RegExp("([a-z])["+U+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+U+"]*,?["+U+"]*)+)","ig"),q=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+U+"]*,?["+U+"]*","ig");function wt(Ht){if(!Ht)return null;if((0,b.isArray)(Ht))return Ht;var Kt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ie=[];return String(Ht).replace(nt,function(se,xe,Me){var Se=[],_e=xe.toLowerCase();if(Me.replace(q,function(de,Ue){Ue&&Se.push(+Ue)}),_e==="m"&&Se.length>2&&(ie.push([xe].concat(Se.splice(0,2))),_e="l",xe=xe==="m"?"l":"L"),_e==="o"&&Se.length===1&&ie.push([xe,Se[0]]),_e==="r")ie.push([xe].concat(Se));else for(;Se.length>=Kt[_e]&&(ie.push([xe].concat(Se.splice(0,Kt[_e]))),!!Kt[_e]););return""}),ie}var ft=/[a-z]/;function Ot(Ht,Kt){return[Kt[0]+(Kt[0]-Ht[0]),Kt[1]+(Kt[1]-Ht[1])]}function St(Ht){var Kt=wt(Ht);if(!Kt||!Kt.length)return[["M",0,0]];for(var ie=!1,se=0;se<Kt.length;se++){var xe=Kt[se][0];if(ft.test(xe)||["V","H","T","S"].indexOf(xe)>=0){ie=!0;break}}if(!ie)return Kt;var Me=[],Se=0,_e=0,de=0,Ue=0,Re=0,tr,hr,ar=Kt[0];(ar[0]==="M"||ar[0]==="m")&&(Se=+ar[1],_e=+ar[2],de=Se,Ue=_e,Re++,Me[0]=["M",Se,_e]);for(var se=Re,vr=Kt.length;se<vr;se++){var pr=Kt[se],Cr=Me[se-1],Je=[],xe=pr[0],Ar=xe.toUpperCase();if(xe!==Ar)switch(Je[0]=Ar,Ar){case"A":Je[1]=pr[1],Je[2]=pr[2],Je[3]=pr[3],Je[4]=pr[4],Je[5]=pr[5],Je[6]=+pr[6]+Se,Je[7]=+pr[7]+_e;break;case"V":Je[1]=+pr[1]+_e;break;case"H":Je[1]=+pr[1]+Se;break;case"M":de=+pr[1]+Se,Ue=+pr[2]+_e,Je[1]=de,Je[2]=Ue;break;default:for(var Ir=1,Tr=pr.length;Ir<Tr;Ir++)Je[Ir]=+pr[Ir]+(Ir%2?Se:_e)}else Je=Kt[se];switch(Ar){case"Z":Se=+de,_e=+Ue;break;case"H":Se=Je[1],Je=["L",Se,_e];break;case"V":_e=Je[1],Je=["L",Se,_e];break;case"T":Se=Je[1],_e=Je[2];var Rr=Ot([Cr[1],Cr[2]],[Cr[3],Cr[4]]);Je=["Q",Rr[0],Rr[1],Se,_e];break;case"S":Se=Je[Je.length-2],_e=Je[Je.length-1];var Zr=Cr.length,Kr=Ot([Cr[Zr-4],Cr[Zr-3]],[Cr[Zr-2],Cr[Zr-1]]);Je=["C",Kr[0],Kr[1],Je[1],Je[2],Se,_e];break;case"M":de=Je[Je.length-2],Ue=Je[Je.length-1];break;default:Se=Je[Je.length-2],_e=Je[Je.length-1]}Me.push(Je)}return Me}var At=Math.PI*2,Et=function(Ht,Kt,ie,se,xe,Me,Se){var _e=Ht.x,de=Ht.y;_e*=Kt,de*=ie;var Ue=se*_e-xe*de,Re=xe*_e+se*de;return{x:Ue+Me,y:Re+Se}},bt=function(Ht,Kt){var ie=Kt===1.5707963267948966?.551915024494:Kt===-1.5707963267948966?-.551915024494:4/3*Math.tan(Kt/4),se=Math.cos(Ht),xe=Math.sin(Ht),Me=Math.cos(Ht+Kt),Se=Math.sin(Ht+Kt);return[{x:se-xe*ie,y:xe+se*ie},{x:Me+Se*ie,y:Se-Me*ie},{x:Me,y:Se}]},Lt=function(Ht,Kt,ie,se){var xe=Ht*se-Kt*ie<0?-1:1,Me=Ht*ie+Kt*se;return Me>1&&(Me=1),Me<-1&&(Me=-1),xe*Math.acos(Me)},Bt=function(Ht,Kt,ie,se,xe,Me,Se,_e,de,Ue,Re,tr){var hr=Math.pow(xe,2),ar=Math.pow(Me,2),vr=Math.pow(Re,2),pr=Math.pow(tr,2),Cr=hr*ar-hr*pr-ar*vr;Cr<0&&(Cr=0),Cr/=hr*pr+ar*vr,Cr=Math.sqrt(Cr)*(Se===_e?-1:1);var Je=Cr*xe/Me*tr,Ar=Cr*-Me/xe*Re,Ir=Ue*Je-de*Ar+(Ht+ie)/2,Tr=de*Je+Ue*Ar+(Kt+se)/2,Rr=(Re-Je)/xe,Zr=(tr-Ar)/Me,Kr=(-Re-Je)/xe,jn=(-tr-Ar)/Me,ln=Lt(1,0,Rr,Zr),Kn=Lt(Rr,Zr,Kr,jn);return _e===0&&Kn>0&&(Kn-=At),_e===1&&Kn<0&&(Kn+=At),[Ir,Tr,ln,Kn]},gt=function(Ht){var Kt=Ht.px,ie=Ht.py,se=Ht.cx,xe=Ht.cy,Me=Ht.rx,Se=Ht.ry,_e=Ht.xAxisRotation,de=_e===void 0?0:_e,Ue=Ht.largeArcFlag,Re=Ue===void 0?0:Ue,tr=Ht.sweepFlag,hr=tr===void 0?0:tr,ar=[];if(Me===0||Se===0)return[{x1:0,y1:0,x2:0,y2:0,x:se,y:xe}];var vr=Math.sin(de*At/360),pr=Math.cos(de*At/360),Cr=pr*(Kt-se)/2+vr*(ie-xe)/2,Je=-vr*(Kt-se)/2+pr*(ie-xe)/2;if(Cr===0&&Je===0)return[{x1:0,y1:0,x2:0,y2:0,x:se,y:xe}];Me=Math.abs(Me),Se=Math.abs(Se);var Ar=Math.pow(Cr,2)/Math.pow(Me,2)+Math.pow(Je,2)/Math.pow(Se,2);Ar>1&&(Me*=Math.sqrt(Ar),Se*=Math.sqrt(Ar));var Ir=Bt(Kt,ie,se,xe,Me,Se,Re,hr,vr,pr,Cr,Je),Tr=Ir[0],Rr=Ir[1],Zr=Ir[2],Kr=Ir[3],jn=Math.abs(Kr)/(At/4);Math.abs(1-jn)<1e-7&&(jn=1);var ln=Math.max(Math.ceil(jn),1);Kr/=ln;for(var Kn=0;Kn<ln;Kn++)ar.push(bt(Zr,Kr)),Zr+=Kr;return ar.map(function(ci){var oi=Et(ci[0],Me,Se,pr,vr,Tr,Rr),Li=oi.x,Ii=oi.y,Br=Et(ci[1],Me,Se,pr,vr,Tr,Rr),vi=Br.x,ki=Br.y,li=Et(ci[2],Me,Se,pr,vr,Tr,Rr),Tn=li.x,di=li.y;return{x1:Li,y1:Ii,x2:vi,y2:ki,x:Tn,y:di}})};function J(Ht,Kt,ie,se,xe,Me,Se,_e,de){var Ue=gt({px:Ht,py:Kt,cx:_e,cy:de,rx:ie,ry:se,xAxisRotation:xe,largeArcFlag:Me,sweepFlag:Se});return Ue.reduce(function(Re,tr){var hr=tr.x1,ar=tr.y1,vr=tr.x2,pr=tr.y2,Cr=tr.x,Je=tr.y;return Re.push(hr,ar,vr,pr,Cr,Je),Re},[])}function I(Ht,Kt,ie,se,xe,Me){var Se=1/3,_e=2/3;return[Se*Ht+_e*ie,Se*Kt+_e*se,Se*xe+_e*ie,Se*Me+_e*se,xe,Me]}function u(Ht,Kt,ie,se){return[Ht,Kt,ie,se,ie,se]}function R(Ht,Kt){"TQ".indexOf(Ht[0])<0&&(Kt.qx=null,Kt.qy=null);var ie=Ht.slice(1),se=ie[0],xe=ie[1];switch(Ht[0]){case"M":return Kt.x=se,Kt.y=xe,Ht;case"A":return["C"].concat(J.apply(0,[Kt.x1,Kt.y1].concat(Ht.slice(1))));case"Q":return Kt.qx=se,Kt.qy=xe,["C"].concat(I.apply(0,[Kt.x1,Kt.y1].concat(Ht.slice(1))));case"L":return["C"].concat(u(Kt.x1,Kt.y1,Ht[1],Ht[2]));case"H":return["C"].concat(u(Kt.x1,Kt.y1,Ht[1],Kt.y1));case"V":return["C"].concat(u(Kt.x1,Kt.y1,Kt.x1,Ht[1]));case"Z":return["C"].concat(u(Kt.x1,Kt.y1,Kt.x,Kt.y));default:}return Ht}function N(Ht,Kt){Kt===void 0&&(Kt=!1);for(var ie=St(Ht),se={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},xe=[],Me="",Se=ie.length,_e,de,Ue=[],Re=0;Re<Se;Re+=1)ie[Re]&&(Me=ie[Re][0]),xe[Re]=Me,ie[Re]=R(ie[Re],se),z(ie,xe,Re),Se=ie.length,Me==="Z"&&Ue.push(Re),_e=ie[Re],de=_e.length,se.x1=+_e[de-2],se.y1=+_e[de-1],se.x2=+_e[de-4]||se.x1,se.y2=+_e[de-3]||se.y1;return Kt?[ie,Ue]:ie}function z(Ht,Kt,ie){if(Ht[ie].length>7){Ht[ie].shift();for(var se=Ht[ie],xe=ie;se.length;)Kt[ie]="A",Ht.splice(xe+=1,0,["C"].concat(se.splice(0,6)));Ht.splice(ie,1)}}var j=function(Ht,Kt,ie,se,xe){var Me=-3*Kt+9*ie-9*se+3*xe,Se=Ht*Me+6*Kt-12*ie+6*se;return Ht*Se-3*Kt+3*ie},K=function(Ht,Kt,ie,se,xe,Me,Se,_e,de){de===null&&(de=1),de=de>1?1:de<0?0:de;for(var Ue=de/2,Re=12,tr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],hr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ar=0,vr=0;vr<Re;vr++){var pr=Ue*tr[vr]+Ue,Cr=j(pr,Ht,ie,xe,Se),Je=j(pr,Kt,se,Me,_e),Ar=Cr*Cr+Je*Je;ar+=hr[vr]*Math.sqrt(Ar)}return Ue*ar},at=function(Ht,Kt,ie,se,xe,Me,Se,_e){for(var de=[],Ue=[[],[]],Re,tr,hr,ar,vr=0;vr<2;++vr){if(vr===0?(tr=6*Ht-12*ie+6*xe,Re=-3*Ht+9*ie-9*xe+3*Se,hr=3*ie-3*Ht):(tr=6*Kt-12*se+6*Me,Re=-3*Kt+9*se-9*Me+3*_e,hr=3*se-3*Kt),Math.abs(Re)<1e-12){if(Math.abs(tr)<1e-12)continue;ar=-hr/tr,ar>0&&ar<1&&de.push(ar);continue}var pr=tr*tr-4*hr*Re,Cr=Math.sqrt(pr);if(!(pr<0)){var Je=(-tr+Cr)/(2*Re);Je>0&&Je<1&&de.push(Je);var Ar=(-tr-Cr)/(2*Re);Ar>0&&Ar<1&&de.push(Ar)}}for(var Ir=de.length,Tr=Ir,Rr;Ir--;)ar=de[Ir],Rr=1-ar,Ue[0][Ir]=Rr*Rr*Rr*Ht+3*Rr*Rr*ar*ie+3*Rr*ar*ar*xe+ar*ar*ar*Se,Ue[1][Ir]=Rr*Rr*Rr*Kt+3*Rr*Rr*ar*se+3*Rr*ar*ar*Me+ar*ar*ar*_e;return Ue[0][Tr]=Ht,Ue[1][Tr]=Kt,Ue[0][Tr+1]=Se,Ue[1][Tr+1]=_e,Ue[0].length=Ue[1].length=Tr+2,{min:{x:Math.min.apply(0,Ue[0]),y:Math.min.apply(0,Ue[1])},max:{x:Math.max.apply(0,Ue[0]),y:Math.max.apply(0,Ue[1])}}},Tt=function(Ht,Kt,ie,se,xe,Me,Se,_e){if(!(Math.max(Ht,ie)<Math.min(xe,Se)||Math.min(Ht,ie)>Math.max(xe,Se)||Math.max(Kt,se)<Math.min(Me,_e)||Math.min(Kt,se)>Math.max(Me,_e))){var de=(Ht*se-Kt*ie)*(xe-Se)-(Ht-ie)*(xe*_e-Me*Se),Ue=(Ht*se-Kt*ie)*(Me-_e)-(Kt-se)*(xe*_e-Me*Se),Re=(Ht-ie)*(Me-_e)-(Kt-se)*(xe-Se);if(!!Re){var tr=de/Re,hr=Ue/Re,ar=+tr.toFixed(2),vr=+hr.toFixed(2);if(!(ar<+Math.min(Ht,ie).toFixed(2)||ar>+Math.max(Ht,ie).toFixed(2)||ar<+Math.min(xe,Se).toFixed(2)||ar>+Math.max(xe,Se).toFixed(2)||vr<+Math.min(Kt,se).toFixed(2)||vr>+Math.max(Kt,se).toFixed(2)||vr<+Math.min(Me,_e).toFixed(2)||vr>+Math.max(Me,_e).toFixed(2)))return{x:tr,y:hr}}}},pt=function(Ht,Kt,ie){return Kt>=Ht.x&&Kt<=Ht.x+Ht.width&&ie>=Ht.y&&ie<=Ht.y+Ht.height},Q=function(Ht,Kt,ie,se){return Ht===null&&(Ht=Kt=ie=se=0),Kt===null&&(Kt=Ht.y,ie=Ht.width,se=Ht.height,Ht=Ht.x),{x:Ht,y:Kt,width:ie,w:ie,height:se,h:se,x2:Ht+ie,y2:Kt+se,cx:Ht+ie/2,cy:Kt+se/2,r1:Math.min(ie,se)/2,r2:Math.max(ie,se)/2,r0:Math.sqrt(ie*ie+se*se)/2,path:X(Ht,Kt,ie,se),vb:[Ht,Kt,ie,se].join(" ")}},vt=function(Ht,Kt){return Ht=Q(Ht),Kt=Q(Kt),pt(Kt,Ht.x,Ht.y)||pt(Kt,Ht.x2,Ht.y)||pt(Kt,Ht.x,Ht.y2)||pt(Kt,Ht.x2,Ht.y2)||pt(Ht,Kt.x,Kt.y)||pt(Ht,Kt.x2,Kt.y)||pt(Ht,Kt.x,Kt.y2)||pt(Ht,Kt.x2,Kt.y2)||(Ht.x<Kt.x2&&Ht.x>Kt.x||Kt.x<Ht.x2&&Kt.x>Ht.x)&&(Ht.y<Kt.y2&&Ht.y>Kt.y||Kt.y<Ht.y2&&Kt.y>Ht.y)},et=function(Ht,Kt,ie,se,xe,Me,Se,_e){(0,b.isArray)(Ht)||(Ht=[Ht,Kt,ie,se,xe,Me,Se,_e]);var de=at.apply(null,Ht);return Q(de.min.x,de.min.y,de.max.x-de.min.x,de.max.y-de.min.y)},it=function(Ht,Kt,ie,se,xe,Me,Se,_e,de){var Ue=1-de,Re=Math.pow(Ue,3),tr=Math.pow(Ue,2),hr=de*de,ar=hr*de,vr=Re*Ht+tr*3*de*ie+Ue*3*de*de*xe+ar*Se,pr=Re*Kt+tr*3*de*se+Ue*3*de*de*Me+ar*_e,Cr=Ht+2*de*(ie-Ht)+hr*(xe-2*ie+Ht),Je=Kt+2*de*(se-Kt)+hr*(Me-2*se+Kt),Ar=ie+2*de*(xe-ie)+hr*(Se-2*xe+ie),Ir=se+2*de*(Me-se)+hr*(_e-2*Me+se),Tr=Ue*Ht+de*ie,Rr=Ue*Kt+de*se,Zr=Ue*xe+de*Se,Kr=Ue*Me+de*_e,jn=90-Math.atan2(Cr-Ar,Je-Ir)*180/Math.PI;return{x:vr,y:pr,m:{x:Cr,y:Je},n:{x:Ar,y:Ir},start:{x:Tr,y:Rr},end:{x:Zr,y:Kr},alpha:jn}},ct=function(Ht,Kt,ie){var se=et(Ht),xe=et(Kt);if(!vt(se,xe))return ie?0:[];for(var Me=K.apply(0,Ht),Se=K.apply(0,Kt),_e=~~(Me/8),de=~~(Se/8),Ue=[],Re=[],tr={},hr=ie?0:[],ar=0;ar<_e+1;ar++){var vr=it.apply(0,Ht.concat(ar/_e));Ue.push({x:vr.x,y:vr.y,t:ar/_e})}for(var ar=0;ar<de+1;ar++){var vr=it.apply(0,Kt.concat(ar/de));Re.push({x:vr.x,y:vr.y,t:ar/de})}for(var ar=0;ar<_e;ar++)for(var pr=0;pr<de;pr++){var Cr=Ue[ar],Je=Ue[ar+1],Ar=Re[pr],Ir=Re[pr+1],Tr=Math.abs(Je.x-Cr.x)<.001?"y":"x",Rr=Math.abs(Ir.x-Ar.x)<.001?"y":"x",Zr=Tt(Cr.x,Cr.y,Je.x,Je.y,Ar.x,Ar.y,Ir.x,Ir.y);if(Zr){if(tr[Zr.x.toFixed(4)]===Zr.y.toFixed(4))continue;tr[Zr.x.toFixed(4)]=Zr.y.toFixed(4);var Kr=Cr.t+Math.abs((Zr[Tr]-Cr[Tr])/(Je[Tr]-Cr[Tr]))*(Je.t-Cr.t),jn=Ar.t+Math.abs((Zr[Rr]-Ar[Rr])/(Ir[Rr]-Ar[Rr]))*(Ir.t-Ar.t);Kr>=0&&Kr<=1&&jn>=0&&jn<=1&&(ie?hr++:hr.push({x:Zr.x,y:Zr.y,t1:Kr,t2:jn}))}}return hr},rt=function(Ht,Kt,ie){Ht=N(Ht),Kt=N(Kt);for(var se,xe,Me,Se,_e,de,Ue,Re,tr,hr,ar=ie?0:[],vr=0,pr=Ht.length;vr<pr;vr++){var Cr=Ht[vr];if(Cr[0]==="M")se=_e=Cr[1],xe=de=Cr[2];else{Cr[0]==="C"?(tr=[se,xe].concat(Cr.slice(1)),se=tr[6],xe=tr[7]):(tr=[se,xe,se,xe,_e,de,_e,de],se=_e,xe=de);for(var Je=0,Ar=Kt.length;Je<Ar;Je++){var Ir=Kt[Je];if(Ir[0]==="M")Me=Ue=Ir[1],Se=Re=Ir[2];else{Ir[0]==="C"?(hr=[Me,Se].concat(Ir.slice(1)),Me=hr[6],Se=hr[7]):(hr=[Me,Se,Me,Se,Ue,Re,Ue,Re],Me=Ue,Se=Re);var Tr=ct(tr,hr,ie);if(ie)ar+=Tr;else{for(var Rr=0,Zr=Tr.length;Rr<Zr;Rr++)Tr[Rr].segment1=vr,Tr[Rr].segment2=Je,Tr[Rr].bez1=tr,Tr[Rr].bez2=hr;ar=ar.concat(Tr)}}}}}return ar};function tt(Ht,Kt){return rt(Ht,Kt)}var mt=/,?([a-z]),?/gi;function _t(Ht){return Ht.join(",").replace(mt,"$1")}function Wt(Ht){return Math.sqrt(Ht[0]*Ht[0]+Ht[1]*Ht[1])}function te(Ht,Kt){return Wt(Ht)*Wt(Kt)?(Ht[0]*Kt[0]+Ht[1]*Kt[1])/(Wt(Ht)*Wt(Kt)):1}function ce(Ht,Kt){return(Ht[0]*Kt[1]<Ht[1]*Kt[0]?-1:1)*Math.acos(te(Ht,Kt))}function Pe(Ht,Kt){return Ht[0]===Kt[0]&&Ht[1]===Kt[1]}function we(Ht,Kt){var ie=Kt[1],se=Kt[2],xe=(0,b.mod)((0,b.toRadian)(Kt[3]),Math.PI*2),Me=Kt[4],Se=Kt[5],_e=Ht[0],de=Ht[1],Ue=Kt[6],Re=Kt[7],tr=Math.cos(xe)*(_e-Ue)/2+Math.sin(xe)*(de-Re)/2,hr=-1*Math.sin(xe)*(_e-Ue)/2+Math.cos(xe)*(de-Re)/2,ar=tr*tr/(ie*ie)+hr*hr/(se*se);ar>1&&(ie*=Math.sqrt(ar),se*=Math.sqrt(ar));var vr=ie*ie*(hr*hr)+se*se*(tr*tr),pr=vr?Math.sqrt((ie*ie*(se*se)-vr)/vr):1;Me===Se&&(pr*=-1),isNaN(pr)&&(pr=0);var Cr=se?pr*ie*hr/se:0,Je=ie?pr*-se*tr/ie:0,Ar=(_e+Ue)/2+Math.cos(xe)*Cr-Math.sin(xe)*Je,Ir=(de+Re)/2+Math.sin(xe)*Cr+Math.cos(xe)*Je,Tr=[(tr-Cr)/ie,(hr-Je)/se],Rr=[(-1*tr-Cr)/ie,(-1*hr-Je)/se],Zr=ce([1,0],Tr),Kr=ce(Tr,Rr);return te(Tr,Rr)<=-1&&(Kr=Math.PI),te(Tr,Rr)>=1&&(Kr=0),Se===0&&Kr>0&&(Kr=Kr-2*Math.PI),Se===1&&Kr<0&&(Kr=Kr+2*Math.PI),{cx:Ar,cy:Ir,rx:Pe(Ht,[Ue,Re])?0:ie,ry:Pe(Ht,[Ue,Re])?0:se,startAngle:Zr,endAngle:Zr+Kr,xRotation:xe,arcFlag:Me,sweepFlag:Se}}function Ce(Ht,Kt){return[Kt[0]+(Kt[0]-Ht[0]),Kt[1]+(Kt[1]-Ht[1])]}function Ge(Ht){Ht=P(Ht);for(var Kt=[],ie=null,se=null,xe=null,Me=0,Se=Ht.length,_e=0;_e<Se;_e++){var de=Ht[_e];se=Ht[_e+1];var Ue=de[0],Re={command:Ue,prePoint:ie,params:de,startTangent:null,endTangent:null};switch(Ue){case"M":xe=[de[1],de[2]],Me=_e;break;case"A":var tr=we(ie,de);Re.arcParams=tr;break;default:break}if(Ue==="Z")ie=xe,se=Ht[Me+1];else{var hr=de.length;ie=[de[hr-2],de[hr-1]]}se&&se[0]==="Z"&&(se=Ht[Me],Kt[Me]&&(Kt[Me].prePoint=ie)),Re.currentPoint=ie,Kt[Me]&&Pe(ie,Kt[Me].currentPoint)&&(Kt[Me].prePoint=Re.prePoint);var ar=se?[se[se.length-2],se[se.length-1]]:null;Re.nextPoint=ar;var vr=Re.prePoint;if(["L","H","V"].includes(Ue))Re.startTangent=[vr[0]-ie[0],vr[1]-ie[1]],Re.endTangent=[ie[0]-vr[0],ie[1]-vr[1]];else if(Ue==="Q"){var pr=[de[1],de[2]];Re.startTangent=[vr[0]-pr[0],vr[1]-pr[1]],Re.endTangent=[ie[0]-pr[0],ie[1]-pr[1]]}else if(Ue==="T"){var Cr=Kt[_e-1],pr=Ce(Cr.currentPoint,vr);Cr.command==="Q"?(Re.command="Q",Re.startTangent=[vr[0]-pr[0],vr[1]-pr[1]],Re.endTangent=[ie[0]-pr[0],ie[1]-pr[1]]):(Re.command="TL",Re.startTangent=[vr[0]-ie[0],vr[1]-ie[1]],Re.endTangent=[ie[0]-vr[0],ie[1]-vr[1]])}else if(Ue==="C"){var Je=[de[1],de[2]],Ar=[de[3],de[4]];Re.startTangent=[vr[0]-Je[0],vr[1]-Je[1]],Re.endTangent=[ie[0]-Ar[0],ie[1]-Ar[1]],Re.startTangent[0]===0&&Re.startTangent[1]===0&&(Re.startTangent=[Je[0]-Ar[0],Je[1]-Ar[1]]),Re.endTangent[0]===0&&Re.endTangent[1]===0&&(Re.endTangent=[Ar[0]-Je[0],Ar[1]-Je[1]])}else if(Ue==="S"){var Cr=Kt[_e-1],Je=Ce(Cr.currentPoint,vr),Ar=[de[1],de[2]];Cr.command==="C"?(Re.command="C",Re.startTangent=[vr[0]-Je[0],vr[1]-Je[1]],Re.endTangent=[ie[0]-Ar[0],ie[1]-Ar[1]]):(Re.command="SQ",Re.startTangent=[vr[0]-Ar[0],vr[1]-Ar[1]],Re.endTangent=[ie[0]-Ar[0],ie[1]-Ar[1]])}else if(Ue==="A"){var Ir=.001,Tr=Re.arcParams||{},Rr=Tr.cx,Zr=Rr===void 0?0:Rr,Kr=Tr.cy,jn=Kr===void 0?0:Kr,ln=Tr.rx,Kn=ln===void 0?0:ln,ci=Tr.ry,oi=ci===void 0?0:ci,Li=Tr.sweepFlag,Ii=Li===void 0?0:Li,Br=Tr.startAngle,vi=Br===void 0?0:Br,ki=Tr.endAngle,li=ki===void 0?0:ki;Ii===0&&(Ir*=-1);var Tn=Kn*Math.cos(vi-Ir)+Zr,di=oi*Math.sin(vi-Ir)+jn;Re.startTangent=[Tn-xe[0],di-xe[1]];var Gi=Kn*Math.cos(vi+li+Ir)+Zr,mi=oi*Math.sin(vi+li-Ir)+jn;Re.endTangent=[vr[0]-Gi,vr[1]-mi]}Kt.push(Re)}return Kt}var $e=function(Ht,Kt,ie){return Ht>=Kt&&Ht<=ie};function cr(Ht,Kt,ie,se){var xe=.001,Me={x:ie.x-Ht.x,y:ie.y-Ht.y},Se={x:Kt.x-Ht.x,y:Kt.y-Ht.y},_e={x:se.x-ie.x,y:se.y-ie.y},de=Se.x*_e.y-Se.y*_e.x,Ue=de*de,Re=Se.x*Se.x+Se.y*Se.y,tr=_e.x*_e.x+_e.y*_e.y,hr=null;if(Ue>xe*Re*tr){var ar=(Me.x*_e.y-Me.y*_e.x)/de,vr=(Me.x*Se.y-Me.y*Se.x)/de;$e(ar,0,1)&&$e(vr,0,1)&&(hr={x:Ht.x+ar*Se.x,y:Ht.y+ar*Se.y})}return hr}var or=1e-6;function Xr(Ht){return Math.abs(Ht)<or?0:Ht<0?-1:1}function xn(Ht,Kt,ie){return(ie[0]-Ht[0])*(Kt[1]-Ht[1])==(Kt[0]-Ht[0])*(ie[1]-Ht[1])&&Math.min(Ht[0],Kt[0])<=ie[0]&&ie[0]<=Math.max(Ht[0],Kt[0])&&Math.min(Ht[1],Kt[1])<=ie[1]&&ie[1]<=Math.max(Ht[1],Kt[1])}function Wr(Ht,Kt,ie){var se=!1,xe=Ht.length;if(xe<=2)return!1;for(var Me=0;Me<xe;Me++){var Se=Ht[Me],_e=Ht[(Me+1)%xe];if(xn(Se,_e,[Kt,ie]))return!0;Xr(Se[1]-ie)>0!=Xr(_e[1]-ie)>0&&Xr(Kt-(ie-Se[1])*(Se[0]-_e[0])/(Se[1]-_e[1])-Se[0])<0&&(se=!se)}return se}function sn(Ht){for(var Kt=[],ie=Ht.length,se=0;se<ie-1;se++){var xe=Ht[se],Me=Ht[se+1];Kt.push({from:{x:xe[0],y:xe[1]},to:{x:Me[0],y:Me[1]}})}if(Kt.length>1){var Se=Ht[0],_e=Ht[ie-1];Kt.push({from:{x:_e[0],y:_e[1]},to:{x:Se[0],y:Se[1]}})}return Kt}function Jn(Ht,Kt){var ie=!1;return(0,b.each)(Ht,function(se){if(cr(se.from,se.to,Kt.from,Kt.to))return ie=!0,!1}),ie}function ai(Ht){var Kt=Ht.map(function(se){return se[0]}),ie=Ht.map(function(se){return se[1]});return{minX:Math.min.apply(null,Kt),maxX:Math.max.apply(null,Kt),minY:Math.min.apply(null,ie),maxY:Math.max.apply(null,ie)}}function Si(Ht,Kt){return!(Kt.minX>Ht.maxX||Kt.maxX<Ht.minX||Kt.minY>Ht.maxY||Kt.maxY<Ht.minY)}function Mi(Ht,Kt){if(Ht.length<2||Kt.length<2)return!1;var ie=ai(Ht),se=ai(Kt);if(!Si(ie,se))return!1;var xe=!1;if((0,b.each)(Kt,function(de){if(Wr(Ht,de[0],de[1]))return xe=!0,!1}),xe||((0,b.each)(Ht,function(de){if(Wr(Kt,de[0],de[1]))return xe=!0,!1}),xe))return!0;var Me=sn(Ht),Se=sn(Kt),_e=!1;return(0,b.each)(Se,function(de){if(Jn(Me,de))return _e=!0,!1}),_e}},84023:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.isSamePoint=void 0;var b=d(49242);function O(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function k(C,E){return O(C)*O(E)?(C[0]*E[0]+C[1]*E[1])/(O(C)*O(E)):1}function L(C,E){return(C[0]*E[1]<C[1]*E[0]?-1:1)*Math.acos(k(C,E))}function P(C,E){return C[0]===E[0]&&C[1]===E[1]}M.isSamePoint=P;function A(C,E){var p=E[1],w=E[2],y=(0,b.mod)((0,b.toRadian)(E[3]),Math.PI*2),x=E[4],g=E[5],S=C[0],_=C[1],B=E[6],F=E[7],V=Math.cos(y)*(S-B)/2+Math.sin(y)*(_-F)/2,Z=-1*Math.sin(y)*(S-B)/2+Math.cos(y)*(_-F)/2,X=V*V/(p*p)+Z*Z/(w*w);X>1&&(p*=Math.sqrt(X),w*=Math.sqrt(X));var U=p*p*(Z*Z)+w*w*(V*V),nt=U?Math.sqrt((p*p*(w*w)-U)/U):1;x===g&&(nt*=-1),isNaN(nt)&&(nt=0);var q=w?nt*p*Z/w:0,wt=p?nt*-w*V/p:0,ft=(S+B)/2+Math.cos(y)*q-Math.sin(y)*wt,Ot=(_+F)/2+Math.sin(y)*q+Math.cos(y)*wt,St=[(V-q)/p,(Z-wt)/w],At=[(-1*V-q)/p,(-1*Z-wt)/w],Et=L([1,0],St),bt=L(St,At);return k(St,At)<=-1&&(bt=Math.PI),k(St,At)>=1&&(bt=0),g===0&&bt>0&&(bt=bt-2*Math.PI),g===1&&bt<0&&(bt=bt+2*Math.PI),{cx:ft,cy:Ot,rx:P(C,[B,F])?0:p,ry:P(C,[B,F])?0:w,startAngle:Et,endAngle:Et+bt,xRotation:y,arcFlag:x,sweepFlag:g}}M.default=A},21528:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(O,k,L){return O>=k&&O<=L};function b(O,k,L,P){var A=.001,C={x:L.x-O.x,y:L.y-O.y},E={x:k.x-O.x,y:k.y-O.y},p={x:P.x-L.x,y:P.y-L.y},w=E.x*p.y-E.y*p.x,y=w*w,x=E.x*E.x+E.y*E.y,g=p.x*p.x+p.y*p.y,S=null;if(y>A*x*g){var _=(C.x*p.y-C.y*p.x)/w,B=(C.x*E.y-C.y*E.x)/w;d(_,0,1)&&d(B,0,1)&&(S={x:O.x+_*E.x,y:O.y+_*E.y})}return S}M.default=b},70146:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66957),O=d(21528),k=d(49242);function L(p){for(var w=[],y=p.length,x=0;x<y-1;x++){var g=p[x],S=p[x+1];w.push({from:{x:g[0],y:g[1]},to:{x:S[0],y:S[1]}})}if(w.length>1){var _=p[0],B=p[y-1];w.push({from:{x:B[0],y:B[1]},to:{x:_[0],y:_[1]}})}return w}function P(p,w){var y=!1;return(0,k.each)(p,function(x){if((0,O.default)(x.from,x.to,w.from,w.to))return y=!0,!1}),y}function A(p){var w=p.map(function(x){return x[0]}),y=p.map(function(x){return x[1]});return{minX:Math.min.apply(null,w),maxX:Math.max.apply(null,w),minY:Math.min.apply(null,y),maxY:Math.max.apply(null,y)}}function C(p,w){return!(w.minX>p.maxX||w.maxX<p.minX||w.minY>p.maxY||w.maxY<p.minY)}function E(p,w){if(p.length<2||w.length<2)return!1;var y=A(p),x=A(w);if(!C(y,x))return!1;var g=!1;if((0,k.each)(w,function(F){if((0,b.default)(p,F[0],F[1]))return g=!0,!1}),g||((0,k.each)(p,function(F){if((0,b.default)(w,F[0],F[1]))return g=!0,!1}),g))return!0;var S=L(p),_=L(w),B=!1;return(0,k.each)(_,function(F){if(P(S,F))return B=!0,!1}),B}M.default=E},28498:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,k=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),L=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig");function P(A){if(!A)return null;if((0,b.isArray)(A))return A;var C={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},E=[];return String(A).replace(k,function(p,w,y){var x=[],g=w.toLowerCase();if(y.replace(L,function(S,_){_&&x.push(+_)}),g==="m"&&x.length>2&&(E.push([w].concat(x.splice(0,2))),g="l",w=w==="m"?"l":"L"),g==="o"&&x.length===1&&E.push([w,x[0]]),g==="r")E.push([w].concat(x));else for(;x.length>=C[g]&&(E.push([w].concat(x.splice(0,C[g]))),!!C[g]););return""}),E}M.default=P},80315:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,k=/[^\s\,]+/ig;function L(P){var A=P||[];if((0,b.isArray)(A))return A;if((0,b.isString)(A))return A=A.match(O),(0,b.each)(A,function(C,E){if(C=C.match(k),C[0].length>1){var p=C[0].charAt(0);C.splice(1,0,C[0].substr(1)),C[0]=p}(0,b.each)(C,function(w,y){isNaN(w)||(C[y]=+w)}),A[E]=C}),A}M.default=L},74479:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(28498),k=/[a-z]/;function L(A,C){return[C[0]+(C[0]-A[0]),C[1]+(C[1]-A[1])]}function P(A){var C=(0,O.default)(A);if(!C||!C.length)return[["M",0,0]];for(var E=!1,p=0;p<C.length;p++){var w=C[p][0];if(k.test(w)||["V","H","T","S"].indexOf(w)>=0){E=!0;break}}if(!E)return C;var y=[],x=0,g=0,S=0,_=0,B=0,F,V,Z=C[0];(Z[0]==="M"||Z[0]==="m")&&(x=+Z[1],g=+Z[2],S=x,_=g,B++,y[0]=["M",x,g]);for(var p=B,X=C.length;p<X;p++){var U=C[p],nt=y[p-1],q=[],w=U[0],wt=w.toUpperCase();if(w!==wt)switch(q[0]=wt,wt){case"A":q[1]=U[1],q[2]=U[2],q[3]=U[3],q[4]=U[4],q[5]=U[5],q[6]=+U[6]+x,q[7]=+U[7]+g;break;case"V":q[1]=+U[1]+g;break;case"H":q[1]=+U[1]+x;break;case"M":S=+U[1]+x,_=+U[2]+g,q[1]=S,q[2]=_;break;default:for(var ft=1,Ot=U.length;ft<Ot;ft++)q[ft]=+U[ft]+(ft%2?x:g)}else q=C[p];switch(wt){case"Z":x=+S,g=+_;break;case"H":x=q[1],q=["L",x,g];break;case"V":g=q[1],q=["L",x,g];break;case"T":x=q[1],g=q[2];var St=L([nt[1],nt[2]],[nt[3],nt[4]]);q=["Q",St[0],St[1],x,g];break;case"S":x=q[q.length-2],g=q[q.length-1];var At=nt.length,Et=L([nt[At-4],nt[At-3]],[nt[At-2],nt[At-1]]);q=["C",Et[0],Et[1],q[1],q[2],x,g];break;case"M":S=q[q.length-2],_=q[q.length-1];break;default:x=q[q.length-2],g=q[q.length-1]}y.push(q)}return y}M.Z=P},49274:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(84023),O=d(84023),k=d(80315);function L(A,C){return[C[0]+(C[0]-A[0]),C[1]+(C[1]-A[1])]}function P(A){A=(0,k.default)(A);for(var C=[],E=null,p=null,w=null,y=0,x=A.length,g=0;g<x;g++){var S=A[g];p=A[g+1];var _=S[0],B={command:_,prePoint:E,params:S,startTangent:null,endTangent:null};switch(_){case"M":w=[S[1],S[2]],y=g;break;case"A":var F=(0,b.default)(E,S);B.arcParams=F;break;default:break}if(_==="Z")E=w,p=A[y+1];else{var V=S.length;E=[S[V-2],S[V-1]]}p&&p[0]==="Z"&&(p=A[y],C[y]&&(C[y].prePoint=E)),B.currentPoint=E,C[y]&&(0,O.isSamePoint)(E,C[y].currentPoint)&&(C[y].prePoint=B.prePoint);var Z=p?[p[p.length-2],p[p.length-1]]:null;B.nextPoint=Z;var X=B.prePoint;if(["L","H","V"].includes(_))B.startTangent=[X[0]-E[0],X[1]-E[1]],B.endTangent=[E[0]-X[0],E[1]-X[1]];else if(_==="Q"){var U=[S[1],S[2]];B.startTangent=[X[0]-U[0],X[1]-U[1]],B.endTangent=[E[0]-U[0],E[1]-U[1]]}else if(_==="T"){var nt=C[g-1],U=L(nt.currentPoint,X);nt.command==="Q"?(B.command="Q",B.startTangent=[X[0]-U[0],X[1]-U[1]],B.endTangent=[E[0]-U[0],E[1]-U[1]]):(B.command="TL",B.startTangent=[X[0]-E[0],X[1]-E[1]],B.endTangent=[E[0]-X[0],E[1]-X[1]])}else if(_==="C"){var q=[S[1],S[2]],wt=[S[3],S[4]];B.startTangent=[X[0]-q[0],X[1]-q[1]],B.endTangent=[E[0]-wt[0],E[1]-wt[1]],B.startTangent[0]===0&&B.startTangent[1]===0&&(B.startTangent=[q[0]-wt[0],q[1]-wt[1]]),B.endTangent[0]===0&&B.endTangent[1]===0&&(B.endTangent=[wt[0]-q[0],wt[1]-q[1]])}else if(_==="S"){var nt=C[g-1],q=L(nt.currentPoint,X),wt=[S[1],S[2]];nt.command==="C"?(B.command="C",B.startTangent=[X[0]-q[0],X[1]-q[1]],B.endTangent=[E[0]-wt[0],E[1]-wt[1]]):(B.command="SQ",B.startTangent=[X[0]-wt[0],X[1]-wt[1]],B.endTangent=[E[0]-wt[0],E[1]-wt[1]])}else if(_==="A"){var ft=.001,Ot=B.arcParams||{},St=Ot.cx,At=St===void 0?0:St,Et=Ot.cy,bt=Et===void 0?0:Et,Lt=Ot.rx,Bt=Lt===void 0?0:Lt,gt=Ot.ry,J=gt===void 0?0:gt,I=Ot.sweepFlag,u=I===void 0?0:I,R=Ot.startAngle,N=R===void 0?0:R,z=Ot.endAngle,j=z===void 0?0:z;u===0&&(ft*=-1);var K=Bt*Math.cos(N-ft)+At,at=J*Math.sin(N-ft)+bt;B.startTangent=[K-w[0],at-w[1]];var Tt=Bt*Math.cos(N+j+ft)+At,pt=J*Math.sin(N+j-ft)+bt;B.endTangent=[X[0]-Tt,X[1]-pt]}C.push(B)}return C}M.default=P},66957:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=1e-6;function b(L){return Math.abs(L)<d?0:L<0?-1:1}function O(L,P,A){return(A[0]-L[0])*(P[1]-L[1])==(P[0]-L[0])*(A[1]-L[1])&&Math.min(L[0],P[0])<=A[0]&&A[0]<=Math.max(L[0],P[0])&&Math.min(L[1],P[1])<=A[1]&&A[1]<=Math.max(L[1],P[1])}function k(L,P,A){var C=!1,E=L.length;if(E<=2)return!1;for(var p=0;p<E;p++){var w=L[p],y=L[(p+1)%E];if(O(w,y,[P,A]))return!0;b(w[1]-A)>0!=b(y[1]-A)>0&&b(P-(A-w[1])*(w[0]-y[0])/(w[1]-y[1])-w[0])<0&&(C=!C)}return C}M.default=k},72469:function(xt,M,d){"use strict";d.r(M),d.d(M,{Category:function(){return w},Identity:function(){return de},Linear:function(){return Ge},Log:function(){return sn},Pow:function(){return ai},Quantile:function(){return se},Quantize:function(){return Kt},Scale:function(){return C},Time:function(){return Mi},TimeCat:function(){return ce},getScale:function(){return Me},getTickMethod:function(){return L},registerScale:function(){return Se},registerTickMethod:function(){return P}});var b={};d.r(b),d.d(b,{assign:function(){return X},default:function(){return at},defaultI18n:function(){return ft},format:function(){return z},parse:function(){return j},setGlobalDateI18n:function(){return St},setGlobalDateMasks:function(){return N}});var O=d(49242),k={};function L(Nt){return k[Nt]}function P(Nt,Ut){k[Nt]=Ut}var A=function(){function Nt(Ut){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=Ut,this.initCfg(),this.init()}return Nt.prototype.translate=function(Ut){return Ut},Nt.prototype.change=function(Ut){(0,O.assign)(this.__cfg__,Ut),this.init()},Nt.prototype.clone=function(){return this.constructor(this.__cfg__)},Nt.prototype.getTicks=function(){var Ut=this;return(0,O.map)(this.ticks,function(qt,ye){return(0,O.isObject)(qt)?qt:{text:Ut.getText(qt,ye),tickValue:qt,value:Ut.scale(qt)}})},Nt.prototype.getText=function(Ut,qt){var ye=this.formatter,ge=ye?ye(Ut,qt):Ut;return(0,O.isNil)(ge)||!(0,O.isFunction)(ge.toString)?"":ge.toString()},Nt.prototype.getConfig=function(Ut){return this.__cfg__[Ut]},Nt.prototype.init=function(){(0,O.assign)(this,this.__cfg__),this.setDomain(),(0,O.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Nt.prototype.initCfg=function(){},Nt.prototype.setDomain=function(){},Nt.prototype.calculateTicks=function(){var Ut=this.tickMethod,qt=[];if((0,O.isString)(Ut)){var ye=L(Ut);if(!ye)throw new Error("There is no method to to calculate ticks!");qt=ye(this)}else(0,O.isFunction)(Ut)&&(qt=Ut(this));return qt},Nt.prototype.rangeMin=function(){return this.range[0]},Nt.prototype.rangeMax=function(){return this.range[1]},Nt.prototype.calcPercent=function(Ut,qt,ye){return(0,O.isNumber)(Ut)?(Ut-qt)/(ye-qt):NaN},Nt.prototype.calcValue=function(Ut,qt,ye){return qt+Ut*(ye-qt)},Nt}(),C=A,E=d(65353),p=function(Nt){(0,E.__extends)(Ut,Nt);function Ut(){var qt=Nt!==null&&Nt.apply(this,arguments)||this;return qt.type="cat",qt.isCategory=!0,qt}return Ut.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var qt=0;qt<this.values.length;qt++)this.translateIndexMap.set(this.values[qt],qt)}},Ut.prototype.translate=function(qt){this.buildIndexMap();var ye=this.translateIndexMap.get(qt);return ye===void 0&&(ye=(0,O.isNumber)(qt)?qt:NaN),ye},Ut.prototype.scale=function(qt){var ye=this.translate(qt),ge=this.calcPercent(ye,this.min,this.max);return this.calcValue(ge,this.rangeMin(),this.rangeMax())},Ut.prototype.invert=function(qt){var ye=this.max-this.min,ge=this.calcPercent(qt,this.rangeMin(),this.rangeMax()),Te=Math.round(ye*ge)+this.min;return Te<this.min||Te>this.max?NaN:this.values[Te]},Ut.prototype.getText=function(qt){for(var ye=[],ge=1;ge<arguments.length;ge++)ye[ge-1]=arguments[ge];var Te=qt;return(0,O.isNumber)(qt)&&!this.values.includes(qt)&&(Te=this.values[Te]),Nt.prototype.getText.apply(this,(0,E.__spreadArrays)([Te],ye))},Ut.prototype.initCfg=function(){this.tickMethod="cat"},Ut.prototype.setDomain=function(){if((0,O.isNil)(this.getConfig("min"))&&(this.min=0),(0,O.isNil)(this.getConfig("max"))){var qt=this.values.length;this.max=qt>1?qt-1:qt}this.translateIndexMap&&(this.translateIndexMap=void 0)},Ut}(C),w=p,y=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,x="\\d\\d?",g="\\d\\d",S="\\d{3}",_="\\d{4}",B="[^\\s]+",F=/\[([^]*?)\]/gm;function V(Nt,Ut){for(var qt=[],ye=0,ge=Nt.length;ye<ge;ye++)qt.push(Nt[ye].substr(0,Ut));return qt}var Z=function(Nt){return function(Ut,qt){var ye=qt[Nt].map(function(Te){return Te.toLowerCase()}),ge=ye.indexOf(Ut.toLowerCase());return ge>-1?ge:null}};function X(Nt){for(var Ut=[],qt=1;qt<arguments.length;qt++)Ut[qt-1]=arguments[qt];for(var ye=0,ge=Ut;ye<ge.length;ye++){var Te=ge[ye];for(var er in Te)Nt[er]=Te[er]}return Nt}var U=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],nt=["January","February","March","April","May","June","July","August","September","October","November","December"],q=V(nt,3),wt=V(U,3),ft={dayNamesShort:wt,dayNames:U,monthNamesShort:q,monthNames:nt,amPm:["am","pm"],DoFn:function(Nt){return Nt+["th","st","nd","rd"][Nt%10>3?0:(Nt-Nt%10!=10?1:0)*Nt%10]}},Ot=X({},ft),St=function(Nt){return Ot=X(Ot,Nt)},At=function(Nt){return Nt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Et=function(Nt,Ut){for(Ut===void 0&&(Ut=2),Nt=String(Nt);Nt.length<Ut;)Nt="0"+Nt;return Nt},bt={D:function(Nt){return String(Nt.getDate())},DD:function(Nt){return Et(Nt.getDate())},Do:function(Nt,Ut){return Ut.DoFn(Nt.getDate())},d:function(Nt){return String(Nt.getDay())},dd:function(Nt){return Et(Nt.getDay())},ddd:function(Nt,Ut){return Ut.dayNamesShort[Nt.getDay()]},dddd:function(Nt,Ut){return Ut.dayNames[Nt.getDay()]},M:function(Nt){return String(Nt.getMonth()+1)},MM:function(Nt){return Et(Nt.getMonth()+1)},MMM:function(Nt,Ut){return Ut.monthNamesShort[Nt.getMonth()]},MMMM:function(Nt,Ut){return Ut.monthNames[Nt.getMonth()]},YY:function(Nt){return Et(String(Nt.getFullYear()),4).substr(2)},YYYY:function(Nt){return Et(Nt.getFullYear(),4)},h:function(Nt){return String(Nt.getHours()%12||12)},hh:function(Nt){return Et(Nt.getHours()%12||12)},H:function(Nt){return String(Nt.getHours())},HH:function(Nt){return Et(Nt.getHours())},m:function(Nt){return String(Nt.getMinutes())},mm:function(Nt){return Et(Nt.getMinutes())},s:function(Nt){return String(Nt.getSeconds())},ss:function(Nt){return Et(Nt.getSeconds())},S:function(Nt){return String(Math.round(Nt.getMilliseconds()/100))},SS:function(Nt){return Et(Math.round(Nt.getMilliseconds()/10),2)},SSS:function(Nt){return Et(Nt.getMilliseconds(),3)},a:function(Nt,Ut){return Nt.getHours()<12?Ut.amPm[0]:Ut.amPm[1]},A:function(Nt,Ut){return Nt.getHours()<12?Ut.amPm[0].toUpperCase():Ut.amPm[1].toUpperCase()},ZZ:function(Nt){var Ut=Nt.getTimezoneOffset();return(Ut>0?"-":"+")+Et(Math.floor(Math.abs(Ut)/60)*100+Math.abs(Ut)%60,4)},Z:function(Nt){var Ut=Nt.getTimezoneOffset();return(Ut>0?"-":"+")+Et(Math.floor(Math.abs(Ut)/60),2)+":"+Et(Math.abs(Ut)%60,2)}},Lt=function(Nt){return+Nt-1},Bt=[null,x],gt=[null,B],J=["isPm",B,function(Nt,Ut){var qt=Nt.toLowerCase();return qt===Ut.amPm[0]?0:qt===Ut.amPm[1]?1:null}],I=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Nt){var Ut=(Nt+"").match(/([+-]|\d\d)/gi);if(Ut){var qt=+Ut[1]*60+parseInt(Ut[2],10);return Ut[0]==="+"?qt:-qt}return 0}],u={D:["day",x],DD:["day",g],Do:["day",x+B,function(Nt){return parseInt(Nt,10)}],M:["month",x,Lt],MM:["month",g,Lt],YY:["year",g,function(Nt){var Ut=new Date,qt=+(""+Ut.getFullYear()).substr(0,2);return+(""+(+Nt>68?qt-1:qt)+Nt)}],h:["hour",x,void 0,"isPm"],hh:["hour",g,void 0,"isPm"],H:["hour",x],HH:["hour",g],m:["minute",x],mm:["minute",g],s:["second",x],ss:["second",g],YYYY:["year",_],S:["millisecond","\\d",function(Nt){return+Nt*100}],SS:["millisecond",g,function(Nt){return+Nt*10}],SSS:["millisecond",S],d:Bt,dd:Bt,ddd:gt,dddd:gt,MMM:["month",B,Z("monthNamesShort")],MMMM:["month",B,Z("monthNames")],a:J,A:J,ZZ:I,Z:I},R={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},N=function(Nt){return X(R,Nt)},z=function(Nt,Ut,qt){if(Ut===void 0&&(Ut=R.default),qt===void 0&&(qt={}),typeof Nt=="number"&&(Nt=new Date(Nt)),Object.prototype.toString.call(Nt)!=="[object Date]"||isNaN(Nt.getTime()))throw new Error("Invalid Date pass to format");Ut=R[Ut]||Ut;var ye=[];Ut=Ut.replace(F,function(Te,er){return ye.push(er),"@@@"});var ge=X(X({},Ot),qt);return Ut=Ut.replace(y,function(Te){return bt[Te](Nt,ge)}),Ut.replace(/@@@/g,function(){return ye.shift()})};function j(Nt,Ut,qt){if(qt===void 0&&(qt={}),typeof Ut!="string")throw new Error("Invalid format in fecha parse");if(Ut=R[Ut]||Ut,Nt.length>1e3)return null;var ye=new Date,ge={year:ye.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Te=[],er=[],nr=Ut.replace(F,function(fr,Xe){return er.push(At(Xe)),"@@@"}),Pt={},ht={};nr=At(nr).replace(y,function(fr){var Xe=u[fr],Ne=Xe[0],Or=Xe[1],Er=Xe[3];if(Pt[Ne])throw new Error("Invalid format. "+Ne+" specified twice in format");return Pt[Ne]=!0,Er&&(ht[Er]=!0),Te.push(Xe),"("+Or+")"}),Object.keys(ht).forEach(function(fr){if(!Pt[fr])throw new Error("Invalid format. "+fr+" is required in specified format")}),nr=nr.replace(/@@@/g,function(){return er.shift()});var ot=Nt.match(new RegExp(nr,"i"));if(!ot)return null;for(var dt=X(X({},Ot),qt),kt=1;kt<ot.length;kt++){var jt=Te[kt-1],oe=jt[0],fe=jt[2],ue=fe?fe(ot[kt],dt):+ot[kt];if(ue==null)return null;ge[oe]=ue}ge.isPm===1&&ge.hour!=null&&+ge.hour!=12?ge.hour=+ge.hour+12:ge.isPm===0&&+ge.hour==12&&(ge.hour=0);var ke;if(ge.timezoneOffset==null){ke=new Date(ge.year,ge.month,ge.day,ge.hour,ge.minute,ge.second,ge.millisecond);for(var Be=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],kt=0,Ye=Be.length;kt<Ye;kt++)if(Pt[Be[kt][0]]&&ge[Be[kt][0]]!==ke[Be[kt][1]]())return null}else if(ke=new Date(Date.UTC(ge.year,ge.month,ge.day,ge.hour,ge.minute-ge.timezoneOffset,ge.second,ge.millisecond)),ge.month>11||ge.month<0||ge.day>31||ge.day<1||ge.hour>23||ge.hour<0||ge.minute>59||ge.minute<0||ge.second>59||ge.second<0)return null;return ke}var K={format:z,parse:j,defaultI18n:ft,setGlobalDateI18n:St,setGlobalDateMasks:N},at=K;function Tt(Nt){return function(Ut,qt,ye,ge){for(var Te=(0,O.isNil)(ye)?0:ye,er=(0,O.isNil)(ge)?Ut.length:ge;Te<er;){var nr=Te+er>>>1;Nt(Ut[nr])>qt?er=nr:Te=nr+1}return Te}}var pt="format";function Q(Nt,Ut){var qt=b[pt]||at[pt];return qt(Nt,Ut)}function vt(Nt){return(0,O.isString)(Nt)&&(Nt.indexOf("T")>0?Nt=new Date(Nt).getTime():Nt=new Date(Nt.replace(/-/gi,"/")).getTime()),(0,O.isDate)(Nt)&&(Nt=Nt.getTime()),Nt}var et=1e3,it=60*et,ct=60*it,rt=24*ct,tt=rt*31,mt=rt*365,_t=[["HH:mm:ss",et],["HH:mm:ss",et*10],["HH:mm:ss",et*30],["HH:mm",it],["HH:mm",it*10],["HH:mm",it*30],["HH",ct],["HH",ct*6],["HH",ct*12],["YYYY-MM-DD",rt],["YYYY-MM-DD",rt*4],["YYYY-WW",rt*7],["YYYY-MM",tt],["YYYY-MM",tt*4],["YYYY-MM",tt*6],["YYYY",rt*380]];function Wt(Nt,Ut,qt){var ye=(Ut-Nt)/qt,ge=Tt(function(er){return er[1]})(_t,ye)-1,Te=_t[ge];return ge<0?Te=_t[0]:ge>=_t.length&&(Te=(0,O.last)(_t)),Te}var te=function(Nt){(0,E.__extends)(Ut,Nt);function Ut(){var qt=Nt!==null&&Nt.apply(this,arguments)||this;return qt.type="timeCat",qt}return Ut.prototype.translate=function(qt){qt=vt(qt);var ye=this.values.indexOf(qt);return ye===-1&&((0,O.isNumber)(qt)&&qt<this.values.length?ye=qt:ye=NaN),ye},Ut.prototype.getText=function(qt,ye){var ge=this.translate(qt);if(ge>-1){var Te=this.values[ge],er=this.formatter;return Te=er?er(Te,ye):Q(Te,this.mask),Te}return qt},Ut.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},Ut.prototype.setDomain=function(){var qt=this.values;(0,O.each)(qt,function(ye,ge){qt[ge]=vt(ye)}),qt.sort(function(ye,ge){return ye-ge}),Nt.prototype.setDomain.call(this)},Ut}(w),ce=te,Pe=function(Nt){(0,E.__extends)(Ut,Nt);function Ut(){var qt=Nt!==null&&Nt.apply(this,arguments)||this;return qt.isContinuous=!0,qt}return Ut.prototype.scale=function(qt){if((0,O.isNil)(qt))return NaN;var ye=this.rangeMin(),ge=this.rangeMax(),Te=this.max,er=this.min;if(Te===er)return ye;var nr=this.getScalePercent(qt);return ye+nr*(ge-ye)},Ut.prototype.init=function(){Nt.prototype.init.call(this);var qt=this.ticks,ye=(0,O.head)(qt),ge=(0,O.last)(qt);ye<this.min&&(this.min=ye),ge>this.max&&(this.max=ge),(0,O.isNil)(this.minLimit)||(this.min=ye),(0,O.isNil)(this.maxLimit)||(this.max=ge)},Ut.prototype.setDomain=function(){var qt=(0,O.getRange)(this.values),ye=qt.min,ge=qt.max;(0,O.isNil)(this.min)&&(this.min=ye),(0,O.isNil)(this.max)&&(this.max=ge),this.min>this.max&&(this.min=ye,this.max=ge)},Ut.prototype.calculateTicks=function(){var qt=this,ye=Nt.prototype.calculateTicks.call(this);return this.nice||(ye=(0,O.filter)(ye,function(ge){return ge>=qt.min&&ge<=qt.max})),ye},Ut.prototype.getScalePercent=function(qt){var ye=this.max,ge=this.min;return(qt-ge)/(ye-ge)},Ut.prototype.getInvertPercent=function(qt){return(qt-this.rangeMin())/(this.rangeMax()-this.rangeMin())},Ut}(C),we=Pe,Ce=function(Nt){(0,E.__extends)(Ut,Nt);function Ut(){var qt=Nt!==null&&Nt.apply(this,arguments)||this;return qt.type="linear",qt.isLinear=!0,qt}return Ut.prototype.invert=function(qt){var ye=this.getInvertPercent(qt);return this.min+ye*(this.max-this.min)},Ut.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},Ut}(we),Ge=Ce;function $e(Nt,Ut){var qt=Math.E,ye;return Ut>=0?ye=Math.pow(qt,Math.log(Ut)/Nt):ye=Math.pow(qt,Math.log(-Ut)/Nt)*-1,ye}function cr(Nt,Ut){return Nt===1?1:Math.log(Ut)/Math.log(Nt)}function or(Nt,Ut,qt){(0,O.isNil)(qt)&&(qt=Math.max.apply(null,Nt));var ye=qt;return(0,O.each)(Nt,function(ge){ge>0&&ge<ye&&(ye=ge)}),ye===qt&&(ye=qt/Ut),ye>1&&(ye=1),ye}function Xr(Nt){var Ut=Nt.toString().split(/[eE]/),qt=(Ut[0].split(".")[1]||"").length-+(Ut[1]||0);return qt>0?qt:0}function xn(Nt,Ut){var qt=Xr(Nt),ye=Xr(Ut),ge=Math.pow(10,Math.max(qt,ye));return(Nt*ge+Ut*ge)/ge}var Wr=function(Nt){(0,E.__extends)(Ut,Nt);function Ut(){var qt=Nt!==null&&Nt.apply(this,arguments)||this;return qt.type="log",qt}return Ut.prototype.invert=function(qt){var ye=this.base,ge=cr(ye,this.max),Te=this.rangeMin(),er=this.rangeMax()-Te,nr,Pt=this.positiveMin;if(Pt){if(qt===0)return 0;nr=cr(ye,Pt/ye);var ht=1/(ge-nr)*er;if(qt<ht)return qt/ht*Pt}else nr=cr(ye,this.min);var ot=(qt-Te)/er,dt=ot*(ge-nr)+nr;return Math.pow(ye,dt)},Ut.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},Ut.prototype.setDomain=function(){Nt.prototype.setDomain.call(this);var qt=this.min;if(qt<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");qt===0&&(this.positiveMin=or(this.values,this.base,this.max))},Ut.prototype.getScalePercent=function(qt){var ye=this.max,ge=this.min;if(ye===ge||qt<=0)return 0;var Te=this.base,er=this.positiveMin;er&&(ge=er*1/Te);var nr;return qt<er?nr=qt/er/(cr(Te,ye)-cr(Te,ge)):nr=(cr(Te,qt)-cr(Te,ge))/(cr(Te,ye)-cr(Te,ge)),nr},Ut}(we),sn=Wr,Jn=function(Nt){(0,E.__extends)(Ut,Nt);function Ut(){var qt=Nt!==null&&Nt.apply(this,arguments)||this;return qt.type="pow",qt}return Ut.prototype.invert=function(qt){var ye=this.getInvertPercent(qt),ge=this.exponent,Te=$e(ge,this.max),er=$e(ge,this.min),nr=ye*(Te-er)+er,Pt=nr>=0?1:-1;return Math.pow(nr,ge)*Pt},Ut.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},Ut.prototype.getScalePercent=function(qt){var ye=this.max,ge=this.min;if(ye===ge)return 0;var Te=this.exponent,er=($e(Te,qt)-$e(Te,ge))/($e(Te,ye)-$e(Te,ge));return er},Ut}(we),ai=Jn,Si=function(Nt){(0,E.__extends)(Ut,Nt);function Ut(){var qt=Nt!==null&&Nt.apply(this,arguments)||this;return qt.type="time",qt}return Ut.prototype.getText=function(qt,ye){var ge=this.translate(qt),Te=this.formatter;return Te?Te(ge,ye):Q(ge,this.mask)},Ut.prototype.scale=function(qt){var ye=qt;return((0,O.isString)(ye)||(0,O.isDate)(ye))&&(ye=this.translate(ye)),Nt.prototype.scale.call(this,ye)},Ut.prototype.translate=function(qt){return vt(qt)},Ut.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},Ut.prototype.setDomain=function(){var qt=this.values,ye=this.getConfig("min"),ge=this.getConfig("max");if((!(0,O.isNil)(ye)||!(0,O.isNumber)(ye))&&(this.min=this.translate(this.min)),(!(0,O.isNil)(ge)||!(0,O.isNumber)(ge))&&(this.max=this.translate(this.max)),qt&&qt.length){var Te=[],er=Infinity,nr=er,Pt=0;(0,O.each)(qt,function(ht){var ot=vt(ht);if(isNaN(ot))throw new TypeError("Invalid Time: "+ht+" in time scale!");er>ot?(nr=er,er=ot):nr>ot&&(nr=ot),Pt<ot&&(Pt=ot),Te.push(ot)}),qt.length>1&&(this.minTickInterval=nr-er),(0,O.isNil)(ye)&&(this.min=er),(0,O.isNil)(ge)&&(this.max=Pt)}},Ut}(Ge),Mi=Si,Ht=function(Nt){(0,E.__extends)(Ut,Nt);function Ut(){var qt=Nt!==null&&Nt.apply(this,arguments)||this;return qt.type="quantize",qt}return Ut.prototype.invert=function(qt){var ye=this.ticks,ge=ye.length,Te=this.getInvertPercent(qt),er=Math.floor(Te*(ge-1));if(er>=ge-1)return(0,O.last)(ye);if(er<0)return(0,O.head)(ye);var nr=ye[er],Pt=ye[er+1],ht=er/(ge-1),ot=(er+1)/(ge-1);return nr+(Te-ht)/(ot-ht)*(Pt-nr)},Ut.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},Ut.prototype.calculateTicks=function(){var qt=Nt.prototype.calculateTicks.call(this);return this.nice||((0,O.last)(qt)!==this.max&&qt.push(this.max),(0,O.head)(qt)!==this.min&&qt.unshift(this.min)),qt},Ut.prototype.getScalePercent=function(qt){var ye=this.ticks;if(qt<(0,O.head)(ye))return 0;if(qt>(0,O.last)(ye))return 1;var ge=0;return(0,O.each)(ye,function(Te,er){if(qt>=Te)ge=er;else return!1}),ge/(ye.length-1)},Ut}(we),Kt=Ht,ie=function(Nt){(0,E.__extends)(Ut,Nt);function Ut(){var qt=Nt!==null&&Nt.apply(this,arguments)||this;return qt.type="quantile",qt}return Ut.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},Ut}(Kt),se=ie,xe={};function Me(Nt){return xe[Nt]}function Se(Nt,Ut){if(Me(Nt))throw new Error("type '"+Nt+"' existed.");xe[Nt]=Ut}var _e=function(Nt){(0,E.__extends)(Ut,Nt);function Ut(){var qt=Nt!==null&&Nt.apply(this,arguments)||this;return qt.type="identity",qt.isIdentity=!0,qt}return Ut.prototype.calculateTicks=function(){return this.values},Ut.prototype.scale=function(qt){return this.values[0]!==qt&&(0,O.isNumber)(qt)?qt:this.range[0]},Ut.prototype.invert=function(qt){var ye=this.range;return qt<ye[0]||qt>ye[1]?NaN:this.values[0]},Ut}(C),de=_e;function Ue(Nt){var Ut=Nt.values,qt=Nt.tickInterval,ye=Nt.tickCount,ge=Nt.showLast;if((0,O.isNumber)(qt)){var Te=(0,O.filter)(Ut,function(oe,fe){return fe%qt==0}),er=(0,O.last)(Ut);return ge&&(0,O.last)(Te)!==er&&Te.push(er),Te}var nr=Ut.length,Pt=Nt.min,ht=Nt.max;if((0,O.isNil)(Pt)&&(Pt=0),(0,O.isNil)(ht)&&(ht=Ut.length-1),!(0,O.isNumber)(ye)||ye>=nr)return Ut.slice(Pt,ht+1);if(ye<=0||ht<=0)return[];for(var ot=ye===1?nr:Math.floor(nr/(ye-1)),dt=[],kt=Pt,jt=0;jt<ye&&!(kt>=ht);jt++)kt=Math.min(Pt+jt*ot,ht),jt===ye-1&&ge?dt.push(Ut[ht]):dt.push(Ut[kt]);return dt}function Re(Nt){var Ut=Nt.min,qt=Nt.max,ye=Nt.nice,ge=Nt.tickCount,Te=new pr;return Te.domain([Ut,qt]),ye&&Te.nice(ge),Te.ticks(ge)}var tr=5,hr=Math.sqrt(50),ar=Math.sqrt(10),vr=Math.sqrt(2),pr=function(){function Nt(){this._domain=[0,1]}return Nt.prototype.domain=function(Ut){return Ut?(this._domain=Array.from(Ut,Number),this):this._domain.slice()},Nt.prototype.nice=function(Ut){var qt,ye;Ut===void 0&&(Ut=tr);var ge=this._domain.slice(),Te=0,er=this._domain.length-1,nr=this._domain[Te],Pt=this._domain[er],ht;return Pt<nr&&(qt=[Pt,nr],nr=qt[0],Pt=qt[1],ye=[er,Te],Te=ye[0],er=ye[1]),ht=Je(nr,Pt,Ut),ht>0?(nr=Math.floor(nr/ht)*ht,Pt=Math.ceil(Pt/ht)*ht,ht=Je(nr,Pt,Ut)):ht<0&&(nr=Math.ceil(nr*ht)/ht,Pt=Math.floor(Pt*ht)/ht,ht=Je(nr,Pt,Ut)),ht>0?(ge[Te]=Math.floor(nr/ht)*ht,ge[er]=Math.ceil(Pt/ht)*ht,this.domain(ge)):ht<0&&(ge[Te]=Math.ceil(nr*ht)/ht,ge[er]=Math.floor(Pt*ht)/ht,this.domain(ge)),this},Nt.prototype.ticks=function(Ut){return Ut===void 0&&(Ut=tr),Cr(this._domain[0],this._domain[this._domain.length-1],Ut||tr)},Nt}();function Cr(Nt,Ut,qt){var ye,ge=-1,Te,er,nr;if(Ut=+Ut,Nt=+Nt,qt=+qt,Nt===Ut&&qt>0)return[Nt];if((ye=Ut<Nt)&&(Te=Nt,Nt=Ut,Ut=Te),(nr=Je(Nt,Ut,qt))===0||!isFinite(nr))return[];if(nr>0)for(Nt=Math.ceil(Nt/nr),Ut=Math.floor(Ut/nr),er=new Array(Te=Math.ceil(Ut-Nt+1));++ge<Te;)er[ge]=(Nt+ge)*nr;else for(Nt=Math.floor(Nt*nr),Ut=Math.ceil(Ut*nr),er=new Array(Te=Math.ceil(Nt-Ut+1));++ge<Te;)er[ge]=(Nt-ge)/nr;return ye&&er.reverse(),er}function Je(Nt,Ut,qt){var ye=(Ut-Nt)/Math.max(0,qt),ge=Math.floor(Math.log(ye)/Math.LN10),Te=ye/Math.pow(10,ge);return ge>=0?(Te>=hr?10:Te>=ar?5:Te>=vr?2:1)*Math.pow(10,ge):-Math.pow(10,-ge)/(Te>=hr?10:Te>=ar?5:Te>=vr?2:1)}function Ar(Nt,Ut,qt){var ye;return qt==="ceil"?ye=Math.ceil(Nt/Ut):qt==="floor"?ye=Math.floor(Nt/Ut):ye=Math.round(Nt/Ut),ye*Ut}function Ir(Nt,Ut,qt){var ye=Ar(Nt,qt,"floor"),ge=Ar(Ut,qt,"ceil");ye=(0,O.fixedBase)(ye,qt),ge=(0,O.fixedBase)(ge,qt);for(var Te=[],er=Math.max((ge-ye)/(Math.pow(2,12)-1),qt),nr=ye;nr<=ge;nr=nr+er){var Pt=(0,O.fixedBase)(nr,er);Te.push(Pt)}return{min:ye,max:ge,ticks:Te}}function Tr(Nt,Ut,qt){var ye,ge=Nt.minLimit,Te=Nt.maxLimit,er=Nt.min,nr=Nt.max,Pt=Nt.tickCount,ht=Pt===void 0?5:Pt,ot=(0,O.isNil)(ge)?(0,O.isNil)(Ut)?er:Ut:ge,dt=(0,O.isNil)(Te)?(0,O.isNil)(qt)?nr:qt:Te;if(ot>dt&&(ye=[ot,dt],dt=ye[0],ot=ye[1]),ht<=2)return[ot,dt];for(var kt=(dt-ot)/(ht-1),jt=[],oe=0;oe<ht;oe++)jt.push(ot+kt*oe);return jt}function Rr(Nt){var Ut=Nt.min,qt=Nt.max,ye=Nt.tickInterval,ge=Nt.minLimit,Te=Nt.maxLimit,er=Re(Nt);return!(0,O.isNil)(ge)||!(0,O.isNil)(Te)?Tr(Nt,(0,O.head)(er),(0,O.last)(er)):ye?Ir(Ut,qt,ye).ticks:er}function Zr(Nt){return Math.abs(Nt)<1e-15?Nt:parseFloat(Nt.toFixed(15))}var Kr=[1,5,2,2.5,4,3],jn=null,ln=Number.EPSILON*100;function Kn(Nt,Ut){return(Nt%Ut+Ut)%Ut}function ci(Nt){return Math.round(Nt*1e12)/1e12}function oi(Nt,Ut,qt,ye,ge,Te){var er=(0,O.size)(Ut),nr=(0,O.indexOf)(Ut,Nt),Pt=0,ht=Kn(ye,Te);return(ht<ln||Te-ht<ln)&&ye<=0&&ge>=0&&(Pt=1),1-nr/(er-1)-qt+Pt}function Li(Nt,Ut,qt){var ye=(0,O.size)(Ut),ge=(0,O.indexOf)(Ut,Nt),Te=1;return 1-ge/(ye-1)-qt+Te}function Ii(Nt,Ut,qt,ye,ge,Te){var er=(Nt-1)/(Te-ge),nr=(Ut-1)/(Math.max(Te,ye)-Math.min(qt,ge));return 2-Math.max(er/nr,nr/er)}function Br(Nt,Ut){return Nt>=Ut?2-(Nt-1)/(Ut-1):1}function vi(Nt,Ut,qt,ye){var ge=Ut-Nt;return 1-.5*(Math.pow(Ut-ye,2)+Math.pow(Nt-qt,2))/Math.pow(.1*ge,2)}function ki(Nt,Ut,qt){var ye=Ut-Nt;if(qt>ye){var ge=(qt-ye)/2;return 1-Math.pow(ge,2)/Math.pow(.1*ye,2)}return 1}function li(){return 1}function Tn(Nt,Ut,qt,ye,ge,Te){qt===void 0&&(qt=5),ye===void 0&&(ye=!0),ge===void 0&&(ge=Kr),Te===void 0&&(Te=[.25,.2,.5,.05]);var er=qt<0?0:Math.round(qt);if(Number.isNaN(Nt)||Number.isNaN(Ut)||typeof Nt!="number"||typeof Ut!="number"||!er)return{min:0,max:0,ticks:[]};if(Ut-Nt<1e-15||er===1)return{min:Nt,max:Ut,ticks:[Nt]};if(Ut-Nt>1e148){var nr=qt||5,Pt=(Ut-Nt)/nr;return{min:Nt,max:Ut,ticks:Array(nr).fill(null).map(function(fa,Za){return Zr(Nt+Pt*Za)})}}for(var ht={score:-2,lmin:0,lmax:0,lstep:0},ot=1;ot<Infinity;){for(var dt=0;dt<ge.length;dt+=1){var kt=ge[dt],jt=Li(kt,ge,ot);if(Te[0]*jt+Te[1]+Te[2]+Te[3]<ht.score){ot=Infinity;break}for(var oe=2;oe<Infinity;){var fe=Br(oe,er);if(Te[0]*jt+Te[1]+Te[2]*fe+Te[3]<ht.score)break;for(var ue=(Ut-Nt)/(oe+1)/ot/kt,ke=Math.ceil(Math.log10(ue));ke<Infinity;){var Be=ot*kt*Math.pow(10,ke),Ye=ki(Nt,Ut,Be*(oe-1));if(Te[0]*jt+Te[1]*Ye+Te[2]*fe+Te[3]<ht.score)break;var fr=Math.floor(Ut/Be)*ot-(oe-1)*ot,Xe=Math.ceil(Nt/Be)*ot;if(fr<=Xe)for(var nr=Xe-fr,Ne=0;Ne<=nr;Ne+=1){var Or=fr+Ne,Er=Or*(Be/ot),jr=Er+Be*(oe-1),$r=Be,mr=oi(kt,ge,ot,Er,jr,$r),sr=vi(Nt,Ut,Er,jr),Qr=Ii(oe,er,Nt,Ut,Er,jr),Cn=li(),Dn=Te[0]*mr+Te[1]*sr+Te[2]*Qr+Te[3]*Cn;Dn>ht.score&&(!ye||Er<=Nt&&jr>=Ut)&&(ht.lmin=Er,ht.lmax=jr,ht.lstep=$r,ht.score=Dn)}ke+=1}oe+=1}}ot+=1}var ui=Zr(ht.lmax),fi=Zr(ht.lmin),Ba=Zr(ht.lstep),Qi=Math.floor(ci((ui-fi)/Ba))+1,Ji=new Array(Qi);Ji[0]=Zr(fi);for(var dt=1;dt<Qi;dt++)Ji[dt]=Zr(Ji[dt-1]+Ba);return{min:Math.min(Nt,(0,O.head)(Ji)),max:Math.max(Ut,(0,O.last)(Ji)),ticks:Ji}}function di(Nt){var Ut=Nt.min,qt=Nt.max,ye=Nt.tickCount,ge=Nt.nice,Te=Nt.tickInterval,er=Nt.minLimit,nr=Nt.maxLimit,Pt=Tn(Ut,qt,ye,ge).ticks;return!(0,O.isNil)(er)||!(0,O.isNil)(nr)?Tr(Nt,(0,O.head)(Pt),(0,O.last)(Pt)):Te?Ir(Ut,qt,Te).ticks:Pt}function Gi(Nt){var Ut=Nt.base,qt=Nt.tickCount,ye=Nt.min,ge=Nt.max,Te=Nt.values,er,nr=cr(Ut,ge);if(ye>0)er=Math.floor(cr(Ut,ye));else{var Pt=or(Te,Ut,ge);er=Math.floor(cr(Ut,Pt))}for(var ht=nr-er,ot=Math.ceil(ht/qt),dt=[],kt=er;kt<nr+ot;kt=kt+ot)dt.push(Math.pow(Ut,kt));return ye<=0&&dt.unshift(0),dt}function mi(Nt,Ut,qt){if(qt===void 0&&(qt=5),Nt===Ut)return{max:Ut,min:Nt,ticks:[Nt]};var ye=qt<0?0:Math.round(qt);if(ye===0)return{max:Ut,min:Nt,ticks:[]};var ge=1.5,Te=.5+1.5*ge,er=Ut-Nt,nr=er/ye,Pt=Math.pow(10,Math.floor(Math.log10(nr))),ht=Pt;2*Pt-nr<ge*(nr-ht)&&(ht=2*Pt,5*Pt-nr<Te*(nr-ht)&&(ht=5*Pt,10*Pt-nr<ge*(nr-ht)&&(ht=10*Pt)));for(var ot=Math.ceil(Ut/ht),dt=Math.floor(Nt/ht),kt=Math.max(ot*ht,Ut),jt=Math.min(dt*ht,Nt),oe=Math.floor((kt-jt)/ht)+1,fe=new Array(oe),ue=0;ue<oe;ue++)fe[ue]=Zr(jt+ue*ht);return{min:jt,max:kt,ticks:fe}}function Ci(Nt){var Ut=Nt.exponent,qt=Nt.tickCount,ye=Math.ceil($e(Ut,Nt.max)),ge=Math.floor($e(Ut,Nt.min)),Te=mi(ge,ye,qt).ticks;return Te.map(function(er){var nr=er>=0?1:-1;return Math.pow(er,Ut)*nr})}function qn(Nt,Ut){var qt=Nt.length*Ut;return Ut===1?Nt[Nt.length-1]:Ut===0?Nt[0]:qt%1!=0?Nt[Math.ceil(qt)-1]:Nt.length%2==0?(Nt[qt-1]+Nt[qt])/2:Nt[qt]}function $i(Nt){var Ut=Nt.tickCount,qt=Nt.values;if(!qt||!qt.length)return[];for(var ye=qt.slice().sort(function(nr,Pt){return nr-Pt}),ge=[],Te=0;Te<Ut;Te++){var er=Te/(Ut-1);ge.push(qn(ye,er))}return ge}function ua(Nt){var Ut=Nt.min,qt=Nt.max,ye=Nt.tickCount,ge=Nt.tickInterval,Te=Nt.minLimit,er=Nt.maxLimit,nr=mi(Ut,qt,ye).ticks;return!(0,O.isNil)(Te)||!(0,O.isNil)(er)?Tr(Nt,(0,O.head)(nr),(0,O.last)(nr)):ge?Ir(Ut,qt,ge).ticks:nr}function Jt(Nt){var Ut=Nt.min,qt=Nt.max,ye=Nt.minTickInterval,ge=Nt.tickInterval,Te=Nt.tickCount;if(ge)Te=Math.ceil((qt-Ut)/ge);else{ge=Wt(Ut,qt,Te)[1];var er=(qt-Ut)/ge,nr=er/Te;nr>1&&(ge=ge*Math.ceil(nr)),ye&&ge<ye&&(ge=ye)}ge=Math.max(Math.floor((qt-Ut)/(Math.pow(2,12)-1)),ge);for(var Pt=[],ht=Ut;ht<qt+ge;ht+=ge)Pt.push(ht);return Pt}function Rt(Nt){var Ut=Ue((0,E.__assign)({showLast:!0},Nt));return Ut}function Qt(Nt){return new Date(Nt).getFullYear()}function pe(Nt){return new Date(Nt,0,1).getTime()}function Oe(Nt){return new Date(Nt).getMonth()}function rr(Nt,Ut){var qt=Qt(Nt),ye=Qt(Ut),ge=Oe(Nt),Te=Oe(Ut);return(ye-qt)*12+(Te-ge)%12}function ur(Nt,Ut){return new Date(Nt,Ut,1).getTime()}function lr(Nt,Ut){return Math.ceil((Ut-Nt)/rt)}function Vr(Nt,Ut){return Math.ceil((Ut-Nt)/ct)}function yn(Nt,Ut){return Math.ceil((Ut-Nt)/(60*1e3))}function ti(Nt){var Ut=Nt.min,qt=Nt.max,ye=Nt.minTickInterval,ge=Nt.tickCount,Te=Nt.tickInterval,er=[];Te||(Te=(qt-Ut)/ge,ye&&Te<ye&&(Te=ye)),Te=Math.max(Math.floor((qt-Ut)/(Math.pow(2,12)-1)),Te);var nr=Qt(Ut);if(Te>mt)for(var Pt=Qt(qt),ht=Math.ceil(Te/mt),ot=nr;ot<=Pt+ht;ot=ot+ht)er.push(pe(ot));else if(Te>tt)for(var dt=Math.ceil(Te/tt),kt=Oe(Ut),jt=rr(Ut,qt),ot=0;ot<=jt+dt;ot=ot+dt)er.push(ur(nr,ot+kt));else if(Te>rt)for(var oe=new Date(Ut),fe=oe.getFullYear(),ue=oe.getMonth(),ke=oe.getDate(),Be=Math.ceil(Te/rt),Ye=lr(Ut,qt),ot=0;ot<Ye+Be;ot=ot+Be)er.push(new Date(fe,ue,ke+ot).getTime());else if(Te>ct)for(var oe=new Date(Ut),fe=oe.getFullYear(),ue=oe.getMonth(),Be=oe.getDate(),fr=oe.getHours(),Xe=Math.ceil(Te/ct),Ne=Vr(Ut,qt),ot=0;ot<=Ne+Xe;ot=ot+Xe)er.push(new Date(fe,ue,Be,fr+ot).getTime());else if(Te>it)for(var Or=yn(Ut,qt),Er=Math.ceil(Te/it),ot=0;ot<=Or+Er;ot=ot+Er)er.push(Ut+ot*it);else{var jr=Te;jr<et&&(jr=et);for(var $r=Math.floor(Ut/et)*et,mr=Math.ceil((qt-Ut)/et),sr=Math.ceil(jr/et),ot=0;ot<mr+sr;ot=ot+sr)er.push($r+ot*et)}return er.length>=512&&console.warn("Notice: current ticks length("+er.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+Te+") is too small, increase the value to solve the problem!"),er}P("cat",Ue),P("time-cat",Rt),P("wilkinson-extended",di),P("r-pretty",ua),P("time",Jt),P("time-pretty",ti),P("log",Gi),P("pow",Ci),P("quantile",$i),P("d3-linear",Rr),Se("cat",w),Se("category",w),Se("identity",de),Se("linear",Ge),Se("log",sn),Se("pow",ai),Se("time",Mi),Se("timeCat",ce),Se("quantize",Kt),Se("quantile",se)},49242:function(xt,M,d){"use strict";d.r(M),d.d(M,{Cache:function(){return cn},assign:function(){return ui},augment:function(){return Ba},clamp:function(){return ar},clearAnimationFrame:function(){return Cn},clone:function(){return Ji},contains:function(){return L},debounce:function(){return Za},deepMix:function(){return wa},difference:function(){return E},each:function(){return V},endsWith:function(){return xn},every:function(){return sn},extend:function(){return da},filter:function(){return A},find:function(){return At},findIndex:function(){return bt},firstValue:function(){return Bt},fixedBase:function(){return pr},flatten:function(){return J},flattenDeep:function(){return u},forIn:function(){return Jt},get:function(){return G},getEllipsisText:function(){return hn},getRange:function(){return j},getType:function(){return Pt},getWrapBehavior:function(){return xe},group:function(){return ie},groupBy:function(){return Ht},groupToMap:function(){return Kt},has:function(){return Rt},hasKey:function(){return Qt},hasValue:function(){return rr},head:function(){return Ge},identity:function(){return ze},includes:function(){return L},indexOf:function(){return $a},isArguments:function(){return ot},isArray:function(){return _},isArrayLike:function(){return O},isBoolean:function(){return kt},isDate:function(){return oe},isDecimal:function(){return Ir},isElement:function(){return sr},isEmpty:function(){return Eo},isEqual:function(){return Pn},isEqualWith:function(){return Sa},isError:function(){return ue},isEven:function(){return Rr},isFinite:function(){return ke},isFunction:function(){return x},isInteger:function(){return Kr},isMatch:function(){return nt},isNegative:function(){return ln},isNil:function(){return S},isNull:function(){return Ye},isNumber:function(){return Je},isNumberEqual:function(){return ci},isObject:function(){return B},isObjectLike:function(){return wt},isOdd:function(){return Li},isPlainObject:function(){return Ot},isPositive:function(){return Br},isPrototype:function(){return Ne},isRegExp:function(){return Er},isString:function(){return _t},isType:function(){return y},isUndefined:function(){return $r},keys:function(){return X},last:function(){return $e},lowerCase:function(){return Vr},lowerFirst:function(){return ti},map:function(){return Ma},mapValues:function(){return yt},max:function(){return R},maxBy:function(){return vi},measureTextWidth:function(){return kr},memoize:function(){return lo},min:function(){return N},minBy:function(){return ki},mix:function(){return ui},mod:function(){return Tn},noop:function(){return Ee},number2color:function(){return Ue},omit:function(){return Dt},parseRadius:function(){return tr},pick:function(){return Ct},pull:function(){return Q},pullAt:function(){return it},reduce:function(){return rt},remove:function(){return mt},requestAnimationFrame:function(){return Qr},set:function(){return $},size:function(){return Ze},some:function(){return ai},sortBy:function(){return te},startsWith:function(){return or},substitute:function(){return Ut},throttle:function(){return Xt},toArray:function(){return ne},toDegree:function(){return mi},toInteger:function(){return Ci},toRadian:function(){return ua},toString:function(){return ur},union:function(){return we},uniq:function(){return ce},uniqueId:function(){return me},upperCase:function(){return ye},upperFirst:function(){return Te},values:function(){return Oe},valuesOfKey:function(){return Ce},wrapBehavior:function(){return Se}});var b=function(It){return It!==null&&typeof It!="function"&&isFinite(It.length)},O=b,k=function(It,ee){return O(It)?It.indexOf(ee)>-1:!1},L=k,P=function(It,ee){if(!O(It))return It;for(var ve=[],be=0;be<It.length;be++){var Fe=It[be];ee(Fe,be)&&ve.push(Fe)}return ve},A=P,C=function(It,ee){return ee===void 0&&(ee=[]),A(It,function(ve){return!L(ee,ve)})},E=C,p={}.toString,w=function(It,ee){return p.call(It)==="[object "+ee+"]"},y=w,x=function(It){return y(It,"Function")},g=function(It){return It==null},S=g,_=function(It){return Array.isArray?Array.isArray(It):y(It,"Array")},B=function(It){var ee=typeof It;return It!==null&&ee==="object"||ee==="function"};function F(It,ee){if(!!It){var ve;if(_(It))for(var be=0,Fe=It.length;be<Fe&&(ve=ee(It[be],be),ve!==!1);be++);else if(B(It)){for(var dr in It)if(It.hasOwnProperty(dr)&&(ve=ee(It[dr],dr),ve===!1))break}}}var V=F,Z=Object.keys?function(It){return Object.keys(It)}:function(It){var ee=[];return V(It,function(ve,be){x(It)&&be==="prototype"||ee.push(be)}),ee},X=Z;function U(It,ee){var ve=X(ee),be=ve.length;if(S(It))return!be;for(var Fe=0;Fe<be;Fe+=1){var dr=ve[Fe];if(ee[dr]!==It[dr]||!(dr in It))return!1}return!0}var nt=U,q=function(It){return typeof It=="object"&&It!==null},wt=q,ft=function(It){if(!wt(It)||!y(It,"Object"))return!1;if(Object.getPrototypeOf(It)===null)return!0;for(var ee=It;Object.getPrototypeOf(ee)!==null;)ee=Object.getPrototypeOf(ee);return Object.getPrototypeOf(It)===ee},Ot=ft;function St(It,ee){if(!_(It))return null;var ve;if(x(ee)&&(ve=ee),Ot(ee)&&(ve=function(Fe){return nt(Fe,ee)}),ve){for(var be=0;be<It.length;be+=1)if(ve(It[be]))return It[be]}return null}var At=St;function Et(It,ee,ve){ve===void 0&&(ve=0);for(var be=ve;be<It.length;be++)if(ee(It[be],be))return be;return-1}var bt=Et,Lt=function(It,ee){for(var ve=null,be=0;be<It.length;be++){var Fe=It[be],dr=Fe[ee];if(!S(dr)){_(dr)?ve=dr[0]:ve=dr;break}}return ve},Bt=Lt,gt=function(It){if(!_(It))return[];for(var ee=[],ve=0;ve<It.length;ve++)ee=ee.concat(It[ve]);return ee},J=gt,I=function(It,ee){if(ee===void 0&&(ee=[]),!_(It))ee.push(It);else for(var ve=0;ve<It.length;ve+=1)I(It[ve],ee);return ee},u=I,R=function(It){if(!!_(It))return It.reduce(function(ee,ve){return Math.max(ee,ve)},It[0])},N=function(It){if(!!_(It))return It.reduce(function(ee,ve){return Math.min(ee,ve)},It[0])},z=function(It){var ee=It.filter(function(Hr){return!isNaN(Hr)});if(!ee.length)return{min:0,max:0};if(_(It[0])){for(var ve=[],be=0;be<It.length;be++)ve=ve.concat(It[be]);ee=ve}var Fe=R(ee),dr=N(ee);return{min:dr,max:Fe}},j=z,K=Array.prototype,at=K.splice,Tt=K.indexOf,pt=function(It){for(var ee=[],ve=1;ve<arguments.length;ve++)ee[ve-1]=arguments[ve];for(var be=0;be<ee.length;be++)for(var Fe=ee[be],dr=-1;(dr=Tt.call(It,Fe))>-1;)at.call(It,dr,1);return It},Q=pt,vt=Array.prototype.splice,et=function(ee,ve){if(!O(ee))return[];for(var be=ee?ve.length:0,Fe=be-1;be--;){var dr=void 0,Hr=ve[be];(be===Fe||Hr!==dr)&&(dr=Hr,vt.call(ee,Hr,1))}return ee},it=et,ct=function(It,ee,ve){if(!_(It)&&!Ot(It))return It;var be=ve;return V(It,function(Fe,dr){be=ee(be,Fe,dr)}),be},rt=ct,tt=function(It,ee){var ve=[];if(!O(It))return ve;for(var be=-1,Fe=[],dr=It.length;++be<dr;){var Hr=It[be];ee(Hr,be,It)&&(ve.push(Hr),Fe.push(be))}return it(It,Fe),ve},mt=tt,_t=function(It){return y(It,"String")};function Wt(It,ee){var ve;if(x(ee))ve=function(Fe,dr){return ee(Fe)-ee(dr)};else{var be=[];_t(ee)?be.push(ee):_(ee)&&(be=ee),ve=function(Fe,dr){for(var Hr=0;Hr<be.length;Hr+=1){var _n=be[Hr];if(Fe[_n]>dr[_n])return 1;if(Fe[_n]<dr[_n])return-1}return 0}}return It.sort(ve),It}var te=Wt;function ce(It,ee){ee===void 0&&(ee=new Map);var ve=[];if(Array.isArray(It))for(var be=0,Fe=It.length;be<Fe;be++){var dr=It[be];ee.has(dr)||(ve.push(dr),ee.set(dr,!0))}return ve}var Pe=function(){for(var It=[],ee=0;ee<arguments.length;ee++)It[ee]=arguments[ee];return ce([].concat.apply([],It))},we=Pe,Ce=function(It,ee){for(var ve=[],be={},Fe=0;Fe<It.length;Fe++){var dr=It[Fe],Hr=dr[ee];if(!S(Hr)){_(Hr)||(Hr=[Hr]);for(var _n=0;_n<Hr.length;_n++){var Ei=Hr[_n];be[Ei]||(ve.push(Ei),be[Ei]=!0)}}}return ve};function Ge(It){if(O(It))return It[0]}function $e(It){if(O(It)){var ee=It;return ee[ee.length-1]}}function cr(It,ee){return _(It)||_t(It)?It[0]===ee:!1}var or=cr;function Xr(It,ee){return _(It)||_t(It)?It[It.length-1]===ee:!1}var xn=Xr,Wr=function(It,ee){for(var ve=0;ve<It.length;ve++)if(!ee(It[ve],ve))return!1;return!0},sn=Wr,Jn=function(It,ee){for(var ve=0;ve<It.length;ve++)if(ee(It[ve],ve))return!0;return!1},ai=Jn,Si=Object.prototype.hasOwnProperty;function Mi(It,ee){if(!ee||!_(It))return{};for(var ve={},be=x(ee)?ee:function(_n){return _n[ee]},Fe,dr=0;dr<It.length;dr++){var Hr=It[dr];Fe=be(Hr),Si.call(ve,Fe)?ve[Fe].push(Hr):ve[Fe]=[Hr]}return ve}var Ht=Mi;function Kt(It,ee){if(!ee)return{0:It};if(!x(ee)){var ve=_(ee)?ee:ee.replace(/\s+/g,"").split("*");ee=function(be){for(var Fe="_",dr=0,Hr=ve.length;dr<Hr;dr++)Fe+=be[ve[dr]]&&be[ve[dr]].toString();return Fe}}return Ht(It,ee)}var ie=function(It,ee){if(!ee)return[It];var ve=Kt(It,ee),be=[];for(var Fe in ve)be.push(ve[Fe]);return be};function se(It,ee){return It["_wrap_"+ee]}var xe=se;function Me(It,ee){if(It["_wrap_"+ee])return It["_wrap_"+ee];var ve=function(be){It[ee](be)};return It["_wrap_"+ee]=ve,ve}var Se=Me,_e={};function de(It){var ee=_e[It];if(!ee){for(var ve=It.toString(16),be=ve.length;be<6;be++)ve="0"+ve;ee="#"+ve,_e[It]=ee}return ee}var Ue=de;function Re(It){var ee=0,ve=0,be=0,Fe=0;return _(It)?It.length===1?ee=ve=be=Fe=It[0]:It.length===2?(ee=be=It[0],ve=Fe=It[1]):It.length===3?(ee=It[0],ve=Fe=It[1],be=It[2]):(ee=It[0],ve=It[1],be=It[2],Fe=It[3]):ee=ve=be=Fe=It,{r1:ee,r2:ve,r3:be,r4:Fe}}var tr=Re,hr=function(It,ee,ve){return It<ee?ee:It>ve?ve:It},ar=hr,vr=function(It,ee){var ve=ee.toString(),be=ve.indexOf(".");if(be===-1)return Math.round(It);var Fe=ve.substr(be+1).length;return Fe>20&&(Fe=20),parseFloat(It.toFixed(Fe))},pr=vr,Cr=function(It){return y(It,"Number")},Je=Cr,Ar=function(It){return Je(It)&&It%1!=0},Ir=Ar,Tr=function(It){return Je(It)&&It%2==0},Rr=Tr,Zr=Number.isInteger?Number.isInteger:function(It){return Je(It)&&It%1==0},Kr=Zr,jn=function(It){return Je(It)&&It<0},ln=jn,Kn=1e-5;function ci(It,ee,ve){return ve===void 0&&(ve=Kn),Math.abs(It-ee)<ve}var oi=function(It){return Je(It)&&It%2!=0},Li=oi,Ii=function(It){return Je(It)&&It>0},Br=Ii,vi=function(It,ee){if(!!_(It)){for(var ve,be=-Infinity,Fe=0;Fe<It.length;Fe++){var dr=It[Fe],Hr=x(ee)?ee(dr):dr[ee];Hr>be&&(ve=dr,be=Hr)}return ve}},ki=function(It,ee){if(!!_(It)){for(var ve,be=Infinity,Fe=0;Fe<It.length;Fe++){var dr=It[Fe],Hr=x(ee)?ee(dr):dr[ee];Hr<be&&(ve=dr,be=Hr)}return ve}},li=function(It,ee){return(It%ee+ee)%ee},Tn=li,di=180/Math.PI,Gi=function(It){return di*It},mi=Gi,Ci=parseInt,qn=Math.PI/180,$i=function(It){return qn*It},ua=$i,Jt=V,Rt=function(It,ee){return It.hasOwnProperty(ee)},Qt=Rt,pe=Object.values?function(It){return Object.values(It)}:function(It){var ee=[];return V(It,function(ve,be){x(It)&&be==="prototype"||ee.push(ve)}),ee},Oe=pe,rr=function(It,ee){return L(Oe(It),ee)},ur=function(It){return S(It)?"":It.toString()},lr=function(It){return ur(It).toLowerCase()},Vr=lr,yn=function(It){var ee=ur(It);return ee.charAt(0).toLowerCase()+ee.substring(1)},ti=yn;function Nt(It,ee){return!It||!ee?It:It.replace(/\\?\{([^{}]+)\}/g,function(ve,be){return ve.charAt(0)==="\\"?ve.slice(1):ee[be]===void 0?"":ee[be]})}var Ut=Nt,qt=function(It){return ur(It).toUpperCase()},ye=qt,ge=function(It){var ee=ur(It);return ee.charAt(0).toUpperCase()+ee.substring(1)},Te=ge,er={}.toString,nr=function(It){return er.call(It).replace(/^\[object /,"").replace(/]$/,"")},Pt=nr,ht=function(It){return y(It,"Arguments")},ot=ht,dt=function(It){return y(It,"Boolean")},kt=dt,jt=function(It){return y(It,"Date")},oe=jt,fe=function(It){return y(It,"Error")},ue=fe;function ke(It){return Je(It)&&isFinite(It)}var Be=function(It){return It===null},Ye=Be,fr=Object.prototype,Xe=function(It){var ee=It&&It.constructor,ve=typeof ee=="function"&&ee.prototype||fr;return It===ve},Ne=Xe,Or=function(It){return y(It,"RegExp")},Er=Or,jr=function(It){return It===void 0},$r=jr,mr=function(It){return It instanceof Element||It instanceof HTMLDocument},sr=mr;function Qr(It){var ee=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(ve){return setTimeout(ve,16)};return ee(It)}function Cn(It){var ee=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;ee(It)}function Dn(It,ee){for(var ve in ee)ee.hasOwnProperty(ve)&&ve!=="constructor"&&ee[ve]!==void 0&&(It[ve]=ee[ve])}function ui(It,ee,ve,be){return ee&&Dn(It,ee),ve&&Dn(It,ve),be&&Dn(It,be),It}var fi=function(){for(var It=[],ee=0;ee<arguments.length;ee++)It[ee]=arguments[ee];for(var ve=It[0],be=1;be<It.length;be++){var Fe=It[be];x(Fe)&&(Fe=Fe.prototype),ui(ve.prototype,Fe)}},Ba=fi,Qi=function(It){if(typeof It!="object"||It===null)return It;var ee;if(_(It)){ee=[];for(var ve=0,be=It.length;ve<be;ve++)typeof It[ve]=="object"&&It[ve]!=null?ee[ve]=Qi(It[ve]):ee[ve]=It[ve]}else{ee={};for(var Fe in It)typeof It[Fe]=="object"&&It[Fe]!=null?ee[Fe]=Qi(It[Fe]):ee[Fe]=It[Fe]}return ee},Ji=Qi;function fa(It,ee,ve){var be;return function(){var Fe=this,dr=arguments,Hr=function(){be=null,ve||It.apply(Fe,dr)},_n=ve&&!be;clearTimeout(be),be=setTimeout(Hr,ee),_n&&It.apply(Fe,dr)}}var Za=fa,lo=function(It,ee){if(!x(It))throw new TypeError("Expected a function");var ve=function(){for(var be=[],Fe=0;Fe<arguments.length;Fe++)be[Fe]=arguments[Fe];var dr=ee?ee.apply(this,be):be[0],Hr=ve.cache;if(Hr.has(dr))return Hr.get(dr);var _n=It.apply(this,be);return Hr.set(dr,_n),_n};return ve.cache=new Map,ve},Ho=5;function Da(It,ee,ve,be){ve=ve||0,be=be||Ho;for(var Fe in ee)if(ee.hasOwnProperty(Fe)){var dr=ee[Fe];dr!==null&&Ot(dr)?(Ot(It[Fe])||(It[Fe]={}),ve<be?Da(It[Fe],dr,ve+1,be):It[Fe]=ee[Fe]):_(dr)?(It[Fe]=[],It[Fe]=It[Fe].concat(dr)):dr!==void 0&&(It[Fe]=dr)}}var Ka=function(It){for(var ee=[],ve=1;ve<arguments.length;ve++)ee[ve-1]=arguments[ve];for(var be=0;be<ee.length;be+=1)Da(It,ee[be]);return It},wa=Ka,xi=function(It,ee,ve,be){x(ee)||(ve=ee,ee=It,It=function(){});var Fe=Object.create?function(Hr,_n){return Object.create(Hr,{constructor:{value:_n}})}:function(Hr,_n){function Ei(){}Ei.prototype=Hr;var aa=new Ei;return aa.constructor=_n,aa},dr=Fe(ee.prototype,It);return It.prototype=ui(dr,It.prototype),It.superclass=Fe(ee.prototype,ee),ui(dr,ve),ui(It,be),It},da=xi,uo=function(It,ee){if(!O(It))return-1;var ve=Array.prototype.indexOf;if(ve)return ve.call(It,ee);for(var be=-1,Fe=0;Fe<It.length;Fe++)if(It[Fe]===ee){be=Fe;break}return be},$a=uo,Fa=Object.prototype.hasOwnProperty;function gn(It){if(S(It))return!0;if(O(It))return!It.length;var ee=Pt(It);if(ee==="Map"||ee==="Set")return!It.size;if(Ne(It))return!Object.keys(It).length;for(var ve in It)if(Fa.call(It,ve))return!1;return!0}var Eo=gn,pi=function(It,ee){if(It===ee)return!0;if(!It||!ee||_t(It)||_t(ee))return!1;if(O(It)||O(ee)){if(It.length!==ee.length)return!1;for(var ve=!0,be=0;be<It.length&&(ve=pi(It[be],ee[be]),!!ve);be++);return ve}if(wt(It)||wt(ee)){var Fe=Object.keys(It),dr=Object.keys(ee);if(Fe.length!==dr.length)return!1;for(var ve=!0,be=0;be<Fe.length&&(ve=pi(It[Fe[be]],ee[Fe[be]]),!!ve);be++);return ve}return!1},Pn=pi,Sa=function(It,ee,ve){return x(ve)?!!ve(It,ee):Pn(It,ee)},En=function(It,ee){if(!O(It))return It;for(var ve=[],be=0;be<It.length;be++){var Fe=It[be];ve.push(ee(Fe,be))}return ve},Ma=En,Vt=function(It){return It},yt=function(It,ee){ee===void 0&&(ee=Vt);var ve={};return B(It)&&!S(It)&&Object.keys(It).forEach(function(be){ve[be]=ee(It[be],be)}),ve},G=function(It,ee,ve){for(var be=0,Fe=_t(ee)?ee.split("."):ee;It&&be<Fe.length;)It=It[Fe[be++]];return It===void 0||be<Fe.length?ve:It},$=function(It,ee,ve){var be=It,Fe=_t(ee)?ee.split("."):ee;return Fe.forEach(function(dr,Hr){Hr<Fe.length-1?(B(be[dr])||(be[dr]=Je(Fe[Hr+1])?[]:{}),be=be[dr]):be[dr]=ve}),It},ut=Object.prototype.hasOwnProperty,Ct=function(It,ee){if(It===null||!Ot(It))return{};var ve={};return V(ee,function(be){ut.call(It,be)&&(ve[be]=It[be])}),ve},Dt=function(It,ee){return rt(It,function(ve,be,Fe){return ee.includes(Fe)||(ve[Fe]=be),ve},{})},Xt=function(It,ee,ve){var be,Fe,dr,Hr,_n=0;ve||(ve={});var Ei=function(){_n=ve.leading===!1?0:Date.now(),be=null,Hr=It.apply(Fe,dr),be||(Fe=dr=null)},aa=function(){var ha=Date.now();!_n&&ve.leading===!1&&(_n=ha);var ys=ee-(ha-_n);return Fe=this,dr=arguments,ys<=0||ys>ee?(be&&(clearTimeout(be),be=null),_n=ha,Hr=It.apply(Fe,dr),be||(Fe=dr=null)):!be&&ve.trailing!==!1&&(be=setTimeout(Ei,ys)),Hr};return aa.cancel=function(){clearTimeout(be),_n=0,be=Fe=dr=null},aa},ne=function(It){return O(It)?Array.prototype.slice.call(It):[]},ae={},me=function(It){return It=It||"g",ae[It]?ae[It]+=1:ae[It]=1,It+ae[It]},Ee=function(){},ze=function(It){return It};function Ze(It){return S(It)?0:O(It)?It.length:Object.keys(It).length}var xr=d(65353),Gr,kr=lo(function(It,ee){ee===void 0&&(ee={});var ve=ee.fontSize,be=ee.fontFamily,Fe=ee.fontWeight,dr=ee.fontStyle,Hr=ee.fontVariant;return Gr||(Gr=document.createElement("canvas").getContext("2d")),Gr.font=[dr,Hr,Fe,ve+"px",be].join(" "),Gr.measureText(_t(It)?It:"").width},function(It,ee){return ee===void 0&&(ee={}),(0,xr.__spreadArrays)([It],Oe(ee)).join("")}),hn=function(It,ee,ve,be){be===void 0&&(be="...");var Fe=16,dr=kr(be,ve),Hr=_t(It)?It:ur(It),_n=ee,Ei=[],aa,ha;if(kr(It,ve)<=ee)return It;for(;aa=Hr.substr(0,Fe),ha=kr(aa,ve),!(ha+dr>_n&&ha>_n);)if(Ei.push(aa),_n-=ha,Hr=Hr.substr(Fe),!Hr)return Ei.join("");for(;aa=Hr.substr(0,1),ha=kr(aa,ve),!(ha+dr>_n);)if(Ei.push(aa),_n-=ha,Hr=Hr.substr(1),!Hr)return Ei.join("");return""+Ei.join("")+be},vn=function(){function It(){this.map={}}return It.prototype.has=function(ee){return this.map[ee]!==void 0},It.prototype.get=function(ee,ve){var be=this.map[ee];return be===void 0?ve:be},It.prototype.set=function(ee,ve){this.map[ee]=ve},It.prototype.clear=function(){this.map={}},It.prototype.delete=function(ee){delete this.map[ee]},It.prototype.size=function(){return Object.keys(this.map).length},It}(),cn=vn},99581:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66974),O=d(46812),k=function(){for(var L=[],P=0;P<arguments.length;P++)L[P]=arguments[P];for(var A=L[0],C=1;C<L.length;C++){var E=L[C];O.default(E)&&(E=E.prototype),b.default(A.prototype,E)}};M.default=k},68039:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(){function b(){this.map={}}return b.prototype.has=function(O){return this.map[O]!==void 0},b.prototype.get=function(O,k){var L=this.map[O];return L===void 0?k:L},b.prototype.set=function(O,k){this.map[O]=k},b.prototype.clear=function(){this.map={}},b.prototype.delete=function(O){delete this.map[O]},b.prototype.size=function(){return Object.keys(this.map).length},b}();M.default=d},37339:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(b,O,k){return b<O?O:b>k?k:b};M.default=d},35755:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(b){var O=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;O(b)}M.default=d},8289:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=function(k){if(typeof k!="object"||k===null)return k;var L;if(b.default(k)){L=[];for(var P=0,A=k.length;P<A;P++)typeof k[P]=="object"&&k[P]!=null?L[P]=O(k[P]):L[P]=k[P]}else{L={};for(var C in k)typeof k[C]=="object"&&k[C]!=null?L[C]=O(k[C]):L[C]=k[C]}return L};M.default=O},75349:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(48102),O=function(k,L){return b.default(k)?k.indexOf(L)>-1:!1};M.default=O},79663:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(b,O,k){var L;return function(){var P=this,A=arguments,C=function(){L=null,k||b.apply(P,A)},E=k&&!L;clearTimeout(L),L=setTimeout(C,O),E&&b.apply(P,A)}}M.default=d},90497:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=d(15907),k=5;function L(A,C,E,p){E=E||0,p=p||k;for(var w in C)if(C.hasOwnProperty(w)){var y=C[w];y!==null&&O.default(y)?(O.default(A[w])||(A[w]={}),E<p?L(A[w],y,E+1,p):A[w]=C[w]):b.default(y)?(A[w]=[],A[w]=A[w].concat(y)):y!==void 0&&(A[w]=y)}}var P=function(A){for(var C=[],E=1;E<arguments.length;E++)C[E-1]=arguments[E];for(var p=0;p<C.length;p+=1)L(A,C[p]);return A};M.default=P},25430:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(40007),O=d(75349),k=function(L,P){return P===void 0&&(P=[]),b.default(L,function(A){return!O.default(P,A)})};M.default=k},27154:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=d(33643);function k(L,P){if(!!L){var A;if(b.default(L))for(var C=0,E=L.length;C<E&&(A=P(L[C],C),A!==!1);C++);else if(O.default(L)){for(var p in L)if(L.hasOwnProperty(p)&&(A=P(L[p],p),A===!1))break}}}M.default=k},61846:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=d(21830);function k(L,P){return b.default(L)||O.default(L)?L[L.length-1]===P:!1}M.default=k},8153:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(b,O){for(var k=0;k<b.length;k++)if(!O(b[k],k))return!1;return!0};M.default=d},13829:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66974),O=d(46812),k=function(L,P,A,C){O.default(P)||(A=P,P=L,L=function(){});var E=Object.create?function(w,y){return Object.create(w,{constructor:{value:y}})}:function(w,y){function x(){}x.prototype=w;var g=new x;return g.constructor=y,g},p=E(P.prototype,L);return L.prototype=b.default(p,L.prototype),L.superclass=E(P.prototype,P),b.default(p,A),b.default(L,C),L};M.default=k},40007:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(48102),O=function(k,L){if(!b.default(k))return k;for(var P=[],A=0;A<k.length;A++){var C=k[A];L(C,A)&&P.push(C)}return P};M.default=O},90871:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(b,O,k){k===void 0&&(k=0);for(var L=k;L<b.length;L++)if(O(b[L],L))return L;return-1}M.default=d},32114:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(46812),O=d(20253),k=d(66631),L=d(15907);function P(A,C){if(!k.default(A))return null;var E;if(b.default(C)&&(E=C),L.default(C)&&(E=function(w){return O.default(w,C)}),E){for(var p=0;p<A.length;p+=1)if(E(A[p]))return A[p]}return null}M.default=P},84521:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(73890),O=d(66631),k=function(L,P){for(var A=null,C=0;C<L.length;C++){var E=L[C],p=E[P];if(!b.default(p)){O.default(p)?A=p[0]:A=p;break}}return A};M.default=k},14266:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(b,O){var k=O.toString(),L=k.indexOf(".");if(L===-1)return Math.round(b);var P=k.substr(L+1).length;return P>20&&(P=20),parseFloat(b.toFixed(P))};M.default=d},61917:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=function(k,L){if(L===void 0&&(L=[]),!b.default(k))L.push(k);else for(var P=0;P<k.length;P+=1)O(k[P],L);return L};M.default=O},30267:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=function(k){if(!b.default(k))return[];for(var L=[],P=0;P<k.length;P++)L=L.concat(k[P]);return L};M.default=O},8361:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(27154);M.default=b.default},65616:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(21830),O=d(78127),k=d(13754);M.default=function(L,P,A,C){C===void 0&&(C="...");var E=16,p=k.default(C,A),w=b.default(L)?L:O.default(L),y=P,x=[],g,S;if(k.default(L,A)<=P)return L;for(;g=w.substr(0,E),S=k.default(g,A),!(S+p>y&&S>y);)if(x.push(g),y-=S,w=w.substr(E),!w)return x.join("");for(;g=w.substr(0,1),S=k.default(g,A),!(S+p>y);)if(x.push(g),y-=S,w=w.substr(1),!w)return x.join("");return""+x.join("")+C}},83236:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=d(14705),k=d(45356),L=function(P){var A=P.filter(function(y){return!isNaN(y)});if(!A.length)return{min:0,max:0};if(b.default(P[0])){for(var C=[],E=0;E<P.length;E++)C=C.concat(P[E]);A=C}var p=O.default(A),w=k.default(A);return{min:w,max:p}};M.default=L},89175:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d={}.toString,b=function(O){return d.call(O).replace(/^\[object /,"").replace(/]$/,"")};M.default=b},71668:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(b,O){return b["_wrap_"+O]}M.default=d},58070:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(21830);M.default=function(O,k,L){for(var P=0,A=b.default(k)?k.split("."):k;O&&P<A.length;)O=O[A[P++]];return O===void 0||P<A.length?L:O}},54544:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=d(46812),k=Object.prototype.hasOwnProperty;function L(P,A){if(!A||!b.default(P))return{};for(var C={},E=O.default(A)?A:function(x){return x[A]},p,w=0;w<P.length;w++){var y=P[w];p=E(y),k.call(C,p)?C[p].push(y):C[p]=[y]}return C}M.default=L},64725:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=d(46812),k=d(54544);function L(P,A){if(!A)return{0:P};if(!O.default(A)){var C=b.default(A)?A:A.replace(/\s+/g,"").split("*");A=function(E){for(var p="_",w=0,y=C.length;w<y;w++)p+=E[C[w]]&&E[C[w]].toString();return p}}return k.default(P,A)}M.default=L},93597:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(64725);M.default=function(O,k){if(!k)return[O];var L=b.default(O,k),P=[];for(var A in L)P.push(L[A]);return P}},97507:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(57921);M.default=b.default},99969:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(75349),O=d(91161);M.default=function(k,L){return b.default(O.default(k),L)}},57921:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(d,b){return d.hasOwnProperty(b)}},41169:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(48102);function O(k){if(b.default(k))return k[0]}M.default=O},80870:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(d){return d}},40035:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(48102),O=function(k,L){if(!b.default(k))return-1;var P=Array.prototype.indexOf;if(P)return P.call(k,L);for(var A=-1,C=0;C<k.length;C++)if(k[C]===L){A=C;break}return A};M.default=O},50229:function(xt,M,d){"use strict";var b;b={value:!0};var O=d(75349);b={enumerable:!0,get:function(){return O.default}},b={enumerable:!0,get:function(){return O.default}};var k=d(25430);b={enumerable:!0,get:function(){return k.default}};var L=d(32114);b={enumerable:!0,get:function(){return L.default}};var P=d(90871);b={enumerable:!0,get:function(){return P.default}};var A=d(84521);b={enumerable:!0,get:function(){return A.default}};var C=d(30267);b={enumerable:!0,get:function(){return C.default}};var E=d(61917);b={enumerable:!0,get:function(){return E.default}};var p=d(83236);b={enumerable:!0,get:function(){return p.default}};var w=d(5220);b={enumerable:!0,get:function(){return w.default}};var y=d(50779);b={enumerable:!0,get:function(){return y.default}};var x=d(13847);b={enumerable:!0,get:function(){return x.default}};var g=d(89757);b={enumerable:!0,get:function(){return g.default}};var S=d(27599);b={enumerable:!0,get:function(){return S.default}};var _=d(58632);b={enumerable:!0,get:function(){return _.default}};var B=d(12619);b={enumerable:!0,get:function(){return B.default}};var F=d(29208);b={enumerable:!0,get:function(){return F.default}};var V=d(41169);b={enumerable:!0,get:function(){return V.default}};var Z=d(95145);b={enumerable:!0,get:function(){return Z.default}};var X=d(680);b={enumerable:!0,get:function(){return X.default}};var U=d(61846);b={enumerable:!0,get:function(){return U.default}};var nt=d(40007);b={enumerable:!0,get:function(){return nt.default}};var q=d(8153);b={enumerable:!0,get:function(){return q.default}};var wt=d(58175);b={enumerable:!0,get:function(){return wt.default}};var ft=d(93597);b={enumerable:!0,get:function(){return ft.default}};var Ot=d(54544);b={enumerable:!0,get:function(){return Ot.default}};var St=d(64725);b={enumerable:!0,get:function(){return St.default}};var At=d(71668);b={enumerable:!0,get:function(){return At.default}};var Et=d(61262);Object.defineProperty(M,"Ko",{enumerable:!0,get:function(){return Et.default}});var bt=d(45145);b={enumerable:!0,get:function(){return bt.default}};var Lt=d(85418);b={enumerable:!0,get:function(){return Lt.default}};var Bt=d(37339);b={enumerable:!0,get:function(){return Bt.default}};var gt=d(14266);b={enumerable:!0,get:function(){return gt.default}};var J=d(51008);b={enumerable:!0,get:function(){return J.default}};var I=d(45420);b={enumerable:!0,get:function(){return I.default}};var u=d(68221);b={enumerable:!0,get:function(){return u.default}};var R=d(58706);b={enumerable:!0,get:function(){return R.default}};var N=d(39984);b={enumerable:!0,get:function(){return N.default}};var z=d(32705);b={enumerable:!0,get:function(){return z.default}};var j=d(75732);b={enumerable:!0,get:function(){return j.default}};var K=d(14705);b={enumerable:!0,get:function(){return K.default}};var at=d(38935);b={enumerable:!0,get:function(){return at.default}};var Tt=d(45356);b={enumerable:!0,get:function(){return Tt.default}};var pt=d(89857);b={enumerable:!0,get:function(){return pt.default}};var Q=d(5253);b={enumerable:!0,get:function(){return Q.default}};var vt=d(2119);b={enumerable:!0,get:function(){return vt.default}};var et=d(23196);b={enumerable:!0,get:function(){return et.default}};var it=d(9217);b={enumerable:!0,get:function(){return it.default}};var ct=d(8361);b={enumerable:!0,get:function(){return ct.default}};var rt=d(57921);b={enumerable:!0,get:function(){return rt.default}};var tt=d(97507);b={enumerable:!0,get:function(){return tt.default}};var mt=d(99969);b={enumerable:!0,get:function(){return mt.default}};var _t=d(85050);b={enumerable:!0,get:function(){return _t.default}};var Wt=d(20253);b={enumerable:!0,get:function(){return Wt.default}};var te=d(91161);b={enumerable:!0,get:function(){return te.default}};var ce=d(88362);b={enumerable:!0,get:function(){return ce.default}};var Pe=d(56095);b={enumerable:!0,get:function(){return Pe.default}};var we=d(35541);b={enumerable:!0,get:function(){return we.default}};var Ce=d(72660);b={enumerable:!0,get:function(){return Ce.default}};var Ge=d(85260);b={enumerable:!0,get:function(){return Ge.default}};var $e=d(89175);b={enumerable:!0,get:function(){return $e.default}};var cr=d(55039);b={enumerable:!0,get:function(){return cr.default}};var or=d(66631);b={enumerable:!0,get:function(){return or.default}};var Xr=d(48102);b={enumerable:!0,get:function(){return Xr.default}};var xn=d(25873);b={enumerable:!0,get:function(){return xn.default}};var Wr=d(79396);b={enumerable:!0,get:function(){return Wr.default}};var sn=d(14230);b={enumerable:!0,get:function(){return sn.default}};var Jn=d(46812);b={enumerable:!0,get:function(){return Jn.default}};var ai=d(73420);b={enumerable:!0,get:function(){return ai.default}};var Si=d(73890);b={enumerable:!0,get:function(){return Si.default}};var Mi=d(85497);b={enumerable:!0,get:function(){return Mi.default}};var Ht=d(16185);b={enumerable:!0,get:function(){return Ht.default}};var Kt=d(33643);b={enumerable:!0,get:function(){return Kt.default}};var ie=d(70441);b={enumerable:!0,get:function(){return ie.default}};var se=d(15907);b={enumerable:!0,get:function(){return se.default}};var xe=d(26296);b={enumerable:!0,get:function(){return xe.default}};var Me=d(7877);b={enumerable:!0,get:function(){return Me.default}};var Se=d(21830);Object.defineProperty(M,"HD",{enumerable:!0,get:function(){return Se.default}});var _e=d(44235);b={enumerable:!0,get:function(){return _e.default}};var de=d(25523);b={enumerable:!0,get:function(){return de.default}};var Ue=d(58417);b={enumerable:!0,get:function(){return Ue.default}};var Re=d(98229);b={enumerable:!0,get:function(){return Re.default}};var tr=d(35755);b={enumerable:!0,get:function(){return tr.default}};var hr=d(99581);b={enumerable:!0,get:function(){return hr.default}};var ar=d(8289);Object.defineProperty(M,"d9",{enumerable:!0,get:function(){return ar.default}});var vr=d(79663);b={enumerable:!0,get:function(){return vr.default}};var pr=d(99834);b={enumerable:!0,get:function(){return pr.default}};var Cr=d(90497);Object.defineProperty(M,"b$",{enumerable:!0,get:function(){return Cr.default}});var Je=d(27154);Object.defineProperty(M,"S6",{enumerable:!0,get:function(){return Je.default}});var Ar=d(13829);b={enumerable:!0,get:function(){return Ar.default}};var Ir=d(40035);b={enumerable:!0,get:function(){return Ir.default}};var Tr=d(64029);b={enumerable:!0,get:function(){return Tr.default}};var Rr=d(212);b={enumerable:!0,get:function(){return Rr.default}};var Zr=d(18112);b={enumerable:!0,get:function(){return Zr.default}};var Kr=d(92693);b={enumerable:!0,get:function(){return Kr.default}};var jn=d(53497);b={enumerable:!0,get:function(){return jn.default}};var ln=d(66974);b={enumerable:!0,get:function(){return ln.default}},b={enumerable:!0,get:function(){return ln.default}};var Kn=d(58070);b={enumerable:!0,get:function(){return Kn.default}};var ci=d(64119);b={enumerable:!0,get:function(){return ci.default}};var oi=d(24263);b={enumerable:!0,get:function(){return oi.default}};var Li=d(14179);b={enumerable:!0,get:function(){return Li.default}};var Ii=d(60979);b={enumerable:!0,get:function(){return Ii.default}};var Br=d(66668);b={enumerable:!0,get:function(){return Br.default}};var vi=d(78127);b={enumerable:!0,get:function(){return vi.default}};var ki=d(67250);b={enumerable:!0,get:function(){return ki.default}};var li=d(26851);b={enumerable:!0,get:function(){return li.default}};var Tn=d(80870);b={enumerable:!0,get:function(){return Tn.default}};var di=d(30597);b={enumerable:!0,get:function(){return di.default}};var Gi=d(13754);b={enumerable:!0,get:function(){return Gi.default}};var mi=d(65616);b={enumerable:!0,get:function(){return mi.default}};var Ci=d(68039);b={enumerable:!0,get:function(){return Ci.default}}},55039:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(44235),O=function(k){return b.default(k,"Arguments")};M.default=O},48102:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(b){return b!==null&&typeof b!="function"&&isFinite(b.length)};M.default=d},66631:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(44235);M.default=function(O){return Array.isArray?Array.isArray(O):b.default(O,"Array")}},25873:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(44235),O=function(k){return b.default(k,"Boolean")};M.default=O},79396:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(44235),O=function(k){return b.default(k,"Date")};M.default=O},51008:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(16185),O=function(k){return b.default(k)&&k%1!=0};M.default=O},58417:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(b){return b instanceof Element||b instanceof HTMLDocument};M.default=d},64029:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(73890),O=d(48102),k=d(89175),L=d(26296),P=Object.prototype.hasOwnProperty;function A(C){if(b.default(C))return!0;if(O.default(C))return!C.length;var E=k.default(C);if(E==="Map"||E==="Set")return!C.size;if(L.default(C))return!Object.keys(C).length;for(var p in C)if(P.call(C,p))return!1;return!0}M.default=A},18112:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(46812),O=d(212);M.default=function(k,L,P){return b.default(P)?!!P(k,L):O.default(k,L)}},212:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(70441),O=d(48102),k=d(21830),L=function(P,A){if(P===A)return!0;if(!P||!A||k.default(P)||k.default(A))return!1;if(O.default(P)||O.default(A)){if(P.length!==A.length)return!1;for(var C=!0,E=0;E<P.length&&(C=L(P[E],A[E]),!!C);E++);return C}if(b.default(P)||b.default(A)){var p=Object.keys(P),w=Object.keys(A);if(p.length!==w.length)return!1;for(var C=!0,E=0;E<p.length&&(C=L(P[p[E]],A[p[E]]),!!C);E++);return C}return!1};M.default=L},14230:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(44235),O=function(k){return b.default(k,"Error")};M.default=O},45420:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(16185),O=function(k){return b.default(k)&&k%2==0};M.default=O},73420:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(16185);function O(k){return b.default(k)&&isFinite(k)}M.default=O},46812:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(44235);M.default=function(O){return b.default(O,"Function")}},68221:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(16185),O=Number.isInteger?Number.isInteger:function(k){return b.default(k)&&k%1==0};M.default=O},20253:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(73890),O=d(85050);function k(L,P){var A=O.default(P),C=A.length;if(b.default(L))return!C;for(var E=0;E<C;E+=1){var p=A[E];if(P[p]!==L[p]||!(p in L))return!1}return!0}M.default=k},58706:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(16185),O=function(k){return b.default(k)&&k<0};M.default=O},73890:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(b){return b==null};M.default=d},85497:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(b){return b===null};M.default=d},39984:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=1e-5;function b(O,k,L){return L===void 0&&(L=d),Math.abs(O-k)<L}M.default=b},16185:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(44235),O=function(k){return b.default(k,"Number")};M.default=O},70441:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(b){return typeof b=="object"&&b!==null};M.default=d},33643:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(d){var b=typeof d;return d!==null&&b==="object"||b==="function"}},32705:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(16185),O=function(k){return b.default(k)&&k%2!=0};M.default=O},15907:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(70441),O=d(44235),k=function(L){if(!b.default(L)||!O.default(L,"Object"))return!1;if(Object.getPrototypeOf(L)===null)return!0;for(var P=L;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(L)===P};M.default=k},75732:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(16185),O=function(k){return b.default(k)&&k>0};M.default=O},26296:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=Object.prototype,b=function(O){var k=O&&O.constructor,L=typeof k=="function"&&k.prototype||d;return O===L};M.default=b},7877:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(44235),O=function(k){return b.default(k,"RegExp")};M.default=O},21830:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(44235);M.default=function(O){return b.default(O,"String")}},44235:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d={}.toString,b=function(O,k){return d.call(O)==="[object "+k+"]"};M.default=b},25523:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(b){return b===void 0};M.default=d},85050:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(27154),O=d(46812),k=Object.keys?function(L){return Object.keys(L)}:function(L){var P=[];return b.default(L,function(A,C){O.default(L)&&C==="prototype"||P.push(C)}),P};M.default=k},95145:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(48102);function O(k){if(b.default(k)){var L=k;return L[L.length-1]}}M.default=O},88362:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(78127),O=function(k){return b.default(k).toLowerCase()};M.default=O},56095:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(78127),O=function(k){var L=b.default(k);return L.charAt(0).toLowerCase()+L.substring(1)};M.default=O},53497:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(73890),O=d(33643),k=function(L){return L};M.default=function(L,P){P===void 0&&(P=k);var A={};return O.default(L)&&!b.default(L)&&Object.keys(L).forEach(function(C){A[C]=P(L[C],C)}),A}},92693:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(48102),O=function(k,L){if(!b.default(k))return k;for(var P=[],A=0;A<k.length;A++){var C=k[A];P.push(L(C,A))}return P};M.default=O},38935:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=d(46812);M.default=function(k,L){if(!!b.default(k)){for(var P,A=-Infinity,C=0;C<k.length;C++){var E=k[C],p=O.default(L)?L(E):E[L];p>A&&(P=E,A=p)}return P}}},14705:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631);M.default=function(O){if(!!b.default(O))return O.reduce(function(k,L){return Math.max(k,L)},O[0])}},13754:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(65353),O=d(91161),k=d(99834),L=d(21830),P;M.default=k.default(function(A,C){C===void 0&&(C={});var E=C.fontSize,p=C.fontFamily,w=C.fontWeight,y=C.fontStyle,x=C.fontVariant;return P||(P=document.createElement("canvas").getContext("2d")),P.font=[y,x,w,E+"px",p].join(" "),P.measureText(L.default(A)?A:"").width},function(A,C){return C===void 0&&(C={}),b.__spreadArrays([A],O.default(C)).join("")})},99834:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(46812);M.default=function(O,k){if(!b.default(O))throw new TypeError("Expected a function");var L=function(){for(var P=[],A=0;A<arguments.length;A++)P[A]=arguments[A];var C=k?k.apply(this,P):P[0],E=L.cache;if(E.has(C))return E.get(C);var p=O.apply(this,P);return E.set(C,p),p};return L.cache=new Map,L}},89857:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=d(46812);M.default=function(k,L){if(!!b.default(k)){for(var P,A=Infinity,C=0;C<k.length;C++){var E=k[C],p=O.default(L)?L(E):E[L];p<A&&(P=E,A=p)}return P}}},45356:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631);M.default=function(O){if(!!b.default(O))return O.reduce(function(k,L){return Math.min(k,L)},O[0])}},66974:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(O,k){for(var L in k)k.hasOwnProperty(L)&&L!=="constructor"&&k[L]!==void 0&&(O[L]=k[L])}function b(O,k,L,P){return k&&d(O,k),L&&d(O,L),P&&d(O,P),O}M.default=b},5253:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(b,O){return(b%O+O)%O};M.default=d},26851:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(){}},45145:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d={};function b(O){var k=d[O];if(!k){for(var L=O.toString(16),P=L.length;P<6;P++)L="0"+L;k="#"+L,d[O]=k}return k}M.default=b},14179:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(13847);M.default=function(O,k){return b.default(O,function(L,P,A){return k.includes(A)||(L[A]=P),L},{})}},85418:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631);function O(k){var L=0,P=0,A=0,C=0;return b.default(k)?k.length===1?L=P=A=C=k[0]:k.length===2?(L=A=k[0],P=C=k[1]):k.length===3?(L=k[0],P=C=k[1],A=k[2]):(L=k[0],P=k[1],A=k[2],C=k[3]):L=P=A=C=k,{r1:L,r2:P,r3:A,r4:C}}M.default=O},24263:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(27154),O=d(15907),k=Object.prototype.hasOwnProperty;M.default=function(L,P){if(L===null||!O.default(L))return{};var A={};return b.default(P,function(C){k.call(L,C)&&(A[C]=L[C])}),A}},50779:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(48102),O=Array.prototype.splice,k=function(P,A){if(!b.default(P))return[];for(var C=P?A.length:0,E=C-1;C--;){var p=void 0,w=A[C];(C===E||w!==p)&&(p=w,O.call(P,w,1))}return P};M.default=k},5220:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=Array.prototype,b=d.splice,O=d.indexOf,k=function(L){for(var P=[],A=1;A<arguments.length;A++)P[A-1]=arguments[A];for(var C=0;C<P.length;C++)for(var E=P[C],p=-1;(p=O.call(L,E))>-1;)b.call(L,p,1);return L};M.default=k},13847:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(27154),O=d(66631),k=d(15907),L=function(P,A,C){if(!O.default(P)&&!k.default(P))return P;var E=C;return b.default(P,function(p,w){E=A(E,p,w)}),E};M.default=L},89757:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(48102),O=d(50779),k=function(L,P){var A=[];if(!b.default(L))return A;for(var C=-1,E=[],p=L.length;++C<p;){var w=L[C];P(w,C,L)&&(A.push(w),E.push(C))}return O.default(L,E),A};M.default=k},98229:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(b){var O=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(k){return setTimeout(k,16)};return O(b)}M.default=d},64119:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(33643),O=d(21830),k=d(16185);M.default=function(L,P,A){var C=L,E=O.default(P)?P.split("."):P;return E.forEach(function(p,w){w<E.length-1?(b.default(C[p])||(C[p]=k.default(E[w+1])?[]:{}),C=C[p]):C[p]=A}),L}},30597:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(73890),O=d(48102);function k(L){return b.default(L)?0:O.default(L)?L.length:Object.keys(L).length}M.default=k},58175:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=function(b,O){for(var k=0;k<b.length;k++)if(O(b[k],k))return!0;return!1};M.default=d},27599:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=d(21830),k=d(46812);function L(P,A){var C;if(k.default(A))C=function(p,w){return A(p)-A(w)};else{var E=[];O.default(A)?E.push(A):b.default(A)&&(E=A),C=function(p,w){for(var y=0;y<E.length;y+=1){var x=E[y];if(p[x]>w[x])return 1;if(p[x]<w[x])return-1}return 0}}return P.sort(C),P}M.default=L},680:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=d(21830);function k(L,P){return b.default(L)||O.default(L)?L[0]===P:!1}M.default=k},35541:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(b,O){return!b||!O?b:b.replace(/\\?\{([^{}]+)\}/g,function(k,L){return k.charAt(0)==="\\"?k.slice(1):O[L]===void 0?"":O[L]})}M.default=d},60979:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(d,b,O){var k,L,P,A,C=0;O||(O={});var E=function(){C=O.leading===!1?0:Date.now(),k=null,A=d.apply(L,P),k||(L=P=null)},p=function(){var w=Date.now();!C&&O.leading===!1&&(C=w);var y=b-(w-C);return L=this,P=arguments,y<=0||y>b?(k&&(clearTimeout(k),k=null),C=w,A=d.apply(L,P),k||(L=P=null)):!k&&O.trailing!==!1&&(k=setTimeout(E,y)),A};return p.cancel=function(){clearTimeout(k),C=0,k=L=P=null},p}},66668:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(48102);M.default=function(O){return b.default(O)?Array.prototype.slice.call(O):[]}},2119:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=180/Math.PI,b=function(O){return d*O};M.default=b},23196:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.default=parseInt},9217:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d=Math.PI/180,b=function(O){return d*O};M.default=b},78127:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(73890);M.default=function(O){return b.default(O)?"":O.toString()}},58632:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(12619),O=function(){for(var k=[],L=0;L<arguments.length;L++)k[L]=arguments[L];return b.default([].concat.apply([],k))};M.default=O},12619:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(b,O){O===void 0&&(O=new Map);var k=[];if(Array.isArray(b))for(var L=0,P=b.length;L<P;L++){var A=b[L];O.has(A)||(k.push(A),O.set(A,!0))}return k}M.default=d},67250:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var d={};M.default=function(b){return b=b||"g",d[b]?d[b]+=1:d[b]=1,b+d[b]}},72660:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(78127),O=function(k){return b.default(k).toUpperCase()};M.default=O},85260:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(78127),O=function(k){var L=b.default(k);return L.charAt(0).toUpperCase()+L.substring(1)};M.default=O},29208:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(66631),O=d(73890);M.default=function(k,L){for(var P=[],A={},C=0;C<k.length;C++){var E=k[C],p=E[L];if(!O.default(p)){b.default(p)||(p=[p]);for(var w=0;w<p.length;w++){var y=p[w];A[y]||(P.push(y),A[y]=!0)}}}return P}},91161:function(xt,M,d){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var b=d(27154),O=d(46812),k=Object.values?function(L){return Object.values(L)}:function(L){var P=[];return b.default(L,function(A,C){O.default(L)&&C==="prototype"||P.push(A)}),P};M.default=k},61262:function(xt,M){"use strict";Object.defineProperty(M,"__esModule",{value:!0});function d(b,O){if(b["_wrap_"+O])return b["_wrap_"+O];var k=function(L){b[O](L)};return b["_wrap_"+O]=k,k}M.default=d},62117:function(xt,M,d){"use strict";d.r(M),d.d(M,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return L},__decorate:function(){return P},__param:function(){return A},__metadata:function(){return C},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return x},__read:function(){return g},__spread:function(){return S},__spreadArrays:function(){return _},__await:function(){return B},__asyncGenerator:function(){return F},__asyncDelegator:function(){return V},__asyncValues:function(){return Z},__makeTemplateObject:function(){return X},__importStar:function(){return U},__importDefault:function(){return nt},__classPrivateFieldGet:function(){return q},__classPrivateFieldSet:function(){return wt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var b=function(Ot,St){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(At,Et){At.__proto__=Et}||function(At,Et){for(var bt in Et)Et.hasOwnProperty(bt)&&(At[bt]=Et[bt])},b(Ot,St)};function O(ft,Ot){b(ft,Ot);function St(){this.constructor=ft}ft.prototype=Ot===null?Object.create(Ot):(St.prototype=Ot.prototype,new St)}var k=function(){return k=Object.assign||function(St){for(var At,Et=1,bt=arguments.length;Et<bt;Et++){At=arguments[Et];for(var Lt in At)Object.prototype.hasOwnProperty.call(At,Lt)&&(St[Lt]=At[Lt])}return St},k.apply(this,arguments)};function L(ft,Ot){var St={};for(var At in ft)Object.prototype.hasOwnProperty.call(ft,At)&&Ot.indexOf(At)<0&&(St[At]=ft[At]);if(ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Et=0,At=Object.getOwnPropertySymbols(ft);Et<At.length;Et++)Ot.indexOf(At[Et])<0&&Object.prototype.propertyIsEnumerable.call(ft,At[Et])&&(St[At[Et]]=ft[At[Et]]);return St}function P(ft,Ot,St,At){var Et=arguments.length,bt=Et<3?Ot:At===null?At=Object.getOwnPropertyDescriptor(Ot,St):At,Lt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(ft,Ot,St,At);else for(var Bt=ft.length-1;Bt>=0;Bt--)(Lt=ft[Bt])&&(bt=(Et<3?Lt(bt):Et>3?Lt(Ot,St,bt):Lt(Ot,St))||bt);return Et>3&&bt&&Object.defineProperty(Ot,St,bt),bt}function A(ft,Ot){return function(St,At){Ot(St,At,ft)}}function C(ft,Ot){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ft,Ot)}function E(ft,Ot,St,At){function Et(bt){return bt instanceof St?bt:new St(function(Lt){Lt(bt)})}return new(St||(St=Promise))(function(bt,Lt){function Bt(I){try{J(At.next(I))}catch(u){Lt(u)}}function gt(I){try{J(At.throw(I))}catch(u){Lt(u)}}function J(I){I.done?bt(I.value):Et(I.value).then(Bt,gt)}J((At=At.apply(ft,Ot||[])).next())})}function p(ft,Ot){var St={label:0,sent:function(){if(bt[0]&1)throw bt[1];return bt[1]},trys:[],ops:[]},At,Et,bt,Lt;return Lt={next:Bt(0),throw:Bt(1),return:Bt(2)},typeof Symbol=="function"&&(Lt[Symbol.iterator]=function(){return this}),Lt;function Bt(J){return function(I){return gt([J,I])}}function gt(J){if(At)throw new TypeError("Generator is already executing.");for(;St;)try{if(At=1,Et&&(bt=J[0]&2?Et.return:J[0]?Et.throw||((bt=Et.return)&&bt.call(Et),0):Et.next)&&!(bt=bt.call(Et,J[1])).done)return bt;switch(Et=0,bt&&(J=[J[0]&2,bt.value]),J[0]){case 0:case 1:bt=J;break;case 4:return St.label++,{value:J[1],done:!1};case 5:St.label++,Et=J[1],J=[0];continue;case 7:J=St.ops.pop(),St.trys.pop();continue;default:if(bt=St.trys,!(bt=bt.length>0&&bt[bt.length-1])&&(J[0]===6||J[0]===2)){St=0;continue}if(J[0]===3&&(!bt||J[1]>bt[0]&&J[1]<bt[3])){St.label=J[1];break}if(J[0]===6&&St.label<bt[1]){St.label=bt[1],bt=J;break}if(bt&&St.label<bt[2]){St.label=bt[2],St.ops.push(J);break}bt[2]&&St.ops.pop(),St.trys.pop();continue}J=Ot.call(ft,St)}catch(I){J=[6,I],Et=0}finally{At=bt=0}if(J[0]&5)throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}}function w(ft,Ot,St,At){At===void 0&&(At=St),ft[At]=Ot[St]}function y(ft,Ot){for(var St in ft)St!=="default"&&!Ot.hasOwnProperty(St)&&(Ot[St]=ft[St])}function x(ft){var Ot=typeof Symbol=="function"&&Symbol.iterator,St=Ot&&ft[Ot],At=0;if(St)return St.call(ft);if(ft&&typeof ft.length=="number")return{next:function(){return ft&&At>=ft.length&&(ft=void 0),{value:ft&&ft[At++],done:!ft}}};throw new TypeError(Ot?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(ft,Ot){var St=typeof Symbol=="function"&&ft[Symbol.iterator];if(!St)return ft;var At=St.call(ft),Et,bt=[],Lt;try{for(;(Ot===void 0||Ot-- >0)&&!(Et=At.next()).done;)bt.push(Et.value)}catch(Bt){Lt={error:Bt}}finally{try{Et&&!Et.done&&(St=At.return)&&St.call(At)}finally{if(Lt)throw Lt.error}}return bt}function S(){for(var ft=[],Ot=0;Ot<arguments.length;Ot++)ft=ft.concat(g(arguments[Ot]));return ft}function _(){for(var ft=0,Ot=0,St=arguments.length;Ot<St;Ot++)ft+=arguments[Ot].length;for(var At=Array(ft),Et=0,Ot=0;Ot<St;Ot++)for(var bt=arguments[Ot],Lt=0,Bt=bt.length;Lt<Bt;Lt++,Et++)At[Et]=bt[Lt];return At}function B(ft){return this instanceof B?(this.v=ft,this):new B(ft)}function F(ft,Ot,St){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At=St.apply(ft,Ot||[]),Et,bt=[];return Et={},Lt("next"),Lt("throw"),Lt("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function Lt(R){At[R]&&(Et[R]=function(N){return new Promise(function(z,j){bt.push([R,N,z,j])>1||Bt(R,N)})})}function Bt(R,N){try{gt(At[R](N))}catch(z){u(bt[0][3],z)}}function gt(R){R.value instanceof B?Promise.resolve(R.value.v).then(J,I):u(bt[0][2],R)}function J(R){Bt("next",R)}function I(R){Bt("throw",R)}function u(R,N){R(N),bt.shift(),bt.length&&Bt(bt[0][0],bt[0][1])}}function V(ft){var Ot,St;return Ot={},At("next"),At("throw",function(Et){throw Et}),At("return"),Ot[Symbol.iterator]=function(){return this},Ot;function At(Et,bt){Ot[Et]=ft[Et]?function(Lt){return(St=!St)?{value:B(ft[Et](Lt)),done:Et==="return"}:bt?bt(Lt):Lt}:bt}}function Z(ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot=ft[Symbol.asyncIterator],St;return Ot?Ot.call(ft):(ft=typeof x=="function"?x(ft):ft[Symbol.iterator](),St={},At("next"),At("throw"),At("return"),St[Symbol.asyncIterator]=function(){return this},St);function At(bt){St[bt]=ft[bt]&&function(Lt){return new Promise(function(Bt,gt){Lt=ft[bt](Lt),Et(Bt,gt,Lt.done,Lt.value)})}}function Et(bt,Lt,Bt,gt){Promise.resolve(gt).then(function(J){bt({value:J,done:Bt})},Lt)}}function X(ft,Ot){return Object.defineProperty?Object.defineProperty(ft,"raw",{value:Ot}):ft.raw=Ot,ft}function U(ft){if(ft&&ft.__esModule)return ft;var Ot={};if(ft!=null)for(var St in ft)Object.hasOwnProperty.call(ft,St)&&(Ot[St]=ft[St]);return Ot.default=ft,Ot}function nt(ft){return ft&&ft.__esModule?ft:{default:ft}}function q(ft,Ot){if(!Ot.has(ft))throw new TypeError("attempted to get private field on non-instance");return Ot.get(ft)}function wt(ft,Ot,St){if(!Ot.has(ft))throw new TypeError("attempted to set private field on non-instance");return Ot.set(ft,St),St}},8108:function(xt,M,d){"use strict";d.r(M),d.d(M,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return L},__decorate:function(){return P},__param:function(){return A},__metadata:function(){return C},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return x},__read:function(){return g},__spread:function(){return S},__spreadArrays:function(){return _},__await:function(){return B},__asyncGenerator:function(){return F},__asyncDelegator:function(){return V},__asyncValues:function(){return Z},__makeTemplateObject:function(){return X},__importStar:function(){return U},__importDefault:function(){return nt},__classPrivateFieldGet:function(){return q},__classPrivateFieldSet:function(){return wt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var b=function(Ot,St){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(At,Et){At.__proto__=Et}||function(At,Et){for(var bt in Et)Et.hasOwnProperty(bt)&&(At[bt]=Et[bt])},b(Ot,St)};function O(ft,Ot){b(ft,Ot);function St(){this.constructor=ft}ft.prototype=Ot===null?Object.create(Ot):(St.prototype=Ot.prototype,new St)}var k=function(){return k=Object.assign||function(St){for(var At,Et=1,bt=arguments.length;Et<bt;Et++){At=arguments[Et];for(var Lt in At)Object.prototype.hasOwnProperty.call(At,Lt)&&(St[Lt]=At[Lt])}return St},k.apply(this,arguments)};function L(ft,Ot){var St={};for(var At in ft)Object.prototype.hasOwnProperty.call(ft,At)&&Ot.indexOf(At)<0&&(St[At]=ft[At]);if(ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Et=0,At=Object.getOwnPropertySymbols(ft);Et<At.length;Et++)Ot.indexOf(At[Et])<0&&Object.prototype.propertyIsEnumerable.call(ft,At[Et])&&(St[At[Et]]=ft[At[Et]]);return St}function P(ft,Ot,St,At){var Et=arguments.length,bt=Et<3?Ot:At===null?At=Object.getOwnPropertyDescriptor(Ot,St):At,Lt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(ft,Ot,St,At);else for(var Bt=ft.length-1;Bt>=0;Bt--)(Lt=ft[Bt])&&(bt=(Et<3?Lt(bt):Et>3?Lt(Ot,St,bt):Lt(Ot,St))||bt);return Et>3&&bt&&Object.defineProperty(Ot,St,bt),bt}function A(ft,Ot){return function(St,At){Ot(St,At,ft)}}function C(ft,Ot){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ft,Ot)}function E(ft,Ot,St,At){function Et(bt){return bt instanceof St?bt:new St(function(Lt){Lt(bt)})}return new(St||(St=Promise))(function(bt,Lt){function Bt(I){try{J(At.next(I))}catch(u){Lt(u)}}function gt(I){try{J(At.throw(I))}catch(u){Lt(u)}}function J(I){I.done?bt(I.value):Et(I.value).then(Bt,gt)}J((At=At.apply(ft,Ot||[])).next())})}function p(ft,Ot){var St={label:0,sent:function(){if(bt[0]&1)throw bt[1];return bt[1]},trys:[],ops:[]},At,Et,bt,Lt;return Lt={next:Bt(0),throw:Bt(1),return:Bt(2)},typeof Symbol=="function"&&(Lt[Symbol.iterator]=function(){return this}),Lt;function Bt(J){return function(I){return gt([J,I])}}function gt(J){if(At)throw new TypeError("Generator is already executing.");for(;St;)try{if(At=1,Et&&(bt=J[0]&2?Et.return:J[0]?Et.throw||((bt=Et.return)&&bt.call(Et),0):Et.next)&&!(bt=bt.call(Et,J[1])).done)return bt;switch(Et=0,bt&&(J=[J[0]&2,bt.value]),J[0]){case 0:case 1:bt=J;break;case 4:return St.label++,{value:J[1],done:!1};case 5:St.label++,Et=J[1],J=[0];continue;case 7:J=St.ops.pop(),St.trys.pop();continue;default:if(bt=St.trys,!(bt=bt.length>0&&bt[bt.length-1])&&(J[0]===6||J[0]===2)){St=0;continue}if(J[0]===3&&(!bt||J[1]>bt[0]&&J[1]<bt[3])){St.label=J[1];break}if(J[0]===6&&St.label<bt[1]){St.label=bt[1],bt=J;break}if(bt&&St.label<bt[2]){St.label=bt[2],St.ops.push(J);break}bt[2]&&St.ops.pop(),St.trys.pop();continue}J=Ot.call(ft,St)}catch(I){J=[6,I],Et=0}finally{At=bt=0}if(J[0]&5)throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}}function w(ft,Ot,St,At){At===void 0&&(At=St),ft[At]=Ot[St]}function y(ft,Ot){for(var St in ft)St!=="default"&&!Ot.hasOwnProperty(St)&&(Ot[St]=ft[St])}function x(ft){var Ot=typeof Symbol=="function"&&Symbol.iterator,St=Ot&&ft[Ot],At=0;if(St)return St.call(ft);if(ft&&typeof ft.length=="number")return{next:function(){return ft&&At>=ft.length&&(ft=void 0),{value:ft&&ft[At++],done:!ft}}};throw new TypeError(Ot?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(ft,Ot){var St=typeof Symbol=="function"&&ft[Symbol.iterator];if(!St)return ft;var At=St.call(ft),Et,bt=[],Lt;try{for(;(Ot===void 0||Ot-- >0)&&!(Et=At.next()).done;)bt.push(Et.value)}catch(Bt){Lt={error:Bt}}finally{try{Et&&!Et.done&&(St=At.return)&&St.call(At)}finally{if(Lt)throw Lt.error}}return bt}function S(){for(var ft=[],Ot=0;Ot<arguments.length;Ot++)ft=ft.concat(g(arguments[Ot]));return ft}function _(){for(var ft=0,Ot=0,St=arguments.length;Ot<St;Ot++)ft+=arguments[Ot].length;for(var At=Array(ft),Et=0,Ot=0;Ot<St;Ot++)for(var bt=arguments[Ot],Lt=0,Bt=bt.length;Lt<Bt;Lt++,Et++)At[Et]=bt[Lt];return At}function B(ft){return this instanceof B?(this.v=ft,this):new B(ft)}function F(ft,Ot,St){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At=St.apply(ft,Ot||[]),Et,bt=[];return Et={},Lt("next"),Lt("throw"),Lt("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function Lt(R){At[R]&&(Et[R]=function(N){return new Promise(function(z,j){bt.push([R,N,z,j])>1||Bt(R,N)})})}function Bt(R,N){try{gt(At[R](N))}catch(z){u(bt[0][3],z)}}function gt(R){R.value instanceof B?Promise.resolve(R.value.v).then(J,I):u(bt[0][2],R)}function J(R){Bt("next",R)}function I(R){Bt("throw",R)}function u(R,N){R(N),bt.shift(),bt.length&&Bt(bt[0][0],bt[0][1])}}function V(ft){var Ot,St;return Ot={},At("next"),At("throw",function(Et){throw Et}),At("return"),Ot[Symbol.iterator]=function(){return this},Ot;function At(Et,bt){Ot[Et]=ft[Et]?function(Lt){return(St=!St)?{value:B(ft[Et](Lt)),done:Et==="return"}:bt?bt(Lt):Lt}:bt}}function Z(ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot=ft[Symbol.asyncIterator],St;return Ot?Ot.call(ft):(ft=typeof x=="function"?x(ft):ft[Symbol.iterator](),St={},At("next"),At("throw"),At("return"),St[Symbol.asyncIterator]=function(){return this},St);function At(bt){St[bt]=ft[bt]&&function(Lt){return new Promise(function(Bt,gt){Lt=ft[bt](Lt),Et(Bt,gt,Lt.done,Lt.value)})}}function Et(bt,Lt,Bt,gt){Promise.resolve(gt).then(function(J){bt({value:J,done:Bt})},Lt)}}function X(ft,Ot){return Object.defineProperty?Object.defineProperty(ft,"raw",{value:Ot}):ft.raw=Ot,ft}function U(ft){if(ft&&ft.__esModule)return ft;var Ot={};if(ft!=null)for(var St in ft)Object.hasOwnProperty.call(ft,St)&&(Ot[St]=ft[St]);return Ot.default=ft,Ot}function nt(ft){return ft&&ft.__esModule?ft:{default:ft}}function q(ft,Ot){if(!Ot.has(ft))throw new TypeError("attempted to get private field on non-instance");return Ot.get(ft)}function wt(ft,Ot,St){if(!Ot.has(ft))throw new TypeError("attempted to set private field on non-instance");return Ot.set(ft,St),St}},15746:function(xt,M,d){"use strict";var b=d(21584);M.Z=b.Z},89032:function(xt,M,d){"use strict";var b=d(38663),O=d.n(b),k=d(6999)},71230:function(xt,M,d){"use strict";var b=d(92820);M.Z=b.Z},13062:function(xt,M,d){"use strict";var b=d(38663),O=d.n(b),k=d(6999)},48168:function(xt,M,d){var b=d(39092),O={};for(var k in b)b.hasOwnProperty(k)&&(O[b[k]]=k);var L=xt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var P in L)if(L.hasOwnProperty(P)){if(!("channels"in L[P]))throw new Error("missing channels property: "+P);if(!("labels"in L[P]))throw new Error("missing channel labels property: "+P);if(L[P].labels.length!==L[P].channels)throw new Error("channel and label counts mismatch: "+P);var A=L[P].channels,C=L[P].labels;delete L[P].channels,delete L[P].labels,Object.defineProperty(L[P],"channels",{value:A}),Object.defineProperty(L[P],"labels",{value:C})}L.rgb.hsl=function(p){var w=p[0]/255,y=p[1]/255,x=p[2]/255,g=Math.min(w,y,x),S=Math.max(w,y,x),_=S-g,B,F,V;return S===g?B=0:w===S?B=(y-x)/_:y===S?B=2+(x-w)/_:x===S&&(B=4+(w-y)/_),B=Math.min(B*60,360),B<0&&(B+=360),V=(g+S)/2,S===g?F=0:V<=.5?F=_/(S+g):F=_/(2-S-g),[B,F*100,V*100]},L.rgb.hsv=function(p){var w,y,x,g,S,_=p[0]/255,B=p[1]/255,F=p[2]/255,V=Math.max(_,B,F),Z=V-Math.min(_,B,F),X=function(U){return(V-U)/6/Z+1/2};return Z===0?g=S=0:(S=Z/V,w=X(_),y=X(B),x=X(F),_===V?g=x-y:B===V?g=1/3+w-x:F===V&&(g=2/3+y-w),g<0?g+=1:g>1&&(g-=1)),[g*360,S*100,V*100]},L.rgb.hwb=function(p){var w=p[0],y=p[1],x=p[2],g=L.rgb.hsl(p)[0],S=1/255*Math.min(w,Math.min(y,x));return x=1-1/255*Math.max(w,Math.max(y,x)),[g,S*100,x*100]},L.rgb.cmyk=function(p){var w=p[0]/255,y=p[1]/255,x=p[2]/255,g,S,_,B;return B=Math.min(1-w,1-y,1-x),g=(1-w-B)/(1-B)||0,S=(1-y-B)/(1-B)||0,_=(1-x-B)/(1-B)||0,[g*100,S*100,_*100,B*100]};function E(p,w){return Math.pow(p[0]-w[0],2)+Math.pow(p[1]-w[1],2)+Math.pow(p[2]-w[2],2)}L.rgb.keyword=function(p){var w=O[p];if(w)return w;var y=Infinity,x;for(var g in b)if(b.hasOwnProperty(g)){var S=b[g],_=E(p,S);_<y&&(y=_,x=g)}return x},L.keyword.rgb=function(p){return b[p]},L.rgb.xyz=function(p){var w=p[0]/255,y=p[1]/255,x=p[2]/255;w=w>.04045?Math.pow((w+.055)/1.055,2.4):w/12.92,y=y>.04045?Math.pow((y+.055)/1.055,2.4):y/12.92,x=x>.04045?Math.pow((x+.055)/1.055,2.4):x/12.92;var g=w*.4124+y*.3576+x*.1805,S=w*.2126+y*.7152+x*.0722,_=w*.0193+y*.1192+x*.9505;return[g*100,S*100,_*100]},L.rgb.lab=function(p){var w=L.rgb.xyz(p),y=w[0],x=w[1],g=w[2],S,_,B;return y/=95.047,x/=100,g/=108.883,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,S=116*x-16,_=500*(y-x),B=200*(x-g),[S,_,B]},L.hsl.rgb=function(p){var w=p[0]/360,y=p[1]/100,x=p[2]/100,g,S,_,B,F;if(y===0)return F=x*255,[F,F,F];x<.5?S=x*(1+y):S=x+y-x*y,g=2*x-S,B=[0,0,0];for(var V=0;V<3;V++)_=w+1/3*-(V-1),_<0&&_++,_>1&&_--,6*_<1?F=g+(S-g)*6*_:2*_<1?F=S:3*_<2?F=g+(S-g)*(2/3-_)*6:F=g,B[V]=F*255;return B},L.hsl.hsv=function(p){var w=p[0],y=p[1]/100,x=p[2]/100,g=y,S=Math.max(x,.01),_,B;return x*=2,y*=x<=1?x:2-x,g*=S<=1?S:2-S,B=(x+y)/2,_=x===0?2*g/(S+g):2*y/(x+y),[w,_*100,B*100]},L.hsv.rgb=function(p){var w=p[0]/60,y=p[1]/100,x=p[2]/100,g=Math.floor(w)%6,S=w-Math.floor(w),_=255*x*(1-y),B=255*x*(1-y*S),F=255*x*(1-y*(1-S));switch(x*=255,g){case 0:return[x,F,_];case 1:return[B,x,_];case 2:return[_,x,F];case 3:return[_,B,x];case 4:return[F,_,x];case 5:return[x,_,B]}},L.hsv.hsl=function(p){var w=p[0],y=p[1]/100,x=p[2]/100,g=Math.max(x,.01),S,_,B;return B=(2-y)*x,S=(2-y)*g,_=y*g,_/=S<=1?S:2-S,_=_||0,B/=2,[w,_*100,B*100]},L.hwb.rgb=function(p){var w=p[0]/360,y=p[1]/100,x=p[2]/100,g=y+x,S,_,B,F;g>1&&(y/=g,x/=g),S=Math.floor(6*w),_=1-x,B=6*w-S,(S&1)!=0&&(B=1-B),F=y+B*(_-y);var V,Z,X;switch(S){default:case 6:case 0:V=_,Z=F,X=y;break;case 1:V=F,Z=_,X=y;break;case 2:V=y,Z=_,X=F;break;case 3:V=y,Z=F,X=_;break;case 4:V=F,Z=y,X=_;break;case 5:V=_,Z=y,X=F;break}return[V*255,Z*255,X*255]},L.cmyk.rgb=function(p){var w=p[0]/100,y=p[1]/100,x=p[2]/100,g=p[3]/100,S,_,B;return S=1-Math.min(1,w*(1-g)+g),_=1-Math.min(1,y*(1-g)+g),B=1-Math.min(1,x*(1-g)+g),[S*255,_*255,B*255]},L.xyz.rgb=function(p){var w=p[0]/100,y=p[1]/100,x=p[2]/100,g,S,_;return g=w*3.2406+y*-1.5372+x*-.4986,S=w*-.9689+y*1.8758+x*.0415,_=w*.0557+y*-.204+x*1.057,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g*12.92,S=S>.0031308?1.055*Math.pow(S,1/2.4)-.055:S*12.92,_=_>.0031308?1.055*Math.pow(_,1/2.4)-.055:_*12.92,g=Math.min(Math.max(0,g),1),S=Math.min(Math.max(0,S),1),_=Math.min(Math.max(0,_),1),[g*255,S*255,_*255]},L.xyz.lab=function(p){var w=p[0],y=p[1],x=p[2],g,S,_;return w/=95.047,y/=100,x/=108.883,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,g=116*y-16,S=500*(w-y),_=200*(y-x),[g,S,_]},L.lab.xyz=function(p){var w=p[0],y=p[1],x=p[2],g,S,_;S=(w+16)/116,g=y/500+S,_=S-x/200;var B=Math.pow(S,3),F=Math.pow(g,3),V=Math.pow(_,3);return S=B>.008856?B:(S-16/116)/7.787,g=F>.008856?F:(g-16/116)/7.787,_=V>.008856?V:(_-16/116)/7.787,g*=95.047,S*=100,_*=108.883,[g,S,_]},L.lab.lch=function(p){var w=p[0],y=p[1],x=p[2],g,S,_;return g=Math.atan2(x,y),S=g*360/2/Math.PI,S<0&&(S+=360),_=Math.sqrt(y*y+x*x),[w,_,S]},L.lch.lab=function(p){var w=p[0],y=p[1],x=p[2],g,S,_;return _=x/360*2*Math.PI,g=y*Math.cos(_),S=y*Math.sin(_),[w,g,S]},L.rgb.ansi16=function(p){var w=p[0],y=p[1],x=p[2],g=1 in arguments?arguments[1]:L.rgb.hsv(p)[2];if(g=Math.round(g/50),g===0)return 30;var S=30+(Math.round(x/255)<<2|Math.round(y/255)<<1|Math.round(w/255));return g===2&&(S+=60),S},L.hsv.ansi16=function(p){return L.rgb.ansi16(L.hsv.rgb(p),p[2])},L.rgb.ansi256=function(p){var w=p[0],y=p[1],x=p[2];if(w===y&&y===x)return w<8?16:w>248?231:Math.round((w-8)/247*24)+232;var g=16+36*Math.round(w/255*5)+6*Math.round(y/255*5)+Math.round(x/255*5);return g},L.ansi16.rgb=function(p){var w=p%10;if(w===0||w===7)return p>50&&(w+=3.5),w=w/10.5*255,[w,w,w];var y=(~~(p>50)+1)*.5,x=(w&1)*y*255,g=(w>>1&1)*y*255,S=(w>>2&1)*y*255;return[x,g,S]},L.ansi256.rgb=function(p){if(p>=232){var w=(p-232)*10+8;return[w,w,w]}p-=16;var y,x=Math.floor(p/36)/5*255,g=Math.floor((y=p%36)/6)/5*255,S=y%6/5*255;return[x,g,S]},L.rgb.hex=function(p){var w=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),y=w.toString(16).toUpperCase();return"000000".substring(y.length)+y},L.hex.rgb=function(p){var w=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!w)return[0,0,0];var y=w[0];w[0].length===3&&(y=y.split("").map(function(B){return B+B}).join(""));var x=parseInt(y,16),g=x>>16&255,S=x>>8&255,_=x&255;return[g,S,_]},L.rgb.hcg=function(p){var w=p[0]/255,y=p[1]/255,x=p[2]/255,g=Math.max(Math.max(w,y),x),S=Math.min(Math.min(w,y),x),_=g-S,B,F;return _<1?B=S/(1-_):B=0,_<=0?F=0:g===w?F=(y-x)/_%6:g===y?F=2+(x-w)/_:F=4+(w-y)/_+4,F/=6,F%=1,[F*360,_*100,B*100]},L.hsl.hcg=function(p){var w=p[1]/100,y=p[2]/100,x=1,g=0;return y<.5?x=2*w*y:x=2*w*(1-y),x<1&&(g=(y-.5*x)/(1-x)),[p[0],x*100,g*100]},L.hsv.hcg=function(p){var w=p[1]/100,y=p[2]/100,x=w*y,g=0;return x<1&&(g=(y-x)/(1-x)),[p[0],x*100,g*100]},L.hcg.rgb=function(p){var w=p[0]/360,y=p[1]/100,x=p[2]/100;if(y===0)return[x*255,x*255,x*255];var g=[0,0,0],S=w%1*6,_=S%1,B=1-_,F=0;switch(Math.floor(S)){case 0:g[0]=1,g[1]=_,g[2]=0;break;case 1:g[0]=B,g[1]=1,g[2]=0;break;case 2:g[0]=0,g[1]=1,g[2]=_;break;case 3:g[0]=0,g[1]=B,g[2]=1;break;case 4:g[0]=_,g[1]=0,g[2]=1;break;default:g[0]=1,g[1]=0,g[2]=B}return F=(1-y)*x,[(y*g[0]+F)*255,(y*g[1]+F)*255,(y*g[2]+F)*255]},L.hcg.hsv=function(p){var w=p[1]/100,y=p[2]/100,x=w+y*(1-w),g=0;return x>0&&(g=w/x),[p[0],g*100,x*100]},L.hcg.hsl=function(p){var w=p[1]/100,y=p[2]/100,x=y*(1-w)+.5*w,g=0;return x>0&&x<.5?g=w/(2*x):x>=.5&&x<1&&(g=w/(2*(1-x))),[p[0],g*100,x*100]},L.hcg.hwb=function(p){var w=p[1]/100,y=p[2]/100,x=w+y*(1-w);return[p[0],(x-w)*100,(1-x)*100]},L.hwb.hcg=function(p){var w=p[1]/100,y=p[2]/100,x=1-y,g=x-w,S=0;return g<1&&(S=(x-g)/(1-g)),[p[0],g*100,S*100]},L.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},L.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},L.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},L.gray.hsl=L.gray.hsv=function(p){return[0,0,p[0]]},L.gray.hwb=function(p){return[0,100,p[0]]},L.gray.cmyk=function(p){return[0,0,0,p[0]]},L.gray.lab=function(p){return[p[0],0,0]},L.gray.hex=function(p){var w=Math.round(p[0]/100*255)&255,y=(w<<16)+(w<<8)+w,x=y.toString(16).toUpperCase();return"000000".substring(x.length)+x},L.rgb.gray=function(p){var w=(p[0]+p[1]+p[2])/3;return[w/255*100]}},12085:function(xt,M,d){var b=d(48168),O=d(4111),k={},L=Object.keys(b);function P(C){var E=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),C(p))};return"conversion"in C&&(E.conversion=C.conversion),E}function A(C){var E=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var w=C(p);if(typeof w=="object")for(var y=w.length,x=0;x<y;x++)w[x]=Math.round(w[x]);return w};return"conversion"in C&&(E.conversion=C.conversion),E}L.forEach(function(C){k[C]={},Object.defineProperty(k[C],"channels",{value:b[C].channels}),Object.defineProperty(k[C],"labels",{value:b[C].labels});var E=O(C),p=Object.keys(E);p.forEach(function(w){var y=E[w];k[C][w]=A(y),k[C][w].raw=P(y)})}),xt.exports=k},39092:function(xt){"use strict";xt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4111:function(xt,M,d){var b=d(48168);function O(){for(var A={},C=Object.keys(b),E=C.length,p=0;p<E;p++)A[C[p]]={distance:-1,parent:null};return A}function k(A){var C=O(),E=[A];for(C[A].distance=0;E.length;)for(var p=E.pop(),w=Object.keys(b[p]),y=w.length,x=0;x<y;x++){var g=w[x],S=C[g];S.distance===-1&&(S.distance=C[p].distance+1,S.parent=p,E.unshift(g))}return C}function L(A,C){return function(E){return C(A(E))}}function P(A,C){for(var E=[C[A].parent,A],p=b[C[A].parent][A],w=C[A].parent;C[w].parent;)E.unshift(C[w].parent),p=L(b[C[w].parent][w],p),w=C[w].parent;return p.conversion=E,p}xt.exports=function(A){for(var C=k(A),E={},p=Object.keys(C),w=p.length,y=0;y<w;y++){var x=p[y],g=C[x];g.parent!==null&&(E[x]=P(x,C))}return E}},8874:function(xt){"use strict";xt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(xt,M,d){var b=d(8874),O=d(86851),k=Object.hasOwnProperty,L=Object.create(null);for(var P in b)k.call(b,P)&&(L[b[P]]=P);var A=xt.exports={to:{},get:{}};A.get=function(p){var w=p.substring(0,3).toLowerCase(),y,x;switch(w){case"hsl":y=A.get.hsl(p),x="hsl";break;case"hwb":y=A.get.hwb(p),x="hwb";break;default:y=A.get.rgb(p),x="rgb";break}return y?{model:x,value:y}:null},A.get.rgb=function(p){if(!p)return null;var w=/^#([a-f0-9]{3,4})$/i,y=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,x=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,g=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,S=/^(\w+)$/,_=[0,0,0,1],B,F,V;if(B=p.match(y)){for(V=B[2],B=B[1],F=0;F<3;F++){var Z=F*2;_[F]=parseInt(B.slice(Z,Z+2),16)}V&&(_[3]=parseInt(V,16)/255)}else if(B=p.match(w)){for(B=B[1],V=B[3],F=0;F<3;F++)_[F]=parseInt(B[F]+B[F],16);V&&(_[3]=parseInt(V+V,16)/255)}else if(B=p.match(x)){for(F=0;F<3;F++)_[F]=parseInt(B[F+1],0);B[4]&&(B[5]?_[3]=parseFloat(B[4])*.01:_[3]=parseFloat(B[4]))}else if(B=p.match(g)){for(F=0;F<3;F++)_[F]=Math.round(parseFloat(B[F+1])*2.55);B[4]&&(B[5]?_[3]=parseFloat(B[4])*.01:_[3]=parseFloat(B[4]))}else return(B=p.match(S))?B[1]==="transparent"?[0,0,0,0]:k.call(b,B[1])?(_=b[B[1]],_[3]=1,_):null:null;for(F=0;F<3;F++)_[F]=C(_[F],0,255);return _[3]=C(_[3],0,1),_},A.get.hsl=function(p){if(!p)return null;var w=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=p.match(w);if(y){var x=parseFloat(y[4]),g=(parseFloat(y[1])%360+360)%360,S=C(parseFloat(y[2]),0,100),_=C(parseFloat(y[3]),0,100),B=C(isNaN(x)?1:x,0,1);return[g,S,_,B]}return null},A.get.hwb=function(p){if(!p)return null;var w=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=p.match(w);if(y){var x=parseFloat(y[4]),g=(parseFloat(y[1])%360+360)%360,S=C(parseFloat(y[2]),0,100),_=C(parseFloat(y[3]),0,100),B=C(isNaN(x)?1:x,0,1);return[g,S,_,B]}return null},A.to.hex=function(){var p=O(arguments);return"#"+E(p[0])+E(p[1])+E(p[2])+(p[3]<1?E(Math.round(p[3]*255)):"")},A.to.rgb=function(){var p=O(arguments);return p.length<4||p[3]===1?"rgb("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+")":"rgba("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+", "+p[3]+")"},A.to.rgb.percent=function(){var p=O(arguments),w=Math.round(p[0]/255*100),y=Math.round(p[1]/255*100),x=Math.round(p[2]/255*100);return p.length<4||p[3]===1?"rgb("+w+"%, "+y+"%, "+x+"%)":"rgba("+w+"%, "+y+"%, "+x+"%, "+p[3]+")"},A.to.hsl=function(){var p=O(arguments);return p.length<4||p[3]===1?"hsl("+p[0]+", "+p[1]+"%, "+p[2]+"%)":"hsla("+p[0]+", "+p[1]+"%, "+p[2]+"%, "+p[3]+")"},A.to.hwb=function(){var p=O(arguments),w="";return p.length>=4&&p[3]!==1&&(w=", "+p[3]),"hwb("+p[0]+", "+p[1]+"%, "+p[2]+"%"+w+")"},A.to.keyword=function(p){return L[p.slice(0,3)]};function C(p,w,y){return Math.min(Math.max(w,p),y)}function E(p){var w=Math.round(p).toString(16).toUpperCase();return w.length<2?"0"+w:w}},6767:function(xt,M,d){"use strict";var b=d(19818),O=d(12085),k=[].slice,L=["keyword","gray","hex"],P={};Object.keys(O).forEach(function(S){P[k.call(O[S].labels).sort().join("")]=S});var A={};function C(S,_){if(!(this instanceof C))return new C(S,_);if(_&&_ in L&&(_=null),_&&!(_ in O))throw new Error("Unknown model: "+_);var B,F;if(S==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(S instanceof C)this.model=S.model,this.color=S.color.slice(),this.valpha=S.valpha;else if(typeof S=="string"){var V=b.get(S);if(V===null)throw new Error("Unable to parse color from string: "+S);this.model=V.model,F=O[this.model].channels,this.color=V.value.slice(0,F),this.valpha=typeof V.value[F]=="number"?V.value[F]:1}else if(S.length){this.model=_||"rgb",F=O[this.model].channels;var Z=k.call(S,0,F);this.color=g(Z,F),this.valpha=typeof S[F]=="number"?S[F]:1}else if(typeof S=="number")S&=16777215,this.model="rgb",this.color=[S>>16&255,S>>8&255,S&255],this.valpha=1;else{this.valpha=1;var X=Object.keys(S);"alpha"in S&&(X.splice(X.indexOf("alpha"),1),this.valpha=typeof S.alpha=="number"?S.alpha:0);var U=X.sort().join("");if(!(U in P))throw new Error("Unable to parse color from object: "+JSON.stringify(S));this.model=P[U];var nt=O[this.model].labels,q=[];for(B=0;B<nt.length;B++)q.push(S[nt[B]]);this.color=g(q)}if(A[this.model])for(F=O[this.model].channels,B=0;B<F;B++){var wt=A[this.model][B];wt&&(this.color[B]=wt(this.color[B]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}C.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(S){var _=this.model in b.to?this:this.rgb();_=_.round(typeof S=="number"?S:1);var B=_.valpha===1?_.color:_.color.concat(this.valpha);return b.to[_.model](B)},percentString:function(S){var _=this.rgb().round(typeof S=="number"?S:1),B=_.valpha===1?_.color:_.color.concat(this.valpha);return b.to.rgb.percent(B)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var S={},_=O[this.model].channels,B=O[this.model].labels,F=0;F<_;F++)S[B[F]]=this.color[F];return this.valpha!==1&&(S.alpha=this.valpha),S},unitArray:function(){var S=this.rgb().color;return S[0]/=255,S[1]/=255,S[2]/=255,this.valpha!==1&&S.push(this.valpha),S},unitObject:function(){var S=this.rgb().object();return S.r/=255,S.g/=255,S.b/=255,this.valpha!==1&&(S.alpha=this.valpha),S},round:function(S){return S=Math.max(S||0,0),new C(this.color.map(p(S)).concat(this.valpha),this.model)},alpha:function(S){return arguments.length?new C(this.color.concat(Math.max(0,Math.min(1,S))),this.model):this.valpha},red:w("rgb",0,y(255)),green:w("rgb",1,y(255)),blue:w("rgb",2,y(255)),hue:w(["hsl","hsv","hsl","hwb","hcg"],0,function(S){return(S%360+360)%360}),saturationl:w("hsl",1,y(100)),lightness:w("hsl",2,y(100)),saturationv:w("hsv",1,y(100)),value:w("hsv",2,y(100)),chroma:w("hcg",1,y(100)),gray:w("hcg",2,y(100)),white:w("hwb",1,y(100)),wblack:w("hwb",2,y(100)),cyan:w("cmyk",0,y(100)),magenta:w("cmyk",1,y(100)),yellow:w("cmyk",2,y(100)),black:w("cmyk",3,y(100)),x:w("xyz",0,y(100)),y:w("xyz",1,y(100)),z:w("xyz",2,y(100)),l:w("lab",0,y(100)),a:w("lab",1),b:w("lab",2),keyword:function(S){return arguments.length?new C(S):O[this.model].keyword(this.color)},hex:function(S){return arguments.length?new C(S):b.to.hex(this.rgb().round().color)},rgbNumber:function(){var S=this.rgb().color;return(S[0]&255)<<16|(S[1]&255)<<8|S[2]&255},luminosity:function(){for(var S=this.rgb().color,_=[],B=0;B<S.length;B++){var F=S[B]/255;_[B]=F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4)}return .2126*_[0]+.7152*_[1]+.0722*_[2]},contrast:function(S){var _=this.luminosity(),B=S.luminosity();return _>B?(_+.05)/(B+.05):(B+.05)/(_+.05)},level:function(S){var _=this.contrast(S);return _>=7.1?"AAA":_>=4.5?"AA":""},isDark:function(){var S=this.rgb().color,_=(S[0]*299+S[1]*587+S[2]*114)/1e3;return _<128},isLight:function(){return!this.isDark()},negate:function(){for(var S=this.rgb(),_=0;_<3;_++)S.color[_]=255-S.color[_];return S},lighten:function(S){var _=this.hsl();return _.color[2]+=_.color[2]*S,_},darken:function(S){var _=this.hsl();return _.color[2]-=_.color[2]*S,_},saturate:function(S){var _=this.hsl();return _.color[1]+=_.color[1]*S,_},desaturate:function(S){var _=this.hsl();return _.color[1]-=_.color[1]*S,_},whiten:function(S){var _=this.hwb();return _.color[1]+=_.color[1]*S,_},blacken:function(S){var _=this.hwb();return _.color[2]+=_.color[2]*S,_},grayscale:function(){var S=this.rgb().color,_=S[0]*.3+S[1]*.59+S[2]*.11;return C.rgb(_,_,_)},fade:function(S){return this.alpha(this.valpha-this.valpha*S)},opaquer:function(S){return this.alpha(this.valpha+this.valpha*S)},rotate:function(S){var _=this.hsl(),B=_.color[0];return B=(B+S)%360,B=B<0?360+B:B,_.color[0]=B,_},mix:function(S,_){if(!S||!S.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof S);var B=S.rgb(),F=this.rgb(),V=_===void 0?.5:_,Z=2*V-1,X=B.alpha()-F.alpha(),U=((Z*X==-1?Z:(Z+X)/(1+Z*X))+1)/2,nt=1-U;return C.rgb(U*B.red()+nt*F.red(),U*B.green()+nt*F.green(),U*B.blue()+nt*F.blue(),B.alpha()*V+F.alpha()*(1-V))}},Object.keys(O).forEach(function(S){if(L.indexOf(S)===-1){var _=O[S].channels;C.prototype[S]=function(){if(this.model===S)return new C(this);if(arguments.length)return new C(arguments,S);var B=typeof arguments[_]=="number"?_:this.valpha;return new C(x(O[this.model][S].raw(this.color)).concat(B),S)},C[S]=function(B){return typeof B=="number"&&(B=g(k.call(arguments),_)),new C(B,S)}}});function E(S,_){return Number(S.toFixed(_))}function p(S){return function(_){return E(_,S)}}function w(S,_,B){return S=Array.isArray(S)?S:[S],S.forEach(function(F){(A[F]||(A[F]=[]))[_]=B}),S=S[0],function(F){var V;return arguments.length?(B&&(F=B(F)),V=this[S](),V.color[_]=F,V):(V=this[S]().color[_],B&&(V=B(V)),V)}}function y(S){return function(_){return Math.max(0,Math.min(S,_))}}function x(S){return Array.isArray(S)?S:[S]}function g(S,_){for(var B=0;B<_;B++)typeof S[B]!="number"&&(S[B]=0);return S}xt.exports=C},2650:function(xt,M,d){"use strict";d.d(M,{ZP:function(){return X},B8:function(){return wt}});function b(J,I,u){J.prototype=I.prototype=u,u.constructor=J}function O(J,I){var u=Object.create(J.prototype);for(var R in I)u[R]=I[R];return u}function k(){}var L=.7,P=1/L,A="\\s*([+-]?\\d+)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,w=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),y=new RegExp("^rgb\\("+[E,E,E]+"\\)$"),x=new RegExp("^rgba\\("+[A,A,A,C]+"\\)$"),g=new RegExp("^rgba\\("+[E,E,E,C]+"\\)$"),S=new RegExp("^hsl\\("+[C,E,E]+"\\)$"),_=new RegExp("^hsla\\("+[C,E,E,C]+"\\)$"),B={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b(k,X,{copy:function(J){return Object.assign(new this.constructor,this,J)},displayable:function(){return this.rgb().displayable()},hex:F,formatHex:F,formatHsl:V,formatRgb:Z,toString:Z});function F(){return this.rgb().formatHex()}function V(){return bt(this).formatHsl()}function Z(){return this.rgb().formatRgb()}function X(J){var I,u;return J=(J+"").trim().toLowerCase(),(I=p.exec(J))?(u=I[1].length,I=parseInt(I[1],16),u===6?U(I):u===3?new ft(I>>8&15|I>>4&240,I>>4&15|I&240,(I&15)<<4|I&15,1):u===8?nt(I>>24&255,I>>16&255,I>>8&255,(I&255)/255):u===4?nt(I>>12&15|I>>8&240,I>>8&15|I>>4&240,I>>4&15|I&240,((I&15)<<4|I&15)/255):null):(I=w.exec(J))?new ft(I[1],I[2],I[3],1):(I=y.exec(J))?new ft(I[1]*255/100,I[2]*255/100,I[3]*255/100,1):(I=x.exec(J))?nt(I[1],I[2],I[3],I[4]):(I=g.exec(J))?nt(I[1]*255/100,I[2]*255/100,I[3]*255/100,I[4]):(I=S.exec(J))?Et(I[1],I[2]/100,I[3]/100,1):(I=_.exec(J))?Et(I[1],I[2]/100,I[3]/100,I[4]):B.hasOwnProperty(J)?U(B[J]):J==="transparent"?new ft(NaN,NaN,NaN,0):null}function U(J){return new ft(J>>16&255,J>>8&255,J&255,1)}function nt(J,I,u,R){return R<=0&&(J=I=u=NaN),new ft(J,I,u,R)}function q(J){return J instanceof k||(J=X(J)),J?(J=J.rgb(),new ft(J.r,J.g,J.b,J.opacity)):new ft}function wt(J,I,u,R){return arguments.length===1?q(J):new ft(J,I,u,R==null?1:R)}function ft(J,I,u,R){this.r=+J,this.g=+I,this.b=+u,this.opacity=+R}b(ft,wt,O(k,{brighter:function(J){return J=J==null?P:Math.pow(P,J),new ft(this.r*J,this.g*J,this.b*J,this.opacity)},darker:function(J){return J=J==null?L:Math.pow(L,J),new ft(this.r*J,this.g*J,this.b*J,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ot,formatHex:Ot,formatRgb:St,toString:St}));function Ot(){return"#"+At(this.r)+At(this.g)+At(this.b)}function St(){var J=this.opacity;return J=isNaN(J)?1:Math.max(0,Math.min(1,J)),(J===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(J===1?")":", "+J+")")}function At(J){return J=Math.max(0,Math.min(255,Math.round(J)||0)),(J<16?"0":"")+J.toString(16)}function Et(J,I,u,R){return R<=0?J=I=u=NaN:u<=0||u>=1?J=I=NaN:I<=0&&(J=NaN),new Bt(J,I,u,R)}function bt(J){if(J instanceof Bt)return new Bt(J.h,J.s,J.l,J.opacity);if(J instanceof k||(J=X(J)),!J)return new Bt;if(J instanceof Bt)return J;J=J.rgb();var I=J.r/255,u=J.g/255,R=J.b/255,N=Math.min(I,u,R),z=Math.max(I,u,R),j=NaN,K=z-N,at=(z+N)/2;return K?(I===z?j=(u-R)/K+(u<R)*6:u===z?j=(R-I)/K+2:j=(I-u)/K+4,K/=at<.5?z+N:2-z-N,j*=60):K=at>0&&at<1?0:j,new Bt(j,K,at,J.opacity)}function Lt(J,I,u,R){return arguments.length===1?bt(J):new Bt(J,I,u,R==null?1:R)}function Bt(J,I,u,R){this.h=+J,this.s=+I,this.l=+u,this.opacity=+R}b(Bt,Lt,O(k,{brighter:function(J){return J=J==null?P:Math.pow(P,J),new Bt(this.h,this.s,this.l*J,this.opacity)},darker:function(J){return J=J==null?L:Math.pow(L,J),new Bt(this.h,this.s,this.l*J,this.opacity)},rgb:function(){var J=this.h%360+(this.h<0)*360,I=isNaN(J)||isNaN(this.s)?0:this.s,u=this.l,R=u+(u<.5?u:1-u)*I,N=2*u-R;return new ft(gt(J>=240?J-240:J+120,N,R),gt(J,N,R),gt(J<120?J+240:J-120,N,R),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var J=this.opacity;return J=isNaN(J)?1:Math.max(0,Math.min(1,J)),(J===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(J===1?")":", "+J+")")}}));function gt(J,I,u){return(J<60?I+(u-I)*J/60:J<180?u:J<240?I+(u-I)*(240-J)/60:I)*255}},68716:function(xt,M,d){"use strict";d.d(M,{yD:function(){return b},_e:function(){return O},tw:function(){return k}});function b(L){return L*L*L}function O(L){return--L*L*L+1}function k(L){return((L*=2)<=1?L*L*L:(L-=2)*L*L+2)/2}},13681:function(xt,M,d){"use strict";d.r(M),d.d(M,{easeBack:function(){return N},easeBackIn:function(){return u},easeBackInOut:function(){return N},easeBackOut:function(){return R},easeBounce:function(){return gt},easeBounceIn:function(){return Bt},easeBounceInOut:function(){return J},easeBounceOut:function(){return gt},easeCircle:function(){return U},easeCircleIn:function(){return Z},easeCircleInOut:function(){return U},easeCircleOut:function(){return X},easeCubic:function(){return P.tw},easeCubicIn:function(){return P.yD},easeCubicInOut:function(){return P.tw},easeCubicOut:function(){return P._e},easeElastic:function(){return Tt},easeElasticIn:function(){return at},easeElasticInOut:function(){return pt},easeElasticOut:function(){return Tt},easeExp:function(){return V},easeExpIn:function(){return B},easeExpInOut:function(){return V},easeExpOut:function(){return F},easeLinear:function(){return b},easePoly:function(){return p},easePolyIn:function(){return C},easePolyInOut:function(){return p},easePolyOut:function(){return E},easeQuad:function(){return L},easeQuadIn:function(){return O},easeQuadInOut:function(){return L},easeQuadOut:function(){return k},easeSin:function(){return S},easeSinIn:function(){return x},easeSinInOut:function(){return S},easeSinOut:function(){return g}});function b(Q){return+Q}function O(Q){return Q*Q}function k(Q){return Q*(2-Q)}function L(Q){return((Q*=2)<=1?Q*Q:--Q*(2-Q)+1)/2}var P=d(68716),A=3,C=function Q(vt){vt=+vt;function et(it){return Math.pow(it,vt)}return et.exponent=Q,et}(A),E=function Q(vt){vt=+vt;function et(it){return 1-Math.pow(1-it,vt)}return et.exponent=Q,et}(A),p=function Q(vt){vt=+vt;function et(it){return((it*=2)<=1?Math.pow(it,vt):2-Math.pow(2-it,vt))/2}return et.exponent=Q,et}(A),w=Math.PI,y=w/2;function x(Q){return+Q==1?1:1-Math.cos(Q*y)}function g(Q){return Math.sin(Q*y)}function S(Q){return(1-Math.cos(w*Q))/2}function _(Q){return(Math.pow(2,-10*Q)-.0009765625)*1.0009775171065494}function B(Q){return _(1-+Q)}function F(Q){return 1-_(Q)}function V(Q){return((Q*=2)<=1?_(1-Q):2-_(Q-1))/2}function Z(Q){return 1-Math.sqrt(1-Q*Q)}function X(Q){return Math.sqrt(1- --Q*Q)}function U(Q){return((Q*=2)<=1?1-Math.sqrt(1-Q*Q):Math.sqrt(1-(Q-=2)*Q)+1)/2}var nt=4/11,q=6/11,wt=8/11,ft=3/4,Ot=9/11,St=10/11,At=15/16,Et=21/22,bt=63/64,Lt=1/nt/nt;function Bt(Q){return 1-gt(1-Q)}function gt(Q){return(Q=+Q)<nt?Lt*Q*Q:Q<wt?Lt*(Q-=q)*Q+ft:Q<St?Lt*(Q-=Ot)*Q+At:Lt*(Q-=Et)*Q+bt}function J(Q){return((Q*=2)<=1?1-gt(1-Q):gt(Q-1)+1)/2}var I=1.70158,u=function Q(vt){vt=+vt;function et(it){return(it=+it)*it*(vt*(it-1)+it)}return et.overshoot=Q,et}(I),R=function Q(vt){vt=+vt;function et(it){return--it*it*((it+1)*vt+it)+1}return et.overshoot=Q,et}(I),N=function Q(vt){vt=+vt;function et(it){return((it*=2)<1?it*it*((vt+1)*it-vt):(it-=2)*it*((vt+1)*it+vt)+2)/2}return et.overshoot=Q,et}(I),z=2*Math.PI,j=1,K=.3,at=function Q(vt,et){var it=Math.asin(1/(vt=Math.max(1,vt)))*(et/=z);function ct(rt){return vt*_(- --rt)*Math.sin((it-rt)/et)}return ct.amplitude=function(rt){return Q(rt,et*z)},ct.period=function(rt){return Q(vt,rt)},ct}(j,K),Tt=function Q(vt,et){var it=Math.asin(1/(vt=Math.max(1,vt)))*(et/=z);function ct(rt){return 1-vt*_(rt=+rt)*Math.sin((rt+it)/et)}return ct.amplitude=function(rt){return Q(rt,et*z)},ct.period=function(rt){return Q(vt,rt)},ct}(j,K),pt=function Q(vt,et){var it=Math.asin(1/(vt=Math.max(1,vt)))*(et/=z);function ct(rt){return((rt=rt*2-1)<0?vt*_(-rt)*Math.sin((it-rt)/et):2-vt*_(rt)*Math.sin((it+rt)/et))/2}return ct.amplitude=function(rt){return Q(rt,et*z)},ct.period=function(rt){return Q(vt,rt)},ct}(j,K)},88122:function(xt,M,d){"use strict";d.d(M,{Z:function(){return k},M:function(){return L}});var b=d(21775),O=d(67896);function k(P,A){return((0,O.v)(A)?O.Z:L)(P,A)}function L(P,A){var C=A?A.length:0,E=P?Math.min(C,P.length):0,p=new Array(E),w=new Array(C),y;for(y=0;y<E;++y)p[y]=(0,b.Z)(P[y],A[y]);for(;y<C;++y)w[y]=A[y];return function(x){for(y=0;y<E;++y)w[y]=p[y](x);return w}}},55302:function(xt,M,d){"use strict";d.d(M,{Z:function(){return b}});function b(O){return function(){return O}}},73626:function(xt,M,d){"use strict";d.d(M,{Z:function(){return b}});function b(O,k){return O=+O,k=+k,function(L){return O*(1-L)+k*L}}},67896:function(xt,M,d){"use strict";d.d(M,{Z:function(){return b},v:function(){return O}});function b(k,L){L||(L=[]);var P=k?Math.min(L.length,k.length):0,A=L.slice(),C;return function(E){for(C=0;C<P;++C)A[C]=k[C]*(1-E)+L[C]*E;return A}}function O(k){return ArrayBuffer.isView(k)&&!(k instanceof DataView)}},87765:function(xt,M,d){"use strict";d.d(M,{ZP:function(){return y},hD:function(){return g}});var b=d(2650);function O(_,B,F,V,Z){var X=_*_,U=X*_;return((1-3*_+3*X-U)*B+(4-6*X+3*U)*F+(1+3*_+3*X-3*U)*V+U*Z)/6}function k(_){var B=_.length-1;return function(F){var V=F<=0?F=0:F>=1?(F=1,B-1):Math.floor(F*B),Z=_[V],X=_[V+1],U=V>0?_[V-1]:2*Z-X,nt=V<B-1?_[V+2]:2*X-Z;return O((F-V/B)*B,U,Z,X,nt)}}function L(_){var B=_.length;return function(F){var V=Math.floor(((F%=1)<0?++F:F)*B),Z=_[(V+B-1)%B],X=_[V%B],U=_[(V+1)%B],nt=_[(V+2)%B];return O((F-V/B)*B,Z,X,U,nt)}}var P=d(55302);function A(_,B){return function(F){return _+F*B}}function C(_,B,F){return _=Math.pow(_,F),B=Math.pow(B,F)-_,F=1/F,function(V){return Math.pow(_+V*B,F)}}function E(_,B){var F=B-_;return F?A(_,F>180||F<-180?F-360*Math.round(F/360):F):constant(isNaN(_)?B:_)}function p(_){return(_=+_)==1?w:function(B,F){return F-B?C(B,F,_):(0,P.Z)(isNaN(B)?F:B)}}function w(_,B){var F=B-_;return F?A(_,F):(0,P.Z)(isNaN(_)?B:_)}var y=function _(B){var F=p(B);function V(Z,X){var U=F((Z=(0,b.B8)(Z)).r,(X=(0,b.B8)(X)).r),nt=F(Z.g,X.g),q=F(Z.b,X.b),wt=w(Z.opacity,X.opacity);return function(ft){return Z.r=U(ft),Z.g=nt(ft),Z.b=q(ft),Z.opacity=wt(ft),Z+""}}return V.gamma=_,V}(1);function x(_){return function(B){var F=B.length,V=new Array(F),Z=new Array(F),X=new Array(F),U,nt;for(U=0;U<F;++U)nt=(0,b.B8)(B[U]),V[U]=nt.r||0,Z[U]=nt.g||0,X[U]=nt.b||0;return V=_(V),Z=_(Z),X=_(X),nt.opacity=1,function(q){return nt.r=V(q),nt.g=Z(q),nt.b=X(q),nt+""}}}var g=x(k),S=x(L)},21775:function(xt,M,d){"use strict";d.d(M,{Z:function(){return S}});var b=d(2650),O=d(87765),k=d(88122);function L(_,B){var F=new Date;return _=+_,B=+B,function(V){return F.setTime(_*(1-V)+B*V),F}}var P=d(73626);function A(_,B){var F={},V={},Z;(_===null||typeof _!="object")&&(_={}),(B===null||typeof B!="object")&&(B={});for(Z in B)Z in _?F[Z]=S(_[Z],B[Z]):V[Z]=B[Z];return function(X){for(Z in F)V[Z]=F[Z](X);return V}}var C=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E=new RegExp(C.source,"g");function p(_){return function(){return _}}function w(_){return function(B){return _(B)+""}}function y(_,B){var F=C.lastIndex=E.lastIndex=0,V,Z,X,U=-1,nt=[],q=[];for(_=_+"",B=B+"";(V=C.exec(_))&&(Z=E.exec(B));)(X=Z.index)>F&&(X=B.slice(F,X),nt[U]?nt[U]+=X:nt[++U]=X),(V=V[0])===(Z=Z[0])?nt[U]?nt[U]+=Z:nt[++U]=Z:(nt[++U]=null,q.push({i:U,x:(0,P.Z)(V,Z)})),F=E.lastIndex;return F<B.length&&(X=B.slice(F),nt[U]?nt[U]+=X:nt[++U]=X),nt.length<2?q[0]?w(q[0].x):p(B):(B=q.length,function(wt){for(var ft=0,Ot;ft<B;++ft)nt[(Ot=q[ft]).i]=Ot.x(wt);return nt.join("")})}var x=d(55302),g=d(67896);function S(_,B){var F=typeof B,V;return B==null||F==="boolean"?(0,x.Z)(B):(F==="number"?P.Z:F==="string"?(V=(0,b.ZP)(B))?(B=V,O.ZP):y:B instanceof b.ZP?O.ZP:B instanceof Date?L:(0,g.v)(B)?g.Z:Array.isArray(B)?k.M:typeof B.valueOf!="function"&&typeof B.toString!="function"||isNaN(B)?A:P.Z)(_,B)}},56645:function(xt,M){(function(d,b){b(M)})(this,function(d){"use strict";function b(St,At){return O(St)||k(St,At)||L()}function O(St){if(Array.isArray(St))return St}function k(St,At){var Et=[],bt=!0,Lt=!1,Bt=void 0;try{for(var gt=St[Symbol.iterator](),J;!(bt=(J=gt.next()).done)&&(Et.push(J.value),!(At&&Et.length===At));bt=!0);}catch(I){Lt=!0,Bt=I}finally{try{!bt&&gt.return!=null&&gt.return()}finally{if(Lt)throw Bt}}return Et}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function P(St,At,Et,bt){St=St.filter(function(K,at){var Tt=At(K,at),pt=Et(K,at);return Tt!=null&&isFinite(Tt)&&pt!=null&&isFinite(pt)}),bt&&St.sort(function(K,at){return At(K)-At(at)});for(var Lt=St.length,Bt=new Float64Array(Lt),gt=new Float64Array(Lt),J=0,I=0,u,R,N,z=0;z<Lt;)N=St[z],Bt[z]=u=+At(N,z,St),gt[z]=R=+Et(N,z,St),++z,J+=(u-J)/z,I+=(R-I)/z;for(var j=0;j<Lt;++j)Bt[j]-=J,gt[j]-=I;return[Bt,gt,J,I]}function A(St,At,Et,bt){for(var Lt=0,Bt=0,gt=St.length;Bt<gt;Bt++){var J=St[Bt],I=+At(J,Bt,St),u=+Et(J,Bt,St);I!=null&&isFinite(I)&&u!=null&&isFinite(u)&&bt(I,u,Lt++)}}function C(St,At,Et,bt,Lt){var Bt=0,gt=0;return A(St,At,Et,function(J,I){var u=I-Lt(J),R=I-bt;Bt+=u*u,gt+=R*R}),1-Bt/gt}function E(St){return Math.atan2(St[1][1]-St[0][1],St[1][0]-St[0][0])*180/Math.PI}function p(St){return[(St[0][0]+St[1][0])/2,(St[0][1]+St[1][1])/2]}function w(St,At,Et){for(var bt=Math.log(At-St)*Math.LOG10E+1|0,Lt=1*Math.pow(10,-bt/2-1),Bt=1e4,gt=[I(St),I(At)],J=0;u(gt)&&J<Bt;);return gt;function I(R){return[R,Et(R)]}function u(R){J++;for(var N=R.length,z=!1,j=0;j<N-1;j++){var K=R[j],at=R[j+1],Tt=p([K,at]),pt=I(Tt[0]),Q=E([K,Tt]),vt=E([K,pt]),et=Math.abs(Q-vt);et>Lt&&(R.splice(j+1,0,pt),z=!0)}return z}}function y(St,At,Et,bt){var Lt=bt-St*St,Bt=Math.abs(Lt)<1e-24?0:(Et-St*At)/Lt,gt=At-Bt*St;return[gt,Bt]}function x(){var St=function(Bt){return Bt[0]},At=function(Bt){return Bt[1]},Et;function bt(Lt){var Bt=0,gt=0,J=0,I=0,u=0,R=0,N=Et?+Et[0]:Infinity,z=Et?+Et[1]:-Infinity;A(Lt,St,At,function(vt,et){var it=Math.log(et),ct=vt*et;++Bt,gt+=(et-gt)/Bt,I+=(ct-I)/Bt,R+=(vt*ct-R)/Bt,J+=(et*it-J)/Bt,u+=(ct*it-u)/Bt,Et||(vt<N&&(N=vt),vt>z&&(z=vt))});var j=y(I/gt,J/gt,u/gt,R/gt),K=b(j,2),at=K[0],Tt=K[1];at=Math.exp(at);var pt=function(et){return at*Math.exp(Tt*et)},Q=w(N,z,pt);return Q.a=at,Q.b=Tt,Q.predict=pt,Q.rSquared=C(Lt,St,At,gt,pt),Q}return bt.domain=function(Lt){return arguments.length?(Et=Lt,bt):Et},bt.x=function(Lt){return arguments.length?(St=Lt,bt):St},bt.y=function(Lt){return arguments.length?(At=Lt,bt):At},bt}function g(){var St=function(Bt){return Bt[0]},At=function(Bt){return Bt[1]},Et;function bt(Lt){var Bt=0,gt=0,J=0,I=0,u=0,R=Et?+Et[0]:Infinity,N=Et?+Et[1]:-Infinity;A(Lt,St,At,function(Q,vt){++Bt,gt+=(Q-gt)/Bt,J+=(vt-J)/Bt,I+=(Q*vt-I)/Bt,u+=(Q*Q-u)/Bt,Et||(Q<R&&(R=Q),Q>N&&(N=Q))});var z=y(gt,J,I,u),j=b(z,2),K=j[0],at=j[1],Tt=function(vt){return at*vt+K},pt=[[R,Tt(R)],[N,Tt(N)]];return pt.a=at,pt.b=K,pt.predict=Tt,pt.rSquared=C(Lt,St,At,J,Tt),pt}return bt.domain=function(Lt){return arguments.length?(Et=Lt,bt):Et},bt.x=function(Lt){return arguments.length?(St=Lt,bt):St},bt.y=function(Lt){return arguments.length?(At=Lt,bt):At},bt}function S(St){St.sort(function(Et,bt){return Et-bt});var At=St.length/2;return At%1==0?(St[At-1]+St[At])/2:St[Math.floor(At)]}var _=2,B=1e-12;function F(){var St=function(Bt){return Bt[0]},At=function(Bt){return Bt[1]},Et=.3;function bt(Lt){for(var Bt=P(Lt,St,At,!0),gt=b(Bt,4),J=gt[0],I=gt[1],u=gt[2],R=gt[3],N=J.length,z=Math.max(2,~~(Et*N)),j=new Float64Array(N),K=new Float64Array(N),at=new Float64Array(N).fill(1),Tt=-1;++Tt<=_;){for(var pt=[0,z-1],Q=0;Q<N;++Q){for(var vt=J[Q],et=pt[0],it=pt[1],ct=vt-J[et]>J[it]-vt?et:it,rt=0,tt=0,mt=0,_t=0,Wt=0,te=1/Math.abs(J[ct]-vt||1),ce=et;ce<=it;++ce){var Pe=J[ce],we=I[ce],Ce=V(Math.abs(vt-Pe)*te)*at[ce],Ge=Pe*Ce;rt+=Ce,tt+=Ge,mt+=we*Ce,_t+=we*Ge,Wt+=Pe*Ge}var $e=y(tt/rt,mt/rt,_t/rt,Wt/rt),cr=b($e,2),or=cr[0],Xr=cr[1];j[Q]=or+Xr*vt,K[Q]=Math.abs(I[Q]-j[Q]),Z(J,Q+1,pt)}if(Tt===_)break;var xn=S(K);if(Math.abs(xn)<B)break;for(var Wr=0,sn,Jn;Wr<N;++Wr)sn=K[Wr]/(6*xn),at[Wr]=sn>=1?B:(Jn=1-sn*sn)*Jn}return X(J,j,u,R)}return bt.bandwidth=function(Lt){return arguments.length?(Et=Lt,bt):Et},bt.x=function(Lt){return arguments.length?(St=Lt,bt):St},bt.y=function(Lt){return arguments.length?(At=Lt,bt):At},bt}function V(St){return(St=1-St*St*St)*St*St}function Z(St,At,Et){var bt=St[At],Lt=Et[0],Bt=Et[1]+1;if(!(Bt>=St.length))for(;At>Lt&&St[Bt]-bt<=bt-St[Lt];)Et[0]=++Lt,Et[1]=Bt,++Bt}function X(St,At,Et,bt){for(var Lt=St.length,Bt=[],gt=0,J=0,I=[],u;gt<Lt;++gt)u=St[gt]+Et,I[0]===u?I[1]+=(At[gt]-I[1])/++J:(J=0,I[1]+=bt,I=[u,At[gt]],Bt.push(I));return I[1]+=bt,Bt}function U(){var St=function(gt){return gt[0]},At=function(gt){return gt[1]},Et=Math.E,bt;function Lt(Bt){var gt=0,J=0,I=0,u=0,R=0,N=bt?+bt[0]:Infinity,z=bt?+bt[1]:-Infinity,j=Math.log(Et);A(Bt,St,At,function(et,it){var ct=Math.log(et)/j;++gt,J+=(ct-J)/gt,I+=(it-I)/gt,u+=(ct*it-u)/gt,R+=(ct*ct-R)/gt,bt||(et<N&&(N=et),et>z&&(z=et))});var K=y(J,I,u,R),at=b(K,2),Tt=at[0],pt=at[1],Q=function(it){return pt*Math.log(it)/j+Tt},vt=w(N,z,Q);return vt.a=pt,vt.b=Tt,vt.predict=Q,vt.rSquared=C(Bt,St,At,I,Q),vt}return Lt.domain=function(Bt){return arguments.length?(bt=Bt,Lt):bt},Lt.x=function(Bt){return arguments.length?(St=Bt,Lt):St},Lt.y=function(Bt){return arguments.length?(At=Bt,Lt):At},Lt.base=function(Bt){return arguments.length?(Et=Bt,Lt):Et},Lt}function nt(){var St=function(Bt){return Bt[0]},At=function(Bt){return Bt[1]},Et;function bt(Lt){var Bt=P(Lt,St,At),gt=b(Bt,4),J=gt[0],I=gt[1],u=gt[2],R=gt[3],N=J.length,z=0,j=0,K=0,at=0,Tt=0,pt,Q,vt,et;for(pt=0;pt<N;)Q=J[pt],vt=I[pt++],et=Q*Q,z+=(et-z)/pt,j+=(et*Q-j)/pt,K+=(et*et-K)/pt,at+=(Q*vt-at)/pt,Tt+=(et*vt-Tt)/pt;var it=0,ct=0,rt=Et?+Et[0]:Infinity,tt=Et?+Et[1]:-Infinity;A(Lt,St,At,function(Ce,Ge){ct++,it+=(Ge-it)/ct,Et||(Ce<rt&&(rt=Ce),Ce>tt&&(tt=Ce))});var mt=K-z*z,_t=z*mt-j*j,Wt=(Tt*z-at*j)/_t,te=(at*mt-Tt*j)/_t,ce=-Wt*z,Pe=function(Ge){return Ge=Ge-u,Wt*Ge*Ge+te*Ge+ce+R},we=w(rt,tt,Pe);return we.a=Wt,we.b=te-2*Wt*u,we.c=ce-te*u+Wt*u*u+R,we.predict=Pe,we.rSquared=C(Lt,St,At,it,Pe),we}return bt.domain=function(Lt){return arguments.length?(Et=Lt,bt):Et},bt.x=function(Lt){return arguments.length?(St=Lt,bt):St},bt.y=function(Lt){return arguments.length?(At=Lt,bt):At},bt}function q(){var St=function(gt){return gt[0]},At=function(gt){return gt[1]},Et=3,bt;function Lt(Bt){if(Et===1){var gt=g().x(St).y(At).domain(bt)(Bt);return gt.coefficients=[gt.b,gt.a],delete gt.a,delete gt.b,gt}if(Et===2){var J=nt().x(St).y(At).domain(bt)(Bt);return J.coefficients=[J.c,J.b,J.a],delete J.a,delete J.b,delete J.c,J}var I=P(Bt,St,At),u=b(I,4),R=u[0],N=u[1],z=u[2],j=u[3],K=R.length,at=[],Tt=[],pt=Et+1,Q=0,vt=0,et=bt?+bt[0]:Infinity,it=bt?+bt[1]:-Infinity;A(Bt,St,At,function(Pe,we){++vt,Q+=(we-Q)/vt,bt||(Pe<et&&(et=Pe),Pe>it&&(it=Pe))});var ct,rt,tt,mt,_t;for(ct=0;ct<pt;++ct){for(tt=0,mt=0;tt<K;++tt)mt+=Math.pow(R[tt],ct)*N[tt];for(at.push(mt),_t=new Float64Array(pt),rt=0;rt<pt;++rt){for(tt=0,mt=0;tt<K;++tt)mt+=Math.pow(R[tt],ct+rt);_t[rt]=mt}Tt.push(_t)}Tt.push(at);var Wt=ft(Tt),te=function(we){we-=z;var Ce=j+Wt[0]+Wt[1]*we+Wt[2]*we*we;for(ct=3;ct<pt;++ct)Ce+=Wt[ct]*Math.pow(we,ct);return Ce},ce=w(et,it,te);return ce.coefficients=wt(pt,Wt,-z,j),ce.predict=te,ce.rSquared=C(Bt,St,At,Q,te),ce}return Lt.domain=function(Bt){return arguments.length?(bt=Bt,Lt):bt},Lt.x=function(Bt){return arguments.length?(St=Bt,Lt):St},Lt.y=function(Bt){return arguments.length?(At=Bt,Lt):At},Lt.order=function(Bt){return arguments.length?(Et=Bt,Lt):Et},Lt}function wt(St,At,Et,bt){var Lt=Array(St),Bt,gt,J,I;for(Bt=0;Bt<St;++Bt)Lt[Bt]=0;for(Bt=St-1;Bt>=0;--Bt)for(J=At[Bt],I=1,Lt[Bt]+=J,gt=1;gt<=Bt;++gt)I*=(Bt+1-gt)/gt,Lt[Bt-gt]+=J*Math.pow(Et,gt)*I;return Lt[0]+=bt,Lt}function ft(St){var At=St.length-1,Et=[],bt,Lt,Bt,gt,J;for(bt=0;bt<At;++bt){for(gt=bt,Lt=bt+1;Lt<At;++Lt)Math.abs(St[bt][Lt])>Math.abs(St[bt][gt])&&(gt=Lt);for(Bt=bt;Bt<At+1;++Bt)J=St[Bt][bt],St[Bt][bt]=St[Bt][gt],St[Bt][gt]=J;for(Lt=bt+1;Lt<At;++Lt)for(Bt=At;Bt>=bt;Bt--)St[Bt][Lt]-=St[Bt][bt]*St[bt][Lt]/St[bt][bt]}for(Lt=At-1;Lt>=0;--Lt){for(J=0,Bt=Lt+1;Bt<At;++Bt)J+=St[Bt][Lt]*Et[Bt];Et[Lt]=(St[At][Lt]-J)/St[Lt][Lt]}return Et}function Ot(){var St=function(Bt){return Bt[0]},At=function(Bt){return Bt[1]},Et;function bt(Lt){var Bt=0,gt=0,J=0,I=0,u=0,R=0,N=Et?+Et[0]:Infinity,z=Et?+Et[1]:-Infinity;A(Lt,St,At,function(vt,et){var it=Math.log(vt),ct=Math.log(et);++Bt,gt+=(it-gt)/Bt,J+=(ct-J)/Bt,I+=(it*ct-I)/Bt,u+=(it*it-u)/Bt,R+=(et-R)/Bt,Et||(vt<N&&(N=vt),vt>z&&(z=vt))});var j=y(gt,J,I,u),K=b(j,2),at=K[0],Tt=K[1];at=Math.exp(at);var pt=function(et){return at*Math.pow(et,Tt)},Q=w(N,z,pt);return Q.a=at,Q.b=Tt,Q.predict=pt,Q.rSquared=C(Lt,St,At,R,pt),Q}return bt.domain=function(Lt){return arguments.length?(Et=Lt,bt):Et},bt.x=function(Lt){return arguments.length?(St=Lt,bt):St},bt.y=function(Lt){return arguments.length?(At=Lt,bt):At},bt}d.regressionExp=x,d.regressionLinear=g,d.regressionLoess=F,d.regressionLog=U,d.regressionPoly=q,d.regressionPow=Ot,d.regressionQuad=nt,Object.defineProperty(d,"__esModule",{value:!0})})},49772:function(xt,M,d){xt.exports={graphlib:d(70574),layout:d(98123),debug:d(27570),util:{time:d(11138).time,notime:d(11138).notime},version:d(88177)}},92188:function(xt,M,d){"use strict";var b=d(38436),O=d(74079);xt.exports={run:k,undo:P};function k(A){var C=A.graph().acyclicer==="greedy"?O(A,E(A)):L(A);b.forEach(C,function(p){var w=A.edge(p);A.removeEdge(p),w.forwardName=p.name,w.reversed=!0,A.setEdge(p.w,p.v,w,b.uniqueId("rev"))});function E(p){return function(w){return p.edge(w).weight}}}function L(A){var C=[],E={},p={};function w(y){b.has(p,y)||(p[y]=!0,E[y]=!0,b.forEach(A.outEdges(y),function(x){b.has(E,x.w)?C.push(x):w(x.w)}),delete E[y])}return b.forEach(A.nodes(),w),C}function P(A){b.forEach(A.edges(),function(C){var E=A.edge(C);if(E.reversed){A.removeEdge(C);var p=E.forwardName;delete E.reversed,delete E.forwardName,A.setEdge(C.w,C.v,E,p)}})}},61133:function(xt,M,d){var b=d(38436),O=d(11138);xt.exports=k;function k(P){function A(C){var E=P.children(C),p=P.node(C);if(E.length&&b.forEach(E,A),b.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var w=p.minRank,y=p.maxRank+1;w<y;++w)L(P,"borderLeft","_bl",C,p,w),L(P,"borderRight","_br",C,p,w)}}b.forEach(P.children(),A)}function L(P,A,C,E,p,w){var y={width:0,height:0,rank:w,borderType:A},x=p[A][w-1],g=O.addDummyNode(P,"border",y,C);p[A][w]=g,P.setParent(g,E),x&&P.setEdge(x,g,{weight:1})}},53258:function(xt,M,d){"use strict";var b=d(38436);xt.exports={adjust:O,undo:k};function O(w){var y=w.graph().rankdir.toLowerCase();(y==="lr"||y==="rl")&&L(w)}function k(w){var y=w.graph().rankdir.toLowerCase();(y==="bt"||y==="rl")&&A(w),(y==="lr"||y==="rl")&&(E(w),L(w))}function L(w){b.forEach(w.nodes(),function(y){P(w.node(y))}),b.forEach(w.edges(),function(y){P(w.edge(y))})}function P(w){var y=w.width;w.width=w.height,w.height=y}function A(w){b.forEach(w.nodes(),function(y){C(w.node(y))}),b.forEach(w.edges(),function(y){var x=w.edge(y);b.forEach(x.points,C),b.has(x,"y")&&C(x)})}function C(w){w.y=-w.y}function E(w){b.forEach(w.nodes(),function(y){p(w.node(y))}),b.forEach(w.edges(),function(y){var x=w.edge(y);b.forEach(x.points,p),b.has(x,"x")&&p(x)})}function p(w){var y=w.x;w.x=w.y,w.y=y}},77822:function(xt){xt.exports=M;function M(){var O={};O._next=O._prev=O,this._sentinel=O}M.prototype.dequeue=function(){var O=this._sentinel,k=O._prev;if(k!==O)return d(k),k},M.prototype.enqueue=function(O){var k=this._sentinel;O._prev&&O._next&&d(O),O._next=k._next,k._next._prev=O,k._next=O,O._prev=k},M.prototype.toString=function(){for(var O=[],k=this._sentinel,L=k._prev;L!==k;)O.push(JSON.stringify(L,b)),L=L._prev;return"["+O.join(", ")+"]"};function d(O){O._prev._next=O._next,O._next._prev=O._prev,delete O._next,delete O._prev}function b(O,k){if(O!=="_next"&&O!=="_prev")return k}},27570:function(xt,M,d){var b=d(38436),O=d(11138),k=d(70574).Graph;xt.exports={debugOrdering:L};function L(P){var A=O.buildLayerMatrix(P),C=new k({compound:!0,multigraph:!0}).setGraph({});return b.forEach(P.nodes(),function(E){C.setNode(E,{label:E}),C.setParent(E,"layer"+P.node(E).rank)}),b.forEach(P.edges(),function(E){C.setEdge(E.v,E.w,{},E.name)}),b.forEach(A,function(E,p){var w="layer"+p;C.setNode(w,{rank:"same"}),b.reduce(E,function(y,x){return C.setEdge(y,x,{style:"invis"}),x})}),C}},70574:function(xt,M,d){var b;try{b=d(28282)}catch(O){}b||(b=window.graphlib),xt.exports=b},74079:function(xt,M,d){var b=d(38436),O=d(70574).Graph,k=d(77822);xt.exports=P;var L=b.constant(1);function P(w,y){if(w.nodeCount()<=1)return[];var x=E(w,y||L),g=A(x.graph,x.buckets,x.zeroIdx);return b.flatten(b.map(g,function(S){return w.outEdges(S.v,S.w)}),!0)}function A(w,y,x){for(var g=[],S=y[y.length-1],_=y[0],B;w.nodeCount();){for(;B=_.dequeue();)C(w,y,x,B);for(;B=S.dequeue();)C(w,y,x,B);if(w.nodeCount()){for(var F=y.length-2;F>0;--F)if(B=y[F].dequeue(),B){g=g.concat(C(w,y,x,B,!0));break}}}return g}function C(w,y,x,g,S){var _=S?[]:void 0;return b.forEach(w.inEdges(g.v),function(B){var F=w.edge(B),V=w.node(B.v);S&&_.push({v:B.v,w:B.w}),V.out-=F,p(y,x,V)}),b.forEach(w.outEdges(g.v),function(B){var F=w.edge(B),V=B.w,Z=w.node(V);Z.in-=F,p(y,x,Z)}),w.removeNode(g.v),_}function E(w,y){var x=new O,g=0,S=0;b.forEach(w.nodes(),function(F){x.setNode(F,{v:F,in:0,out:0})}),b.forEach(w.edges(),function(F){var V=x.edge(F.v,F.w)||0,Z=y(F),X=V+Z;x.setEdge(F.v,F.w,X),S=Math.max(S,x.node(F.v).out+=Z),g=Math.max(g,x.node(F.w).in+=Z)});var _=b.range(S+g+3).map(function(){return new k}),B=g+1;return b.forEach(x.nodes(),function(F){p(_,B,x.node(F))}),{graph:x,buckets:_,zeroIdx:B}}function p(w,y,x){x.out?x.in?w[x.out-x.in+y].enqueue(x):w[w.length-1].enqueue(x):w[0].enqueue(x)}},98123:function(xt,M,d){"use strict";var b=d(38436),O=d(92188),k=d(45995),L=d(78093),P=d(11138).normalizeRanks,A=d(24219),C=d(11138).removeEmptyRanks,E=d(72981),p=d(61133),w=d(53258),y=d(53408),x=d(17873),g=d(11138),S=d(70574).Graph;xt.exports=_;function _(K,at){var Tt=at&&at.debugTiming?g.time:g.notime;Tt("layout",function(){var pt=Tt("  buildLayoutGraph",function(){return Ot(K)});Tt("  runLayout",function(){B(pt,Tt)}),Tt("  updateInputGraph",function(){F(K,pt)})})}function B(K,at){at("    makeSpaceForEdgeLabels",function(){St(K)}),at("    removeSelfEdges",function(){u(K)}),at("    acyclic",function(){O.run(K)}),at("    nestingGraph.run",function(){E.run(K)}),at("    rank",function(){L(g.asNonCompoundGraph(K))}),at("    injectEdgeLabelProxies",function(){At(K)}),at("    removeEmptyRanks",function(){C(K)}),at("    nestingGraph.cleanup",function(){E.cleanup(K)}),at("    normalizeRanks",function(){P(K)}),at("    assignRankMinMax",function(){Et(K)}),at("    removeEdgeLabelProxies",function(){bt(K)}),at("    normalize.run",function(){k.run(K)}),at("    parentDummyChains",function(){A(K)}),at("    addBorderSegments",function(){p(K)}),at("    order",function(){y(K)}),at("    insertSelfEdges",function(){R(K)}),at("    adjustCoordinateSystem",function(){w.adjust(K)}),at("    position",function(){x(K)}),at("    positionSelfEdges",function(){N(K)}),at("    removeBorderNodes",function(){I(K)}),at("    normalize.undo",function(){k.undo(K)}),at("    fixupEdgeLabelCoords",function(){gt(K)}),at("    undoCoordinateSystem",function(){w.undo(K)}),at("    translateGraph",function(){Lt(K)}),at("    assignNodeIntersects",function(){Bt(K)}),at("    reversePoints",function(){J(K)}),at("    acyclic.undo",function(){O.undo(K)})}function F(K,at){b.forEach(K.nodes(),function(Tt){var pt=K.node(Tt),Q=at.node(Tt);pt&&(pt.x=Q.x,pt.y=Q.y,at.children(Tt).length&&(pt.width=Q.width,pt.height=Q.height))}),b.forEach(K.edges(),function(Tt){var pt=K.edge(Tt),Q=at.edge(Tt);pt.points=Q.points,b.has(Q,"x")&&(pt.x=Q.x,pt.y=Q.y)}),K.graph().width=at.graph().width,K.graph().height=at.graph().height}var V=["nodesep","edgesep","ranksep","marginx","marginy"],Z={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},X=["acyclicer","ranker","rankdir","align"],U=["width","height"],nt={width:0,height:0},q=["minlen","weight","width","height","labeloffset"],wt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ft=["labelpos"];function Ot(K){var at=new S({multigraph:!0,compound:!0}),Tt=j(K.graph());return at.setGraph(b.merge({},Z,z(Tt,V),b.pick(Tt,X))),b.forEach(K.nodes(),function(pt){var Q=j(K.node(pt));at.setNode(pt,b.defaults(z(Q,U),nt)),at.setParent(pt,K.parent(pt))}),b.forEach(K.edges(),function(pt){var Q=j(K.edge(pt));at.setEdge(pt,b.merge({},wt,z(Q,q),b.pick(Q,ft)))}),at}function St(K){var at=K.graph();at.ranksep/=2,b.forEach(K.edges(),function(Tt){var pt=K.edge(Tt);pt.minlen*=2,pt.labelpos.toLowerCase()!=="c"&&(at.rankdir==="TB"||at.rankdir==="BT"?pt.width+=pt.labeloffset:pt.height+=pt.labeloffset)})}function At(K){b.forEach(K.edges(),function(at){var Tt=K.edge(at);if(Tt.width&&Tt.height){var pt=K.node(at.v),Q=K.node(at.w),vt={rank:(Q.rank-pt.rank)/2+pt.rank,e:at};g.addDummyNode(K,"edge-proxy",vt,"_ep")}})}function Et(K){var at=0;b.forEach(K.nodes(),function(Tt){var pt=K.node(Tt);pt.borderTop&&(pt.minRank=K.node(pt.borderTop).rank,pt.maxRank=K.node(pt.borderBottom).rank,at=b.max(at,pt.maxRank))}),K.graph().maxRank=at}function bt(K){b.forEach(K.nodes(),function(at){var Tt=K.node(at);Tt.dummy==="edge-proxy"&&(K.edge(Tt.e).labelRank=Tt.rank,K.removeNode(at))})}function Lt(K){var at=Number.POSITIVE_INFINITY,Tt=0,pt=Number.POSITIVE_INFINITY,Q=0,vt=K.graph(),et=vt.marginx||0,it=vt.marginy||0;function ct(rt){var tt=rt.x,mt=rt.y,_t=rt.width,Wt=rt.height;at=Math.min(at,tt-_t/2),Tt=Math.max(Tt,tt+_t/2),pt=Math.min(pt,mt-Wt/2),Q=Math.max(Q,mt+Wt/2)}b.forEach(K.nodes(),function(rt){ct(K.node(rt))}),b.forEach(K.edges(),function(rt){var tt=K.edge(rt);b.has(tt,"x")&&ct(tt)}),at-=et,pt-=it,b.forEach(K.nodes(),function(rt){var tt=K.node(rt);tt.x-=at,tt.y-=pt}),b.forEach(K.edges(),function(rt){var tt=K.edge(rt);b.forEach(tt.points,function(mt){mt.x-=at,mt.y-=pt}),b.has(tt,"x")&&(tt.x-=at),b.has(tt,"y")&&(tt.y-=pt)}),vt.width=Tt-at+et,vt.height=Q-pt+it}function Bt(K){b.forEach(K.edges(),function(at){var Tt=K.edge(at),pt=K.node(at.v),Q=K.node(at.w),vt,et;Tt.points?(vt=Tt.points[0],et=Tt.points[Tt.points.length-1]):(Tt.points=[],vt=Q,et=pt),Tt.points.unshift(g.intersectRect(pt,vt)),Tt.points.push(g.intersectRect(Q,et))})}function gt(K){b.forEach(K.edges(),function(at){var Tt=K.edge(at);if(b.has(Tt,"x"))switch((Tt.labelpos==="l"||Tt.labelpos==="r")&&(Tt.width-=Tt.labeloffset),Tt.labelpos){case"l":Tt.x-=Tt.width/2+Tt.labeloffset;break;case"r":Tt.x+=Tt.width/2+Tt.labeloffset;break}})}function J(K){b.forEach(K.edges(),function(at){var Tt=K.edge(at);Tt.reversed&&Tt.points.reverse()})}function I(K){b.forEach(K.nodes(),function(at){if(K.children(at).length){var Tt=K.node(at),pt=K.node(Tt.borderTop),Q=K.node(Tt.borderBottom),vt=K.node(b.last(Tt.borderLeft)),et=K.node(b.last(Tt.borderRight));Tt.width=Math.abs(et.x-vt.x),Tt.height=Math.abs(Q.y-pt.y),Tt.x=vt.x+Tt.width/2,Tt.y=pt.y+Tt.height/2}}),b.forEach(K.nodes(),function(at){K.node(at).dummy==="border"&&K.removeNode(at)})}function u(K){b.forEach(K.edges(),function(at){if(at.v===at.w){var Tt=K.node(at.v);Tt.selfEdges||(Tt.selfEdges=[]),Tt.selfEdges.push({e:at,label:K.edge(at)}),K.removeEdge(at)}})}function R(K){var at=g.buildLayerMatrix(K);b.forEach(at,function(Tt){var pt=0;b.forEach(Tt,function(Q,vt){var et=K.node(Q);et.order=vt+pt,b.forEach(et.selfEdges,function(it){g.addDummyNode(K,"selfedge",{width:it.label.width,height:it.label.height,rank:et.rank,order:vt+ ++pt,e:it.e,label:it.label},"_se")}),delete et.selfEdges})})}function N(K){b.forEach(K.nodes(),function(at){var Tt=K.node(at);if(Tt.dummy==="selfedge"){var pt=K.node(Tt.e.v),Q=pt.x+pt.width/2,vt=pt.y,et=Tt.x-Q,it=pt.height/2;K.setEdge(Tt.e,Tt.label),K.removeNode(at),Tt.label.points=[{x:Q+2*et/3,y:vt-it},{x:Q+5*et/6,y:vt-it},{x:Q+et,y:vt},{x:Q+5*et/6,y:vt+it},{x:Q+2*et/3,y:vt+it}],Tt.label.x=Tt.x,Tt.label.y=Tt.y}})}function z(K,at){return b.mapValues(b.pick(K,at),Number)}function j(K){var at={};return b.forEach(K,function(Tt,pt){at[pt.toLowerCase()]=Tt}),at}},38436:function(xt,M,d){var b;try{b={cloneDeep:d(50361),constant:d(75703),defaults:d(91747),each:d(66073),filter:d(63105),find:d(13311),flatten:d(85564),forEach:d(84486),forIn:d(62620),has:d(18721),isUndefined:d(52353),last:d(10928),map:d(35161),mapValues:d(66604),max:d(6162),merge:d(82492),min:d(53632),minBy:d(22762),now:d(7771),pick:d(78718),range:d(96026),reduce:d(54061),sortBy:d(89734),uniqueId:d(73955),values:d(52628),zipObject:d(7287)}}catch(O){}b||(b=window._),xt.exports=b},72981:function(xt,M,d){var b=d(38436),O=d(11138);xt.exports={run:k,cleanup:C};function k(E){var p=O.addDummyNode(E,"root",{},"_root"),w=P(E),y=b.max(b.values(w))-1,x=2*y+1;E.graph().nestingRoot=p,b.forEach(E.edges(),function(S){E.edge(S).minlen*=x});var g=A(E)+1;b.forEach(E.children(),function(S){L(E,p,x,g,y,w,S)}),E.graph().nodeRankFactor=x}function L(E,p,w,y,x,g,S){var _=E.children(S);if(!_.length){S!==p&&E.setEdge(p,S,{weight:0,minlen:w});return}var B=O.addBorderNode(E,"_bt"),F=O.addBorderNode(E,"_bb"),V=E.node(S);E.setParent(B,S),V.borderTop=B,E.setParent(F,S),V.borderBottom=F,b.forEach(_,function(Z){L(E,p,w,y,x,g,Z);var X=E.node(Z),U=X.borderTop?X.borderTop:Z,nt=X.borderBottom?X.borderBottom:Z,q=X.borderTop?y:2*y,wt=U!==nt?1:x-g[S]+1;E.setEdge(B,U,{weight:q,minlen:wt,nestingEdge:!0}),E.setEdge(nt,F,{weight:q,minlen:wt,nestingEdge:!0})}),E.parent(S)||E.setEdge(p,B,{weight:0,minlen:x+g[S]})}function P(E){var p={};function w(y,x){var g=E.children(y);g&&g.length&&b.forEach(g,function(S){w(S,x+1)}),p[y]=x}return b.forEach(E.children(),function(y){w(y,1)}),p}function A(E){return b.reduce(E.edges(),function(p,w){return p+E.edge(w).weight},0)}function C(E){var p=E.graph();E.removeNode(p.nestingRoot),delete p.nestingRoot,b.forEach(E.edges(),function(w){var y=E.edge(w);y.nestingEdge&&E.removeEdge(w)})}},45995:function(xt,M,d){"use strict";var b=d(38436),O=d(11138);xt.exports={run:k,undo:P};function k(A){A.graph().dummyChains=[],b.forEach(A.edges(),function(C){L(A,C)})}function L(A,C){var E=C.v,p=A.node(E).rank,w=C.w,y=A.node(w).rank,x=C.name,g=A.edge(C),S=g.labelRank;if(y!==p+1){A.removeEdge(C);var _,B,F;for(F=0,++p;p<y;++F,++p)g.points=[],B={width:0,height:0,edgeLabel:g,edgeObj:C,rank:p},_=O.addDummyNode(A,"edge",B,"_d"),p===S&&(B.width=g.width,B.height=g.height,B.dummy="edge-label",B.labelpos=g.labelpos),A.setEdge(E,_,{weight:g.weight},x),F===0&&A.graph().dummyChains.push(_),E=_;A.setEdge(E,w,{weight:g.weight},x)}}function P(A){b.forEach(A.graph().dummyChains,function(C){var E=A.node(C),p=E.edgeLabel,w;for(A.setEdge(E.edgeObj,p);E.dummy;)w=A.successors(C)[0],A.removeNode(C),p.points.push({x:E.x,y:E.y}),E.dummy==="edge-label"&&(p.x=E.x,p.y=E.y,p.width=E.width,p.height=E.height),C=w,E=A.node(C)})}},55093:function(xt,M,d){var b=d(38436);xt.exports=O;function O(k,L,P){var A={},C;b.forEach(P,function(E){for(var p=k.parent(E),w,y;p;){if(w=k.parent(p),w?(y=A[w],A[w]=p):(y=C,C=p),y&&y!==p){L.setEdge(y,p);return}p=w}})}},35439:function(xt,M,d){var b=d(38436);xt.exports=O;function O(k,L){return b.map(L,function(P){var A=k.inEdges(P);if(A.length){var C=b.reduce(A,function(E,p){var w=k.edge(p),y=k.node(p.v);return{sum:E.sum+w.weight*y.order,weight:E.weight+w.weight}},{sum:0,weight:0});return{v:P,barycenter:C.sum/C.weight,weight:C.weight}}else return{v:P}})}},23128:function(xt,M,d){var b=d(38436),O=d(70574).Graph;xt.exports=k;function k(P,A,C){var E=L(P),p=new O({compound:!0}).setGraph({root:E}).setDefaultNodeLabel(function(w){return P.node(w)});return b.forEach(P.nodes(),function(w){var y=P.node(w),x=P.parent(w);(y.rank===A||y.minRank<=A&&A<=y.maxRank)&&(p.setNode(w),p.setParent(w,x||E),b.forEach(P[C](w),function(g){var S=g.v===w?g.w:g.v,_=p.edge(S,w),B=b.isUndefined(_)?0:_.weight;p.setEdge(S,w,{weight:P.edge(g).weight+B})}),b.has(y,"minRank")&&p.setNode(w,{borderLeft:y.borderLeft[A],borderRight:y.borderRight[A]}))}),p}function L(P){for(var A;P.hasNode(A=b.uniqueId("_root")););return A}},56630:function(xt,M,d){"use strict";var b=d(38436);xt.exports=O;function O(L,P){for(var A=0,C=1;C<P.length;++C)A+=k(L,P[C-1],P[C]);return A}function k(L,P,A){for(var C=b.zipObject(A,b.map(A,function(g,S){return S})),E=b.flatten(b.map(P,function(g){return b.sortBy(b.map(L.outEdges(g),function(S){return{pos:C[S.w],weight:L.edge(S).weight}}),"pos")}),!0),p=1;p<A.length;)p<<=1;var w=2*p-1;p-=1;var y=b.map(new Array(w),function(){return 0}),x=0;return b.forEach(E.forEach(function(g){var S=g.pos+p;y[S]+=g.weight;for(var _=0;S>0;)S%2&&(_+=y[S+1]),S=S-1>>1,y[S]+=g.weight;x+=g.weight*_})),x}},53408:function(xt,M,d){"use strict";var b=d(38436),O=d(2588),k=d(56630),L=d(61026),P=d(23128),A=d(55093),C=d(70574).Graph,E=d(11138);xt.exports=p;function p(g){var S=E.maxRank(g),_=w(g,b.range(1,S+1),"inEdges"),B=w(g,b.range(S-1,-1,-1),"outEdges"),F=O(g);x(g,F);for(var V=Number.POSITIVE_INFINITY,Z,X=0,U=0;U<4;++X,++U){y(X%2?_:B,X%4>=2),F=E.buildLayerMatrix(g);var nt=k(g,F);nt<V&&(U=0,Z=b.cloneDeep(F),V=nt)}x(g,Z)}function w(g,S,_){return b.map(S,function(B){return P(g,B,_)})}function y(g,S){var _=new C;b.forEach(g,function(B){var F=B.graph().root,V=L(B,F,_,S);b.forEach(V.vs,function(Z,X){B.node(Z).order=X}),A(B,_,V.vs)})}function x(g,S){b.forEach(S,function(_){b.forEach(_,function(B,F){g.node(B).order=F})})}},2588:function(xt,M,d){"use strict";var b=d(38436);xt.exports=O;function O(k){var L={},P=b.filter(k.nodes(),function(w){return!k.children(w).length}),A=b.max(b.map(P,function(w){return k.node(w).rank})),C=b.map(b.range(A+1),function(){return[]});function E(w){if(!b.has(L,w)){L[w]=!0;var y=k.node(w);C[y.rank].push(w),b.forEach(k.successors(w),E)}}var p=b.sortBy(P,function(w){return k.node(w).rank});return b.forEach(p,E),C}},83678:function(xt,M,d){"use strict";var b=d(38436);xt.exports=O;function O(P,A){var C={};b.forEach(P,function(p,w){var y=C[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:w};b.isUndefined(p.barycenter)||(y.barycenter=p.barycenter,y.weight=p.weight)}),b.forEach(A.edges(),function(p){var w=C[p.v],y=C[p.w];!b.isUndefined(w)&&!b.isUndefined(y)&&(y.indegree++,w.out.push(C[p.w]))});var E=b.filter(C,function(p){return!p.indegree});return k(E)}function k(P){var A=[];function C(w){return function(y){y.merged||(b.isUndefined(y.barycenter)||b.isUndefined(w.barycenter)||y.barycenter>=w.barycenter)&&L(w,y)}}function E(w){return function(y){y.in.push(w),--y.indegree==0&&P.push(y)}}for(;P.length;){var p=P.pop();A.push(p),b.forEach(p.in.reverse(),C(p)),b.forEach(p.out,E(p))}return b.map(b.filter(A,function(w){return!w.merged}),function(w){return b.pick(w,["vs","i","barycenter","weight"])})}function L(P,A){var C=0,E=0;P.weight&&(C+=P.barycenter*P.weight,E+=P.weight),A.weight&&(C+=A.barycenter*A.weight,E+=A.weight),P.vs=A.vs.concat(P.vs),P.barycenter=C/E,P.weight=E,P.i=Math.min(A.i,P.i),A.merged=!0}},61026:function(xt,M,d){var b=d(38436),O=d(35439),k=d(83678),L=d(87304);xt.exports=P;function P(E,p,w,y){var x=E.children(p),g=E.node(p),S=g?g.borderLeft:void 0,_=g?g.borderRight:void 0,B={};S&&(x=b.filter(x,function(nt){return nt!==S&&nt!==_}));var F=O(E,x);b.forEach(F,function(nt){if(E.children(nt.v).length){var q=P(E,nt.v,w,y);B[nt.v]=q,b.has(q,"barycenter")&&C(nt,q)}});var V=k(F,w);A(V,B);var Z=L(V,y);if(S&&(Z.vs=b.flatten([S,Z.vs,_],!0),E.predecessors(S).length)){var X=E.node(E.predecessors(S)[0]),U=E.node(E.predecessors(_)[0]);b.has(Z,"barycenter")||(Z.barycenter=0,Z.weight=0),Z.barycenter=(Z.barycenter*Z.weight+X.order+U.order)/(Z.weight+2),Z.weight+=2}return Z}function A(E,p){b.forEach(E,function(w){w.vs=b.flatten(w.vs.map(function(y){return p[y]?p[y].vs:y}),!0)})}function C(E,p){b.isUndefined(E.barycenter)?(E.barycenter=p.barycenter,E.weight=p.weight):(E.barycenter=(E.barycenter*E.weight+p.barycenter*p.weight)/(E.weight+p.weight),E.weight+=p.weight)}},87304:function(xt,M,d){var b=d(38436),O=d(11138);xt.exports=k;function k(A,C){var E=O.partition(A,function(B){return b.has(B,"barycenter")}),p=E.lhs,w=b.sortBy(E.rhs,function(B){return-B.i}),y=[],x=0,g=0,S=0;p.sort(P(!!C)),S=L(y,w,S),b.forEach(p,function(B){S+=B.vs.length,y.push(B.vs),x+=B.barycenter*B.weight,g+=B.weight,S=L(y,w,S)});var _={vs:b.flatten(y,!0)};return g&&(_.barycenter=x/g,_.weight=g),_}function L(A,C,E){for(var p;C.length&&(p=b.last(C)).i<=E;)C.pop(),A.push(p.vs),E++;return E}function P(A){return function(C,E){return C.barycenter<E.barycenter?-1:C.barycenter>E.barycenter?1:A?E.i-C.i:C.i-E.i}}},24219:function(xt,M,d){var b=d(38436);xt.exports=O;function O(P){var A=L(P);b.forEach(P.graph().dummyChains,function(C){for(var E=P.node(C),p=E.edgeObj,w=k(P,A,p.v,p.w),y=w.path,x=w.lca,g=0,S=y[g],_=!0;C!==p.w;){if(E=P.node(C),_){for(;(S=y[g])!==x&&P.node(S).maxRank<E.rank;)g++;S===x&&(_=!1)}if(!_){for(;g<y.length-1&&P.node(S=y[g+1]).minRank<=E.rank;)g++;S=y[g]}P.setParent(C,S),C=P.successors(C)[0]}})}function k(P,A,C,E){var p=[],w=[],y=Math.min(A[C].low,A[E].low),x=Math.max(A[C].lim,A[E].lim),g,S;g=C;do g=P.parent(g),p.push(g);while(g&&(A[g].low>y||x>A[g].lim));for(S=g,g=E;(g=P.parent(g))!==S;)w.push(g);return{path:p.concat(w.reverse()),lca:S}}function L(P){var A={},C=0;function E(p){var w=C;b.forEach(P.children(p),E),A[p]={low:w,lim:C++}}return b.forEach(P.children(),E),A}},3573:function(xt,M,d){"use strict";var b=d(38436),O=d(70574).Graph,k=d(11138);xt.exports={positionX:_,findType1Conflicts:L,findType2Conflicts:P,addConflict:C,hasConflict:E,verticalAlignment:p,horizontalCompaction:w,alignCoordinates:g,findSmallestWidthAlignment:x,balance:S};function L(V,Z){var X={};function U(nt,q){var wt=0,ft=0,Ot=nt.length,St=b.last(q);return b.forEach(q,function(At,Et){var bt=A(V,At),Lt=bt?V.node(bt).order:Ot;(bt||At===St)&&(b.forEach(q.slice(ft,Et+1),function(Bt){b.forEach(V.predecessors(Bt),function(gt){var J=V.node(gt),I=J.order;(I<wt||Lt<I)&&!(J.dummy&&V.node(Bt).dummy)&&C(X,gt,Bt)})}),ft=Et+1,wt=Lt)}),q}return b.reduce(Z,U),X}function P(V,Z){var X={};function U(q,wt,ft,Ot,St){var At;b.forEach(b.range(wt,ft),function(Et){At=q[Et],V.node(At).dummy&&b.forEach(V.predecessors(At),function(bt){var Lt=V.node(bt);Lt.dummy&&(Lt.order<Ot||Lt.order>St)&&C(X,bt,At)})})}function nt(q,wt){var ft=-1,Ot,St=0;return b.forEach(wt,function(At,Et){if(V.node(At).dummy==="border"){var bt=V.predecessors(At);bt.length&&(Ot=V.node(bt[0]).order,U(wt,St,Et,ft,Ot),St=Et,ft=Ot)}U(wt,St,wt.length,Ot,q.length)}),wt}return b.reduce(Z,nt),X}function A(V,Z){if(V.node(Z).dummy)return b.find(V.predecessors(Z),function(X){return V.node(X).dummy})}function C(V,Z,X){if(Z>X){var U=Z;Z=X,X=U}var nt=V[Z];nt||(V[Z]=nt={}),nt[X]=!0}function E(V,Z,X){if(Z>X){var U=Z;Z=X,X=U}return b.has(V[Z],X)}function p(V,Z,X,U){var nt={},q={},wt={};return b.forEach(Z,function(ft){b.forEach(ft,function(Ot,St){nt[Ot]=Ot,q[Ot]=Ot,wt[Ot]=St})}),b.forEach(Z,function(ft){var Ot=-1;b.forEach(ft,function(St){var At=U(St);if(At.length){At=b.sortBy(At,function(gt){return wt[gt]});for(var Et=(At.length-1)/2,bt=Math.floor(Et),Lt=Math.ceil(Et);bt<=Lt;++bt){var Bt=At[bt];q[St]===St&&Ot<wt[Bt]&&!E(X,St,Bt)&&(q[Bt]=St,q[St]=nt[St]=nt[Bt],Ot=wt[Bt])}}})}),{root:nt,align:q}}function w(V,Z,X,U,nt){var q={},wt=y(V,Z,X,nt),ft=nt?"borderLeft":"borderRight";function Ot(Et,bt){for(var Lt=wt.nodes(),Bt=Lt.pop(),gt={};Bt;)gt[Bt]?Et(Bt):(gt[Bt]=!0,Lt.push(Bt),Lt=Lt.concat(bt(Bt))),Bt=Lt.pop()}function St(Et){q[Et]=wt.inEdges(Et).reduce(function(bt,Lt){return Math.max(bt,q[Lt.v]+wt.edge(Lt))},0)}function At(Et){var bt=wt.outEdges(Et).reduce(function(Bt,gt){return Math.min(Bt,q[gt.w]-wt.edge(gt))},Number.POSITIVE_INFINITY),Lt=V.node(Et);bt!==Number.POSITIVE_INFINITY&&Lt.borderType!==ft&&(q[Et]=Math.max(q[Et],bt))}return Ot(St,wt.predecessors.bind(wt)),Ot(At,wt.successors.bind(wt)),b.forEach(U,function(Et){q[Et]=q[X[Et]]}),q}function y(V,Z,X,U){var nt=new O,q=V.graph(),wt=B(q.nodesep,q.edgesep,U);return b.forEach(Z,function(ft){var Ot;b.forEach(ft,function(St){var At=X[St];if(nt.setNode(At),Ot){var Et=X[Ot],bt=nt.edge(Et,At);nt.setEdge(Et,At,Math.max(wt(V,St,Ot),bt||0))}Ot=St})}),nt}function x(V,Z){return b.minBy(b.values(Z),function(X){var U=Number.NEGATIVE_INFINITY,nt=Number.POSITIVE_INFINITY;return b.forIn(X,function(q,wt){var ft=F(V,wt)/2;U=Math.max(q+ft,U),nt=Math.min(q-ft,nt)}),U-nt})}function g(V,Z){var X=b.values(Z),U=b.min(X),nt=b.max(X);b.forEach(["u","d"],function(q){b.forEach(["l","r"],function(wt){var ft=q+wt,Ot=V[ft],St;if(Ot!==Z){var At=b.values(Ot);St=wt==="l"?U-b.min(At):nt-b.max(At),St&&(V[ft]=b.mapValues(Ot,function(Et){return Et+St}))}})})}function S(V,Z){return b.mapValues(V.ul,function(X,U){if(Z)return V[Z.toLowerCase()][U];var nt=b.sortBy(b.map(V,U));return(nt[1]+nt[2])/2})}function _(V){var Z=k.buildLayerMatrix(V),X=b.merge(L(V,Z),P(V,Z)),U={},nt;b.forEach(["u","d"],function(wt){nt=wt==="u"?Z:b.values(Z).reverse(),b.forEach(["l","r"],function(ft){ft==="r"&&(nt=b.map(nt,function(Et){return b.values(Et).reverse()}));var Ot=(wt==="u"?V.predecessors:V.successors).bind(V),St=p(V,nt,X,Ot),At=w(V,nt,St.root,St.align,ft==="r");ft==="r"&&(At=b.mapValues(At,function(Et){return-Et})),U[wt+ft]=At})});var q=x(V,U);return g(U,q),S(U,V.graph().align)}function B(V,Z,X){return function(U,nt,q){var wt=U.node(nt),ft=U.node(q),Ot=0,St;if(Ot+=wt.width/2,b.has(wt,"labelpos"))switch(wt.labelpos.toLowerCase()){case"l":St=-wt.width/2;break;case"r":St=wt.width/2;break}if(St&&(Ot+=X?St:-St),St=0,Ot+=(wt.dummy?Z:V)/2,Ot+=(ft.dummy?Z:V)/2,Ot+=ft.width/2,b.has(ft,"labelpos"))switch(ft.labelpos.toLowerCase()){case"l":St=ft.width/2;break;case"r":St=-ft.width/2;break}return St&&(Ot+=X?St:-St),St=0,Ot}}function F(V,Z){return V.node(Z).width}},17873:function(xt,M,d){"use strict";var b=d(38436),O=d(11138),k=d(3573).positionX;xt.exports=L;function L(A){A=O.asNonCompoundGraph(A),P(A),b.forEach(k(A),function(C,E){A.node(E).x=C})}function P(A){var C=O.buildLayerMatrix(A),E=A.graph().ranksep,p=0;b.forEach(C,function(w){var y=b.max(b.map(w,function(x){return A.node(x).height}));b.forEach(w,function(x){A.node(x).y=p+y/2}),p+=y+E})}},20300:function(xt,M,d){"use strict";var b=d(38436),O=d(70574).Graph,k=d(76681).slack;xt.exports=L;function L(E){var p=new O({directed:!1}),w=E.nodes()[0],y=E.nodeCount();p.setNode(w,{});for(var x,g;P(p,E)<y;)x=A(p,E),g=p.hasNode(x.v)?k(E,x):-k(E,x),C(p,E,g);return p}function P(E,p){function w(y){b.forEach(p.nodeEdges(y),function(x){var g=x.v,S=y===g?x.w:g;!E.hasNode(S)&&!k(p,x)&&(E.setNode(S,{}),E.setEdge(y,S,{}),w(S))})}return b.forEach(E.nodes(),w),E.nodeCount()}function A(E,p){return b.minBy(p.edges(),function(w){if(E.hasNode(w.v)!==E.hasNode(w.w))return k(p,w)})}function C(E,p,w){b.forEach(E.nodes(),function(y){p.node(y).rank+=w})}},78093:function(xt,M,d){"use strict";var b=d(76681),O=b.longestPath,k=d(20300),L=d(42472);xt.exports=P;function P(p){switch(p.graph().ranker){case"network-simplex":E(p);break;case"tight-tree":C(p);break;case"longest-path":A(p);break;default:E(p)}}var A=O;function C(p){O(p),k(p)}function E(p){L(p)}},42472:function(xt,M,d){"use strict";var b=d(38436),O=d(20300),k=d(76681).slack,L=d(76681).longestPath,P=d(70574).alg.preorder,A=d(70574).alg.postorder,C=d(11138).simplify;xt.exports=E,E.initLowLimValues=x,E.initCutValues=p,E.calcCutValue=y,E.leaveEdge=S,E.enterEdge=_,E.exchangeEdges=B;function E(X){X=C(X),L(X);var U=O(X);x(U),p(U,X);for(var nt,q;nt=S(U);)q=_(U,X,nt),B(U,X,nt,q)}function p(X,U){var nt=A(X,X.nodes());nt=nt.slice(0,nt.length-1),b.forEach(nt,function(q){w(X,U,q)})}function w(X,U,nt){var q=X.node(nt),wt=q.parent;X.edge(nt,wt).cutvalue=y(X,U,nt)}function y(X,U,nt){var q=X.node(nt),wt=q.parent,ft=!0,Ot=U.edge(nt,wt),St=0;return Ot||(ft=!1,Ot=U.edge(wt,nt)),St=Ot.weight,b.forEach(U.nodeEdges(nt),function(At){var Et=At.v===nt,bt=Et?At.w:At.v;if(bt!==wt){var Lt=Et===ft,Bt=U.edge(At).weight;if(St+=Lt?Bt:-Bt,V(X,nt,bt)){var gt=X.edge(nt,bt).cutvalue;St+=Lt?-gt:gt}}}),St}function x(X,U){arguments.length<2&&(U=X.nodes()[0]),g(X,{},1,U)}function g(X,U,nt,q,wt){var ft=nt,Ot=X.node(q);return U[q]=!0,b.forEach(X.neighbors(q),function(St){b.has(U,St)||(nt=g(X,U,nt,St,q))}),Ot.low=ft,Ot.lim=nt++,wt?Ot.parent=wt:delete Ot.parent,nt}function S(X){return b.find(X.edges(),function(U){return X.edge(U).cutvalue<0})}function _(X,U,nt){var q=nt.v,wt=nt.w;U.hasEdge(q,wt)||(q=nt.w,wt=nt.v);var ft=X.node(q),Ot=X.node(wt),St=ft,At=!1;ft.lim>Ot.lim&&(St=Ot,At=!0);var Et=b.filter(U.edges(),function(bt){return At===Z(X,X.node(bt.v),St)&&At!==Z(X,X.node(bt.w),St)});return b.minBy(Et,function(bt){return k(U,bt)})}function B(X,U,nt,q){var wt=nt.v,ft=nt.w;X.removeEdge(wt,ft),X.setEdge(q.v,q.w,{}),x(X),p(X,U),F(X,U)}function F(X,U){var nt=b.find(X.nodes(),function(wt){return!U.node(wt).parent}),q=P(X,nt);q=q.slice(1),b.forEach(q,function(wt){var ft=X.node(wt).parent,Ot=U.edge(wt,ft),St=!1;Ot||(Ot=U.edge(ft,wt),St=!0),U.node(wt).rank=U.node(ft).rank+(St?Ot.minlen:-Ot.minlen)})}function V(X,U,nt){return X.hasEdge(U,nt)}function Z(X,U,nt){return nt.low<=U.lim&&U.lim<=nt.lim}},76681:function(xt,M,d){"use strict";var b=d(38436);xt.exports={longestPath:O,slack:k};function O(L){var P={};function A(C){var E=L.node(C);if(b.has(P,C))return E.rank;P[C]=!0;var p=b.min(b.map(L.outEdges(C),function(w){return A(w.w)-L.edge(w).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),E.rank=p}b.forEach(L.sources(),A)}function k(L,P){return L.node(P.w).rank-L.node(P.v).rank-L.edge(P).minlen}},11138:function(xt,M,d){"use strict";var b=d(38436),O=d(70574).Graph;xt.exports={addDummyNode:k,simplify:L,asNonCompoundGraph:P,successorWeights:A,predecessorWeights:C,intersectRect:E,buildLayerMatrix:p,normalizeRanks:w,removeEmptyRanks:y,addBorderNode:x,maxRank:g,partition:S,time:_,notime:B};function k(F,V,Z,X){var U;do U=b.uniqueId(X);while(F.hasNode(U));return Z.dummy=V,F.setNode(U,Z),U}function L(F){var V=new O().setGraph(F.graph());return b.forEach(F.nodes(),function(Z){V.setNode(Z,F.node(Z))}),b.forEach(F.edges(),function(Z){var X=V.edge(Z.v,Z.w)||{weight:0,minlen:1},U=F.edge(Z);V.setEdge(Z.v,Z.w,{weight:X.weight+U.weight,minlen:Math.max(X.minlen,U.minlen)})}),V}function P(F){var V=new O({multigraph:F.isMultigraph()}).setGraph(F.graph());return b.forEach(F.nodes(),function(Z){F.children(Z).length||V.setNode(Z,F.node(Z))}),b.forEach(F.edges(),function(Z){V.setEdge(Z,F.edge(Z))}),V}function A(F){var V=b.map(F.nodes(),function(Z){var X={};return b.forEach(F.outEdges(Z),function(U){X[U.w]=(X[U.w]||0)+F.edge(U).weight}),X});return b.zipObject(F.nodes(),V)}function C(F){var V=b.map(F.nodes(),function(Z){var X={};return b.forEach(F.inEdges(Z),function(U){X[U.v]=(X[U.v]||0)+F.edge(U).weight}),X});return b.zipObject(F.nodes(),V)}function E(F,V){var Z=F.x,X=F.y,U=V.x-Z,nt=V.y-X,q=F.width/2,wt=F.height/2;if(!U&&!nt)throw new Error("Not possible to find intersection inside of the rectangle");var ft,Ot;return Math.abs(nt)*q>Math.abs(U)*wt?(nt<0&&(wt=-wt),ft=wt*U/nt,Ot=wt):(U<0&&(q=-q),ft=q,Ot=q*nt/U),{x:Z+ft,y:X+Ot}}function p(F){var V=b.map(b.range(g(F)+1),function(){return[]});return b.forEach(F.nodes(),function(Z){var X=F.node(Z),U=X.rank;b.isUndefined(U)||(V[U][X.order]=Z)}),V}function w(F){var V=b.min(b.map(F.nodes(),function(Z){return F.node(Z).rank}));b.forEach(F.nodes(),function(Z){var X=F.node(Z);b.has(X,"rank")&&(X.rank-=V)})}function y(F){var V=b.min(b.map(F.nodes(),function(nt){return F.node(nt).rank})),Z=[];b.forEach(F.nodes(),function(nt){var q=F.node(nt).rank-V;Z[q]||(Z[q]=[]),Z[q].push(nt)});var X=0,U=F.graph().nodeRankFactor;b.forEach(Z,function(nt,q){b.isUndefined(nt)&&q%U!=0?--X:X&&b.forEach(nt,function(wt){F.node(wt).rank+=X})})}function x(F,V,Z,X){var U={width:0,height:0};return arguments.length>=4&&(U.rank=Z,U.order=X),k(F,"border",U,V)}function g(F){return b.max(b.map(F.nodes(),function(V){var Z=F.node(V).rank;if(!b.isUndefined(Z))return Z}))}function S(F,V){var Z={lhs:[],rhs:[]};return b.forEach(F,function(X){V(X)?Z.lhs.push(X):Z.rhs.push(X)}),Z}function _(F,V){var Z=b.now();try{return V()}finally{console.log(F+" time: "+(b.now()-Z)+"ms")}}function B(F,V){return V()}},88177:function(xt){xt.exports="0.8.5"},43631:function(xt,M,d){"use strict";d.r(M),d.d(M,{BrowserInfo:function(){return k},NodeInfo:function(){return L},SearchBotDeviceInfo:function(){return P},BotInfo:function(){return A},ReactNativeInfo:function(){return C},detect:function(){return g},browserName:function(){return _},parseUserAgent:function(){return B},detectOS:function(){return F},getNodeVersion:function(){return V}});var b=d(34155),O=function(X,U,nt){if(nt||arguments.length===2)for(var q=0,wt=U.length,ft;q<wt;q++)(ft||!(q in U))&&(ft||(ft=Array.prototype.slice.call(U,0,q)),ft[q]=U[q]);return X.concat(ft||Array.prototype.slice.call(U))},k=function(){function X(U,nt,q){this.name=U,this.version=nt,this.os=q,this.type="browser"}return X}(),L=function(){function X(U){this.version=U,this.type="node",this.name="node",this.os=b.platform}return X}(),P=function(){function X(U,nt,q,wt){this.name=U,this.version=nt,this.os=q,this.bot=wt,this.type="bot-device"}return X}(),A=function(){function X(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return X}(),C=function(){function X(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return X}(),E=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,w=3,y=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",E]],x=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function g(X){return X?B(X):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new C:typeof navigator!="undefined"?B(navigator.userAgent):V()}function S(X){return X!==""&&y.reduce(function(U,nt){var q=nt[0],wt=nt[1];if(U)return U;var ft=wt.exec(X);return!!ft&&[q,ft]},!1)}function _(X){var U=S(X);return U?U[0]:null}function B(X){var U=S(X);if(!U)return null;var nt=U[0],q=U[1];if(nt==="searchbot")return new A;var wt=q[1]&&q[1].split(".").join("_").split("_").slice(0,3);wt?wt.length<w&&(wt=O(O([],wt,!0),Z(w-wt.length),!0)):wt=[];var ft=wt.join("."),Ot=F(X),St=p.exec(X);return St&&St[1]?new P(nt,ft,Ot,St[1]):new k(nt,ft,Ot)}function F(X){for(var U=0,nt=x.length;U<nt;U++){var q=x[U],wt=q[0],ft=q[1],Ot=ft.exec(X);if(Ot)return wt}return null}function V(){var X=typeof b!="undefined"&&b.version;return X?new L(b.version.slice(1)):null}function Z(X){for(var U=[],nt=0;nt<X;nt++)U.push("0");return U}},82097:function(xt,M,d){var b;(function(O){"use strict";var k={},L=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,P=/\d\d?/,A=/\d{3}/,C=/\d{4}/,E=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,p=/\[([^]*?)\]/gm,w=function(){};function y(X,U){for(var nt=[],q=0,wt=X.length;q<wt;q++)nt.push(X[q].substr(0,U));return nt}function x(X){return function(U,nt,q){var wt=q[X].indexOf(nt.charAt(0).toUpperCase()+nt.substr(1).toLowerCase());~wt&&(U.month=wt)}}function g(X,U){for(X=String(X),U=U||2;X.length<U;)X="0"+X;return X}var S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_=["January","February","March","April","May","June","July","August","September","October","November","December"],B=y(_,3),F=y(S,3);k.i18n={dayNamesShort:F,dayNames:S,monthNamesShort:B,monthNames:_,amPm:["am","pm"],DoFn:function(U){return U+["th","st","nd","rd"][U%10>3?0:(U-U%10!=10)*U%10]}};var V={D:function(X){return X.getDate()},DD:function(X){return g(X.getDate())},Do:function(X,U){return U.DoFn(X.getDate())},d:function(X){return X.getDay()},dd:function(X){return g(X.getDay())},ddd:function(X,U){return U.dayNamesShort[X.getDay()]},dddd:function(X,U){return U.dayNames[X.getDay()]},M:function(X){return X.getMonth()+1},MM:function(X){return g(X.getMonth()+1)},MMM:function(X,U){return U.monthNamesShort[X.getMonth()]},MMMM:function(X,U){return U.monthNames[X.getMonth()]},YY:function(X){return String(X.getFullYear()).substr(2)},YYYY:function(X){return g(X.getFullYear(),4)},h:function(X){return X.getHours()%12||12},hh:function(X){return g(X.getHours()%12||12)},H:function(X){return X.getHours()},HH:function(X){return g(X.getHours())},m:function(X){return X.getMinutes()},mm:function(X){return g(X.getMinutes())},s:function(X){return X.getSeconds()},ss:function(X){return g(X.getSeconds())},S:function(X){return Math.round(X.getMilliseconds()/100)},SS:function(X){return g(Math.round(X.getMilliseconds()/10),2)},SSS:function(X){return g(X.getMilliseconds(),3)},a:function(X,U){return X.getHours()<12?U.amPm[0]:U.amPm[1]},A:function(X,U){return X.getHours()<12?U.amPm[0].toUpperCase():U.amPm[1].toUpperCase()},ZZ:function(X){var U=X.getTimezoneOffset();return(U>0?"-":"+")+g(Math.floor(Math.abs(U)/60)*100+Math.abs(U)%60,4)}},Z={D:[P,function(X,U){X.day=U}],Do:[new RegExp(P.source+E.source),function(X,U){X.day=parseInt(U,10)}],M:[P,function(X,U){X.month=U-1}],YY:[P,function(X,U){var nt=new Date,q=+(""+nt.getFullYear()).substr(0,2);X.year=""+(U>68?q-1:q)+U}],h:[P,function(X,U){X.hour=U}],m:[P,function(X,U){X.minute=U}],s:[P,function(X,U){X.second=U}],YYYY:[C,function(X,U){X.year=U}],S:[/\d/,function(X,U){X.millisecond=U*100}],SS:[/\d{2}/,function(X,U){X.millisecond=U*10}],SSS:[A,function(X,U){X.millisecond=U}],d:[P,w],ddd:[E,w],MMM:[E,x("monthNamesShort")],MMMM:[E,x("monthNames")],a:[E,function(X,U,nt){var q=U.toLowerCase();q===nt.amPm[0]?X.isPm=!1:q===nt.amPm[1]&&(X.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(X,U){U==="Z"&&(U="+00:00");var nt=(U+"").match(/([\+\-]|\d\d)/gi),q;nt&&(q=+(nt[1]*60)+parseInt(nt[2],10),X.timezoneOffset=nt[0]==="+"?q:-q)}]};Z.dd=Z.d,Z.dddd=Z.ddd,Z.DD=Z.D,Z.mm=Z.m,Z.hh=Z.H=Z.HH=Z.h,Z.MM=Z.M,Z.ss=Z.s,Z.A=Z.a,k.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},k.format=function(X,U,nt){var q=nt||k.i18n;if(typeof X=="number"&&(X=new Date(X)),Object.prototype.toString.call(X)!=="[object Date]"||isNaN(X.getTime()))throw new Error("Invalid Date in fecha.format");U=k.masks[U]||U||k.masks.default;var wt=[];return U=U.replace(p,function(ft,Ot){return wt.push(Ot),"??"}),U=U.replace(L,function(ft){return ft in V?V[ft](X,q):ft.slice(1,ft.length-1)}),U.replace(/\?\?/g,function(){return wt.shift()})},k.parse=function(X,U,nt){var q=nt||k.i18n;if(typeof U!="string")throw new Error("Invalid format in fecha.parse");if(U=k.masks[U]||U,X.length>1e3)return!1;var wt=!0,ft={};if(U.replace(L,function(At){if(Z[At]){var Et=Z[At],bt=X.search(Et[0]);~bt?X.replace(Et[0],function(Lt){return Et[1](ft,Lt,q),X=X.substr(bt+Lt.length),Lt}):wt=!1}return Z[At]?"":At.slice(1,At.length-1)}),!wt)return!1;var Ot=new Date;ft.isPm===!0&&ft.hour!=null&&+ft.hour!=12?ft.hour=+ft.hour+12:ft.isPm===!1&&+ft.hour==12&&(ft.hour=0);var St;return ft.timezoneOffset!=null?(ft.minute=+(ft.minute||0)-+ft.timezoneOffset,St=new Date(Date.UTC(ft.year||Ot.getFullYear(),ft.month||0,ft.day||1,ft.hour||0,ft.minute||0,ft.second||0,ft.millisecond||0))):St=new Date(ft.year||Ot.getFullYear(),ft.month||0,ft.day||1,ft.hour||0,ft.minute||0,ft.second||0,ft.millisecond||0),St},xt.exports?xt.exports=k:(b=function(){return k}.call(M,d,M,xt),b!==void 0&&(xt.exports=b))})(this)},49685:function(xt,M,d){"use strict";d.d(M,{Ib:function(){return b},WT:function(){return O},FD:function(){return k}});var b=1e-6,O=typeof Float32Array!="undefined"?Float32Array:Array,k=Math.random;function L(E){O=E}var P=Math.PI/180;function A(E){return E*P}function C(E,p){return Math.abs(E-p)<=b*Math.max(1,Math.abs(E),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var E=0,p=arguments.length;p--;)E+=arguments[p]*arguments[p];return Math.sqrt(E)})},35600:function(xt,M,d){"use strict";d.r(M),d.d(M,{create:function(){return O},fromMat4:function(){return k},clone:function(){return L},copy:function(){return P},fromValues:function(){return A},set:function(){return C},identity:function(){return E},transpose:function(){return p},invert:function(){return w},adjoint:function(){return y},determinant:function(){return x},multiply:function(){return g},translate:function(){return S},rotate:function(){return _},scale:function(){return B},fromTranslation:function(){return F},fromRotation:function(){return V},fromScaling:function(){return Z},fromMat2d:function(){return X},fromQuat:function(){return U},normalFromMat4:function(){return nt},projection:function(){return q},str:function(){return wt},frob:function(){return ft},add:function(){return Ot},subtract:function(){return St},multiplyScalar:function(){return At},multiplyScalarAndAdd:function(){return Et},exactEquals:function(){return bt},equals:function(){return Lt},mul:function(){return Bt},sub:function(){return gt}});var b=d(49685);function O(){var J=new b.WT(9);return b.WT!=Float32Array&&(J[1]=0,J[2]=0,J[3]=0,J[5]=0,J[6]=0,J[7]=0),J[0]=1,J[4]=1,J[8]=1,J}function k(J,I){return J[0]=I[0],J[1]=I[1],J[2]=I[2],J[3]=I[4],J[4]=I[5],J[5]=I[6],J[6]=I[8],J[7]=I[9],J[8]=I[10],J}function L(J){var I=new b.WT(9);return I[0]=J[0],I[1]=J[1],I[2]=J[2],I[3]=J[3],I[4]=J[4],I[5]=J[5],I[6]=J[6],I[7]=J[7],I[8]=J[8],I}function P(J,I){return J[0]=I[0],J[1]=I[1],J[2]=I[2],J[3]=I[3],J[4]=I[4],J[5]=I[5],J[6]=I[6],J[7]=I[7],J[8]=I[8],J}function A(J,I,u,R,N,z,j,K,at){var Tt=new b.WT(9);return Tt[0]=J,Tt[1]=I,Tt[2]=u,Tt[3]=R,Tt[4]=N,Tt[5]=z,Tt[6]=j,Tt[7]=K,Tt[8]=at,Tt}function C(J,I,u,R,N,z,j,K,at,Tt){return J[0]=I,J[1]=u,J[2]=R,J[3]=N,J[4]=z,J[5]=j,J[6]=K,J[7]=at,J[8]=Tt,J}function E(J){return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=1,J[5]=0,J[6]=0,J[7]=0,J[8]=1,J}function p(J,I){if(J===I){var u=I[1],R=I[2],N=I[5];J[1]=I[3],J[2]=I[6],J[3]=u,J[5]=I[7],J[6]=R,J[7]=N}else J[0]=I[0],J[1]=I[3],J[2]=I[6],J[3]=I[1],J[4]=I[4],J[5]=I[7],J[6]=I[2],J[7]=I[5],J[8]=I[8];return J}function w(J,I){var u=I[0],R=I[1],N=I[2],z=I[3],j=I[4],K=I[5],at=I[6],Tt=I[7],pt=I[8],Q=pt*j-K*Tt,vt=-pt*z+K*at,et=Tt*z-j*at,it=u*Q+R*vt+N*et;return it?(it=1/it,J[0]=Q*it,J[1]=(-pt*R+N*Tt)*it,J[2]=(K*R-N*j)*it,J[3]=vt*it,J[4]=(pt*u-N*at)*it,J[5]=(-K*u+N*z)*it,J[6]=et*it,J[7]=(-Tt*u+R*at)*it,J[8]=(j*u-R*z)*it,J):null}function y(J,I){var u=I[0],R=I[1],N=I[2],z=I[3],j=I[4],K=I[5],at=I[6],Tt=I[7],pt=I[8];return J[0]=j*pt-K*Tt,J[1]=N*Tt-R*pt,J[2]=R*K-N*j,J[3]=K*at-z*pt,J[4]=u*pt-N*at,J[5]=N*z-u*K,J[6]=z*Tt-j*at,J[7]=R*at-u*Tt,J[8]=u*j-R*z,J}function x(J){var I=J[0],u=J[1],R=J[2],N=J[3],z=J[4],j=J[5],K=J[6],at=J[7],Tt=J[8];return I*(Tt*z-j*at)+u*(-Tt*N+j*K)+R*(at*N-z*K)}function g(J,I,u){var R=I[0],N=I[1],z=I[2],j=I[3],K=I[4],at=I[5],Tt=I[6],pt=I[7],Q=I[8],vt=u[0],et=u[1],it=u[2],ct=u[3],rt=u[4],tt=u[5],mt=u[6],_t=u[7],Wt=u[8];return J[0]=vt*R+et*j+it*Tt,J[1]=vt*N+et*K+it*pt,J[2]=vt*z+et*at+it*Q,J[3]=ct*R+rt*j+tt*Tt,J[4]=ct*N+rt*K+tt*pt,J[5]=ct*z+rt*at+tt*Q,J[6]=mt*R+_t*j+Wt*Tt,J[7]=mt*N+_t*K+Wt*pt,J[8]=mt*z+_t*at+Wt*Q,J}function S(J,I,u){var R=I[0],N=I[1],z=I[2],j=I[3],K=I[4],at=I[5],Tt=I[6],pt=I[7],Q=I[8],vt=u[0],et=u[1];return J[0]=R,J[1]=N,J[2]=z,J[3]=j,J[4]=K,J[5]=at,J[6]=vt*R+et*j+Tt,J[7]=vt*N+et*K+pt,J[8]=vt*z+et*at+Q,J}function _(J,I,u){var R=I[0],N=I[1],z=I[2],j=I[3],K=I[4],at=I[5],Tt=I[6],pt=I[7],Q=I[8],vt=Math.sin(u),et=Math.cos(u);return J[0]=et*R+vt*j,J[1]=et*N+vt*K,J[2]=et*z+vt*at,J[3]=et*j-vt*R,J[4]=et*K-vt*N,J[5]=et*at-vt*z,J[6]=Tt,J[7]=pt,J[8]=Q,J}function B(J,I,u){var R=u[0],N=u[1];return J[0]=R*I[0],J[1]=R*I[1],J[2]=R*I[2],J[3]=N*I[3],J[4]=N*I[4],J[5]=N*I[5],J[6]=I[6],J[7]=I[7],J[8]=I[8],J}function F(J,I){return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=1,J[5]=0,J[6]=I[0],J[7]=I[1],J[8]=1,J}function V(J,I){var u=Math.sin(I),R=Math.cos(I);return J[0]=R,J[1]=u,J[2]=0,J[3]=-u,J[4]=R,J[5]=0,J[6]=0,J[7]=0,J[8]=1,J}function Z(J,I){return J[0]=I[0],J[1]=0,J[2]=0,J[3]=0,J[4]=I[1],J[5]=0,J[6]=0,J[7]=0,J[8]=1,J}function X(J,I){return J[0]=I[0],J[1]=I[1],J[2]=0,J[3]=I[2],J[4]=I[3],J[5]=0,J[6]=I[4],J[7]=I[5],J[8]=1,J}function U(J,I){var u=I[0],R=I[1],N=I[2],z=I[3],j=u+u,K=R+R,at=N+N,Tt=u*j,pt=R*j,Q=R*K,vt=N*j,et=N*K,it=N*at,ct=z*j,rt=z*K,tt=z*at;return J[0]=1-Q-it,J[3]=pt-tt,J[6]=vt+rt,J[1]=pt+tt,J[4]=1-Tt-it,J[7]=et-ct,J[2]=vt-rt,J[5]=et+ct,J[8]=1-Tt-Q,J}function nt(J,I){var u=I[0],R=I[1],N=I[2],z=I[3],j=I[4],K=I[5],at=I[6],Tt=I[7],pt=I[8],Q=I[9],vt=I[10],et=I[11],it=I[12],ct=I[13],rt=I[14],tt=I[15],mt=u*K-R*j,_t=u*at-N*j,Wt=u*Tt-z*j,te=R*at-N*K,ce=R*Tt-z*K,Pe=N*Tt-z*at,we=pt*ct-Q*it,Ce=pt*rt-vt*it,Ge=pt*tt-et*it,$e=Q*rt-vt*ct,cr=Q*tt-et*ct,or=vt*tt-et*rt,Xr=mt*or-_t*cr+Wt*$e+te*Ge-ce*Ce+Pe*we;return Xr?(Xr=1/Xr,J[0]=(K*or-at*cr+Tt*$e)*Xr,J[1]=(at*Ge-j*or-Tt*Ce)*Xr,J[2]=(j*cr-K*Ge+Tt*we)*Xr,J[3]=(N*cr-R*or-z*$e)*Xr,J[4]=(u*or-N*Ge+z*Ce)*Xr,J[5]=(R*Ge-u*cr-z*we)*Xr,J[6]=(ct*Pe-rt*ce+tt*te)*Xr,J[7]=(rt*Wt-it*Pe-tt*_t)*Xr,J[8]=(it*ce-ct*Wt+tt*mt)*Xr,J):null}function q(J,I,u){return J[0]=2/I,J[1]=0,J[2]=0,J[3]=0,J[4]=-2/u,J[5]=0,J[6]=-1,J[7]=1,J[8]=1,J}function wt(J){return"mat3("+J[0]+", "+J[1]+", "+J[2]+", "+J[3]+", "+J[4]+", "+J[5]+", "+J[6]+", "+J[7]+", "+J[8]+")"}function ft(J){return Math.hypot(J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7],J[8])}function Ot(J,I,u){return J[0]=I[0]+u[0],J[1]=I[1]+u[1],J[2]=I[2]+u[2],J[3]=I[3]+u[3],J[4]=I[4]+u[4],J[5]=I[5]+u[5],J[6]=I[6]+u[6],J[7]=I[7]+u[7],J[8]=I[8]+u[8],J}function St(J,I,u){return J[0]=I[0]-u[0],J[1]=I[1]-u[1],J[2]=I[2]-u[2],J[3]=I[3]-u[3],J[4]=I[4]-u[4],J[5]=I[5]-u[5],J[6]=I[6]-u[6],J[7]=I[7]-u[7],J[8]=I[8]-u[8],J}function At(J,I,u){return J[0]=I[0]*u,J[1]=I[1]*u,J[2]=I[2]*u,J[3]=I[3]*u,J[4]=I[4]*u,J[5]=I[5]*u,J[6]=I[6]*u,J[7]=I[7]*u,J[8]=I[8]*u,J}function Et(J,I,u,R){return J[0]=I[0]+u[0]*R,J[1]=I[1]+u[1]*R,J[2]=I[2]+u[2]*R,J[3]=I[3]+u[3]*R,J[4]=I[4]+u[4]*R,J[5]=I[5]+u[5]*R,J[6]=I[6]+u[6]*R,J[7]=I[7]+u[7]*R,J[8]=I[8]+u[8]*R,J}function bt(J,I){return J[0]===I[0]&&J[1]===I[1]&&J[2]===I[2]&&J[3]===I[3]&&J[4]===I[4]&&J[5]===I[5]&&J[6]===I[6]&&J[7]===I[7]&&J[8]===I[8]}function Lt(J,I){var u=J[0],R=J[1],N=J[2],z=J[3],j=J[4],K=J[5],at=J[6],Tt=J[7],pt=J[8],Q=I[0],vt=I[1],et=I[2],it=I[3],ct=I[4],rt=I[5],tt=I[6],mt=I[7],_t=I[8];return Math.abs(u-Q)<=b.Ib*Math.max(1,Math.abs(u),Math.abs(Q))&&Math.abs(R-vt)<=b.Ib*Math.max(1,Math.abs(R),Math.abs(vt))&&Math.abs(N-et)<=b.Ib*Math.max(1,Math.abs(N),Math.abs(et))&&Math.abs(z-it)<=b.Ib*Math.max(1,Math.abs(z),Math.abs(it))&&Math.abs(j-ct)<=b.Ib*Math.max(1,Math.abs(j),Math.abs(ct))&&Math.abs(K-rt)<=b.Ib*Math.max(1,Math.abs(K),Math.abs(rt))&&Math.abs(at-tt)<=b.Ib*Math.max(1,Math.abs(at),Math.abs(tt))&&Math.abs(Tt-mt)<=b.Ib*Math.max(1,Math.abs(Tt),Math.abs(mt))&&Math.abs(pt-_t)<=b.Ib*Math.max(1,Math.abs(pt),Math.abs(_t))}var Bt=g,gt=St},31437:function(xt,M,d){"use strict";d.r(M),d.d(M,{create:function(){return O},clone:function(){return k},fromValues:function(){return L},copy:function(){return P},set:function(){return A},add:function(){return C},subtract:function(){return E},multiply:function(){return p},divide:function(){return w},ceil:function(){return y},floor:function(){return x},min:function(){return g},max:function(){return S},round:function(){return _},scale:function(){return B},scaleAndAdd:function(){return F},distance:function(){return V},squaredDistance:function(){return Z},length:function(){return X},squaredLength:function(){return U},negate:function(){return nt},inverse:function(){return q},normalize:function(){return wt},dot:function(){return ft},cross:function(){return Ot},lerp:function(){return St},random:function(){return At},transformMat2:function(){return Et},transformMat2d:function(){return bt},transformMat3:function(){return Lt},transformMat4:function(){return Bt},rotate:function(){return gt},angle:function(){return J},zero:function(){return I},str:function(){return u},exactEquals:function(){return R},equals:function(){return N},len:function(){return z},sub:function(){return j},mul:function(){return K},div:function(){return at},dist:function(){return Tt},sqrDist:function(){return pt},sqrLen:function(){return Q},forEach:function(){return vt}});var b=d(49685);function O(){var et=new b.WT(2);return b.WT!=Float32Array&&(et[0]=0,et[1]=0),et}function k(et){var it=new b.WT(2);return it[0]=et[0],it[1]=et[1],it}function L(et,it){var ct=new b.WT(2);return ct[0]=et,ct[1]=it,ct}function P(et,it){return et[0]=it[0],et[1]=it[1],et}function A(et,it,ct){return et[0]=it,et[1]=ct,et}function C(et,it,ct){return et[0]=it[0]+ct[0],et[1]=it[1]+ct[1],et}function E(et,it,ct){return et[0]=it[0]-ct[0],et[1]=it[1]-ct[1],et}function p(et,it,ct){return et[0]=it[0]*ct[0],et[1]=it[1]*ct[1],et}function w(et,it,ct){return et[0]=it[0]/ct[0],et[1]=it[1]/ct[1],et}function y(et,it){return et[0]=Math.ceil(it[0]),et[1]=Math.ceil(it[1]),et}function x(et,it){return et[0]=Math.floor(it[0]),et[1]=Math.floor(it[1]),et}function g(et,it,ct){return et[0]=Math.min(it[0],ct[0]),et[1]=Math.min(it[1],ct[1]),et}function S(et,it,ct){return et[0]=Math.max(it[0],ct[0]),et[1]=Math.max(it[1],ct[1]),et}function _(et,it){return et[0]=Math.round(it[0]),et[1]=Math.round(it[1]),et}function B(et,it,ct){return et[0]=it[0]*ct,et[1]=it[1]*ct,et}function F(et,it,ct,rt){return et[0]=it[0]+ct[0]*rt,et[1]=it[1]+ct[1]*rt,et}function V(et,it){var ct=it[0]-et[0],rt=it[1]-et[1];return Math.hypot(ct,rt)}function Z(et,it){var ct=it[0]-et[0],rt=it[1]-et[1];return ct*ct+rt*rt}function X(et){var it=et[0],ct=et[1];return Math.hypot(it,ct)}function U(et){var it=et[0],ct=et[1];return it*it+ct*ct}function nt(et,it){return et[0]=-it[0],et[1]=-it[1],et}function q(et,it){return et[0]=1/it[0],et[1]=1/it[1],et}function wt(et,it){var ct=it[0],rt=it[1],tt=ct*ct+rt*rt;return tt>0&&(tt=1/Math.sqrt(tt)),et[0]=it[0]*tt,et[1]=it[1]*tt,et}function ft(et,it){return et[0]*it[0]+et[1]*it[1]}function Ot(et,it,ct){var rt=it[0]*ct[1]-it[1]*ct[0];return et[0]=et[1]=0,et[2]=rt,et}function St(et,it,ct,rt){var tt=it[0],mt=it[1];return et[0]=tt+rt*(ct[0]-tt),et[1]=mt+rt*(ct[1]-mt),et}function At(et,it){it=it||1;var ct=b.FD()*2*Math.PI;return et[0]=Math.cos(ct)*it,et[1]=Math.sin(ct)*it,et}function Et(et,it,ct){var rt=it[0],tt=it[1];return et[0]=ct[0]*rt+ct[2]*tt,et[1]=ct[1]*rt+ct[3]*tt,et}function bt(et,it,ct){var rt=it[0],tt=it[1];return et[0]=ct[0]*rt+ct[2]*tt+ct[4],et[1]=ct[1]*rt+ct[3]*tt+ct[5],et}function Lt(et,it,ct){var rt=it[0],tt=it[1];return et[0]=ct[0]*rt+ct[3]*tt+ct[6],et[1]=ct[1]*rt+ct[4]*tt+ct[7],et}function Bt(et,it,ct){var rt=it[0],tt=it[1];return et[0]=ct[0]*rt+ct[4]*tt+ct[12],et[1]=ct[1]*rt+ct[5]*tt+ct[13],et}function gt(et,it,ct,rt){var tt=it[0]-ct[0],mt=it[1]-ct[1],_t=Math.sin(rt),Wt=Math.cos(rt);return et[0]=tt*Wt-mt*_t+ct[0],et[1]=tt*_t+mt*Wt+ct[1],et}function J(et,it){var ct=et[0],rt=et[1],tt=it[0],mt=it[1],_t=Math.sqrt(ct*ct+rt*rt)*Math.sqrt(tt*tt+mt*mt),Wt=_t&&(ct*tt+rt*mt)/_t;return Math.acos(Math.min(Math.max(Wt,-1),1))}function I(et){return et[0]=0,et[1]=0,et}function u(et){return"vec2("+et[0]+", "+et[1]+")"}function R(et,it){return et[0]===it[0]&&et[1]===it[1]}function N(et,it){var ct=et[0],rt=et[1],tt=it[0],mt=it[1];return Math.abs(ct-tt)<=b.Ib*Math.max(1,Math.abs(ct),Math.abs(tt))&&Math.abs(rt-mt)<=b.Ib*Math.max(1,Math.abs(rt),Math.abs(mt))}var z=X,j=E,K=p,at=w,Tt=V,pt=Z,Q=U,vt=function(){var et=O();return function(it,ct,rt,tt,mt,_t){var Wt,te;for(ct||(ct=2),rt||(rt=0),tt?te=Math.min(tt*ct+rt,it.length):te=it.length,Wt=rt;Wt<te;Wt+=ct)et[0]=it[Wt],et[1]=it[Wt+1],mt(et,et,_t),it[Wt]=et[0],it[Wt+1]=et[1];return it}}()},77160:function(xt,M,d){"use strict";d.r(M),d.d(M,{create:function(){return O},clone:function(){return k},length:function(){return L},fromValues:function(){return P},copy:function(){return A},set:function(){return C},add:function(){return E},subtract:function(){return p},multiply:function(){return w},divide:function(){return y},ceil:function(){return x},floor:function(){return g},min:function(){return S},max:function(){return _},round:function(){return B},scale:function(){return F},scaleAndAdd:function(){return V},distance:function(){return Z},squaredDistance:function(){return X},squaredLength:function(){return U},negate:function(){return nt},inverse:function(){return q},normalize:function(){return wt},dot:function(){return ft},cross:function(){return Ot},lerp:function(){return St},hermite:function(){return At},bezier:function(){return Et},random:function(){return bt},transformMat4:function(){return Lt},transformMat3:function(){return Bt},transformQuat:function(){return gt},rotateX:function(){return J},rotateY:function(){return I},rotateZ:function(){return u},angle:function(){return R},zero:function(){return N},str:function(){return z},exactEquals:function(){return j},equals:function(){return K},sub:function(){return at},mul:function(){return Tt},div:function(){return pt},dist:function(){return Q},sqrDist:function(){return vt},len:function(){return et},sqrLen:function(){return it},forEach:function(){return ct}});var b=d(49685);function O(){var rt=new b.WT(3);return b.WT!=Float32Array&&(rt[0]=0,rt[1]=0,rt[2]=0),rt}function k(rt){var tt=new b.WT(3);return tt[0]=rt[0],tt[1]=rt[1],tt[2]=rt[2],tt}function L(rt){var tt=rt[0],mt=rt[1],_t=rt[2];return Math.hypot(tt,mt,_t)}function P(rt,tt,mt){var _t=new b.WT(3);return _t[0]=rt,_t[1]=tt,_t[2]=mt,_t}function A(rt,tt){return rt[0]=tt[0],rt[1]=tt[1],rt[2]=tt[2],rt}function C(rt,tt,mt,_t){return rt[0]=tt,rt[1]=mt,rt[2]=_t,rt}function E(rt,tt,mt){return rt[0]=tt[0]+mt[0],rt[1]=tt[1]+mt[1],rt[2]=tt[2]+mt[2],rt}function p(rt,tt,mt){return rt[0]=tt[0]-mt[0],rt[1]=tt[1]-mt[1],rt[2]=tt[2]-mt[2],rt}function w(rt,tt,mt){return rt[0]=tt[0]*mt[0],rt[1]=tt[1]*mt[1],rt[2]=tt[2]*mt[2],rt}function y(rt,tt,mt){return rt[0]=tt[0]/mt[0],rt[1]=tt[1]/mt[1],rt[2]=tt[2]/mt[2],rt}function x(rt,tt){return rt[0]=Math.ceil(tt[0]),rt[1]=Math.ceil(tt[1]),rt[2]=Math.ceil(tt[2]),rt}function g(rt,tt){return rt[0]=Math.floor(tt[0]),rt[1]=Math.floor(tt[1]),rt[2]=Math.floor(tt[2]),rt}function S(rt,tt,mt){return rt[0]=Math.min(tt[0],mt[0]),rt[1]=Math.min(tt[1],mt[1]),rt[2]=Math.min(tt[2],mt[2]),rt}function _(rt,tt,mt){return rt[0]=Math.max(tt[0],mt[0]),rt[1]=Math.max(tt[1],mt[1]),rt[2]=Math.max(tt[2],mt[2]),rt}function B(rt,tt){return rt[0]=Math.round(tt[0]),rt[1]=Math.round(tt[1]),rt[2]=Math.round(tt[2]),rt}function F(rt,tt,mt){return rt[0]=tt[0]*mt,rt[1]=tt[1]*mt,rt[2]=tt[2]*mt,rt}function V(rt,tt,mt,_t){return rt[0]=tt[0]+mt[0]*_t,rt[1]=tt[1]+mt[1]*_t,rt[2]=tt[2]+mt[2]*_t,rt}function Z(rt,tt){var mt=tt[0]-rt[0],_t=tt[1]-rt[1],Wt=tt[2]-rt[2];return Math.hypot(mt,_t,Wt)}function X(rt,tt){var mt=tt[0]-rt[0],_t=tt[1]-rt[1],Wt=tt[2]-rt[2];return mt*mt+_t*_t+Wt*Wt}function U(rt){var tt=rt[0],mt=rt[1],_t=rt[2];return tt*tt+mt*mt+_t*_t}function nt(rt,tt){return rt[0]=-tt[0],rt[1]=-tt[1],rt[2]=-tt[2],rt}function q(rt,tt){return rt[0]=1/tt[0],rt[1]=1/tt[1],rt[2]=1/tt[2],rt}function wt(rt,tt){var mt=tt[0],_t=tt[1],Wt=tt[2],te=mt*mt+_t*_t+Wt*Wt;return te>0&&(te=1/Math.sqrt(te)),rt[0]=tt[0]*te,rt[1]=tt[1]*te,rt[2]=tt[2]*te,rt}function ft(rt,tt){return rt[0]*tt[0]+rt[1]*tt[1]+rt[2]*tt[2]}function Ot(rt,tt,mt){var _t=tt[0],Wt=tt[1],te=tt[2],ce=mt[0],Pe=mt[1],we=mt[2];return rt[0]=Wt*we-te*Pe,rt[1]=te*ce-_t*we,rt[2]=_t*Pe-Wt*ce,rt}function St(rt,tt,mt,_t){var Wt=tt[0],te=tt[1],ce=tt[2];return rt[0]=Wt+_t*(mt[0]-Wt),rt[1]=te+_t*(mt[1]-te),rt[2]=ce+_t*(mt[2]-ce),rt}function At(rt,tt,mt,_t,Wt,te){var ce=te*te,Pe=ce*(2*te-3)+1,we=ce*(te-2)+te,Ce=ce*(te-1),Ge=ce*(3-2*te);return rt[0]=tt[0]*Pe+mt[0]*we+_t[0]*Ce+Wt[0]*Ge,rt[1]=tt[1]*Pe+mt[1]*we+_t[1]*Ce+Wt[1]*Ge,rt[2]=tt[2]*Pe+mt[2]*we+_t[2]*Ce+Wt[2]*Ge,rt}function Et(rt,tt,mt,_t,Wt,te){var ce=1-te,Pe=ce*ce,we=te*te,Ce=Pe*ce,Ge=3*te*Pe,$e=3*we*ce,cr=we*te;return rt[0]=tt[0]*Ce+mt[0]*Ge+_t[0]*$e+Wt[0]*cr,rt[1]=tt[1]*Ce+mt[1]*Ge+_t[1]*$e+Wt[1]*cr,rt[2]=tt[2]*Ce+mt[2]*Ge+_t[2]*$e+Wt[2]*cr,rt}function bt(rt,tt){tt=tt||1;var mt=b.FD()*2*Math.PI,_t=b.FD()*2-1,Wt=Math.sqrt(1-_t*_t)*tt;return rt[0]=Math.cos(mt)*Wt,rt[1]=Math.sin(mt)*Wt,rt[2]=_t*tt,rt}function Lt(rt,tt,mt){var _t=tt[0],Wt=tt[1],te=tt[2],ce=mt[3]*_t+mt[7]*Wt+mt[11]*te+mt[15];return ce=ce||1,rt[0]=(mt[0]*_t+mt[4]*Wt+mt[8]*te+mt[12])/ce,rt[1]=(mt[1]*_t+mt[5]*Wt+mt[9]*te+mt[13])/ce,rt[2]=(mt[2]*_t+mt[6]*Wt+mt[10]*te+mt[14])/ce,rt}function Bt(rt,tt,mt){var _t=tt[0],Wt=tt[1],te=tt[2];return rt[0]=_t*mt[0]+Wt*mt[3]+te*mt[6],rt[1]=_t*mt[1]+Wt*mt[4]+te*mt[7],rt[2]=_t*mt[2]+Wt*mt[5]+te*mt[8],rt}function gt(rt,tt,mt){var _t=mt[0],Wt=mt[1],te=mt[2],ce=mt[3],Pe=tt[0],we=tt[1],Ce=tt[2],Ge=Wt*Ce-te*we,$e=te*Pe-_t*Ce,cr=_t*we-Wt*Pe,or=Wt*cr-te*$e,Xr=te*Ge-_t*cr,xn=_t*$e-Wt*Ge,Wr=ce*2;return Ge*=Wr,$e*=Wr,cr*=Wr,or*=2,Xr*=2,xn*=2,rt[0]=Pe+Ge+or,rt[1]=we+$e+Xr,rt[2]=Ce+cr+xn,rt}function J(rt,tt,mt,_t){var Wt=[],te=[];return Wt[0]=tt[0]-mt[0],Wt[1]=tt[1]-mt[1],Wt[2]=tt[2]-mt[2],te[0]=Wt[0],te[1]=Wt[1]*Math.cos(_t)-Wt[2]*Math.sin(_t),te[2]=Wt[1]*Math.sin(_t)+Wt[2]*Math.cos(_t),rt[0]=te[0]+mt[0],rt[1]=te[1]+mt[1],rt[2]=te[2]+mt[2],rt}function I(rt,tt,mt,_t){var Wt=[],te=[];return Wt[0]=tt[0]-mt[0],Wt[1]=tt[1]-mt[1],Wt[2]=tt[2]-mt[2],te[0]=Wt[2]*Math.sin(_t)+Wt[0]*Math.cos(_t),te[1]=Wt[1],te[2]=Wt[2]*Math.cos(_t)-Wt[0]*Math.sin(_t),rt[0]=te[0]+mt[0],rt[1]=te[1]+mt[1],rt[2]=te[2]+mt[2],rt}function u(rt,tt,mt,_t){var Wt=[],te=[];return Wt[0]=tt[0]-mt[0],Wt[1]=tt[1]-mt[1],Wt[2]=tt[2]-mt[2],te[0]=Wt[0]*Math.cos(_t)-Wt[1]*Math.sin(_t),te[1]=Wt[0]*Math.sin(_t)+Wt[1]*Math.cos(_t),te[2]=Wt[2],rt[0]=te[0]+mt[0],rt[1]=te[1]+mt[1],rt[2]=te[2]+mt[2],rt}function R(rt,tt){var mt=rt[0],_t=rt[1],Wt=rt[2],te=tt[0],ce=tt[1],Pe=tt[2],we=Math.sqrt(mt*mt+_t*_t+Wt*Wt),Ce=Math.sqrt(te*te+ce*ce+Pe*Pe),Ge=we*Ce,$e=Ge&&ft(rt,tt)/Ge;return Math.acos(Math.min(Math.max($e,-1),1))}function N(rt){return rt[0]=0,rt[1]=0,rt[2]=0,rt}function z(rt){return"vec3("+rt[0]+", "+rt[1]+", "+rt[2]+")"}function j(rt,tt){return rt[0]===tt[0]&&rt[1]===tt[1]&&rt[2]===tt[2]}function K(rt,tt){var mt=rt[0],_t=rt[1],Wt=rt[2],te=tt[0],ce=tt[1],Pe=tt[2];return Math.abs(mt-te)<=b.Ib*Math.max(1,Math.abs(mt),Math.abs(te))&&Math.abs(_t-ce)<=b.Ib*Math.max(1,Math.abs(_t),Math.abs(ce))&&Math.abs(Wt-Pe)<=b.Ib*Math.max(1,Math.abs(Wt),Math.abs(Pe))}var at=p,Tt=w,pt=y,Q=Z,vt=X,et=L,it=U,ct=function(){var rt=O();return function(tt,mt,_t,Wt,te,ce){var Pe,we;for(mt||(mt=3),_t||(_t=0),Wt?we=Math.min(Wt*mt+_t,tt.length):we=tt.length,Pe=_t;Pe<we;Pe+=mt)rt[0]=tt[Pe],rt[1]=tt[Pe+1],rt[2]=tt[Pe+2],te(rt,rt,ce),tt[Pe]=rt[0],tt[Pe+1]=rt[1],tt[Pe+2]=rt[2];return tt}}()},28282:function(xt,M,d){var b=d(82354);xt.exports={Graph:b.Graph,json:d(28974),alg:d(12440),version:b.version}},2842:function(xt,M,d){var b=d(89126);xt.exports=O;function O(k){var L={},P=[],A;function C(E){b.has(L,E)||(L[E]=!0,A.push(E),b.each(k.successors(E),C),b.each(k.predecessors(E),C))}return b.each(k.nodes(),function(E){A=[],C(E),A.length&&P.push(A)}),P}},53984:function(xt,M,d){var b=d(89126);xt.exports=O;function O(L,P,A){b.isArray(P)||(P=[P]);var C=(L.isDirected()?L.successors:L.neighbors).bind(L),E=[],p={};return b.each(P,function(w){if(!L.hasNode(w))throw new Error("Graph does not have node: "+w);k(L,w,A==="post",p,C,E)}),E}function k(L,P,A,C,E,p){b.has(C,P)||(C[P]=!0,A||p.push(P),b.each(E(P),function(w){k(L,w,A,C,E,p)}),A&&p.push(P))}},84847:function(xt,M,d){var b=d(63763),O=d(89126);xt.exports=k;function k(L,P,A){return O.transform(L.nodes(),function(C,E){C[E]=b(L,E,P,A)},{})}},63763:function(xt,M,d){var b=d(89126),O=d(75639);xt.exports=L;var k=b.constant(1);function L(A,C,E,p){return P(A,String(C),E||k,p||function(w){return A.outEdges(w)})}function P(A,C,E,p){var w={},y=new O,x,g,S=function(_){var B=_.v!==x?_.v:_.w,F=w[B],V=E(_),Z=g.distance+V;if(V<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+_+" Weight: "+V);Z<F.distance&&(F.distance=Z,F.predecessor=x,y.decrease(B,Z))};for(A.nodes().forEach(function(_){var B=_===C?0:Number.POSITIVE_INFINITY;w[_]={distance:B},y.add(_,B)});y.size()>0&&(x=y.removeMin(),g=w[x],g.distance!==Number.POSITIVE_INFINITY);)p(x).forEach(S);return w}},9096:function(xt,M,d){var b=d(89126),O=d(5023);xt.exports=k;function k(L){return b.filter(O(L),function(P){return P.length>1||P.length===1&&L.hasEdge(P[0],P[0])})}},38924:function(xt,M,d){var b=d(89126);xt.exports=k;var O=b.constant(1);function k(P,A,C){return L(P,A||O,C||function(E){return P.outEdges(E)})}function L(P,A,C){var E={},p=P.nodes();return p.forEach(function(w){E[w]={},E[w][w]={distance:0},p.forEach(function(y){w!==y&&(E[w][y]={distance:Number.POSITIVE_INFINITY})}),C(w).forEach(function(y){var x=y.v===w?y.w:y.v,g=A(y);E[w][x]={distance:g,predecessor:w}})}),p.forEach(function(w){var y=E[w];p.forEach(function(x){var g=E[x];p.forEach(function(S){var _=g[w],B=y[S],F=g[S],V=_.distance+B.distance;V<F.distance&&(F.distance=V,F.predecessor=B.predecessor)})})}),E}},12440:function(xt,M,d){xt.exports={components:d(2842),dijkstra:d(63763),dijkstraAll:d(84847),findCycles:d(9096),floydWarshall:d(38924),isAcyclic:d(62707),postorder:d(58828),preorder:d(92648),prim:d(80514),tarjan:d(5023),topsort:d(2166)}},62707:function(xt,M,d){var b=d(2166);xt.exports=O;function O(k){try{b(k)}catch(L){if(L instanceof b.CycleException)return!1;throw L}return!0}},58828:function(xt,M,d){var b=d(53984);xt.exports=O;function O(k,L){return b(k,L,"post")}},92648:function(xt,M,d){var b=d(53984);xt.exports=O;function O(k,L){return b(k,L,"pre")}},80514:function(xt,M,d){var b=d(89126),O=d(30771),k=d(75639);xt.exports=L;function L(P,A){var C=new O,E={},p=new k,w;function y(g){var S=g.v===w?g.w:g.v,_=p.priority(S);if(_!==void 0){var B=A(g);B<_&&(E[S]=w,p.decrease(S,B))}}if(P.nodeCount()===0)return C;b.each(P.nodes(),function(g){p.add(g,Number.POSITIVE_INFINITY),C.setNode(g)}),p.decrease(P.nodes()[0],0);for(var x=!1;p.size()>0;){if(w=p.removeMin(),b.has(E,w))C.setEdge(w,E[w]);else{if(x)throw new Error("Input graph is not connected: "+P);x=!0}P.nodeEdges(w).forEach(y)}return C}},5023:function(xt,M,d){var b=d(89126);xt.exports=O;function O(k){var L=0,P=[],A={},C=[];function E(p){var w=A[p]={onStack:!0,lowlink:L,index:L++};if(P.push(p),k.successors(p).forEach(function(g){b.has(A,g)?A[g].onStack&&(w.lowlink=Math.min(w.lowlink,A[g].index)):(E(g),w.lowlink=Math.min(w.lowlink,A[g].lowlink))}),w.lowlink===w.index){var y=[],x;do x=P.pop(),A[x].onStack=!1,y.push(x);while(p!==x);C.push(y)}}return k.nodes().forEach(function(p){b.has(A,p)||E(p)}),C}},2166:function(xt,M,d){var b=d(89126);xt.exports=O,O.CycleException=k;function O(L){var P={},A={},C=[];function E(p){if(b.has(A,p))throw new k;b.has(P,p)||(A[p]=!0,P[p]=!0,b.each(L.predecessors(p),E),delete A[p],C.push(p))}if(b.each(L.sinks(),E),b.size(P)!==L.nodeCount())throw new k;return C}function k(){}k.prototype=new Error},75639:function(xt,M,d){var b=d(89126);xt.exports=O;function O(){this._arr=[],this._keyIndices={}}O.prototype.size=function(){return this._arr.length},O.prototype.keys=function(){return this._arr.map(function(k){return k.key})},O.prototype.has=function(k){return b.has(this._keyIndices,k)},O.prototype.priority=function(k){var L=this._keyIndices[k];if(L!==void 0)return this._arr[L].priority},O.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},O.prototype.add=function(k,L){var P=this._keyIndices;if(k=String(k),!b.has(P,k)){var A=this._arr,C=A.length;return P[k]=C,A.push({key:k,priority:L}),this._decrease(C),!0}return!1},O.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var k=this._arr.pop();return delete this._keyIndices[k.key],this._heapify(0),k.key},O.prototype.decrease=function(k,L){var P=this._keyIndices[k];if(L>this._arr[P].priority)throw new Error("New priority is greater than current priority. Key: "+k+" Old: "+this._arr[P].priority+" New: "+L);this._arr[P].priority=L,this._decrease(P)},O.prototype._heapify=function(k){var L=this._arr,P=2*k,A=P+1,C=k;P<L.length&&(C=L[P].priority<L[C].priority?P:C,A<L.length&&(C=L[A].priority<L[C].priority?A:C),C!==k&&(this._swap(k,C),this._heapify(C)))},O.prototype._decrease=function(k){for(var L=this._arr,P=L[k].priority,A;k!==0&&(A=k>>1,!(L[A].priority<P));)this._swap(k,A),k=A},O.prototype._swap=function(k,L){var P=this._arr,A=this._keyIndices,C=P[k],E=P[L];P[k]=E,P[L]=C,A[E.key]=k,A[C.key]=L}},30771:function(xt,M,d){"use strict";var b=d(89126);xt.exports=P;var O="\0",k="\0",L="";function P(y){this._isDirected=b.has(y,"directed")?y.directed:!0,this._isMultigraph=b.has(y,"multigraph")?y.multigraph:!1,this._isCompound=b.has(y,"compound")?y.compound:!1,this._label=void 0,this._defaultNodeLabelFn=b.constant(void 0),this._defaultEdgeLabelFn=b.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[k]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}P.prototype._nodeCount=0,P.prototype._edgeCount=0,P.prototype.isDirected=function(){return this._isDirected},P.prototype.isMultigraph=function(){return this._isMultigraph},P.prototype.isCompound=function(){return this._isCompound},P.prototype.setGraph=function(y){return this._label=y,this},P.prototype.graph=function(){return this._label},P.prototype.setDefaultNodeLabel=function(y){return b.isFunction(y)||(y=b.constant(y)),this._defaultNodeLabelFn=y,this},P.prototype.nodeCount=function(){return this._nodeCount},P.prototype.nodes=function(){return b.keys(this._nodes)},P.prototype.sources=function(){var y=this;return b.filter(this.nodes(),function(x){return b.isEmpty(y._in[x])})},P.prototype.sinks=function(){var y=this;return b.filter(this.nodes(),function(x){return b.isEmpty(y._out[x])})},P.prototype.setNodes=function(y,x){var g=arguments,S=this;return b.each(y,function(_){g.length>1?S.setNode(_,x):S.setNode(_)}),this},P.prototype.setNode=function(y,x){return b.has(this._nodes,y)?(arguments.length>1&&(this._nodes[y]=x),this):(this._nodes[y]=arguments.length>1?x:this._defaultNodeLabelFn(y),this._isCompound&&(this._parent[y]=k,this._children[y]={},this._children[k][y]=!0),this._in[y]={},this._preds[y]={},this._out[y]={},this._sucs[y]={},++this._nodeCount,this)},P.prototype.node=function(y){return this._nodes[y]},P.prototype.hasNode=function(y){return b.has(this._nodes,y)},P.prototype.removeNode=function(y){var x=this;if(b.has(this._nodes,y)){var g=function(S){x.removeEdge(x._edgeObjs[S])};delete this._nodes[y],this._isCompound&&(this._removeFromParentsChildList(y),delete this._parent[y],b.each(this.children(y),function(S){x.setParent(S)}),delete this._children[y]),b.each(b.keys(this._in[y]),g),delete this._in[y],delete this._preds[y],b.each(b.keys(this._out[y]),g),delete this._out[y],delete this._sucs[y],--this._nodeCount}return this},P.prototype.setParent=function(y,x){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(b.isUndefined(x))x=k;else{x+="";for(var g=x;!b.isUndefined(g);g=this.parent(g))if(g===y)throw new Error("Setting "+x+" as parent of "+y+" would create a cycle");this.setNode(x)}return this.setNode(y),this._removeFromParentsChildList(y),this._parent[y]=x,this._children[x][y]=!0,this},P.prototype._removeFromParentsChildList=function(y){delete this._children[this._parent[y]][y]},P.prototype.parent=function(y){if(this._isCompound){var x=this._parent[y];if(x!==k)return x}},P.prototype.children=function(y){if(b.isUndefined(y)&&(y=k),this._isCompound){var x=this._children[y];if(x)return b.keys(x)}else{if(y===k)return this.nodes();if(this.hasNode(y))return[]}},P.prototype.predecessors=function(y){var x=this._preds[y];if(x)return b.keys(x)},P.prototype.successors=function(y){var x=this._sucs[y];if(x)return b.keys(x)},P.prototype.neighbors=function(y){var x=this.predecessors(y);if(x)return b.union(x,this.successors(y))},P.prototype.isLeaf=function(y){var x;return this.isDirected()?x=this.successors(y):x=this.neighbors(y),x.length===0},P.prototype.filterNodes=function(y){var x=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});x.setGraph(this.graph());var g=this;b.each(this._nodes,function(B,F){y(F)&&x.setNode(F,B)}),b.each(this._edgeObjs,function(B){x.hasNode(B.v)&&x.hasNode(B.w)&&x.setEdge(B,g.edge(B))});var S={};function _(B){var F=g.parent(B);return F===void 0||x.hasNode(F)?(S[B]=F,F):F in S?S[F]:_(F)}return this._isCompound&&b.each(x.nodes(),function(B){x.setParent(B,_(B))}),x},P.prototype.setDefaultEdgeLabel=function(y){return b.isFunction(y)||(y=b.constant(y)),this._defaultEdgeLabelFn=y,this},P.prototype.edgeCount=function(){return this._edgeCount},P.prototype.edges=function(){return b.values(this._edgeObjs)},P.prototype.setPath=function(y,x){var g=this,S=arguments;return b.reduce(y,function(_,B){return S.length>1?g.setEdge(_,B,x):g.setEdge(_,B),B}),this},P.prototype.setEdge=function(){var y,x,g,S,_=!1,B=arguments[0];typeof B=="object"&&B!==null&&"v"in B?(y=B.v,x=B.w,g=B.name,arguments.length===2&&(S=arguments[1],_=!0)):(y=B,x=arguments[1],g=arguments[3],arguments.length>2&&(S=arguments[2],_=!0)),y=""+y,x=""+x,b.isUndefined(g)||(g=""+g);var F=E(this._isDirected,y,x,g);if(b.has(this._edgeLabels,F))return _&&(this._edgeLabels[F]=S),this;if(!b.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(y),this.setNode(x),this._edgeLabels[F]=_?S:this._defaultEdgeLabelFn(y,x,g);var V=p(this._isDirected,y,x,g);return y=V.v,x=V.w,Object.freeze(V),this._edgeObjs[F]=V,A(this._preds[x],y),A(this._sucs[y],x),this._in[x][F]=V,this._out[y][F]=V,this._edgeCount++,this},P.prototype.edge=function(y,x,g){var S=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,x,g);return this._edgeLabels[S]},P.prototype.hasEdge=function(y,x,g){var S=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,x,g);return b.has(this._edgeLabels,S)},P.prototype.removeEdge=function(y,x,g){var S=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,x,g),_=this._edgeObjs[S];return _&&(y=_.v,x=_.w,delete this._edgeLabels[S],delete this._edgeObjs[S],C(this._preds[x],y),C(this._sucs[y],x),delete this._in[x][S],delete this._out[y][S],this._edgeCount--),this},P.prototype.inEdges=function(y,x){var g=this._in[y];if(g){var S=b.values(g);return x?b.filter(S,function(_){return _.v===x}):S}},P.prototype.outEdges=function(y,x){var g=this._out[y];if(g){var S=b.values(g);return x?b.filter(S,function(_){return _.w===x}):S}},P.prototype.nodeEdges=function(y,x){var g=this.inEdges(y,x);if(g)return g.concat(this.outEdges(y,x))};function A(y,x){y[x]?y[x]++:y[x]=1}function C(y,x){--y[x]||delete y[x]}function E(y,x,g,S){var _=""+x,B=""+g;if(!y&&_>B){var F=_;_=B,B=F}return _+L+B+L+(b.isUndefined(S)?O:S)}function p(y,x,g,S){var _=""+x,B=""+g;if(!y&&_>B){var F=_;_=B,B=F}var V={v:_,w:B};return S&&(V.name=S),V}function w(y,x){return E(y,x.v,x.w,x.name)}},82354:function(xt,M,d){xt.exports={Graph:d(30771),version:d(49631)}},28974:function(xt,M,d){var b=d(89126),O=d(30771);xt.exports={write:k,read:A};function k(C){var E={options:{directed:C.isDirected(),multigraph:C.isMultigraph(),compound:C.isCompound()},nodes:L(C),edges:P(C)};return b.isUndefined(C.graph())||(E.value=b.clone(C.graph())),E}function L(C){return b.map(C.nodes(),function(E){var p=C.node(E),w=C.parent(E),y={v:E};return b.isUndefined(p)||(y.value=p),b.isUndefined(w)||(y.parent=w),y})}function P(C){return b.map(C.edges(),function(E){var p=C.edge(E),w={v:E.v,w:E.w};return b.isUndefined(E.name)||(w.name=E.name),b.isUndefined(p)||(w.value=p),w})}function A(C){var E=new O(C.options).setGraph(C.value);return b.each(C.nodes,function(p){E.setNode(p.v,p.value),p.parent&&E.setParent(p.v,p.parent)}),b.each(C.edges,function(p){E.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),E}},89126:function(xt,M,d){var b;try{b={clone:d(66678),constant:d(75703),each:d(66073),filter:d(63105),has:d(18721),isArray:d(1469),isEmpty:d(41609),isFunction:d(23560),isUndefined:d(52353),keys:d(3674),map:d(35161),reduce:d(54061),size:d(84238),transform:d(68718),union:d(93386),values:d(52628)}}catch(O){}b||(b=window._),xt.exports=b},49631:function(xt){xt.exports="2.1.8"},38186:function(xt){var M=[],d=[],b="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function O(L,P){if(P=P||{},L===void 0)throw new Error(b);var A=P.prepend===!0?"prepend":"append",C=P.container!==void 0?P.container:document.querySelector("head"),E=M.indexOf(C);E===-1&&(E=M.push(C)-1,d[E]={});var p;return d[E]!==void 0&&d[E][A]!==void 0?p=d[E][A]:(p=d[E][A]=k(),A==="prepend"?C.insertBefore(p,C.childNodes[0]):C.appendChild(p)),L.charCodeAt(0)===65279&&(L=L.substr(1,L.length)),p.styleSheet?p.styleSheet.cssText+=L:p.textContent+=L,p}function k(){var L=document.createElement("style");return L.setAttribute("type","text/css"),L}xt.exports=O,xt.exports.insertCss=O},47443:function(xt,M,d){var b=d(42118);function O(k,L){var P=k==null?0:k.length;return!!P&&b(k,L,0)>-1}xt.exports=O},1196:function(xt){function M(d,b,O){for(var k=-1,L=d==null?0:d.length;++k<L;)if(O(b,d[k]))return!0;return!1}xt.exports=M},48983:function(xt,M,d){var b=d(40371),O=b("length");xt.exports=O},56029:function(xt,M,d){var b=d(33448);function O(k,L,P){for(var A=-1,C=k.length;++A<C;){var E=k[A],p=L(E);if(p!=null&&(w===void 0?p===p&&!b(p):P(p,w)))var w=p,y=E}return y}xt.exports=O},80760:function(xt,M,d){var b=d(89881);function O(k,L){var P=[];return b(k,function(A,C,E){L(A,C,E)&&P.push(A)}),P}xt.exports=O},41848:function(xt){function M(d,b,O,k){for(var L=d.length,P=O+(k?1:-1);k?P--:++P<L;)if(b(d[P],P,d))return P;return-1}xt.exports=M},21078:function(xt,M,d){var b=d(62488),O=d(37285);function k(L,P,A,C,E){var p=-1,w=L.length;for(A||(A=O),E||(E=[]);++p<w;){var y=L[p];P>0&&A(y)?P>1?k(y,P-1,A,C,E):b(E,y):C||(E[E.length]=y)}return E}xt.exports=k},53325:function(xt){function M(d,b){return d>b}xt.exports=M},78565:function(xt){var M=Object.prototype,d=M.hasOwnProperty;function b(O,k){return O!=null&&d.call(O,k)}xt.exports=b},42118:function(xt,M,d){var b=d(41848),O=d(62722),k=d(42351);function L(P,A,C){return A===A?k(P,A,C):b(P,O,C)}xt.exports=L},62722:function(xt){function M(d){return d!==d}xt.exports=M},70433:function(xt){function M(d,b){return d<b}xt.exports=M},82689:function(xt,M,d){var b=d(29932),O=d(97786),k=d(67206),L=d(69199),P=d(71131),A=d(7518),C=d(85022),E=d(6557),p=d(1469);function w(y,x,g){x.length?x=b(x,function(B){return p(B)?function(F){return O(F,B.length===1?B[0]:B)}:B}):x=[E];var S=-1;x=b(x,A(k));var _=L(y,function(B,F,V){var Z=b(x,function(X){return X(B)});return{criteria:Z,index:++S,value:B}});return P(_,function(B,F){return C(B,F,g)})}xt.exports=w},25970:function(xt,M,d){var b=d(63012),O=d(79095);function k(L,P){return b(L,P,function(A,C){return O(L,C)})}xt.exports=k},63012:function(xt,M,d){var b=d(97786),O=d(10611),k=d(71811);function L(P,A,C){for(var E=-1,p=A.length,w={};++E<p;){var y=A[E],x=b(P,y);C(x,y)&&O(w,k(y,P),x)}return w}xt.exports=L},40098:function(xt){var M=Math.ceil,d=Math.max;function b(O,k,L,P){for(var A=-1,C=d(M((k-O)/(L||1)),0),E=Array(C);C--;)E[P?C:++A]=O,O+=L;return E}xt.exports=b},10107:function(xt){function M(d,b,O,k,L){return L(d,function(P,A,C){O=k?(k=!1,P):b(O,P,A,C)}),O}xt.exports=M},10611:function(xt,M,d){var b=d(34865),O=d(71811),k=d(65776),L=d(13218),P=d(40327);function A(C,E,p,w){if(!L(C))return C;E=O(E,C);for(var y=-1,x=E.length,g=x-1,S=C;S!=null&&++y<x;){var _=P(E[y]),B=p;if(_==="__proto__"||_==="constructor"||_==="prototype")return C;if(y!=g){var F=S[_];B=w?w(F,_,S):void 0,B===void 0&&(B=L(F)?F:k(E[y+1])?[]:{})}b(S,_,B),S=S[_]}return C}xt.exports=A},71131:function(xt){function M(d,b){var O=d.length;for(d.sort(b);O--;)d[O]=d[O].value;return d}xt.exports=M},45652:function(xt,M,d){var b=d(88668),O=d(47443),k=d(1196),L=d(74757),P=d(23593),A=d(21814),C=200;function E(p,w,y){var x=-1,g=O,S=p.length,_=!0,B=[],F=B;if(y)_=!1,g=k;else if(S>=C){var V=w?null:P(p);if(V)return A(V);_=!1,g=L,F=new b}else F=w?[]:B;t:for(;++x<S;){var Z=p[x],X=w?w(Z):Z;if(Z=y||Z!==0?Z:0,_&&X===X){for(var U=F.length;U--;)if(F[U]===X)continue t;w&&F.push(X),B.push(Z)}else g(F,X,y)||(F!==B&&F.push(X),B.push(Z))}return B}xt.exports=E},47415:function(xt,M,d){var b=d(29932);function O(k,L){return b(L,function(P){return k[P]})}xt.exports=O},1757:function(xt){function M(d,b,O){for(var k=-1,L=d.length,P=b.length,A={};++k<L;){var C=k<P?b[k]:void 0;O(A,d[k],C)}return A}xt.exports=M},26393:function(xt,M,d){var b=d(33448);function O(k,L){if(k!==L){var P=k!==void 0,A=k===null,C=k===k,E=b(k),p=L!==void 0,w=L===null,y=L===L,x=b(L);if(!w&&!x&&!E&&k>L||E&&p&&y&&!w&&!x||A&&p&&y||!P&&y||!C)return 1;if(!A&&!E&&!x&&k<L||x&&P&&C&&!A&&!E||w&&P&&C||!p&&C||!y)return-1}return 0}xt.exports=O},85022:function(xt,M,d){var b=d(26393);function O(k,L,P){for(var A=-1,C=k.criteria,E=L.criteria,p=C.length,w=P.length;++A<p;){var y=b(C[A],E[A]);if(y){if(A>=w)return y;var x=P[A];return y*(x=="desc"?-1:1)}}return k.index-L.index}xt.exports=O},67740:function(xt,M,d){var b=d(67206),O=d(98612),k=d(3674);function L(P){return function(A,C,E){var p=Object(A);if(!O(A)){var w=b(C,3);A=k(A),C=function(x){return w(p[x],x,p)}}var y=P(A,C,E);return y>-1?p[w?A[y]:y]:void 0}}xt.exports=L},47445:function(xt,M,d){var b=d(40098),O=d(16612),k=d(18601);function L(P){return function(A,C,E){return E&&typeof E!="number"&&O(A,C,E)&&(C=E=void 0),A=k(A),C===void 0?(C=A,A=0):C=k(C),E=E===void 0?A<C?1:-1:k(E),b(A,C,E,P)}}xt.exports=L},23593:function(xt,M,d){var b=d(58525),O=d(50308),k=d(21814),L=1/0,P=b&&1/k(new b([,-0]))[1]==L?function(A){return new b(A)}:O;xt.exports=P},99021:function(xt,M,d){var b=d(85564),O=d(45357),k=d(30061);function L(P){return k(O(P,void 0,b),P+"")}xt.exports=L},37285:function(xt,M,d){var b=d(62705),O=d(35694),k=d(1469),L=b?b.isConcatSpreadable:void 0;function P(A){return k(A)||O(A)||!!(L&&A&&A[L])}xt.exports=P},42351:function(xt){function M(d,b,O){for(var k=O-1,L=d.length;++k<L;)if(d[k]===b)return k;return-1}xt.exports=M},88016:function(xt,M,d){var b=d(48983),O=d(62689),k=d(21903);function L(P){return O(P)?k(P):b(P)}xt.exports=L},21903:function(xt){var M="\\ud800-\\udfff",d="\\u0300-\\u036f",b="\\ufe20-\\ufe2f",O="\\u20d0-\\u20ff",k=d+b+O,L="\\ufe0e\\ufe0f",P="["+M+"]",A="["+k+"]",C="\\ud83c[\\udffb-\\udfff]",E="(?:"+A+"|"+C+")",p="[^"+M+"]",w="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",g=E+"?",S="["+L+"]?",_="(?:"+x+"(?:"+[p,w,y].join("|")+")"+S+g+")*",B=S+g+_,F="(?:"+[p+A+"?",A,w,y,P].join("|")+")",V=RegExp(C+"(?="+C+")|"+F+B,"g");function Z(X){for(var U=V.lastIndex=0;V.test(X);)++U;return U}xt.exports=Z},66678:function(xt,M,d){var b=d(85990),O=4;function k(L){return b(L,O)}xt.exports=k},91747:function(xt,M,d){var b=d(5976),O=d(77813),k=d(16612),L=d(81704),P=Object.prototype,A=P.hasOwnProperty,C=b(function(E,p){E=Object(E);var w=-1,y=p.length,x=y>2?p[2]:void 0;for(x&&k(p[0],p[1],x)&&(y=1);++w<y;)for(var g=p[w],S=L(g),_=-1,B=S.length;++_<B;){var F=S[_],V=E[F];(V===void 0||O(V,P[F])&&!A.call(E,F))&&(E[F]=g[F])}return E});xt.exports=C},63105:function(xt,M,d){var b=d(34963),O=d(80760),k=d(67206),L=d(1469);function P(A,C){var E=L(A)?b:O;return E(A,k(C,3))}xt.exports=P},13311:function(xt,M,d){var b=d(67740),O=d(30998),k=b(O);xt.exports=k},30998:function(xt,M,d){var b=d(41848),O=d(67206),k=d(40554),L=Math.max;function P(A,C,E){var p=A==null?0:A.length;if(!p)return-1;var w=E==null?0:k(E);return w<0&&(w=L(p+w,0)),b(A,O(C,3),w)}xt.exports=P},85564:function(xt,M,d){var b=d(21078);function O(k){var L=k==null?0:k.length;return L?b(k,1):[]}xt.exports=O},62620:function(xt,M,d){var b=d(28483),O=d(54290),k=d(81704);function L(P,A){return P==null?P:b(P,O(A),k)}xt.exports=L},18721:function(xt,M,d){var b=d(78565),O=d(222);function k(L,P){return L!=null&&O(L,P,b)}xt.exports=k},41609:function(xt,M,d){var b=d(280),O=d(64160),k=d(35694),L=d(1469),P=d(98612),A=d(44144),C=d(25726),E=d(36719),p="[object Map]",w="[object Set]",y=Object.prototype,x=y.hasOwnProperty;function g(S){if(S==null)return!0;if(P(S)&&(L(S)||typeof S=="string"||typeof S.splice=="function"||A(S)||E(S)||k(S)))return!S.length;var _=O(S);if(_==p||_==w)return!S.size;if(C(S))return!b(S).length;for(var B in S)if(x.call(S,B))return!1;return!0}xt.exports=g},52353:function(xt){function M(d){return d===void 0}xt.exports=M},10928:function(xt){function M(d){var b=d==null?0:d.length;return b?d[b-1]:void 0}xt.exports=M},66604:function(xt,M,d){var b=d(89465),O=d(47816),k=d(67206);function L(P,A){var C={};return A=k(A,3),O(P,function(E,p,w){b(C,p,A(E,p,w))}),C}xt.exports=L},6162:function(xt,M,d){var b=d(56029),O=d(53325),k=d(6557);function L(P){return P&&P.length?b(P,k,O):void 0}xt.exports=L},53632:function(xt,M,d){var b=d(56029),O=d(70433),k=d(6557);function L(P){return P&&P.length?b(P,k,O):void 0}xt.exports=L},22762:function(xt,M,d){var b=d(56029),O=d(67206),k=d(70433);function L(P,A){return P&&P.length?b(P,O(A,2),k):void 0}xt.exports=L},50308:function(xt){function M(){}xt.exports=M},78718:function(xt,M,d){var b=d(25970),O=d(99021),k=O(function(L,P){return L==null?{}:b(L,P)});xt.exports=k},96026:function(xt,M,d){var b=d(47445),O=b();xt.exports=O},54061:function(xt,M,d){var b=d(62663),O=d(89881),k=d(67206),L=d(10107),P=d(1469);function A(C,E,p){var w=P(C)?b:L,y=arguments.length<3;return w(C,k(E,4),p,y,O)}xt.exports=A},84238:function(xt,M,d){var b=d(280),O=d(64160),k=d(98612),L=d(47037),P=d(88016),A="[object Map]",C="[object Set]";function E(p){if(p==null)return 0;if(k(p))return L(p)?P(p):p.length;var w=O(p);return w==A||w==C?p.size:b(p).length}xt.exports=E},89734:function(xt,M,d){var b=d(21078),O=d(82689),k=d(5976),L=d(16612),P=k(function(A,C){if(A==null)return[];var E=C.length;return E>1&&L(A,C[0],C[1])?C=[]:E>2&&L(C[0],C[1],C[2])&&(C=[C[0]]),O(A,b(C,1),[])});xt.exports=P},18601:function(xt,M,d){var b=d(14841),O=1/0,k=17976931348623157e292;function L(P){if(!P)return P===0?P:0;if(P=b(P),P===O||P===-O){var A=P<0?-1:1;return A*k}return P===P?P:0}xt.exports=L},40554:function(xt,M,d){var b=d(18601);function O(k){var L=b(k),P=L%1;return L===L?P?L-P:L:0}xt.exports=O},68718:function(xt,M,d){var b=d(77412),O=d(3118),k=d(47816),L=d(67206),P=d(85924),A=d(1469),C=d(44144),E=d(23560),p=d(13218),w=d(36719);function y(x,g,S){var _=A(x),B=_||C(x)||w(x);if(g=L(g,4),S==null){var F=x&&x.constructor;B?S=_?new F:[]:p(x)?S=E(F)?O(P(x)):{}:S={}}return(B?b:k)(x,function(V,Z,X){return g(S,V,Z,X)}),S}xt.exports=y},93386:function(xt,M,d){var b=d(21078),O=d(5976),k=d(45652),L=d(29246),P=O(function(A){return k(b(A,1,L,!0))});xt.exports=P},73955:function(xt,M,d){var b=d(79833),O=0;function k(L){var P=++O;return b(L)+P}xt.exports=k},52628:function(xt,M,d){var b=d(47415),O=d(3674);function k(L){return L==null?[]:b(L,O(L))}xt.exports=k},7287:function(xt,M,d){var b=d(34865),O=d(1757);function k(L,P){return O(L||[],P||[],b)}xt.exports=k},86851:function(xt,M,d){"use strict";var b=d(89594),O=Array.prototype.concat,k=Array.prototype.slice,L=xt.exports=function(A){for(var C=[],E=0,p=A.length;E<p;E++){var w=A[E];b(w)?C=O.call(C,k.call(w)):C.push(w)}return C};L.wrap=function(P){return function(){return P(L(arguments))}}},89594:function(xt){xt.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},65353:function(xt,M,d){"use strict";d.r(M),d.d(M,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return L},__decorate:function(){return P},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return x},__generator:function(){return g},__createBinding:function(){return S},__exportStar:function(){return _},__values:function(){return B},__read:function(){return F},__spread:function(){return V},__spreadArrays:function(){return Z},__spreadArray:function(){return X},__await:function(){return U},__asyncGenerator:function(){return nt},__asyncDelegator:function(){return q},__asyncValues:function(){return wt},__makeTemplateObject:function(){return ft},__importStar:function(){return St},__importDefault:function(){return At},__classPrivateFieldGet:function(){return Et},__classPrivateFieldSet:function(){return bt},__classPrivateFieldIn:function(){return Lt},__addDisposableResource:function(){return Bt},__disposeResources:function(){return J}});var b=function(I,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,N){R.__proto__=N}||function(R,N){for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(R[z]=N[z])},b(I,u)};function O(I,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");b(I,u);function R(){this.constructor=I}I.prototype=u===null?Object.create(u):(R.prototype=u.prototype,new R)}var k=function(){return k=Object.assign||function(u){for(var R,N=1,z=arguments.length;N<z;N++){R=arguments[N];for(var j in R)Object.prototype.hasOwnProperty.call(R,j)&&(u[j]=R[j])}return u},k.apply(this,arguments)};function L(I,u){var R={};for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&u.indexOf(N)<0&&(R[N]=I[N]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,N=Object.getOwnPropertySymbols(I);z<N.length;z++)u.indexOf(N[z])<0&&Object.prototype.propertyIsEnumerable.call(I,N[z])&&(R[N[z]]=I[N[z]]);return R}function P(I,u,R,N){var z=arguments.length,j=z<3?u:N===null?N=Object.getOwnPropertyDescriptor(u,R):N,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(I,u,R,N);else for(var at=I.length-1;at>=0;at--)(K=I[at])&&(j=(z<3?K(j):z>3?K(u,R,j):K(u,R))||j);return z>3&&j&&Object.defineProperty(u,R,j),j}function A(I,u){return function(R,N){u(R,N,I)}}function C(I,u,R,N,z,j){function K(mt){if(mt!==void 0&&typeof mt!="function")throw new TypeError("Function expected");return mt}for(var at=N.kind,Tt=at==="getter"?"get":at==="setter"?"set":"value",pt=!u&&I?N.static?I:I.prototype:null,Q=u||(pt?Object.getOwnPropertyDescriptor(pt,N.name):{}),vt,et=!1,it=R.length-1;it>=0;it--){var ct={};for(var rt in N)ct[rt]=rt==="access"?{}:N[rt];for(var rt in N.access)ct.access[rt]=N.access[rt];ct.addInitializer=function(mt){if(et)throw new TypeError("Cannot add initializers after decoration has completed");j.push(K(mt||null))};var tt=(0,R[it])(at==="accessor"?{get:Q.get,set:Q.set}:Q[Tt],ct);if(at==="accessor"){if(tt===void 0)continue;if(tt===null||typeof tt!="object")throw new TypeError("Object expected");(vt=K(tt.get))&&(Q.get=vt),(vt=K(tt.set))&&(Q.set=vt),(vt=K(tt.init))&&z.unshift(vt)}else(vt=K(tt))&&(at==="field"?z.unshift(vt):Q[Tt]=vt)}pt&&Object.defineProperty(pt,N.name,Q),et=!0}function E(I,u,R){for(var N=arguments.length>2,z=0;z<u.length;z++)R=N?u[z].call(I,R):u[z].call(I);return N?R:void 0}function p(I){return typeof I=="symbol"?I:"".concat(I)}function w(I,u,R){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(I,"name",{configurable:!0,value:R?"".concat(R," ",u):u})}function y(I,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,u)}function x(I,u,R,N){function z(j){return j instanceof R?j:new R(function(K){K(j)})}return new(R||(R=Promise))(function(j,K){function at(Q){try{pt(N.next(Q))}catch(vt){K(vt)}}function Tt(Q){try{pt(N.throw(Q))}catch(vt){K(vt)}}function pt(Q){Q.done?j(Q.value):z(Q.value).then(at,Tt)}pt((N=N.apply(I,u||[])).next())})}function g(I,u){var R={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},N,z,j,K;return K={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function at(pt){return function(Q){return Tt([pt,Q])}}function Tt(pt){if(N)throw new TypeError("Generator is already executing.");for(;K&&(K=0,pt[0]&&(R=0)),R;)try{if(N=1,z&&(j=pt[0]&2?z.return:pt[0]?z.throw||((j=z.return)&&j.call(z),0):z.next)&&!(j=j.call(z,pt[1])).done)return j;switch(z=0,j&&(pt=[pt[0]&2,j.value]),pt[0]){case 0:case 1:j=pt;break;case 4:return R.label++,{value:pt[1],done:!1};case 5:R.label++,z=pt[1],pt=[0];continue;case 7:pt=R.ops.pop(),R.trys.pop();continue;default:if(j=R.trys,!(j=j.length>0&&j[j.length-1])&&(pt[0]===6||pt[0]===2)){R=0;continue}if(pt[0]===3&&(!j||pt[1]>j[0]&&pt[1]<j[3])){R.label=pt[1];break}if(pt[0]===6&&R.label<j[1]){R.label=j[1],j=pt;break}if(j&&R.label<j[2]){R.label=j[2],R.ops.push(pt);break}j[2]&&R.ops.pop(),R.trys.pop();continue}pt=u.call(I,R)}catch(Q){pt=[6,Q],z=0}finally{N=j=0}if(pt[0]&5)throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}}var S=Object.create?function(I,u,R,N){N===void 0&&(N=R);var z=Object.getOwnPropertyDescriptor(u,R);(!z||("get"in z?!u.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return u[R]}}),Object.defineProperty(I,N,z)}:function(I,u,R,N){N===void 0&&(N=R),I[N]=u[R]};function _(I,u){for(var R in I)R!=="default"&&!Object.prototype.hasOwnProperty.call(u,R)&&S(u,I,R)}function B(I){var u=typeof Symbol=="function"&&Symbol.iterator,R=u&&I[u],N=0;if(R)return R.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&N>=I.length&&(I=void 0),{value:I&&I[N++],done:!I}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(I,u){var R=typeof Symbol=="function"&&I[Symbol.iterator];if(!R)return I;var N=R.call(I),z,j=[],K;try{for(;(u===void 0||u-- >0)&&!(z=N.next()).done;)j.push(z.value)}catch(at){K={error:at}}finally{try{z&&!z.done&&(R=N.return)&&R.call(N)}finally{if(K)throw K.error}}return j}function V(){for(var I=[],u=0;u<arguments.length;u++)I=I.concat(F(arguments[u]));return I}function Z(){for(var I=0,u=0,R=arguments.length;u<R;u++)I+=arguments[u].length;for(var N=Array(I),z=0,u=0;u<R;u++)for(var j=arguments[u],K=0,at=j.length;K<at;K++,z++)N[z]=j[K];return N}function X(I,u,R){if(R||arguments.length===2)for(var N=0,z=u.length,j;N<z;N++)(j||!(N in u))&&(j||(j=Array.prototype.slice.call(u,0,N)),j[N]=u[N]);return I.concat(j||Array.prototype.slice.call(u))}function U(I){return this instanceof U?(this.v=I,this):new U(I)}function nt(I,u,R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=R.apply(I,u||[]),z,j=[];return z={},K("next"),K("throw"),K("return"),z[Symbol.asyncIterator]=function(){return this},z;function K(et){N[et]&&(z[et]=function(it){return new Promise(function(ct,rt){j.push([et,it,ct,rt])>1||at(et,it)})})}function at(et,it){try{Tt(N[et](it))}catch(ct){vt(j[0][3],ct)}}function Tt(et){et.value instanceof U?Promise.resolve(et.value.v).then(pt,Q):vt(j[0][2],et)}function pt(et){at("next",et)}function Q(et){at("throw",et)}function vt(et,it){et(it),j.shift(),j.length&&at(j[0][0],j[0][1])}}function q(I){var u,R;return u={},N("next"),N("throw",function(z){throw z}),N("return"),u[Symbol.iterator]=function(){return this},u;function N(z,j){u[z]=I[z]?function(K){return(R=!R)?{value:U(I[z](K)),done:!1}:j?j(K):K}:j}}function wt(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=I[Symbol.asyncIterator],R;return u?u.call(I):(I=typeof B=="function"?B(I):I[Symbol.iterator](),R={},N("next"),N("throw"),N("return"),R[Symbol.asyncIterator]=function(){return this},R);function N(j){R[j]=I[j]&&function(K){return new Promise(function(at,Tt){K=I[j](K),z(at,Tt,K.done,K.value)})}}function z(j,K,at,Tt){Promise.resolve(Tt).then(function(pt){j({value:pt,done:at})},K)}}function ft(I,u){return Object.defineProperty?Object.defineProperty(I,"raw",{value:u}):I.raw=u,I}var Ot=Object.create?function(I,u){Object.defineProperty(I,"default",{enumerable:!0,value:u})}:function(I,u){I.default=u};function St(I){if(I&&I.__esModule)return I;var u={};if(I!=null)for(var R in I)R!=="default"&&Object.prototype.hasOwnProperty.call(I,R)&&S(u,I,R);return Ot(u,I),u}function At(I){return I&&I.__esModule?I:{default:I}}function Et(I,u,R,N){if(R==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?I!==u||!N:!u.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return R==="m"?N:R==="a"?N.call(I):N?N.value:u.get(I)}function bt(I,u,R,N,z){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!z)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?I!==u||!z:!u.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?z.call(I,R):z?z.value=R:u.set(I,R),R}function Lt(I,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof I=="function"?u===I:I.has(u)}function Bt(I,u,R){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var N;if(R){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");N=u[Symbol.asyncDispose]}if(N===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");N=u[Symbol.dispose]}if(typeof N!="function")throw new TypeError("Object not disposable.");I.stack.push({value:u,dispose:N,async:R})}else R&&I.stack.push({async:!0});return u}var gt=typeof SuppressedError=="function"?SuppressedError:function(I,u,R){var N=new Error(R);return N.name="SuppressedError",N.error=I,N.suppressed=u,N};function J(I){function u(N){I.error=I.hasError?new gt(N,I.error,"An error was suppressed during disposal."):N,I.hasError=!0}function R(){for(;I.stack.length;){var N=I.stack.pop();try{var z=N.dispose&&N.dispose.call(N.value);if(N.async)return Promise.resolve(z).then(R,function(j){return u(j),R()})}catch(j){u(j)}}if(I.hasError)throw I.error}return R()}M.default={__extends:O,__assign:k,__rest:L,__decorate:P,__param:A,__metadata:y,__awaiter:x,__generator:g,__createBinding:S,__exportStar:_,__values:B,__read:F,__spread:V,__spreadArrays:Z,__spreadArray:X,__await:U,__asyncGenerator:nt,__asyncDelegator:q,__asyncValues:wt,__makeTemplateObject:ft,__importStar:St,__importDefault:At,__classPrivateFieldGet:Et,__classPrivateFieldSet:bt,__classPrivateFieldIn:Lt,__addDisposableResource:Bt,__disposeResources:J}},91496:function(xt){typeof Object.create=="function"?xt.exports=function(d,b){d.super_=b,d.prototype=Object.create(b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:xt.exports=function(d,b){d.super_=b;var O=function(){};O.prototype=b.prototype,d.prototype=new O,d.prototype.constructor=d}},20384:function(xt){xt.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},89539:function(xt,M,d){var b=d(34155),O=Object.getOwnPropertyDescriptors||function(z){for(var j=Object.keys(z),K={},at=0;at<j.length;at++)K[j[at]]=Object.getOwnPropertyDescriptor(z,j[at]);return K},k=/%[sdj%]/g;M.format=function(N){if(!U(N)){for(var z=[],j=0;j<arguments.length;j++)z.push(A(arguments[j]));return z.join(" ")}for(var j=1,K=arguments,at=K.length,Tt=String(N).replace(k,function(Q){if(Q==="%%")return"%";if(j>=at)return Q;switch(Q){case"%s":return String(K[j++]);case"%d":return Number(K[j++]);case"%j":try{return JSON.stringify(K[j++])}catch(vt){return"[Circular]"}default:return Q}}),pt=K[j];j<at;pt=K[++j])V(pt)||!ft(pt)?Tt+=" "+pt:Tt+=" "+A(pt);return Tt},M.deprecate=function(N,z){if(typeof b!="undefined"&&b.noDeprecation===!0)return N;if(typeof b=="undefined")return function(){return M.deprecate(N,z).apply(this,arguments)};var j=!1;function K(){if(!j){if(b.throwDeprecation)throw new Error(z);b.traceDeprecation?console.trace(z):console.error(z),j=!0}return N.apply(this,arguments)}return K};var L={},P;M.debuglog=function(N){if(q(P)&&(P={NODE_ENV:"production"}.NODE_DEBUG||""),N=N.toUpperCase(),!L[N])if(new RegExp("\\b"+N+"\\b","i").test(P)){var z=b.pid;L[N]=function(){var j=M.format.apply(M,arguments);console.error("%s %d: %s",N,z,j)}}else L[N]=function(){};return L[N]};function A(N,z){var j={seen:[],stylize:E};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),F(z)?j.showHidden=z:z&&M._extend(j,z),q(j.showHidden)&&(j.showHidden=!1),q(j.depth)&&(j.depth=2),q(j.colors)&&(j.colors=!1),q(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=C),w(j,N,j.depth)}M.inspect=A,A.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},A.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function C(N,z){var j=A.styles[z];return j?"["+A.colors[j][0]+"m"+N+"["+A.colors[j][1]+"m":N}function E(N,z){return N}function p(N){var z={};return N.forEach(function(j,K){z[j]=!0}),z}function w(N,z,j){if(N.customInspect&&z&&At(z.inspect)&&z.inspect!==M.inspect&&!(z.constructor&&z.constructor.prototype===z)){var K=z.inspect(j,N);return U(K)||(K=w(N,K,j)),K}var at=y(N,z);if(at)return at;var Tt=Object.keys(z),pt=p(Tt);if(N.showHidden&&(Tt=Object.getOwnPropertyNames(z)),St(z)&&(Tt.indexOf("message")>=0||Tt.indexOf("description")>=0))return x(z);if(Tt.length===0){if(At(z)){var Q=z.name?": "+z.name:"";return N.stylize("[Function"+Q+"]","special")}if(wt(z))return N.stylize(RegExp.prototype.toString.call(z),"regexp");if(Ot(z))return N.stylize(Date.prototype.toString.call(z),"date");if(St(z))return x(z)}var vt="",et=!1,it=["{","}"];if(B(z)&&(et=!0,it=["[","]"]),At(z)){var ct=z.name?": "+z.name:"";vt=" [Function"+ct+"]"}if(wt(z)&&(vt=" "+RegExp.prototype.toString.call(z)),Ot(z)&&(vt=" "+Date.prototype.toUTCString.call(z)),St(z)&&(vt=" "+x(z)),Tt.length===0&&(!et||z.length==0))return it[0]+vt+it[1];if(j<0)return wt(z)?N.stylize(RegExp.prototype.toString.call(z),"regexp"):N.stylize("[Object]","special");N.seen.push(z);var rt;return et?rt=g(N,z,j,pt,Tt):rt=Tt.map(function(tt){return S(N,z,j,pt,tt,et)}),N.seen.pop(),_(rt,vt,it)}function y(N,z){if(q(z))return N.stylize("undefined","undefined");if(U(z)){var j="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return N.stylize(j,"string")}if(X(z))return N.stylize(""+z,"number");if(F(z))return N.stylize(""+z,"boolean");if(V(z))return N.stylize("null","null")}function x(N){return"["+Error.prototype.toString.call(N)+"]"}function g(N,z,j,K,at){for(var Tt=[],pt=0,Q=z.length;pt<Q;++pt)J(z,String(pt))?Tt.push(S(N,z,j,K,String(pt),!0)):Tt.push("");return at.forEach(function(vt){vt.match(/^\d+$/)||Tt.push(S(N,z,j,K,vt,!0))}),Tt}function S(N,z,j,K,at,Tt){var pt,Q,vt;if(vt=Object.getOwnPropertyDescriptor(z,at)||{value:z[at]},vt.get?vt.set?Q=N.stylize("[Getter/Setter]","special"):Q=N.stylize("[Getter]","special"):vt.set&&(Q=N.stylize("[Setter]","special")),J(K,at)||(pt="["+at+"]"),Q||(N.seen.indexOf(vt.value)<0?(V(j)?Q=w(N,vt.value,null):Q=w(N,vt.value,j-1),Q.indexOf(`
`)>-1&&(Tt?Q=Q.split(`
`).map(function(et){return"  "+et}).join(`
`).substr(2):Q=`
`+Q.split(`
`).map(function(et){return"   "+et}).join(`
`))):Q=N.stylize("[Circular]","special")),q(pt)){if(Tt&&at.match(/^\d+$/))return Q;pt=JSON.stringify(""+at),pt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(pt=pt.substr(1,pt.length-2),pt=N.stylize(pt,"name")):(pt=pt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),pt=N.stylize(pt,"string"))}return pt+": "+Q}function _(N,z,j){var K=0,at=N.reduce(function(Tt,pt){return K++,pt.indexOf(`
`)>=0&&K++,Tt+pt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return at>60?j[0]+(z===""?"":z+`
 `)+" "+N.join(`,
  `)+" "+j[1]:j[0]+z+" "+N.join(", ")+" "+j[1]}function B(N){return Array.isArray(N)}M.isArray=B;function F(N){return typeof N=="boolean"}M.isBoolean=F;function V(N){return N===null}M.isNull=V;function Z(N){return N==null}M.isNullOrUndefined=Z;function X(N){return typeof N=="number"}M.isNumber=X;function U(N){return typeof N=="string"}M.isString=U;function nt(N){return typeof N=="symbol"}M.isSymbol=nt;function q(N){return N===void 0}M.isUndefined=q;function wt(N){return ft(N)&&bt(N)==="[object RegExp]"}M.isRegExp=wt;function ft(N){return typeof N=="object"&&N!==null}M.isObject=ft;function Ot(N){return ft(N)&&bt(N)==="[object Date]"}M.isDate=Ot;function St(N){return ft(N)&&(bt(N)==="[object Error]"||N instanceof Error)}M.isError=St;function At(N){return typeof N=="function"}M.isFunction=At;function Et(N){return N===null||typeof N=="boolean"||typeof N=="number"||typeof N=="string"||typeof N=="symbol"||typeof N=="undefined"}M.isPrimitive=Et,M.isBuffer=d(20384);function bt(N){return Object.prototype.toString.call(N)}function Lt(N){return N<10?"0"+N.toString(10):N.toString(10)}var Bt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function gt(){var N=new Date,z=[Lt(N.getHours()),Lt(N.getMinutes()),Lt(N.getSeconds())].join(":");return[N.getDate(),Bt[N.getMonth()],z].join(" ")}M.log=function(){console.log("%s - %s",gt(),M.format.apply(M,arguments))},M.inherits=d(91496),M._extend=function(N,z){if(!z||!ft(z))return N;for(var j=Object.keys(z),K=j.length;K--;)N[j[K]]=z[j[K]];return N};function J(N,z){return Object.prototype.hasOwnProperty.call(N,z)}var I=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;M.promisify=function(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');if(I&&z[I]){var j=z[I];if(typeof j!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(j,I,{value:j,enumerable:!1,writable:!1,configurable:!0}),j}function j(){for(var K,at,Tt=new Promise(function(vt,et){K=vt,at=et}),pt=[],Q=0;Q<arguments.length;Q++)pt.push(arguments[Q]);pt.push(function(vt,et){vt?at(vt):K(et)});try{z.apply(this,pt)}catch(vt){at(vt)}return Tt}return Object.setPrototypeOf(j,Object.getPrototypeOf(z)),I&&Object.defineProperty(j,I,{value:j,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(j,O(z))},M.promisify.custom=I;function u(N,z){if(!N){var j=new Error("Promise was rejected with a falsy value");j.reason=N,N=j}return z(N)}function R(N){if(typeof N!="function")throw new TypeError('The "original" argument must be of type Function');function z(){for(var j=[],K=0;K<arguments.length;K++)j.push(arguments[K]);var at=j.pop();if(typeof at!="function")throw new TypeError("The last argument must be of type Function");var Tt=this,pt=function(){return at.apply(Tt,arguments)};N.apply(this,j).then(function(Q){b.nextTick(pt,null,Q)},function(Q){b.nextTick(u,Q,pt)})}return Object.setPrototypeOf(z,Object.getPrototypeOf(N)),Object.defineProperties(z,O(N)),z}M.callbackify=R}}]);

//# sourceMappingURL=7420.fe5fa651.async.js.map