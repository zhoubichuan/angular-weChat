(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1287],{54007:function(ft,S,v){"use strict";v.d(S,{sg:function(){return Qy},yi:function(){return e0},aC:function(){return a0},x1:function(){return v0},Kj:function(){return p0},Ex:function(){return S0},Fk:function(){return C0},TZ:function(){return P0},m:function(){return N0},cQ:function(){return G0},kB:function(){return H0}});var x={};v.r(x),v.d(x,{Base:function(){return _a},Circle:function(){return xb},Ellipse:function(){return wb},Image:function(){return Mb},Line:function(){return Eb},Marker:function(){return Pb},Path:function(){return Bu},Polygon:function(){return Yb},Polyline:function(){return zb},Rect:function(){return Wb},Text:function(){return Ub}});var O={};v.r(O),v.d(O,{Canvas:function(){return Lc},Event:function(){return lr.Event},Group:function(){return Lu},Shape:function(){return x},__esModule:function(){return Zb.X},version:function(){return qb}});var k={};v.r(k),v.d(k,{Base:function(){return Ca},Circle:function(){return aw},Dom:function(){return sw},Ellipse:function(){return uw},Image:function(){return hw},Line:function(){return vw},Marker:function(){return pw},Path:function(){return yw},Polygon:function(){return xw},Polyline:function(){return ww},Rect:function(){return Aw},Text:function(){return Iw}});var _={};v.r(_),v.d(_,{Canvas:function(){return Gc},Event:function(){return lr.Event},Group:function(){return Fu},Shape:function(){return k},version:function(){return tS}});var T={};v.r(T),v.d(T,{Chart:function(){return w1},ComponentController:function(){return Oo},DIRECTION:function(){return G},Event:function(){return hn},Facet:function(){return zr},Geometry:function(){return Va},GeometryLabel:function(){return Bs},Interaction:function(){return aa},InteractionAction:function(){return ct},LAYER:function(){return Y},Types:function(){return $1},Util:function(){return Tv},VERSION:function(){return Q1},View:function(){return xu},getActionClass:function(){return jt},getAnimation:function(){return wu},getEngine:function(){return at},getFacet:function(){return cn},getGeometryLabel:function(){return ec},getGeometryLabelLayout:function(){return rc},getInteraction:function(){return sa},getShapeFactory:function(){return Mu},getTheme:function(){return Pt},registerAction:function(){return Nt},registerAnimation:function(){return wi},registerComponentController:function(){return An},registerEngine:function(){return nt},registerFacet:function(){return Bt},registerGeometry:function(){return Pa},registerGeometryLabel:function(){return $o},registerGeometryLabelLayout:function(){return po},registerInteraction:function(){return bn},registerShape:function(){return Rn},registerShapeFactory:function(){return to},registerTheme:function(){return zt}});var A={};v.r(A),v.d(A,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var C={};v.r(C),v.d(C,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var E={};v.r(E),v.d(E,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var g={};v.r(g),v.d(g,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var w={};v.r(w),v.d(w,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var y={};v.r(y),v.d(y,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var m={};v.r(m),v.d(m,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var p={};v.r(p),v.d(p,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var M={};v.r(M),v.d(M,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var P={};v.r(P),v.d(P,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var B={};v.r(B),v.d(B,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var F={};v.r(F),v.d(F,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var W={};v.r(W),v.d(W,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var Q={};v.r(Q),v.d(Q,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var H={};v.r(H),v.d(H,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var Z={};v.r(Z),v.d(Z,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var ot={};v.r(ot),v.d(ot,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var rt={};v.r(rt),v.d(rt,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var At={};v.r(At),v.d(At,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var pt={};v.r(pt),v.d(pt,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var Ft={};v.r(Ft),v.d(Ft,{EVENT_MAP:function(){return Ln},onEvent:function(){return xi}});var Tt={};v.r(Tt),v.d(Tt,{calculationItemsBBox:function(){return U0},cloneEvent:function(){return Il},formatPadding:function(){return ih},isNaN:function(){return $a},isViewportChanged:function(){return j0},processParallelEdges:function(){return NF}});var Ot={};v.r(Ot),v.d(Ot,{getColorsWithSubjectColor:function(){return em},mixColor:function(){return Ba}});var xt={};v.r(xt),v.d(xt,{Line:function(){return Ao},applyMatrix:function(){return ps},distance:function(){return gs},floydWarshall:function(){return uh},fractionToLine:function(){return vh},getAdjMatrix:function(){return fh},getBBoxBoundLine:function(){return ch},getCircleCenterByPoints:function(){return lh},getCircleIntersectByPoint:function(){return pm},getDegree:function(){return Rl},getEllipseIntersectByPoint:function(){return gm},getLineIntersect:function(){return ds},getPointsCenter:function(){return Mm},getRectIntersectByPoint:function(){return dm},intersectBBox:function(){return wm},invertMatrix:function(){return ym},isPointInPolygon:function(){return ys},isPointsOverlap:function(){return dh},isPolygonsIntersect:function(){return hh},itemIntersectByLine:function(){return Sm},move:function(){return bm},pointLineSquareDist:function(){return Cm},pointRectSquareDist:function(){return Em},rotate:function(){return yR},scale:function(){return gR},scaleMatrix:function(){return mm},squareDist:function(){return Nl},translate:function(){return xm}});var ht={};v.r(ht),v.d(ht,{getClosedSpline:function(){return ph},getControlPoint:function(){return Yl},getSpline:function(){return Am},paddedHull:function(){return Im},pathToPoints:function(){return Gl},pointsToPolygon:function(){return Tm},roundedHull:function(){return Lm}});var kt={};v.r(kt),v.d(kt,{getBBox:function(){return Xl},getChartRegion:function(){return XR},getComboBBox:function(){return bh},getLabelPosition:function(){return Vl},getLetterWidth:function(){return Wm},getLoopCfgs:function(){return Xm},getTextSize:function(){return jm},plainCombosToTrees:function(){return mh},radialLayout:function(){return Hm},reconstructTree:function(){return xh},traverseTree:function(){return Ki},traverseTreeUp:function(){return Aa}});var Gt={};v.r(Gt),v.d(Gt,{adjMatrix:function(){return nu},breadthFirstSearch:function(){return a8},degree:function(){return Cx},depthFirstSearch:function(){return i1},detectAllCycles:function(){return l8},detectAllDirectedCycle:function(){return l1},detectAllUndirectedCycle:function(){return s1},detectDirectedCycle:function(){return u8},findAllPath:function(){return d8},findShortestPath:function(){return v8},floydWarshall:function(){return Px},getConnectedComponents:function(){return o1},getPageRank:function(){return M8},minimumSpanningTree:function(){return w8}});var dt=v(67294),tt=v(67984),I=v(13008),u=v(49242),Y;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(Y||(Y={}));var G;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(G||(G={}));var X;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(X||(X={}));var U={FORE:3,MID:2,BG:1},J;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(J||(J={}));var lt;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(lt||(lt={}));var It;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(It||(It={}));var bt=["color","shape","size"],et="_origin",Ct=1,it=1,st=.25,St={};function at(i){var e=St[i];if(!e)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return e}function nt(i,e){St[i]=e}var mt=v(6056),Dt=v(45442);function ee(i){var e=getComputedStyle(i);return{width:(i.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(i.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function ce(i){return typeof i=="number"&&!isNaN(i)}function le(i,e,t,r){var n=t,a=r;if(e){var o=ee(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(ce(n)?n:Ct,Ct),height:Math.max(ce(a)?a:it,it)}}function Xe(i){var e=i.parentNode;e&&e.removeChild(i)}var Ie=v(90494),Re=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this)||this;r.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return r.visible=a,r}return e.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},e.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(Ie.default),or=Re,lr=v(65722),Ir=v(68060),Er=v(25228),on=v(58368),In=v(13541),fn=v(72469),xn=v(51441),$n=xn.Axis.Line,ui=xn.Axis.Circle,Si=xn.Grid.Line,bi=xn.Grid.Circle,$t=xn.Legend.Category,se=xn.Legend.Continuous,ge=xn.Tooltip.Html,me=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function ke(i){var e="linear";return me.test(i)?e="time":(0,u.isString)(i)&&(e="cat"),e}function Fe(i,e,t){var r=e||[];if((0,u.isNumber)(i)||(0,u.isNil)((0,u.firstValue)(r,i))&&(0,u.isEmpty)(t)){var n=(0,fn.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,u.valuesOfKey)(r,i),o=(0,u.get)(t,"type",ke(a[0])),s=(0,fn.getScale)(o);return new s((0,I.__assign)({field:i,values:a},t))}function Ne(i,e){if(i.type!=="identity"&&e.type!=="identity"){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);i.change(t)}}function Ve(i){return i.alias||i.field}var Te=v(31437);function vr(i){var e,t;switch(i){case G.TOP:e={x:0,y:1},t={x:1,y:1};break;case G.RIGHT:e={x:1,y:0},t={x:1,y:1};break;case G.BOTTOM:e={x:0,y:0},t={x:1,y:0};break;case G.LEFT:e={x:0,y:0},t={x:0,y:1};break;default:e=t={x:0,y:0}}return{start:e,end:t}}function qe(i){var e,t;return i.isTransposed?(e={x:0,y:0},t={x:1,y:0}):(e={x:0,y:0},t={x:0,y:1}),{start:e,end:t}}function yr(i,e){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=vr(e):i.isPolar&&(t=qe(i));var r=t.start,n=t.end;return{start:i.convert(r),end:i.convert(n)}}function Lr(i,e){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(e)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(e)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function wr(i){var e=i.start,t=i.end;return e.x===t.x}function kr(i,e){var t=i.start,r=i.end,n=wr(i);return n?(t.y-r.y)*(e.x-t.x)>0?1:-1:(r.x-t.x)*(t.y-e.y)>0?-1:1}function Br(i,e){return(0,u.get)(i,["components","axis",e],{})}function Nr(i){var e=i.x,t=i.y,r=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-r.x,a.y-r.y],s=[1,0],l=a.y>r.y?Te.angle(o,s):Te.angle(o,s)*-1,f=l+(e.end-e.start),h=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2));return{center:r,radius:h,startAngle:l,endAngle:f}}function gr(i,e){return(0,u.isBoolean)(i)?i===!1?!1:{}:(0,u.get)(i,[e])}function Vr(i,e){return(0,u.get)(i,"position",e)}function Qr(i,e){return(0,u.get)(e,["title","text"],Ve(i))}var zr=function(){function i(e,t){this.destroyed=!1,this.facets=[],this.view=e,this.cfg=(0,u.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var e=this.view.getData();this.facets=this.generateFacets(e)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(e){var t=e.region,r=e.data,n=e.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(r||[]),e.view=o,this.beforeEachView(o,e);var s=this.cfg.eachView;return s&&s(o,e),this.afterEachView(o,e),o},i.prototype.createContainer=function(){var e=this.view.getLayer(Y.FORE);return e.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},i.prototype.clearFacetViews=function(){var e=this;(0,u.each)(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(e,t){var r=[],n={};return(0,u.each)(e,function(a){var o=a[t];!(0,u.isNil)(o)&&!n[o]&&(r.push(o),n[o]=!0)}),r},i.prototype.getRegion=function(e,t,r,n){var a=1/(t===0?1:t),o=1/(e===0?1:e),s={x:a*r,y:o*n},l={x:a*(r+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var e=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:e}}},i.prototype.processAxis=function(e,t){var r=e.getOptions(),n=r.coordinate,a=e.geometries,o=(0,u.get)(n,"type","rect");if(o==="rect"&&a.length){(0,u.isNil)(r.axes)&&(r.axes={});var s=r.axes,l=a[0].getXYFields(),f=l[0],h=l[1],c=gr(s,f),d=gr(s,h);c!==!1&&(r.axes[f]=this.getXAxisOption(f,s,c,t)),d!==!1&&(r.axes[h]=this.getYAxisOption(h,s,d,t))}},i.prototype.getFacetDataFilter=function(e){return function(t){return(0,u.every)(e,function(r){var n=r.field,a=r.value;return!(0,u.isNil)(a)&&n?t[n]===a:!0})}},i}(),tn={},cn=function(i){return tn[(0,u.lowerCase)(i)]},Bt=function(i,e){tn[(0,u.lowerCase)(i)]=e},Ht=function(){function i(e,t){this.context=e,this.cfg=t,e.addAction(this)}return i.prototype.applyCfg=function(e){(0,u.assign)(this,e)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),ct=Ht,R=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},e}(ct),N=R,j={};function _t(i,e){var t=j[i],r=null;if(t){var n=t.ActionClass,a=t.cfg;r=new n(e,a),r.name=i,r.init()}return r}function jt(i){var e=j[i];return(0,u.get)(e,"ActionClass")}function Nt(i,e,t){j[i]={ActionClass:e,cfg:t}}function Ut(i){delete j[i]}function Se(i,e){var t=new N(e);return t.callback=i,t.name="callback",t}function Me(i){if((0,u.isEmpty)(i))return null;var e=i[0].x,t=i[0].x,r=i[0].y,n=i[0].y;return(0,u.each)(i,function(a){e=e>a.x?a.x:e,t=t<a.x?a.x:t,r=r>a.y?a.y:r,n=n<a.y?a.y:n}),{minX:e,maxX:t,minY:r,maxY:n,centerX:(e+t)/2,centerY:(r+n)/2}}function Oe(i,e,t,r){return{x:i+t*Math.cos(r),y:e+t*Math.sin(r)}}function ir(i,e,t,r,n,a){a===void 0&&(a=0);var o=Oe(i,e,t,r),s=Oe(i,e,t,n),l=Oe(i,e,a,r),f=Oe(i,e,a,n);if(n-r==Math.PI*2){var h=Oe(i,e,t,r+Math.PI),c=Oe(i,e,a,r+Math.PI),d=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(d.push(["A",a,a,0,1,0,c.x,c.y]),d.push(["A",a,a,0,1,0,f.x,f.y])),d.push(["M",o.x,o.y]),d.push(["Z"]),d}var b=n-r<=Math.PI?0:1,L=[["M",o.x,o.y],["A",t,t,0,b,1,s.x,s.y],["L",f.x,f.y]];return a&&L.push(["A",a,a,0,b,0,l.x,l.y]),L.push(["L",o.x,o.y]),L.push(["Z"]),L}function We(i,e,t,r,n){var a=Oe(i,e,t,r),o=Oe(i,e,t,n);if((0,u.isNumberEqual)(n-r,Math.PI*2)){var s=Oe(i,e,t,r+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-r<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function Cr(i,e){var t=i.points,r=Me(t),n,a,o=e.startAngle,s=e.endAngle,l=s-o;return e.isTransposed?(n=r.maxY*l,a=r.minY*l):(n=r.maxX*l,a=r.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function en(i,e){if((0,u.isNumber)(i)&&(0,u.isNumber)(e))return[i,e];for(var t=-1,r=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*e[o]-i[o]*e[a],r+=(i[a]+i[o])*s,n+=(e[a]+e[o])*s;return l*=3,[r/l,n/l]}function Be(i,e){var t=i.attr(),r=e.attr();return(0,u.each)(t,function(n,a){r[a]===void 0&&(r[a]=void 0)}),r}function Ue(i,e,t){var r=Math.min(e,t),n=Math.max(e,t);return i>=r&&i<=n}function pr(i,e,t){if((0,u.isString)(i))return i.padEnd(e,t);if((0,u.isArray)(i)){var r=i.length;if(r<e)for(var n=e-r,a=0;a<n;a++)i.push(t)}return i}function Qt(i,e){return e.forEach(function(t){delete i[t]}),i}function Yt(i,e,t){e===void 0&&(e=[]),t===void 0&&(t={});for(var r=0,n=i;r<n.length;r++){var a=n[r];t[a]||(e.push(a),t[a]=!0)}return e}function ae(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var e=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function xe(i){if(i.isPolar){var e=i.startAngle,t=i.endAngle;return t-e==Math.PI*2}return!1}function Le(i,e){var t=i.getCenter();return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ke(i,e){var t=!1;if(i)if(i.type==="theta"){var r=i.start,n=i.end;t=Ue(e.x,r.x,n.x)&&Ue(e.y,r.y,n.y)}else{var a=i.invert(e);t=Ue(a.x,0,1)&&Ue(a.y,0,1)}return t}function ur(i,e){var t=i.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function dr(i,e){e===void 0&&(e=0);var t=i.start,r=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),f=i.getRadius();return{type:"path",startState:{path:ir(l.x,l.y,f+e,o,o)},endState:function(c){var d=(s-o)*c+o,b=ir(l.x,l.y,f+e,o,d);return{path:b}},attrs:{path:ir(l.x,l.y,f+e,o,s)}}}var h;return i.isTransposed?h={height:a+e*2}:h={width:n+e*2},{type:"rect",startState:{x:t.x-e,y:r.y-e,width:i.isTransposed?n+e*2:0,height:i.isTransposed?0:a+e*2},endState:h,attrs:{x:t.x-e,y:r.y-e,width:n+e*2,height:a+e*2}}}function ar(i,e){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var r=1,n=i.length;r<n;r+=1){var a=i[r];t.push(["L",a.x,a.y])}e&&t.push(["Z"])}return t}function gn(i,e){for(var t=[i[0]],r=1,n=i.length;r<n;r=r+2){var a=e.convert({x:i[r],y:i[r+1]});t.push(a.x,a.y)}return t}function _n(i,e,t){var r=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:e[1],y:e[2]},l=[],f=r?"y":"x",h=Math.abs(s[f]-o[f])*(a-n),c=s[f]>=o[f]?1:0,d=h>Math.PI?1:0,b=t.convert(s),L=Le(t,b);if(L>=.5)if(h===Math.PI*2){var D={x:(s.x+o.x)/2,y:(s.y+o.y)/2},V=t.convert(D);l.push(["A",L,L,0,d,c,V.x,V.y]),l.push(["A",L,L,0,d,c,b.x,b.y])}else l.push(["A",L,L,0,d,c,b.x,b.y]);return l}function Wt(i){(0,u.each)(i,function(e,t){var r=e;if(r[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var ne=function(i,e,t,r){var n=[],a,o,s=!!r,l,f;if(s){l=[Infinity,Infinity],f=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var d=i[h];l=Te.min([0,0],l,d),f=Te.max([0,0],f,d)}l=Te.min([0,0],l,r[0]),f=Te.max([0,0],f,r[1])}for(var h=0,b=i.length;h<b;h++){var d=i[h];if(t)a=i[h?h-1:b-1],o=i[(h+1)%b];else if(h===0||h===b-1){n.push(d);continue}else a=i[h-1],o=i[h+1];var L=[0,0];L=Te.sub(L,o,a),L=Te.scale(L,L,e);var D=Te.distance(d,a),V=Te.distance(d,o),$=D+V;$!==0&&(D/=$,V/=$);var K=Te.scale([0,0],L,-D),yt=Te.scale([0,0],L,V),wt=Te.add([0,0],d,K),Rt=Te.add([0,0],d,yt);s&&(wt=Te.max([0,0],wt,l),wt=Te.min([0,0],wt,f),Rt=Te.max([0,0],Rt,l),Rt=Te.min([0,0],Rt,f)),n.push(wt),n.push(Rt)}return t&&n.push(n.shift()),n};function fe(i,e,t){for(var r=!!e,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=ne(n,.4,r,t),l=n.length,f=[],h,c,d,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],d=n[a+1],f.push(["C",h[0],h[1],c[0],c[1],d[0],d[1]]);return r&&(h=s[l],c=s[l+1],d=n[0],f.push(["C",h[0],h[1],c[0],c[1],d[0],d[1]])),f}function Ce(i,e){return ar(i,e)}function Ae(i,e,t){var r=[],n=i[0],a=null;if(i.length<=2)return Ce(i,e);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(r.push(l.x),r.push(l.y),a=l)}var f=t||[[0,0],[1,1]],h=fe(r,e,f);return h.unshift(["M",n.x,n.y]),h}function Ye(i,e){var t=[];return(0,u.each)(e,function(r){var n=r[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(gn(r,i));break;case"z":default:t.push(r);break}}),t}function cr(i,e){var t=[],r,n,a,o;return(0,u.each)(e,function(s,l){var f=s[0];switch(f.toLowerCase()){case"m":case"c":case"q":t.push(gn(s,i));break;case"l":r=e[l-1],n=s,a=i.isTransposed,o=a?r[r.length-2]===n[1]:r[r.length-1]===n[2],o?t=t.concat(_n(r,n,i)):t.push(gn(s,i));break;case"z":default:t.push(s);break}}),Wt(t),t}var sr=function(){function i(e,t,r,n){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=t,this.height=n,this.width=r}return i.fromRange=function(e,t,r,n){return new i(e,t,r-e,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.clone();return(0,u.each)(e,function(n){r.x=Math.min(n.x,r.x),r.y=Math.min(n.y,r.y),r.width=Math.max(n.maxX,r.maxX)-r.x,r.height=Math.max(n.maxY,r.maxY)-r.y}),r},i.prototype.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.clone();return(0,u.each)(e,function(n){r.x=Math.max(n.x,r.x),r.y=Math.max(n.y,r.y),r.width=Math.min(n.maxX,r.maxX)-r.x,r.height=Math.min(n.maxY,r.maxY)-r.y}),r},i.prototype.cut=function(e,t){var r=e.width,n=e.height;switch(t){case G.TOP:case G.TOP_LEFT:case G.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case G.RIGHT:case G.RIGHT_TOP:case G.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-r,this.maxY);case G.BOTTOM:case G.BOTTOM_LEFT:case G.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case G.LEFT:case G.LEFT_TOP:case G.LEFT_BOTTOM:return i.fromRange(this.minX+r,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(e){var t=e[0],r=e[1],n=e[2],a=e[3];return new i(this.x+a,this.y+t,this.width-a-r,this.height-t-n)},i.prototype.exceed=function(e){return[Math.max(-this.minY+e.minY,0),Math.max(this.maxX-e.maxX,0),Math.max(this.maxY-e.maxY,0),Math.max(-this.minX+e.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),Lt=function(i,e){var t=e.start,r=e.end;return new sr(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(r.x-t.x),i.height*Math.abs(r.y-t.y))};function gt(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var ut=v(70146);function Mt(i,e){var t=i.event,r=t.target,n=r.getCanvasBBox();return n.width>=e||n.height>=e?n:null}function Xt(i,e){var t=i.event,r=t.target,n=r.getCanvasBBox();return n.width>=e||n.height>=e?r.attr("path"):null}function ie(i){var e=i.event,t,r=e.target;return r&&(t=r.get("element")),t}function ve(i){var e=i.event,t=e.target,r;return t&&(r=t.get("delegateObject")),r}function be(i){var e=i.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function we(i){return i&&i.component&&i.component.isList()}function He(i){return i&&i.component&&i.component.isSlider()}function $e(i){var e=i.event,t=e.target;return t&&t.get("name")==="mask"}function tr(i,e){var t=i.event.target;if(t.get("type")==="path"){var r=Xt(i,e);return r?Sr(i.view,r):void 0}var n=Mt(i,e);return n?sn(i.view,n):null}function Pr(i,e,t){var r=Mt(i,t);if(!r)return null;var n=i.view,a=Gi(n,e,{x:r.x,y:r.y}),o=Gi(n,e,{x:r.maxX,y:r.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return sn(e,s)}function rr(i){var e=i.geometries,t=[];return(0,u.each)(e,function(r){var n=r.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,u.each)(i.views,function(r){t=t.concat(rr(r))}),t}function Je(i,e,t){var r=rr(i);return r.filter(function(n){return Yr(n,e)===t})}function Xr(i,e){var t=i.geometries,r=[];return(0,u.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(e)});r=r.concat(a)}),r}function Yr(i,e){var t=i.getModel(),r=t.data,n;return(0,u.isArray)(r)?n=r[0][e]:n=r[e],n}function $r(i,e){return!(e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY)}function sn(i,e){var t=rr(i),r=[];return(0,u.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();$r(e,o)&&r.push(n)}),r}function Rr(i){var e=[];return(0,u.each)(i,function(t){var r=t[0];if(r!=="A")for(var n=1;n<t.length;n=n+2)e.push([t[n],t[n+1]]);else{var a=t.length;e.push([t[a-2],t[a-1]])}}),e}function Sr(i,e){var t=rr(i),r=Rr(e),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=Rr(o.attr("path"));else{var l=o.getCanvasBBox();s=gt(l)}return(0,ut.default)(r,s)});return n}function ln(i){return i.getComponents().map(function(e){return e.component})}function kn(i,e){var t=e.x-i.x,r=e.y-i.y;return Math.sqrt(t*t+r*r)}function jn(i,e){if(i.length<=2)return Ce(i,!1);var t=i[0],r=[];(0,u.each)(i,function(a){r.push(a.x),r.push(a.y)});var n=fe(r,e,null);return n.unshift(["M",t.x,t.y]),n}function fi(i,e){return i.x<=e.x&&i.maxX>=e.x&&i.y<=e.y&&i.maxY>e.y}function Ur(i){var e=i.parent,t=null;return e&&(t=e.views.filter(function(r){return r!==i})),t}function Wi(i,e){var t=i.getCoordinate();return t.invert(e)}function Gi(i,e,t){var r=Wi(i,t);return e.getCoordinate().convert(r)}function ti(i,e,t,r){var n=!1;return(0,u.each)(i,function(a){if(a[t]===e[t]&&a[r]===e[r])return n=!0,!1}),n}function Qi(i,e){var t=i.getScaleByField(e);return!t&&i.views&&(0,u.each)(i.views,function(r){if(t=Qi(r,e),t)return!1}),t}var ca=function(){function i(e){this.actions=[],this.event=null,this.cacheMap={},this.view=e}return i.prototype.cache=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1)return this.cacheMap[e[0]];e.length===2&&(this.cacheMap[e[0]]=e[1])},i.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},i.prototype.addAction=function(e){this.actions.push(e)},i.prototype.removeAction=function(e){var t=this.actions,r=this.actions.indexOf(e);r>=0&&t.splice(r,1)},i.prototype.getCurrentPoint=function(){var e=this.event;if(e)if(e.target instanceof HTMLElement){var t=this.view.getCanvas(),r=t.getPointByClient(e.clientX,e.clientY);return r}else return{x:e.x,y:e.y};return null},i.prototype.getCurrentShape=function(){return(0,u.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var e=this.getCurrentPoint();return e?this.view.isPointInPlot(e):!1},i.prototype.isInShape=function(e){var t=this.getCurrentShape();return t?t.get("name")===e:!1},i.prototype.isInComponent=function(e){var t=ln(this.view),r=this.getCurrentPoint();return r?!!t.find(function(n){var a=n.getBBox();return e?n.get("name")===e&&fi(a,r):fi(a,r)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,u.each)(this.actions.slice(),function(e){e.destroy()}),this.actions=null,this.cacheMap=null},i}(),Mi=ca,wa=function(){function i(e,t){this.view=e,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),aa=wa;function va(i,e){var t=i.split(":"),r=t[0],n=e.getAction(r)||_t(r,e);if(!n)throw new Error("There is no action named "+r);var a=t[1];return{action:n,methodName:a}}function _i(i){var e=i.action,t=i.methodName;if(e[t])e[t]();else throw new Error("Action("+e.name+") doesn't have a method called "+t)}var vi={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},di=function(i){(0,I.__extends)(e,i);function e(t,r){var n=i.call(this,t,r)||this;return n.callbackCaches={},n.emitCaches={},n.steps=r,n}return e.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;(0,u.each)(this.steps,function(r,n){(0,u.each)(r,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},e.prototype.clearEvents=function(){var t=this;(0,u.each)(this.steps,function(r,n){(0,u.each)(r,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},e.prototype.initContext=function(){var t=this.view,r=new Mi(t);this.context=r;var n=this.steps;(0,u.each)(n,function(a){(0,u.each)(a,function(o){if((0,u.isFunction)(o.action))o.actionObject={action:Se(o.action,r),methodName:"execute"};else if((0,u.isString)(o.action))o.actionObject=va(o.action,r);else if((0,u.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,u.each)(s,function(l){o.actionObject.push(va(l,r))})}})})},e.prototype.isAllowStep=function(t){var r=this.currentStepName,n=this.steps;if(r===t||t===vi.SHOW_ENABLE)return!0;if(t===vi.PROCESSING)return r===vi.START;if(t===vi.START)return r!==vi.PROCESSING;if(t===vi.END)return r===vi.PROCESSING||r===vi.START;if(t===vi.ROLLBACK){if(n[vi.END])return r===vi.END;if(r===vi.START)return!0}return!1},e.prototype.isAllowExcute=function(t,r){if(this.isAllowStep(t)){var n=this.getKey(t,r);return r.once&&this.emitCaches[n]?!1:r.isEnable?r.isEnable(this.context):!0}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,r){t!==vi.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,r);this.emitCaches[n]=!0},e.prototype.getKey=function(t,r){return t+r.trigger+r.action},e.prototype.getActionCallback=function(t,r){var n=this,a=this.context,o=this.callbackCaches,s=r.actionObject;if(r.action&&s){var l=this.getKey(t,r);if(!o[l]){var f=function(h){a.event=h,n.isAllowExcute(t,r)?((0,u.isArray)(s)?(0,u.each)(s,function(c){a.event=h,_i(c)}):(a.event=h,_i(s)),n.afterExecute(t,r),r.callback&&(a.event=h,r.callback(a))):a.event=null};r.debounce?o[l]=(0,u.debounce)(f,r.debounce.wait,r.debounce.immediate):r.throttle?o[l]=(0,u.throttle)(f,r.throttle.wait,{leading:r.throttle.leading,trailing:r.throttle.trailing}):o[l]=f}return o[l]}return null},e.prototype.bindEvent=function(t,r){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],r):n[0]==="document"?document.addEventListener(n[1],r):this.view.on(t,r)},e.prototype.offEvent=function(t,r){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],r):n[0]==="document"?document.removeEventListener(n[1],r):this.view.off(t,r)},e}(aa),oa=di,da={};function sa(i){return da[(0,u.lowerCase)(i)]}function bn(i,e){da[(0,u.lowerCase)(i)]=e}function pa(i,e,t){var r=sa(i);if(!r)return null;if((0,u.isPlainObject)(r)){var n=(0,u.mix)((0,u.clone)(r),t);return new oa(e,n)}else{var a=r;return new a(e,t)}}var ri=v(7755),Fn=v(31506);function ji(i){var e,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},r={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=Cr(o.getModel(),s),f=l.startAngle,h=l.endAngle,c=(f+h)/2,d=7.5,b=d*Math.cos(c),L=d*Math.sin(c);return{matrix:Fn.transform(null,[["t",b,L]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,I.__assign)((0,I.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,I.__assign)((0,I.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,I.__assign)((0,I.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,I.__assign)((0,I.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,I.__assign)((0,I.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,I.__assign)((0,I.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,I.__assign)((0,I.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,I.__assign)((0,I.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,u.deepMix)({},r,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,u.deepMix)({},r,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,u.deepMix)({},r,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,u.deepMix)({},r,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,u.deepMix)({},r,{title:null,label:{offset:8},grid:(0,u.deepMix)({},n,{line:{type:"line"}})}),radius:(0,u.deepMix)({},r,{title:null,label:{offset:8},grid:(0,u.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,u.deepMix)({},a,{layout:"vertical"}),left:(0,u.deepMix)({},a,{layout:"vertical"}),top:(0,u.deepMix)({},a,{layout:"horizontal"}),bottom:(0,u.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e[""+ri.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},e[""+ri.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},e[""+ri.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},e[""+ri.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e[""+ri.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e[""+ri.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var Bn={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},ga={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Jt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Et=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],z={backgroundColor:"transparent",brandColor:Jt[0],paletteQualitative10:Jt,paletteQualitative20:Et,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:Bn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:Bn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Bn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Bn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Bn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Bn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Bn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Jt[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Bn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Bn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Bn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Bn[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Bn[25],annotationArcBorderColor:Bn[15],annotationArcBorder:.5,annotationLineBorderColor:Bn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:Bn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:ga[95],annotationTextBorder:1.5,annotationRegionFillColor:Bn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Bn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Bn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Bn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:ga[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Bn[25],pointFillColor:Jt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:ga[100],pointBorderOpacity:1,pointActiveBorderColor:Bn[100],pointSelectedBorder:2,pointSelectedBorderColor:Bn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Jt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:ga[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Bn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Bn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Jt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Jt[0],areaFillOpacity:.25,areaActiveFillColor:Jt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Jt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Jt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Bn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Bn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Jt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Bn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Bn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Jt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:ga[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Bn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Bn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},q=ji(z),vt={default:q};function Pt(i){return(0,u.get)(vt,(0,u.lowerCase)(i),vt.default)}function zt(i,e){vt[(0,u.lowerCase)(i)]=(0,u.deepMix)({},vt.default,e)}function Kt(i,e,t){var r=t.translate(i),n=t.translate(e);return(0,u.isNumberEqual)(r,n)}function he(i,e){var t=e.coordinate,r=e.getXScale(),n=r.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),r.translate(r.invert(l))}function pe(i,e,t){var r=t.coordinate,n=t.getYScale(),a=n.field,o=r.invert(e),s=n.invert(o.y),l=(0,u.find)(i,function(f){var h=f[et];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var _e=(0,u.memoize)(function(i){if(i.isCategory)return 1;for(var e=i.values,t=e.length,r=i.translate(e[0]),n=r,a=0;a<t;a++){var o=e[a],s=i.translate(o);s<r&&(r=s),s>n&&(n=s)}return(n-r)/(t-1)});function Ge(i,e,t){var r=t;if(!t){var n=e.getAttribute("position"),a=n.getFields();r=a[0]}var o=e.scales;return o[r]?o[r].getText(i[r]):(0,u.hasKey)(i,r)?i[r]:r}function nr(i){var e=(0,u.values)(i.attributes);return(0,u.filter)(e,function(t){return(0,u.contains)(bt,t.type)})}function fr(i){for(var e=nr(i),t,r=0,n=e;r<n.length;r++){var a=n[r],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function Fr(i,e){var t=e.field,r=i[t];if((0,u.isArray)(r)){var n=r.map(function(a){return e.getText(a)});return n.join("-")}return e.getText(r)}function nn(i,e){var t,r=e.getGroupScales();if(r.length&&(t=r[0]),t){var n=t.field;return t.getText(i[n])}var a=fr(e);return Ve(a)}function rn(i,e,t){if(e.length===0)return null;var r=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(r==="heatmap"||r==="point"){for(var f=t.coordinate,h=f.invert(i),c=n.invert(h.x),d=a.invert(h.y),b=Infinity,L=0;L<e.length;L++){var D=e[L],V=D[et],$=Math.pow(V[o]-c,2)+Math.pow(V[s]-d,2);$<b&&(b=$,l=D)}return l}var K=e[0],yt=e[e.length-1],wt=he(i,t),Rt=K[et][o],Zt=K[et][s],te=yt[et][o],oe=a.isLinear&&(0,u.isArray)(Zt);if((0,u.isArray)(Rt)){for(var L=0;L<e.length;L++){var re=e[L],V=re[et];if(n.translate(V[o][0])<=wt&&n.translate(V[o][1])>=wt)if(oe)(0,u.isArray)(l)||(l=[]),l.push(re);else{l=re;break}}(0,u.isArray)(l)&&(l=pe(l,i,t))}else{var ye=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var L=0;L<e.length;L++){var re=e[L],V=re[et];if(Kt(V[o],wt,n))if(oe)(0,u.isArray)(l)||(l=[]),l.push(re);else{l=re;break}else n.translate(V[o])<=wt&&(yt=re,ye=e[L+1])}(0,u.isArray)(l)&&(l=pe(l,i,t))}else{if((wt>n.translate(te)||wt<n.translate(Rt))&&(wt>n.max||wt<n.min))return null;for(var Pe=0,ze=e.length-1,je=void 0;Pe<=ze;){je=Math.floor((Pe+ze)/2);var Qe=e[je][et][o];if(Kt(Qe,wt,n))return e[je];n.translate(Qe)<=n.translate(wt)?(Pe=je+1,yt=e[je],ye=e[je+1]):(ze===0&&(yt=e[0]),ze=je-1)}}yt&&ye&&Math.abs(n.translate(yt[et][o])-wt)>Math.abs(n.translate(ye[et][o])-wt)&&(yt=ye)}var Ze=_e(t.getXScale());return!l&&Math.abs(n.translate(yt[et][o])-wt)<=Ze/2&&(l=yt),l}function En(i,e,t){t===void 0&&(t="");var r=i[et],n=Ge(r,e,t),a=e.tooltipOption,o=e.theme.defaultColor,s=[],l,f;function h(Zt,te){if(!(0,u.isNil)(te)&&te!==""){var oe={title:n,data:r,mappingData:i,name:Zt,value:te,color:i.color||o,marker:!0};s.push(oe)}}if((0,u.isObject)(a)){var c=a.fields,d=a.callback;if(d){var b=c.map(function(Zt){return i[et][Zt]}),L=d.apply(void 0,b),D=(0,I.__assign)({data:i[et],mappingData:i,title:n,color:i.color||o,marker:!0},L);s.push(D)}else for(var V=e.scales,$=0,K=c;$<K.length;$++){var yt=K[$];if(!(0,u.isNil)(r[yt])){var wt=V[yt];l=Ve(wt),f=wt.getText(r[yt]),h(l,f)}}}else{var Rt=fr(e);(0,u.isNil)(r[Rt.field])||(f=Fr(r,Rt),l=nn(r,e),h(l,f))}return s}var On={};function An(i,e){On[i]=e}function Vt(i){delete On[i]}function de(){return Object.keys(On)}function Ee(i){return On[i]}var De=function(){function i(e){this.option=this.wrapperOption(e)}return i.prototype.update=function(e){return this.option=this.wrapperOption(e),this},i.prototype.hasAction=function(e){var t=this.option.actions;return(0,u.some)(t,function(r){return r[0]===e})},i.prototype.create=function(e,t){var r=this.option,n=r.type,a=r.cfg,o=n==="theta",s=(0,I.__assign)({start:e,end:t},a),l=(0,In.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(e,t){return this.coordinate.update({start:e,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(e){return this.option.actions.push(["rotate",e]),this},i.prototype.reflect=function(e){return this.option.actions.push(["reflect",e]),this},i.prototype.scale=function(e,t){return this.option.actions.push(["scale",e,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(e){return(0,I.__assign)({type:"rect",actions:[],cfg:{}},e)},i.prototype.execActions=function(e){var t=this,r=this.option.actions;(0,u.each)(r,function(n){var a,o=n[0],s=n.slice(1),l=(0,u.isNil)(e)?!0:e.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),er=De,Dr=function(){function i(e,t,r){this.view=e,this.gEvent=t,this.data=r,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),hn=Dr;function Hn(i){return!(0,u.isNumber)(i)&&!(0,u.isArray)(i)}function Li(i){i===void 0&&(i=0);var e=(0,u.isArray)(i)?i:[i];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=(0,I.__spreadArrays)(e,e);break;case 3:e=(0,I.__spreadArrays)(e,[e[1]]);break;default:e=e.slice(0,4);break}return e}var la=function(){function i(e,t,r,n){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.top=e,this.right=t,this.bottom=r,this.left=n}return i.prototype.shrink=function(e){var t=e[0],r=e[1],n=e[2],a=e[3];return this.top+=t,this.right+=r,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(e,t){var r=e.width,n=e.height;switch(t){case G.TOP:case G.TOP_LEFT:case G.TOP_RIGHT:this.top+=n;break;case G.RIGHT:case G.RIGHT_TOP:case G.RIGHT_BOTTOM:this.right+=r;break;case G.BOTTOM:case G.BOTTOM_LEFT:case G.BOTTOM_RIGHT:this.bottom+=n;break;case G.LEFT:case G.LEFT_TOP:case G.LEFT_BOTTOM:this.left+=r;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function ya(i){var e=i.padding;if(!Hn(e))return Li(e);var t=i.viewBBox,r=i.autoPadding,n=new la;(0,u.each)(i.getComponents(),function(s){var l=s.component,f=s.type;if(!(f===X.GRID||f===X.TOOLTIP)){var h=l.getLayoutBBox(),c=new sr(h.x,h.y,h.width,h.height);if(f===X.AXIS){var d=c.exceed(t);n.shrink(d)}else{var b=s.direction;n.inc(c,b)}}});var a=n.getPadding();if(r){var o=Li(i.appendPadding);return[Math.max(r[0]-o[0],a[0]),Math.max(r[1]-o[1],a[1]),Math.max(r[2]-o[2],a[2]),Math.max(r[3]-o[3],a[3])]}return a}function Ko(i){var e=i.getController("axis"),t=i.getController("legend"),r=i.getController("annotation"),n=i.getController("slider"),a=ya(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(Li(i.appendPadding)),i.adjustCoordinate(),[e,n,t,r].forEach(function(o){o&&o.layout()})}var x1=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(e,t,r,n){var a=r,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,u.deepMix)(l,o.scaleDef,r)}var f=Fe(e,t,a);return this.cacheScale(f,r,n),f},i.prototype.sync=function(){var e=this;this.syncScales.forEach(function(t,r){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,u.each)(t,function(s){var l=e.getScale(s);a=(0,u.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,u.isNumber)(l.min)?Math.min(n,l.min):n,(0,u.each)(l.values,function(f){o.includes(f)||o.push(f)})}),(0,u.each)(t,function(s){var l=e.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(e,t,r){var n=this.getScaleMeta(r);n&&n.scale.type===e.type?(Ne(n.scale,e),n.scaleDef=t):(n={key:r,scale:e,scaleDef:t},this.scales.set(r,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(r),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(r)}},i.prototype.getScale=function(e){var t=this.getScaleMeta(e);if(!t){var r=(0,u.last)(e.split("-")),n=this.syncScales.get(r);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(e){var t=this.getScaleMeta(e);if(t){var r=t.syncKey,n=this.syncScales.get(r);if(n&&n.length){var a=n.indexOf(e);a!==-1&&n.splice(a,1)}}this.scales.delete(e)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(e){var t=this;this.syncScales.forEach(function(r,n){var a=r.indexOf(e);if(a!==-1)return r.splice(a,1),r.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(e){var t=e.scale,r=e.scaleDef,n=t.field,a=(0,u.get)(r,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(e){return this.scales.get(e)},i}(),Wh=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this,{visible:t.visible})||this;r.id=(0,u.uniqueId)("view"),r.views=[],r.geometries=[],r.controllers=[],r.interactions={},r.limitInPlot=!1,r.options={data:[],animate:!0},r.usedControllers=de(),r.scalePool=new x1,r.layoutFunc=Ko,r.isPreMouseInPlot=!1,r.isDataChanged=!1,r.isCoordinateChanged=!1,r.createdScaleKeys=new Map,r.onCanvasEvent=function(V){var $=V.name;if(!$.includes(":")){var K=r.createViewEvent(V);r.doPlotEvent(K),r.emit($,K)}},r.onDelegateEvents=function(V){var $=V.name;if(!!$.includes(":")){var K=r.createViewEvent(V);r.emit($,K)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,f=t.region,h=f===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:f,c=t.padding,d=t.appendPadding,b=t.theme,L=t.options,D=t.limitInPlot;return r.parent=n,r.canvas=a,r.backgroundGroup=o,r.middleGroup=s,r.foregroundGroup=l,r.region=h,r.padding=c,r.appendPadding=d,r.options=(0,I.__assign)((0,I.__assign)({},r.options),L),r.limitInPlot=D,r.themeObject=(0,u.isObject)(b)?(0,u.deepMix)({},Pt("default"),b):Pt(b),r.init(),r}return e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new er(this.options.coordinate),this.initOptions();for(var t=this.views,r=0;r<t.length;r++)t[r].init()},e.prototype.render=function(t){t===void 0&&(t=!1),this.emit(J.BEFORE_RENDER),this.paint(t),this.emit(J.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(J.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var r=this.geometries,n=0;n<r.length;n++)r[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(J.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(J.BEFORE_DESTROY);var t=this.interactions;(0,u.each)(t,function(s){s&&s.destroy()}),this.clear();for(var r=this.controllers,n=0,a=r.length;n<a;n++){var o=r[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var r=this.geometries,n=0,a=r.length;n<a;n++){var o=r[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},e.prototype.data=function(t){return(0,u.set)(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,r){return(0,u.isFunction)(r)?((0,u.set)(this.options,["filters",t],r),this):(!r&&(0,u.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,r){return(0,u.isBoolean)(t)?(0,u.set)(this.options,["axes"],t):(0,u.set)(this.options,["axes",t],r),this},e.prototype.legend=function(t,r){return(0,u.isBoolean)(t)?(0,u.set)(this.options,["legends"],t):(0,u.isString)(t)?(0,u.set)(this.options,["legends",t],r):(0,u.set)(this.options,["legends"],t),this},e.prototype.scale=function(t,r){var n=this;return(0,u.isString)(t)?(0,u.set)(this.options,["scales",t],r):(0,u.isObject)(t)&&(0,u.each)(t,function(a,o){(0,u.set)(n.options,["scales",o],a)}),this},e.prototype.tooltip=function(t){return(0,u.set)(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,r){return(0,u.isString)(t)?(0,u.set)(this.options,"coordinate",{type:t,cfg:r}):(0,u.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,r){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,r)},e.prototype.facet=function(t,r){this.facetInstance&&this.facetInstance.destroy();var n=cn(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,I.__assign)((0,I.__assign)({},r),{type:t})),this},e.prototype.animate=function(t){return(0,u.set)(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),(0,u.mix)(this.options,t),this.initOptions(),this},e.prototype.option=function(t,r){if(e.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,u.set)(this.options,t,r),this},e.prototype.theme=function(t){return this.themeObject=(0,u.isObject)(t)?(0,u.deepMix)({},this.themeObject,t):Pt(t),this},e.prototype.interaction=function(t,r){var n=this.interactions[t];n&&n.destroy();var a=pa(t,this,r);return a&&(a.init(),this.interactions[t]=a),this},e.prototype.removeInteraction=function(t){var r=this.interactions[t];r&&(r.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(J.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var r=this.views,n=0,a=r.length;n<a;n++){var o=r[n];o.changeData(t)}this.emit(J.AFTER_CHANGE_DATA)},e.prototype.createView=function(t){var r={data:this.options.data,scales:(0,u.clone)(this.options.scales),axes:(0,u.clone)(this.options.axes),coordinate:(0,u.clone)(this.coordinateController.getOption()),tooltip:(0,u.clone)(this.options.tooltip),legends:(0,u.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new e((0,I.__assign)((0,I.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:U.BG}),middleGroup:this.middleGroup.addGroup({zIndex:U.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:U.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,I.__assign)((0,I.__assign)({},r),(0,u.get)(t,"options",{}))}));return this.views.push(n),n},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var r=(0,u.remove)(this.views,function(n){return n===t})[0];return r&&r.destroy(),r},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={};return this.geometries.map(function(r){var n=r.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},e.prototype.getScalesByDim=function(t){for(var r=this.geometries,n={},a=0,o=r.length;a<o;a++){var s=r[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},e.prototype.getScaleByField=function(t,r){var n=r||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getLayer=function(t){return t===Y.BG?this.backgroundGroup:t===Y.MID?this.middleGroup:t===Y.FORE?this.foregroundGroup:this.foregroundGroup},e.prototype.isPointInPlot=function(t){return Ke(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return(0,u.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},e.prototype.getGroupScales=function(){var t=this.geometries.map(function(r){return r.getGroupScales()});return Yt((0,u.flatten)(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},e.prototype.getXY=function(t){var r=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,u.each)(t,function(l,f){n[f]&&(o=n[f].scale(l)),a[f]&&(s=a[f].scale(l))}),!(0,u.isNil)(o)&&!(0,u.isNil)(s))return r.convert({x:o,y:s})},e.prototype.getController=function(t){return(0,u.find)(this.controllers,function(r){return r.name===t})},e.prototype.showTooltip=function(t){var r=this.getController("tooltip");return r&&r.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var r=this.getController("tooltip");return r?r.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var r=this.geometries,n=[],a=0,o=r.length;a<o;a++){var s=r[a],l=s.dataArray;s.sort(l);for(var f=void 0,h=0,c=l.length;h<c;h++){var d=l[h];f=rn(t,d,s),f&&n.push(f)}}for(var b=this.views,a=0,o=b.length;a<o;a++){var L=b[a],D=L.getSnapRecords(t);n=n.concat(D)}return n},e.prototype.getComponents=function(){for(var t=[],r=this.controllers,n=0,a=r.length;n<a;n++){var o=r[n];t=t.concat(o.getComponents())}return t},e.prototype.filterData=function(t){var r=this.options.filters;return(0,u.size)(r)===0?t:(0,u.filter)(t,function(n,a){var o=Object.keys(r);return o.every(function(s){var l=r[s];return l(n[s],n,a)})})},e.prototype.filterFieldData=function(t,r){var n=this.options.filters,a=(0,u.get)(n,t);return(0,u.isUndefined)(a)?r:r.filter(function(o,s){return a(o[t],o,s)})},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),r=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,u.isEqual)(r,a)&&(0,u.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(J.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(J.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,u.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var r=this.viewBBox,n=r.x,a=r.y,o=r.width,s=r.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},e.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var r=this.viewBBox,n=this.coordinateBBox;Hn(this.padding)&&(this.autoPadding=[n.tl.y-r.tl.y,r.tr.x-n.tr.x,r.bl.y-n.bl.y,n.tl.x-r.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var r=this.middleGroup,n=dr(this.coordinateInstance),a=n.type,o=n.attrs;r.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,f=s.length;l<f;l++){var h=s[l];h.renderPaintRecursive(t)}},e.prototype.createScale=function(t,r,n,a){var o=(0,u.get)(this.options.scales,[t]),s=(0,I.__assign)((0,I.__assign)({},o),n);return this.parent?this.parent.createScale(t,r,s,a):this.scalePool.createScale(t,r,s,a)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var r=this.views,n=0,a=r.length;n<a;n++){var o=r[n];o.renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,r,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,r=o.y,n=o.width,a=o.height}else t=0,r=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,f=s.end,h=new sr(t+n*l.x,r+a*l.y,n*(f.x-l.x),a*(f.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new sr(t+n*l.x,r+a*l.y,n*(f.x-l.x),a*(f.y-l.y)),this.coordinateBBox=this.viewBBox)},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,r=0,n=t.length;r<n;r++){var a=t[r],o=Ee(a);o&&this.controllers.push(new o(this))}},e.prototype.createViewEvent=function(t){var r=t.shape,n=t.name,a=r?r.get("origin"):null,o=new hn(this,t,a);return o.type=n,o},e.prototype.doPlotEvent=function(t){var r=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(r)){var l=this.isPointInPlot(o);if(l){var f="plot:"+r;t.type=f,this.emit(f,t),(r==="mouseleave"||r==="touchend")&&(this.isPreMouseInPlot=!1)}r==="mousemove"||r==="touchmove"?(this.isPreMouseInPlot&&!l?(r==="mousemove"&&(t.type=lt.MOUSE_LEAVE,this.emit(lt.MOUSE_LEAVE,t)),t.type=lt.LEAVE,this.emit(lt.LEAVE,t)):!this.isPreMouseInPlot&&l&&(r==="mousemove"&&(t.type=lt.MOUSE_ENTER,this.emit(lt.MOUSE_ENTER,t)),t.type=lt.ENTER,this.emit(lt.ENTER,t)),this.isPreMouseInPlot=l):(r==="mouseleave"||r==="touchend")&&this.isPreMouseInPlot&&(r==="mouseleave"&&(t.type=lt.MOUSE_LEAVE,this.emit(lt.MOUSE_LEAVE,t)),t.type=lt.LEAVE,this.emit(lt.LEAVE,t),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var r=this.getCoordinate(),n=(0,u.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var f={coordinate:r,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(f):l.init(f)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),r=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,f=0,h=t.length;f<h;f++){var c=t[f],d=s[c],b=this.getScaleKey(c);this.createScale(c,r.includes(c)?a:l,d,b),this.createdScaleKeys.set(b,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync()},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),r={},n=0;n<t.length;n++){var a=t[n];r[a]=this.getScaleByField(a)}return r},e.prototype.getScaleFields=function(){for(var t=[],r={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();Yt(s,t,r)}return t},e.prototype.getGroupedFields=function(){for(var t=[],r={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();Yt(s,t,r)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,r=(0,I.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,u.each)(r,function(o){var s=o.field,l=o.values,f=o.isCategory,h=o.isIdentity;if((f||h)&&l&&!(0,u.get)(a,[s,"range"])){var c=l.length,d=void 0;if(c===1)d=[.5,1];else{var b=1,L=0;xe(n)?n.isTransposed?(b=(0,u.get)(t.theme,"widthRatio.multiplePie",1/1.3),L=1/c*b,d=[L/2,1-L/2]):d=[0,1-1/c]:(L=1/c/2,d=[L,1-L])}o.range=d}})},e.prototype.initComponents=function(t){for(var r=this.controllers,n=0;n<r.length;n++){var a=r[n];t?a.update():(a.clear(),a.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,r=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,r)},e.prototype.paintGeometries=function(t){for(var r=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,r||l.animate(!1),l.paint(t)}},e.prototype.renderComponents=function(t){for(var r=0;r<this.getComponents().length;r++){var n=this.getComponents()[r];n.component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){for(var t=this.options,r=t.geometries,n=r===void 0?[]:r,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,f=t.annotations,h=f===void 0?[]:f,c=0;c<n.length;c++){var d=n[c];this.createGeometry(d)}for(var b=0;b<o.length;b++){var L=o[b],D=L.type,V=L.cfg;this.interaction(D,V)}for(var $=0;$<l.length;$++){var K=l[$];this.createView(K)}for(var yt=this.getController("annotation"),wt=0;wt<h.length;wt++){var Rt=h[wt];yt.annotation(Rt)}},e.prototype.createGeometry=function(t){var r=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[r]){var o=this[r](a);(0,u.each)(t,function(s,l){(0,u.isFunction)(o[l])&&o[l](s)})}},e.prototype.getScaleKey=function(t){return this.id+"-"+t},e}(or);function Pa(i,e){Wh.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var r=(0,I.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new e(r);return this.geometries.push(n),n}}var xu=Wh,b1=function(i){(0,I.__extends)(e,i);function e(t){var r=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,f=t.padding,h=t.appendPadding,c=t.renderer,d=c===void 0?"canvas":c,b=t.pixelRatio,L=t.localRefresh,D=L===void 0?!0:L,V=t.visible,$=V===void 0?!0:V,K=t.defaultInteractions,yt=K===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:K,wt=t.options,Rt=t.limitInPlot,Zt=t.theme,te=(0,u.isString)(n)?document.getElementById(n):n,oe=(0,mt.Z)('<div style="position:relative;"></div>');te.appendChild(oe);var re=le(te,l,a,o),ye=at(d),Pe=new ye.Canvas((0,I.__assign)({container:oe,pixelRatio:b,localRefresh:D},re));return r=i.call(this,{parent:null,canvas:Pe,backgroundGroup:Pe.addGroup({zIndex:U.BG}),middleGroup:Pe.addGroup({zIndex:U.MID}),foregroundGroup:Pe.addGroup({zIndex:U.FORE}),padding:f,appendPadding:h,visible:$,options:wt,limitInPlot:Rt,theme:Zt})||this,r.onResize=(0,u.debounce)(function(){r.forceFit()},300),r.ele=te,r.canvas=Pe,r.width=re.width,r.height=re.height,r.autoFit=l,r.localRefresh=D,r.renderer=d,r.wrapperElement=oe,r.updateCanvasStyle(),r.bindAutoFit(),r.initDefaultInteractions(yt),r}return e.prototype.initDefaultInteractions=function(t){var r=this;(0,u.each)(t,function(n){r.interaction(n)})},e.prototype.changeSize=function(t,r){return this.width===t&&this.height===r?this:(this.width=t,this.height=r,this.canvas.changeSize(t,r),this.render(!0),this)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Xe(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=le(this.ele,!0,this.width,this.height),r=t.width,n=t.height;this.changeSize(r,n)}},e.prototype.updateCanvasStyle=function(){(0,Dt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(xu),w1=b1,Oo=function(){function i(e){this.visible=!0,this.components=[],this.view=e}return i.prototype.clear=function(){(0,u.each)(this.components,function(e){e.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},i}(),jh=0,S1=1/2,M1=1/2,C1=.05,E1=function(){function i(e){var t=e.xField,r=e.yField,n=e.adjustNames,a=n===void 0?["x","y"]:n,o=e.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=r,this.dimValuesMap=o}return i.prototype.isAdjust=function(e){return this.adjustNames.indexOf(e)>=0},i.prototype.getAdjustRange=function(e,t,r){var n=this.yField,a=r.indexOf(t),o=r.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=r[a===0?0:a-1],l=r[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-r[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(e,t){var r=this,n=this.getDimValues(t);u.each(e,function(a,o){u.each(n,function(s,l){r.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(e,t){return u.each(e,function(r){r[t]===void 0&&(r[t]=jh)}),u.groupBy(e,t)},i.prototype.adjustDim=function(e,t,r,n){},i.prototype.getDimValues=function(e){var t=this,r=t.xField,n=t.yField,a=u.assign({},this.dimValuesMap),o=[];if(r&&this.isAdjust("x")&&o.push(r),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=u.valuesOfKey(e,l).sort(function(f,h){return f-h}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[jh,1]}return a},i}(),Os=E1,Uh={},Zh=function(i){return Uh[i.toLowerCase()]},Ls=function(i,e){if(Zh(i))throw new Error("Adjust type '"+i+"' existed.");Uh[i.toLowerCase()]=e},qt=v(8108),A1=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.cacheMap={},r.adjustDataArray=[],r.mergeData=[];var n=t.marginRatio,a=n===void 0?S1:n,o=t.dodgeRatio,s=o===void 0?M1:o,l=t.dodgeBy,f=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,d=t.groupNum,b=t.defaultSize,L=t.maxColumnWidth,D=t.minColumnWidth,V=t.columnWidthRatio,$=t.customOffset;return r.marginRatio=a,r.dodgeRatio=s,r.dodgeBy=l,r.intervalPadding=f,r.dodgePadding=h,r.xDimensionLegenth=c,r.groupNum=d,r.defaultSize=b,r.maxColumnWidth=L,r.minColumnWidth=D,r.columnWidthRatio=V,r.customOffset=$,r}return e.prototype.process=function(t){var r=u.clone(t),n=u.flatten(r),a=this.dodgeBy,o=a?u.group(n,a):r;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],r},e.prototype.adjustDim=function(t,r,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),f=this.groupData(n,t);return u.each(f,function(h,c){var d;r.length===1?d={pre:r[0]-1,next:r[0]+1}:d=o.getAdjustRange(t,parseFloat(c),r),u.each(h,function(b){var L=b[t],D=l[L],V=D.indexOf(a);if(u.isNil(s))b[t]=o.getDodgeOffset(d,V,D.length);else{var $=d.pre,K=d.next;b[t]=u.isFunction(s)?s(b,d):($+K)/2+s}})}),[]},e.prototype.getDodgeOffset=function(t,r,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,f=a.dodgePadding,h=t.pre,c=t.next,d=c-h,b;if(!u.isNil(l)&&u.isNil(f)&&l>=0){var L=this.getIntervalOnlyOffset(n,r);b=h+L}else if(!u.isNil(f)&&u.isNil(l)&&f>=0){var L=this.getDodgeOnlyOffset(n,r);b=h+L}else if(!u.isNil(l)&&!u.isNil(f)&&l>=0&&f>=0){var L=this.getIntervalAndDodgeOffset(n,r);b=h+L}else{var D=d*o/n,V=s*D,L=1/2*(d-n*D-(n-1)*V)+((r+1)*D+r*V)-1/2*D-1/2*d;b=(h+c)/2+L}return b},e.prototype.getIntervalOnlyOffset=function(t,r){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,f=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,d=n.columnWidthRatio,b=o/s,L=(1-(l-1)*b)/l*f/(t-1),D=((1-b*(l-1))/l-L*(t-1))/t;if(D=u.isNil(d)?D:1/l/t*d,!u.isNil(h)){var V=h/s;D=Math.min(D,V)}if(!u.isNil(c)){var $=c/s;D=Math.max(D,$)}D=a?a/s:D,L=((1-(l-1)*b)/l-t*D)/(t-1);var K=((1/2+r)*D+r*L+1/2*b)*l-b/2;return K},e.prototype.getDodgeOnlyOffset=function(t,r){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,f=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,d=n.columnWidthRatio,b=o/s,L=1*f/(l-1),D=((1-L*(l-1))/l-b*(t-1))/t;if(D=d?1/l/t*d:D,!u.isNil(h)){var V=h/s;D=Math.min(D,V)}if(!u.isNil(c)){var $=c/s;D=Math.max(D,$)}D=a?a/s:D,L=(1-(D*t+b*(t-1))*l)/(l-1);var K=((1/2+r)*D+r*b+1/2*L)*l-L/2;return K},e.prototype.getIntervalAndDodgeOffset=function(t,r){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,f=a/s,h=o/s,c=((1-f*(l-1))/l-h*(t-1))/t,d=((1/2+r)*c+r*h+1/2*f)*l-f/2;return d},e.prototype.getDistribution=function(t){var r=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},u.each(r,function(o,s){var l=u.valuesOfKey(o,t);l.length||l.push(0),u.each(l,function(f){a[f]||(a[f]=[]),a[f].push(s)})}),n[t]=a),a},e}(Os),T1=A1;function P1(i,e){return(e-i)*Math.random()+i}var _1=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.process=function(t){var r=u.clone(t),n=u.flatten(r);return this.adjustData(r,n),r},e.prototype.adjustDim=function(t,r,n){var a=this,o=this.groupData(n,t);return u.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),r)})},e.prototype.getAdjustOffset=function(t){var r=t.pre,n=t.next,a=(n-r)*C1;return P1(r+a,n-a)},e.prototype.adjustGroup=function(t,r,n,a){var o=this,s=this.getAdjustRange(r,n,a);return u.each(t,function(l){l[r]=o.getAdjustOffset(s)}),t},e}(Os),O1=_1,bu=u.Cache,L1=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,f=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return r.adjustNames=a,r.height=s,r.size=f,r.reverseOrder=c,r}return e.prototype.process=function(t){var r=this,n=r.yField,a=r.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var r=this,n=r.xField,a=r.yField,o=r.reverseOrder,s=o?this.reverse(t):t,l=new bu,f=new bu;return s.map(function(h){return h.map(function(c){var d,b=u.get(c,n,0),L=u.get(c,[a]),D=b.toString();if(L=u.isArray(L)?L[1]:L,!u.isNil(L)){var V=L>=0?l:f;V.has(D)||V.set(D,0);var $=V.get(D),K=L+$;return V.set(D,K),(0,qt.__assign)((0,qt.__assign)({},c),(d={},d[a]=[$,K],d))}return c})})},e.prototype.processOneDimStack=function(t){var r=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",f=s?this.reverse(t):t,h=new bu;return f.map(function(c){return c.map(function(d){var b,L=r.size,D=d[a],V=L*2/o;h.has(D)||h.set(D,V/2);var $=h.get(D);return h.set(D,$+V),(0,qt.__assign)((0,qt.__assign)({},d),(b={},b[l]=$,b))})})},e}(Os),I1=L1,k1=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.process=function(t){var r=u.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(r),l=Math.max.apply(Math,Object.keys(s).map(function(f){return s[f]}));return u.map(t,function(f){return u.map(f,function(h){var c,d,b=h[o],L=h[a];if(u.isArray(b)){var D=(l-s[L])/2;return(0,qt.__assign)((0,qt.__assign)({},h),(c={},c[o]=u.map(b,function($){return D+$}),c))}var V=(l-b)/2;return(0,qt.__assign)((0,qt.__assign)({},h),(d={},d[o]=[V,b+V],d))})})},e.prototype.getXValuesMaxMap=function(t){var r=this,n=this,a=n.xField,o=n.yField,s=u.groupBy(t,function(l){return l[a]});return u.mapValues(s,function(l){return r.getDimMaxValue(l,o)})},e.prototype.getDimMaxValue=function(t,r){var n=u.map(t,function(o){return u.get(o,r,[])}),a=u.flatten(n);return Math.max.apply(Math,a)},e}(Os),B1=k1;Ls("Dodge",T1),Ls("Jitter",O1),Ls("Stack",I1),Ls("Symmetric",B1);var Kh={};function wu(i){return Kh[i.toLowerCase()]}function wi(i,e){Kh[i.toLowerCase()]=e}var Lo={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},D1={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},$h={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var e;return i.isRect?e=i.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",i.isPolar&&i.isTransposed&&(e="wave-in")),{animation:e}},schema:function(i){var e;return i.isRect?e=i.isTransposed?"grow-in-x":"grow-in-y":e="grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function F1(i,e){return{delay:(0,u.isFunction)(i.delay)?i.delay(e):i.delay,easing:(0,u.isFunction)(i.easing)?i.easing(e):i.easing,duration:(0,u.isFunction)(i.duration)?i.duration(e):i.duration,callback:i.callback}}function Qh(i,e,t){var r=D1[i];return r&&((0,u.isFunction)(r)&&(r=r(e)),r=(0,u.deepMix)({},Lo,r),t)?r[t]:r}function Io(i,e,t){var r=(0,u.get)(i.get("origin"),"data",et),n=e.animation,a=F1(e,r);if(n){var o=wu(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function R1(i,e,t,r,n){if($h[t]){var a=$h[t](r),o=wu((0,u.get)(a,"animation",""));if(o){var s=(0,I.__assign)((0,I.__assign)((0,I.__assign)({},Lo.appear),a),e);i.stopAnimate(),o(i,s,{coordinate:r,minYPoint:n,toAttrs:null})}}}var N1=v(31207),Y1=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return r.shapeFactory=n,r.container=a,r.offscreenGroup=o,r.visible=l,r}return e.prototype.draw=function(t,r){r===void 0&&(r=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,r),this.visible===!1&&this.changeVisible(!1)},e.prototype.update=function(t){var r=this,n=r.shapeFactory,a=r.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var t=this,r=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?Io(n,a,{coordinate:r.coordinate,toAttrs:(0,I.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(r){r.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(r){r.hide()}))},e.prototype.setState=function(t,r){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,f=a.shape,h=a.shapeType,c=o.indexOf(t);if(r){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&f.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&f.toBack()}var d=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(L){n.syncShapeStyle(f,d,L,null)}):this.syncShapeStyle(f,d,"reset",null),d.remove(!0);var b={state:t,stateStatus:r,element:this,target:this.container};this.container.emit("statechange",b),(0,N1.propagationDelegate)(this.shape,"statechange",b)},e.prototype.clearStates=function(){var t=this,r=this.states;(0,u.each)(r,function(n){t.setState(n,!1)}),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this,r=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return r&&(a=r.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,r=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[r]||a.theme[s];this.statesStyle=(0,u.deepMix)({},l,o)}return this.statesStyle},e.prototype.getStateStyle=function(t,r){var n=this.getStatesStyle(),a=(0,u.get)(n,[t,"style"],{}),o=a[r]||a;return(0,u.isFunction)(o)?o(this):o},e.prototype.getAnimateCfg=function(t){var r=this.animate;return r?r[t]:null},e.prototype.drawShape=function(t,r){r===void 0&&(r=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,u.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var f=r?"enter":"appear",h=this.getAnimateCfg(f);h&&Io(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,I.__assign)({},this.shape.attr())})}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,r){var n=this;if(t.cfg.origin=r,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,r)})}},e.prototype.syncShapeStyle=function(t,r,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=r.get("children"),f=0;f<s.length;f++)this.syncShapeStyle(s[f],l[f],n,a,o+f);else{if(n&&n!=="reset"){var h=t.get("name");(0,u.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);r.attr(c)}var d=Be(t,r);this.animate?a?Io(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:d,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(d,{duration:300})):t.attr(d):t.attr(d)}},e.prototype.getShapeType=function(t){var r=(0,u.get)(t,"shape");return(0,u.isArray)(r)?r[0]:r},e}(or),Jh=Y1,qh={},tc={};function ec(i){return qh[i.toLowerCase()]}function $o(i,e){qh[i.toLowerCase()]=e}function rc(i){return tc[i.toLowerCase()]}function po(i,e){tc[i.toLowerCase()]=e}var Is=v(57350),G1={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,e){var t=this.getShape(i);return t.getPoints?t.getPoints(e):this.getDefaultPoints(e)},getShape:function(i){var e=this[i]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getMarker:function(i,e){var t=this.getShape(i);if(!t.getMarker){var r=this.defaultShapeType;t=this.getShape(r)}var n=this.theme,a=(0,u.get)(n,[i,"default"],{}),o=t.getMarker(e);return(0,u.deepMix)({},a,o)},drawShape:function(i,e,t){var r=this.getShape(i);return r.draw(e,t)}},z1={coordinate:null,parsePath:function(i){var e=this.coordinate,t=(0,Is.parsePathString)(i);return e.isPolar?t=cr(e,t):t=Ye(e,t),t},parsePoint:function(i){var e=this.coordinate;return e.convert(i)},parsePoints:function(i){var e=this.coordinate;return i.map(function(t){return e.convert(t)})},draw:function(i,e){}},Su={};function to(i,e){var t=(0,u.upperFirst)(i),r=(0,I.__assign)((0,I.__assign)((0,I.__assign)({},G1),e),{geometryType:i});return Su[t]=r,r}function Rn(i,e,t){var r=(0,u.upperFirst)(i),n=Su[r],a=(0,I.__assign)((0,I.__assign)({},z1),t);return n[e]=a,a}function Mu(i){var e=(0,u.upperFirst)(i);return Su[e]}function X1(i,e,t){if(t===void 0&&(t={}),!e)return[i];var r=(0,u.groupToMap)(i,e),n=[];if(e.length===1&&t[e[0]])for(var a=t[e[0]],o=0,s=a;o<s.length;o++){var l=s[o],f=r["_"+l];f&&n.push(f)}else for(var h in r)if(r.hasOwnProperty(h)){var c=r[h];n.push(c)}return n}function nc(i,e){return(0,u.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,u.isEqual)(i[t],e[t])})}function Qo(i){return(0,u.isArray)(i)?i:i.split("*")}function V1(i,e){var t=[];return(0,u.each)(e,function(r,n){var a=n.split(" ")[0];a===i&&t.push(r)}),t}var H1=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.type="base",r.attributes={},r.elements=[],r.elementsMap={},r.animateOption=!0,r.attributeOption={},r.lastElementsMap={},r.generatePoints=!1,r.beforeMappingData=null,r.adjusts={},r.idFields=[],r.hasSorted=!1,r.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,f=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,d=t.theme,b=t.scales,L=b===void 0?{}:b,D=t.scaleDefs,V=D===void 0?{}:D;return r.container=n,r.labelsContainer=a,r.coordinate=o,r.data=s,r.sortable=f,r.visible=c,r.userTheme=d,r.scales=L,r.scaleDefs=V,r}return e.prototype.position=function(t){var r=t;(0,u.isPlainObject)(t)||(r={fields:Qo(t)});var n=(0,u.get)(r,"fields");return n.length===1&&(n.unshift("1"),(0,u.set)(r,"fields",n)),(0,u.set)(this.attributeOption,"position",r),this},e.prototype.color=function(t,r){return this.createAttrOption("color",t,r),this},e.prototype.shape=function(t,r){return this.createAttrOption("shape",t,r),this},e.prototype.size=function(t,r){return this.createAttrOption("size",t,r),this},e.prototype.adjust=function(t){var r=t;return((0,u.isString)(t)||(0,u.isPlainObject)(t))&&(r=[t]),(0,u.each)(r,function(n,a){(0,u.isObject)(n)||(r[a]={type:n})}),this.adjustOption=r,this},e.prototype.style=function(t,r){if((0,u.isString)(t)){var n=Qo(t);this.styleOption={fields:n,callback:r}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},e.prototype.tooltip=function(t,r){if((0,u.isString)(t)){var n=Qo(t);this.tooltipOption={fields:n,callback:r}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,r,n){if((0,u.isString)(t)){var a={},o=Qo(t);a.fields=o,(0,u.isFunction)(r)?a.callback=r:(0,u.isPlainObject)(r)&&(a.cfg=r),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){t===void 0&&(t={});var r=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,u.isEqual)(s,l)?r&&(n||!(0,u.isEqual)(r,this.data))?(this.setCfg(t),this.processData(r)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},e.prototype.paint=function(t){var r=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,u.deepMix)({},Qh(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,f=o.length;l<f;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var d=this.container,b=this.type,L=this.coordinate,D=(0,u.get)(this.animateOption,"appear"),V=this.getYScale(),$=L.convert({x:0,y:V.scale(this.getYMinValue())});R1(d,D,b,L,$)}this.labelOption&&this.renderLabels((0,u.flatten)(s),t),this.dataArray=s,(0,u.each)(this.lastElementsMap,function(K){K.animate=r.animateOption,K.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,I.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,r=t.container,n=t.geometryLabel,a=t.offscreenGroup;r&&r.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return(0,u.each)(this.attributes,function(r){bt.includes(r.type)&&t.push(r)}),t},e.prototype.getDefaultValue=function(t){var r,n=this.getAttribute(t);return n&&(0,u.isEmpty)(n.scales)&&(r=n.values[0]),r},e.prototype.getAttributeValues=function(t,r){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],f=l.field;l.isIdentity?n.push(l.values):n.push(r[f])}return t.mapping.apply(t,n)},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getShapeMarker=function(t,r){var n=this.getShapeFactory();return n.getMarker(t,r)},e.prototype.getElementsBy=function(t){return this.elements.filter(function(r){return t(r)})},e.prototype.getElementId=function(t){t=(0,u.isArray)(t)?t[0]:t;var r=t[et];if(this.idFields.length){for(var n=r[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+r[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),f=s.field||"x",h=l.field||"y",c=r[h],d;s.type==="identity"?d=s.values[0]:d=r[f];var b;o==="interval"||o==="schema"?b=d:o==="line"||o==="area"||o==="path"?b=o:b=d+"-"+c;for(var L=this.groupScales,a=0,D=L.length;a<D;a++){var V=L[a],$=V.field;b=b+"-"+r[$]}var K=this.getAdjust("dodge");if(K){var yt=K.dodgeBy;yt&&(b=b+"-"+r[yt])}return this.getAdjust("jitter")&&(b=b+"-"+t.x+"-"+t.y),b},e.prototype.getScaleFields=function(){var t=[],r={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var f=a[l];f.fields?Yt(f.fields,t,r):f.values&&Yt(f.values,t,r)}return o&&o.fields&&Yt(o.fields,t,r),(0,u.isObject)(s)&&s.fields&&Yt(s.fields,t,r),t},e.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var r=this.elements,n=0,a=r.length;n<a;n++){var o=r[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getGroupFields=function(){for(var t=[],r={},n=0,a=bt.length;n<a;n++){var o=bt[n],s=this.attributeOption[o];s&&s.fields&&Yt(s.fields,t,r)}return t},e.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,r=t[0],n=t[1];return[r,n]},e.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var r=this.getXScale(),n=r.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return r.translate(s[et][n])-r.translate(l[et][n])})}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!Mu(t))return this.shapeFactory||(this.shapeFactory=(0,u.clone)(Mu(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var r=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[r.field],r),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,r){r===void 0&&(r=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new Jh({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,r),s},e.prototype.getDrawCfg=function(t){var r=t[et],n={mappingData:t,data:r,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,u.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,r)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.createElements=function(t,r,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,f=0,h=t.length;f<h;f++){var c=t[f],d=this.getElementId(c);s[d]&&(d=d+"-"+r+"-"+f);var b=o[d];if(!b)b=this.createElement(c,n);else{var L=this.getDrawCfg(c),D=b.getModel();(this.isCoordinateChanged||nc(L,D))&&(b.animate=this.animateOption,b.update(L)),delete o[d]}l.push(b),s[d]=b}return l},e.prototype.getLabelType=function(){var t=this,r=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,u.get)(r,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},e.prototype.getYMinValue=function(){var t=this.getYScale(),r=t.min,n=t.max,a;return r>=0?a=r:n<=0?a=n:a=0,a},e.prototype.createAttrOption=function(t,r,n){if((0,u.isNil)(r)||(0,u.isObject)(r))(0,u.isObject)(r)&&(0,u.isEqual)(Object.keys(r),["values"])?(0,u.set)(this.attributeOption,t,{fields:r.values}):(0,u.set)(this.attributeOption,t,r);else{var a={};(0,u.isNumber)(r)?a.values=[r]:a.fields=Qo(r),n&&((0,u.isFunction)(n)?a.callback=n:a.values=n),(0,u.set)(this.attributeOption,t,a)}},e.prototype.initAttributes=function(){var t=this,r=this,n=r.attributes,a=r.attributeOption,o=r.theme,s=r.shapeType;this.groupScales=[];var l={},f=function(d){if(a.hasOwnProperty(d)){var b=a[d];if(!b)return{value:void 0};var L=(0,I.__assign)({},b),D=L.callback,V=L.values,$=L.fields,K=$===void 0?[]:$,yt=K.map(function(Rt){var Zt=t.scales[Rt];return Zt.isCategory&&!l[Rt]&&bt.includes(d)&&(t.groupScales.push(Zt),l[Rt]=!0),Zt});L.scales=yt,d!=="position"&&yt.length===1&&yt[0].type==="identity"?L.values=yt[0].values:!D&&!V&&(d==="size"?L.values=o.sizes:d==="shape"?L.values=o.shapes[s]||[]:d==="color"&&(yt.length?L.values=yt[0].values.length<=10?o.colors10:o.colors20:L.values=o.colors10));var wt=(0,on.getAttribute)(d);n[d]=new wt(L)}};for(var h in a){var c=f(h);if(typeof c=="object")return c.value}},e.prototype.processData=function(t){this.hasSorted=!1;for(var r=this.getAttribute("position").scales,n=r.filter(function(Rt){return Rt.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var f=a[s],h=[],c=0,d=f.length;c<d;c++){var b=f[c],L={};for(var D in b)L[D]=b[D];L[et]=b;for(var V=0,$=n;V<$.length;V++){var K=$[V],yt=K.field;L[yt]=K.translate(L[yt])}h.push(L)}o.push(h)}var wt=this.adjustData(o);return this.beforeMappingData=wt,wt},e.prototype.adjustData=function(t){var r=this.adjustOption,n=t;if(r)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,f=0,h=r.length;f<h;f++){var c=r[f],d=(0,I.__assign)({xField:s,yField:l},c),b=c.type;if(b==="dodge"){var L=[];if(a.isCategory||a.type==="identity")L.push("x");else if(!o)L.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");d.adjustNames=L,d.dodgeRatio=this.theme.columnWidthRatio}else if(b==="stack"){var D=this.coordinate;if(!o){d.height=D.getHeight();var V=this.getDefaultValue("size")||3;d.size=V}!D.isTransposed&&(0,u.isNil)(d.reverseOrder)&&(d.reverseOrder=!0)}var $=Zh(b),K=new $(d);n=K.process(n),this.adjusts[b]=K}return n},e.prototype.groupData=function(t){for(var r=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<r.length;s++){var l=r[s],f=l.field;o.push(f),(0,u.get)(n,[f,"values"])&&(a[f]=n[f].values)}return X1(t,o,a)},e.prototype.updateStackRange=function(t,r){for(var n=(0,u.flatten)(r),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var f=n[l],h=Math.min.apply(null,f[a]),c=Math.max.apply(null,f[a]);h<o&&(o=h),c>s&&(s=c)}var d=this.scaleDefs,b={};o<t.min&&!(0,u.get)(d,[a,"min"])&&(b.min=o),s>t.max&&!(0,u.get)(d,[a,"max"])&&(b.max=s),t.change(b)},e.prototype.beforeMapping=function(t){var r=t;if(this.sortable&&this.sort(r),this.generatePoints)for(var n=0,a=r.length;n<a;n++){var o=r[n];this.generateShapePoints(o);var s=r[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return r},e.prototype.generateShapePoints=function(t){for(var r=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,f=r.getShapePoints(l,s);o.points=f}},e.prototype.normalizeValues=function(t,r){var n=[];if((0,u.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(r.scale(o))}else n=r.scale(t);return n},e.prototype.mapping=function(t){for(var r=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[et],points:o.points,nextPoints:o.nextPoints};for(var l in r)if(r.hasOwnProperty(l)){var f=r[l],h=f.names,c=this.getAttributeValues(f,o);if(h.length>1)for(var d=0;d<c.length;d+=1){var b=c[d],L=h[d];s[L]=(0,u.isArray)(b)&&b.length===1?b[0]:b}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},e.prototype.convertPoint=function(t){var r=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,u.isArray)(r)&&(0,u.isArray)(n)){a=[],o=[];for(var f=0,h=0,c=r.length,d=n.length;f<c&&h<d;f+=1,h+=1)s=l.convert({x:r[f],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,u.isArray)(n)){o=[];for(var b=0;b<n.length;b++){var L=n[b];s=l.convert({x:r,y:L}),a&&a!==s.x?((0,u.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,u.isArray)(r)){a=[];for(var b=0;b<r.length;b++){var D=r[b];s=l.convert({x:D,y:n}),o&&o!==s.y?((0,u.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var V=l.convert({x:r,y:n});a=V.x,o=V.y}t.x=a,t.y=o},e.prototype.getStyleCfg=function(t,r){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(f){return r[f]});return o.apply(void 0,l)},e.prototype.setCfg=function(t){var r=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,u.each)(s,function(l,f){l&&l.key&&r.idFields.push(f)})),o&&(this.theme=this.userTheme?(0,u.deepMix)({},o,this.userTheme):o)},e.prototype.renderLabels=function(t,r){r===void 0&&(r=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=ec(a);n=new o(this),this.geometryLabel=n}n.render(t,r);var s=n.labelsRenderer.shapesMap;(0,u.each)(this.elementsMap,function(l,f){var h=V1(f,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var d=h[c],b=d.getChildren(),L=0;L<b.length;L++){var D=b[L];D.cfg.name=["element","label"],D.cfg.element=l}}})},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,u.get)(this.animateOption,"appear")===void 0||(0,u.get)(this.animateOption,"appear")&&(0,u.get)(this.animateOption,["appear","animation"])===void 0)},e}(or),Va=H1,ks=Fn.transform;function Cu(i,e,t){var r=ks(i.getMatrix(),[["t",e,t]]);i.setMatrix(r)}function ic(i,e){var t=i.attr(),r=t.x,n=t.y,a=ks(i.getMatrix(),[["t",-r,-n],["r",e],["t",r,n]]);i.setMatrix(a)}function o9(){return[1,0,0,0,1,0,0,0,1]}function W1(i,e){var t=i.getBBox(),r=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([r,n,1]);var a=ks(i.getMatrix(),[["t",-r,-n],["s",e,e],["t",r,n]]);i.setMatrix(a)}var j1=function(){function i(e){this.shapesMap={},this.lastShapesMap={};var t=e.layout,r=e.container;this.layout=t,this.container=r}return i.prototype.render=function(e,t,r){var n=this;r===void 0&&(r=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(e.length){for(var s=0,l=e;s<l.length;s++){var f=l[s];f&&this.renderLabel(f,o)}this.doLayout(e,t),this.renderLabelLine(e),this.adjustLabel(e)}var h=this.lastShapesMap,c=this.shapesMap;(0,u.each)(c,function(d,b){if(d.destroyed)delete c[b];else{if(h[b]){var L=d.get("data"),D=d.get("origin"),V=d.get("coordinate"),$=h[b],K=d.get("animateCfg");$.set("data",L),$.set("origin",D),$.set("animateCfg",K),$.set("coordinate",V);var yt=(0,u.get)(K,"update"),wt=$.getChildren();d.getChildren().map(function(Zt,te){var oe=wt[te];oe.set("data",L),oe.set("origin",D),oe.set("animateCfg",K),oe.set("coordinate",V);var re=Be(oe,Zt);yt?Io(oe,yt,{toAttrs:re,coordinate:V}):oe.attr(re)}),n.shapesMap[b]=$}else{a.add(d);var Rt=(0,u.get)(d.get("animateCfg"),r?"enter":"appear");Rt&&Io(d,Rt,{toAttrs:(0,I.__assign)({},d.attr()),coordinate:d.get("coordinate")})}delete h[b]}}),(0,u.each)(h,function(d){var b=(0,u.get)(d.get("animateCfg"),"leave");b?Io(d,b,{toAttrs:null,coordinate:d.get("coordinate")}):d.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(e,t){var r=e.id,n=e.data,a=e.mappingData,o=e.coordinate,s=e.animate,l=e.content,f={id:r,data:n,origin:a,coordinate:o},h=t.addGroup((0,I.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,u.deepMix)({},this.animate,s)},f)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var d=l.getCanvasBBox(),b=d.width,L=d.height,D=(0,u.get)(e,"textAlign","left"),V=e.x,$=e.y-L/2;D==="center"?V=V-b/2:(D==="right"||D==="end")&&(V=V-b),Cu(l,V,$),c=l,h.add(l)}else c=h.addShape("text",(0,I.__assign)({attrs:(0,I.__assign)({x:e.x,y:e.y,textAlign:e.textAlign,textBaseline:(0,u.get)(e,"textBaseline","middle"),text:e.content},e.style)},f));e.rotate&&ic(c,e.rotate),this.shapesMap[r]=h},i.prototype.doLayout=function(e,t){var r=this;if(this.layout){var n=(0,u.isArray)(this.layout)?this.layout:[this.layout];(0,u.each)(n,function(a){var o=rc((0,u.get)(a,"type",""));if(o){var s=[],l=[];(0,u.each)(r.shapesMap,function(f,h){s.push(f),l.push(t[h])}),o(e,s,l,r.region,a.cfg)}})}},i.prototype.renderLabelLine=function(e){var t=this;(0,u.each)(e,function(r){var n=(0,u.get)(r,"coordinate");if(!(!r||!n)){var a=n.getCenter(),o=n.getRadius();if(!!r.labelLine){var s=(0,u.get)(r,"labelLine",{}),l=r.id,f=s.path;if(!f){var h=Oe(a.x,a.y,o,r.angle);f=[["M",h.x,h.y],["L",r.x,r.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,I.__assign)({path:f,stroke:r.color?r.color:(0,u.get)(r,["style","fill"],"#000"),fill:null},s.style),id:l,origin:r.mappingData,data:r.data,coordinate:r.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var e=this.container,t=e.getGroupBase(),r=new t({});return r},i.prototype.adjustLabel=function(e){var t=this;(0,u.each)(e,function(r){if(r){var n=r.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(r.offsetX&&o.attr("x",o.attr("x")+r.offsetX),r.offsetY&&o.attr("y",o.attr("y")+r.offsetY))}}})},i}(),U1=j1;function Z1(i){var e=0;return(0,u.each)(i,function(t){e+=t}),e/i.length}var K1=function(){function i(e){this.geometry=e}return i.prototype.getLabelItems=function(e){var t=this,r=[],n=this.getLabelCfgs(e);return(0,u.each)(e,function(a,o){var s=n[o];if(!s||(0,u.isNil)(a.x)||(0,u.isNil)(a.y)){r.push(null);return}var l=(0,u.isArray)(s.content)?s.content:[s.content];s.content=l;var f=l.length;(0,u.each)(l,function(h,c){if((0,u.isNil)(h)||h===""){r.push(null);return}var d=(0,I.__assign)((0,I.__assign)({},s),t.getLabelPoint(s,a,c));d.textAlign||(d.textAlign=t.getLabelAlign(d,c,f)),d.offset<=0&&(d.labelLine=null),r.push(d)})}),r},i.prototype.render=function(e,t){t===void 0&&(t=!1);var r=this.getLabelItems(e),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(r,a,t)},i.prototype.clear=function(){var e=this.labelsRenderer;e&&e.clear()},i.prototype.destroy=function(){var e=this.labelsRenderer;e&&e.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,u.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(e,t,r,n){},i.prototype.getDefaultOffset=function(e){var t=this.getCoordinate(),r=this.getOffsetVector(e);return t.isTransposed?r[0]:r[1]},i.prototype.getLabelOffset=function(e,t,r){var n=this.getDefaultOffset(e.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,f={x:0,y:0};return t>0||r===1?f[s]=n*l:f[s]=n*l*-1,f},i.prototype.getLabelPoint=function(e,t,r){var n=this.getCoordinate(),a=e.content.length;function o(D,V){var $=D;return(0,u.isArray)($)&&(e.content.length===1?$.length<=2?$=$[D.length-1]:$=Z1($):$=$[V]),$}var s={content:e.content[r],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=en(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,r),s.y=o(t.y,r);var f=(0,u.isArray)(t.shape)?t.shape[0]:t.shape;if(f==="funnel"||f==="pyramid"){var h=(0,u.get)(t,"nextPoints"),c=(0,u.get)(t,"points");if(h){var d=n.convert(c[1]),b=n.convert(h[1]);s.x=(d.x+b.x)/2,s.y=(d.y+b.y)/2}else if(f==="pyramid"){var d=n.convert(c[1]),b=n.convert(c[2]);s.x=(d.x+b.x)/2,s.y=(d.y+b.y)/2}}e.position&&this.setLabelPosition(s,t,r,e.position);var L=this.getLabelOffset(e,r,a);return s.start={x:s.x,y:s.y},s.x+=L.x,s.y+=L.y,s.color=t.color,s},i.prototype.getLabelAlign=function(e,t,r){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(e.offset);o<0?n="right":o===0?n="center":n="left",r>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(e){var t=this.geometry,r=t.type,n=t.getXScale(),a=t.getYScale(),o=e[et],s=t.getElementId(e);return r==="line"||r==="area"?s+=" "+o[n.field]:r==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var e=this.geometry,t=e.labelsContainer,r=e.labelOption,n=e.canvasRegion,a=e.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new U1({container:t,layout:(0,u.get)(r,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?Qh("label",o):!1,s},i.prototype.getLabelCfgs=function(e){var t=this,r=this.geometry,n=this.getDefaultLabelCfg(),a=r.type,o=r.theme,s=r.labelOption,l=r.scales,f=r.coordinate,h=s,c=h.fields,d=h.callback,b=h.cfg,L=c.map(function(V){return l[V]}),D=[];return(0,u.each)(e,function(V,$){var K=V[et],yt=t.getLabelText(K,L),wt;if(d){var Rt=c.map(function(oe){return K[oe]});if(wt=d.apply(void 0,Rt),(0,u.isNil)(wt)){D.push(null);return}}var Zt=(0,I.__assign)((0,I.__assign)({id:t.getLabelId(V),data:K,mappingData:V,coordinate:f},b),wt),te=Zt.content;(0,u.isFunction)(te)?Zt.content=te(K,V,$):(0,u.isUndefined)(te)&&(Zt.content=yt[0]),(0,u.isFunction)(Zt.position)&&(Zt.position=Zt.position(K,V,$)),a==="polygon"||Zt.offset<0&&!["line","point","path"].includes(a)?Zt=(0,u.deepMix)({},n,o.innerLabels,Zt):Zt=(0,u.deepMix)({},n,o.labels,Zt),D.push(Zt)}),D},i.prototype.getLabelText=function(e,t){var r=[];return(0,u.each)(t,function(n){var a=e[n.field];(0,u.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,u.isNil)(a)||a===""?r.push(null):r.push(a)}),r},i.prototype.getOffsetVector=function(e){e===void 0&&(e=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(e,0):t.applyMatrix(0,e)},i.prototype.getGeometryShapes=function(){var e=this.geometry,t={};return(0,u.each)(e.elementsMap,function(r,n){t[n]=r.shape}),(0,u.each)(e.getOffscreenGroup().getChildren(),function(r){var n=e.getElementId(r.get("origin").mappingData);t[n]=r}),t},i}(),Bs=K1,$1=v(61102),Q1="4.0.15",go={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},ni={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Sa=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],J1=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],q1={backgroundColor:"#141414",brandColor:Sa[0],paletteQualitative10:Sa,paletteQualitative20:J1,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:ni[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:ni[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:ni[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:ni[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:ni[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:ni[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:ni[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Sa[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:ni[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:ni[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:ni[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:go[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:go[25],annotationArcBorderColor:ni[15],annotationArcBorder:.5,annotationLineBorderColor:ni[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:ni[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:go[95],annotationTextBorder:1.5,annotationRegionFillColor:ni[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:ni[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:ni[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:ni[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:go[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:ni[25],pointFillColor:Sa[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:go[100],pointBorderOpacity:1,pointActiveBorderColor:ni[100],pointSelectedBorder:2,pointSelectedBorderColor:ni[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Sa[0],hollowPointBorderOpacity:.95,hollowPointFillColor:go[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:ni[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:ni[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Sa[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Sa[0],areaFillOpacity:.25,areaActiveFillColor:Sa[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Sa[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Sa[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:ni[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:ni[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Sa[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:ni[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:ni[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Sa[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:go[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:ni[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:ni[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Zr=v(65353),Bi=v(73890),zn=v(21830),Ds=v(46812),Di=v(66631),Un=v(27154),tb=v(9217),eb=v(5253),s9=v(39984),rb=v(98229),nb=v(35755);function ib(){return window?window.devicePixelRatio:1}function ac(i,e,t,r){var n=i-t,a=e-r;return Math.sqrt(n*n+a*a)}function yo(i,e,t,r,n,a){return n>=i&&n<=i+t&&a>=e&&a<=e+r}function Eu(i,e){return!(e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY)}function ab(i,e){return!i||!e?i||e:{minX:Math.min(i.minX,e.minX),minY:Math.min(i.minY,e.minY),maxX:Math.max(i.maxX,e.maxX),maxY:Math.max(i.maxY,e.maxY)}}function oc(i,e){return i[0]===e[0]&&i[1]===e[1]}var l9=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,u9=/[^\s\,]+/gi,ob=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,sb=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,lb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,sc=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function lc(i,e){var t=i.match(sc);(0,Un.default)(t,function(r){var n=r.split(":");e.addColorStop(n[0],n[1])})}function ub(i,e,t){var r=ob.exec(t),n=parseFloat(r[1])%360*(Math.PI/180),a=r[2],o=e.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var f=Math.tan(n),h=f*f,c=(l.x-s.x+f*(l.y-s.y))/(h+1)+s.x,d=f*(l.x-s.x+f*(l.y-s.y))/(h+1)+s.y,b=i.createLinearGradient(s.x,s.y,c,d);return lc(a,b),b}function fb(i,e,t){var r=sb.exec(t),n=parseFloat(r[1]),a=parseFloat(r[2]),o=parseFloat(r[3]),s=r[4];if(o===0){var l=s.match(sc);return l[l.length-1].split(":")[1]}var f=e.getBBox(),h=f.maxX-f.minX,c=f.maxY-f.minY,d=Math.sqrt(h*h+c*c)/2,b=i.createRadialGradient(f.minX+h*n,f.minY+c*a,0,f.minX+h/2,f.minY+c/2,o*d);return lc(s,b),b}function hb(i,e,t){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,n,a=lb.exec(t),o=a[1],s=a[2];function l(){r=i.createPattern(n,o),e.set("pattern",r),e.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),r}function cb(i,e,t){if((0,zn.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return ub(i,e,t);if(t[0]==="r")return fb(i,e,t);if(t[0]==="p")return hb(i,e,t)}return t}}function vb(i){var e=0,t=0,r=0,n=0;return(0,Di.default)(i)?i.length===1?e=t=r=n=i[0]:i.length===2?(e=r=i[0],t=n=i[1]):i.length===3?(e=i[0],t=n=i[1],r=i[2]):(e=i[0],t=i[1],r=i[2],n=i[3]):e=t=r=n=i,[e,t,r,n]}function Fs(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Au(i,e){return Fs(i)*Fs(e)?(i[0]*e[0]+i[1]*e[1])/(Fs(i)*Fs(e)):1}function uc(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(Au(i,e))}function fc(i,e){var t=e[1],r=e[2],n=(0,eb.default)((0,tb.default)(e[3]),Math.PI*2),a=e[4],o=e[5],s=i[0],l=i[1],f=e[6],h=e[7],c=Math.cos(n)*(s-f)/2+Math.sin(n)*(l-h)/2,d=-1*Math.sin(n)*(s-f)/2+Math.cos(n)*(l-h)/2,b=c*c/(t*t)+d*d/(r*r);b>1&&(t*=Math.sqrt(b),r*=Math.sqrt(b));var L=t*t*(d*d)+r*r*(c*c),D=L?Math.sqrt((t*t*(r*r)-L)/L):1;a===o&&(D*=-1),isNaN(D)&&(D=0);var V=r?D*t*d/r:0,$=t?D*-r*c/t:0,K=(s+f)/2+Math.cos(n)*V-Math.sin(n)*$,yt=(l+h)/2+Math.sin(n)*V+Math.cos(n)*$,wt=[(c-V)/t,(d-$)/r],Rt=[(-1*c-V)/t,(-1*d-$)/r],Zt=uc([1,0],wt),te=uc(wt,Rt);return Au(wt,Rt)<=-1&&(te=Math.PI),Au(wt,Rt)>=1&&(te=0),o===0&&te>0&&(te=te-2*Math.PI),o===1&&te<0&&(te=te+2*Math.PI),{cx:K,cy:yt,rx:oc(i,[f,h])?0:t,ry:oc(i,[f,h])?0:r,startAngle:Zt,endAngle:Zt+te,xRotation:n,arcFlag:a,sweepFlag:o}}var Rs=Math.sin,Ns=Math.cos,Tu=Math.atan2,Ys=Math.PI;function hc(i,e,t,r,n,a,o){var s=e.stroke,l=e.lineWidth,f=t-n,h=r-a,c=Tu(h,f),d=new Bu({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Ns(Ys/6)+","+10*Rs(Ys/6)+" L0,0 L"+10*Ns(Ys/6)+",-"+10*Rs(Ys/6),stroke:s,lineWidth:l}});d.translate(n,a),d.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",d)}function cc(i,e,t,r,n,a,o){var s=e.startArrow,l=e.endArrow,f=e.stroke,h=e.lineWidth,c=o?s:l,d=c.d,b=c.fill,L=c.stroke,D=c.lineWidth,V=(0,Zr.__rest)(c,["d","fill","stroke","lineWidth"]),$=t-n,K=r-a,yt=Tu(K,$);d&&(n=n-Ns(yt)*d,a=a-Rs(yt)*d);var wt=new Bu({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,Zr.__assign)((0,Zr.__assign)({},V),{stroke:L||f,lineWidth:D||h,fill:b})});wt.translate(n,a),wt.rotateAtPoint(n,a,yt),i.set(o?"startArrowShape":"endArrowShape",wt)}function mo(i,e,t,r,n){var a=Tu(r-e,t-i);return{dx:Ns(a)*n,dy:Rs(a)*n}}function Pu(i,e,t,r,n,a){typeof e.startArrow=="object"?cc(i,e,t,r,n,a,!0):e.startArrow?hc(i,e,t,r,n,a,!0):i.set("startArrowShape",null)}function _u(i,e,t,r,n,a){typeof e.endArrow=="object"?cc(i,e,t,r,n,a,!1):e.endArrow?hc(i,e,t,r,n,a,!1):i.set("startArrowShape",null)}var vc={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function ko(i,e){var t=e.attr();for(var r in t){var n=t[r],a=vc[r]?vc[r]:r;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,u.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=cb(i,e,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function Ou(i,e,t){for(var r=0;r<e.length;r++){var n=e[r];n.get("visible")?n.draw(i,t):n.skipDraw()}}function dc(i,e,t,r){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],f={dx:0,dy:0};e.beginPath();for(var h=0;h<n.length;h++){var c=n[h],d=c[0];if(h===0&&a&&a.d){var b=i.getStartTangent();f=mo(b[0][0],b[0][1],b[1][0],b[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var L=n[h+1];if(L[0]==="Z"){var b=i.getEndTangent();f=mo(b[0][0],b[0][1],b[1][0],b[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var b=i.getEndTangent();f=mo(b[0][0],b[0][1],b[1][0],b[1][1],o.d)}var D=f.dx,V=f.dy;switch(d){case"M":e.moveTo(c[1]-D,c[2]-V),l=[c[1],c[2]];break;case"L":e.lineTo(c[1]-D,c[2]-V);break;case"Q":e.quadraticCurveTo(c[1],c[2],c[3]-D,c[4]-V);break;case"C":e.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-D,c[6]-V);break;case"A":{var $=void 0;r?($=r[h],$||($=fc(s,c),r[h]=$)):$=fc(s,c);var K=$.cx,yt=$.cy,wt=$.rx,Rt=$.ry,Zt=$.startAngle,te=$.endAngle,oe=$.xRotation,re=$.sweepFlag;if(e.ellipse)e.ellipse(K,yt,wt,Rt,oe,Zt,te,1-re);else{var ye=wt>Rt?wt:Rt,Pe=wt>Rt?1:wt/Rt,ze=wt>Rt?Rt/wt:1;e.translate(K,yt),e.rotate(oe),e.scale(Pe,ze),e.arc(0,0,ye,Zt,te,1-re),e.scale(1/Pe,1/ze),e.rotate(-oe),e.translate(-K,-yt)}break}case"Z":e.closePath();break;default:break}if(d==="Z")s=l;else{var je=c.length;s=[c[je-2],c[je-1]]}}}function pc(i,e){var t=i.get("canvas");t&&(e==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,e,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function db(i){var e;if(i.destroyed)e=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),r=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);r&&a?e=ab(t,n):r?e=t:a&&(e=n)}return e}function gc(i){if(!i.length)return null;var e=[],t=[],r=[],n=[];return(0,u.each)(i,function(a){var o=db(a);o&&(e.push(o.minX),t.push(o.minY),r.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,e),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,r),maxY:Math.max.apply(null,n)}}function pb(i,e){return!i||!e||!Eu(i,e)?null:{minX:Math.max(i.minX,e.minX),minY:Math.max(i.minY,e.minY),maxX:Math.min(i.maxX,e.maxX),maxY:Math.min(i.maxY,e.maxY)}}var yc=v(41056),gb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onCanvasChange=function(t){pc(this,t)},e.prototype.getShapeBase=function(){return x},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,r){r&&(t.save(),ko(t,r),r.createPath(t),t.restore(),t.clip(),r._afterDraw())},e.prototype.draw=function(t,r){var n=this.getChildren();n.length&&(t.save(),ko(t,this),this._applyClip(t,this.getClip()),Ou(t,n,r),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(lr.AbstractGroup),Lu=gb,yb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return x},e.prototype.getGroupBase=function(){return Lu},e.prototype.onCanvasChange=function(t){pc(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),r=this.getHitLineWidth(),n=(0,yc.b)(t),a=n(this),o=r/2,s=a.x-o,l=a.y-o,f=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+r,height:a.height+r,maxX:f,maxY:h}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,r){r&&(t.save(),ko(t,r),r.createPath(t),t.restore(),t.clip(),r._afterDraw())},e.prototype.draw=function(t,r){var n=this.getClip();if(r){var a=n?gc([this,n]):this.getCanvasBBox();if(!Eu(r,a)){this.set("hasChanged",!1);return}}t.save(),ko(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype._afterDraw=function(){var t=this.getCanvasBBox(),r=this.getCanvas();if(this.set("cacheCanvasBBox",t),r){var n=r.getViewRange();this.set("isInView",Eu(t,n))}this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var r=this.attrs,n=r.lineWidth,a=r.opacity,o=r.strokeOpacity,s=r.fillOpacity;this.isFill()&&(!(0,Bi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,Bi.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,r){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,r,n,a,o)},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(lr.AbstractShape),_a=yb,mb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),l=s.x,f=s.y,h=s.r,c=o/2,d=ac(l,f,t,r);return a&&n?d<=h+c:a?d<=h:n?d>=h-c&&d<=h+c:!1},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},e}(_a),xb=mb;function Gs(i,e,t,r){return i/(t*t)+e/(r*r)}var bb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),l=o/2,f=s.x,h=s.y,c=s.rx,d=s.ry,b=(t-f)*(t-f),L=(r-h)*(r-h);return a&&n?Gs(b,L,c+l,d+l)<=1:a?Gs(b,L,c,d)<=1:n?Gs(b,L,c-l,d-l)>=1&&Gs(b,L,c+l,d+l)<=1:!1},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.rx,s=r.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,f=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(f,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},e}(_a),wb=bb;function mc(i){return i instanceof HTMLElement&&(0,zn.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var Sb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var r=this,n=this.attrs;if((0,zn.default)(t)){var a=new Image;a.onload=function(){if(r.destroyed)return!1;r.attr("img",a),r.set("loading",!1),r._afterLoading();var o=r.get("callback");o&&o.call(r)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):mc(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t==="img"&&this._setImage(r)},e.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var r=this.attr(),n=r.x,a=r.y,o=r.width,s=r.height,l=r.sx,f=r.sy,h=r.swidth,c=r.sheight,d=r.img;(d instanceof Image||mc(d))&&(!(0,Bi.default)(l)&&!(0,Bi.default)(f)&&!(0,Bi.default)(h)&&!(0,Bi.default)(c)?t.drawImage(d,l,f,h,c,n,a,o,s):t.drawImage(d,n,a,o,s))},e}(_a),Mb=Sb,Ha=v(23646);function eo(i,e,t,r,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),f=Math.min(e,r),h=Math.max(e,r),c=n/2;return a>=s-c&&a<=l+c&&o>=f-c&&o<=h+c?Ha.default.pointToLine(i,e,t,r,a,o)<=n/2:!1}var Cb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&Pu(this,t,a,o,r,n),l&&_u(this,t,r,n,a,o)},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,f=s.y1,h=s.x2,c=s.y2;return eo(l,f,h,c,o,t,r)},e.prototype.createPath=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2,l=r.startArrow,f=r.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=mo(n,a,o,s,r.startArrow.d)),f&&f.d&&(c=mo(n,a,o,s,r.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ha.default.length(r,n,a,o)},e.prototype.getPoint=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2;return Ha.default.pointAt(n,a,o,s,t)},e}(_a),Eb=Cb,xc=v(74479),Ab={circle:function(i,e,t){return[["M",i-t,e],["A",t,t,0,1,0,i+t,e],["A",t,t,0,1,0,i-t,e]]},square:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e-t],["L",i+t,e+t],["L",i-t,e+t],["Z"]]},diamond:function(i,e,t){return[["M",i-t,e],["L",i,e-t],["L",i+t,e],["L",i,e+t],["Z"]]},triangle:function(i,e,t){var r=t*Math.sin(1/3*Math.PI);return[["M",i-t,e+r],["L",i,e-r],["L",i+t,e+r],["Z"]]},"triangle-down":function(i,e,t){var r=t*Math.sin(1/3*Math.PI);return[["M",i-t,e-r],["L",i+t,e-r],["L",i,e+r],["Z"]]}},Tb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,u.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t=this.attr(),r=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,Ds.default)(a)?(s=a,l=s(r,n,o),l=(0,xc.Z)(l)):(s=e.Symbols[a],l=s(r,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},e.prototype.createPath=function(t){var r=this._getPath(),n=this.get("paramsCache");dc(this,t,{path:r},n)},e.Symbols=Ab,e}(_a),Pb=Tb,zs=v(15730),_b=v(49274),Ob=v(26632);function bc(i,e,t){var r=(0,Ob.getOffScreenContext)();return i.createPath(r),r.isPointInPath(e,t)}var Lb=1e-6;function Iu(i){return Math.abs(i)<Lb?0:i<0?-1:1}function Ib(i,e,t){return(t[0]-i[0])*(e[1]-i[1])==(e[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],e[0])<=t[0]&&t[0]<=Math.max(i[0],e[0])&&Math.min(i[1],e[1])<=t[1]&&t[1]<=Math.max(i[1],e[1])}function wc(i,e,t){var r=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(Ib(o,s,[e,t]))return!0;Iu(o[1]-t)>0!=Iu(s[1]-t)>0&&Iu(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}var kb=v(2879);function Jo(i,e,t,r,n,a,o,s){var l=(Math.atan2(s-e,o-i)+Math.PI*2)%(Math.PI*2);if(l<r||l>n)return!1;var f={x:i+t*Math.cos(l),y:e+t*Math.sin(l)};return ac(f.x,f.y,o,s)<=a/2}var ku=v(35600),Sc=v(77160);function Bb(i){for(var e=!1,t=i.length,r=0;r<t;r++){var n=i[r],a=n[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function Db(i,e,t,r){for(var n=!1,a=e/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,f=s.params,h=s.prePoint,c=s.box;if(!(c&&!yo(c.x-a,c.y-a,c.width+e,c.height+e,t,r))){switch(s.command){case"L":case"Z":n=eo(h[0],h[1],l[0],l[1],e,t,r);break;case"Q":var d=kb.default.pointDistance(h[0],h[1],f[1],f[2],f[3],f[4],t,r);n=d<=e/2;break;case"C":var b=zs.default.pointDistance(h[0],h[1],f[1],f[2],f[3],f[4],f[5],f[6],t,r);n=b<=e/2;break;case"A":var L=s.arcParams,D=L.cx,V=L.cy,$=L.rx,K=L.ry,yt=L.startAngle,wt=L.endAngle,Rt=L.xRotation,Zt=[t,r,1],te=[1,0,0,0,1,0,0,0,1],oe=$>K?$:K,re=$>K?1:$/K,ye=$>K?K/$:1;ku.translate(te,te,[-D,-V]),ku.rotate(te,te,-Rt),ku.scale(te,te,[1/re,1/ye]),Sc.transformMat3(Zt,Zt,te),n=Jo(0,0,oe,yt,wt,e,Zt[0],Zt[1]);break;default:break}if(n)break}}return n}function Fb(i){for(var e=i.length,t=[],r=[],n=[],a=0;a<e;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(r.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&r.push(n),{polygons:t,polylines:r}}var Xs=(0,Zr.__assign)({hasArc:Bb,extractPolygons:Fb,isPointInStroke:Db},lr.PathUtil);function Mc(i,e,t){for(var r=!1,n=0;n<i.length;n++){var a=i[n];if(r=wc(a,e,t),r)break}return r}var Rb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t==="path"&&this._setPathArr(r),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=(0,xc.Z)(t);var r=Xs.hasArc(t);this.set("hasArc",r),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,_b.default)(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),r=t.startArrow,n=t.endArrow;if(r){var a=this.getStartTangent();Pu(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();_u(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),f=!1;if(n&&(f=Xs.isPointInStroke(s,o,t,r)),!f&&a)if(l)f=bc(this,t,r);else{var h=this.attr("path"),c=Xs.extractPolygons(h);f=Mc(c.polygons,t,r)||Mc(c.polylines,t,r)}return f},e.prototype.createPath=function(t){var r=this.attr(),n=this.get("paramsCache");dc(this,t,r,n)},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,u.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var n,a,o=this.get("curve");if(!r||r.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,u.each)(r,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,u.isNil)(s)||(0,u.isNil)(a))return null;var l=s.length,f=o[a+1];return zs.default.pointAt(s[l-2],s[l-1],f[1],f[2],f[3],f[4],f[5],f[6],n)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Xs.pathToCurve(t))},e.prototype._setTcache=function(){var t=0,r=0,n=[],a,o,s,l,f=this.get("curve");if(!!f){if((0,u.each)(f,function(h,c){s=f[c+1],l=h.length,s&&(t+=zs.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,u.each)(f,function(h,c){s=f[c+1],l=h.length,s&&(a=[],a[0]=r/t,o=zs.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),r+=o||0,a[1]=r/t,n.push(a))}),this.set("tCache",n)}},e.prototype.getStartTangent=function(){var t=this.getSegments(),r;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;r=[],o?(r.push([n[0]-o[0],n[1]-o[1]]),r.push([n[0],n[1]])):(r.push([a[0],a[1]]),r.push([n[0],n[1]]))}return r},e.prototype.getEndTangent=function(){var t=this.getSegments(),r=t.length,n;if(r>1){var a=t[r-2].currentPoint,o=t[r-1].currentPoint,s=t[r-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},e}(_a),Bu=Rb;function Cc(i,e,t,r,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],f=i[o+1][0],h=i[o+1][1];if(eo(s,l,f,h,e,t,r))return!0}if(n){var c=i[0],d=i[a-1];if(eo(c[0],c[1],d[0],d[1],e,t,r))return!0}return!1}var Nb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr().points,l=!1;return n&&(l=Cc(s,o,t,r,!0)),!l&&a&&(l=wc(s,t,r)),l},e.prototype.createPath=function(t){var r=this.attr(),n=r.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},e}(_a),Yb=Nb,Ec=v(65386),Gb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),r=this.attrs,n=r.points,a=r.startArrow,o=r.endArrow,s=n.length,l=n[0][0],f=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&Pu(this,t,n[1][0],n[1][1],l,f),o&&_u(this,t,n[s-2][0],n[s-2][1],h,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Cc(s,o,t,r,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var r=this.attr(),n=r.points,a=r.startArrow,o=r.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],f=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var d=mo(l,f,n[1][0],n[1][1],a.d);l+=d.dx,f+=d.dy}if(o&&o.d){var d=mo(n[s-2][0],n[s-2][1],h,c,o.d);h-=d.dx,c-=d.dy}t.beginPath(),t.moveTo(l,f);for(var b=0;b<s-1;b++){var L=n[b];t.lineTo(L[0],L[1])}t.lineTo(h,c)}},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,r=this.get("totalLength");return(0,u.isNil)(r)?(this.set("totalLength",Ec.Z.length(t)),this.get("totalLength")):r},e.prototype.getPoint=function(t){var r=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,u.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ha.default.pointAt(r[o][0],r[o][1],r[o+1][0],r[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var r=this.getTotalLength();if(!(r<=0)){var n=0,a=[],o,s;(0,u.each)(t,function(l,f){t[f+1]&&(o=[],o[0]=n/r,s=Ha.default.length(l[0],l[1],t[f+1][0],t[f+1][1]),n+=s,o[1]=n/r,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,r=[];return r.push([t[1][0],t[1][1]]),r.push([t[0][0],t[0][1]]),r},e.prototype.getEndTangent=function(){var t=this.attr().points,r=t.length-1,n=[];return n.push([t[r-1][0],t[r-1][1]]),n.push([t[r][0],t[r][1]]),n},e}(_a),zb=Gb;function Xb(i,e,t,r,n,a,o){var s=n/2;return yo(i-s,e-s,t,n,a,o)||yo(i+t-s,e-s,n,r,a,o)||yo(i+s,e+r-s,t,n,a,o)||yo(i-s,e+s,n,r,a,o)}function Vb(i,e,t,r,n,a,o,s){var l=a/2;return eo(i+n,e,i+t-n,e,a,o,s)||eo(i+t,e+n,i+t,e+r-n,a,o,s)||eo(i+t-n,e+r,i+n,e+r,a,o,s)||eo(i,e+r-n,i,e+n,a,o,s)||Jo(i+t-n,e+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||Jo(i+t-n,e+r-n,n,0,.5*Math.PI,a,o,s)||Jo(i+n,e+r-n,n,.5*Math.PI,Math.PI,a,o,s)||Jo(i+n,e+n,n,Math.PI,1.5*Math.PI,a,o,s)}var Hb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),l=s.x,f=s.y,h=s.width,c=s.height,d=s.radius;if(d){var L=!1;return n&&(L=Vb(l,f,h,c,d,o,t,r)),!L&&a&&(L=bc(this,t,r)),L}else{var b=o/2;if(a&&n)return yo(l-b,f-b,h+b,c+b,t,r);if(a)return yo(l,f,h,c,t,r);if(n)return Xb(l,f,h,c,o,t,r)}},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.width,s=r.height,l=r.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var f=vb(l),h=f[0],c=f[1],d=f[2],b=f[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-d),d!==0&&t.arc(n+o-d,a+s-d,d,0,Math.PI/2),t.lineTo(n+b,a+s),b!==0&&t.arc(n+b,a+s-b,b,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},e}(_a),Wb=Hb,Ac=v(8914),jb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,Ac.assembleFont)(t)},e.prototype._setText=function(t){var r=null;(0,zn.default)(t)&&t.indexOf(`
`)!==-1&&(r=t.split(`
`)),this.set("textArr",r)},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(r)},e.prototype._getSpaceingY=function(){var t=this.attrs,r=t.lineHeight,n=t.fontSize*1;return r?r-n:n*.14},e.prototype._drawTextArr=function(t,r,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,f=a.fontSize*1,h=this._getSpaceingY(),c=(0,Ac.getTextHeight)(a.text,a.fontSize,a.lineHeight),d;(0,Un.default)(r,function(b,L){d=l+L*(h+f)-c+f,o==="middle"&&(d+=c-f-(c-f)/2),o==="top"&&(d+=c-f),n?t.fillText(b,s,d):t.strokeText(b,s,d)})},e.prototype._drawText=function(t,r){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,r);else{var l=n.text;r?t.fillText(l,a,o):t.strokeText(l,a,o)}},e.prototype.strokeAndFill=function(t){var r=this.attrs,n=r.lineWidth,a=r.opacity,o=r.strokeOpacity,s=r.fillOpacity;this.isStroke()&&n>0&&(!(0,Bi.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,Bi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(_a),Ub=jb,Zb=v(4555),f9=v(85424),Kb=v(22487),Tc=v(6052);function $b(i,e){if(e){var t=(0,Tc.U_)(e);return(0,Tc.rG)(t,i)}return i}function Pc(i,e,t){var r=i.getTotalMatrix();if(r){var n=$b([e,t,1],r),a=n[0],o=n[1];return[a,o]}return[e,t]}function _c(i,e,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,Kb.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var r=Pc(i,e,t),n=r[0],a=r[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),e>=o.minX&&e<=o.maxX&&t>=o.minY&&t<=o.maxY}function Oc(i,e,t){if(!_c(i,e,t))return null;for(var r=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())r=Oc(s,e,t);else if(_c(s,e,t)){var l=s,f=Pc(s,e,t),h=f[0],c=f[1];l.isInShape(h,c)&&(r=s)}if(r)break}return r}var Qb=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},e.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return x},e.prototype.getGroupBase=function(){return Lu},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||ib();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},e.prototype.createDom=function(){var t=document.createElement("canvas"),r=t.getContext("2d");return this.set("context",r),t},e.prototype.setDOMSize=function(t,r){i.prototype.setDOMSize.call(this,t,r);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*r,o>1&&n.scale(o,o)},e.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),r=this.get("el");t.clearRect(0,0,r.width,r.height)},e.prototype.getShape=function(t,r){return this.get("quickHit")?Oc(this,t,r):i.prototype.getShape.call(this,t,r,null)},e.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),r=this.getViewRange(),n;if(t.length&&t[0]===this)n=r;else if(n=gc(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=pb(n,r))}return n},e.prototype.refreshElement=function(t){var r=this.get("refreshElements");r.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,nb.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),r=this.get("el"),n=this.getChildren();t.clearRect(0,0,r.width,r.height),ko(t,this),Ou(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),r=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),ko(t,this),Ou(t,n,a),t.restore()),(0,Un.default)(r,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,r=this.get("drawFrame");r||(r=(0,rb.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",r))},e.prototype.skipDraw=function(){},e}(lr.AbstractCanvas),Lc=Qb,Jb=v(71270),qb=Jb.version,Du={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Yn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},h9=null;function Ma(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Ic(i){var e=Du[i.type],t=i.getParent();if(!e)throw new Error("the type "+i.type+" is not supported by svg");var r=Ma(e);if(i.get("id")&&(r.id=i.get("id")),i.set("el",r),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(r)}return r}function kc(i,e){var t=i.get("el"),r=(0,u.toArray)(t.children).sort(e),n=document.createDocumentFragment();r.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function tw(i,e){var t=i.parentNode,r=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=r[e],a=r.indexOf(i);if(n){if(a>e)t.insertBefore(i,n);else if(a<e){var o=r[e+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function ew(i,e){var t=i.cfg.el,r=i.attr(),n={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=e.find("filter",n);a||(a=e.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function qo(i){var e=i.attr().matrix;if(e){for(var t=i.cfg.el,r=[],n=0;n<9;n+=3)r.push(e[n]+","+e[n+1]);r=r.join(","),r.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}}function ts(i,e){var t=i.getClip(),r=i.get("el");if(!t)r.removeAttribute("clip-path");else if(t&&!r.hasAttribute("clip-path")){Ic(t),t.createPath(e);var n=e.addClip(t);r.setAttribute("clip-path","url(#"+n+")")}}function Bc(i,e){e.forEach(function(t){t.draw(i)})}function Dc(i,e){var t=i.get("canvas");if(t&&t.get("autoDraw")){var r=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(e==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,f=l&&l.parentNode;l&&f&&f.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(e==="show")o.setAttribute("visibility","visible");else if(e==="hide")o.setAttribute("visibility","hidden");else if(e==="zIndex")tw(o,a.indexOf(i));else if(e==="sort"){var h=i.get("children");h&&h.length&&kc(i,function(c,d){return h.indexOf(c)-h.indexOf(d)?1:0})}else e==="clear"?o&&(o.innerHTML=""):e==="matrix"?qo(i):e==="clip"?ts(i,r):e==="attr"||e==="add"&&i.draw(r)}}var rw=function(i){(0,Zr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=Ma("g");this.set("el",t);var r=this.getParent();if(r){var n=r.get("el");n||(n=r.createDom(),r.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.createPath(n,t)}},e.prototype.onCanvasChange=function(t){Dc(this,t)},e.prototype.getShapeBase=function(){return k},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var r=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),ts(this,t),this.createPath(t),r.length&&Bc(t,r))},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){Yn[s]&&a.setAttribute(Yn[s],o)}),qo(this)},e}(lr.AbstractGroup),Fu=rw,nw=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.draw(n,t)}},e.prototype.getShapeBase=function(){return k},e.prototype.getGroupBase=function(){return Fu},e.prototype.onCanvasChange=function(t){Dc(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),r=null;if(t)r=t.getBBox();else{var n=(0,yc.b)(this.get("type"));n&&(r=n(this))}if(r){var a=r.x,o=r.y,s=r.width,l=r.height,f=this.getHitLineWidth(),h=f/2,c=a-h,d=o-h,b=a+s+h,L=o+l+h;return{x:c,y:d,minX:c,minY:d,maxX:b,maxY:L,width:s+f,height:l+f}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),r=t.fill,n=t.fillStyle;return(r||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),r=t.stroke,n=t.strokeStyle;return(r||n)&&this.canStroke},e.prototype.draw=function(t,r){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Ic(this),ts(this,t),this.createPath(t,r),this.shadow(t,r),this.strokeAndFill(t,r),this.transform(r))},e.prototype.createPath=function(t,r){},e.prototype.strokeAndFill=function(t,r){var n=r||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,f=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,d=this.get("el");this.canFill&&(r?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),f&&d.setAttribute(Yn.fillOpacity,f)),this.canStroke&&c>0&&(r?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&d.setAttribute(Yn.strokeOpacity,h),c&&d.setAttribute(Yn.lineWidth,c))},e.prototype._setColor=function(t,r,n){var a=this.get("el");if(!n){a.setAttribute(Yn[r],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(Yn[r],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(Yn[r],"url(#"+o+")")}else a.setAttribute(Yn[r],n)},e.prototype.shadow=function(t,r){var n=this.attr(),a=r||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,f=a.shadowColor;(o||s||l||f)&&ew(this,t)},e.prototype.transform=function(t){var r=this.attr(),n=(t||r).matrix;n&&qo(this)},e.prototype.isInShape=function(t,r){return this.isPointInPath(t,r)},e.prototype.isPointInPath=function(t,r){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=r+o.top,f=document.elementFromPoint(s,l);return!!(f&&f.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,r=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?r+n:0},e}(lr.AbstractShape),Ca=nw,iw=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x:0,y:0,r:0})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Yn[s]&&a.setAttribute(Yn[s],o)})},e}(Ca),aw=iw,ow=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){Yn[s]&&a.setAttribute(Yn[s],o)}),a.innerHTML=n.html},e}(Ca),sw=ow,lw=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Yn[s]&&a.setAttribute(Yn[s],o)})},e}(Ca),uw=lw,fw=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");(0,u.each)(r||a,function(s,l){l==="img"?n._setImage(a.img):Yn[l]&&o.setAttribute(Yn[l],s)})},e.prototype.setAttr=function(t,r){this.attrs[t]=r,t==="img"&&this._setImage(r)},e.prototype._setImage=function(t){var r=this.attr(),n=this.get("el");if((0,u.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)r.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),r.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,u.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),r.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),r.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},e}(Ca),hw=fw,cw=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,u.isObject)(o)?t.addArrow(n,Yn[s]):t.getDefaultArrow(n,Yn[s]);a.setAttribute(Yn[s],"url(#"+l+")")}else a.removeAttribute(Yn[s]);else Yn[s]&&a.setAttribute(Yn[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ha.default.length(r,n,a,o)},e.prototype.getPoint=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2;return Ha.default.pointAt(n,a,o,s,t)},e}(Ca),vw=cw,Vs={circle:function(i,e,t){return[["M",i,e],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e-t],["L",i+t,e+t],["L",i-t,e+t],["Z"]]},diamond:function(i,e,t){return[["M",i-t,e],["L",i,e-t],["L",i+t,e],["L",i,e+t],["Z"]]},triangle:function(i,e,t){var r=t*Math.sin(1/3*Math.PI);return[["M",i-t,e+r],["L",i,e-r],["L",i+t,e+r],["z"]]},triangleDown:function(i,e,t){var r=t*Math.sin(1/3*Math.PI);return[["M",i-t,e-r],["L",i+t,e-r],["L",i,e+r],["Z"]]}},Fc={get:function(i){return Vs[i]},register:function(i,e){Vs[i]=e},remove:function(i){delete Vs[i]},getAll:function(){return Vs}},dw=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t){var r=this.get("el");r.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,u.isArray)(t)?t.map(function(r){return r.join(" ")}).join(""):t},e.prototype._getPath=function(){var t=this.attr(),r=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,u.isFunction)(o)?s=o:s=Fc.get(o),s?s(r,n,a):(console.warn(s+" symbol is not exist."),null)},e.symbolsFactory=Fc,e}(Ca),pw=dw,gw=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");(0,u.each)(r||a,function(s,l){if(l==="path"&&(0,u.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var f=(0,u.isObject)(s)?t.addArrow(a,Yn[l]):t.getDefaultArrow(a,Yn[l]);o.setAttribute(Yn[l],"url(#"+f+")")}else o.removeAttribute(Yn[l]);else Yn[l]&&o.setAttribute(Yn[l],s)})},e.prototype._formatPath=function(t){var r=t.map(function(n){return n.join(" ")}).join("");return~r.indexOf("NaN")?"":r},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var r=this.get("el"),n=this.getTotalLength(),a=r?r.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},e}(Ca),yw=gw,mw=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){s==="points"&&(0,u.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Yn[s]&&a.setAttribute(Yn[s],o)})},e}(Ca),xw=mw,bw=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){s==="points"&&(0,u.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Yn[s]&&a.setAttribute(Yn[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr().points,r=this.get("totalLength");return(0,u.isNil)(r)?(this.set("totalLength",Ec.Z.length(t)),this.get("totalLength")):r},e.prototype.getPoint=function(t){var r=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,u.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ha.default.pointAt(r[o][0],r[o][1],r[o+1][0],r[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var r=this.getTotalLength();if(!(r<=0)){var n=0,a=[],o,s;(0,u.each)(t,function(l,f){t[f+1]&&(o=[],o[0]=n/r,s=Ha.default.length(l[0],l[1],t[f+1][0],t[f+1][1]),n+=s,o[1]=n/r,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,r=[];return r.push([t[1][0],t[1][1]]),r.push([t[0][0],t[0][1]]),r},e.prototype.getEndTangent=function(){var t=this.attr().points,r=t.length-1,n=[];return n.push([t[r-1][0],t[r-1][1]]),n.push([t[r][0],t[r][1]]),n},e}(Ca),ww=bw,Sw=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Mw=/[^\s\,]+/gi;function Cw(i){var e=0,t=0,r=0,n=0;return(0,u.isArray)(i)?i.length===1?e=t=r=n=i[0]:i.length===2?(e=r=i[0],t=n=i[1]):i.length===3?(e=i[0],t=n=i[1],r=i[2]):(e=i[0],t=i[1],r=i[2],n=i[3]):e=t=r=n=i,{r1:e,r2:t,r3:r,r4:n}}function c9(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(Sw),each(i,function(e,t){if(e=e.match(Mw),e[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}each(e,function(n,a){isNaN(n)||(e[a]=+n)}),i[t]=e}),i}var Ew=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,u.each)(r||a,function(f,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&Yn[h]&&o.setAttribute(Yn[h],f)})},e.prototype._assembleRect=function(t){var r=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+r+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=Cw(s);(0,u.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var f=[["M "+(r+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return f.join(" ")},e}(Ca),Aw=Ew,Tw=v(56463),Rc=.3,Pw={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},_w={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Ow={left:"left",start:"left",center:"middle",right:"end",end:"end"},Lw=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Zr.__assign)((0,Zr.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,u.each)(r||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?qo(n):Yn[l]&&o.setAttribute(Yn[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),r=this.attr(),n=r.textBaseline,a=r.textAlign,o=(0,Tw.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",_w[n]||"alphabetic"):t.setAttribute("alignment-baseline",Pw[n]||"baseline"),t.setAttribute("text-anchor",Ow[a]||"left")},e.prototype._setText=function(t){var r=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)r.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),f=l.length-1,h="";(0,u.each)(l,function(c,d){d===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-f+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(f-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(f+Rc)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(f-1)-Rc)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),r.innerHTML=h}else r.innerHTML=t},e}(Ca),Iw=Lw,kw=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Bw=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Dw=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Nc(i){var e=i.match(Dw);if(!e)return"";var t="";return e.sort(function(r,n){return r=r.split(":"),n=n.split(":"),Number(r[0])-Number(n[0])}),(0,u.each)(e,function(r){r=r.split(":"),t+='<stop offset="'+r[0]+'" stop-color="'+r[1]+'"></stop>'}),t}function Fw(i,e){var t=kw.exec(i),r=(0,u.mod)((0,u.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;r>=0&&r<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=r&&r<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=r&&r<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(r),l=s*s,f=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;e.setAttribute("x1",a.x),e.setAttribute("y1",a.y),e.setAttribute("x2",f),e.setAttribute("y2",h),e.innerHTML=Nc(n)}function Rw(i,e){var t=Bw.exec(i),r=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];e.setAttribute("cx",r),e.setAttribute("cy",n),e.setAttribute("r",a),e.innerHTML=Nc(o)}var Nw=function(){function i(e){this.cfg={};var t=null,r=(0,u.uniqueId)("gradient_");return e.toLowerCase()[0]==="l"?(t=Ma("linearGradient"),Fw(e,t)):(t=Ma("radialGradient"),Rw(e,t)),t.setAttribute("id",r),this.el=t,this.id=r,this.cfg=e,this}return i.prototype.match=function(e,t){return this.cfg===t},i}(),Yw=Nw,Gw={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},zw={x:"-40%",y:"-40%",width:"200%",height:"200%"},Xw=function(){function i(e){this.type="filter",this.cfg={},this.type="filter";var t=Ma("filter");return(0,u.each)(zw,function(r,n){t.setAttribute(n,r)}),this.el=t,this.id=(0,u.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return i.prototype.match=function(e,t){if(this.type!==e)return!1;var r=!0,n=this.cfg;return(0,u.each)(Object.keys(n),function(a){if(n[a]!==t[a])return r=!1,!1}),r},i.prototype.update=function(e,t){var r=this.cfg;return r[Gw[e]]=t,this._parseShadow(r,this.el),this},i.prototype._parseShadow=function(e,t){var r=`<feDropShadow
      dx="`+(e.dx||0)+`"
      dy="`+(e.dy||0)+`"
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;t.innerHTML=r},i}(),Vw=Xw,Hw=function(){function i(e,t){this.cfg={};var r=Ma("marker"),n=(0,u.uniqueId)("marker_");r.setAttribute("id",n);var a=Ma("path");a.setAttribute("stroke",e.stroke||"none"),a.setAttribute("fill",e.fill||"none"),r.appendChild(a),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=a,this.id=n;var o=e[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(e.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(e,t){var r=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),r.setAttribute("refX",""+10*Math.cos(Math.PI/6)),r.setAttribute("refY",""+5)},i.prototype._setMarker=function(e,t){var r=this.el,n=this.cfg.path,a=this.cfg.d;(0,u.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),r.appendChild(t),a&&r.setAttribute("refX",""+a/e)},i.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},i}(),Yc=Hw,Ww=function(){function i(e){this.type="clip",this.cfg={};var t=Ma("clipPath");this.el=t,this.id=(0,u.uniqueId)("clip_"),t.id=this.id;var r=e.cfg.el;return t.appendChild(r),this.cfg=e,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},i}(),jw=Ww,Uw=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Zw=function(){function i(e){this.cfg={};var t=Ma("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var r=Ma("image");t.appendChild(r);var n=(0,u.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=e;var a=Uw.exec(e),o=a[2];r.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(e,t){return this.cfg===t},i}(),Kw=Zw,$w=function(){function i(e){var t=Ma("defs"),r=(0,u.uniqueId)("defs_");t.id=r,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return i.prototype.find=function(e,t){for(var r=this.children,n=null,a=0;a<r.length;a++)if(r[a].match(e,t)){n=r[a].id;break}return n},i.prototype.findById=function(e){for(var t=this.children,r=null,n=0;n<t.length;n++)if(t[n].id===e){r=t[n];break}return r},i.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},i.prototype.getDefaultArrow=function(e,t){var r=e.stroke||e.strokeStyle;if(this.defaultArrow[r])return this.defaultArrow[r].id;var n=new Yc(e,t);return this.defaultArrow[r]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(e){var t=new Yw(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(e,t){var r=new Yc(e,t);return this.el.appendChild(r.el),this.add(r),r.id},i.prototype.addShadow=function(e){var t=new Vw(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(e){var t=new Kw(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(e){var t=new jw(e);return this.el.appendChild(t.el),this.add(t),t.id},i}(),Qw=$w,Jw=function(i){(0,Zr.__extends)(e,i);function e(t){return i.call(this,(0,Zr.__assign)((0,Zr.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return e.prototype.getShapeBase=function(){return k},e.prototype.getGroupBase=function(){return Fu},e.prototype.getShape=function(t,r,n){var a=n.target||n.srcElement;if(!Du[a.tagName]){for(var o=a.parentNode;o&&!Du[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},e.prototype.createDom=function(){var t=Ma("svg"),r=new Qw(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",r),t},e.prototype.onCanvasChange=function(t){var r=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&kc(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=r.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?qo(this):t==="clip"?ts(this,r):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),r=this.getChildren();ts(this,t),r.length&&Bc(t,r)},e}(lr.AbstractCanvas),Gc=Jw,qw=v(23231),tS=qw.version;function Ru(i){return i?!1:i==null||isNaN(i)}function zc(i){if((0,u.isArray)(i))return Ru(i[1].y);var e=i.y;return(0,u.isArray)(e)?Ru(e[0]):Ru(e)}function Nu(i,e,t){if(e===void 0&&(e=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(e){for(var r=[],n=0,a=i.length;n<a;n++){var o=i[n];zc(o)||r.push(o)}return[r]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];zc(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function Ii(i,e,t,r){r===void 0&&(r="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,f=(0,I.__assign)((0,I.__assign)({},o),a);return s&&(e&&(a.stroke||(f.stroke=s)),t&&(a.fill||(f.fill=s))),r&&(0,u.isNil)(a[r])&&!(0,u.isNil)(l)&&(f[r]=l),f}function Yu(i){var e=i.x,t=(0,u.isArray)(i.y)?i.y:[i.y];return t.map(function(r,n){return{x:(0,u.isArray)(e)?e[n]:e,y:r}})}var eS={line:function(i,e,t){return[["M",i-t,e],["L",i+t,e]]},dot:function(i,e,t){return[["M",i-t,e],["L",i+t,e]]},dash:function(i,e,t){return[["M",i-t,e],["L",i+t,e]]},smooth:function(i,e,t){return[["M",i-t,e],["A",t/2,t/2,0,1,1,i,e],["A",t/2,t/2,0,1,0,i+t,e]]},hv:function(i,e,t){return[["M",i-t-1,e-2.5],["L",i,e-2.5],["L",i,e+2.5],["L",i+t+1,e+2.5]]},vh:function(i,e,t){return[["M",i-t-1,e+2.5],["L",i,e+2.5],["L",i,e-2.5],["L",i+t+1,e-2.5]]},hvh:function(i,e,t){return[["M",i-(t+1),e+2.5],["L",i-t/2,e+2.5],["L",i-t/2,e-2.5],["L",i+t/2,e-2.5],["L",i+t/2,e+2.5],["L",i+t+1,e+2.5]]},vhv:function(i,e){return[["M",i-5,e+2.5],["L",i-5,e],["L",i,e],["L",i,e-3],["L",i,e+3],["L",i+6.5,e+3]]}};function Xc(i,e){var t=i.color;return{symbol:eS[e],style:{lineWidth:2,r:6,stroke:t}}}function rS(i,e,t){for(var r=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=Ii(i,!0,!1,"lineWidth"),l=Nu(i.points,n,o),f=[],h=0,c=l.length;h<c;h++){var d=l[h];f=f.concat(iS(d,a,r,e,t,s))}return s.path=f,s}function Gu(i,e,t,r,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(e&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=Ae(i,!1,r)):(a=Ce(i,!1),e&&a.push(["Z"])),a}function nS(i,e,t,r,n,a){var o=[],s=[];(0,u.each)(i,function(h){var c=Yu(h);o.push(c[1]),s.push(c[0])});var l=Gu(o,e,r,n,a),f=Gu(s,e,r,n,a);return t?l:l.concat(f)}function iS(i,e,t,r,n,a){if(i.length){var o=i[0];return(0,u.isArray)(o.y)?nS(i,e,t,r,n,a):Gu(i,e,r,n,a)}return[]}var v9=to("line",{defaultShapeType:"line"});(0,u.each)(["line","dot","dash","smooth"],function(i){Rn("line",i,{draw:function(e,t){var r=i==="smooth",n;if(r){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=rS(e,r,n),f=t.addShape({type:"path",attrs:l,name:"line"});return f},getMarker:function(e){return Xc(e,i)}})});var d9=null,aS=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.type="path",r.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return r.connectNulls=a,r.showSinglePoint=s,r}return e.prototype.createElements=function(t,r,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,f=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),d=o[h];if(d){var L=d.getModel();(this.isCoordinateChanged||nc(L,c))&&(d.animate=this.animateOption,d.update(c)),delete o[h]}else{var b=this.getShapeFactory();d=new Jh({shapeFactory:b,container:f,offscreenGroup:this.getOffscreenGroup()}),d.geometry=this,d.animate=this.animateOption,d.draw(c,n)}return l.push(d),s[h]=d,l},e.prototype.getPointsAndData=function(t){for(var r=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];r.push({x:s.x,y:s.y}),n.push(s[et])}return{points:r,data:n}},e.prototype.getShapeInfo=function(t){var r=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return r.mappingData=t,r.data=o,r.isStack=!!this.getAdjust("stack"),r.points=a,r.connectNulls=this.connectNulls,r.showSinglePoint=this.showSinglePoint,r},e}(Va),zu=aS;function oS(i,e,t,r,n){var a=[];if(i.length){for(var o=[],s=[],l=0,f=i.length;l<f;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,u.each)([o,s],function(c,d){var b=[],L=r.parsePoints(c),D=L[0];o.length===1&&s.length===1?b=d===0?[["M",D.x-.5,D.y],["L",D.x+.5,D.y]]:[["L",D.x+.5,D.y],["L",D.x-.5,D.y]]:(e&&L.push({x:D.x,y:D.y}),t?b=Ae(L,!1,n):b=Ce(L,!1),d>0&&(b[0][0]="L")),a=a.concat(b)}),a.push(["Z"])}return a}function Hs(i,e,t,r,n){for(var a=Ii(i,e,!e,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,f=i.showSinglePoint,h=Nu(l,o,f),c=[],d=0,b=h.length;d<b;d++){var L=h[d];c=c.concat(oS(L,s,t,r,n))}return a.path=c,a}function Vc(i){var e=i.start,t=i.end;return[[e.x,t.y],[t.x,e.y]]}var p9=to("area",{defaultShapeType:"area",getDefaultPoints:function(i){var e=i.x,t=i.y0,r=(0,u.isArray)(i.y)?i.y:[t,i.y];return r.map(function(n){return{x:e,y:n}})}});Rn("area","area",{draw:function(i,e){var t=Hs(i,!1,!1,this),r=e.addShape({type:"path",attrs:t,name:"area"});return r},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return n===void 0&&(n=5.5),[["M",t-n,r-4],["L",t+n,r-4],["L",t+n,r+4],["L",t-n,r+4],["Z"]]},style:{r:5,fill:e}}}});var g9=null,sS=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.type="area",r.shapeType="area",r.generatePoints=!0,r.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,f=l===void 0?!1:l;return r.startOnZero=a,r.sortable=s,r.showSinglePoint=f,r}return e.prototype.getPointsAndData=function(t){for(var r=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];r.push(s.points),n.push(s[et])}return{points:r,data:n}},e.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},e}(zu),lS=sS,y9=to("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return Yu(i)}});Rn("edge","line",{draw:function(i,e){var t=Ii(i,!0,!1,"lineWidth"),r=Ce(this.parsePoints(i.points),this.coordinate.isPolar);return e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:r})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var m9=null,uS=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return e}(Va),fS=uS,hS=v(55223),cS=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return e.prototype.createElements=function(t,r,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,u.get)(this.styleOption,["style","shadowBlur"]);return(0,u.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},e.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var r=this.getAttribute("color"),n=r.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[et][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,u.isNumber)(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,r){var n=this.getGrayScaleBlurredCanvas(),a=t+r,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=r,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},e.prototype.drawWithRange=function(t,r,n,a){var o=this.coordinate,s=o.start,l=o.end,f=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),d=c.getFields()[0];this.clearShadowCanvasCtx();var b=this.getShadowCanvasCtx();r&&(t=t.filter(function(oe){return oe[et][d]<=r[1]&&oe[et][d]>=r[0]}));for(var L=this.scales[d],D=0,V=t;D<V.length;D++){var $=V[D],K=this.getDrawCfg($),yt=K.x,wt=K.y,Rt=L.scale($[et][d]);this.drawGrayScaleBlurredCircle(yt-s.x,wt-l.y,n+a,Rt,b)}var Zt=b.getImageData(0,0,f,h);this.clearShadowCanvasCtx(),this.colorize(Zt),b.putImageData(Zt,0,0);var te=this.getImageShape();te.attr("x",s.x),te.attr("y",l.y),te.attr("width",f),te.attr("height",h),te.attr("img",b.canvas),te.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),r=this.coordinate;return Math.min(r.getWidth()/(t.scales[0].ticks.length*4),r.getHeight()/(t.scales[1].ticks.length*4))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,r,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,r-n)},e.prototype.colorize=function(t){for(var r=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,u.isNumber)(s)){var l=a[s]?a[s]:hS.default.rgb2arr(r.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var r=this.container;return t=r.addShape({type:"image",attrs:{}}),this.imageShape=t,t},e.prototype.getShapeInfo=function(t){var r=this.getDrawCfg(t[0]);return(0,I.__assign)((0,I.__assign)({},r),{mappingData:t,data:this.getData(t)})},e.prototype.getData=function(t){return t.map(function(r){return r[et]})},e}(Va),vS=cS;function Xu(i,e){e===void 0&&(e=!1);var t=i.x,r=i.y,n=i.y0,a=i.size,o,s;(0,u.isArray)(r)?(o=r[0],s=r[1]):(o=n,s=r);var l,f;(0,u.isArray)(t)?(l=t[0],f=t[1]):(l=t-a/2,f=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return e?h.push({x:f,y:(s+o)/2}):h.push({x:f,y:s},{x:f,y:o}),h}function Vu(i,e){e===void 0&&(e=!0);var t=[],r=i[0];t.push(["M",r.x,r.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return e&&(t.push(["L",r.x,r.y]),t.push(["z"])),t}function Hc(i,e,t){var r=[];return(0,u.isNil)(e)?t?r.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):r.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):r.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),r}var x9=to("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return Xu(i)}});Rn("interval","rect",{draw:function(i,e){var t=Ii(i,!1,!0),r=this.parsePath(Vu(i.points)),n=e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var b9=null;function dS(i,e){var t=i.length,r=i;(0,u.isString)(r[0])&&(r=i.map(function(s){return e.translate(s)}));for(var n=r[1]-r[0],a=2;a<t;a++){var o=r[a]-r[a-1];n>o&&(n=o)}return n}function pS(i,e){if(e){var t=(0,u.flatten)(i),r=(0,u.valuesOfKey)(t,e);return r.length}return i.length}function Wc(i){var e=i.theme,t=i.coordinate,r=i.getXScale(),n=r.values,a=i.beforeMappingData,o=n.length;if(r.isLinear&&n.length>1){n.sort();var s=dS(n,r);o=(r.max-r.min)/s,n.length>o&&(o=n.length)}var l=r.range,f=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=e.multiplePieWidthRatio:h=e.roseWidthRatio:(r.isLinear&&(f*=l[1]-l[0]),h=e.columnWidthRatio),f*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),d=c.dodgeBy,b=pS(a,d);f=f/b}var L=e.maxColumnWidth,D=e.minColumnWidth,V=ae(i.coordinate);if(L){var $=L/V;f>$&&(f=$)}if(D){var K=D/V;f<K&&(f=K)}return f}var gS=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var r=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=ae(o);n=n/s}else this.defaultSize||(this.defaultSize=Wc(this)),n=this.defaultSize;return r.size=n,r},e.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var r=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,u.get)(r,[n,"min"])&&t.change({min:0}),o<=0&&!(0,u.get)(r,[n,"max"])&&t.change({max:0}))}},e}(Va),yS=gS,mS=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.type="line";var n=t.sortable,a=n===void 0?!0:n;return r.sortable=a,r}return e}(zu),xS=mS,xo={hexagon:function(i,e,t){var r=t/2*Math.sqrt(3);return[["M",i,e-t],["L",i+r,e-t/2],["L",i+r,e+t/2],["L",i,e+t],["L",i-r,e+t/2],["L",i-r,e-t/2],["Z"]]},bowtie:function(i,e,t){var r=t-1.5;return[["M",i-t,e-r],["L",i+t,e+r],["L",i+t,e-r],["L",i-t,e+r],["Z"]]},cross:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e+t],["M",i+t,e-t],["L",i-t,e+t]]},tick:function(i,e,t){return[["M",i-t/2,e-t],["L",i+t/2,e-t],["M",i,e-t],["L",i,e+t],["M",i-t/2,e+t],["L",i+t/2,e+t]]},plus:function(i,e,t){return[["M",i-t,e],["L",i+t,e],["M",i,e-t],["L",i,e+t]]},hyphen:function(i,e,t){return[["M",i-t,e],["L",i+t,e]]},line:function(i,e,t){return[["M",i,e-t],["L",i,e+t]]}},jc=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],bS=["cross","tick","plus","hyphen","line"];function Hu(i,e,t,r,n){var a=Ii(e,n,!n,"r"),o=i.parsePoints(e.points),s=o[0];if(e.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),f=0,h=o;f<h.length;f++){var c=h[f];l.addShape({type:"marker",attrs:(0,I.__assign)((0,I.__assign)((0,I.__assign)({},a),{symbol:xo[r]||r}),c)})}return l}return t.addShape({type:"marker",attrs:(0,I.__assign)((0,I.__assign)((0,I.__assign)({},a),{symbol:xo[r]||r}),s)})}var w9=to("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return Yu(i)}});(0,u.each)(jc,function(i){Rn("point","hollow-"+i,{draw:function(e,t){return Hu(this,e,t,i,!0)},getMarker:function(e){var t=e.color;return{symbol:xo[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var S9=null,wS=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return e.prototype.getDrawCfg=function(t){var r=i.prototype.getDrawCfg.call(this,t);return(0,I.__assign)((0,I.__assign)({},r),{isStack:!!this.getAdjust("stack")})},e}(Va),SS=wS;function MS(i){for(var e=i[0],t=1,r=[["M",e.x,e.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(r.push(["L",n.x,n.y]),n.x===e.x&&n.y===e.y&&t<i.length-1&&(e=i[t+1],r.push(["Z"]),r.push(["M",e.x,e.y]),t++)),t++}return(0,u.isEqual)((0,u.last)(r),e)||r.push(["L",e.x,e.y]),r.push(["Z"]),r}var M9=to("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var e=[];return(0,u.each)(i.x,function(t,r){var n=i.y[r];e.push({x:t,y:n})}),e}});Rn("polygon","polygon",{draw:function(i,e){if(!(0,u.isEmpty)(i.points)){var t=Ii(i,!0,!0),r=this.parsePath(MS(i.points));return e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:r}),name:"polygon"})}},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}});var C9=null,CS=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var r=i.prototype.createShapePointsCfg.call(this,t),n=r.x,a=r.y,o;if(!((0,u.isArray)(n)&&(0,u.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),f=s.values.length,h=l.values.length,c=.5*1/f,d=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-d,a+d,a+d,a-d]):(0,u.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-d/2,a+d/2,a+d/2,a-d/2]):(0,u.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),r.x=n,r.y=a}return r},e}(Va),ES=CS,E9=to("schema",{defaultShapeType:""}),A9=null,AS=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var r=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=ae(o);n=n/s}else this.defaultSize||(this.defaultSize=Wc(this)),n=this.defaultSize;return r.size=n,r},e}(Va),TS=AS;Rn("area","line",{draw:function(i,e){var t=Hs(i,!0,!1,this),r=e.addShape({type:"path",attrs:t,name:"area"});return r},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return n===void 0&&(n=5.5),[["M",t-n,r-4],["L",t+n,r-4],["L",t+n,r+4],["L",t-n,r+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}}),Rn("area","smooth",{draw:function(i,e){var t=this.coordinate,r=Hs(i,!1,!0,this,Vc(t)),n=e.addShape({type:"path",attrs:r,name:"area"});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return n===void 0&&(n=5.5),[["M",t-n,r-4],["L",t+n,r-4],["L",t+n,r+4],["L",t-n,r+4],["Z"]]},style:{r:5,fill:e}}}}),Rn("area","smooth-line",{draw:function(i,e){var t=this.coordinate,r=Hs(i,!0,!0,this,Vc(t)),n=e.addShape({type:"path",attrs:r,name:"area"});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return n===void 0&&(n=5.5),[["M",t-n,r-4],["L",t+n,r-4],["L",t+n,r+4],["L",t-n,r+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});function Wu(i,e){var t=[];t.push({x:i.x,y:i.y*1/2+e.y*1/2}),t.push({x:e.x,y:i.y*1/2+e.y*1/2}),t.push(e);var r=["C"];return(0,u.each)(t,function(n){r.push(n.x,n.y)}),r}function ju(i,e){var t=[];t.push({x:e.x,y:e.y}),t.push(i);var r=["Q"];return(0,u.each)(t,function(n){r.push(n.x,n.y)}),r}function PS(i,e,t){var r=ju(e,t),n=[["M",i.x,i.y]];return n.push(r),n}function _S(i,e){var t=ju(i[1],e),r=ju(i[3],e),n=[["M",i[0].x,i[0].y]];return n.push(r),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}Rn("edge","arc",{draw:function(i,e){var t=Ii(i,!0,!1,"lineWidth"),r=i.points,n=r.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=PS(r[0],r[1],o):(t.fill=t.stroke,a=_S(r,o)),a=this.parsePath(a),e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:a})})}else{if(n==="normal")return r=this.parsePoints(r),a=We((r[1].x+r[0].x)/2,r[0].y,Math.abs(r[1].x-r[0].x)/2,Math.PI,Math.PI*2),e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:a})});var s=Wu(r[1],r[3]),l=Wu(r[2],r[0]);return a=[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],s,["L",r[3].x,r[3].y],["L",r[2].x,r[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function OS(i,e){var t=Wu(i,e),r=[["M",i.x,i.y]];return r.push(t),r}Rn("edge","smooth",{draw:function(i,e){var t=Ii(i,!0,!1,"lineWidth"),r=i.points,n=this.parsePath(OS(r[0],r[1]));return e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var Ws=1/3;function LS(i,e){var t=[];t.push({x:i.x,y:i.y*(1-Ws)+e.y*Ws}),t.push({x:e.x,y:i.y*(1-Ws)+e.y*Ws}),t.push(e);var r=[["M",i.x,i.y]];return(0,u.each)(t,function(n){r.push(["L",n.x,n.y])}),r}Rn("edge","vhv",{draw:function(i,e){var t=Ii(i,!0,!1,"lineWidth"),r=i.points,n=this.parsePath(LS(r[0],r[1]));return e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),Rn("interval","funnel",{getPoints:function(i){return i.size=i.size*2,Xu(i)},draw:function(i,e){var t=Ii(i,!1,!0),r=this.parsePath(Hc(i.points,i.nextPoints,!1)),n=e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}}),Rn("interval","hollow-rect",{draw:function(i,e){var t=Ii(i,!0,!1),r=this.parsePath(Vu(i.points)),n=e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}});function IS(i){var e=i.x,t=i.y,r=i.y0;return(0,u.isArray)(t)?t.map(function(n,a){return{x:(0,u.isArray)(e)?e[a]:e,y:n}}):[{x:e,y:r},{x:e,y:t}]}Rn("interval","line",{getPoints:function(i){return IS(i)},draw:function(i,e){var t=Ii(i,!0,!1,"lineWidth"),r=this.parsePath(Vu(i.points,!1)),n=e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return[["M",t,r-n],["L",t,r+n]]},style:{r:5,stroke:e}}}}),Rn("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,Xu(i,!0)},draw:function(i,e){var t=Ii(i,!1,!0),r=this.parsePath(Hc(i.points,i.nextPoints,!0)),n=e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}});function kS(i){var e=i.x,t=i.y,r=i.y0,n=i.size,a,o;(0,u.isArray)(t)?(a=t[0],o=t[1]):(a=r,o=t);var s=e+n/2,l=e-n/2;return[{x:e,y:a},{x:e,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function BS(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}Rn("interval","tick",{getPoints:function(i){return kS(i)},draw:function(i,e){var t=Ii(i,!0,!1),r=this.parsePath(BS(i.points)),n=e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return[["M",t-n/2,r-n],["L",t+n/2,r-n],["M",t,r-n],["L",t,r+n],["M",t-n/2,r+n],["L",t+n/2,r+n]]},style:{r:5,stroke:e}}}});var DS=function(i,e,t){var r=i.x,n=i.y,a=e.x,o=e.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:r,y:o}];break;case"hvh":var l=(a+r)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var f=(n+o)/2;s=[{x:r,y:f},{x:a,y:f}];break;default:break}return s};function FS(i,e){var t=[];return(0,u.each)(i,function(r,n){var a=i[n+1];if(t.push(r),a){var o=DS(r,a,e);t=t.concat(o)}}),t}function RS(i){return i.map(function(e,t){return t===0?["M",e.x,e.y]:["L",e.x,e.y]})}function NS(i,e){var t=Nu(i.points,i.connectNulls,i.showSinglePoint),r=[];return(0,u.each)(t,function(n){var a=FS(n,e);r=r.concat(RS(a))}),(0,I.__assign)((0,I.__assign)({},Ii(i,!0,!1,"lineWidth")),{path:r})}(0,u.each)(["hv","vh","hvh","vhv"],function(i){Rn("line",i,{draw:function(e,t){var r=NS(e,i),n=t.addShape({type:"path",attrs:r,name:"line"});return n},getMarker:function(e){return Xc(e,i)}})}),(0,u.each)(bS,function(i){Rn("point",i,{draw:function(e,t){return Hu(this,e,t,i,!0)},getMarker:function(e){var t=e.color;return{symbol:xo[i],style:{r:4.5,stroke:t,fill:null}}}})}),Rn("point","image",{draw:function(i,e){var t=Ii(i,!1,!1,"r").r,r=this.parsePoints(i.points),n=r[0];if(i.isStack)n=r[1];else if(r.length>1){for(var a=e.addGroup(),o=0,s=r;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return e.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var e=i.color;return{symbol:"circle",style:{r:4.5,fill:e}}}}),(0,u.each)(jc,function(i){Rn("point",i,{draw:function(e,t){return Hu(this,e,t,i,!1)},getMarker:function(e){var t=e.color;return{symbol:xo[i]||i,style:{r:4.5,fill:t}}}})});function Uc(i){var e=(0,u.isArray)(i)?i:[i],t=e[0],r=e[e.length-1],n=e.length>1?e[1]:t,a=e.length>3?e[3]:r,o=e.length>2?e[2]:n;return{min:t,max:r,min1:n,max1:a,median:o}}function Zc(i,e,t){var r=t/2,n;if((0,u.isArray)(e)){var a=Uc(e),o=a.min,s=a.max,l=a.median,f=a.min1,h=a.max1,c=i-r,d=i+r;n=[[c,s],[d,s],[i,s],[i,h],[c,f],[c,h],[d,h],[d,f],[i,f],[i,o],[c,o],[d,o],[c,l],[d,l]]}else{e=(0,u.isNil)(e)?.5:e;var b=Uc(i),o=b.min,s=b.max,l=b.median,f=b.min1,h=b.max1,L=e-r,D=e+r;n=[[o,L],[o,D],[o,e],[f,e],[f,L],[f,D],[h,D],[h,L],[h,e],[s,e],[s,L],[s,D],[l,L],[l,D]]}return n.map(function(V){return{x:V[0],y:V[1]}})}function YS(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}Rn("schema","box",{getPoints:function(i){var e=i.x,t=i.y,r=i.size;return Zc(e,t,r)},draw:function(i,e){var t=Ii(i,!0,!1),r=this.parsePath(YS(i.points)),n=e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:r,name:"schema"})});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){var a=[r-6,r-3,r,r+3,r+6],o=Zc(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}});function GS(i){var e=(0,u.isArray)(i)?i:[i],t=e.sort(function(r,n){return n-r});return pr(t,4,t[t.length-1])}function Kc(i,e,t){var r=GS(e);return[{x:i,y:r[0]},{x:i,y:r[1]},{x:i-t/2,y:r[2]},{x:i-t/2,y:r[1]},{x:i+t/2,y:r[1]},{x:i+t/2,y:r[2]},{x:i,y:r[2]},{x:i,y:r[3]}]}function zS(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}Rn("schema","candle",{getPoints:function(i){var e=i.x,t=i.y,r=i.size;return Kc(e,t,r)},draw:function(i,e){var t=Ii(i,!0,!0),r=this.parsePath(zS(i.points)),n=e.addShape("path",{attrs:(0,I.__assign)((0,I.__assign)({},t),{path:r,name:"schema"})});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){var a=[r+7.5,r+3,r-3,r-7.5],o=Kc(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});function XS(i,e){var t=Math.abs(i[0].x-i[2].x),r=Math.abs(i[0].y-i[2].y),n=Math.min(t,r);e&&(n=(0,u.clamp)(e,0,Math.min(t,r))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}Rn("polygon","square",{draw:function(i,e){if(!(0,u.isEmpty)(i.points)){var t=Ii(i,!0,!0),r=this.parsePoints(i.points);return e.addShape("rect",{attrs:(0,I.__assign)((0,I.__assign)({},t),XS(r,i.size)),name:"polygon"})}},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}});var VS=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setLabelPosition=function(t,r,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=r.points,f=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,d=(f.x-h.x)/2*c,b=(f.y-h.y)/2*c;switch(a){case"right":s||(t.x-=d,t.y+=b),t.textAlign=(0,u.get)(t,"textAlign","left");break;case"left":s?t.x-=d*2:(t.x+=d,t.y+=b),t.textAlign=(0,u.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=d,t.y-=b):t.y+=b*2,t.textAlign=(0,u.get)(t,"textAlign","center"),t.textBaseline=(0,u.get)(t,"textBaseline","top");break;case"middle":s?t.x-=d:t.y+=b,t.textAlign=(0,u.get)(t,"textAlign","center");break;case"top":s&&(t.x-=d,t.y+=b),t.textAlign=(0,u.get)(t,"textAlign","center"),t.textBaseline=(0,u.get)(t,"textBaseline","bottom");break;default:break}},e}(Bs),HS=VS,js=Math.PI/2,WS=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getLabelAlign=function(t){var r=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!r.isTransposed)n="center";else{var a=r.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},e.prototype.getLabelPoint=function(t,r,n){var a=1,o,s=t.content[n];this.isToMiddle(r)?o=this.getMiddlePoint(r.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(r,n));var l=this.getDefaultOffset(t.offset)*a,f=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(f,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=f,c.color=r.color),c.rotate=t.autoRotate?this.getLabelRotate(f,l,h):t.rotate,c.start={x:o.x,y:o.y},c},e.prototype.getArcPoint=function(t,r){return r===void 0&&(r=0),!(0,u.isArray)(t.x)&&!(0,u.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,u.isArray)(t.x)?t.x[r]:t.x,y:(0,u.isArray)(t.y)?t.y[r]:t.y}},e.prototype.getPointAngle=function(t){return ur(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,r,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=Le(o,n);if(l===0)return(0,I.__assign)((0,I.__assign)({},s),{r:l});var f=t;if(o.isTransposed&&l>r&&!a){var h=Math.asin(r/(2*l));f=t+h*2}else l=l+r;return{x:s.x+l*Math.cos(f),y:s.y+l*Math.sin(f),r:l}},e.prototype.getLabelRotate=function(t,r,n){var a=t+js;return n&&(a-=js),a&&(a>js?a=a-Math.PI:a<-js&&(a=a+Math.PI)),a},e.prototype.getMiddlePoint=function(t){var r=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,u.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=r.convert(a),a},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(Bs),$c=WS,jS=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.defaultLayout="distribute",r}return e.prototype.getDefaultLabelCfg=function(){return(0,u.get)(this.geometry.theme,"pieLabels",{})},e.prototype.getDefaultOffset=function(t){return t||0},e.prototype.getLabelRotate=function(t,r,n){var a;return r<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},e.prototype.getLabelAlign=function(t){var r=this.getCoordinate(),n=r.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var r=this.getCoordinate(),n={x:(0,u.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,u.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=ur(r,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=ur(r,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},e.prototype.getCirclePoint=function(t,r,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+r;return(0,I.__assign)((0,I.__assign)({},Oe(o.x,o.y,s,t)),{angle:t,r:s})},e}($c),US=jS,Qc=4;function ZS(i,e,t,r,n,a){var o=!0,s=r.start,l=r.end,f=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,d=0,b=Number.MIN_VALUE,L=e.map(function(Rt){return Rt.y>d&&(d=Rt.y),Rt.y<b&&(b=Rt.y),{size:t,targets:[Rt.y-f]}});for(b-=f,d-f>h&&(h=d-f);o;)for(L.forEach(function(Rt){var Zt=(Math.min.apply(b,Rt.targets)+Math.max.apply(b,Rt.targets))/2;Rt.pos=Math.min(Math.max(b,Zt-Rt.size/2),h-Rt.size)}),o=!1,c=L.length;c--;)if(c>0){var D=L[c-1],V=L[c];D.pos+D.size>V.pos&&(D.size+=V.size,D.targets=D.targets.concat(V.targets),D.pos+D.size>h&&(D.pos=h-D.size),L.splice(c,1),o=!0)}c=0,L.forEach(function(Rt){var Zt=f+t/2;Rt.targets.forEach(function(){e[c].y=Rt.pos+Zt,Zt+=t,c++})});for(var $={},K=0,yt=i;K<yt.length;K++){var wt=yt[K];$[wt.get("id")]=wt}e.forEach(function(Rt){var Zt=Rt.r*Rt.r,te=Math.pow(Math.abs(Rt.y-n.y),2);if(Zt<te)Rt.x=n.x;else{var oe=Math.sqrt(Zt-te);a?Rt.x=n.x+oe:Rt.x=n.x-oe}var re=$[Rt.id];re.attr("x",Rt.x),re.attr("y",Rt.y);var ye=(0,u.find)(re.getChildren(),function(Pe){return Pe.get("type")==="text"});ye&&(ye.attr("y",Rt.y),ye.attr("x",Rt.x))})}function KS(i,e,t,r){var n=i[0]?i[0].offset:0,a=e[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,f=o+n,h=f*2+l*2,c={start:a.start,end:a.end},d=[[],[]];i.forEach(function(b){!b||(b.textAlign==="right"?d[0].push(b):d[1].push(b))}),d.forEach(function(b,L){var D=h/l;b.length>D&&(b.sort(function(V,$){return $["..percent"]-V["..percent"]}),b.splice(D,b.length-D)),b.sort(function(V,$){return V.y-$.y}),ZS(e,b,l,c,s,L)})}(0,u.each)(i,function(b){if(b&&b.labelLine){var L=b.offset,D=b.angle,V=Oe(s.x,s.y,o,D),$=Oe(s.x,s.y,o+L/2,D),K=b.x+(0,u.get)(b,"offsetX",0),yt=b.y+(0,u.get)(b,"offsetY",0),wt={x:K-Math.cos(D)*Qc,y:yt-Math.sin(D)*Qc};(0,u.isObject)(b.labelLine)||(b.labelLine={}),b.labelLine.path=["M "+V.x,V.y+" Q"+$.x,$.y+" "+wt.x,wt.y].join(",")}})}var Jc=4;function $S(i,e,t,r,n,a,o){e.sort(function(re,ye){return re.y-ye.y});var s=r.start,l=r.end,f=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,d=e.map(function(re){return{content:re.content,size:t,pos:re.y,targets:[re.y]}}),b=Math.max.apply(Math,d.map(function(re){return re.pos})),L=Math.min.apply(Math,d.map(function(re){return re.pos}));if(o){for(var D=Math.min(L,h-(d.length-1)*t),V=Math.max(D+d.length*t,b+t),$=!0;$;)for($=!1,c=d.length;c--;)if(c>0){var K=d[c-1],yt=d[c];K.pos+K.size>yt.pos&&(yt.pos+c*t<V?(K.size+=yt.size,K.targets=K.targets.concat(yt.targets),d.splice(c,1)):K.pos=yt.pos-K.size,$=!0)}}else for(var V=Math.max(f+(d.length-1)*t,b),D=Math.min(L,V-(d.length-1)*t),$=!0;$;)for($=!1,c=d.length;c--;)if(c>0){var K=d[c-1],yt=d[c];K.pos+K.size>yt.pos&&(K.pos-D>c*t?K.pos-=K.size:(K.size+=yt.size,K.targets=K.targets.concat(yt.targets),d.splice(c,1)),$=!0)}c=0,d.forEach(function(re){var ye=re.pos;re.targets.forEach(function(){e[c].y=ye,ye+=t,c++})});for(var wt={},Rt=0,Zt=i;Rt<Zt.length;Rt++){var te=Zt[Rt];wt[te.get("id")]=te}var oe=(Math.max.apply(Math,e.map(function(re){return re.y}))-Math.min.apply(Math,e.map(function(re){return re.y})))/2;oe=Math.max(oe,a),e.forEach(function(re){var ye=wt[re.id],Pe=ye.find(function(Ze){return Ze.get("type")==="text"});if(Pe&&Pe.attr("y")!==re.y){var ze=oe*oe,je=Math.pow(Math.abs(re.y-n.y),2);if(ze<je)re.x=n.x;else{var Qe=Math.sqrt(ze-je);o?re.x=n.x+Qe:re.x=n.x-Qe}}ye.attr("x",re.x),ye.attr("y",re.y),Pe&&(Pe.attr("y",re.y),Pe.attr("x",re.x))})}function QS(i,e,t,r){var n=i[0]?i[0].offset:0,a=e[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,u.get)(i[0],"labelHeight",14),f=o+n,h=f*2+l*2,c={start:a.start,end:a.end},d=[[],[]];i.forEach(function(b){!b||(b.x<s.x?d[0].push(b):d[1].push(b))}),d.forEach(function(b,L){var D=h/l;if(b.length>D){b.sort(function($,K){return K["data.percent"]-$["data.percent"]});var V=b.splice(D,b.length-D+1);V.forEach(function($){var K=e.findIndex(function(yt){return yt.get("id")===$.id});e[K]&&(e[K].remove(!0),e.splice(K,1))})}$S(e,b,l,c,s,f,L===1)})}(0,u.each)(i,function(b){if(b&&b.labelLine){var L=b.angle,D=Oe(s.x,s.y,o,L),V=b.x+(0,u.get)(b,"offsetX",0)*(Math.cos(L)>0?1:-1),$=b.y+(0,u.get)(b,"offsetY",0)*(Math.sin(L)>0?1:-1),K={x:V-Math.cos(L)*Jc,y:$-Math.sin(L)*Jc},yt=b.labelLine.smooth,wt=[],Rt=K.x-s.x,Zt=K.y-s.y,te=Math.atan(Zt/Rt);if(Rt<0&&(te+=Math.PI),yt===!1){(0,u.isObject)(b.labelLine)||(b.labelLine={});var oe=0;(L<0&&L>-Math.PI/2||L>Math.PI*1.5)&&K.y>D.y&&(oe=1),L>=0&&L<Math.PI/2&&K.y>D.y&&(oe=1),L>=Math.PI/2&&L<Math.PI&&D.y>K.y&&(oe=1),(L<-Math.PI/2||L>=Math.PI&&L<Math.PI*1.5)&&D.y>K.y&&(oe=1);var re=n/2>4?4:Math.max(n/2-1,0),ye=Oe(s.x,s.y,o+re,L),Pe=Oe(s.x,s.y,o+n/2,te),ze=0;wt.push("M "+D.x+" "+D.y),wt.push("L "+ye.x+" "+ye.y),wt.push("A "+s.x+" "+s.y+" 0 "+ze+" "+oe+" "+Pe.x+" "+Pe.y),wt.push("L "+K.x+" "+K.y)}else{var ye=Oe(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),L),je=D.x<s.x?1:-1;wt.push("M "+K.x+" "+K.y);var Qe=(D.y-s.y)/(D.x-s.x),Ze=(K.y-s.y)/(K.x-s.x);Math.abs(Qe-Ze)>Math.pow(Math.E,-16)&&wt.push.apply(wt,["C",K.x+je*4,K.y,2*ye.x-D.x,2*ye.y-D.y,D.x,D.y]),wt.push("L "+D.x+" "+D.y)}b.labelLine.path=wt.join(" ")}})}function JS(i,e,t,r){(0,u.each)(e,function(n){var a=r.minX,o=r.minY,s=r.maxX,l=r.maxY,f=n.getCanvasBBox(),h=f.minX,c=f.minY,d=f.maxX,b=f.maxY,L=f.x,D=f.y,V=f.width,$=f.height,K=L,yt=D;(h<a||d<a)&&(K=a),(c<o||b<o)&&(yt=o),h>s?K=s-V:d>s&&(K=K-(d-s)),c>l?yt=l-$:b>l&&(yt=yt-(b-l)),(K!==L||yt!==D)&&Cu(n,K-L,yt-D)})}function qS(i,e,t,r){(0,u.each)(e,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var t2=100,qc=function(){function i(e){e===void 0&&(e={}),this.bitmap={};var t=e.xGap,r=t===void 0?1:t,n=e.yGap,a=n===void 0?8:n;this.xGap=r,this.yGap=a}return i.prototype.hasGap=function(e){for(var t=!0,r=this.bitmap,n=Math.round(e.minX),a=Math.round(e.maxX),o=Math.round(e.minY),s=Math.round(e.maxY),l=n;l<=a;l+=1){if(!r[l]){r[l]={};continue}if(l===n||l===a){for(var f=o;f<=s;f++)if(r[l][f]){t=!1;break}}else if(r[l][o]||r[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(e){for(var t=this.bitmap,r=Math.round(e.minX),n=Math.round(e.maxX),a=Math.round(e.minY),o=Math.round(e.maxY),s=r;s<=n;s+=1)t[s]||(t[s]={});for(var s=r;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[r][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=r;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function e2(i,e,t){t===void 0&&(t=t2);var r=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),f,h=-r,c=0,d=0,b=function($){var K=$*.1;return[K*Math.cos(K),K*Math.sin(K)]};if(e.hasGap(s))return e.fillGap(s),!0;for(var L=!1,D=0,V={};Math.min(Math.abs(c),Math.abs(d))<l&&D<t;)if(f=b(h+=r),c=~~f[0],d=~~f[1],!(!c&&!d||V[c+"-"+d])&&(i.attr({x:a+c,y:o+d}),c+d<0&&i.attr("textAlign","right"),D++,e.hasGap(i.getCanvasBBox()))){e.fillGap(i.getCanvasBBox()),L=!0,V[c+"-"+d]=!0;break}return L}function r2(i,e,t,r){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:e,y:t,textAlign:"center"};switch(r){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function n2(i,e,t,r){var n=new qc;(0,u.each)(e,function(a){var o=a.find(function(s){return s.get("type")==="text"});e2(o,n)||a.remove(!0)}),n.destroy()}function i2(i,e,t,r){var n=new qc;(0,u.each)(e,function(a){for(var o=a.find(function(b){return b.get("type")==="text"}),s=o.attr(),l=s.x,f=s.y,h=!1,c=0;c<=8;c++){var d=r2(o,l,f,c);if(n.hasGap(d)){n.fillGap(d),h=!0;break}}h||a.remove(!0)}),n.destroy()}function a2(i,e,t){var r={fillOpacity:(0,u.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,u.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,u.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(r,e)}function o2(i,e,t){var r={fillOpacity:0,strokeOpacity:0,opacity:0},n=e.easing,a=e.duration,o=e.delay;i.animate(r,a,n,function(){i.remove(!0)},o)}function s2(i,e,t){var r,n=e[0],a=e[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(Fn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),r=Fn.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(Fn.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),r=Fn.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(Fn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),r=Fn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),r}function Uu(i,e,t,r,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),f,h;n==="y"?(f=a.x+s/2,h=r.y<a.y?r.y:a.y):n==="x"?(f=r.x>a.x?r.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(f=t.getCenter().x,h=t.getCenter().y):(f=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=s2(i,[f,h],n);i.animate({matrix:c},e)}function l2(i,e,t){var r=t.coordinate,n=t.minYPoint;Uu(i,e,r,n,"x")}function u2(i,e,t){var r=t.coordinate,n=t.minYPoint;Uu(i,e,r,n,"y")}function f2(i,e,t){var r=t.coordinate,n=t.minYPoint;Uu(i,e,r,n,"xy")}function h2(i,e,t){var r=i.getTotalLength();i.attr("lineDash",[r]),i.animate(function(n){return{lineDashOffset:(1-n)*r}},e)}function c2(i,e,t){var r=t.toAttrs,n=r.x,a=r.y;delete r.x,delete r.y,i.attr(r),i.animate({x:n,y:a},e)}function v2(i,e,t){var r=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?r.maxX:r.minX,s=(r.minY+r.maxY)/2;i.applyToMatrix([o,s,1]);var l=Fn.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:Fn.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},e)}function d2(i,e,t){var r=i.getBBox(),n=i.get("origin").mappingData,a=(r.minX+r.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?r.maxY:r.minY;i.applyToMatrix([a,s,1]);var l=Fn.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:Fn.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},e)}var p2=v(84909);function tv(i,e){var t,r=(0,p2.Z)(i,e),n=r.startAngle,a=r.endAngle;return!(0,u.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,u.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),e[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,u.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,u.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function ev(i){var e;return i[0]==="M"||i[0]==="L"?e=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(e=[i[i.length-2],i[i.length-1]]),e}function rv(i){var e,t,r,n=i.filter(function(yt){return yt[0]==="A"||yt[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),f=ev(i[s-1]),h=ev(i[l-1]),c=tv(f,a),d=c.startAngle,b=c.endAngle,L=tv(h,o),D=L.startAngle,V=L.endAngle;(0,u.isNumberEqual)(d,D)&&(0,u.isNumberEqual)(b,V)?(t=d,r=b):(t=Math.min(d,D),r=Math.max(b,V));var $=a[1],K=n[n.length-1][1];return $<K?(e=[K,$],$=e[0],K=e[1]):$===K&&(K=0),{startAngle:t,endAngle:r,radius:$,innerRadius:K}}function g2(i,e,t){var r=t.toAttrs,n=t.coordinate,a=r.path,o=a.map(function(K){return K[0]}),s=rv(a),l=s.startAngle,f=s.endAngle,h=s.radius,c=s.innerRadius,d=rv(i.attr("path")),b=d.startAngle,L=d.endAngle,D=n.getCenter(),V=l-b,$=f-L;i.animate(function(K){var yt=b+K*V,wt=L+K*$;return(0,I.__assign)((0,I.__assign)({},r),{path:(0,u.isEqual)(o,["M","A","A","Z"])?We(D.x,D.y,h,yt,wt):ir(D.x,D.y,h,yt,wt,c)})},(0,I.__assign)((0,I.__assign)({},e),{callback:function(){i.attr("path",a)}}))}function y2(i,e,t){var r=dr(t.coordinate,20),n=r.type,a=r.startState,o=r.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,I.__assign)((0,I.__assign)({},e),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function Zu(i,e,t){if(i.isGroup())(0,u.each)(i.getChildren(),function(s){Zu(s,e,t)});else{var r=i.getBBox(),n=(r.minX+r.maxX)/2,a=(r.minY+r.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=Fn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:Fn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},e)}else i.animate({matrix:Fn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,I.__assign)((0,I.__assign)({},e),{callback:function(){i.remove(!0)}}))}}function m2(i,e,t){Zu(i,e,"zoomIn")}function x2(i,e,t){Zu(i,e,"zoomOut")}function Wa(i){return[G.TOP,G.BOTTOM].includes(i)?{offsetX:0,offsetY:i===G.TOP?-8:8,style:{textAlign:"center",textBaseline:i===G.TOP?"bottom":"top"}}:[G.LEFT,G.RIGHT].includes(i)?{offsetX:i===G.LEFT?-8:8,offsetY:0,style:{textAlign:i===G.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Ku(i,e,t){return{x:i.x+e*Math.cos(t),y:i.y+e*Math.sin(t)}}var b2=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,r){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*r,l=n/(1+1/Math.sin(o/2)),f=Ku(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:Ku(f,l,h),end:Ku(f,l,c)}},e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.beforeEachView=function(t,r){},e.prototype.generateFacets=function(t){var r=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),f=l.length,h=[];return l.forEach(function(c,d){var b=[{field:s,value:c,values:l}],L=(0,u.filter)(t,r.getFacetDataFilter(b)),D={type:o,data:L,region:r.getRegion(f,d),columnValue:c,columnField:s,columnIndex:d,columnValuesLength:f,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(D)}),h},e.prototype.getXAxisOption=function(t,r,n,a){return n},e.prototype.getYAxisOption=function(t,r,n,a){return n},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r){var n=r.columnValue,a=r.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},Wa(G.TOP),t.cfg.title);a.annotation().text(s)})},e}(zr),w2=b2,S2=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.beforeEachView=function(t,r){},e.prototype.generateFacets=function(t){var r=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var f=this.getPageCount(l,a),h=[];return s.forEach(function(c,d){var b=r.getRowCol(d,a),L=b.row,D=b.col,V=[{field:o,value:c,values:s}],$=(0,u.filter)(t,r.getFacetDataFilter(V)),K={type:r.cfg.type,data:$,region:r.getRegion(f,a,D,L),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:D,rowIndex:L,columnValuesLength:a,rowValuesLength:f,total:l};h.push(K)}),h},e.prototype.getXAxisOption=function(t,r,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,I.__assign)((0,I.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,r,n,a){return a.columnIndex!==0?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r){var n=r.columnValue,a=r.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},Wa(G.TOP),t.cfg.title);a.annotation().text(s)})},e.prototype.getPageCount=function(t,r){return Math.floor((t+r-1)/r)},e.prototype.getRowCol=function(t,r){var n=Math.floor(t/r),a=t%r;return{row:n,col:a}},e}(zr),M2=S2,C2=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,I.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,I.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.beforeEachView=function(t,r){},e.prototype.generateFacets=function(t){for(var r=this.cfg,n=r.fields,a=r.type,o=n.length,s=o,l=[],f=0;f<s;f++)for(var h=n[f],c=0;c<o;c++){var d=n[c],b={type:a,data:t,region:this.getRegion(o,s,f,c),columnValue:h,rowValue:d,columnField:h,rowField:d,columnIndex:f,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(b)}return l},e.prototype.getXAxisOption=function(t,r,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,I.__assign)((0,I.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,r,n,a){return a.columnIndex!==0?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r,n){var a=r.columnIndex,o=r.rowIndex,s=r.columnValuesLength,l=r.rowValuesLength,f=r.columnValue,h=r.rowValue,c=r.view;if(o===0){var d=(0,u.get)(t.cfg.columnTitle,"formatter"),b=(0,u.deepMix)({position:["50%","0%"],content:d?d(f):f},Wa(G.TOP),t.cfg.columnTitle);c.annotation().text(b)}if(a===s-1){var d=(0,u.get)(t.cfg.rowTitle,"formatter"),b=(0,u.deepMix)({position:["100%","50%"],content:d?d(h):h},Wa(G.RIGHT),t.cfg.rowTitle);c.annotation().text(b)}})},e}(zr),E2=C2,A2=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,r){this.cfg.transpose?r.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():r.rowIndex%2!=0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.generateFacets=function(t){var r=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],f=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,f=this.getFieldValues(t,c).slice(0,2),s=f.length),l.forEach(function(d,b){f.forEach(function(L,D){var V=[{field:h,value:d,values:l},{field:c,value:L,values:f}],$=(0,u.filter)(t,r.getFacetDataFilter(V)),K={type:r.cfg.type,data:$,region:r.getRegion(s,o,b,D),columnValue:d,rowValue:L,columnField:h,rowField:c,columnIndex:b,rowIndex:D,columnValuesLength:o,rowValuesLength:s};a.push(K)})}),a},e.prototype.getXAxisOption=function(t,r,n,a){return a.columnIndex===1||a.rowIndex===1?(0,I.__assign)((0,I.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,r,n,a){return n},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r,n){var a=r.columnValue,o=r.rowValue,s=r.view,l=(0,u.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var f=(0,u.deepMix)({position:["50%","0%"],content:l?l(a):a},Wa(G.TOP),t.cfg.title);s.annotation().text(f)}else{var f=(0,u.deepMix)({position:["100%","50%"],content:l?l(o):o},Wa(G.RIGHT),t.cfg.title);s.annotation().text(f)}})},e}(zr),T2=A2,P2=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.beforeEachView=function(t,r){},e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,I.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,I.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var r=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,f=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),f=c.length),h.forEach(function(d,b){c.forEach(function(L,D){var V=[{field:a,value:d,values:h},{field:o,value:L,values:c}],$=(0,u.filter)(t,r.getFacetDataFilter(V)),K={type:r.cfg.type,data:$,region:r.getRegion(f,l,b,D),columnValue:d,rowValue:L,columnField:a,rowField:o,columnIndex:b,rowIndex:D,columnValuesLength:l,rowValuesLength:f};s.push(K)})}),s},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r,n){var a=r.columnIndex,o=r.rowIndex,s=r.columnValuesLength,l=r.columnValue,f=r.rowValue,h=r.view;if(o===0){var c=(0,u.get)(t.cfg.columnTitle,"formatter"),d=(0,u.deepMix)({position:["50%","0%"],content:c?c(l):l},Wa(G.TOP),t.cfg.columnTitle);h.annotation().text(d)}if(a===s-1){var c=(0,u.get)(t.cfg.rowTitle,"formatter"),d=(0,u.deepMix)({position:["100%","50%"],content:c?c(f):f},Wa(G.RIGHT),t.cfg.rowTitle);h.annotation().text(d)}})},e.prototype.getXAxisOption=function(t,r,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,I.__assign)((0,I.__assign)({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,r,n,a){return a.columnIndex!==0?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,I.__assign)((0,I.__assign)({},n),{title:null}):n},e}(zr),_2=P2,O2=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.beforeEachView=function(t,r){},e.prototype.init=function(){i.prototype.init.call(this),this.view.on(J.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){var r=this.cfg.fields;if(!r.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},e.prototype.setRegion=function(t){var r=this;this.forceColIndex(t),t.forEach(function(n){n.region=r.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},e.prototype.getRegion=function(t,r,n,a){var o=1/r,s=1/t,l={x:o*n,y:s*a},f={x:l.x+o,y:l.y+s*2/3};return{start:l,end:f}},e.prototype.forceColIndex=function(t){var r=this,n=[],a=0;t.forEach(function(d){r.isLeaf(d)&&(n.push(d),d.columnIndex=a,a++)}),n.forEach(function(d){d.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),f=0,h=l;f<h.length;f++){var c=h[f];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},e.prototype.getFacetsByLevel=function(t,r){var n=[];return t.forEach(function(a){a.rowIndex===r&&n.push(a)}),n},e.prototype.getRegionIndex=function(t){var r=t[0],n=t[t.length-1];return(n.columnIndex-r.columnIndex)/2+r.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,r,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<r)){var l=[],f=o[r-1],h=this.getFieldValues(t,f);return h.forEach(function(c,d){var b=[{field:f,value:c,values:h}],L=t.filter(a.getFacetDataFilter(b));if(L.length){var D={type:a.cfg.type,data:L,region:null,columnValue:c,rowValue:"",columnField:f,rowField:"",columnIndex:d,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:r,children:a.getChildFacets(L,r+1,n)};l.push(D),n.push(D)}}),l}},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r){var n=r.columnValue,a=r.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},Wa(G.TOP),t.cfg.title);a.annotation().text(s)})},e.prototype.drawLines=function(t){var r=this;t.forEach(function(n){if(!r.isLeaf(n)){var a=n.children;r.addFacetLines(n,a)}})},e.prototype.addFacetLines=function(t,r){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};r.forEach(function(l){var f=l.view.coordinateBBox,h={x:f.bl.x+(f.tr.x-f.bl.x)/2,y:f.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},d={x:h.x,y:c.y};n.drawLine([s,c,d,h])})},e.prototype.getPath=function(t){var r=[],n=this.cfg.line.smooth;return n?(r.push(["M",t[0].x,t[0].y]),r.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?r.push(["M",a.x,a.y]):r.push(["L",a.x,a.y])}),r},e.prototype.drawLine=function(t){var r=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,u.assign)({path:r},n)})},e.prototype.getXAxisOption=function(t,r,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,r,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,I.__assign)((0,I.__assign)({},n),{title:null,label:null}):n},e}(zr),L2=O2,I2=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.cache=new Map,r.foregroundContainer=r.view.getLayer(Y.FORE).addGroup(),r.backgroundContainer=r.view.getLayer(Y.BG).addGroup(),r.option=[],r}return Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){var t=this,r=this.getComponents(),n=function(o){var s=o.component,l=o.extra,f=l.type,h=t.getAnnotationTheme(f);s.update(t.getAnnotationCfg(f,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};r.length?(0,u.each)(r,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(J.AFTER_RENDER,function(){n(o)}):n(o)}):(0,u.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(J.AFTER_RENDER,function(){a(o)}):a(o)})},e.prototype.render=function(){},e.prototype.update=function(){var t=this,r=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),f=t.cache.get(a);if(f)Qt(l,["container"]),f.component.update(l),r.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),r.set(a,!0))}};this.view.once(J.AFTER_RENDER,function(){(0,u.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){r.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,u.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},e.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(r){t.push(r)}),t},e.prototype.createAnnotation=function(t){var r=t.type,n=xn.Annotation[(0,u.upperFirst)(r)];if(n){var a=this.getAnnotationTheme(r),o=this.getAnnotationCfg(r,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?Y.FORE:Y.BG,direction:G.NONE,type:X.ANNOTATION,extra:t}}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation((0,I.__assign)({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation((0,I.__assign)({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation((0,I.__assign)({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation((0,I.__assign)({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation((0,I.__assign)({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation((0,I.__assign)({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation((0,I.__assign)({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation((0,I.__assign)({type:"regionFilter"},t))},e.prototype.parsePosition=function(t){var r=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,u.isFunction)(t)?t.call(null,r,n):t,o=0,s=0;if((0,u.isArray)(a)){var l=a[0],f=a[1];if((0,u.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,r),s=this.getNormalizedValue(f,Object.values(n)[0])}else if(!(0,u.isNil)(a))for(var h=0,c=(0,u.keys)(a);h<c.length;h++){var d=c[h],b=a[d];d===r.field&&(o=this.getNormalizedValue(b,r)),n[d]&&(s=this.getNormalizedValue(b,n[d]))}return this.view.getCoordinate().convert({x:o,y:s})},e.prototype.getRegionPoints=function(t,r){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,f=this.view.getData(),h=(0,u.isArray)(t)?t[0]:t[l],c=(0,u.isArray)(r)?r[0]:r[l],d=[],b;return(0,u.each)(f,function(L,D){if(L[l]===h&&(b=D),D>=b){var V=n.parsePosition([L[l],L[s.field]]);V&&d.push(V)}if(L[l]===c)return!1}),d},e.prototype.getNormalizedValue=function(t,r){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=r.isCategory?(r.values.length-1)/2:(r.min+r.max)/2,n=r.scale(a);break}case"min":case"max":r.isCategory?a=t==="min"?0:r.values.length-1:a=r[t],n=r.scale(a);break;default:n=r.scale(t)}return n},e.prototype.parsePercentPosition=function(t){var r=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},f=a.getWidth()*r+l.x,h=a.getHeight()*n+l.y;return{x:f,y:h}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),r=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(r.x,n.x),y:Math.min(r.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},e.prototype.getAnnotationCfg=function(t,r,n){var a=this.view.getCoordinate(),o={};if((0,u.isNil)(r))return null;if(t==="arc"){var s=r,l=s.start,f=s.end,h=this.parsePosition(l),c=this.parsePosition(f),d=ur(a,h),b=ur(a,c);d>b&&(b=Math.PI*2+b),o={center:a.getCenter(),radius:Le(a,h),startAngle:d,endAngle:b}}else if(t==="image"){var L=r,l=L.start,f=L.end;o={start:this.parsePosition(l),end:this.parsePosition(f),src:r.src}}else if(t==="line"){var D=r,l=D.start,f=D.end;o={start:this.parsePosition(l),end:this.parsePosition(f),text:(0,u.get)(r,"text",null)}}else if(t==="region"){var V=r,l=V.start,f=V.end;o={start:this.parsePosition(l),end:this.parsePosition(f)}}else if(t==="text"){var $=this.view.getData(),K=r,yt=K.position,wt=K.content,Rt=(0,I.__rest)(K,["position","content"]),Zt=wt;(0,u.isFunction)(wt)&&(Zt=wt($)),o=(0,I.__assign)((0,I.__assign)((0,I.__assign)({},this.parsePosition(yt)),Rt),{content:Zt})}else if(t==="dataMarker"){var te=r,yt=te.position,oe=te.point,re=te.line,ye=te.text,Pe=te.autoAdjust,ze=te.direction;o=(0,I.__assign)((0,I.__assign)({},this.parsePosition(yt)),{coordinateBBox:this.getCoordinateBBox(),point:oe,line:re,text:ye,autoAdjust:Pe,direction:ze})}else if(t==="dataRegion"){var je=r,l=je.start,f=je.end,Qe=je.region,ye=je.text,Ze=je.lineLength;o={points:this.getRegionPoints(l,f),region:Qe,text:ye,lineLength:Ze}}else if(t==="regionFilter"){var xr=r,l=xr.start,f=xr.end,Or=xr.apply,Tr=xr.color,Mr=this.view.geometries,br=[],qr=function(Hr){!Hr||(Hr.isGroup()?Hr.getChildren().forEach(function(an){return qr(an)}):br.push(Hr))};(0,u.each)(Mr,function(Hr){Or?(0,u.contains)(Or,Hr.type)&&(0,u.each)(Hr.elements,function(an){qr(an.shape)}):(0,u.each)(Hr.elements,function(an){qr(an.shape)})}),o={color:Tr,shapes:br,start:this.parsePosition(l),end:this.parsePosition(f)}}var Gr=(0,u.deepMix)({},n,(0,I.__assign)((0,I.__assign)({},o),{top:r.top,style:r.style,offsetX:r.offsetX,offsetY:r.offsetY}));return Gr.container=this.getComponentContainer(Gr),Gr.animate=this.view.getOptions().animate&&Gr.animate&&(0,u.get)(r,"animate",Gr.animate),Gr.animateOption=(0,u.deepMix)({},Lo,Gr.animateOption,r.animateOption),Gr},e.prototype.isTop=function(t){return(0,u.get)(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return(0,u.get)(this.view.getTheme(),["components","annotation",t],{})},e}(Oo),k2=I2;function nv(i,e){return(0,u.get)(i,["components","axis",e,"grid"],{})}function Us(i,e,t,r){var n=[],a=e.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var f=s.value;if(r)n.push({points:[i.convert(t==="y"?{x:0,y:f}:{x:f,y:0}),i.convert(t==="y"?{x:1,y:f}:{x:f,y:1})]});else if(l){var h=o.value,c=(h+f)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function $u(i,e,t,r,n){var a=e.values.length,o=[],s=t.getTicks();return s.reduce(function(l,f){var h=l?l.value:f.value,c=f.value,d=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:r?c:d,y:0}),i.convert({x:r?c:d,y:1})]}):o.push({points:(0,u.map)(Array(a+1),function(b,L){return i.convert({x:L/a,y:r?c:d})})}),f},s[0]),o}function iv(i,e){var t=(0,u.get)(e,"grid");if(t===null)return!1;var r=(0,u.get)(i,"grid");return!(t===void 0&&r===null)}var ro=["container"],av=(0,I.__assign)((0,I.__assign)({},Lo),{appear:null}),B2=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.cache=new Map,r.gridContainer=r.view.getLayer(Y.BG).addGroup(),r.axisContainer=r.view.getLayer(Y.BG).addGroup(),r}return Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,r=this.view.getCoordinate();(0,u.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,f=l.dim,h=l.scale,c=l.alignTick,d;if(s===X.AXIS)r.isPolar?f==="x"?d=r.isTransposed?yr(r,o):Nr(r):f==="y"&&(d=r.isTransposed?Nr(r):yr(r,o)):d=yr(r,o);else if(s===X.GRID)if(r.isPolar){var b=void 0;r.isTransposed?b=f==="x"?$u(r,t.view.getYScales()[0],h,c,f):Us(r,h,f,c):b=f==="x"?Us(r,h,f,c):$u(r,t.view.getXScale(),h,c,f),d={items:b,center:t.view.getCoordinate().getCenter()}}else d={items:Us(r,h,f,c)};a.update(d)})},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var r=new Map;this.cache.forEach(function(n,a){t.has(a)?r.set(a,n):n.component.destroy()}),this.cache=r},e.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(r){t.push(r)}),t},e.prototype.updateXAxes=function(t){var r=this.view.getXScale();if(!(!r||r.isIdentity)){var n=gr(this.option,r.field);if(n!==!1){var a=Vr(n,G.BOTTOM),o=Y.BG,s="x",l=this.view.getCoordinate(),f=this.getId("axis",r.field),h=this.getId("grid",r.field);if(l.isRect){var c=this.cache.get(f);if(c){var d=this.getLineAxisCfg(r,n,a);Qt(d,ro),c.component.update(d),t.set(f,c)}else c=this.createLineAxis(r,n,o,a,s),this.cache.set(f,c),t.set(f,c);var b=this.cache.get(h);if(b){var d=this.getLineGridCfg(r,n,a,s);Qt(d,ro),b.component.update(d),t.set(h,b)}else b=this.createLineGrid(r,n,o,a,s),b&&(this.cache.set(h,b),t.set(h,b))}else if(l.isPolar){var c=this.cache.get(f);if(c){var d=l.isTransposed?this.getLineAxisCfg(r,n,G.RADIUS):this.getCircleAxisCfg(r,n,a);Qt(d,ro),c.component.update(d),t.set(f,c)}else{if(l.isTransposed){if((0,u.isUndefined)(n))return;c=this.createLineAxis(r,n,o,G.RADIUS,s)}else c=this.createCircleAxis(r,n,o,a,s);this.cache.set(f,c),t.set(f,c)}var b=this.cache.get(h);if(b){var d=l.isTransposed?this.getCircleGridCfg(r,n,G.RADIUS,s):this.getLineGridCfg(r,n,G.CIRCLE,s);Qt(d,ro),b.component.update(d),t.set(h,b)}else{if(l.isTransposed){if((0,u.isUndefined)(n))return;b=this.createCircleGrid(r,n,o,G.RADIUS,s)}else b=this.createLineGrid(r,n,o,G.CIRCLE,s);b&&(this.cache.set(h,b),t.set(h,b))}}}}},e.prototype.updateYAxes=function(t){var r=this,n=this.view.getYScales();(0,u.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=gr(r.option,s);if(l!==!1){var f=Y.BG,h="y",c=r.getId("axis",s),d=r.getId("grid",s),b=r.view.getCoordinate();if(b.isRect){var L=Vr(l,o===0?G.LEFT:G.RIGHT),D=r.cache.get(c);if(D){var V=r.getLineAxisCfg(a,l,L);Qt(V,ro),D.component.update(V),t.set(c,D)}else D=r.createLineAxis(a,l,f,L,h),r.cache.set(c,D),t.set(c,D);var $=r.cache.get(d);if($){var V=r.getLineGridCfg(a,l,L,h);Qt(V,ro),$.component.update(V),t.set(d,$)}else $=r.createLineGrid(a,l,f,L,h),$&&(r.cache.set(d,$),t.set(d,$))}else if(b.isPolar){var D=r.cache.get(c);if(D){var V=b.isTransposed?r.getCircleAxisCfg(a,l,G.CIRCLE):r.getLineAxisCfg(a,l,G.RADIUS);Qt(V,ro),D.component.update(V),t.set(c,D)}else{if(b.isTransposed){if((0,u.isUndefined)(l))return;D=r.createCircleAxis(a,l,f,G.CIRCLE,h)}else D=r.createLineAxis(a,l,f,G.RADIUS,h);r.cache.set(c,D),t.set(c,D)}var $=r.cache.get(d);if($){var V=b.isTransposed?r.getLineGridCfg(a,l,G.CIRCLE,h):r.getCircleGridCfg(a,l,G.RADIUS,h);Qt(V,ro),$.component.update(V),t.set(d,$)}else{if(b.isTransposed){if((0,u.isUndefined)(l))return;$=r.createLineGrid(a,l,f,G.CIRCLE,h)}else $=r.createCircleGrid(a,l,f,G.RADIUS,h);$&&(r.cache.set(d,$),t.set(d,$))}}}}})},e.prototype.createLineAxis=function(t,r,n,a,o){var s={component:new $n(this.getLineAxisCfg(t,r,a)),layer:n,direction:a===G.RADIUS?G.NONE:a,type:X.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createLineGrid=function(t,r,n,a,o){var s=this.getLineGridCfg(t,r,a,o);if(s){var l={component:new Si(s),layer:n,direction:G.NONE,type:X.GRID,extra:{dim:o,scale:t,alignTick:(0,u.get)(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.createCircleAxis=function(t,r,n,a,o){var s={component:new ui(this.getCircleAxisCfg(t,r,a)),layer:n,direction:a,type:X.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createCircleGrid=function(t,r,n,a,o){var s=this.getCircleGridCfg(t,r,a,o);if(s){var l={component:new bi(s),layer:n,direction:G.NONE,type:X.GRID,extra:{dim:o,scale:t,alignTick:(0,u.get)(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.getLineAxisCfg=function(t,r,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=yr(o,n),l=Qr(t,r),f=Br(this.view.getTheme(),n),h=(0,u.get)(r,["title"])?(0,u.deepMix)({title:{style:{text:l}}},r):r,c=(0,u.deepMix)((0,I.__assign)((0,I.__assign)({container:a},s),{ticks:t.getTicks().map(function(yt){return{id:""+yt.tickValue,name:yt.text,value:yt.value}}),verticalFactor:o.isPolar?kr(s,o.getCenter())*-1:kr(s,o.getCenter())}),f,h),d=this.getAnimateCfg(c),b=d.animate,L=d.animateOption;c.animateOption=L,c.animate=b;var D=wr(s),V=(0,u.get)(c,"verticalLimitLength",D?1/3:1/2);if(V<=1){var $=this.view.getCanvas().get("width"),K=this.view.getCanvas().get("height");c.verticalLimitLength=V*(D?$:K)}return c},e.prototype.getLineGridCfg=function(t,r,n,a){if(!!iv(Br(this.view.getTheme(),n),r)){var o=nv(this.view.getTheme(),n),s=(0,u.deepMix)({container:this.gridContainer},o,(0,u.get)(r,"grid"),this.getAnimateCfg(r));return s.items=Us(this.view.getCoordinate(),t,a,(0,u.get)(s,"alignTick",!0)),s}},e.prototype.getCircleAxisCfg=function(t,r,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(D){return{id:""+D.tickValue,name:D.text,value:D.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Qr(t,r),f=Br(this.view.getTheme(),G.CIRCLE),h=(0,u.get)(r,["title"])?(0,u.deepMix)({title:{style:{text:l}}},r):r,c=(0,u.deepMix)((0,I.__assign)((0,I.__assign)({container:a},Nr(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),f,h),d=this.getAnimateCfg(c),b=d.animate,L=d.animateOption;return c.animate=b,c.animateOption=L,c},e.prototype.getCircleGridCfg=function(t,r,n,a){if(!!iv(Br(this.view.getTheme(),n),r)){var o=nv(this.view.getTheme(),G.RADIUS),s=(0,u.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,u.get)(r,"grid"),this.getAnimateCfg(r)),l=(0,u.get)(s,"alignTick",!0),f=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=$u(this.view.getCoordinate(),f,t,l,a),s}},e.prototype.getId=function(t,r){var n=this.view.getCoordinate();return t+"-"+r+"-"+n.type},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,u.get)(t,"animate"),animateOption:t&&t.animateOption?(0,u.deepMix)({},av,t.animateOption):av}},e}(Oo),D2=B2;function Zs(i,e,t){return t===G.TOP?[i.minX+i.width/2-e.width/2,i.minY]:t===G.BOTTOM?[i.minX+i.width/2-e.width/2,i.maxY-e.height]:t===G.LEFT?[i.minX,i.minY+i.height/2-e.height/2]:t===G.RIGHT?[i.maxX-e.width,i.minY+i.height/2-e.height/2]:t===G.TOP_LEFT||t===G.LEFT_TOP?[i.tl.x,i.tl.y]:t===G.TOP_RIGHT||t===G.RIGHT_TOP?[i.tr.x-e.width,i.tr.y]:t===G.BOTTOM_LEFT||t===G.LEFT_BOTTOM?[i.bl.x,i.bl.y-e.height]:t===G.BOTTOM_RIGHT||t===G.RIGHT_BOTTOM?[i.br.x-e.width,i.br.y-e.height]:[0,0]}function F2(i,e){if(e.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function ov(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function sv(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function R2(i,e){var t=e.matrix[0],r=e.matrix[4],n=i;return t<0&&(n=ov(n)),r<0&&(n=sv(n)),n}function N2(i,e){var t=i;return e.isReflect("x")&&(t=ov(t)),e.isReflect("y")&&(t=sv(t)),t}function T9(i,e){var t=i;return t=F2(t,e),t=R2(t,e),t=N2(t,e),t}function lv(i,e,t){if(!i)return t;var r;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");r=i.mapping.apply(i,(0,I.__spreadArrays)([e],n)).join("")}else r=i.mapping(e).join("");return r||t}function uv(i){var e=i.symbol;(0,u.isString)(e)&&xo[e]&&(i.symbol=xo[e])}function Qu(i){return i.startsWith(G.LEFT)||i.startsWith(G.RIGHT)?"vertical":"horizontal"}function Y2(i,e,t,r,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=e.getAttribute("color"),l=e.getAttribute("shape"),f=i.getTheme().defaultColor,h=e.coordinate.isPolar;return a.getTicks().map(function(c){var d,b=c.text,L=c.value,D=b,V=a.invert(L),$=i.filterFieldData(o,[(d={},d[o]=V,d)]).length===0,K=lv(s,V,f),yt=lv(l,V,"point"),wt=e.getShapeMarker(yt,{color:K,isInPolar:h});return wt=(0,u.deepMix)({},r,wt,n),uv(wt),{id:V,name:D,value:V,marker:wt,unchecked:$}})}return[]}function G2(i,e,t){return t.map(function(r){var n=(0,u.deepMix)({},i,e,r.marker);return uv(n),r.marker=n,r})}function fv(i,e){return(0,u.isBoolean)(i)?i===!1?!1:{}:(0,u.get)(i,[e],i)}function es(i){return(0,u.get)(i,"position",G.BOTTOM)}var z2=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.container=r.view.getLayer(Y.FORE).addGroup(),r}return Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var r=function(s,l,f){var h=t.createFieldLegend(s,l,f);h&&(h.component.init(),t.components.push(h))};if((0,u.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=Y.FORE,o=es(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:X.LEGEND,extra:void 0})}}else this.loopLegends(r)},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var r=(0,u.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,u.each)(this.components,function(n){var a=n.component,o=n.direction,s=Qu(o),l=t.getCategoryLegendSizeCfg(s),f=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,f||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),d=new sr(c.x,c.y,c.width,c.height),b=Zs(t.view.viewBBox,d,o),L=b[0],D=b[1],V=Zs(t.layoutBBox,d,o),$=V[0],K=V[1],yt=0,wt=0;o.startsWith("top")||o.startsWith("bottom")?(yt=L,wt=K):(yt=$,wt=D),o.indexOf("left")>=0&&(yt+=r[3]),o.indexOf("right")>=0&&(yt-=r[1]),o.indexOf("top")>=0&&(wt+=r[0]),o.indexOf("bottom")>=0&&(wt-=r[2]),a.update({x:yt,y:wt}),t.layoutBBox=t.layoutBBox.cut(d,o)})},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var r={},n=function(d,b,L){var D=t.getId(L.field),V=t.getComponentById(D);if(V){var $=void 0,K=fv(t.option,L.field);K!==!1&&((0,u.get)(K,"custom")?$=t.getCategoryCfg(d,b,L,K,!0):L.isLinear?$=t.getContinuousCfg(d,b,L,K):L.isCategory&&($=t.getCategoryCfg(d,b,L,K))),$&&(Qt($,["container"]),V.direction=es(K),V.component.update($),r[D]=!0)}else{var yt=t.createFieldLegend(d,b,L);yt&&(yt.component.init(),t.components.push(yt),r[D]=!0)}};if((0,u.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Qt(s,["container"]),o.component.update(s),r[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var f=Y.FORE,h=es(this.option);this.components.push({id:a,component:l,layer:f,direction:h,type:X.LEGEND,extra:void 0}),r[a]=!0}}}else this.loopLegends(n);var c=[];(0,u.each)(this.getComponents(),function(d){r[d.id]?c.push(d):d.component.destroy()}),this.components=c},e.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var r=this,n=t.geometries;return(0,u.each)(t.views,function(a){n=n.concat(r.getGeometries(a))}),n},e.prototype.loopLegends=function(t){var r=this.view.getRootView()===this.view;if(!!r){var n=this.getGeometries(this.view),a={};(0,u.each)(n,function(o){var s=o.getGroupAttributes();(0,u.each)(s,function(l){var f=l.getScale(l.type);!f||f.type==="identity"||a[f.field]||(t(o,l,f),a[f.field]=!0)})})}},e.prototype.createFieldLegend=function(t,r,n){var a,o=fv(this.option,n.field),s=Y.FORE,l=es(o);if(o!==!1&&((0,u.get)(o,"custom")?a=this.createCustomLegend(t,r,n,o):n.isLinear?a=this.createContinuousLegend(t,r,n,o):n.isCategory&&(a=this.createCategoryLegend(t,r,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:X.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,r,n,a){var o=this.getCategoryCfg(t,r,n,a,!0);return new $t(o)},e.prototype.createContinuousLegend=function(t,r,n,a){var o=this.getContinuousCfg(t,r,n,a);return new se(o)},e.prototype.createCategoryLegend=function(t,r,n,a){var o=this.getCategoryCfg(t,r,n,a);return new $t(o)},e.prototype.getContinuousCfg=function(t,r,n,a){var o=n.getTicks(),s=(0,u.find)(o,function(D){return D.value===0}),l=(0,u.find)(o,function(D){return D.value===1}),f=o.map(function(D){var V=D.value,$=D.tickValue,K=r.mapping(n.invert(V)).join("");return{value:$,attrValue:K,color:K,scaleValue:V}});s||f.push({value:n.min,attrValue:r.mapping(n.invert(0)).join(""),color:r.mapping(n.invert(0)).join(""),scaleValue:0}),l||f.push({value:n.max,attrValue:r.mapping(n.invert(1)).join(""),color:r.mapping(n.invert(1)).join(""),scaleValue:1}),f.sort(function(D,V){return D.value-V.value});var h={min:(0,u.head)(f).value,max:(0,u.last)(f).value,colors:[],rail:{type:r.type},track:{}};r.type==="size"&&(h.track={style:{fill:r.type==="size"?this.view.getTheme().defaultColor:void 0}}),r.type==="color"&&(h.colors=f.map(function(D){return D.attrValue}));var c=this.container,d=es(a),b=Qu(d),L=(0,u.get)(a,"title");return L&&(L=(0,u.deepMix)({text:Ve(n)},L)),h.container=c,h.layout=b,h.title=L,h.animateOption=Lo,this.mergeLegendCfg(h,a,"continuous")},e.prototype.getCategoryCfg=function(t,r,n,a,o){var s=this.container,l=(0,u.get)(a,"position",G.BOTTOM),f=(0,u.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,u.get)(a,"marker"),c=Qu(l),d=o?G2(f,h,a.items):Y2(this.view,t,r,f,h),b=(0,u.get)(a,"title");b&&(b=(0,u.deepMix)({text:n?Ve(n):""},b));var L=this.getCategoryLegendSizeCfg(c);L.container=s,L.layout=c,L.items=d,L.title=b,L.animateOption=Lo;var D=this.mergeLegendCfg(L,a,l);D.reversed&&D.items.reverse();var V=(0,u.get)(D,"maxItemWidth");return V&&V<=1&&(D.maxItemWidth=this.view.viewBBox.width*V),D},e.prototype.mergeLegendCfg=function(t,r,n){var a=n.split("-")[0],o=(0,u.get)(this.view.getTheme(),["components","legend",a],{});return(0,u.deepMix)({},o,t,r)},e.prototype.getId=function(t){return this.name+"-"+t},e.prototype.getComponentById=function(t){return(0,u.find)(this.components,function(r){return r.id===t})},e.prototype.getCategoryLegendSizeCfg=function(t){var r=this.view.viewBBox,n=r.width,a=r.height;return t==="vertical"?{maxWidth:n*st,maxHeight:a}:{maxWidth:n,maxHeight:a*st}},e}(Oo),X2=z2,V2=function(i){(0,I.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.onValueChanged=function(n){var a=n[0],o=n[1];r.updateMinMaxText(a,o),r.view.render(!0)},r.container=r.view.getLayer(Y.FORE).addGroup(),r}return Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,r=this.slider.component.get("end")||1;this.updateMinMaxText(t,r)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,r=this.slider.component.getLayoutBBox(),n=new sr(r.x,r.y,Math.min(r.width,t),r.height),a=Zs(this.view.viewBBox,n,G.BOTTOM),o=a[0],s=a[1],l=Zs(this.view.coordinateBBox,n,G.BOTTOM),f=l[0],h=l[1];this.slider.component.update({x:f,y:s,width:t})}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),r=new xn.Slider((0,I.__assign)({container:this.container},t));return r.init(),{component:r,layer:Y.FORE,direction:G.BOTTOM,type:X.OTHER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();return Qt(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},e.prototype.getSliderCfg=function(){if((0,u.isObject)(this.option)){var t=(0,I.__assign)({data:this.getData()},(0,u.get)(this.option,"trendCfg",{})),r=0,n=0,a=this.view.coordinateBBox.width,o=(0,u.deepMix)({},{x:r,y:n,width:a},this.option);return(0,I.__assign)((0,I.__assign)({},o),{trendCfg:t})}return{}},e.prototype.getData=function(){var t=this.view.getOptions().data,r=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,f){return f[o]===s[0]&&l.push(f[r.field]),l},[])}return t.map(function(l){return l[r.field]||0})},e.prototype.updateMinMaxText=function(t,r){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,u.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(D,V){return D.includes(V[s])||D.push(V[s]),D},[]),f=(0,u.size)(l),h=Math.floor(t*(f-1)),c=Math.floor(r*(f-1)),d=(0,u.get)(l,[h]),b=(0,u.get)(l,[c]),L=this.getSliderCfg().formatter;L&&(d=L(d,n[h],h),b=L(b,n[c],c)),this.slider.component.update({minText:d,maxText:b,start:t,end:r}),this.view.filter(a.field,function(D,V){var $=l.indexOf(D);return $>-1?Ue($,h,c):!0})}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e}(Oo),H2=V2;function W2(i){for(var e=[],t=function(n){var a=i[n],o=(0,u.find)(e,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||e.push(a)},r=0;r<i.length;r++)t(r);return e}var j2=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var r=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};r.emit("tooltip:show",(0,I.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,f=s.showMarkers,h=s.showCrosshairs,c=s.showContent,d=s.marker,b=this.items,L=this.title;if(!(0,u.isEqual)(L,a)||!(0,u.isEqual)(b,n)?(r.emit("tooltip:change",(0,I.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,u.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),f&&this.renderTooltipMarkers(n,d)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var D=(0,u.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(D?t:o,s)}}},e.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var r=this.tooltipMarkersGroup;r&&r.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,r=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;r&&(r.hide(),r.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var r=this,n=r.tooltip,a=r.tooltipMarkersGroup,o=r.xCrosshair,s=r.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var r=this.findItemsFromView(this.view,t);if(r.length){r=(0,u.flatten)(r);for(var n=0,a=r;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var f=l[s],h=f.mappingData,c=h.x,d=h.y;f.x=(0,u.isArray)(c)?c[c.length-1]:c,f.y=(0,u.isArray)(d)?d[d.length-1]:d}var b=this.getTooltipCfg().shared;if(b===!1&&r.length>1){for(var L=r[0],D=Math.abs(t.y-L[0].y),V=0,$=r;V<$.length;V++){var K=$[V],yt=Math.abs(t.y-K[0].y);yt<=D&&(L=K,D=yt)}r=[L]}return W2((0,u.flatten)(r))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.getTooltipCfg=function(){var t=this.view,r=t.getOptions().tooltip,n=t.getTheme(),a=(0,u.get)(n,["components","tooltip"],{}),o=(0,u.isUndefined)((0,u.get)(r,"enterable"))?a.enterable:(0,u.get)(r,"enterable");return(0,u.deepMix)({},a,r,{capture:!!(o||this.isLocked)})},e.prototype.getTitle=function(t){var r=t[0].title||t[0].name;return this.title=r,r},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),r={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new ge((0,I.__assign)((0,I.__assign)({parent:t.get("el").parentNode,region:r},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},e.prototype.renderTooltipMarkers=function(t,r){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,f=s.y,h=(0,I.__assign)((0,I.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},r),{x:l,y:f});n.addShape("marker",{attrs:h})}},e.prototype.renderCrosshairs=function(t,r){var n=(0,u.get)(r,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,r)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,r)):n==="xy"&&(this.renderXCrosshairs(t,r),this.renderYCrosshairs(t,r))},e.prototype.renderXCrosshairs=function(t,r){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!Ke(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=ur(n,t),l=n.getCenter(),f=n.getRadius();o=Oe(l.x,l.y,f,s),a=l}var h=(0,u.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,u.get)(r,"crosshairs",{}),this.getCrosshairsText("x",t,r));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new xn.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},e.prototype.renderYCrosshairs=function(t,r){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!Ke(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:Le(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,u.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,u.get)(r,"crosshairs",{}),this.getCrosshairsText("y",t,r)),delete a.type;var f=this.yCrosshair;f?n.isRect&&f.get("type")==="circle"||!n.isRect&&f.get("type")==="line"?(f=new xn.Crosshair[o](a),f.init()):f.update(a):(f=new xn.Crosshair[o](a),f.init()),f.render(),f.show(),this.yCrosshair=f}},e.prototype.getCrosshairsText=function(t,r,n){var a=(0,u.get)(n,["crosshairs","text"]),o=(0,u.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),f=s[0],h=l.getXScale(),c=l.getYScales()[0],d=void 0,b=void 0;if(o){var L=this.view.getCoordinate().invert(r);d=h.invert(L.x),b=c.invert(L.y)}else d=f.data[h.field],b=f.data[c.field];var D=t==="x"?d:b;return(0,u.isFunction)(a)?a=a(t,D,s,r):a.content=D,{text:a}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.getTooltipItemsByHitShape=function(t,r,n){var a=[],o=t.container,s=o.getShape(r.x,r.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,f=En(l,t,n);f.length&&a.push(f)}return a},e.prototype.getTooltipItemsByFindData=function(t,r,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var f=l[s],h=rn(r,f,t);if(h){var c=t.getElementId(h),d=t.elementsMap[c];if(t.type==="heatmap"||d.visible){var b=En(h,t,n);b.length&&a.push(b)}}}return a},e.prototype.findItemsFromView=function(t,r){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,f=0,h=a;f<h.length;f++){var c=h[f];if(c.visible&&c.tooltipOption!==!1){var d=c.type,b=void 0;["point","edge","polygon"].includes(d)?b=this.getTooltipItemsByHitShape(c,r,l):["area","line","path","heatmap"].includes(d)?b=this.getTooltipItemsByFindData(c,r,l):s!==!1?b=this.getTooltipItemsByFindData(c,r,l):b=this.getTooltipItemsByHitShape(c,r,l),b.length&&n.push(b)}}for(var L=0,D=t.views;L<D.length;L++){var V=D[L];n=n.concat(this.findItemsFromView(V,r))}return n},e.prototype.getViewWithGeometry=function(t){var r=this;return t.geometries.length?t:(0,u.find)(t.views,function(n){return r.getViewWithGeometry(n)})},e}(Oo),U2=j2,Z2=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.show=function(){var t=this.context.view,r=this.context.event,n=t.getTooltipItems({x:r.x,y:r.y});if(!(0,u.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,u.each)(l,function(je){if(je.type==="interval"||je.type==="schema"){var Qe=je.getElementsBy(function(Ze){var xr=Ze.getData();return xr[a]===o});s=s.concat(Qe)}}),s.length){var f=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),d=h;(0,u.each)(s,function(je){var Qe=je.shape.getCanvasBBox();f.isTransposed?(Qe.minY<h.minY&&(h=Qe),Qe.maxY>c.maxY&&(c=Qe)):(Qe.minX<h.minX&&(h=Qe),Qe.maxX>c.maxX&&(c=Qe)),d.x=Math.min(Qe.minX,d.minX),d.y=Math.min(Qe.minY,d.minY),d.width=Math.max(Qe.maxX,d.maxX)-d.x,d.height=Math.max(Qe.maxY,d.maxY)-d.y});var b=t.backgroundGroup,L=t.coordinateBBox,D=void 0;if(f.isRect){var V=t.getXScale(),$=V.isLinear?0:.25,K=void 0,yt=void 0,wt=void 0,Rt=void 0;f.isTransposed?(K=L.minX,yt=Math.min(c.minY,h.minY)-$*c.height,wt=L.width,Rt=d.height+$*2*c.height):(K=Math.min(h.minX,c.minX)-$*h.width,yt=Math.min(L.minY,h.minY),wt=d.width+$*2*h.width,Rt=L.height),D=[["M",K,yt],["L",K+wt,yt],["L",K+wt,yt+Rt],["L",K,yt+Rt],["Z"]]}else{var Zt=(0,u.head)(s),te=(0,u.last)(s),oe=Cr(Zt.getModel(),f).startAngle,re=Cr(te.getModel(),f).endAngle,ye=f.getCenter(),Pe=f.getRadius(),ze=f.innerRadius*Pe;D=ir(ye.x,ye.y,Pe,oe,re,ze)}this.regionPath?(this.regionPath.attr("path",D),this.regionPath.show()):this.regionPath=b.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:D,fill:"#CCD6EC",opacity:.3}})}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},e}(ct),K2=Z2,$2=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.context,r=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,f={x:r.x,y:r.y};(!l||!(0,u.isEqual)(l,f))&&this.showTooltip(n,f),this.timeStamp=s,this.location=f}}},e.prototype.hide=function(){var t=this.context.view,r=t.isTooltipLocked();r||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,r){t.showTooltip(r)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(ct),hv=$2,Q2=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.showTooltip=function(t,r){var n=Ur(t);(0,u.each)(n,function(a){var o=Gi(t,a,r);a.showTooltip(o)})},e.prototype.hideTooltip=function(t){var r=Ur(t);(0,u.each)(r,function(n){n.hideTooltip()})},e}(hv),J2=Q2,q2=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context,r=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:r.x,y:r.y};(!o||!(0,u.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var r=this.context,n=r.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,I.__assign)({title:o},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t=this.context.view,r=t.canvas,n={start:{x:0,y:0},end:{x:r.get("width"),y:r.get("height")}},a=t.getTheme(),o=(0,u.get)(a,["components","tooltip","domStyles"],{}),s=new ge({parent:r.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},e}(ct),tM=q2,eM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,r){t.setState(this.stateName,r)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var r=this,n=Xr(t,this.stateName);(0,u.each)(n,function(a){r.setElementState(a,!1)})},e}(ct),Ju=eM;function cv(i){return(0,u.get)(i.get("delegateObject"),"item")}var rM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return e.prototype.isItemIgnore=function(t,r){var n=this.ignoreListItemStates,a=n.filter(function(o){return r.hasState(t,o)});return!!a.length},e.prototype.setStateByComponent=function(t,r,n){var a=this.context.view,o=t.get("field"),s=rr(a);this.setElementsStateByItem(s,o,r,n)},e.prototype.setStateByElement=function(t,r){this.setElementState(t,r)},e.prototype.isMathItem=function(t,r,n){var a=this.context.view,o=Qi(a,r),s=Yr(t,r);return!(0,u.isNil)(s)&&n.name===o.getText(s)},e.prototype.setElementsStateByItem=function(t,r,n,a){var o=this;(0,u.each)(t,function(s){o.isMathItem(s,r,n)&&s.setState(o.stateName,a)})},e.prototype.setStateEnable=function(t){var r=ie(this.context);if(r)be(this.context)&&this.setStateByElement(r,t);else{var n=ve(this.context);if(we(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&cv(s.fromShape)===cv(s.toShape))return;this.setStateByComponent(o,a,t)}}}},e.prototype.toggle=function(){var t=ie(this.context);if(t){var r=t.hasState(this.stateName);this.setElementState(t,!r)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(Ju),qu=rM,nM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(qu),iM=nM,aM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return e.prototype.getColorScale=function(t,r){var n=r.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},e.prototype.getLinkPath=function(t,r){var n=t.shape.getCanvasBBox(),a=r.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},e.prototype.addLinkShape=function(t,r,n){t.addShape({type:"path",attrs:{opacity:.4,fill:r.shape.attr("fill"),path:this.getLinkPath(r,n)}})},e.prototype.linkByElement=function(t){var r=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=Yr(t,a.field);if(!this.cache[o]){var s=Je(n,a.field,o),l=this.linkGroup,f=l.addGroup();this.cache[o]=f;var h=s.length;(0,u.each)(s,function(c,d){if(d<h-1){var b=s[d+1];r.addLinkShape(f,c,b)}})}}},e.prototype.removeLink=function(t){var r=this.getColorScale(this.context.view,t);if(!!r){var n=Yr(t,r.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},e.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var r=ie(t);r&&this.linkByElement(r)},e.prototype.unlink=function(){var t=ie(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(ct),oM=aM,sM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if($e(this.context))t=tr(this.context,10);else{var r=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!r||!n)return;var a={minX:Math.min(r.x,n.x),minY:Math.min(r.y,n.y),maxX:Math.max(r.x,n.x),maxY:Math.max(r.y,n.y)},o=this.context.view;t=sn(o,a)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var r=rr(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,r):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,r){var n=this,a=this.context.view,o=Ur(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,f=a.getYScales()[0].field;(0,u.each)(o,function(h){var c=rr(h),d=c.filter(function(b){var L=b.getModel().data;return ti(s,L,l,f)});n.setElementsState(d,r,c)})},e.prototype.setSiblingsState=function(t){var r=this,n=this.context.view,a=Ur(n);$e(this.context)&&(0,u.each)(a,function(o){var s=rr(o),l=Pr(r.context,o,10);l&&l.length?r.setElementsState(l,t,s):r.clearViewState(o)})},e.prototype.setElementsState=function(t,r,n){var a=this;(0,u.each)(n,function(o){t.includes(o)?a.setElementState(o,r):a.setElementState(o,!1)})},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,r=this.context.view;if(this.effectSiblings){var n=Ur(r);(0,u.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(r)},e}(Ju),tf=sM,lM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(tf),uM=lM,fM=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setStateEnable=function(t){var r=ie(this.context);if(r){if(!be(this.context))return;t?(this.clear(),this.setElementState(r,!0)):this.hasState(r)&&this.setElementState(r,!1)}},e.prototype.toggle=function(){var t=ie(this.context);if(t){var r=this.hasState(t);r||this.clear(),this.setElementState(t,!r)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(Ju),ef=fM,hM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(ef),cM=hM,rs="inactive",ns="active";function rf(i){var e=rr(i);(0,u.each)(e,function(t){t.hasState(ns)&&t.setState(ns,!1),t.hasState(rs)&&t.setState(rs,!1)})}function vv(i,e,t){(0,u.each)(i,function(r){e(r)?(r.hasState(rs)&&r.setState(rs,!1),r.setState(ns,t)):(r.hasState(ns)&&r.setState(ns,!1),r.setState(rs,t))})}var bo=It.INACTIVE,ja=It.ACTIVE,vM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=ja,t}return e.prototype.setElementsStateByItem=function(t,r,n,a){var o=this,s=function(l){return o.isMathItem(l,r,n)};this.setHighlightBy(t,s,a)},e.prototype.setElementHighlight=function(t,r){r(t)?(t.hasState(bo)&&t.setState(bo,!1),t.setState(ja,!0)):t.hasState(ja)||t.setState(bo,!0)},e.prototype.setHighlightBy=function(t,r,n){var a=this;if(n)(0,u.each)(t,function(l){a.setElementHighlight(l,r)});else{var o=Xr(this.context.view,ja),s=!0;(0,u.each)(o,function(l){if(!r(l))return s=!1,!1}),s?this.clear():(0,u.each)(t,function(l){r(l)&&(l.hasState(ja)&&l.setState(ja,!1),l.setState(bo,!0))})}},e.prototype.setElementState=function(t,r){var n=this.context.view,a=rr(n);this.setHighlightBy(a,function(o){return t===o},r)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.context.view;rf(t)},e}(qu),nf=vM,dM=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setStateByElement=function(t,r){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=Yr(t,o.field),l=rr(n),f=l.filter(function(h){return Yr(h,o.field)===s});this.setHighlightBy(l,function(h){return f.includes(h)},r)}},e}(nf),pM=dM,gM=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setElementHighlight=function(t,r){r(t)?(t.hasState(bo)&&t.setState(bo,!1),t.setState(ja,!0)):(t.setState(bo,!0),t.hasState(ja)&&t.setState(ja,!1))},e.prototype.setStateByElement=function(t,r){var n=this.context.view,a=n.getXScale(),o=Yr(t,a.field),s=rr(n),l=s.filter(function(f){return Yr(f,a.field)===o});this.setHighlightBy(s,function(f){return l.includes(f)},r)},e.prototype.toggle=function(){var t=ie(this.context);if(t){var r=t.hasState(this.stateName);this.setStateByElement(t,!r)}},e}(nf),yM=gM,mM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.clearViewState=function(t){rf(t)},e.prototype.highlight=function(){this.setState()},e.prototype.setElementsState=function(t,r,n){vv(n,function(a){return t.indexOf(a)>=0},r)},e}(tf),dv=mM,xM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,r){var n=this.context.view,a=rr(n);vv(a,function(o){return t===o},r)},e.prototype.clear=function(){var t=this.context.view;rf(t)},e}(ef),bM=xM,wM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(tf),SM=wM,MM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(qu),CM=MM,EM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(ef),AM=EM,TM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return e.prototype.getTriggerListInfo=function(){var t=ve(this.context),r=null;return we(t)&&(r={item:t.item,list:t.component}),r},e.prototype.getAllowComponents=function(){var t=this,r=this.context.view,n=ln(r),a=[];return(0,u.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},e.prototype.hasState=function(t,r){return t.hasState(r,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,r=this.getAllowComponents();(0,u.each)(r,function(n){n.clearItemsState(t.stateName)})},e.prototype.allowSetStateByElement=function(t){var r=t.get("field");if(!r)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=Qi(a,r);return o&&o.isCategory},e.prototype.allowSetStateByItem=function(t,r){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return r.hasState(t,o)});return a.length===0}return!0},e.prototype.setStateByElement=function(t,r,n){var a=t.get("field"),o=this.context.view,s=Qi(o,a),l=Yr(r,a),f=s.getText(l);this.setItemsState(t,f,n)},e.prototype.setStateEnable=function(t){var r=this,n=ie(this.context);if(n){var a=this.getAllowComponents();(0,u.each)(a,function(f){r.setStateByElement(f,n,t)})}else{var o=ve(this.context);if(we(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},e.prototype.setItemsState=function(t,r,n){var a=this,o=t.getItems();(0,u.each)(o,function(s){s.name===r&&a.setItemState(t,s,n)})},e.prototype.setItemState=function(t,r,n){t.setItemState(r,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var r=t.list,n=t.item,a=this.hasState(r,n);this.setItemState(r,n,!a)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(ct),Ks=TM,PM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(Ks),_M=PM,pv="inactive",gv="active";function OM(i){var e=i.getItems();(0,u.each)(e,function(t){i.hasState(t,gv)&&i.setItemState(t,gv,!1),i.hasState(t,pv)&&i.setItemState(t,pv,!1)})}var is="inactive",wo="active",LM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=wo,t.ignoreItemStates=["unchecked"],t}return e.prototype.setItemsState=function(t,r,n){this.setHighlightBy(t,function(a){return a.name===r},n)},e.prototype.setItemState=function(t,r,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===r},n)},e.prototype.setHighlightBy=function(t,r,n){var a=t.getItems();if(n)(0,u.each)(a,function(l){r(l)?(t.hasState(l,is)&&t.setItemState(l,is,!1),t.setItemState(l,wo,!0)):t.hasState(l,wo)||t.setItemState(l,is,!0)});else{var o=t.getItemsByState(wo),s=!0;(0,u.each)(o,function(l){if(!r(l))return s=!1,!1}),s?this.clear():(0,u.each)(a,function(l){r(l)&&(t.hasState(l,wo)&&t.setItemState(l,wo,!1),t.setItemState(l,is,!0))})}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)OM(t.list);else{var r=this.getAllowComponents();(0,u.each)(r,function(n){n.clearItemsState(wo),n.clearItemsState(is)})}},e}(Ks),af=LM,IM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(Ks),kM=IM,BM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return e.prototype.unchecked=function(){this.setState()},e}(Ks),DM=BM,FM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var r="mask:"+t,n=this.context.view,a=this.context.event;n.emit(r,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},e.prototype.createMask=function(){var t=this.context.view,r=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,I.__assign)({fill:"#C5D4EB",opacity:.3},r)});return n},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),r=this.preMovePoint,n=t.x-r.x,a=t.y-r.y,o=this.points;(0,u.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},e}(ct),of=FM,RM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return e.prototype.getMaskAttrs=function(){var t=this.points,r=(0,u.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=kn(s,r)/2,a=(r.x+s.x)/2,o=(r.y+s.y)/2}return{x:a,y:o,r:n}},e}(of),NM=RM,YM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return e.prototype.getRegion=function(){var t=this.points;return{start:(0,u.head)(t),end:(0,u.last)(t)}},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),r=t.start,n=t.end,a=Math.min(r.x,n.x),o=Math.min(r.y,n.y),s=Math.abs(n.x-r.x),l=Math.abs(n.y-r.y);return{x:a,y:o,width:s,height:l}},e}(of),yv=YM;function mv(i){i.x=(0,u.clamp)(i.x,0,1),i.y=(0,u.clamp)(i.y,0,1)}var GM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return e.prototype.getRegion=function(){var t=null,r=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,u.head)(n)),l=o.invert((0,u.last)(n));return this.inPlot&&(mv(s),mv(l)),a==="x"?(t=o.convert({x:s.x,y:0}),r=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),r=o.convert({x:1,y:l.y})),{start:t,end:r}},e}(yv),xv=GM,zM=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){var t=this.points,r=[];return t.length&&((0,u.each)(t,function(n,a){a===0?r.push(["M",n.x,n.y]):r.push(["L",n.x,n.y])}),r.push(["L",t[0].x,t[0].y])),r},e.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},e.prototype.addPoint=function(){this.resize()},e}(of),bv=zM,XM=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){var t=this.points;return jn(t,!0)},e}(bv),VM=XM,HM=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setCursor=function(t){var r=this.context.view;r.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e}(ct),WM=HM,jM=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.filterView=function(t,r,n){var a=this;t.getScaleByField(r)&&t.filter(r,n),t.views&&t.views.length&&(0,u.each)(t.views,function(o){a.filterView(o,r,n)})},e.prototype.filter=function(){var t=ve(this.context);if(t){var r=this.context.view,n=t.component,a=n.get("field");if(we(t)){if(a){var o=n.getItemsByState("unchecked"),s=Qi(r,a),l=o.map(function(d){return d.name});l.length?this.filterView(r,a,function(d){var b=s.getText(d);return!l.includes(b)}):this.filterView(r,a,null),r.render(!0)}}else if(He(t)){var f=n.getValue(),h=f[0],c=f[1];this.filterView(r,a,function(d){return d>=h&&d<=c}),r.render(!0)}}},e}(ct),UM=jM;function wv(i,e,t,r){var n=Math.min(t[e],r[e]),a=Math.max(t[e],r[e]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var f=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(f),d=i.values.indexOf(h),b=i.values.slice(c,d+1);return function(L){return b.includes(L)}}else return function(L){return L>=f&&L<=h}}var ZM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,r;if($e(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},r={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,r=this.context.getCurrentPoint()}if(!(Math.abs(t.x-r.x)<5||Math.abs(t.x-r.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(r),f=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=wv(h,"x",l,f);this.filterView(o,h.field,c)}if(this.hasDim("y")){var d=o.getYScales()[0],c=wv(d,"y",l,f);this.filterView(o,d.field,c)}this.reRender(o)}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var r=t.getXScale();this.filterView(t,r.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},e.prototype.filterView=function(t,r,n){t.filter(r,n)},e.prototype.reRender=function(t){t.render(!0)},e}(ct),$s=ZM,KM=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.filterView=function(t,r,n){var a=Ur(t);(0,u.each)(a,function(o){o.filter(r,n)})},e.prototype.reRender=function(t){var r=Ur(t);(0,u.each)(r,function(n){n.render(!0)})},e}($s),sf=KM,$M=function(i){(0,I.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.filter=function(){var t=ve(this.context),r=this.context.view,n=rr(r);if($e(this.context)){var a=tr(this.context,10);a&&(0,u.each)(n,function(L){a.includes(L)?L.show():L.hide()})}else if(t){var o=t.component,s=o.get("field");if(we(t)){if(s){var l=o.getItemsByState("unchecked"),f=Qi(r,s),h=l.map(function(L){return L.name});(0,u.each)(n,function(L){var D=Yr(L,s),V=f.getText(D);h.indexOf(V)>=0?L.hide():L.show()})}}else if(He(t)){var c=o.getValue(),d=c[0],b=c[1];(0,u.each)(n,function(L){var D=Yr(L,s);D>=d&&D<=b?L.show():L.hide()})}}},e.prototype.clear=function(){var t=rr(this.context.view);(0,u.each)(t,function(r){r.show()})},e.prototype.reset=function(){this.clear()},e}(ct),QM=$M,JM=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return e.prototype.filter=function(){$e(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,r=tr(this.context,10);if(!!r){var n=t.getXScale().field,a=t.getYScales()[0].field,o=r.map(function(l){return l.getModel().data}),s=Ur(t);(0,u.each)(s,function(l){var f=rr(l);(0,u.each)(f,function(h){var c=h.getModel().data;ti(o,c,n,a)?h.show():h.hide()})})}},e.prototype.filterByBBox=function(){var t=this,r=this.context.view,n=Ur(r);(0,u.each)(n,function(a){var o=Pr(t.context,a,10),s=rr(a);o&&(0,u.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},e.prototype.reset=function(){var t=Ur(this.context.view);(0,u.each)(t,function(r){var n=rr(r);(0,u.each)(n,function(a){a.show()})})},e}(ct),Sv=JM,qM=10,tC=5,eC=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return e.prototype.getButtonCfg=function(){return(0,u.deepMix)(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),r=this.context.view.foregroundGroup.addGroup({name:t.name}),n=r.addShape({type:"text",name:"button-text",attrs:(0,I.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=Li(t.padding),s=r.addShape({type:"rect",name:"button-rect",attrs:(0,I.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),r.on("mouseenter",function(){s.attr(t.activeStyle)}),r.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=r},e.prototype.resetPosition=function(){var t=this.context.view,r=t.getCoordinate(),n=r.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=Fn.transform(null,[["t",n.x-o.width-qM,n.y+o.height+tC]]);a.setMatrix(s)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},e}(ct),rC=eC,nC=4,iC=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),r=this.context.view,n=this.context.event;this.dragStart?r.emit("drag",{target:n.target,x:n.x,y:n.y}):kn(t,this.startPoint)>nC&&(r.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,r=this.context.event;t.emit("dragend",{target:r.target,x:r.x,y:r.y})}this.starting=!1,this.dragStart=!1},e}(ct),aC=iC,oC=5,sC=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(!!this.starting){var t=this.startPoint,r=this.context.getCurrentPoint(),n=kn(t,r);if(n>oC&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=Fn.transform(this.startMatrix,[["t",r.x-t.x,r.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(ct),lC=sC,Mv="x",Cv="y",uC=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[Mv,Cv],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var r=this.context.view;return t==="x"?r.getXScale():r.getYScales()[0]},e.prototype.resetDim=function(t){var r=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);r.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim(Mv),this.resetDim(Cv);var t=this.context.view;t.render(!0)},e}(ct),Ev=uC,fC=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var r=this.dims;(0,u.each)(r,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(!!this.starting){var r=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(r),s=n.invert(a),l=s.x-o.x,f=s.y-o.y,h=this.context.view,c=this.dims;(0,u.each)(c,function(d){t.translateDim(d,{x:l*-1,y:f*-1})}),h.render(!0)}},e.prototype.translateDim=function(t,r){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,r)}},e.prototype.translateLinear=function(t,r,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,f=l-s,h=n[t]*f;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:r.nice,min:s,max:l}),a.scale(r.field,{nice:!1,min:s+h,max:l+h})},e.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(Ev),hC=fC,cC=function(i){(0,I.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var r=this,n=this.dims;(0,u.each)(n,function(a){r.zoomDim(a,t)}),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,r){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,r)}},e.prototype.zoomLinear=function(t,r,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:r.nice,min:r.min,max:r.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=r.min,f=r.max,h=n*s,c=l-h,d=f+h,b=d-c,L=b/s;d>c&&L<100&&L>.01&&a.scale(r.field,{nice:!1,min:l-h,max:f+h})},e}(Ev),vC=cC;zt("dark",ji(q1)),nt("canvas",O),nt("svg",_),Pa("Polygon",ES),Pa("Interval",yS),Pa("Schema",TS),Pa("Path",zu),Pa("Point",SS),Pa("Line",xS),Pa("Area",lS),Pa("Edge",fS),Pa("Heatmap",vS),$o("base",Bs),$o("interval",HS),$o("pie",US),$o("polar",$c),po("overlap",i2),po("distribute",KS),po("fixed-overlap",n2),po("limit-in-shape",qS),po("limit-in-canvas",JS),po("pie-outer",QS),wi("fade-in",a2),wi("fade-out",o2),wi("grow-in-x",l2),wi("grow-in-xy",f2),wi("grow-in-y",u2),wi("scale-in-x",v2),wi("scale-in-y",d2),wi("wave-in",y2),wi("zoom-in",m2),wi("zoom-out",x2),wi("position-update",c2),wi("sector-path-update",g2),wi("path-in",h2),Bt("rect",_2),Bt("mirror",T2),Bt("list",M2),Bt("matrix",E2),Bt("circle",w2),Bt("tree",L2),An("axis",D2),An("legend",X2),An("tooltip",U2),An("annotation",k2),An("slider",H2),Nt("tooltip",hv),Nt("sibling-tooltip",J2),Nt("ellipsis-text",tM),Nt("element-active",iM),Nt("element-single-active",cM),Nt("element-range-active",uM),Nt("element-highlight",nf),Nt("element-highlight-by-x",yM),Nt("element-highlight-by-color",pM),Nt("element-single-highlight",bM),Nt("element-range-highlight",dv),Nt("element-sibling-highlight",dv,{effectSiblings:!0,effectByRecord:!0}),Nt("element-selected",CM),Nt("element-single-selected",AM),Nt("element-range-selected",SM),Nt("element-link-by-color",oM),Nt("active-region",K2),Nt("list-active",_M),Nt("list-selected",kM),Nt("list-highlight",af),Nt("list-unchecked",DM),Nt("legend-item-highlight",af,{componentNames:["legend"]}),Nt("axis-label-highlight",af,{componentNames:["axis"]}),Nt("rect-mask",yv),Nt("x-rect-mask",xv,{dim:"x"}),Nt("y-rect-mask",xv,{dim:"y"}),Nt("circle-mask",NM),Nt("path-mask",bv),Nt("smooth-path-mask",VM),Nt("cursor",WM),Nt("data-filter",UM),Nt("brush",$s),Nt("brush-x",$s,{dims:["x"]}),Nt("brush-y",$s,{dims:["y"]}),Nt("sibling-filter",sf),Nt("sibling-x-filter",sf),Nt("sibling-y-filter",sf),Nt("element-filter",QM),Nt("element-sibling-filter",Sv),Nt("element-sibling-filter-record",Sv,{byRecord:!0}),Nt("view-drag",aC),Nt("view-move",lC),Nt("scale-translate",hC),Nt("scale-zoom",vC),Nt("reset-button",rC,{name:"reset-button",text:"reset"});function no(i){return i.isInPlot()}bn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),bn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),bn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),bn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),bn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),bn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),bn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),bn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),bn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),bn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),bn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),bn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),bn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:no,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:no,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:no,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),bn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),bn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:no,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:no,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:no,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),bn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:no,action:"path-mask:start"},{trigger:"mousedown",isEnable:no,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),bn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),bn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),bn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),bn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),bn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),bn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Av(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}bn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return Av(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!Av(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),bn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var Tv={translate:Cu,rotate:ic,zoom:W1,transform:ks,getAngle:Cr,polarToCartesian:Oe},Qs=function(){function i(e){this.EVENT="gesture",this.gm=e}return i.prototype.do=function(e){var t=e.type;switch(t){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"touchcancel":this.onTouchCancel(e);break;default:return}},i.prototype.emit=function(e){this.gm.emit(this.EVENT,e)},i}(),dC=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){},e.prototype.onTouchMove=function(t){var r=t.x,n=t.y,a=r-this.preX,o=n-this.preY;this.preX=r,this.preY=n,this.emit({x:r,y:n,deltaX:a,deltaY:o,event:t})},e.prototype.onTouchStart=function(t){var r=t.x,n=t.y;this.preX=r,this.preY=n},e}(Qs),io=typeof performance=="object"&&performance.now?performance:Date,pC=300,Pv=10,gC=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return e.prototype.onTouchCancel=function(t){this.clearTimeout()},e.prototype.onTouchEnd=function(t){this.clearTimeout()},e.prototype.onTouchMove=function(t){var r=t.x,n=t.y;(r-this.touchStartX>Pv||n-this.touchStartY>Pv)&&this.clearTimeout()},e.prototype.onTouchStart=function(t){var r=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=io.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){r.emit({x:n,y:a,event:t})},pC)},e.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},e}(Qs),yC=100,mC=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var r=this.speedX,n=this.speedY;if(io.now()-this.latestMoveTime<yC){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:r,speedY:n,event:t})}},e.prototype.onTouchMove=function(t){var r=t.x,n=t.y,a=io.now(),o=r-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},e.prototype.onTouchStart=function(t){var r=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=r,this.preY=n,this.ms=io.now()},e}(Qs),xC=300,_v=2,bC=function(i){(0,Zr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var r=t.x,n=t.y;r-this.touchStartX<_v&&n-this.touchStartY<_v&&io.now()-this.touchStartTime<xC&&this.emit({x:r,y:n,event:t})},e.prototype.onTouchMove=function(t){},e.prototype.onTouchStart=function(t){var r=t.x,n=t.y;this.touchStartTime=io.now(),this.touchStartX=r,this.touchStartY=n},e}(Qs),wC={Pan:dC,Press:gC,Swipe:mC,Tap:bC},SC=function(i){return wC[i]},Ov=function(i){(0,Zr.__extends)(e,i);function e(t,r){r===void 0&&(r={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=r,n.initialGestures(),n.bindTouchStart(),n}return e.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},e.prototype.initialGestures=function(){var t=this,r=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=r.map(function(n){var a=SC(n);return new a(t)})},e.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},e.prototype.preventEvent=function(t){var r=t.type,n=this.options.prevents||[];n.includes(r)&&t.preventDefault()},e.prototype.doGestures=function(t){this.gestures.forEach(function(r){r.do(t)})},e}(Ie.default),MC=v(68716),CC=MC.yD,EC=800,AC="swipe",TC="pan",Lv="wheel",PC=function(i){(0,Zr.__extends)(e,i);function e(t){var r=i.call(this)||this;return r.rafMs=0,r.onPan=function(n){r.raf&&cancelAnimationFrame(r.raf);var a=n.deltaX,o=n.deltaY,s=r.getWrapperEvent(n,a,o);r.emit(Lv,s)},r.onSwipe=function(n){var a=n.speedX,o=n.speedY;r.rafMs=io.now(),r.ms=r.rafMs,(a!==0||o!==0)&&r.rafInertia(n)},r.element=t,r.gm=new Ov(t,{gestures:["Pan","Swipe"]}),r.gm.on(AC,r.onSwipe),r.gm.on(TC,r.onPan),r}return e.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},e.prototype.rafInertia=function(t){var r=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=io.now(),s=(o-r.ms)/EC;if(s<1){s=CC(1-s);var l=o-r.rafMs,f=n*s*l,h=a*s*l,c=r.getWrapperEvent(t,f,h);r.emit(Lv,c),r.rafMs=o,r.rafInertia(t)}})},e.prototype.getWrapperEvent=function(t,r,n){return(0,Zr.__assign)((0,Zr.__assign)({},t),{deltaX:-r,deltaY:-n})},e}(Ie.default),Gn=v(78646),Iv=v(13733),_C=v(90835),P9=v(86050),OC=v(85506),ao=v(97488),_9=v(98880),LC=v(88373),So=v(55225);An("gesture",tt.Z);var ua="origin",as="_origin",kv=1e3,Bv=60*kv,Dv=60*Bv,Js=24*Dv,IC=Js*7,kC=Js*30,BC=Js*365,DC={second:{value:kv,format:"HH:mm:ss"},miniute:{value:Bv,format:"HH:mm"},hour:{value:Dv,format:"HH"},day:{value:Js,format:"YYYY-MM-DD"},week:{value:IC,format:"YYYY-MM-DD"},month:{value:kC,format:"YYYY-MM"},year:{value:BC,format:"YYYY"}},qs=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],FC=[],RC={axis:"axis-label",label:"label",legend:"legend-item"},NC={title:"title",description:"description",breadcrumb:"breadcrumb"},Fv=(0,u.deepMix)(ki(NC),lf("Plot",qs)),Rv=lf("Layer",qs),Ln=(0,u.deepMix)({},ki(RC),lf("View",qs),YC());function xi(i,e,t){i.view.on(e,function(r){var n={x:r==null?void 0:r.x,y:r==null?void 0:r.y,clientX:r==null?void 0:r.clientX,clientY:r==null?void 0:r.clientY,target:r==null?void 0:r.target,data:(r==null?void 0:r.data)?r.data.data:null,plot:i,canvas:i.canvas,gEvent:r==null?void 0:r.gEvent};t(n)})}function ki(i){var e={};return(0,u.each)(i,function(t,r){var n=(0,u.upperFirst)(r),a="on"+n,o=t+":";(0,u.each)(qs,function(s){var l=(0,u.upperFirst)(s),f=""+a+l,h=""+o+s;e[f]=h})}),e}function lf(i,e){var t={},r="on";return(0,u.each)(e,function(n){var a=(0,u.upperFirst)(n),o=""+r+i+a;t[o]=n}),t}function YC(){var i={},e="on";return(0,u.each)(FC,function(t){var r=(0,u.upperFirst)(t),n=""+e+r;i[n]=t}),i}var GC=v(62810),zC=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.fromBBoxObject=function(t){return new e(t.x,t.y,t.width,t.height)},e}(GC.BBox),mn=zC,XC=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this)||this;return r.layers=[],r.destroyed=!1,r.visibility=!0,r.rendered=!1,r.eventHandlers=[],r.options=r.getOptions(t),r.processOptions(r.options),r}return e.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},e.prototype.updateConfig=function(t){this.options=(0,u.deepMix)({},this.options,t),this.processOptions(this.options)},e.prototype.beforeInit=function(){return null},e.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},e.prototype.afterInit=function(){return null},e.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},e.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},e.prototype.destroy=function(){var t=this;this.eachLayer(function(r){r.destroy()}),(0,u.each)(this.eventHandlers,function(r){t.off(r.eventName,r.handler)}),this.container.remove(!0),this.destroyed=!0},e.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},e.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},e.prototype.addLayer=function(t){var r=(0,u.findIndex)(this.layers,function(n){return n===t});r<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},e.prototype.removeLayer=function(t){var r=(0,u.findIndex)(this.layers,function(n){return n===t});r>=0&&this.layers.splice(r,1)},e.prototype.updateBBox=function(t,r){r===void 0&&(r=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,u.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),r&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},e.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},e.prototype.getGlobalPosition=function(){for(var t=this.x,r=this.y,n=this.parent;n;)t+=n.x,r+=n.y,n=n.parent;return{x:t,y:r}},e.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new mn(t.x,t.y,this.width,this.height)},e.prototype.getOptions=function(t){var r=0,n=0;t.parent&&(r=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:r,height:n};return(0,u.deepMix)({},a,t)},e.prototype.eachLayer=function(t){(0,u.each)(this.layers,t)},e.prototype.parseEvents=function(t){var r=this,n=(0,u.keys)(Rv);(0,u.each)(t,function(a,o){if((0,u.contains)(n,o)&&(0,u.isFunction)(a)){var s=Rv[o]||o,l=a;r.on(s,l),r.eventHandlers.push({name:s,handler:l})}})},e.prototype.getLayerBBox=function(){return new mn(this.x,this.y,this.width,this.height)},e.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,r=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/r,l=(this.x+this.width-n)/t,f=(this.y+this.height-a)/r;return{start:{x:o,y:s},end:{x:l,y:f}}}return{start:{x:0,y:0},end:{x:1,y:1}}},e}(Ie.default),tl=XC;function Bo(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function Nv(i,e){var t=(0,qt.__spreadArrays)(i);return e.forEach(function(r,n){t.splice(r+n,0,`
`)}),t.join("")}function VC(i){return i.getComponents().filter(function(e){return e.type===Gn.COMPONENT_TYPE.AXIS}).map(function(e){return e.component})}function HC(i){return i.getComponents().filter(function(e){return e.type===Gn.COMPONENT_TYPE.LEGEND}).map(function(e){return e.component})}function O9(i){var e=i.backgroundGroup.findAll(function(t){if(t.get("name")){var r=t.get("name").split("-");return r[0]==="axis"}});return e}function L9(i){var e=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return e}function WC(i,e){for(var t=i.length;t>0&&!(e>=i[t-1]);)t-=1;return t}function Yv(i,e){return!(i.maxY<e.minY||e.maxY<i.minY||i.maxX<e.minX||e.maxX<i.minX)}function I9(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var jC=function(){function i(e){this.position="top",this.destroyed=!1,(0,u.assign)(this,e),this.init()}return i.prototype.getBBox=function(){var e=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return mn.fromBBoxObject(t);var r=this.plot.theme.description.padding;return(0,u.isArray)(r)&&(0,u.each)(r,function(n,a){typeof r[a]=="function"&&(r[a]=r[a](e.plot.options.legend.position))}),new mn(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var e=this.textWrapper(),t=this.getPosition(),r=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,u.mix)({x:r,y:n,text:e},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var e=this.wrapperWidth,t=this.style,r=this.text,n=this.container.addShape("text",{attrs:(0,qt.__assign)({text:"",x:0,y:0},t)}),a=r.split(`
`),o=a.map(function(s){for(var l="",f=s.split(""),h=[],c=0;c<f.length;c++){var d=f[c];n.attr("text",l+=d);var b=n.getBBox().width-1;if(b>e){if(c===0)break;h.push(c),l=""}}return Nv(f,h)});return n.remove(),o.join(`
`)},i}(),el=jC,UC=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this)||this;return r.container=t.container,r.destroyed=!1,r.config=t,r.disposables=[],r}return e.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},e.prototype.getGroup=function(){return this.group},e.prototype.getConfig=function(){return this.config},e.prototype.getBBox=function(){return this.getGroup().getBBox()},e.prototype.clear=function(){this.group.clear()},e.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},e.prototype.update=function(t){this.config=(0,qt.__assign)((0,qt.__assign)({},this.config),t),this.initConfig(this.config)},e.prototype.destroy=function(){(0,u.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},e.prototype.initGroup=function(){this.group=this.container.addGroup()},e.prototype.getCanvas=function(){return this.container.get("canvas")},e.prototype.addDisposable=function(t){this.disposables.push(t)},e.prototype.initConfig=function(t){},e}(Ie.default),os=UC,ZC=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return e.prototype.getGeometry=function(){return this.geometry},e.prototype.getLabels=function(){return this.labels},e.prototype.show=function(){this.container.show()},e.prototype.hide=function(){this.container.hide()},e.prototype.initConfig=function(t){var r=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,u.deepMix)(this.getDefaultOptions(),t.label);var a=function(){r.clear(),r.labelsCfgMap={},r.lastLabelsCfgMap={},r.render()};n.on(Gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(Gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},e.prototype.renderInner=function(t){var r=this;this.labels=[],this.labelsCfgMap={},(0,u.each)(this.geometry.elements,function(s,l){var f=[].concat(r.drawLabelItem(t,s,l));(0,u.each)(f,function(h,c){r.adjustLabel(h,s,c),h.destroyed||(r.labels.push(h),r.labelsCfgMap[h.get("id")]=(0,u.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,ao.getDefaultAnimateCfg)("label",this.coord):!1;(0,u.each)(a,function(s,l){var f=t.findById(l);if(f)if(n[l]){var h=n[l],c=(0,u.get)(o,"update");c&&(f.stopAnimate(),f.attr(h),(0,ao.doAnimate)(f,c,{toAttrs:(0,qt.__assign)({},s),coordinate:r.coord}))}else{var d=(0,u.get)(o,"appear");d&&(f.stopAnimate(),(0,ao.doAnimate)(f,d,{toAttrs:(0,qt.__assign)({},f.attr()),coordinate:r.coord}))}delete n[l]}),(0,u.each)(n,function(s,l){var f=(0,u.get)(o,"leave");if(f){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,ao.doAnimate)(h,f,{toAttrs:null,coordinate:r.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},e.prototype.drawLabelText=function(t,r,n){return n===void 0&&(n={}),t.addShape("text",(0,qt.__assign)({attrs:r},n))},e.prototype.drawLabelItem=function(t,r,n){var a=this,o=r.getModel(),s=[].concat(this.getLabelItemAttrs(r,n)),l=this.getDefaultOffset(),f=this.getLabelOffset();return(0,u.map)(s,function(h,c){var d,b={x:h.x+f.x,y:h.y+f.y},L=(0,u.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,D=a.getLabelId(L);return a.drawLabelText(t,(0,qt.__assign)((0,qt.__assign)({},h),b),(d={id:D,name:"label",offset:l,element:r},d[ua]=L,d))})},e.prototype.getDefaultOffset=function(){return Number(this.options.offset)},e.prototype.getLabelOffset=function(){var t=this.options,r=t.offsetX,n=t.offsetY;return{x:(0,u.isNumber)(r)?r:0,y:(0,u.isNumber)(n)?n:0}},e.prototype.getLabelOffsetByDimAndFactor=function(t,r){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*r,(0,u.isNumber)(a)&&(l.x+=a),(0,u.isNumber)(o)&&(l.y+=o),l},e.prototype.getDefaultOptions=function(){return{}},e.prototype.layoutLabels=function(t,r){},e.prototype.getLabelId=function(t){var r=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+r[a.field]:n==="path"&&(s+=" "+r[a.field]+"-"+r[o.field]),s},e.prototype.getCoordinateBBox=function(){var t=this.coord,r=t.start,n=t.end;return new mn(Math.min(r.x,n.x),Math.min(r.y,n.y),t.getWidth(),t.getHeight())},e}(os),uf=ZC,Gv={};function Ji(i,e){Gv[i]=e}function KC(i){return Gv[i]}var ff=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return function(t,r,n){return i.reduce(function(a,o){return o(a,r,n)},t)}},hf=function(){return function(i){return i}},zv=function(i){return function(e){var t=Number(e);return isNaN(t)||(0,u.isNil)(i)?e:t.toFixed(i)}},Xv=function(i){return function(e){return(0,u.isNil)(i)?e:e+" "+i}};function cf(i,e,t){i[t]&&(e[t]=i[t])}var $C=function(){function i(e){this.config=!1,this.plot=e.plot,this.dim=e.dim,this.init()}return i.prototype.init=function(){this.config=!1;var e=this.plot.getPlotTheme();this.themeConfig=e&&e.axis&&e.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=(0,qt.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,cf(this.localProps,this.config,"autoHideLabel"),cf(this.localProps,this.config,"autoRotateLabel"),cf(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var e=this.plot.options,t=e[this.dim+"Axis"]?e[this.dim+"Axis"]:{},r=(0,u.deepMix)({},this.themeConfig,t);return this.localProps=r,!!r.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var e=this,t,r,n,a,o,s=(r=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||r===void 0?void 0:r.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,f=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,u.isFunction)(s)?this.config.grid=function(h,c,d){var b=s(h,c,d);return{line:{type:l,style:(0,u.deepMix)({},(0,u.get)(e.themeConfig,"grid.line.style"),b)},alternateColor:f}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:f},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var e=this.localProps.label,t=e.style,r=(0,qt.__rest)(e,["style"]),n=(0,qt.__assign)({},r);t&&(n.style=(0,qt.__assign)({},this.localProps.label.style)),n.style=(0,u.deepMix)({},(0,u.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var e=(0,qt.__assign)({},this.localProps.title),t=this.localProps.title,r=t.visible,n=t.style,a=t.text;r?(this.config.showTitle=!0,n&&(e.style=n),e.style=(0,u.deepMix)({},(0,u.get)(this.config,"title.style"),e.textStyle),a&&(e.text=a)):this.config.showTitle=!1,this.config.title=e},i.prototype._isVisible=function(e){return!!(this.localProps[e]&&this.localProps[e].visible)},i.prototype.applyThemeConfig=function(e){this.config[e]=(0,u.deepMix)({},(0,u.get)(this.themeConfig,e+".style"),this.config[e])},i.prototype.parseFormatter=function(e){var t=ff(hf(),zv(e.precision),Xv(e.suffix));return e.formatter&&(t=ff(t,e.formatter)),t},i}(),QC=$C;function rl(i){var e=0;return each(i,function(t){e+=t*t}),Math.sqrt(e)}function vf(i,e){return i.x*e.y+i.y*e.x}function k9(i,e){var t=rl(i),r=rl(e),n=vf(i,e),a=Math.acos(n/t/r);return a}function B9(i,e){var t=rl(i),r=rl(e),n=vf(i,e),a=Math.acos(n/t/r);return t*r*Math.sin(a)}function D9(i,e){var t=i.x,r=i.y,n=i.z,a=e.x,o=e.y,s=e.z,l=r*s-n*o,f=n*a-t*s,h=t*o-r*a;return{x:l,y:f,z:h}}function F9(i,e){return{x:i.x-e.x,y:i.y-e.y}}function nl(i,e,t){t===void 0&&(t=1);var r=[i.x,i.y,t];return Sc.transformMat3(r,r,e),{x:r[0],y:r[1]}}function Vv(i,e,t){return i>=e&&i<=t}var JC=.001;function R9(i,e,t,r){var n={x:t.x-i.x,y:t.y-i.y},a={x:e.x-i.x,y:e.y-i.y},o={x:r.x-t.x,y:r.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,f=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>JC*f*h){var d=(n.x*o.y-n.y*o.x)/s,b=(n.x*a.y-n.y*a.x)/s;Vv(d,0,1)&&Vv(b,0,1)&&(c={x:i.x+d*a.x,y:i.y+d*a.y})}return c}function qC(i,e){for(var t=!1,r=0,n=e.length-1;r<e.length;n=r++){var a=e[r].x,o=e[r].y,s=e[n].x,l=e[n].y,f=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;f&&(t=!t)}return t}function il(i){return i*i}function al(i,e){return Math.sqrt(il(i.x-e.x)+il(i.y-e.y))}function Hv(i,e){return Math.sqrt(il(i.x-e.x)+il(i.y-e.y))}function Wv(i,e,t){var r=al(e,t);if(r===0)return al(i,e);var n=((i.x-e.x)*(t.x-e.x)+(i.y-e.y)*(t.y-e.y))/r;n=Math.max(0,Math.min(1,n));var a=al(i,{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)});return Math.sqrt(a)}function jv(i,e){var t=Infinity;(0,u.each)(e,function(h){var c=Math.sqrt(al(h,i));t>c&&(t=c)});for(var r=0,n=e.length-1;r<e.length;n=r++){var a=e[r].x,o=e[r].y,s=e[n].x,l=e[n].y,f=Wv(i,{x:a,y:o},{x:s,y:l});t>f&&(t=f)}return t}function tE(i,e){for(var t=0,r=i;t<r.length;t++){var n=r[t],a=qC(n,e);if(a)return!0}return!1}function Uv(i,e){if(tE(i,e))return 0;var t=Infinity,r=Infinity;return(0,u.each)(i,function(n){var a=jv(n,e);t>a&&(t=a)}),(0,u.each)(e,function(n){var a=jv(n,i);r>a&&(r=a)}),Math.min(t,r)}function eE(i){var e=i.getBBox(),t=e.minX,r=e.minY,n=e.maxX-e.minX,a=e.maxY-e.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=nl({x:0,y:0},s);l.x+=t,l.y+=r;var f=nl({x:n,y:0},s);f.x+=t,f.y+=r;var h=nl({x:0,y:a},s);h.x+=t,h.y+=r;var c=nl({x:n,y:a},s);c.x+=t,c.y+=r;var d=[l,f,h,c];d.sort(function(oe,re){return oe.y-re.y});var b=d[0].y,L=d[d.length-1].y,D=[d[0],d[1]],V=[d[2],d[3]],$=D[0].x<D[1].x?D[0]:D[1],K=D[0].x<D[1].x?D[1]:D[0],yt=V[0].x<V[1].x?V[0]:V[1],wt=V[0].x<V[1].x?V[1]:V[0];d.sort(function(oe,re){return oe.x-re.x});var Rt=d[0].x,Zt=d[d.length-1].x,te={width:Zt-Rt,height:L-b,left:Rt,right:Zt,top:b,bottom:L,topLeft:$,topRight:K,bottomLeft:yt,bottomRight:wt,centerX:Rt+(Zt-Rt)/2,centerY:b+(L-b)/2};return te}var rE=2;function df(i){return i.length<5?i:pf(i,rE)}function pf(i,e){for(var t,r=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},f=Wv(s,l.start,l.end);f>r&&(r=f,n=o)}if(r>e){var h=pf(i.slice(0,n+1),e),c=pf(i.slice(n,i.length),e);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function Zv(i){var e=(0,u.clone)(i);e.sort(function(r,n){return r-n});var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2}function nE(i){var e=0;return(0,u.each)(i,function(t){e+=t}),e/i.length}function Kv(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function iE(i,e,t,r,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,e]);for(var s=e;s<=e+r;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,e+r]);for(var s=e+r;s>=e;s-=n)a.push([i,s]);return a}var aE=function(){function i(e){(0,u.assign)(this,e),this._init()}return i.prototype._init=function(){var e=this.plot.options,t=e.yField,r=e.data,n=this.plot.processData(r);if(!((0,u.isEmpty)(n)||!(0,u.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,u.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,u.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),f=(1-l.scale(s))*100+"%",h=["0%",f],c=["100%",f];this.config=(0,u.mix)({start:h,end:c},o)}else{var d=this.cfg,b=d.start,L=d.end;this.config=(0,u.clone)(o);var D=this.getXScale(),V=this.getYScale(),$=(0,u.clone)(b),K=(0,u.clone)(L);(0,u.each)(b,function(yt,wt){(!(0,u.contains)((0,u.toArray)(b[wt]),"%")||(0,u.isNumber)(b[wt]))&&(wt===0?$[wt]=D.scale(b[0])*100+"%":$[wt]=(1-V.scale(b[1]))*100+"%")}),(0,u.each)(L,function(yt,wt){(!(0,u.contains)((0,u.toArray)(L[wt]),"%")||(0,u.isNumber)(L[wt]))&&(wt===0?K[wt]=D.scale(L[0])*100+"%":K[wt]=(1-V.scale(L[1]))*100+"%")}),this.config.start=$,this.config.end=K}}},i.prototype.getYScale=function(){var e=this._getState("min"),t=this._getState("max"),r=(0,fn.getScale)("linear"),n=new r((0,u.mix)({},{min:this.plot.type==="column"?0:e,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var e=this.extractXValue();if((0,u.isString)(e[0])){var t=(0,fn.getScale)("cat"),r=new t((0,u.mix)({},{values:e},this.plot.config.scales[this.plot.options.xField]));return r}else{var n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),t=(0,fn.getScale)("linear"),r=new t((0,u.mix)({},{min:n,max:a,nice:!0,values:e},this.plot.config.scales[this.plot.options.xField]));return r}},i.prototype._getState=function(e){if(this.values=this._extractValues(),e==="median")return Zv(this.values);if(e==="mean")return nE(this.values);if(e==="max")return Math.max.apply(Math,this.values);if(e==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var e=this.plot.options,t=e.yField,r=[],n=this.plot.processData(e.data);return(0,u.each)(n,function(a){(0,u.isArray)(a[t])?r.push.apply(r,a[t]):r.push(a[t])}),r},i.prototype.extractXValue=function(){var e=this.plot.options,t=e.xField,r=[],n=this.plot.processData(e.data);return(0,u.each)(n,function(a){(0,u.isArray)(a[t])?r.push.apply(r,a[t]):r.push(a[t])}),r},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var e=this.cfg.text;if(e){if(!e.position||e.position==="start")return"left";if(e.position==="center")return"center";if(e.position==="end")return"right"}},i}(),oE=aE,sE=function(){function i(e){this.config={};var t=e.plot,r=(0,qt.__rest)(e,["plot"]);this.plot=t,this.originConfig=r,this.init(e)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(e){var t=this;(0,u.assign)(this.config,e),this.config.callback=function(r){return t.parseCallBack(r)}},i.prototype.parseCallBack=function(e){var t=this.originConfig,r=this.plot.getPlotTheme(),n=(0,qt.__assign)({},t);return this.parseOffset(t,n),t.position&&((0,u.isFunction)(t.position)?n.position=t.position(e):n.position=t.position),this.parseFormatter(n),t.style&&((0,u.isFunction)(t.style)?n.textStyle=t.style(e):n.textStyle=t.style),n.textStyle=(0,u.deepMix)({},(0,u.get)(r,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(e,t){var r=["offset","offsetX","offsetY"],n=0;(0,u.each)(r,function(a){(0,u.has)(e,a)&&(t[a]=e[a],n++)}),n===0&&(0,u.get)(e,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(e){var t=this.originConfig;e.content=function(r,n){var a=r[t.fields[0]];return ff(hf(),zv(t.precision),Xv(t.suffix),t.formatter?t.formatter:hf())(a,r,n)}},i}(),lE=sE,Mo,gf;function $v(i,e){Mo||Qv(i),(0,u.each)(Mo,function(t){var r=Jv(t,e),n=r.labelData,a=r.con;if(qv(n,a)){var o=cE();t.shape.attr(o)}})}function uE(i,e){Mo||Qv(i),(0,u.each)(Mo,function(t,r){var n=Jv(t,e),a=n.labelData,o=n.con;if(qv(a,o)){var s=gf[r],l=hE(s);t.shape.attr(l)}})}function Qv(i){var e;Mo=[],gf=[];var t=(e=i.view.getController("axis"))===null||e===void 0?void 0:e.getComponents();(0,u.each)(t,function(r){var n=r.component,a=[],o=fE(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,u.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),gf.push(h.attr()))}),o){var l=o.ticks,f=o.field;(0,u.each)(a,function(h,c){h.value=l[c],h.scaleField=f,h.type=o.type})}Mo.push.apply(Mo,a)})}function fE(i,e){var t=i.options,r="y",n=e.get("position");(n==="bottom"||n==="top")&&(r="x");var a=t[r+"Field"];return i.view.get("scales")[a]}function Jv(i,e){var t,r=(t={},t[i.scaleField]=i.value,t),n=(0,u.clone)(e);return i.type==="time"&&(0,u.isObject)(e)&&!(0,u.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:r,con:n}}function hE(i){var e=i.opacity||1;return{opacity:e*.2}}function cE(){return{opacity:1,fontWeight:600,fill:"red"}}function qv(i,e){if(!(0,u.isFunction)(e)){var t=e.name,r=e.exp;return i[t]?(0,u.isFunction)(r)?r(i[t]):i[t]===r:!1}return e(i)}var vE={active:$v,selected:$v,disable:uE},dE=function(i){(0,qt.__extends)(e,i);function e(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return e.prototype.setState=function(t,r){this._stateStack[t]=r,this._onUpdate()},e.prototype.getState=function(t){return this._states[t]},e.prototype.getAllStates=function(){return this._states},e.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},e.prototype._onUpdate=function(){var t=this,r=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,u.each)(r,function(n,a){var o=r[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},e.prototype._triggerEvent=function(t,r){this.emit(t+":change",{name:t,exp:r})},e}(Ie.default),pE=dE;function Ua(i,e){if(!(0,u.isFunction)(e)){var t=e.name,r=e.exp;return(0,u.isFunction)(r)?r(i[t]):i[t]===r}return e(i)}var gE=function(){function i(e){this.shapeContainers=[],(0,u.assign)(this,e)}return i.prototype.createStateManager=function(){this.stateManager=new pE},i.prototype.bindStateManager=function(e,t){this.stateManager=e,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(e){var t=this;(0,u.each)(e,function(r,n){var a=r.condition,o=r.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(e){var t=this,r=e.type,n=e.condition,a=e.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,u.each)(this.shapes,function(o,s){var l=o.get("origin").data,f=(0,u.isArray)(l)?l[0]:l;if(Ua(f,n)){var h=e.style?e.style:t._getDefaultStateStyle(r,o),c=t.originAttrs[s],d=void 0;(0,u.isFunction)(h)?d=h(c):d=(0,u.mix)({},c,h),o.attr(d),t.setZIndex(r,o)}}),a&&this._parserRelated(r,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(e){var t=this;(0,u.each)(e,function(r){var n=r.state,a;(0,u.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},r.event?xi(t.plot,t._eventParser(r.event),a):a()})},i.prototype._stateChangeProcess=function(e){var t=this;(0,u.each)(e,function(r){t.stateManager.on(r.name+":change",function(n){r.callback(n,t.plot)})})},i.prototype._getShapes=function(){var e=this,t=[],r=this.plot.view.geometries;return(0,u.each)(r,function(n){var a=n.container;e.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var e=[];return(0,u.each)(this.shapes,function(t){e.push((0,u.clone)(t.attr()))}),e},i.prototype._eventParser=function(e){var t=e.split(":"),r=this.plot.geometryParser("g2",t[0]),n=t[1];return r+":"+n},i.prototype._getDefaultStateStyle=function(e,t){var r=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(r[a]){var o=r[a][e];return(0,u.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(e,t,r){var n=this;(0,u.each)(t,function(a){if(n.plot[a]){var o=PE(a,e);o(n.plot,r)}})},i.prototype.setZIndex=function(e,t){if(e==="active"||e==="selected"){var r=t.get("parent").get("children");r[r.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,u.each)(this.shapeContainers,function(e){var t=e.get("children");t.sort(function(r,n){return r._INDEX-n._INDEX})})},i}(),yE=gE,Do,ol;function td(i,e){Do||ed(i),(0,u.each)(Do,function(t,r){var n=t.get("origin");if(Ua(n,e)){var a=ol[r],o=(0,u.mix)({},a,{opacity:1});t.attr(o)}})}function mE(i,e){Do||ed(i),(0,u.each)(Do,function(t,r){var n=t.get("origin");if(Ua(n,e)){var a=ol[r],o=xE(a);t.attr(o)}})}function ed(i){Do=[],ol=[];var e=i.view.get("elements");(0,u.each)(e,function(t){var r=t.get("labels");r&&(0,u.each)(r,function(n){Do.push(n),ol.push(n.attr())})})}function xE(i){var e=i.opacity||1;return{opacity:e*.2}}var bE={active:td,selected:td,disable:mE},wE=["xField","yField","angleField"];function rd(i,e){var t=i.options;if(ME(t,e)){var r=t.data;(0,u.each)(r,function(n){if(Ua(n,e)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){nd(e,o,!1)}),i.view.showTooltip(a)}})}}function SE(i,e){i.view.on("tooltip:change",function(t){nd(e,t,!0)})}function nd(i,e,t){var r=!t,n=(0,u.clone)(e.items);e.items.splice(0),(0,u.each)(n,function(a){var o=a.point._origin;Ua(o,i)===r&&e.items.push(a)})}function ME(i,e){var t=CE(i);return!(0,u.isFunction)(e)&&t.indexOf(e.name)}function CE(i){var e=[];return(0,u.each)(wE,function(t){(0,u.has)(i,t)&&e.push(t)}),e}var EE={active:rd,selected:rd,disable:SE},AE={axis:QC,label:lE,guideLine:oE},TE={tooltip:EE,label:bE,axis:vE};function Fi(i,e){var t=AE[i];return new t(e).config}function PE(i,e){return TE[i][e]}var _E=["start","process","end","reset"],OE=function(){function i(e){var t=this.getDefaultCfg();(0,u.assign)(this,t,e),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(e){this.preStart(e),this.start(e),this.afterStart(e)},i.prototype.preStart=function(e){},i.prototype.afterStart=function(e){},i.prototype._process=function(e){this.preProcess(e),this.process(e),this.afterProcess(e)},i.prototype.preProcess=function(e){},i.prototype.process=function(e){},i.prototype.afterProcess=function(e){},i.prototype._end=function(e){this.preEnd(e),this.end(e),this.afterEnd(e)},i.prototype.preEnd=function(e){},i.prototype.end=function(e){},i.prototype.afterEnd=function(e){},i.prototype._reset=function(e){this.preReset(e),this.reset(e),this.afterReset(e)},i.prototype.preReset=function(e){},i.prototype.reset=function(e){},i.prototype.afterReset=function(e){},i.prototype._bindEvents=function(){var e=this;(0,u.each)(_E,function(t){var r=e[t+"Event"],n=(0,u.wrapBehavior)(e,"_"+t);e.view.on(r,n),e._eventHandlers.push({type:r,handler:n})})},i.prototype._unbindEvents=function(){var e=this,t=this._eventHandlers;(0,u.each)(t,function(r){e.view.off(r.type,r.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),yf=OE,LE=function(i){(0,qt.__extends)(e,i);function e(t,r,n,a){var o=i.call(this,t)||this;return o.viewLayer=r,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return e.registerInteraction=function(t,r){e.GLOBAL_INTERACTION_MAP[t]=r},e.registerPlotInteraction=function(t,r,n){e.PLOT_INTERACTION_MAP[t]||(e.PLOT_INTERACTION_MAP[t]={}),e.PLOT_INTERACTION_MAP[t][r]=n},e.getInteraction=function(t,r){return r&&e.PLOT_INTERACTION_MAP[r]&&e[r][t]?e.PLOT_INTERACTION_MAP[r][t]:e.GLOBAL_INTERACTION_MAP[t]},e.getInteractionRange=function(t,r){},e.prototype.destroy=function(){(0,u.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},e.prototype.getViewLayer=function(){return this.viewLayer},e.prototype.getRange=function(){return this.interactionRange},e.prototype.getInteractionConfig=function(){return this.interactionConfig},e.prototype.addDisposable=function(t){this.disposables.push(t)},e.prototype.render=function(){},e.prototype.start=function(t){},e.GLOBAL_INTERACTION_MAP={},e.PLOT_INTERACTION_MAP={},e}(yf),Oa=LE,id=function(i,e,t,r,n){var a=r[0],o=r[1];n===void 0&&(n=!1);var s=(0,u.groupBy)(t,i),l=n?e.slice(e.length-o,e.length-a):e.slice(a,o);return(0,u.flatten)((0,u.map)(l,function(f){return s[f]||[]}))},ka;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(ka||(ka={}));var sl=4,ad=8,IE=32,kE=20,BE=999,ll=function(i){i===void 0&&(i={});var e=(0,qt.__assign)({type:"horizontal",categorySize:IE,width:ad,height:ad,padding:[0,0,0,0]},i);return i.padding||(e.padding=e.type==="horizontal"?[sl,0,sl,0]:[0,sl,0,sl]),e},DE=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return e.getInteractionRange=function(t,r){var n=ll(r),a=n.padding,o=a[0],s=a[1],l=a[2],f=a[3];return n.type==="horizontal"?new mn(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new mn(t.maxX-n.width-f-s,t.minY,n.width+f+s,t.height)},e.prototype.render=function(){var t=this,r=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,u.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(Gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(Gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(Gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(Gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),r.on(ka.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return r.off(ka.BEFORE_CHANGE_DATA,o)})},e.prototype.start=function(){},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},e.prototype.renderScrollbar=function(){var t=ll(this.getInteractionConfig()),r=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],f=n?{x:a.minX+l,y:r.minY+s}:{x:r.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:f.x,y:f.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new xn.Scrollbar({container:this.container,x:f.x,y:f.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",BE),this.scrollbar.on("scrollchange",this.onChangeFn))},e.prototype.measureScrollBar=function(){var t=ll(this.getInteractionConfig()),r=t.padding,n=r[0],a=r[1],o=r[2],s=r[3],l=t.type!=="vertical",f=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(d){return d});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?f.width:f.height)/t.categorySize),this.trackLen=l?f.width-s-a:f.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,u.clamp)(this.step/h.values.length,0,1),kE)},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,u.clamp)(this.ratio,0,1)),r=Math.min(t+this.step,this.cnt);return[t,r]},e.prototype.changeViewData=function(t,r){var n=this,a=t[0],o=t[1],s=ll(this.getInteractionConfig()),l=this.getViewLayer(),f=l.options.meta,h=l.getData(),c=id(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(d){var b=(0,u.get)(f,d.field)||{};n.view.scale(d.field,(0,qt.__assign)((0,qt.__assign)({formatter:d.formatter},b),{type:d.type,min:d.min,max:d.max}))}),r?(this.view.data(c),this.view.render()):this.view.changeData(c)},e.prototype.onChange=function(t){var r=t.ratio,n=t.thumbOffset;this.ratio=r,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},e}(Oa),FE=DE,ul=4,od=16,mf=function(i){i===void 0&&(i={});var e=(0,qt.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(e.padding=e.type==="horizontal"?[ul,0,ul,0]:[0,ul,0,ul]),i.height||(e.height=od),i.width||(e.width=od);var t=(0,u.clamp)(Math.min(e.start,e.end),0,1),r=(0,u.clamp)(Math.max(e.start,e.end),0,1);return e.start=t,e.end=r,e},RE=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return e.getInteractionRange=function(t,r){var n=mf(r),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],f=a[3];if(n.type==="horizontal"){var h=new mn(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new mn(t.maxX-n.width-f-s,t.minY,n.width+f+s,t.height)},e.prototype.render=function(){var t=this,r=this.getViewLayer(),n=this.view,a=mf(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,u.isEqual)(s,[0,0,0,1]))&&!(0,u.isEmpty)(r.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(Gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(Gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(Gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(Gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},e.prototype.start=function(){},e.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},e.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new xn.Slider((0,qt.__assign)((0,qt.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},e.prototype.getSliderConfig=function(){var t=this.view,r=t.coordinateBBox,n=this.getRange(),a=mf(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,f=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,d=o.textStyle,b=o.trendCfg,L=b===void 0?{}:b,D=l[0],V=l[1],$=l[2],K=l[3],yt=this.getSliderMinMaxText(this.curStart,this.curEnd),wt=yt.minText,Rt=yt.maxText,Zt={x:r.minX+K,y:n.minY+D,width:r.width-K-V,height:n.height-D-$,start:this.curStart,end:this.curEnd,minText:wt,maxText:Rt,backgroundStyle:f,foregroundStyle:h,handlerStyle:c,textStyle:d,trendCfg:(0,qt.__assign)((0,qt.__assign)({isArea:!1,smooth:!1},L),{data:this.getSliderTrendData()})};return Zt},e.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,r=t.data,n=t.yField;return(0,u.map)(r,function(a){return a[n]})},e.prototype.getSliderData=function(t,r){var n=this.getViewLayer().getData(),a=(0,u.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(r*a));return id(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},e.prototype.getSliderMinMaxText=function(t,r){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,u.size)(o),f=Math.round(t*l),h=Math.max(f+1,Math.round(r*l)),c=o.slice(f,h);return{minText:c.length>0?(0,u.head)(c)[s]:"",maxText:c.length>0?(0,u.last)(c)[s]:""}},e.prototype.onChange=function(t){var r=this.view,n=(0,u.clamp)(Math.min(t[0],t[1]),0,1),a=(0,u.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,f=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:f}),this.slider.render();var h=r.getOptions().animate;r.animate(!1),r.data(o),r.render(),r.animate(h)},e}(Oa),NE=RE,YE=function(i){(0,qt.__extends)(e,i);function e(t){return i.call(this,(0,u.deepMix)({},t))||this}return e.prototype.renderInner=function(t){var r=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){r.emit("click")})},e.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},e.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var r=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:r,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:r,height:n,fill:"#ffffff"}})},e.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,r=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-r/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",r),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-r/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",r)},e.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},e.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},e}(os),GE=YE,sd="timelinestart",zE="timelinechange",ld="timelineend",XE="timelineupdate",VE=20,HE=20,WE=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this,(0,u.deepMix)({},{speed:1,loop:!1},t))||this;return r.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,u.get)(n,"touches.0.pageX",n.pageX),o=a-r.prevX;r.setTimeSelectX(o),r.prevX=a},r.onTimeSelectMouseUp=function(){r.syncCurrnentTick(),r.emit(ld,null);var n=r.getCanvas().get("container");n&&(n.removeEventListener("mousemove",r.onTimeSelectMouseMove),n.removeEventListener("mouseup",r.onTimeSelectMouseUp),n.removeEventListener("mouseleave",r.onTimeSelectMouseUp),n.removeEventListener("touchmove",r.onTimeSelectMouseMove),n.removeEventListener("touchend",r.onTimeSelectMouseUp),n.removeEventListener("touchcancel",r.onTimeSelectMouseUp))},r.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),r.isPlay===!1?r.emit(sd,null):(r.isPlay=!1,r.changePlayStatus(!1)),r.prevX=(0,u.get)(a,"touches.0.pageX",a.pageX);var o=r.getCanvas().get("container");o.addEventListener("mousemove",r.onTimeSelectMouseMove),o.addEventListener("mouseup",r.onTimeSelectMouseUp),o.addEventListener("mouseleave",r.onTimeSelectMouseUp),o.addEventListener("touchmove",r.onTimeSelectMouseMove),o.addEventListener("touchend",r.onTimeSelectMouseUp),o.addEventListener("touchcancel",r.onTimeSelectMouseUp)},r}return e.prototype.renderInner=function(t){var r=this.config,n=r.ticks,a=r.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},e.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(XE,this.currentTick)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},e.prototype.renderPlayButton=function(t){var r=this.config,n=r.height,a=r.x,o=r.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new GE({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},e.prototype.getTimeLinePath=function(){var t=this.timeLine,r=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+r+", "+n+("A"+s+","+s+" 90 0,0 "+r+","+(n+o))+("L"+(r+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(r+a)+","+n)+("L"+r+", "+n):[]},e.prototype.renderTimeLine=function(t){var r=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,f=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+VE,this.timeLine.y=f+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-HE,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(d){d.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(d,b){r.tickPosList.push(r.timeLine.x+b*h);var L=t.addShape("text",{attrs:{x:r.timeLine.x+b*h,y:r.timeLine.y+r.timeLine.height+5,text:d,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),D=L.getBBox();return D.minX>c?(L.show(),c=D.minX+D.width+10):L.hide(),L})},e.prototype.renderTimeSelect=function(t,r){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,u.findIndex)(a,function(d){return d===r}),f=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",f),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:f,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",f),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:f,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},e.prototype.adjustTickIndex=function(t){for(var r=0;r<this.tickPosList.length-1;r++)if(this.tickPosList[r]<=t&&t<=this.tickPosList[r+1])return Math.abs(this.tickPosList[r]-t)<Math.abs(t-this.tickPosList[r+1])?r:r+1},e.prototype.setTimeSelectX=function(t){var r=this.timeSelect.attr("x")+t;r<this.timeLine.x&&(r=this.timeLine.x),r>this.timeLine.x+this.timeLine.width&&(r=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(r=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",r),this.timeSelectText.attr("x",r);var n=this.adjustTickIndex(r);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(zE,this.currentTick)),this.getCanvas().draw()},e.prototype.syncCurrnentTick=function(){var t=this,r=this.config.ticks,n=this.timeLine.width/(r.length-1),a=(0,u.findIndex)(r,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},e.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var r=t.config,n=r.speed,a=r.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},e.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(sd,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(ld,null))),this.getCanvas().draw()},e.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(r){t.onTimeSelectMouseDown(r)})},e}(os),jE=WE,UE=40;function ud(i){return(0,qt.__assign)({loop:!1,auto:!0,height:UE,padding:[0,20,0,0],speed:2},i)}var ZE=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return e.getInteractionRange=function(t,r){var n=ud(r),a=n.padding[0],o=n.padding[2];return new mn(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},e.prototype.setAnimate=function(t){var r=this.view.geometries;this.view.animate(t),r.forEach(function(n){n.animate(t)})},e.prototype.start=function(){},e.prototype.renderTimeLine=function(){var t=this;this.config=ud(this.getInteractionConfig());var r=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],f=o[1],h=o[2],c=o[3],d=this.getRange(),b=this.getTicks(),L=r.width-c-f,D={x:r.minX+c,y:d.tl.y+l,width:L,height:d.height-l-h,loop:a,ticks:b,speed:s,defaultCurrentTick:b[0]};this.timeline?(0,u.isEqual)(D,this.timeLineConfig)||(this.timeLineConfig=D,this.timeline.update(D)):(this.container=this.canvas.addGroup(),this.timeline=new jE((0,qt.__assign)({container:this.container},D)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(b[0])),this.timeLineConfig=D)},e.prototype.onChange=function(t){var r=this.getFilterData(t);this.view.changeData(r)},e.prototype.getFilterData=function(t){var r=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[r]===t})},e.prototype.getTicks=function(){var t=this.config.field,r=this.getViewLayer().options.data;return(0,u.uniq)(r.map(function(n){return n[t]}))},e.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(Gn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(Gn.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(Gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(Gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},e.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},e}(Oa),KE=ZE;function $E(i,e){var t=[1,0,0,0,1,0,0,0,1],r=Fn.transform(t,e);i.setMatrix(r)}function Fo(i,e){var t=e?(0,u.clone)(e):[1,0,0,0,1,0,0,0,1];return Fn.transform(t,i)}function fd(i,e,t,r){var n=r?(0,u.clone)(r):[1,0,0,0,1,0,0,0,1];n[6]=e,n[7]=t,i.setMatrix(n)}function QE(i,e,t){Tv.translate(i,e,t)}function N9(i,e){Util.rotate(i,e)}var JE=document.createElement("canvas"),hd=JE.getContext("2d"),fl=(0,u.memoize)(function(i,e){e===void 0&&(e={});var t=e.fontSize,r=e.fontFamily,n=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return hd.font=[a,o,n,t+"px",r].join(" "),hd.measureText((0,u.isString)(i)?i:"").width},function(i,e){return e?(0,qt.__spreadArrays)([i],(0,u.values)(e)).join(""):i}),cd=function(i,e,t){var r=16,n=fl("...",t),a;(0,u.isString)(i)?a=i:a=(0,u.toString)(i);var o=e,s=[],l,f;if(fl(i,t)<=e)return i;for(;l=a.substr(0,r),f=fl(l,t),!(f+n>o&&f>o);)if(s.push(l),o-=f,a=a.substr(r),!a)return s.join("");for(;l=a.substr(0,1),f=fl(l,t),!(f+n>o);)if(s.push(l),o-=f,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},si;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(si||(si={}));var hl;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(hl||(hl={}));var oo;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(oo||(oo={}));var qE=160,tA=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(r){var n=rA(r.target,function(o){return o.get("name")===si.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(r){var n=t.config.width,a=n===void 0?0:n,o=r.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),f=(0,u.clamp)(t.offsetX+o,s,l);f!==t.offsetX&&(QE(t.bodyGroup,t.offsetX-f,0),t.offsetX=f)},t}return e.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},e.prototype.selectItem=function(t){this.doSelectItem(t)},e.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},e.prototype.initConfig=function(t){var r,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:oo.NORMAL,style:{}},line:{spacingX:oo.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:oo.SMALL,style:{}},itemName:{spacingX:oo.NORMAL,spacingY:oo.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:oo.LARGE};this.config=(0,u.deepMix)({},(r=a==null?void 0:a.components)===null||r===void 0?void 0:r.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},e.prototype.renderInner=function(t){var r=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],f=t.addGroup({name:si.TOOLTIP_INDICATOR_INNER});this.renderTitle(f),this.bodyGroup=f.addGroup({name:si.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(r.renderItem(r.bodyGroup,h,c))}),this.layoutItems(f),fd(f,o,s),this.applyClip(t),this.bindEvents(f)},e.prototype.renderTitle=function(t){var r=this.config.title;if(r==null?void 0:r.text){var n=t.addShape({type:"text",name:si.TOOLTIP_INDICATOR_TITLE,attrs:(0,qt.__assign)({text:r==null?void 0:r.text,textAlign:"left",textBaseline:"top"},(r==null?void 0:r.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=r.spacingY||0,n}},e.prototype.renderItem=function(t,r,n){var a=this.config.itemBackground,o=t.addGroup({name:si.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:r,index:n}}),s=this.curX,l=this.curY,f=o.addShape({name:si.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:(0,qt.__assign)({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,r);this.renderItemTitle(o,r),this.renderItemValues(o,r);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,f.attr({width:this.curX-s-f.attr("lineWidth")*2,height:this.curY-l-f.attr("lineWidth")*2}),this.curY=l,o},e.prototype.renderLine=function(t,r){var n=this.config.line,a=n.width||2,o=(0,qt.__assign)({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:r.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:si.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},e.prototype.renderItemTitle=function(t,r){var n=this.config.itemTitle,a=cd(r.title,qE,n.style||{}),o=t.addShape({name:si.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:(0,qt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},e.prototype.renderItemValues=function(t,r){var n=this,a,o=t.addGroup({name:si.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=r.values)===null||a===void 0||a.forEach(function(l,f){var h=o.addGroup({name:si.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:r,valueIndex:f}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},e.prototype.renderItemValueName=function(t,r){var n=this.config.itemName;if(r.name){var a=t.addShape({name:si.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:(0,qt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:r.name},n.style||{})}),o=a.getBBox();return r.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},e.prototype.renderItemValueValue=function(t,r){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:si.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:(0,qt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:r.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},e.prototype.layoutItems=function(t){var r=t.findAllByName(si.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(si.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!r||n.length===0)){var a=r.getBBox();this.scrollWidth=a.width}},e.prototype.layoutItemValues=function(t){var r=t.findAllByName(si.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=r.map(function(l){return mn.fromBBoxObject(l.getBBox())}),a=t.findAllByName(si.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return mn.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));r.forEach(function(l,f){var h=n[f],c=l.findAllByName(si.TOOLTIP_INDICATOR_ITEM_NAME)[0],d=l.findAllByName(si.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&d){var b=mn.fromBBoxObject(c.getBBox()),L=mn.fromBBoxObject(d.getBBox());b.height<h.height&&c.attr("y",c.attr("y")+(h.height-b.height)/2),L.height<h.height&&d.attr("y",d.attr("y")+(h.height-L.height)/2),L.maxX<s&&d.attr("x",d.attr("x")+s-L.maxX)}})},e.prototype.applyClip=function(t){var r=this.config,n=r.x,a=r.y,o=r.width,s=r.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},e.prototype.doSelectItem=function(t){var r=this,n=this.getGroup(),a=n.findAllByName(si.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&r.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){r.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(hl.ON_SELECT_ITEM,this.selectedItemId)},e.prototype.applyItemStyle=function(t,r){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,f=t.findAllByName(si.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(si.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(si.TOOLTIP_INDICATOR_ITEM_NAME),d=t.findAllByName(si.TOOLTIP_INDICATOR_ITEM_VALUE),b=r&&r+"Style";f&&(f.attr(a.style),f.attr(a[b]||{})),h&&(h.attr(o.style),h.attr(o[b]||{})),c.forEach(function(L){L.attr(s.style),L.attr(s[b]||{})}),d.forEach(function(L){L.attr(l.style),L.attr(l[b]||{})})},e.prototype.bindEvents=function(t){var r=this;this.offEvents();var n=t.findAllByName(si.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",r.onBodyGroupMousemove)}),this.gm=new Ov(n),this.wheel=new PC(n),this.wheel.on("wheel",this.onWheel)},e.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},e.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},e}(os),eA=tA;function rA(i,e){for(var t=i;t;){if(e(t))return t;t=t.getParent()}}function nA(i,e){return(0,u.filter)(i.geometries,function(t){return t.type===e})}function so(i,e){return(0,u.head)(nA(i,e))}function iA(i){return(0,u.map)(i.elements,function(e){return e.shape})}function Y9(i,e){i.geometries.forEach(e)}function xf(i,e){i.geometries.forEach(function(t){t.elements.forEach(function(r){e(r)})})}function aA(i,e,t){return(0,u.some)(e,function(r){return t(r.get(ua),i.get(ua))})}function cl(i,e){var t=i.getBBox(),r=0,n=0;t.minX<e.minX?r=t.minX-e.minX:t.maxX>e.maxX&&(r=t.maxX-e.maxX),r&&i.attr("x",i.attr("x")-r),t.minY<e.minY?n=t.minY-e.minY:t.maxY>e.maxY&&(n=t.maxY-e.maxY),n&&i.attr("y",i.attr("y")-n)}function bf(i,e,t){t===void 0&&(t=0);var r=Math.max(0,Math.min(i.x+i.width+t,e.x+e.width+t)-Math.max(i.x-t,e.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,e.y+e.height+t)-Math.max(i.y-t,e.y-t));return r*n}function vl(i,e){var t=i.getBBox();return(0,u.some)(e,function(r){var n=r.getBBox();return bf(t,n,2)>0})}var vd=8,dd=function(i){i===void 0&&(i={});var e=(0,qt.__assign)({showTotal:!1,showPercent:!1,padding:[vd,24,vd,24],height:i.showPercent?72:54},i);return e},Ro;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(Ro||(Ro={}));var oA=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return e.prototype.active=function(){var t=OC.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},e.prototype.setState=function(t){var r=this;xf(this.getView(),function(n){n===t?n.hasState(r.state)||n.setState(r.state,!0):n.setState(r.state,!1)}),this.isSingle=!0,this.getView().emit(Ro.ACTIVE_ELEMENT,{element:t,isSingle:!0})},e.prototype.setStateByX=function(t){var r=this,n=this.getXField(),a=t.getData()[n];xf(this.getView(),function(o){o.getData()[n]===a?o.hasState(r.state)||o.setState(r.state,!0):o.setState(r.state,!1)}),this.isSingle=!1,this.getView().emit(Ro.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},e.prototype.setStateByField=function(t,r){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;xf(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(r===void 0||l[o]===r))})},e.prototype.getView=function(){return this.context.view},e.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},e}(ct);Nt("tooltip-indicator",oA),bn("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var sA=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(r){var n=r.element,a=r.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,f=n.getData(),h=f[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(f[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(r){t.component&&r&&t.getInteractionAction().setStateByField(t.curX,r)},t}return e.getInteractionRange=function(t,r){var n=dd(r),a=n.padding,o=a[0],s=a[2];return new mn(t.minX,t.minY,t.width,n.height+o+s)},e.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},e.prototype.render=function(){var t=this,r=this.view,n=function(){var a=t.view.getXScale(),o=(0,u.last)(a.getTicks()).tickValue,s=t.view.padding;(0,u.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(hl.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};r.legend(!1),r.removeInteraction("active-region"),r.removeInteraction("tooltip"),r.interaction("element-tooltip-indicator"),r.on(Gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),r.on(Gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),r.on(Ro.ACTIVE_ELEMENT,this.onElementActive),r.on(Ro.ACTIVE_ELEMENT_BY_X,this.onElementActive)},e.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},e.prototype.createComponent=function(){var t=dd(this.getInteractionConfig()).padding,r=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),f=this.view.getXScale(),h=(0,u.last)(f.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new eA({container:this.container,x:l.x+o,y:l.y+r,width:l.width-o-n,height:l.height-r-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},e.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},e.prototype.getLegendItems=function(t){var r=this.view,n=r.getData(),a=r.getTheme().defaultColor,o=r.getXScale(),s=r.getYScales()[0],l=t||(0,u.last)(o.getTicks()).tickValue,f=r.getLegendAttributes(),h=f.find(function(D){return D.type==="color"}),c=[],d=r.getGroupScales()[0],b=d.field;d&&d.isCategory&&d.getTicks().forEach(function(D){var V=D.text,$=D.tickValue,K=h.mapping($).join("")||a;c.push({id:$,title:V,color:K,values:[]})});var L=(n==null?void 0:n.filter(function(D){return D[o.field]===l}))||[];return c.forEach(function(D){var V=L.find(function($){return $[b]===D.id});D.values.push({value:s.formatter?s.formatter(V[s.field]):V[s.field]})}),c},e}(Oa),lA=sA;Oa.registerInteraction("slider",NE),Oa.registerInteraction("scrollbar",FE),Oa.registerInteraction("timeline",KE),Oa.registerInteraction("tooltip-indicator",lA);var pd=Oa,uA=function(){function i(e){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=e.plot}return i.prototype.registerPadding=function(e,t,r){t===void 0&&(t="outer"),r===void 0&&(r=!1),t==="inner"?r?this.innerPaddingComponents.find(function(n){return n==e})||this.innerPaddingComponents.push(e):this.innerPaddingComponents.push(e):r?this.outerPaddingComponents.find(function(n){return n==e})||this.outerPaddingComponents.push(e):this.outerPaddingComponents.push(e)},i.prototype.getPaddingComponents=function(e){return e===void 0&&(e="outer"),(e==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,u.filter)(this.outerPaddingComponents,function(e){return e.afterRender})},i.prototype.clearOuterComponents=function(){(0,u.each)(this.outerPaddingComponents,function(e){e.afterRender&&e.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var e=this.plot.options,t=e.padding?e.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var e=this._getInnerAutoPadding();this.plot.updateConfig({padding:e}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new mn(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var e=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,r=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,u.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,f=s.maxX,h=s.minY,c=s.maxY;c>=r&&c<=n&&o==="top"&&(r=c),h>=r&&h<=n&&o==="bottom"&&(n=h),f>e&&f<=t&&o==="left"&&(e=f),l>=e&&f<=t&&o==="right"&&(t=l)}}),new mn(e,r,t-e,n-r)},i.prototype._getInnerAutoPadding=function(){var e,t=this.plot.options,r=this.plot.view,n=r.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,f=this.plot.config.theme.bleeding;(0,u.isArray)(f)&&(0,u.each)(f,function(D,V){typeof f[V]=="function"&&(f[V]=f[V](t))}),this.bleeding=(0,u.clone)(f);var h=[new mn(n.minX,n.minY,n.width,n.height)];((e=this.plot.config.coordinate)===null||e===void 0?void 0:e.type)==="cartesian"&&this._getCartesianAxis(r,h[0],h);var c=this._mergeBBox(h);this._getLegend(r,c,h),c=this._mergeBBox(h);var d=this.innerPaddingComponents;(0,u.each)(d,function(D){var V=D,$=V.getBBox();h.push($)}),c=this._mergeBBox(h);var b=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],L=this._getPanel(r);return b[0]+=L[0],b[1]+=L[1],b[2]+=L[2],b[3]+=L[3],b},i.prototype._getCartesianAxis=function(e,t,r){var n=VC(e),a=e.getCoordinate().isTransposed;(0,u.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),f=l.minX,h=l.minY,c=l.width,d=l.height;a?s==="bottom"?r.push(new mn(t.minX-c,h,c,d)):s==="left"?r.push(new mn(f,t.maxY,c,d)):s==="top"&&r.push(new mn(t.maxX,h,c,d)):s==="left"?r.push(new mn(t.minX-c,h,c,d)):s==="bottom"?r.push(new mn(f,t.maxY,c,d)):s==="right"&&r.push(new mn(t.maxX,h,c,d))}})},i.prototype._getLegend=function(e,t,r){var n=HC(e);(0,u.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,f=s.minY,h=s.width,c=s.height;o==="top"?r.push(new mn(l,t.minY-c,h,c)):o==="bottom"?r.push(new mn(l,t.maxY,h,c)):o==="left"?r.push(new mn(t.minX-h,f,h,c)):r.push(new mn(t.maxX,f,h,c))})},i.prototype._getPanel=function(e){var t=[],r=e.geometries;(0,u.each)(r,function(L){L.labelsContainer&&t.push(L.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,u.each)(t,function(L){var D=L.get("children");D.forEach(function(V){if(!(V.type==="group"&&V.get("children").length===0)){var $=V.getBBox();$.minX<n&&(n=$.minX),$.maxX>a&&(a=$.maxX),$.minY<o&&(o=$.minY),$.maxY>s&&(s=$.maxY)}})});var l=e.coordinateBBox,f=Math.max(a-parseFloat(l.maxX),0);if(f>0){var h=l.width/(l.width+f);f*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var d=Math.max(parseFloat(l.minY)-o,0);if(d>0){var h=l.height/(l.height+d);d*=h}var b=Math.max(s-parseFloat(l.maxY),0);if(b>0){var h=l.height/(l.height+b);b*=h}return[d,f,b,c]},i.prototype._mergeBBox=function(e){var t=Infinity,r=-Infinity,n=Infinity,a=-Infinity;return(0,u.each)(e,function(o){var s=o;t=Math.min(s.minX,t),r=Math.max(s.maxX,r),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:r,minY:n,maxY:a}},i}(),fA=uA,hA="#5B8FF9",cA=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],vA=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],gd=function(i){return i&&i.split("-")[0]==="top"?12:24},yd=function(i){var e=i.title&&i.title.visible,t=i.description&&i.description.visible;return e||t?12:24},md=function(i){return(0,u.some)(i.interactions||[],function(e){return(e.type==="slider"||e.type==="scrollbar")&&(e.cfg&&e.cfg.type)!=="vertical"})?8:24},xd={width:400,height:400,bleeding:[yd,24,md,24],padding:"auto",defaultColor:hA,colors:cA,colors_20:vA,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,gd,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},dA={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[yd,24,md,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,gd,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},bd={default:xd,dark:dA};function G9(i,e){var t=zi();bd[i.toLowerCase()]=deepMix({},t,e)}function zi(i){i===void 0&&(i="default");var e=bd[i.toLowerCase()];return e||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),xd)}var wd={};function Sd(i,e){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},r={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,u.each)(e,function(a,o){var s;if((0,u.has)(t,o)){var l=t[o];(0,u.each)(a,function(f,h){(0,u.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",f)})}else r=(0,u.deepMix)({},r,(s={},s[o]=a,s))}),(0,u.isEmpty)(n)||(r=(0,u.deepMix)({},r,{geometries:n})),r}function qi(i,e){wd[i.toLowerCase()]=Sd(i,e)}function Md(i){return wd[i.toLowerCase()]||{}}function pA(i){var e=(0,u.clone)(i);return e.legend||(e.legend={}),e}var wf={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},Cd={default:wf};function Ed(i,e){Cd[i.toLowerCase()]=(0,u.deepMix)({},wf,e)}function Ad(i){var e=Cd[i.toLowerCase()];return e||wf}var gA=Pt(),yA=function(){function i(){}return i.getGlobalTheme=function(e){return(0,u.isString)(e)?zi(e):(0,u.deepMix)({},zi(),e)},i.prototype.getPlotTheme=function(e,t){var r=e.theme;return(0,u.isString)(r)?(0,u.deepMix)({},zi(r),Md(t)):(0,u.deepMix)({},zi(),Md(t),Sd(t,r))},i.prototype.getTheme=function(e,t){var r=pA(this.getPlotTheme(e,t)),n=(0,u.deepMix)({},gA,r);return n},i.prototype.getResponsiveTheme=function(e){return Ad(e)||Ad("default")},i}(),Sf=yA,mA=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.interactions=[],r.labels=[],r.options=r.getOptions(t),r.initialOptions=(0,u.deepMix)({},r.options),r.paddingController=new fA({plot:r}),r.stateController=new yE({plot:r}),r.themeController=new Sf,r}return e.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},e.prototype.getOptions=function(t){var r=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,u.reduce)((0,u.flatten)((0,u.map)([n,a,(0,u.hasKey)(t,"interactions")?t:r],function(s){return(0,u.get)(s,"interactions",[])})),function(s,l){var f=(0,u.findIndex)(s,function(h){return h.type===l.type});return f>=0&&s.splice(f,1),(0,qt.__spreadArrays)(s,[l])},[]);return(0,u.deepMix)({},n,a,r,t,{interactions:o})},e.prototype.beforeInit=function(){this.emit(ka.BEFORE_INIT),i.prototype.beforeInit.call(this)},e.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var r=this.viewRangeToRegion(this.viewRange);this.view=new xu({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:r}),this.applyInteractions(),this.view.on(Gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},e.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(ka.AFTER_INIT))},e.prototype.afterRender=function(){var t,r;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((r=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||r===void 0?void 0:r.onChange)&&n.padding!=="auto"&&this.customTooltip()}},e.prototype.render=function(){this.emit(ka.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,u.isEmpty)(t)||this.view.render(),this.emit(ka.AFTER_RENDER)},e.prototype.repaint=function(){this.canvas&&this.canvas.draw()},e.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},e.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},e.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},e.prototype.getColorScale=function(){var t=this.options;if((0,u.contains)(t,"colorField"))return this.view.getScaleByField(t)},e.prototype.getShapes=function(){var t=this.view.geometries,r={};return(0,u.each)(t,function(n){var a=n.type;r[a]=n.getShapes()}),r},e.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},e.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},e.prototype.changeData=function(t){this.emit(ka.BEFORE_CHANGE_DATA);var r=(0,u.isEmpty)(this.options.data);this.options.data=this.processData(t),r?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(ka.AFTER_CHANGE_DATA)},e.prototype.getPlot=function(){return this.view},e.prototype.getLabels=function(){return this.labels},e.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},e.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},e.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},e.prototype.getInteractions=function(){return this.interactions},e.prototype.bindStateManager=function(t,r){this.stateController.bindStateManager(t,r)},e.prototype.setActive=function(t,r){this.stateController.setState({type:"active",condition:t,style:r})},e.prototype.setSelected=function(t,r){this.stateController.setState({type:"selected",condition:t,style:r})},e.prototype.setDisable=function(t,r){this.stateController.setState({type:"disable",condition:t,style:r})},e.prototype.setDefault=function(t,r){this.stateController.setState({type:"default",condition:t,style:r})},e.prototype.getData=function(t,r){return this.processData((this.options.data||[]).slice(t,r))},e.prototype.processData=function(t){return t},e.prototype.scale=function(){var t=(0,u.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),r=(0,u.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",r)},e.prototype.axis=function(){var t=Fi("axis",{plot:this,dim:"x"}),r=Fi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=r,this.setConfig("axes",n)},e.prototype.tooltip=function(){var t,r;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,u.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((r=n.custom)===null||r===void 0?void 0:r.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,u.deepMix)({},n)),(0,u.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},e.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},e.prototype.customTooltip=function(){var t=this.options.tooltip.custom,r;t.container&&(r=(0,u.isString)(t.container)?document.getElementById(t.container):t.container),r||(r=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(r,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(r,n)})},e.prototype.getLegendPosition=function(t){var r=t.split("-");return r&&r.length>1&&r[1]==="center"?r[0]:t},e.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var r=(0,u.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,u.get)(r,"position")),offsetX:(0,u.get)(r,"offsetX"),offsetY:(0,u.get)(r,"offsetY"),flipPage:(0,u.get)(r,"flipPage"),marker:(0,u.get)(r,"marker"),title:((t=r.title)===null||t===void 0?void 0:t.visible)?(0,u.get)(r,"title"):null,itemName:(0,u.get)(r,"text")};this.setConfig("legends",n)},e.prototype.annotation=function(){var t=this,r=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,u.each)(this.options.guideLine,function(n){var a=Fi("guideLine",{plot:t,cfg:n});r.push(a)}),this.setConfig("annotations",r)},e.prototype.interaction=function(){var t=this,r=this.options.interactions,n=r===void 0?[]:r;(0,u.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,u.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},e.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},e.prototype.applyInteractions=function(){var t=this,r=mn.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new mn(r.minX,r.minY,r.width,n?n.getBBox().maxY:0);r=r.cut(a,Gn.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var f=pd.getInteraction(l.type,t.type);if(f){var h=new f({view:t.view},t,f.getInteractionRange(r,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},e.prototype.setConfig=function(t,r){if(t==="geometry"){this.config.geometries.push(r);return}if(t==="interaction"){this.config.interactions.push(r);return}if(r===!1){this.config[t]=!1;return}(0,u.assign)(this.config[t],r)},e.prototype.parseEvents=function(t){var r=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:Ln;(0,u.each)(n.events,function(o,s){if((0,u.isFunction)(o)){var l=a[s]||s,f=o;xi(r,l,f)}})}},e.prototype.drawTitle=function(){var t=this.options,r=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Bo(t.title)){var n=this.width,a=this.config.theme,o=new el({leftMargin:r.minX+a.title.padding[3],rightMargin:r.maxX-a.title.padding[1],topMargin:r.minY+a.title.padding[0],text:t.title.text,style:(0,u.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Bo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},e.prototype.drawDescription=function(){var t=this.options,r=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Bo(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=r.minY+a.title.padding[0];var l=new el({leftMargin:r.minX+a.description.padding[3],topMargin:o,rightMargin:r.maxX-a.title.padding[1],text:t.description.text,style:(0,u.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},e.prototype.doRenderLabel=function(t,r){(0,u.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:r},a=KC(r.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},e.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},e.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},e.prototype.doDestroyLabels=function(){(0,u.each)(this.labels,function(t){t.destroy()}),this.labels=[]},e.prototype.getViewRange=function(){var t=this,r=this.options.interactions,n=r===void 0?[]:r,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=pd.getInteraction(s.type,t.type),f=l&&l.getInteractionRange(a,s.cfg),h="";f&&(f.maxY===a.maxY&&f.minY>a.minY?h="bottom":f.maxX===a.maxX&&f.minX>a.minX?h="right":f.minX===a.minX&&f.maxX>a.maxX?h="left":f.minY===a.minY&&f.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return f},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},e.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,u.hasKey)(t,"max")||(0,u.hasKey)(t,"min")||(0,u.hasKey)(t,"maxLimit")||(0,u.hasKey)(t,"minLimit"))},e.prototype.viewRangeToRegion=function(t){var r=this,n=r.x,a=r.y,o=r.width,s=r.height,l={x:0,y:0},f={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),f.x=t.maxX/(n+o),f.y=t.maxY/(a+s),{start:l,end:f}},e}(tl),li=mA,xA=v(91033),bA=function(){function i(e){var t=this;this.onResize=(0,u.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var r=e.containerDOM,n=e.plot;this.containerDOM=r,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var e=zi(),t=this.plot.width?this.plot.width:e.width,r=this.plot.height?this.plot.height:e.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,r=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:r),{width:t,height:r}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var e=this.getCanvasSize(),t=e.width,r=e.height;this.width=t,this.height=r,this.canvas.changeSize(t,r)},i.prototype.updateCanvasTheme=function(){var e=this.plot.theme,t=Sf.getGlobalTheme(e),r=(0,u.get)(t,"backgroundStyle.fill");r&&this.updateCanvasStyle({backgroundColor:r})},i.prototype.updateCanvasStyle=function(e){(0,Dt.Z)(this.getCanvasDOM(),e),(0,Dt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var e=this.plot.forceFit;e&&(this.resizeObserver=new xA.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var e=this.plot,t=e.renderer,r=t===void 0?"canvas":t,n=e.pixelRatio,a=e.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,f=s.height,h=r==="canvas"?Lc:Gc;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:f,pixelRatio:n}),this.width=l,this.height=f,this.updateCanvasTheme()},i}(),wA=bA;function SA(i,e){return!!(i&&e&&i===e)}function MA(i,e){return i.x>=e.minX&&i.x<=e.maxX&&i.y>=e.minY&&i.y<=e.maxY}var CA=function(){function i(e){this.plot=e.plot,this.canvas=e.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,u.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,u.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var e=this.eventHandlers;(0,u.each)(e,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(e,t,r){e.on(t,r),this.eventHandlers.push({target:e,type:t,handler:r})},i.prototype.onEvents=function(e){var t=this.getEventObj(e),r=e.target;!this.isShapeInView(r)&&r.name&&this.plot.emit(r.name+":"+e.type,e),this.plot.emit(""+e.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,e.type)},i.prototype.onMove=function(e){var t=e.target,r=this.getEventObj(e);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+e.type,r),this.lastShape&&!SA(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",r),this.plot.emit(t.name+":mouseenter",r)),this.lastShape=t),this.plot.emit("mousemove",r);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,r,"mousemove")},i.prototype.isShapeInView=function(e){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],r=e.get("parent");r;){var n=r.get("name");if(n&&(0,u.contains)(t,n))return!0;r=r.get("parent")}return!1},i.prototype.getEventObj=function(e){var t={clientX:e.clientX,clientY:e.clientY,x:e.x,y:e.y,plot:this.plot,data:e.data?e.data.data:null,canvas:this.canvas,target:e.target,gEvent:e};return t},i.prototype.onLayerEvent=function(e,t,r){var n=this;(0,u.each)(e,function(a){var o=a.getGlobalBBox();if(MA({x:t.x,y:t.y},o)){a.emit(""+r,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,r)}})},i}(),EA=CA,Td={};function Mn(i,e){Td[i.toLowerCase()]=e}function AA(i){return Td[i.toLowerCase()]}var TA=function(i){(0,qt.__extends)(e,i);function e(t,r){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,u.isNil)(r.forceFit)?(0,u.isNil)(r.width)&&(0,u.isNil)(r.height):r.forceFit,n.renderer=r.renderer||"canvas",n.pixelRatio=r.pixelRatio||null,n.width=r.width,n.height=r.height,n.theme=r.theme,n.localRefresh=r.localRefresh,n.canvasController=new wA({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(r),n.eventController=new EA({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(r),n}return e.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},e.prototype.repaint=function(){this.canvasController.canvas.draw()},e.prototype.updateConfig=function(t,r){if(r===void 0&&(r=!1),r)this.eachLayer(function(a){a instanceof li&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof tl&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},e.prototype.changeData=function(t,r){if(r===void 0&&(r=!1),r)this.eachLayer(function(a){a instanceof li&&a.changeData(t)});else{var n=this.layers[0];n instanceof li&&n.changeData(t)}},e.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},e.prototype.getXScale=function(){return this.layers[0].getXScale()},e.prototype.getYScale=function(){return this.layers[0].getYScale()},e.prototype.getColorScale=function(){return this.layers[0].getColorScale()},e.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},e.prototype.getData=function(){var t=this.layers[0];return t.getData()},e.prototype.bindStateManager=function(t,r){this.eachLayer(function(n){n instanceof li&&n.bindStateManager(t,r)})},e.prototype.setActive=function(t,r){this.eachLayer(function(n){n instanceof li&&n.setActive(t,r)})},e.prototype.setSelected=function(t,r){this.eachLayer(function(n){n instanceof li&&n.setSelected(t,r)})},e.prototype.setDisable=function(t,r){this.eachLayer(function(n){n instanceof li&&n.setDisable(t,r)})},e.prototype.setDefault=function(t,r){this.eachLayer(function(n){n instanceof li&&n.setDefault(t,r)})},e.prototype.getView=function(){return this.layers[0].view},e.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},e.prototype.getCanvas=function(){return this.canvasController.canvas},e.prototype.getLayers=function(){return this.layers},e.prototype.render=function(){this.eachLayer(function(t){return t.render()})},e.prototype.eachLayer=function(t){(0,u.each)(this.layers,t)},e.prototype.addLayer=function(t){var r=(0,u.findIndex)(this.layers,function(n){return n===t});r<0&&this.layers.push(t)},e.prototype.createLayers=function(t){if(!t.layers){if(t.type){var r=AA(t.type),n=(0,u.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new r(n);this.addLayer(a)}}},e.prototype.parseEvents=function(t){var r=this,n=(0,u.keys)(Fv);t.events&&(0,u.each)(t.events,function(a,o){if((0,u.contains)(n,o)&&(0,u.isFunction)(a)){var s=Fv[o]||o,l=a;r.on(s,l)}})},e}(Ie.default),pn=TA,PA=function(){function i(e){(0,u.assign)(this,e),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),ss=PA,_A=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},e.prototype.parseColor=function(){var t=this.plot.options,r={},n=this._getColorMappingField();if(n&&(r.fields=n),(0,u.has)(t,"color")){var a=t.color;(0,u.isString)(a)?r.values=[a]:(0,u.isFunction)(a)?r.callback=a:(0,u.isArray)(a)&&(n?r.values=a:a.length>0&&(r.values=[a[0]]))}this.config.color=r},e.prototype.parseStyle=function(){var t=this.plot.options,r=t.areaStyle?t.areaStyle:t.area.style,n={};(0,u.isFunction)(r)&&t.seriesField?(n.fields=[t.seriesField],n.callback=r):n.cfg=r,this.config.style=n},e.prototype._getColorMappingField=function(){for(var t=this.plot.options,r=["stackField","seriesField"],n=0,a=r;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return[t[o]]}},e}(ss),Pd=_A;function OA(i,e){var t=[];if(i.length){for(var r=0,n=i.length;r<n;r+=1){var a=i[r],o=r===0?"M":"L";t.push([o,a.x,a.y])}e&&t.push(["Z"])}return t}function _d(i,e){var t=i.getCenter(),r=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));return r}function Mf(i,e){for(var t=[i[0]],r=1,n=i.length;r<n;r=r+2){var a=e.convertPoint({x:i[r],y:i[r+1]});t.push(a.x,a.y)}return t}function LA(i,e,t){var r=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:e[1],y:e[2]},l=[],f=r?"y":"x",h=Math.abs(s[f]-o[f])*(a-n),c=s[f]>=o[f]?1:0,d=h>Math.PI?1:0,b=t.convertPoint(s),L=_d(t,b);if(L>=.5)if(h===Math.PI*2){var D={x:(s.x+o.x)/2,y:(s.y+o.y)/2},V=t.convertPoint(D);l.push(["A",L,L,0,d,c,V.x,V.y]),l.push(["A",L,L,0,d,c,b.x,b.y])}else l.push(["A",L,L,0,d,c,b.x,b.y]);return l}function IA(i){each(i,function(e,t){var r=e;if(r[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var kA=function(i,e,t,r){var n=[],a,o,s=!!r,l,f;if(s){l=[Infinity,Infinity],f=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var d=i[h];l=Te.min([0,0],l,d),f=Te.max([0,0],f,d)}l=Te.min([0,0],l,r[0]),f=Te.max([0,0],f,r[1])}for(var h=0,b=i.length;h<b;h++){var d=i[h];if(t)a=i[h?h-1:b-1],o=i[(h+1)%b];else if(h===0||h===b-1){n.push(d);continue}else a=i[h-1],o=i[h+1];var L=[0,0];L=Te.sub(L,o,a),L=Te.scale(L,L,e);var D=Te.distance(d,a),V=Te.distance(d,o),$=D+V;$!==0&&(D/=$,V/=$);var K=Te.scale([0,0],L,-D),yt=Te.scale([0,0],L,V),wt=Te.add([0,0],d,K),Rt=Te.add([0,0],d,yt);s&&(wt=Te.max([0,0],wt,l),wt=Te.min([0,0],wt,f),Rt=Te.max([0,0],Rt,l),Rt=Te.min([0,0],Rt,f)),n.push(wt),n.push(Rt)}return t&&n.push(n.shift()),n};function BA(i,e,t){for(var r=!!e,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=kA(n,.4,r,t),l=n.length,f=[],h,c,d,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],d=n[a+1],f.push(["C",h[0],h[1],c[0],c[1],d[0],d[1]]);return r&&(h=s[l],c=s[l+1],d=n[0],f.push(["C",h[0],h[1],c[0],c[1],d[0],d[1]])),f}function DA(i,e){return OA(i,e)}function Cf(i,e,t){var r=[],n=i[0],a=null;if(i.length<=2)return DA(i,e);(0,u.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(r.push(l.x),r.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=BA(r,e,o);return s.unshift(["M",n.x,n.y]),s}function z9(i,e){return _d(i,e)}function X9(i,e){var t=i.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function V9(i,e){var t=[];return each(e,function(r){var n=r[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Mf(r,i));break;case"z":default:t.push(r);break}}),t}function H9(i,e){var t=[],r,n,a,o;return each(e,function(s,l){var f=s[0];switch(f.toLowerCase()){case"m":case"c":case"q":t.push(Mf(s,i));break;case"l":r=e[l-1],n=s,a=i.isTransposed,o=a?r[r.length-2]===n[1]:r[r.length-1]===n[2],o?t=t.concat(LA(r,n,i)):t.push(Mf(s,i));break;case"z":default:t.push(s);break}}),IA(t),t}Rn("area","miniArea",{draw:function(i,e){var t=i.style?i.style.opacity:null,r=Od(i,this,!1),n=(0,u.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=e.addShape("path",{attrs:{path:r,fill:Id(i.color||zi().defaultColor),opacity:t||.4},style:n});return a}}),Rn("area","miniAreaSmooth",{draw:function(i,e){var t=i.style?i.style.opacity:null,r=Od(i,this,!0),n=e.addShape("path",{attrs:{path:r,fill:Id(i.color||zi().defaultColor),opacity:t||.5}});return n}});function Od(i,e,t){var r=[[0,0],[1,1]],n=[],a=[];(0,u.each)(i.points,function(f){n.push(f[1]),a.push(f[0])}),a=e.parsePoints(a.reverse()),n=df(e.parsePoints(n));var o=t?Cf(n,!1,r):Ld(n),s=Ld(a);s[0][0]="L";var l=o.concat(s);return l}function Ld(i){for(var e=[],t=0;t<i.length;t++){var r=i[t],n=t===0?"M":"L";e.push([n,r.x,r.y])}return e}function Id(i){return"l(90) 0:"+i+" 1:#ffffff"}var FA=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},e.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},e}(Pd),RA=FA,NA={main:Pd,mini:RA},kd=["colorField","stackField","groupField"],YA=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var r=this._getSizeProps(t);r&&this.parseSize(r);var n=this._getStyleProps(t);n&&this.parseStyle(n)},e.prototype.parseColor=function(){var t=this.plot.options,r=this._getColorMappingField(t),n={};r&&(n.fields=r),t.color&&((0,u.isString)(t.color)?n.values=[t.color]:(0,u.isFunction)(t.color)?n.callback=t.color:(0,u.isArray)(t.color)?r?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,u.isObject)(t.color)&&(n.fields=r,n.callback=function(a){return t.color[a]})),this.config.color=n},e.prototype.parseSize=function(t){var r=this.plot.options,n={};(0,u.isFunction)(r[t])?(n.fields=[this.config.position.fields],n.callback=r[t]):n.values=[r[t]],this.config.size=n},e.prototype.parseStyle=function(t){var r=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,u.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[r.xField,r.yField],o.callback=a):o.cfg=a,this.config.style=o},e.prototype._getSizeProps=function(t){for(var r=["columnSize","barSize"],n=0,a=r;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return o}},e.prototype._getStyleProps=function(t){for(var r=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=r;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return o}},e.prototype._getColorMappingField=function(t){for(var r=0,n=kd;r<n.length;r++){var a=n[r];if((0,u.get)(t,a))return[t[a]]}},e.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var r=0,n=kd;r<n.length;r++){var a=n[r];if(t[a])return!0}return!1},e}(ss),GA=YA,zA={main:GA},XA=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,u.get)(t,["line","style"]))&&this.parseStyle()},e.prototype.parseSize=function(){var t=this.plot.options.lineSize,r={};(0,u.isFunction)(t)?r.callback=t:r.values=[t],this.config.size=r},e.prototype.parseColor=function(){var t=this.plot.options,r={};if(t.seriesField&&(r.fields=[t.seriesField]),(0,u.has)(t,"color")){var n=t.color;(0,u.isString)(n)?r.values=[n]:(0,u.isFunction)(n)?r.callback=n:(0,u.isArray)(n)&&(t.seriesField?r.values=n:n.length>0&&(r.values=[n[0]]))}this.config.color=r},e.prototype.parseStyle=function(){var t=this.plot.options,r=t.lineStyle||(0,u.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,u.isFunction)(r)&&t.seriesField?(n.fields=[t.seriesField],n.callback=r):n.cfg=r,this.config.style=n},e}(ss),Ef=XA,VA=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},e.prototype.parseSize=function(){var t=this.plot.options,r={};t.line.size?r.values=[t.line.size]:r.values=[2],this.config.size=r},e.prototype.parseColor=function(){var t=this.plot.options,r={},n=this._getColorMappingField();n&&(r.fields=n),t.line.color?r.values=[t.line.color]:(0,u.isString)(t.color)?r.values=[t.color]:(0,u.isFunction)(t.color)?(r.fields=n,r.callback=t.color):(0,u.isArray)(t.color)&&(n?r.values=t.color:t.color.length>0&&(r.values=[t.color[0]])),this.config.color=r},e.prototype.parseStyle=function(){var t=this.plot.options,r=t.line.style,n={};(0,u.isFunction)(r)?(n.fields=this.config.position.fields,n.callback=r):n.cfg=r,this.config.style=n},e.prototype._needParseAttribute=function(t){var r=this.plot.options;return r[t]?!0:!!r.line[t]},e.prototype._getColorMappingField=function(){for(var t=this.plot.options,r=["stackField","seriesField"],n=0,a=r;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return[t[o]]}},e}(Ef),HA=VA;Rn("line","miniLine",{draw:function(i,e){for(var t=df(i.points),r=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";r.push([o,a.x,a.y])}var s=(0,u.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=e.addShape("path",{attrs:(0,u.mix)({path:r,stroke:i.color||zi().defaultColor,lineWidth:i.size||2},s)});return l}}),Rn("line","miniLineSmooth",{draw:function(i,e){var t=df(i.points),r=[[0,0],[1,1]],n=Cf(t,!1,r),a=e.addShape("path",{attrs:(0,u.mix)({path:n,stroke:i.color||zi().defaultColor,lineWidth:i.size||2},i.style)});return a}});var WA=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},e.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},e}(Ef),jA=WA,UA={main:Ef,guide:HA,mini:jA},ZA=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},e.prototype.parseColor=function(){var t=this.plot.options,r={},n=t.colorField;n&&(r.fields=(0,u.isArray)(n)?n:[n]),t.color&&this._parseColor(t,r),(0,u.isEmpty)(r)||(this.config.color=r)},e.prototype.parseSize=function(){var t=this.plot.options,r={};t.sizeField&&(r.fields=[t.sizeField]),t.pointSize&&(r.values=(0,u.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=r},e.prototype.parseShape=function(t){this.config.shape=t},e.prototype.parseStyle=function(){var t=this.plot.options,r=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,u.isFunction)(r)?(s?n.fields=(0,u.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=r):(n.cfg=r,(0,u.isNil)(r.opacity)||(n.cfg.fillOpacity=r.opacity)),this.config.style=n},e.prototype._parseColor=function(t,r){(0,u.isString)(t.color)?r.values=[t.color]:(0,u.isFunction)(t.color)?r.callback=t.color:(0,u.isArray)(t.color)&&(r.values=t.color)},e}(ss),KA=ZA;function $A(i,e){var t=[];return(0,u.each)(e,function(r){var n=r[i];t.push(n)}),(0,u.uniq)(t)}var QA=["seriesField","stackField"],JA=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},e.prototype.parseColor=function(){var t=this.plot.options,r={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,r,n);else if(t.point&&t.point.color)r.values=[t.point.color];else if(t.color)this._parseColor(t,r);else{var a=this.plot.getTheme();r.values=[a.defaultColor]}(0,u.keys)(r).length>0&&(this.config.color=r)},e.prototype.parseSize=function(){var t=this.plot.options,r={};r.values=[t.point.size],this.config.size=r},e.prototype.parseShape=function(t){var r={};(0,u.isString)(t)?r.values=[t]:(0,u.isObject)(t)&&(r.fields=t.fields,r.callback=t.callback),this.config.shape=r},e.prototype.parseStyle=function(){var t=this.plot.options,r=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,u.isFunction)(r)?(n.fields=[t.xField,t.yField],n.callback=r,a&&n.fields.unshift(a)):n.cfg=r,this.config.style=n},e.prototype._parseColorByField=function(t,r,n){if(r.fields=[n],t.point.color){for(var a=$A(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);r.values=o}else t.color&&this._parseColor(t,r)},e.prototype._parseColor=function(t,r){var n=this._getColorMappingField(t);(0,u.isString)(t.color)?r.values=[t.color]:(0,u.isFunction)(t.color)?r.callback=t.color:(0,u.isArray)(t.color)&&(n?r.values=t.color:t.color.length>0&&(r.values=[t.color[0]]))},e.prototype._needParseAttribute=function(t){var r=this.plot.options,n=r.point&&(0,u.has)(r.point,t);return n},e.prototype._getColorMappingField=function(t){for(var r=0,n=QA;r<n.length;r++){var a=n[r];if((0,u.get)(t,a))return[t[a]]}},e}(ss),qA=JA,tT={guide:qA,circle:KA},eT={area:NA,line:UA,point:tT,interval:zA};function pi(i,e,t){var r=eT[i][e];return new r(t).config}function rT(i){var e=DC,t=i.split(" "),r=e[t[1]],n=parseInt(t[0],10);return[r.format,n*r.value]}function Oi(i,e){if(!e)return i;Object.prototype.hasOwnProperty.call(e,"tickCount")&&(i.tickCount=e.tickCount),Object.prototype.hasOwnProperty.call(e,"type")&&e.type!=="dateTime"&&(i.type=e.type),Object.prototype.hasOwnProperty.call(e,"tickInterval")&&(e.type==="time"?i.tickInterval=rT(e.tickInterval):i.tickInterval=e.tickInterval),e.type==="time"&&e.mask&&(i.mask=e.mask),Object.prototype.hasOwnProperty.call(e,"min")&&(i.min=e.min),Object.prototype.hasOwnProperty.call(e,"max")&&(i.max=e.max),Object.prototype.hasOwnProperty.call(e,"minLimit")&&(i.minLimit=e.minLimit),Object.prototype.hasOwnProperty.call(e,"maxLimit")&&(i.maxLimit=e.maxLimit),Object.prototype.hasOwnProperty.call(e,"nice")&&(i.nice=e.nice),Object.prototype.hasOwnProperty.call(e,"formatter")&&(i.formatter=e.formatter),Object.prototype.hasOwnProperty.call(e,"exponent")&&(i.exponent=e.exponent),Object.prototype.hasOwnProperty.call(e,"base")&&(i.base=e.base),e.tickMethod&&(i.tickMethod=e.tickMethod)}function nT(i,e){var t=(0,u.filter)(e,function(a){return(0,u.isNumber)(a)}),r=Math.min.apply(Math,t),n=Math.max.apply(Math,t);r>0?(0,u.isNil)(i.min)&&(i.min=0):n<0&&(0,u.isNil)(i.max)&&(i.max=0)}var Af;function iT(i,e){var t={easing:"easeLinear",duration:1e4},r=(0,u.deepMix)({},e,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[Af.options.yField],f=(0,u.clone)(i.get("origin"));aT(i,o);var h=i.get("clipShape"),c=i.get("parent"),d=12,b=null,L=Af.options.seriesField;L&&(b=c.addShape("text",{attrs:{x:o.start.x+d,y:0,text:f.data[0][L],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var D=b?16:0,V=c.addShape("text",{attrs:{x:o.start.x+d,y:D,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});r.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),V.animate({opacity:0},300,function(){V.remove(),(0,u.isNil)(b)||b.remove();var yt=n.labelsContainer;yt.get("visible")||yt.set("visible",!0)}))};var $=r.delay;(0,u.isFunction)($)&&($=r.delay(a));var K=r.easing;(0,u.isFunction)(K)&&(K=r.easing(a)),h.animate({width:o.getWidth()},r.duration,K,r.callback,$),r.onFrame=function(yt){var wt=Bd(yt,f,o);if(!!wt){V.attr("x",wt[0]+d),V.attr("y",wt[1]+D);var Rt=oT(l,wt[1],o);l.formatter&&(Rt=l.formatter(Rt)),V.attr("text",Rt)}},V.animate(r.onFrame,{duration:r.duration,easing:K,callback:r.callback,delay:$}),b&&b.animate({onFrame:function(yt){var wt=Bd(yt,f,o);!wt||(b.attr("x",wt[0]+d),b.attr("y",wt[1]))}},r.duration,K,r.callback,$)}function aT(i,e){var t=e.start,r=e.end,n=e.height;i.setClip({type:"rect",attrs:{x:t.x,y:r.y,width:0,height:n}})}function Bd(i,e,t){for(var r=e.points,n=t.start.x+t.getWidth()*i,a=0;a<r.length-1;a++){var o=r[a],s=r[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),f=o.y+l*(n-o.x);return[n,f]}}}function oT(i,e,t){var r=(e-t.start.y)/(t.end.y-t.start.y);return i.invert(r).toFixed(2)}function sT(i){Af=i}wi("clipingWithData",iT);var lT=function(){function i(e){this.type="shape",this.shapes=e.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,u.deepMix)([],this.nodes)}return i.prototype.measure=function(e){var t=(0,u.deepMix)({},eE(e),{shape:e});return t},i.prototype.measureNodes=function(){var e=this,t=[],r=[];(0,u.each)(this.shapes,function(n,a){var o=(0,u.deepMix)({},e.nodes[a],e.measure(n));o.width!==0&&o.height!==0&&(t.push(o),r.push(n))}),this.nodes=t,this.shapes=r},i.prototype._parserNodes=function(){var e=this;(0,u.each)(this.shapes,function(t){var r=e.measure(t);e.nodes.push(r)})},i}(),Dd=lT;function uT(i,e,t){return t===void 0&&(t={ratio:.6}),e.width*t.ratio}var fT={type:"padding",usage:"assign",expression:uT};function hT(i,e){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],r=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],n=Uv(t,r);return Math.round(n)>=2}var cT={type:"group",usage:"compare",expression:hT};function vT(i,e,t){t===void 0&&(t={value:4});var r=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],a=Uv(r,n);return Math.round(a)>=t.value}var dT={type:"chain",usage:"compare",expression:vT};function pT(i,e,t){t===void 0&&(t={value:5});var r=Math.abs(i.bottom-e.top);return Math.round(r)>=t.value}var gT={type:"chain",usage:"compare",expression:pT};function yT(i,e,t){return t===void 0&&(t={ratio:.15}),i.width<e.width*t.ratio}var mT={type:"padding",usage:"compare",expression:yT};function xT(i,e){var t=2,r=e.coord.radius/t;return Math.min(r,i.value)}var bT={type:"padding",usage:"assign",expression:xT};function wT(i,e,t){return t===void 0&&(t={ratio:.8}),e.radius*t.ratio}var ST={type:"padding",usage:"assign",expression:wT},Fd={elementDist:dT,elementDistVertical:gT,elementCollision:cT,elementWidth:mT,columnWidth:fT,ringThickness:ST,minRingThickness:bT};function W9(i,e){Fd[i]=e}function No(i){i.attr("text","")}function MT(i,e,t,r){var n=r.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],f=l.shape;if(s!==t&&!f.get("blank")){var h=Rd(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,d){return d.top-c.top}),(0,u.each)(o,function(c,d){if(d>0){var b=c.shape;No(b),b.set("blank",!0)}}))}function Rd(i,e){return!(i.bottom<e.top||e.bottom<i.top||i.right<e.left||e.right<i.left)}var CT=v(82097),lo=v.n(CT),ET=1e3,Nd=60*ET,Tf=60*Nd,dl=24*Tf,Yd=31*dl,Gd=365*dl;function zd(i,e,t,r){var n=r.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),f=n[0].shape.get("delegateObject").item.name,h=new Date(f),c=n[n.length-1].shape.get("delegateObject").item.name,d=new Date(c),b=Xd(h,d),L=Xd(l,o);if(b===L){if(t!==0&&t!==n.length-1){var D=PT(b);i.attr("text",lo().format(l,D))}return}if(t!==0){var V=n[t-1].shape.get("delegateObject").item.name,$=new Date(V),K=AT(b,l,$);if(K){var D=TT(b,L);i.attr("text",lo().format(l,D));return}}}function AT(i,e,t){var r=Vd(e,i),n=Vd(t,i);return r===n}function Xd(i,e){var t,r=Math.abs(i-e),n={minute:[Nd,Tf],hour:[Tf,dl],day:[dl,Yd],month:[Yd,Gd],year:[Gd,Infinity]};return(0,u.each)(n,function(a,o){r>=a[0]&&r<a[1]&&(t=o)}),t}function TT(i,e){for(var t=["year","month","day","hour","minute"],r=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(e),o="",s=n;s<=a;s++)o+=r[s],s<a&&(o+="-");return o}function PT(i){var e=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],r=e.indexOf(i),n=t[r];return n}function Vd(i,e){if(e==="year")return i.getFullYear();if(e==="month")return i.getMonth()+1;if(e==="day")return i.getDay()+1;if(e==="hour")return i.getHours()+1;if(e==="minute")return i.getMinutes()+1}function _T(i){var e=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return e.test(i)||t.test(i)}var Hd={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function Wd(i,e,t,r){if(!(!(0,u.has)(r,"node")||!(0,u.has)(r.node,"node"))){var n=r.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(e.formatter){i.attr("text",e.formatter(a));return}if(e.unit){var o=jd(e,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var f=LT(n),h=Zv(f),l=OT(h),c=Hd[l].number,d=IT(n),b=kT(d,c),s=jd({unit:l,decimal:b},a).num;i.attr("text",s+l)}}}}function jd(i,e){var t=["k","m","b","t"],r,n;if(i.unit==="auto"){var a=Math.floor(Math.log(e)/Math.log(1e3));n=t[a-1],r=(e/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=Hd[i.unit];n=i.unit,r=(e/o.number).toFixed(i.decimal)}return{num:r,unitname:n}}function OT(i){var e=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return e[t-1]}function LT(i){var e=[];return(0,u.each)(i,function(t){var r=t,n=parseFloat(r.shape.get("origin").text);e.push(n)}),e}function IT(i){if(i.length>=2){var e=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(e-t)}return 0}function kT(i,e){var t=Math.floor(Math.log10(e));if(i>=e){var r=i%e;if(r>0){var n=Math.floor(Math.log10(r));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function BT(i,e,t){var r=t.nodes.nodes;if(e!==r.length-1){var n=r[e],a=r[e+1],o=DT(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function DT(i,e){var t,r={x:e.centerX-i.centerX,y:e.centerY-i.centerY},n=Math.sqrt(r.x*r.x+r.y*r.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=vf(r,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=FT(l);var f=Math.abs(i.centerX-e.centerX),h=Math.abs(i.centerY-e.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:f,distY:h}}function FT(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function RT(i,e,t,r){var n=r.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(Rd(a,o)){var s=r.plot.view.geometries[0].elements[0],l=o.top-a.height/2,f=10;if(l-f>r.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),d=s.getShapes(),b=NT(c,d).get("box"),L=b.left+b.width/2,D=b.top,V=s.get("labelController").labelsContainer,$=V.addShape("path",{attrs:{path:[["M",L,D],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),K={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-f),n[t]=r.nodes.measure(a.shape),n[t].line=$,n[t].origin_position=K}}}}function NT(i,e){var t;return(0,u.each)(e,function(r){var n=r,a=n.get("id");a===i&&(t=n)}),t}function YT(i,e,t,r){var n=r.nodes.nodes,a=n.length%2!=0;if(!Ud(e.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&No(i)}}function Ud(i,e,t){var r=[];(0,u.each)(i,function(s){s==="start"?r.push(e===0):s==="end"?r.push(e===t.length-1):(0,u.isNumber)(s)&&r.push(e===s)});for(var n=0,a=r;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function GT(i,e,t,r){var n=r.nodes.nodes;if(!Ud(e.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&No(i)}}function zT(i,e,t,r){var n=r.nodes.nodes,a=VT(n);if(!(t<=1)){var o=n[t],s=XT(t,n),l=s.centerX-o.centerX,f=s.centerY-o.centerY,h=Math.sqrt(l*l+f*f);h<a&&(No(i),i.set("blank",!0))}}function XT(i,e){for(var t=i-1;t>0;t--){var r=e[t];if(!r.shape.get("blank"))return r}}function VT(i){var e=(0,u.deepMix)([],i);return e.sort(function(t,r){return r.width-t.width}),Math.round(e[0].width)}function HT(i,e,t,r){var n=r.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=r.plot.initialOptions.data,s=r.plot[r.plot.type]||r.plot[r.plot.baseType],l=(0,u.get)(s,["label","fields",0],(0,u.get)(s,["position","fields",1])),f=WT(o,l,n),h=!1;if((0,u.each)(f,function(L){L.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,d=c.x,b=c.y;i.attr("x",d),i.attr("y",b)}}else No(i)}function WT(i,e,t){var r=[];(0,u.each)(i,function(h){r.push(h[e])}),r.sort(function(h,c){return h-c});var n=r[0],a=Pf(t,e,n),o=r[r.length-1],s=Pf(t,e,o),l=jT(r),f=Pf(t,e,l);return{min:a,max:s,median:f}}function jT(i){var e=(0,u.clone)(i);e.sort(function(r,n){return r-n});var t=Math.floor(e.length/2);return e.length%2,e[t]}function Pf(i,e,t){for(var r=0,n=i;r<n.length;r++){var a=n[r],o=a.shape.get("origin")._origin;if(o[e]===t)return a}}function Zd(i,e){var t=e.abbreviateBy?e.abbreviateBy:"end",r=i.attr("text"),n;t==="end"&&(n=r[0]+"..."),t==="start"&&(n="..."+r[r.length-1]),t==="middle"&&(n=r[0]+"..."+r[r.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function UT(i,e,t,r){var n=r.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?Wd(i,e,t,n):_T(a)?zd(i,e,t,n):Zd(i,e)}function ZT(i,e){i.resetMatrix(),i.attr({rotate:360-e.degree,textAlign:"right",textBaseline:"middle"})}function KT(i,e){for(var t=i.attr("text"),r=Math.ceil(t.length/e.lineNumber),n="",a=1;a<e.lineNumber;a++){var o=r*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var Kd={textWrapper:KT,textRotation:ZT,textAbbreviate:Zd,textHide:No,digitsAbbreviate:Wd,datetimeStringAbbrevaite:zd,robustAbbrevaite:UT,nodesResampling:YT,nodesResamplingByAbbrevate:GT,nodesResamplingByChange:zT,nodesResamplingByState:HT,nodeJitter:BT,nodeJitterUpward:RT,clearOverlapping:MT};function j9(i,e){Kd[i]=e}var $T=function(){function i(e){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,u.assign)(this,e),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var e;this.nodes.type==="shape"?e=this.nodes:e=this.nodes,e.type==="shape"&&e.measureNodes(),this.rules&&this._applyRules(),e.type==="shape"&&e.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var e=this._constraintsTest();!e&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),e=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var e=Fd[this.currentConstraint.name],t=this.currentConstraint.option;return e.usage==="compare"?this._constraintCompare(e,t):this._constraintAssignment(e,t)},i.prototype._constraintCompare=function(e,t){var r=e.type,n=e.expression,a=this.nodes.nodes;if(r==="chain")return this._chainConstraintCompare(n,a,t);if(r==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(r==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(e,t,r){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(e(a,o,r)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(e,t,r,n){if(t)for(var a=0,o=r;a<o.length;a++){var s=o[a];if(e(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(e,t,r){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(e(a,s,r)===!1)return!1}return!0},i.prototype._constraintAssignment=function(e,t){var r=e.type,n=e.expression,a=this.nodes.nodes;if(r==="chain")return this._chainConstraintAssign();if(r==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(e,t,r,n){if(t)for(var a=0,o=r;a<o.length;a++){var s=o[a],l=e(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var e=this.rules[this.currentConstraint.name][this.iterationIndex],t=Kd[e.name],r=e.option?e.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,r,a)}},i.prototype._applyRule=function(e,t,r,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(e,r,n,a)},i}(),$d=$T,QT=function(){function i(e){(0,u.assign)(this,e),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),Qd=QT,JT={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},qT=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},e.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},e.prototype.apply=function(){for(var t=this,r=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var d=h.get("delegateObject").axis.get("field");if(d===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<r.length;a++)n.push(r[a]);var o=new Dd({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,f=s.rules;new $d({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:f,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},e.prototype.getType=function(){var t=this.plot.options,r=this.dim+"Axis",n=this.dim+"Field";if(t[r]&&t[r].type&&t[r].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return JT[a]},e.prototype.getAxisInstance=function(){var t,r,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(r=a[n])===null||r===void 0?void 0:r.component},e.prototype.updateTicks=function(t){var r=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===r.plot.options[r.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,u.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},e}(Qd),uo=qT;function tP(i){var e=i.getResponsiveTheme(),t=i.canvas;new uo({plot:i,responsiveTheme:e,dim:"x"}),new uo({plot:i,responsiveTheme:e,dim:"y"}),t.draw()}var eP=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},e.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),r=[];(0,u.each)(t,function(l){r=r.concat(l.findAllByName("label"))});var n=new Dd({shapes:r}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new $d({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},e.prototype.getType=function(){return null},e}(Qd),Jd=eP,rP=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getType=function(){return(0,u.get)(this.plot.options,["label","type"],"point")},e}(Jd);function nP(i){var e=i.getResponsiveTheme();new rP({plot:i,responsiveTheme:e})}var iP=[],aP=[{name:"responsiveAxis",method:tP},{name:"responsivePointLabel",method:nP}],oP={preRender:iP,afterRender:aP},qd=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultOptions=function(){var t=this.layer.theme,r=t.label,n=r===void 0?{}:r;return(0,qt.__assign)({offsetX:0,offsetY:0},n)},e.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},e.prototype.getLabelItemAttrs=function(t,r){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,u.get)(t,"model.mappingData",[]);return(0,u.map)(l,function(f,h){var c,d=n.getValue(f);return(0,qt.__assign)((0,qt.__assign)((0,qt.__assign)({},n.getPosition(f)),{text:s?s(d,(c={},c[as]=f._origin,c.mappingDatum=f,c.mappingDatumIndex=h,c.element=t,c.elementIndex=r,c),r):d,textAlign:"center",textBaseline:"middle"}),o)})},e.prototype.getValue=function(t){return(0,u.get)(t._origin,this.layer.options.yField)},e.prototype.getPosition=function(t){var r={x:(0,u.isArray)(t.x)?(0,u.last)(t.x):t.x,y:(0,u.isArray)(t.y)?(0,u.last)(t.y):t.y};return r},e.prototype.layoutLabels=function(t,r){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(r);if(a){var o=this.getGlobalTolerance(r);(0,u.each)(r,function(s,l){l>1&&n.labelResamplingByChange(s,r,l,o)})}a=this.isOverlapped(r),a&&(0,u.each)(r,function(s,l){s.get("visible")&&n.clearOverlapping(s,r,l)})}},e.prototype.adjustLabel=function(){},e.prototype.labelResamplingByChange=function(t,r,n,a){var o=this.findPrevious(n,r),s=this.getCenter(t),l=this.getCenter(o),f=l.x-s.x,h=l.y-s.y,c=Math.sqrt(f*f+h*h);c<a&&t.set("visible",!1)},e.prototype.clearOverlapping=function(t,r,n){for(var a=[],o=0;o<r.length;o++){var s=r[o];if(o!==n&&s.get("visible")){var l=Yv(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(f,h){return h.minY-f.minY}),(0,u.each)(a,function(f,h){h>0&&f.set("visible",!1)}))},e.prototype.isOverlapped=function(t){for(var r=0;r<t.length;r++)if(t[r].get("visible")){for(var n=t[r].getBBox(),a=0;a<t.length;a++)if(a!==r&&t[a].get("visible")){var o=t[a].getBBox(),s=Yv(n,o);if(s)return!0}}return!1},e.prototype.getGlobalTolerance=function(t){var r=t.slice();return r.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(r[0].getBBox().width)},e.prototype.findPrevious=function(t,r){for(var n=t-1;n>0;n--)if(r[n].get("visible"))return r[n]},e.prototype.getCenter=function(t){var r=t.getBBox(),n=r.minX,a=r.maxX,o=r.minY,s=r.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},e}(uf),tp=qd;Ji("point",qd);var ep=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.layoutLabels=function(t,r){var n=this,a,o=[],s=mn.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),f=l[0],h=l[1],c=(0,u.groupBy)(r,function(b){return b.get(ua)[Gn.FIELD_ORIGIN][f]}),d=(a=r[0])===null||a===void 0?void 0:a.get("offset");(0,u.each)((0,u.keys)(c).reverse(),function(b){for(var L=n.sortLabels(t,c[b]);L.length;){var D=L.shift();if(aA(D,o,function(K,yt){return K._origin[f]===yt._origin[f]&&K._origin[h]===yt._origin[h]})){D.set("visible",!1);continue}cl(D,s);var V=vl(D,o),$=void 0;if(V&&(D.attr("y",D.attr("y")+2*d),cl(D,s),$=vl(D,o)),$){D.set("visible",!1);continue}o.push(D)}})},e.prototype.sortLabels=function(t,r){var n=t.getXYFields()[1],a=[];return r.sort(function(o,s){return s.get(ua)[Gn.FIELD_ORIGIN][n]-o.get(ua)[Gn.FIELD_ORIGIN][n]}),r.length>0&&a.push(r.shift()),r.length>0&&a.push(r.pop()),a.push.apply(a,r),a},e}(tp),sP=ep;Ji("point-auto",ep);var lP=8,uP=function(){function i(e){this.destroyed=!1,this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.init()}return i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.getGeometry().elements;(0,u.each)(t,function(r){var n=e.getShapeInfo(r.shape),a=e.options,o=a.style,s=a.offsetX,l=a.offsetY,f=e.options.formatter,h=f?f(n.name):n.name;e.container.addShape("text",{attrs:(0,u.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=(0,u.clone)(e.label.style);return delete t.fill,{offsetX:lP,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="line"})},i.prototype.getShapeInfo=function(e){var t=e.get("origin").points,r=t[t.length-1],n=e.attr("stroke"),a=this.plot.options.seriesField,o=e.get("origin").data[0][a];return{x:r.x,y:r.y,color:n,name:o}},i}(),rp=uP,fP={line:"line",point:"point"},hP=ki(fP);(0,u.assign)(Ln,hP);var cP={stroke:"transparent",fill:"#FCC509",lineWidth:0},vP={stroke:"#FFF",fill:"#FCC509",lineWidth:1},dP={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},pP=function(){function i(e){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:cP,selected:dP,active:vP},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=e.view,this.size=e.size||6,this.config=(0,u.deepMix)({},this.defaultCfg,e),this._init()}return i.prototype.render=function(){var e=this.getDataArray();this._renderPoints(e),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var e=this.view.geometries[0];return e.dataArray},i.prototype._init=function(){var e=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){e.clear()})},i.prototype._renderPoints=function(e){var t=this;(0,u.each)(this.config.data,function(r,n){(0,u.each)(e,function(a){var o=(0,u.find)(a,function($){return(0,u.isMatch)($._origin,r)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),f=o.x,h=o.y;(0,u.isArray)(f)&&(f=f[0]),(0,u.isArray)(h)&&(h=h[0]);var c=t.config.symbol,d=t.config,b=d.offsetX,L=d.offsetY,D=void 0;if((0,u.isString)(c)&&c.startsWith("image://")){var V=c.substr(8);D=l.addShape("image",{attrs:{x:f-t.size/2+b,y:h-t.size/2+L,img:V,width:t.size,height:t.size}})}else c=(0,u.isString)(c)?_C.MarkerSymbols[c]:c,D=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:(0,qt.__assign)((0,qt.__assign)({x:f+b,y:h+L,r:t.size/2},s),{symbol:c})});t.points.push(D),t._animatePoint(D),t._renderLabel(l,o,n),l.set("data",r),l.set("origin",o)}})})},i.prototype._renderLabel=function(e,t,r){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,f=n.formatter,h=n.position,c=n.field,d=t._origin[c];f&&(d=f(d,{_origin:t._origin},r));var b=(0,u.isArray)(t.x)?t.x[0]:t.x,L=(0,u.isArray)(t.y)?t.y[0]:t.y,D=e.addShape("text",{name:"marker-label",id:"label-"+r,attrs:(0,qt.__assign)((0,qt.__assign)({x:b+o,y:L+l,text:d||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(D)}},i.prototype._addInteraction=function(){var e=this,t=this.config.events;(0,u.each)(t,function(r,n){e.container.on(e.name+":"+n,function(a){r(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),f=s.get("id"),h={id:f,data:l};n==="click"?e.selectedPoint&&e.selectedPoint.get("id")===f?(e.selectedPoint=null,e.setState("inactive",h)):(e.selectedPoint=s,e.setState("selected",h)):n==="mouseenter"?e.setState("active",h):n==="mouseleave"&&e.setState("inactive",h)}e.view.canvas.draw()}),e.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==e.name&&e.selectedPoint)&&(e.selectedPoint=null,e.setState("inactive"))})})},i.prototype.setState=function(e,t){var r=this;e==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):e==="inactive"?this.points.forEach(function(n){return r._onInactive(n)}):e==="selected"&&this._onSelected(t)},i.prototype._onActive=function(e){var t=this,r=this.config.style.active;(0,u.each)(this.points,function(n){n.get("id")===e.id?(0,u.each)(r,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(e){var t=this.config.style.normal;(!this.selectedPoint||e.get("id")!==this.selectedPoint.get("id"))&&(0,u.each)(t,function(r,n){e.attr(n,r)})},i.prototype._onSelected=function(e){var t=this,r=this.config.style.selected;(0,u.each)(this.points,function(n){n.get("id")===e.id?(0,u.each)(r,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(e){var t=this.config,r=t.animation,n=t.size;if(r!==!1){var a=r,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,f=l===void 0?ao.DEFAULT_ANIMATE_CFG.appear:l;e.animate((0,qt.__assign)({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),f)}},i}(),gP=pP,yP=function(i){var e=i.shape,t=e.attr("lineWidth")||1;return{lineWidth:t+1}},mP=function(i){var e=i.shape,t=e.attr("opacity")||1;return{opacity:t*.2}},xP=function(i){var e=i.shape,t=e.attr("lineWidth")||1;return{lineWidth:t+2}};qi("line",{lineStyle:{normal:{},active:yP,disable:mP,selected:xP},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var bP={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};Ed("line",bP);var wP=function(i){(0,qt.__extends)(e,i);function e(t){return i.call(this,(0,qt.__assign)({processEvent:"mousemove"},t))||this}return e.prototype.start=function(){},e.prototype.process=function(t){var r=(0,u.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,u.get)(t,"data.data");(0,u.each)(r,function(o){(0,u.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,u.each)(r,function(o){(0,u.each)(o.elements,function(s){s.setState("active",!1)})})},e}(yf),SP=wP,MP=function(i){(0,qt.__extends)(e,i);function e(t){return i.call(this,(0,qt.__assign)({endEvent:"click"},t))||this}return e.prototype.start=function(){},e.prototype.end=function(t){var r=t.target,n=(0,u.filter)(this.view.geometries,function(o){return o.type=="line"});if(r.get("name")==="line"){var a=(0,u.get)(t,"data.data");(0,u.each)(n,function(o){(0,u.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,u.each)(n,function(o){(0,u.each)(o.elements,function(s){s.setState("inactive",!1)})})},e}(yf),CP=MP,EP=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,qt.__assign)((0,qt.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},e}(Iv.Z);An("selected-tooltip",EP);var AP=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.show=function(){var t=this.getPoint();(0,u.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},e.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},e.prototype.showTooltip=function(t){var r=this.getTooltipController();r.showTooltip(t)},e.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},e.prototype.getLastXPoint=function(){var t=this.getView(),r=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,u.last)(r.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},e.prototype.getView=function(){return this.context.view},e.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},e}(ct),TP=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),e.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,qt.__assign)((0,qt.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},e}(Iv.Z);An("tooltip-active",TP);var PP=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){this.getView().removeInteraction("tooltip")},e.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},e.prototype.hide=function(){var t=this.getView(),r=this.getTooltipController();r.hideTooltip();var n=(0,u.filter)(t.geometries,function(a){return a.type=="point"});(0,u.each)(n,function(a){(0,u.each)(a.elements,function(o){o.setState("active",!1)})})},e.prototype.showTooltip=function(t){var r=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,u.filter)(r.geometries,function(s){return s.type=="point"});(0,u.each)(o,function(s){(0,u.each)(s.elements,function(l){l.setState("active",(0,u.findIndex)(a,function(f){return f.data===l.data})!==-1)})})},e.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},e.prototype.getView=function(){return this.context.view},e.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},e}(ct),_P=PP;Nt("selected-tooltip",AP),bn("selected-tooltip",{start:[{trigger:Gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:Gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),Nt("marker-active",_P),bn("marker-active",{start:[{trigger:Gn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:Gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var OP={line:"line",point:"point"},np=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},e.prototype.afterRender=function(){var t=this,r=this.options;this.renderLabel(),r.markerPoints&&((0,u.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],r.markerPoints.forEach(function(n){if(n.visible){var a=new gP((0,qt.__assign)((0,qt.__assign)({},n),{view:t.view}));t.markerPoints.push(a)}})),r.responsive&&r.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},e.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,r){return OP[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={},(0,u.has)(t,"xAxis")&&Oi(r[t.xField],t.xAxis),r[t.yField]={},(0,u.has)(t,"yAxis")&&Oi(r[t.yField],t.yAxis),this.setConfig("scales",r),nT(r[t.yField],(0,u.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.tooltip=function(){(0,u.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},e.prototype.addGeometry=function(){this.addLine(),this.addPoint()},e.prototype.addLine=function(){var t=this.options;this.line=pi("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},e.prototype.addPoint=function(){var t=this.options,r={visible:!1};t.point&&(t.point=(0,u.deepMix)(r,t.point)),t.point&&t.point.visible&&(this.point=pi("point","guide",{plot:this}),this.setConfig("geometry",this.point))},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.yField,o=t[a];if(n.visible){var s=so(this.view,"line");if(n.type==="line"){var l=new rp((0,qt.__assign)({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,(0,qt.__assign)({type:"point",formatter:o.formatter&&function(f){return o.formatter(f)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(sT({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},e.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new SP({view:this.view})),this.interactions.push(new CP({view:this.view}))},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,A)},e.prototype.applyResponsive=function(t){var r=this,n=oP[t];(0,u.each)(n,function(a){var o=a;o.method(r)})},e.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},e}(li),ls=np;Mn("line",np);var LP=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="line",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=ls.getDefaultOptions,e}(pn),ip=LP;function IP(i,e,t,r,n){var a=r-e,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,f=e;(0,u.each)(o,function(h){h.y0=t,h.y1=n,h.x0=f,f+=h.value*l,h.x1=h.x0+h.value*l})}function kP(i,e,t,r,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,f=t;(0,u.each)(o,function(h){h.x0=e,h.x1=r,h.y0=f,f+=h.value*l,h.y1=h.y0+h.value*l})}var BP=(1+Math.sqrt(5))/2;function ap(i,e,t,r,n){var a=i.children,o=i.value;a.sort(function(te,oe){return oe.value-te.value});for(var s=[],l,f,h,c,d,b,L,D,V=0,$=0;V<a.length;){var K=r-e,yt=n-t;for(l=a[$++].value,f=l,h=l,c=Math.max(yt/K,K/yt)/(o*BP),d=l*l*c,L=Math.max(f/d,d/h);$<a.length;$++){if(D=a[$].value,l+=D,D<h&&(h=D),D>f&&(f=D),d=l*l*c,b=Math.max(f/d,d/h),b>L){l-=D;break}L=b}var wt={value:l,dice:K<yt,children:a.slice(V,$)};if(s.push(wt),wt.dice){var Rt=o?yt*l/o:yt;IP(wt,e,t,r,t+Rt),o&&(t+=Rt)}else{var Zt=o?K*l/o:K;kP(wt,e,t,e+Zt,n),o&&(e+=Zt)}o-=l,V=$}return s}var DP=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(r,n){return function(){var a=r.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return e.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},e.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=(0,qt.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=(0,qt.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=(0,qt.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=(0,qt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=(0,qt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},e.prototype.renderInner=function(t){var r=0,n=0;this.offEvents(),this.renderItems(t,r,n),fd(this.group,this.x,this.y)},e.prototype.renderItems=function(t,r,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],f=o[2],h=o[3],c,d=t.addShape("rect",{class:"breadcrumb-background",attrs:(0,qt.__assign)({x:r,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(b,L){var D=t.addGroup({id:"item-group-"+b.key,data:b,class:"item-group",attrs:{cursor:"pointer"}}),V=D.addShape("rect",{id:"item-background-"+b.key,class:"item-background",attrs:(0,qt.__assign)((0,qt.__assign)({x:r,y:n,width:h+l,height:s+f},a.itemBackgroundStyle),{cursor:"pointer"})});V.name="breadcrumb";var $=D.addShape("text",{id:"item-text-"+b.key,class:"item-text",attrs:(0,qt.__assign)((0,qt.__assign)({x:r+h,y:n+s,text:b.text},a.textStyle),{cursor:"pointer"})});$.name="breadcrumb";var K=$.getBBox();c=a.itemHeight||K.height;var yt=a.itemWidth||K.width;a.maxItemWidth&&(yt=Math.min(yt,a.maxItemWidth));var wt={x:r,y:n,width:yt+h+l,height:c+s+f};if(V.attr("width",wt.width),V.attr("height",wt.height),D.setClip({type:"rect",attrs:wt}),r+=wt.width,L!==a.items.length-1){var Rt=t.addShape("text",{attrs:(0,qt.__assign)({x:r,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});r+=Rt.getBBox().width}}),d.attr({width:r,height:c+s+f})},e.prototype.bindEvents=function(t){var r=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,f){return function(){var h=l.get("data"),c=n.find(function(d){return d.key===h});r.emit(f,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),f=o("dblclick",s,"onItemDblclick"),h=r.onItemGroupToggleActive(s,!0),c=r.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",f),s.on("mouseenter",h),s.on("mouseleave",c),r.listeners.push({target:s,event:"click",callback:l}),r.listeners.push({target:s,event:"dblclick",callback:f}),r.listeners.push({target:s,event:"mouseenter",callback:h}),r.listeners.push({target:s,event:"mouseleave",callback:c})})},e.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var r=t.target,n=t.event,a=t.callback;r.off(n,a)}),this.listeners=[]},e}(os),FP=DP,pl=[1,0,0,0,1,0,0,0,1],Co=400,Yo="easeQuadInOut";function RP(i,e,t){var r=up(i),n=lp(e),a=n.width/r.width,o=n.height/r.height,s=(n.minX-r.minX)*a,l=(n.minY-r.minY)*o,f=Fo([["s",a,o],["t",s,l]]),h=e.geometries[0];gl(h);var c=e.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var d=op(h,c);h.container.set("visible",!1),e.canvas.draw(),t(),window.setTimeout(function(){(0,u.each)(d,function(V,$){$===0?V.animate({matrix:f},Co,Yo,function(){c.remove(),e.canvas.draw()}):V.animate(Fo,Co)}),h=e.geometries[0],gl(h);var b=h.getShapes();(0,u.each)(b,function(V){V.attr("opacity",0),V.animate({opacity:1},Co,Yo)});var L=h.container;L.stopAnimate(),L.set("visible",!0),L.attr("matrix",(0,u.clone)(pl)),$E(L,[["s",r.width/n.width,r.height/n.height],["t",r.minX,r.minY]]);var D=(0,u.clone)(pl);h.container.animate({matrix:D},Co,Yo,function(){fp(h)}),e.canvas.draw()},16)}function op(i,e){var t=i.getShapes(),r=[];return(0,u.each)(t,function(n){var a=e.addShape("path",{attrs:(0,u.deepMix)({},n.attrs,{capture:!1})});r.push(a)}),r}function sp(i,e,t){var r=e.geometries[0];gl(r);var n=r.container;n.attr("matrix",(0,u.clone)(pl));var a=e.backgroundGroup.addGroup();a.set("zIndex",-100);var o=op(r,a);n.set("visible",!1),e.canvas.draw(),t(),r=e.geometries[0],gl(r),n=r.container;var s=NP(r.getShapes(),i),l=up(s),f=lp(e),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:f.minX,y:f.minY,width:f.width,height:f.height}}),YP(a,o,l,f);var c=f.width/l.width,d=f.height/l.height,b=(f.minX-l.minX)*c,L=(f.minY-l.minY)*d,D=Fo([["s",c,d],["t",b,L]]);n.setMatrix(D),n.set("visible",!0),n.animate({matrix:pl},Co,Yo,function(){fp(r)})}function NP(i,e){var t;return(0,u.each)(i,function(r){var n=r.get("origin").data.name;n===e&&(t=r)}),t}function lp(i){var e=i.coordinateBBox,t={minX:e.minX,minY:e.minY,centerX:(e.maxX-e.minX)/2,centerY:(e.maxY-e.minY)/2,width:e.width,height:e.height};return t}function up(i){var e=i.attr("path"),t=e[0][1],r=e[0][2],n=e[1][1],a=e[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(r-a)/2,width:Math.abs(n-t),height:Math.abs(r-a)};return o}function YP(i,e,t,r){var n=t.width/r.width,a=t.height/r.height,o=Fo([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},Co,Yo,function(){i.remove()}),(0,u.each)(e,function(s){s.animate({opacity:0},Co,Yo)})}function gl(i){var e=i.labelsContainer;e.set("visible",!1)}function fp(i){var e=i.labelsContainer;e.set("visible",!0)}var GP=100,zP=30,XP=10,VP=function(i){i===void 0&&(i={});var e=(0,qt.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:GP,itemHeight:zP,padding:[0,0,0,0]},i);return e},hp=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.getInteractionRange=function(t,r){var n=VP(r),a=n.padding,o=a[0],s=a[1];if(t)return new mn(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},e.prototype.start=function(t){var r=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,u.clone)(this.currentNode.name),value:(0,u.clone)(this.currentNode.value)},depth:(0,u.clone)(this.currentDepth)},this.currentDepth++,RP(t.target,this.view,function(){r.update(n)}))},e.prototype.update=function(t){(0,u.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var r=this.plot.getTreemapData(t,t.depth);this.view.changeData(r),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},e.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,u.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+XP,this.breadcrumb=new FP({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},e.prototype.clear=function(){},e.prototype.layout=function(){var t=this.container.getBBox().width,r=(this.plot.width-t)/2;this.breadcrumb.update({x:r,y:this.y}),this.breadcrumb.render()},e.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var r=this.getRootItem();t.push(r)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,u.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},e.prototype.findParent=function(t,r){if(t.parent)(0,u.hasKey)(this.cache,t.parent.name)?r.push(this.cache[t.parent.name]):r.push(t.parent),this.findParent(t.parent,r);else return},e.prototype.onInteraction=function(){var t=this;this.container.on("click",function(r){var n=r.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?sp(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,u.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?sp(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},e.prototype.getRootItem=function(){var t=this.plot.options.data,r=(0,u.hasKey)(t,"name")?t.name:"root";return{key:"1",text:r,data:this.plot.rootData}},e.prototype.saveOriginMapping=function(){var t=this.plot.options,r=t.colorField,n=t.colors,a={field:r,values:n};this.originMapping=a},e.prototype.adjustScale=function(t){var r=this.view;if(this.mapping&&(0,u.hasKey)(this.mapping,String(t))){var n=(0,u.clone)(this.mapping[t]);if(n.values&&(0,u.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,u.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}r.render()},e.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,r=this.geometry.container;r.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},e.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},e}(Oa),HP=hp;Oa.registerInteraction("drilldown",hp);var WP={drilldown:HP},jP={rect:"polygon",breadcrumb:"breadcrumb"},UP=ki(jP);(0,u.assign)(Ln,UP);var cp=4,ZP=8;function KP(i,e){return!i.children||i.depth>=e}function $P(i,e,t){var r=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),o=n.split(`
`),s=o.map(function(l){for(var f="",h=l.split(""),c=[],d=0;d<h.length;d++){var b=h[d];a.attr("text",f+=b);var L=a.getBBox().width-1;if(L>e){if(d===0)break;c.push(d),f=""}}return Nv(h,c)});return a.remove(),s.join(`
`)}function vp(i,e,t,r){for(var n=r.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:e}}),a=n.getBBox().width,o=r.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),s="",l=t-a,f=0;f<i.length;f++){var h=i[f];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var d=s.substr(0,s.length-1);if(d.length>0)return d+"..."}}return o.remove(),n.remove(),s}var QP=function(){function i(e){this.destroyed=!1,this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.init()}return i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.getGeometry().elements;(0,u.each)(t,function(r){var n=r.shape,a=n.get("origin").data,o=KP(a,e.plot.options.maxLevel);if(a.showLabel){var s=(0,u.clone)(e.options.style),l=e.getPosition(n,o),f=e.options.formatter,h=f?f(a.name):a.name,c=e.getTextBaseLine(o),d=e.container.addShape("text",{attrs:(0,u.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});e.adjustLabel(d,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(e,t){var r=e.getBBox(),n=0,a=0;return t?(n=r.minX+r.width/2,a=r.minY+r.height/2):(n=r.x+r.width/2,a=r.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(e){return e?"middle":"top"},i.prototype.adjustLabel=function(e,t,r){r?this.adjustLeafLabel(e,t):this.adjustParentLabel(e,t)},i.prototype.adjustLeafLabel=function(e,t){var r=t.getBBox(),n=e.getBBox(),a=(0,u.clone)(e.attr("text")),o=2,s=Math.max(e.attr("fontSize")-o,ZP),l=r.x+r.width/2,f=r.y+r.height/2;e.attr({x:l,y:f,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=r.width-cp*2;if(n.width>r.width&&n.height>r.height){e.attr("text","");return}else if(h<s){e.attr("text","");return}if(n.width>r.width){var c=$P(e,h,this.container);e.attr({lineHeight:e.attr("fontSize"),text:c});var d=e.getBBox();if(d.height>r.height){var b=vp(a,s,h,this.container);e.attr("text",b)}}},i.prototype.adjustParentLabel=function(e,t){var r=t.getBBox(),n=r.width-cp*2;if(e.getBBox().width>n){var a=vp(e.attr("text"),e.attr("fontSize"),n,this.container);e.attr("text",a)}},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=e.label.style;return{offsetX:0,offsetY:0,style:(0,u.clone)(t)}},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="polygon"})},i}(),JP=QP,qP=4,us=4,dp=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},e.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var r=this.options.interactions;r&&(0,u.each)(r,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},e.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new JP((0,qt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},e.prototype.geometryParser=function(){return"polygon"},e.prototype.getTreemapData=function(t,r){var n=this.getViewRange(),a=ap(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,r),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},e.prototype.processData=function(){return this.rootData},e.prototype.coord=function(){},e.prototype.addGeometry=function(){var t=this,r=this.options,n=r.data,a=r.colorField,o=r.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(f){var h=t.adjustStyleByDepth(f,l);return(0,u.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},e.prototype.applyInteractions=function(){var t=this,r=this.options.interactions,n=this.view.interactions;(0,u.each)(r,function(a){var o=WP[a.type];if(o){var s=new o((0,u.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},e.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,C)},e.prototype.recursive=function(t,r){var n=this,a=this.options.colorField;(0,u.each)(t,function(o){(0,u.each)(o.children,function(s){s.depth=r,r>1&&(s.parent=o),(0,u.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var f=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=f/2>h?h:us;s.showLabel=c!==us;var d=ap(s,s.x0+us,s.y0+c,s.x1-us,s.y1-us);n.fillColorField(d,a,s[a]),n.recursive(d,s.depth+1)}})})},e.prototype.getAllNodes=function(t,r,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,u.each)(t,function(l){(0,u.hasKey)(l,"x0")&&l.depth<=o&&r.push((0,qt.__assign)((0,qt.__assign)({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,u.hasKey)(l,"children")&&a.getAllNodes(l.children,r)})},e.prototype.fillColorField=function(t,r,n){(0,u.each)(t,function(a){(0,u.hasKey)(a,r)||(a[r]=n)})},e.prototype.getLabelHeight=function(){var t=this.options.label,r=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:r}return n+qP*2},e.prototype.isLeaf=function(t){return!t.children||t.children.length===0},e.prototype.isNested=function(t){var r=this.options.maxLevel;if(r===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},e.prototype.adjustStyleByDepth=function(t,r){var n=this.options.maxLevel;return r?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},e}(li),t_=dp;Mn("treemap",dp);var e_=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="treemap",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=t_.getDefaultOptions,e}(pn),pp=e_,gp=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},e}(ls);Mn("step-line",gp);var r_=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="step-line",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=gp.getDefaultOptions,e}(pn),yp=r_;function mp(i,e){var t=[],r=i.get("origin").points;return(0,u.each)(r,function(n){t.push(e.convertPoint(n))}),t}var n_=function(){function i(e){(0,u.deepMix)(this,this.constructor.getDefaultOptions(e),e),this._init()}return i.getDefaultOptions=function(e){var t=e.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(r,n){return(100*n/r).toFixed(2)+"%"}},animation:(0,u.deepMix)({},ao.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var e=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){e.clear()})},i.prototype.draw=function(){var e=this,t=this.transpose,r=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,f;t?a.forEach(function(h,c){s=r[c],c++>0&&e._drawTag(l,f,h,s),f=s,l=h}):a.forEach(function(h,c){f=r[c],c++>0&&e._drawTag(h,f,o,s),s=f,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(e,t,r,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=mp(e,o)[a?3:0],l=mp(r,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(e,t){var r=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,f=this.arrow.headSize,h=t.y-e.y,c=t.x-e.x,d;l?(c-f)/2<r?(r=Math.max(1,(c-f)/2),d=[[e.x+r,e.y-o],[e.x+r,e.y-o-a],[t.x-r,t.y-o-a/2]]):d=[[e.x+r,e.y-o],[e.x+r,e.y-o-a],[t.x-r-f,t.y-o-a],[t.x-r,t.y-o-a/2],[t.x-r-f,t.y-o]]:(h-f)/2<r?(r=Math.max(1,(h-f)/2),d=[[e.x+o,e.y+r],[e.x+o+a,e.y+r],[t.x+o+a/2,t.y-r]]):d=[[e.x+o,e.y+r],[e.x+o+a,e.y+r],[t.x+o+a,t.y-r-f],[t.x+o+a/2,t.y-r],[t.x+o,t.y-r-f]];var b=this.container.addShape("polygon",{name:"arrow",attrs:(0,qt.__assign)((0,qt.__assign)({},this.arrow.style),{points:d})});s!==!1&&this._fadeInTagShape(b)},i.prototype._drawTagValue=function(e,t,r,n){var a=this,o=a.size,s=a.offset,l=a.animation,f=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:(0,qt.__assign)((0,qt.__assign)({},this.value.style),{text:h,x:f?(e.x+r.x)/2:e.x+s+o/2,y:f?e.y-s-o/2:(e.y+r.y)/2,textAlign:"center",textBaseline:"middle"})});if(f){var d=r.x-e.x,b=c.getBBox().width;if(b>d){var L=b/h.length,D=Math.max(1,Math.ceil(d/L)-1),V=h.slice(0,D)+"...";c.attr("text",V)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(e){var t=this.animation,r=e.attr("opacity");e.attr("opacity",0);var n=(0,u.get)(t,"appear",ao.DEFAULT_ANIMATE_CFG.appear).duration;e.animate({opacity:r},n)},i}(),xp=n_;function i_(i){var e=i.getResponsiveTheme(),t=i.canvas;new uo({plot:i,responsiveTheme:e,dim:"x"}),new uo({plot:i,responsiveTheme:e,dim:"y"}),t.draw()}var a_=[],o_=[{name:"responsiveAxis",method:i_}],s_={preRender:a_,afterRender:o_},l_=function(i){var e=i.opacity||1;return{opacity:e*.5}},u_=function(i){var e=i.opacity||1;return{opacity:e*.5}},_f={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:l_,disable:u_,selected:{lineWidth:1,stroke:"black"}}};qi("bar",_f);function Za(i){var e=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(e.substr(0,2),16)),t.push(parseInt(e.substr(2,2),16)),t.push(parseInt(e.substr(4,2),16)),t}function Of(i){var e;return e=Math.round(i),e=e.toString(16),e.length===1&&(e="0"+i),e}function U9(i){return"#"+(Of(i[0])+Of(i[1])+Of(i[2]))}function yl(i,e){var t;return(0,u.each)(i,function(r){var n=r;e>=n.from&&e<n.to&&(t=n.color)}),t}var Lf=function(i){var e=Za(i),t=e[0],r=e[1],n=e[2],a=(t*299+r*587+n*114)/1e3<128;return a},bp=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getLabelItemAttrs=function(t,r){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),f=this.getValue(t);return(0,u.deepMix)({},o,(0,qt.__assign)((0,qt.__assign)({},this.getPosition(t)),{text:s?s(f,(n={},n[as]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=r,n),r):f,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},e.prototype.adjustLabel=function(t,r){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),f=this.getElementShapeBBox(r);if(f.width<=l.width){var h=f.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},e.prototype.getDefaultOptions=function(){var t=this.layer.theme,r=t.label,n=r===void 0?{}:r;return(0,qt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},e.prototype.getValue=function(t){return(0,u.get)(t.getData(),this.layer.options.xField)},e.prototype.getPosition=function(t){var r=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,f=a.height,h=a.width,c=this.options,d=c.offsetX,b=c.offsetY,L=c.position,D=l+f/2+b,V=n<0?-1:1,$;if(L==="left"){var K=n>0?o:s;$=K+r*V+d}else if(L==="right"){var K=n>0?s:o;$=K+r*V+d}else $=o+h/2+d;return{x:$,y:D}},e.prototype.getTextFill=function(t){var r=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=r.attr("fill"),a=r.attr("opacity")?r.attr("opacity"):1,o=Za(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],f=yl(l,s);return f}var h=this.options.style.fill;return h},e.prototype.getTextStroke=function(t){var r=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&r!=="black"?null:void 0},e.prototype.getTextAlign=function(t){var r=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return r<0?o[n]:a[n]},e.prototype.getTextBaseline=function(){return"middle"},e.prototype.getElementShapeBBox=function(t){var r=this,n=t.shape,a=[];(0,u.each)(n.get("origin").points,function(b){a.push(r.coord.convertPoint(b))});var o=a.map(function(b){return b.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),f=a.map(function(b){return b.y}),h=Math.min.apply(Math,f),c=Math.max.apply(Math,f),d=new mn(s,h,l-s,c-h);return d},e.prototype.getLabelOffset=function(){return{x:0,y:0}},e}(uf),wp=bp;Ji("bar",bp);var Sp=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getPosition=function(t){var r=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,f=a.height,h=this.options,c=h.offsetX,d=h.offsetY,b=l+f/2+d,L=n<0?-1:1,D=n>0?s:o,V=D+r*L+c;return{x:V,y:b}},e.prototype.getTextAlign=function(t){var r=this.getValue(t);return r>0?"left":"right"},e.prototype.getTextFill=function(t){var r=this.options.style;return r.fill},e.prototype.getTextStroke=function(t){},e.prototype.adjustLabel=function(t,r){},e.prototype.layoutLabels=function(t,r){this.shouldInShapeLabels(r)&&this.inShapeLabels(t,r),this.autoHideLabels(t,r)},e.prototype.shouldInShapeLabels=function(t){var r=this;return(0,u.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=r.getElementShapeBBox(o);return s.height>=a.height})},e.prototype.inShapeLabels=function(t,r){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,f=s.lightStyle,h=(0,u.groupBy)(r,function(c){return c.get(ua)[Gn.FIELD_ORIGIN][o]});(0,u.each)(r,function(c){var d=h[c.get(ua)[Gn.FIELD_ORIGIN][o]]||[],b=c.get("element"),L=b.shape,D=Lf(L.attr("fill")),V=n.getElementShapeBBox(b),$=mn.fromBBoxObject(c.getBBox());if(bf(a,V)<=0&&c.set("visible",!1),$.width>V.width){var K=(0,u.findIndex)(d,function(wt){return wt===c});K!==d.length-1&&c.set("visible",!1)}else{c.attr({x:V.x+V.width/2,textAlign:"center"});var yt=$.width>V.width||$.height>V.height;yt?c.attr({stroke:f==null?void 0:f.stroke}):c.attr({fill:D?f==null?void 0:f.fill:l==null?void 0:l.fill,fillOpacity:D?f==null?void 0:f.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},e.prototype.autoHideLabels=function(t,r){var n=this.getCoordinateBBox(),a=this.filterLabels(r),o=t.getXYFields()[0],s=[],l=[],f=(0,u.groupBy)(a,function(b){return b.get(ua)[Gn.FIELD_ORIGIN][o]}),h=(0,u.uniq)((0,u.map)(a,function(b){return b.get(ua)[Gn.FIELD_ORIGIN][o]})),c;for((0,u.size)(h)>0&&(c=h.shift(),(0,u.each)(f[c],function(b){return l.push(b)})),(0,u.size)(h)>0&&(c=h.pop(),(0,u.each)(f[c],function(b){return l.push(b)})),(0,u.each)(h.reverse(),function(b){(0,u.each)(f[b],function(L){return l.push(L)})});l.length>0;){var d=l.shift();d.get("visible")&&(cl(d,n),vl(d,s)?d.set("visible",!1):s.push(d))}},e.prototype.filterLabels=function(t){var r=500,n=[],a=Math.max(Math.floor(t.length/r),1);return(0,u.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},e}(wp),f_=Sp;Ji("bar-auto",Sp);var h_={bar:"interval"},c_=ki(h_);(0,u.assign)(Ln,c_);var v_={bar:"interval"},d_={interval:"bar"},Mp=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return e.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,u.deepMix)({},i.getDefaultOptions.call(this),t)},e.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},e.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new xp((0,qt.__assign)({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,r){return t==="g2"?v_[r]:d_[r]},e.prototype.processData=function(t){var r=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,u.each)(r,function(o){var s=(0,u.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},e.prototype.scale=function(){var t=this.options,r={};r[t.yField]={type:"cat"},(0,u.has)(t,"yAxis")&&Oi(r[t.yField],t.yAxis),r[t.xField]={},(0,u.has)(t,"xAxis")&&Oi(r[t.xField],t.xAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},e.prototype.axis=function(){var t=Fi("axis",{plot:this,dim:"x"}),r=Fi("axis",{plot:this,dim:"y"});t&&(t.position="left"),r&&(r.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=r,this.setConfig("axes",n)},e.prototype.adjustBar=function(t){return null},e.prototype.addGeometry=function(){var t=this.options,r=pi("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,u.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(r),this.bar=r,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",r)},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.xField,o=t[a];if(n==null?void 0:n.visible){var s=so(this.view,"interval");this.doRenderLabel(s,(0,qt.__assign)({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},e.prototype.applyResponsive=function(t){var r=this,n=s_[t];(0,u.each)(n,function(a){var o=a;o.method(r)})},e.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},e}(li),ml=Mp;Mn("bar",Mp);var p_=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="bar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=ml.getDefaultOptions,e}(pn),Cp=p_;qi("stackedBar",_f);var g_=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustLabel=function(t,r){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(r);a.maxX<=n.maxX&&t.set("visible",!1)}},e}(wp),Z9=null;Ji("stacked-bar",g_);var y_=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.shouldInShapeLabels=function(t){return!0},e}(f_),K9=null;Ji("stacked-bar-auto",y_);var Ep=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.xField,o=t[a];if(n==null?void 0:n.visible){var s=so(this.view,"interval");this.doRenderLabel(s,(0,qt.__assign)({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},e}(ml),If=Ep;Mn("stackedBar",Ep);var m_=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedBar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=If.getDefaultOptions,e}(pn),Ap=m_;qi("groupedBar",_f);var Tp=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},e.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,u.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(r){var n=r.items,a=n===void 0?[]:n,o=(0,u.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){r.items[l]=s})})},e.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},e.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,u.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,u.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},e.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},e.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},e}(ml),Pp=Tp;Mn("groupedBar",Tp);var x_=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedBar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Pp.getDefaultOptions,e}(pn),_p=x_,kf=function(i,e,t){var r=(0,u.groupBy)(i,e);r=(0,u.mapValues)(r,function(o){return(0,u.map)(o,function(s){return(0,u.map)(t,function(l){return s[l]})})}),r=(0,u.mapValues)(r,u.flatten),r=(0,u.mapValues)(r,function(o){return(0,u.map)(o,function(s){var l=Number.parseFloat(s);return!(0,u.isNumber)(l)||isNaN(l)?0:l})});var n=(0,u.mapValues)(r,function(o){return(0,u.reduce)(o,function(s,l){return s+l},0)}),a=(0,u.map)(i,function(o){var s=(0,qt.__assign)((0,qt.__assign)({},o),{_origin:o,total:n[o[e]]});return(0,u.each)(t,function(l){s[l]=o[l]/(n[o[e]]||1)}),s});return(0,u.each)((0,u.groupBy)(a,e),function(o){var s=0;(0,u.each)(o,function(l,f){(0,u.each)(t,function(h,c){(s+l[h]>=1||f===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},Op=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var r=/%/gi;return t.replace(r,"")}}}})},e.prototype.processData=function(t){var r=this.options,n=r.xField,a=r.yField,o=i.prototype.processData.call(this,t);return kf(o,a,[n])},e.prototype.scale=function(){var t={},r=this.options.xField;t[r]={tickCount:6,alias:r+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},e}(If),Lp=Op;Mn("percentStackedBar",Op);var b_=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedBar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Lp.getDefaultOptions,e}(pn),Ip=b_,kp=8;function w_(i,e){var t;return(0,u.each)(i,function(r){var n=r;e>=n.from&&e<n.to&&(t=n.color)}),t}var S_=function(){function i(e){this.destroyed=!1,this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.getGeometry(),r=t.elements,n=t.coordinate;this.coord=n,(0,u.each)(r,function(a){var o=a.shape,s=e.getPosition(o),l=e.getValue(o),f=e.getTextAlign(),h=[];(0,u.each)(s,function(c,d){var b=d===0?e.options.leftStyle:e.options.rightStyle,L=e.getTextColor(o,d);e.options.position==="inner"&&e.options.adjustColor&&L!=="black"&&(b.stroke=null);var D=e.options.formatter,V=D?D(l[d]):l[d],$=e.container.addShape("text",{attrs:(0,u.deepMix)({},b,{x:c.x,y:c.y,text:V,fill:L,textAlign:f[d],textBaseline:"middle"}),name:"label"});h.push($),e.doAnimation($)}),o.set("labelShapes",h),e.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(e){var t=this,r=[];(0,u.each)(e.get("origin").points,function(a){r.push(t.coord.convertPoint(a))});var n=new mn(r[0].x,r[1].y,Math.abs(r[2].x-r[0].x),Math.abs(r[0].y-r[1].y));return n},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=e.label.style;return{position:"outer",offsetX:kp,offsetY:0,style:(0,u.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(e){var t=this.getShapeBbox(e),r=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,f=s.offsetY,h=a+o/2+f,c,d;return this.options.position==="outer"?(c=r-l,d=n+l):(c=r+l,d=n-l),[{x:c,y:h},{x:d,y:h}]},i.prototype.getValue=function(e){var t=this.plot.options.xField;return e.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(e,t){if(this.options.adjustColor&&this.options.position==="inner"){var r=e.attr("fill"),n=e.attr("opacity")?e.attr("opacity"):1,a=Za(r),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=w_(s,o);return l}var f=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return f},i.prototype.doAnimation=function(e){this.plot.animation&&this.plot.animation===!1||(e.attr("fillOpacity",0),e.attr("strokeOpacity",0),e.stopAnimate(),e.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(e,t,r){var n=r.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,f=[e.getBBox(),t.getBBox()],h=e.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var d=f[0].width+f[1].width,b=f[0].maxX-f[1].minX>2,L=d>s;(b||L)&&(h=a-this.options.offsetX,e.attr("fill",this.options.leftStyle.fill),e.attr("textAlign","right"),f[0]=e.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),f[1]=t.getBBox())}f[0].minX<l.minX&&(h=l.minX+kp,e.attr("textAlign","left")),e.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="interval"})},i}(),M_=S_,Bp;function Dp(i,e){var t=i.getBBox(),r=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:r,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},e.duration,e.easing,function(){i.setClip(null)},e.delay)}Dp.animationName="clipInFromCenter";function C_(i){Bp=i}function Fp(i,e){var t=E_(i).attr("path"),r=(0,u.clone)(i.attr("path"));i.attr("path",t),i.animate({path:r},e.duration,e.easing,e.callback,100)}function E_(i){var e=i.id,t;return(0,u.each)(Bp,function(r){r.id===e&&(t=r)}),t}Fp.animationName="updateFromCenter",wi("clipInFromCenter",Dp),wi("updateFromCenter",Fp);var Rp=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return e.getDefaultOptions=function(){return(0,u.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},e.prototype.afterRender=function(){this.renderLabel();var t=[],r=this.view.geometries;(0,u.each)(r,function(n){var a=n.elements;(0,u.each)(a,function(o){t.push(o.shape)})}),C_(t),i.prototype.afterRender.call(this)},e.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new M_((0,qt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},e.prototype.animation=function(){i.prototype.animation.call(this)},e}(ml),A_=Rp;Mn("rangeBar",Rp);var T_=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="rangeBar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=A_.getDefaultOptions,e}(pn),Np=T_,Yp=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(tp),P_=Yp;Ji("area-point",Yp);var Gp=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.layoutLabels=function(t,r){i.prototype.layoutLabels.call(this,t,r),this.adjustAreaLabelsStyle(r)},e.prototype.adjustAreaLabelsStyle=function(t){var r=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=so(r,"area"),l=iA(s).sort(function(f,h){return h.getBBox().height-f.getBBox().height});(0,u.each)(t,function(f){var h=f.getBBox(),c=iE(h.x,h.y,h.width,h.height),d=(0,u.map)(l,function(D){return{area:D,matches:(0,u.filter)(c,function(V){return!!D.isHit(V[0],V[1])}).length}}).sort(function(D,V){return D.matches-V.matches});if((0,u.last)(d).matches>0){var b=(0,u.last)(d).area.attr("fill"),L=Lf(b);f.attr({fill:L?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:L?o.fillOpacity:a.fillOpacity,stroke:L?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},e}(sP),__=Gp;Ji("area-point-auto",Gp);function O_(i){var e=i.getResponsiveTheme(),t=i.canvas;new uo({plot:i,responsiveTheme:e,dim:"x"}),new uo({plot:i,responsiveTheme:e,dim:"y"}),t.draw()}var L_=[],I_=[{name:"responsiveAxis",method:O_}],k_={preRender:L_,afterRender:I_},B_={area:"area",line:"line",point:"point"},D_=ki(B_);(0,u.assign)(Ln,D_);var F_=function(i){var e=i.opacity||1;return{opacity:e}},R_=function(i){var e=i.opacity||1;return{opacity:e*.5}},N_=function(i){var e=i.opacity||1;return{opacity:e}},Y_=function(i){var e=i.opacity||1;return{opacity:e*.5}},G_=function(i){var e=i.lineWidth||1;return{lineWidth:e+2}},z_=function(i){var e=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},X_=function(i){var e=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}},V_=function(i){var e=i.opacity||i.fillOpacity||1;return{opacity:e*.5}},zp={areaStyle:{normal:{},active:F_,disable:R_,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:N_,disable:Y_,selected:G_},pointStyle:{normal:{},active:z_,disable:V_,selected:X_},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};qi("area",zp);var H_={area:"area",line:"line",point:"point"},Xp=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},e.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},e.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,r){return H_[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&Oi(r[t.xField],t.xAxis),r[t.yField]={},(0,u.has)(t,"yAxis")&&Oi(r[t.yField],t.yAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){return null},e.prototype.addGeometry=function(){var t=this.options,r=pi("area","main",{plot:this});this.area=r,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(r),this.setConfig("geometry",r),this.addLine(),this.addPoint()},e.prototype.adjustArea=function(t){},e.prototype.adjustLine=function(t){},e.prototype.adjustPoint=function(t){},e.prototype.addLine=function(){var t=this.options,r=(0,u.deepMix)({},t.line);if(r.visible){var n=pi("line","guide",{type:"line",plot:this,line:r});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},e.prototype.addPoint=function(){var t=this.options,r=(0,u.deepMix)({},t.point);if(r.visible){var n=pi("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.yField,o=t[a];if(n.visible){var s=so(this.view,"area");this.doRenderLabel(s,(0,qt.__assign)({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},e.prototype.label=function(){},e.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,g)},e.prototype.applyResponsive=function(t){var r=this,n=k_[t];(0,u.each)(n,function(a){var o=a;o.method(r)})},e}(li),Bf=Xp;Mn("area",Xp);var W_=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="area",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Bf.getDefaultOptions,e}(pn),Vp=W_,j_=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getShapeInfo=function(t){var r=t.get("origin").points,n=r[r.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,u.reduce)(n.y,function(f,h){return f+h},0)/(0,u.size)(n.y);return{x:n.x,y:l,color:a,name:s}},e}(rp),U_=j_,Df=12,Z_=.01,K_=100,$_=12;function Q_(i){var e=-Infinity,t=Infinity,r=-Infinity;return(0,u.each)(i,function(n){t=Math.min(n.x,t),r=Math.max(n.x,r);var a=Math.abs(n.y[0]-n.y[1]);e=Math.max(e,a)}),{xRange:[t,r],maxHeight:e}}function Hp(i,e,t){var r=e[0],n=e[e.length-1];(0,u.each)(e,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>r.x&&(r=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-r.x)/(n.x-r.x);return r.y[t]*(1-a)+n.y[t]*a}function J_(i,e){var t;for(t=0;t<i.length;t++){var r=i[t];if(r.x===e||r.x>e)break}return t}var q_=function(){function i(e){this.destroyed=!1,this.scaleFactor=[],this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.init()}return i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.plot.options.stackField,r=this.getGeometry().dataArray,n=[];(0,u.each)(r,function(o,s){var l=e.drawLabel(o,s);l&&(n.push((0,u.deepMix)({},o[0],l)),e.scaleFactor.push(l.scaleFactor))});var a=[];(0,u.each)(n,function(o,s){var l=e.options,f=l.style,h=l.offsetX,c=l.offsetY,d=e.getFontSize(s),b=e.options.formatter,L=b?b(o._origin[t]):o._origin[t],D=e.container.addShape("text",{attrs:(0,u.deepMix)({},{x:o.x+h,y:o.y+c,text:L,fill:o.color,fontSize:d,textAlign:"center",textBaseline:"top"},f),name:"label"});a.push(D)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=(0,u.clone)(e.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(e,t){var r=Q_(e),n=r.xRange,a=r.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,e),l=this.getLabelBbox(t),f={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection($_,a,this.testFit,f,Z_,K_);if(h!==null){f.justTest=!1;var c=this.testFit(f);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(e,t,r){for(var n=[],a=2,o=e;o<t;o+=a){var s=Hp(o,r,0),l=Hp(o,r,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(e,t,r,n,a,o){for(var s=0;s<o;s++){var l=(e+t)/2,f=n;f.height=l,f.width=l*f.aspect;var h=r(f),c=(t-e)/2<a;if(h&&c)return l;h?e=l:t=l}return null},i.prototype.testFit=function(e){for(var t=e.xRange,r=e.width,n=e.height,a=e.data,o=e.justTest,s=0;s<a.length;s++){var l=a[s],f=l.x,h=f+r;if(h>t[1])break;for(var c=J_(a,h),d=-Infinity,b=null,L=Infinity,D=s;D<c;D++){var V=a[D].y[1],$=a[D].y[0];if($<L&&(L=$),V>d&&(d=V,b=$),L-d<n)break}if(L-d>=n)return o?!0:{x:f,y0:d,y1:b,width:r,height:n}}return!1},i.prototype.getLabelBbox=function(e){var t=(0,u.clone)(this.plot.theme.label.textStyle);t.fontSize=Df;var r=this.container.addShape("text",{attrs:(0,qt.__assign)({text:e,x:0,y:0},t)}),n=r.getBBox();return r.remove(),n},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="area"})},i.prototype.getFontSize=function(e){if(this.options.autoScale){var t=this.scaleFactor[e];return Df*t}return Df},i}(),tO=q_,eO={lineLabel:{Ctr:U_},areaLabel:{Ctr:tO}};function rO(i,e,t){if(i.options[e]&&i.options[e].visible){var r=eO[e],n=new r.Ctr(t);return r.padding&&i.paddingController.registerPadding(n,r.padding),n}}var nO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(P_),$9=null;Ji("stackedArea-point",nO);var iO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.sortLabels=function(t,r){var n=[];return r.length>0&&n.push(r.shift()),r.length>0&&n.push(r.pop()),n.push.apply(n,r),n},e}(__),Q9=null;Ji("stackedArea-point-auto",iO),qi("stackedArea",zp);var Wp=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},e.prototype.beforeInit=function(){var t=(0,u.get)(this.options,["label","visible"]),r=(0,u.get)(this.options,["label","type"]),n=this.options;t&&(r==="line"&&(n.lineLabel=this.options.label),r==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.label=function(){var t=this.options,r=t.label;if(r&&r.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},e.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},e.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},e.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},e.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},e.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},e.prototype.renderPlotComponents=function(){var t=this,r=["areaLabel","lineLabel"];(0,u.each)(r,function(n){var a=(0,qt.__assign)({view:t.view,plot:t},t.options[n]),o=rO(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},e}(Bf),Ff=Wp;Mn("stackedArea",Wp);var aO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedArea",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Ff.getDefaultOptions,e}(pn),jp=aO,Up=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var r=/%/gi;return t.replace(r,"")}}}})},e.prototype.processData=function(t){var r=this.options,n=r.xField,a=r.yField;return kf(t,n,[a])},e.prototype.scale=function(){var t={},r=this.options.yField;t[this.options.yField]={tickCount:6,alias:r+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},e}(Ff),Zp=Up;Mn("percentStackedArea",Up);var oO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedArea",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Zp.getDefaultOptions,e}(pn),Kp=oO;function sO(i){var e=i.getResponsiveTheme(),t=i.canvas;new uo({plot:i,responsiveTheme:e,dim:"x"}),new uo({plot:i,responsiveTheme:e,dim:"y"}),t.draw()}var lO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getType=function(){return(0,u.get)(this.plot.options,["label","position"],"inner")},e}(Jd);function uO(i){var e=i.getResponsiveTheme();new lO({plot:i,responsiveTheme:e})}var fO=[],hO=[{name:"responsiveAxis",method:sO},{name:"responsiveLabel",method:uO}],cO={preRender:fO,afterRender:hO},vO={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};Ed("column",vO);var $p=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getLabelItemAttrs=function(t,r){var n,a,o=this.options,s=o.style,l=o.formatter,f=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,u.deepMix)({},s,(0,qt.__assign)((0,qt.__assign)({},this.getPosition(t)),{text:l?l(h,(n={},n[as]=(a=f[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=f[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=r,n),r):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},e.prototype.getDefaultOptions=function(){var t=this.layer.theme,r=t.label,n=r===void 0?{}:r;return(0,qt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},e.prototype.adjustLabel=function(t,r){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(r);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},e.prototype.getValue=function(t){return(0,u.get)(t.getData(),this.layer.options.yField)},e.prototype.getPosition=function(t){var r=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,f=a.height,h=a.width,c=this.options,d=c.offsetX,b=c.offsetY,L=c.position,D=o+h/2+d,V=n>0?-1:1,$;if(L==="top"){var K=n>0?s:l;$=K+r*V+b}else if(L==="bottom"){var K=n>0?l:s;$=K+r*V+b}else $=s+f/2+b;return{x:D,y:$}},e.prototype.getTextFill=function(t){var r=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=r.attr("fill"),a=r.attr("opacity")?r.attr("opacity"):1,o=Za(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],f=yl(l,s);return f}var h=this.options.style.fill;return h},e.prototype.getTextStroke=function(t){var r=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&r!=="black"?null:void 0},e.prototype.getElementShapeBBox=function(t){var r=this,n=t.shape,a=[];(0,u.each)(n.get("origin").points,function(b){a.push(r.coord.convertPoint(b))});var o=a.map(function(b){return b.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),f=a.map(function(b){return b.y}),h=Math.min.apply(Math,f),c=Math.max.apply(Math,f),d=new mn(s,h,l-s,c-h);return d},e.prototype.getTextAlign=function(){return"center"},e.prototype.getTextBaseLine=function(){return"middle"},e.prototype.getLabelOffset=function(){return{x:0,y:0}},e}(uf),Rf=$p;Ji("column",$p);var Qp=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getPosition=function(t){var r=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,f=a.width,h=this.options,c=h.offsetX,d=h.offsetY,b=o+f/2+c,L=n>0?-1:1,D=n>0?s:l,V=D+r*L+d;return{x:b,y:V}},e.prototype.getTextFill=function(t){var r=this.options.style;return r.fill},e.prototype.getTextStroke=function(t){},e.prototype.adjustLabel=function(t,r){},e.prototype.layoutLabels=function(t,r){this.shouldInShapeLabels(r)&&this.inShapeLabels(t,r),this.autoHideLabels(t,r)},e.prototype.shouldInShapeLabels=function(t){var r=this;return(0,u.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=r.getElementShapeBBox(o);return s.width>=a.width})},e.prototype.inShapeLabels=function(t,r){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,f=s.lightStyle,h=(0,u.groupBy)(r,function(c){return c.get(ua)[Gn.FIELD_ORIGIN][o]});(0,u.each)(r,function(c){var d=h[c.get(ua)[Gn.FIELD_ORIGIN][o]]||[],b=c.get("element"),L=b.shape,D=Lf(L.attr("fill")),V=n.getElementShapeBBox(b),$=mn.fromBBoxObject(c.getBBox());if(bf(a,V)<=0&&c.set("visible",!1),$.height>V.height){var K=(0,u.findIndex)(d,function(wt){return wt===c});K!==0&&c.set("visible",!1)}else{c.attr({y:V.y+V.height/2,textBaseline:"middle"});var yt=$.width>V.width||$.height>V.height;yt?c.attr({stroke:f==null?void 0:f.stroke}):c.attr({fill:D?f==null?void 0:f.fill:l==null?void 0:l.fill,fillOpacity:D?f==null?void 0:f.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},e.prototype.autoHideLabels=function(t,r){var n=this.getCoordinateBBox(),a=this.filterLabels(r),o=t.getXYFields()[0],s=[],l=[],f=(0,u.groupBy)(a,function(b){return b.get(ua)[Gn.FIELD_ORIGIN][o]}),h=(0,u.uniq)((0,u.map)(a,function(b){return b.get(ua)[Gn.FIELD_ORIGIN][o]})),c;for((0,u.size)(h)>0&&(c=h.shift(),(0,u.each)(f[c],function(b){return l.push(b)})),(0,u.size)(h)>0&&(c=h.pop(),(0,u.each)(f[c],function(b){return l.push(b)})),(0,u.each)(h.reverse(),function(b){(0,u.each)(f[b],function(L){return l.push(L)})});l.length>0;){var d=l.shift();d.get("visible")&&(cl(d,n),vl(d,s)?d.set("visible",!1):s.push(d))}},e.prototype.filterLabels=function(t){var r=500,n=[],a=Math.max(Math.floor(t.length/r),1);return(0,u.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},e}(Rf),dO=Qp;Ji("column-auto",Qp);var pO={column:"interval"},gO=ki(pO);(0,u.assign)(Ln,gO);var yO=function(i){var e=i.opacity||1;return{opacity:e*.5}},mO=function(i){var e=i.opacity||1;return{opacity:e*.5,fillOpacity:e*.5}},Nf={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:yO,disable:mO,selected:{lineWidth:1,stroke:"black"}}};qi("column",Nf);var xO={column:"interval"},bO={interval:"column"},Jp=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},e.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},e.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new xp((0,qt.__assign)({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,r){return t==="g2"?xO[r]:bO[r]},e.prototype.processData=function(t){var r=this.options.xField,n=[];return(0,u.each)(t,function(a){var o=(0,u.clone)(a);o[r]=o[r].toString(),n.push(o)}),n},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&Oi(r[t.xField],t.xAxis),r[t.yField]={},(0,u.has)(t,"yAxis")&&Oi(r[t.yField],t.yAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.adjustColumn=function(t){},e.prototype.addGeometry=function(){var t=this.options,r=pi("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,u.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(r),this.column=r,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",r)},e.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},e.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,w)},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.yField,o=t[a];if(n==null?void 0:n.visible){var s=so(this.view,"interval");this.doRenderLabel(s,(0,qt.__assign)({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},e.prototype.applyResponsive=function(t){var r=this,n=cO[t];(0,u.each)(n,function(a){var o=a;o.method(r)})},e}(li),Go=Jp;Mn("column",Jp);var wO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="column",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Go.getDefaultOptions,e}(pn),qp=wO;qi("groupedColumn",Nf);var tg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},e.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},e.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},e.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},e.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},e.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},e}(Go),Yf=tg;Mn("groupedColumn",tg);var SO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedColumn",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Yf.getDefaultOptions,e}(pn),eg=SO;function rg(i,e){var t=[],r=i.get("origin").points;return(0,u.each)(r,function(n){t.push(e.convertPoint(n))}),t}function MO(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var CO=function(){function i(e){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,u.assign)(this,e),this._init()}return i.prototype.draw=function(){var e=this,t=this._getGroupedShapes();(0,u.each)(t,function(r,n){r.length>0&&e._drawConnection(r,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(e,t){e==="active"&&this._onActive(t),e==="disabled"&&this._onDisabled(t),e==="selected"&&this._onSelected(t)},i.prototype._init=function(){var e=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){e.clear()})},i.prototype._getGroupedShapes=function(){var e=this,t=this.view.getScaleByField(this.field).values,r=this.view.geometries[0],n=r.getShapes(),a={};return(0,u.each)(t,function(o){a[o]=[]}),(0,u.each)(n,function(o){var s=o.get("origin").data,l=s[e.field];a[l].push(o)}),a},i.prototype._drawConnection=function(e,t){var r=e[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(r,"area"),this._lineStyle[t]=this._getShapeStyle(r,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<e.length-1;a++){var o=rg(e[a],n),s=rg(e[a+1],n),l=(0,u.mix)({},this._areaStyle[t]),f=(0,u.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,f.opacity=0);var h=this.container.addShape("path",{attrs:(0,u.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,u.mix)({},f,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),d=e[a].get("origin").data;h.set("data",d),c.set("data",d),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(e,t){var r=t+"Style";if(this[r])return this[r];var n=MO()[r],a={fill:e};return t==="line"&&(a={stroke:e}),(0,u.mix)(n,a)},i.prototype._addInteraction=function(){var e=this,t=this.triggerOn;this.view.on("interval:"+t,function(r){var n=r.target.get("origin").data[e.field];e.setState("active",{name:e.field,exp:n}),e.setState("disabled",{name:e.field,exp:function(a){return a!==n}}),e.view.canvas.draw()}),this.view.on("mousemove",function(r){r.gEvent.target.get("name")!=="interval"&&e.setState("disabled",{name:e.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var e=this.view.coordinateBBox,t=e.x,r=e.y,n=e.width,a=e.height;this.container.setClip({type:"rect",attrs:{x:t,y:r,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(e){var t=this;(0,u.each)(this.areas,function(r){var n=r.get("data"),a=n[t.field];if(Ua(n,e)){var o=t._areaStyle[a].opacity||1;r.stopAnimate(),r.animate({opacity:o},400,"easeQuadOut")}}),(0,u.each)(this.lines,function(r){var n=r.get("data"),a=n[t.field];if(Ua(n,e)){var o=t._lineStyle[a].opacity||1;r.stopAnimate(),r.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(e){(0,u.each)(this.areas,function(t){var r=t.get("data");Ua(r,e)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,u.each)(this.lines,function(t){var r=t.get("data");Ua(r,e)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(e){this._onActive(e)},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="interval"})},i}(),EO=CO;qi("stackedColumn",Nf);var AO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustLabel=function(t,r){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(r);(o.height<a.height||o.width<a.width)&&t.hide()}},e}(Rf),J9=null;Ji("stacked-column",AO);var TO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.shouldInShapeLabels=function(t){return!0},e}(dO),q9=null;Ji("stacked-column-auto",TO);var ng=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},e.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},e.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new EO((0,qt.__assign)({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.yField,o=t[a];if(n&&n.visible){var s=so(this.view,"interval");this.doRenderLabel(s,(0,qt.__assign)({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},e}(Go),xl=ng;Mn("stackedColumn",ng);var PO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedColumn",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=xl.getDefaultOptions,e}(pn),ig=PO,Gf=8;function _O(i,e){var t;return(0,u.each)(i,function(r){var n=r;e>=n.from&&e<n.to&&(t=n.color)}),t}var OO=function(){function i(e){this.destroyed=!1,this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.getGeometry(),r=t.coordinate,n=t.elements;this.coord=r,(0,u.each)(n,function(a){var o=a.shape,s=e.getPosition(o),l=e.getValue(o),f=e.getTextBaseline(),h=[];(0,u.each)(s,function(c,d){var b=d===1?e.options.topStyle:e.options.bottomStyle,L=e.getTextColor(o,d);e.options.position==="inner"&&e.options.adjustColor&&L!=="black"&&(b.stroke=null);var D=e.options.formatter,V=D?D(l[d]):l[d],$=e.container.addShape("text",{attrs:(0,u.deepMix)({},b,{x:c.x,y:c.y,text:V,fill:L,textAlign:"center",textBaseline:f[d]}),name:"label"});h.push($),e.doAnimation($)}),o.set("labelShapes",h),e.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(e){var t=this,r=[];(0,u.each)(e.get("origin").points,function(a){r.push(t.coord.convertPoint(a))});var n=new mn(r[0].x,r[1].y,Math.abs(r[2].x-r[0].x),Math.abs(r[0].y-r[1].y));return n},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=e.label.style;return{position:"outer",offsetX:0,offsetY:Gf,style:(0,u.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(e){var t=this.getShapeBbox(e),r=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=r+o/2,f,h;return this.options.position==="outer"?(f=n-s,h=a+s):(f=n+s,h=a-s),[{x:l,y:h},{x:l,y:f}]},i.prototype.getValue=function(e){var t=this.plot.options.yField;return e.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(e,t){if(this.options.adjustColor&&this.options.position==="inner"){var r=e.attr("fill"),n=e.attr("opacity")?e.attr("opacity"):1,a=Za(r),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=_O(s,o);return l}var f=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return f},i.prototype.doAnimation=function(e){this.plot.animation&&this.plot.animation===!1||(e.attr("fillOpacity",0),e.attr("strokeOpacity",0),e.stopAnimate(),e.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(e,t,r){var n=r.get("origin"),a=n.y[1],o=n.y[0],s=r.getBBox(),l=s.height,f=l,h=this.view.coordinateBBox,c=[e.getBBox(),t.getBBox()],d=e.attr("y"),b=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var L=c[0].height+c[1].height,D=c[1].maxY-c[0].minY>2,V=L>f;(D||V)&&(b=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),d=o+this.options.offsetY,e.attr("fill",this.options.bottomStyle.fill),e.attr("textBaseline","top"),c[0]=e.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-Gf&&(d=h.maxY-Gf/2,e.attr("textBaseline","bottom")),e.attr("y",d),t.attr("y",b),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="interval"})},i}(),LO=OO,ag;function og(i,e){var t=i.getBBox(),r=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:r,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},e.duration,e.easing,function(){i.setClip(null)},e.delay)}og.animationName="clipInFromCenterVertical";function IO(i){ag=i}function sg(i,e){var t=kO(i).attr("path"),r=(0,u.clone)(i.attr("path"));i.attr("path",t),i.animate({path:r},e.duration,e.easing,e.callback,100)}function kO(i){var e=i.id,t;return(0,u.each)(ag,function(r){r.id===e&&(t=r)}),t}sg.animationName="updateFromCenterVertical",wi("clipInFromCenterVertical",og),wi("updateFromCenterVertical",sg);var lg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return e.getDefaultOptions=function(){return(0,u.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},e.prototype.afterRender=function(){this.renderLabel();var t=[],r=this.view.geometries;(0,u.each)(r,function(n){var a=n.elements;(0,u.each)(a,function(o){t.push(o.shape)})}),IO(t),i.prototype.afterRender.call(this)},e.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},e.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new LO((0,qt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},e}(Go),BO=lg;Mn("rangeColumn",lg);var DO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="rangeColumn",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=BO.getDefaultOptions,e}(pn),ug=DO,fg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},e.prototype.processData=function(t){var r=this.options,n=r.xField,a=r.yField;return kf(t||[],n,[a])},e.prototype.scale=function(){var t={},r=this.options.yField;t[r]={tickCount:6,alias:r+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},e}(xl),hg=fg;Mn("percentStackedColumn",fg);var FO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedColumn",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=hg.getDefaultOptions,e}(pn),cg=FO,RO={pie:"interval"},NO=ki(RO);(0,u.assign)(Ln,NO);function bl(i,e,t){return{x:i.x+t*Math.cos(e),y:i.y+t*Math.sin(e)}}function tY(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function YO(i,e,t){t===void 0&&(t=0);var r=Math.max(0,Math.min(i.x+i.width+t,e.x+e.width+t)-Math.max(i.x-t,e.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,e.y+e.height+t)-Math.max(i.y-t,e.y-t));return r*n}function GO(i,e,t){t===void 0&&(t=0);var r=Math.max(0,Math.min(i.x+i.width+t,e.x+e.width+t)-Math.max(i.x-t,e.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,e.y+e.height+t)-Math.max(i.y-t,e.y-t));return r&&i.x<e.x&&(r=-r),n&&i.y<e.y&&(n=-n),i.x===e.x&&i.width===e.width&&(r=e.width),i.y===e.y&&i.height===e.height&&(n=e.height),{xOverlap:r,yOverlap:n}}function eY(i,e){return i.x<e.x&&i.x+i.width>e.x+e.width&&i.y<e.y&&i.y+i.height>e.y+e.height}var zO=function(i,e,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,e].includes(Infinity)?Math.abs(i)===Math.abs(e):Math.abs(i-e)<t};function XO(i,e){var t=i.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function VO(i){var e=Math.PI/2,t=i;return(t>e||t<-e)&&(t=t+Math.PI),t}var rY=4;function HO(i){var e=Number(i.endsWith("%")?i.slice(0,-1):i);return e/100}function WO(i,e){var t=i.getBBox();e.y<=t.y&&e.y+e.height>=t.y+t.height||i.get("parent").set("visible",!1)}var jO=function(){function i(e,t){this.destroyed=!1,this.plot=e,this.coordinateBBox=this.plot.view.coordinateBBox;var r=(0,u.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(r),this.options=r,this.init()}return i.prototype.adjustOverlap=function(e,t){for(var r=1;r<e.length;r++)for(var n=e[r],a=0,o=r-1;o>=0;o--){var s=e[o],l=s.getBBox(),f=n.getBBox();if(s.get("parent").get("visible")&&(a=YO(l,f),!zO(a,0))){n.get("parent").set("visible",!1);break}}e.forEach(function(h){return WO(h,t)})},i.prototype.adjustItem=function(e){},i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var e=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(r,n){return r+n[e]},0)},i.prototype.drawTexts=function(){var e=this,t=this.options,r=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,f=t.allowOverlap,h=this.getItems(),c=[];h.map(function(d,b){var L=(0,u.deepMix)({},d,r),D=e.getFilteredSum(),V=e.plot.options.angleField,$=d.origin[V]/D,K=n?n(d.name,{_origin:d.origin,percent:$},b):d.name,yt=e.container.addGroup({name:"itemGroup",index:b,capture:!1}),wt=yt.addShape("text",{attrs:(0,u.deepMix)({},L,{x:d.x+o,y:d.y+s,text:K})});wt.set("id","text-"+d.name+"-"+b),c.push(wt)}),c.forEach(function(d){var b=e.coordinateBBox;e.adjustText(d,b)}),l&&this.layout(c,h,this.coordinateBBox),f||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(d,b){a&&e.rotateLabel(d,VO(h[b].angle))})},i.prototype.adjustText=function(e,t){var r=e.getBBox(),n=r.width,a=0;if(r.maxX>t.maxX?n=t.maxX-r.minX:r.minX<t.minX&&(n=r.maxX-t.minX),e.attr("textAlign")==="left"?e.attr("x",Math.max(r.x-a,0)):e.attr("textAlign")==="right"&&e.attr("x",Math.max(r.maxX-a,0)),n!==r.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=e.attr(l)});var s=e.attr("text").split(`
`).map(function(l){return cd(l,n,o)});e.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var e=this;if(this.options.line.visible){var t=this.container.get("children"),r=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=e.arcPoints[a],l=s.x<r.x,f=e.options.offset>4?4:0,h=e.getLinePath(o,s,f),c=e.options.line;n.addShape("path",{attrs:(0,qt.__assign)({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-f:f))})}},i.prototype.getLinePath=function(e,t,r){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,f=bl(s,a,l+r);r<4&&(f=t);var h=t.x<s.x,c=e.getBBox(),d={x:h?c.maxX:c.minX,y:c.y+c.height/2},b=["C",d.x+(h?1:-1)*(r<4?r/2:4),d.y,2*f.x-t.x,2*f.y-t.y,f.x,f.y],L=["L",f.x,f.y],D=n?b:L,V=["M",d.x,d.y].concat(D).concat("L",t.x,t.y);return V.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var e=this.getGeometry().coordinate,t=e.getCenter(),r=e.getRadius(),n=e.startAngle;return{center:t,radius:r,startAngle:n}},i.prototype.adjustOption=function(e){var t=e.offset,r=this.getCoordinate().radius;(0,u.isString)(t)&&(t=r*HO(t)),e.offset=t},i.prototype.rotateLabel=function(e,t){var r=e.attr("x"),n=e.attr("y"),a=Fn.transform(e.getMatrix(),[["t",-r,-n],["r",t],["t",r,n]]);e.setMatrix(a)},i.prototype.getItems=function(){var e=this,t=this.options.offset,r=this.getCoordinate(),n=r.center,a=r.radius,o=this.arcPoints.map(function(s){var l=bl(n,s.angle,a+t),f=(0,qt.__assign)((0,qt.__assign)({},s),l);return e.adjustItem(f),f});return o},i.prototype.initArcPoints=function(){var e=this,t=this.plot.options.angleField,r=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,f=l[1],h=f.field,c=r.map(function(d){var b=d.shape.get("origin"),L=b.color,D=b.data[0]||b.data,V=s+Math.PI*2*f.scale(D[h]),$=(s+V)/2,K=bl(a,$,o);s=V;var yt=f.getText(D[t]),wt=K.x>a.x?"left":"right";return{x:K.x,y:K.y,color:L,name:yt,origin:D,angle:XO(e.getGeometry().coordinate,K),textAlign:wt}});this.arcPoints=c},i}(),zf=jO;function nY(i){var e=Number(i.endsWith("%")?i.slice(0,-1):i);return e/100}var UO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},e.prototype.adjustItem=function(t){t.textAlign="middle"},e.prototype.drawLines=function(){},e.prototype.layout=function(t,r){var n=this;t.forEach(function(a,o){o>0&&(0,u.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,r[o])})})},e.prototype.getDefaultOptions=function(){var t=this.plot.theme,r=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:(0,qt.__assign)((0,qt.__assign)({},r),{textAlign:"center",textBaseline:"middle"})}},e.prototype.resolveCollision=function(t,r,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=r.getBBox(),f={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,u.clone)(f),c=(0,u.clone)(f);if(r.get("id")!==t.get("id")){var d=GO(s,l),b=d.xOverlap,L=d.yOverlap;if(b&&(h.x=f.x+b,h.y=f.y+Math.tan(o)*b),L){var D=L;f.y<a.y?D=D<0?D:l.minY-s.maxY:D=D>0?D:l.maxY-s.minY,c.y=f.y+D,c.x=f.x+D/Math.tan(o)}var V=Hv(f,h),$=Hv(f,c),K=V<$?h:c;t.attr("x",K.x),t.attr("y",K.y)}},e}(zf),ZO=UO,iY=16,KO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},e.prototype.getDefaultOptions=function(){var t=this.plot.theme,r=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,qt.__assign)((0,qt.__assign)({},r),{textBaseline:"middle"})}},e.prototype.layout=function(t,r,n){var a=this,o=this.getCoordinate().center,s=(0,u.filter)(t,function(f){return f.attr("x")<=o.x}),l=(0,u.filter)(t,function(f){return f.attr("x")>o.x});[l,s].forEach(function(f,h){a._antiCollision(f,!h,n)})},e.prototype._antiCollision=function(t,r,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,f=s.radius,h=this.options.offset,c=f+h,d=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),b=Math.floor(d/o);this.options.allowOverlap||t.slice(b).forEach(function(re){re.get("parent").set("visible",!1)}),t.splice(b,t.length-b),t.sort(function(re,ye){return re.getBBox().y-ye.getBBox().y});for(var L=!0,D,V=l.y+d/2,$=l.y-d/2,K=t.map(function(re){var ye=re.getBBox();return ye.maxY>V&&(V=Math.min(n.maxY,ye.maxY)),ye.minY<$&&($=Math.max(n.minY,ye.minY)),{text:re.attr("text"),size:o,pos:ye.y,targets:[]}}),yt=0;yt<K.length;)yt===K.length-1?K[yt].targets[0]=V:K[yt].targets[0]=K[yt+1].pos-K[yt+1].size/2,yt++;for(;L;)for(K.forEach(function(re){var ye=(0,u.last)(re.targets);re.pos=Math.max($,Math.min(re.pos,ye-re.size))}),L=!1,D=K.length;D--;)if(D>0){var wt=K[D-1],Rt=K[D];if(wt.pos+wt.size>Rt.pos){wt.size+=Rt.size,wt.targets=wt.targets.concat(Rt.targets);var Zt=(0,u.last)(wt.targets);wt.pos+wt.size>Zt&&(wt.pos=Zt-wt.size),K.splice(D,1),L=!0}else wt.targets.splice(-1,1,Rt.pos)}D=0,K.forEach(function(re){var ye=o/2;re.targets.forEach(function(){t[D].attr("y",re.pos+ye),ye+=o,D++})});var te=[],oe=[];t.forEach(function(re,ye){var Pe=a.arcPoints[ye];Pe.angle>=0&&Pe.angle<=Math.PI?oe.push(re):te.push(re)}),[te,oe].forEach(function(re,ye){if(!!re.length){var Pe=ye?(0,u.last)(re).getBBox().maxY-l.y:l.y-(0,u.head)(re).getBBox().minY;Pe=Math.max(c,Pe);var ze=h>4?4:0,je=Math.max.apply(0,(0,u.map)(t,function(Or){return Or.getBBox().width}))+h+ze,Qe=Math.max(c,Math.min((Pe+c)/2,l.x-(n.minX+je))),Ze=Qe*Qe,xr=Pe*Pe;re.forEach(function(Or,Tr){var Mr=a.arcPoints[Tr],br=Or.getBBox(),qr={x:br.minX+br.width/2,y:br.minY+br.height/2},Gr=Math.pow(qr.y-l.y,2),Kr=bl(l,Mr.angle,f),Ar=(r?1:-1)*ze*2;if(Gr>xr)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",Or.attr("text")),Or.attr("x",Kr.x+Ar);else{var Hr=l.x+(r?1:-1)*Math.sqrt((1-Gr/xr)*Ze);(l.x===Kr.x&&qr.y===Kr.y||l.y===Kr.y&&Hr===Kr.x)&&(Hr=Kr.x),Or.attr("x",Hr+Ar)}})}})},e.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,u.head)(t)?(0,u.head)(t).getBBox().height:14},e}(zf),$O=KO,aY=16,QO=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},e.prototype.getDefaultOptions=function(){var t=this.plot.theme,r=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,qt.__assign)((0,qt.__assign)({},r),{textBaseline:"middle"})}},e.prototype.adjustItem=function(t){var r=this.options.offset;t.textAlign==="left"?t.x+=r>4?4:r/2:t.textAlign==="right"&&(t.x-=r>4?4:r/2)},e.prototype.layout=function(t,r,n){},e}(zf),JO=QO,vg={inner:ZO,outer:$O,"outer-center":JO};function qO(i){if(!vg[i]){console.warn("this label "+i+" is not registered");return}return vg[i]}var tL=0,Xf=15,eL="#CCC",rL=2,nL=-2,dg=15;function pg(i,e,t){return{x:i.x+t*Math.cos(e),y:i.y+t*Math.sin(e)}}var iL=function(){function i(e){this.destroyed=!1,this.view=e.view,this.options=(0,u.deepMix)({},this.getDefaultOptions(),e),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var e=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){e.clear()})},i.prototype.render=function(){var e=this;if(!(!this.view||this.view.destroyed)){var t=(0,u.clone)(this.view.getData());this.halves=[[],[]];var r=[],n=this.view.geometries[0].elements;(0,u.each)(n,function(Rt){r.push(Rt.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],f=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,d=this.coord.polarRadius,b=this.view.coordinateBBox,L=b.width,D=b.height;this.width=L,this.height=D;for(var V=c,$=function(Rt){var Zt=t[Rt],te=f.scale(Zt[l]),oe=V+Math.PI*2*te,re=V+(oe-V)/2;V=oe;var ye=pg(h,re,d+tL),Pe=pg(h,re,d+Xf),ze=eL;if(K.options.fields.length===2){var je=K.options.fields[1],Qe=K.view.geometries[0].scales[je],Ze=Qe.scale(Zt[je]);if(Ze){var xr=Math.floor(Ze*(r.length-1));ze=r[xr].attr("fill")}}var Or={_anchor:ye,_inflection:Pe,_data:Zt,x:Pe.x,y:Pe.y,r:d+Xf,fill:ze,textGroup:null,_side:null},Tr=[];if((0,u.each)(K.options.fields,function(an){o&&an===wl?Tr.push(Zt[s]):Tr.push(Zt[an])}),K.options.formatter){var Mr=K.options.formatter(Zt[s],{_origin:Zt,color:ze},Rt);(0,u.isString)(Mr)&&(Mr=[Mr]),Tr=Mr}var br=K.container.addGroup({capture:!1,visible:!1}),qr={x:0,y:0,fontSize:K.options.text.fontSize,lineHeight:K.options.text.fontSize,fontWeight:K.options.text.fontWeight,fill:K.options.text.fill},Gr=Zt[s];K.options.formatter&&(Gr=Tr[0]);var Kr=(0,u.clone)(qr);Tr.length===2&&(Kr.fontWeight=700);var Ar=br.addShape("text",{attrs:(0,u.mix)({textBaseline:Tr.length===2?"top":"middle",text:Gr},Kr),data:Zt,offsetY:Tr.length===2?rL:0,name:"label"});if(Ar.name="label",Tr.length===2){var Hr=br.addShape("text",{attrs:(0,u.mix)({textBaseline:"bottom",text:Tr[1]},qr),data:Zt,offsetY:nL,name:"label"});Hr.name="label"}Or.textGroup=br,ye.x<h.x?(Or._side="left",K.halves[0].push(Or)):(Or._side="right",K.halves[1].push(Or))},K=this,yt=0;yt<t.length;yt++)$(yt);var wt=Math.floor(D/this.options.lineHeight);(0,u.each)(this.halves,function(Rt){Rt.length>wt&&Rt.splice(wt,Rt.length-wt),Rt.sort(function(Zt,te){return Zt.y-te.y}),e._antiCollision(Rt)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(e){var t=this,r=this.coord,n=r.getHeight(),a=r.center,o=r.getRadius(),s=a.y-o-Xf-this.options.lineHeight,l=!0,f=n,h,c=0,d=Number.MIN_VALUE,b=0,L=e.map(function(yt){var wt=yt.y;wt>c&&(c=wt),wt<d&&(d=wt);var Rt=yt.textGroup,Zt=Rt.getBBox().width;return Zt>=b&&(b=Zt),{size:t.options.lineHeight,targets:[wt-s]}});c-s>f&&(f=c-s);for(var D=function(yt){yt.forEach(function(wt){var Rt=(Math.min.apply(d,wt.targets)+Math.max.apply(d,wt.targets))/2;wt.pos=Math.min(Math.max(d,Rt-wt.size/2),f-wt.size)})};l;)for(D(L),l=!1,h=L.length;h--;)if(h>0){var V=L[h-1],$=L[h];V.pos+V.size>$.pos&&(V.size+=$.size,V.targets=V.targets.concat($.targets),V.pos+V.size>f&&(V.pos=f-V.size),L.splice(h,1),l=!0)}h=0,L.forEach(function(yt){var wt=s;yt.targets.forEach(function(){e[h].y=yt.pos+wt+t.options.lineHeight/2,wt+=t.options.lineHeight,h++})});var K=[];e.forEach(function(yt){var wt=t._drawLabel(yt);t._drawLabelLine(yt,b,wt),K.push(wt)})},i.prototype._drawLabel=function(e){var t=this.coord,r=t.getCenter(),n=t.getRadius(),a=e.y,o=e.textGroup,s=o.get("children"),l=e._side==="left"?1:-1,f=(0,qt.__assign)({textAlign:e._side==="left"?"right":"left",x:e._side==="left"?r.x-n-this.options.sidePadding:r.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(f.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),d=a+c;h.attr(f),h.attr("y",d)}),o.show(),o},i.prototype._drawLabelLine=function(e,t,r){var n=[e._anchor.x,e._anchor.y],a=[e._inflection.x,e._inflection.y],o=e.y,s=e.textGroup;if(!!s){var l=[e._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],f=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+dg,d=l[0]-dg,b=[e._side==="left"?c:d,a[1]];f=[n,h,b,l],(e._side==="right"&&b[0]<h[0]||e._side==="left"&&b[0]>h[0])&&(f=[n,h,l])}else f=[n,[a[0],o],l];for(var L=[],D=0;D<f.length;D++){var V=f[D],$="L";D===0&&($="M"),L.push([$,V[0],V[1]])}r.addShape("path",{attrs:{path:L,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(e){e.text.fontSize&&(e.lineHeight=e.text.fontSize*3)},i}(),aL=iL,oL=function(i){var e=i.opacity||1;return{fillOpacity:e*.8}},sL=function(i){var e=i.opacity||1;return{fillOpacity:e*.5}};qi("pie",{columnStyle:{normal:{},active:oL,disable:sL,selected:{lineWidth:1,stroke:"black"}}});var wl="$$percentage$$",lL={pie:"interval"},uL={pie:"column"},gg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},e.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,r=t.angleField,n=t.colorField,a=t.data,o=(0,u.every)(a,function(l){return l[r]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+r)}},e.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var r=t.label;if(r.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,u.every)(n,function(h){return h[o]===0}),l=s?wl:o;this.labelComponent=new aL((0,qt.__assign)({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var f=qO(r.type);this.labelComponent=new f(this,t.label),this.labelComponent.render()}}},e.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,r){return t==="g2"?lL[r]:uL[r]},e.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var r={};r[t.angleField]={},r[t.colorField]={type:"cat"},r=(0,u.deepMix)({},this.config.scales,r),this.setConfig("scales",r)},e.prototype.processData=function(t){var r=this.options.angleField,n=(0,u.every)(t,function(a){return a[r]===0});return n?t.map(function(a){var o;return(0,qt.__assign)((0,qt.__assign)({},a),(o={},o[r]=typeof a[r]=="string"?Number.parseFloat(a[r]):a[r],o[wl]=1/t.length,o))}):t.map(function(a){var o,s=a[r];return(0,qt.__assign)((0,qt.__assign)({},a),(o={},o[r]=s&&!isNaN(s)?+s:s,o))})},e.prototype.axis=function(){},e.prototype.coord=function(){var t=this.options,r={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",r)},e.prototype.addGeometry=function(){var t=this.options,r=t.data,n=t.angleField,a,o=(0,u.every)(r,function(s){return s[n]===0});o?a=pi("interval","main",{plot:this,positionFields:[1,wl]}):a=pi("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},e.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},e.prototype.annotation=function(){},e.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,y)},e.prototype.label=function(){this.pie.label=!1},e}(li),yg=gg;Mn("pie",gg);var fL=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="pie",i.prototype.createLayers.call(this,r)},e.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},e.getDefaultOptions=yg.getDefaultOptions,e}(pn),mg=fL,hL=.3989422804014327,cL=1/255/16,fs="_origin",vL=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.type="heatmap",r.paletteCache={},r.intensity=t.intensity,r.radius=t.radius,r}return e.prototype.createElements=function(t){var r=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,r),null},e.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},e.prototype.prepareRange=function(t){var r=this.getAttribute("color"),n=r.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[fs][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},e.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,u.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},e.prototype.prepareBlur=function(){var t=(0,u.get)(this.styleOption,["style","shadowBlur"]);(0,u.isNumber)(t)||(t=this.radius/2),this.blur=t},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),r=this.coordinate,n=Math.min(r.getWidth()/(t.scales[0].ticks.length*4),r.getHeight()/(t.scales[1].ticks.length*4));return n},e.prototype.colorize=function(t){for(var r=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=Za(r.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},e.prototype.prepareGreyScaleBlurredCircle=function(t){var r=this.grayScaleCanvas;r||(r=document.createElement("canvas"),this.grayScaleCanvas=r);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(cL/t/n/hL))/3*t,o=a-t,s=a+o,l=r.getContext("2d");r.width=r.height=s*2,l.clearRect(0,0,r.width,r.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},e.prototype.drawGrayScaleBlurredCircle=function(t,r,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,r-n)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var r=t.getContext("2d");return r.globalCompositeOperation="lighter",r},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var r=this.container;t=r.addShape({type:"image",attrs:{}}),this.imageShape=t},e.prototype.drawWithRange=function(t,r){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),f=this.getAttribute("color"),h=f.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();r&&(t=t.filter(function(yt){return yt[fs][h]<=r[1]&&yt[fs][h]>=r[0]}));for(var d=this.scales[h],b=0;b<t.length;b++){var L=t[b],D=this.getDrawCfg(L),V=d.scale(L[fs][h]);this.drawGrayScaleBlurredCircle(D.x-a.x,D.y-o.y,this.radius+this.blur,V,c)}var $=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize($),c.putImageData($,0,0);var K=new Image;K.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},e.prototype.getShapeInfo=function(t){var r=this.getDrawCfg(t[0]);return(0,qt.__assign)((0,qt.__assign)({},r),{mappingData:t,data:this.getData(t)})},e.prototype.getData=function(t){return t.map(function(r){return r[fs]})},e}(Va);Pa("linearHeatmap",vL);var dL=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this)||this;return r.options=t,r.view=r.options.view,r.init(),r}return e.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},e.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},e.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},e.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},e.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},e.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},e.prototype.getCoordinate=function(){var t;return(0,u.each)(this.view.geometries,function(r){r.type==="heatmap"&&(t=r.coordinate)}),t},e}(Ie.default),pL=dL,Sl=4,xg=1,gL=.1,yL=function(){function i(e){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();e.plot.options.theme&&e.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,u.deepMix)({},t,e),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var e=this.options.plot.container;this.container=e.addGroup()},i.prototype.render=function(){var e=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=e[t];var r=this.colorScale,n=r.min,a=r.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var e=this.container.getBBox();return new mn(this.x,this.y,e.width,e.height)},i.prototype.renderVertical=function(e,t,r){var n=this,a=this.width,o=this.height/r.length,s=this.container.addGroup(),l=(0,u.clone)(r).reverse(),f=(t-e)/r.length;(0,u.each)(l,function(h,c){var d=o*c,b={to:t-f*c,from:t-f*(c+1)},L=n.container.addShape("rect",{attrs:{x:0,y:d,width:a,height:o,fill:h,opacity:xg,cursor:"pointer"},name:"legend"});L.set("info",b);var D=n.getDataSlide(b);n.dataSlides[b.from+"-"+b.to]={mode:"active",data:D},s.addShape("path",{attrs:(0,qt.__assign)({path:[["M",0,d+o],["L",a,d+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,qt.__assign)({text:t,x:a/2,y:-Sl,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:(0,qt.__assign)((0,qt.__assign)({text:e,x:a/2,y:this.height+Sl,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:(0,qt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(e,t,r){var n=this,a=this.width/r.length,o=this.height,s=this.container.addGroup(),l=(t-e)/r.length;(0,u.each)(r,function(f,h){var c=a*h,d={from:l*h,to:l*(h+1)},b=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:f,opacity:.8,cursor:"pointer"},name:"legend"});b.set("info",d),s.addShape("path",{attrs:(0,qt.__assign)({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,qt.__assign)((0,qt.__assign)({text:e,x:-Sl,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:(0,qt.__assign)({text:t,x:this.width+Sl,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:(0,qt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var e=this.options.position.split("-");return this.position=e[0],e[0]==="left"||e[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var e=this.options.plot.options.width;return e*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var e=this.options.plot.options.height;return e*.5}return 10},i.prototype.legendLayout=function(){var e=this,t=this.options.plot.getPlotTheme().bleeding;(0,u.isArray)(t)&&(0,u.each)(t,function(f,h){typeof t[h]=="function"&&(t[h]=t[h](e.options.plot.options))});var r=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-r.width:o[1]==="center"?n=(s-r.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-r.width),o[0]==="bottom"?a=l-t[2]-r.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-r.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-r.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var e=this,t=this.options.plot.options.colorField;this.container.on("click",function(r){var n=r.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=e.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:gL},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:xg},200));var l=e.getFilteredData();l.length>0&&(e.view.changeData(l),e.view.scale(t,{min:e.colorScale.min,max:e.colorScale.max,nice:e.colorScale.nice}),e.view.render())}})},i.prototype.getFilteredData=function(){var e=[];return(0,u.each)(this.dataSlides,function(t){t.mode=="active"&&e.push.apply(e,t.data)}),e},i.prototype.getDataSlide=function(e){var t=[],r=this.options.plot.options,n=r.colorField,a=r.data;return(0,u.each)(a,function(o){var s=o[n];s>=e.from&&s<e.to&&t.push(o)}),t},i.prototype.getTopPosition=function(e){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return e[0]},i.prototype.getScales=function(){var e;return(0,u.each)(this.view.geometries,function(t){t.type==="heatmap"&&(e=t.scales)}),e},i}(),mL=yL,xL={background:{Ctr:pL},legend:{Ctr:mL,padding:"outer"}};function bL(i,e,t){if(i.options[e]&&i.options[e].visible){var r=xL[e],n=new r.Ctr(t);return r.padding&&i.paddingController.registerPadding(n,r.padding),n}}var wL={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},SL=ki(wL);(0,u.assign)(Ln,SL);var bg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},e.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},e.prototype.destroy=function(){(0,u.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={},(0,u.has)(t,"xAxis")&&Oi(r[t.xField],t.xAxis),r[t.yField]={},(0,u.has)(t,"yAxis")&&Oi(r[t.yField],t.yAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.geometryParser=function(){return"heatmap"},e.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},e.prototype.addPoint=function(){var t=this.options,r={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,u.deepMix)(r,t.point):t.point=r;var n=pi("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},e.prototype.extractLabel=function(){var t=this.options,r=t.label;if(r&&r.visible===!1)return!1;var n=Fi("label",(0,qt.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},r));return n},e.prototype.legend=function(){this.setConfig("legends",!1)},e.prototype.geometryTooltip=function(t){t.tooltip={};var r=this.options.tooltip;r.fields&&(t.tooltip.fields=r.fields),r.formatter&&(t.tooltip.callback=r.formatter,r.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,m)},e.prototype.renderPlotComponents=function(){var t=this;(0,u.each)(this.plotComponents,function(n){n.destroy()});var r=["legend","background"];(0,u.each)(r,function(n){var a=(0,qt.__assign)({view:t.view,plot:t},t.options[n]),o=bL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},e}(li),ML=bg;Mn("densityHeatmap",bg);var CL=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="densityHeatmap",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=ML.getDefaultOptions,e}(pn),wg=CL;function Ml(i,e,t,r,n){var a=t*n,o=r*n,s=[["M",i-a/2,e+o/2],["Q",i-a/2,e,i-a/2,e-o/2],["Q",i,e-o/2,i+a/2,e-o/2],["Q",i+a/2,e,i+a/2,e+o/2],["Q",i,e+o/2,i-a/2,e+o/2],["Z"]];return s}function Cl(i,e,t){var r=[["M",i,e],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return r}function Sg(i,e,t){var r=[["M",i-t,e],["Q",i-t,e-t,i,e-t],["Q",i+t,e-t,i+t,e],["Q",i+t,e+t,i,e+t],["Q",i-t,e+t,i-t,e],["Z"]];return r}Rn("polygon","rect",{draw:function(i,e){var t=this.parsePoints(i.points),r=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+r/2,o=t[1].y+n/2,s=Ml(a,o,r,n,i.size);return e.addShape("path",{attrs:(0,u.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),Rn("point","curvePoint",{draw:function(i,e){var t=Cl(i.x,i.y,i.size);return e.addShape("path",{attrs:(0,u.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var EL=function(){function i(e){this.destroyed=!1,this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.init()}return i.prototype.init=function(){var e=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.view.geometries[0].elements;(0,u.each)(t,function(r){var n=r.shape,a=e.options,o=a.style,s=a.offsetX,l=a.offsetY,f=e.options.formatter,h=f?f(e.getContent(n)):e.getContent(n),c=e.getPosition(n),d=e.getTextColor(n),b=e.container.addShape("text",{attrs:(0,u.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:d,textAlign:"center",textBaseline:"middle"}),name:"label"});e.options.adjustPosition&&e.adjustLabel(b,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=e.label.style;return{offsetX:0,offsetY:0,style:(0,u.clone)(t)}},i.prototype.getContent=function(e){var t=e.get("origin").data,r=this.plot.options.colorField;return t[r]},i.prototype.getPosition=function(e){var t=e.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(e){if(this.options.adjustColor){var t=e.attr("fill"),r=e.attr("opacity")?e.attr("opacity"):1,n=Za(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/r,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=yl(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(e,t){var r=e.getBBox(),n=t.getBBox();(r.width>n.width||r.height>n.height)&&e.attr("text","")},i}(),AL=EL,Mg=4,TL=function(){function i(e){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,u.deepMix)({},t,e),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var e=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){e.clear(),e.options.plot.canvas.draw()})},i.prototype.render=function(){var e=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=e[t];var r=this.colorScale,n=r.min,a=r.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var e=this.container.getBBox();return new mn(this.x,this.y,e.width,e.height)},i.prototype.renderVertical=function(e,t,r){var n=this,a=(t-e)/(r.length-1),o=1/(r.length-1),s=this.height/(r.length-1),l="l(90)";(0,u.each)(r,function(d,b){var L=o*b;l+=L+":"+d+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,u.each)(r,function(d,b){var L=s*b;n.container.addShape("path",{attrs:(0,qt.__assign)({path:[["M",0,L],["L",n.width,L]]},n.options.ticklineStyle)});var D=Math.round(a*b);n.container.addShape("text",{attrs:(0,qt.__assign)({text:D,textAlign:"left",textBaseline:"middle",x:n.width+Mg,y:L},n.options.text.style),name:"legend-label"})});var f=10,h=14,c=[["M",-f,-h/2],["L",0,0],["L",-f,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,qt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(e,t,r){var n=this,a=(t-e)/(r.length-1),o=1/(r.length-1),s=this.width/(r.length-1),l="l(0)";(0,u.each)(r,function(d,b){var L=o*b;l+=L+":"+d+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,u.each)(r,function(d,b){var L=s*b;n.container.addShape("path",{attrs:(0,qt.__assign)({path:[["M",L,0],["L",L,n.height]]},n.options.ticklineStyle),name:"legend-label"});var D=Math.round(a*b);n.container.addShape("text",{attrs:(0,qt.__assign)({text:D,textAlign:"center",textBaseline:"top",x:L,y:n.height+Mg},n.options.text.style)})});var f=14,h=10,c=[["M",0,0],["L",-f/2,-h],["L",f/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,qt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var e=this.options.position.split("-");return this.position=e[0],e[0]==="left"||e[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var e=this.view.coordinateBBox.width;return e}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var e=this.view.coordinateBBox.height;return e}return 10},i.prototype.legendLayout=function(){var e=this,t=this.view.coordinateBBox,r=this.options.plot.getPlotTheme().bleeding;(0,u.isArray)(r)&&(0,u.each)(r,function(h,c){typeof r[c]=="function"&&(r[c]=r[c](e.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,f=this.options.plot.height;s[0]==="left"?a=r[3]:s[0]==="right"?a=l-r[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=r[3]:s[1]==="right"&&(a=this.options.plot.width-r[1]-n.width),s[0]==="bottom"?o=f-r[2]-n.height:s[0]==="top"?o=this.getTopPosition(r):s[1]==="center"?this.height===t.height?o=t.y:o=(f-n.height)/2:s[1]==="top"?o=r[0]:s[1]==="bottom"&&(o=f-r[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var e=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var r=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],d=(c-o)/(s-o);e.moveAnchor(d)};this.view.on(r,l),this.interactiveEvents[r]={target:this.view,handler:l};var f=function(){e.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",f),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:f}},i.prototype.moveAnchor=function(e){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*e,r=[1,0,0,0,1,0,0,0,1];r[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:r},400,"easeLinear")}else{var t=this.width*e,r=[1,0,0,0,1,0,0,0,1];r[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:r},400,"easeLinear")}},i.prototype.getTopPosition=function(e){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return e[0]},i.prototype.offEvent=function(){(0,u.each)(this.interactiveEvents,function(e,t){var r=e.target,n=e.handler;r.off(t,n)})},i}(),PL=TL,_L={label:{Ctr:AL},legend:{Ctr:PL,padding:"outer"}};function OL(i,e,t){if(i.options[e]&&i.options[e].visible){var r=_L[e],n=new r.Ctr(t);return r.padding&&i.paddingController.registerPadding(n,r.padding),n}}var Cg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},e.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},e.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var r=this.getShape();this.circleToRect(r)}else if(t==="circle"){var r=this.getShape();this.rectToCircle(r)}}},e.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var r=(0,u.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),o=(0,fn.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},e.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},e.prototype.destroy=function(){(0,u.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},e.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},e.prototype.geometryParser=function(){return""},e.prototype.coord=function(){},e.prototype.legend=function(){this.setConfig("legends",!1)},e.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var r=this.addCircle();t=r}if(this.options.shapeStyle){var n={};(0,u.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,u.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},e.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var r={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?r.size={fields:[this.options.sizeField],values:t}:r.size={values:[1]},r},e.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var r={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?r.size={fields:[this.options.sizeField],values:t}:r.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},r},e.prototype.geometryTooltip=function(t){t.tooltip={};var r=this.options.tooltip;r.fields&&(t.tooltip.fields=r.fields),r.formatter&&(t.tooltip.callback=r.formatter,r.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},e.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),r=this.options,n=r.padding,a=r.xField,o=r.yField,s=r.data,l=t.width-n[1]-n[3],f=t.height-n[0]-n[2],h=(0,u.valuesOfKey)(s,a).length,c=(0,u.valuesOfKey)(s,o).length;return[l/h,f/c]},e.prototype.circleToRect=function(t){var r=this,n=this.gridSize;(0,u.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,f=o.size,h=f*2/Math.min(n[0],n[1]);r.options.sizeField||(h=1);var c=Sg(s,l,f),d=Ml(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:d},500,"easeLinear")})},e.prototype.rectToCircle=function(t){var r=this;(0,u.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,u.each)(o,function(V){s.push(a.convertPoint(V))});var l=n.getBBox(),f=l.width,h=l.height,c=l.minX+f/2,d=l.minY+h/2,b=r.options.sizeField?1:.9,L=Sg(c,d,Math.min(f,h)/2*b),D=Cl(c,d,Math.min(f,h)/2*b);n.stopAnimate(),n.animate({path:L},500,"easeLinear",function(){n.attr("path",D)})})},e.prototype.rectSizeMapping=function(t,r,n){(0,u.each)(t,function(a){var o=a.get("origin").data,s=.3+r.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),f=l.width,h=l.height,c=l.minX+f/2,d=l.minY+h/2,b=Ml(c,d,f,h,s);a.stopAnimate(),a.animate({path:b},500,"easeLinear")})},e.prototype.circleSizeMapping=function(t,r,n){(0,u.each)(t,function(a){var o=a.get("origin").data,s=.3+r.scale(o[n])*.6,l=a.get("origin"),f=l.x,h=l.y,c=l.size,d=Cl(f,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:d},500,"easeLinear")})},e.prototype.circleDisableSizeMapping=function(t){var r=this;this.options.sizeField=null,(0,u.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(r.gridSize[0],r.gridSize[1])*.9;n.get("origin").size=l/2;var f=Cl(o,s,l/2);n.stopAnimate(),n.animate({path:f},500,"easeLinear")})},e.prototype.rectDisableSizeMapping=function(t){var r=this;this.options.sizeField=null,(0,u.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,f=a.minY+s/2,h=Ml(l,f,r.gridSize[0],r.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},e.prototype.getShape=function(){var t=this.view.geometries[0].elements,r=[];return(0,u.each)(t,function(n){r.push(n.shape)}),r},e.prototype.renderPlotComponents=function(){var t=this;(0,u.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var r=["label","legend"];(0,u.each)(r,function(n){var a=(0,qt.__assign)({view:t.view,plot:t},t.options[n]),o=OL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},e}(li),LL=Cg;Mn("heatmap",Cg);var IL=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="heatmap",i.prototype.createLayers.call(this,r)},e.prototype.changeShape=function(t){var r=this.layers[0];r.changeShape(t)},e.prototype.mappingSize=function(t){var r=this.layers[0];r.mappingSize(t)},e.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},e.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},e.getDefaultOptions=LL.getDefaultOptions,e}(pn),Eg=IL,kL=function(i){(0,qt.__extends)(e,i);function e(t){var r=this,n=(0,u.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return r=i.call(this,n)||this,r}return e}(LC.Z),BL=kL;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],r="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(r+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,r.length)!==r)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(r.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var Vf=function(){var e=document.createElement("canvas");if(!e||!e.getContext)return!1;var t=e.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),zo=function(){if(!!Vf){for(var e=document.createElement("canvas").getContext("2d"),t=20,r,n;t;){if(e.font=t.toString(10)+"px sans-serif",e.measureText("\uFF37").width===r&&e.measureText("m").width===n)return t+1;r=e.measureText("\uFF37").width,n=e.measureText("m").width,t--}return 0}}(),DL=function(e){for(var t,r,n=e.length;n;t=Math.floor(Math.random()*n),r=e[--n],e[n]=e[t],e[t]=r);return e},Hf=function(e,t){if(!Vf)return;Array.isArray(e)||(e=[e]),e.forEach(function(Jr,mr){if(typeof Jr=="string"){if(e[mr]=document.getElementById(Jr),!e[mr])throw"The element id specified is not found."}else if(!Jr.tagName&&!Jr.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var r={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:zo,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in r&&(r[o]=t[a][o]);else a in r&&(r[a]=t[a]);if(r.minFontSize<zo&&(r.minFontSize=zo),r.minFontSize>r.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<r.data.length;l++)s<r.data[l].weight&&(s=r.data[l].weight);var f=function(mr){var _r=Math.min(Math.max(r.minFontSize,r.maxFontSize*mr/s),r.maxFontSize);return Xn?_r*r.fontScale:_r},h=!1;if(typeof r.shape!="function")switch(r.shape){case"circle":default:r.shape="circle";break;case"cardioid":r.shape=function(mr){return 1-Math.sin(mr)},h=!0;break;case"diamond":r.shape=function(mr){var _r=mr%(2*Math.PI/4);return 1/(Math.cos(_r)+Math.sin(_r))};break;case"square":r.shape=function(mr){var _r=(mr+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(_r)+Math.sin(_r))};break;case"triangle-forward":r.shape=function(mr){var _r=mr%(2*Math.PI/3);return 1/(Math.cos(_r)+Math.sqrt(3)*Math.sin(_r))};break;case"triangle-backward":r.shape=function(mr){var _r=(mr+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(_r)+Math.sqrt(3)*Math.sin(_r))};break;case"triangle":case"triangle-up":r.shape=function(mr){var _r=(mr+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(_r)+Math.sqrt(3)*Math.sin(_r))};break;case"triangle-down":r.shape=function(mr){var _r=(mr+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(_r)+Math.sqrt(3)*Math.sin(_r))};break;case"pentagon":r.shape=function(mr){var _r=(mr+.955)%(2*Math.PI/5);return 1/(Math.cos(_r)+.726543*Math.sin(_r))};break;case"star":r.shape=function(mr){var _r=(mr+.955)%(2*Math.PI/10);return(mr+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-_r)+3.07768*Math.sin(2*Math.PI/10-_r)):1/(Math.cos(_r)+3.07768*Math.sin(_r))};break}r.gridSize=Math.max(Math.floor(r.gridSize),4);var c=r.gridSize,d=c-r.maskGapWidth,b=Math.abs(r.maxRotation-r.minRotation),L=Math.min(r.maxRotation,r.minRotation),D=r.rotationSteps,V,$,K,yt,wt,Rt,Zt;function te(Jr,mr){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(mr-Jr)+Jr).toFixed()+"%)"}switch(r.color){case"random-dark":Zt=function(){return te(10,50)};break;case"random-light":Zt=function(){return te(50,90)};break;default:typeof r.color=="function"&&(Zt=r.color);break}var oe=null;typeof r.classes=="function"&&(oe=r.classes);var re=!1,ye=[],Pe,ze=function(mr){var _r=mr.currentTarget,dn=_r.getBoundingClientRect(),yn,un;mr.touches?(yn=mr.touches[0].clientX,un=mr.touches[0].clientY):(yn=mr.clientX,un=mr.clientY);var Pn=yn-dn.left,Sn=un-dn.top,vn=Math.floor(Pn*(_r.width/dn.width||1)/c),Wn=Math.floor(Sn*(_r.height/dn.height||1)/c);return ye&&ye[vn]&&ye[vn][Wn]},je=function(mr,_r,dn,yn){yn(mr?mr.id:-1)},Qe=function(mr){var _r=ze(mr);if(Pe!==_r&&!(Xn&&_r&&_r.item&&!(0,u.get)(_r,["item","twiceRender"]))){if(!_r){r.onWordCloudHover(void 0,void 0,mr,Tn),r.active&&je(void 0,void 0,mr,Tn);return}r.onWordCloudHover(_r.item,_r.dimension,mr,Tn),r.active&&je(_r.item,_r.dimension,mr,Tn),Pe=_r}},Ze=function(mr){var _r=ze(mr);!_r||(r.onWordCloudClick(_r.item,_r.dimension,mr),mr.preventDefault())},xr=[],Or=function(mr){if(xr[mr])return xr[mr];var _r=mr*8,dn=_r,yn=[];for(mr===0&&yn.push([yt[0],yt[1],0]);dn--;){var un=1;r.shape!=="circle"&&(un=r.shape(dn/_r*2*Math.PI)),yn.push([yt[0]+mr*un*Math.cos(-dn/_r*2*Math.PI),yt[1]+mr*un*Math.sin(-dn/_r*2*Math.PI)*r.ellipticity,dn/_r*2*Math.PI])}return xr[mr]=yn,yn},Tr=function(){return r.abortThreshold>0&&new Date().getTime()-Rt>r.abortThreshold},Mr=function(){return r.rotateRatio===0||Math.random()>r.rotateRatio?0:b===0?L:D>0?L+Math.floor(Math.random()*D)*b/D:L+Math.random()*b},br=function(mr,_r,dn){var yn=!1,un=f(_r);if(un<=0)return!1;var Pn=1;un<zo&&(Pn=function(){for(var Hh=2;Hh*un<zo;)Hh+=2;return Hh}());var Sn=document.createElement("canvas"),vn=Sn.getContext("2d",{willReadFrequently:!0});vn.font=r.fontWeight+" "+(un*Pn).toString(10)+"px "+r.fontFamily;var Wn=vn.measureText(mr).width/Pn,Vn=Math.max(un*Pn,vn.measureText("m").width,vn.measureText("\uFF37").width)/Pn,yi=Wn+Vn*2,qn=Vn*3,Ei=Math.ceil(yi/c),Ai=Math.ceil(qn/c);yi=Ei*c,qn=Ai*c;var na=-Wn/2,xa=-Vn*.4,Yi=Math.ceil((yi*Math.abs(Math.sin(dn))+qn*Math.abs(Math.cos(dn)))/c),ba=Math.ceil((yi*Math.abs(Math.cos(dn))+qn*Math.abs(Math.sin(dn)))/c),Ti=ba*c,Hi=Yi*c;Sn.setAttribute("width",Ti),Sn.setAttribute("height",Hi),yn&&(document.body.appendChild(Sn),vn.save()),vn.scale(1/Pn,1/Pn),vn.translate(Ti*Pn/2,Hi*Pn/2),vn.rotate(-dn),vn.font=r.fontWeight+" "+(un*Pn).toString(10)+"px "+r.fontFamily,vn.fillStyle="#000",vn.textBaseline="middle",vn.fillText(mr,na*Pn,(xa+un*.5)*Pn);var Zo;try{Zo=vn.getImageData(0,0,Ti,Hi).data}catch(vo){return!1}if(Tr())return!1;yn&&(vn.strokeRect(na*Pn,xa,Wn*Pn,Vn*Pn),vn.restore());for(var co=[],ia=ba,Pi,Kn,ci,mi=[Yi/2,ba/2,Yi/2,ba/2];ia--;)for(Pi=Yi;Pi--;){ci=c;t:{for(;ci--;)for(Kn=c;Kn--;)if(Zo[((Pi*c+ci)*Ti+(ia*c+Kn))*4+3]){co.push([ia,Pi]),ia<mi[3]&&(mi[3]=ia),ia>mi[1]&&(mi[1]=ia),Pi<mi[0]&&(mi[0]=Pi),Pi>mi[2]&&(mi[2]=Pi),yn&&(vn.fillStyle="rgba(255, 0, 0, 0.5)",vn.fillRect(ia*c,Pi*c,c-.5,c-.5));break t}yn&&(vn.fillStyle="rgba(0, 0, 255, 0.5)",vn.fillRect(ia*c,Pi*c,c-.5,c-.5))}}return yn&&(vn.fillStyle="rgba(0, 255, 0, 0.5)",vn.fillRect(mi[3]*c,mi[0]*c,(mi[1]-mi[3]+1)*c,(mi[2]-mi[0]+1)*c)),{mu:Pn,occupied:co,bounds:mi,gw:ba,gh:Yi,fillTextOffsetX:na,fillTextOffsetY:xa,fillTextWidth:Wn,fillTextHeight:Vn,fontSize:un}},qr=function(mr,_r,dn,yn,un){for(var Pn=un.length;Pn--;){var Sn=mr+un[Pn][0],vn=_r+un[Pn][1];if(Sn>=$||vn>=K||Sn<0||vn<0){if(!r.drawOutOfBound)return!1;continue}if(!V[Sn][vn])return!1}return!0},Gr=function(mr,_r,dn,yn,un,Pn,Sn,vn,Wn,Vn,yi){var qn=dn.fontSize,Ei=r.color,Ai=r.classes;if(!yi)Zt?Ei=Zt(yn,un,qn,Pn,Sn):Ei=r.color,oe?Ai=oe(yn,un,qn,Pn,Sn):Ai=r.classes;else{var na=Wr(Vn);Ei=na?na.color:r.color}var xa,Yi=dn.bounds;xa={x:(mr+Yi[3])*c,y:(_r+Yi[0])*c,w:(Yi[1]-Yi[3]+1)*c,h:(Yi[2]-Yi[0]+1)*c},e.forEach(function(ba){if(ba.getContext){var Ti=ba.getContext("2d"),Hi=dn.mu;Ti.save();var Zo=r.fontWeight+" "+(qn*Hi).toString(10)+"px "+r.fontFamily;Ti.scale(1/Hi,1/Hi),Ti.font=Zo,Ti.fillStyle=Ei;var co=(mr+dn.gw/2)*c*Hi,ia=(_r+dn.gh/2)*c*Hi;Ti.translate(co,ia),vn!==0&&Ti.rotate(-vn),Ti.textBaseline="middle",r.selected===Vn&&(Ti.shadowColor=r.shadowColor,Ti.shadowBlur=r.shadowBlur),Ti.fillText(yn,dn.fillTextOffsetX*Hi,(dn.fillTextOffsetY+qn*.5)*Hi),yi||n.push({gx:mr,gy:_r,info:dn,word:yn,weight:un,distance:Pn,theta:Sn,rotateDeg:vn,attributes:Wn,id:Vn,color:Ei}),Ti.restore()}else{var Pi=document.createElement("span"),Kn="";Kn="rotate("+-vn/Math.PI*180+"deg) ",dn.mu!==1&&(Kn+="translateX(-"+dn.fillTextWidth/4+"px) scale("+1/dn.mu+")");var ci={position:"absolute",display:"block",font:r.fontWeight+" "+qn*dn.mu+"px "+r.fontFamily,left:(mr+dn.gw/2)*c+dn.fillTextOffsetX+"px",top:(_r+dn.gh/2)*c+dn.fillTextOffsetY+"px",width:dn.fillTextWidth+"px",height:dn.fillTextHeight+"px",lineHeight:qn+"px",whiteSpace:"nowrap",transform:Kn,webkitTransform:Kn,msTransform:Kn,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};Ei&&(ci.color=Ei),Pi.textContent=yn;for(var mi in ci)Pi.style[mi]=ci[mi];if(Wn)for(var vo in Wn)Pi.setAttribute(vo,Wn[vo]);Ai&&(Pi.className+=Ai),ba.appendChild(Pi)}})},Kr=function(mr,_r,dn,yn,un){if(!(mr>=$||_r>=K||mr<0||_r<0)){if(V[mr][_r]=!1,dn){var Pn=e[0].getContext("2d");Pn.fillRect(mr*c,_r*c,d,d)}re&&(ye[mr][_r]={item:un,dimension:yn})}},Ar=function(mr,_r,dn,yn,un){var Pn=un.occupied,Sn=r.drawMask,vn;Sn&&(vn=e[0].getContext("2d"),vn.save(),vn.fillStyle=r.maskColor);var Wn;if(re){var Vn=un.bounds;Wn={x:(mr+Vn[3])*c,y:(_r+Vn[0])*c,w:(Vn[1]-Vn[3]+1)*c,h:(Vn[2]-Vn[0]+1)*c}}for(var yi=Pn.length;yi--;){var qn=mr+Pn[yi][0],Ei=_r+Pn[yi][1];if(!(qn>=$||Ei>=K||qn<0||Ei<0)){var Ai=Wr(un.item.id);Ai&&(un.item.color=Ai.color),Kr(qn,Ei,Sn,Wn,un.item)}}Sn&&vn.restore()},Hr=function(mr,_r,dn,yn,un,Pn,Sn,vn){var Wn=Math.floor(mr[0]-_r.gw/2),Vn=Math.floor(mr[1]-_r.gh/2),yi=_r.gw,qn=_r.gh;return qr(Wn,Vn,yi,qn,_r.occupied)?(Gr(Wn,Vn,_r,dn,yn,un,mr[2],Pn,Sn,vn,!1),Ar(Wn,Vn,yi,qn,_r),{gx:Wn,gy:Vn,rot:Pn,info:_r}):!1},an=function(mr){var _r,dn,yn,un;Array.isArray(mr)?(_r=mr[0],dn=mr[1]):(_r=mr.word,dn=mr.weight,yn=mr.attributes,un=mr.id);var Pn=(0,u.isNil)(mr.rotateDeg)?Mr():mr.rotateDeg,Sn=br(_r,dn,Pn);if(Sn&&(Sn.item=mr),!Sn||Tr())return!1;if(!r.drawOutOfBound){var vn=Sn.bounds;if(vn[1]-vn[3]+1>$||vn[2]-vn[0]+1>K)return!1}for(var Wn=wt+1;Wn--;){var Vn=Or(wt-Wn);r.shuffle&&(Vn=[].concat(Vn),DL(Vn));for(var yi=0;yi<Vn.length;yi++){var qn=Hr(Vn[yi],Sn,_r,dn,wt-Wn,Pn,yn,un);if(qn)return qn}}return null},jr=function(mr,_r,dn){if(_r)return!e.some(function(yn){var un=document.createEvent("CustomEvent");return un.initCustomEvent(mr,!0,_r,dn||{}),!yn.dispatchEvent(un)},this);e.forEach(function(yn){var un=document.createEvent("CustomEvent");un.initCustomEvent(mr,!0,_r,dn||{}),yn.dispatchEvent(un)},this)},Wr=function(mr){for(var _r=0;_r<n.length;_r++){var dn=n[_r];if(n[_r].id===mr)return dn}},Xn,Tn=function(mr){if(mr!==void 0){if(r.selected!==mr&&e[0].getContext){r.selected=mr;var _r=e[0].getContext("2d");_r.fillStyle=r.backgroundColor,_r.clearRect(0,0,e[0].width,e[0].height),_r.fillRect(0,0,e[0].width,e[0].height);for(var dn=0;dn<n.length;dn++){var yn=n[dn];(!Xn||Xn&&(0,u.get)(yn,["info","item","twiceRender"]))&&Gr(yn.gx,yn.gy,yn.info,yn.word,yn.weight,yn.distance,yn.theta,yn.rotateDeg,yn.attributes,yn.id,!0)}}return}var un=e[0];if(un.getContext)$=Math.ceil(un.width/c),K=Math.ceil(un.height/c);else{var Pn=un.getBoundingClientRect();$=Math.ceil(Pn.width/c),K=Math.ceil(Pn.height/c)}if(!!jr("wordcloudstart",!0)){yt=r.origin?[r.origin[0]/c,r.origin[1]/c]:[$/2,K/(h?4:2)],wt=Math.floor(Math.sqrt($*$+K*K)),V=[];var Sn,vn,Wn;if(!un.getContext||r.clearCanvas)for(e.forEach(function(Kn){if(Kn.getContext){var ci=Kn.getContext("2d");ci.fillStyle=r.backgroundColor,ci.clearRect(0,0,$*(c+1),K*(c+1)),ci.fillRect(0,0,$*(c+1),K*(c+1))}else Kn.textContent="",Kn.style.backgroundColor=r.backgroundColor,Kn.style.position="relative"}),Sn=$;Sn--;)for(V[Sn]=[],vn=K;vn--;)V[Sn][vn]=!0;else{var Vn=document.createElement("canvas").getContext("2d");Vn.fillStyle=r.backgroundColor,Vn.fillRect(0,0,1,1);var yi=Vn.getImageData(0,0,1,1).data,qn=un.getContext("2d").getImageData(0,0,$*c,K*c).data;Sn=$;for(var Ei,Ai;Sn--;)for(V[Sn]=[],vn=K;vn--;){Ai=c;t:for(;Ai--;)for(Ei=c;Ei--;)for(Wn=4;Wn--;)if(qn[((vn*c+Ai)*$*c+(Sn*c+Ei))*4+Wn]!==yi[Wn]){V[Sn][vn]=!1;break t}V[Sn][vn]!==!1&&(V[Sn][vn]=!0)}qn=Vn=yi=void 0}if(r.onWordCloudHover||r.onWordCloudClick){for(re=!0,Sn=$+1;Sn--;)ye[Sn]=[];r.onWordCloudHover&&un.addEventListener("mousemove",Qe),r.onWordCloudClick&&(un.addEventListener("click",Ze),un.addEventListener("touchstart",Ze),un.addEventListener("touchend",function(Kn){Kn.preventDefault()}),un.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),un.addEventListener("wordcloudstart",function Kn(){un.removeEventListener("wordcloudstart",Kn),un.removeEventListener("mousemove",Qe),un.removeEventListener("click",Ze),Pe=void 0})}if(r.animatable){Wn=0;var Ti,Hi;r.wait!==0?(Ti=window.setTimeout,Hi=window.clearTimeout):(Ti=window.setImmediate,Hi=window.clearImmediate);var Zo=function(ci,mi){e.forEach(function(vo){vo.addEventListener(ci,mi)},this)},co=function(ci,mi){e.forEach(function(vo){vo.removeEventListener(ci,mi)},this)},ia=function Kn(){co("wordcloudstart",Kn),Hi(Pi)};Zo("wordcloudstart",ia);var Pi=Ti(function Kn(){if(Wn>=r.data.length){Hi(Pi),jr("wordcloudstop",!1),co("wordcloudstart",ia);return}Rt=new Date().getTime();var ci=an(r.data[Wn]),mi=!jr("wordclouddrawn",!0,{item:r.data[Wn],drawn:ci});if(Tr()||mi){Hi(Pi),r.abort(),jr("wordcloudabort",!1),jr("wordcloudstop",!1),co("wordcloudstart",ia);return}Wn++,Pi=Ti(Kn,r.wait)},r.wait)}else{t.maskImage&&e.forEach(function(Kn){if(Kn.getContext){var ci=Kn.getContext("2d");ci.fillStyle=r.backgroundColor,ci.clearRect(0,0,$*(c+1),K*(c+1)),ci.fillRect(0,0,$*(c+1),K*(c+1))}});for(var na=[],xa=0;xa<r.data.length;xa++){var Yi=an(r.data[xa]);Yi&&na.push(Yi)}if(na.length===r.data.length&&!Xn){for(e.forEach(function(Kn){if(Kn.getContext){var ci=Kn.getContext("2d");ci.fillStyle=r.backgroundColor,ci.clearRect(0,0,$*(c+1),K*(c+1)),ci.fillRect(0,0,$*(c+1),K*(c+1))}}),Sn=$;Sn--;)for(V[Sn]=[],vn=K;vn--;)V[Sn][vn]=!0;Xn=!0;for(var ba=0;ba<r.data.length;ba++)an((0,qt.__assign)((0,qt.__assign)({},r.data[ba]),{twiceRender:Xn}))}}}};Tn()};Hf.isSupported=Vf,Hf.minFontSize=zo;var FL=Hf,RL=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r._toolTipsAction=function(n,a,o,s){a?(r._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),r._toolTips.show()):r._toolTips.hide(),r._toolTips.render(),r._configHoverAction&&r._configHoverAction(n,a,o,s)},r._configHoverAction=t.onWordCloudHover,r._enableToolTips=(0,u.get)(t,"tooltip.visible",!0),r.options=(0,u.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:r._enableToolTips?r._toolTipsAction:r._configHoverAction}),r}return e.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},e.prototype.render=function(){i.prototype.render.call(this),this._render()},e.prototype._initToolTips=function(){this._toolTips=new BL({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},e.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},e.prototype._handleMaskImage=function(){var t=this,r=new Image;r.src=this.options.maskImage+"?"+new Date().getTime(),r.crossOrigin="Anonymous",r.onload=function(){r.naturalHeight+r.naturalWidth===0||r.width+r.height===0?t._start():t._startWithMaskImage(r)},r.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},e.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),r=this.canvas.get("width")/this.canvas.get("el").width;t.scale(r,r),FL(this._targetCanvas,this.options)},e.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],r=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,u.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:r[0],maxRotation:r[1],active:n,shadowColor:a,shadowBlur:o})},e.prototype._startWithMaskImage=function(t){var r=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=r.maskImageCanvas,a=r.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),f=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(f.data[h]=s[0],f.data[h+1]=s[1],f.data[h+2]=s[2],f.data[h+3]=s[3]):(f.data[h]=s[0],f.data[h+1]=s[1],f.data[h+2]=s[2],f.data[h+3]=254);a.putImageData(f,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,u.deepMix)({},this.options,{clearCanvas:!1}),this._start()},e.prototype._scaleMaskImageCanvas=function(t){var r=document.createElement("canvas");r.width=this.canvas.get("width"),r.height=this.canvas.get("height");var n=r.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),{maskImageCanvas:r,maskImageContext:n}},e.prototype._transformWhite2BlackPixels=function(t){var r=document.createElement("canvas");r.width=t.width,r.height=t.height;var n=r.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,r.width,r.height),o=4,s=0,l=255,f=0;f<a.data.length;f+=o){var h=a.data[f]+a.data[f+1]+a.data[f+2],c=a.data[f+3];c<128||h>250*3?(a.data[f]=l,a.data[f+1]=l,a.data[f+2]=l,a.data[f+3]=s):(a.data[f]=s,a.data[f+1]=s,a.data[f+2]=s,a.data[f+3]=l)}return n.putImageData(a,0,0),r},e}(tl),NL=RL,YL=function(i){(0,qt.__extends)(e,i);function e(t,r){var n=this;return r.renderer="canvas",n=i.call(this,t,r)||this,n}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="wordCloud",r.container=this.containerDOM,i.prototype.createLayers.call(this,r)},e}(pn),GL=YL;Mn("wordCloud",NL);var zL={rose:"interval"},XL=ki(zL);(0,u.assign)(Ln,XL);var VL={rose:"interval"},HL={rose:"column"},Ag=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.getOptions=function(t){var r=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,u.deepMix)({},r,{columnStyle:n,xField:a,yField:o})},e.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},e.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,r){return t==="g2"?VL[r]:HL[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.radiusField]={},r[t.categoryField]={type:"cat"},this.setConfig("scales",r)},e.prototype.coord=function(){var t=this.options,r={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",r)},e.prototype.addGeometry=function(){var t=this.options,r=pi("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});r.label=this.extractLabel(),r.adjust=this.adjustRoseAdjust(),this.rose=r,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",r)},e.prototype.adjustRoseAdjust=function(){},e.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},e.prototype.annotation=function(){},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},e.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var r=(0,u.deepMix)({},t.label);this.adjustLabelOptions(r);var n=[t.categoryField,t.radiusField],a=Fi("label",(0,qt.__assign)({plot:this,labelType:"polar",fields:n},r));return a},e.prototype.adjustLabelOptions=function(t){var r=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[r]})}},e}(li),Wf=Ag;Mn("rose",Ag);var WL=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="rose",i.prototype.createLayers.call(this,r)},e.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},e.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},e.getDefaultOptions=Wf.getDefaultOptions,e}(pn),Tg=WL,jL=function(i){var e=i.opacity||1;return{opacity:e*.5}},UL=function(i){var e=i.opacity||1;return{opacity:e*.5}};qi("funnel",{columnStyle:{normal:{},active:jL,disable:UL,selected:{lineWidth:1,stroke:"black"}}});var Pg=v(95280);function ZL(i,e){e===void 0&&(e=!1);var t=i.x,r=i.y,n=i.y0,a=i.size,o,s;(0,u.isArray)(r)?(o=r[0],s=r[1]):(o=n,s=r);var l,f;(0,u.isArray)(t)?(l=t[0],f=t[1]):(l=t-a/2,f=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return e?h.push({x:f,y:(s+o)/2}):h.push({x:f,y:s},{x:f,y:o}),h}function KL(i,e){var t=[],r=i.points,n=i.nextPoints;if(e){var a=e.yValues,o=e.yValuesMax,s=e.yValuesNext,l=(r[0].y+r[1].y)/2,f=a[0]+a[1],h=a.map(function(D){return D/f/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,d=.001;if((0,u.isNil)(n))t.push(["M",r[0].x,c+(r[0].y-l)*h[0]+l],["L",r[1].x,c+l],["L",r[2].x,c+l],["L",r[3].x,c+(r[3].y-l)*h[0]+l],["Z"]),t.push(["M",r[0].x,c+.002+l],["L",r[1].x,c+.002+(r[1].y-l)*h[1]+l],["L",r[2].x,c+.002+(r[2].y-l)*h[1]+l],["L",r[3].x,c+.002+l],["Z"]);else{var b=s[0]+s[1],L=s.map(function(D){return D/b/.5});t.push(["M",r[0].x,c+(r[0].y-l)*h[0]+l-d],["L",r[1].x,c+l-d],["L",n[1].x,c+l-d],["L",n[0].x,c+(n[3].y-l)*L[0]+l-d],["Z"]),t.push(["M",r[0].x,c+l+d],["L",r[1].x,c+(r[1].y-l)*h[1]+l+d],["L",n[1].x,c+(n[2].y-l)*L[1]+l+d],["L",n[0].x,c+l+d],["Z"])}}else(0,u.isNil)(n)?t.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[3].x,r[3].y],["Z"]):t.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}Rn("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,ZL(i)},draw:function(i,e){var t,r=(0,Pg.getStyle)(i,!1,!0),n=(0,u.get)(i,"data.__compare__"),a=this.parsePath(KL(i,n));return e.addShape("path",(t={name:"interval",attrs:(0,qt.__assign)((0,qt.__assign)({},r),{path:a})},t.__compare__=n,t))},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}});function jf(i,e,t){return(1-t)*i+t*e}function $L(i,e){var t=e.reverse,r=e.ratioUpper,n=e.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,f=.6;if(t){var h=n;n=r,r=h}var c=(o.x-s)*jf(f,l,n)+s;a.push(["M",c,o.y]);for(var d=1,b=i.length;d<b;d++){var L=i[d].x;switch(d){case 1:case 2:L=(L-s)*jf(f,l,r)+s;break;case 3:L=(L-s)*jf(f,l,n)+s;break}a.push(["L",L,i[d].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}Rn("interval","funnel-dynamic-rect",{draw:function(i,e){var t=(0,Pg.getStyle)(i,!1,!0),r=(0,u.get)(i,"data.__custom__"),n=this.parsePath($L(i.points,r));return e.addShape("path",{attrs:(0,qt.__assign)((0,qt.__assign)({},t),{path:n})})},getMarker:function(i){var e=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:e}}}});function _g(i,e){var t=e||{},r=t.duration,n=r===void 0?200:r,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,f=i.getBBox(),h=l?f.maxX:f.minX,c=(f.minY+f.maxY)/2,d=i.setClip({type:"rect",attrs:{x:f.x,y:f.y,width:f.width,height:f.height}}),b={matrix:[1,0,0,0,1,0,0,0,1]};d.setMatrix(Fn.transform(d.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var L={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),d.animate(b,{duration:200,easing:o,callback:function(){i.setClip(null),d.remove()},delay:a}),i.animate(L,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}_g.animationName="funnelScaleInX",wi("funnelScaleInX",_g);function Og(i,e){var t=e||{},r=t.duration,n=r===void 0?200:r,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,f=i.getBBox(),h=(f.minX+f.maxX)/2,c=l?f.maxY:f.minY,d=i.setClip({type:"rect",attrs:{x:f.x,y:f.y,width:f.width,height:f.height}}),b={matrix:[1,0,0,0,1,0,0,0,1]};d.setMatrix(Fn.transform(d.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var L={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),d.animate(b,{duration:200,easing:o,callback:function(){i.setClip(null),d.remove()},delay:a}),i.animate(L,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Og.animationName="funnelScaleInY",wi("funnelScaleInY",Og);function El(i,e,t){return(1-t)*i+t*e}var QL={column:"interval"},JL={interval:"funnel"},Lg=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.type="funnel",r._shouldResetPercentages=!0,r._shouldResetLabels=!0,r._shouldResetCompareTexts=!0,r._legendsListenerAttached=!1,r._onLegendContainerMouseDown=function(n){var a=r.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),r.refreshPercentages(),r.refreshLabels(),a.dynamicHeight){var l=r._findCheckedDataByMouseDownLegendItem(s);r._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=r._findCheckedDataByMouseDownLegendItem(s);r._updateDataForCompare(l),r.refreshCompareTexts()}}},r.adjustProps(r.options),t.dynamicHeight&&r._genCustomFieldForDynamicHeight(r.getData()),t.compareField&&(r.options.data=r._reduceDataForCompare(r.getData())),r}return e.getDefaultOptions=function(t){var r={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,u.deepMix)({},ao.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,u.deepMix)({},i.getDefaultOptions.call(this),r)},e.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},e.prototype.coord=function(){var t=this.options,r={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",r)},e.prototype.axis=function(){this.setConfig("axes",!1)},e.prototype.adjustFunnel=function(t){var r=this.options;t.shape=r.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[r.xField],values:r.color&&(Array.isArray(r.color)?r.color:[r.color])},(0,u.isFunction)(r.funnelStyle)?t.style={callback:r.funnelStyle}:t.style={cfg:r.funnelStyle},t.adjust=[{type:r.dynamicHeight?"stack":"symmetric"}]},e.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,u.deepMix)(t.tooltip,{htmlContent:function(r,n){var a,o,s,l;a=ri.CONTAINER_CLASS,o=(0,mt.Z)('<div class="'+a+'"></div>'),(0,Dt.Z)(o,So.default[a]);var f=o;if(r){a=ri.TITLE_CLASS,o=(0,mt.Z)('<div class="'+a+'"></div>'),(0,Dt.Z)(o,So.default[a]),f.appendChild(o);var h=o;a=ri.MARKER_CLASS,o=(0,mt.Z)('<span class="'+a+'"></span>'),(0,Dt.Z)(o,So.default[a]),(0,Dt.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,mt.Z)("<span>"+r+"</span>"),h.appendChild(o)}if(n){a=ri.LIST_CLASS,o=(0,mt.Z)('<ul class="'+a+'"></ul>'),(0,Dt.Z)(o,So.default[a]),f.appendChild(o);var c=o;n.reduce(function(d,b){s||(s=b.color);var L=(0,u.get)(b,"point._origin.__compare__.compareValues"),D=(0,u.get)(b,"point._origin.__compare__.yValues");return D.forEach(function(V,$){return d.push([L[$],V])}),d},[]).forEach(function(d,b){var L=d[0],D=d[1];a=ri.LIST_ITEM_CLASS,o=(0,mt.Z)('<li class="'+a+'" data-index='+b+"></li>"),(0,Dt.Z)(o,So.default[a]),c.appendChild(o);var V=o;a=ri.NAME_CLASS,o=(0,mt.Z)('<span class="'+a+'">'+L+"</span>"),(0,Dt.Z)(o,So.default[a]),V.appendChild(o),a=ri.VALUE_CLASS,o=(0,mt.Z)('<span class="'+a+'">'+D+"</span>"),(0,Dt.Z)(o,So.default[a]),V.appendChild(o)})}return s&&l&&(0,Dt.Z)(l,{backgroundColor:s}),f}}),i.prototype.tooltip.call(this)},e.prototype.addGeometry=function(){var t=this.options,r=pi("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(r),this.funnel=r,this.setConfig("geometry",r),t.compareField||this.geometryTooltip()},e.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},e.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var r=this.options;if(r.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,u.get)(r,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),r.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,u.deepMix)({},r.animation,{appear:{animation:r.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,u.findIndex)(n,function(l){return(0,u.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},e.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var r=this._findPercentageContainer();r&&this.paddingController.registerPadding(r,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},e.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},e.prototype.changeData=function(t){var r=this.options;if(r.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),r.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(r.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),r.compareField&&this.fadeInCompareTexts()},e.prototype.geometryParser=function(t,r){return t==="g2"?QL[r]:JL[r]},e.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,u.set)(t,"meta."+t.yField+".nice",!1),(0,u.set)(t,"tooltip.shared",!1)),t},e.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var r=this.options,n=r.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,f=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,d=n.value,b=d===void 0?{}:d,L=Date.now(),D=this._findPercentageContainer(!0);this._eachShape(function(V,$,K,yt){if($>0){var wt=V.getBBox(),Rt=wt.minX,Zt=wt.maxX,te=wt.maxY,oe=wt.minY,re=r.transpose?Rt:Zt,ye=r.transpose&&r.compareField?te:oe,Pe=t._findPercentageMembersInContainerByIndex(D,$,!0),ze=Pe.line,je=Pe.text,Qe=Pe.value,Ze=[function(Mr,br,qr,Gr,Kr){qr&&(qr.attr((0,u.deepMix)({},f.style,{x1:Mr,y1:br,x2:r.transpose?Mr+a:Mr-a,y2:r.transpose?br-o:br+o,opacity:0})),qr.set("adjustTimestamp",L));var Ar=0,Hr=0,an=function(){Gr&&(Gr.attr((0,u.deepMix)({},c.style,{x:r.transpose?Mr+a:Mr-a-s-Hr-s,y:r.transpose?br-o-s:br+o,opacity:0,text:c.content,textAlign:r.transpose?"left":"right",textBaseline:r.transpose?"bottom":"middle"})),Gr.set("adjustTimestamp",L),Ar=Gr.getBBox().width)},jr=function(){Kr&&(Kr.attr((0,u.deepMix)({},b.style,{x:r.transpose?Mr+a+Ar+s:Mr-a-s,y:r.transpose?br-o-s:br+o,opacity:0,text:(0,u.isFunction)(b.formatter)?r.compareField?b.formatter((0,u.get)(yt,"__compare__.yValues.0"),(0,u.get)(K,"__compare__.yValues.0")):b.formatter(yt[r.yField],K[r.yField]):"",textAlign:r.transpose?"left":"right",textBaseline:r.transpose?"bottom":"middle"})),Kr.set("adjustTimestamp",L),Hr=Kr.getBBox().width)};r.transpose?(an(),jr()):(jr(),an())},function(Mr,br,qr,Gr,Kr){qr&&(qr.attr((0,u.deepMix)({},f.style,{x1:Mr,y1:br,x2:Mr+a,y2:r.transpose?r.compareField?br+o:br-o:br+o,opacity:0})),qr.set("adjustTimestamp",L));var Ar=0;Gr&&(Gr.attr((0,u.deepMix)({},c.style,{x:r.transpose?Mr+a:Mr+a+s,y:r.transpose?r.compareField?br+o+s:br-o-s:br+o,opacity:0,text:c.content,textAlign:"left",textBaseline:r.transpose?r.compareField?"top":"bottom":"middle"})),Gr.set("adjustTimestamp",L),Ar=Gr.getBBox().width),Kr&&(Kr.attr((0,u.deepMix)({},b.style,{x:r.transpose?Mr+a+Ar+s:Mr+a+s+Ar+s,y:r.transpose?r.compareField?br+o+s:br-o-s:br+o,opacity:0,text:(0,u.isFunction)(b.formatter)?r.compareField?b.formatter((0,u.get)(yt,"__compare__.yValues.1"),(0,u.get)(K,"__compare__.yValues.1")):b.formatter(yt[r.yField],K[r.yField]):"",textAlign:"left",textBaseline:r.transpose?r.compareField?"top":"bottom":"middle"})),Kr.set("adjustTimestamp",L))}];if(r.compareField){var xr=[Rt,oe],Or=xr[0],Tr=xr[1];[[Or,Tr],[re,ye]].forEach(function(Mr,br){var qr=Mr[0],Gr=Mr[1];return Ze[br](qr,Gr,ze&&ze[br],je&&je[br],Qe&&Qe[br])})}else Ze[1](re,ye,ze,je,Qe)}yt=K,$++}),D.get("children").forEach(function(V){V.get("adjustTimestamp")!=L&&(V.attr({opacity:0}),D.set(V.get("id"),null),setTimeout(function(){return V.remove()},0))})}},e.prototype.fadeInPercentages=function(t,r){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var f={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var d=n._findPercentageMembersInContainerByIndex(o,c),b={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},L=function(V){if(V&&V.get("type")=="text"){var $=V.getBBox(),K=$.minX,yt=$.maxX,wt=$.minY,Rt=$.maxY;K<b.minX&&(b.minX=K),yt>b.maxX&&(b.maxX=yt),wt<b.minY&&(b.minY=wt),Rt>b.maxY&&(b.maxY=Rt)}};if((0,u.each)(d,function(V){return(0,u.isArray)(V)?L(V[l]):L(V)}),b.minX>f.maxX||b.maxX<f.minX||b.minY>f.maxY||b.maxY<f.minY){var D=function(V){if(V){var $={opacity:1};t?V.animate($,t):V.attr($)}};(0,u.each)(d,function(V){return(0,u.isArray)(V)?D(V[l]):D(V)}),(0,u.assign)(f,b)}})};a.compareField?[0,1].forEach(s):s(),t&&r&&setTimeout(r,t)},e.prototype.fadeOutPercentages=function(t,r){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),f=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,u.each)(l,function(h){return(0,u.isArray)(h)?h.forEach(f):f(h)})}),t&&r&&setTimeout(r,t)},e.prototype.refreshPercentages=function(t){var r=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){r._shouldResetPercentages=!0,r.resetPercentages(),r.fadeInPercentages(s,t)})}},e.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var r=this.view.middleGroup,n=r.get("percentageContainer");return!n&&t&&(n=r.addGroup(),r.set("percentageContainer",n)),n},e.prototype._findPercentageMembersInContainerByIndex=function(t,r,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,f=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,d=o.value,b=d===void 0?{}:d,L={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return L;if(f.visible!==!1){var D=function(yt){var wt="_percentage-line-"+r+"-"+yt,Rt=t.get(wt);return!Rt&&n&&(Rt=t.addShape({id:wt,type:"line",attrs:{}}),t.set(wt,Rt)),Rt},V=a.compareField?[0,1].map(D):D(0);L.line=V}if(c.visible!==!1){var D=function(wt){var Rt="_percentage-text-"+r+"-"+wt,Zt=t.get(Rt);return!Zt&&n&&(Zt=t.addShape({id:Rt,type:"text",attrs:{}}),t.set(Rt,Zt)),Zt},$=a.compareField?[0,1].map(D):D(0);L.text=$}if(b.visible!==!1){var D=function(wt){var Rt="_percentage-value-"+r+"-"+wt,Zt=t.get(Rt);return!Zt&&n&&(Zt=t.addShape({id:Rt,type:"text",attrs:{}}),t.set(Rt,Zt)),Zt},K=a.compareField?[0,1].map(D):D(0);L.value=K}return L},e.prototype._calcRefreshFadeDurations=function(){var t=this.options,r=(0,u.get)(t,"animation.update.duration"),n=(0,u.get)(t,"animation.enter.duration"),a=Math.min(n,r)*.6,o=Math.max(n,r)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},e.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var r=this.options,n=r.xField,a=r.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=r.label||{},f=(0,u.deepMix)((0,qt.__assign)({},this.theme.label),r.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,d,b,L){var D,V=c.get("element");d==0&&(h=b);var $=c.getBBox(),K=$.minX,yt=$.maxX,wt=$.minY,Rt=$.maxY,Zt=b[n],te=b[a];l.adjustColor&&(f.fill=t._getAdjustedTextFillByShape(c));var oe=b.__compare__,re,ye=(D={},D[as]=b,D.element=V,D.elementIndex=L,D.mappingDatum=[].concat(V.getModel().mappingData)[0],D.mappingDatumIndex=0,D);l.formatter?re=l.formatter(Zt,ye,d,te,h[a]):oe?re=[0,1].map(function(){return""+te}).join(r.transpose?`

`:"    "):re=Zt+" "+te;var Pe=t._findLabelInContainerByIndex(s,d,!0),ze=oe?oe.yValues[0]/(oe.yValues[0]+oe.yValues[1]):.5;Pe&&(Pe.attr((0,qt.__assign)((0,qt.__assign)({},f),{x:El(K,yt,r.transpose?.5:ze),y:El(wt,Rt,r.transpose?ze:.5),text:re})),Pe.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},e.prototype.fadeInLabels=function(t,r,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var f=a._findLabelInContainerByIndex(o,l);if(f){var h=s.getBBox(),c=f.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var d={opacity:1};r?f.animate(d,r):f.attr(d)}}}}),r&&n&&setTimeout(n,r)},e.prototype.fadeOutLabels=function(t,r,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var f=a._findLabelInContainerByIndex(o,l);if(f){var h={opacity:0};r?f.animate(h,r):f.attr(h)}}}),r&&n&&setTimeout(n,r)},e.prototype.refreshLabels=function(t){var r=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){r._shouldResetLabels=!0,r.resetLabels(),r.fadeInLabels(null,s,t)})}},e.prototype._findLabelInContainerByIndex=function(t,r,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+r;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},e.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,r,n;if(this._eachShape(function(b,L,D){L==0&&(r=b.get("parent").getBBox(),n=(0,u.get)(D,"__compare__"))}),r&&n&&(0,u.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=r.minX,f=r.maxX,h=r.minY,c=r.maxY,d=a.get("children");[0,1].forEach(function(b){var L=d[b];L||(L=a.addShape({type:"text"})),L.attr((0,u.deepMix)({},(0,u.get)(t,"compareText.style"),{text:t.transpose?s[b]:b?"  "+s[b]:s[b]+"  ",x:t.transpose?l+(0,u.get)(t,"compareText.offsetX"):El(l,f,o[0]/(o[0]+o[1])),y:t.transpose?El(h,c,o[0]/(o[0]+o[1]))+(b?8:-8):h+(0,u.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":b?"left":"right",textBaseline:t.transpose&&b?"top":"bottom"}))})}}},e.prototype.fadeInCompareTexts=function(t,r){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&r&&setTimeout(r,t)},e.prototype.fadeOutCompareTexts=function(t,r){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&r&&setTimeout(r,t)},e.prototype.refreshCompareTexts=function(t){var r=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){r._shouldResetCompareTexts=!0,r.resetCompareTexts(),r.fadeInCompareTexts(o,t)})}},e.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var r=this.view.middleGroup,n=r.get("compareTextContainer");return!n&&t&&(n=r.addGroup(),r.set("compareTextContainer",n)),n},e.prototype._eachShape=function(t){var r,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(r=this._getGeometry())===null||r===void 0||r.elements.forEach(function(l,f){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,f),s=c,o++})},e.prototype._getGeometry=function(){return this.view.geometries[0]},e.prototype._getAdjustedTextFillByShape=function(t){var r=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=Za(r),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=yl(s,o);return l},e.prototype._genCustomFieldForDynamicHeight=function(t){var r=this.options,n=t.reduce(function(o,s){return o+s[r.yField]},0),a=1;t.forEach(function(o,s){var l=o[r.yField],f=l/n,h=a-f;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:r.transpose},a=h})},e.prototype._findCheckedDataByMouseDownLegendItem=function(t){var r=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return r[o]});return n},e.prototype._findCheckedDataInNewData=function(t){var r=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,u.contains)(a,s[r.xField])});return o},e.prototype._findCheckedData=function(t){var r,n=this.options;if((r=n.legend)===null||r===void 0?void 0:r.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,u.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},e.prototype._reduceDataForCompare=function(t){var r=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,f=s[r.xField],h=s[r.yField],c=s[r.compareField];n||(n=c);var d=o.find(function(L){return L[r.xField]==f});d||(d=(l={},l[r.xField]=f,l[r.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:r.transpose},l),o.push(d));var b=c==n?0:1;return d.__compare__.yValues[b]=h,a[b]<h&&(a[b]=h),d.__compare__.compareValues[b]=c,o},[]),t.forEach(function(o,s){o[r.yField]=(0,u.get)(o,"__compare__.yValues",[]).reduce(function(l,f){return l+=f},0),(0,u.set)(o,"__compare__.yValuesMax",a),(0,u.set)(o,"__compare__.yValuesNext",(0,u.get)(t,s+1+".__compare__.yValues"))}),t},e.prototype._updateDataForCompare=function(t){var r=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,u.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>r[o]&&(r[o]=a[o])})}),t.forEach(function(n,a){(0,u.set)(n,"__compare__.yValuesMax",r),(0,u.set)(n,"__compare__.yValuesNext",(0,u.get)(t,a+1+".__compare__.yValues"))})},e}(li),qL=Lg;Mn("funnel",Lg);var tI=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="funnel",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=qL.getDefaultOptions,e}(pn),eI=tI,Ig=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},e.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},e}(Wf),rI=Ig;Mn("stackedRose",Ig);var nI=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedRose",i.prototype.createLayers.call(this,r)},e.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},e.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},e.getDefaultOptions=rI.getDefaultOptions,e}(pn),kg=nI,Bg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},e.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},e.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},e}(Wf),iI=Bg;Mn("groupedRose",Bg);var aI=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedRose",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=iI.getDefaultOptions,e}(pn),Dg=aI,oI={area:"area",line:"line",point:"point"},sI=ki(oI);(0,u.assign)(Ln,sI);var lI=function(i){var e=i.opacity||1;return{opacity:e}},uI=function(i){var e=i.opacity||1;return{opacity:e*.5}},fI=function(i){var e=i.opacity||1;return{opacity:e}},hI=function(i){var e=i.opacity||1;return{opacity:e*.5}},cI=function(i){var e=i.lineWidth||1;return{lineWidth:e+2}},vI=function(i){var e=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},dI=function(i){var e=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}},pI=function(i){var e=i.opacity||i.fillOpacity||1;return{opacity:e*.5}};qi("radar",{areaStyle:{normal:{},active:lI,disable:uI,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:fI,disable:hI,selected:cI},pointStyle:{normal:{},active:vI,disable:pI,selected:dI}});var gI={area:"area",line:"line",point:"point"},Fg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},e.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},e.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},e.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},e.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,r){return gI[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.angleField]={},(0,u.has)(t,"angleAxis")&&Oi(r[t.angleField],t.angleAxis),r[t.radiusField]={},(0,u.has)(t,"radiusAxis")&&Oi(r[t.radiusField],t.radiusAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){var t=this.options,r={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",r)},e.prototype.axis=function(){var t=this.options,r=Fi("axis",{plot:this,dim:"angle"}),n=Fi("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=r,a[t.radiusField]=n,this.setConfig("axes",a)},e.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var r=pi("area","main",{plot:this});this.setConfig("geometry",r),this.area=r}if(t.line&&t.line.visible){var n=pi("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=pi("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},e.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var r=this.options.tooltip;r.fields&&(t.tooltip.fields=r.fields),r.formatter&&(t.tooltip.callback=r.formatter,r.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},e.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var r=Fi("label",(0,qt.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=r:this.line?this.line.label=r:this.area&&(this.area.label=r)},e.prototype.annotation=function(){},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,M)},e}(li),yI=Fg;Mn("radar",Fg);var mI=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="radar",i.prototype.createLayers.call(this,r)},e.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},e.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},e.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},e.getDefaultOptions=yI.getDefaultOptions,e}(pn),Rg=mI,xI=v(89810),bI=v(79189),wI=function(){function i(e){var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,u.isElement)(this.container)){this.wrapperNode=(0,mt.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,Dt.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var e=this.html;this.wrapperNode.appendChild(e),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(e){(0,u.isType)(e,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(e)):this.wrapperNode.innerHTML=e,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(e,t){this.x=e,this.y=t,this.setDomPosition(e,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(e,t){var r=e,n=t,a=(0,xI.Z)(this.wrapperNode),o=(0,bI.Z)(this.wrapperNode);this.options.alignX==="middle"&&(r=e-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,Dt.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(r)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),Ng=wI,SI="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",MI="font-size:32px;font-weight:bold;color:#4D4D4D";function CI(i,e){var t='<span class="liquid-guide-value" style='+MI+">"+i+"</span>";return'<div class="liquid-guide-html '+e+'" style='+SI+">"+t+"</div>"}var EI=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.view=t.view,r.plot=t.plot,r.statisticClass=t.statisticClass,r.adjustOptions(),r}return e.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),r=this.plot.options,n=r.value,a=n===void 0?0:n,o=r.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,u.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=CI(s,this.statisticClass),t},e.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,r=t.minX,n=t.minY,a=t.width,o=t.height;this.x=r+a/2,this.y=n+o/2},e}(Ng),AI=EI,TI={liquid:"intervl",statistic:"annotation-text"},PI=ki(TI);(0,u.assign)(Ln,PI);var Yg=zi(),Gg={splitPoints:function(i){var e=[],t=i.x,r=i.y;return r=(0,u.isArray)(r)?r:[r],(0,u.each)(r,function(n,a){var o={x:(0,u.isArray)(t)?t[a]:t,y:n};e.push(o)}),e},addFillAttrs:function(i,e){e.color&&!i.fill&&(i.fill=e.color),(0,u.isNumber)(e.opacity)&&(i.opacity=i.fillOpacity=e.opacity)},addStrokeAttrs:function(i,e){e.color&&!i.stroke&&(i.stroke=e.color),(0,u.isNumber)(e.opacity)&&(i.opacity=i.strokeOpacity=e.opacity)}},Uf={lerp:function(i,e,t){return(1-t)*i+t*e}},_I=function(i){var e={lineWidth:0,fill:Yg.color,fillOpacity:.85},t=(0,u.mix)({},e,i.style);return Gg.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},OI=function(i){var e={fill:"#fff",stroke:Yg.color,fillOpacity:0,lineWidth:2},t=(0,u.mix)({},e,i.style);return Gg.addStrokeAttrs(t,i),t};function LI(i,e,t,r){return e===0?[[i+1/2*t/Math.PI/2,r/2],[i+1/2*t/Math.PI,r],[i+t/4,r]]:e===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),r],[i+1/2*t/Math.PI/2*(Math.PI-1),r/2],[i+t/4,0]]:e===2?[[i+1/2*t/Math.PI/2,-r/2],[i+1/2*t/Math.PI,-r],[i+t/4,-r]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-r],[i+1/2*t/Math.PI/2*(Math.PI-1),-r/2],[i+t/4,0]]}function II(i,e,t,r,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],f=r;f<-Math.PI*2;)f+=Math.PI*2;for(;f>0;)f-=Math.PI*2;f=f/Math.PI/2*t;var h=a-i+f-i*2;l.push(["M",h,e]);for(var c=0,d=0;d<s;++d){var b=d%4,L=LI(d*t/4,b,t,n);l.push(["C",L[0][0]+h,-L[0][1]+e,L[1][0]+h,-L[1][1]+e,L[2][0]+h,-L[2][1]+e]),d===s-1&&(c=L[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,e]),l}function kI(i,e,t,r,n,a,o,s){for(var l=o.getBBox(),f=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,d=0;d<r;d++){var b=r<=1?0:d/(r-1),L=a.addShape("path",{attrs:{path:II(s,l.minY+h*t,f/4,0,f/Uf.lerp(56,64,b),i,e),fill:n,opacity:Uf.lerp(.6,.3,b)}}),D=Fo([["t",f/2,0]]);L.animate({matrix:D},{duration:Uf.lerp(c,.7*c,b),repeat:!0})}}Rn("interval","liquid-fill-gauge",{draw:function(i,e){var t=.5,r=Infinity;(0,u.each)(i.points,function(d){d.x<r&&(r=d.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:r,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),f=_I(i).fill,h=e.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return kI(a.x,a.y,1-i.points[1].y,3,f,h,c,l*4),e.addShape("circle",{name:"wrap",attrs:(0,u.mix)(OI(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function zg(i,e){var t=i.get("parent"),r=t.getBBox(),n=Math.min(Math.max(0,(0,u.get)(e,"factor",.5)),1),a=(0,u.get)(e,"delay",0),o=(0,u.get)(e,"duration",800),s=e.callback,l=(r.minX+r.maxX)/2,f=r.maxY,h=t.find(function(D){return D.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var d=t.find(function(D){return D.get("name")=="waves"}),b=(0,u.clone)(d.attr("matrix"))||[1,0,0,0,1,0,0,0,1],L=Fo(b,[["t",-l,-f],["s",1,0],["t",l,f]]);d.setMatrix(L),d.animate({matrix:b},o,e.easing,function(){return s&&s(t,h,d)},a)}zg.animationName="liquidMoveIn",wi("liquidMoveIn",zg);var BI={column:"interval"},DI={interval:"liquid"},Xg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return e.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,u.deepMix)({},i.getDefaultOptions.call(this),t)},e.prototype.beforeInit=function(){var t=this.options,r=t.min,n=t.max,a=t.value;if(!(0,u.isNumber)(r))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,u.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,u.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},e.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},e.prototype.coord=function(){},e.prototype.scale=function(){var t=this.options,r=t.min,n=t.max,a={value:{}};Oi(a.value,{min:Math.min(r,n),max:Math.max(r,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},e.prototype.axis=function(){this.setConfig("axes",!1)},e.prototype.adjustLiquid=function(t){var r=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=r.liquidStyle;(0,u.isFunction)(n)&&(n=n()),n&&(t.style=n)},e.prototype.addGeometry=function(){var t=pi("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var r=this.getViewRange(),n=Math.min(r.width,r.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},e.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var r=(0,u.get)(t,"animation.factor"),n=(0,u.get)(t,"animation.easing"),a=(0,u.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:r,easing:n,duration:a}}}},e.prototype.geometryParser=function(t,r){return t==="g2"?BI[r]:DI[r]},e.prototype.annotation=function(){var t=[],r=this.extractStatistic();t.push(r),this.setConfig("annotations",t)},e.prototype.useHtmlContent=function(){var t=this.options,r=t.statistic||{};return(0,u.isFunction)(r.htmlContent)},e.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,r=t.statistic||{},n;(0,u.isFunction)(r.formatter)?n=r.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(r.visible!==!1){var f=(0,u.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},r);return delete f.visible,delete f.formatter,delete f.adjustColor,f}}},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,P)},e.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var r=this.options,n=r.padding?r.padding:this.config.theme.padding;if(r.defaultState&&n!=="auto"&&this.stateController.defaultStates(r.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,Dt.Z)(o,{position:"relative"}),this.statistic=new AI((0,qt.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},e.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},e.prototype.changeValue=function(t){var r=this.options;r.value=t,this.changeData([])},e.prototype.fadeInAnnotation=function(){var t=this,r=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=r.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,u.forIn)(o,function(s,l){return n.attr(l,s)})},e.prototype.calcAnnotationColorStyle=function(){var t=this.options,r={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,u.get)(t,"statistic.adjustColor")===!1)return{fill:(0,u.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,u.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var f=this.options.color,h=.8,c=Za(f),d=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return d<156?r:n}return n},e.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},e.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),r=this.options.liquidStyle,n=r.lineWidth?r.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,f=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,d=h-f/2,b=c-f/2;return new mn(d,b,f,f)},e}(li),Zf=Xg;Mn("liquid",Xg);var FI=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="liquid",i.prototype.createLayers.call(this,r)},e.prototype.changeValue=function(t,r){if(r===void 0&&(r=!1),r)this.eachLayer(function(a){a instanceof Zf&&a.changeValue(t)});else{var n=this.layers[0];n instanceof Zf&&n.changeValue(t)}},e.getDefaultOptions=Zf.getDefaultOptions,e}(pn),Vg=FI,Hg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return e.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},e.prototype.processData=function(t){var r=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,u.clone)(t);(0,u.sortBy)(l,a);var f=(0,u.valuesOfKey)(l,a),h=(0,u.getRange)(f),c=h.max-h.min,d=o;if(!o&&s&&(d=c/s),!o&&!s){var b=Kv(f);d=c/b}var L={};(0,u.each)(l,function(V){var $=V[a],K=r.getBin($,d),yt=K[0]+"-"+K[1];(0,u.hasKey)(L,yt)||(L[yt]={name:yt,range:K,count:0,data:[]}),L[yt].data.push(V),L[yt].count+=1});var D=[];return(0,u.each)(L,function(V){D.push(V)}),D},e.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},e.prototype.getBin=function(t,r){var n=Math.floor(t/r);return[r*n,r*(n+1)]},e}(Go),RI=Hg;Mn("histogram",Hg);var NI=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="histogram",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=RI.getDefaultOptions,e}(pn),Wg=NI,YI={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var e=1-i*i;return Math.abs(i)<=1?15/16*e*e:0},triweight:function(i){var e=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(e,3):0},cosinus:function(i){var e=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?e:0}},jg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return e.prototype.init=function(){var t=this.options.xAxis?(0,u.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,u.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},e.prototype.processData=function(t){var r=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,f=l||"epanechnikov",h=YI[f],c=(0,u.clone)(t);(0,u.sortBy)(c,a);var d=(0,u.valuesOfKey)(c,a),b=(0,u.getRange)(d),L=b.max-b.min,D=s,V=o;!s&&o&&(D=Math.floor(L/o)),!o&&s&&(V=L/s),!s&&!o&&(D=Kv(d),V=L/s);var $=(0,fn.getScale)("linear"),K=new $({min:b.min,max:b.max,tickCount:D,nice:!1}),yt=K.getTicks(),wt=[];return(0,u.each)(yt,function(Rt){var Zt=r.kernelDensityEstimator(V,h,Rt,d);wt.push({value:Rt.text,density:Zt})}),wt},e.prototype.kernelDensityEstimator=function(t,r,n,a){var o=0;return(0,u.each)(a,function(s){var l=(n.tickValue-s)/t;o+=r(l)}),a.length===0?0:o/a.length},e}(Bf),GI=jg;Mn("density",jg);var oY=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="density",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=GI.getDefaultOptions,e}(pn),sY=null,zI={ring:"interval"},XI=ki(zI);(0,u.assign)(Ln,XI);var VI="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",HI="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",WI="font-size:32px;font-weight:bold;color:#4D4D4D";function jI(i,e,t,r){var n=VI+"width:"+r+"px;",a=i?'<span class="ring-guide-name" style='+HI+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+WI+">"+e+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var UI=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.view=t.view,r.plot=t.plot,r.statisticClass=t.statisticClass,r.adjustOptions(),r}return e.prototype.triggerOn=function(){var t=this,r=this.options.triggerOn;this.view.on("interval:"+r,(0,u.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,u.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},e.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var r=this.getTotalValue();t=this.parseStatisticData("total",r)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,u.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},e.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,r=t.minX,n=t.minY,a=t.width,o=t.height;this.x=r+a/2,this.y=n+o/2},e.prototype.getTotalValue=function(){var t,r=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,u.each)(this.plot.options.data,function(f){typeof f[a]=="number"&&(r+=f[a])});var l=(t={},t[a]=r,t[o]=s,t);return l},e.prototype.parseStatisticData=function(t,r,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,f=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(r[l]):null,value:f.getText(r[s])};return t==="item"&&(c.itemData=r,c.color=n),c},e.prototype.getStatisticTemplate=function(t){var r=this.getStatisticSize(),n=jI(t.name,t.value,this.statisticClass,r);return n},e.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,r=this.plot.options,n=r.radius,a=r.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},e.prototype.getStatisticHtmlString=function(t){var r=this.options.htmlContent,n;return r?n=r(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},e}(Ng),ZI=UI,KI={ring:"interval"},$I={interval:"ring"},Ug=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},e.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),e.centralId++,this.statisticClass="statisticClassId"+e.centralId,this.adjustLabelDefaultOptions()},e.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var r=this.canvas.get("container");(0,Dt.Z)(r,{position:"relative"}),this.statistic=new ZI((0,qt.__assign)({container:r,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},e.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},e.prototype.geometryParser=function(t,r){return t==="g2"?KI[r]:$I[r]},e.prototype.coord=function(){var t=this.options,r={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",r)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,B)},e.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var r=t.style||{};r.textAlign||(r.textAlign="center"),t.style=r,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},e.centralId=0,e}(yg),Zg=Ug;Mn("donut",Ug);var QI=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="donut",i.prototype.createLayers.call(this,r)},e.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},e.getDefaultOptions=Zg.getDefaultOptions,e}(pn),Kg=QI;function JI(i,e,t){var r=i.style,n=i.defaultStyle,a=i.color,o=(0,qt.__assign)((0,qt.__assign)({},n),r);return a&&(e&&(o.stroke=a),t&&(o.fill=a)),o}function qI(i){var e=[],t=i[0];e.push(["M",t.x,t.y]);for(var r=1,n=i.length;r<n;r++)e.push(["L",i[r].x,i[r].y]);return e.push(["L",t.x,t.y]),e.push(["z"]),e}Rn("interval","waterfall",{draw:function(i,e){var t=JI(i,!1,!0),r=this.parsePath(qI(i.points)),n=e.addShape("path",{attrs:(0,qt.__assign)((0,qt.__assign)({},t),{path:r}),name:"interval"}),a=(0,u.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),e.addShape("path",{attrs:(0,qt.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var $g=2,tk=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustLabel=function(t,r){var n,a,o=r.shape,s=o.getBBox(),l=r.getData(),f=l[fa],h=l[this.layer.options.yField],c=(0,u.isArray)(f)?f[1]:f,d=this.options.formatter,b=[].concat(r.getModel().mappingData),L=d?b[0]&&b[0]._origin[Al]:0,D=d?d(c,(n={},n[as]=(a=b[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=b[0],n.mappingDatumIndex=0,n.element=r,n.elementIndex=L,n),L):c,V=(s.minY+s.maxY)/2,$="bottom";h<0?(V=s.maxY+$g,$="top"):V=s.minY-$g,t.attr("y",V),t.attr("text",D),t.attr("textBaseline",$)},e}(Rf),lY=null;Ji("waterfall",tk);function ek(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var rk=function(){function i(e){this.textAttrs={},this.view=e.view,this.fields=e.fields,this.formatter=e.formatter,this.textAttrs=(0,u.mix)(ek(),e.style),this._init()}return i.prototype.draw=function(){var e=this;if(!(!this.view||this.view.destroyed)){var t=(0,u.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var r=this.view.geometries[0].elements.map(function(n){return n.shape});(0,u.each)(r,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[fa],f=l;(0,u.isArray)(l)&&(f=l[1]-l[0]),f=f>0?"+"+f:f,o[Kf]&&(f=l[0]-l[1]);var h=f;if(e.formatter){var c=r[a].attr("fill");h=e.formatter(""+f,{_origin:t[a],color:c},a)}var d=e.container.addShape("text",{attrs:(0,qt.__assign)({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},e.textAttrs),name:"dill-label"});d.getBBox().height>s.height&&d.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var e=this;this.view.on(Gn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){e.clear()}),this.view.on(Gn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){e.draw()})},i}(),nk=rk,ik={waterfall:"interval"},ak={interval:"waterfall"},fa="$$value$$",Kf="$$total$$",Al="$$index$$",Qg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},e.prototype.getOptions=function(t){var r=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(r),this.adjustMeta(r),r},e.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new nk({view:this.view,fields:[t.xField,t.yField,fa],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},e.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(r){for(var n=r.items,a=0;a<n.length;a++){var o=n[a],s=(0,u.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[Kf]){var l=s[fa];o.value=l[0]-l[1]}r.items[a]=o}}),this.renderLabel()},e.prototype.renderLabel=function(){var t=so(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,(0,qt.__assign)({type:"waterfall"},this.options.label))},e.prototype.geometryParser=function(t,r){return t==="g2"?ik[r]:ak[r]},e.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},e.prototype.addGeometry=function(){var t=this.options,r={type:"interval",position:{fields:[t.xField,fa]},shape:{values:["waterfall"]}};r.style=this._parseStyle(),r.color=this._parseColor(),this.waterfall=r,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",r)},e.prototype.processData=function(t){var r,n=[],a=this.options.xField,o=this.options.yField;if((0,u.map)(t,function(f,h){var c,d=f[o];if(h>0){var b=n[h-1][fa];(0,u.isArray)(b)?d=[b[1],f[o]+b[1]]:d=[b,f[o]+b]}n.push((0,qt.__assign)((0,qt.__assign)({},f),(c={},c[fa]=d,c[Al]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,u.map)(t,function(f){return f[o]}),l=(0,u.reduce)(s,function(f,h){return f+h},0);n.push((r={},r[a]=this.options.showTotal.label,r[o]=null,r[fa]=[l,0],r[Al]=n.length,r[Kf]=!0,r))}return n},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&Oi(r[t.xField],t.xAxis),r[fa]={},(0,u.has)(t,"yAxis")&&Oi(r[fa],t.yAxis),this.setConfig("scales",r)},e.prototype.axis=function(){var t=Fi("axis",{plot:this,dim:"x"}),r=Fi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[fa]=r,this.setConfig("axes",n)},e.prototype.coord=function(){},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,F)},e.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,fa]))},e.prototype._parseStyle=function(){var t=this.options.waterfallStyle,r=this.options.leaderLine,n={};return(0,u.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:r})}:n.cfg=(0,qt.__assign)((0,qt.__assign)({},t),{leaderLine:r}),n},e.prototype._parseColor=function(){var t=this,r=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,fa,Al]};if((0,u.isFunction)(r.color))s.callback=r.color;else{var l="#f4664a",f="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,u.isString)(r.color))l=f=h=r.color;else if((0,u.isObject)(r.color)){var c=r.color,d=c.rising,b=c.falling,L=c.total;l=d,f=b,h=L}s.callback=function(D,V,$,K){return K===t.options.data.length?h||($[0]>=0?l:f):((0,u.isArray)($)?$[1]-$[0]:$)>=0?l:f}}return s},e.prototype.adjustLegendOptions=function(t){var r=t.legend;r&&(r.visible=!1)},e.prototype.adjustMeta=function(t){var r=t.meta;if(r){var n=r?r[t.yField]:{};n.alias=n.alias||t.yField,t.meta[fa]=n}},e}(li),ok=Qg;Mn("waterfall",Qg);var sk=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="waterfall",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=ok.getDefaultOptions,e}(pn),Jg=sk,lk=function(){function i(e){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=e,this.view=this.options.view,this.init()}return i.prototype.init=function(){var e=this.options,t=e.xBaseline,r=e.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new mn(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new mn(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var f={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(f)}else s=[new mn(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(r>o.min&&r<o.max){var l=(r-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new mn(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var d={name:t<=a.min?"bottom-right":"bottom-left",bbox:new mn(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(d),s.length>1){var b={name:"top-right",bbox:new mn(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(b);var L={name:"bottom-right",bbox:new mn(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(L)}}else if(s.length===2)if(r<=o.min){var D={name:"top-left",bbox:s[0],index:0};this.regionData.push(D);var b={name:"top-right",bbox:s[1],index:2};this.regionData.push(b)}else{var V={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(V);var L={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(L)}else if(t<=a.min)if(r<=o.min){var b={name:"top-right",bbox:s[0],index:2};this.regionData.push(b)}else{var L={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(L)}else if(r<=o.min){var D={name:"top-left",bbox:s[0],index:0};this.regionData.push(D)}else{var V={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(V)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var e=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),r=this.getRegionStyle(this.regionData);(0,u.each)(this.regionData,function(a){var o=a.index,s=e.container.addGroup(),l=s.addShape("rect",{attrs:(0,qt.__assign)({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},r[o]),name:"quadrant"});if(e.options.label&&e.options.label.text){var f=(0,u.deepMix)({},t.label,e.options.label),h=e.getLabelConfig(a,f);s.addShape("text",{attrs:(0,qt.__assign)({},h),name:"quadrant-label"})}l.set("data",a),e.quadrantGroups.push(s)});var n=(0,u.deepMix)({},t.line,this.options.lineStyle);(0,u.each)(this.lineData,function(a){e.container.addShape("path",{attrs:(0,qt.__assign)({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(e){var t=this.getDefaultStyle(),r=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,u.isArray)(n)?r=r.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,u.isFunction)(n)&&(0,u.each)(e,function(a,o){r[o]=n(a)})}return r},i.prototype.getLabelConfig=function(e,t){var r=e.index,n=0,a=0,o={},s=t.text;(0,u.isFunction)(s)?s=s(e):(0,u.isArray)(s)&&(s=s[r]);var l=t.position,f=l.split("-"),h=e.name.split("-");return h[1]==="left"?(f[0]==="inner"&&(n=e.bbox.maxX-t.offset,o.textAlign="right"),f[0]==="outter"&&(n=e.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(f[0]==="inner"&&(n=e.bbox.minX+t.offset,o.textAlign="left"),f[0]==="outter"&&(n=e.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(f[1]==="inner"&&(a=e.bbox.maxY-t.offset,o.textBaseline="bottom"),f[1]==="outter"&&(a=e.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(f[1]==="inner"&&(a=e.bbox.minY+t.offset,o.textBaseline="top"),f[1]==="outter"&&(a=e.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,u.deepMix)({},t.style,o),o.lineHeight=o.fontSize,(0,qt.__assign)({x:n,y:a,text:s},o)},i}(),uk=lk,Eo=v(56645),fk={exp:Eo.regressionExp,linear:Eo.regressionLinear,loess:Eo.regressionLoess,log:Eo.regressionLog,poly:Eo.regressionPoly,pow:Eo.regressionPow,quad:Eo.regressionQuad};function hk(i,e){return Math.sqrt(i*(1-i)/e)*1.96}var ck=function(){function i(e){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,u.deepMix)({},t,e),this.view=this.options.view,this.init()}return i.prototype.init=function(){var e=this.options.plotOptions,t=e.xField,r=e.yField,n=e.data,a=fk[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[r]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var e=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),r=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,fn.getScale)("linear"),o=this.adjustScale(e,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),f=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,f,r);this.container.addShape("path",{attrs:(0,qt.__assign)({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,f,r),d=[[0,0],[1,1]],b=Cf(c,!1,d);this.shape=this.container.addShape("path",{attrs:(0,qt.__assign)({path:b},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(e){var t=[],r=[];return(0,u.each)(e,function(n){t.push({x:n[0],y:n[1]});var a=hk(e.rSquared,n[1]);r.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:r}},i.prototype.getTrendlinePoints=function(e,t,r){var n=[];return(0,u.each)(this.data.trendlineData,function(a){var o=e.scale(a.x),s=t.scale(a.y),l=r.start.x+r.width*o,f=r.start.y-r.height*s;n.push({x:l,y:f})}),n},i.prototype.getConfidencePath=function(e,t,r){var n=[],a=[],o=[];(0,u.each)(this.data.confidenceData,function(c){var d=e.scale(c.x),b=t.scale(c.y0),L=t.scale(c.y1),D=r.start.x+r.width*d,V=r.start.y-r.height*b,$=r.start.y-r.height*L;n.push({x:D,y:V}),a.push({x:D,y:$})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",f=n[s];!isNaN(f.x)&&!isNaN(f.y)&&o.push([l,f.x,f.y])}for(var h=a.length-1;h>0;h--){var f=a[h];!isNaN(f.x)&&!isNaN(f.y)&&o.push(["L",f.x,f.y])}return o},i.prototype.adjustScale=function(e,t,r){var n=e.min,a=e.max,o=this.options.plotOptions,s=o.data,l=o.xField,f=o.yField,h=r==="x"?l:f,c=(0,u.minBy)(s,h)[h],d=(0,u.maxBy)(s,h)[h],b=(n-c)/(d-c),L=(a-d)/(d-c),D=(0,u.minBy)(t,r)[r],V=(0,u.maxBy)(t,r)[r];return{min:D+b*(V-D),max:V+L*(V-D)}},i}(),vk=ck,dk={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},pk=ki(dk);(0,u.assign)(Ln,pk);var gk=function(i){var e=i.stroke||"#000";return{stroke:e}},yk=function(i){var e=i.stroke||"#000",t=i.lineWidth||2;return{stroke:e,lineWidth:t}},mk=function(i){var e=i.fillOpacity||i.opacity||.3;return{fillOpacity:e}};qi("scatter",{pointStyle:{normal:{},active:gk,selected:yk,inactive:mk}});var xk={scatter:"point"},bk={point:"point"},qg=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},e.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new uk((0,qt.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new vk((0,qt.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},e.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},e.prototype.isValidLinearValue=function(t){return(0,u.isNil)(t)?!1:!Number.isNaN(Number(t))},e.prototype.processData=function(t){var r=this,n=this.options,a=n.xField,o=n.yField,s=(0,u.get)(this.options,["xAxis","type"],"linear"),l=(0,u.get)(this.options,["yAxis","type"],"linear");if(s&&l){var f=t.filter(function(h){return!(s==="linear"&&!r.isValidLinearValue(h[a])||l==="linear"&&!r.isValidLinearValue(h[o]))}).map(function(h){var c;return(0,qt.__assign)((0,qt.__assign)({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return f}return t},e.prototype.geometryParser=function(t,r){return t==="g2"?xk[r]:bk[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={},(0,u.has)(t,"xAxis")&&Oi(r[t.xField],t.xAxis),r[t.yField]={},(0,u.has)(t,"yAxis")&&Oi(r[t.yField],t.yAxis);var n=(0,u.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,u.get)(n,"cfg.key")){var a=n.cfg.key;r[a]?r[a].key=!0:r[a]={key:!0}}this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.annotation=function(){},e.prototype.addGeometry=function(){var t=pi("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var r=this.options.tooltip,n=r.showTitle,a=r.titleField;this.extractTooltip(),this.setConfig("tooltip",(0,qt.__assign)({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},e.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var r=Fi("label",(0,qt.__assign)((0,qt.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=r)},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},e.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||W)},e.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},e}(li),ty=qg;Mn("scatter",qg);var wk=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="scatter",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=ty.getDefaultOptions,e}(pn),ey=wk,Sk=v(78685);Rn("point","bubble-point",{draw:function(i,e){var t=(0,Sk.iV)(this,i,e,"circle",!1);if(!i.style.stroke){var r=t.attr("fill");t.attr("stroke",r)}return t},getMarker:function(i){var e=i.color;return{symbol:"circle",style:{r:4.5,fill:e}}}});var Mk=function(i){var e=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:e,fillOpacity:t}},Ck=function(i){var e=i.stroke||"#000",t=i.lineWidth||2;return{stroke:e,lineWidth:t}},Ek=function(i){var e=i.fillOpacity||i.opacity||.3;return{fillOpacity:e}};qi("bubble",{pointStyle:{normal:{},active:Mk,selected:Ck,inactive:Ek}});var ry=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},e.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},e.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,W)},e}(ty),Ak=ry;Mn("bubble",ry);var Tk=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="bubble",i.prototype.createLayers.call(this,r)},e.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},e.getDefaultOptions=Ak.getDefaultOptions,e}(pn),ny=Tk,Pk={bullet:"interval",bulletTarget:"bullet-target"},_k=ki(Pk);(0,u.assign)(Ln,_k);var Ok=function(){function i(e,t){this.view=e,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var e=this.getGeometry(),t=(0,u.map)(e==null?void 0:e.elements,function(o){return o.shape}),r=0;r<this.cfg.ranges.length;r+=1){var n=t[r].getBBox(),a=n.width/t[r].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[r]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(e,t,r){for(var n=this.cfg,a=n.rangeColors,o=e.minX,s=e.minY-e.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var f=(t[l]-t[l-1])*n.rangeMax*r;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:f,height:e.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=f}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new mn(e.x,s,o,e.height*n.rangeSize);this.drawBulletTicks(c,h,r)}},i.prototype.drawBulletTicks=function(e,t,r){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,u.get)(a,"lineHeight",0)-a.fontSize/2,f=0;f<o;f+=1){var h=e.minX+t*f*r,c=""+t*f;if(n.axis.formatter&&(c=n.axis.formatter(c,f)),this.container.addShape("text",{name:"tick",attrs:(0,qt.__assign)({x:h,y:s==="before"?e.minY-l:e.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var d=n.axis.tickLine;f>0&&f!==o-1&&this.container.addShape("path",{attrs:(0,qt.__assign)({path:[["M",h,e.minY],["L",h,e.maxY]]},d)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var e=this;this.view.on("beforerender",function(){e.clear()}),this.view.on("afterrender",function(){e.draw()})},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="interval"})},i}(),Lk=Ok,Ik=function(){function i(e,t){this.view=e,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var e=(0,u.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var r=e[t].getBBox(),n=r.width/e[t].get("origin").data[this.cfg.yField];this.drawTarget(r,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(e,t,r){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var f=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:(0,qt.__assign)((0,qt.__assign)({width:f.width,height:e.height*a.markerSize-f.width/2,x:e.minX+s*r,y:e.minY-e.height*(a.markerSize-1)/2},f),{fill:o[l%o.length]||f.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var e=this;this.view.on("beforerender",function(){e.clear()}),this.view.on("afterrender",function(){e.draw()})},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="interval"})},i}(),kk=Ik,Bk=function(i){var e=i.opacity||1;return{opacity:e*.5,lineWidth:0}},Dk=function(i){var e=i.opacity||1;return{opacity:e*.5}};qi("bullet",{columnStyle:{normal:{},active:Bk,disable:Dk,selected:{}}});var Fk={bullet:"interval"},Rk={interval:"bullet"},Nk="$$stackField$$",Yk="$$xField$$",Gk="$$yField$$",iy=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:Nk,xField:Yk,yField:Gk,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,r){return""+r},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},e.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},e.prototype.scale=function(){var t=this.options,r={};r[t.yField]={},(0,u.has)(t,"yAxis")&&Oi(r[t.yField],t.yAxis),r[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&Oi(r[t.xField],t.xAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.getOptions=function(t){var r=i.prototype.getOptions.call(this,t);return this.adjustOptions(r),r},e.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,r=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new Lk(this.view,{ranges:r,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new kk(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},e.prototype.geometryParser=function(t,r){return t==="g2"?Fk[r]:Rk[r]},e.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},e.prototype.legend=function(){var t=this.options,r=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:r,lineWidth:2}}}],o=(0,qt.__assign)({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},e.prototype.addGeometry=function(){var t=this.options,r=pi("interval","main",{positionFields:[t.xField,t.yField],plot:this});r.adjust=[{type:"stack"}],t.label&&(r.label=this.extractLabel()),this.bullet=r,this.setConfig("geometry",r)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Q)},e.prototype.extractLabel=function(){var t=this.options,r=(0,u.deepMix)({},t.label);if(r.visible===!1)return!1;var n=Fi("label",(0,qt.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},r));return n},e.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},e.prototype.adjustYAxisOptions=function(t){var r=[];t.data.forEach(function(n){return r.push(n.measures.reduce(function(a,o){return a+o},0))}),r.push(t.rangeMax),t.yAxis.max=Math.max.apply([],r)},e.prototype.processData=function(t){var r=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var f=a.measures[l],h=a.title||""+o;n.push((s={},s[r.xField]=h,s[r.yField]=f,s[r.stackField]=""+l,s))}}),n},e}(li),zk=iy;Mn("bullet",iy);var Xk=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="bullet",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=zk.getDefaultOptions,e}(pn),ay=Xk,Xo="$$day$$",Vo="$$week$$",oy="$$date$$",uY="$$is_month_center$$",Ho="YYYY-MM-DD",Vk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Hk=["S","M","T","W","T","F","S"],hs=864e5;function Wk(i){var e=(0,qt.__spreadArrays)(i).sort(function(t,r){return t.getTime()-r.getTime()});return[lo().format((0,u.head)(e),Ho),lo().format((0,u.last)(e),Ho)]}function fY(i){var e=i||new Date;return[fecha.format(new Date(e.getFullYear(),0,1),FORMATTER),fecha.format(new Date(e.getFullYear(),11,30),FORMATTER)]}function jk(i){return i.getMonth()!==Tl(new Date(i),7*hs).getMonth()}function Uk(i){return i.getMonth()!==Tl(new Date(i),hs).getMonth()}function sy(i){var e=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-e.getTime())/hs+e.getDay()+1)/7)}function Zk(i){return i.getDay()}function Tl(i,e){return i.setMilliseconds(i.getMilliseconds()+e),i}function ly(i){var e,t=i[0],r=i[1],n=lo().parse(t,Ho),a=lo().parse(r,Ho);return n>a&&(e=[n,a],a=e[0],n=e[1]),[n,a]}function Kk(i,e,t){for(var r=[],n=ly(e),a=n[0],o=n[1],s=new Date(a),l=function(){var f,h=lo().format(s,Ho),c=(0,u.find)(i,function(d){return d[t]===h});r.push((0,qt.__assign)((f={},f[Xo]=Zk(s),f[Vo]=""+sy(s),f[t]=h,f[oy]=new Date(s),f),c)),Tl(s,hs)};s<=o;)l();return r}function $k(i){var e=ly(i),t=e[0],r=e[1],n=new Map;function a(l){var f=l.getMonth(),h=sy(l);n.has(f)||n.set(f,[]),n.get(f).push(h)}for(var o=new Date(t);o<=r;)a(o),Tl(o,hs*7);r<o&&a(r);var s={};return n.forEach(function(l,f){var h=Math.ceil(((0,u.head)(l)+(0,u.last)(l))/2);s[h]=f}),s}var Qk={rect:"polygon"},Jk=ki(Qk);(0,u.assign)(Ln,Jk);var uy=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return e.getDefaultOptions=function(){var t;return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[Xo]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[Vo]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},e.prototype.processData=function(t){var r=this.options.dateField,n=this.options.dateRange;if((0,u.isNil)(n)){var a=(0,u.map)(t,function(o){return lo().parse(""+o[r],Ho)});n=Wk(a)}return Kk(t,n,r)},e.prototype.addGeometry=function(){var t=this.options,r=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[Vo,Xo]},shape:{values:["calendar-polygon"]},color:{fields:[r],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},e.prototype.geometryTooltip=function(t){t.tooltip={};var r=this.options.tooltip;r.fields&&(t.tooltip.fields=r.fields),r.formatter&&(t.tooltip.callback=r.formatter,r.fields||(t.tooltip.fields=[Vo,Xo]))},e.prototype.extractLabel=function(){var t=this.options,r=t.label;if(r&&r.visible===!1)return!1;var n=this.options.valueField;return Fi("label",(0,qt.__assign)({plot:this,fields:[n],position:"top",offset:0},r))},e.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},e.prototype.geometryParser=function(){return""},e.prototype.axis=function(){var t=Fi("axis",{plot:this,dim:"x"}),r=Fi("axis",{plot:this,dim:"y"}),n={};n[Vo]=t,n[Xo]=r,this.setConfig("axes",n)},e.prototype.scale=function(){i.prototype.scale.call(this);var t=$k(this.options.dateRange),r=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?Hk:a,s=n.months,l=s===void 0?Vk:s,f=r[Vo],h=r[Xo];f.formatter=function(L){var D=t[L];return D!==void 0?l[D]:""},h.formatter=function(L){return o[L]||""};var c=this.options,d=c.xAxis,b=c.yAxis;f.alias=(0,u.get)(d,["title","text"],f.alias),h.alias=(0,u.get)(b,["title","text"],h.alias),this.setConfig("scales",r)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,H)},e}(li),qk=uy;Mn("calendar",uy),Rn("polygon","calendar-polygon",{draw:function(i,e){if(!(0,u.isEmpty)(i.points)){var t=i.points,r=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];r=this.parsePath(r);var n=(0,qt.__assign)((0,qt.__assign)({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:r}),a=e.addShape("path",{attrs:n}),o=i.data[oy];if(jk(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];e.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),Uk(o)&&e.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return e.sort(),a}}});var tB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="calendar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=qk.getDefaultOptions,e}(pn),eB=tB,fy=function(){function i(e){this.uid=e}return i.prototype.setOption=function(e,t){this.type=e,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var e=this;Rn("point","gauge",{draw:function(t,r){var n,a,o;this.gauge={},this.gauge.options=e.options,this.gauge.axis=e.axis,this.gauge.pivot=e.pivot,this.gauge.type=e.type;var s=this.gauge,l=this.gauge.type,f=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:f.x||0,y:1});s.center=h,s.group=r;var d={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(d.x*d.x+d.y*d.y);var b=this.getAngleRange(),L=b.starAngle,D=b.endAngle,V=f.x*(D-L)+L;switch(l){case"meterGauge":this.drawBarGauge(V),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(V),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(V),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,r)},drawGauge:function(t){var r=this.gauge.options.range;this.drawBottomRing(),r&&r.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,r=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||zi().colors,f=this.getAngleRange(),h=f.starAngle,c=f.endAngle,d={min:r,max:n,starAngle:h,endAngle:c},b=0;b<a.length;b++){var L=this.valueToAngle(a[b],d),D=this.valueToAngle(a[b+1],d);if(D>=L){var V=this.getPath(L,D),$=(0,u.deepMix)({fill:l[b]},s);this.drawRing(V,$)}}},drawBottomRing:function(){var t=this.getAngleRange(),r=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(r,n);this.drawRing(o,a)},drawCurrentRing:function(t){var r=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(r,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,r=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:r,max:n,starAngle:s,endAngle:l},h=(n-r)/a.tickCount,c=0;c<a.tickCount;c++){var d=r+c*h,b=this.valueToAngle(d+h/2,f);this.drawRect(b,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,r=this.gauge.options,n=r.min,a=r.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var d=n+c*h,b=this.valueToAngle(d,f),L=(0,u.clone)(t.tickLine.style);c%5!=0&&(L.lineWidth=L.lineWidth/2),this.drawRect(b,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:L})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,r=this.gauge.options,n=r.min,a=r.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var d=n+c*h,b=this.valueToAngle(d,f);this.drawRect(b,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var r=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,f=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||zi().colors,d=this.getAngleRange(),b=d.starAngle,L=d.endAngle,D={min:a,max:o,starAngle:b,endAngle:L},V=(L-b)/(50-1),$=V/3,K=0;K<50;K++){var yt=b+K*V,wt=this.getPath(yt-$/2,yt+$-$/2),Rt=h;if(s&&s.length){var Zt=s.map(function(re){return r.valueToAngle(re,D)}),te=WC(Zt,yt),oe=Math.min(te,s.length-1);Rt=(0,u.deepMix)({},{fill:c[oe-1]},f)||h}else Rt=t>=yt?(0,u.deepMix)({},{fill:l},f):h;this.drawRing(wt,Rt)}},getAngleRange:function(){var t=this.gauge.options.angle,r=90-(360-t)*.5,n=(270-90-r)*Math.PI/180,a=(270+90+r)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,r){var n=r.min,a=r.max,o=r.starAngle,s=r.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var f=l*(s-o)+o;return f=Math.max(f,o),f=Math.min(f,s),f},drawRing:function(t,r){this.gauge.group.addShape("path",{attrs:(0,u.deepMix)({},{path:t},r)})},drawRect:function(t,r){var n=this.gauge.axis,a=(0,qt.__assign)((0,qt.__assign)({},n),r),o=a.offset,s=a.length,l=this.gauge.center,f;o<0?f=this.gauge.ringRadius-this.gauge.options.rangeSize+o:f=this.gauge.ringRadius+o;var h=f*Math.cos(t)+l.x,c=f*Math.sin(t)+l.y,d=(f+s)*Math.cos(t)+l.x,b=(f+s)*Math.sin(t)+l.y,L=this.gauge.group.addShape("line",{attrs:(0,u.deepMix)({},{x1:h,y1:c,x2:d,y2:b},r.style)});L.set("name","axis-tickLine")},getPath:function(t,r){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,f=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(r)+n.x,d=a*Math.sin(r)+n.y,b=(a-o)*Math.cos(r)+n.x,L=(a-o)*Math.sin(r)+n.y,D=Math.abs(t-r)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,D,1,c,d],["L",b,L],["A",a-o,a-o,0,D,0,f,h],["Z"]]},drawPivot:function(t){var r=this.getAngleRange(),n=r.starAngle,a=r.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,f=this.gauge.pivot,h=f.thickness,c=f.thickness/2.5,d=this.gauge.group,b=t.points[0],L=this.parsePoint({x:0,y:0}),D=b.x*(a-n)+n,V=(this.gauge.ringRadius-l)*s*Math.cos(D)+this.gauge.center.x,$=(this.gauge.ringRadius-l)*s*Math.sin(D)+this.gauge.center.y,K={x:V,y:$};if(f.base.visible&&d.addShape("circle",{attrs:(0,u.deepMix)({},{x:L.x,y:L.y,r:f.base.size?f.base.size/2:h*2.2},f.base.style)}),f.pointer.visible){var yt={x:L.x-K.x,y:L.y-K.y},wt=Math.sqrt(yt.x*yt.x+yt.y*yt.y);yt.x*=1/wt,yt.y*=1/wt;var Rt=-Math.PI/2,Zt=Math.cos(Rt)*yt.x-Math.sin(Rt)*yt.y,te=Math.sin(Rt)*yt.x+Math.cos(Rt)*yt.y,oe=Math.PI/2,re=Math.cos(oe)*yt.x-Math.sin(oe)*yt.y,ye=Math.sin(oe)*yt.x+Math.cos(oe)*yt.y,Pe=[["M",K.x+Zt*c,K.y+te*c],["L",L.x+Zt*h,L.y+te*h],["L",L.x+re*h,L.y+ye*h],["L",K.x+re*c,K.y+ye*c],["Z"]];d.addShape("path",{attrs:(0,u.deepMix)({},{path:Pe},f.pointer.style)}),d.addShape("circle",{attrs:{x:K.x,y:K.y,r:c,fill:f.pointer.style.fill}}),d.addShape("circle",{attrs:{x:L.x,y:L.y,r:h,fill:f.pointer.style.fill}})}f.pin.visible&&d.addShape("circle",{attrs:(0,u.deepMix)({},{x:L.x,y:L.y,r:c/1.2},f.pin.style)})}})},i}(),rB={range:"point",statistic:"annotation-text"},nB=ki(rB);(0,u.assign)(Ln,nB);var hy=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.type="gauge",r}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},e.prototype.init=function(){var t=this.options,r=t.value,n=t.range,a=(n||[]).map(function(L){return+L}).sort(function(L,D){return L-D}),o=this.options,s=o.min,l=s===void 0?a[0]:s,f=o.max,h=f===void 0?a[a.length-1]:f,c=o.format,d=c===void 0?function(L){return""+L}:c,b=d(r);this.options.data=[{value:r||0}],this.options.valueText=b,this.options.min=l,this.options.max=h,this.options.format=d,this.initG2Shape(),i.prototype.init.call(this)},e.prototype.initG2Shape=function(){this.gaugeShape=new fy((0,u.uniqueId)()),this.gaugeShape.setOption(this.type,(0,u.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},e.prototype.geometryParser=function(){return"gauge"},e.prototype.scale=function(){var t=this.options,r=t.min,n=t.max,a=t.format,o={value:{}};Oi(o.value,{min:r,max:n,minLimit:r,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},e.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},e.prototype.axis=function(){var t=this.options.axis,r={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?r.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:r.value.label={style:{opacity:0}},r["1"]=!1,r.value=t.visible?r.value:!1,this.setConfig("axes",r)},e.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,r={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",r)},e.prototype.annotation=function(){var t=this.options.statistic,r=[];if(t&&t.visible){var n=this.renderStatistic();r.push(n)}this.setConfig("annotations",r)},e.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,r=this.options.statistic,n={type:"text",content:r.text,top:!0,position:r.position,style:{fill:r.color,fontSize:r.size?r.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Z)},e}(li),$f=hy;Mn("gauge",hy);var iB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="gauge",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=$f.getDefaultOptions,e}(pn),cy=iB,vy=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},e.prototype.initG2Shape=function(){this.gaugeShape=new fy((0,u.uniqueId)()),this.gaugeShape.setOption(this.type,(0,u.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},e.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},e.prototype.annotation=function(){var t=this.options.statistic,r=[];if(t&&t.visible){var n=this.renderStatistic();r.push(n)}var a=this.renderSideText(),o=r.concat(a);this.setConfig("annotations",o)},e.prototype.renderSideText=function(){var t=this.options,r=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,r].map(function(f,h){return{type:"text",top:!0,position:["50%","50%"],content:a(f),style:(0,u.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},e}($f),aB=vy;Mn("fanGauge",vy);var oB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="fanGauge",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=aB.getDefaultOptions,e}(pn),dy=oB,py=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},e}($f),sB=py;Mn("meterGauge",py);var lB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="meterGauge",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=sB.getDefaultOptions,e}(pn),gy=lB,uB=v(25155),Ka=v.n(uB),hY=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="donut",i.prototype.createLayers.call(this,r),Ka()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},e.getDefaultOptions=Zg.getDefaultOptions,e}(pn),cY=null,vY=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedColumn",i.prototype.createLayers.call(this,r),Ka()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},e.getDefaultOptions=Yf.getDefaultOptions,e}(pn),dY=null,pY=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedBar",i.prototype.createLayers.call(this,r),Ka()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},e.getDefaultOptions=Pp.getDefaultOptions,e}(pn),gY=null,yY=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedArea",i.prototype.createLayers.call(this,r),Ka()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},e.getDefaultOptions=Zp.getDefaultOptions,e}(pn),mY=null,xY=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedBar",i.prototype.createLayers.call(this,r),Ka()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},e.getDefaultOptions=Lp.getDefaultOptions,e}(pn),bY=null,wY=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedColumn",i.prototype.createLayers.call(this,r),Ka()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},e.getDefaultOptions=hg.getDefaultOptions,e}(pn),SY=null,MY=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedArea",i.prototype.createLayers.call(this,r),Ka()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},e.getDefaultOptions=Ff.getDefaultOptions,e}(pn),CY=null,EY=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedBar",i.prototype.createLayers.call(this,r),Ka()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},e.getDefaultOptions=If.getDefaultOptions,e}(pn),AY=null,TY=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedColumn",i.prototype.createLayers.call(this,r),Ka()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},e.getDefaultOptions=xl.getDefaultOptions,e}(pn),PY=null,fB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},e.prototype.coord=function(){},e.prototype.addGeometry=function(){},e.prototype.annotation=function(){var t=this,r=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,u.each)(r.guideLine,function(o){var s=Fi("guideLine",{plot:t,cfg:(0,u.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},e}(li),Pl=fB,hB=function(){function i(e){(0,u.assign)(this,e),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(e,t,r){var n={};if((0,u.assign)(this,e),this.coord=this.view.geometries[0].coordinate,e.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(e.style){var s=this.shape,l=s.attrs,f=(0,u.deepMix)({},l,e.style);n=(0,u.deepMix)({},f,n)}this.shape.stopAnimate(),this.shape.animate(n,t,r)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var e=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,r=this.coord.center.y+this.progressSize/2+2,n=(0,u.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:(0,qt.__assign)({path:[["M",0,t],["L",0,r]]},n),name:"progress-marker"}),this.shape.move(e,0),this.canvas.draw()},i}(),yy=hB,cB={progress:"interval"},vB=ki(cB);(0,u.assign)(Ln,vB);var dB={progress:"interval"},pB={interval:"progress"},my=["#55A6F3","#E8EDF3"],xy=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return e.prototype.processProps=function(){var t=this.options;t.data=this.processData();var r={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||my};t=(0,u.mix)(t,r)},e.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},e.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,u.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},e.prototype.update=function(t){var r=this.options;if((0,u.hasKey)(t,"percent")&&(r.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,u.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},e.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,u.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},e.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,u.each)(this.options.marker,function(s){var l=(0,u.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),f=new yy(l);t.markers.push(f)}));var r=this.view.geometries[0].container,n=r.getBBox(),a=r.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},e.prototype.geometryParser=function(t,r){return t==="g2"?dB[r]:pB[r]},e.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},e.prototype.addGeometry=function(){var t=this.options,r=pi("interval","main",{positionFields:[t.yField,t.xField],plot:this});r.adjust=[{type:"stack"}],(0,u.has)(t,"animation")&&(r.animate=t.animation),this.setConfig("geometry",r)},e.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,ot)},e.prototype.parseColorProps=function(t){var r;if(t.color)if((0,u.isFunction)(t.color)?r=t.color(t.percent):r=t.color,(0,u.isString)(r)){var n=(0,u.clone)(my);return n[0]=r,n}else return r;return t.color},e.prototype.processData=function(){var t=this.options,r=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return r},e.prototype.updateMarkers=function(t){var r=t.length,n=this.getUpdateAnimationOptions();if((0,u.each)(this.markers,function(f,h){h>r-1?f.destroy():f.update(t[h],n.duration,n.easing)}),this.markers.length<r)for(var a=this.markers.length,o=a;o<r;o++){var s=(0,u.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new yy(s);this.markers.push(l)}},e.prototype.getSize=function(){var t=this.height;return t>=50?10:4},e.prototype.styleUpdateAnimation=function(t){var r=this.getUpdateAnimationOptions(),n=r.duration,a=r.easing,o=[],s=this.view,l=s.geometries;(0,u.each)(l,function(f){if(f.type==="interval"){var h=f.elements;(0,u.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,u.isArray)(t)?(0,u.each)(t,function(f,h){o[h].animate(f,n,a)}):o[0].animate(t,n,a)},e.prototype.getUpdateAnimationOptions=function(){var t=450,r="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(r=n.update.easing)),{duration:t,easing:r}},e.prototype.updateColorConfigByStyle=function(t){var r=this;(0,u.isArray)(t)?(0,u.each)(t,function(n,a){n.fill&&(r.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},e}(Pl),by=xy;Mn("progress",xy);var gB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="progress",i.prototype.createLayers.call(this,r)},e.prototype.update=function(t,r){var n=this.layers[0];n.update(t,r)},e.getDefaultOptions=by.getDefaultOptions,e}(pn),wy=gB,yB={ringProgress:"interval"},mB=ki(yB);(0,u.assign)(Ln,mB);var xB=["#55A6F3","#E8EDF3"],Sy=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return e.prototype.processProps=function(){var t=this.options;t.data=this.processData();var r={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||xB};t=(0,u.mix)(t,r)},e.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},e.prototype.annotation=function(){},e.prototype.addGeometry=function(){var t=this.options;this.ring=pi("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},e.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,rt)},e.prototype.getThickness=function(t){var r=this.width,n=this.height,a=Math.min(r,n);return t?1-t/a:a>=60?1-20/a:1-10/a},e}(by),bB=Sy;Mn("ringProgress",Sy);var wB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="ringProgress",i.prototype.createLayers.call(this,r)},e.prototype.update=function(t){var r=this.layers[0];r.update(t)},e.getDefaultOptions=bB.getDefaultOptions,e}(pn),My=wB,SB={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,u.assign)(Ln,SB);var MB=.6,CB={column:"interval"},EB={interval:"column"},Cy=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return e.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},e.prototype.geometryParser=function(t,r){return t==="g2"?CB[r]:EB[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={type:"cat"},this.setConfig("scales",r)},e.prototype.addGeometry=function(){var t=this.options,r=pi("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",r)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,At)},e.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,u.mix)(this.options,t)},e.prototype.getSize=function(){var t=this.options,r=this.getColumnNum(t.data,t.xField),n=this.width;return n/r*MB},e.prototype.getColumnNum=function(t,r){var n=[];return(0,u.each)(t,function(a){var o=a[r];n.indexOf(o)<0&&n.push(o)}),n.length},e}(Pl),AB=Cy;Mn("tinyColumn",Cy);var TB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="tinyColumn",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=AB.getDefaultOptions,e}(pn),Ey=TB,PB={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,u.assign)(Ln,PB);var _B={area:"area",line:"line"},Ay=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return e.prototype.geometryParser=function(t,r){return _B[r]},e.prototype.addGeometry=function(){this.area=pi("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=pi("line","mini",{plot:this}),this.setConfig("geometry",this.line)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,pt)},e}(Pl),OB=Ay;Mn("tinyArea",Ay);var LB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="tinyArea",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=OB.getDefaultOptions,e}(pn),Ty=LB,IB={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,u.assign)(Ln,IB);var kB={line:"line"},Py=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return e.prototype.geometryParser=function(t,r){return kB[r]},e.prototype.addGeometry=function(){this.line=pi("line","mini",{plot:this}),this.setConfig("geometry",this.line)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Ft)},e}(Pl),BB=Py;Mn("tinyLine",Py);var DB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="tinyLine",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=BB.getDefaultOptions,e}(pn),_y=DB,Qf=5,FB=function(i){(0,qt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.geomLayers=[],r.legends=[],r.requiredField=["xField","yField"],r.options=r.getOptions(t),r.initialOptions=(0,u.deepMix)({},t),r.themeController=new Sf,r}return e.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},e.prototype.getOptions=function(t){var r=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,u.deepMix)({},n,a,r,t)},e.prototype.checkData=function(){for(var t=this,r,n,a=this.options,o=a.data,s=a.xField,l=a.yField,f=0;f<this.requiredField.length;f++){var h=this.requiredField[f];if(!(0,u.hasKey)(this.options,h))return!1}return!(!(0,u.isArray)(l)||l.length<2||!(0,u.isArray)(o)||o.length===0||((r=o[0])===null||r===void 0?void 0:r.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,u.each)(o,function(c,d){if(!(0,u.isArray)(c)||c.length===0){var b=t.getMockData(d);o[d]=b}}),!o[0][0][s]||!o[1][0][s]))},e.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},e.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},e.prototype.changeData=function(t){t&&t.length<2||!(0,u.isArray)(t[0])||(0,u.each)(this.geomLayers,function(r,n){r.changeData(t[n])})},e.prototype.changeDataByIndex=function(t,r){if(!(0,u.isArray)(t[0])){var n=this.geomLayers[r];n.changeData(t)}},e.prototype.doDestroy=function(){(0,u.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,u.each)(this.legends,function(t){t.destroy()}),this.legends=[]},e.prototype.createLayer=function(t,r,n){var a=this.getViewRange(),o=new t((0,qt.__assign)({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:r},n));return this.geomLayers.push(o),o},e.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),r=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(r.max,0):t.max},e.prototype.yAxis=function(t){var r=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,u.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,u.each)(s,function(h,c){if(!(0,u.isString)(h)&&(0,u.hasKey)(l,c)){var d=l[c];h.style||(h.style={}),h.style[d]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var f=this.getYAxisGlobalConfig();return t===0&&r.max===0&&r.min===0&&(s.max=this.getLeftYAxisMax()),(0,u.deepMix)({},f,s)},e.prototype.getTicks=function(){for(var t=this.options.yAxis,r=this.getScaleData(0),n=(0,fn.getScale)("linear"),a=new n((0,u.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:r.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),f=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),f.push(c)}return f},e.prototype.getScaleData=function(t){var r=this.options,n=r.data,a=r.yField,o=r.yAxis,s=[];(0,u.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],f=o.max?o.max:s[s.length-1];return{min:l,max:f,values:s}},e.prototype.getDataByXField=function(t,r){var n=this.options,a=n.data,o=n.xField,s=a[r];return s.filter(function(l){return l[o]===t})},e.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,r=t.min,n=t.max,a=t.tickCount;return{min:r,max:n,tickCount:a}},e.prototype.adjustLayout=function(){var t=this,r,n,a=zi().bleeding;(0,u.isArray)(a)&&(0,u.each)(a,function(b,L){typeof a[L]=="function"&&(a[L]=a[L](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),f=0,h,c;((r=this.options.legend)===null||r===void 0?void 0:r.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),f=h.height+Qf*2);var d=s.map(function(b,L){return L===0?Math.max.apply(null,[b+f,l[L]]):Math.max.apply(null,[b,l[L]])});this.geomLayers[0].updateConfig({padding:d}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:d}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+Qf}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+Qf}))},e.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},e.prototype.legendFilter=function(t){var r=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),r.showLayer(t)):(n.setItemState(o,"unchecked",!0),r.hideLayer(t))})},e.prototype.hideLayer=function(t){var r=this.geomLayers[t],n=this.options.yField[t],a=r.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},e.prototype.showLayer=function(t){var r=this.geomLayers[t],n=this.options.yField[t],a=r.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},e.prototype.setGeometryVisibility=function(t,r){(0,u.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",r),o&&o.set("visible",r)})},e.prototype.getYAxisContainer=function(t,r){var n,a=t.controllers.filter(function(l){return(0,u.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,u.each)(s,function(l){var f=l.get("component").get("field");f===r&&(n=l)})}return n},e.prototype.getUnCheckedValue=function(){var t=[];return(0,u.each)(this.legends,function(r){var n=r.getItemsByState("unchecked");(0,u.each)(n,function(a){t.push(a.name)})}),t},e.prototype.drawTitle=function(){var t=this.options,r=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Bo(t.title)){var n=this.width,a=this.theme,o=new el({leftMargin:r.minX+a.title.padding[3],rightMargin:r.maxX-a.title.padding[1],topMargin:r.minY+a.title.padding[0],text:t.title.text,style:(0,u.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Bo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},e.prototype.drawDescription=function(){var t=this.options,r=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Bo(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=r.minY+a.title.padding[0];var l=new el({leftMargin:r.minX+a.description.padding[3],topMargin:o,rightMargin:r.maxX-a.title.padding[1],text:t.description.text,style:(0,u.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},e.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new mn(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,r=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,u.each)(o,function(s){if(s){var l=s.position,f=s.getBBox(),h=f.minX,c=f.maxX,d=f.minY,b=f.maxY;b>=n&&b<=a&&l==="top"&&(n=b),d>=n&&d<=a&&l==="bottom"&&(a=d),c>t&&c<=r&&l==="left"&&(t=c),h>=t&&c<=r&&l==="right"&&(r=h)}}),new mn(t,n,r-t,a-n)},e.prototype.getMockData=function(t){var r=this.options,n=r.xField,a=r.yField,o={};return o[n]="null",o[a[t]]=0,[o]},e}(tl),Oy=FB,Ly={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},Iy={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},ky=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:Iy,rightConfig:Iy},lineConfigs:[(0,u.deepMix)({},Ly,{color:"#5B8FF9"}),(0,u.deepMix)({},Ly,{color:"#e76c5e"})]})},e.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var r=this.options,n=r.data,a=r.meta,o=r.xField,s=r.yField,l=r.xAxis,f=r.tooltip,h=r.lineConfigs,c=r.legend,d=r.events,b=r.customMeta;this.colors=[h[0].color,h[1].color];var L=this.getYAxisGlobalConfig(),D=this.createLayer(ls,n[0],(0,qt.__assign)({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,u.deepMix)({},L,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:d},h[0]));D.render();var V={};V[s[1]]={ticks:this.getTicks()};var $=this.createLayer(ls,n[1],(0,qt.__assign)({xField:o,yField:s[1],meta:b?a:(0,u.deepMix)({},a,V),serieField:s[1],xAxis:l,yAxis:(0,u.deepMix)({},L,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,u.deepMix)({},{showMarkers:!1,custom:{onChange:function(K,yt){t.tooltip(K,yt)}}},f),events:d},h[1]));$.render(),c.visible&&this.customLegend(),this.adjustLayout()}},e.prototype.tooltip=function(t,r){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,u.clone)(r.items[0]),f=this.getDataByXField(r.title,0)[0];f&&(0,u.findIndex)(r.items,function(h){return h.name===o[0]})<0&&r.items.push((0,qt.__assign)((0,qt.__assign)({},l),{mappingData:(0,u.deepMix)({},l.mappingData,{_origin:f}),data:f,name:o[0],value:f[o[0]],color:this.colors[0]})),s.visible&&(0,u.each)(this.legends,function(h,c){var d=h.get("items")[0];if(d.unchecked){var b=c===0?1:0;r.items.splice(b,1)}})},e.prototype.customLegend=function(){var t=this,r=this.options,n=r.yField,a=r.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,u.each)(this.geomLayers,function(f,h){var c=(0,u.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),d=[{name:n[h],unchecked:!1,marker:c}],b=new xn.Legend.Category({id:t.type,container:s,x:0,y:0,items:d,updateAutoRender:!0,itemBackground:null,itemName:l.text});b.init(),b.render(),t.legends.push(b)}),(0,u.each)(this.geomLayers,function(f,h){t.legendFilter(h)})},e}(Oy),RB=ky;Mn("dualLine",ky);var NB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="dualLine",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=RB.getDefaultOptions,e}(pn),By=NB,YB={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},GB={color:"#5B8FF9"},Dy={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},Fy=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:Dy,rightConfig:Dy},lineConfig:YB,columnConfig:GB,legend:{visible:!0}})},e.prototype.beforeInit=function(){var t,r,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((r=o.lineConfig)===null||r===void 0?void 0:r.color))){var s=zi(),l=s.colors,f=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?f:l,d=[];(0,u.each)(h,function(b,L){d.push(c[L+1])}),a.lineConfig.color=d}},e.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,r=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,f=t.lineConfig,h=t.columnConfig,c=t.events,d=t.customMeta;this.colors=[h.color,f.color],this.drawColumn();var b={};b[o[1]]={ticks:this.getTicks()};var L=this.createLayer(ls,r[1],(0,qt.__assign)({xField:a,yField:o[1],seriesField:s,meta:d?n:(0,u.deepMix)({},n,b),xAxis:{visible:!1},yAxis:(0,u.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},f));L.render(),l.visible&&this.customLegend(),this.adjustLayout()}},e.prototype.drawColumn=function(){var t=this,r=this.options,n=r.data,a=r.xField,o=r.yField,s=r.xAxis,l=r.tooltip,f=r.columnConfig,h=r.meta,c=r.events,d=this.createLayer(Go,n[0],(0,qt.__assign)({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,u.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,u.deepMix)({},{showMarkers:!1,custom:{onChange:function(b,L){t.tooltip(b,L)}}},l),events:c},f));d.render()},e.prototype.tooltip=function(t,r){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,f=(0,u.clone)(r.items[0]),h=this.getDataByXField(r.title,1),c=(0,u.get)(l,"formatter");if(h&&(0,u.each)(h,function(V,$){var K=n.geomLayers[1].options.seriesField,yt=K?V[K]:s[1],wt=c?c(V[o],V[s[1]],V[K]):{name:yt,value:V[s[1]]};r.items.push((0,qt.__assign)((0,qt.__assign)((0,qt.__assign)((0,qt.__assign)({},f),{mappingData:(0,u.deepMix)({},f.mappingData,{_origin:h}),data:V}),wt),{color:(0,u.isArray)(n.colors[1])?n.colors[1][$]:n.colors[1]}))}),this.options.legend.visible){var d=this.getUnCheckedValue(),b=this.legends[0].get("items").length+this.legends[1].get("items").length;if(d.length===b){t.style.display="none";return}else t.style.display="block";var L=[],D=[];(0,u.each)(r.items,function(V){var $=V.name;!(0,u.contains)(L,$)&&!(0,u.contains)(d,$)&&(L.push($),D.push(V))}),(0,u.each)(r.items,function(V,$){$<D.length?r.items[$]=D[$]:r.items.pop()})}},e.prototype.customLegend=function(){var t=this,r=this.options,n=r.yField,a=r.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var d;if(h.options.seriesField){var b=t.getValueBySeriesField();d=t.createNormalLegend(b,f[c],o[c],l,s)}else d=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(d)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},e.prototype.createSingleLegend=function(t,r,n,a,o){var s=(0,u.deepMix)({},{symbol:r,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],f=new xn.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return f.init(),f.render(),f},e.prototype.createNormalLegend=function(t,r,n,a,o){var s=[];(0,u.each)(t,function(f,h){s.push({name:f,unchecked:!1,marker:{symbol:r,style:{r:4,fill:n[h]}}})});var l=new xn.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},e.prototype.multipleLegendFilter=function(t,r){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(f){var h=n.geomLayers[t].view,c=f.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,u.pull)(o,c.name),h.filter(c.value,function(d){return!(0,u.contains)(o,d)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(r,function(d){return!(0,u.contains)(o,d)}),h.render())),n.canvas.draw()})},e.prototype.getValueBySeriesField=function(){var t=this.options,r=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,u.each)(a,function(s){var l=s[r];(0,u.contains)(o,l)||o.push(l)}),o},e}(Oy),Jf=Fy;Mn("columnLine",Fy);var zB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="columnLine",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Jf.getDefaultOptions,e}(pn),Ry=zB,XB={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},VB={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},Ny={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},Yy=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,u.deepMix)({},Ny,{colorMapping:!1}),rightConfig:Ny},lineConfig:XB,columnConfig:VB,legend:{visible:!0}})},e.prototype.beforeInit=function(){var t,r,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((r=o.lineConfig)===null||r===void 0?void 0:r.color))){var l=zi(),f=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),d=c.length>f.length?h:f,b=[],L=s.length;(0,u.each)(c,function(V,$){b.push(d[$+L])}),a.lineConfig.color=b}var D=this.options.columnConfig.color;this.options.columnConfig.color=D.slice(0,s.length)},e.prototype.drawColumn=function(){var t=this,r=this.options,n=r.data,a=r.xField,o=r.yField,s=r.columnGroupField,l=r.xAxis,f=r.tooltip,h=r.columnConfig,c=r.events,d=this.createLayer(Yf,n[0],(0,qt.__assign)({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,u.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,u.deepMix)({},f,{showMarkers:!1,custom:{onChange:function(b,L){t.tooltip(b,L)}}}),events:c},h));d.render()},e.prototype.customLegend=function(){var t=this,r=this.options,n=r.yField,a=r.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var d;if(h.options.seriesField){var b=t.getValueBySeriesField();d=t.createNormalLegend(b,f[c],o[c],l,s)}else if(h.options.groupField){var b=t.getValueByGroupField();d=t.createNormalLegend(b,f[c],o[c],l,s)}else d=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(d)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},e.prototype.getValueByGroupField=function(){var t=this.options,r=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,u.each)(a,function(s){var l=s[r];(0,u.contains)(o,l)||o.push(l)}),o},e.prototype.getMockData=function(t){var r=this.options,n=r.xField,a=r.yField,o=r.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},e}(Jf),HB=Yy;Mn("groupedColumnLine",Yy);var WB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedColumnLine",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=HB.getDefaultOptions,e}(pn),Gy=WB,jB={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},UB={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},zy={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},Xy=function(i){(0,qt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,u.deepMix)({},zy,{colorMapping:!1}),rightConfig:zy},lineConfig:jB,columnConfig:UB,legend:{visible:!0}})},e.prototype.beforeInit=function(){var t,r,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((r=s.lineConfig)===null||r===void 0?void 0:r.color))){var l=zi(),f=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),d=c.length>f.length?h:f,b=[],L=n.length;(0,u.each)(c,function(V,$){b.push(d[$+L])}),o.lineConfig.color=b}var D=this.options.columnConfig.color;this.options.columnConfig.color=D.slice(0,n.length)},e.prototype.drawColumn=function(){var t=this,r=this.options,n=r.data,a=r.xField,o=r.yField,s=r.columnStackField,l=r.xAxis,f=r.tooltip,h=r.columnConfig,c=r.events,d=this.createLayer(xl,n[0],(0,qt.__assign)({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,u.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,u.deepMix)({},f,{showMarkers:!1,custom:{onChange:function(b,L){t.tooltip(b,L)}}}),events:c},h));d.render()},e.prototype.customLegend=function(){var t=this,r=this.options,n=r.yField,a=r.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var d;if(h.options.seriesField){var b=t.getValueBySeriesField();d=t.createNormalLegend(b,f[c],o[c],l,s)}else if(h.options.stackField){var b=t.getValueByStackField();d=t.createNormalLegend(b,f[c],o[c],l,s)}else d=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(d)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},e.prototype.getValueByStackField=function(){var t=this.options,r=t.columnStackField,n=t.data,a=n[0],o=[];return(0,u.each)(a,function(s){var l=s[r];(0,u.contains)(o,l)||o.push(l)}),o},e.prototype.getUnCheckedValue=function(){var t=[];return(0,u.each)(this.legends,function(r){var n=r.getItemsByState("unchecked");(0,u.each)(n,function(a){t.push(a.name)})}),t},e.prototype.getMockData=function(t){var r=this.options,n=r.xField,a=r.yField,o=r.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},e}(Jf),ZB=Xy;Mn("stackedColumnLine",Xy);var KB=function(i){(0,qt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedColumnLine",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=ZB.getDefaultOptions,e}(pn),Vy=KB,$B=function(e){return e.charAt(0).toUpperCase()+e.slice(1).replace(/-(\w)/g,function(t,r){return r.toUpperCase()})},_Y=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},QB=function(e,t){return new Set(e.concat(t)).size===e.length},JB=function(e,t){var r={}.toString;return r.call(e)==="[object "+t+"]"},qB=function(e){if(!e)return e;var t={};for(var r in e)t[r]=e[r];return t},cs={sameArray:QB,camelCase:$B,isType:JB,clone:qB},tD=v(73935),eD=function(e){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",tD.render(e,t),t},qf=eD;function Hy(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function rD(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hy(Object(t),!0).forEach(function(r){nD(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Hy(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function nD(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Cn(i,e){var t=(0,dt.useRef)(),r=(0,dt.useRef)(null),n=function(){var l,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(f,h)},a=function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var d=l;if(!d){var b,L=e;d="".concat((L==null||(b=L.title)===null||b===void 0?void 0:b.text)||(i==null?void 0:i.name),".png")}var D=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(f,h),V=document.createElement("a");V.href=D,V.download=d,document.body.appendChild(V),V.click(),document.body.removeChild(V),V=null}catch($){console.log($)}},o=function(){var l,f,h,c,d;if((l=e.statistic)===null||l===void 0?void 0:l.htmlContent){var b=e.statistic.htmlContent;e.statistic.htmlContent=function(){var D=b.apply(void 0,arguments);return cs.isType(D,"String")||cs.isType(D,"Number")||cs.isType(D,"HTMLDivElement")?D:qf(D)}}if(((f=e.tooltip)===null||f===void 0||(h=f.custom)===null||h===void 0?void 0:h.container)&&(e.tooltip.custom.container=qf(e.tooltip.custom.container)),(c=e.tooltip)===null||c===void 0||(d=c.custom)===null||d===void 0?void 0:d.customContent){var L=e.tooltip.custom.customContent;e.tooltip.custom.customContent=function(D,V){var $=L(D,V)||"";return cs.isType($,"HTMLDivElement")?$:qf($)}}};return(0,dt.useEffect)(function(){t.current&&(e.onlyChangeData?t.current.changeData((e==null?void 0:e.data)||[]):(o(),t.current.updateConfig(e),t.current.render()))},[(e==null?void 0:e.memoData)?e.memoData:JSON.stringify(e)]),(0,dt.useEffect)(function(){if(!r.current)return function(){return null};o();var s=new i(r.current,rD({},e));return s.__proto__.toDataURL=function(l,f){return n(l,f)},s.__proto__.downloadImage=function(l,f,h){return a(l,f,h)},s.render(),t.current=cs.clone(s),function(){return s.destroy()}},[]),{chart:t,container:r,toDataURL:n,downloadImage:a}}var iD=dt.createContext({});function _l(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_l=function(t){return typeof t}:_l=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(i)}function aD(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Wy(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function oD(i,e,t){return e&&Wy(i.prototype,e),t&&Wy(i,t),i}function sD(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&th(i,e)}function th(i,e){return th=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},th(i,e)}function lD(i){var e=hD();return function(){var r=Ol(i),n;if(e){var a=Ol(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return uD(this,n)}}function uD(i,e){return e&&(_l(e)==="object"||typeof e=="function")?e:fD(i)}function fD(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function hD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function Ol(i){return Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ol(i)}var cD=function(i){sD(t,i);var e=lD(t);function t(){var r;return aD(this,t),r=e.apply(this,arguments),r.state={hasError:!1},r.renderError=function(n){switch(n){default:return dt.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},r}return oD(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(dt.Component),wn=cD,OY=iD.Provider;function vD(i,e){if(i==null)return{};var t=dD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function dD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var jy=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=vD(i,["chartRef","style","className"]),s=Cn(Vp,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});jy.defaultProps=Vp.getDefaultOptions();var pD=jy;function gD(i,e){if(i==null)return{};var t=yD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function yD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Uy=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=gD(i,["chartRef","style","className"]),s=Cn(Cp,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});Uy.defaultProps=Cp.getDefaultOptions();var mD=Uy;function xD(i,e){if(i==null)return{};var t=bD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function bD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Zy=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=xD(i,["chartRef","style","className"]),s=Cn(ny,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});Zy.defaultProps=ny.getDefaultOptions();var wD=Zy;function SD(i,e){if(i==null)return{};var t=MD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function MD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Ky=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=SD(i,["chartRef","style","className"]),s=Cn(ay,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});Ky.defaultProps=ay.getDefaultOptions();var CD=Ky;function ED(i,e){if(i==null)return{};var t=AD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function AD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var TD=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=ED(i,["chartRef","style","className"]),s=Cn(eB,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))}),PD=TD;function _D(i,e){if(i==null)return{};var t=OD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function OD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $y=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=_D(i,["chartRef","style","className"]),s=Cn(qp,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});$y.defaultProps=qp.getDefaultOptions();var Qy=$y;function LD(i,e){if(i==null)return{};var t=ID(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function ID(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Jy=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=LD(i,["chartRef","style","className"]),s=Cn(Ry,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});Jy.defaultProps=Ry.getDefaultOptions();var kD=Jy;function BD(i,e){if(i==null)return{};var t=DD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function DD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var qy=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=BD(i,["chartRef","style","className"]),s=Cn(wg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});qy.defaultProps=wg.getDefaultOptions();var FD=qy;function RD(i,e){if(i==null)return{};var t=ND(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function ND(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var t0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=RD(i,["chartRef","style","className"]),s=Cn(Kg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});t0.defaultProps=Kg.getDefaultOptions();var e0=t0;function YD(i,e){if(i==null)return{};var t=GD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function GD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var r0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=YD(i,["chartRef","style","className"]),s=Cn(By,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});r0.defaultProps=By.getDefaultOptions();var zD=r0;function XD(i,e){if(i==null)return{};var t=VD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function VD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var n0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=XD(i,["chartRef","style","className"]),s=Cn(dy,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});n0.defaultProps=dy.getDefaultOptions();var HD=n0;function WD(i,e){if(i==null)return{};var t=jD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function jD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var UD=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=WD(i,["chartRef","style","className"]),s=Cn(eI,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))}),ZD=UD;function KD(i,e){if(i==null)return{};var t=$D(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function $D(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var i0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=KD(i,["chartRef","style","className"]),s=Cn(cy,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});i0.defaultProps=cy.getDefaultOptions();var a0=i0;function QD(i,e){if(i==null)return{};var t=JD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function JD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var o0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=QD(i,["chartRef","style","className"]),s=Cn(_p,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});o0.defaultProps=_p.getDefaultOptions();var qD=o0;function t5(i,e){if(i==null)return{};var t=e5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function e5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var s0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=t5(i,["chartRef","style","className"]),s=Cn(eg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});s0.defaultProps=eg.getDefaultOptions();var r5=s0;function n5(i,e){if(i==null)return{};var t=i5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function i5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var l0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=n5(i,["chartRef","style","className"]),s=Cn(Gy,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});l0.defaultProps=Gy.getDefaultOptions();var a5=l0;function o5(i,e){if(i==null)return{};var t=s5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function s5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var u0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=o5(i,["chartRef","style","className"]),s=Cn(Dg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});u0.defaultProps=Dg.getDefaultOptions();var l5=u0;function u5(i,e){if(i==null)return{};var t=f5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function f5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var f0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=u5(i,["chartRef","style","className"]),s=Cn(Eg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});f0.defaultProps=Eg.getDefaultOptions();var h5=f0;function c5(i,e){if(i==null)return{};var t=v5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function v5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var h0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=c5(i,["chartRef","style","className"]),s=Cn(Wg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});h0.defaultProps=Wg.getDefaultOptions();var d5=h0;function p5(i,e){if(i==null)return{};var t=g5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function g5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var c0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=p5(i,["chartRef","style","className"]),s=Cn(ip,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});c0.defaultProps=ip.getDefaultOptions();var v0=c0;function y5(i,e){if(i==null)return{};var t=m5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function m5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var d0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=y5(i,["chartRef","style","className"]),s=Cn(Vg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});d0.defaultProps=Vg.getDefaultOptions();var p0=d0;function x5(i,e){if(i==null)return{};var t=b5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function b5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var g0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=x5(i,["chartRef","style","className"]),s=Cn(gy,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});g0.defaultProps=gy.getDefaultOptions();var w5=g0;function S5(i,e){if(i==null)return{};var t=M5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function M5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var y0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=S5(i,["chartRef","style","className"]),s=Cn(Kp,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});y0.defaultProps=Kp.getDefaultOptions();var C5=y0;function E5(i,e){if(i==null)return{};var t=A5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function A5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var m0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=E5(i,["chartRef","style","className"]),s=Cn(Ip,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});m0.defaultProps=Ip.getDefaultOptions();var T5=m0;function P5(i,e){if(i==null)return{};var t=_5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function _5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var x0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=P5(i,["chartRef","style","className"]),s=Cn(cg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});x0.defaultProps=cg.getDefaultOptions();var O5=x0;function L5(i,e){if(i==null)return{};var t=I5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function I5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var b0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=L5(i,["chartRef","style","className"]),s=Cn(mg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});b0.defaultProps=mg.getDefaultOptions();var k5=b0;function B5(i,e){if(i==null)return{};var t=D5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function D5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var w0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=B5(i,["chartRef","style","className"]),s=Cn(wy,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});w0.defaultProps=wy.getDefaultOptions();var S0=w0;function F5(i,e){if(i==null)return{};var t=R5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function R5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var M0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=F5(i,["chartRef","style","className"]),s=Cn(Rg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});M0.defaultProps=Rg.getDefaultOptions();var C0=M0;function N5(i,e){if(i==null)return{};var t=Y5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function Y5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var E0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=N5(i,["chartRef","style","className"]),s=Cn(Np,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});E0.defaultProps=Np.getDefaultOptions();var G5=E0;function z5(i,e){if(i==null)return{};var t=X5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function X5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var A0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=z5(i,["chartRef","style","className"]),s=Cn(ug,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});A0.defaultProps=ug.getDefaultOptions();var V5=A0;function H5(i,e){if(i==null)return{};var t=W5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function W5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var T0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=H5(i,["chartRef","style","className"]),s=Cn(My,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});T0.defaultProps=My.getDefaultOptions();var P0=T0;function j5(i,e){if(i==null)return{};var t=U5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function U5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var _0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=j5(i,["chartRef","style","className"]),s=Cn(Tg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});_0.defaultProps=Tg.getDefaultOptions();var Z5=_0;function K5(i,e){if(i==null)return{};var t=$5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function $5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var O0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=K5(i,["chartRef","style","className"]),s=Cn(ey,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});O0.defaultProps=ey.getDefaultOptions();var Q5=O0;function J5(i,e){if(i==null)return{};var t=q5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function q5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var L0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=J5(i,["chartRef","style","className"]),s=Cn(jp,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});L0.defaultProps=jp.getDefaultOptions();var tF=L0;function eF(i,e){if(i==null)return{};var t=rF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function rF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var I0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=eF(i,["chartRef","style","className"]),s=Cn(Ap,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});I0.defaultProps=Ap.getDefaultOptions();var nF=I0;function iF(i,e){if(i==null)return{};var t=aF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function aF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var k0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=iF(i,["chartRef","style","className"]),s=Cn(ig,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});k0.defaultProps=ig.getDefaultOptions();var oF=k0;function sF(i,e){if(i==null)return{};var t=lF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function lF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var B0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=sF(i,["chartRef","style","className"]),s=Cn(Vy,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});B0.defaultProps=Vy.getDefaultOptions();var uF=B0;function fF(i,e){if(i==null)return{};var t=hF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function hF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var D0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=fF(i,["chartRef","style","className"]),s=Cn(kg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});D0.defaultProps=kg.getDefaultOptions();var cF=D0;function vF(i,e){if(i==null)return{};var t=dF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function dF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=vF(i,["chartRef","style","className"]),s=Cn(yp,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});F0.defaultProps=yp.getDefaultOptions();var pF=F0;function gF(i,e){if(i==null)return{};var t=yF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function yF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=gF(i,["chartRef","style","className"]),s=Cn(Ty,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});R0.defaultProps=Ty.getDefaultOptions();var N0=R0;function mF(i,e){if(i==null)return{};var t=xF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function xF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Y0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=mF(i,["chartRef","style","className"]),s=Cn(Ey,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});Y0.defaultProps=Ey.getDefaultOptions();var G0=Y0;function bF(i,e){if(i==null)return{};var t=wF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function wF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var z0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=bF(i,["chartRef","style","className"]),s=Cn(_y,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});z0.defaultProps=_y.getDefaultOptions();var SF=z0;function MF(i,e){if(i==null)return{};var t=CF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function CF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var X0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=MF(i,["chartRef","style","className"]),s=Cn(pp,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});X0.defaultProps=pp.getDefaultOptions();var EF=X0;function AF(i,e){if(i==null)return{};var t=TF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function TF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var V0=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=AF(i,["chartRef","style","className"]),s=Cn(Jg,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))});V0.defaultProps=Jg.getDefaultOptions();var PF=V0;function _F(i,e){if(i==null)return{};var t=OF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function OF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var LF=(0,dt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=_F(i,["chartRef","style","className"]),s=Cn(GL,o),l=s.chart,f=s.container;return(0,dt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,dt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),dt.createElement(wn,null,dt.createElement("div",{className:a,style:n,ref:f}))}),H0=LF,IF={i8:"3.8.5"},hi=v(50229),kF={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,r=this.events;this.graph=e,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!0),(0,Un.default)(r,function(n,a){e.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(e){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!1),(0,Un.default)(t,function(r,n){e.off(n,r)})},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},BF=function(){function i(){}return i.registerBehavior=function(e,t){if(!t)throw new Error("please specify handler for this behavior: "+e);var r=(0,hi.d9)(kF);Object.assign(r,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var f={};l&&((0,hi.S6)(l,function(h,c){f[c]=(0,hi.Ko)(s,h)}),this.events=f)};n.prototype=r,i.types[e]=n},i.hasBehavior=function(e){return!!i.types[e]},i.getBehavior=function(e){return i.types[e]},i.types={},i}(),eh=BF,rh;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(rh||(rh={}));var La=v(16185);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nh=function(e,t){return nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},nh(e,t)};function ii(i,e){nh(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ue=function(){return ue=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ue.apply(this,arguments)};function Ui(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t}function LY(i,e,t,r){var n=arguments.length,a=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,r);else for(var s=i.length-1;s>=0;s--)(o=i[s])&&(a=(n<3?o(a):n>3?o(e,t,a):o(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a}function IY(i,e){return function(t,r){e(t,r,i)}}function kY(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function BY(i,e,t,r){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(h){try{f(r.next(h))}catch(c){o(c)}}function l(h){try{f(r.throw(h))}catch(c){o(c)}}function f(h){h.done?a(h.value):n(h.value).then(s,l)}f((r=r.apply(i,e||[])).next())})}function DY(i,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(h){return l([f,h])}}function l(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(a=f[0]&2?n.return:f[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,f[1])).done)return a;switch(n=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(i,t)}catch(h){f=[6,h],n=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function FY(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}function RY(i,e){for(var t in i)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function W0(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function DF(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var r=t.call(i),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a}function NY(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(DF(arguments[e]));return i}function vs(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var r=Array(i),n=0,e=0;e<t;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,n++)r[n]=a[o];return r}function Ll(i){return this instanceof Ll?(this.v=i,this):new Ll(i)}function YY(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(i,e||[]),n,a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(d){r[d]&&(n[d]=function(b){return new Promise(function(L,D){a.push([d,b,L,D])>1||s(d,b)})})}function s(d,b){try{l(r[d](b))}catch(L){c(a[0][3],L)}}function l(d){d.value instanceof Ll?Promise.resolve(d.value.v).then(f,h):c(a[0][2],d)}function f(d){s("next",d)}function h(d){s("throw",d)}function c(d,b){d(b),a.shift(),a.length&&s(a[0][0],a[0][1])}}function GY(i){var e,t;return e={},r("next"),r("throw",function(n){throw n}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(n,a){e[n]=i[n]?function(o){return(t=!t)?{value:Ll(i[n](o)),done:n==="return"}:a?a(o):o}:a}}function zY(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof W0=="function"?W0(i):i[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=i[a]&&function(o){return new Promise(function(s,l){o=i[a](o),n(s,l,o.done,o.value)})}}function n(a,o,s,l){Promise.resolve(l).then(function(f){a({value:f,done:s})},o)}}function XY(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}function VY(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(e[t]=i[t]);return e.default=i,e}function HY(i){return i&&i.__esModule?i:{default:i}}function WY(i,e){if(!e.has(i))throw new TypeError("attempted to get private field on non-instance");return e.get(i)}function jY(i,e,t){if(!e.has(i))throw new TypeError("attempted to set private field on non-instance");return e.set(i,t),t}var FF=v(30490),RF=function(i){ii(e,i);function e(t,r){var n=i.call(this,t,r)||this;return n.item=r.item,n.canvasX=r.canvasX,n.canvasY=r.canvasY,n.wheelDelta=r.wheelDelta,n.detail=r.detail,n}return e}(FF.Z),ih=function(e){var t=0,r=0,n=0,a=0;if((0,La.default)(e))t=r=n=a=e;else if((0,zn.default)(e)){var o=parseInt(e,10);t=r=n=a=o}else(0,Di.default)(e)&&(t=e[0],n=(0,Bi.default)(e[1])?e[0]:e[1],a=(0,Bi.default)(e[2])?e[0]:e[2],r=(0,Bi.default)(e[3])?n:e[3]);return[t,n,a,r]},Il=function(e){var t=new RF(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},j0=function(e){if(!e)return!1;for(var t=9,r=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(e[n]!==r[n])return!0;return!1},$a=function(e){return Number.isNaN(Number(e))},U0=function(e){for(var t=Infinity,r=-Infinity,n=Infinity,a=-Infinity,o=0;o<e.length;o++){var s=e[o],l=s.getBBox(),f=l.minX,h=l.minY,c=l.maxX,d=l.maxY;f<t&&(t=f),h<n&&(n=h),c>r&&(r=c),d>a&&(a=d)}var b=Math.floor(t),L=Math.floor(n),D=Math.ceil(r)-Math.floor(t),V=Math.ceil(a)-Math.floor(n);return{x:b,y:L,width:D,height:V,minX:t,minY:n,maxX:r,maxY:a}},NF=function(e,t){t===void 0&&(t=15);for(var r=e.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},f=0;f<r;f++){var h=e[f],c=h.source,d=h.target,b=c+"-"+d;if(!s[f]){o[b]||(o[b]=[]),s[f]=!0,o[b].push(h);for(var L=0;L<r;L++)if(f!==L){var D=e[L],V=D.source,$=D.target;s[L]||(c===$&&d===V?(o[b].push(D),s[L]=!0,l[V+"|"+$+"|"+(o[b].length-1)]=!0):c===V&&d===$&&(o[b].push(D),s[L]=!0))}}}for(var K in o)for(var yt=o[K],wt=yt.length,Rt=0;Rt<wt;Rt++){var Zt=yt[Rt];if(Zt.source===Zt.target){Zt.type="loop",Zt.loopCfg={position:a[Rt%8],dist:Math.floor(Rt/8)*20+50};continue}Zt.type="quadratic";var te=(Rt%2==0?1:-1)*(l[Zt.source+"|"+Zt.target+"|"+Rt]?-1:1);wt%2==1?Zt.curveOffset=te*Math.ceil(Rt/2)*n:Zt.curveOffset=te*(Math.floor(Rt/2)*n+t)}return e},Z0=Math.abs,YF=10,GF=["shift","ctrl","alt","control"],zF={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,r=+e.clientX,n=+e.clientY;if(!($a(r)||$a(n))){var a=r-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:r,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),f=this.graph.get("canvas").getCanvasBBox();(f.minX<=s+this.scalableRange&&f.minX+a>s+this.scalableRange||f.maxX+this.scalableRange>=0&&f.maxX+this.scalableRange+a<0)&&(a=0),(f.minY<=l+this.scalableRange&&f.minY+o>l+this.scalableRange||f.maxY+this.scalableRange>=0&&f.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(e){var t=this,r=e.originalEvent;if(!(r&&r.button!==0)&&!(e.name!==rh.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||e.shape)&&(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(K){K.hide()})}for(var f=n.getNodes(),h=0,c=f.length;h<c;h++)for(var d=f[h].getContainer(),b=d.get("children"),L=0,D=b;L<D.length;L++){var V=D[L],$=V.get("isKeyShape");$||V.hide()}}},onMouseMove:function(e){var t=this.graph;if(!(this.keydown||e.shape)&&(e=Il(e),!!this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(Z0(this.origin.x-e.clientX)+Z0(this.origin.y-e.clientY)<YF)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}},onMouseUp:function(e){var t=this.graph;if(!(this.keydown||e.shape)){if(this.enableOptimize){for(var r=t.getEdges(),n=0,a=r.length;n<a;n++){var o=r[n].get("group").get("children");!o||o.forEach(function(V){V.show()})}for(var s=t.getNodes(),l=0,f=s.length;l<f;l++)for(var h=s[l].getContainer(),c=h.get("children"),d=0,b=c;d<b.length;d++){var L=b[d],D=L.get("isKeyShape");D||L.show()}}if(!this.dragging){this.origin=null;return}e=Il(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",t.emit("canvas:dragend",e),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=this,r=e.key;!r||(GF.indexOf(r.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},XF=v(6767),kl=v.n(XF),Bl=v(21997),Dl=2,K0=.16,VF=.05,HF=.05,WF=.15,$0=5,Q0=4,jF=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function J0(i,e,t){var r;return Math.round(i.h)>=60&&Math.round(i.h)<=240?r=t?Math.round(i.h)-Dl*e:Math.round(i.h)+Dl*e:r=t?Math.round(i.h)+Dl*e:Math.round(i.h)-Dl*e,r<0?r+=360:r>=360&&(r-=360),r}function q0(i,e,t){if(i.h===0&&i.s===0)return i.s;var r;return t?r=i.s-K0*e:e===Q0?r=i.s+K0:r=i.s+VF*e,r>1&&(r=1),t&&e===$0&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function tm(i,e,t){var r;return t?r=i.v+HF*e:r=i.v-WF*e,r>1&&(r=1),Number(r.toFixed(2))}function ah(i){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=(0,Bl.Z)(i),n=$0;n>0;n-=1){var a=r.toHsv(),o=(0,Bl.Z)({h:J0(a,n,!0),s:q0(a,n,!0),v:tm(a,n,!0)}).toHexString();t.push(o)}t.push(r.toHexString());for(var s=1;s<=Q0;s+=1){var l=r.toHsv(),f=(0,Bl.Z)({h:J0(l,s),s:q0(l,s),v:tm(l,s)}).toHexString();t.push(f)}return e.theme==="dark"?jF.map(function(h){var c=h.index,d=h.opacity,b=Bl.Z.mix(e.backgroundColor||"#141414",t[c],d*100).toHexString();return b}):t}var oh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Zi={},sh={};Object.keys(oh).forEach(function(i){Zi[i]=ah(oh[i]),Zi[i].primary=Zi[i][5],sh[i]=ah(oh[i],{theme:"dark",backgroundColor:"#141414"}),sh[i].primary=sh[i][5]});var UY=Zi.red,ZY=Zi.volcano,KY=Zi.gold,$Y=Zi.orange,QY=Zi.yellow,JY=Zi.lime,qY=Zi.green,tG=Zi.cyan,eG=Zi.blue,rG=Zi.geekblue,nG=Zi.purple,iG=Zi.magenta,aG=Zi.grey,Ba=function(e,t,r){var n=kl()(e),a=kl()(t);return kl()([(1-r)*n.color[0]+r*a.color[0],(1-r)*n.color[1]+r*a.color[1],(1-r)*n.color[2]+r*a.color[2]]).rgb()},em=function(e,t,r,n){t===void 0&&(t="#fff"),r===void 0&&(r="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Ba(t,e,.05).rgb().toString(),o=Ba(t,n,.02).rgb().toString(),s=Ba(t,n,.05).rgb().toString(),l=Ba(t,n,.1).rgb().toString(),f=Ba(t,n,.2).rgb().toString(),h=Ba(t,n,.3).rgb().toString(),c=ah(e,{theme:r,backgroundColor:t}),d=kl()(e).hex().toLowerCase(),b=c.indexOf(d),L=e;return b!==-1&&(L=c[b+1]),{mainStroke:e,mainFill:Ba(t,e,.1).rgb().toString(),activeStroke:e,activeFill:a,inactiveStroke:Ba(t,e,.4).rgb().toString(),inactiveFill:a,selectedStroke:e,selectedFill:t,highlightStroke:L,highlightFill:Ba(t,e,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:e,edgeInactiveStroke:f,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:e,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:e,comboSelectedFill:o,comboHighlightStroke:L,comboHighlightFill:o,comboDisableStroke:f,comboDisableFill:s}},UF="rgb(95, 149, 255)",ZF="rgb(255, 255, 255)",rm="rgb(0, 0, 0)",Dn=em(UF,ZF),hr={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Dn.mainStroke,fill:Dn.mainFill},size:20,color:Dn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Dn.activeFill,stroke:Dn.activeStroke}},nodeStateStyles:{active:{fill:Dn.activeFill,stroke:Dn.activeStroke,lineWidth:2,shadowColor:Dn.mainStroke,shadowBlur:10},selected:{fill:Dn.selectedFill,stroke:Dn.selectedStroke,lineWidth:4,shadowColor:Dn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Dn.highlightFill,stroke:Dn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Dn.inactiveFill,stroke:Dn.inactiveStroke,lineWidth:1},disable:{fill:Dn.disableFill,stroke:Dn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:rm,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Dn.edgeMainStroke,lineAppendWidth:2},color:Dn.edgeMainStroke},edgeStateStyles:{active:{stroke:Dn.edgeActiveStroke,lineWidth:1},selected:{stroke:Dn.edgeSelectedStroke,lineWidth:2,shadowColor:Dn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Dn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Dn.edgeInactiveStroke,lineWidth:1},disable:{stroke:Dn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:rm,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Dn.comboMainFill,lineWidth:1,stroke:Dn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Dn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Dn.comboActiveStroke,lineWidth:1,fill:Dn.comboActiveFill},selected:{stroke:Dn.comboSelectedStroke,lineWidth:2,fill:Dn.comboSelectedFill,shadowColor:Dn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Dn.comboHighlightStroke,lineWidth:2,fill:Dn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Dn.comboInactiveStroke,fill:Dn.comboInactiveFill,lineWidth:1},disable:{stroke:Dn.comboDisableStroke,fill:Dn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},KF={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(e){if(!this.origin||!e||e.destroyed)return!1;var t=e.getType();return t==="combo"},onDragStart:function(e){var t=this;if(!!this.shouldBegin.call(this,e)){var r=e.item;if(!(!r||r.destroyed||r.hasLocked())){var n=r.getContainer();n.set("capture",!1);var a=e.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),f=r.get("id"),h=l.filter(function(d){var b=d.get("id");return f===b});h.length===0?this.targets.push(r):l.length>1?l.forEach(function(d){var b=d.hasLocked();b||t.targets.push(d)}):this.targets.push(r);var c=[];this.targets.forEach(function(d){c.push((0,hi.d9)(d.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;!this.origin||!this.shouldUpdate(this,e)||(this.get("enableDelegate")?this.updateDelegate(e):this.targets.map(function(r){t.update(r,e)}))},onDragEnd:function(e){if(!(!this.origin||!this.shouldEnd.call(this,e))){var t=e.item;if(t){var r=t.getContainer();r.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(e);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,hi.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(!!this.validationCombo(t)){this.updatePositions(e);var r=this.graph;if(this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)r.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&r.updateComboTree(a,n.id)}),r.updateCombo(t)}r.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(e),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(r){var n=r.getModel();n.comboId&&t.updateComboTree(r)}))},onDropNode:function(e){if(!(!this.targets||this.targets.length===0)){var t=this,r=e.item;this.updatePositions(e);var n=t.graph,a=r.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:r})}},onDragEnter:function(e){var t=e.item;if(!!this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(!!this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(r){return t.update(r,e)})},update:function(e,t){var r=this.origin,n=e.get("model"),a=e.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-r.x+this.point[a].x,s=t.y-r.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(e,l,!1):e.updatePosition(l)},updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var d=e.x-this.origin.x+this.originPoint.minX,b=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:d,y:b})}else{var r=this.graph.get("group"),n=(0,hi.b$)({},hr.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),o=a.x,s=a.y,l=a.width,f=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:f,minX:h,minY:c},this.delegateRect=r.addShape("rect",{attrs:ue({width:l,height:f,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.graph,r=t.findAllByState("node",this.selectedState);r.length===0&&r.push(e.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<r.length;l++){var f=r[l],h=f.getBBox(),c=h.minX,d=h.minY,b=h.maxX,L=h.maxY;c<n&&(n=c),d<o&&(o=d),b>a&&(a=b),L>s&&(s=L)}var D=Math.floor(n),V=Math.floor(o),$=Math.ceil(a)-Math.floor(n),K=Math.ceil(s)-Math.floor(o);return{x:D,y:V,width:$,height:K,minX:n,minY:o}}},$F={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(e){var t=e.item,r=this.graph;if(this.item=t,!!this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=r.getNodes(),l=r.getEdges(),f=s.length,h=l.length,c=0;c<f;c++){var d=s[c],b=d.hasState("selected");n.resetSelected&&b&&r.setItemState(d,"selected",!1),r.setItemState(d,a,!1),o&&r.setItemState(d,o,!0)}for(var c=0;c<h;c++){var L=l[c];r.setItemState(L,a,!1),o&&r.setItemState(L,o,!0)}o&&r.setItemState(t,o,!1),r.setItemState(t,a,!0);for(var D=t.getEdges(),V=D.length,c=0;c<V;c++){var L=D[c],$=void 0;L.getSource()===t?$=L.getTarget():$=L.getSource(),o&&r.setItemState($,o,!1),r.setItemState($,a,!0),r.setItemState(L,o,!1),r.setItemState(L,a,!0),L.toFront()}r.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this,r=t.get("graph");if(!!t.shouldUpdate(e.item,{event:e,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=r.get("autoPaint");r.setAutoPaint(!1);for(var s=r.getNodes(),l=r.getEdges(),f=s.length,h=l.length,c=0;c<f;c++){var d=s[c];r.clearItemStates(d,[n,a])}for(var c=0;c<h;c++){var b=l[c];r.clearItemStates(b,[n,a,"deactivate"])}r.paint(),r.setAutoPaint(o),r.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(e){var t=this,r=t.graph;if(!!t.shouldUpdate(e.item,{event:e,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=r.getNodes(),s=r.getEdges(),l=o.length,f=s.length,h=0;h<l;h++){var c=o[h];r.clearItemStates(c,[n,a])}for(var h=0;h<f;h++){var d=s[h];r.clearItemStates(d,[n,a,"deactivate"])}r.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}}},Fl=Math.min,nm=Math.max,im=Math.abs,am="shift",QF=["drag","shift","ctrl","alt","control"],JF={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:am,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return QF.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=am,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,r=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),r||(r=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},r.attr({width:0,height:0}),r.show(),this.dragging=!0)},onMouseMove:function(e){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(e)},onMouseUp:function(e){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this,t=e.graph,r=e.selectedState,n=t.findAllByState("node",r),a=t.findAllByState("edge",r);n.forEach(function(o){return t.setItemState(o,r,!1)}),a.forEach(function(o){return t.setItemState(o,r,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,r=this,n=r.graph,a=r.originPoint,o=r.shouldUpdate,s=this.selectedState,l={x:e.x,y:e.y},f=n.getPointByCanvas(a.x,a.y),h=Fl(l.x,f.x),c=nm(l.x,f.x),d=Fl(l.y,f.y),b=nm(l.y,f.y),L=[],D=[];n.getNodes().forEach(function($){var K=$.getBBox();if(K.centerX>=h&&K.centerX<=c&&K.centerY>=d&&K.centerY<=b&&o($,"select")){L.push($);var yt=$.getModel();D.push(yt.id),n.setItemState($,s,!0)}});var V=[];this.includeEdges&&L.forEach(function($){var K=$.getOutEdges();K.forEach(function(yt){var wt=yt.getModel(),Rt=wt.source,Zt=wt.target;D.includes(Rt)&&D.includes(Zt)&&o(yt,"select")&&(V.push(yt),n.setItemState(yt,t.selectedState,!0))})}),this.selectedEdges=V,this.selectedNodes=L,this.onSelect&&this.onSelect(L,V),n.emit("nodeselectchange",{selectedItems:{nodes:L,edges:V},select:!0})},createBrush:function(){var e=this,t=e.graph.get("canvas").addShape("rect",{attrs:e.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:im(e.canvasX-t.x),height:im(e.canvasY-t.y),x:Fl(e.canvasX,t.x),y:Fl(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(!!t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},om="shift",qF=["shift","ctrl","alt","control"],tR={getDefaultCfg:function(){return{multiple:!0,trigger:om,selectedState:"selected"}},getEvents:function(){var e=this;return qF.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=om,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,r=e.item;if(!(!r||r.destroyed)){var n=r.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,f=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,e)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,Un.default)(c,function(L){L!==r&&o.setItemState(L,t.selectedState,!1)})}if(r.hasState(this.selectedState)){f.call(this,e)&&o.setItemState(r,this.selectedState,!1);var d=o.findAllByState("node",this.selectedState),b=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:r,selectedItems:{nodes:d,combos:b},select:!1})}else{f.call(this,e)&&o.setItemState(r,this.selectedState,!0);var d=o.findAllByState("node",this.selectedState),b=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:r,selectedItems:{nodes:d,combos:b},select:!0})}}}},onCanvasClick:function(){var e=this,t=this.graph,r=t.findAllByState("node",this.selectedState);(0,Un.default)(r,function(a){t.setItemState(a,e.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,Un.default)(n,function(a){t.setItemState(a,e.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(e){var t=e.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},ha=v(31502);ha.translate=function(i,e,t){var r=new Array(9);return ha.fromTranslation(r,t),ha.multiply(i,r,e)},ha.rotate=function(i,e,t){var r=new Array(9);return ha.fromRotation(r,t),ha.multiply(i,r,e)},ha.scale=function(i,e,t){var r=new Array(9);return ha.fromScaling(r,t),ha.multiply(i,r,e)},ha.transform=function(i,e){for(var t=[].concat(i),r=0,n=e.length;r<n;r++){var a=e[r];switch(a[0]){case"t":ha.translate(t,t,[a[1],a[2]]);break;case"s":ha.scale(t,t,[a[1],a[2]]);break;case"r":ha.rotate(t,t,a[1]);break;default:break}}return t};var Qa=ha,Da=v(76172);Da.angle=function(i,e){var t=Da.dot(i,e)/(Da.length(i)*Da.length(e));return Math.acos((0,u.clamp)(t,-1,1))},Da.direction=function(i,e){return i[0]*e[1]-e[0]*i[1]},Da.angleTo=function(i,e,t){var r=Da.angle(i,e),n=Da.direction(i,e)>=0;return t?n?Math.PI*2-r:r:n?r:Math.PI*2-r},Da.vertical=function(i,e,t){return t?(i[0]=e[1],i[1]=-1*e[0]):(i[0]=-1*e[1],i[1]=e[0]),i};var ai=Da,eR=v(88395),sm=eR,Fa=function(i,e){var t=i?(0,u.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,u.each)(e,function(r){switch(r[0]){case"t":Qa.translate(t,t,[r[1],r[2]]);break;case"s":Qa.scale(t,t,[r[1],r[2]]);break;case"r":Qa.rotate(t,t,r[1]);break;case"m":Qa.multiply(t,t,r[1]);break;default:return!1}}),t},lm=.05,rR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,r=t[0],n=t[1];e.preventDefault(),!!n&&(this.startPoint={pageX:r.pageX,pageY:r.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(e){if(!!this.moveable){e.preventDefault();var t=e.originalEvent.touches,r=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(b,L){return Math.hypot(L.x-b.x,L.y-b.y)},o=a({x:r.pageX,y:r.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),f=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>f||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,r=this,n=r.graph,a=r.fixSelectedItems;if(!!this.shouldUpdate.call(this,e)){e.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(e.clientX,e.clientY),l=this.get("sensitivity"),f=n.getZoom(),h=f,c=f;e.wheelDelta<0?h=1-lm*l:h=1/(1-lm*l),c=f*h;var d=this.get("minZoom")||n.get("minZoom"),b=this.get("maxZoom")||n.get("maxZoom");if(!(c>b||c<d)){var L=this.get("enableOptimize");if(L){var D=this.get("optimizeZoom"),V=this.get("optimized"),$=n.getNodes(),K=n.getEdges(),yt=$.length,wt=K.length;if(!V){for(var Rt=0;Rt<yt;Rt++){var Zt=$[Rt];if(!Zt.destroyed)for(var te=Zt.get("group").get("children"),oe=te.length,re=0;re<oe;re++){var ye=te[re];!ye.destoryed&&!ye.get("isKeyShape")&&ye.hide()}}for(var Pe=0;Pe<wt;Pe++)for(var ze=K[Pe],te=ze.get("group").get("children"),oe=te.length,re=0;re<oe;re++){var ye=te[re];ye.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var je=setTimeout(function(){var vn=n.getZoom(),Wn=t.get("optimized");if(Wn){t.set("optimized",!1);for(var Vn=0;Vn<yt;Vn++){var yi=$[Vn],qn=yi.get("group").get("children"),Ei=qn.length;if(vn<D)yi.getKeyShape().show();else for(var Ai=0;Ai<Ei;Ai++){var na=qn[Ai];na.get("visible")||na.show()}}for(var xa=0;xa<wt;xa++){var Yi=K[xa],qn=Yi.get("group").get("children"),Ei=qn.length;if(vn<D)Yi.getKeyShape().show();else for(var Ai=0;Ai<Ei;Ai++){var na=qn[Ai];na.get("visible")||na.show()}}}},500);this.set("timeout",je)}if(f<=1){var Qe=void 0,Ze=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Qe=n.findAllByState("node",a.fixState),Ze=n.findAllByState("edge",a.fixState);for(var xr=f/c,Or=Qe.length,Tr=0;Tr<Or;Tr++){var Zt=Qe[Tr],Mr=Zt.getContainer(),br=Zt.getModel(),qr=Zt.getOriginStyle(),Gr=Zt.getStateStyle(a.fixState),Kr=Zt.get("shapeFactory").getShape(br.shape||br.type).getStateStyle(a.fixState,Zt)[a.fixState];if(a.fixAll){if(c<=1){var Ar=(0,u.clone)(Mr.getMatrix());Ar||(Ar=[1,0,0,0,1,0,0,0,1]);var Hr=Zt.getModel(),an=Hr.x,jr=Hr.y;Qa.translate(Ar,Ar,[-an,-jr]),Qa.scale(Ar,Ar,[xr,xr]),Qa.translate(Ar,Ar,[an,jr]),Mr.setMatrix(Ar)}}else for(var te=Mr.get("children"),oe=te.length,re=0;re<oe;re++){var ye=te[re],Wr=void 0,Xn=void 0;if(a.fixLabel){var Tn=ye.get("type");if(Tn==="text"){Wr=ye.attr("fontSize")||12;var Jr=Gr[ye.get("name")],mr=Kr[ye.get("name")],_r=Jr?Jr.fontSize:12,dn=mr?mr.fontSize:12,yn=_r||dn||12;if(c<=1&&ye.attr("fontSize",yn/c),Xn)break}}if(a.fixLineWidth&&ye.get("isKeyShape")){Xn=ye.attr("lineWidth")||0;var un=Gr.lineWidth||Kr.lineWidth||qr.lineWidth||0;if(c<=1&&ye.attr("lineWidth",un/c),Wr)break}}}for(var Pn=Ze.length,Sn=0;Sn<Pn;Sn++)for(var ze=Ze[Sn],Mr=ze.getContainer(),te=Mr.get("children"),br=ze.getModel(),Gr=ze.getStateStyle(a.fixState),Kr=ze.get("shapeFactory").getShape(br.shape||br.type).getStateStyle(a.fixState,ze)[a.fixState],oe=te.length,re=0;re<oe;re++){var ye=te[re],Wr=void 0,Xn=void 0;if(a.fixLabel||a.fixAll){var Tn=ye.get("type");if(Tn==="text"){Wr=ye.attr("fontSize")||12;var Jr=Gr[ye.get("name")],mr=Kr[ye.get("name")],_r=Jr?Jr.fontSize:12,dn=mr?mr.fontSize:12,yn=_r||dn||12;if(c<=1&&ye.attr("fontSize",yn/c),Xn)break}}if((a.fixLineWidth||a.fixAll)&&ye.get("isKeyShape")){Xn=ye.attr("lineWidth")||0;var un=Gr.lineWidth||Kr.lineWidth||1;if(c<=1&&ye.attr("lineWidth",un/c),Wr)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",e)}}}},Qn=v(1513),Ci=v(57821),um={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){if(!this.shouldUpdate(e)){this.hideTooltip();return}!this.currentTarget||e.item!==this.currentTarget||this.updatePosition(e)},onMouseLeave:function(e){!this.shouldEnd(e)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(!(!e.item||e.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var r=this.formatText(e.item.get("model"),e);t.innerHTML=r,(0,Qn.Z)(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){(0,Qn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),r=this,n=r.width,a=r.height,o=r.container,s=r.graph;if(!t(e)){(0,Qn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(e.clientX,e.clientY),f=s.getCanvasByPoint(l.x,l.y),h=f.x,c=f.y,d=o.getBoundingClientRect();h>n/2?h-=d.width:h+=this.offset,c>a/2?c-=d.height:c+=this.offset;var b=h+"px",L=c+"px";(0,Qn.Z)(this.container,{left:b,top:L,visibility:"visible"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var r=(0,Ci.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(r),(0,Qn.Z)(r,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=r,this.graph.get("tooltips").push(r),r}},nR=ue({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},um),iR=ue({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},um),Xi=v(90497),aR={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(e){var t=this.graph,r=e.target,n=r.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:e.x,y:e.y};for(var l=t.save().groups,f=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){f=c.parentId;break}}if(f){var d=o[f].nodeGroup;a.setGroupStyle(d.get("keyShape"),"hover")}}},onDrag:function(e){!this.mouseOrigin||this.updateDelegate(e)},onDragEnd:function(e){var t=this.graph,r=e.target.get("groupId");if(this.delegateShapes[r]&&(this.delegateShapeBBox=this.delegateShapes[r].getBBox(),this.delegateShapes[r].remove(),delete this.delegateShapes[r]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[r];n.updateGroup(r,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(e){var t=this.graph,r=e.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[r],o=n.getBBox(),s=n.get("type");if(a){var $=this,K=$.mouseOrigin,yt=$.shapeOrigin,wt=e.x-K.x,Rt=e.y-K.y,Zt=wt+yt.x,te=Rt+yt.y;a.attr({x:Zt,y:te}),this.delegateShapeBBoxs[r]=a.getBBox()}else{var l=t.get("delegateGroup"),f=o.x,h=o.y,c=o.width,d=o.height,b=ue({width:c,height:d},(0,Xi.default)({},hr.delegateStyle,this.delegateStyle));if(s==="circle"){var L=c>d?c/2:d/2,D=f+L,V=h+L;a=l.addShape("circle",{attrs:ue({x:D,y:V,r:L},b),name:"circle-delegate-shape"}),this.shapeOrigin={x:D,y:V}}else a=l.addShape("rect",{attrs:ue({x:f,y:h},b),name:"rect-delegate-shape"}),this.shapeOrigin={x:f,y:h};this.delegateShapes[r]=a,this.delegateShapeBBoxs[r]=a.getBBox()}},onOutOfRange:function(e){var t=this,r=this.graph.get("canvas").get("el"),n=function a(o){o.target!==r&&(t.onDragEnd(e),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},oR=document.body,sR={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(e){var t=this.graph,r=e.target,n=r.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(e){var t=this.graph,r=e.target,n=r.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(e){var t=this.graph;if(!!this.shouldBegin.call(this,e)){var r=e.item;this.target=r;var n=r.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,f=l.get("keyShape");o.setGroupStyle(f,"hover"),this.inGroupId=a}}this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}},onDrag:function(e){if(!!this.origin&&!!this.get("shouldUpdate").call(this,e)){this.update(this.target,e,!0);var t=e.item,r=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=r.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,f=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(f,"default"):o.setGroupStyle(f,"hover")}}}},onDragEnd:function(e){if(!(!this.origin||!this.shouldEnd.call(this,e))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,e),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(e)}},setCurrentGroupStyle:function(e){var t=this.graph,r=e.item,n=r.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,f=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),d=r.getBBox(),b=c.getBBox(),L=d.centerX,D=d.centerY,V=b.minX,$=b.minY,K=b.maxX,yt=b.maxY;if(!(L<K*this.maxMultiple&&L>V*this.minMultiple&&D<yt*this.maxMultiple&&D>$*this.minMultiple)||this.inGroupId!==a){var wt=f[a];f[a]=wt.filter(function(te){return te!==o}),s.dynamicChangeGroupSize(e,h,c),delete n.groupId}if(this.inGroupId!==a){var Rt=l[this.inGroupId].nodeGroup;if(!Rt)return;var Zt=Rt.get("keyShape");f[this.inGroupId].indexOf(o)===-1&&f[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(e,Rt,Zt)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var Rt=l[this.inGroupId].nodeGroup;if(!Rt)return;var c=Rt.get("keyShape");f[this.inGroupId].indexOf(o)===-1&&f[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(e,Rt,c)}else if(!this.inGroupId&&a){Object.keys(f).forEach(function(re){var ye=f[re];f[re]=ye.filter(function(Pe){return Pe!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(e,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(e){var t=this,r=t.graph.get("canvas").get("el");function n(a){a.target!==r&&(e.item=t.target,t.onDragEnd(e),document.body.removeEventListener("mouseup",n,!0))}t.origin&&oR.addEventListener("mouseup",n,!0)},update:function(e,t,r){var n=this.origin,a=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(r){this.updateDelegate(t,s,l);return}var f={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(e,f):(e.updatePosition(f),this.graph.paint())},updateDelegate:function(e,t,r){var n=this.graph,a=e.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),f=(0,Xi.default)({},hr.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:ue({width:s.width,height:s.height,x:t-s.width/2,y:r-s.height/2},f),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:r-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:r}))}},fm="dblclick",lR=["click","dblclick"],uR={getDefaultCfg:function(){return{trigger:fm}},getEvents:function(){var e,t;return lR.includes(this.trigger)?t=this.trigger:(t=fm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e[""+t]="onGroupClick",e},onGroupClick:function(e){var t=e.target,r=this.graph,n=t.get("groupId");if(!!n){var a=r.get("customGroupControll");a.collapseExpandGroup(n)}}},hm="click",fR=["click","dblclick"],hR={getDefaultCfg:function(){return{trigger:hm,onChange:function(){}}},getEvents:function(){var e,t;return fR.includes(this.trigger)?t=this.trigger:(t=hm,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["node:"+t]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item,r=this.graph.findDataById(t.get("id"));if(!!r){var n=r.children;if(!(!n||n.length===0)){var a=!r.collapsed;if(!!this.shouldBegin(e,a)&&(r.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:e.item,collapsed:a}),!!this.shouldUpdate(e,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},cR=function i(e,t){if(t(e)!==!1&&e){var r=e.get("combos");if(r.length===0)return!1;(0,hi.S6)(r,function(n){i(n,t)})}},vR={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;if(!t||t.destroyed||!this.shouldUpdate(this,e))return!1;var r=t.getType();return r==="combo"},onDragStart:function(e){var t=this,r=this.graph,n=e.item;if(!!this.validationCombo(e)){this.targets=[];var a=r.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var f=l.get("id");return o===f});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var f=l.getModel();if(f.parentId){var h=r.findById(f.parentId);h&&r.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],cR(n,function(l){if(l.destroyed)return!1;var f=l.getModel();return t.currentItemChildCombos.push(f.id),!0})}},onDrag:function(e){var t=this;if(!!this.origin&&!!this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var r=this.graph,n=e.item,a=n.getModel(),o=r.getCombos(),s=n.getBBox(),l=s.centerX,f=s.centerY,h=s.width,c=o.filter(function(d){var b=d.getModel();return a.parentId,b.id!==a.id&&!t.currentItemChildCombos.includes(b.id)});c.map(function(d){var b=d.getBBox(),L=b.centerX,D=b.centerY,V=b.width,$=l-L,K=f-D,yt=2*Math.sqrt($*$+K*K);h+V-yt>.8*h?r.setItemState(d,t.activeState,!0):r.setItemState(d,t.activeState,!1)})}(0,hi.S6)(this.targets,function(d){t.updateCombo(d,e)})}},updatePositions:function(e){var t=this;this.enableDelegate&&(0,hi.S6)(this.targets,function(r){t.updateCombo(r,e)})},onDrop:function(e){var t=this,r=e.item;if(!(!r||!this.targets||r.destroyed)){this.updatePositions(e);var n=this.graph,a=r.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(r,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(r)}),this.end(r,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(e);var r=this.graph,n=e.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=r.findById(a);r.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?r.updateCombo(l):a!==l.getID()&&(o=r.findById(a),a!==l.getModel().parentId&&r.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)r.updateCombo(l);else{var f=l.getModel();f.comboId&&r.updateComboTree(l)}});this.endComparison=!0,this.end(o,e)}},onDragEnter:function(e){if(!!this.origin&&!!this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(!!this.origin&&!!this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(!(!this.targets||this.targets.length===0)){var t=e.item;this.updatePositions(e);var r=this.getParentCombo(t.getModel().parentId),n=this.graph;r&&this.activeState&&n.setItemState(r,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var r=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}e&&this.activeState&&n.setItemState(e,this.activeState,!1),e||this.targets.map(function(o){r.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t){var r=this;if(t(e)!==!1&&e){var n=e.get("combos");(0,hi.S6)(n,function(o){r.traverse(o,t)});var a=e.get("nodes");(0,hi.S6)(a,function(o){r.traverse(o,t)})}},updateCombo:function(e,t){var r=this;this.traverse(e,function(n){return n.destroyed?!1:(r.updateSignleItem(n,t),!0)})},updateSignleItem:function(e,t){var r=this.origin,n=this.graph,a=e.getModel(),o=e.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-r.x+this.point[o].x,l=t.y-r.y+this.point[o].y;n.updateItem(e,{x:s,y:l})},getParentCombo:function(e){var t=this.graph;if(!!e){var r=t.findById(e);if(!!r)return r}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var d=e.x-this.origin.x+this.originPoint.minX,b=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:d,y:b})}else{var r=t.get("delegateGroup"),n=null;this.targets.length>1?n=U0(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,f=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:f,minY:h};var c=ue(ue({},hr.delegateStyle),this.delegateStyle);this.delegateShape=r.addShape("rect",{attrs:ue({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},cm="dblclick",dR=["click","dblclick"],pR={getDefaultCfg:function(){return{trigger:cm,relayout:!0}},getEvents:function(){var e,t;return dR.includes(this.trigger)?t=this.trigger:(t=cm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["combo:"+t]="onComboClick",e},onComboClick:function(e){var t=e.item,r=this,n=r.graph,a=r.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},vm=function(e,t,r){return e>=t&&e<=r},ds=function(e,t,r,n){var a=.001,o={x:r.x-e.x,y:r.y-e.y},s={x:t.x-e.x,y:t.y-e.y},l={x:n.x-r.x,y:n.y-r.y},f=s.x*l.y-s.y*l.x,h=f*f,c=s.x*s.x+s.y*s.y,d=l.x*l.x+l.y*l.y,b=null;if(h>a*c*d){var L=(o.x*l.y-o.y*l.x)/f,D=(o.x*s.y-o.y*s.x)/f;vm(L,0,1)&&vm(D,0,1)&&(b={x:e.x+L*s.x,y:e.y+L*s.y})}return b},dm=function(e,t){var r=e.x,n=e.y,a=e.width,o=e.height,s=r+a/2,l=n+o/2,f=[],h={x:s,y:l};f.push({x:r,y:n}),f.push({x:r+a,y:n}),f.push({x:r+a,y:n+o}),f.push({x:r,y:n+o}),f.push({x:r,y:n});for(var c=null,d=1;d<f.length&&(c=ds(f[d-1],f[d],h,t),!c);d++);return c},pm=function(e,t){var r=e.x,n=e.y,a=e.r,o=t.x,s=t.y,l=o-r,f=s-n,h=Math.sqrt(l*l+f*f);if(h<a)return null;var c=Math.sign(l),d=Math.sign(f),b=Math.atan(f/l);return{x:r+Math.abs(a*Math.cos(b))*c,y:n+Math.abs(a*Math.sin(b))*d}},gm=function(e,t){var r=e.rx,n=e.ry,a=e.x,o=e.y,s=t.x-a,l=t.y-o,f=Math.atan2(l/n,s/r);return f<0&&(f+=2*Math.PI),{x:a+r*Math.cos(f),y:o+n*Math.sin(f)}},ps=function(e,t,r){r===void 0&&(r=1);var n=[e.x,e.y,r];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),sm.transformMat3(n,n,t),{x:n[0],y:n[1]}},ym=function(e,t,r){r===void 0&&(r=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=Qa.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[e.x,e.y,r];return sm.transformMat3(a,a,n),{x:a[0],y:a[1]}},lh=function(e,t,r){var n=e.x-t.x,a=e.y-t.y,o=e.x-r.x,s=e.y-r.y,l=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,f=(e.x*e.x-r.x*r.x-r.y*r.y+e.y*e.y)/2,h=a*o-n*s;return{x:-(s*l-a*f)/h,y:-(n*f-o*l)/h}},gs=function(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)},mm=function(e,t){var r=[];return e.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),r.push(a)}),r},uh=function(e){for(var t=[],r=e.length,n=0;n<r;n+=1){t[n]=[];for(var a=0;a<r;a+=1)n===a?t[n][a]=0:e[n][a]===0||!e[n][a]?t[n][a]=Infinity:t[n][a]=e[n][a]}for(var o=0;o<r;o+=1)for(var n=0;n<r;n+=1)for(var a=0;a<r;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},fh=function(e,t){var r=e.nodes,n=e.edges,a=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(s,l){o[s.id]=l;var f=[];a.push(f)}),n&&n.forEach(function(s){var l=s.source,f=s.target,h=o[l],c=o[f];a[h][c]=1,t||(a[c][h]=1)}),a},xm=function(e,t){e.translate(t.x,t.y)},bm=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=e.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=Fa(r,[["t",a,o]]);e.setMatrix(s)},gR=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=t;(0,Di.default)(t)||(n=[t,t]),(0,Di.default)(t)&&t.length===1&&(n=[t[0],t[0]]),r=Fa(r,[["s",n[0],n[1]]]),e.setMatrix(r)},yR=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]),r=Fa(r,[["r",t]]),e.setMatrix(r)},Rl=function(e,t,r){for(var n=[],a=0;a<e;a++)n[a]=0;return r.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function mR(i,e,t){return(t[0]-i[0])*(e[1]-i[1])==(e[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],e[0])<=t[0]&&t[0]<=Math.max(i[0],e[0])&&Math.min(i[1],e[1])<=t[1]&&t[1]<=Math.max(i[1],e[1])}var ys=function(e,t,r){var n=!1,a=e.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var f=e[l],h=e[(l+1)%a];if(mR(f,h,[t,r]))return!0;s(f[1]-r)>0!=s(h[1]-r)>0&&s(t-(r-f[1])*(f[0]-h[0])/(f[1]-h[1])-f[0])<0&&(n=!n)}return n},wm=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},xR=function(e,t){var r=!1;return(0,u.each)(e,function(n){if(ds(n.from,n.to,t.from,t.to))return r=!0,!1}),r},hh=function(e,t){var r=function(d){var b=d.map(function(D){return D[0]}),L=d.map(function(D){return D[1]});return{minX:Math.min.apply(null,b),maxX:Math.max.apply(null,b),minY:Math.min.apply(null,L),maxY:Math.max.apply(null,L)}},n=function(d){for(var b=[],L=d.length,D=0;D<L-1;D++){var V=d[D],$=d[D+1];b.push({from:{x:V[0],y:V[1]},to:{x:$[0],y:$[1]}})}if(b.length>1){var K=d[0],yt=d[L-1];b.push({from:{x:yt[0],y:yt[1]},to:{x:K[0],y:K[1]}})}return b};if(e.length<2||t.length<2)return!1;var a=r(e),o=r(t);if(!wm(a,o))return!1;var s=!1;if((0,u.each)(t,function(c){if(ys(e,c[0],c[1]))return s=!0,!1}),s||((0,u.each)(e,function(c){if(ys(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(e),f=n(t),h=!1;return(0,u.each)(f,function(c){if(xR(l,c))return h=!0,!1}),h},Ao=function(){function i(e,t,r,n){this.x1=e,this.y1=t,this.x2=r,this.y2=n}return i.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:e,y:t,minX:e,minY:t,maxX:r,maxY:n,width:r-e,height:n-t};return a},i}(),ch=function(e,t){var r={top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]};return r[t]},bR=function(e,t){var r=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),n=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),a=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(a){var o=r/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},Sm=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),a=0,o=[],s=0;s<4;s++){var l=ch(n,r[s]),f=l[0],h=l[1],c=l[2],d=l[3];o[s]=ds({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:f,y:h},{x:c,y:d}),o[s]&&(a+=1)}return[o,a]},vh=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=ch(n,r[s]),f=l[0],h=l[1],c=l[2],d=l[3],b=bR(t,new Ao(f,h,c,d));b=Math.abs(b-.5),b>=0&&b<=1&&(o+=1,a=b<a?b:a)}return o===0?-1:a},Mm=function(e){var t=0,r=0;if(e.length>0){for(var n=0,a=e;n<a.length;n++){var o=a[n];t+=o.x,r+=o.y}t/=e.length,r/=e.length}return{x:t,y:r}},Nl=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},Cm=function(e,t){var r=t.x1,n=t.y1,a=t.x2-r,o=t.y2-n,s=e.x-r,l=e.y-n,f=s*a+l*o,h;f<=0?h=0:(s=a-s,l=o-l,f=s*a+l*o,f<=0?h=0:h=f*f/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},dh=function(e,t,r){return r===void 0&&(r=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(r,2)},Em=function(e,t){var r=e.x<t.x,n=e.x>t.x+t.width,a=e.y>t.y+t.height,o=e.y<t.y,s=r||n||a||o;if(!s)return 0;if(a&&!r&&!n)return Math.pow(t.y+t.height-e.y,2);if(o&&!r&&!n)return Math.pow(e.y-t.y,2);if(r&&!a&&!o)return Math.pow(t.x-e.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-e.x,2);var l=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),f=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return l*l+f*f},wR=function(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(r,n){if(r.charAt(0)==="\\")return r.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},Am=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's "+e.length);for(var r=0,n=e;r<n.length;r++){var a=n[r],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,Is.catmullRom2Bezier)(t);return l.unshift(["M",e[0].x,e[0].y]),l},Yl=function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var a={x:(1-r)*e.x+r*t.x,y:(1-r)*e.y+r*t.y},o=[];ai.normalize(o,[t.x-e.x,t.y-e.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},Tm=function(e,t){var r=e.length;if(!r)return"";for(var n="",a="",o=0;o<r;o++){var s=e[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=wR(a,s)}return t&&(n+="Z"),n},Gl=function(e){var t=[];return e.forEach(function(r){var n=r[0];if(n!=="A")for(var a=1;a<r.length;a=a+2)t.push([r[a],r[a+1]]);else{var o=r.length;t.push([r[o-2],r[o-1]])}}),t},ph=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's "+e.length);var t=e[0],r=e[1],n=e[e.length-1],a=e[e.length-2];e.unshift(n),e.unshift(a),e.push(t),e.push(r);for(var o=[],s=1;s<e.length-2;s+=1){var l=e[s-1].x,f=e[s-1].y,h=e[s].x,c=e[s].y,d=e[s+1].x,b=e[s+1].y,L=s!==e.length-2?e[s+2].x:d,D=s!==e.length-2?e[s+2].y:b,V=h+(d-l)/6,$=c+(b-f)/6,K=d-(L-h)/6,yt=b-(D-c)/6;o.push(["C",V,$,K,yt,d,b])}return o.unshift(["M",n.x,n.y]),o},Pm=function(e,t){return ai.scale([],ai.normalize([],e),t)},_m=function(e,t){var r=[e[1]-t[1],t[0]-e[0]],n=Math.sqrt(r[0]*r[0]+r[1]*r[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[r[0]/n,r[1]/n]},Om=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function Lm(i,e){var t=function(c){var d=[c[0][0],c[0][1]-e],b=[c[0][0],c[0][1]+e];return"M "+d+" A "+e+","+e+",0,0,0,"+b+" A "+e+","+e+",0,0,0,"+d},r=function(c){var d=ai.scale([],_m(c[0],c[1]),e),b=ai.scale([],d,-1),L=ai.add([],c[0],d),D=ai.add([],c[1],d),V=ai.add([],c[1],b),$=ai.add([],c[0],b);return"M "+L+" L "+D+" A "+[e,e,"0,0,0",V].join(",")+" L "+$+" A "+[e,e,"0,0,0",L].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return r(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=ai.scale([],_m(o,s),e);n[a]=[ai.add([],o,l),ai.add([],s,l)]}var f="A "+[e,e,"0,0,0,"].join(",");return n=n.map(function(h,c){var d="";return c===0&&(d="M "+n[n.length-1][1]+" "),d+=f+h[0]+" L "+h[1],d}),n.join(" ")}function Im(i,e){var t=i.length,r=function(h){var c=[h[0][0],h[0][1]-e],d=[h[0][0],h[0][1]+e];return"M "+c+" A "+[e,e,"0,0,0",d].join(",")+" A "+[e,e,"0,0,0",c].join(",")},n=function(h){var c=Om(h[0],h[1]),d=Pm(c,e),b=ai.add([],h[0],ai.scale([],d,-1)),L=ai.add([],h[1],d),D=1.2*e,V=Pm(ai.normalize([],c),D),$=ai.scale([],V,-1),K=ai.add([],b,$),yt=ai.add([],L,$),wt=ai.add([],b,V);return"M "+b+" C "+[K,yt,L].join(",")+" S "+[wt,b].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return r(i);if(t===2)return n(i);for(var a=i.map(function(f,h){var c=i[(h+1)%t];return{p:f,v:ai.normalize([],Om(f,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=ai.normalize([],ai.add([],a[s].v,ai.scale([],a[o].v,-1)));a[o].p=ai.add([],a[o].p,ai.scale([],l,e))}return a.map(function(f){var h=f.p;return{x:h[0],y:h[1]}})}var km="shift",SR=["drag","shift","ctrl","alt","control"],MR=function(e,t){var r,n=e.getKeyShape();if(e.get("type")==="path")r=Gl(n.attr("path"));else{var a=n.getCanvasBBox();r=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return hh(t,r)},CR={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:km,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return SR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=km,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso,r=e.item;r||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach(function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(){var e=this,t=e.graph,r=e.selectedState,n=t.findAllByState("node",r),a=t.findAllByState("edge",r);n.forEach(function(o){return t.setItemState(o,r,!1)}),a.forEach(function(o){return t.setItemState(o,r,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this,r=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[r.getCanvasByPoint(h.x,h.y).x,r.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];r.getNodes().forEach(function(h){if(MR(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),r.setItemState(h,o,!0)}});var f=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(d){var b=d.getModel(),L=b.source,D=b.target;l.includes(L)&&l.includes(D)&&n(d,"select")&&(f.push(d),r.setItemState(d,e.selectedState,!0))})}),this.selectedEdges=f,this.selectedNodes=s,this.onSelect&&this.onSelect(s,f),r.emit("nodeselectchange",{selectedItems:{nodes:s,edges:f},select:!0})},createLasso:function(){var e=this,t=e.graph.get("delegateGroup").addShape("path",{attrs:ue({path:[]},e.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(e){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(e){var t=e.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Bm="click",ER=["click","drag"],Dm=void 0,AR=["shift","ctrl","control","alt","meta",void 0],TR={getDefaultCfg:function(){return{trigger:Bm,key:Dm,edgeConfig:{}}},getEvents:function(){var e=this;ER.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=Bm,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),e.key&&AR.indexOf(e.key.toLowerCase())===-1&&(e.trigger=Dm,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return e.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:e.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),e.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item;(!r||r.getID()===t.source||r.getType()!=="node")&&t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item,n=t.graph,a=r.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,e))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,e))return;t.edge=n.addItem("edge",ue({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!(t.key&&!t.keydown)){var r={x:e.x,y:e.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:r},!1)}},cancelCreating:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=t.graph,n=e.item;if(t.addingEdge&&e.target&&e.target.isCanvas&&e.target.isCanvas()){r.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!r.get("groupByTypes"))for(var o=e.x,s=e.y,l=r.getNodes(),f=l.length,h=0;h<f;h++){var c=l[h],d=c.getModel(),b=c.getBBox();if(o<=b.maxX&&o>=b.minX&&s<=b.maxY&&s>=b.minY){if(!t.shouldEnd.call(t,{x:e.x,y:e.y,canvasX:e.canvasX,canvasY:e.canvasY,clientX:e.clientX,clientY:e.clientY,item:c}))return;r.emit("beforecreateedge",{}),r.updateItem(t.edge,{target:d.id}),r.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&r.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(e){var t=this,r=e.key;!r||(r.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},Fm="ctrl",PR=["shift","ctrl","alt","control"],_R="1",OR={getDefaultCfg:function(){return{trigger:Fm,combinedKey:_R,functionName:"fitView",functionParams:[]}},getEvents:function(){return PR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Fm,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(!!t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},LR={"drag-canvas":zF,"zoom-canvas":rR,"drag-node":KF,"activate-relations":$F,"brush-select":JF,"click-select":tR,"lasso-select":CR,tooltip:nR,"edge-tooltip":iR,"drag-group":aR,"drag-node-with-group":sR,"collapse-expand-group":uR,"collapse-expand":hR,"drag-combo":vR,"collapse-expand-combo":pR,"create-edge":TR,"shortcuts-call":OR};(0,Un.default)(LR,function(i,e){eh.registerBehavior(e,i)});var Rm=eh,To=v(14563),ms=v(70673),Ia=v(83077),Nm=v(54544),IR=function(e){var t=(0,Nm.default)(e.groups,"id"),r=(0,Nm.default)(e.groups,"parentId"),n={};for(var a in r)if(!!a){var o=r[a],s=t[a];if(s&&o){var l=vs(o,s);n[a]=l}else o&&(n[a]=o)}var f=ue(ue({},t),n),h={};for(var c in f)if(!(!c||c==="undefined")){var o=f[c].map(function(D){return D.id});h[c]=o}var d={},b=function(D){if(!D||D==="undefined")return"continue";for(var V=h[D],$=[],K=0,yt=V;K<yt.length;K++){var wt=yt[K],Rt=f[wt].map(function(te){return te.id});$.push.apply($,Rt)}var Zt=e.nodes?e.nodes.filter(function(te){return $.indexOf(te.groupId)>-1||$.indexOf(te.parentId)>-1}).map(function(te){return te.id}):[];d[D]=Zt};for(var c in h)b(c);return d},kR=function(){function i(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var e=this.modes;(0,Un.default)(e,function(t){(0,Un.default)(t,function(r,n){(0,zn.default)(r)&&(t[n]={type:r})})})},i.prototype.setBehaviors=function(e){var t=this.graph,r=this.modes[e],n=[],a;(0,Un.default)(r||[],function(o){var s=eh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(e,t){return(0,Un.default)(t,function(r){e.indexOf(r)<0&&((0,zn.default)(r)&&(r={type:r}),e.push(r))}),e},i.filterBehaviors=function(e,t){var r=[];return e.forEach(function(n){var a="";(0,zn.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&r.push(n)}),r},i.prototype.setMode=function(e){var t=this,r=t.modes,n=t.graph,a=e,o=r[a];!o||(n.emit("beforemodechange",{mode:e}),(0,Un.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:e}),this.mode=e)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(e,t,r){var n=this,a;if((0,Di.default)(e)?a=e:a=[e],(0,Di.default)(t))return(0,Un.default)(t,function(s){n.modes[s]?r?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):r&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||r&&(this.modes[o]=a),r?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),BR=kR,DR=function(){function i(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return i.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,r=this.graph.get("width"),n=t.get("height");return{x:(r-e[1]-e[3])/2+e[3],y:(n-e[0]-e[2])/2+e[0]}},i.prototype.fitCenter=function(){var e=this.graph,t=e.get("group");t.resetMatrix();var r=t.getCanvasBBox();if(!(r.width===0||r.height===0)){var n=this.getViewCenter(),a={x:r.x+r.width/2,y:r.y+r.height/2};e.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var e=this.graph,t=this.getFormatPadding(),r=e.get("width"),n=e.get("height"),a=e.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};e.translate(s.x-l.x,s.y-l.y);var f=(r-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=f;f>h&&(c=h),e.zoom(c,s)}},i.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return ih(e)},i.prototype.focusPoint=function(e,t,r){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-e.x)*s[0],f=(o.y-e.y)*s[4],h=0,c=0,d=0,b=0;this.graph.get("canvas").animate(function(L){d=l*L,b=f*L,n.graph.translate(d-h,b-c),h=d,c=b},ue({},r))}else this.graph.translate((o.x-e.x)*s[0],(o.y-e.y)*s[4])},i.prototype.getPointByCanvas=function(e,t){var r=this.graph.get("group").getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=ym({x:e,y:t},r);return n},i.prototype.getPointByClient=function(e,t){var r=this.graph.get("canvas"),n=r.getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(e,t){var r=this.graph.get("canvas"),n=this.getCanvasByPoint(e,t),a=r.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(e,t){var r=this.graph.get("group").getMatrix();return r||(r=[1,0,0,0,1,0,0,0,1]),ps({x:e,y:t},r)},i.prototype.focus=function(e,t,r){(0,zn.default)(e)&&(e=this.graph.findById(e));var n=e.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),e&&this.focusPoint({x:a[6],y:a[7]},t,r)},i.prototype.changeSize=function(e,t){var r=this.graph;if(!(0,La.default)(e)||!(0,La.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");r.set({width:e,height:t});var n=r.get("canvas");n.changeSize(e,t);var a=r.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=r.get("minZoom");(0,Qn.Z)(o.get("container"),{width:e+"px",height:t+"px"}),(0,Qn.Z)(o.get("gridContainer"),{width:e/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),FR=DR,xs=v(73136),zl=v(61262),RR=function(){function i(e){this.preItem=null,this.graph=e,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var e=this,t=e.graph,r=e.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,zl.default)(this,"onCanvasEvents"),s=(0,zl.default)(this,"onExtendEvents"),l=(0,zl.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,r.push((0,xs.Z)(a,"DOMMouseScroll",l)),r.push((0,xs.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(r.push((0,xs.Z)(window,"keydown",s)),r.push((0,xs.Z)(window,"keyup",s)),r.push((0,xs.Z)(window,"focus",s)))},i.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},i.prototype.onCanvasEvents=function(e){var t=this.graph,r=t.get("canvas"),n=e.target,a=e.type;e.canvasX=e.x,e.canvasY=e.y;var o={x:e.canvasX,y:e.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),j0(l)&&(o=t.getPointByClient(e.clientX,e.clientY)),e.x=o.x,e.y=o.y,e.currentTarget=t,n===r){a==="mousemove"&&this.handleMouseMove(e,"canvas"),e.target=r,e.item=null,t.emit(a,e),t.emit("canvas:"+a,e);return}var f=i.getItemRoot(n);if(!f){t.emit(a,e);return}var h=f.get("item");if(!h.destroyed){var c=h.getType();if(e.target=n,e.item=h,e.canvasX===e.x&&e.canvasY===e.y){var d=t.getCanvasByPoint(e.x,e.y);e.canvasX=d.x,e.canvasY=d.y}t.emit(a,e),e.name&&!e.name.includes(":")?t.emit(c+":"+a,e):t.emit(e.name,e),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(e,c)}},i.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},i.prototype.onWheelEvent=function(e){(0,Bi.default)(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},i.prototype.handleMouseMove=function(e,t){var r=this,n=r.graph,a=r.preItem,o=n.get("canvas"),s=e.target===o?null:e.item;e=Il(e),a&&a!==s&&!a.destroyed&&(e.item=a,this.emitCustomEvent(a.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",e)),s&&a!==s&&(e.item=s,this.emitCustomEvent(t,"mouseenter",e),this.dragging&&this.emitCustomEvent(t,"dragenter",e)),this.preItem=s},i.prototype.emitCustomEvent=function(e,t,r){r.type=t,this.graph.emit(e+":"+t,r)},i.prototype.destroy=function(){var e=this,t=e.graph,r=e.canvasHandler,n=e.extendEvents,a=t.get("canvas");a.off("*",r),(0,Un.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),NR=RR,Ym=v(8289),Gm=v(33643),zm=v(85260),YR=v(58070),GR={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Ea=Math.PI,gh=Math.sin,yh=Math.cos,Ri=gh(Ea/8),Ni=yh(Ea/8),Xl=function(e,t){var r=e.getBBox(),n={x:r.minX,y:r.minY},a={x:r.maxX,y:r.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=ps(n,o),a=ps(a,o)}var s=n.x,l=n.y,f=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:f,maxY:h,width:f-s,height:h-l}},Xm=function(e){var t=e.sourceNode||e.targetNode,r=t.get("group"),n=r.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=e.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,f=s.position||hr.defaultLoopPosition,h=[n[6],n[7]],c=[e.startPoint.x,e.startPoint.y],d=[e.endPoint.x,e.endPoint.y],b=o.height/2,L=o.height/2,D=b*Ri,V=b*Ni,$=L*Ri,K=L*Ni;if(c[0]===d[0]&&c[1]===d[1]){switch(f){case"top":c=[h[0]-D,h[1]-V],d=[h[0]+$,h[1]-K];break;case"top-right":b=o.height/2,L=o.width/2,D=b*Ri,V=b*Ni,$=L*Ri,K=L*Ni,c=[h[0]+D,h[1]-V],d=[h[0]+K,h[1]-$];break;case"right":b=o.width/2,L=o.width/2,D=b*Ri,V=b*Ni,$=L*Ri,K=L*Ni,c=[h[0]+V,h[1]-D],d=[h[0]+K,h[1]+$];break;case"bottom-right":b=o.width/2,L=o.height/2,D=b*Ri,V=b*Ni,$=L*Ri,K=L*Ni,c=[h[0]+V,h[1]+D],d=[h[0]+$,h[1]+K];break;case"bottom":b=o.height/2,L=o.height/2,D=b*Ri,V=b*Ni,$=L*Ri,K=L*Ni,c=[h[0]+D,h[1]+V],d=[h[0]-$,h[1]+K];break;case"bottom-left":b=o.height/2,L=o.width/2,D=b*Ri,V=b*Ni,$=L*Ri,K=L*Ni,c=[h[0]-D,h[1]+V],d=[h[0]-K,h[1]+$];break;case"left":b=o.width/2,L=o.width/2,D=b*Ri,V=b*Ni,$=L*Ri,K=L*Ni,c=[h[0]-V,h[1]+D],d=[h[0]-K,h[1]-$];break;case"top-left":b=o.width/2,L=o.height/2,D=b*Ri,V=b*Ni,$=L*Ri,K=L*Ni,c=[h[0]-V,h[1]-D],d=[h[0]-$,h[1]-K];break;default:b=o.width/2,L=o.width/2,D=b*Ri,V=b*Ni,$=L*Ri,K=L*Ni,c=[h[0]-D,h[1]-V],d=[h[0]+$,h[1]-K]}if(s.clockwise===!1){var yt=[c[0],c[1]];c=[d[0],d[1]],d=[yt[0],yt[1]]}}var wt=[c[0]-h[0],c[1]-h[1]],Rt=(b+l)/b,Zt=(L+l)/L;s.clockwise===!1&&(Rt=(L+l)/L,Zt=(b+l)/b);var te=ai.scale([],wt,Rt),oe=[h[0]+te[0],h[1]+te[1]],re=[d[0]-h[0],d[1]-h[1]],ye=ai.scale([],re,Zt),Pe=[h[0]+ye[0],h[1]+ye[1]];return e.startPoint={x:c[0],y:c[1]},e.endPoint={x:d[0],y:d[1]},e.controlPoints=[{x:oe[0],y:oe[1]},{x:Pe[0],y:Pe[1]}],e},Vl=function(e,t,r,n,a){var o=1e-4,s=[],l=e.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=e.getStartTangent().reverse();else if(t>1-o)s=e.getEndTangent();else{var f=e.getPoint(t+o);s.push([l.x,l.y]),s.push([f.x,f.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=Ea*2),r&&(l.x+=yh(h)*r,l.y+=gh(h)*r),n){var c=h-Ea/2;h>1/2*Ea&&h<3*1/2*Ea&&(c-=Ea),l.x+=yh(c)*n,l.y+=gh(c)*n}var d={x:l.x,y:l.y,angle:h};return a?(h>1/2*Ea&&h<3*1/2*Ea&&(h-=Ea),ue({rotate:h},d)):d},Vm=function i(e,t){if(t(e)===!1)return!1;if(e&&e.children){for(var r=e.children.length-1;r>=0;r--)if(!i(e.children[r],t))return!1}return!0},zR=function i(e,t){if(e&&e.children){for(var r=e.children.length-1;r>=0;r--)if(!i(e.children[r],t))return}return t(e)!==!1},Ki=function(e,t){typeof t=="function"&&Vm(e,t)},Aa=function(e,t){typeof t=="function"&&zR(e,t)},Hm=function(e,t){var r=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&r.indexOf(t)>=0&&(s="x",o="y");var l=0;Ki(e,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var f=Ea*2/l,h=a[s]-n[s];return h===0||Ki(e,function(c){var d=(c[s]-n[s])/h*(Ea*2-f)+f,b=Math.abs(o==="x"?c.x-e.x:c.y-e.y);return c.x=b*Math.cos(d),c.y=b*Math.sin(d),!0}),e},Wm=function(e,t){return t*(GR[e]||1)},jm=function(e,t){var r=0,n=new RegExp("[\u4E00-\u9FA5]+");return e.split("").forEach(function(a){n.test(a)?r+=t:r+=Wm(a,t)}),[r,t]},mh=function(e,t){var r=[],n={},a={};e.forEach(function(s){a[s.id]=s}),e.forEach(function(s,l){var f=(0,u.clone)(s);f.itemType="combo",f.children=void 0,f.parentId===f.id?(console.warn("The parentId for combo "+f.id+" can not be the same as the combo's id"),delete f.parentId):f.parentId&&!a[f.parentId]&&(console.warn("The parent combo for combo "+f.id+" does not exist!"),delete f.parentId);var h=n[f.id];if(h){if(f.children=h.children,n[f.id]=f,h=f,!h.parentId){r.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(f):c.children=[f];else{var d={id:h.parentId,children:[h]};n[h.parentId]=d,n[f.id]=f}return}if((0,u.isString)(s.parentId)){var b=n[s.parentId];if(b)b.children?b.children.push(f):b.children=[f],n[f.id]=f;else{var L={id:s.parentId,children:[f]};n[L.id]=L,n[f.id]=f}}else r.push(f),n[f.id]=f});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var f={id:s.id,comboId:s.comboId};l.children?l.children.push(f):l.children=[f],f.itemType="node",n[s.id]=f}}),r.forEach(function(s){s.depth=0,Vm(s,function(l){var f,h=n[l.id].itemType;h==="node"?f=n[l.comboId]:f=n[l.parentId],f?h==="node"?l.depth=f.depth+1:l.depth=f.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),r},xh=function(e,t,r){var n=e,a,o={root:{children:e}},s=!1,l="root";(e||[]).forEach(function(b){if(!s){if(b.id===t){a=b,b.itemType==="combo"?a.parentId=r:a.comboId=r,s=!0;return}Ki(b,function(L){return o[L.id]={children:L.children},n=o[L.parentId||L.comboId||"root"].children,L&&(L.removed||t===L.id)&&n?(l=L.parentId||L.comboId||"root",a=L,L.itemType==="combo"?a.parentId=r:a.comboId=r,s=!0,!1):!0})}}),n=o[l].children;var f=n?n.indexOf(a):-1;if(f>-1&&n.splice(f,1),s||(a={id:t,itemType:"node",comboId:r},o[t]={children:void 0}),t){var h=!1;if(r){var c=0;(e||[]).forEach(function(b){h||Ki(b,function(L){return r===L.id?(h=!0,L.children?L.children.push(a):L.children=[a],c=L.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!r||!h)&&a.itemType!=="node"&&e.push(a);var d=a.depth;Ki(a,function(b){return b.itemType==="node"?d+=2:d+=1,b.depth=d,!0})}return e},bh=function(e,t){var r={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!e||e.length===0||(e.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&r.minX>o.minX&&(r.minX=o.minX),o.y&&r.minY>o.minY&&(r.minY=o.minY),o.x&&r.maxX<o.maxX&&(r.maxX=o.maxX),o.y&&r.maxY<o.maxY&&(r.maxY=o.maxY)}}),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,Object.keys(r).forEach(function(n){(r[n]===Infinity||r[n]===-Infinity)&&(r[n]=void 0)})),r},XR=function(e){var t=e.group,r=e.height,n=e.width,a=e.x,o=e.y,s=t.get("canvas"),l=s.get("width"),f=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/f,h.end.x=(a+n)/l,h.end.y=(o+r)/f,h};function Hl(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hl=function(t){return typeof t}:Hl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(i)}function Um(i){if(typeof i!="string")return i;var e=function(te){if(typeof te!="string")return te;try{return JSON.parse(te.trim())}catch(oe){return te.trim()}},t=e(i);if(typeof t!="string")return t;for(var r=function(te){return te[te.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var te=[],oe=0;oe<arguments.length;oe++)te[oe]=arguments[oe];return te.some(function(re){return r(o)===re})},l=function(){return r(a)},f=null,h=0,c="";h<n.length;){var d=n[h],b=s('"',"'");if(!b&&!d.trim()){h+=1;continue}var L=n[h-1]==="\\",D=s("}"),V=s("]"),$=s(","),K=l();if(b)if(r(o)===d&&!L){o.pop();var yt=e(c);K.push(yt),f=yt,c=""}else c+=d;else if(V&&d===",")c&&(K.push(e(c)),c="");else if(D&&d===":")o.push(","),c&&(K.push(c),c="");else if($&&d===",")c&&(K.push(e(c)),c=""),o.pop();else if(d==="}"&&(D||$)){c&&(K.push(e(c)),c=""),$&&o.pop();for(var wt={},Rt=1;Rt<K.length;Rt+=2)wt[K[Rt-1]]=K[Rt];a.pop(),a.length&&r(a).push(wt),o.pop(),f=wt}else d==="]"&&V?(c&&(K.push(e(c)),c=""),a.pop(),a.length&&r(a).push(K),o.pop(),f=K):d==="{"?(a.push([]),o.push("}")):d==="["?(a.push([]),o.push("]")):d==='"'?o.push('"'):d==="'"?o.push("'"):c+=d;h+=1}return f||c}var VR=function(e){return e.split("-").reduce(function(t,r){return t+r.charAt(0).toUpperCase()+r.slice(1)})},HR=function(e){return function(t){for(var r=e.length,n=[],a=0,o="";a<r;)if(e[a]==="{"&&e[a+1]==="{")n.push(o),o="",a+=2;else if(e[a]==="}"&&e[a+1]==="}"){if(n.length){var s=n.pop();o=(0,YR.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=e[a],a+=1;return n.push(o),n.map(function(l,f){return n[f-1]&&n[f-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function Zm(i,e){var t={},r=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return Zm(s,e)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(r).forEach(function(s){var l=VR(s),f=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=Um(f);t=ue(ue({},t),h)}else a[l]=Um(f)}catch(c){if(l==="style")throw c;a[l]=f}}),a.attrs=t,e&&e.style&&a.name&&Hl(e.style[a.name])==="object"&&(a.attrs=ue(ue({},a.attrs),e.style[a.name])),e&&e.style&&a.keyshape&&(a.attrs=ue(ue({},a.attrs),e.style)),n.length&&(a.children=n),a}function WR(i,e,t){var r=i.attrs,n=r===void 0?{}:r,a={x:e.x||0,y:e.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=jm(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=ue({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function Km(i,e){var t;e===void 0&&(e={x:0,y:0});var r=ue({x:0,y:0,width:0,height:0},e);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=ue({},e);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var f=Km(i.children[l],s);if(f.bbox){var h=f.bbox;f.attrs.next==="inline"?s.x+=f.bbox.width:s.y+=f.bbox.height,h.width+h.x>r.width&&(r.width=h.width+h.x),h.height+h.y>r.height&&(r.height=h.height+h.y)}}}return i.bbox=WR(i,e,r),i.attrs=ue(ue({},i.attrs),i.bbox),i}function $m(i,e){var t,r,n,a,o=(i||{}).type,s=((e==null?void 0:e.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&e)return{action:"delete",val:e,type:o,key:s};if(i&&!e)return{action:"add",val:i,type:o};if(!i&&!e)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((r=e.children)===null||r===void 0?void 0:r.length)>0)for(var f=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=e.children)===null||a===void 0?void 0:a.length),h=e.children||[],c=i.children||[],d=0;d<f;d+=1)l.push($m(c[d],h[d]));var b=Object.keys(e.attrs),L=Object.keys(i.attrs);return e.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:e,key:s,children:l}:b.filter(function(D){return D!=="children"}).some(function(D){return i.attrs[D]!==e.attrs[D]||!L.includes(D)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function Qm(i){var e={},t=function(n){var a=typeof i=="function"?i(n):i,o=HR(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],f=Km(Zm(l,n));return s.remove(),f};return{draw:function(n,a){var o=t(n),s=a,l=function f(h){var c=h.attrs,d=c===void 0?{}:c,b=h.bbox,L=h.type,D=h.children,V=Ui(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var $=a.addShape(h.type,ue({attrs:d,origin:{bbox:b,type:L,children:D}},V));h.keyshape&&(s=$)}h.children&&h.children.forEach(function(K){return f(K)})};return l(o),e[n.id]=[o],s},update:function(n,a){e[n.id]||(e[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),f=e[n.id].pop(),h=$m(l,f),c=function L(D){var V;D.type!=="group"&&o.addShape(D.type,{attrs:D.attrs}),((V=D.children)===null||V===void 0?void 0:V.length)&&D.children.map(function($){return L($)})},d=function L(D){var V,$=s.find(function(K){return K.attrs.key===D.attrs.key});$&&o.removeChild($),((V=D.children)===null||V===void 0?void 0:V.length)&&D.children.map(function(K){return L(K)})},b=function L(D){var V=D.key;if(D.type!=="group"){var $=s.find(function(yt){return yt.attrs.key===V});switch(D.action){case"change":if($){var K=D.val.keyshape?a.getOriginStyle():{};$.attr(ue(ue({},K),D.val.attrs))}break;case"add":c(D.val);break;case"delete":d(D.val);break;case"restructure":d(D.formerTarget),c(D.nowTarget);break;default:break}}D.children&&D.children.forEach(function(yt){return L(yt)})};b(h),e[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var wh={};function Jm(i){return wh[i]||(wh[i]=(0,u.upperFirst)(i)),wh[i]}var jR={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this,r=t[e]||t[t.defaultShapeType];return r},draw:function(e,t,r){var n=this.getShape(e),a=n.draw(t,r);return n.afterDraw&&n.afterDraw(t,r,a),a},baseUpdate:function(e,t,r){var n=this.getShape(e);n.update&&n.update(t,r),n.afterUpdate&&n.afterUpdate(t,r)},setState:function(e,t,r,n){var a=this.getShape(e);a.setState(t,r,n)},shouldUpdate:function(e){var t=this.getShape(e);return!!t.update},getControlPoints:function(e,t){var r=this.getShape(e);return r.getControlPoints(t)},getAnchorPoints:function(e,t){var r=this.getShape(e);return r.getAnchorPoints(t)}},Sh={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints,r=e.anchorPoints||t;return r}},Wl=function(){function i(){}return i.registerFactory=function(e,t){var r=Jm(e),n=jR,a=ue(ue({},n),t);return i[r]=a,a.className=r,a},i.getFactory=function(e){var t=Jm(e);return i[t]},i.registerNode=function(e,t,r){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=Qm(t);a=ue(ue({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=Qm(s);a=ue(ue(ue({},n.getShape("single-node")),o),t)}else{var l=r?n.getShape(r):Sh;a=ue(ue({},l),t)}return a.type=e,a.itemType="node",n[e]=a,a},i.registerEdge=function(e,t,r){var n=i.Edge,a=r?n.getShape(r):Sh,o=ue(ue({},a),t);return o.type=e,o.itemType="edge",n[e]=o,o},i.registerCombo=function(e,t,r){var n=i.Combo,a=r?n.getShape(r):Sh,o=ue(ue({},a),t);return o.type=e,o.itemType="combo",n[e]=o,o},i}(),gi=Wl;Wl.registerFactory("node",{defaultShapeType:"circle"}),Wl.registerFactory("edge",{defaultShapeType:"line"}),Wl.registerFactory("combo",{defaultShapeType:"circle"});var Mh="bboxCache",Ch="bboxCanvasCache",UR=function(){function i(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var r=this.get("model"),n=r.id,a=this.get("type");n||(n=(0,u.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=e.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=r.shape||r.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var f=l[s].options;if(f&&f.stateStyles){var h=this.get("styles")||r.stateStyles;h=(0,u.deepMix)({},f.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=Xl(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},i.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=Xl(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},i.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),r=e.get("group"),n=e.get("model");r.clear();var a=n.visible;if(a!==void 0&&!a&&e.changeVisibility(a),!!t){e.updatePosition(n);var o=e.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,r);l&&(e.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(e){var t={},r=this.get("group"),n=r.get("children"),a=this.getKeyShape(),o=this;(0,u.each)(n,function(f){var h=f.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),d=o.getShapeStyleByName();c?t[c]=d:Object.assign(t,d)}});var s=this.getOriginStyle(),l={};e?l=(0,u.deepMix)({},s,t,e.style,{labelCfg:e.labelCfg}):l=(0,u.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(e,t){var r=this,n=r.get("states");(0,u.each)(n,function(a){e.setState(t,a,!0,r)})},i.prototype.init=function(){var e=gi.getFactory(this.get("type"));this.set("shapeFactory",e)},i.prototype.get=function(e){return this._cfg[e]},i.prototype.set=function(e,t){(0,u.isPlainObject)(e)?this._cfg=ue(ue({},this._cfg),e):this._cfg[e]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(Mh,null),this.set(Ch,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(e){var t=this.get("group"),r=this.getKeyShape();if(e&&(r=t.find(function(a){return a.get("name")===e})),r){var n={};return(0,u.each)(r.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(e){var t=this.get("styles");if(t){var r=e;return r.style=ue(ue({},t),e.style),r}return e},i.prototype.getStateStyle=function(e){var t=this.get("styles"),r=t&&t[e];return r},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var e=this,t={};return(0,u.each)(e.getStates(),function(r){t=Object.assign(t,e.getStateStyle(r))}),t},i.prototype.setState=function(e,t){var r=this.get("states"),n=this.get("shapeFactory"),a=e,o=e;(0,u.isString)(t)&&(a=e+":"+t,o=e+":");var s=r;if((0,u.isBoolean)(t)){var l=r.indexOf(o);if(t){if(l>-1)return;r.push(a)}else l>-1&&r.splice(l,1)}else if((0,u.isString)(t)){var f=r.filter(function(d){return d.includes(o)});f.length>0&&this.clearStates(f),s=s.filter(function(d){return!d.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,e,t,this)}},i.prototype.clearStates=function(e){var t=this,r=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;e||(e=r),(0,u.isString)(e)&&(e=[e]);var s=r.filter(function(l){return e.indexOf(l)===-1});t.set("states",s),e.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(e){var t=this.getStates();return t.indexOf(e)>=0},i.prototype.refresh=function(){var e=this.get("model");this.updatePosition(e),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(e){return!1},i.prototype.update=function(e){var t=this.get("model"),r=t.visible,n=e.visible;r!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};e.x=isNaN(e.x)?t.x:e.x,e.y=isNaN(e.y)?t.y:e.y;var o=this.get("styles");if(e.stateStyles){var s=e.stateStyles;(0,u.mix)(o,s),delete e.stateStyles}Object.assign(t,e);var l=this.isOnlyMove(e);l?this.updatePosition(e):((a.x!==e.x||a.y!==e.y)&&this.updatePosition(e),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var e=this.get("shapeFactory"),t=this.get("model"),r=t.shape||t.type;if(e.shouldUpdate(r)&&r===this.get("currentShape")){var n=this.getShapeCfg(t);e.baseUpdate(r,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(e,r)},i.prototype.updatePosition=function(e){var t=this.get("model"),r=(0,u.isNil)(e.x)?t.x:e.x,n=(0,u.isNil)(e.y)?t.y:e.y,a=this.get("group");(0,u.isNil)(r)||(0,u.isNil)(n)||(a.resetMatrix(),xm(a,{x:r,y:n}),t.x=r,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var e=this.get(Mh);return e||(e=this.calculateBBox(),this.set(Mh,e)),e},i.prototype.getCanvasBBox=function(){var e=this.get(Ch);return e||(e=this.calculateCanvasBBox(),this.set(Ch,e)),e},i.prototype.toFront=function(){var e=this.get("group");e.toFront()},i.prototype.toBack=function(){var e=this.get("group");e.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},i.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),qm=UR,jl={source:"start",target:"end"},Ra="Node",Wo="Point",ZR="Anchor",KR=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,r){var n=jl[t]+Wo,a=t+Ra,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,u.isPlainObject)(r)?(this.set(n,r),this.set(a,null)):(r.addEdge(this),this.set(a,r),this.set(n,null))},e.prototype.getLinkPoint=function(t,r,n){var a=jl[t]+Wo,o=t+Ra,s=this.get(a);if(!s){var l=this.get(o),f=t+ZR,h=this.getPrePoint(t,n),c=r[f];(0,u.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,u.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},e.prototype.getPrePoint=function(t,r){if(r&&r.length){var n=t==="source"?0:r.length-1;return r[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},e.prototype.getEndPoint=function(t){var r=t+Ra,n=jl[t]+Wo,a=this.get(r);return a?a.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var r=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:r,endPoint:n})},e.prototype.getEndCenter=function(t){var r=t+Ra,n=jl[t]+Wo,a=this.get(r);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},e.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(t){var r=this,n=r.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=r.getEndCenter("source"),a.endPoint=r.getEndCenter("target");else{var o=a.controlPoints||r.getControlPointsByCenter(a);a.startPoint=r.getLinkPoint("source",t,o),a.endPoint=r.getLinkPoint("target",t,o)}return a.sourceNode=r.get("sourceNode"),a.targetNode=r.get("targetNode"),a},e.prototype.getModel=function(){var t=this.get("model"),r=this.get("source"+Ra),n=this.get("target"+Ra);return r?delete t["source"+Ra]:t.source=this.get("start"+Wo),n?delete t["target"+Ra]:t.target=this.get("end"+Wo),!(0,u.isString)(t.source)&&!(0,u.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,u.isString)(t.target)&&!(0,u.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){},e.prototype.update=function(t){var r=this.get("model"),n=r.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,u.mix)(o,s),delete t.stateStyles}Object.assign(r,t),this.updateShape(),this.afterUpdate(),this.clearCache()},e.prototype.destroy=function(){var t=this.get("source"+Ra),r=this.get("target"+Ra);t&&!t.destroyed&&t.removeEdge(this),r&&!r.destroyed&&r.removeEdge(this),i.prototype.destroy.call(this)},e}(qm),$R=KR,bs=v(66974),Eh="anchorPointsCache",QR="bboxCache",JR=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getNearestPoint=function(t,r){for(var n=0,a=t[0],o=gs(t[0],r),s=0;s<t.length;s++){var l=t[s],f=gs(l,r);f<o&&(a=l,o=f,n=s)}return a.anchorIndex=n,a},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("source")===t})},e.prototype.getNeighbors=function(t){var r=this,n=this.get("edges");if(t==="target"){var a=function(f){return f.getSource()===r};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(f){return f.getTarget()===r};return n.filter(o).map(function(l){return l.getSource()})}var s=function(f){return f.getSource()===r?f.getTarget():f.getSource()};return n.map(s)},e.prototype.getLinkPointByAnchor=function(t){var r=this.getAnchorPoints();return r[t]},e.prototype.getLinkPoint=function(t){var r=this.get("keyShape"),n=r.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var f=this.getAnchorPoints(),h;switch(n){case"circle":h=pm({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=gm({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=dm(l,t)}var c=h;return f.length&&(c||(c=t),c=this.getNearestPoint(f,c)),c||(c={x:o,y:s}),c},e.prototype.getAnchorPoints=function(){var t=this.get(Eh);if(!t){t=[];var r=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=r.getAnchorPoints(s,o)||[];(0,Un.default)(l,function(f,h){var c=(0,bs.default)({x:n.minX+f[0]*n.width,y:n.minY+f[1]*n.height},f[2],{index:h});t.push(c)}),this.set(Eh,t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var r=this.getEdges(),n=r.indexOf(t);n>-1&&r.splice(n,1)},e.prototype.clearCache=function(){this.set(QR,null),this.set(Eh,null)},e.prototype.isOnlyMove=function(t){if(!t)return!1;var r=!(0,Bi.default)(t.x),n=!(0,Bi.default)(t.y),a=Object.keys(t);return a.length===1&&(r||n)||a.length===2&&r&&n},e}(qm),tx=JR,qR="bboxCache",ex="bboxCanvasCache",Ah="sizeCache",t3="anchorPointsCache",e3=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var r=this.get("styles"),n=this.get("bbox");if(r&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||hr.defaultCombo.size[0]/2,width:n.width||hr.defaultCombo.size[0],height:n.height||hr.defaultCombo.size[1]};a.style=ue(ue(ue({},r),t.style),o);var s=t.padding||hr.defaultCombo.padding;return(0,La.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(Ah,o),a}return t},e.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),r=this.get("group"),n=Xl(t,r);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(Ah);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},e.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},e.prototype.getNodes=function(){var t=this;return t.get("nodes")},e.prototype.getCombos=function(){var t=this;return t.get("combos")},e.prototype.addChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.addNode(t);break;case"combo":r.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){var r=this;return r.get("combos").push(t),!0},e.prototype.addNode=function(t){var r=this;return r.get("nodes").push(t),!0},e.prototype.removeChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.removeNode(t);break;case"combo":r.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(!!t){var r=this.getCombos(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.removeNode=function(t){if(!!t){var r=this.getNodes(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.isOnlyMove=function(t){return!1},e.prototype.getBBox=function(){this.set(ex,null);var t=this.calculateCanvasBBox();return t},e.prototype.clearCache=function(){this.set(qR,null),this.set(ex,null),this.set(t3,null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),r=this.get("group");t&&r.stopAnimate(),this.clearCache(),this.set(Ah,null),this.set("bbox",null),r.remove(),this._cfg=null,this.destroyed=!0}},e}(tx),r3=e3,Ul="node",Zl="edge",rx="vedge",Kl="combo",n3="default",nx="Mapper",Ja="stateStyles",i3=Object.hasOwnProperty,a3=function(){function i(e){this.graph=e,this.destroyed=!1}return i.prototype.addItem=function(e,t){var r=this,n=this.graph,a=e===rx?Zl:e,o=n.get(a+"Group")||n.get("group"),s=(0,zm.default)(a),l=null,f=n.get(a+(0,zm.default)(Ja))||{},h=n.get(n3+s);t[Ja]&&(f=t[Ja]);var c=n.get(a+nx);if(c){var d=c(t);d[Ja]&&(f=d[Ja],delete d[Ja]),t=(0,Xi.default)({},h,t,d)}else h&&(0,Un.default)(h,function(yt,wt){i3.call(t,wt)||((0,Gm.default)(yt)?t[wt]=(0,Ym.default)(yt):t[wt]=h[wt])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:e,model:t}),e===Zl||e===rx){var b=void 0,L=void 0;if(b=t.source,L=t.target,b&&(0,zn.default)(b)&&(b=n.findById(b)),L&&(0,zn.default)(L)&&(L=n.findById(L)),!b||!L){console.warn("The source or target node of edge "+t.id+" does not exist!");return}b.getType&&b.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(b)),L.getType&&L.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(L)),l=new $R({model:t,source:b,target:L,styles:f,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(e===Ul)l=new tx({model:t,styles:f,group:o.addGroup()});else if(e===Kl){var D=t.children,V=bh(D,n);t.x=V.x||t.x||Math.random()*100,t.y=V.y||t.y||Math.random()*100;var $=o.addGroup();$.setZIndex(t.depth),l=new r3({model:t,styles:f,bbox:V,group:$});var K=l.getModel();(D||[]).forEach(function(yt){var wt=n.findById(yt.id);l.addChild(wt),yt.depth=K.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),r.updateCombo(l,[])},250)}if(l)return n.get(e+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(e,t){var r=this.graph;if((0,zn.default)(e)&&(e=r.findById(e)),!(!e||e.destroyed)){var n="";e.getType&&(n=e.getType());var a=r.get(n+nx),o=e.getModel();if(a){var s=(0,Xi.default)({},o,t),l=a(s),f=(0,Xi.default)({},o,l,t);l[Ja]&&(e.set("styles",f[Ja]),delete f[Ja]),(0,Un.default)(f,function(b,L){t[L]=b})}else(0,Un.default)(t,function(b,L){o[L]&&(0,Gm.default)(b)&&!(0,Di.default)(b)&&(t[L]=ue(ue({},o[L]),t[L]))});if(r.emit("beforeupdateitem",{item:e,cfg:t}),n===Zl){if(t.source){var h=t.source;(0,zn.default)(h)&&(h=r.findById(h)),e.setSource(h)}if(t.target){var c=t.target;(0,zn.default)(c)&&(c=r.findById(c)),e.setTarget(c)}}if(e.update(t),n===Ul||n===Kl){var d=e.getEdges();(0,Un.default)(d,function(b){b.refresh()})}r.emit("afterupdateitem",{item:e,cfg:t})}},i.prototype.updateCombo=function(e,t){var r=this.graph;if((0,zn.default)(e)&&(e=r.findById(e)),!(!e||e.destroyed)){var n=bh(t,r);e.set("bbox",n),e.update({x:n.x,y:n.y});for(var a=e.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(e){var t=this.graph;(0,zn.default)(e)&&(e=t.findById(e));var r=e.getChildren();r.nodes.forEach(function(n){t.hideItem(n)}),r.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(e){var t=this.graph;(0,zn.default)(e)&&(e=t.findById(e));var r=e.getChildren();r.nodes.forEach(function(n){t.showItem(n)}),r.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(e){var t=this,r=this.graph;if((0,zn.default)(e)&&(e=r.findById(e)),!(!e||e.destroyed)){var n=(0,Ym.default)(e.getModel());r.emit("beforeremoveitem",{item:n});var a="";e.getType&&(a=e.getType());var o=r.get(a+"s"),s=o.indexOf(e);if(s>-1&&o.splice(s,1),a===Zl){var l=r.get("v"+a+"s"),f=l.indexOf(e);f>-1&&l.splice(f,1)}var h=e.get("id"),c=r.get("itemMap");delete c[h];var d=r.get("comboTrees"),b=e.get("id");if(a===Ul){var L=e.getModel().comboId;if(d){var D=d,V=!1;d.forEach(function(Zt){V||Ki(Zt,function(te){if(te.id===b&&D){var oe=D.indexOf(te);return D.splice(oe,1),V=!0,!1}return D=te.children,!0})})}for(var $=e.getEdges(),K=$.length-1;K>=0;K--)r.removeItem($[K],!1);L&&r.updateCombo(L)}else if(a===Kl){var yt=e.getModel().parentId,wt,Rt=!1;(d||[]).forEach(function(te){Rt||Ki(te,function(oe){return oe.id===b?(wt=oe,Rt=!0,!1):!0})}),wt.removed=!0,wt&&wt.children&&wt.children.forEach(function(te){t.removeItem(te.id)});for(var $=e.getEdges(),K=$.length;K>=0;K--)r.removeItem($[K],!1);yt&&r.updateCombo(yt)}e.destroy(),r.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(e,t,r){var n=this.graph,a=t;(0,zn.default)(r)&&(a=t+":"+r),!(e.hasState(a)===r||(0,zn.default)(r)&&e.hasState(a))&&(n.emit("beforeitemstatechange",{item:e,state:a,enabled:r}),e.setState(t,r),n.autoPaint(),n.emit("afteritemstatechange",{item:e,state:a,enabled:r}))},i.prototype.priorityState=function(e,t){var r=this.graph,n=e;(0,zn.default)(e)&&(n=r.findById(e)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(e,t){var r=this.graph;(0,zn.default)(e)&&(e=r.findById(e)),r.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),r.emit("afteritemstatesclear",{item:e,states:t})},i.prototype.refreshItem=function(e){var t=this.graph;(0,zn.default)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},i.prototype.addCombos=function(e,t){var r=this,n=this.graph;(e||[]).forEach(function(o){Aa(o,function(s){var l;return t.forEach(function(f){f.id===s.id&&(f.children=s.children,f.depth=s.depth,l=f)}),l&&r.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(e,t){var r=this,n=this.graph;if((0,zn.default)(e)&&(e=n.findById(e)),!e){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===Ul){var a=e.getEdges();(0,Un.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||r.changeItemVisibility(h,t)})}else if(e.getType&&e.getType()===Kl){var o=n.get("comboTrees"),s=e.get("id"),l=[],f=!1;(o||[]).forEach(function(c){f||!c.children||c.children.length===0||Ki(c,function(d){return d.id===s?(l=d.children,f=!0,!1):!0})}),l.forEach(function(c){var d=n.findById(c.id);r.changeItemVisibility(d,t)});var a=e.getEdges();(0,Un.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||r.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:e,visible:t}),e},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),o3=a3,Ta=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(e){var t=this;t.nodes=e.nodes||[],t.edges=e.edges||[],t.combos=e.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(e){var t=this;t.init(e),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(e){var t=this;(0,bs.default)(t,e)},i.prototype.destroy=function(){var e=this;e.positions=null,e.nodes=null,e.edges=null,e.destroyed=!0},i}(),ix={registerLayout:function(e,t,r){if(r===void 0&&(r=Ta),!t)throw new Error("please specify handler for this layout: "+e);var n=function(a){ii(o,a);function o(s){var l=a.call(this)||this,f=l,h={},c=f.getDefaultCfg();return(0,bs.default)(h,c,t,s),(0,Un.default)(h,function(d,b){f[b]=d}),l}return o}(r);ix[e]=n}},ax=ix;function s3(i,e,t,r){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),r?e.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):e.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function l3(i,e,t){for(var r=t.length,n=0;n<r;n++)if(i.id===t[n].source&&e.id===t[n].target||e.id===t[n].source&&i.id===t[n].target)return!0;return!1}function u3(i,e){return i.degree<e.degree?-1:i.degree>e.degree?1:0}var f3=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.edges,a=r.length,o=t.center;if(a!==0){if(a===1){r[0].x=o[0],r[0].y=o[1];return}var s=t.radius,l=t.startRadius,f=t.endRadius,h=t.divisions,c=t.startAngle,d=t.endAngle,b=(d-c)/a,L={};r.forEach(function(re,ye){L[re.id]=ye}),t.nodeMap=L;var D=Rl(r.length,L,n);t.degrees=D,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!f?s=t.height>t.width?t.width/2:t.height/2:!l&&f?l=f:l&&!f&&(f=l);var V=t.angleRatio,$=b*V;t.astep=$;var K=t.ordering,yt=[];K==="topology"?yt=t.topologyOrdering():K==="topology-directed"?yt=t.topologyOrdering(!0):K==="degree"?yt=t.degreeOrdering():yt=r;for(var wt=t.clockwise,Rt=Math.ceil(a/h),Zt=0;Zt<a;++Zt){var te=s;!te&&l!==null&&f!==null&&(te=l+Zt*(f-l)/(a-1)),te||(te=10+Zt*100/(a-1));var oe=c+Zt%Rt*$+2*Math.PI/h*Math.floor(Zt/Rt);wt||(oe=d-Zt%Rt*$-2*Math.PI/h*Math.floor(Zt/Rt)),yt[Zt].x=o[0]+Math.cos(oe)*te,yt[Zt].y=o[1]+Math.sin(oe)*te,yt[Zt].weight=D[Zt]}}},e.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var r=this,n=r.degrees,a=r.edges,o=r.nodes,s=(0,u.clone)(o),l=r.nodeMap,f=[s[0]],h=[o[0]],c=[],d=o.length;c[0]=!0,s3(s,a,l,t);var b=0;return s.forEach(function(L,D){if(D!==0)if((D===d-1||n[D]!==n[D+1]||l3(f[b],L,a))&&c[D]!==!0)f.push(L),h.push(o[l[L.id]]),c[D]=!0,b++;else{for(var V=f[b].children,$=!1,K=0;K<V.length;K++){var yt=l[V[K]];if(n[yt]===n[D]&&c[yt]!==!0){f.push(s[yt]),h.push(o[l[s[yt].id]]),c[yt]=!0,$=!0;break}}for(var wt=0;!$&&(c[wt]||(f.push(s[wt]),h.push(o[l[s[wt].id]]),c[wt]=!0,$=!0),wt++,wt!==d););}}),h},e.prototype.degreeOrdering=function(){var t=this,r=t.nodes,n=[],a=t.degrees;return r.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(u3),n},e}(Ta),h3=f3,c3=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.edges,a=r.length,o=t.center;if(a!==0){if(a===1){r[0].x=o[0],r[0].y=o[1];return}var s=[],l;(0,Di.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,r.forEach(function(oe){s.push(oe);var re=l;(0,Di.default)(oe.size)?re=Math.max(oe.size[0],oe.size[1]):(0,u.isNumber)(oe.size)&&(re=oe.size),l=Math.max(l,re)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var f={},h={};if(s.forEach(function(oe,re){f[oe.id]=oe,h[oe.id]=re}),(t.sortBy==="degree"||!(0,zn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,u.isNumber)(r[0].degree))){var c=Rl(r.length,h,n);s.forEach(function(oe,re){oe.degree=c[re]})}s.sort(function(oe,re){return re[t.sortBy]-oe[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var d=[[]],b=d[0];s.forEach(function(oe){if(b.length>0){var re=Math.abs(b[0][t.sortBy]-oe[t.sortBy]);t.maxLevelDiff&&re>=t.maxLevelDiff&&(b=[],d.push(b))}b.push(oe)});var L=l+t.minNodeSpacing;if(!t.preventOverlap){var D=d.length>0&&d[0].length>1,V=Math.min(t.width,t.height)/2-L,$=V/(d.length+(D?1:0));L=Math.min(L,$)}var K=0;if(d.forEach(function(oe){var re=t.sweep;re===void 0&&(re=2*Math.PI-2*Math.PI/oe.length);var ye=oe.dTheta=re/Math.max(1,oe.length-1);if(oe.length>1&&t.preventOverlap){var Pe=Math.cos(ye)-Math.cos(0),ze=Math.sin(ye)-Math.sin(0),je=Math.sqrt(L*L/(Pe*Pe+ze*ze));K=Math.max(je,K)}oe.r=K,K+=L}),t.equidistant){for(var yt=0,wt=0,Rt=0;Rt<d.length;Rt++){var Zt=d[Rt],te=Zt.r-wt;yt=Math.max(yt,te)}wt=0,d.forEach(function(oe,re){re===0&&(wt=oe.r),oe.r=wt,wt+=yt})}d.forEach(function(oe){var re=oe.dTheta,ye=oe.r;oe.forEach(function(Pe,ze){var je=t.startAngle+(t.clockwise?1:-1)*re*ze;Pe.x=o[0]+ye*Math.cos(je),Pe.y=o[1]+ye*Math.sin(je)})})}},e}(Ta),v3=c3,d3=v(49772),ox=v.n(d3),p3=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!r){var o=t.edges||[],s=new(ox()).graphlib.Graph,l;n?(0,Di.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(b){return b.size?(0,Di.default)(b.size)?b.size:[b.size,b.size]:[40,40]};var f=$l(t.nodesepFunc,t.nodesep,50),h=$l(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(f=$l(t.ranksepFunc,t.ranksep,50),h=$l(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),r.forEach(function(d){var b=l(d),L=h(d),D=f(d),V=b[0]+2*D,$=b[1]+2*L;s.setNode(d.id,{width:V,height:$})}),o.forEach(function(d){s.setEdge(d.source,d.target,{weight:d.weight||1})}),ox().layout(s);var c;s.nodes().forEach(function(d){c=s.node(d);var b=r.findIndex(function(L){return L.id===d});r[b].x=c.x,r[b].y=c.y}),s.edges().forEach(function(d){c=s.edge(d);var b=o.findIndex(function(L){return L.source===d.v&&L.target===d.w});t.controlPoints&&o[b].type!=="loop"&&o[b].shape!=="loop"&&(o[b].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},e.prototype.sortLevel=function(t){var r=this,n=r.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,f={};if(s.forEach(function(D){var V=D.comboId;f[V]||(f[V]={x:0,y:0,count:0}),f[V].x+=D.x,f[V].y+=D.y,f[V].count++}),Object.keys(f).forEach(function(D){f[D].x/=f[D].count,f[D].y/=f[D].count}),l!==1){var h=s.sort(function(D,V){return D.x-V.x}),c=h[0].x,d=h[l-1].x,b=(d-c)/(l-1),L=s.sort(function(D,V){var $=D[t]||"undefined",K=V[t]||"undefined";return $<K?-1:$>K?1:0});L.forEach(function(D,V){D.x=c+V*b})}})},e}(Ta),g3=p3;function $l(i,e,t){var r;return i?r=i:(0,u.isNumber)(e)?r=function(){return e}:r=function(){return t},r}function y3(i){const e=+this._x.call(null,i),t=+this._y.call(null,i);return sx(this.cover(e,t),e,t,i)}function sx(i,e,t,r){if(isNaN(e)||isNaN(t))return i;var n,a=i._root,o={data:r},s=i._x0,l=i._y0,f=i._x1,h=i._y1,c,d,b,L,D,V,$,K;if(!a)return i._root=o,i;for(;a.length;)if((D=e>=(c=(s+f)/2))?s=c:f=c,(V=t>=(d=(l+h)/2))?l=d:h=d,n=a,!(a=a[$=V<<1|D]))return n[$]=o,i;if(b=+i._x.call(null,a.data),L=+i._y.call(null,a.data),e===b&&t===L)return o.next=a,n?n[$]=o:i._root=o,i;do n=n?n[$]=new Array(4):i._root=new Array(4),(D=e>=(c=(s+f)/2))?s=c:f=c,(V=t>=(d=(l+h)/2))?l=d:h=d;while(($=V<<1|D)==(K=(L>=d)<<1|b>=c));return n[K]=a,n[$]=o,i}function m3(i){var e,t,r=i.length,n,a,o=new Array(r),s=new Array(r),l=Infinity,f=Infinity,h=-Infinity,c=-Infinity;for(t=0;t<r;++t)isNaN(n=+this._x.call(null,e=i[t]))||isNaN(a=+this._y.call(null,e))||(o[t]=n,s[t]=a,n<l&&(l=n),n>h&&(h=n),a<f&&(f=a),a>c&&(c=a));if(l>h||f>c)return this;for(this.cover(l,f).cover(h,c),t=0;t<r;++t)sx(this,o[t],s[t],i[t]);return this}function x3(i,e){if(isNaN(i=+i)||isNaN(e=+e))return this;var t=this._x0,r=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(r=Math.floor(e))+1;else{for(var o=n-t||1,s=this._root,l,f;t>i||i>=n||r>e||e>=a;)switch(f=(e<r)<<1|i<t,l=new Array(4),l[f]=s,s=l,o*=2,f){case 0:n=t+o,a=r+o;break;case 1:t=n-o,a=r+o;break;case 2:n=t+o,r=a-o;break;case 3:t=n-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=r,this._x1=n,this._y1=a,this}function b3(){var i=[];return this.visit(function(e){if(!e.length)do i.push(e.data);while(e=e.next)}),i}function w3(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ta(i,e,t,r,n){this.node=i,this.x0=e,this.y0=t,this.x1=r,this.y1=n}function S3(i,e,t){var r,n=this._x0,a=this._y0,o,s,l,f,h=this._x1,c=this._y1,d=[],b=this._root,L,D;for(b&&d.push(new ta(b,n,a,h,c)),t==null?t=Infinity:(n=i-t,a=e-t,h=i+t,c=e+t,t*=t);L=d.pop();)if(!(!(b=L.node)||(o=L.x0)>h||(s=L.y0)>c||(l=L.x1)<n||(f=L.y1)<a))if(b.length){var V=(o+l)/2,$=(s+f)/2;d.push(new ta(b[3],V,$,l,f),new ta(b[2],o,$,V,f),new ta(b[1],V,s,l,$),new ta(b[0],o,s,V,$)),(D=(e>=$)<<1|i>=V)&&(L=d[d.length-1],d[d.length-1]=d[d.length-1-D],d[d.length-1-D]=L)}else{var K=i-+this._x.call(null,b.data),yt=e-+this._y.call(null,b.data),wt=K*K+yt*yt;if(wt<t){var Rt=Math.sqrt(t=wt);n=i-Rt,a=e-Rt,h=i+Rt,c=e+Rt,r=b.data}}return r}function M3(i){if(isNaN(h=+this._x.call(null,i))||isNaN(c=+this._y.call(null,i)))return this;var e,t=this._root,r,n,a,o=this._x0,s=this._y0,l=this._x1,f=this._y1,h,c,d,b,L,D,V,$;if(!t)return this;if(t.length)for(;;){if((L=h>=(d=(o+l)/2))?o=d:l=d,(D=c>=(b=(s+f)/2))?s=b:f=b,e=t,!(t=t[V=D<<1|L]))return this;if(!t.length)break;(e[V+1&3]||e[V+2&3]||e[V+3&3])&&(r=e,$=V)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):e?(a?e[V]=a:delete e[V],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(r?r[$]=t:this._root=t),this):(this._root=a,this)}function C3(i){for(var e=0,t=i.length;e<t;++e)this.remove(i[e]);return this}function E3(){return this._root}function A3(){var i=0;return this.visit(function(e){if(!e.length)do++i;while(e=e.next)}),i}function T3(i){var e=[],t,r=this._root,n,a,o,s,l;for(r&&e.push(new ta(r,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!i(r=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&r.length){var f=(a+s)/2,h=(o+l)/2;(n=r[3])&&e.push(new ta(n,f,h,s,l)),(n=r[2])&&e.push(new ta(n,a,h,f,l)),(n=r[1])&&e.push(new ta(n,f,o,s,h)),(n=r[0])&&e.push(new ta(n,a,o,f,h))}return this}function P3(i){var e=[],t=[],r;for(this._root&&e.push(new ta(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var n=r.node;if(n.length){var a,o=r.x0,s=r.y0,l=r.x1,f=r.y1,h=(o+l)/2,c=(s+f)/2;(a=n[0])&&e.push(new ta(a,o,s,h,c)),(a=n[1])&&e.push(new ta(a,h,s,l,c)),(a=n[2])&&e.push(new ta(a,o,c,h,f)),(a=n[3])&&e.push(new ta(a,h,c,l,f))}t.push(r)}for(;r=t.pop();)i(r.node,r.x0,r.y0,r.x1,r.y1);return this}function _3(i){return i[0]}function O3(i){return arguments.length?(this._x=i,this):this._x}function L3(i){return i[1]}function I3(i){return arguments.length?(this._y=i,this):this._y}function Th(i,e,t){var r=new Ph(e==null?_3:e,t==null?L3:t,NaN,NaN,NaN,NaN);return i==null?r:r.addAll(i)}function Ph(i,e,t,r,n,a){this._x=i,this._y=e,this._x0=t,this._y0=r,this._x1=n,this._y1=a,this._root=void 0}function lx(i){for(var e={data:i.data},t=e;i=i.next;)t=t.next={data:i.data};return e}var ea=Th.prototype=Ph.prototype;ea.copy=function(){var i=new Ph(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,r;if(!e)return i;if(!e.length)return i._root=lx(e),i;for(t=[{source:e,target:i._root=new Array(4)}];e=t.pop();)for(var n=0;n<4;++n)(r=e.source[n])&&(r.length?t.push({source:r,target:e.target[n]=new Array(4)}):e.target[n]=lx(r));return i},ea.add=y3,ea.addAll=m3,ea.cover=x3,ea.data=b3,ea.extent=w3,ea.find=S3,ea.remove=M3,ea.removeAll=C3,ea.root=E3,ea.size=A3,ea.visit=T3,ea.visitAfter=P3,ea.x=O3,ea.y=I3;function ra(i){return function(){return i}}function fo(i){return(i()-.5)*1e-6}var k3={value:function(){}};function ux(){for(var i=0,e=arguments.length,t={},r;i<e;++i){if(!(r=arguments[i]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Ql(t)}function Ql(i){this._=i}function B3(i,e){return i.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}Ql.prototype=ux.prototype={constructor:Ql,on:function(e,t){var r=this._,n=B3(e+"",r),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(e=n[o]).type)&&(a=D3(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(e=n[o]).type)r[a]=fx(r[a],e.name,t);else if(t==null)for(a in r)r[a]=fx(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Ql(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,o;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,a=o.length;n<a;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,o=n.length;a<o;++a)n[a].value.apply(t,r)}};function D3(i,e){for(var t=0,r=i.length,n;t<r;++t)if((n=i[t]).name===e)return n.value}function fx(i,e,t){for(var r=0,n=i.length;r<n;++r)if(i[r].name===e){i[r]=k3,i=i.slice(0,r).concat(i.slice(r+1));break}return t!=null&&i.push({name:e,value:t}),i}var F3=ux,jo=0,ws=0,Ss=0,hx=1e3,Jl,Ms,ql=0,Po=0,tu=0,Cs=typeof performance=="object"&&performance.now?performance:Date,cx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function vx(){return Po||(cx(R3),Po=Cs.now()+tu)}function R3(){Po=0}function _h(){this._call=this._time=this._next=null}_h.prototype=dx.prototype={constructor:_h,restart:function(i,e,t){if(typeof i!="function")throw new TypeError("callback is not a function");t=(t==null?vx():+t)+(e==null?0:+e),!this._next&&Ms!==this&&(Ms?Ms._next=this:Jl=this,Ms=this),this._call=i,this._time=t,Oh()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Oh())}};function dx(i,e,t){var r=new _h;return r.restart(i,e,t),r}function N3(){vx(),++jo;for(var i=Jl,e;i;)(e=Po-i._time)>=0&&i._call.call(null,e),i=i._next;--jo}function px(){Po=(ql=Cs.now())+tu,jo=ws=0;try{N3()}finally{jo=0,G3(),Po=0}}function Y3(){var i=Cs.now(),e=i-ql;e>hx&&(tu-=e,ql=i)}function G3(){for(var i,e=Jl,t,r=Infinity;e;)e._call?(r>e._time&&(r=e._time),i=e,e=e._next):(t=e._next,e._next=null,e=i?i._next=t:Jl=t);Ms=i,Oh(r)}function Oh(i){if(!jo){ws&&(ws=clearTimeout(ws));var e=i-Po;e>24?(i<Infinity&&(ws=setTimeout(px,i-Cs.now()-tu)),Ss&&(Ss=clearInterval(Ss))):(Ss||(ql=Cs.now(),Ss=setInterval(Y3,hx)),jo=1,cx(px))}}var z3=1664525,X3=1013904223,gx=4294967296;function V3(){var i=1;return function(){return(i=(z3*i+X3)%gx)/gx}}function H3(i){return i.x}function W3(i){return i.y}var j3=10,U3=Math.PI*(3-Math.sqrt(5));function yx(i){var e,t=1,r=.001,n=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=dx(c),f=F3("tick","end"),h=V3();i==null&&(i=[]);function c(){d(),f.call("tick",e),t<r&&(l.stop(),f.call("end",e))}function d(D){var V,$=i.length,K;D===void 0&&(D=1);for(var yt=0;yt<D;++yt)for(t+=(a-t)*n,s.forEach(function(wt){wt(t)}),V=0;V<$;++V)K=i[V],K.fx==null?K.x+=K.vx*=o:(K.x=K.fx,K.vx=0),K.fy==null?K.y+=K.vy*=o:(K.y=K.fy,K.vy=0);return e}function b(){for(var D=0,V=i.length,$;D<V;++D){if($=i[D],$.index=D,$.fx!=null&&($.x=$.fx),$.fy!=null&&($.y=$.fy),isNaN($.x)||isNaN($.y)){var K=j3*Math.sqrt(.5+D),yt=D*U3;$.x=K*Math.cos(yt),$.y=K*Math.sin(yt)}(isNaN($.vx)||isNaN($.vy))&&($.vx=$.vy=0)}}function L(D){return D.initialize&&D.initialize(i,h),D}return b(),e={tick:d,restart:function(){return l.restart(c),e},stop:function(){return l.stop(),e},nodes:function(V){return arguments.length?(i=V,b(),s.forEach(L),e):i},alpha:function(V){return arguments.length?(t=+V,e):t},alphaMin:function(V){return arguments.length?(r=+V,e):r},alphaDecay:function(V){return arguments.length?(n=+V,e):+n},alphaTarget:function(V){return arguments.length?(a=+V,e):a},velocityDecay:function(V){return arguments.length?(o=1-V,e):1-o},randomSource:function(V){return arguments.length?(h=V,s.forEach(L),e):h},force:function(V,$){return arguments.length>1?($==null?s.delete(V):s.set(V,L($)),e):s.get(V)},find:function(V,$,K){var yt=0,wt=i.length,Rt,Zt,te,oe,re;for(K==null?K=Infinity:K*=K,yt=0;yt<wt;++yt)oe=i[yt],Rt=V-oe.x,Zt=$-oe.y,te=Rt*Rt+Zt*Zt,te<K&&(re=oe,K=te);return re},on:function(V,$){return arguments.length>1?(f.on(V,$),e):f.on(V)}}}function mx(){var i,e,t,r,n=ra(-30),a,o=1,s=Infinity,l=.81;function f(b){var L,D=i.length,V=Th(i,H3,W3).visitAfter(c);for(r=b,L=0;L<D;++L)e=i[L],V.visit(d)}function h(){if(!!i){var b,L=i.length,D;for(a=new Array(L),b=0;b<L;++b)D=i[b],a[D.index]=+n(D,b,i)}}function c(b){var L=0,D,V,$=0,K,yt,wt;if(b.length){for(K=yt=wt=0;wt<4;++wt)(D=b[wt])&&(V=Math.abs(D.value))&&(L+=D.value,$+=V,K+=V*D.x,yt+=V*D.y);b.x=K/$,b.y=yt/$}else{D=b,D.x=D.data.x,D.y=D.data.y;do L+=a[D.data.index];while(D=D.next)}b.value=L}function d(b,L,D,V){if(!b.value)return!0;var $=b.x-e.x,K=b.y-e.y,yt=V-L,wt=$*$+K*K;if(yt*yt/l<wt)return wt<s&&($===0&&($=fo(t),wt+=$*$),K===0&&(K=fo(t),wt+=K*K),wt<o&&(wt=Math.sqrt(o*wt)),e.vx+=$*b.value*r/wt,e.vy+=K*b.value*r/wt),!0;if(b.length||wt>=s)return;(b.data!==e||b.next)&&($===0&&($=fo(t),wt+=$*$),K===0&&(K=fo(t),wt+=K*K),wt<o&&(wt=Math.sqrt(o*wt)));do b.data!==e&&(yt=a[b.data.index]*r/wt,e.vx+=$*yt,e.vy+=K*yt);while(b=b.next)}return f.initialize=function(b,L){i=b,t=L,h()},f.strength=function(b){return arguments.length?(n=typeof b=="function"?b:ra(+b),h(),f):n},f.distanceMin=function(b){return arguments.length?(o=b*b,f):Math.sqrt(o)},f.distanceMax=function(b){return arguments.length?(s=b*b,f):Math.sqrt(s)},f.theta=function(b){return arguments.length?(l=b*b,f):Math.sqrt(l)},f}function Z3(i,e){var t,r=1;i==null&&(i=0),e==null&&(e=0);function n(){var a,o=t.length,s,l=0,f=0;for(a=0;a<o;++a)s=t[a],l+=s.x,f+=s.y;for(l=(l/o-i)*r,f=(f/o-e)*r,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=f}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(e=+a,n):e},n.strength=function(a){return arguments.length?(r=+a,n):r},n}function K3(i){return i.index}function xx(i,e){var t=i.get(e);if(!t)throw new Error("node not found: "+e);return t}function bx(i){var e=K3,t=c,r,n=ra(30),a,o,s,l,f,h=1;i==null&&(i=[]);function c(V){return 1/Math.min(s[V.source.index],s[V.target.index])}function d(V){for(var $=0,K=i.length;$<h;++$)for(var yt=0,wt,Rt,Zt,te,oe,re,ye;yt<K;++yt)wt=i[yt],Rt=wt.source,Zt=wt.target,te=Zt.x+Zt.vx-Rt.x-Rt.vx||fo(f),oe=Zt.y+Zt.vy-Rt.y-Rt.vy||fo(f),re=Math.sqrt(te*te+oe*oe),re=(re-a[yt])/re*V*r[yt],te*=re,oe*=re,Zt.vx-=te*(ye=l[yt]),Zt.vy-=oe*ye,Rt.vx+=te*(ye=1-ye),Rt.vy+=oe*ye}function b(){if(!!o){var V,$=o.length,K=i.length,yt=new Map(o.map(function(Rt,Zt){return[e(Rt,Zt,o),Rt]})),wt;for(V=0,s=new Array($);V<K;++V)wt=i[V],wt.index=V,typeof wt.source!="object"&&(wt.source=xx(yt,wt.source)),typeof wt.target!="object"&&(wt.target=xx(yt,wt.target)),s[wt.source.index]=(s[wt.source.index]||0)+1,s[wt.target.index]=(s[wt.target.index]||0)+1;for(V=0,l=new Array(K);V<K;++V)wt=i[V],l[V]=s[wt.source.index]/(s[wt.source.index]+s[wt.target.index]);r=new Array(K),L(),a=new Array(K),D()}}function L(){if(!!o)for(var V=0,$=i.length;V<$;++V)r[V]=+t(i[V],V,i)}function D(){if(!!o)for(var V=0,$=i.length;V<$;++V)a[V]=+n(i[V],V,i)}return d.initialize=function(V,$){o=V,f=$,b()},d.links=function(V){return arguments.length?(i=V,b(),d):i},d.id=function(V){return arguments.length?(e=V,d):e},d.iterations=function(V){return arguments.length?(h=+V,d):h},d.strength=function(V){return arguments.length?(t=typeof V=="function"?V:ra(+V),L(),d):t},d.distance=function(V){return arguments.length?(n=typeof V=="function"?V:ra(+V),D(),d):n},d}function $3(i){return i.x+i.vx}function Q3(i){return i.y+i.vy}function wx(i){var e,t,r,n=1,a=1;typeof i!="function"&&(i=ra(i==null?1:+i));function o(){for(var f,h=e.length,c,d,b,L,D,V,$=0;$<a;++$)for(c=Th(e,$3,Q3).visitAfter(s),f=0;f<h;++f)d=e[f],D=t[d.index],V=D*D,b=d.x+d.vx,L=d.y+d.vy,c.visit(K);function K(yt,wt,Rt,Zt,te){var oe=yt.data,re=yt.r,ye=D+re;if(oe){if(oe.index>d.index){var Pe=b-oe.x-oe.vx,ze=L-oe.y-oe.vy,je=Pe*Pe+ze*ze;je<ye*ye&&(Pe===0&&(Pe=fo(r),je+=Pe*Pe),ze===0&&(ze=fo(r),je+=ze*ze),je=(ye-(je=Math.sqrt(je)))/je*n,d.vx+=(Pe*=je)*(ye=(re*=re)/(V+re)),d.vy+=(ze*=je)*ye,oe.vx-=Pe*(ye=1-ye),oe.vy-=ze*ye)}return}return wt>b+ye||Zt<b-ye||Rt>L+ye||te<L-ye}}function s(f){if(f.data)return f.r=t[f.data.index];for(var h=f.r=0;h<4;++h)f[h]&&f[h].r>f.r&&(f.r=f[h].r)}function l(){if(!!e){var f,h=e.length,c;for(t=new Array(h),f=0;f<h;++f)c=e[f],t[c.index]=+i(c,f,e)}}return o.initialize=function(f,h){e=f,r=h,l()},o.iterations=function(f){return arguments.length?(a=+f,o):a},o.strength=function(f){return arguments.length?(n=+f,o):n},o.radius=function(f){return arguments.length?(i=typeof f=="function"?f:ra(+f),l(),o):i},o}function J3(i){var e=ra(.1),t,r,n;typeof i!="function"&&(i=ra(i==null?0:+i));function a(s){for(var l=0,f=t.length,h;l<f;++l)h=t[l],h.vx+=(n[l]-h.x)*r[l]*s}function o(){if(!!t){var s,l=t.length;for(r=new Array(l),n=new Array(l),s=0;s<l;++s)r[s]=isNaN(n[s]=+i(t[s],s,t))?0:+e(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:ra(+s),o(),a):e},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:ra(+s),o(),a):i},a}function q3(i){var e=ra(.1),t,r,n;typeof i!="function"&&(i=ra(i==null?0:+i));function a(s){for(var l=0,f=t.length,h;l<f;++l)h=t[l],h.vy+=(n[l]-h.y)*r[l]*s}function o(){if(!!t){var s,l=t.length;for(r=new Array(l),n=new Array(l),s=0;s<l;++s)r[s]=isNaN(n[s]=+i(t[s],s,t))?0:+e(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:ra(+s),o(),a):e},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:ra(+s),o(),a):i},a}function tN(){function i(Ar){return function(){return Ar}}var e=function(Hr){return Hr.cluster},t=i(1),r=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},f=[],h=100,c=100,d={none:{x:0,y:0}},b=[],L,D="force",V=!0,$=.1;function K(Ar){if(!V)return K;L.tick(),oe();for(var Hr=0,an=s.length,jr=void 0,Wr=Ar*$;Hr<an;++Hr)jr=s[Hr],jr.vx+=(d[e(jr)].x-jr.x)*Wr,jr.vy+=(d[e(jr)].y-jr.y)*Wr}function yt(){!s||wt()}function wt(){if(!(!s||!s.length)){if(e(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Ar=Rt();L=yx(Ar.nodes).force("x",J3(h).strength(.1)).force("y",q3(c).strength(.1)).force("collide",wx(function(Hr){return Hr.r}).iterations(4)).force("charge",mx().strength(r)).force("links",bx(Ar.nodes.length?Ar.links:[]).distance(n).strength(a)),b=L.nodes(),oe()}}function Rt(){var Ar=[],Hr=[],an={},jr=[],Wr={},Xn=[];return Wr=Zt(s),Xn=te(f),jr=Object.keys(Wr),jr.forEach(function(Tn,Jr){var mr=Wr[Tn];Ar.push({id:Tn,size:mr.count,r:Math.sqrt(mr.sumforceNodeSize/Math.PI)}),an[Tn]=Jr}),Xn.forEach(function(Tn){var Jr=an[Tn.source],mr=an[Tn.target];Jr!==void 0&&mr!==void 0&&Hr.push({source:Jr,target:mr,count:Tn.count})}),{nodes:Ar,links:Hr}}function Zt(Ar){var Hr={};return Ar.forEach(function(an){var jr=e(an);Hr[jr]||(Hr[jr]={count:0,sumforceNodeSize:0})}),Ar.forEach(function(an){var jr=e(an),Wr=t(an),Xn=Hr[jr];Xn.count=Xn.count+1,Xn.sumforceNodeSize=Xn.sumforceNodeSize+Math.PI*(Wr*Wr)*1.3,Hr[jr]=Xn}),Hr}function te(Ar){var Hr={},an=[];Ar.forEach(function(Wr){var Xn=re(Wr),Tn=0;Hr[Xn]!==void 0&&(Tn=Hr[Xn]),Tn+=1,Hr[Xn]=Tn});var jr=Object.entries(Hr);return jr.forEach(function(Wr){var Xn=Wr[0],Tn=Wr[1],Jr=Xn.split("~")[0],mr=Xn.split("~")[1];Jr!==void 0&&mr!==void 0&&an.push({source:Jr,target:mr,count:Tn})}),an}function oe(){return d={none:{x:0,y:0}},b.forEach(function(Ar){d[Ar.id]={x:Ar.x-o[0],y:Ar.y-o[1]}}),d}function re(Ar){var Hr=e(l[Ar.source]),an=e(l[Ar.target]);return Hr<=an?Hr+"~"+an:an+"~"+Hr}function ye(Ar){l={},Ar.forEach(function(Hr){l[Hr.id]=Hr})}function Pe(Ar){return arguments.length?(D=Ar,yt(),K):D}function ze(Ar){return arguments.length?typeof Ar=="string"?(e=function(an){return an[Ar]},K):(e=Ar,K):e}function je(Ar){return arguments.length?(V=Ar,K):V}function Qe(Ar){return arguments.length?($=Ar,K):$}function Ze(Ar){return arguments.length?(h=Ar,K):h}function xr(Ar){return arguments.length?(c=Ar,K):c}function Or(Ar){return arguments.length?(ye(Ar||[]),s=Ar||[],K):s}function Tr(Ar){return arguments.length?(f=Ar||[],yt(),K):f}function Mr(Ar){return arguments.length?(typeof Ar=="function"?t=Ar:t=i(+Ar),yt(),K):t}function br(Ar){return arguments.length?(typeof Ar=="function"?r=Ar:r=i(+Ar),yt(),K):r}function qr(Ar){return arguments.length?(typeof Ar=="function"?n=Ar:n=i(+Ar),yt(),K):n}function Gr(Ar){return arguments.length?(typeof Ar=="function"?a=Ar:a=i(+Ar),yt(),K):a}function Kr(Ar){return arguments.length?(o=Ar,K):o}return K.initialize=function(Ar){s=Ar,yt()},K.template=Pe,K.groupBy=ze,K.enableGrouping=je,K.strength=Qe,K.centerX=Ze,K.centerY=xr,K.nodes=Or,K.links=Tr,K.forceNodeSize=Mr,K.nodeSize=K.forceNodeSize,K.forceCharge=br,K.forceLinkDistance=qr,K.forceLinkStrength=Gr,K.offset=Kr,K.getFocis=oe,K}var qa={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},eN=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},e.prototype.init=function(t){var r=this;r.nodes=t.nodes||[];var n=t.edges||[];r.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),r.ticking=!1},e.prototype.execute=function(t){var r=this,n=r.nodes,a=r.edges;if(!r.ticking){var o=r.forceSimulation,s=r.alphaMin,l=r.alphaDecay,f=r.alpha;if(o)t&&(r.clustering&&r.clusterForce&&(r.clusterForce.nodes(n),r.clusterForce.links(a)),o.nodes(n),r.edgeForce.links(a)),r.preventOverlap&&r.overlapProcess(o),o.alpha(f).restart(),this.ticking=!0;else try{var h=mx();if(r.nodeStrength&&h.strength(r.nodeStrength),o=yx().nodes(n),r.clustering){var c=tN();c.centerX(r.center[0]).centerY(r.center[1]).template("force").strength(r.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(r.clusterEdgeDistance).forceLinkStrength(r.clusterEdgeStrength).forceCharge(r.clusterNodeStrength).forceNodeSize(r.clusterNodeSize),r.clusterForce=c,o.force("group",c)}if(o.force("center",Z3(r.center[0],r.center[1])).force("charge",h).alpha(f).alphaDecay(l).alphaMin(s),r.preventOverlap&&r.overlapProcess(o),a){var d=bx().id(function(D){return D.id}).links(a);r.edgeStrength&&d.strength(r.edgeStrength),r.linkDistance&&d.distance(r.linkDistance),r.edgeForce=d,o.force("link",d)}if(r.workerEnabled&&!iN()&&(r.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!r.workerEnabled)o.on("tick",function(){r.tick()}).on("end",function(){r.ticking=!1,r.onLayoutEnd&&r.onLayoutEnd()}),r.ticking=!0;else{o.stop();for(var b=nN(o),L=1;L<=b;L++)o.tick(),postMessage({type:qa.TICK,currentTick:L,totalTicks:b,nodes:n},void 0);r.ticking=!1}r.forceSimulation=o,r.ticking=!0}catch(D){r.ticking=!1,console.warn(D)}}},e.prototype.overlapProcess=function(t){var r=this,n=r.nodeSize,a=r.nodeSpacing,o,s,l=r.collideStrength;if((0,La.default)(a)?s=function(){return a}:(0,Ds.default)(a)?s=a:s=function(){return 0},!n)o=function(b){if(b.size){if((0,Di.default)(b.size)){var L=b.size[0]>b.size[1]?b.size[0]:b.size[1];return L/2+s(b)}return b.size/2+s(b)}return 10+s(b)};else if((0,Ds.default)(n))o=function(b){var L=n(b);return L+s(b)};else if((0,Di.default)(n)){var f=n[0]>n[1]?n[0]:n[1],h=f/2;o=function(b){return h+s(b)}}else if((0,La.default)(n)){var c=n/2;o=function(b){return c+s(b)}}else o=function(){return 10};t.force("collisionForce",wx(o).strength(l))},e.prototype.updateCfg=function(t){var r=this;r.ticking&&(r.forceSimulation.stop(),r.ticking=!1),r.forceSimulation=null,(0,bs.default)(r,t)},e.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},e}(Ta),rN=eN;function nN(i){var e=i.alphaMin(),t=i.alphaTarget(),r=i.alpha(),n=Math.log((e-t)/(r-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function iN(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var aN=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.center;if(!(!r||r.length===0)){if(r.length===1){r[0].x=n[0],r[0].y=n[1];return}var a={},o={};r.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},e.prototype.run=function(){var t=this,r=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,f;t.initVals(),l&&(f=t.getClusterMap());for(var h=function(V){var $=[];r.forEach(function(K,yt){$[yt]={x:0,y:0}}),t.applyCalculate(r,n,$),l&&t.applyClusterForce(f,$),r.forEach(function(K,yt){!(0,u.isNumber)(K.x)||!(0,u.isNumber)(K.y)||(K.x+=$[yt].x*s,K.y+=$[yt].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,d=0;d<a;d++)h(d);var b=[0,0];r.forEach(function(D){!(0,u.isNumber)(D.x)||!(0,u.isNumber)(D.y)||(b[0]+=D.x,b[1]+=D.y)}),b[0]/=r.length,b[1]/=r.length;var L=[o[0]-b[0],o[1]-b[1]];r.forEach(function(D,V){!(0,u.isNumber)(D.x)||!(0,u.isNumber)(D.y)||(D.x+=L[0],D.y+=L[1])})},e.prototype.initVals=function(){for(var t=this,r=t.edges,n={},a=0;a<r.length;++a)n[r[a].source]?n[r[a].source]++:n[r[a].source]=1,n[r[a].target]?n[r[a].target]++:n[r[a].target]=1;for(var o=[],a=0;a<r.length;++a)o[a]=n[r[a].source]/(n[r[a].source]+n[r[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,f,h;if((0,u.isNumber)(l)?h=function(){return l}:(0,u.isFunction)(l)?h=l:h=function(){return 0},!s)f=function(Rt){if(Rt.size){if((0,u.isArray)(Rt.size)){var Zt=Rt.size[0]>Rt.size[1]?Rt.size[0]:Rt.size[1];return Zt/2+h(Rt)}return Rt.size/2+h(Rt)}return 10+h(Rt)};else if((0,u.isFunction)(s))f=function(Rt){var Zt=s(Rt);return Zt+h(Rt)};else if((0,u.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],d=c/2;f=function(Rt){return d+h(Rt)}}else if((0,u.isNumber)(s)){var b=s/2;f=function(Rt){return b+h(Rt)}}else f=function(){return 10};this.nodeSize=f;var L=this.linkDistance,D;L||(L=50),(0,u.isNumber)(L)&&(D=function(Rt){return L}),this.linkDistance=D;var V=this.linkStrength,$;V||(V=1),(0,u.isNumber)(V)&&($=function(Rt){return V}),this.linkStrength=$;var K=this.nodeStrength,yt;K||(K=30),(0,u.isNumber)(K)&&(yt=function(Rt){return K}),this.nodeStrength=yt},e.prototype.getClusterMap=function(){var t=this,r=t.nodes,n={};r.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,u.isNumber)(o.x)&&(l.cx+=o.x),(0,u.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},e.prototype.applyClusterForce=function(t,r){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,u.isNumber)(h.x)||!(0,u.isNumber)(h.y))){var d=t[h.cluster],b=h.x-d.cx,L=h.y-d.cy,D=Math.sqrt(b*b+L*L);r[c].x-=b*s*l/D,r[c].y-=L*s*l/D}});for(var f in t)t[f].cx=0,t[f].cy=0,t[f].count=0;o.forEach(function(h){var c=t[h.cluster];(0,u.isNumber)(h.x)&&(c.cx+=h.x),(0,u.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var f in t)t[f].cx/=t[f].count,t[f].cy/=t[f].count},e.prototype.applyCalculate=function(t,r,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(f,h){if(!(l<h)){var c=s.x-f.x,d=s.y-f.y,b=c*c+d*d;b<1&&(b=Math.sqrt(b)),c===0&&(c=Math.random()*.01,b+=c*c),d===0&&(d=Math.random()*.01,b+=d*d);var L=Math.sqrt(b);o[s.id+"-"+f.id]={vx:c,vy:d,vl:b,sqrtVl:L},o[f.id+"-"+s.id]={vx:-c,vy:-d,vl:b,sqrtVl:L}}})}),a.calRepulsive(t,n,o),a.calAttractive(r,n,o)},e.prototype.calRepulsive=function(t,r,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,f=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,d){t.forEach(function(b,L){if(d!==L&&!(!(0,u.isNumber)(c.x)||!(0,u.isNumber)(b.x)||!(0,u.isNumber)(c.y)||!(0,u.isNumber)(b.y))){var D=n[c.id+"-"+b.id],V=D.vl,$=D.vx,K=D.vy;if(!(V>a)&&(r[d].x+=$*o(b)*s/V,r[d].y+=K*o(b)*s/V,f&&d<L)){var yt=h(c),wt=h(b),Rt=yt+wt;if(V<Rt*Rt){var Zt=n[c.id+"-"+b.id].sqrtVl,te=(Rt-Zt)/Zt*l,oe=wt*wt/(yt*yt+wt*wt),re=$*te,ye=K*te;r[d].x+=re*oe,r[d].y+=ye*oe,oe=1-oe,r[L].x-=re*oe,r[L].y-=ye*oe}}}})})},e.prototype.calAttractive=function(t,r,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,f=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var d=a.nodeIdxMap[h.source],b=a.nodeIdxMap[h.target];if(d!==b){var L=a.nodeMap[h.source],D=a.nodeMap[h.target];if(!(!(0,u.isNumber)(D.x)||!(0,u.isNumber)(L.x)||!(0,u.isNumber)(D.y)||!(0,u.isNumber)(L.y))){var V=n[h.target+"-"+h.source],$=V.vl,K=V.sqrtVl,yt=V.vx,wt=V.vy,Rt=(K-o(h))/K*s*l(h),Zt=yt*Rt,te=wt*Rt,oe=f[c];r[b].x-=Zt*oe,r[b].y-=te*oe,r[d].x+=Zt*(1-oe),r[d].y+=te*(1-oe)}}}})},e}(Ta),oN=aN,sN=800,lN=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){var t=this,r=this,n=r.nodes,a=r.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,f){(0,u.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,u.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=f}),r.nodeMap=o,r.nodeIdxMap=s,r.run()}},e.prototype.run=function(){var t=this,r=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(r.length+1)),f=t.gravity,h=t.speed,c=t.clustering,d={};if(c){r.forEach(function(V){if(d[V.cluster]===void 0){var $={name:V.cluster,cx:0,cy:0,count:0};d[V.cluster]=$}var K=d[V.cluster];(0,u.isNumber)(V.x)&&(K.cx+=V.x),(0,u.isNumber)(V.y)&&(K.cy+=V.y),K.count++});for(var b in d)d[b].cx/=d[b].count,d[b].cy/=d[b].count}for(var L=function($){var K=[];if(r.forEach(function(Rt,Zt){K[Zt]={x:0,y:0}}),t.applyCalculate(r,n,K,l),c){var yt=t.clusterGravity||f;r.forEach(function(Rt,Zt){if(!(!(0,u.isNumber)(Rt.x)||!(0,u.isNumber)(Rt.y))){var te=d[Rt.cluster],oe=Math.sqrt((Rt.x-te.cx)*(Rt.x-te.cx)+(Rt.y-te.cy)*(Rt.y-te.cy)),re=l*yt;K[Zt].x-=re*(Rt.x-te.cx)/oe,K[Zt].y-=re*(Rt.y-te.cy)/oe}});for(var wt in d)d[wt].cx=0,d[wt].cy=0,d[wt].count=0;r.forEach(function(Rt){var Zt=d[Rt.cluster];(0,u.isNumber)(Rt.x)&&(Zt.cx+=Rt.x),(0,u.isNumber)(Rt.y)&&(Zt.cy+=Rt.y),Zt.count++});for(var wt in d)d[wt].cx/=d[wt].count,d[wt].cy/=d[wt].count}r.forEach(function(Rt,Zt){if(!(!(0,u.isNumber)(Rt.x)||!(0,u.isNumber)(Rt.y))){var te=.01*l*f;K[Zt].x-=te*(Rt.x-o[0]),K[Zt].y-=te*(Rt.y-o[1])}}),r.forEach(function(Rt,Zt){if(!(!(0,u.isNumber)(Rt.x)||!(0,u.isNumber)(Rt.y))){var te=Math.sqrt(K[Zt].x*K[Zt].x+K[Zt].y*K[Zt].y);if(te>0){var oe=Math.min(s*(h/sN),te);Rt.x+=K[Zt].x/te*oe,Rt.y+=K[Zt].y/te*oe}}})},D=0;D<a;D++)L(D)},e.prototype.applyCalculate=function(t,r,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(r,n,a)},e.prototype.calRepulsive=function(t,r,n){t.forEach(function(a,o){r[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,u.isNumber)(a.x)||!(0,u.isNumber)(s.x)||!(0,u.isNumber)(a.y)||!(0,u.isNumber)(s.y))){var f=a.x-s.x,h=a.y-s.y,c=f*f+h*h;if(c===0){c=1;var d=o>l?1:-1;f=.01*d,h=.01*d}var b=n*n/c;r[o].x+=f*b,r[o].y+=h*b}})})},e.prototype.calAttractive=function(t,r,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var f=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,u.isNumber)(h.x)||!(0,u.isNumber)(f.x)||!(0,u.isNumber)(h.y)||!(0,u.isNumber)(f.y))){var c=h.x-f.x,d=h.y-f.y,b=Math.sqrt(c*c+d*d),L=b*b/n;r[l].x-=c/b*L,r[l].y-=d/b*L,r[s].x+=c/b*L,r[s].y+=d/b*L}}}})},e}(Ta),uN=lN,fN=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return e.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},e.prototype.execute=function(){var t=this,r=t.nodes,n=r.length,a=t.center;if(n!==0){if(n===1){r[0].x=a[0],r[0].y=a[1];return}var o=t.edges,s=[];r.forEach(function(K){s.push(K)});var l={};if(s.forEach(function(K,yt){l[K.id]=yt}),(t.sortBy==="degree"||!(0,zn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",$a(r[0].degree))){var f=Rl(s.length,l,o);s.forEach(function(K,yt){K.degree=f[yt]})}s.sort(function(K,yt){return yt[t.sortBy]-K[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var d=t.small(),b=t.large();(d-1)*b>=t.cells?t.small(d-1):(b-1)*d>=t.cells&&t.large(b-1)}else for(;t.cols*t.rows<t.cells;){var d=t.small(),b=t.large();(b+1)*d>=t.cells?t.large(b+1):t.small(d+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(K){(!K.x||!K.y)&&(K.x=0,K.y=0);var yt,wt;(0,u.isArray)(K.size)?(yt=K.size[0],wt=K.size[1]):(0,u.isNumber)(K.size)&&(yt=K.size,wt=K.size),(yt===void 0||wt===void 0)&&((0,u.isArray)(t.nodeSize)?(yt=t.nodeSize[0],wt=t.nodeSize[1]):(0,u.isNumber)(t.nodeSize)?(yt=t.nodeSize,wt=t.nodeSize):(yt=30,wt=30));var Rt=t.preventOverlapPadding,Zt=yt+Rt,te=wt+Rt;t.cellWidth=Math.max(t.cellWidth,Zt),t.cellHeight=Math.max(t.cellHeight,te)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var L=0;L<s.length;L++){var D=s[L],V=void 0;if(t.position&&(V=t.position(D)),V&&(V.row!==void 0||V.col!==void 0)){var $={row:V.row,col:V.col};if($.col===void 0)for($.col=0;t.used($.row,$.col);)$.col++;else if($.row===void 0)for($.row=0;t.used($.row,$.col);)$.row++;t.id2manPos[D.id]=$,t.use($.row,$.col)}t.getPos(D)}}},e.prototype.small=function(t){var r=this,n,a=r.rows||5,o=r.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===r.rows?r.rows=t:r.cols=t}return n},e.prototype.large=function(t){var r=this,n,a=r.rows||5,o=r.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===r.rows?r.rows=t:r.cols=t}return n},e.prototype.used=function(t,r){var n=this;return n.cellUsed["c-"+t+"-"+r]||!1},e.prototype.use=function(t,r){var n=this;n.cellUsed["c-"+t+"-"+r]=!0},e.prototype.moveToNextCell=function(){var t=this,r=t.cols||5;t.col++,t.col>=r&&(t.col=0,t.row++)},e.prototype.getPos=function(t){var r=this,n=r.begin,a=r.cellWidth,o=r.cellHeight,s,l,f=r.id2manPos[t.id];if(f)s=f.col*a+a/2+n[0],l=f.row*o+o/2+n[1];else{for(;r.used(r.row,r.col);)r.moveToNextCell();s=r.col*a+a/2+n[0],l=r.row*o+o/2+n[1],r.use(r.row,r.col),r.moveToNextCell()}t.x=s,t.y=l},e}(Ta),hN=fN,Nn=v(37651),oG=Nn.XA,sG=Nn.a_,lG=Nn.yQ,uG=Nn.Hs,fG=Nn.Ec,hG=Nn.dx,cG=Nn.LU,vG=Nn.Rm,ho=Nn.y3,dG=Nn.qK,pG=Nn.pb,gG=Nn.j,yG=Nn.sO,mG=Nn.BZ,xG=Nn.EK,bG=Nn.Db,wG=Nn.Fx,SG=Nn.tU,MG=Nn.Ym,CG=Nn.rs,EG=Nn.QR,AG=Nn.TB,TG=Nn.oH,Sx=Nn.Sc,PG=Nn.BN,_G=Nn.it,OG=Nn.$r,LG=Nn.QM,IG=Nn.AV,kG=(Nn.y3,Nn.y3),BG=Nn.GH,DG=Nn.SO,FG=Nn.uZ,RG=Nn.yU,NG=Nn.F1,YG=Nn.re,cN=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!r||r.length===0)){if(r.length===1){r[0].x=o[0],r[0].y=o[1];return}var s=t.linkDistance,l=fh({nodes:r,edges:a},!1),f=uh(l);t.handleInfinity(f);var h=mm(f,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(d,b){r[b].x=d[0]+o[0],r[b].y=d[1]+o[1]})}},e.prototype.runMDS=function(){var t=this,r=2,n=t.scaledDistances,a=ho.mul(ho.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var f=new Sx(a),h=ho.sqrt(f.diagonalMatrix).diagonal();return f.leftSingularVectors.toJSON().map(function(c){return ho.mul([c],[h]).toJSON()[0].splice(0,r)})},e.prototype.handleInfinity=function(t){var r=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&r<a&&(r=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=r)})})},e}(Ta),vN=cN,dN=function(){function i(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}return i.prototype.layout=function(){var e=this,t=e.dimension,r=e.distances,n=e.linkDistance;try{var a=ho.mul(ho.pow(r,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var f=new Sx(a),h=ho.sqrt(f.diagonalMatrix).diagonal();return f.leftSingularVectors.toJSON().map(function(D){return ho.mul([D],[h]).toJSON()[0].splice(0,t)})}catch(D){for(var c=[],d=0;d<r.length;d++){var b=Math.random()*n,L=Math.random()*n;c.push([b,L])}return c}},i}(),pN=dN,gN=800,yN=function(){function i(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}return i.prototype.layout=function(){var e=this,t=e.positions,r=[],n=e.iterations,a=e.width/10;e.maxDisplace=a,e.disp=r;for(var o=0;o<n;o++)t.forEach(function(s,l){r[l]={x:0,y:0}}),e.getRepulsion(),e.updatePositions();return t},i.prototype.getRepulsion=function(){var e=this,t=e.positions,r=e.nodes,n=e.disp,a=e.k,o=e.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(f,h){if(l!==h&&o[l]===o[h]){var c=s[0]-f[0],d=s[1]-f[1],b=Math.sqrt(c*c+d*d);if(b===0){b=1;var L=l>h?1:-1;c=.01*L,d=.01*L}if(b<e.nodeSizeFunc(r[l])/2+e.nodeSizeFunc(r[h])/2){var D=a*a/b;n[l].x+=c/b*D,n[l].y+=d/b*D}}})})},i.prototype.updatePositions=function(){var e=this,t=e.positions,r=e.disp,n=e.speed,a=e.strictRadial,o=e.focusID,s=e.maxDisplace||e.width/10;a&&r.forEach(function(f,h){var c=t[h][0]-t[o][0],d=t[h][1]-t[o][1],b=Math.sqrt(c*c+d*d),L=d/b,D=-c/b,V=Math.sqrt(f.x*f.x+f.y*f.y),$=Math.acos((L*f.x+D*f.y)/V);$>Math.PI/2&&($-=Math.PI/2,L*=-1,D*=-1);var K=Math.cos($)*V;f.x=L*K,f.y=D*K});var l=e.radii;t.forEach(function(f,h){if(h!==o){var c=Math.sqrt(r[h].x*r[h].x+r[h].y*r[h].y);if(c>0&&h!==o){var d=Math.min(s*(n/gN),c);if(f[0]+=r[h].x/c*d,f[1]+=r[h].y/c*d,a){var b=f[0]-t[o][0],L=f[1]-t[o][1],D=Math.sqrt(b*b+L*L);b=b/D*l[h],L=L/D*l[h],f[0]=t[o][0]+b,f[1]=t[o][1]+L}}}})},i}(),mN=yN;function xN(i){for(var e=i.length,t=i[0].length,r=[],n=0;n<e;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);r.push(a)}return r}function bN(i,e){var t=-1;return i.forEach(function(r,n){r.id===e&&(t=n)}),t}function Mx(i,e){return Math.sqrt((i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1]))}var wN=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.edges||[],a=t.center;if(!(!r||r.length===0)){if(r.length===1){r[0].x=a[0],r[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,zn.default)(t.focusNode)){for(var l=!1,f=0;f<r.length;f++)r[f].id===t.focusNode&&(s=r[f],t.focusNode=s,l=!0,f=r.length);l||(s=null)}else s=t.focusNode;s||(s=r[0],t.focusNode=s);var h=bN(r,s.id);t.focusIndex=h;var c=fh({nodes:r,edges:n},!1),d=uh(c),b=t.maxToFocus(d,h);t.handleInfinity(d,h,b+1),t.distances=d;var L=d[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var D=t.width||500,V=t.height||500,$=D-a[0]>a[0]?a[0]:D-a[0],K=V-a[1]>a[1]?a[1]:V-a[1];$===0&&($=D/2),K===0&&(K=V/2);var yt=K>$?$:K,wt=Math.max.apply(Math,L),Rt=[];L.forEach(function(Tr,Mr){t.unitRadius||(t.unitRadius=yt/wt),Rt[Mr]=Tr*t.unitRadius}),t.radii=Rt;var Zt=t.eIdealDisMatrix();t.eIdealDistances=Zt;var te=xN(Zt);t.weights=te;var oe=new pN({distances:Zt,linkDistance:o}),re=oe.layout();re.forEach(function(Tr){$a(Tr[0])&&(Tr[0]=Math.random()*o),$a(Tr[1])&&(Tr[1]=Math.random()*o)}),t.positions=re,re.forEach(function(Tr,Mr){r[Mr].x=Tr[0]+a[0],r[Mr].y=Tr[1]+a[1]}),re.forEach(function(Tr){Tr[0]-=re[h][0],Tr[1]-=re[h][1]}),t.run();var ye=t.preventOverlap,Pe=t.nodeSize,ze,je=t.strictRadial;if(ye){var Qe=t.nodeSpacing,Ze;(0,La.default)(Qe)?Ze=function(){return Qe}:(0,Ds.default)(Qe)?Ze=Qe:Ze=function(){return 0},Pe?(0,Di.default)(Pe)?ze=function(Mr){var br=Pe[0]>Pe[1]?Pe[0]:Pe[1];return br+Ze(Mr)}:ze=function(Mr){return Pe+Ze(Mr)}:ze=function(Mr){if(Mr.size){if((0,Di.default)(Mr.size)){var br=Mr.size[0]>Mr.size[1]?Mr.size[0]:Mr.size[1];return br+Ze(Mr)}return Mr.size+Ze(Mr)}return 10+Ze(Mr)};var xr={nodeSizeFunc:ze,adjMatrix:c,positions:re,radii:Rt,height:V,width:D,strictRadial:je,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:re.length/4.5,nodes:r},Or=new mN(xr);re=Or.layout()}re.forEach(function(Tr,Mr){r[Mr].x=Tr[0]+a[0],r[Mr].y=Tr[1]+a[1]})}},e.prototype.run=function(){for(var t=this,r=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=r;l++){var f=l/r;t.oneIteration(f,n,s,o,a)}},e.prototype.oneIteration=function(t,r,n,a,o){var s=this,l=1-t,f=s.focusIndex;r.forEach(function(h,c){var d=Mx(h,[0,0]),b=d===0?0:1/d;if(c!==f){var L=0,D=0,V=0;r.forEach(function(K,yt){if(c!==yt){var wt=Mx(h,K),Rt=wt===0?0:1/wt,Zt=a[yt][c];V+=o[c][yt],L+=o[c][yt]*(K[0]+Zt*(h[0]-K[0])*Rt),D+=o[c][yt]*(K[1]+Zt*(h[1]-K[1])*Rt)}});var $=n[c]===0?0:1/n[c];V*=l,V+=t*$*$,L*=l,L+=t*$*h[0]*b,h[0]=L/V,D*=l,D+=t*$*h[1]*b,h[1]=D/V}})},e.prototype.eIdealDisMatrix=function(){var t=this,r=t.nodes;if(!r)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(f,h){var c=[];f.forEach(function(d,b){if(h===b)c.push(0);else if(o[h]===o[b])if(t.sortBy==="data")c.push(d*(Math.abs(h-b)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var L=r[h][t.sortBy]||0,D=r[b][t.sortBy]||0;(0,zn.default)(L)&&(L=L.charCodeAt(0)),(0,zn.default)(D)&&(D=D.charCodeAt(0)),c.push(d*(Math.abs(L-D)*t.sortStrength)/(o[h]/s))}else c.push(d*a/(o[h]/s));else{var V=(a+s)/2;c.push(d*V)}}),l.push(c)}),l},e.prototype.handleInfinity=function(t,r,n){for(var a=t.length,o=0;o<a;o++)if(t[r][o]===Infinity){t[r][o]=n,t[o][r]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[r][s]===Infinity&&(t[r][s]=n+t[o][s],t[s][r]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==r){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[r][o]-t[r][s]);l=l===0?1:l,t[o][s]=l}}},e.prototype.maxToFocus=function(t,r){for(var n=0,a=0;a<t[r].length;a++)t[r][a]!==Infinity&&(n=t[r][a]>n?t[r][a]:n);return n},e}(Ta),SN=wN,MN=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,r=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),r&&r.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},e}(Ta),CN=MN,EN=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return e.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!r||r.length===0)){if(r.length===1){r[0].x=n[0],r[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},e.prototype.run=function(){var t=this,r=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(b){var L=[];r.forEach(function(D,V){L[V]={x:0,y:0}}),t.applyCalculate(L),t.applyComboCenterForce(L),r.forEach(function(D,V){!(0,u.isNumber)(D.x)||!(0,u.isNumber)(D.y)||(D.x+=L[V].x*o,D.y+=L[V].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},f=0;f<n;f++)l(f);var h=[0,0];r.forEach(function(d){!(0,u.isNumber)(d.x)||!(0,u.isNumber)(d.y)||(h[0]+=d.x,h[1]+=d.y)}),h[0]/=r.length,h[1]/=r.length;var c=[a[0]-h[0],a[1]-h[1]];r.forEach(function(d,b){!(0,u.isNumber)(d.x)||!(0,u.isNumber)(d.y)||(d.x+=c[0],d.y+=c[1])}),t.combos.forEach(function(d){var b=s[d.id];b&&b.empty&&(d.x=b.cx||d.x,d.y=b.cy||d.y)}),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this,r=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(Ze,xr){s[Ze.id]=Ze,l[Ze.id]=xr}),t.nodeMap=s,t.nodeIdxMap=l;var f={};a.forEach(function(Ze){f[Ze.id]=Ze}),t.oriComboMap=f,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var d=0;d<r.length;++d)o[r[d].source]?o[r[d].source]++:o[r[d].source]=1,o[r[d].target]?o[r[d].target]++:o[r[d].target]=1;for(var b=[],d=0;d<r.length;++d)b[d]=o[r[d].source]/(o[r[d].source]+o[r[d].target]);this.bias=b;var L=t.nodeSize,D=t.nodeSpacing,V,$;if((0,u.isNumber)(D)?$=function(){return D}:(0,u.isFunction)(D)?$=D:$=function(){return 0},this.nodeSpacing=$,!L)V=function(xr){if(xr.size){if((0,u.isArray)(xr.size)){var Or=xr.size[0]>xr.size[1]?xr.size[0]:xr.size[1];return Or/2}return xr.size/2}return 10};else if((0,u.isFunction)(L))V=function(xr){return L(xr)};else if((0,u.isArray)(L)){var K=L[0]>L[1]?L[0]:L[1],yt=K/2;V=function(xr){return yt}}else{var wt=L/2;V=function(xr){return wt}}this.nodeSize=V;var Rt=t.comboSpacing,Zt;(0,u.isNumber)(Rt)?Zt=function(){return Rt}:(0,u.isFunction)(Rt)?Zt=Rt:Zt=function(){return 0},this.comboSpacing=Zt;var te=t.comboPadding,oe;(0,u.isNumber)(te)?oe=function(){return te}:(0,u.isArray)(te)?oe=function(){return Math.max.apply(null,te)}:(0,u.isFunction)(te)?oe=te:oe=function(){return 0},this.comboPadding=oe;var re=this.linkDistance,ye;re||(re=10),(0,u.isNumber)(re)?ye=function(xr){return re}:ye=re,this.linkDistance=ye;var Pe=this.edgeStrength,ze;Pe||(Pe=1),(0,u.isNumber)(Pe)?ze=function(xr){return Pe}:ze=Pe,this.edgeStrength=ze;var je=this.nodeStrength,Qe;je||(je=30),(0,u.isNumber)(je)?Qe=function(xr){return je}:Qe=je,this.nodeStrength=Qe},e.prototype.initPos=function(t){var r=this,n=r.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},e.prototype.getComboMap=function(){var t=this,r=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var f=[];Aa(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var d=h.children;d&&d.forEach(function(K){if(!s[K.id]&&!r[K.id])return!0;f.push(K)});var b=s[h.id];if(b.cx=0,b.cy=0,f.length===0){b.empty=!0;var L=o[h.id],D=Object.keys(r).length,V=h.id+"-visual-child-"+D,$={id:V,x:L.x,y:L.y,depth:b.depth+1,itemType:"node"};t.nodes.push($),r[V]=$,n[V]=D,b.cx=L.x,b.cy=L.y,f.push($)}return f.forEach(function(K){if(b.count++,K.itemType!=="node"){var yt=s[K.id];(0,u.isNumber)(yt.cx)&&(b.cx+=yt.cx),(0,u.isNumber)(yt.cy)&&(b.cy+=yt.cy);return}var wt=r[K.id];!wt||((0,u.isNumber)(wt.x)&&(b.cx+=wt.x),(0,u.isNumber)(wt.y)&&(b.cy+=wt.y))}),b.cx/=b.count,b.cy/=b.count,b.children=f,!0})}),s},e.prototype.applyComboCenterForce=function(t){var r=this,n=r.gravity,a=r.comboGravity||n,o=this.alpha,s=r.comboTrees,l=r.nodeIdxMap,f=r.nodeMap,h=r.comboMap;(s||[]).forEach(function(c){Aa(c,function(d){if(d.itemType==="node")return!0;var b=h[d.id];if(!b)return!0;var L=h[d.id],D=(L.depth+1)*.5,V=L.cx,$=L.cy;return L.cx=0,L.cy=0,L.children.forEach(function(K){if(K.itemType!=="node"){var yt=h[K.id];yt&&(0,u.isNumber)(yt.cx)&&(L.cx+=yt.cx),yt&&(0,u.isNumber)(yt.cy)&&(L.cy+=yt.cy);return}var wt=f[K.id],Rt=wt.x-V||.005,Zt=wt.y-$||.005,te=Math.sqrt(Rt*Rt+Zt*Zt),oe=l[wt.id],re=a*o/te*D;t[oe].x-=Rt*re,t[oe].y-=Zt*re,(0,u.isNumber)(wt.x)&&(L.cx+=wt.x),(0,u.isNumber)(wt.y)&&(L.cy+=wt.y)}),L.cx/=L.count,L.cy/=L.count,!0})})},e.prototype.applyCalculate=function(t){var r=this,n=r.comboMap,a=r.nodes,o={};a.forEach(function(l,f){a.forEach(function(h,c){if(!(f<c)){var d=l.x-h.x||.005,b=l.y-h.y||.005,L=d*d+b*b,D=Math.sqrt(L);L<1&&(L=D),o[l.id+"-"+h.id]={vx:d,vy:b,vl2:L,vl:D},o[h.id+"-"+l.id]={vx:-d,vy:-b,vl2:L,vl:D}}})}),r.updateComboSizes(n),r.calRepulsive(t,o),r.calAttractive(t,o);var s=r.preventComboOverlap;s&&r.comboNonOverlapping(t,n)},e.prototype.updateComboSizes=function(t){var r=this,n=r.comboTrees,a=r.nodeMap,o=r.nodeSize,s=r.comboSpacing,l=r.comboPadding;(n||[]).forEach(function(f){var h=[];Aa(f,function(c){if(c.itemType==="node")return!0;var d=t[c.id];if(!!d){var b=c.children;b&&b.forEach(function(V){!t[V.id]&&!a[V.id]||h.push(V)}),d.minX=Infinity,d.minY=Infinity,d.maxX=-Infinity,d.maxY=-Infinity,h.forEach(function(V){if(V.itemType!=="node")return!0;var $=a[V.id];if(!$)return!0;var K=o($),yt=$.x-K,wt=$.y-K,Rt=$.x+K,Zt=$.y+K;d.minX>yt&&(d.minX=yt),d.minY>wt&&(d.minY=wt),d.maxX<Rt&&(d.maxX=Rt),d.maxY<Zt&&(d.maxY=Zt)});var L=r.oriComboMap[c.id].size||hr.defaultCombo.size;(0,u.isArray)(L)&&(L=L[0]);var D=Math.max(d.maxX-d.minX,d.maxY-d.minY,L);return d.r=D/2+s(d)/2+l(d),!0}})})},e.prototype.comboNonOverlapping=function(t,r){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;Aa(a,function(f){if(!(!r[f.id]&&!l[f.id]&&f.id!=="comboTreeRoot")){var h=f.children;return h&&h.length>1&&h.forEach(function(c,d){if(c.itemType!=="node"){var b=r[c.id];!b||h.forEach(function(L,D){if(!(d<=D)&&L.itemType!=="node"){var V=r[L.id];if(!!V){var $=b.cx-V.cx||.005,K=b.cy-V.cy||.005,yt=$*$+K*K,wt=b.r,Rt=V.r,Zt=wt+Rt,te=Rt*Rt,oe=wt*wt;if(yt<Zt*Zt){var re=c.children;if(!re||re.length===0)return;var ye=L.children;if(!ye||ye.length===0)return;var Pe=Math.sqrt(yt),ze=(Zt-Pe)/Pe*o,je=$*ze,Qe=K*ze,Ze=te/(oe+te),xr=1-Ze;re.forEach(function(Or){if(Or.itemType==="node"&&!!l[Or.id]){var Tr=s[Or.id];ye.forEach(function(Mr){if(Mr.itemType==="node"&&!!l[Mr.id]){var br=s[Mr.id];t[Tr].x+=je*Ze,t[Tr].y+=Qe*Ze,t[br].x-=je*xr,t[br].y-=Qe*xr}})}})}}}})}}),!0}})},e.prototype.calRepulsive=function(t,r){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,f=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,d=n.nodeSpacing,b=n.depthRepulsiveForceScale,L=n.center;a.forEach(function(D,V){if(!(!D.x||!D.y)){if(L){var $=n.gravity,K=D.x-L[0]||.005,yt=D.y-L[1]||.005,wt=Math.sqrt(K*K+yt*yt);t[V].x-=K*$*l/wt,t[V].y-=yt*$*l/wt}a.forEach(function(Rt,Zt){if(V!==Zt&&!(!Rt.x||!Rt.y)){var te=r[D.id+"-"+Rt.id],oe=te.vl2,re=te.vl;if(!(re>o)){var ye=r[D.id+"-"+Rt.id],Pe=ye.vx,ze=ye.vy,je=Math.abs(Rt.depth-D.depth)+1||1;Rt.comboId!==D.comboId&&je++;var Qe=je?Math.pow(b,je):1,Ze=s(Rt)*l/oe*Qe;if(t[V].x+=Pe*Ze,t[V].y+=ze*Ze,V<Zt&&h){var xr=c(D)+d(D),Or=c(Rt)+d(Rt),Tr=xr+Or;if(oe<Tr*Tr){var Mr=(Tr-re)/re*f,br=Or*Or,qr=br/(xr*xr+br),Gr=Pe*Mr,Kr=ze*Mr;t[V].x+=Gr*qr,t[V].y+=Kr*qr,qr=1-qr,t[Zt].x-=Gr*qr,t[Zt].y-=Kr*qr}}}}})}})},e.prototype.calAttractive=function(t,r){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,f=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,d){if(!(!c.source||!c.target||c.source===c.target)){var b=n.nodeIdxMap[c.source],L=n.nodeIdxMap[c.target],D=n.nodeMap[c.source],V=n.nodeMap[c.target],$=Math.abs(D.depth-V.depth);D.comboId===V.comboId&&($=$/2);var K=$?Math.pow(h,$):1;if(D.comboId!==V.comboId&&K===1?K=h/2:D.comboId===V.comboId&&(K=2),!(!(0,u.isNumber)(V.x)||!(0,u.isNumber)(D.x)||!(0,u.isNumber)(V.y)||!(0,u.isNumber)(D.y))){var yt=r[c.target+"-"+c.source],wt=yt.vl,Rt=yt.vx,Zt=yt.vy,te=(wt-o(c))/wt*s*l(c)*K,oe=Rt*te,re=Zt*te,ye=f[d];t[L].x-=oe*ye,t[L].y-=re*ye,t[b].x+=oe*(1-ye),t[b].y+=re*(1-ye)}}})},e}(Ta),AN=EN,TN={circular:h3,concentric:v3,dagre:g3,force:rN,g6force:oN,comboForce:AN,fruchterman:uN,grid:hN,mds:vN,radial:SN,random:CN};(0,Un.default)(TN,function(i,e){ax.registerLayout(e,{},i)});var Es=ax,Lh=self;function PN(i){var e=i.data.type;return e===qa.RUN}function _N(i){var e=i.data.type;switch(e){case qa.RUN:{var t=i.data,r=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=Es[s];if(!l){Lh.postMessage({type:qa.ERROR,message:"layout "+s+" not found"});break}var f=new l(o);f.init({nodes:r,edges:n}),f.execute(),Lh.postMessage({type:qa.END,nodes:r}),f.destroy();break}default:break}}Lh.onmessage=function(i){PN(i)&&_N(i)};var ON=null;function eu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(t){return typeof t}:eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(i)}var LN=function(e){return setTimeout(e,16)},IN=function(e){return clearTimeout(e)},ru={requestAnimationFrame:function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||LN;return t(e)},cancelAnimationFrame:function(e){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||IN;return t(e)}},kN=function(){function i(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new ON,this.worker)},i.prototype.stopWorker=function(){var e=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,e.requestId&&(ru.cancelAnimationFrame(e.requestId),e.requestId=null),e.requestId2&&(ru.cancelAnimationFrame(e.requestId2),e.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(e){var t=this.graph;this.data=this.setDataFromGraph();var r=this.data.nodes;if(!r)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var f=this.initPositions(o.center,r);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,e))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var d=o.onLayoutEnd;o.onLayoutEnd=function(){d&&d(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var b=!1;if(this.layoutType!==void 0){try{l=new Es[this.layoutType](o)}catch($){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(b=l.enableTick,b){var L=o.onTick,D=o.onLayoutEnd,c=function(){L&&L(),t.refreshPositions()};l.tick=c;var V=function(){D&&D(),t.emit("afterlayout")};l.onLayoutEnd=V}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!f)&&this.layoutType!=="force"&&!b&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(e,t){var r=this,n=e.nodes,a=e.edges,o=this,s=o.layoutCfg,l=o.graph,f=this.getWorker(),h=this.workerData;if(!f)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=DN(s,function(d){return typeof d!="function"});return f.postMessage({type:qa.RUN,nodes:n,edges:a,layoutCfg:c}),f.onmessage=function(d){r.handleWorkerMessage(d,e,t)},!0},i.prototype.handleWorkerMessage=function(e,t,r){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=e.data,f=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(f){case qa.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=ru.requestAnimationFrame(function(){Ih(t,l),a.refreshPositions(),h(),l.currentTick===1&&r&&r(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=ru.requestAnimationFrame(function(){Ih(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case qa.END:o.currentTick==null&&(Ih(t,l),this.refreshLayout(),r&&r(),a.emit("afterlayout"));break;case qa.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var e=this.graph;e.get("animate")?e.positionsAnimate():e.refreshPositions()},i.prototype.updateLayoutCfg=function(e){var t=this,r=t.graph,n=t.layoutMethod;if(this.layoutType=e.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(e.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(e),r.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&r.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(e){var t=this,r=t.graph,n=t.layoutMethod;this.layoutType=e,this.layoutCfg=r.get("layout")||{},this.layoutCfg.type=e,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var e=this.layoutMethod;e&&e.destroy(),this.layout()},i.prototype.destroyLayout=function(){var e=this,t=e.layoutMethod,r=e.graph;t&&t.destroy(),r.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var e=[],t=[],r=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var f=l.getModel();e.push(f)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var f=l.getModel();f.isComboEdge||t.push(f)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var f=l.getModel();r.push(f)}});var s={nodes:e,edges:t,combos:r};return s},i.prototype.relayout=function(e){var t=this,r=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(e){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),r.emit("beforelayout"),n.execute(e),this.layoutType!=="force"&&!n.enableTick&&r.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var e=this.graph,t=e.get("data"),r=t.nodes;if(!(r[0].x===void 0||r[0].x===null||$a(r[0].x))){var n=[0,0];r.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=r.length,n[1]/=r.length,r.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(e,t){var r=this.graph;if(!t)return!1;var n=!0,a=r.get("width")*.85,o=r.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),f=Math.ceil(s/l),h=a/(l-1),c=o/(f-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var d=e[0]-a/2,b=e[1]-o/2;return t.forEach(function(L,D){$a(L.x)&&(n=!1,L.x=D%l*h+d),$a(L.y)&&(n=!1,L.y=Math.floor(D/l)*c+b)}),n},i.prototype.destroy=function(){var e=this.layoutMethod;this.graph=null,e&&e.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),BN=kN;function Ih(i,e){var t=i.nodes,r=e.nodes;t.forEach(function(n,a){n.x=r[a].x,n.y=r[a].y})}function DN(i,e){var t={};return i&&eu(i)==="object"?(Object.keys(i).forEach(function(r){i.hasOwnProperty(r)&&e(i[r])&&(t[r]=i[r])}),t):i}var _o=null,FN=function(){function i(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(e,t,r){if(!!r[t]){var n=r[t].indexOf(e);n>=0&&r[t].splice(n,1)}},i.cacheState=function(e,t,r){r[t]||(r[t]=[]),r[t].push(e)},i.prototype.updateState=function(e,t,r){var n=this,a=i.checkCache,o=i.cacheState;if(!e.destroyed){var s=this.cachedStates,l=s.enabled,f=s.disabled;r?(a(e,t,f),o(e,t,l)):(a(e,t,l),o(e,t,f)),_o&&clearTimeout(_o),_o=setTimeout(function(){_o=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(e,t,r){var n=this;(0,zn.default)(t)?this.updateState(e,t,r):t.forEach(function(a){n.updateState(e,a,r)})},i.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;(0,Un.default)(t.disabled,function(r,n){e[n]&&(e[n]=e[n].filter(function(a){return r.indexOf(a)<0&&!r.destroyed}))}),(0,Un.default)(t.enabled,function(r,n){if(!e[n])e[n]=r;else{var a={};e[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),r.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,e[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,_o&&clearTimeout(_o),_o=null,this.destroyed=!0},i}(),RN=FN,kh=null,NN=function(){function i(e){this.graph=e;var t=e.get("groupStyle");this.styles=(0,Xi.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(e,t,r,n,a,o){r===void 0&&(r="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),f=l.get("children").map(function(Kr){return Kr.get("id")});if(f.indexOf(e)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+e+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:e,zIndex:n}),c=this.styles.default,d=this.calculationGroupPosition(t),b=d.x,L=d.y,D=d.width,V=d.height,$=d.maxX,K=this.getGroupPadding(e),yt=s.get("groupBBoxs");yt[e]={x:b,y:L,width:D,height:V,maxX:$};var wt=null;if(a){var Rt=s.get("groups");t.forEach(function(Kr){var Ar=s.findById(Kr),Hr=Ar.getModel();Hr.groupId||(Hr.groupId=e)}),Rt.find(function(Kr){return Kr.id===e})||(Rt.push({id:e,title:o}),s.set({groups:Rt}))}var Zt=s.get("groups").filter(function(Kr){return Kr.id===e});Zt&&Zt.length>0&&(wt=Zt[0].title);var te=0,oe=0,re=null;if(r==="circle"){var ye=D>V?D/2:V/2,Pe=(D+2*b)/2,ze=(V+2*L)/2,je=ye+K;re=h.addShape("circle",{attrs:ue(ue({},c),{x:Pe,y:ze,r:je}),draggable:!0,capture:!0,zIndex:n,groupId:e,name:"circle-group-shape"}),te=Pe,oe=ze-je,this.setDeletageGroupByStyle(e,h,{width:D,height:V,x:Pe,y:ze,r:je})}else{var Qe=K*c.disCoefficient;re=h.addShape("rect",{attrs:ue(ue({},c),{x:b-Qe,y:L-Qe,width:D+Qe*2,height:V+Qe*2}),draggable:!0,capture:!0,zIndex:n,groupId:e,name:"rect-group-shape"}),te=b-Qe+15,oe=L-Qe+15,this.setDeletageGroupByStyle(e,h,{x:b-Qe,y:L-Qe,width:D+Qe,height:V+Qe,btnOffset:$-3})}if(wt){var Ze=wt.offsetX,xr=Ze===void 0?0:Ze,Or=wt.offsetY,Tr=Or===void 0?0:Or,Mr=wt.text,br=Mr===void 0?wt:Mr,qr=Ui(wt,["offsetX","offsetY","text"]),Gr=h.addShape("text",{attrs:ue({text:br,stroke:"#444",x:te+xr,y:oe+Tr},qr),className:"group-title",name:"group-title-shape"});Gr.set("capture",!1)}h.set("keyShape",re),s.get("groupNodes")[e]=t},i.prototype.setGroupStyle=function(e,t){if(!(!e||e.get("destroyed"))){var r={},n=this.styles,a=n.hover,o=n.default;(0,zn.default)(t)?t==="default"?r=(0,Xi.default)({},o):t==="hover"&&(r=(0,Xi.default)({},a)):r=(0,Xi.default)({},o,t),Object.keys(r).forEach(function(s){e.attr(s,r[s])})}},i.prototype.calculationGroupPosition=function(e,t){if(t===void 0&&(t={x:100,y:100}),e.length===0)return{x:t.x,y:t.y,width:100,height:100};var r=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;e.forEach(function(d){var b=(0,zn.default)(d)?r.findById(d):d,L=b.getBBox(),D=L.minX,V=L.minY,$=L.maxX,K=L.maxY;D<n&&(n=D),V<o&&(o=V),$>a&&(a=$),K>s&&(s=K)});var l=Math.floor(n),f=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-f;return{x:l,y:f,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(e,t,r){t===void 0&&(t="id"),r===void 0&&(r="parentId");var n="children",a=[],o=[];return e.forEach(function(s){a[s[t]]=s}),e.forEach(function(s){var l=a[s[r]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(e){var t=this.graph,r=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===e}),o=1;a.length>0&&(kh||(kh=this.flatToTree(n)),Ki(kh[0],function(h){if(h.parentId===e&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===e&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===e}).length>0,f=l?r.maxDis+(o>1?o/2:1)*30:r.minDis;return f},i.prototype.setDeletageGroupByStyle=function(e,t,r){var n=r.width,a=r.height,o=r.x,s=r.y,l=r.r,f=r.btnOffset,h=this.customGroup[e];if(!h)this.customGroup[e]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:f}};else{var c=h.groupStyle,d=(0,Xi.default)({},c,r);this.customGroup[e]={nodeGroup:t,groupStyle:d}}},i.prototype.getDeletageGroupById=function(e){return this.customGroup[e]},i.prototype.collapseExpandGroup=function(e){var t=this.getDeletageGroupById(e),r=t.nodeGroup,n=r.get("hasHidden");n?(r.set("hasHidden",!1),this.expandGroup(e)):(r.set("hasHidden",!0),this.collapseGroup(e))},i.prototype.setGroupTmpNode=function(e,t){var r=this.graph,n=r.get("groupNodes"),a=r.get("groups");n[e].indexOf(t)<0&&n[e].push(t);var o=a.filter(function(l){return l.id===e}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(e){var t=this,r=this.getDeletageGroupById(e),n=r.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[e],f=n.get("keyShape"),h=a.r,c=a.width,d=a.height,b=a.offsetX,L=a.offsetY,D=Ui(a,["r","width","height","offsetX","offsetY"]);Object.keys(D).forEach(function(te){f.attr(te,D[te])});var V={groupId:e,id:e+"-custom-node",x:f.attr("x"),y:f.attr("y"),style:{r:h},type:"circle"},$=n.find(function(te){return te.get("className")==="group-title"});s==="circle"?(f.animate({r:h},{duration:500,easing:"easeCubic"}),$&&$.attr({x:f.attr("x")+b,y:f.attr("y")+L})):s==="rect"&&(f.animate({width:c,height:d},{duration:500,easing:"easeCubic"}),$&&$.attr({x:f.attr("x")+10,y:f.attr("y")+d/2+5}),V={groupId:e,id:e+"-custom-node",x:f.attr("x")+c/2,y:f.attr("y")+d/2,size:[c,d],type:"rect"});var K=o.getEdges(),yt=K.filter(function(te){var oe=te.getModel();return!l.includes(oe.source)&&l.includes(oe.target)}),wt=K.filter(function(te){var oe=te.getModel();return l.includes(oe.source)&&!l.includes(oe.target)}),Rt=K.filter(function(te){var oe=te.getModel();return l.includes(oe.source)&&l.includes(oe.target)});if(l.forEach(function(te){var oe=o.findById(te),re=oe.getModel(),ye=re.groupId;if(ye&&ye!==e){var Pe=t.getDeletageGroupById(ye),ze=Pe.nodeGroup;ze.hide()}oe.hide()}),Rt.forEach(function(te){var oe=te.getSource(),re=te.getTarget();oe.isVisible()&&re.isVisible()?te.show():te.hide()}),yt.length>0||wt.length>0){var Zt=o.add("node",V);Zt.set("capture",!1),Zt.hide(),this.delegateInGroup[e]={delegateNode:Zt},this.setGroupTmpNode(e,e+"-custom-node"),this.updateEdgeInGroupLinks(e,yt,wt)}},i.prototype.updateEdgeInGroupLinks=function(e,t,r){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),f=s.get("id"),h=l.target;return a[f]=h,n.updateItem(s,{target:e+"-custom-node"}),!0});var o={};r.map(function(s){var l=s.getModel(),f=s.get("id"),h=l.source;return o[f]=h,n.updateItem(s,{source:e+"-custom-node"}),!0}),this.delegateInGroup[e]=(0,Xi.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:r,edgesOuts:a,edgesIn:o},this.delegateInGroup[e])},i.prototype.expandGroup=function(e){var t=this,r=this.graph,n=r.get("groupType"),a=r.get("groupNodes")[e],o=a.filter(function(Or){return Or.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,f=s.height,h=this.getDeletageGroupById(e).nodeGroup,c=h.get("keyShape"),d=this.styles,b=d.default,L=d.collapse;Object.keys(b).forEach(function(Or){c.attr(Or,b[Or])});var D=h.find(function(Or){return Or.get("className")==="group-title"}),V=this.getGroupPadding(e);if(n==="circle"){var $=l>f?l/2:f/2;c.animate({r:$+V},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var K=L.width,yt=L.height;c.animate({width:K+l+V*b.disCoefficient*2,height:yt+f+V*b.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(D){var wt=null,Rt=r.get("groups").filter(function(Or){return Or.id===e});Rt&&Rt.length>0&&(wt=Rt[0].title);var Zt=wt.offsetX,te=Zt===void 0?0:Zt,oe=wt.offsetY,re=oe===void 0?0:oe;n==="circle"?D.animate({x:c.attr("x")+te,y:c.attr("y")-c.attr("r")+re},{duration:600,easing:"easeCubic"}):n==="rect"&&D.animate({x:c.attr("x")+(15+te),y:c.attr("y")+(15+re)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(Mr){var br=r.findById(Mr),qr=br.getModel(),Gr=qr.groupId;if(Gr&&Gr!==e){var Kr=t.getDeletageGroupById(Gr),Ar=Kr.nodeGroup;Ar.show();var Hr=Ar.get("hasHidden");Hr||br.show()}else br.show()});var Or=r.getEdges(),Tr=Or.filter(function(Mr){var br=Mr.getModel();return a.includes(br.source)||a.includes(br.target)});Tr.forEach(function(Mr){var br=Mr.getSource(),qr=Mr.getTarget();br.isVisible()&&qr.isVisible()&&Mr.show()})},300);var ye=this.delegateInGroup[e];if(ye){var Pe=ye.sourceOutTargetInEdges,ze=ye.sourceInTargetOutEdges,je=ye.edgesOuts,Qe=ye.edgesIn,Ze=ye.delegateNode;Pe.map(function(Or){var Tr=Or.get("id"),Mr=je[Tr];return r.updateItem(Or,{target:Mr}),!0}),ze.map(function(Or){var Tr=Or.get("id"),Mr=Qe[Tr];return r.updateItem(Or,{source:Mr}),!0});var xr=Ze.getModel();this.deleteTmpNode(e,xr.id),r.remove(Ze),delete this.delegateInGroup[e]}},i.prototype.deleteTmpNode=function(e,t){var r=this.graph,n=r.get("groups"),a=r.get("groupNodes")[e],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(f){return f.id===e}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(e){var t=this.graph,r=this.getDeletageGroupById(e);if(!!r){var n=r.nodeGroup,a=t.get("groupNodes"),o=a[e];o.forEach(function(b){var L=t.findById(b),D=L.getModel(),V=D.groupId;!V||e===V&&(delete D.groupId,t.updateItem(L,D))}),n.destroy(),delete this.customGroup[e];var s=t.get("groups");if(s.length>0){var l=s.filter(function(b){return b.id!==e});t.set("groups",l)}for(var f=null,h=null,c=0;c<s.length;c++){var d=s[c];if(e===d.id){f=d.parentId,h=d;break}}h&&delete h.parentId,delete a[e],f&&(a[f]=a[f].filter(function(b){return!o.includes(b)}))}},i.prototype.updateGroup=function(e,t,r){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(e,t,r);for(var o=n.save().groups,s=null,l=null,f=0;f<o.length;f++){var h=o[f];if(e===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,d=c.get("keyShape");this.setGroupStyle(d,"default");var b=d.getBBox(),L=b.minX,D=b.minY,V=b.maxX,$=b.maxY,K=this.getDeletageGroupById(e).nodeGroup,yt=K.get("keyShape"),wt=yt.getBBox(),Rt=wt.x,Zt=wt.y;if(!(Rt<V&&Rt>L&&Zt<$&&Zt>D)){delete l.parentId;var te=n.get("groupNodes"),oe=te[e],re=te[s];te[s]=re.filter(function(jr){return oe.indexOf(jr)===-1});var ye=this.calculationGroupPosition(te[s]),Pe=ye.x,ze=ye.y,je=ye.width,Qe=ye.height,Ze=this.getGroupPadding(s),xr=c.find(function(jr){return jr.get("className")==="group-title"}),Or=0,Tr=0;if(a==="circle"){var Mr=je>Qe?je/2:Qe/2,br=Pe,qr=ze;d.attr({r:Mr+Ze,x:br,y:qr}),Or=br,Tr=qr-d.attr("r")}else if(a==="rect"){var Gr=this.styles.default,Kr=Ze*Gr.disCoefficient;d.attr({x:Pe-Kr,y:ze-Kr}),Or=Pe-Kr+15,Tr=ze-Kr+15}if(xr){var Ar=l.title,Hr=0,an=0;Ar&&(Hr=Ar.offsetX,an=Ar.offsetY),xr.attr({x:Or+Hr,y:Tr+an})}}}},i.prototype.updateItemInGroup=function(e,t,r){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[e],f=this.getDeletageGroupById(e).nodeGroup,h=f.getBBox(),c=[];l.forEach(function(d,b){var L=a.findById(d),D=L.getModel(),V=D.groupId;V&&!c.includes(V)&&c.push(V),n.nodePoint[b]||(n.nodePoint[b]={x:D.x,y:D.y});var $=t.x-h.x+n.nodePoint[b].x,K=t.y-h.y+n.nodePoint[b].y;n.nodePoint[b]={x:$,y:K},a.updateItem(L,{x:$,y:K})}),c.includes(e)||c.push(e),c.forEach(function(d){var b=n.getDeletageGroupById(d).nodeGroup,L=b.get("keyShape"),D=s[d].filter(function(Qe){return Qe.indexOf("custom-node")===-1}),V=n.calculationGroupPosition(D,t),$=V.x,K=V.y,yt=V.width,wt=V.height,Rt=0,Zt=0;if(o==="circle"){var te=(yt+2*$)/2,oe=(wt+2*K)/2;L.attr({x:te,y:oe}),Rt=te,Zt=oe-L.attr("r")}else if(o==="rect"){var re=b.get("hasHidden"),ye=n.getGroupPadding(d),Pe={},ze=n.styles.default,je=ye*ze.disCoefficient;Rt=$-je+15,Zt=K-je+15,re?(Pe={x:$-je,y:K-je},Zt=Zt+10):Pe={x:$-je,y:K-je,width:yt+je*2,height:wt+je*2},L.attr(Pe)}n.updateGroupTitle(b,d,Rt,Zt)})},i.prototype.updateGroupTitle=function(e,t,r,n){var a=this.graph,o=e.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var f=0,h=0;s&&(f=s.offsetX||0,h=s.offsetY||0),o.attr({x:r+f,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(e,t,r){var n=e.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),f=s.get("groupNodes"),h=f[o];if(h.length===0){delete f[o];var c=s.get("groups");s.set("groups",c.filter(function(re){return re.id!==o})),t.remove()}else{var d=this.calculationGroupPosition(h),b=d.x,L=d.y,D=d.width,V=d.height,$=this.getGroupPadding(o),K=0,yt=0;if(l==="circle"){var wt=D>V?D/2:V/2,Rt=(D+2*b)/2,Zt=(V+2*L)/2;r.attr({r:wt+$,x:Rt,y:Zt}),K=Rt,yt=Zt-r.attr("r")}else if(l==="rect"){var te=this.styles.default,oe=$*te.disCoefficient;r.attr({x:b-oe,y:L-oe,width:D+oe*2,height:V+oe*2}),K=b-oe+15,yt=L-oe+15}this.updateGroupTitle(t,o,K,yt)}this.setGroupStyle(r,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),YN=NN,GN=function(e){var t={};return e.getNodes().forEach(function(r){t[r.getID()]={degree:0,inDegree:0,outDegree:0}}),e.getEdges().forEach(function(r){t[r.getSource().getID()].degree++,t[r.getSource().getID()].outDegree++,t[r.getTarget().getID()].degree++,t[r.getTarget().getID()].inDegree++}),t},Cx=GN,zN=function(){function i(e){this.compare=e||i.defaultCompareFunction}return i.defaultCompareFunction=function(e,t){return e===t?0:e<t?-1:1},i.prototype.equal=function(e,t){return this.compare(e,t)===0},i.prototype.lessThan=function(e,t){return this.compare(e,t)<0},i.prototype.greaterThan=function(e,t){return this.compare(e,t)>0},i.prototype.lessThanOrEqual=function(e,t){return this.lessThan(e,t)||this.equal(e,t)},i.prototype.greaterThanOrEqual=function(e,t){return this.greaterThan(e,t)||this.equal(e,t)},i.prototype.reverse=function(){var e=this.compare;this.compare=function(t,r){return e(r,t)}},i}(),XN=zN,Ex=function(){function i(e,t){t===void 0&&(t=null),this.value=e,this.next=t}return i.prototype.toString=function(e){return e?e(this.value):""+this.value},i}(),VN=function(){function i(e){e===void 0&&(e=null),this.head=null,this.tail=null,this.compare=new XN(e)}return i.prototype.prepend=function(e){var t=new Ex(e,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(e){var t=new Ex(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,e);)t=this.head,this.head=this.head.next;var r=this.head;if(r!==null)for(;r.next;)this.compare.equal(r.next.value,e)?(t=r.next,r.next=r.next.next):r=r.next;return this.compare.equal(this.tail.value,e)&&(this.tail=r),t},i.prototype.find=function(e){var t=e.value,r=t===void 0?void 0:t,n=e.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||r!==void 0&&this.compare.equal(o.value,r))return o;o=o.next}return null},i.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},i.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},i.prototype.fromArray=function(e){var t=this;return e.forEach(function(r){return t.append(r)}),this},i.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},i.prototype.reverse=function(){for(var e=this.head,t=null,r=null;e;)r=e.next,e.next=t,t=e,e=r;this.tail=this.head,this.head=t},i.prototype.toString=function(e){return e===void 0&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},i}(),Ax=VN,HN=function(){function i(e){e===void 0&&(e=10),this.linkedList=new Ax,this.maxStep=e}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),Tx=HN,WN=function(e,t){var r=e.getNodes(),n=e.getEdges(),a=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(s,l){o[s.getID()]=l;var f=[];a.push(f)}),n&&n.forEach(function(s){var l=s.getModel(),f=l.source,h=l.target,c=o[f],d=o[h];a[c][d]=1,t||(a[d][c]=1)}),a},nu=WN,jN=function(e,t){var r=e.get("adjMatrix");r||(r=nu(e,t));for(var n=[],a=r.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:r[o][s]===0||!r[o][s]?n[o][s]=Infinity:n[o][s]=r[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},Px=jN,_x=function(e,t,r){return(e.y-r.y)*(t.x-r.x)-(e.x-r.x)*(t.y-r.y)},Ox=function(e){var t=e.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var r=[],n=0;n<t.length;n++){for(;r.length>=2&&_x(r[r.length-2],r[r.length-1],t[n])<=0;)r.pop();r.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&_x(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),r.pop();var o=r.concat(a);return o},UN={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function ZN(i,e,t){var r=!1,n=function(l,f){return e.cells[l+f*e.width]},a=function(l,f){var h=0;return n(l-1,f-1)>=t&&(h+=1),n(l,f-1)>t&&(h+=2),n(l-1,f)>t&&(h+=4),n(l,f)>t&&(h+=8),h},o=function(l,f){for(var h=l,c=f,d,b,L=0;L<e.width*e.height;L++){if(d=h,b=c,i.findIndex(function(V){return V.x===h&&V.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var D=a(h,c);switch(D){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:d===0&&(b===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:d===1&&(b===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+D),!0}}};this.march=function(){for(var s=0;s<e.width&&!r;s+=1)for(var l=0;l<e.height&&!r;l+=1)n(s,l)>t&&a(s,l)!==15&&(r=o(s,l));return r}}var KN=function(e,t,r){var n=Math.ceil(e/r),a=Math.ceil(t/r),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},$N=function(e,t,r){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:e.getModel().x,y:e.getModel().y},l={x:o.getModel().x,y:o.getModel().y},f=Nl(s,l),h=new Ao(s.x,s.y,l.x,l.y),c=r.reduce(function(d,b){return vh(b,h)>0?d+1:d},0);f*Math.pow(c+1,2)<a&&(n=o,a=f*Math.pow(c+1,2))}),n},Lx=function(e,t){var r=Number.POSITIVE_INFINITY,n=null;return e.forEach(function(a){var o=vh(a,t);o>=0&&o<r&&(n=a,r=o)}),n},QN=function(e,t,r,n){var a=[],o=[];o.push(e);for(var s=!0,l=0,f=function(b,L){var D=!1;return L.forEach(function(V){D||(dh(b,{x:V.x1,y:V.y1})||dh(b,{x:V.x2,y:V.y2}))&&(D=!0)}),D},h=function(b,L){for(var D=0,V=L;D<V.length;D++){var $=V[D],K=$.getBBox(),yt=[[K.x,K.y],[K.x+K.width,K.y],[K.x,K.y+K.height],[K.x+K.width,K.y+K.height]];if(ys(yt,b.x,b.y))return!0}return!1};s&&l<r;){s=!1;for(var c=function(){var b=o.pop(),L=Lx(t,b);if(L){var D=Sm(L,b),V=D[0],$=D[1];if($===2){var K=function(wt){for(var Rt=n,Zt=Ix(L,Rt,V,wt),te=f(Zt,o)||f(Zt,a),oe=h(Zt,t);!te&&oe&&Rt>=1;)Rt/=1.5,Zt=Ix(L,Rt,V,wt),te=f(Zt,o)||f(Zt,a),oe=h(Zt,t);Zt&&!te&&(!wt||!oe)&&(o.push(new Ao(b.x1,b.y1,Zt.x,Zt.y)),o.push(new Ao(Zt.x,Zt.y,b.x2,b.y2)),s=!0)};K(!0),s||K(!1)}}s||a.push(b),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function JN(i,e,t,r,n){var a=$N(i,t,e);if(a===null)return[];var o=function(c){for(var d=[];c.length>0;){var b=c.pop();if(c.length===0){d.push(b);break}var L=c.pop(),D=new Ao(b.x1,b.y1,L.x2,L.y2),V=Lx(e,D);V?(d.push(b),c.push(L)):c.push(D)}return d},s=new Ao(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=QN(s,e,r,n),f=o(l);return f}var qN=function(e,t,r){var n=Object.assign(UN,r),a=Mm(e.map(function(K){return{x:K.getModel().x,y:K.getModel().y}}));e=e.sort(function(K,yt){return Nl({x:K.getModel().x,y:K.getModel().y},a)-Nl({x:yt.getModel().x,y:yt.getModel().y},a)});var o=[],s=[];e.forEach(function(K){var yt=JN(K,t,o,n.maxRoutingIterations,n.morphBuffer);yt.forEach(function(wt){s.push(wt)}),o.push(K)});for(var l=t6(e,s,n.nodeR0),f=KN(l.width,l.height,n.pixelGroupSize),h=[],c=[],d=0;d<n.maxMarchingIterations;d++)if(e6(e,t,s,l,f,n),h=[],c=[],!!new ZN(h,f,n.threshold).march()){var b=h.map(function(K){return{x:Math.round(K.x*n.pixelGroupSize+l.minX),y:Math.round(K.y*n.pixelGroupSize+l.minY)}});if(b){var L=b.length;if(n.skip>1)for(L=Math.floor(b.length/n.skip);L<3&&n.skip>1;)n.skip-=1,L=Math.floor(b.length/n.skip);for(var D=0,V=0;V<L;V+=1,D+=n.skip)c.push({x:b[D].x,y:b[D].y})}var $=function(){for(var yt=0,wt=e;yt<wt.length;yt++){var Rt=wt[yt],Zt=c.map(function(te){return[te.x,te.y]});if(!ys(Zt,Rt.getBBox().centerX,Rt.getBBox().centerY))return!1}return!0};if(c&&$())return c;if(n.threshold*=.9,d<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function t6(i,e,t){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),e.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];r.minX=(s.minX<r.minX?s.minX:r.minX)-t,r.minY=(s.minY<r.minY?s.minY:r.minY)-t,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+t,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+t}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}function e6(i,e,t,r,n,a){function o(b,L){var D=Math.floor((b-L)/a.pixelGroupSize);return D<0?0:D}function s(b,L){return b*a.pixelGroupSize+L}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),f=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(L,D){var V=Math.min(o(L.minX,D+r.minX),n.width),$=Math.min(o(L.minY,D+r.minY),n.height),K=Math.min(o(L.maxX,-D+r.minX),n.width),yt=Math.min(o(L.maxY,-D+r.minY),n.height);return[V,$,K,yt]},c=function(L,D){for(var V=L.getBBox(),$=h(V,a.nodeR1),K=$[0],yt=$[1],wt=$[2],Rt=$[3],Zt=yt;Zt<Rt;Zt+=1)for(var te=K;te<wt;te+=1)if(!(D<0&&n[te+Zt*n.width]<=0)){var oe=s(te,r.minX),re=s(Zt,r.minY),ye=Em({x:oe,y:re},{x:V.minX,y:V.minY,width:V.width,height:V.height});if(ye<Math.pow(a.nodeR1,2)){var Pe=Math.sqrt(ye)-a.nodeR1;n.cells[te+Zt*n.width]+=D*Pe*Pe}}},d=function(L,D){for(var V=L.getBBox(),$=h(V,a.edgeR1),K=$[0],yt=$[1],wt=$[2],Rt=$[3],Zt=yt;Zt<Rt;Zt+=1)for(var te=K;te<wt;te+=1)if(!(D<0&&n.cells[te+Zt*n.width]<=0)){var oe=s(te,r.minX),re=s(Zt,r.minY),ye=Cm({x:oe,y:re},L);if(ye<Math.pow(a.edgeR1,2)){var Pe=Math.sqrt(ye)-a.edgeR1;n.cells[te+Zt*n.width]+=D*Pe*Pe}}};a.nodeInfluenceFactor&&i.forEach(function(b){c(b,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(b){d(b,a.edgeInfluenceFactor/f)}),a.negativeNodeInfluenceFactor&&e.forEach(function(b){c(b,a.negativeNodeInfluenceFactor/l)})}function Ix(i,e,t,r){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],f={topLeft:{x:n.minX-e,y:n.minY-e},topRight:{x:n.maxX+e,y:n.minY-e},bottomLeft:{x:n.minX-e,y:n.maxY+e},bottomRight:{x:n.maxX+e,y:n.maxY+e}},h=n.height*n.width;function c(L,D){return n.width*((L.y-n.minY+(D.y-n.minY))*.5)}if(o){if(a)return r?f.topLeft:f.bottomRight;if(s)return r?f.bottomLeft:f.topRight;var d=c(o,l);return d<h*.5?o.y>l.y?r?f.topLeft:f.bottomRight:r?f.topRight:f.bottomLeft:o.y<l.y?r?f.bottomLeft:f.topRight:r?f.bottomRight:f.topLeft}if(l){if(a)return r?f.topRight:f.bottomLeft;if(s)return r?f.bottomRight:f.topLeft}var b=c(a,s);return b<h*.5?a.x>s.x?r?f.topLeft:f.bottomRight:r?f.bottomLeft:f.topRight:a.x<s.x?r?f.topRight:f.bottomLeft:r?f.bottomRight:f.topLeft}var r6=function(){function i(e,t){this.cfg=(0,u.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(r){return(0,u.isString)(r)?e.findById(r):r}),this.nonMembers=this.cfg.nonMembers.map(function(r){return(0,u.isString)(r)?e.findById(r):r}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(e,t){var r,n,a;switch(this.type){case"round-convex":r=Ox(e),a=Lm(r.map(function(o){return[o.x,o.y]}),this.padding),n=(0,Is.parsePathString)(a);break;case"smooth-convex":r=Ox(e),a=Im(r.map(function(o){return[o.x,o.y]}),this.padding),n=r.length>=2&&ph(a);break;case"bubble":r=qN(e,t,this.cfg.bubbleCfg),n=r.length>=2&&ph(r);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:ue({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(e){if(!!e){(0,u.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(e){if(!!e){(0,u.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(e){if(!!e){(0,u.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(e){if(!!e){(0,u.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(e,t){var r=this;this.group.findById(this.id).remove(),e&&(this.members=e.map(function(n){return(0,u.isString)(n)?r.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,u.isString)(n)?r.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(e){var t=this.group.findById(this.id);t.attr(ue({},e))},i.prototype.updateCfg=function(e){var t=this;this.cfg=(0,u.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map(function(r){return(0,u.isString)(r)?t.graph.findById(r):r})),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(r){return(0,u.isString)(r)?t.graph.findById(r):r})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(e){var t=this,r;(0,u.isString)(e)?r=this.graph.findById(e):r=e;var n,a=r.getKeyShape();if(r.get("type")==="path")n=Gl(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),hh(n,Gl(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),n6=r6,i6="node",a6="svg",o6=function(i){ii(e,i);function e(t){var r=i.call(this)||this;return r.cfg=(0,u.deepMix)(r.getDefaultCfg(),t),r.init(),r.animating=!1,r.destroyed=!1,r.cfg.enabledStack&&(r.undoStack=new Tx(r.cfg.maxStep),r.redoStack=new Tx(r.cfg.maxStep)),r}return e.prototype.init=function(){this.initCanvas();var t=new NR(this),r=new FR(this),n=new BR(this),a=new o3(this),o=new BN(this),s=new RN(this),l=new YN(this);this.set({eventController:t,viewController:r,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},e.prototype.initCanvas=function(){var t=this.get("container");if((0,u.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var r=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===a6)o=new ms.Z({container:t,width:r,height:n});else{var s={container:t,width:r,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new To.Z(s)}this.set("canvas",o),this.initGroups()},e.prototype.initPlugin=function(){var t=this;(0,u.each)(t.get("plugins"),function(r){!r.destroyed&&r.initPlugin&&r.initPlugin(t)})},e.prototype.initGroups=function(){var t=this.get("canvas"),r=this.get("canvas").get("el"),n=r.id,a=t.addGroup({id:n+"-root",className:hr.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:hr.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:hr.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:hr.comboContainerClassName}),f=a.addGroup({id:n+"-group",className:hr.customGroupContainerClassName});f.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:f,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:hr.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},e.prototype.set=function(t,r){return(0,u.isPlainObject)(t)?this.cfg=ue(ue({},this.cfg),t):this.cfg[t]=r,this},e.prototype.get=function(t){return this.cfg[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,r){(0,u.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");r||(r=t.get("states")),n.clearItemStates(t,r);var a=this.get("stateController");a.updateStates(t,r,!1)},e.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},e.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},e.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,r){var n,a=this.get(t+"s");return(0,u.each)(a,function(o,s){if(r(o,s))return n=o,n}),n},e.prototype.findAll=function(t,r){var n=[];return(0,u.each)(this.get(t+"s"),function(a,o){r(a,o)&&n.push(a)}),n},e.prototype.findAllByState=function(t,r){return this.findAll(t,function(n){return n.hasState(r)})},e.prototype.translate=function(t,r){var n=this.get("group"),a=(0,u.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),Ia.wO.translate(a,a,[t,r]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},e.prototype.moveTo=function(t,r){var n=this.get("group");bm(n,{x:t,y:r}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},e.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var r=this.get("viewController");r.fitView(),this.autoPaint()},e.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},e.prototype.addBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!0),this},e.prototype.removeBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!1),this},e.prototype.zoom=function(t,r){var n=this.get("group"),a=(0,u.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),r?(Ia.wO.translate(a,a,[-r.x,-r.y]),Ia.wO.scale(a,a,[t,t]),Ia.wO.translate(a,a,[r.x,r.y])):Ia.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},e.prototype.zoomTo=function(t,r){var n=t/this.getZoom();this.zoom(n,r)},e.prototype.focusItem=function(t,r,n){var a=this.get("viewController"),o=!1;r?o=!0:r===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,r){var n=this.get("viewController");return n.getPointByClient(t,r)},e.prototype.getClientByPoint=function(t,r){var n=this.get("viewController");return n.getClientByPoint(t,r)},e.prototype.getPointByCanvas=function(t,r){var n=this.get("viewController");return n.getPointByCanvas(t,r)},e.prototype.getCanvasByPoint=function(t,r){var n=this.get("viewController");return n.getCanvasByPoint(t,r)},e.prototype.showItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(r&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},f={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],f.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],f.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],f.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:f})}},e.prototype.hideItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(r&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},f={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],f.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],f.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],f.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:f})}},e.prototype.refreshItem=function(t){var r=this.get("itemController");r.refreshItem(t)},e.prototype.setAutoPaint=function(t){var r=this;r.set("autoPaint",t);var n=r.get("canvas");n.set("autoDraw",t)},e.prototype.remove=function(t,r){r===void 0&&(r=!0),this.removeItem(t,r)},e.prototype.removeItem=function(t,r){r===void 0&&(r=!0);var n=t;if((0,u.isString)(t)&&(n=this.findById(t)),!n&&(0,u.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),r&&this.get("enabledStack")){var s=ue(ue({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var f=n.getEdges(),h=f.length-1;h>=0;h--)l.edges.push(ue(ue({},f[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var d=xh(this.get("comboTrees"));this.set("comboTrees",d)}}},e.prototype.addItem=function(t,r,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=r.groupId,f=r.nodes,h=r.type,c=r.zIndex,d=r.title,b=d;return(0,u.isString)(d)&&(b={text:d}),this.get("customGroupControll").create(l,f,h,c,!0,b)}if(r.id&&this.findById(r.id)){console.warn("This item exists already. Be sure the id %c"+r.id+"%c is unique.","font-size: 20px; color: red;","");return}var L,D=this.get("comboTrees");if(D||(D=[]),t==="combo"){var V=this.get("itemMap"),$=!1;if(D.forEach(function(ye){$||Aa(ye,function(Pe){if(r.parentId===Pe.id){$=!0;var ze=ue({id:r.id,depth:Pe.depth+2},r);Pe.children?Pe.children.push(ze):Pe.children=[ze],r.depth=ze.depth,L=s.addItem(t,r)}var je=V[Pe.id];return $&&je&&je.getType&&je.getType()==="combo"&&s.updateCombo(je,Pe.children),!0})}),!$){var K=ue({id:r.id,depth:0},r);r.depth=K.depth,D.push(K),L=s.addItem(t,r)}this.set("comboTrees",D)}else if(t==="node"&&(0,u.isString)(r.comboId)&&D){var yt=this.findById(r.comboId);if(yt&&yt.getType&&yt.getType()!=="combo"){console.warn("'"+r.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}L=s.addItem(t,r);var wt=this.get("itemMap"),Rt=!1,Zt=!1;(D||[]).forEach(function(ye){Zt||Rt||Aa(ye,function(Pe){if(Pe.id===r.id)return Zt=!0,!1;if(r.comboId===Pe.id&&!Zt){Rt=!0;var ze=(0,u.clone)(r);ze.itemType="node",Pe.children?Pe.children.push(ze):Pe.children=[ze],r.depth=Pe.depth+1}return Rt&&wt[Pe.id].getType&&wt[Pe.id].getType()==="combo"&&s.updateCombo(wt[Pe.id],Pe.children),!0})})}else L=s.addItem(t,r);if(t==="node"&&r.comboId||t==="combo"&&r.parentId){var yt=this.findById(r.comboId||r.parentId);yt&&yt.addChild(L)}var te=this.get("combos");if(te&&te.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var oe=ue(ue({},L.getModel()),{itemType:t}),re={};switch(t){case"node":re.nodes=[oe];break;case"edge":re.edges=[oe];break;case"combo":re.combos=[oe];break;default:break}this.pushStack("add",{before:{},after:re})}return L},e.prototype.add=function(t,r,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,r,n,a)},e.prototype.updateItem=function(t,r,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,u.isString)(t)?s=this.findById(t):s=t;var l=(0,u.clone)(s.getModel()),f="";s.getType&&(f=s.getType());var h=vs(s.getStates());if(f==="combo"&&(0,u.each)(h,function(L){return a.setItemState(s,L,!1)}),o.updateItem(s,r),f==="combo"&&(0,u.each)(h,function(L){return a.setItemState(s,L,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},d={nodes:[],edges:[],combos:[]},b=ue({id:l.id},r);switch(f){case"node":c.nodes.push(l),d.nodes.push(b);break;case"edge":c.edges.push(l),d.edges.push(b);break;case"combo":c.combos.push(l),d.combos.push(b);break;default:break}f==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:d})}},e.prototype.update=function(t,r,n){n===void 0&&(n=!0),this.updateItem(t,r,n)},e.prototype.setItemState=function(t,r,n){(0,u.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,r,n);var o=this.get("stateController");(0,u.isString)(n)?o.updateState(t,r+":"+n,!0):o.updateState(t,r,n)},e.prototype.priorityState=function(t,r){var n=this.get("itemController");n.priorityState(t,r)},e.prototype.data=function(t){this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var r=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!r)throw new Error("data must be defined first");var n=r.nodes,a=n===void 0?[]:n,o=r.edges,s=o===void 0?[]:o,l=r.combos,f=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,u.each)(a,function(K){t.add("node",K,!1,!1)}),f&&f.length!==0){var h=mh(f,a);this.set("comboTrees",h),t.addCombos(f)}(0,u.each)(s,function(K){t.add("edge",K,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var d=t.get("layoutController");d.layout(b)||b();function b(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(f&&f.length!==0)this.sortCombos();else if(r.nodes&&r.edges&&r.nodes.length<r.edges.length){var L=this.getNodes();L.forEach(function(K){K.toFront()})}else{var D=this.getEdges();D.forEach(function(K){K.toBack()})}if(r.nodes){var V=r.nodes.filter(function(K){return K.groupId});if(V.length>0){var $=t.get("groupType");this.renderCustomGroup(r,$)}}this.get("enabledStack")&&this.pushStack("render")},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,r,n){var a=this,o,s=this.get("itemMap");(0,u.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===i6){var f=o.getContainer().getMatrix();f||(f=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:f[6],y:f[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);r[t+"s"].push(o)})},e.prototype.changeData=function(t,r){r===void 0&&(r=!0);var n=this;if(!t)return this;r&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(D){return n.clearItemStates(D)}),this.getEdges().map(function(D){return n.clearItemStates(D)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},f=t.combos;if(f){var h=mh(f,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,u.each)(s,function(D,V){s[V].getModel().depth=0,!(D.getType&&D.getType()==="edge")&&(D.getType&&D.getType()==="combo"?(delete s[V],D.destroy()):l.nodes.indexOf(D)<0&&(delete s[V],n.remove(D,!1)))});for(var c=this.getCombos(),d=c.length,b=d-1;b>=0;b--)c[b].destroyed&&c.splice(b,1);f&&(n.addCombos(f),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,u.each)(s,function(D,V){D.getType&&(D.getType()==="node"||D.getType()==="combo")||l.edges.indexOf(D)<0&&(delete s[V],n.remove(D,!1))}),this.set({nodes:l.nodes,edges:l.edges});var L=this.get("layoutController");return L.changeData(),n.get("animate")&&!L.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},e.prototype.addCombos=function(t){var r=this,n=r.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},e.prototype.createCombo=function(t,r){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,u.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=r.map(function(f){var h=n.findById(f),c="";h.getType&&(c=h.getType());var d={id:h.getID(),itemType:c};return c==="combo"?d.parentId=a:c==="node"&&(d.comboId=a),d});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(f){Aa(f,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},e.prototype.uncombo=function(t){var r=this,n,a=this,o=t;if((0,u.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var f=this.get("itemMap"),h=o.get("id"),c,d=[],b=this.get("combos"),L=this.findById(s);if(l.forEach(function(V){c||Aa(V,function($){var K;if($.id===h){c=$;var yt=o.getEdges();yt.forEach(function(Rt){r.removeItem(Rt,!1)});var wt=b.indexOf(t);b.splice(wt,1),delete f[h],o.destroy()}if(s&&c&&$.id===s){L.removeCombo(o),d=$.children;var wt=d.indexOf(c);return wt!==-1&&d.splice(wt,1),(K=c.children)===null||K===void 0||K.forEach(function(Zt){var te=r.findById(Zt.id),oe=te.getModel();te.getType&&te.getType()==="combo"?(Zt.parentId=s,delete Zt.comboId,oe.parentId=s,delete oe.comboId):te.getType&&te.getType()==="node"&&(Zt.comboId=s,oe.comboId=s),L.addChild(te),d.push(Zt)}),!1}return!0})}),!s&&c){var D=l.indexOf(c);l.splice(D,1),(n=c.children)===null||n===void 0||n.forEach(function(V){V.parentId=void 0;var $=r.findById(V.id).getModel();$.parentId=void 0,V.itemType!=="node"&&l.push(V)})}},e.prototype.updateCombos=function(){var t=this,r=this,n=this.get("comboTrees"),a=r.get("itemController"),o=r.get("itemMap");(n||[]).forEach(function(s){Aa(s,function(l){if(!l)return!0;var f=o[l.id];if(f&&f.getType&&f.getType()==="combo"){var h=vs(f.getStates());(0,u.each)(h,function(c){return t.setItemState(f,c,!1)}),a.updateCombo(f,l.children),(0,u.each)(h,function(c){return t.setItemState(f,c,!0)})}return!0})}),r.sortCombos()},e.prototype.updateCombo=function(t){var r=this,n=this,a=t,o;if((0,u.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),f=n.get("itemMap");(s||[]).forEach(function(h){Aa(h,function(c){if(!c)return!0;var d=f[c.id];if(o===c.id&&d&&d.getType&&d.getType()==="combo"){var b=vs(d.getStates());(0,u.each)(b,function(L){d.getStateStyle(L)&&r.setItemState(d,L,!1)}),l.updateCombo(d,c.children),(0,u.each)(b,function(L){d.getStateStyle(L)&&r.setItemState(d,L,!0)}),o&&(o=c.parentId)}return!0})})},e.prototype.updateComboTree=function(t,r){var n=this;this.set("comboSorted",!1);var a;(0,u.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(r&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),f=!0,h;if((l||[]).forEach(function(D){h||Ki(D,function(V){if(!h)return V.id===a.getID()&&(h=V),!0})}),Ki(h,function(D){return D.id===r?(f=!1,!1):!0}),!f){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var d="";if(a.getType&&(d=a.getType()),d==="combo"?o.parentId=r:d==="node"&&(o.comboId=r),r){var b=this.findById(r);b&&b.addChild(a)}if(s){var b=this.findById(s);b&&b.removeChild(a)}var L=xh(this.get("comboTrees"),o.id,r);this.set("comboTrees",L),this.updateCombos()},e.prototype.renderCustomGroup=function(t,r){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var d=IR(t);Object.keys(d).forEach(function(L){var D=d[L];n.get("customGroupControll").create(L,D,r,l),l--});var b=this.get("customGroup");b.sort()}else{var f=s.filter(function(L){return L.groupId}),h=[],c=(0,u.groupBy)(f,"groupId");Object.keys(c).forEach(function(L){var D=c[L].map(function(V){return V.id});n.get("customGroupControll").create(L,D,r,l),l--,h.find(function(V){return V.id===L})||h.push({id:L})}),this.set({groups:h})}},e.prototype.save=function(){var t=[],r=[],n=[];return(0,u.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,u.each)(this.get("edges"),function(a){r.push(a.getModel())}),(0,u.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:r,combos:n,groups:this.get("groups")}},e.prototype.changeSize=function(t,r){var n=this.get("viewController");return n.changeSize(t,r),this},e.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var r=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,u.each)(r,function(o){o.refresh()}),(0,u.each)(n,function(o){o.refresh()}),(0,u.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if((0,u.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},e.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var r=t.get("animateCfg"),n=r.onFrame,a=t.getNodes(),o=a.map(function(l){var f=l.getModel();return{id:f.id,x:f.x,y:f.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,u.each)(o,function(f){var h=t.findById(f.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),d=h.get("model");if(!c){var b=h.getContainer().getMatrix();b||(b=[1,0,0,0,1,0,0,0,1]),c={x:b[6],y:b[7]},h.set("originAttrs",c)}if(n){var L=n(h,l,f,c);h.set("model",Object.assign(d,L))}else d.x=c.x+(f.x-c.x)*l,d.y=c.y+(f.y-c.y)*l}}),t.refreshPositions()},{duration:r.duration,easing:r.easing,callback:function(){(0,u.each)(a,function(f){f.set("originAttrs",null)}),r.callback&&r.callback(),t.emit("afteranimate"),t.animating=!1}})},e.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var r=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,u.each)(r,function(f){s=f.getModel();var h=f.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(f.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,u.each)(n,function(f){var h=f.getSource().getModel(),c=f.getTarget().getModel();(l[h.id]||l[c.id]||f.getModel().isComboEdge)&&f.refresh()}),(0,u.each)(a,function(f){f.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},e.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},e.prototype.setMode=function(t){var r=this.get("modeController");return r.setMode(t),this},e.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},e.prototype.toDataURL=function(t,r){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),f=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",f);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var d=void 0,b=o.getContext("2d"),L=this.get("width"),D=this.get("height"),V=void 0;if(r){var $=window.devicePixelRatio;d=b.getImageData(0,0,L*$,D*$),V=b.globalCompositeOperation,b.globalCompositeOperation="destination-over",b.fillStyle=r,b.fillRect(0,0,L,D)}s=o.toDataURL(t),r&&(b.clearRect(0,0,L,D),b.putImageData(d,0,0),b.globalCompositeOperation=V)}return s},e.prototype.toFullDataURL=function(t,r,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),f=(0,Ci.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,u.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var d=o+c[0]+c[2],b=s+c[1]+c[3],L={container:f,height:d,width:b,quickHit:!0},D=l==="svg"?new ms.Z(L):new To.Z(L),V=this.get("group"),$=V.clone(),K=(0,u.clone)($.getMatrix());K||(K=[1,0,0,0,1,0,0,0,1]);var yt=(a.maxX+a.minX)/2,wt=(a.maxY+a.minY)/2;Ia.wO.translate(K,K,[-yt,-wt]),Ia.wO.translate(K,K,[s/2+c[3],o/2+c[0]]),$.resetMatrix(),$.setMatrix(K),D.add($);var Rt=D.get("el"),Zt="";r||(r="image/png"),setTimeout(function(){if(l==="svg"){var te=Rt.cloneNode(!0),oe=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),re=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",oe);re.replaceChild(te,re.documentElement);var ye=new XMLSerializer().serializeToString(re);Zt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(ye)}else{var Pe=void 0,ze=Rt.getContext("2d"),je=void 0;if(h){var Qe=window.devicePixelRatio;Pe=ze.getImageData(0,0,b*Qe,d*Qe),je=ze.globalCompositeOperation,ze.globalCompositeOperation="destination-over",ze.fillStyle=h,ze.fillRect(0,0,b,d)}Zt=Rt.toDataURL(r),h&&(ze.clearRect(0,0,b,d),ze.putImageData(Pe,0,0),ze.globalCompositeOperation=je)}t==null||t(Zt)},16)},e.prototype.downloadFullImage=function(t,r,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,f=this.get("renderer"),h=(0,Ci.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,d=n?n.padding:void 0;d?(0,u.isNumber)(d)&&(d=[d,d,d,d]):d=[0,0,0,0];var b=s+d[0]+d[2],L=l+d[1]+d[3],D={container:h,height:b,width:L},V=f==="svg"?new ms.Z(D):new To.Z(D),$=this.get("group"),K=$.clone(),yt=(0,u.clone)(K.getMatrix());yt||(yt=[1,0,0,0,1,0,0,0,1]);var wt=(o.maxX+o.minX)/2,Rt=(o.maxY+o.minY)/2;Ia.wO.translate(yt,yt,[-wt,-Rt]),Ia.wO.translate(yt,yt,[l/2+d[3],s/2+d[0]]),K.resetMatrix(),K.setMatrix(yt),V.add(K);var Zt=V.get("el");r||(r="image/png"),setTimeout(function(){var te="";if(f==="svg"){var oe=Zt.cloneNode(!0),re=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),ye=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",re);ye.replaceChild(oe,ye.documentElement);var Pe=new XMLSerializer().serializeToString(ye);te="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Pe)}else{var ze=void 0,je=Zt.getContext("2d"),Qe=void 0;if(c){var Ze=window.devicePixelRatio;ze=je.getImageData(0,0,L*Ze,b*Ze),Qe=je.globalCompositeOperation,je.globalCompositeOperation="destination-over",je.fillStyle=c,je.fillRect(0,0,L,b)}te=Zt.toDataURL(r),c&&(je.clearRect(0,0,L,b),je.putImageData(ze,0,0),je.globalCompositeOperation=Qe)}var xr=document.createElement("a"),Or=(t||"graph")+(f==="svg"?".svg":"."+r.split("/")[1]);a.dataURLToImage(te,f,xr,Or);var Tr=document.createEvent("MouseEvents");Tr.initEvent("click",!1,!1),xr.dispatchEvent(Tr)},16)},e.prototype.downloadImage=function(t,r,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();r||(r="image/png");var f=(t||"graph")+(l==="svg"?".svg":r.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(r,n);a.dataURLToImage(c,l,h,f);var d=document.createEvent("MouseEvents");d.initEvent("click",!1,!1),h.dispatchEvent(d)},16)},e.prototype.dataURLToImage=function(t,r,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&r!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var f=atob(o[1]),h=f.length,c=new Uint8Array(h);h--;)c[h]=f.charCodeAt(h);var d=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(d,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(d)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},e.prototype.updateLayout=function(t){var r=this.get("layoutController"),n;(0,u.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),r.updateLayoutCfg(s)}else this.set("layout",t),r.changeLayout(n)},e.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},e.prototype.layout=function(){var t=this.get("layoutController"),r=this.get("layout");if(!!r){if(r.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},e.prototype.collapseCombo=function(t){var r=this;if((0,u.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],f=this.get("comboTrees"),h=!1,c={};(f||[]).forEach(function(L){c[L.id]=L}),(f||[]).forEach(function(L){h||Ki(L,function(D){if(h&&c[D.id])return!1;if(n.parentId===D.id?(c={},D.children.forEach(function($){c[$.id]=$})):n.id===D.id&&(h=!0),h){var V=r.findById(D.id);V&&V.getType&&V.getType()==="combo"&&(s=s.concat(V.getNodes()),l=l.concat(V.getCombos()))}return!0})});var d={},b=[];o.forEach(function(L){if(!(L.isVisible()&&!L.getModel().isVEdge)){var D=L.getSource(),V=L.getTarget();if((s.includes(D)||l.includes(D))&&!s.includes(V)&&!l.includes(V)||D.getModel().id===n.id){var $=L.getModel();if($.isVEdge){r.removeItem(L,!1);return}for(var K=V.getModel();!V.isVisible();){if(V=r.findById(K.parentId||K.comboId),!V||!K.parentId&&!K.comboId)return;K=V.getModel()}var yt=K.id;if(d[n.id+"-"+yt]){d[n.id+"-"+yt]+=$.size||1;return}var wt=r.addItem("vedge",{source:n.id,target:yt,isVEdge:!0},!1);d[n.id+"-"+yt]=$.size||1,b.push(wt)}else if(!s.includes(D)&&!l.includes(D)&&(s.includes(V)||l.includes(V))||V.getModel().id===n.id){var $=L.getModel();if($.isVEdge){r.removeItem(L,!1);return}for(var Rt=D.getModel();!D.isVisible();){if(D=r.findById(Rt.parentId||Rt.comboId),!D||!Rt.parentId&&!Rt.comboId)return;Rt=D.getModel()}var Zt=Rt.id;if(d[Zt+"-"+n.id]){d[Zt+"-"+n.id]+=$.size||1;return}var wt=r.addItem("vedge",{target:n.id,source:Zt,isVEdge:!0},!1);d[Zt+"-"+n.id]=$.size||1,b.push(wt)}}}),b.forEach(function(L){var D=L.getModel();r.updateItem(L,{size:d[D.source+"-"+D.target]},!1)})},e.prototype.expandCombo=function(t){var r=this;if((0,u.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],f=this.get("comboTrees"),h=!1,c={};(f||[]).forEach(function(L){c[L.id]=L}),(f||[]).forEach(function(L){h||Ki(L,function(D){if(h&&c[D.id])return!1;if(n.parentId===D.id?(c={},D.children.forEach(function($){c[$.id]=$})):n.id===D.id&&(h=!0),h){var V=r.findById(D.id);V&&V.getType&&V.getType()==="combo"&&(s=s.concat(V.getNodes()),l=l.concat(V.getCombos()))}return!0})});var d={},b={};o.forEach(function(L){if(!(L.isVisible()&&!L.getModel().isVEdge)){var D=L.getSource(),V=L.getTarget(),$=D.get("id"),K=V.get("id");if((s.includes(D)||l.includes(D))&&!s.includes(V)&&!l.includes(V)||$===n.id){if(L.getModel().isVEdge){r.removeItem(L,!1);return}for(var yt=V.getModel();!V.isVisible();){if(V=r.findById(yt.comboId||yt.parentId),!V||!yt.parentId&&!yt.comboId)return;yt=V.getModel()}K=yt.id;for(var wt=D.getModel();!D.isVisible();){if(D=r.findById(wt.comboId||wt.parentId),!D||!wt.parentId&&!wt.comboId)return;if(wt.comboId===n.id||wt.parentId===n.id)break;wt=D.getModel()}if($=wt.id,K){var Rt=$+"-"+K;if(d[Rt]){d[Rt]+=L.getModel().size||1,r.updateItem(b[Rt],{size:d[Rt]},!1);return}var Zt=r.addItem("vedge",{source:$,target:K,isVEdge:!0},!1);d[Rt]=L.getModel().size||1,b[Rt]=Zt}}else if(!s.includes(D)&&!l.includes(D)&&(s.includes(V)||l.includes(V))||K===n.id){if(L.getModel().isVEdge){r.removeItem(L,!1);return}for(var wt=D.getModel();!D.isVisible();){if(D=r.findById(wt.comboId||wt.parentId),!D||!wt.parentId&&!wt.comboId)return;wt=D.getModel()}$=wt.id;for(var yt=V.getModel();!V.isVisible();){if(V=r.findById(yt.comboId||yt.parentId),!V||!yt.parentId&&!yt.comboId)return;if(yt.comboId===n.id||yt.parentId===n.id)break;yt=V.getModel()}if(K=yt.id,$){var Rt=$+"-"+K;if(d[Rt]){d[Rt]+=L.getModel().size||1,r.updateItem(b[Rt],{size:d[Rt]},!1);return}var Zt=r.addItem("vedge",{target:K,source:$,isVEdge:!0},!1);d[Rt]=L.getModel().size||1,b[Rt]=Zt}}else(s.includes(D)||l.includes(D))&&(s.includes(V)||l.includes(V))&&D.isVisible()&&V.isVisible()&&L.show()}})},e.prototype.collapseExpandCombo=function(t){if((0,u.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var r=t.getModel(),n=this.findById(r.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=r.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},e.prototype.collapseGroup=function(t){var r=this.get("customGroupControll");r.collapseGroup(t)},e.prototype.expandGroup=function(t){var r=this.get("customGroupControll");r.expandGroup(t)},e.prototype.addPlugin=function(t){var r=this;t.destroyed||(r.get("plugins").push(t),t.initPlugin(r))},e.prototype.removePlugin=function(t){var r=this.get("plugins"),n=r.indexOf(t);n>=0&&(t.destroyPlugin(),r.splice(n,1))},e.prototype.sortCombos=function(){var t=this,r=this.get("comboSorted");if(!r){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){Ki(l,function(f){return n[f.depth]?n[f.depth].push(f.id):n[f.depth]=[f.id],a[f.id]=f.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var f=l.getModel(),h=a[f.source]||0,c=a[f.target]||0,d=Math.max(h,c);n[d]?n[d].push(f.id):n[d]=[f.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var f=l.length-1;f>=0;f--){var h=t.findById(l[f]);h==null||h.toFront()}})}},e.prototype.getNeighbors=function(t,r){var n=t;return(0,u.isString)(t)&&(n=this.findById(t)),n.getNeighbors(r)},e.prototype.getNodeDegree=function(t,r){r===void 0&&(r=void 0);var n=t;(0,u.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=Cx(this)),this.set("degees",a);var o=a[n.getID()],s;switch(r){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},e.prototype.pushStack=function(t,r,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=r?(0,u.clone)(r):{before:{},after:(0,u.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},e.prototype.getAdjMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=nu(this,r),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=nu(this,r),this.set("adjMatrix",n)),(!a||!t)&&(a=Px(this,r),this.set("shortestPathMatrix",a)),a},e.prototype.destroy=function(){this.clear(),this.clearStack(),(0,u.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var r=0;r<t.length;r++){var n=t[r];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){var r=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),r||(r=this.get("group").addGroup({id:"hullGroup"}),r.toBack(),this.set("hullGroup",r)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=r.addGroup({id:t.id+"-container"}),o=new n6(this,ue(ue({},t),{group:a})),s=o.id;return n[s]=o,o},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var r;(0,u.isString)(t)?r=this.getHullById(t):r=t;var n=this.get("hullMap");delete n[r.id],r.destroy()},e.prototype.setImageWaterMarker=function(t,r){t===void 0&&(t=hr.waterMarkerImage);var n=this.get("container");(0,u.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,u.deepMix)({},hr.imageWaterMarkerConfig,r),s=o.width,l=o.height,f=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},d=this.get("pixelRatio");d&&(c.pixelRatio=d),a=new To.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var b=a.get("context"),L=h.rotate,D=h.x,V=h.y;b.rotate(-L*Math.PI/180);var $=new Image;$.crossOrigin="anonymous",$.src=t,$.onload=function(){if(b.drawImage($,D,V,h.width,h.height),b.rotate(L*Math.PI/180),f)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var K=document.querySelector(".g6-graph-watermarker");K||(K=document.createElement("div"),K.className="g6-graph-watermarker"),K.className="g6-graph-watermarker",a.destroyed||(K.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(K))}}},e.prototype.setTextWaterMarker=function(t,r){var n=this.get("container");(0,u.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,u.deepMix)({},hr.textWaterMarkerConfig,r),s=o.width,l=o.height,f=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},d=this.get("pixelRatio");d&&(c.pixelRatio=d),a=new To.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var b=a.get("context"),L=h.rotate,D=h.fill,V=h.fontFamily,$=h.fontSize,K=h.baseline,yt=h.x,wt=h.y,Rt=h.lineHeight;b.rotate(-L*Math.PI/180),b.font=$+"px "+V,b.fillStyle=D,b.textBaseline=K;for(var Zt=t.length-1;Zt>=0;Zt--)b.fillText(t[Zt],yt,wt+Zt*Rt);if(b.rotate(L*Math.PI/180),f)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var te=document.querySelector(".g6-graph-watermarker");te||(te=document.createElement("div"),te.className="g6-graph-watermarker"),te.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(te)}},e}(Ie.default),kx=o6,s6=v(77201),Bx=v.n(s6),l6=function(i){ii(e,i);function e(t){var r=i.call(this,t)||this;return r.layoutAnimating=!1,r.set("removeList",[]),r.set("layoutMethod",r.getLayout()),r}return e.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(r){var n=Bx()[t.type](r,t);return Hm(n),n}:function(r){return Bx()[t.type](r,t)}):null},e.indexOfChild=function(t,r){var n=-1;return(0,hi.S6)(t,function(a,o){if(r===a.id)return n=o,!1}),n},e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},e.prototype.innerAddChild=function(t,r,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(r){if(s.set("parent",r),n){var l=r.get("originAttrs");if(l)s.set("originAttrs",l);else{var f=r.getModel();s.set("originAttrs",{x:f.x,y:f.y})}}var h=r.get("children");h?h.push(s):r.set("children",[s]),a.addItem("edge",{source:r,target:s,id:r.get("id")+":"+s.get("id")},!1)}return(0,hi.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:r}),s},e.prototype.innerUpdateChild=function(t,r,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,r,n);return}(0,hi.S6)(t.children||[],function(L){a.innerUpdateChild(L,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var f=s.length-1;f>=0;f--){var h=s[f].getModel();e.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(f,1))}}var c,d;o.get("originAttrs")&&(c=o.get("originAttrs").x,d=o.get("originAttrs").y);var b=o.getModel();n&&o.set("originAttrs",{x:b.x,y:b.y}),o.set("model",t.data),(c!==t.x||d!==t.y)&&o.updatePosition({x:t.x,y:t.y})},e.prototype.innerRemoveChild=function(t,r,n){var a=this,o=a.findById(t);if(!!o)if((0,hi.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,r,n)}),n){var s=o.getModel();o.set("to",r),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},e.prototype.changeData=function(t){var r=this;this.getNodes().map(function(n){return r.clearItemStates(n)}),this.getEdges().map(function(n){return r.clearItemStates(n)}),t?(r.data(t),r.render()):r.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var r=this;r.updateLayout(t)},e.prototype.updateLayout=function(t){var r=this;if(!t){console.warn("layout cannot be null");return}r.set("layout",t),r.set("layoutMethod",r.getLayout()),r.layout()},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var r=this;r.layout(t)},e.prototype.layout=function(t){var r=this,n=r.get("data"),a=r.get("layoutMethod"),o=a(n,r.get("layout")),s=r.get("animate");if(r.emit("beforerefreshlayout",{data:n,layoutData:o}),r.emit("beforelayout"),r.innerUpdateChild(o,void 0,s),t){var l=r.get("viewController");l.fitView()}s?r.layoutAnimate(o):(r.refresh(),r.paint()),r.emit("afterrefreshlayout",{data:n,layoutData:o}),r.emit("afterlayout")},e.prototype.addChild=function(t,r){var n=this;n.emit("beforeaddchild",{model:t,parent:r}),(0,hi.HD)(r)||(r=r.get("id"));var a=n.findDataById(r);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},e.prototype.updateChild=function(t,r){var n=this;if(!r||!n.findById(r)){n.changeData(t);return}var a=n.findById(r).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=e.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},e.prototype.removeChild=function(t){var r=this,n=r.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=r.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),f=e.indexOfChild(s,l.id);s.splice(f,1)}r.changeData()}},e.prototype.findDataById=function(t,r){var n=this;if(r||(r=n.get("data")),t===r.id)return r;var a=null;return(0,hi.S6)(r.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},e.prototype.layoutAnimate=function(t,r){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Ki(t,function(s){var l=n.findById(s.id);if(l){var f=l.get("originAttrs"),h=l.get("model");if(f||(f={x:h.x,y:h.y},l.set("originAttrs",f)),r){var c=r(l,o,f,t);l.set("model",Object.assign(h,c))}else h.x=f.x+(s.x-f.x)*o,h.y=f.y+(s.y-f.y)*o}return!0}),(0,hi.S6)(n.get("removeList"),function(s){var l=s.getModel(),f=s.get("originAttrs"),h=s.get("to");l.x=f.x+(h.x-f.x)*o,l.y=f.y+(h.y-f.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,hi.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,hi.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(){var t=this,r=t.get("data");if(!r)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e}(kx),u6=l6,f6="-shape",Dx="-label",iu=["startArrow","endArrow"],Bh="-label-bg",Dh={options:{},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e){return(0,u.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){var r=this.drawShape(e,t);if(r.set("className",this.itemType+f6),e.label){var n=this.drawLabel(e,t);n.set("className",this.itemType+Dx)}return r},afterDraw:function(e,t,r){},drawShape:function(e,t){return null},drawLabel:function(e,t){var r=this.getOptions(e).labelCfg,n=r||{},a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),f=s.getMatrix();if(f||(f=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":f=Fa(f,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":f=Fa(f,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":f=Fa(f,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:f=Fa(f,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else f=Fa(f,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(f)}if(a.background){var h=this.drawLabelBg(e,t,s),c=this.itemType+Bh;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(e,t,r){var n=this.options.labelCfg,a=(0,u.mix)({},n,e.labelCfg),o=this.getLabelBgStyleByPosition(r,e,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(e,t,r){return{text:e.label}},getLabelBgStyleByPosition:function(e,t,r,n){return{}},getLabelStyle:function(e,t,r){var n=this.getLabelStyleByPosition(e,t,r),a=this.itemType+"Label",o=hr[a]?hr[a].style:null,s=ue(ue(ue({},o),n),t.style);return s},getShapeStyle:function(e){return e.style},update:function(e,t){this.updateShapeStyle(e,t),this.updateLabel(e,t)},updateShapeStyle:function(e,t){var r=t.getContainer(),n=t.getKeyShape(),a=(0,u.mix)({},n.attr(),e.style),o=function(f){var h,c=a[f];if((0,u.isPlainObject)(c)){var d=r.find(function(b){return b.get("name")===f});d&&d.attr(c)}else n.attr((h={},h[f]=c,h))};for(var s in a)o(s)},updateLabel:function(e,t){var r=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+Dx,o=r.find(function(wt){return wt.get("className")===a}),s=this.itemType+Bh,l=r.find(function(wt){return wt.get("classname")===s});if(e.label||e.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,u.deepMix)({},n,h,e.labelCfg),d=this.getLabelStyleByPosition(e,c,r),b=e.labelCfg?e.labelCfg.style:void 0,L=c.style&&c.style.background,D=ue(ue(ue({},o.attr()),d),b),V=D.rotate;if(delete D.rotate,V){var $=[1,0,0,0,1,0,0,0,1];$=Fa($,[["t",-D.x,-D.y],["r",V],["t",D.x,D.y]]),o.resetMatrix(),o.attr(ue(ue({},D),{matrix:$}))}else o.resetMatrix(),o.attr(D);if(!l)D.background&&(l=this.drawLabelBg(e,r,o),l.set("classname",s),o.toFront());else if(D.background){var K=this.getLabelBgStyleByPosition(o,e,c,r),yt=ue(ue({},K),L);l.resetMatrix(),V&&l.rotateAtStart(V),l.attr(yt)}else r.removeChild(l)}else{var f=this.drawLabel(e,r);f.set("className",a)}},afterUpdate:function(e,t){},setState:function(e,t,r){var n,a,o=r.get("keyShape");if(!!o){var s=r.getType(),l=(0,u.isBoolean)(t)?e:e+":"+t,f=this.getStateStyle(l,r),h=r.getStateStyle(l);if(!(!h&&!f)){var c=(0,u.mix)({},h||f),d=r.getContainer();if(t){var b=function(ze){var je,Qe=c[ze];if((0,u.isPlainObject)(Qe)&&!iu.includes(ze)){var Ze=d.find(function(xr){return xr.get("name")===ze});Ze&&Ze.attr(Qe)}else o.attr((je={},je[ze]=Qe,je))};for(var L in c)b(L)}else{var D=(0,u.clone)(r.getCurrentStatesStyle()),V=r.getModel(),$=(0,u.mix)({},V.style,(0,u.clone)(r.getOriginStyle())),K=o.get("name"),yt=o.attr(),wt={},Rt=function(ze){var je=c[ze];if((0,u.isPlainObject)(je)&&!iu.includes(ze)){var Qe=d.find(function(Or){return Or.get("name")===ze});if(Qe){var Ze=Qe.attr();(0,u.each)(je,function(Or,Tr){(Ze[Tr]||Ze[Tr]===0)&&delete Ze[Tr]}),wt[ze]=Ze}}else{var xr={x:1,y:1,cx:1,cy:1};yt[ze]&&!xr[ze]&&delete yt[ze]}};for(var Zt in c)Rt(Zt);K?wt[K]=yt:(0,u.mix)(wt,yt);for(var L in D){var te=D[L];(!(0,u.isPlainObject)(te)||iu.includes(L))&&(K?((0,u.mix)($[K],(a={},a[L]=te,a)),delete $[L]):(0,u.mix)($,(n={},n[L]=te,n)),delete D[L])}var oe={};(0,u.deepMix)(oe,$,wt,D);var re=function(ze){var je,Qe,Ze=oe[ze];if((0,u.isPlainObject)(Ze)&&!iu.includes(ze)){var xr=d.find(function(Or){return Or.get("name")===ze});xr&&xr.attr(Ze)}else s==="combo"?K||o.attr((je={},je[ze]=Ze,je)):o.attr((Qe={},Qe[ze]=Ze,Qe))};for(var ye in oe)re(ye)}}}},getStateStyle:function(e,t){var r=t.getModel(),n=t.getType(),a=this.getOptions(r),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,f=r.stateStyles?r.stateStyles[e]:o&&o[e];return n==="combo"?(0,u.clone)(f):(0,u.mix)({},l,f)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.getOptions(e).anchorPoints;return t}},h6={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:hr.nodeLabel.offset,getSize:function(e){var t=e.size||this.getOptions({}).size||hr.defaultNode.size;return(0,u.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,u.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition;if(r==="center")return{x:0,y:0,text:e.label};var n=t.offset;(0,u.isNil)(n)&&(n=this.offset);var a=this.getSize(e),o=a[0],s=a[1],l;switch(r){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=e.label,l},getLabelBgStyleByPosition:function(e,t,r,n){if(!e)return{};var a=e.getBBox(),o=r.style&&r.style.background;if(!o)return{};var s=ih(o.padding),l=a.width+s[1]+s[3],f=a.height+s[0]+s[2],h=r.offset;(0,u.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=ue(ue(ue({},c),o),{width:l,height:f}),c},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(r,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=t.find(function(te){return te.get("className")==="link-point-left"}),a=t.find(function(te){return te.get("className")==="link-point-right"}),o=t.find(function(te){return te.get("className")==="link-point-top"}),s=t.find(function(te){return te.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=r);var f=(0,u.mix)({},l,e.linkPoints),h=f.fill,c=f.stroke,d=f.lineWidth,b=f.size/2;b||(b=f.r);var L=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},D=L.left,V=L.right,$=L.top,K=L.bottom,yt=this.getSize(e),wt=yt[0],Rt=yt[1],Zt={r:b,fill:h,stroke:c,lineWidth:d};n?!D&&D!==void 0?n.remove():n.attr(ue(ue({},Zt),{x:-wt/2,y:0})):D&&t.addShape("circle",{attrs:ue(ue({},Zt),{x:-wt/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!V&&V!==void 0&&a.remove(),a.attr(ue(ue({},Zt),{x:wt/2,y:0}))):V&&t.addShape("circle",{attrs:ue(ue({},Zt),{x:wt/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!$&&$!==void 0&&o.remove(),o.attr(ue(ue({},Zt),{x:0,y:-Rt/2}))):$&&t.addShape("circle",{attrs:ue(ue({},Zt),{x:0,y:-Rt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!K&&K!==void 0?s.remove():s.attr(ue(ue({},Zt),{x:0,y:Rt/2})):K&&t.addShape("circle",{attrs:ue(ue({},Zt),{x:0,y:Rt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(e,t,r,n){var a=t.get("keyShape");a.attr(ue({},r)),this.updateLabel(e,t),n&&this.updateIcon(e,t)},updateIcon:function(e,t){var r=this,n=t.getContainer(),a=this.getOptions(e).icon,o=(e.icon?e.icon:{show:void 0}).show,s=n.find(function(d){return d.get("className")===r.type+"-icon"});if(s)if(o||o===void 0){var l=(0,u.mix)({},s.attr(),a),f=l.width,h=l.height;s.attr(ue(ue({},l),{x:-f/2,y:-h/2}))}else s.remove();else if(o){var f=a.width,h=a.height;n.addShape("image",{attrs:ue(ue({},a),{x:-f/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(L){return L.get("className")==="node-label"});c&&c.toFront()}}},c6=ue(ue({},Dh),h6);gi.registerNode("single-node",c6);var au="edge-shape";function v6(i){var e=i;return i==="start"?e="end":i==="end"&&(e="start"),e}var d6={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:hr.defaultEdge.size,style:{x:0,y:0,stroke:hr.defaultEdge.style.stroke,lineAppendWidth:hr.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:hr.edgeLabel.style.fill,fontSize:hr.edgeLabel.style.fontSize}},stateStyles:ue({},hr.edgeStateStyles)},getPath:function(e){var t=[];return(0,u.each)(e,function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=(0,u.mix)({},t,r,e.style),a=e.size||hr.defaultEdge.size;e=this.getPathPoints(e);var o=e.startPoint,s=e.endPoint,l=this.getControlPoints(e),f=[o];l&&(f=f.concat(l)),f.push(s);var h=this.getPath(f),c=(0,u.mix)({},hr.defaultEdge.style,{stroke:hr.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(e,t){var r=t.getContainer(),n={stroke:e.color},a=r.find(function($){return $.get("className")==="edge-shape"})||t.getKeyShape(),o=e.size;e=this.getPathPoints(e);var s=e.startPoint,l=e.endPoint,f=this.getControlPoints(e),h=[s];f&&(h=h.concat(f)),h.push(l);var c=(0,u.mix)({},n,a.attr(),e.style),d=e.sourceNode,b=e.targetNode,L={radius:c.radius};f||(L={source:d,target:b,offset:c.offset,radius:c.radius});var D=this.getPath(h,L),V=(0,u.mix)(n,a.attr(),{lineWidth:o,path:D},e.style);a&&a.attr(V)},getLabelStyleByPosition:function(e,t,r){var n=t.position||this.labelPosition,a={},o=r&&r.find(function(d){return d.get("className")===au}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,f=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return a.x=e.startPoint.x+l,a.y=e.startPoint.y+f,a.text=e.label,a;var h=(0,u.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=Vl(o,s,l,f,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=e.label,a},getLabelBgStyleByPosition:function(e,t,r,n){if(!e)return{};var a=e.getBBox(),o=r.style&&r.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],f=a.height+s[0]+s[2],h=r.position||this.labelPosition,c=ue(ue({},o),{width:l,height:f,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),d=(0,u.isNil)(r.autoRotate)?this.labelAutoRotate:r.autoRotate,b=n&&n.find(function(yt){return yt.get("className")===au}),L;h==="start"?L=0:h==="end"?L=1:L=.5;var D=r.refX||this.refX,V=r.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+D,c.y=t.startPoint.y+V,c;var $=Vl(b,L,D-l/2,V+f/2,d),K=$.angle;return K>1/2*Math.PI&&K<3*1/2*Math.PI&&($=Vl(b,L,D+l/2,V+f/2,d)),d&&(c.x=$.x,c.y=$.y),c.rotate=$.rotate,c},_getTextAlign:function(e,t){var r="center";return t?(t=t%(Math.PI*2),e!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?r=e:r=v6(e)),r):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("path",{className:au,name:au,attrs:r});return n},drawLabel:function(e,t){var r=this.options.labelCfg,n=(0,u.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},r,e.labelCfg),a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(e,t,s),f=this.itemType+Bh;l.set("classname",f),s.toFront()}return s},drawLabelBg:function(e,t,r){var n=this.options.labelCfg,a=(0,u.deepMix)({},n,e.labelCfg),o=this.getLabelStyle(e,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(r,e,a,t);delete l.rotate;var f=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&f.rotateAtStart(s),f}},p6=ue(ue({},Dh),d6);gi.registerEdge("single-edge",p6),gi.registerEdge("line",{getControlPoints:function(){}},"single-edge"),gi.registerEdge("spline",{getPath:function(e){var t=Am(e);return t}},"single-edge"),gi.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint,n={x:(t.x+r.x)/2,y:(t.y+r.y)/2},a,o;if(e.controlPoints!==void 0){if(o=e.controlPoints[0],a=lh(t,o,r),t.x<=r.x&&t.y>r.y?this.clockwise=a.x>o.x?0:1:t.x<=r.x&&t.y<r.y?this.clockwise=a.x>o.x?1:0:t.x>r.x&&t.y<=r.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(r.x-t.x)/(r.y-t.y))return[]}else{e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),(0,Di.default)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:r.x-t.x,y:r.y-t.y},l=Math.atan2(s.y,s.x);o={x:e.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:e.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=lh(t,o,r)}var f=gs(t,a),h=[{x:f,y:f}];return h},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),e.length===2?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),gi.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var r=e.startPoint,n=e.endPoint;e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,Di.default)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,Di.default)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]);var a=Yl(r,n,e.curvePosition,e.curveOffset);t=[a]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),gi.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,La.default)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,La.default)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var r=e.startPoint,n=e.endPoint,a=Yl(r,n,e.curvePosition[0],e.curveOffset[0]),o=Yl(r,n,e.curvePosition[1],e.curveOffset[1]);t=[a,o]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),gi.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition!==void 0&&(this.curvePosition=e.curvePosition),(0,La.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(r.y-t.y)*this.curvePosition[0]+t.y},a={x:r.x,y:(r.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),gi.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition!==void 0&&(this.curvePosition=e.curvePosition),(0,La.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(r.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(r.x-t.x)*this.curvePosition[1]+t.x,y:r.y},o=[n,a];return o}},"cubic"),gi.registerEdge("loop",{getPathPoints:function(e){return Xm(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var g6={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:hr.comboLabel.refX,refY:hr.comboLabel.refY,options:{style:{stroke:hr.defaultCombo.style.stroke,fill:hr.defaultCombo.style.fill,lineWidth:hr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:hr.comboLabel.style.fill,fontSize:hr.comboLabel.style.fontSize}},stateStyles:ue({},hr.comboStateStyles)},getSize:function(e){var t=(0,u.clone)(e.size||this.options.size||hr.defaultCombo.size);return(0,u.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,u.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,u.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,u.isNil)(o)&&(o=this.refX),(0,u.isNil)(s)&&(s=this.refY);var l=this.getSize(e),f=Math.max(n.r,l[0]/2)||l[0]/2,h=f+a,c;switch(r){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:e.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=e.label,c},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(r,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(e,t,r){var n=t.get("keyShape"),a=e.animate===void 0?this.options.animate:e.animate;a&&n.animate?n.animate(r,{duration:200,easing:"easeLinear"}):n.attr(ue({},r)),this.updateLabel(e,t)}},y6=ue(ue({},Dh),g6);gi.registerCombo("single-combo",y6),gi.registerCombo("circle",{options:{size:[hr.defaultCombo.size[0],hr.defaultCombo.size[0]],padding:hr.defaultCombo.padding[0],animate:!0,style:{stroke:hr.defaultCombo.style.stroke,fill:hr.defaultCombo.style.fill,lineWidth:hr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:hr.comboLabel.style.fill,fontSize:hr.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:ue({},hr.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e);delete r.height,delete r.width;var n=t.addShape("circle",{attrs:r,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;(0,u.isArray)(r)&&(r=r[0]);var n={stroke:e.color},a=(0,u.mix)({},t,n,e.style),o=this.getSize(e),s;!(0,u.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||hr.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+r;var l=ue({x:0,y:0},a);return e.style?e.style.r=s:e.style={r:s},l},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;(0,u.isArray)(n)&&(n=n[0]);var a=(0,u.clone)(e.style),o=Math.max(a.r,r[0]/2)||r[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:e.color},f=t.get("keyShape"),h=(0,u.mix)({},f.attr(),l,a);e.style?e.style.r=o:e.style={r:o},this.updateShape(e,t,h,!0)}},"single-combo"),gi.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:hr.defaultCombo.style.stroke,fill:hr.defaultCombo.style.fill,lineWidth:hr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:hr.comboLabel.style.fill,fontSize:hr.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:ue({},hr.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,u.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,u.isNil)(o)&&(o=this.refX),(0,u.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],f=n.height/2+a[0],h;switch(r){case"top":h={x:0-l+o,y:0-f+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:f+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:e.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=e.label,h},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;(0,u.isNumber)(r)&&(r=[r,r,r,r]);var n={stroke:e.color},a=(0,u.mix)({},t,n,e.style),o=this.getSize(e),s,l;!(0,u.isNumber)(a.width)||isNaN(a.width)?s=o[0]||hr.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,u.isNumber)(a.height)||isNaN(a.height)?l=o[1]||hr.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var f=-s/2-r[3],h=-l/2-r[0];a.width=s+r[1]+r[3],a.height=l+r[0]+r[2];var c=ue({x:f,y:h},a);return e.style?(e.style.width=s,e.style.height=l):e.style={width:s,height:l},c},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;(0,u.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,u.clone)(e.style),o=Math.max(a.width,r[0])||r[0],s=Math.max(a.height,r[1])||r[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var f={stroke:e.color},h=t.get("keyShape"),c=(0,u.mix)({},h.attr(),f,a);e.style?(e.style.width=o,e.style.height=s):e.style={width:o,height:s},this.updateShape(e,t,c,!1)},updateShape:function(e,t,r){var n=t.get("keyShape"),a=e.animate===void 0?this.options.animate:e.animate;a&&n.animate?n.animate(r,{duration:200,easing:"easeLinear"}):n.attr(ue({},r)),this.updateLabel(e,t)}},"single-combo"),gi.registerNode("circle",{options:{size:hr.defaultNode.size,style:{x:0,y:0,stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ue({},hr.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=(0,Xi.default)({},n,e.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,f=o.height,h=o.show;return h&&t.addShape("image",{attrs:ue({x:-l/2,y:-f/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(e,t),s},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Ui(n,["top","left","right","bottom","size","r"]),d=this.getSize(e),b=d[0]/2;o&&t.addShape("circle",{attrs:ue(ue({},c),{x:-b,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ue(ue({},c),{x:b,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ue(ue({},c),{x:0,y:-b,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ue(ue({},c),{x:0,y:b,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,Xi.default)({},t,r),a=this.getSize(e),o=a[0]/2,s=ue({x:0,y:0,r:o},n);return s},update:function(e,t){var r=t.getContainer(),n=this.getSize(e),a={stroke:e.color,r:n[0]/2},o=t.get("keyShape"),s=(0,Xi.default)({},o.attr(),a,e.style);this.updateShape(e,t,s,!0),this.updateLinkPoints(e,r)}},"single-node"),gi.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:ue({},hr.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(e,t),n},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Ui(n,["top","left","right","bottom","size","r"]),d=this.getSize(e),b=d[0],L=d[1];o&&t.addShape("circle",{attrs:ue(ue({},c),{x:-b/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ue(ue({},c),{x:b/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ue(ue({},c),{x:0,y:-L/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ue(ue({},c),{x:0,y:L/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],l=ue({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(e),o=t.get("keyShape");e.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:e.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,u.mix)({},n,o.attr(),s);l=(0,u.mix)(l,e.style),this.updateShape(e,t,l,!1),this.updateLinkPoints(e,r)}},"single-node"),gi.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ue({},hr.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:ue({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Ui(n,["top","left","right","bottom","size","r"]),d=this.getSize(e),b=d[0]/2,L=d[1]/2;o&&t.addShape("circle",{attrs:ue(ue({},c),{x:-b,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ue(ue({},c),{x:b,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ue(ue({},c),{x:0,y:-L,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ue(ue({},c),{x:0,y:L,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getSize(e),o=a[0]/2,s=a[1]/2,l=ue({x:0,y:0,rx:o,ry:s},n);return l},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(e),o={stroke:e.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,e.style),this.updateShape(e,t,l,!0),this.updateLinkPoints(e,r)}},"single-node"),gi.registerNode("diamond",{options:{size:[80,80],style:{stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ue({},hr.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:ue({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Ui(n,["top","left","right","bottom","size","r"]),d=this.getSize(e),b=d[0],L=d[1];o&&t.addShape("circle",{attrs:ue(ue({},c),{x:-b/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ue(ue({},c),{x:b/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ue(ue({},c),{x:0,y:-L/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ue(ue({},c),{x:0,y:L/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(e){var t=this.getSize(e),r=t[0],n=t[1],a=[["M",0,-n/2],["L",r/2,0],["L",0,n/2],["L",-r/2,0],["Z"]];return a},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getPath(e),o=ue({path:a},n);return o},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(e),o={stroke:e.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,e.style),this.updateShape(e,t,l,!0),this.updateLinkPoints(e,r)}},"single-node"),gi.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:ue({},hr.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var r=this.getOptions(e),n=r.icon,a=n===void 0?{}:n,o=r.direction,s=this.getShapeStyle(e),l=e.direction||o,f=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,d=a.show,b=a.offset;if(d){var L=-h/2,D=-c/2;(l==="up"||l==="down")&&(D+=b),(l==="left"||l==="right")&&(L+=b),t.addShape("image",{attrs:ue({x:L,y:D},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(e,t),f},drawLinkPoints:function(e,t){var r=this.getOptions(e),n=r.linkPoints,a=n===void 0?{}:n,o=r.direction,s=e.direction||o,l=a.top,f=a.left,h=a.right,c=a.bottom,d=a.size,b=a.r,L=Ui(a,["top","left","right","bottom","size","r"]),D=this.getSize(e),V=D[0];if(f){var $=null,K=V*Math.sin(1/3*Math.PI),yt=V*Math.sin(1/3*Math.PI);s==="up"?$=[-yt,K]:s==="down"?$=[-yt,-K]:s==="left"&&($=[-yt,yt-K]),$&&t.addShape("circle",{attrs:ue(ue({},L),{x:$[0],y:$[1],r:d/2||b||5}),className:"link-point-left",name:"link-point-left"})}if(h){var wt=null,K=V*Math.sin(1/3*Math.PI),yt=V*Math.sin(1/3*Math.PI);s==="up"?wt=[yt,K]:s==="down"?wt=[yt,-K]:s==="right"&&(wt=[yt,yt-K]),wt&&t.addShape("circle",{attrs:ue(ue({},L),{x:wt[0],y:wt[1],r:d/2||b||5}),className:"link-point-right",name:"link-point-right"})}if(l){var Rt=null,K=V*Math.sin(1/3*Math.PI),yt=V*Math.sin(1/3*Math.PI);s==="up"?Rt=[yt-K,-K]:s==="left"?Rt=[yt,-K]:s==="right"&&(Rt=[-yt,-K]),Rt&&t.addShape("circle",{attrs:ue(ue({},L),{x:Rt[0],y:Rt[1],r:d/2||b||5}),className:"link-point-top",name:"link-point-top"})}if(c){var Zt=null,K=V*Math.sin(1/3*Math.PI),yt=V*Math.sin(1/3*Math.PI);s==="down"?Zt=[-yt+K,K]:s==="left"?Zt=[yt,K]:s==="right"&&(Zt=[-yt,K]),Zt&&t.addShape("circle",{attrs:ue(ue({},L),{x:Zt[0],y:Zt[1],r:d/2||b||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(e){var t=this.getOptions(e).direction,r=e.direction||t,n=this.getSize(e),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return r==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:r==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:r==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getPath(e),o=ue({path:a},n);return o},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(e),o={stroke:e.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,e.style),this.updateShape(e,t,l,!0),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var r=this.getOptions({}),n=r.linkPoints,a=r.direction,o=e.direction||a,s=t.find(function(xr){return xr.get("className")==="link-point-left"}),l=t.find(function(xr){return xr.get("className")==="link-point-right"}),f=t.find(function(xr){return xr.get("className")==="link-point-top"}),h=t.find(function(xr){return xr.get("className")==="link-point-bottom"}),c=n,d=s||l||f||h;d&&(c=d.attr());var b=(0,u.mix)({},c,e.linkPoints),L=b.fill,D=b.stroke,V=b.lineWidth,$=b.size/2;$||($=b.r);var K=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},yt=K.left,wt=K.right,Rt=K.top,Zt=K.bottom,te=this.getSize(e),oe=te[0],re={r:$,fill:L,stroke:D,lineWidth:V},ye=null,Pe=oe*Math.sin(1/3*Math.PI),ze=oe*Math.sin(1/3*Math.PI);o==="up"?ye=[-ze,Pe]:o==="down"?ye=[-ze,-Pe]:o==="left"&&(ye=[-ze,ze-Pe]),ye&&(s?!yt&&yt!==void 0?s.remove():s.attr(ue(ue({},re),{x:ye[0],y:ye[1]})):yt&&t.addShape("circle",{attrs:ue(ue({},re),{x:ye[0],y:ye[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var je=null;o==="up"?je=[ze,Pe]:o==="down"?je=[ze,-Pe]:o==="right"&&(je=[ze,ze-Pe]),je&&(l?!wt&&wt!==void 0?l.remove():l.attr(ue(ue({},re),{x:je[0],y:je[1]})):wt&&t.addShape("circle",{attrs:ue(ue({},re),{x:je[0],y:je[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Qe=null;o==="up"?Qe=[ze-Pe,-Pe]:o==="left"?Qe=[ze,-Pe]:o==="right"&&(Qe=[-ze,-Pe]),Qe&&(f?!Rt&&Rt!==void 0?f.remove():f.attr(ue(ue({},re),{x:Qe[0],y:Qe[1]})):Rt&&t.addShape("circle",{attrs:ue(ue({},re),{x:Qe[0],y:Qe[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var Ze=null;o==="down"?Ze=[-ze+Pe,Pe]:o==="left"?Ze=[ze,Pe]:o==="right"&&(Ze=[-ze,Pe]),Ze&&(h?!Zt&&Zt!==void 0?h.remove():h.attr(ue(ue({},re),{x:Ze[0],y:Ze[1]})):Zt&&t.addShape("circle",{attrs:ue(ue({},re),{x:Ze[0],y:Ze[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),gi.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:hr.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var r=this.getOptions(e).preRect,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=this.getSize(e),s=o[0],l=o[1],f=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=Ui(n,["show"]);return h&&t.addShape("rect",{attrs:ue({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),f},drawLogoIcon:function(e,t){var r=this.getOptions(e).logoIcon,n=r===void 0?{}:r,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,l=n.height,f=n.x,h=n.y,c=n.offset,d=Ui(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:ue(ue({},d),{x:f||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var r=this.getOptions(e).stateIcon,n=r===void 0?{}:r,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,l=n.height,f=n.x,h=n.y,c=n.offset,d=Ui(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:ue(ue({},d),{x:f||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Ui(n,["top","left","right","bottom","size","r"]),d=this.getSize(e),b=d[0],L=d[1];o&&t.addShape("circle",{attrs:ue(ue({},c),{x:-b/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ue(ue({},c),{x:b/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ue(ue({},c),{x:0,y:-L/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ue(ue({},c),{x:0,y:L/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(e,t){var r=this.getOptions(e),n=r.labelCfg,a=n===void 0?{}:n,o=r.logoIcon,s=o===void 0?{}:o,l=r.descriptionCfg,f=l===void 0?{}:l,h=this.getSize(e),c=h[0],d=null,b=s.show,L=s.width,D=-c/2+a.offset;b&&(D=-c/2+L+a.offset);var V=a.style,$=f.style,K=f.paddingTop;return(0,u.isString)(e.description)?(d=t.addShape("text",{attrs:ue(ue({},V),{x:D,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:ue(ue({},$),{x:D,y:17+(K||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0})):d=t.addShape("text",{attrs:ue(ue({},V),{x:D,y:7,text:e.label}),draggable:!0}),d},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],l=ue({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(e,t){var r=this.getOptions(e),n=r.style,a=n===void 0?{}:n,o=r.labelCfg,s=o===void 0?{}:o,l=r.descriptionCfg,f=l===void 0?{}:l,h=this.getSize(e),c=h[0],d=h[1],b=t.get("keyShape");b.attr(ue(ue({},a),{x:-c/2,y:-d/2,width:c,height:d}));var L=t.getContainer(),D=L.find(function(an){return an.get("className")==="rect-logo-icon"}),V=D?D.attr():{},$=(0,u.mix)({},V,e.logoIcon),K=$.width;K===void 0&&(K=this.options.logoIcon.width);var yt=e.logoIcon?e.logoIcon.show:void 0,wt=s.offset,Rt=-c/2+K+wt;!yt&&yt!==void 0&&(Rt=-c/2+wt);var Zt=L.find(function(an){return an.get("className")==="node-label"}),te=L.find(function(an){return an.get("className")==="rect-description"});if(e.label)if(!Zt)L.addShape("text",{attrs:ue(ue({},s.style),{x:Rt,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0});else{var oe=e.labelCfg?e.labelCfg.style:{},re=(0,u.mix)({},Zt.attr(),oe);e.label&&(re.text=e.label),re.x=Rt,(0,u.isString)(e.description)&&(re.y=-5),te&&(te.resetMatrix(),te.attr({x:Rt})),Zt.resetMatrix(),Zt.attr(re)}if((0,u.isString)(e.description)){var ye=f.paddingTop;if(!te)L.addShape("text",{attrs:ue(ue({},f.style),{x:Rt,y:17+(ye||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var oe=e.descriptionCfg?e.descriptionCfg.style:{},Pe=(0,u.mix)({},te.attr(),oe);(0,u.isString)(e.description)&&(Pe.text=e.description),Pe.x=Rt,te.resetMatrix(),te.attr(ue(ue({},Pe),{y:17+(ye||0)}))}}var ze=L.find(function(an){return an.get("className")==="pre-rect"});if(ze){var je=(0,u.mix)({},ze.attr(),e.preRect);ze.attr(ue(ue({},je),{x:-c/2,y:-d/2,height:d}))}if(D)if(!yt&&yt!==void 0)D.remove();else{var Qe=$.width,Ze=$.height,xr=$.x,Or=$.y,Tr=$.offset,Mr=Ui($,["width","height","x","y","offset"]);D.attr(ue(ue({},Mr),{x:xr||-c/2+Qe+Tr,y:Or||-Ze/2,width:Qe,height:Ze}))}else yt&&this.drawLogoIcon(e,L);var br=L.find(function(an){return an.get("className")==="rect-state-icon"}),qr=br?br.attr():{},Gr=(0,u.mix)({},qr,e.stateIcon);if(br){!Gr.show&&Gr.show!==void 0&&br.remove();var Kr=Gr.width,Ze=Gr.height,xr=Gr.x,Or=Gr.y,Ar=Gr.offset,Hr=Ui(Gr,["width","height","x","y","offset"]);br.attr(ue(ue({},Hr),{x:xr||c/2-Kr+Ar,y:Or||-Ze/2,width:Kr,height:Ze}))}else Gr.show&&this.drawStateIcon(e,L);this.updateLinkPoints(e,L)}},"single-node"),gi.registerNode("star",{options:{size:60,style:{stroke:hr.defaultNode.style.stroke,fill:hr.defaultNode.style.fill,lineWidth:hr.defaultNode.style.lineWidth},labelCfg:{style:{fill:hr.nodeLabel.style.fill,fontSize:hr.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:hr.defaultNode.linkPoints.size,lineWidth:hr.defaultNode.linkPoints.lineWidth,fill:hr.defaultNode.linkPoints.fill,stroke:hr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ue({},hr.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:ue({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.leftBottom,f=n.rightBottom,h=n.size,c=n.r,d=Ui(n,["top","left","right","leftBottom","rightBottom","size","r"]),b=this.getSize(e),L=b[0];if(s){var D=Math.cos((18+72*0)/180*Math.PI)*L,V=Math.sin((18+72*0)/180*Math.PI)*L;t.addShape("circle",{attrs:ue(ue({},d),{x:D,y:-V,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var D=Math.cos((18+72*1)/180*Math.PI)*L,V=Math.sin((18+72*1)/180*Math.PI)*L;t.addShape("circle",{attrs:ue(ue({},d),{x:D,y:-V,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var D=Math.cos((18+72*2)/180*Math.PI)*L,V=Math.sin((18+72*2)/180*Math.PI)*L;t.addShape("circle",{attrs:ue(ue({},d),{x:D,y:-V,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var D=Math.cos((18+72*3)/180*Math.PI)*L,V=Math.sin((18+72*3)/180*Math.PI)*L;t.addShape("circle",{attrs:ue(ue({},d),{x:D,y:-V,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(f){var D=Math.cos((18+72*4)/180*Math.PI)*L,V=Math.sin((18+72*4)/180*Math.PI)*L;t.addShape("circle",{attrs:ue(ue({},d),{x:D,y:-V,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){for(var t=this.getSize(e),r=t[0],n=r*3/8,a=e.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*r,f=Math.sin((18+72*s)/180*Math.PI)*r,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-f]):o.push(["L",l,-f]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getPath(e),o=ue({path:a},n);return o},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(e),o={stroke:e.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,e.style),this.updateShape(e,t,l,!0),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var r=this.getOptions({}).linkPoints,n=t.find(function(Pe){return Pe.get("className")==="link-point-left"}),a=t.find(function(Pe){return Pe.get("className")==="link-point-right"}),o=t.find(function(Pe){return Pe.get("className")==="link-point-top"}),s=t.find(function(Pe){return Pe.get("className")==="link-point-left-bottom"}),l=t.find(function(Pe){return Pe.get("className")==="link-point-right-bottom"}),f=r,h=n||a||o||s||l;h&&(f=h.attr());var c=(0,u.mix)({},f,e.linkPoints),d=c.fill,b=c.stroke,L=c.lineWidth,D=c.size/2;D||(D=c.r);var V=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},$=V.left,K=V.right,yt=V.top,wt=V.leftBottom,Rt=V.rightBottom,Zt=this.getSize(e),te=Zt[0],oe={r:D,fill:d,stroke:b,lineWidth:L},re=Math.cos((18+72*0)/180*Math.PI)*te,ye=Math.sin((18+72*0)/180*Math.PI)*te;a?!K&&K!==void 0?a.remove():a.attr(ue(ue({},oe),{x:re,y:-ye})):K&&t.addShape("circle",{attrs:ue(ue({},oe),{x:re,y:-ye}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),re=Math.cos((18+72*1)/180*Math.PI)*te,ye=Math.sin((18+72*1)/180*Math.PI)*te,o?!yt&&yt!==void 0?o.remove():o.attr(ue(ue({},oe),{x:re,y:-ye})):yt&&t.addShape("circle",{attrs:ue(ue({},oe),{x:re,y:-ye}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),re=Math.cos((18+72*2)/180*Math.PI)*te,ye=Math.sin((18+72*2)/180*Math.PI)*te,n?!$&&$!==void 0?n.remove():n.attr(ue(ue({},oe),{x:re,y:-ye})):$&&t.addShape("circle",{attrs:ue(ue({},oe),{x:re,y:-ye}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),re=Math.cos((18+72*3)/180*Math.PI)*te,ye=Math.sin((18+72*3)/180*Math.PI)*te,s?!wt&&wt!==void 0?s.remove():s.attr(ue(ue({},oe),{x:re,y:-ye})):wt&&t.addShape("circle",{attrs:ue(ue({},oe),{x:re,y:-ye}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),re=Math.cos((18+72*4)/180*Math.PI)*te,ye=Math.sin((18+72*4)/180*Math.PI)*te,l?!Rt&&Rt!==void 0?s.remove():l.attr(ue(ue({},oe),{x:re,y:-ye})):Rt&&t.addShape("circle",{attrs:ue(ue({},oe),{x:re,y:-ye}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),gi.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e);delete n.fill;var a=t.addShape(r,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(e,a),a},drawClip:function(e,t){var r=this.getOptions(e).clipCfg;if(!!r.show){var n=r.type,a=r.x,o=r.y,s=r.style;if(n==="circle"){var l=r.r;t.setClip({type:"circle",attrs:ue({r:l,x:a,y:o},s)})}else if(n==="rect"){var f=r.width,h=r.height,c=a-f/2,d=o-h/2;t.setClip({type:"rect",attrs:ue({x:c,y:d,width:f,height:h},s)})}else if(n==="ellipse"){var b=r.rx,L=r.ry;t.setClip({type:"ellipse",attrs:ue({x:a,y:o,rx:b,ry:L},s)})}else if(n==="polygon"){var D=r.points;t.setClip({type:"polygon",attrs:ue({points:D},s)})}else if(n==="path"){var V=r.path;t.setClip({type:"path",attrs:ue({path:V},s)})}}},getShapeStyle:function(e){var t=this.getOptions(e).style,r=this.getSize(e),n=this.getOptions(e).img,a=r[0],o=r[1];t&&(a=t.width||r[0],o=t.height||r[1]);var s=ue({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(e,t){var r=t.getContainer(),n=this.itemType+"-shape",a=r.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(e);a&&a.attr(o)}},"single-node");function ou(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ou=function(t){return typeof t}:ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(i)}var su=function(e){var t=e.x,r=e.y;return{x:t,y:r,centerX:t,centerY:r,minX:t,minY:r,maxX:t,maxY:r,height:0,width:0}},m6=function(e){e===void 0&&(e=[]);var t=[],r=[];e.forEach(function(l){t.push(l.x),r.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,r),s=Math.max.apply(Math,r);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},Fx=function(e,t){return Math.abs(e.centerX-t.centerX)*2<e.width+t.width&&Math.abs(e.centerY-t.centerY)*2<e.height+t.height},Fh=function(e){var t=[],r={};return e.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,r[a]=n}),(0,u.each)(r,function(n){t.push(n)}),t},lu=function(e){return e=Fh(e),e},Rx=function(e,t){return[e,{x:e.x,y:t.y},t]},uu=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},x6=function(e,t){var r=Math.abs(e.x-t.centerX),n=Math.abs(e.y-t.centerY);return r/t.width>n/t.height},Rh=function(e,t){var r=x6(t,e);return r?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Nh=function(e,t){var r=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(r+a)/2,centerY:(n+o)/2,minX:r,minY:n,maxX:a,maxY:o,height:o-n,width:a-r}},Yh=function(e){var t=e.minX,r=e.minY,n=e.maxX,a=e.maxY;return[{x:t,y:r},{x:n,y:r},{x:n,y:a},{x:t,y:a}]},fu=function(e,t){var r=e.x,n=e.y;return r<t.minX||r>t.maxX||n<t.minY||n>t.maxY},b6=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},w6=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},S6=function(e,t){return b6(e,t.x).concat(w6(e,t.y))},As=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},M6=function(e,t){var r=-2,n=0;return t.forEach(function(a){a&&(e.x===a.x&&(n+=r),e.y===a.y&&(n+=r))}),n},Nx=function(e,t,r,n,a){return As(e,t)+As(e,r)+M6(e,[t,r,n,a])},C6=function i(e,t,r,n,a){a===void 0&&(a=0),e.unshift(t[n]),r[n]&&r[n]!==n&&a<=100&&i(e,t,r,r[n],a+1)},E6=function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)},hu=function(e,t,r,n){var a=t.x-e.x,o=t.y-e.y,s=n.x-r.x,l=n.y-r.y,f=(-o*(e.x-r.x)+a*(e.y-r.y))/(-s*o+a*l),h=(s*(e.y-r.y)-l*(e.x-r.x))/(-s*o+a*l);return f>=0&&f<=1&&h>=0&&h<=1},Gh=function(e,t,r){if(r.width===0&&r.height===0)return!1;var n=Yh(r),a=n[0],o=n[1],s=n[2],l=n[3];return hu(e,t,a,o)||hu(e,t,a,l)||hu(e,t,o,s)||hu(e,t,s,l)},A6=function(e,t,r,n){var a=[];return e.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!Gh(o,t,r)&&!Gh(o,t,n)&&a.push(o)}),Fh(a)},T6=function(e,t,r,n,a,o,s){var l=[],f=[t],h={},c={},d={};c[t.id]=0,d[t.id]=Nx(t,r,t);var b={};e.forEach(function(V){b[V.id]=V});for(var L=function(){var $,K=Infinity;if(f.forEach(function(wt){d[wt.id]<K&&(K=d[wt.id],$=wt)}),$===r){var yt=[];return C6(yt,b,h,r.id),{value:yt}}E6(f,$),l.push($),A6(e,$,n,a).forEach(function(wt){if(l.indexOf(wt)===-1){f.indexOf(wt)===-1&&f.push(wt);var Rt=d[$.id]+As($,wt);c[wt.id]&&Rt>=c[wt.id]||(h[wt.id]=$.id,c[wt.id]=Rt,d[wt.id]=c[wt.id]+Nx(wt,r,t,o,s))}})};f.length;){var D=L();if(ou(D)==="object")return D.value}return[t,r]},P6=function(e,t,r){return!(e.x===t.x&&t.x===r.x||e.y===t.y&&t.y===r.y)},_6=function(e,t,r,n){var a=As(e,t),o=As(r,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-e.x),y:t.y-n/a*(t.y-e.y)},l={x:t.x-n/o*(t.x-r.x),y:t.y-n/o*(t.y-r.y)};return[s,l]},Yx=function(e,t){var r=[],n=e[0];return r.push("M"+n.x+" "+n.y),e.forEach(function(a,o){var s=e[o+1],l=e[o+2];if(s&&l)if(P6(a,s,l)){var f=_6(a,s,l,t),h=f[0],c=f[1];r.push("L"+h.x+" "+h.y),r.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),r.push("L"+c.x+" "+c.y)}else r.push("L"+s.x+" "+s.y);else s&&r.push("L"+s.x+" "+s.y)}),r.join("")},O6=function(e,t,r,n,a){var o,s;if(!r||!r.getType())o=su(e);else if(r.getType()==="combo"){var l=r.getKeyShape();o=l.getCanvasBBox()||su(e),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=r.getBBox();if(!n||!n.getType())s=su(t);else if(n.getType()==="combo"){var f=n.getKeyShape();s=f.getCanvasBBox()||su(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(Fx(o,s))return lu(Rx(e,t));var h=uu(o,a),c=uu(s,a);if(Fx(h,c))return lu(Rx(e,t));var d=Rh(h,e),b=Rh(c,t),L=m6([d,b]),D=Nh(h,c),V=Nh(h,L),$=Nh(c,L),K=[];K=K.concat(Yh(V)),K=K.concat(Yh($));var yt={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[L,V,$].forEach(function(Rt){K=K.concat(S6(Rt,yt).filter(function(Zt){return fu(Zt,h)&&fu(Zt,c)}))}),[{x:d.x,y:b.y},{x:b.x,y:d.y}].forEach(function(Rt){fu(Rt,h)&&fu(Rt,c)&&K.push(Rt)}),K.unshift(d),K.push(b),K=Fh(K);var wt=T6(K,d,b,o,s,e,t);return wt.unshift(e),wt.push(t),lu(wt)};function cu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(t){return typeof t}:cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(i)}var L6=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},I6=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},k6=function(e,t){return[e,t]},B6=function(e,t,r,n,a){return lu(O6(e,t,r,n,a.offset))},D6={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:L6,fallbackRoute:B6},GG={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:I6,fallbackRoute:k6},ma=function(e,t){var r=Math.floor(e/t);return r<0?0:r},F6=function(e,t,r){var n={};return e.forEach(function(a){if(a)for(var o=uu(a.getBBox(),r),s=ma(o.minX,t);s<=ma(o.maxX,t);s+=1)for(var l=ma(o.minY,t);l<=ma(o.maxY,t);l+=1){var f=s+"-"+l;n[f]=!0}}),n},zh=function(e,t){var r=t.x-e.x,n=t.y-e.y;if(!r&&!n)return 0;var a=(360+Math.atan2(n,r)*180/Math.PI)%360;return a},Gx=function(e,t){var r=Math.abs(e-t);return r>180?360-r:r},zx=function(e,t,r){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=r(e,t[a]);s<n&&(n=s)}return n},Xx=function(e,t,r){var n=[];if(!t)return n;var a=r.directions,o=r.offset,s=t.getBBox(),l=uu(t.getBBox(),o);for(var f in l)l[f]=ma(l[f],r.gridSize);var h=e.x>ma(s.minX,r.gridSize)&&e.x<ma(s.maxX,r.gridSize)&&e.y>ma(s.minY,r.gridSize)&&e.y<ma(s.maxY,r.gridSize);if(h)for(var c=0,d=a;c<d.length;c++)for(var b=d[c],L=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],f=0;f<4;f++){var D=L[f],V=ds(e,{x:e.x+b.stepX*l.width,y:e.y+b.stepY*l.height},D[0],D[1]);V&&!Gh(e,V,t.getBBox())&&(V.id=V.x+"-"+V.y,n.push(V))}else{var V=Rh(l,e);V.id=V.x+"-"+V.y,n.push(V)}return n},Vx=function(e,t,r,n,a){var o=(0,Xi.default)(D6,a);o.obstacles=o.obstacles||[];var s=F6(o.obstacles.concat([r,n]),o.gridSize,o.offset),l={x:ma(e.x,o.gridSize),y:ma(e.y,o.gridSize)},f={x:ma(t.x,o.gridSize),y:ma(t.y,o.gridSize)};e.id=l.x+"-"+l.y,t.id=f.x+"-"+f.y;var h=Xx(l,r,o),c=Xx(f,n,o);h.forEach(function(oe){delete s[oe.id]}),c.forEach(function(oe){delete s[oe.id]});for(var d={},b={},L={},D={},V={},$=0;$<h.length;$++){var K=h[$];d[K.id]=K,D[K.id]=0,V[K.id]=zx(K,c,o.distFunc)}for(var yt=function(re,ye){var Pe=zh(re,ye),ze;if(L[re.id]){var Qe=zh({x:parseFloat(L[re.id].split("-")[0]),y:parseFloat(L[re.id].split("-")[1])},re);ze=Gx(Qe,Pe)}else{var je=zh(l,re);ze=Gx(je,Pe)}return ze},wt=function(re){var ye=[t],Pe={x:parseFloat(re.split("-")[0]),y:parseFloat(re.split("-")[1]),id:re};for(yt(Pe,f)&&ye.unshift({x:Pe.x===f.x?t.x:Pe.x*o.gridSize,y:Pe.y===f.y?t.y:Pe.y*o.gridSize});L[re]&&L[re]!==re;){var ze={x:parseFloat(re.split("-")[0]),y:parseFloat(re.split("-")[1]),id:re},je=L[re],Qe={x:parseFloat(je.split("-")[0]),y:parseFloat(je.split("-")[1]),id:je},Ze=yt(Qe,ze);Ze&&ye.unshift({x:Qe.x===ze.x?ye[0].x:Qe.x*o.gridSize,y:Qe.y===ze.y?ye[0].y:Qe.y*o.gridSize}),re=je}var xr={x:parseFloat(re.split("-")[0]),y:parseFloat(re.split("-")[1]),id:re};return ye[0].x=xr.x===l.x?e.x:ye[0].x,ye[0].y=xr.y===l.y?e.y:ye[0].y,ye.unshift(e),ye},Rt=o.maximumLoops,Zt=function(){var re,ye=Infinity;for(var Pe in d)V[Pe]<=ye&&(ye=V[Pe],re=d[Pe]);if(!re)return"break";if(c.findIndex(function(Mr){return Mr.x===re.x&&Mr.y===re.y})>-1){var ze=wt(re.id);return{value:ze}}delete d[re.id],b[re.id]=!0;for(var je=0;je<o.directions.length;je++){var Qe=o.directions[je],Ze={x:re.x+Qe.stepX,y:re.y+Qe.stepY,id:re.x+Qe.stepX+"-"+(re.y+Qe.stepY)};if(!b[Ze.id]){var xr=yt(re,Ze);if(!(xr>o.maxAllowedDirectionChange)&&!s[Ze.id]){d[Ze.id]||(d[Ze.id]=Ze);var Or=o.distFunc(re,Ze)+(isNaN(o.penalties[xr])?o.gridSize:o.penalties[xr]),Tr=D[re.id]+Or;D[Ze.id]&&Tr>=D[Ze.id]||(L[Ze.id]=re.id,D[Ze.id]=Tr,V[Ze.id]=Tr+zx(Ze,c,o.distFunc))}}}Rt-=1};Object.keys(d).length>0&&Rt>0;){var te=Zt();if(cu(te)==="object")return te.value;if(te==="break")break}return o.fallbackRoute(e,t,r,n,o)};gi.registerEdge("polyline",{options:{color:hr.defaultEdge.color,size:hr.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:hr.defaultEdge.style.stroke,lineAppendWidth:hr.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:hr.edgeLabel.style.fill,fontSize:hr.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:ue({},hr.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e);r.radius===0&&delete r.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:r});return n},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=(0,u.mix)({},t,r,e.style);e=this.getPathPoints(e),this.radius=n.radius,this.offset=n.offset;var a=e.startPoint,o=e.endPoint,s=this.getControlPoints(e),l=[a];s&&(l=l.concat(s)),l.push(o);var f=e.sourceNode,h=e.targetNode,c=n.radius,d=this.options.routeCfg;d.offset=n.offset;var b=this.getPath(l,f,h,c,d);((0,u.isArray)(b)&&b.length<=1||(0,u.isString)(b)&&b.indexOf("L")===-1)&&(b="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(b="M0 0, L0 0");var L=(0,u.mix)({},hr.defaultEdge.style,n,{lineWidth:e.size,path:b});return L},updateShapeStyle:function(e,t){var r=t.getContainer(),n={stroke:e.color},a=r.find(function(K){return K.get("className")==="edge-shape"})||t.getKeyShape(),o=e.size;e=this.getPathPoints(e);var s=e.startPoint,l=e.endPoint,f=this.getControlPoints(e),h=[s];f&&(h=h.concat(f)),h.push(l);var c=(0,u.mix)({},n,a.attr(),e.style),d=e.sourceNode,b=e.targetNode,L=c.radius,D=this.options.routeCfg;D.offset=c.offset;var V=this.getPath(h,d,b,L,D);((0,u.isArray)(V)&&V.length<=1||(0,u.isString)(V)&&V.indexOf("L")===-1)&&(V="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(V="M0 0, L0 0");var $=(0,u.mix)(n,a.attr(),{lineWidth:o,path:V},e.style);a&&a.attr($)},getPath:function(e,t,r,n,a){var o=a.offset;if(!o||e.length>2){if(n)return Yx(e,n);var s=[];return(0,u.each)(e,function(c,d){d===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=Vx(e[0],e[e.length-1],t,r,a);var f=Yx(l,n);return f}l=Vx(e[0],e[e.length-1],t,r,a);var h=Tm(l);return h}},"single-edge");var R6={triangle:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,a="M "+n+",0 L "+(n+t)+",-"+e/2+" L "+(n+t)+","+e/2+" Z";return a},vee:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=20),r===void 0&&(r=0);var n=r*2,a="M "+n+",0 L "+(n+t)+",-"+e/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+e/2+" Z";return a},circle:function(e,t){e===void 0&&(e=5),t===void 0&&(t=0);var r=t*2,n="M "+r+`, 0
            a `+e+","+e+" 0 1,0 "+e*2+`,0
            a `+e+","+e+" 0 1,0 "+-e*2+",0";return n},rect:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=10),r===void 0&&(r=0);var n=r*2,a="M "+n+","+-e/2+` 
        L `+(n+t)+","+-e/2+` 
        L `+(n+t)+","+e/2+` 
        L `+n+","+e/2+" Z";return a},diamond:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-e/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+e/2+" Z";return a},triangleRect:function(e,t,r,n,a,o){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,f="M "+s+",0 L "+(s+t)+",-"+e/2+" L "+(s+t)+","+e/2+` Z
            M `+l+", -"+r/2+`
            L `+(l+n)+" -"+r/2+`
            L `+(l+n)+" "+r/2+`
            L `+l+" "+r/2+`
            Z`;return f}},N6={collapse:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e+r-4,t]]},expand:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e-r+2*r-4,t],["M",e-r+r,t-r+4],["L",e,t+r-4]]},upTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),a=r*Math.sin(Math.PI/6);return[["M",e-n,t+a],["L",e+n,t+a],["L",e,t-r],["Z"]]},downTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),a=r*Math.sin(Math.PI/6);return[["M",e-n,t-a],["L",e+n,t-a],["L",e,t+r],["Z"]]}},Uo=gi,Y6={mat3:Ia.wO,mix:bs.default,deepMix:Xi.default,transform:Ia.vs},G6=ue(ue(ue(ue(ue(ue({},Y6),Tt),kt),ht),xt),Ot),z6=G6,X6=function(){function i(e){this._cfgs=(0,Xi.default)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var r=t.getEvents(),n={};(0,Un.default)(r,function(a,o){var s=(0,zl.default)(t,a);n[o]=s,e.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(e){return this._cfgs[e]},i.prototype.set=function(e,t){this._cfgs[e]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,Un.default)(t,function(r,n){e.off(n,r)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Na=X6,Hx="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",V6=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{img:Hx}},e.prototype.init=function(){var t=this.get("graph"),r=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||Hx,f=(0,Ci.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,Ci.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);f.appendChild(h),(0,Qn.Z)(f,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,Qn.Z)(h,{width:o/r+"px",height:s/r+"px",left:"0px",top:"0px"}),n.insertBefore(f,a),this.set("container",f),this.set("gridContainer",h)},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var r=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,Qn.Z)(r,{transform:a})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph"),r=t.get("container"),n=this.get("container");r.removeChild(n)},e}(Na),H6=V6,W6=v(38186),Xh=v.n(W6);Xh()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var j6=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(r){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(r){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},e.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),r=(0,Ci.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,Qn.Z)(r,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(r),this.set("menu",r)},e.prototype.onMenuShow=function(t){var r=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){r.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),f=s(t,l);(0,zn.default)(f)?o.innerHTML=f:o.innerHTML=f.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(te){h(te.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var d=l.get("width"),b=l.get("height"),L=o.getBoundingClientRect(),D=this.get("offsetX")||0,V=this.get("offsetY")||0,$=l.getContainer().offsetTop,K=l.getContainer().offsetLeft,yt=t.canvasX+K+D,wt=t.canvasY+$+V;yt+L.width>d&&(yt=t.canvasX-L.width-D+K),wt+L.height>b&&(wt=t.canvasY-L.height-V+$),(0,Qn.Z)(o,{top:wt+"px",left:yt+"px",visibility:"visible"});var Rt=function(te){r.onMenuHide()};document.body.addEventListener("click",Rt),this.set("handler",Rt)}}}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),r=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}r&&document.body.removeEventListener("click",r)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,Qn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var r=this.get("container");r||(r=this.get("graph").get("container")),r.removeChild(t)}},e}(Na),U6=j6,Wx=Math.max,Z6="default",K6="keyShape",$6="delegate",jx="svg",Q6=function(i){ii(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,u.debounce)(function(r){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.size,a=r.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,Ci.Z)(`
      <div
        class=`+r.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),f=0,h=0,c=!1,d=0,b=0,L=0,D=0,V=0,$=0;l.addEventListener("dragstart",function(K){if(K.dataTransfer){var yt=new Image;yt.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",K.dataTransfer.setDragImage(yt,0,0),K.dataTransfer.setData("text","view-port-minimap")}if(r.refresh=!1,K.target===l){var wt=l.style;d=parseInt(wt.left,10),b=parseInt(wt.top,10),L=parseInt(wt.width,10),D=parseInt(wt.height,10),!(L>n[0]||D>n[1])&&($=a.getZoom(),V=t.get("ratio"),c=!0,f=K.clientX,h=K.clientY)}},!1),l.addEventListener("drag",function(K){if(!(!c||(0,Bi.default)(K.clientX)||(0,Bi.default)(K.clientY))){var yt=f-K.clientX,wt=h-K.clientY;(d-yt<0||d-yt+L>=n[0])&&(yt=0),(b-wt<0||b-wt+D>=n[1])&&(wt=0),d-=yt,b-=wt,(0,Qn.Z)(l,{left:d+"px",top:b+"px"}),a.translate(yt*$/V,wt*$/V),f=K.clientX,h=K.clientY}},!1),l.addEventListener("dragend",function(){c=!1,r.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),f=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),d=s.getPointByCanvas(f,h),b=this.get("viewport");b||this.initViewport();var L=s.getZoom(),D=(d.x-c.x)*t,V=(d.y-c.y)*t,$=c.x*t+a,K=c.y*t+o,yt=$+D,wt=K+V;$<0&&(D+=$,$=0),yt>l[0]&&(D=D-(yt-l[0])),K<0&&(V+=K,K=0),wt>l[1]&&(V=V-(wt-l[1])),this.set("ratio",t);var Rt=$+"px",Zt=K+"px";(0,Qn.Z)(b,{left:Rt,top:Zt,width:D+"px",height:V+"px"})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,r=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),r.clear(),r.add(a);var o=t.get("renderer");o===jx&&this.updateVisible(a)}},e.prototype.updateVisible=function(t){var r=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),r.updateVisible(a)})}},e.prototype.updateKeyShapes=function(){var t=this,r=this._cfgs.graph;(0,Un.default)(r.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Un.default)(r.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},e.prototype.updateOneNodeKeyShape=function(t){var r=this.get("canvas"),n=r.get("children")[0]||r.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),f=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(f,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},e.prototype.updateDelegateShapes=function(){var t=this,r=this._cfgs.graph;(0,Un.default)(r.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Un.default)(r.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},r=Object.keys(t);if(!(!r||r.length===0))for(var n=r.length-1;n>=0;n--){var a=t[r[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[r[n]])}},e.prototype.updateOneEdgeKeyShape=function(t){var r=this.get("canvas"),n=r.get("children")[0]||r.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},e.prototype.updateOneNodeDelegateShape=function(t){var r=this.get("canvas"),n=r.get("children")[0]||r.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var f={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(f)}else s=n.addShape("rect",{attrs:ue({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,Ci.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,zn.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):r.get("container").appendChild(s),t.set("container",s);var l=(0,Ci.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var f,h=r.get("renderer");h===jx?f=new ms.Z({container:l,width:n[0],height:n[1]}):f=new To.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",f),t.updateCanvas()},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case Z6:this.updateGraphShapes();break;case K6:this.updateKeyShapes();break;case $6:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var f=l.getCanvasBBox(),h=r.get("canvas").getBBox(),c=h.width,d=h.height;Number.isFinite(f.width)&&(c=Wx(f.width,c),d=Wx(f.height,d)),c+=2*s,d+=2*s;var b=Math.min(n[0]/c,n[1]/d),L=[1,0,0,0,1,0,0,0,1],D=0,V=0;Number.isFinite(f.minX)&&(D=-f.minX),Number.isFinite(f.minY)&&(V=-f.minY);var $=(n[0]-(c-2*s)*b)/2,K=(n[1]-(d-2*s)*b)/2;L=Fa(L,[["t",D,V],["s",b,b],["t",$,K]]),l.setMatrix(L),this.set("ratio",b),this.set("totaldx",$+D*b),this.set("totaldy",K+V*b),this.set("dx",$),this.set("dy",K),this.updateViewport()}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},e}(Na),J6=Q6;function Ya(i,e,t){var r=i.x-e.x,n=i.y-e.y;return!t||Math.abs(r)>t||Math.abs(n)>t?Math.sqrt(r*r+n*n):t}function q6(i,e){return i.x*e.x+i.y*e.y}function Ux(i,e){var t=(e.source.y-e.target.y)/(e.source.x-e.target.x),r=(t*t*e.source.x+t*(i.y-e.source.y)+i.x)/(t*t+1),n=t*(r-e.source.x)+e.source.y;return{x:r,y:n}}var t4=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),r=this.get("onTick"),n=function(){r&&r(),t.refreshPositions()};this.set("tick",n)},e.prototype.bundling=function(t){var r=this;if(r.set("data",t),!r.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(wt){(wt.x===null||!wt.y===null||wt.x===void 0||!wt.y===void 0)&&(s=!0),o[wt.id]=wt}),s)throw new Error("please layout the graph or assign x and y for nodes first");r.set("nodeIdMap",o);var l=r.get("divisions"),f=r.get("divRate"),h=r.divideEdges(l);r.set("edgePoints",h);var c=r.getEdgeBundles();r.set("edgeBundles",c);for(var d=r.get("cycles"),b=r.get("iterations"),L=r.get("iterRate"),D=r.get("lambda"),V=0;V<d;V++){for(var $=function(Rt){var Zt=[];n.forEach(function(te,oe){if(te.source!==te.target){var re=o[te.source],ye=o[te.target];Zt[oe]=r.getEdgeForces({source:re,target:ye},oe,l,D);for(var Pe=0;Pe<l+1;Pe++)h[oe][Pe].x+=Zt[oe][Pe].x,h[oe][Pe].y+=Zt[oe][Pe].y}})},K=0;K<b;K++)$(K);D=D/2,l*=f,b*=L,h=r.divideEdges(l),r.set("edgePoints",h)}n.forEach(function(wt,Rt){wt.source!==wt.target&&(wt.shape="polyline",wt.type="polyline",wt.controlPoints=h[Rt].slice(1,h[Rt].length-1))});var yt=r.get("graph");yt.refresh()}},e.prototype.updateBundling=function(t){var r=this,n=t.data;if(n&&r.set("data",n),r.get("ticking")&&r.set("ticking",!1),Object.keys(t).forEach(function(o){r.set(o,t[o])}),t.onTick){var a=this.get("graph");r.set("tick",function(){t.onTick(),a.refresh()})}r.bundling(n)},e.prototype.divideEdges=function(t){var r=this,n=r.get("data").edges,a=r.get("nodeIdMap"),o=r.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var f=a[s.source],h=a[s.target];if(t===1)o[l].push({x:f.x,y:f.y}),o[l].push({x:.5*(f.x+h.x),y:.5*(f.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=Ya({x:f.x,y:f.y},{x:h.x,y:h.y}):c=r.getEdgeLength(o[l]);var d=c/(t+1),b=d,L=[{x:f.x,y:f.y}];o[l].forEach(function(D,V){if(V!==0){for(var $=Ya(D,o[l][V-1]);$>b;){var K=b/$,yt={x:o[l][V-1].x,y:o[l][V-1].y};yt.x+=K*(D.x-o[l][V-1].x),yt.y+=K*(D.y-o[l][V-1].y),L.push(yt),$-=b,b=d}b-=$}}),L.push({x:h.x,y:h.y}),o[l]=L}}),o},e.prototype.getEdgeLength=function(t){var r=0;return t.forEach(function(n,a){a!==0&&(r+=Ya(n,t[a-1]))}),r},e.prototype.getEdgeBundles=function(){var t=this,r=t.get("data"),n=r.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,f){(!s[f]||s[f]===void 0)&&(s[f]=[])}),n.forEach(function(l,f){var h=o[l.source],c=o[l.target];n.forEach(function(d,b){if(!(b<=f)){var L=o[d.source],D=o[d.target],V=t.getBundleScore({source:h,target:c},{source:L,target:D});V>=a&&(s[f].push(b),s[b].push(f))}})}),s},e.prototype.getBundleScore=function(t,r){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,r.vx=r.target.x-r.source.x,r.vy=r.target.y-r.source.y,t.length=Ya({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),r.length=Ya({x:r.source.x,y:r.source.y},{x:r.target.x,y:r.target.y});var a=n.getAngleScore(t,r),o=n.getScaleScore(t,r),s=n.getPositionScore(t,r),l=n.getVisibilityScore(t,r);return a*o*s*l},e.prototype.getAngleScore=function(t,r){var n=q6({x:t.vx,y:t.vy},{x:r.vx,y:r.vy});return n/(t.length*r.length)},e.prototype.getScaleScore=function(t,r){var n=(t.length+r.length)/2,a=2/(n/Math.min(t.length,r.length)+Math.max(t.length,r.length)/n);return a},e.prototype.getPositionScore=function(t,r){var n=(t.length+r.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(r.source.x+r.target.x)/2,y:(r.source.y+r.target.y)/2},s=Ya(a,o);return n/(n+s)},e.prototype.getVisibilityScore=function(t,r){var n=this.getEdgeVisibility(t,r),a=this.getEdgeVisibility(r,t);return n<a?n:a},e.prototype.getEdgeVisibility=function(t,r){var n=Ux(r.source,t),a=Ux(r.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Ya(o,s)/Ya(n,a))},e.prototype.getEdgeForces=function(t,r,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),f=l/(Ya(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var d={x:0,y:0},b=o.getSpringForce({pre:s[r][c-1],cur:s[r][c],next:s[r][c+1]},f),L=o.getElectrostaticForce(c,r);d.x=a*(b.x+L.x),d.y=a*(b.y+L.y),h.push(d)}return h.push({x:0,y:0}),h},e.prototype.getSpringForce=function(t,r){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=r,a*=r,{x:n,y:a}},e.prototype.getElectrostaticForce=function(t,r){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[r],f={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[r][t].x,y:s[h][t].y-s[r][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var d=Ya(s[h][t],s[r][t]),b=1/d;f.x+=c.x*b,f.y+=c.y*b}}),f},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},e}(Na),e4=t4,vu=.05,Zx={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},r4=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,hi.d9)(Zx),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},e.prototype.init=function(){var t=this,r=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",r*r);var n=t.get("d");t.set("molecularParam",(n+1)*r)},e.prototype.createDelegate=function(t){var r=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){r.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),a,o=r.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-vu:a=1/(1-vu);var f=r.get("maxR"),h=r.get("minR"),c=r.get("r");(c>(f||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,r.set("r",c),r.set("r2",c*c);var d=r.get("d");r.set("molecularParam",(d+1)*c),r.set("delegateCenterDiff",void 0),r.magnify(t,l)}},e.prototype.scaleRByDrag=function(t){var r=this;if(!!t){var n=r.get("dragPrePos"),a=r.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-vu:o=1/(1-vu);var l=r.get("maxR"),f=r.get("minR"),h=r.get("r");(h>(l||a.get("height"))&&o>1||h<(f||a.get("height")*.05)&&o<1)&&(o=1),h*=o,r.set("r",h),r.set("r2",h*h);var c=r.get("d");r.set("molecularParam",(c+1)*h),r.magnify(t,s),r.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var r=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=r.get("d"),o=a+n,s=r.get("maxD"),l=r.get("minD");if(o<s&&o>l){r.set("d",o);var f=r.get("r");r.set("molecularParam",(o+1)*f);var h=r.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;r.set("delegateCenterDiff",void 0),r.magnify(t,c)}}},e.prototype.scaleDByDrag=function(t){var r=this,n=r.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=r.get("d"),s=o+a,l=r.get("maxD"),f=r.get("minD");if(s<l&&s>f){r.set("d",s);var h=r.get("r");r.set("molecularParam",(s+1)*h),r.magnify(t)}r.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,r){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),f=n.get("r"),h=n.get("r2"),c=n.get("d"),d=n.get("molecularParam"),b=a.getNodes(),L=b.length,D=r?{x:r.x,y:r.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(D=n.get("cacheCenter"));var V=n.get("delegateCenterDiff");V&&(D.x+=V.x,D.y+=V.y),n.updateDelegate(D,f);for(var $=0;$<L;$++){var K=b[$].getModel(),yt=K.x,wt=K.y;if(!(isNaN(yt)||isNaN(wt))){var Rt=(yt-D.x)*(yt-D.x)+(wt-D.y)*(wt-D.y);if(!isNaN(Rt)&&Rt<h&&Rt!==0){var Zt=Math.sqrt(Rt),te=d*Zt/(c*Zt+f),oe=(yt-D.x)/Zt,re=(wt-D.y)/Zt;if(K.x=oe*te+D.x,K.y=re*te+D.y,s[K.id]||(s[K.id]={x:yt,y:wt,texts:[]}),o.push(K),l&&2*Zt<f)for(var ye=b[$],Pe=ye.getContainer(),ze=Pe.getChildren(),je=ze.length,Qe=0;Qe<je;Qe++){var Ze=ze[Qe];Ze.get("type")==="text"&&(s[K.id].texts.push({visible:Ze.get("visible"),shape:Ze}),Ze.set("visible",!0))}}}}a.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,r=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=r.length,o=0;o<a;o++){var s=r[o],l=s.id,f=n[l];s.x=f.x,s.y=f.y;for(var h=f.texts.length,c=0;c<h;c++){var d=f.texts[c];d.shape.set("visible",d.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var r=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,f=t.minR,h=t.maxR,c=t.scaleDBy,d=t.scaleRBy;isNaN(t.r)||(r.set("r",n),r.set("r2",n*n)),isNaN(a)||r.set("d",a),isNaN(l)||r.set("maxD",l),isNaN(s)||r.set("minD",s),isNaN(h)||r.set("maxR",h),isNaN(f)||r.set("minR",f);var b=r.get("d"),L=r.get("r");if(r.set("molecularParam",(b+1)*L),(o==="mousemove"||o==="click"||o==="drag")&&r.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){r.set("scaleDBy",c),r.get("delegate").remove(),r.get("delegate").destroy();var D=r.get("dPercentText");D&&(D.remove(),D.destroy())}if(d==="drag"||d==="wheel"||d==="unset"){r.set("scaleRBy",d),r.get("delegate").remove(),r.get("delegate").destroy();var D=r.get("dPercentText");D&&(D.remove(),D.destroy())}},e.prototype.updateDelegate=function(t,r){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),f=a.get("delegateStyle")||Zx;s=l.addShape("circle",{attrs:ue({r:r/1.5,x:t.x,y:t.y},f),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(L){a.scaleRByWheel(L)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(L){a.set("dragging",!0),a.set("cacheCenter",{x:L.x,y:L.y}),a.set("dragPrePos",{x:L.x,y:L.y})}),s.on("drag",function(L){a.scaleRByDrag(L)}),s.on("dragend",function(L){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(L){n.scaleDByWheel(L)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(L){a.set("dragging",!0),a.set("cacheCenter",{x:L.x,y:L.y}),a.set("dragPrePos",{x:L.x,y:L.y})}),s.on("drag",function(L){n.scaleDByDrag(L)}),s.on("dragend",function(L){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:r/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),d=t.y+r/1.5+16;if(!c||c.destroyed){var b=o.get("group");c=b.addShape("text",{attrs:{text:h+"%",x:t.x,y:d,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:d})}a.set("delegate",s)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var r=this.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Na),n4=r4;Xh()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var i4=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(r){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},e.prototype.init=function(){var t=this,r=this.get("graph"),n=this.get("getContent"),a=n(r),o=a;(0,hi.HD)(a)&&(o=(0,Ci.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var f=this.get("handleClick");o.addEventListener("click",function(c){var d=c.path.filter(function(L){return L.nodeName==="LI"});if(d.length!==0){var b=d[0].getAttribute("code");!b||(f?f(b,r):t.handleDefaultOperator(b,r))}});var h=this.get("position");h&&(0,Qn.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),r=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!r||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,f=s.redoStack,h=l.length,c=f.length;h===1?(r.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},e.prototype.undo=function(){var t=this.get("graph"),r=t.getUndoStack();if(!(!r||r.length===0)){var n=r.pop();if(n){var a=n.action;t.pushStack(a,(0,hi.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=t.findById(f.id);f.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.updateItem(f.id,f,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=f.itemType;delete f.itemType,t.addItem(h,f,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.removeItem(f.id,!1)})});break;default:}}}},e.prototype.redo=function(){var t=this.get("graph"),r=t.getRedoStack();if(!(!r||r.length===0)){var n=r.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,hi.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=t.findById(f.id);f.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.updateItem(f.id,f,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=f.itemType;delete f.itemType,t.addItem(h,f,!1)})});break}default:}}}},e.prototype.handleDefaultOperator=function(t,r){var n=r.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;r.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;r.zoomTo(n*.9);break}case"realZoom":r.zoomTo(1);break;case"autoZoom":r.fitView([20,20]);break;default:}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),r.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},e}(Na),a4=i4;Xh()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var o4=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(r){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+r.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+r.item.getID()+`</span>
        `},shouldBegin:function(r){return!0},itemTypes:["node","edge","combo"]}},e.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",r=(0,Ci.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,Qn.Z)(r,{position:"absolute",visibility:"hidden"}),n.appendChild(r),this.set("tooltip",r)},e.prototype.onMouseEnter=function(t){var r=this.get("itemTypes");if(!(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var r=this.get("itemTypes");t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.showTooltip=function(t){if(!!t.item){var r=this.get("itemTypes");if(!(t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,zn.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,Qn.Z)(t,{visibility:"hidden"})},e.prototype.updatePosition=function(t){var r=this.get("shouldBegin"),n=this.get("tooltip");if(!r(t)){(0,Qn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,f=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),d=c.x,b=c.y;d+=l,b+=f;var L=n.getBoundingClientRect();d+L.width>o&&(d=d-L.width-l),b+L.height>s&&(b=b-L.height-f),(0,Qn.Z)(n,{left:d+"px",top:b+"px",visibility:"visible"})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),r.removeChild(t)}},e}(Na),s4=o4,Kx=v(89539);function l4(i){return(0,u.map)(i,function(e,t){var r=t===0?"M":"L",n=e[0],a=e[1];return[r,n,a]})}function $x(i){return l4(i)}function u4(i){if(i.length<=2)return $x(i);var e=[];(0,u.each)(i,function(o){(0,u.isEqual)(o,e.slice(e.length-2))||e.push(o[0],o[1])});var t=Is.catmullRom2Bezier(e,!1),r=(0,u.head)(i),n=r[0],a=r[1];return t.unshift(["M",n,a]),t}function f4(i,e,t,r){r===void 0&&(r=!0);var n=new fn.Linear({values:i}),a=new fn.Category({values:(0,u.map)(i,function(s,l){return l})}),o=(0,u.map)(i,function(s,l){return[a.scale(l)*e,t-n.scale(s)*t]});return r?u4(o):$x(o)}function h4(i,e,t){for(var r=new fn.Linear({values:i}),n=new fn.Category({values:(0,u.map)(i,function(c,d){return d})}),a=(0,u.map)(i,function(c,d){return[n.scale(d)*e,t-r.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],f={x:l[0],y:l[1],y0:t,size:5},h=d4(f);o.push.apply(o,h)}return p4(o)}function c4(i,e){var t=new fn.Linear({values:i}),r=Math.max(0,t.min);return e-t.scale(r)*e}function v4(i,e,t,r){var n=vs(i),a=c4(r,t);return n.push(["L",e,a]),n.push(["L",0,a]),n.push(["Z"]),n}function d4(i){var e=i.x,t=i.y,r=i.y0,n=i.size,a,o;(0,Kx.isArray)(t)?(a=t[0],o=t[1]):(a=r,o=t);var s,l;(0,Kx.isArray)(e)?(s=e[0],l=e[1]):(s=e-n/2,l=e+n/2);var f=[{x:s,y:a},{x:s,y:o}];return f.push({x:l,y:o},{x:l,y:a}),f}function p4(i,e){e===void 0&&(e=!0);var t=[],r=i[0];t.push(["M",r.x,r.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return e&&(t.push(["L",r.x,r.y]),t.push(["z"])),t}var zG={opacity:.5},g4={stroke:"#C5C5C5",strokeOpacity:.85},y4={fill:"#CACED4",opacity:.85},m4=function(){function i(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.width,s=o===void 0?200:o,l=e.height,f=l===void 0?26:l,h=e.smooth,c=h===void 0?!0:h,d=e.isArea,b=d===void 0?!1:d,L=e.data,D=L===void 0?[]:L,V=e.lineStyle,$=e.areaStyle,K=e.group,yt=e.interval,wt=yt===void 0?null:yt;this.group=K,this.x=r,this.y=a,this.width=s,this.height=f,this.data=D,this.smooth=c,this.isArea=b,this.lineStyle=Object.assign({},g4,V),this.areaStyle=Object.assign({},y4,$),this.intervalConfig=wt,this.renderLine()}return i.prototype.renderLine=function(){var e=this,t=e.x,r=e.y,n=e.width,a=e.height,o=e.data,s=e.smooth,l=e.isArea,f=e.backgroundStyle,h=e.lineStyle,c=e.areaStyle,d=this.group.addGroup({name:"trend-group"});if(o){var b=f4(o,n,a,s);if(d.addShape("path",{attrs:ue({path:b},h)}),l){var L=v4(b,n,a,o);d.addShape("path",{attrs:ue({path:L},c)})}}this.intervalConfig&&d.addShape("path",{attrs:ue({path:h4(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),d.move(t,r)},i.prototype.destory=function(){this.group.destroy()},i}(),x4=m4,b4={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},w4={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},S4=function(){function i(e){var t=e.group,r=e.name,n=e.type,a=e.x,o=a===void 0?0:a,s=e.y,l=s===void 0?0:s,f=e.width,h=f===void 0?2:f,c=e.height,d=c===void 0?24:c,b=e.style,L=b===void 0?{}:b;this.group=t,this.name=r,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=d,n==="trend"?this.style=ue(ue({},b4),L):n==="simple"&&(this.style=ue(ue({},w4),L)),this.renderHandle()}return i.prototype.setX=function(e){this.setXY(e,void 0)},i.prototype.setY=function(e){this.setXY(void 0,e)},i.prototype.setXY=function(e,t){(0,u.isNumber)(e)&&(this.x=e),(0,u.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var e=this,t=e.width,r=e.height,n=e.style,a=e.name,o=n.fill,s=n.stroke,l=n.radius,f=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:r,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r/2,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r/2,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var e=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var r=e.style.highLightFill;e.background.attr("fill",r)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var r=e.style.fill;e.background.attr("fill",r)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),Qx=S4,M4=function(){function i(e){this.config=(0,u.deepMix)({},e),this.init()}return i.prototype.update=function(e){this.config=(0,u.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var e=this.config,t=e.group,r=e.style;this.circle=t.addShape("circle",{attrs:ue({x:this.config.x,y:this.config.y,r:this.config.r},r)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var e=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",e),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",e),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var e=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-e/Math.sqrt(3)/2,this.config.y-e/2],["L",this.config.x+e/Math.sqrt(3),this.config.y],["L",this.config.x-e/Math.sqrt(3)/2,this.config.y+e/2]]},i}(),C4=M4,E4="#ccc",A4="green",T4={fill:"#607889",stroke:"#607889"},P4={fill:"#fff"},_4={fill:"green"},O4={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Ts=110,Ga=50,L4=function(){function i(e){this.controllerCfg=(0,u.deepMix)({},O4,e),this.group=e.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e+r,t],["L",e,t+r]]},i.prototype.getPreMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e-r,t],["L",e,t+r]]},i.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,r=e.height,n=e.x,a=e.y,o=e.hiddleToggle,s=e.fill,l=s===void 0?E4:s,f=e.stroke,h=f===void 0?A4:f,c=e.playBtnStyle,d=c===void 0?T4:c,b=e.preBtnStyle,L=b===void 0?P4:b,D=e.nextBtnStyle,V=D===void 0?_4:D,$=r/2-5,K=a+10,yt=this.group.addShape("rect",{attrs:{x:n,y:K,width:t,height:r,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:K,r:$}):this.playButton=new C4({group:this.group,x:t/2,y:K+$+5,r:$,isPlay:this.isPlay,style:d}),this.group.addShape("path",{attrs:ue({path:this.getPreMarkerPath(t/2-5*$,K+$+5,$*.5)},L),name:"preStepBtn"}),this.group.addShape("path",{attrs:ue({path:this.getPreMarkerPath(t/2-4.5*$,K+$+5,$*.5)},L),name:"preStepBtn"}),this.group.addShape("path",{attrs:ue({path:this.getNextMarkerPath(t/2+5*$,K+$+5,$*.5)},V),name:"nextStepBtn"}),this.group.addShape("path",{attrs:ue({path:this.getNextMarkerPath(t/2+4.5*$,K+$+5,$*.5)},V),name:"nextStepBtn"}),yt.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,r=e.width,n=e.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,f=0;f<5;f++){var h=t+15+f*(f+1)+o;a.addShape("rect",{attrs:{x:r-(n?Ga:Ts),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var f=0;f<4;f++)a.addShape("rect",{attrs:{x:r-(n?Ga:Ts),y:this.speedAxisY[f]+2,width:15,height:2*f+1,fill:"#fff",opacity:.3},speed:s[f]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:r-(n?Ga:Ts)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(r-(n?Ga:Ts),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(e,t){return[["M",e,t],["L",e-12,t-6],["L",e-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var e=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:e-Ga,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",e-Ga+3,this.speedAxisY[1]+6],["L",e-Ga+7,this.speedAxisY[1]+10],["L",e-Ga+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:e-Ga+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var e=this,t=this.controllerCfg,r=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){e.speedPoint.attr("path",e.getPath(r-(n?Ga:Ts),a.y)),e.currentSpeed=a.target.get("speed"),e.speedText.attr("text",e.currentSpeed+".0X"),e.group.emit("timebarConfigChanged",{speed:e.currentSpeed,type:e.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(e.checkedIcon.hide(),e.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),e.currentType="single"),a.target.set("isChecked",!o),e.group.emit("timebarConfigChanged",{type:e.currentType,speed:e.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),Jx=L4,qx="timelinestart",t1="timelineend",za="valueChange",du="timebarConfigChanged",pu="playPauseBtn",gu="nextStepBtn",yu="preStepBtn",I4={fill:"#416180",opacity:.05},k4={fill:"#416180",opacity:.15,radius:5},B4={fill:"#5B8FF9",opacity:.3,cursor:"move"},Vh=2,D4={width:Vh,height:24},F4={textBaseline:"middle",fill:"#000",opacity:.45},R4=function(){function i(e){var t=this;this.prevX=0,this.onMouseDown=function(br){return function(qr){t.currentHandler=br;var Gr=qr.originalEvent;Gr.stopPropagation(),Gr.preventDefault(),t.prevX=(0,u.get)(Gr,"touches.0.pageX",Gr.pageX);var Kr=t.canvas.get("container");Kr.addEventListener("mousemove",t.onMouseMove),Kr.addEventListener("mouseup",t.onMouseUp),Kr.addEventListener("mouseleave",t.onMouseUp),Kr.addEventListener("touchmove",t.onMouseMove),Kr.addEventListener("touchend",t.onMouseUp),Kr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(br){br.stopPropagation(),br.preventDefault();var qr=(0,u.get)(br,"touches.0.pageX",br.pageX),Gr=qr-t.prevX,Kr=t.adjustOffsetRange(Gr/t.width);t.updateStartEnd(Kr),t.updateUI(),t.prevX=qr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var br=t.canvas.get("container");br&&(br.removeEventListener("mousemove",t.onMouseMove),br.removeEventListener("mouseup",t.onMouseUp),br.removeEventListener("mouseleave",t.onMouseUp),br.removeEventListener("touchmove",t.onMouseMove),br.removeEventListener("touchend",t.onMouseUp),br.removeEventListener("touchcancel",t.onMouseUp))};var r=e.x,n=r===void 0?0:r,a=e.y,o=a===void 0?0:a,s=e.width,l=s===void 0?100:s,f=e.height,h=e.padding,c=h===void 0?10:h,d=e.trendCfg,b=e.controllerCfg,L=b===void 0?{speed:1}:b,D=e.backgroundStyle,V=D===void 0?{}:D,$=e.foregroundStyle,K=$===void 0?{}:$,yt=e.handlerStyle,wt=yt===void 0?{}:yt,Rt=e.textStyle,Zt=Rt===void 0?{}:Rt,te=e.start,oe=te===void 0?0:te,re=e.end,ye=re===void 0?1:re,Pe=e.minText,ze=Pe===void 0?"":Pe,je=e.maxText,Qe=je===void 0?"":je,Ze=e.group,xr=e.graph,Or=e.canvas,Tr=e.ticks,Mr=e.type;this.graph=xr,this.canvas=Or,this.group=Ze,this.timeBarType=Mr,this.x=n,this.y=o,this.width=l,this.height=f,this.padding=c,this.ticks=Tr,this.trendCfg=d,this.controllerCfg=L,this.currentSpeed=L.speed,Mr==="trend"?this.backgroundStyle=ue(ue({},I4),V):Mr==="simple"&&(this.backgroundStyle=ue(ue({},k4),V)),this.foregroundStyle=ue(ue({},B4),K),this.handlerStyle=ue(ue({},D4),wt),this.textStyle=ue(ue({},F4),Zt),this.currentMode="range",this.start=oe,this.end=ye,this.minText=ze,this.maxText=Qe,this.renderSlider()}return i.prototype.update=function(e){var t=e.x,r=e.y,n=e.width,a=e.height,o=e.minText,s=e.maxText,l=e.start,f=e.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(f,0)),(0,u.assign)(this,{x:t,y:r,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var e=this,t=this,r=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,u.size)((0,u.get)(this.trendCfg,"data"))){var o=new x4(ue(ue({x:this.x,y:this.y,width:r,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:ue({x:0,y:0,width:r,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:ue({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:ue({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:ue({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:ue({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:ue({x:0,y:this.y,height:n},this.foregroundStyle)});var f=(0,u.get)(this.handlerStyle,"width",2),h=(0,u.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new Qx(ue({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:f,height:h,cursor:"ew-resize"},this.handlerStyle));var d=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new Qx(ue({name:"maxHandlerShape",group:d,type:a,x:this.x,y:this.y,width:f,height:h,cursor:"ew-resize"},this.handlerStyle));var b=this.ticks,L=r/(b.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(V){V.destroy()});var D=-Infinity;this.textList=b.map(function(V,$){e.tickPosList.push(e.x+$*L);var K=e.group.addShape("text",{attrs:{x:e.x+$*L,y:e.y+n+5,text:V,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),yt=e.group.addShape("line",{attrs:{x1:e.x+$*L,y1:e.y+n+2,x2:e.x+$*L,y2:e.y+n+6,lineWidth:1,stroke:"#ccc"}}),wt=K.getBBox();return wt.minX>D?(K.show(),yt.show(),D=wt.minX+wt.width+10):(K.hide(),yt.hide()),K}),this.controllerBtnGroup=new Jx({group:this.group,x:this.x,y:this.y+n+25,width:r,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var e=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var r=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),r.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(pu+":click",function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()}),this.group.on(gu+":click",function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()}),this.group.on(yu+":click",function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()}),this.group.on(du,function(n){var a=n.type,o=n.speed;e.currentSpeed=o,e.currentMode=a,a==="single"?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):a==="range"&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())})},i.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,r=1-this.start;return Math.min(r,Math.max(t,e))}case this.maxHandlerShape:{var t=0-this.end,r=1-this.end;return Math.min(r,Math.max(t,e))}case this.foregroundShape:{var t=0-this.start,r=1-this.end;return Math.min(r,Math.max(t,e))}default:return 0}},i.prototype.updateStartEnd=function(e){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,r=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",r-t);var n=(0,u.get)(this.handlerStyle,"width",Vh);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,r]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,u.each)(o,function(l,f){return e.minTextShape.attr(f,l)}),this.maxHandlerShape.setX(r-n/2),(0,u.each)(s,function(l,f){return e.maxTextShape.attr(f,l)}),this.currentMode==="range"?this.graph.emit(za,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(za,{value:[this.end,this.end]})},i.prototype.dodgeText=function(e){var t,r,n=2,a=(0,u.get)(this.handlerStyle,"width",Vh),o=this.minTextShape,s=this.maxTextShape,l=e[0],f=e[1],h=!1;l>f&&(t=[f,l],l=t[0],f=t[1],r=[s,o],o=r[0],s=r[1],h=!0);var c=o.getBBox(),d=s.getBBox(),b=null,L=null;return this.timeBarType==="trend"?(b=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},L=d.width>this.width-f-n?{x:f-a/2-n,textAlign:"right"}:{x:f+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(b=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},L=d.width>this.width-f-n?{x:f-a/2-n,textAlign:"center"}:{x:f+a/2+n,textAlign:"center"}),h?[L,b]:[b,L]},i.prototype.startPlay=function(){var e=this;return window.requestAnimationFrame(function(){var t=e,r=t.ticks,n=t.width,a=e.currentSpeed,o=n/r.length,s=o/((10-a)*1e3/60),l=e.adjustOffsetRange(s/e.width);e.updateStartEnd(l),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())})},i.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(qx,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(t1,null))},i.prototype.destory=function(){this.graph.off(za);var e=this.group,t=e.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var r=e.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.off("maxHandlerShape-handler:mousedown"),r.off("maxHandlerShape-handler:touchstart"),r.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off(pu+":click"),e.off(gu+":click"),e.off(yu+":click"),e.off(du),e.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),N4=R4,XG={opacity:.5,fill:"#000"},VG={opacity:.5,fill:"#000",r:5},HG={fill:"#fff",fontSize:12},Y4=function(){function i(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.container,s=e.text,l=e.padding,f=l===void 0?[4,4,4,4]:l,h=e.className,c=h===void 0?"g6-component-timebar-tooltip":h,d=e.backgroundColor,b=d===void 0?"#000":d,L=e.textColor,D=L===void 0?"#fff":L,V=e.opacity,$=V===void 0?.8:V,K=e.fontSize,yt=K===void 0?12:K;this.container=o,this.className=c,this.backgroundColor=b,this.textColor=D,this.x=r,this.y=a,this.text=s,this.padding=f,this.opacity=$,this.fontSize=yt,this.render()}return i.prototype.render=function(){var e=this,t=e.className,r=e.x,n=e.y,a=e.backgroundColor,o=e.textColor,s=e.text,l=e.padding,f=e.opacity,h=e.fontSize,c=e.container,d=(0,Ci.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+f+'"></div>');(0,u.isString)(c)&&(c=document.getElementById(c)),c.appendChild(d),e.parentHeight=c.offsetHeight,e.parentWidth=c.offsetWidth,(0,Qn.Z)(d,{visibility:"hidden",top:0,left:0});var b=(0,Ci.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");b.innerHTML=s,d.appendChild(b),e.backgroundDOM=b;var L=(0,Ci.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");d.appendChild(L),e.arrowDOM=L,e.container=d},i.prototype.show=function(e){var t=this,r=e.text,n=e.x,a=e.y,o=e.clientX,s=e.clientY;t.backgroundDOM.innerHTML=r;var l=t.backgroundDOM.offsetWidth,f=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,Qn.Z)(t.container,{top:-f-c+"px",left:n+"px",visibility:"visible"}),(0,Qn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,Qn.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:f+"px"});var d=n-l/2,b=n+l/2;d<0?(0,Qn.Z)(t.backgroundDOM,{marginLeft:-l/2-d+"px"}):b>t.parentWidth&&(0,Qn.Z)(t.backgroundDOM,{marginLeft:-l/2-b+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,Qn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),G4=Y4,z4={fill:"#5B8FF9"},X4={fill:"#e6e8e9"},V4=function(){function i(e){this.frameCount=0;var t=e.graph,r=e.canvas,n=e.group,a=e.width,o=e.height,s=e.padding,l=e.data,f=e.start,h=e.end,c=e.x,d=c===void 0?0:c,b=e.y,L=b===void 0?0:b,D=e.tickLabelFormatter,V=e.selectedTickStyle,$=V===void 0?z4:V,K=e.unselectedTickStyle,yt=K===void 0?X4:K,wt=e.tooltipBackgroundColor,Rt=e.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=r,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=f,this.end=h,this.tickLabelFormatter=D,this.selectedTickStyle=$,this.unselectedTickStyle=yt,this.x=d,this.y=L,this.tooltipBackgroundColor=wt,this.tooltipFomatter=Rt,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var e=this,t=e.width,r=e.height,n=e.padding,a=e.data,o=e.start,s=e.end,l=e.tickLabelFormatter,f=e.selectedTickStyle,h=e.unselectedTickStyle,c=t-2*n,d=10,b=4,L=3*n+b+d,D=r-L-2*n,V=2,$=a.length,K=(c-V*($-1))/$;this.tickWidth=K;var yt=this.sliceGroup,wt=[],Rt=[],Zt=Math.round($*o),te=Math.round($*s);this.startTickRectId=Zt,this.endTickRectId=te,a.forEach(function(re,ye){var Pe=ye>=Zt&&ye<=te,ze=Pe?f:h,je=yt.addShape("rect",{attrs:ue({x:n+ye*(K+V),y:n,width:K,height:D},ze),draggable:!0,name:"tick-rect-"+ye}),Qe=yt.addShape("rect",{attrs:{x:n+ye*K+V*(2*ye-1)/2,y:n,width:ye===0||ye===$-1?K+V/2:K+V,height:D,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+ye});Qe.toFront();var Ze=je.getBBox(),xr=(Ze.minX+Ze.maxX)/2;wt.push({rect:je,pickRect:Qe,value:re.date,x:xr,y:Ze.minY});var Or;if(l?(Or=l(re),!(0,u.isString)(Or)&&Or&&(Or=re.date)):ye%Math.round($/10)==0&&(Or=re.date),Or){Rt.push(Or);var Tr=Ze.maxY+n*2;yt.addShape("line",{attrs:{stroke:"#BFBFBF",x1:xr,y1:Tr,x2:xr,y2:Tr+b}});var Mr=Tr+b+n,br=yt.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:xr,y:Mr,textAlign:"center",text:Or,textBaseline:"top",fontSize:10},capture:!1}),qr=br.getBBox();qr.maxX>t?br.attr("textAlign","right"):qr.minX<0&&br.attr("textAlign","left")}}),this.tickRects=wt;var oe=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Jx({group:oe,x:this.x,y:this.y+r+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var d=parseInt(c.get("name").split("-")[2],10);if(!isNaN(d)){var b=e.tickRects,L=e.unselectedTickStyle;b.forEach(function(K){K.rect.attr(L)});var D=e.selectedTickStyle;b[d].rect.attr(D),e.startTickRectId=d,e.endTickRectId=d;var V=b.length,$=d/V;e.graph.emit(za,{value:[$,$]})}}}),t.on("dragstart",function(h){var c=e.tickRects,d=e.unselectedTickStyle;c.forEach(function(K){K.rect.attr(d)});var b=h.target,L=parseInt(b.get("name").split("-")[2],10),D=e.selectedTickStyle;c[L].rect.attr(D),e.startTickRectId=L;var V=c.length,$=L/V;e.graph.emit(za,{value:[$,$]}),e.dragging=!0}),t.on("dragover",function(h){if(!!e.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),d=e.startTickRectId,b=e.tickRects,L=e.selectedTickStyle,D=e.unselectedTickStyle,V=0;V<b.length;V++){var $=V>=d&&V<=c?L:D;b[V].rect.attr($)}var K=b.length;e.endTickRectId=c;var yt=d/K,wt=c/K;e.graph.emit(za,{value:[yt,wt]})}}),t.on("drop",function(h){if(!!e.dragging&&(e.dragging=!1,h.target.get("type")==="rect")){var c=e.startTickRectId,d=parseInt(h.target.get("name").split("-")[2],10);if(!(d<c)){var b=e.selectedTickStyle,L=e.tickRects;L[d].rect.attr(b),e.endTickRectId=d;var D=L.length,V=c/D,$=d/D;e.graph.emit(za,{value:[V,$]})}}});var r=this,n=r.tooltipBackgroundColor,a=r.tooltipFomatter,o=r.canvas,s=new G4({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(d){var b=d.target;if(b.get("type")==="rect"){var L=parseInt(b.get("name").split("-")[2],10),D=o.getClientByPoint(l[L].x,l[L].y);s.show({x:l[L].x,y:l[L].y,clientX:D.x,clientY:D.y,text:a?a(l[L].value):l[L].value})}}),c.on("mouseleave",function(d){s.hide()})});var f=this.group;f.on(pu+":click",function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),f.on(gu+":click",function(){e.updateStartEnd(1)}),f.on(yu+":click",function(){e.updateStartEnd(-1)}),f.on(du,function(h){var c=h.type,d=h.speed;e.currentSpeed=d})},i.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(qx,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(t1,null))},i.prototype.startPlay=function(){var e=this;return window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)==0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())})},i.prototype.updateStartEnd=function(e){var t=this,r=this.tickRects,n=r.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(e>0?t.endTickRectId++:(r[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)r[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(r[t.endTickRectId]){r[t.endTickRectId].rect.attr(o);var f=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(za,{value:[f,h]})}},i.prototype.destory=function(){this.graph.off(za);var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach(function(t){var r=t.pickRect;r.off("mouseenter"),r.off("mouseleave")}),this.tickRects.length=0,e.off(pu+":click"),e.off(gu+":click"),e.off(yu+":click"),e.off(du),this.sliceGroup.destroy()},i}(),H4=V4,W4=8,j4=26,U4=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},e.prototype.initContainer=function(){var t=this.get("graph"),r=this._cfgs,n=r.width,a=r.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),f;s?f=s:(f=(0,Ci.Z)("<div class='"+o+"'></div>"),(0,Qn.Z)(f,{position:"relative"})),l.appendChild(f),this.set("timeBarContainer",f);var h,c=t.get("renderer");c==="SVG"?h=new ms.Z({container:f,width:n,height:a}):h=new To.Z({container:f,width:n,height:a}),this.set("canvas",h)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas"),r=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",r),this.renderTrend(),this.initEvent()},e.prototype.renderTrend=function(){var t=this._cfgs,r=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,f=t.slider,h=t.controllerCfg,c=l.data,d=Ui(l,["data"]),b=r-2*o,L=s==="trend"?j4:W4,D=this.get("graph"),V=this.get("timeBarGroup"),$=this.get("canvas"),K=null;if(s==="trend"||s==="simple")K=new N4(ue(ue({graph:D,canvas:$,group:V,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:b,height:L,padding:o,trendCfg:ue(ue({},d),{data:c.map(function(wt){return wt.value})})},f),{ticks:c.map(function(wt){return wt.date}),handlerStyle:ue(ue({},f.handlerStyle),{height:f.height||L}),controllerCfg:h}));else if(s==="tick"){var yt=this._cfgs.tick;K=new H4(ue({graph:D,canvas:$,group:V,x:n+o,y:a+o},yt))}this.set("timebar",K)},e.prototype.filterData=function(t){var r=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*r[0]),f=Math.round(n.length*r[1]);f=f>=n.length?n.length-1:f;var h=n[l].date,c=n[f].date;if(a!=="tick"){var d=this.get("timebar");d.setText(h,c)}if(o)o(s,h,c);else{var b=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=b);var L=this.cacheGraphData.nodes.filter(function($){return $.date>=h&&$.date<=c}),D=L.map(function($){return $.id}),V=this.cacheGraphData.edges.filter(function($){return D.includes($.source)&&D.includes($.target)});s.changeData({nodes:L,edges:V})}},e.prototype.initEvent=function(){var t=this,r=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(r=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(r=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[r,n]})}),o.on(za,function(s){t.filterData(s)})},e.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var r=this.get("timeBarContainer");if(r){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(r)}},e}(Na),Z4=U4;function K4(i,e){var t,r;if(i.naturalWidth)t=i.naturalWidth,r=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){e==null||e(n.width,n.height)}}return[t,r]}var $4=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.graph;if(!this.destroyed){var a=this.get("container"),o=(0,Ci.Z)("<div class="+r.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,f=!1,h=0,c=0,d=0,b=0,L=0,D=0;a.addEventListener("mousedown",function(V){if(r.refresh=!1,V.target===o){var $=o.style;d=parseInt($.width,10),b=parseInt($.height,10);var K=t.get("width"),yt=t.get("height");d>K||b>yt||(D=n.getZoom(),L=t.get("ratio"),f=!0,s=V.clientX,l=V.clientY)}},!1),a.addEventListener("mousemove",function(V){if(!(!f||(0,Bi.default)(V.clientX)||(0,Bi.default)(V.clientY))){var $=t.get("width"),K=t.get("height"),yt=o.style;h=parseInt(yt.left,10),c=parseInt(yt.top,10),d=parseInt(yt.width,10),b=parseInt(yt.height,10);var wt=s-V.clientX,Rt=l-V.clientY;h-wt<0?wt=h:h-wt+d>=$&&(wt=0),c-Rt<0?Rt=c:c-Rt+b>=K&&(Rt=0),h-=wt,c-=Rt,(0,Qn.Z)(o,{left:h+"px",top:c+"px"}),n.translate(wt*D/L,Rt*D/L),s=V.clientX,l=V.clientY}},!1),a.addEventListener("mouseleave",function(){f=!1,r.refresh=!0},!1),a.addEventListener("mouseup",function(){f=!1,r.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,f=a.getGroup(),h=f.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],d=[h.maxX-h.minX,h.maxY-h.minY],b={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(b.width=d[0],b.height=b.width/l):(b.height=d[1],b.width=b.height*l),b.minX=c[0]-b.width/2,b.minY=c[1]-b.height/2;var L=f.getMatrix();L||(L=[1,0,0,0,1,0,0,0,1]);var D=Qa.invert([],L),V=ps({x:b.minX,y:b.minY},D),$=a.getCanvasByPoint(V.x,V.y),K=this.get("viewport");K||this.initViewport();var yt=o/b.width,wt=yt*r,Rt=yt*n,Zt=r*-$.x/b.width,te=n*-$.y/b.height,oe=Zt+wt,re=te+Rt;Zt<0&&(wt+=Zt,Zt=0),oe>r&&(wt=wt-(oe-r)),te<0&&(Rt+=te,te=0),re>n&&(Rt=Rt-(re-n)),this.set("ratio",t);var ye=Zt+"px",Pe=te+"px";(0,Qn.Z)(K,{left:ye,top:Pe,width:wt+"px",height:Rt+"px"})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=r.get("width"),a=r.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),f=t.get("width"),h=t.get("height");!f&&!h&&(f=200),f?(h=o*f,t.set("height",h)):(f=1/o*h,t.set("width",f));var c=(0,Ci.Z)("<div class='"+s+"' style='width: "+f+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,zn.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):r.get("container").appendChild(c),t.set("container",c);var d=(0,Ci.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(d);var b=(0,Ci.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');d.appendChild(b),t.set("containerDOM",d),t.set("containerSpan",b);var L=(0,Ci.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",L),t.updateImgSize(),b.appendChild(L),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,r=t.get("imgDOM"),n=t.get("width"),a=t.get("height");r.onload=function(){var o=K4(r);o[0]>o[1]?r.width=n:r.height=a}},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=r.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var r=this,n=r.get("imgDOM");n.remove(),r.set("graphImg",t);var a=(0,Ci.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');r.set("imgDOM",a),a.src=t,r.updateImgSize();var o=r.get("containerSpan");o.appendChild(a),r.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(Na),Q4=$4,e1=.05,r1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},J4=function(i){ii(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,hi.d9)(r1),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},e.prototype.init=function(){var t=this,r=t.get("showLabel"),n=r==="node"||r==="both",a=r==="edge"||r==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var r=this,n=r.get("delegate");(!n||n.destroyed)&&(r.filter(t),n=r.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){r.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){r.scaleRByWheel(a)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),a,o=r.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-e1:a=1/(1-e1);var f=r.get("maxR"),h=r.get("minR"),c=r.get("r");(c>(f||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,r.set("r",c),r.filter(t)}},e.prototype.filter=function(t){var r=this,n=r.get("graph"),a=n.getNodes(),o={},s=r.get("r"),l=r.get("type"),f={x:t.x,y:t.y};r.updateDelegate(f,s);var h=r.get("shouldShow"),c=r.get("vShapes");c&&c.forEach(function($){$.remove(),$.destroy()}),c=[],a.forEach(function($){var K=$.getModel(),yt=K.x,wt=K.y;gs({x:yt,y:wt},f)<s&&(o[K.id]=$)});var d=n.getEdges(),b=[];d.forEach(function($){var K=$.getModel(),yt=K.source,wt=K.target;h(K)&&(l==="only-source"||l==="one"?o[yt]&&!o[wt]&&b.push($):l==="only-target"||l==="one"?o[wt]&&!o[yt]&&b.push($):l==="both"&&o[yt]&&o[wt]&&b.push($))});var L=r.get("showNodeLabel"),D=r.get("showEdgelabel"),V=n.get("group");b.forEach(function($){var K=$.get("group").get("children");K.forEach(function(yt){var wt=yt.get("type"),Rt=V.addShape(wt,{attrs:yt.attr()});c.push(Rt),L&&wt==="text"&&Rt.set("visible",!0)})}),Object.keys(o).forEach(function($){var K=o[$],yt=K.get("group").clone();if(V.add(yt),c.push(yt),D)for(var wt=yt.get("children"),Rt=0;Rt<wt.length;Rt++){var Zt=wt[Rt];Zt.get("type")==="text"&&Zt.set("visible",!0)}}),r.set("vShapes",c)},e.prototype.updateParams=function(t){var r=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,f=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||r.set("r",n),isNaN(s)||r.set("maxR",s),isNaN(o)||r.set("minR",o),(a==="mousemove"||a==="click")&&r.set("trigger",a),l==="wheel"||l==="unset"){r.set("scaleRBy",l),r.get("delegate").remove(),r.get("delegate").destroy();var c=r.get("dPercentText");c&&(c.remove(),c.destroy())}(f==="node"||f==="both")&&r.set("showNodeLabel",!0),(f==="edge"||f==="both")&&r.set("showEdgeLabel",!0),h&&r.set("shouldShow",h)},e.prototype.updateDelegate=function(t,r){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||r1;o=s.addShape("circle",{attrs:ue({r,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(f){n.scaleRByWheel(f)})}else o.attr({x:t.x,y:t.y,r});n.set("delegate",o)},e.prototype.clear=function(){var t=this,r=t.get("vShapes");r&&r.forEach(function(a){a.remove(),a.destroy()}),r=[],t.set("vShapes",r);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Na),q4=J4,$i={Menu:U6,Grid:H6,Minimap:J6,Bundling:e4,ToolBar:a4,Tooltip:s4,Fisheye:n4,TimeBar:Z4,ImageMinimap:Q4,EdgeFilterLens:q4};function t8(i){i===void 0&&(i={});var e=i,t=function(){},r=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return e.allowTraversal=i.allowTraversal||r,e.enter=i.enter||t,e.leave=i.leave||t,e}function n1(i,e,t,r){r.enter({current:e,previous:t}),i.getNeighbors(e,"target").forEach(function(n){r.allowTraversal({previous:t,current:e,next:n})&&n1(i,n,e,r)}),r.leave({current:e,previous:t})}function i1(i,e,t){var r=null,n=i.findById(e);n1(i,n,r,t8(t))}var e8=function(){function i(){this.linkedList=new Ax}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(e){this.linkedList.append(e)},i.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},i.prototype.toString=function(e){return this.linkedList.toString(e)},i}(),r8=e8;function n8(i){i===void 0&&(i={});var e=i,t=function(){},r=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return e.allowTraversal=i.allowTraversal||r,e.enter=i.enter||t,e.leave=i.leave||t,e}var i8=function(e,t,r){var n=n8(r),a=new r8,o=e.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),e.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},a8=i8;function o8(i){for(var e=[],t={},r=[],n=function l(f){r.push(f),t[f.get("id")]=!0;for(var h=f.getNeighbors(),c=0;c<h.length;++c){var d=h[c];t[d.get("id")]||l(d)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];r.length>0;)s.push(r.pop());e.push(s)}}return e}function a1(i){for(var e=[],t={},r={},n={},a=[],o=0,s=function c(d){r[d.get("id")]=o,n[d.get("id")]=o,o+=1,e.push(d),t[d.get("id")]=!0;for(var b=d.getNeighbors("target").filter(function(K){return i.indexOf(K)>-1}),L=0;L<b.length;L++){var D=b[L];!r[D.get("id")]&&r[D.get("id")]!==0?(c(D),n[d.get("id")]=Math.min(n[d.get("id")],n[D.get("id")])):t[D.get("id")]&&(n[d.get("id")]=Math.min(n[d.get("id")],r[D.get("id")]))}if(n[d.get("id")]===r[d.get("id")]){for(var V=[];e.length>0;){var $=e.pop();if(t[$.get("id")]=!1,V.push($),$===d)break}V.length>0&&a.push(V)}},l=0,f=i;l<f.length;l++){var h=f[l];!r[h.get("id")]&&r[h.get("id")]!==0&&s(h)}return a}function o1(i,e){var t=e===void 0?i.get("directed"):e,r=i.getNodes();return t?a1(r):o8(r)}var s8=function(e){var t=null,r={},n={},a={},o={};e.getNodes().forEach(function(f){n[f.getID()]=f});for(var s={enter:function(h){var c=h.current,d=h.previous;if(a[c.getID()]){t={};for(var b=c,L=d;L.getID()!==c.getID();)t[b.getID()]=L,b=L,L=r[L.getID()];t[b.getID()]=L}else a[c.getID()]=c,delete n[c.getID()],r[c.getID()]=d},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];i1(e,l,s)}return t},s1=function(e,t,r){var n,a,o;r===void 0&&(r=!0);for(var s=[],l=o1(e,!1),f=0,h=l;f<h.length;f++){var c=h[f];if(!!c.length)for(var d=c[0],b=d.get("id"),L=[d],D=(n={},n[b]=d,n),V=(a={},a[b]=new Set,a);L.length>0;)for(var $=L.pop(),K=$.get("id"),yt=$.getNeighbors(),wt=0;wt<yt.length;wt+=1){var Rt=yt[wt],Zt=Rt.get("id");if(Zt===K)s.push((o={},o[Rt.getID()]=$,o));else if(!(Zt in V))D[Zt]=$,L.push(Rt),V[Zt]=new Set([$]);else if(!V[K].has(Rt)){for(var te=!0,oe=[Rt,$],re=D[K];V[Zt].size&&!V[Zt].has(re)&&(oe.push(re),re!==D[re.getID()]);)re=D[re.getID()];if(oe.push(re),t&&r?(te=!1,oe.findIndex(function(ze){return t.indexOf(ze.get("id"))>-1})>-1&&(te=!0)):t&&!r&&oe.findIndex(function(ze){return t.indexOf(ze.get("id"))>-1})>-1&&(te=!1),te){for(var ye={},Pe=1;Pe<oe.length;Pe+=1)ye[oe[Pe-1].getID()]=oe[Pe];oe.length&&(ye[oe[oe.length-1].getID()]=oe[0]),s.push(ye)}V[Zt].add($)}}}return s},l1=function(e,t,r){r===void 0&&(r=!0);for(var n=[],a=new Set,o=[],s=[],l={},f={},h=function(ye){for(var Pe=[ye];Pe.length>0;){var ze=Pe.pop();a.has(ze)&&(a.delete(ze),o[ze.get("id")].forEach(function(je){Pe.push(je)}),o[ze.get("id")].clear())}},c=function re(ye,Pe,ze){var je=!1;if(t&&r===!1&&t.indexOf(ye.get("id"))>-1)return je;n.push(ye),a.add(ye);for(var Qe=ze[ye.getID()],Ze=0;Ze<Qe.length;Ze+=1){var xr=l[Qe[Ze]];if(xr===Pe){for(var Or={},Tr=1;Tr<n.length;Tr+=1)Or[n[Tr-1].getID()]=n[Tr];n.length&&(Or[n[n.length-1].getID()]=n[0]),s.push(Or),je=!0}else a.has(xr)||re(xr,Pe,ze)&&(je=!0)}if(je)h(ye);else for(var Ze=0;Ze<Qe.length;Ze+=1){var xr=l[Qe[Ze]];o[xr.get("id")].has(ye)||o[xr.get("id")].add(ye)}return n.pop(),je},d=e.getNodes(),b=0;b<d.length;b+=1){var L=d[b],D=L.getID();f[D]=b,l[b]=L}if(t&&r)for(var b=0;b<t.length;b++){var D=t[b];f[d[b].getID()]=f[D],f[D]=0,l[0]=e.findById(D),l[f[d[b].getID()]]=d[b]}for(var V=function(ye){for(var Pe,ze,je=Infinity,Qe=0;Qe<ye.length;Qe+=1)for(var Ze=ye[Qe],xr=0;xr<Ze.length;xr++){var Or=f[Ze[xr].getID()];Or<je&&(je=Or,ze=Qe)}for(var Tr=ye[ze],Mr=[],Qe=0;Qe<Tr.length;Qe+=1){var br=Tr[Qe];Mr[br.getID()]=[];for(var qr=0,Gr=br.getNeighbors("target").filter(function(Hr){return Tr.indexOf(Hr)>-1});qr<Gr.length;qr++){var Kr=Gr[qr];Kr===br&&!(r===!1&&t.indexOf(br.getId())>-1)?s.push((Pe={},Pe[br.getID()]=br,Pe)):Mr[br.getID()].push(f[Kr.getID()])}}return{component:Tr,adjList:Mr,minIdx:je}},$=0;$<d.length;){var K=d.filter(function(re){return f[re.getID()]>=$}),yt=a1(K).filter(function(re){return re.length>1});if(yt.length===0)break;var wt=V(yt),Rt=wt.minIdx,Zt=wt.adjList,te=wt.component;if(te.length>1){te.forEach(function(re){o[re.get("id")]=new Set});var oe=l[Rt];if(t&&r&&t.indexOf(oe.get("id"))===-1)return s;c(oe,oe,Zt),$=Rt+1}else break}return s},l8=function(e,t,r,n){return n===void 0&&(n=!0),t===void 0&&(t=e.get("directed")),t?l1(e,r,n):s1(e,r,n)},u8=s8,f8=function(e,t,r,n){var a=e.getNodes(),o=[],s={},l={},f={};a.forEach(function(V,$){var K=V.getID();o.push(K),l[K]=Infinity,K===t&&(l[K]=0)});for(var h=a.length,c=function($){var K=h8(l,a,s),yt=K.get("id");if(s[yt]=!0,l[yt]===Infinity)return"continue";var wt=[];r?wt=K.getOutEdges():wt=K.getEdges(),wt.forEach(function(Rt){var Zt=Rt.getTarget().getID(),te=Rt.getSource().getID(),oe=Zt===yt?te:Zt,re=n&&Rt.getModel()[n]?Rt.getModel()[n]:1;l[oe]>l[K.get("id")]+re&&(l[oe]=l[K.get("id")]+re,f[oe]=K.get("id"))})},d=0;d<h;d++)c(d);var b={};for(var L in l){b[L]=[L];for(var D=f[L];D!==void 0;)b[L].unshift(D),D=f[D]}return{length:l,path:b}};function h8(i,e,t){for(var r=Infinity,n,a=0;a<e.length;a++){var o=e[a].get("id");!t[o]&&i[o]<=r&&(r=i[o],n=e[a])}return n}var c8=f8,v8=function(e,t,r,n,a){(0,u.isString)(t)&&(t=e.findById(t)),(0,u.isString)(r)&&(r=e.findById(r));var o=c8(e,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[r.get("id")],path:l[r.get("id")]}},d8=function(e,t,r,n){var a;if((0,u.isString)(t)&&(t=e.findById(t)),(0,u.isString)(r)&&(r=e.findById(r)),n===void 0&&(n=e.get("directed")),t===r)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],f=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var d=c.shift();d&&(o.push(d),s[d.get("id")]=!0,h=n?d.getNeighbors("target"):d.getNeighbors(),l.push(h.filter(function(D){return!s[D.get("id")]})))}else{var b=o.pop();s[b.get("id")]=!1,l.pop();continue}if(o[o.length-1]===r){var L=o.map(function(V){return V.get("id")});f.push(L);var b=o.pop();s[b.get("id")]=!1,l.pop()}}return f},p8=function(){function i(e){this.count=e.length,this.parent={};for(var t=0,r=e;t<r.length;t++){var n=r[t];this.parent[n]=n}}return i.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},i.prototype.union=function(e,t){var r=this.find(e),n=this.find(t);r!==n&&(r<n?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},i.prototype.connected=function(e,t){return this.find(e)===this.find(t)},i}(),g8=p8,y8=function(e,t){return e-t},m8=function(){function i(e){e===void 0&&(e=y8),this.compareFn=e,this.list=[]}return i.prototype.getLeft=function(e){return 2*e+1},i.prototype.getRight=function(e){return 2*e+2},i.prototype.getParent=function(e){return e===0?null:Math.floor((e-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},i.prototype.insert=function(e){if(e!==null){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var r=this.list[t];this.list[t]=this.list[e],this.list[e]=r,e=t,t=this.getParent(e)}},i.prototype.moveDown=function(e){var t,r=e,n=this.getLeft(e),a=this.getRight(e),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[r],this.list[n])>0?r=n:a!==null&&a<o&&this.compareFn(this.list[r],this.list[a])>0&&(r=a),e!==r&&(t=[this.list[r],this.list[e]],this.list[e]=t[0],this.list[r]=t[1],this.moveDown(r))},i}(),x8=m8,b8=function(e,t){var r=[],n=e.getNodes();if(n.length===0)return r;var a=n[0],o=new Set;o.add(a);var s=function(b,L){return t?b.getModel()[t]-L.getModel()[t]:0},l=new x8(s);for(a.getEdges().forEach(function(d){l.insert(d)});!l.isEmpty();){var f=l.delMin(),h=f.getSource(),c=f.getTarget();o.has(h)&&o.has(c)||(r.push(f),o.has(h)||(o.add(h),h.getEdges().forEach(function(d){l.insert(d)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(d){l.insert(d)})))}return r},u1=function(e,t){var r=[];if(e.getNodes().length===0)return r;var n=e.getEdges().map(function(f){return f});t&&n.sort(function(f,h){return f.getModel()[t]-h.getModel()[t]});for(var a=new g8(e.getNodes().map(function(f){return f.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(r.push(o),a.union(s,l))}return r};function w8(i,e,t){var r={prim:b8,kruskal:u1};return t?r[t](i,e):u1(i,e)}var S8=function(e,t,r){typeof t!="number"&&(t=1e-6),typeof r!="number"&&(r=.85);for(var n=1,a=0,o=1e3,s=e.getNodes(),l=s.length,f,h={},c={},d=0;d<l;++d){var b=s[d],L=b.get("id");h[L]=1/l,c[L]=1/l}for(;o>0&&n>t;){a=0;for(var d=0;d<l;++d){var b=s[d],L=b.get("id");if(f=0,e.getNodeDegree(b,"in")===0)h[L]=0;else{for(var D=b.getNeighbors("source"),V=0;V<D.length;++V){var $=D[V],K=e.getNodeDegree($,"out");K>0&&(f+=c[$.get("id")]/K)}h[L]=r*f,a+=h[L]}}a=(1-a)/l,n=0;for(var d=0;d<l;++d){var b=s[d],L=b.get("id");f=h[L]+a,n+=Math.abs(f-c[L]),c[L]=f}o-=1}return c},M8=S8,WG=Uo.registerNode,jG=Uo.registerEdge,UG=Uo.registerCombo,ZG=Rm.registerBehavior,KG=Es.registerLayout,$G=$i.Minimap,QG=$i.Grid,JG=$i.Bundling,qG=$i.Menu,C8=$i.Fisheye,t7=$i.ToolBar,e7=$i.Tooltip,E8=$i.TimeBar,A8=$i.ImageMinimap,T8=$i.EdgeFilterLens,Vi={version:IF.i8,Graph:kx,TreeGraph:u6,Util:z6,registerNode:Uo.registerNode,registerEdge:Uo.registerEdge,registerCombo:Uo.registerCombo,registerBehavior:Rm.registerBehavior,registerLayout:Es.registerLayout,Layout:Es,Global:hr,Minimap:$i.Minimap,Grid:$i.Grid,Bundling:$i.Bundling,Menu:$i.Menu,ToolBar:$i.ToolBar,Tooltip:$i.Tooltip,TimeBar:E8,Fisheye:C8,ImageMinimap:A8,EdgeFilterLens:T8,Algorithm:Gt,Arrow:R6,Marker:N6};function f1(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function Xa(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?f1(Object(t),!0).forEach(function(r){P8(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):f1(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function P8(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}Vi.registerNode("card-node",{draw:function(e,t){var r=e&&e.color?e.color:"#5B8FF9",n=e&&e.size?e.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=e&&e.style?e.style:{};a=Object.assign({radius:2,fill:"#fff"},a),r=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:Xa({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:r},a),name:"main-box",draggable:!0}),l=e.title||e.label,f,h=e&&e.labelCfg&&e.labelCfg.style?e.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);f=t.addShape("text",{attrs:Xa(Xa({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var d=f?f.getBBox():{height:n[1]/2},b=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:d.height+4,fill:r,radius:[o,o,0,0]},name:"title-rect",draggable:!0});f&&f.toFront();var L;e.children&&(L=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:e.collapsed?Vi.Marker.expand:Vi.Marker.collapse,stroke:r,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var D=e&&e.description?e.description:void 0,V=b.getBBox(),$;if(D&&($=t.addShape("text",{attrs:Xa({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+V.height+8,text:D},h),name:"description"})),$){var K,yt=$.getBBox(),wt=V.height+16+yt.height,Rt=n[0]>yt.width+16?n[0]:yt.width+16;s.attr({width:Rt,height:wt}),b==null||b.attr("width",Rt),(K=L)===null||K===void 0||K.attr({x:Rt-n[0]/2,y:wt/2-n[1]/2})}return s},update:void 0},"single-node"),Vi.registerNode("round-rect",{drawShape:function(e,t){var r=e&&e.color?e.color:"#5B8FF9",n=e&&e.size?e.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=e&&e.style?e.style:{};a.stroke&&(r=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:r},a);var s=t.addShape("rect",{attrs:Xa({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(e,t){var r=t.getContainer(),n=r.get("children"),a=n[0],o=n[1],s=n[2],l=e.style&&e.style.stroke?e.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var _8=function(e){Vi.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(r,n){var a=this.getShapeStyle(r),o=r.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:Xa(Xa({},a),{},{x:0,y:0})}),f={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return r.leftIcon&&(f=Object.assign({},f,r.leftIcon.style),h=r.leftIcon.img),n.addShape("rect",{attrs:Xa({x:1,y:1,width:38,height:a.height-2},f)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),e.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Vi.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Vi.Marker.collapse},name:"remove-item"})),r.label&&n.addShape("text",{attrs:Xa(Xa({},s.style),{},{text:r.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};Vi.registerEdge("fund-polyline",{draw:function(e,t){var r=e.startPoint,n=e.endPoint,a=n.y-r.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,f={x:r.x+o,y:n.y+l},h={x:f.x+s,y:n.y},c={x:(f.x-r.x)*(n.y-r.y)/(f.y-r.y)+r.x,y:n.y},d=[["M",r.x,r.y],["L",f.x,f.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(d=[["M",r.x,r.y],["L",n.x,n.y]]);var b=e||{},L=b.style,D=t.addShape("path",{attrs:{path:d,stroke:L.stroke||e.colorMap&&e.colorMap[e.dataType]?e.colorMap[e.dataType]:"#5B8FF9",lineWidth:L.lineWidth||1.2,endArrow:!1},name:"path-shape"}),V=0,$=8,K;if(e.label&&(K=t.addShape("text",{attrs:{text:e.label,x:h.x+V,y:n.y-$-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),e.dataType){var yt=K?K.getBBox():{height:0};t.addShape("text",{attrs:{text:e.dataType,x:h.x+V,y:n.y-$-yt.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return e.subLabel&&t.addShape("text",{attrs:{text:e.subLabel,x:h.x+V,y:n.y+$+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),D},update:void 0},"single-edge"),Vi.registerEdge("flow-line",{draw:function(e,t){var r=e.startPoint,n=e.endPoint,a=e.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",r.x,r.y],["L",r.x,(r.y+n.y)/2],["L",n.x,(r.y+n.y)/2],["L",n.x,n.y]]}});return s}});function h1(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function O8(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(t),!0).forEach(function(r){L8(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):h1(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function L8(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var I8={show:!1,size:[150,100],type:"keyShape"},Ps=function(e,t,r){var n,a;return r&&r.current&&(n=r.current.offsetWidth,a=r.current.offsetHeight||500),console.log("graph size",n,a,t,e,r,r.current),!e&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[e||n||500,t||a||500]},_s=function(e,t){if(!(!t||t.destroyed)&&e&&e.show){var r=Object.assign(I8,e),n=new Vi.Minimap(O8({},r));return t.addPlugin(n),n}};function mu(i,e,t){var r=(0,dt.useRef)(),n=e.data,a=e.nodeStyle,o=e.nodeAnchorPoints,s=e.nodeType,l=e.edgeType,f=e.edgeStyle,h=e.width,c=e.height,d=e.layout,b=e.minimapCfg,L=e.behaviors,D=e.nodeLabelCfg,V=e.edgeLabelCfg,$;return(0,dt.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,dt.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(K){i.updateItem(K,{type:s,style:a,anchorPoints:o,labelCfg:D})})},[a,o,s]),(0,dt.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(K){i.updateItem(K,{type:l,style:f,labelCfg:V})})},[f,l]),(0,dt.useEffect)(function(){if(i&&!i.destroyed){var K=Ps(h,c,t);i.changeSize(K[0],K[1])}},[t,h,c]),(0,dt.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(d)},[d]),(0,dt.useEffect)(function(){if(!(!b||!i||i.destroyed))if(b.show)$=_s(b,i),$&&$.updateCanvas();else{var K=i.get("plugins")[0];K&&i.removePlugin(K)}},[b]),(0,dt.useEffect)(function(){if(i&&!i.destroyed){var K=i.get("modes"),yt=K.default,wt=[];yt.forEach(function(Rt){(0,u.isObject)(Rt)?wt.push(Rt.type):(0,u.isString)(Rt)&&wt.push(Rt)}),i.removeBehaviors(wt,"default"),i.addBehaviors(L,"default")}},[L]),(0,dt.useEffect)(function(){if(r.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:r}}var c1={hover:{stroke:"#1890ff",lineWidth:2}},k8={fill:"#91d5ff",stroke:"#40a9ff",radius:5},B8={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},D8={type:"compactBox",direction:"TB",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},v1={style:{fill:"#000",fontSize:12}},Zn,F8=function(e){var t=e.data,r=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"rect":s,f=e.edgeType,h=f===void 0?"flow-line":f,c=e.collapseExpand,d=c===void 0?!1:c,b=e.nodeSize,L=b===void 0?[120,40]:b,D=e.nodeLabelCfg,V=D===void 0?v1:D,$=e.edgeLabelCfg,K=$===void 0?v1:$,yt=e.layout,wt=yt===void 0?D8:yt,Rt=e.enableEdit,Zt=Rt===void 0?!1:Rt,te=e.minimapCfg,oe=e.nodeStyle,re=oe===void 0?k8:oe,ye=e.edgeStyle,Pe=ye===void 0?B8:ye,ze=e.nodeStateStyles,je=ze===void 0?c1:ze,Qe=e.edgeStateStyles,Ze=Qe===void 0?c1:Qe,xr=e.handleNodeClick,Or=e.handleEdgeClick,Tr=e.handleNodeHover,Mr=e.handleNodeUnHover,br=e.handleEdgeHover,qr=e.handleEdgeUnHover,Gr=e.handleCanvasClick,Kr=e.graphRef,Ar={data:t,className:r,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:d,nodeSize:L,nodeLabelCfg:V,edgeLabelCfg:K,layout:wt,enableEdit:Zt,minimapCfg:te,nodeStyle:re,edgeStyle:Pe,nodeStateStyles:je,edgeStateStyles:Ze,handleNodeClick:xr,handleEdgeClick:Or,handleNodeHover:Tr,handleNodeUnHover:Mr,handleEdgeHover:br,handleEdgeUnHover:qr,handleCanvasClick:Gr,graphRef:Kr},Hr=dt.useRef(null);return mu(Zn,Ar,Hr),(0,dt.useEffect)(function(){var an=Ps(a,o,Hr);return(!Zn||Zn.destroyed)&&(l==="icon-node"&&_8({enableEdit:Zt}),Zn=new Vi.TreeGraph({container:Hr.current,width:an[0],height:an[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:L,style:re,labelCfg:V},defaultEdge:{type:h,style:Pe,labelCfg:K},nodeStateStyles:je,edgeStateStyles:Ze,layout:wt}),Kr&&(Kr.current=Zn)),_s(te,Zn),Zn.data(t),Zn.render(),Zn.fitView(),d&&Zn.addBehaviors({type:"collapse-expand",onChange:function(Wr,Xn){if(!Wr)return!1;var Tn=Wr.get("model").data;return Tn.collapsed=Xn,!0}},"default"),Zn.on("node:mouseenter",function(jr){var Wr=jr.item;Zn.setItemState(Wr,"hover",!0),Tr&&Tr(Wr,Zn)}),Zn.on("node:mouseleave",function(jr){var Wr=jr.item;Zn.setItemState(Wr,"hover",!1),Mr&&Mr(Wr,Zn)}),Zn.on("node:click",function(jr){var Wr=jr.item,Xn=jr.target,Tn=Xn.get("type"),Jr=Xn.get("name");if(Tn==="marker"){var mr=Wr.getModel();if(Jr==="add-item"){mr.children||(mr.children=[]);var _r=Math.random().toString(36).slice(-8);mr.children.push({id:_r,label:_r}),Zn.updateChild(mr,mr.id)}else Jr==="remove-item"&&Zn.removeChild(mr.id)}else xr&&xr(Wr,Zn)}),Zn.on("edge:mouseenter",function(jr){var Wr=jr.item;Zn.setItemState(Wr,"hover",!0),br&&br(Wr,Zn)}),Zn.on("edge:mouseleave",function(jr){var Wr=jr.item;Zn.setItemState(Wr,"hover",!1),qr&&qr(Wr,Zn)}),Zn.on("edge:click",function(jr){var Wr=jr.item;Or&&Or(Wr,Zn)}),Zn.on("canvas:click",function(jr){Gr&&Gr(Zn)}),function(){return Zn.destroy()}},[]),dt.createElement(wn,null,dt.createElement("div",{className:r,style:n,ref:Hr}))},R8=F8,d1={hover:{stroke:"#1890ff",lineWidth:2}},N8=[120,40],Y8={stroke:"#40a9ff"},G8=[[.5,0],[.5,1]],z8={stroke:"#91d5ff",endArrow:{path:Vi.Arrow.vee(10,10),fill:"#91d5ff"}},X8={type:"dagre",rankdir:"TB",nodesepFunc:function(e){return 0},ranksepFunc:function(e){return 0},controlPoints:!0},p1={style:{fill:"#000",fontSize:12}},oi,V8=function(e){var t=e.data,r=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"modelRect":s,f=e.edgeType,h=f===void 0?"polyline":f,c=e.behaviors,d=c===void 0?["zoom-canvas","drag-canvas"]:c,b=e.nodeSize,L=b===void 0?N8:b,D=e.nodeLabelCfg,V=D===void 0?p1:D,$=e.edgeLabelCfg,K=$===void 0?p1:$,yt=e.nodeAnchorPoints,wt=yt===void 0?G8:yt,Rt=e.layout,Zt=Rt===void 0?X8:Rt,te=e.minimapCfg,oe=e.nodeStyle,re=oe===void 0?Y8:oe,ye=e.edgeStyle,Pe=ye===void 0?z8:ye,ze=e.nodeStateStyles,je=ze===void 0?d1:ze,Qe=e.edgeStateStyles,Ze=Qe===void 0?d1:Qe,xr=e.handleEdgeClick,Or=e.handleEdgeHover,Tr=e.handleEdgeUnHover,Mr=e.handleNodeClick,br=e.handleNodeHover,qr=e.handleNodeUnHover,Gr=e.handleCanvasClick,Kr=e.graphRef,Ar={data:t,className:r,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:d,nodeSize:L,nodeLabelCfg:V,edgeLabelCfg:K,nodeAnchorPoints:wt,layout:Zt,minimapCfg:te,nodeStyle:re,edgeStyle:Pe,nodeStateStyles:je,edgeStateStyles:Ze,handleEdgeClick:xr,handleEdgeHover:Or,handleEdgeUnHover:Tr,handleNodeClick:Mr,handleNodeHover:br,handleNodeUnHover:qr,handleCanvasClick:Gr,graphRef:Kr},Hr=dt.useRef(null);return mu(oi,Ar,Hr),(0,dt.useEffect)(function(){var an=Ps(a,o,Hr);return(!oi||oi.destroyed)&&(oi=new Vi.Graph({container:Hr.current,width:an[0],height:an[1],modes:{default:d},defaultNode:{type:l,size:L,style:re,anchorPoints:wt,labelCfg:V},defaultEdge:{type:h,style:Pe,labelCfg:K},nodeStateStyles:je,edgeStateStyles:Ze,layout:Zt}),Kr&&(Kr.current=oi)),_s(te,oi),oi.data(t),oi.render(),oi.fitView(),oi.on("edge:mouseenter",function(jr){var Wr=jr.item;oi.setItemState(Wr,"hover",!0),Or&&Or(Wr,oi)}),oi.on("node:mouseenter",function(jr){var Wr=jr.item;oi.setItemState(Wr,"hover",!1),br&&br(Wr,oi)}),oi.on("edge:mouseleave",function(jr){var Wr=jr.item;oi.setItemState(Wr,"hover",!1),Tr&&Tr(Wr,oi)}),oi.on("node:mouseleave",function(jr){var Wr=jr.item;oi.setItemState(Wr,"hover",!1),qr&&qr(Wr,oi)}),oi.on("edge:click",function(jr){var Wr=jr.item;xr&&xr(Wr,oi)}),oi.on("node:click",function(jr){var Wr=jr.item;Mr&&Mr(Wr,oi)}),oi.on("canvas:click",function(jr){Gr&&Gr(oi)}),function(){return oi.destroy()}},[]),dt.createElement(wn,null,dt.createElement("div",{className:r,style:n,ref:Hr}))},H8=V8,g1={hover:{stroke:"#1890ff",lineWidth:2}},W8=[150,30],j8={stroke:"#72CC4A",fill:"#f00"},U8=[[.5,0],[.5,1]],Z8={stroke:"#91d5ff",endArrow:{path:Vi.Arrow.vee(10,10),fill:"#91d5ff"}},K8={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},y1={style:{fill:"#000000A6",fontSize:10}},ei,$8=function(e){var t=e.data,r=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"round-rect":s,f=e.edgeType,h=f===void 0?"fund-polyline":f,c=e.behaviors,d=c===void 0?["zoom-canvas","drag-canvas"]:c,b=e.nodeSize,L=b===void 0?W8:b,D=e.nodeLabelCfg,V=D===void 0?y1:D,$=e.edgeLabelCfg,K=$===void 0?y1:$,yt=e.nodeAnchorPoints,wt=yt===void 0?U8:yt,Rt=e.layout,Zt=Rt===void 0?K8:Rt,te=e.minimapCfg,oe=e.nodeStyle,re=oe===void 0?j8:oe,ye=e.edgeStyle,Pe=ye===void 0?Z8:ye,ze=e.nodeStateStyles,je=ze===void 0?g1:ze,Qe=e.edgeStateStyles,Ze=Qe===void 0?g1:Qe,xr=e.colorMap,Or=xr===void 0?{}:xr,Tr=e.handleEdgeClick,Mr=e.handleEdgeHover,br=e.handleEdgeUnHover,qr=e.handleNodeClick,Gr=e.handleNodeHover,Kr=e.handleNodeUnHover,Ar=e.handleCanvasClick,Hr=e.graphRef,an=dt.useRef(null),jr={data:t,className:r,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:d,nodeSize:L,nodeLabelCfg:V,edgeLabelCfg:K,nodeAnchorPoints:wt,layout:Zt,minimapCfg:te,nodeStyle:re,edgeStyle:Pe,nodeStateStyles:je,edgeStateStyles:Ze,colorMap:Or,handleEdgeClick:Tr,handleEdgeHover:Mr,handleEdgeUnHover:br,handleNodeClick:qr,handleNodeHover:Gr,handleNodeUnHover:Kr,handleCanvasClick:Ar,graphRef:Hr};return mu(ei,jr,an),(0,dt.useEffect)(function(){var Wr=Ps(a,o,an);(!ei||ei.destroyed)&&(ei=new Vi.Graph({container:an.current,width:Wr[0],height:Wr[1],modes:{default:d},defaultNode:{type:l,size:L,style:re,anchorPoints:wt,labelCfg:V},defaultEdge:{type:h,style:Pe,colorMap:Or,labelCfg:K},nodeStateStyles:je,edgeStateStyles:Ze,layout:Zt}),Hr&&(Hr.current=ei)),_s(te,ei),ei.data(t),ei.render();var Xn=ei.getEdges();return Xn.forEach(function(Tn){var Jr=Tn.getKeyShape(),mr=Jr.attr("stroke"),_r=Tn.getTarget();_r.update({style:{stroke:mr}})}),ei.fitView(),ei.on("edge:mouseenter",function(Tn){var Jr=Tn.item;ei.setItemState(Jr,"hover",!0),Mr&&Mr(Jr,ei)}),ei.on("edge:mouseleave",function(Tn){var Jr=Tn.item;ei.setItemState(Jr,"hover",!1),br&&br(Jr,ei)}),ei.on("edge:click",function(Tn){var Jr=Tn.item;Tr&&Tr(Jr,ei)}),ei.on("node:mouseenter",function(Tn){var Jr=Tn.item;ei.setItemState(Jr,"hover",!1),Gr&&Gr(Jr,ei)}),ei.on("node:mouseleave",function(Tn){var Jr=Tn.item;ei.setItemState(Jr,"hover",!1),Kr&&Kr(Jr,ei)}),ei.on("node:click",function(Tn){var Jr=Tn.item;qr&&qr(Jr,ei)}),ei.on("canvas:click",function(Tn){Ar&&Ar(ei)}),function(){return ei.destroy()}},[]),dt.createElement(wn,null,dt.createElement("div",{className:r,style:n,ref:an}))},Q8=$8,m1={hover:{stroke:"#1890ff",lineWidth:2}},J8=[120,40],q8={stroke:"#40a9ff"},t9=[[0,.5],[1,.5]],e9={stroke:"#ccc",endArrow:{path:Vi.Arrow.vee(10,10),fill:"#ccc"}},r9={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(e){return 100}},n9={style:{fill:"#000",fontSize:12}},Jn,i9=function(e){var t=e.data,r=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"card-node":s,f=e.edgeType,h=f===void 0?"cubic-horizontal":f,c=e.behaviors,d=c===void 0?["zoom-canvas","drag-canvas"]:c,b=e.nodeSize,L=b===void 0?J8:b,D=e.nodeLabelCfg,V=D===void 0?n9:D,$=e.nodeAnchorPoints,K=$===void 0?t9:$,yt=e.layout,wt=yt===void 0?r9:yt,Rt=e.minimapCfg,Zt=e.nodeStyle,te=Zt===void 0?q8:Zt,oe=e.edgeStyle,re=oe===void 0?e9:oe,ye=e.nodeStateStyles,Pe=ye===void 0?m1:ye,ze=e.edgeStateStyles,je=ze===void 0?m1:ze,Qe=e.collapseExpand,Ze=Qe===void 0?!0:Qe,xr=e.handleEdgeClick,Or=e.handleEdgeHover,Tr=e.handleEdgeUnHover,Mr=e.handleNodeClick,br=e.handleNodeHover,qr=e.handleNodeUnHover,Gr=e.handleCanvasClick,Kr=e.graphRef,Ar=dt.useRef(null),Hr={data:t,className:r,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:d,nodeSize:L,nodeLabelCfg:V,nodeAnchorPoints:K,layout:wt,minimapCfg:Rt,nodeStyle:te,edgeStyle:re,nodeStateStyles:Pe,edgeStateStyles:je,collapseExpand:Ze,handleEdgeClick:xr,handleEdgeHover:Or,handleEdgeUnHover:Tr,handleNodeClick:Mr,handleNodeHover:br,handleNodeUnHover:qr,handleCanvasClick:Gr,graphRef:Kr};return mu(Jn,Hr,Ar),(0,dt.useEffect)(function(){var an=Ps(a,o,Ar);return(!Jn||Jn.destroyed)&&(Jn=new Vi.TreeGraph({container:Ar.current,width:an[0],height:an[1],modes:{default:d},defaultNode:{type:l,size:L,style:te,anchorPoints:K,labelCfg:V},defaultEdge:{type:h,style:re},nodeStateStyles:Pe,edgeStateStyles:je,layout:wt}),Kr&&(Kr.current=Jn)),_s(Rt,Jn),Jn.data(t),Jn.render(),Jn.fitView(),Ze&&Jn.on("node:click",function(jr){var Wr=jr.item;jr.target.get("name")==="collapse-icon"?(Jn.updateItem(Wr,{collapsed:!Wr.getModel().collapsed}),Jn.layout()):Mr&&Mr(Wr,Jn)}),Jn.on("edge:mouseenter",function(jr){var Wr=jr.item;Jn.setItemState(Wr,"hover",!0),Or&&Or(Wr,Jn)}),Jn.on("edge:mouseleave",function(jr){var Wr=jr.item;Jn.setItemState(Wr,"hover",!1),Tr&&Tr(Wr,Jn)}),Jn.on("edge:click",function(jr){var Wr=jr.item;xr&&xr(Wr,Jn)}),Jn.on("node:mouseenter",function(jr){var Wr=jr.item;Jn.setItemState(Wr,"hover",!1),br&&br(Wr,Jn)}),Jn.on("node:mouseleave",function(jr){var Wr=jr.item;Jn.setItemState(Wr,"hover",!1),qr&&qr(Wr,Jn)}),Jn.on("canvas:click",function(jr){Gr&&Gr(Jn)}),function(){return Jn.destroy()}},[]),dt.createElement(wn,null,dt.createElement("div",{className:r,style:n,ref:Ar}))},a9=i9,r7={Area:pD,Bar:mD,Bubble:wD,Bullet:CD,Calendar:PD,Column:Qy,ColumnLine:kD,DensityHeatmap:FD,Donut:e0,DualLine:zD,FanGauge:HD,Funnel:ZD,Gauge:a0,GroupedBar:qD,GroupedColumn:r5,GroupedColumnLine:a5,GroupedRose:l5,Heatmap:h5,Histogram:d5,Line:v0,Liquid:p0,MeterGauge:w5,PercentStackedArea:C5,PercentStackedBar:T5,PercentStackedColumn:O5,Pie:k5,Progress:S0,Radar:C0,RangeBar:G5,RangeColumn:V5,RingProgress:P0,Rose:Z5,Scatter:Q5,StackedArea:tF,StackedBar:nF,StackedColumn:oF,StackedColumnLine:uF,StackedRose:cF,StepLine:pF,TinyArea:N0,TinyColumn:G0,TinyLine:SF,Treemap:EF,Waterfall:PF,WordCloud:H0,OrganizationTreeGraph:R8,DagreGraph:H8,IndentedTree:a9,DagreFundFlowGraph:Q8,G2:T}},3935:function(ft,S,v){"use strict";var x=v(38251),O=v(90494),k=v(91241),_=function(T){(0,x.ZT)(A,T);function A(C){var E=T.call(this)||this;E.destroyed=!1;var g=E.getDefaultCfg();return E.cfg=(0,k.CD)(g,C),E}return A.prototype.getDefaultCfg=function(){return{}},A.prototype.get=function(C){return this.cfg[C]},A.prototype.set=function(C,E){this.cfg[C]=E},A.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},A}(O.default);S.Z=_},28190:function(ft,S,v){"use strict";v.d(S,{Z:function(){return pr}});var x=v(38251),O=v(43631),k=v(36540),_=v(91241),T=v(49242),A=0,C=0,E=0,g=1e3,w,y,m=0,p=0,M=0,P=typeof performance=="object"&&performance.now?performance:Date,B=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Qt){setTimeout(Qt,17)};function F(){return p||(B(W),p=P.now()+M)}function W(){p=0}function Q(){this._call=this._time=this._next=null}Q.prototype=H.prototype={constructor:Q,restart:function(Qt,Yt,ae){if(typeof Qt!="function")throw new TypeError("callback is not a function");ae=(ae==null?F():+ae)+(Yt==null?0:+Yt),!this._next&&y!==this&&(y?y._next=this:w=this,y=this),this._call=Qt,this._time=ae,pt()},stop:function(){this._call&&(this._call=null,this._time=Infinity,pt())}};function H(Qt,Yt,ae){var xe=new Q;return xe.restart(Qt,Yt,ae),xe}function Z(){F(),++A;for(var Qt=w,Yt;Qt;)(Yt=p-Qt._time)>=0&&Qt._call.call(null,Yt),Qt=Qt._next;--A}function ot(){p=(m=P.now())+M,A=C=0;try{Z()}finally{A=0,At(),p=0}}function rt(){var Qt=P.now(),Yt=Qt-m;Yt>g&&(M-=Yt,m=Qt)}function At(){for(var Qt,Yt=w,ae,xe=Infinity;Yt;)Yt._call?(xe>Yt._time&&(xe=Yt._time),Qt=Yt,Yt=Yt._next):(ae=Yt._next,Yt._next=null,Yt=Qt?Qt._next=ae:w=ae);y=Qt,pt(xe)}function pt(Qt){if(!A){C&&(C=clearTimeout(C));var Yt=Qt-p;Yt>24?(Qt<Infinity&&(C=setTimeout(ot,Qt-P.now()-M)),E&&(E=clearInterval(E))):(E||(m=P.now(),E=setInterval(rt,g)),A=1,B(ot))}}function Ft(Qt,Yt,ae){Qt.prototype=Yt.prototype=ae,ae.constructor=Qt}function Tt(Qt,Yt){var ae=Object.create(Qt.prototype);for(var xe in Yt)ae[xe]=Yt[xe];return ae}function Ot(){}var xt=.7,ht=1/xt,kt="\\s*([+-]?\\d+)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tt=/^#([0-9a-f]{3,8})$/,I=new RegExp("^rgb\\(".concat(kt,",").concat(kt,",").concat(kt,"\\)$")),u=new RegExp("^rgb\\(".concat(dt,",").concat(dt,",").concat(dt,"\\)$")),Y=new RegExp("^rgba\\(".concat(kt,",").concat(kt,",").concat(kt,",").concat(Gt,"\\)$")),G=new RegExp("^rgba\\(".concat(dt,",").concat(dt,",").concat(dt,",").concat(Gt,"\\)$")),X=new RegExp("^hsl\\(".concat(Gt,",").concat(dt,",").concat(dt,"\\)$")),U=new RegExp("^hsla\\(".concat(Gt,",").concat(dt,",").concat(dt,",").concat(Gt,"\\)$")),J={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ft(Ot,Ct,{copy:function(Yt){return Object.assign(new this.constructor,this,Yt)},displayable:function(){return this.rgb().displayable()},hex:lt,formatHex:lt,formatHex8:It,formatHsl:bt,formatRgb:et,toString:et});function lt(){return this.rgb().formatHex()}function It(){return this.rgb().formatHex8()}function bt(){return Re(this).formatHsl()}function et(){return this.rgb().formatRgb()}function Ct(Qt){var Yt,ae;return Qt=(Qt+"").trim().toLowerCase(),(Yt=tt.exec(Qt))?(ae=Yt[1].length,Yt=parseInt(Yt[1],16),ae===6?it(Yt):ae===3?new nt(Yt>>8&15|Yt>>4&240,Yt>>4&15|Yt&240,(Yt&15)<<4|Yt&15,1):ae===8?st(Yt>>24&255,Yt>>16&255,Yt>>8&255,(Yt&255)/255):ae===4?st(Yt>>12&15|Yt>>8&240,Yt>>8&15|Yt>>4&240,Yt>>4&15|Yt&240,((Yt&15)<<4|Yt&15)/255):null):(Yt=I.exec(Qt))?new nt(Yt[1],Yt[2],Yt[3],1):(Yt=u.exec(Qt))?new nt(Yt[1]*255/100,Yt[2]*255/100,Yt[3]*255/100,1):(Yt=Y.exec(Qt))?st(Yt[1],Yt[2],Yt[3],Yt[4]):(Yt=G.exec(Qt))?st(Yt[1]*255/100,Yt[2]*255/100,Yt[3]*255/100,Yt[4]):(Yt=X.exec(Qt))?Ie(Yt[1],Yt[2]/100,Yt[3]/100,1):(Yt=U.exec(Qt))?Ie(Yt[1],Yt[2]/100,Yt[3]/100,Yt[4]):J.hasOwnProperty(Qt)?it(J[Qt]):Qt==="transparent"?new nt(NaN,NaN,NaN,0):null}function it(Qt){return new nt(Qt>>16&255,Qt>>8&255,Qt&255,1)}function st(Qt,Yt,ae,xe){return xe<=0&&(Qt=Yt=ae=NaN),new nt(Qt,Yt,ae,xe)}function St(Qt){return Qt instanceof Ot||(Qt=Ct(Qt)),Qt?(Qt=Qt.rgb(),new nt(Qt.r,Qt.g,Qt.b,Qt.opacity)):new nt}function at(Qt,Yt,ae,xe){return arguments.length===1?St(Qt):new nt(Qt,Yt,ae,xe==null?1:xe)}function nt(Qt,Yt,ae,xe){this.r=+Qt,this.g=+Yt,this.b=+ae,this.opacity=+xe}Ft(nt,at,Tt(Ot,{brighter:function(Yt){return Yt=Yt==null?ht:Math.pow(ht,Yt),new nt(this.r*Yt,this.g*Yt,this.b*Yt,this.opacity)},darker:function(Yt){return Yt=Yt==null?xt:Math.pow(xt,Yt),new nt(this.r*Yt,this.g*Yt,this.b*Yt,this.opacity)},rgb:function(){return this},clamp:function(){return new nt(le(this.r),le(this.g),le(this.b),ce(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mt,formatHex:mt,formatHex8:Dt,formatRgb:ee,toString:ee}));function mt(){return"#".concat(Xe(this.r)).concat(Xe(this.g)).concat(Xe(this.b))}function Dt(){return"#".concat(Xe(this.r)).concat(Xe(this.g)).concat(Xe(this.b)).concat(Xe((isNaN(this.opacity)?1:this.opacity)*255))}function ee(){var Qt=ce(this.opacity);return"".concat(Qt===1?"rgb(":"rgba(").concat(le(this.r),", ").concat(le(this.g),", ").concat(le(this.b)).concat(Qt===1?")":", ".concat(Qt,")"))}function ce(Qt){return isNaN(Qt)?1:Math.max(0,Math.min(1,Qt))}function le(Qt){return Math.max(0,Math.min(255,Math.round(Qt)||0))}function Xe(Qt){return Qt=le(Qt),(Qt<16?"0":"")+Qt.toString(16)}function Ie(Qt,Yt,ae,xe){return xe<=0?Qt=Yt=ae=NaN:ae<=0||ae>=1?Qt=Yt=NaN:Yt<=0&&(Qt=NaN),new lr(Qt,Yt,ae,xe)}function Re(Qt){if(Qt instanceof lr)return new lr(Qt.h,Qt.s,Qt.l,Qt.opacity);if(Qt instanceof Ot||(Qt=Ct(Qt)),!Qt)return new lr;if(Qt instanceof lr)return Qt;Qt=Qt.rgb();var Yt=Qt.r/255,ae=Qt.g/255,xe=Qt.b/255,Le=Math.min(Yt,ae,xe),Ke=Math.max(Yt,ae,xe),ur=NaN,dr=Ke-Le,ar=(Ke+Le)/2;return dr?(Yt===Ke?ur=(ae-xe)/dr+(ae<xe)*6:ae===Ke?ur=(xe-Yt)/dr+2:ur=(Yt-ae)/dr+4,dr/=ar<.5?Ke+Le:2-Ke-Le,ur*=60):dr=ar>0&&ar<1?0:ur,new lr(ur,dr,ar,Qt.opacity)}function or(Qt,Yt,ae,xe){return arguments.length===1?Re(Qt):new lr(Qt,Yt,ae,xe==null?1:xe)}function lr(Qt,Yt,ae,xe){this.h=+Qt,this.s=+Yt,this.l=+ae,this.opacity=+xe}Ft(lr,or,Tt(Ot,{brighter:function(Yt){return Yt=Yt==null?ht:Math.pow(ht,Yt),new lr(this.h,this.s,this.l*Yt,this.opacity)},darker:function(Yt){return Yt=Yt==null?xt:Math.pow(xt,Yt),new lr(this.h,this.s,this.l*Yt,this.opacity)},rgb:function(){var Yt=this.h%360+(this.h<0)*360,ae=isNaN(Yt)||isNaN(this.s)?0:this.s,xe=this.l,Le=xe+(xe<.5?xe:1-xe)*ae,Ke=2*xe-Le;return new nt(on(Yt>=240?Yt-240:Yt+120,Ke,Le),on(Yt,Ke,Le),on(Yt<120?Yt+240:Yt-120,Ke,Le),this.opacity)},clamp:function(){return new lr(Ir(this.h),Er(this.s),Er(this.l),ce(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Yt=ce(this.opacity);return"".concat(Yt===1?"hsl(":"hsla(").concat(Ir(this.h),", ").concat(Er(this.s)*100,"%, ").concat(Er(this.l)*100,"%").concat(Yt===1?")":", ".concat(Yt,")"))}}));function Ir(Qt){return Qt=(Qt||0)%360,Qt<0?Qt+360:Qt}function Er(Qt){return Math.max(0,Math.min(1,Qt||0))}function on(Qt,Yt,ae){return(Qt<60?Yt+(ae-Yt)*Qt/60:Qt<180?ae:Qt<240?Yt+(ae-Yt)*(240-Qt)/60:Yt)*255}function In(Qt,Yt,ae,xe,Le){var Ke=Qt*Qt,ur=Ke*Qt;return((1-3*Qt+3*Ke-ur)*Yt+(4-6*Ke+3*ur)*ae+(1+3*Qt+3*Ke-3*ur)*xe+ur*Le)/6}function fn(Qt){var Yt=Qt.length-1;return function(ae){var xe=ae<=0?ae=0:ae>=1?(ae=1,Yt-1):Math.floor(ae*Yt),Le=Qt[xe],Ke=Qt[xe+1],ur=xe>0?Qt[xe-1]:2*Le-Ke,dr=xe<Yt-1?Qt[xe+2]:2*Ke-Le;return In((ae-xe/Yt)*Yt,ur,Le,Ke,dr)}}function xn(Qt){var Yt=Qt.length;return function(ae){var xe=Math.floor(((ae%=1)<0?++ae:ae)*Yt),Le=Qt[(xe+Yt-1)%Yt],Ke=Qt[xe%Yt],ur=Qt[(xe+1)%Yt],dr=Qt[(xe+2)%Yt];return In((ae-xe/Yt)*Yt,Le,Ke,ur,dr)}}var $n=function(Qt){return function(){return Qt}};function ui(Qt,Yt){return function(ae){return Qt+ae*Yt}}function Si(Qt,Yt,ae){return Qt=Math.pow(Qt,ae),Yt=Math.pow(Yt,ae)-Qt,ae=1/ae,function(xe){return Math.pow(Qt+xe*Yt,ae)}}function bi(Qt,Yt){var ae=Yt-Qt;return ae?ui(Qt,ae>180||ae<-180?ae-360*Math.round(ae/360):ae):constant(isNaN(Qt)?Yt:Qt)}function $t(Qt){return(Qt=+Qt)==1?se:function(Yt,ae){return ae-Yt?Si(Yt,ae,Qt):$n(isNaN(Yt)?ae:Yt)}}function se(Qt,Yt){var ae=Yt-Qt;return ae?ui(Qt,ae):$n(isNaN(Qt)?Yt:Qt)}var ge=function Qt(Yt){var ae=$t(Yt);function xe(Le,Ke){var ur=ae((Le=at(Le)).r,(Ke=at(Ke)).r),dr=ae(Le.g,Ke.g),ar=ae(Le.b,Ke.b),gn=se(Le.opacity,Ke.opacity);return function(_n){return Le.r=ur(_n),Le.g=dr(_n),Le.b=ar(_n),Le.opacity=gn(_n),Le+""}}return xe.gamma=Qt,xe}(1);function me(Qt){return function(Yt){var ae=Yt.length,xe=new Array(ae),Le=new Array(ae),Ke=new Array(ae),ur,dr;for(ur=0;ur<ae;++ur)dr=at(Yt[ur]),xe[ur]=dr.r||0,Le[ur]=dr.g||0,Ke[ur]=dr.b||0;return xe=Qt(xe),Le=Qt(Le),Ke=Qt(Ke),dr.opacity=1,function(ar){return dr.r=xe(ar),dr.g=Le(ar),dr.b=Ke(ar),dr+""}}}var ke=me(fn),Fe=me(xn);function Ne(Qt,Yt){Yt||(Yt=[]);var ae=Qt?Math.min(Yt.length,Qt.length):0,xe=Yt.slice(),Le;return function(Ke){for(Le=0;Le<ae;++Le)xe[Le]=Qt[Le]*(1-Ke)+Yt[Le]*Ke;return xe}}function Ve(Qt){return ArrayBuffer.isView(Qt)&&!(Qt instanceof DataView)}function Te(Qt,Yt){return(Ve(Yt)?Ne:vr)(Qt,Yt)}function vr(Qt,Yt){var ae=Yt?Yt.length:0,xe=Qt?Math.min(ae,Qt.length):0,Le=new Array(xe),Ke=new Array(ae),ur;for(ur=0;ur<xe;++ur)Le[ur]=Vr(Qt[ur],Yt[ur]);for(;ur<ae;++ur)Ke[ur]=Yt[ur];return function(dr){for(ur=0;ur<xe;++ur)Ke[ur]=Le[ur](dr);return Ke}}function qe(Qt,Yt){var ae=new Date;return Qt=+Qt,Yt=+Yt,function(xe){return ae.setTime(Qt*(1-xe)+Yt*xe),ae}}function yr(Qt,Yt){return Qt=+Qt,Yt=+Yt,function(ae){return Qt*(1-ae)+Yt*ae}}function Lr(Qt,Yt){var ae={},xe={},Le;(Qt===null||typeof Qt!="object")&&(Qt={}),(Yt===null||typeof Yt!="object")&&(Yt={});for(Le in Yt)Le in Qt?ae[Le]=Vr(Qt[Le],Yt[Le]):xe[Le]=Yt[Le];return function(Ke){for(Le in ae)xe[Le]=ae[Le](Ke);return xe}}var wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kr=new RegExp(wr.source,"g");function Br(Qt){return function(){return Qt}}function Nr(Qt){return function(Yt){return Qt(Yt)+""}}function gr(Qt,Yt){var ae=wr.lastIndex=kr.lastIndex=0,xe,Le,Ke,ur=-1,dr=[],ar=[];for(Qt=Qt+"",Yt=Yt+"";(xe=wr.exec(Qt))&&(Le=kr.exec(Yt));)(Ke=Le.index)>ae&&(Ke=Yt.slice(ae,Ke),dr[ur]?dr[ur]+=Ke:dr[++ur]=Ke),(xe=xe[0])===(Le=Le[0])?dr[ur]?dr[ur]+=Le:dr[++ur]=Le:(dr[++ur]=null,ar.push({i:ur,x:yr(xe,Le)})),ae=kr.lastIndex;return ae<Yt.length&&(Ke=Yt.slice(ae),dr[ur]?dr[ur]+=Ke:dr[++ur]=Ke),dr.length<2?ar[0]?Nr(ar[0].x):Br(Yt):(Yt=ar.length,function(gn){for(var _n=0,Wt;_n<Yt;++_n)dr[(Wt=ar[_n]).i]=Wt.x(gn);return dr.join("")})}function Vr(Qt,Yt){var ae=typeof Yt,xe;return Yt==null||ae==="boolean"?$n(Yt):(ae==="number"?yr:ae==="string"?(xe=Ct(Yt))?(Yt=xe,ge):gr:Yt instanceof Ct?ge:Yt instanceof Date?qe:Ve(Yt)?Ne:Array.isArray(Yt)?vr:typeof Yt.valueOf!="function"&&typeof Yt.toString!="function"||isNaN(Yt)?Lr:yr)(Qt,Yt)}var Qr=v(8364),zr=v(80234),tn=function(Qt){return["fill","stroke","fillStyle","strokeStyle"].includes(Qt)},cn=function(Qt){return/^[r,R,L,l]{1}[\s]*\(/.test(Qt)},Bt=[1,0,0,0,1,0,0,0,1];function Ht(Qt,Yt,ae){var xe={},Le=Yt.fromAttrs,Ke=Yt.toAttrs;if(!Qt.destroyed){var ur;for(var dr in Ke)if(!(0,T.isEqual)(Le[dr],Ke[dr]))if(dr==="path"){var ar=Ke[dr],gn=Le[dr];ar.length>gn.length?(ar=zr.parsePathString(Ke[dr]),gn=zr.parsePathString(Le[dr]),gn=zr.fillPathByDiff(gn,ar),gn=zr.formatPath(gn,ar),Yt.fromAttrs.path=gn,Yt.toAttrs.path=ar):Yt.pathFormatted||(ar=zr.parsePathString(Ke[dr]),gn=zr.parsePathString(Le[dr]),gn=zr.formatPath(gn,ar),Yt.fromAttrs.path=gn,Yt.toAttrs.path=ar,Yt.pathFormatted=!0),xe[dr]=[];for(var _n=0;_n<ar.length;_n++){for(var Wt=ar[_n],ne=gn[_n],fe=[],Ce=0;Ce<Wt.length;Ce++)(0,T.isNumber)(Wt[Ce])&&ne&&(0,T.isNumber)(ne[Ce])?(ur=Vr(ne[Ce],Wt[Ce]),fe.push(ur(ae))):fe.push(Wt[Ce]);xe[dr].push(fe)}}else if(dr==="matrix"){var Ae=Te(Le[dr]||Bt,Ke[dr]||Bt),Ye=Ae(ae);xe[dr]=Ye}else tn(dr)&&cn(Ke[dr])?xe[dr]=Ke[dr]:(0,T.isFunction)(Ke[dr])||(ur=Vr(Le[dr],Ke[dr]),xe[dr]=ur(ae));Qt.attr(xe)}}function ct(Qt,Yt,ae){var xe=Yt.startTime,Le=Yt.delay;if(ae<xe+Le||Yt._paused)return!1;var Ke,ur=Yt.duration,dr=Yt.easing,ar=(0,Qr._)(dr);if(ae=ae-xe-Yt.delay,Yt.repeat)Ke=ae%ur/ur,Ke=ar(Ke);else if(Ke=ae/ur,Ke<1)Ke=ar(Ke);else return Yt.onFrame?Qt.attr(Yt.onFrame(1)):Qt.attr(Yt.toAttrs),!0;if(Yt.onFrame){var gn=Yt.onFrame(Ke);Qt.attr(gn)}else Ht(Qt,Yt,Ke);return!1}var R=function(){function Qt(Yt){this.animators=[],this.current=0,this.timer=null,this.canvas=Yt}return Qt.prototype.initTimer=function(){var Yt=this,ae=!1,xe,Le,Ke;this.timer=H(function(ur){if(Yt.current=ur,Yt.animators.length>0){for(var dr=Yt.animators.length-1;dr>=0;dr--){if(xe=Yt.animators[dr],xe.destroyed){Yt.removeAnimator(dr);continue}if(!xe.isAnimatePaused()){Le=xe.get("animations");for(var ar=Le.length-1;ar>=0;ar--)Ke=Le[ar],ae=ct(xe,Ke,ur),ae&&(Le.splice(ar,1),ae=!1,Ke.callback&&Ke.callback())}Le.length===0&&Yt.removeAnimator(dr)}var gn=Yt.canvas.get("autoDraw");gn||Yt.canvas.draw()}})},Qt.prototype.addAnimator=function(Yt){this.animators.push(Yt)},Qt.prototype.removeAnimator=function(Yt){this.animators.splice(Yt,1)},Qt.prototype.isAnimating=function(){return!!this.animators.length},Qt.prototype.stop=function(){this.timer&&this.timer.stop()},Qt.prototype.stopAllAnimations=function(Yt){Yt===void 0&&(Yt=!0),this.animators.forEach(function(ae){ae.stopAnimate(Yt)}),this.animators=[],this.canvas.draw()},Qt.prototype.getTime=function(){return this.current},Qt}(),N=R,j=v(65608),_t=40,jt=0,Nt=":",Ut=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Se(Qt,Yt){for(var ae in Qt)if(Qt.hasOwnProperty(ae)&&ae.indexOf(Nt+Yt)>=0)return!0;return!1}function Me(Qt,Yt,ae){ae.name=Yt,ae.target=Qt,ae.currentTarget=Qt,ae.delegateTarget=Qt,Qt.emit(Yt,ae)}function Oe(Qt,Yt,ae){if(ae.bubbles){var xe=void 0,Le=!1;if(Yt==="mouseenter"?(xe=ae.fromShape,Le=!0):Yt==="mouseleave"&&(Le=!0,xe=ae.toShape),Qt.isCanvas()&&Le)return;if(xe&&(0,_.UY)(Qt,xe)){ae.bubbles=!1;return}ae.name=Yt,ae.currentTarget=Qt,ae.delegateTarget=Qt,Qt.emit(Yt,ae)}}var ir=function(){function Qt(Yt){var ae=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(xe){var Le=xe.type;ae._triggerEvent(Le,xe)},this._onDocumentMove=function(xe){var Le=ae.canvas,Ke=Le.get("el");if(Ke!==xe.target&&(ae.dragging||ae.currentShape)){var ur=ae._getPointInfo(xe);ae.dragging&&ae._emitEvent("drag",xe,ur,ae.draggingShape)}},this._onDocumentMouseUp=function(xe){var Le=ae.canvas,Ke=Le.get("el");if(Ke!==xe.target&&ae.dragging){var ur=ae._getPointInfo(xe);ae.draggingShape&&ae._emitEvent("drop",xe,ur,null),ae._emitEvent("dragend",xe,ur,ae.draggingShape),ae._afterDrag(ae.draggingShape,ur,xe)}},this.canvas=Yt.canvas}return Qt.prototype.init=function(){this._bindEvents()},Qt.prototype._bindEvents=function(){var Yt=this,ae=this.canvas.get("el");(0,_.S6)(Ut,function(xe){ae.addEventListener(xe,Yt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Qt.prototype._clearEvents=function(){var Yt=this,ae=this.canvas.get("el");(0,_.S6)(Ut,function(xe){ae.removeEventListener(xe,Yt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Qt.prototype._getEventObj=function(Yt,ae,xe,Le,Ke,ur){var dr=new j.Z(Yt,ae);return dr.fromShape=Ke,dr.toShape=ur,dr.x=xe.x,dr.y=xe.y,dr.clientX=xe.clientX,dr.clientY=xe.clientY,dr.propagationPath.push(Le),dr},Qt.prototype._getShape=function(Yt,ae){return this.canvas.getShape(Yt.x,Yt.y,ae)},Qt.prototype._getPointInfo=function(Yt){var ae=this.canvas,xe=ae.getClientByEvent(Yt),Le=ae.getPointByEvent(Yt);return{x:Le.x,y:Le.y,clientX:xe.x,clientY:xe.y}},Qt.prototype._triggerEvent=function(Yt,ae){var xe=this._getPointInfo(ae),Le=this._getShape(xe,ae),Ke=this["_on"+Yt],ur=!1;if(Ke)Ke.call(this,xe,Le,ae);else{var dr=this.currentShape;Yt==="mouseenter"||Yt==="dragenter"||Yt==="mouseover"?(this._emitEvent(Yt,ae,xe,null,null,Le),Le&&this._emitEvent(Yt,ae,xe,Le,null,Le),Yt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",ae,xe,null)):Yt==="mouseleave"||Yt==="dragleave"||Yt==="mouseout"?(ur=!0,dr&&this._emitEvent(Yt,ae,xe,dr,dr,null),this._emitEvent(Yt,ae,xe,null,dr,null),Yt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",ae,xe,null)):this._emitEvent(Yt,ae,xe,Le,null,null)}if(ur||(this.currentShape=Le),Le&&!Le.get("destroyed")){var ar=this.canvas,gn=ar.get("el");gn.style.cursor=Le.attr("cursor")||ar.get("cursor")}},Qt.prototype._onmousedown=function(Yt,ae,xe){xe.button===jt&&(this.mousedownShape=ae,this.mousedownPoint=Yt,this.mousedownTimeStamp=xe.timeStamp),this._emitEvent("mousedown",xe,Yt,ae,null,null)},Qt.prototype._emitMouseoverEvents=function(Yt,ae,xe,Le){var Ke=this.canvas.get("el");xe!==Le&&(xe&&(this._emitEvent("mouseout",Yt,ae,xe,xe,Le),this._emitEvent("mouseleave",Yt,ae,xe,xe,Le),(!Le||Le.get("destroyed"))&&(Ke.style.cursor=this.canvas.get("cursor"))),Le&&(this._emitEvent("mouseover",Yt,ae,Le,xe,Le),this._emitEvent("mouseenter",Yt,ae,Le,xe,Le)))},Qt.prototype._emitDragoverEvents=function(Yt,ae,xe,Le,Ke){Le?(Le!==xe&&(xe&&this._emitEvent("dragleave",Yt,ae,xe,xe,Le),this._emitEvent("dragenter",Yt,ae,Le,xe,Le)),Ke||this._emitEvent("dragover",Yt,ae,Le)):xe&&this._emitEvent("dragleave",Yt,ae,xe,xe,Le),Ke&&this._emitEvent("dragover",Yt,ae,Le)},Qt.prototype._afterDrag=function(Yt,ae,xe){Yt&&(Yt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Le=this._getShape(ae,xe);Le!==Yt&&this._emitMouseoverEvents(xe,ae,Yt,Le),this.currentShape=Le},Qt.prototype._onmouseup=function(Yt,ae,xe){if(xe.button===jt){var Le=this.draggingShape;this.dragging?(Le&&this._emitEvent("drop",xe,Yt,ae),this._emitEvent("dragend",xe,Yt,Le),this._afterDrag(Le,Yt,xe)):(this._emitEvent("mouseup",xe,Yt,ae),ae===this.mousedownShape&&this._emitEvent("click",xe,Yt,ae),this.mousedownShape=null,this.mousedownPoint=null)}},Qt.prototype._ondragover=function(Yt,ae,xe){xe.preventDefault();var Le=this.currentShape;this._emitDragoverEvents(xe,Yt,Le,ae,!0)},Qt.prototype._onmousemove=function(Yt,ae,xe){var Le=this.canvas,Ke=this.currentShape,ur=this.draggingShape;if(this.dragging)ur&&this._emitDragoverEvents(xe,Yt,Ke,ae,!1),this._emitEvent("drag",xe,Yt,ur);else{var dr=this.mousedownPoint;if(dr){var ar=this.mousedownShape,gn=xe.timeStamp,_n=gn-this.mousedownTimeStamp,Wt=dr.clientX-Yt.clientX,ne=dr.clientY-Yt.clientY,fe=Wt*Wt+ne*ne;_n>120||fe>_t?ar&&ar.get("draggable")?(ur=this.mousedownShape,ur.set("capture",!1),this.draggingShape=ur,this.dragging=!0,this._emitEvent("dragstart",xe,Yt,ur),this.mousedownShape=null,this.mousedownPoint=null):!ar&&Le.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",xe,Yt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(xe,Yt,Ke,ae),this._emitEvent("mousemove",xe,Yt,ae)):(this._emitMouseoverEvents(xe,Yt,Ke,ae),this._emitEvent("mousemove",xe,Yt,ae))}else this._emitMouseoverEvents(xe,Yt,Ke,ae),this._emitEvent("mousemove",xe,Yt,ae)}},Qt.prototype._emitEvent=function(Yt,ae,xe,Le,Ke,ur){var dr=this._getEventObj(Yt,ae,xe,Le,Ke,ur);if(Le){dr.shape=Le,Me(Le,Yt,dr);for(var ar=Le.getParent();ar;)ar.emitDelegation(Yt,dr),dr.propagationStopped||Oe(ar,Yt,dr),dr.propagationPath.push(ar),ar=ar.getParent()}else{var gn=this.canvas;Me(gn,Yt,dr)}},Qt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Qt}(),We=ir,Cr="px",en=(0,O.detect)(),Be=en&&en.name==="firefox",Ue=function(Qt){(0,x.ZT)(Yt,Qt);function Yt(ae){var xe=Qt.call(this,ae)||this;return xe.initContainer(),xe.initDom(),xe.initEvents(),xe.initTimeline(),xe}return Yt.prototype.getDefaultCfg=function(){var ae=Qt.prototype.getDefaultCfg.call(this);return ae.cursor="default",ae.supportCSSTransform=!1,ae},Yt.prototype.initContainer=function(){var ae=this.get("container");(0,_.HD)(ae)&&(ae=document.getElementById(ae),this.set("container",ae))},Yt.prototype.initDom=function(){var ae=this.createDom();this.set("el",ae);var xe=this.get("container");xe.appendChild(ae),this.setDOMSize(this.get("width"),this.get("height"))},Yt.prototype.initEvents=function(){var ae=new We({canvas:this});ae.init(),this.set("eventController",ae)},Yt.prototype.initTimeline=function(){var ae=new N(this);this.set("timeline",ae)},Yt.prototype.setDOMSize=function(ae,xe){var Le=this.get("el");_.jU&&(Le.style.width=ae+Cr,Le.style.height=xe+Cr)},Yt.prototype.changeSize=function(ae,xe){this.setDOMSize(ae,xe),this.set("width",ae),this.set("height",xe),this.onCanvasChange("changeSize")},Yt.prototype.getRenderer=function(){return this.get("renderer")},Yt.prototype.getCursor=function(){return this.get("cursor")},Yt.prototype.setCursor=function(ae){this.set("cursor",ae);var xe=this.get("el");_.jU&&xe&&(xe.style.cursor=ae)},Yt.prototype.getPointByEvent=function(ae){var xe=this.get("supportCSSTransform");if(xe){if(Be&&!(0,_.kK)(ae.layerX)&&ae.layerX!==ae.offsetX)return{x:ae.layerX,y:ae.layerY};if(!(0,_.kK)(ae.offsetX))return{x:ae.offsetX,y:ae.offsetY}}var Le=this.getClientByEvent(ae),Ke=Le.x,ur=Le.y;return this.getPointByClient(Ke,ur)},Yt.prototype.getClientByEvent=function(ae){var xe=ae;return ae.touches&&(ae.type==="touchend"?xe=ae.changedTouches[0]:xe=ae.touches[0]),{x:xe.clientX,y:xe.clientY}},Yt.prototype.getPointByClient=function(ae,xe){var Le=this.get("el"),Ke=Le.getBoundingClientRect();return{x:ae-Ke.left,y:xe-Ke.top}},Yt.prototype.getClientByPoint=function(ae,xe){var Le=this.get("el"),Ke=Le.getBoundingClientRect();return{x:ae+Ke.left,y:xe+Ke.top}},Yt.prototype.draw=function(){},Yt.prototype.removeDom=function(){var ae=this.get("el");ae.parentNode.removeChild(ae)},Yt.prototype.clearEvents=function(){var ae=this.get("eventController");ae.destroy()},Yt.prototype.isCanvas=function(){return!0},Yt.prototype.getParent=function(){return null},Yt.prototype.destroy=function(){var ae=this.get("timeline");this.get("destroyed")||(this.clear(),ae&&ae.stop(),this.clearEvents(),this.removeDom(),Qt.prototype.destroy.call(this))},Yt}(k.Z),pr=Ue},36540:function(ft,S,v){"use strict";var x=v(38251),O=v(94638),k=v(91241),_={},T="_INDEX";function A(m,p){if(m.set("canvas",p),m.isGroup()){var M=m.get("children");M.length&&M.forEach(function(P){A(P,p)})}}function C(m,p){if(m.set("timeline",p),m.isGroup()){var M=m.get("children");M.length&&M.forEach(function(P){C(P,p)})}}function E(m,p){var M=m.getChildren();return M.indexOf(p)>=0}function g(m,p,M){M===void 0&&(M=!0),M?p.destroy():(p.set("parent",null),p.set("canvas",null)),(0,k.As)(m.getChildren(),p)}function w(m){return function(p,M){var P=m(p,M);return P===0?p[T]-M[T]:P}}var y=function(m){(0,x.ZT)(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.isCanvas=function(){return!1},p.prototype.getBBox=function(){var M=Infinity,P=-Infinity,B=Infinity,F=-Infinity,W=this.getChildren().filter(function(H){return H.get("visible")&&(!H.isGroup()||H.isGroup()&&H.getChildren().length>0)});W.length>0?(0,k.S6)(W,function(H){var Z=H.getBBox(),ot=Z.minX,rt=Z.maxX,At=Z.minY,pt=Z.maxY;ot<M&&(M=ot),rt>P&&(P=rt),At<B&&(B=At),pt>F&&(F=pt)}):(M=0,P=0,B=0,F=0);var Q={x:M,y:B,minX:M,minY:B,maxX:P,maxY:F,width:P-M,height:F-B};return Q},p.prototype.getCanvasBBox=function(){var M=Infinity,P=-Infinity,B=Infinity,F=-Infinity,W=this.getChildren().filter(function(H){return H.get("visible")&&(!H.isGroup()||H.isGroup()&&H.getChildren().length>0)});W.length>0?(0,k.S6)(W,function(H){var Z=H.getCanvasBBox(),ot=Z.minX,rt=Z.maxX,At=Z.minY,pt=Z.maxY;ot<M&&(M=ot),rt>P&&(P=rt),At<B&&(B=At),pt>F&&(F=pt)}):(M=0,P=0,B=0,F=0);var Q={x:M,y:B,minX:M,minY:B,maxX:P,maxY:F,width:P-M,height:F-B};return Q},p.prototype.getDefaultCfg=function(){var M=m.prototype.getDefaultCfg.call(this);return M.children=[],M},p.prototype.onAttrChange=function(M,P,B){if(m.prototype.onAttrChange.call(this,M,P,B),M==="matrix"){var F=this.getTotalMatrix();this._applyChildrenMarix(F)}},p.prototype.applyMatrix=function(M){var P=this.getTotalMatrix();m.prototype.applyMatrix.call(this,M);var B=this.getTotalMatrix();B!==P&&this._applyChildrenMarix(B)},p.prototype._applyChildrenMarix=function(M){var P=this.getChildren();(0,k.S6)(P,function(B){B.applyMatrix(M)})},p.prototype.addShape=function(){for(var M=[],P=0;P<arguments.length;P++)M[P]=arguments[P];var B=M[0],F=M[1];(0,k.Kn)(B)?F=B:F.type=B;var W=_[F.type];W||(W=(0,k.jC)(F.type),_[F.type]=W);var Q=this.getShapeBase(),H=new Q[W](F);return this.add(H),H},p.prototype.addGroup=function(){for(var M=[],P=0;P<arguments.length;P++)M[P]=arguments[P];var B=M[0],F=M[1],W;if((0,k.mf)(B))F?W=new B(F):W=new B({parent:this});else{var Q=B||{},H=this.getGroupBase();W=new H(Q)}return this.add(W),W},p.prototype.getCanvas=function(){var M;return this.isCanvas()?M=this:M=this.get("canvas"),M},p.prototype.getShape=function(M,P,B){if(!(0,k.pP)(this))return null;var F=this.getChildren(),W;if(this.isCanvas())W=this._findShape(F,M,P,B);else{var Q=[M,P,1];Q=this.invertFromMatrix(Q),this.isClipped(Q[0],Q[1])||(W=this._findShape(F,Q[0],Q[1],B))}return W},p.prototype._findShape=function(M,P,B,F){for(var W=null,Q=M.length-1;Q>=0;Q--){var H=M[Q];if((0,k.pP)(H)&&(H.isGroup()?W=H.getShape(P,B,F):H.isHit(P,B)&&(W=H)),W)break}return W},p.prototype.add=function(M){var P=this.getCanvas(),B=this.getChildren(),F=this.get("timeline"),W=M.getParent();W&&g(W,M,!1),M.set("parent",this),P&&A(M,P),F&&C(M,F),B.push(M),M.onCanvasChange("add"),this._applyElementMatrix(M)},p.prototype._applyElementMatrix=function(M){var P=this.getTotalMatrix();P&&M.applyMatrix(P)},p.prototype.getChildren=function(){return this.get("children")},p.prototype.sort=function(){var M=this.getChildren();(0,k.S6)(M,function(P,B){return P[T]=B,P}),M.sort(w(function(P,B){return P.get("zIndex")-B.get("zIndex")})),this.onCanvasChange("sort")},p.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var M=this.getChildren(),P=M.length-1;P>=0;P--)M[P].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},p.prototype.destroy=function(){this.get("destroyed")||(this.clear(),m.prototype.destroy.call(this))},p.prototype.getFirst=function(){return this.getChildByIndex(0)},p.prototype.getLast=function(){var M=this.getChildren();return this.getChildByIndex(M.length-1)},p.prototype.getChildByIndex=function(M){var P=this.getChildren();return P[M]},p.prototype.getCount=function(){var M=this.getChildren();return M.length},p.prototype.contain=function(M){var P=this.getChildren();return P.indexOf(M)>-1},p.prototype.removeChild=function(M,P){P===void 0&&(P=!0),this.contain(M)&&M.remove(P)},p.prototype.findAll=function(M){var P=[],B=this.getChildren();return(0,k.S6)(B,function(F){M(F)&&P.push(F),F.isGroup()&&(P=P.concat(F.findAll(M)))}),P},p.prototype.find=function(M){var P=null,B=this.getChildren();return(0,k.S6)(B,function(F){if(M(F)?P=F:F.isGroup()&&(P=F.find(M)),P)return!1}),P},p.prototype.findById=function(M){return this.find(function(P){return P.get("id")===M})},p.prototype.findByClassName=function(M){return this.find(function(P){return P.get("className")===M})},p.prototype.findAllByName=function(M){return this.findAll(function(P){return P.get("name")===M})},p}(O.Z);S.Z=y},94638:function(ft,S,v){"use strict";v.d(S,{Z:function(){return Ft}});var x=v(38251),O=v(49242),k=v(35600);function _(Tt,Ot,xt){var ht=[0,0,0,0,0,0,0,0,0];return k.fromTranslation(ht,xt),k.multiply(Tt,ht,Ot)}function T(Tt,Ot,xt){var ht=[0,0,0,0,0,0,0,0,0];return k.fromRotation(ht,xt),k.multiply(Tt,ht,Ot)}function A(Tt,Ot,xt){var ht=[0,0,0,0,0,0,0,0,0];return k.fromScaling(ht,xt),k.multiply(Tt,ht,Ot)}function C(Tt,Ot,xt){return k.multiply(Tt,xt,Ot)}function E(Tt,Ot){for(var xt=Tt?[].concat(Tt):[1,0,0,0,1,0,0,0,1],ht=0,kt=Ot.length;ht<kt;ht++){var Gt=Ot[ht];switch(Gt[0]){case"t":_(xt,xt,[Gt[1],Gt[2]]);break;case"s":A(xt,xt,[Gt[1],Gt[2]]);break;case"r":T(xt,xt,Gt[1]);break;case"m":C(xt,xt,Gt[1]);break;default:break}}return xt}function g(Tt,Ot){return Tt[0]*Ot[1]-Ot[0]*Tt[1]}function w(Tt,Ot,xt){var ht=vec2.angle(Tt,Ot),kt=g(Tt,Ot)>=0;return xt?kt?Math.PI*2-ht:ht:kt?ht:Math.PI*2-ht}function y(Tt,Ot,xt){return xt?(Tt[0]=Ot[1],Tt[1]=-1*Ot[0]):(Tt[0]=-1*Ot[1],Tt[1]=Ot[0]),Tt}var m=v(91241),p=v(93557),M=v(3935),P=E,B="matrix",F=["zIndex","capture","visible","type"],W=["repeat"],Q=":",H="*";function Z(Tt){for(var Ot=[],xt=0;xt<Tt.length;xt++)(0,O.isArray)(Tt[xt])?Ot.push([].concat(Tt[xt])):Ot.push(Tt[xt]);return Ot}function ot(Tt,Ot){var xt={},ht=Ot.attrs;for(var kt in Tt)xt[kt]=ht[kt];return xt}function rt(Tt,Ot){var xt={},ht=Ot.attr();return(0,O.each)(Tt,function(kt,Gt){W.indexOf(Gt)===-1&&!(0,O.isEqual)(ht[Gt],kt)&&(xt[Gt]=kt)}),xt}function At(Tt,Ot){if(Ot.onFrame)return Tt;var xt=Ot.startTime,ht=Ot.delay,kt=Ot.duration,Gt=Object.prototype.hasOwnProperty;return(0,O.each)(Tt,function(dt){xt+ht<dt.startTime+dt.delay+dt.duration&&kt>dt.delay&&(0,O.each)(Ot.toAttrs,function(tt,I){Gt.call(dt.toAttrs,I)&&(delete dt.toAttrs[I],delete dt.fromAttrs[I])})}),Tt}var pt=function(Tt){(0,x.ZT)(Ot,Tt);function Ot(xt){var ht=Tt.call(this,xt)||this;ht.attrs={};var kt=ht.getDefaultAttrs();return(0,O.mix)(kt,xt.attrs),ht.attrs=kt,ht.initAttrs(kt),ht.initAnimate(),ht}return Ot.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},Ot.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},Ot.prototype.onCanvasChange=function(xt){},Ot.prototype.initAttrs=function(xt){},Ot.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},Ot.prototype.isGroup=function(){return!1},Ot.prototype.getParent=function(){return this.get("parent")},Ot.prototype.getCanvas=function(){return this.get("canvas")},Ot.prototype.attr=function(){for(var xt,ht=[],kt=0;kt<arguments.length;kt++)ht[kt]=arguments[kt];var Gt=ht[0],dt=ht[1];if(!Gt)return this.attrs;if((0,O.isObject)(Gt)){for(var tt in Gt)this.setAttr(tt,Gt[tt]);return this.afterAttrsChange(Gt),this}return ht.length===2?(this.setAttr(Gt,dt),this.afterAttrsChange((xt={},xt[Gt]=dt,xt)),this):this.attrs[Gt]},Ot.prototype.isClipped=function(xt,ht){var kt=this.getClip();return kt&&!kt.isHit(xt,ht)},Ot.prototype.setAttr=function(xt,ht){var kt=this.attrs[xt];kt!==ht&&(this.attrs[xt]=ht,this.onAttrChange(xt,ht,kt))},Ot.prototype.onAttrChange=function(xt,ht,kt){xt==="matrix"&&this.set("totalMatrix",null)},Ot.prototype.afterAttrsChange=function(xt){if(this.cfg.isClipShape){var ht=this.cfg.applyTo;ht&&ht.onCanvasChange("clip")}else this.onCanvasChange("attr")},Ot.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},Ot.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},Ot.prototype.setZIndex=function(xt){this.set("zIndex",xt);var ht=this.getParent();return ht&&ht.sort(),this},Ot.prototype.toFront=function(){var xt=this.getParent();if(!!xt){var ht=xt.getChildren(),kt=this.get("el"),Gt=ht.indexOf(this);ht.splice(Gt,1),ht.push(this),this.onCanvasChange("zIndex")}},Ot.prototype.toBack=function(){var xt=this.getParent();if(!!xt){var ht=xt.getChildren(),kt=this.get("el"),Gt=ht.indexOf(this);ht.splice(Gt,1),ht.unshift(this),this.onCanvasChange("zIndex")}},Ot.prototype.remove=function(xt){xt===void 0&&(xt=!0);var ht=this.getParent();ht?((0,m.As)(ht.getChildren(),this),ht.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),xt&&this.destroy()},Ot.prototype.resetMatrix=function(){this.attr(B,this.getDefaultMatrix()),this.onCanvasChange("matrix")},Ot.prototype.getMatrix=function(){return this.attr(B)},Ot.prototype.setMatrix=function(xt){this.attr(B,xt),this.onCanvasChange("matrix")},Ot.prototype.getTotalMatrix=function(){var xt=this.cfg.totalMatrix;if(!xt){var ht=this.attr("matrix"),kt=this.cfg.parentMatrix;kt&&ht?xt=(0,p.xq)(kt,ht):xt=ht||kt,this.set("totalMatrix",xt)}return xt},Ot.prototype.applyMatrix=function(xt){var ht=this.attr("matrix"),kt=null;xt&&ht?kt=(0,p.xq)(xt,ht):kt=ht||xt,this.set("totalMatrix",kt),this.set("parentMatrix",xt)},Ot.prototype.getDefaultMatrix=function(){return null},Ot.prototype.applyToMatrix=function(xt){var ht=this.attr("matrix");return ht?(0,p.rG)(ht,xt):xt},Ot.prototype.invertFromMatrix=function(xt){var ht=this.attr("matrix");if(ht){var kt=(0,p.U_)(ht);if(kt)return(0,p.rG)(kt,xt)}return xt},Ot.prototype.setClip=function(xt){var ht=this.getCanvas(),kt=null;if(xt){var Gt=this.getShapeBase(),dt=(0,O.upperFirst)(xt.type),tt=Gt[dt];tt&&(kt=new tt({type:xt.type,isClipShape:!0,applyTo:this,attrs:xt.attrs,canvas:ht}))}return this.set("clipShape",kt),this.onCanvasChange("clip"),kt},Ot.prototype.getClip=function(){var xt=this.cfg.clipShape;return xt||null},Ot.prototype.clone=function(){var xt=this,ht=this.attrs,kt={};(0,O.each)(ht,function(tt,I){(0,O.isArray)(ht[I])?kt[I]=Z(ht[I]):kt[I]=ht[I]});var Gt=this.constructor,dt=new Gt({attrs:kt});return(0,O.each)(F,function(tt){dt.set(tt,xt.get(tt))}),dt},Ot.prototype.destroy=function(){var xt=this.destroyed;xt||(this.attrs={},Tt.prototype.destroy.call(this))},Ot.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},Ot.prototype.animate=function(){for(var xt=[],ht=0;ht<arguments.length;ht++)xt[ht]=arguments[ht];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var kt=this.get("timeline");kt||(kt=this.get("canvas").get("timeline"),this.set("timeline",kt));var Gt=this.get("animations")||[];kt.timer||kt.initTimer();var dt=xt[0],tt=xt[1],I=xt[2],u=I===void 0?"easeLinear":I,Y=xt[3],G=Y===void 0?O.noop:Y,X=xt[4],U=X===void 0?0:X,J,lt,It,bt,et;(0,O.isFunction)(dt)?(J=dt,dt={}):(0,O.isObject)(dt)&&dt.onFrame&&(J=dt.onFrame,lt=dt.repeat),(0,O.isObject)(tt)?(et=tt,tt=et.duration,u=et.easing||"easeLinear",U=et.delay||0,lt=et.repeat||lt||!1,G=et.callback||O.noop,It=et.pauseCallback||O.noop,bt=et.resumeCallback||O.noop):((0,O.isNumber)(G)&&(U=G,G=null),(0,O.isFunction)(u)?(G=u,u="easeLinear"):u=u||"easeLinear");var Ct=rt(dt,this),it={fromAttrs:ot(Ct,this),toAttrs:Ct,duration:tt,easing:u,repeat:lt,callback:G,pauseCallback:It,resumeCallback:bt,delay:U,startTime:kt.getTime(),id:(0,O.uniqueId)(),onFrame:J,pathFormatted:!1};Gt.length>0?Gt=At(Gt,it):kt.addAnimator(this),Gt.push(it),this.set("animations",Gt),this.set("_pause",{isPaused:!1})}},Ot.prototype.stopAnimate=function(xt){var ht=this;xt===void 0&&(xt=!0);var kt=this.get("animations");(0,O.each)(kt,function(Gt){xt&&(Gt.onFrame?ht.attr(Gt.onFrame(1)):ht.attr(Gt.toAttrs)),Gt.callback&&Gt.callback()}),this.set("animating",!1),this.set("animations",[])},Ot.prototype.pauseAnimate=function(){var xt=this.get("timeline"),ht=this.get("animations"),kt=xt.getTime();return(0,O.each)(ht,function(Gt){Gt._paused=!0,Gt._pauseTime=kt,Gt.pauseCallback&&Gt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:kt}),this},Ot.prototype.resumeAnimate=function(){var xt=this.get("timeline"),ht=xt.getTime(),kt=this.get("animations"),Gt=this.get("_pause").pauseTime;return(0,O.each)(kt,function(dt){dt.startTime=dt.startTime+(ht-Gt),dt._paused=!1,dt._pauseTime=null,dt.resumeCallback&&dt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",kt),this},Ot.prototype.emitDelegation=function(xt,ht){var kt=this,Gt=ht.propagationPath,dt=this.getEvents(),tt;xt==="mouseenter"?tt=ht.fromShape:xt==="mouseleave"&&(tt=ht.toShape);for(var I=function(X){var U=Gt[X],J=U.get("name");if(J){if((U.isGroup()||U.isCanvas&&U.isCanvas())&&tt&&(0,m.UY)(U,tt))return"break";(0,O.isArray)(J)?(0,O.each)(J,function(lt){kt.emitDelegateEvent(U,lt,ht)}):u.emitDelegateEvent(U,J,ht)}},u=this,Y=0;Y<Gt.length;Y++){var G=I(Y);if(G==="break")break}},Ot.prototype.emitDelegateEvent=function(xt,ht,kt){var Gt=this.getEvents(),dt=ht+Q+kt.type;(Gt[dt]||Gt[H])&&(kt.name=dt,kt.currentTarget=xt,kt.delegateTarget=this,kt.delegateObject=xt.get("delegateObject"),this.emit(dt,kt))},Ot.prototype.translate=function(xt,ht){xt===void 0&&(xt=0),ht===void 0&&(ht=0);var kt=this.getMatrix(),Gt=P(kt,[["t",xt,ht]]);return this.setMatrix(Gt),this},Ot.prototype.move=function(xt,ht){var kt=this.attr("x")||0,Gt=this.attr("y")||0;return this.translate(xt-kt,ht-Gt),this},Ot.prototype.moveTo=function(xt,ht){return this.move(xt,ht)},Ot.prototype.scale=function(xt,ht){var kt=this.getMatrix(),Gt=P(kt,[["s",xt,ht||xt]]);return this.setMatrix(Gt),this},Ot.prototype.rotate=function(xt){var ht=this.getMatrix(),kt=P(ht,[["r",xt]]);return this.setMatrix(kt),this},Ot.prototype.rotateAtStart=function(xt){var ht=this.attr(),kt=ht.x,Gt=ht.y,dt=this.getMatrix(),tt=P(dt,[["t",-kt,-Gt],["r",xt],["t",kt,Gt]]);return this.setMatrix(tt),this},Ot.prototype.rotateAtPoint=function(xt,ht,kt){var Gt=this.getMatrix(),dt=P(Gt,[["t",-xt,-ht],["r",kt],["t",xt,ht]]);return this.setMatrix(dt),this},Ot}(M.Z),Ft=pt},1756:function(ft,S,v){"use strict";var x=v(38251),O=v(36540),k=function(_){(0,x.ZT)(T,_);function T(){return _!==null&&_.apply(this,arguments)||this}return T.prototype.isGroup=function(){return!0},T.prototype.isEntityGroup=function(){return!1},T.prototype.clone=function(){for(var A=_.prototype.clone.call(this),C=this.getChildren(),E=0;E<C.length;E++){var g=C[E];A.add(g.clone())}return A},T}(O.Z);S.Z=k},51995:function(ft,S,v){"use strict";var x=v(38251),O=v(94638),k=v(93557),_=function(T){(0,x.ZT)(A,T);function A(C){return T.call(this,C)||this}return A.prototype._isInBBox=function(C,E){var g=this.getBBox();return g.minX<=C&&g.maxX>=C&&g.minY<=E&&g.maxY>=E},A.prototype.afterAttrsChange=function(C){T.prototype.afterAttrsChange.call(this,C),this.clearCacheBBox()},A.prototype.getBBox=function(){var C=this.cfg.bbox;return C||(C=this.calculateBBox(),this.set("bbox",C)),C},A.prototype.getCanvasBBox=function(){var C=this.cfg.canvasBBox;return C||(C=this.calculateCanvasBBox(),this.set("canvasBBox",C)),C},A.prototype.applyMatrix=function(C){T.prototype.applyMatrix.call(this,C),this.set("canvasBBox",null)},A.prototype.calculateCanvasBBox=function(){var C=this.getBBox(),E=this.getTotalMatrix(),g=C.minX,w=C.minY,y=C.maxX,m=C.maxY;if(E){var p=(0,k.rG)(E,[C.minX,C.minY]),M=(0,k.rG)(E,[C.maxX,C.minY]),P=(0,k.rG)(E,[C.minX,C.maxY]),B=(0,k.rG)(E,[C.maxX,C.maxY]);g=Math.min(p[0],M[0],P[0],B[0]),y=Math.max(p[0],M[0],P[0],B[0]),w=Math.min(p[1],M[1],P[1],B[1]),m=Math.max(p[1],M[1],P[1],B[1])}var F=this.attrs;if(F.shadowColor){var W=F.shadowBlur,Q=W===void 0?0:W,H=F.shadowOffsetX,Z=H===void 0?0:H,ot=F.shadowOffsetY,rt=ot===void 0?0:ot,At=g-Q+Z,pt=y+Q+Z,Ft=w-Q+rt,Tt=m+Q+rt;g=Math.min(g,At),y=Math.max(y,pt),w=Math.min(w,Ft),m=Math.max(m,Tt)}return{x:g,y:w,minX:g,minY:w,maxX:y,maxY:m,width:y-g,height:m-w}},A.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},A.prototype.isClipShape=function(){return this.get("isClipShape")},A.prototype.isInShape=function(C,E){return!1},A.prototype.isOnlyHitBox=function(){return!1},A.prototype.isHit=function(C,E){var g=this.get("startArrowShape"),w=this.get("endArrowShape"),y=[C,E,1];y=this.invertFromMatrix(y);var m=y[0],p=y[1],M=this._isInBBox(m,p);return this.isOnlyHitBox()?M:!!(M&&!this.isClipped(m,p)&&(this.isInShape(m,p)||g&&g.isHit(m,p)||w&&w.isHit(m,p)))},A}(O.Z);S.Z=_},8364:function(ft,S,v){"use strict";v.d(S,{_:function(){return k},C:function(){return _}});var x=v(13681),O={};function k(T){return O[T.toLowerCase()]||x[T]}function _(T,A){O[T.toLowerCase()]=A}},95802:function(ft,S,v){"use strict";v.d(S,{b:function(){return k},W:function(){return O}});var x=new Map;function O(H,Z){x.set(H,Z)}function k(H){return x.get(H)}function _(H){var Z=H.attr(),ot=Z.x,rt=Z.y,At=Z.width,pt=Z.height;return{x:ot,y:rt,width:At,height:pt}}function T(H){var Z=H.attr(),ot=Z.x,rt=Z.y,At=Z.r;return{x:ot-At,y:rt-At,width:At*2,height:At*2}}var A=v(89838);function C(H,Z){return!H||!Z?H||Z:{minX:Math.min(H.minX,Z.minX),minY:Math.min(H.minY,Z.minY),maxX:Math.max(H.maxX,Z.maxX),maxY:Math.max(H.maxY,Z.maxY)}}function E(H,Z){var ot=H.get("startArrowShape"),rt=H.get("endArrowShape"),At=null,pt=null;return ot&&(At=ot.getCanvasBBox(),Z=C(Z,At)),rt&&(pt=rt.getCanvasBBox(),Z=C(Z,pt)),Z}function g(H){for(var Z=H.attr(),ot=Z.points,rt=[],At=[],pt=0;pt<ot.length;pt++){var Ft=ot[pt];rt.push(Ft[0]),At.push(Ft[1])}var Tt=A.Util.getBBoxByArray(rt,At),Ot=Tt.x,xt=Tt.y,ht=Tt.width,kt=Tt.height,Gt={minX:Ot,minY:xt,maxX:Ot+ht,maxY:xt+kt};return Gt=E(H,Gt),{x:Gt.minX,y:Gt.minY,width:Gt.maxX-Gt.minX,height:Gt.maxY-Gt.minY}}function w(H){for(var Z=H.attr(),ot=Z.points,rt=[],At=[],pt=0;pt<ot.length;pt++){var Ft=ot[pt];rt.push(Ft[0]),At.push(Ft[1])}return A.Util.getBBoxByArray(rt,At)}var y=v(93323);function m(H){var Z=H.attr(),ot=Z.x,rt=Z.y,At=Z.text,pt=Z.fontSize,Ft=Z.lineHeight,Tt=Z.font;Tt||(Tt=(0,y.$O)(Z));var Ot=(0,y.mY)(At,Tt),xt;if(!Ot)xt={x:ot,y:rt,width:0,height:0};else{var ht=Z.textAlign,kt=Z.textBaseline,Gt=(0,y.FE)(At,pt,Ft),dt={x:ot,y:rt-Gt};ht&&(ht==="end"||ht==="right"?dt.x-=Ot:ht==="center"&&(dt.x-=Ot/2)),kt&&(kt==="top"?dt.y+=Gt:kt==="middle"&&(dt.y+=Gt/2)),xt={x:dt.x,y:dt.y,width:Ot,height:Gt}}return xt}var p=v(57350),M=v(49242);function P(H,Z){for(var ot=[],rt=[],At=[],pt=0;pt<H.length;pt++){var Ft=H[pt],Tt=Ft.currentPoint,Ot=Ft.params,xt=Ft.prePoint,ht=void 0;switch(Ft.command){case"Q":ht=A.Quad.box(xt[0],xt[1],Ot[1],Ot[2],Ot[3],Ot[4]);break;case"C":ht=A.Cubic.box(xt[0],xt[1],Ot[1],Ot[2],Ot[3],Ot[4],Ot[5],Ot[6]);break;case"A":var kt=Ft.arcParams;ht=A.Arc.box(kt.cx,kt.cy,kt.rx,kt.ry,kt.xRotation,kt.startAngle,kt.endAngle);break;default:ot.push(Tt[0]),rt.push(Tt[1]);break}ht&&(Ft.box=ht,ot.push(ht.x,ht.x+ht.width),rt.push(ht.y,ht.y+ht.height)),Z&&(Ft.command==="L"||Ft.command==="M")&&Ft.prePoint&&Ft.nextPoint&&At.push(Ft)}ot=ot.filter(function(Y){return!Number.isNaN(Y)&&Y!==Infinity&&Y!==-Infinity}),rt=rt.filter(function(Y){return!Number.isNaN(Y)&&Y!==Infinity&&Y!==-Infinity});var Gt=(0,M.min)(ot),dt=(0,M.min)(rt),tt=(0,M.max)(ot),I=(0,M.max)(rt);if(At.length===0)return{x:Gt,y:dt,width:tt-Gt,height:I-dt};for(var pt=0;pt<At.length;pt++){var Ft=At[pt],Tt=Ft.currentPoint,u=void 0;Tt[0]===Gt?(u=B(Ft,Z),Gt=Gt-u.xExtra):Tt[0]===tt&&(u=B(Ft,Z),tt=tt+u.xExtra),Tt[1]===dt?(u=B(Ft,Z),dt=dt-u.yExtra):Tt[1]===I&&(u=B(Ft,Z),I=I+u.yExtra)}return{x:Gt,y:dt,width:tt-Gt,height:I-dt}}function B(H,Z){var ot=H.prePoint,rt=H.currentPoint,At=H.nextPoint,pt=Math.pow(rt[0]-ot[0],2)+Math.pow(rt[1]-ot[1],2),Ft=Math.pow(rt[0]-At[0],2)+Math.pow(rt[1]-At[1],2),Tt=Math.pow(ot[0]-At[0],2)+Math.pow(ot[1]-At[1],2),Ot=Math.acos((pt+Ft-Tt)/(2*Math.sqrt(pt)*Math.sqrt(Ft)));if(!Ot||Math.sin(Ot)===0||(0,M.isNumberEqual)(Ot,0))return{xExtra:0,yExtra:0};var xt=Math.abs(Math.atan2(At[1]-rt[1],At[0]-rt[0])),ht=Math.abs(Math.atan2(At[0]-rt[0],At[1]-rt[1]));xt=xt>Math.PI/2?Math.PI-xt:xt,ht=ht>Math.PI/2?Math.PI-ht:ht;var kt={xExtra:Math.cos(Ot/2-xt)*(Z/2*(1/Math.sin(Ot/2)))-Z/2||0,yExtra:Math.cos(ht-Ot/2)*(Z/2*(1/Math.sin(Ot/2)))-Z/2||0};return kt}function F(H){var Z=H.attr(),ot=Z.path,rt=Z.stroke,At=rt?Z.lineWidth:0,pt=H.get("segments")||(0,p.path2Segments)(ot),Ft=P(pt,At),Tt=Ft.x,Ot=Ft.y,xt=Ft.width,ht=Ft.height,kt={minX:Tt,minY:Ot,maxX:Tt+xt,maxY:Ot+ht};return kt=E(H,kt),{x:kt.minX,y:kt.minY,width:kt.maxX-kt.minX,height:kt.maxY-kt.minY}}function W(H){var Z=H.attr(),ot=Z.x1,rt=Z.y1,At=Z.x2,pt=Z.y2,Ft=Math.min(ot,At),Tt=Math.max(ot,At),Ot=Math.min(rt,pt),xt=Math.max(rt,pt),ht={minX:Ft,maxX:Tt,minY:Ot,maxY:xt};return ht=E(H,ht),{x:ht.minX,y:ht.minY,width:ht.maxX-ht.minX,height:ht.maxY-ht.minY}}function Q(H){var Z=H.attr(),ot=Z.x,rt=Z.y,At=Z.rx,pt=Z.ry;return{x:ot-At,y:rt-pt,width:At*2,height:pt*2}}O("rect",_),O("image",_),O("circle",T),O("marker",T),O("polyline",g),O("polygon",w),O("text",m),O("path",F),O("line",W),O("ellipse",Q)},65608:function(ft,S){"use strict";var v=function(){function x(O,k){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=k,this.timeStamp=k.timeStamp}return x.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},x.prototype.stopPropagation=function(){this.propagationStopped=!0},x.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},x.prototype.save=function(){},x.prototype.restore=function(){},x}();S.Z=v},85622:function(ft,S,v){"use strict";v.r(S),v.d(S,{Event:function(){return E.Z},Base:function(){return g.Z},AbstractCanvas:function(){return w.Z},AbstractGroup:function(){return y.Z},AbstractShape:function(){return m.Z},PathUtil:function(){return x},getBBoxMethod:function(){return p.b},registerBBox:function(){return p.W},getTextHeight:function(){return M.FE},assembleFont:function(){return M.$O},isAllowCapture:function(){return P.pP},multiplyVec2:function(){return B.rG},invert:function(){return B.U_},getOffScreenContext:function(){return F.L},registerEasing:function(){return W.C},version:function(){return Q}});var x=v(80234),O=v(82723),k=v.n(O),_={};for(var T in O)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(T)<0&&(_[T]=function(H){return O[H]}.bind(0,T));v.d(S,_);var A=v(12548),C=v.n(A),_={};for(var T in A)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(T)<0&&(_[T]=function(Z){return A[Z]}.bind(0,T));v.d(S,_);var E=v(65608),g=v(3935),w=v(28190),y=v(1756),m=v(51995),p=v(95802),M=v(93323),P=v(91241),B=v(93557),F=v(40897),W=v(8364),Q="0.5.11"},12548:function(){},82723:function(){},93557:function(ft,S,v){"use strict";v.d(S,{xq:function(){return x},rG:function(){return O},U_:function(){return k}});function x(_,T){var A=[],C=_[0],E=_[1],g=_[2],w=_[3],y=_[4],m=_[5],p=_[6],M=_[7],P=_[8],B=T[0],F=T[1],W=T[2],Q=T[3],H=T[4],Z=T[5],ot=T[6],rt=T[7],At=T[8];return A[0]=B*C+F*w+W*p,A[1]=B*E+F*y+W*M,A[2]=B*g+F*m+W*P,A[3]=Q*C+H*w+Z*p,A[4]=Q*E+H*y+Z*M,A[5]=Q*g+H*m+Z*P,A[6]=ot*C+rt*w+At*p,A[7]=ot*E+rt*y+At*M,A[8]=ot*g+rt*m+At*P,A}function O(_,T){var A=[],C=T[0],E=T[1];return A[0]=_[0]*C+_[3]*E+_[6],A[1]=_[1]*C+_[4]*E+_[7],A}function k(_){var T=[],A=_[0],C=_[1],E=_[2],g=_[3],w=_[4],y=_[5],m=_[6],p=_[7],M=_[8],P=M*w-y*p,B=-M*g+y*m,F=p*g-w*m,W=A*P+C*B+E*F;return W?(W=1/W,T[0]=P*W,T[1]=(-M*C+E*p)*W,T[2]=(y*C-E*w)*W,T[3]=B*W,T[4]=(M*A-E*m)*W,T[5]=(-y*A+E*g)*W,T[6]=F*W,T[7]=(-p*A+C*m)*W,T[8]=(w*A-C*g)*W,T):null}},40897:function(ft,S,v){"use strict";v.d(S,{L:function(){return O}});var x=null;function O(){if(!x){var k=document.createElement("canvas");k.width=1,k.height=1,x=k.getContext("2d")}return x}},80234:function(ft,S,v){"use strict";v.r(S),v.d(S,{catmullRomToBezier:function(){return A},fillPath:function(){return kt},fillPathByDiff:function(){return I},formatPath:function(){return G},intersection:function(){return Tt},parsePathArray:function(){return M},parsePathString:function(){return T},pathToAbsolute:function(){return E},pathToCurve:function(){return m},rectPath:function(){return H}});var x=v(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,k=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),_=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig"),T=function(X){if(!X)return null;if((0,x.isArray)(X))return X;var U={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},J=[];return String(X).replace(k,function(lt,It,bt){var et=[],Ct=It.toLowerCase();if(bt.replace(_,function(it,st){st&&et.push(+st)}),Ct==="m"&&et.length>2&&(J.push([It].concat(et.splice(0,2))),Ct="l",It=It==="m"?"l":"L"),Ct==="o"&&et.length===1&&J.push([It,et[0]]),Ct==="r")J.push([It].concat(et));else for(;et.length>=U[Ct]&&(J.push([It].concat(et.splice(0,U[Ct]))),!!U[Ct]););return X}),J},A=function(X,U){for(var J=[],lt=0,It=X.length;It-2*!U>lt;lt+=2){var bt=[{x:+X[lt-2],y:+X[lt-1]},{x:+X[lt],y:+X[lt+1]},{x:+X[lt+2],y:+X[lt+3]},{x:+X[lt+4],y:+X[lt+5]}];U?lt?It-4===lt?bt[3]={x:+X[0],y:+X[1]}:It-2===lt&&(bt[2]={x:+X[0],y:+X[1]},bt[3]={x:+X[2],y:+X[3]}):bt[0]={x:+X[It-2],y:+X[It-1]}:It-4===lt?bt[3]=bt[2]:lt||(bt[0]={x:+X[lt],y:+X[lt+1]}),J.push(["C",(-bt[0].x+6*bt[1].x+bt[2].x)/6,(-bt[0].y+6*bt[1].y+bt[2].y)/6,(bt[1].x+6*bt[2].x-bt[3].x)/6,(bt[1].y+6*bt[2].y-bt[3].y)/6,bt[2].x,bt[2].y])}return J},C=function(X,U,J,lt,It){var bt=[];if(It===null&&lt===null&&(lt=J),X=+X,U=+U,J=+J,lt=+lt,It!==null){var et=Math.PI/180,Ct=X+J*Math.cos(-lt*et),it=X+J*Math.cos(-It*et),st=U+J*Math.sin(-lt*et),St=U+J*Math.sin(-It*et);bt=[["M",Ct,st],["A",J,J,0,+(It-lt>180),0,it,St]]}else bt=[["M",X,U],["m",0,-lt],["a",J,lt,0,1,1,0,2*lt],["a",J,lt,0,1,1,0,-2*lt],["z"]];return bt},E=function(X){if(X=T(X),!X||!X.length)return[["M",0,0]];var U=[],J=0,lt=0,It=0,bt=0,et=0,Ct,it;X[0][0]==="M"&&(J=+X[0][1],lt=+X[0][2],It=J,bt=lt,et++,U[0]=["M",J,lt]);for(var st=X.length===3&&X[0][0]==="M"&&X[1][0].toUpperCase()==="R"&&X[2][0].toUpperCase()==="Z",St=void 0,at=void 0,nt=et,mt=X.length;nt<mt;nt++){if(U.push(St=[]),at=X[nt],Ct=at[0],Ct!==Ct.toUpperCase())switch(St[0]=Ct.toUpperCase(),St[0]){case"A":St[1]=at[1],St[2]=at[2],St[3]=at[3],St[4]=at[4],St[5]=at[5],St[6]=+at[6]+J,St[7]=+at[7]+lt;break;case"V":St[1]=+at[1]+lt;break;case"H":St[1]=+at[1]+J;break;case"R":it=[J,lt].concat(at.slice(1));for(var Dt=2,ee=it.length;Dt<ee;Dt++)it[Dt]=+it[Dt]+J,it[++Dt]=+it[Dt]+lt;U.pop(),U=U.concat(A(it,st));break;case"O":U.pop(),it=C(J,lt,at[1],at[2]),it.push(it[0]),U=U.concat(it);break;case"U":U.pop(),U=U.concat(C(J,lt,at[1],at[2],at[3])),St=["U"].concat(U[U.length-1].slice(-2));break;case"M":It=+at[1]+J,bt=+at[2]+lt;break;default:for(var Dt=1,ee=at.length;Dt<ee;Dt++)St[Dt]=+at[Dt]+(Dt%2?J:lt)}else if(Ct==="R")it=[J,lt].concat(at.slice(1)),U.pop(),U=U.concat(A(it,st)),St=["R"].concat(at.slice(-2));else if(Ct==="O")U.pop(),it=C(J,lt,at[1],at[2]),it.push(it[0]),U=U.concat(it);else if(Ct==="U")U.pop(),U=U.concat(C(J,lt,at[1],at[2],at[3])),St=["U"].concat(U[U.length-1].slice(-2));else for(var ce=0,le=at.length;ce<le;ce++)St[ce]=at[ce];if(Ct=Ct.toUpperCase(),Ct!=="O")switch(St[0]){case"Z":J=+It,lt=+bt;break;case"H":J=St[1];break;case"V":lt=St[1];break;case"M":It=St[St.length-2],bt=St[St.length-1];break;default:J=St[St.length-2],lt=St[St.length-1]}}return U},g=function(X,U,J,lt){return[X,U,J,lt,J,lt]},w=function(X,U,J,lt,It,bt){var et=1/3,Ct=2/3;return[et*X+Ct*J,et*U+Ct*lt,et*It+Ct*J,et*bt+Ct*lt,It,bt]},y=function(X,U,J,lt,It,bt,et,Ct,it,st){J===lt&&(J+=1);var St=Math.PI*120/180,at=Math.PI/180*(+It||0),nt=[],mt,Dt,ee,ce,le,Xe=function(qe,yr,Lr){var wr=qe*Math.cos(Lr)-yr*Math.sin(Lr),kr=qe*Math.sin(Lr)+yr*Math.cos(Lr);return{x:wr,y:kr}};if(st)Dt=st[0],ee=st[1],ce=st[2],le=st[3];else{mt=Xe(X,U,-at),X=mt.x,U=mt.y,mt=Xe(Ct,it,-at),Ct=mt.x,it=mt.y,X===Ct&&U===it&&(Ct+=1,it+=1);var Ie=(X-Ct)/2,Re=(U-it)/2,or=Ie*Ie/(J*J)+Re*Re/(lt*lt);or>1&&(or=Math.sqrt(or),J=or*J,lt=or*lt);var lr=J*J,Ir=lt*lt,Er=(bt===et?-1:1)*Math.sqrt(Math.abs((lr*Ir-lr*Re*Re-Ir*Ie*Ie)/(lr*Re*Re+Ir*Ie*Ie)));ce=Er*J*Re/lt+(X+Ct)/2,le=Er*-lt*Ie/J+(U+it)/2,Dt=Math.asin(((U-le)/lt).toFixed(9)),ee=Math.asin(((it-le)/lt).toFixed(9)),Dt=X<ce?Math.PI-Dt:Dt,ee=Ct<ce?Math.PI-ee:ee,Dt<0&&(Dt=Math.PI*2+Dt),ee<0&&(ee=Math.PI*2+ee),et&&Dt>ee&&(Dt=Dt-Math.PI*2),!et&&ee>Dt&&(ee=ee-Math.PI*2)}var on=ee-Dt;if(Math.abs(on)>St){var In=ee,fn=Ct,xn=it;ee=Dt+St*(et&&ee>Dt?1:-1),Ct=ce+J*Math.cos(ee),it=le+lt*Math.sin(ee),nt=y(Ct,it,J,lt,It,0,et,fn,xn,[ee,In,ce,le])}on=ee-Dt;var $n=Math.cos(Dt),ui=Math.sin(Dt),Si=Math.cos(ee),bi=Math.sin(ee),$t=Math.tan(on/4),se=4/3*J*$t,ge=4/3*lt*$t,me=[X,U],ke=[X+se*ui,U-ge*$n],Fe=[Ct+se*bi,it-ge*Si],Ne=[Ct,it];if(ke[0]=2*me[0]-ke[0],ke[1]=2*me[1]-ke[1],st)return[ke,Fe,Ne].concat(nt);nt=[ke,Fe,Ne].concat(nt).join().split(",");for(var Ve=[],Te=0,vr=nt.length;Te<vr;Te++)Ve[Te]=Te%2?Xe(nt[Te-1],nt[Te],at).y:Xe(nt[Te],nt[Te+1],at).x;return Ve},m=function(X,U){var J=E(X),lt=U&&E(U),It={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},bt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},et=[],Ct=[],it="",st="",St,at=function(Ie,Re,or){var lr,Ir;if(!Ie)return["C",Re.x,Re.y,Re.x,Re.y,Re.x,Re.y];switch(!(Ie[0]in{T:1,Q:1})&&(Re.qx=Re.qy=null),Ie[0]){case"M":Re.X=Ie[1],Re.Y=Ie[2];break;case"A":Ie=["C"].concat(y.apply(0,[Re.x,Re.y].concat(Ie.slice(1))));break;case"S":or==="C"||or==="S"?(lr=Re.x*2-Re.bx,Ir=Re.y*2-Re.by):(lr=Re.x,Ir=Re.y),Ie=["C",lr,Ir].concat(Ie.slice(1));break;case"T":or==="Q"||or==="T"?(Re.qx=Re.x*2-Re.qx,Re.qy=Re.y*2-Re.qy):(Re.qx=Re.x,Re.qy=Re.y),Ie=["C"].concat(w(Re.x,Re.y,Re.qx,Re.qy,Ie[1],Ie[2]));break;case"Q":Re.qx=Ie[1],Re.qy=Ie[2],Ie=["C"].concat(w(Re.x,Re.y,Ie[1],Ie[2],Ie[3],Ie[4]));break;case"L":Ie=["C"].concat(g(Re.x,Re.y,Ie[1],Ie[2]));break;case"H":Ie=["C"].concat(g(Re.x,Re.y,Ie[1],Re.y));break;case"V":Ie=["C"].concat(g(Re.x,Re.y,Re.x,Ie[1]));break;case"Z":Ie=["C"].concat(g(Re.x,Re.y,Re.X,Re.Y));break;default:break}return Ie},nt=function(Ie,Re){if(Ie[Re].length>7){Ie[Re].shift();for(var or=Ie[Re];or.length;)et[Re]="A",lt&&(Ct[Re]="A"),Ie.splice(Re++,0,["C"].concat(or.splice(0,6)));Ie.splice(Re,1),St=Math.max(J.length,lt&&lt.length||0)}},mt=function(Ie,Re,or,lr,Ir){Ie&&Re&&Ie[Ir][0]==="M"&&Re[Ir][0]!=="M"&&(Re.splice(Ir,0,["M",lr.x,lr.y]),or.bx=0,or.by=0,or.x=Ie[Ir][1],or.y=Ie[Ir][2],St=Math.max(J.length,lt&&lt.length||0))};St=Math.max(J.length,lt&&lt.length||0);for(var Dt=0;Dt<St;Dt++){J[Dt]&&(it=J[Dt][0]),it!=="C"&&(et[Dt]=it,Dt&&(st=et[Dt-1])),J[Dt]=at(J[Dt],It,st),et[Dt]!=="A"&&it==="C"&&(et[Dt]="C"),nt(J,Dt),lt&&(lt[Dt]&&(it=lt[Dt][0]),it!=="C"&&(Ct[Dt]=it,Dt&&(st=Ct[Dt-1])),lt[Dt]=at(lt[Dt],bt,st),Ct[Dt]!=="A"&&it==="C"&&(Ct[Dt]="C"),nt(lt,Dt)),mt(J,lt,It,bt,Dt),mt(lt,J,bt,It,Dt);var ee=J[Dt],ce=lt&&lt[Dt],le=ee.length,Xe=lt&&ce.length;It.x=ee[le-2],It.y=ee[le-1],It.bx=parseFloat(ee[le-4])||It.x,It.by=parseFloat(ee[le-3])||It.y,bt.bx=lt&&(parseFloat(ce[Xe-4])||bt.x),bt.by=lt&&(parseFloat(ce[Xe-3])||bt.y),bt.x=lt&&ce[Xe-2],bt.y=lt&&ce[Xe-1]}return lt?[J,lt]:J},p=/,?([a-z]),?/gi,M=function(X){return X.join(",").replace(p,"$1")},P=function(X,U,J,lt,It){var bt=-3*U+9*J-9*lt+3*It,et=X*bt+6*U-12*J+6*lt;return X*et-3*U+3*J},B=function(X,U,J,lt,It,bt,et,Ct,it){it===null&&(it=1),it=it>1?1:it<0?0:it;for(var st=it/2,St=12,at=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],nt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],mt=0,Dt=0;Dt<St;Dt++){var ee=st*at[Dt]+st,ce=P(ee,X,J,It,et),le=P(ee,U,lt,bt,Ct),Xe=ce*ce+le*le;mt+=nt[Dt]*Math.sqrt(Xe)}return st*mt},F=function(X,U,J,lt,It,bt,et,Ct){for(var it=[],st=[[],[]],St,at,nt,mt,Dt=0;Dt<2;++Dt){if(Dt===0?(at=6*X-12*J+6*It,St=-3*X+9*J-9*It+3*et,nt=3*J-3*X):(at=6*U-12*lt+6*bt,St=-3*U+9*lt-9*bt+3*Ct,nt=3*lt-3*U),Math.abs(St)<1e-12){if(Math.abs(at)<1e-12)continue;mt=-nt/at,mt>0&&mt<1&&it.push(mt);continue}var ee=at*at-4*nt*St,ce=Math.sqrt(ee);if(!(ee<0)){var le=(-at+ce)/(2*St);le>0&&le<1&&it.push(le);var Xe=(-at-ce)/(2*St);Xe>0&&Xe<1&&it.push(Xe)}}for(var Ie=it.length,Re=Ie,or;Ie--;)mt=it[Ie],or=1-mt,st[0][Ie]=or*or*or*X+3*or*or*mt*J+3*or*mt*mt*It+mt*mt*mt*et,st[1][Ie]=or*or*or*U+3*or*or*mt*lt+3*or*mt*mt*bt+mt*mt*mt*Ct;return st[0][Re]=X,st[1][Re]=U,st[0][Re+1]=et,st[1][Re+1]=Ct,st[0].length=st[1].length=Re+2,{min:{x:Math.min.apply(0,st[0]),y:Math.min.apply(0,st[1])},max:{x:Math.max.apply(0,st[0]),y:Math.max.apply(0,st[1])}}},W=function(X,U,J,lt,It,bt,et,Ct){if(!(Math.max(X,J)<Math.min(It,et)||Math.min(X,J)>Math.max(It,et)||Math.max(U,lt)<Math.min(bt,Ct)||Math.min(U,lt)>Math.max(bt,Ct))){var it=(X*lt-U*J)*(It-et)-(X-J)*(It*Ct-bt*et),st=(X*lt-U*J)*(bt-Ct)-(U-lt)*(It*Ct-bt*et),St=(X-J)*(bt-Ct)-(U-lt)*(It-et);if(!!St){var at=it/St,nt=st/St,mt=+at.toFixed(2),Dt=+nt.toFixed(2);if(!(mt<+Math.min(X,J).toFixed(2)||mt>+Math.max(X,J).toFixed(2)||mt<+Math.min(It,et).toFixed(2)||mt>+Math.max(It,et).toFixed(2)||Dt<+Math.min(U,lt).toFixed(2)||Dt>+Math.max(U,lt).toFixed(2)||Dt<+Math.min(bt,Ct).toFixed(2)||Dt>+Math.max(bt,Ct).toFixed(2)))return{x:at,y:nt}}}},Q=function(X,U,J){return U>=X.x&&U<=X.x+X.width&&J>=X.y&&J<=X.y+X.height},H=function(X,U,J,lt,It){if(It)return[["M",+X+ +It,U],["l",J-It*2,0],["a",It,It,0,0,1,It,It],["l",0,lt-It*2],["a",It,It,0,0,1,-It,It],["l",It*2-J,0],["a",It,It,0,0,1,-It,-It],["l",0,It*2-lt],["a",It,It,0,0,1,It,-It],["z"]];var bt=[["M",X,U],["l",J,0],["l",0,lt],["l",-J,0],["z"]];return bt.parsePathArray=M,bt},Z=function(X,U,J,lt){return X===null&&(X=U=J=lt=0),U===null&&(U=X.y,J=X.width,lt=X.height,X=X.x),{x:X,y:U,width:J,w:J,height:lt,h:lt,x2:X+J,y2:U+lt,cx:X+J/2,cy:U+lt/2,r1:Math.min(J,lt)/2,r2:Math.max(J,lt)/2,r0:Math.sqrt(J*J+lt*lt)/2,path:H(X,U,J,lt),vb:[X,U,J,lt].join(" ")}},ot=function(X,U){return X=Z(X),U=Z(U),Q(U,X.x,X.y)||Q(U,X.x2,X.y)||Q(U,X.x,X.y2)||Q(U,X.x2,X.y2)||Q(X,U.x,U.y)||Q(X,U.x2,U.y)||Q(X,U.x,U.y2)||Q(X,U.x2,U.y2)||(X.x<U.x2&&X.x>U.x||U.x<X.x2&&U.x>X.x)&&(X.y<U.y2&&X.y>U.y||U.y<X.y2&&U.y>X.y)},rt=function(X,U,J,lt,It,bt,et,Ct){(0,x.isArray)(X)||(X=[X,U,J,lt,It,bt,et,Ct]);var it=F.apply(null,X);return Z(it.min.x,it.min.y,it.max.x-it.min.x,it.max.y-it.min.y)},At=function(X,U,J,lt,It,bt,et,Ct,it){var st=1-it,St=Math.pow(st,3),at=Math.pow(st,2),nt=it*it,mt=nt*it,Dt=St*X+at*3*it*J+st*3*it*it*It+mt*et,ee=St*U+at*3*it*lt+st*3*it*it*bt+mt*Ct,ce=X+2*it*(J-X)+nt*(It-2*J+X),le=U+2*it*(lt-U)+nt*(bt-2*lt+U),Xe=J+2*it*(It-J)+nt*(et-2*It+J),Ie=lt+2*it*(bt-lt)+nt*(Ct-2*bt+lt),Re=st*X+it*J,or=st*U+it*lt,lr=st*It+it*et,Ir=st*bt+it*Ct,Er=90-Math.atan2(ce-Xe,le-Ie)*180/Math.PI;return{x:Dt,y:ee,m:{x:ce,y:le},n:{x:Xe,y:Ie},start:{x:Re,y:or},end:{x:lr,y:Ir},alpha:Er}},pt=function(X,U,J){var lt=rt(X),It=rt(U);if(!ot(lt,It))return J?0:[];for(var bt=B.apply(0,X),et=B.apply(0,U),Ct=~~(bt/8),it=~~(et/8),st=[],St=[],at={},nt=J?0:[],mt=0;mt<Ct+1;mt++){var Dt=At.apply(0,X.concat(mt/Ct));st.push({x:Dt.x,y:Dt.y,t:mt/Ct})}for(var mt=0;mt<it+1;mt++){var Dt=At.apply(0,U.concat(mt/it));St.push({x:Dt.x,y:Dt.y,t:mt/it})}for(var mt=0;mt<Ct;mt++)for(var ee=0;ee<it;ee++){var ce=st[mt],le=st[mt+1],Xe=St[ee],Ie=St[ee+1],Re=Math.abs(le.x-ce.x)<.001?"y":"x",or=Math.abs(Ie.x-Xe.x)<.001?"y":"x",lr=W(ce.x,ce.y,le.x,le.y,Xe.x,Xe.y,Ie.x,Ie.y);if(lr){if(at[lr.x.toFixed(4)]===lr.y.toFixed(4))continue;at[lr.x.toFixed(4)]=lr.y.toFixed(4);var Ir=ce.t+Math.abs((lr[Re]-ce[Re])/(le[Re]-ce[Re]))*(le.t-ce.t),Er=Xe.t+Math.abs((lr[or]-Xe[or])/(Ie[or]-Xe[or]))*(Ie.t-Xe.t);Ir>=0&&Ir<=1&&Er>=0&&Er<=1&&(J?nt+=1:nt.push({x:lr.x,y:lr.y,t1:Ir,t2:Er}))}}return nt},Ft=function(X,U,J){X=m(X),U=m(U);for(var lt,It,bt,et,Ct,it,st,St,at,nt,mt=J?0:[],Dt=0,ee=X.length;Dt<ee;Dt++){var ce=X[Dt];if(ce[0]==="M")lt=Ct=ce[1],It=it=ce[2];else{ce[0]==="C"?(at=[lt,It].concat(ce.slice(1)),lt=at[6],It=at[7]):(at=[lt,It,lt,It,Ct,it,Ct,it],lt=Ct,It=it);for(var le=0,Xe=U.length;le<Xe;le++){var Ie=U[le];if(Ie[0]==="M")bt=st=Ie[1],et=St=Ie[2];else{Ie[0]==="C"?(nt=[bt,et].concat(Ie.slice(1)),bt=nt[6],et=nt[7]):(nt=[bt,et,bt,et,st,St,st,St],bt=st,et=St);var Re=pt(at,nt,J);if(J)mt+=Re;else{for(var or=0,lr=Re.length;or<lr;or++)Re[or].segment1=Dt,Re[or].segment2=le,Re[or].bez1=at,Re[or].bez2=nt;mt=mt.concat(Re)}}}}}return mt},Tt=function(X,U){return Ft(X,U)};function Ot(X,U){var J=[],lt=[];function It(bt,et){if(bt.length===1)J.push(bt[0]),lt.push(bt[0]);else{for(var Ct=[],it=0;it<bt.length-1;it++)it===0&&J.push(bt[0]),it===bt.length-2&&lt.push(bt[it+1]),Ct[it]=[(1-et)*bt[it][0]+et*bt[it+1][0],(1-et)*bt[it][1]+et*bt[it+1][1]];It(Ct,et)}}return X.length&&It(X,U),{left:J,right:lt.reverse()}}function xt(X,U,J){var lt=[[X[1],X[2]]];J=J||2;var It=[];U[0]==="A"?(lt.push(U[6]),lt.push(U[7])):U[0]==="C"?(lt.push([U[1],U[2]]),lt.push([U[3],U[4]]),lt.push([U[5],U[6]])):U[0]==="S"||U[0]==="Q"?(lt.push([U[1],U[2]]),lt.push([U[3],U[4]])):lt.push([U[1],U[2]]);for(var bt=lt,et=1/J,Ct=0;Ct<J-1;Ct++){var it=et/(1-et*Ct),st=Ot(bt,it);It.push(st.left),bt=st.right}It.push(bt);var St=It.map(function(at){var nt=[];return at.length===4&&(nt.push("C"),nt=nt.concat(at[2])),at.length>=3&&(at.length===3&&nt.push("Q"),nt=nt.concat(at[1])),at.length===2&&nt.push("L"),nt=nt.concat(at[at.length-1]),nt});return St}var ht=function(X,U,J){if(J===1)return[[].concat(X)];var lt=[];if(U[0]==="L"||U[0]==="C"||U[0]==="Q")lt=lt.concat(xt(X,U,J));else{var It=[].concat(X);It[0]==="M"&&(It[0]="L");for(var bt=0;bt<=J-1;bt++)lt.push(It)}return lt},kt=function(X,U){if(X.length===1)return X;var J=X.length-1,lt=U.length-1,It=J/lt,bt=[];if(X.length===1&&X[0][0]==="M"){for(var et=0;et<lt-J;et++)X.push(X[0]);return X}for(var et=0;et<lt;et++){var Ct=Math.floor(It*et);bt[Ct]=(bt[Ct]||0)+1}var it=bt.reduce(function(st,St,at){return at===J?st.concat(X[J]):st.concat(ht(X[at],X[at+1],St))},[]);return it.unshift(X[0]),(U[lt]==="Z"||U[lt]==="z")&&it.push("Z"),it},Gt=function(X,U){if(X.length!==U.length)return!1;var J=!0;return(0,x.each)(X,function(lt,It){if(lt!==U[It])return J=!1,!1}),J};function dt(X,U,J){var lt=null,It=J;return U<It&&(It=U,lt="add"),X<It&&(It=X,lt="del"),{type:lt,min:It}}var tt=function(X,U){var J=X.length,lt=U.length,It,bt,et=0;if(J===0||lt===0)return null;for(var Ct=[],it=0;it<=J;it++)Ct[it]=[],Ct[it][0]={min:it};for(var st=0;st<=lt;st++)Ct[0][st]={min:st};for(var it=1;it<=J;it++){It=X[it-1];for(var st=1;st<=lt;st++){bt=U[st-1],Gt(It,bt)?et=0:et=1;var St=Ct[it-1][st].min+1,at=Ct[it][st-1].min+1,nt=Ct[it-1][st-1].min+et;Ct[it][st]=dt(St,at,nt)}}return Ct},I=function(X,U){var J=tt(X,U),lt=X.length,It=U.length,bt=[],et=1,Ct=1;if(J[lt][It].min!==lt){for(var it=1;it<=lt;it++){var st=J[it][it].min;Ct=it;for(var St=et;St<=It;St++)J[it][St].min<st&&(st=J[it][St].min,Ct=St);et=Ct,J[it][et].type&&bt.push({index:it-1,type:J[it][et].type})}for(var it=bt.length-1;it>=0;it--)et=bt[it].index,bt[it].type==="add"?X.splice(et,0,[].concat(X[et])):X.splice(et,1)}lt=X.length;var at=It-lt;if(lt<It)for(var it=0;it<at;it++)X[lt-1][0]==="z"||X[lt-1][0]==="Z"?X.splice(lt-2,0,X[lt-2]):X.push(X[lt-1]),lt+=1;return X};function u(X,U,J){for(var lt=[].concat(X),It,bt=1/(J+1),et=Y(U)[0],Ct=1;Ct<=J;Ct++)bt*=Ct,It=Math.floor(X.length*bt),It===0?lt.unshift([et[0]*bt+X[It][0]*(1-bt),et[1]*bt+X[It][1]*(1-bt)]):lt.splice(It,0,[et[0]*bt+X[It][0]*(1-bt),et[1]*bt+X[It][1]*(1-bt)]);return lt}function Y(X){var U=[];switch(X[0]){case"M":U.push([X[1],X[2]]);break;case"L":U.push([X[1],X[2]]);break;case"A":U.push([X[6],X[7]]);break;case"Q":U.push([X[3],X[4]]),U.push([X[1],X[2]]);break;case"T":U.push([X[1],X[2]]);break;case"C":U.push([X[5],X[6]]),U.push([X[1],X[2]]),U.push([X[3],X[4]]);break;case"S":U.push([X[3],X[4]]),U.push([X[1],X[2]]);break;case"H":U.push([X[1],X[1]]);break;case"V":U.push([X[1],X[1]]);break;default:}return U}var G=function(X,U){if(X.length<=1)return X;for(var J,lt=0;lt<U.length;lt++)if(X[lt][0]!==U[lt][0])switch(J=Y(X[lt]),U[lt][0]){case"M":X[lt]=["M"].concat(J[0]);break;case"L":X[lt]=["L"].concat(J[0]);break;case"A":X[lt]=[].concat(U[lt]),X[lt][6]=J[0][0],X[lt][7]=J[0][1];break;case"Q":if(J.length<2)if(lt>0)J=u(J,X[lt-1],1);else{X[lt]=U[lt];break}X[lt]=["Q"].concat(J.reduce(function(It,bt){return It.concat(bt)},[]));break;case"T":X[lt]=["T"].concat(J[0]);break;case"C":if(J.length<3)if(lt>0)J=u(J,X[lt-1],2);else{X[lt]=U[lt];break}X[lt]=["C"].concat(J.reduce(function(It,bt){return It.concat(bt)},[]));break;case"S":if(J.length<2)if(lt>0)J=u(J,X[lt-1],1);else{X[lt]=U[lt];break}X[lt]=["S"].concat(J.reduce(function(It,bt){return It.concat(bt)},[]));break;default:X[lt]=U[lt]}return X}},93323:function(ft,S,v){"use strict";v.d(S,{FE:function(){return k},mY:function(){return T},$O:function(){return A}});var x=v(91241),O=v(40897);function k(C,E,g){var w=1;if((0,x.HD)(C)&&(w=C.split(`
`).length),w>1){var y=_(E,g);return E*w+y*(w-1)}return E}function _(C,E){return E?E-C:C*.14}function T(C,E){var g=(0,O.L)(),w=0;if((0,x.kK)(C)||C==="")return w;if(g.save(),g.font=E,(0,x.HD)(C)&&C.includes(`
`)){var y=C.split(`
`);(0,x.S6)(y,function(m){var p=g.measureText(m).width;w<p&&(w=p)})}else w=g.measureText(C).width;return g.restore(),w}function A(C){var E=C.fontSize,g=C.fontFamily,w=C.fontWeight,y=C.fontStyle,m=C.fontVariant;return[y,m,w,E+"px",g].join(" ").trim()}},91241:function(ft,S,v){"use strict";v.d(S,{As:function(){return O},jU:function(){return k},kK:function(){return x.isNil},mf:function(){return x.isFunction},HD:function(){return x.isString},Kn:function(){return x.isObject},CD:function(){return x.mix},S6:function(){return x.each},jC:function(){return x.upperFirst},UY:function(){return _},pP:function(){return T}});var x=v(49242);function O(A,C){var E=A.indexOf(C);E!==-1&&A.splice(E,1)}var k=typeof window!="undefined"&&typeof window.document!="undefined";function _(A,C){if(A.isCanvas())return!0;for(var E=C.getParent(),g=!1;E;){if(E===A){g=!0;break}E=E.getParent()}return g}function T(A){return A.cfg.visible&&A.cfg.capture}},30490:function(ft,S){"use strict";var v;v={value:!0};var x=function(){function O(k,_){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=k,this.name=k,this.originalEvent=_,this.timeStamp=_.timeStamp}return O.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},O.prototype.stopPropagation=function(){this.propagationStopped=!0},O.prototype.toString=function(){var k=this.type;return"[Event (type="+k+")]"},O.prototype.save=function(){},O.prototype.restore=function(){},O}();S.Z=x},38251:function(ft,S,v){"use strict";v.d(S,{ZT:function(){return O}});var x=function(u,Y){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,X){G.__proto__=X}||function(G,X){for(var U in X)Object.prototype.hasOwnProperty.call(X,U)&&(G[U]=X[U])},x(u,Y)};function O(u,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");x(u,Y);function G(){this.constructor=u}u.prototype=Y===null?Object.create(Y):(G.prototype=Y.prototype,new G)}var k=function(){return k=Object.assign||function(Y){for(var G,X=1,U=arguments.length;X<U;X++){G=arguments[X];for(var J in G)Object.prototype.hasOwnProperty.call(G,J)&&(Y[J]=G[J])}return Y},k.apply(this,arguments)};function _(u,Y){var G={};for(var X in u)Object.prototype.hasOwnProperty.call(u,X)&&Y.indexOf(X)<0&&(G[X]=u[X]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,X=Object.getOwnPropertySymbols(u);U<X.length;U++)Y.indexOf(X[U])<0&&Object.prototype.propertyIsEnumerable.call(u,X[U])&&(G[X[U]]=u[X[U]]);return G}function T(u,Y,G,X){var U=arguments.length,J=U<3?Y:X===null?X=Object.getOwnPropertyDescriptor(Y,G):X,lt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(u,Y,G,X);else for(var It=u.length-1;It>=0;It--)(lt=u[It])&&(J=(U<3?lt(J):U>3?lt(Y,G,J):lt(Y,G))||J);return U>3&&J&&Object.defineProperty(Y,G,J),J}function A(u,Y){return function(G,X){Y(G,X,u)}}function C(u,Y,G,X,U,J){function lt(Dt){if(Dt!==void 0&&typeof Dt!="function")throw new TypeError("Function expected");return Dt}for(var It=X.kind,bt=It==="getter"?"get":It==="setter"?"set":"value",et=!Y&&u?X.static?u:u.prototype:null,Ct=Y||(et?Object.getOwnPropertyDescriptor(et,X.name):{}),it,st=!1,St=G.length-1;St>=0;St--){var at={};for(var nt in X)at[nt]=nt==="access"?{}:X[nt];for(var nt in X.access)at.access[nt]=X.access[nt];at.addInitializer=function(Dt){if(st)throw new TypeError("Cannot add initializers after decoration has completed");J.push(lt(Dt||null))};var mt=(0,G[St])(It==="accessor"?{get:Ct.get,set:Ct.set}:Ct[bt],at);if(It==="accessor"){if(mt===void 0)continue;if(mt===null||typeof mt!="object")throw new TypeError("Object expected");(it=lt(mt.get))&&(Ct.get=it),(it=lt(mt.set))&&(Ct.set=it),(it=lt(mt.init))&&U.unshift(it)}else(it=lt(mt))&&(It==="field"?U.unshift(it):Ct[bt]=it)}et&&Object.defineProperty(et,X.name,Ct),st=!0}function E(u,Y,G){for(var X=arguments.length>2,U=0;U<Y.length;U++)G=X?Y[U].call(u,G):Y[U].call(u);return X?G:void 0}function g(u){return typeof u=="symbol"?u:"".concat(u)}function w(u,Y,G){return typeof Y=="symbol"&&(Y=Y.description?"[".concat(Y.description,"]"):""),Object.defineProperty(u,"name",{configurable:!0,value:G?"".concat(G," ",Y):Y})}function y(u,Y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,Y)}function m(u,Y,G,X){function U(J){return J instanceof G?J:new G(function(lt){lt(J)})}return new(G||(G=Promise))(function(J,lt){function It(Ct){try{et(X.next(Ct))}catch(it){lt(it)}}function bt(Ct){try{et(X.throw(Ct))}catch(it){lt(it)}}function et(Ct){Ct.done?J(Ct.value):U(Ct.value).then(It,bt)}et((X=X.apply(u,Y||[])).next())})}function p(u,Y){var G={label:0,sent:function(){if(J[0]&1)throw J[1];return J[1]},trys:[],ops:[]},X,U,J,lt;return lt={next:It(0),throw:It(1),return:It(2)},typeof Symbol=="function"&&(lt[Symbol.iterator]=function(){return this}),lt;function It(et){return function(Ct){return bt([et,Ct])}}function bt(et){if(X)throw new TypeError("Generator is already executing.");for(;lt&&(lt=0,et[0]&&(G=0)),G;)try{if(X=1,U&&(J=et[0]&2?U.return:et[0]?U.throw||((J=U.return)&&J.call(U),0):U.next)&&!(J=J.call(U,et[1])).done)return J;switch(U=0,J&&(et=[et[0]&2,J.value]),et[0]){case 0:case 1:J=et;break;case 4:return G.label++,{value:et[1],done:!1};case 5:G.label++,U=et[1],et=[0];continue;case 7:et=G.ops.pop(),G.trys.pop();continue;default:if(J=G.trys,!(J=J.length>0&&J[J.length-1])&&(et[0]===6||et[0]===2)){G=0;continue}if(et[0]===3&&(!J||et[1]>J[0]&&et[1]<J[3])){G.label=et[1];break}if(et[0]===6&&G.label<J[1]){G.label=J[1],J=et;break}if(J&&G.label<J[2]){G.label=J[2],G.ops.push(et);break}J[2]&&G.ops.pop(),G.trys.pop();continue}et=Y.call(u,G)}catch(Ct){et=[6,Ct],U=0}finally{X=J=0}if(et[0]&5)throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}}var M=Object.create?function(u,Y,G,X){X===void 0&&(X=G);var U=Object.getOwnPropertyDescriptor(Y,G);(!U||("get"in U?!Y.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return Y[G]}}),Object.defineProperty(u,X,U)}:function(u,Y,G,X){X===void 0&&(X=G),u[X]=Y[G]};function P(u,Y){for(var G in u)G!=="default"&&!Object.prototype.hasOwnProperty.call(Y,G)&&M(Y,u,G)}function B(u){var Y=typeof Symbol=="function"&&Symbol.iterator,G=Y&&u[Y],X=0;if(G)return G.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&X>=u.length&&(u=void 0),{value:u&&u[X++],done:!u}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(u,Y){var G=typeof Symbol=="function"&&u[Symbol.iterator];if(!G)return u;var X=G.call(u),U,J=[],lt;try{for(;(Y===void 0||Y-- >0)&&!(U=X.next()).done;)J.push(U.value)}catch(It){lt={error:It}}finally{try{U&&!U.done&&(G=X.return)&&G.call(X)}finally{if(lt)throw lt.error}}return J}function W(){for(var u=[],Y=0;Y<arguments.length;Y++)u=u.concat(F(arguments[Y]));return u}function Q(){for(var u=0,Y=0,G=arguments.length;Y<G;Y++)u+=arguments[Y].length;for(var X=Array(u),U=0,Y=0;Y<G;Y++)for(var J=arguments[Y],lt=0,It=J.length;lt<It;lt++,U++)X[U]=J[lt];return X}function H(u,Y,G){if(G||arguments.length===2)for(var X=0,U=Y.length,J;X<U;X++)(J||!(X in Y))&&(J||(J=Array.prototype.slice.call(Y,0,X)),J[X]=Y[X]);return u.concat(J||Array.prototype.slice.call(Y))}function Z(u){return this instanceof Z?(this.v=u,this):new Z(u)}function ot(u,Y,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X=G.apply(u,Y||[]),U,J=[];return U={},lt("next"),lt("throw"),lt("return"),U[Symbol.asyncIterator]=function(){return this},U;function lt(st){X[st]&&(U[st]=function(St){return new Promise(function(at,nt){J.push([st,St,at,nt])>1||It(st,St)})})}function It(st,St){try{bt(X[st](St))}catch(at){it(J[0][3],at)}}function bt(st){st.value instanceof Z?Promise.resolve(st.value.v).then(et,Ct):it(J[0][2],st)}function et(st){It("next",st)}function Ct(st){It("throw",st)}function it(st,St){st(St),J.shift(),J.length&&It(J[0][0],J[0][1])}}function rt(u){var Y,G;return Y={},X("next"),X("throw",function(U){throw U}),X("return"),Y[Symbol.iterator]=function(){return this},Y;function X(U,J){Y[U]=u[U]?function(lt){return(G=!G)?{value:Z(u[U](lt)),done:!1}:J?J(lt):lt}:J}}function At(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=u[Symbol.asyncIterator],G;return Y?Y.call(u):(u=typeof B=="function"?B(u):u[Symbol.iterator](),G={},X("next"),X("throw"),X("return"),G[Symbol.asyncIterator]=function(){return this},G);function X(J){G[J]=u[J]&&function(lt){return new Promise(function(It,bt){lt=u[J](lt),U(It,bt,lt.done,lt.value)})}}function U(J,lt,It,bt){Promise.resolve(bt).then(function(et){J({value:et,done:It})},lt)}}function pt(u,Y){return Object.defineProperty?Object.defineProperty(u,"raw",{value:Y}):u.raw=Y,u}var Ft=Object.create?function(u,Y){Object.defineProperty(u,"default",{enumerable:!0,value:Y})}:function(u,Y){u.default=Y};function Tt(u){if(u&&u.__esModule)return u;var Y={};if(u!=null)for(var G in u)G!=="default"&&Object.prototype.hasOwnProperty.call(u,G)&&M(Y,u,G);return Ft(Y,u),Y}function Ot(u){return u&&u.__esModule?u:{default:u}}function xt(u,Y,G,X){if(G==="a"&&!X)throw new TypeError("Private accessor was defined without a getter");if(typeof Y=="function"?u!==Y||!X:!Y.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?X:G==="a"?X.call(u):X?X.value:Y.get(u)}function ht(u,Y,G,X,U){if(X==="m")throw new TypeError("Private method is not writable");if(X==="a"&&!U)throw new TypeError("Private accessor was defined without a setter");if(typeof Y=="function"?u!==Y||!U:!Y.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?U.call(u,G):U?U.value=G:Y.set(u,G),G}function kt(u,Y){if(Y===null||typeof Y!="object"&&typeof Y!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof u=="function"?Y===u:u.has(Y)}function Gt(u,Y,G){if(Y!=null){if(typeof Y!="object"&&typeof Y!="function")throw new TypeError("Object expected.");var X;if(G){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");X=Y[Symbol.asyncDispose]}if(X===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");X=Y[Symbol.dispose]}if(typeof X!="function")throw new TypeError("Object not disposable.");u.stack.push({value:Y,dispose:X,async:G})}else G&&u.stack.push({async:!0});return Y}var dt=typeof SuppressedError=="function"?SuppressedError:function(u,Y,G){var X=new Error(G);return X.name="SuppressedError",X.error=u,X.suppressed=Y,X};function tt(u){function Y(X){u.error=u.hasError?new dt(X,u.error,"An error was suppressed during disposal."):X,u.hasError=!0}function G(){for(;u.stack.length;){var X=u.stack.pop();try{var U=X.dispose&&X.dispose.call(X.value);if(X.async)return Promise.resolve(U).then(G,function(J){return Y(J),G()})}catch(J){Y(J)}}if(u.hasError)throw u.error}return G()}var I={__extends:O,__assign:k,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:p,__createBinding:M,__exportStar:P,__values:B,__read:F,__spread:W,__spreadArrays:Q,__spreadArray:H,__await:Z,__asyncGenerator:ot,__asyncDelegator:rt,__asyncValues:At,__makeTemplateObject:pt,__importStar:Tt,__importDefault:Ot,__classPrivateFieldGet:xt,__classPrivateFieldSet:ht,__classPrivateFieldIn:kt,__addDisposableResource:Gt,__disposeResources:tt}},14563:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(93470),k=v(85622),_=v(77096),T=v(63528),A=v(64830),C=v(21927),E=v(70530),g=function(w){O.__extends(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype.getDefaultCfg=function(){var m=w.prototype.getDefaultCfg.call(this);return m.renderer="canvas",m.autoDraw=!0,m.localRefresh=!0,m.refreshElements=[],m.clipView=!0,m.quickHit=!1,m},y.prototype.onCanvasChange=function(m){(m==="attr"||m==="sort"||m==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},y.prototype.getShapeBase=function(){return T},y.prototype.getGroupBase=function(){return A.default},y.prototype.getPixelRatio=function(){var m=this.get("pixelRatio")||C.getPixelRatio();return m>=1?Math.ceil(m):1},y.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},y.prototype.createDom=function(){var m=document.createElement("canvas"),p=m.getContext("2d");return this.set("context",p),m},y.prototype.setDOMSize=function(m,p){w.prototype.setDOMSize.call(this,m,p);var M=this.get("context"),P=this.get("el"),B=this.getPixelRatio();P.width=B*m,P.height=B*p,B>1&&M.scale(B,B)},y.prototype.clear=function(){w.prototype.clear.call(this),this._clearFrame();var m=this.get("context"),p=this.get("el");m.clearRect(0,0,p.width,p.height)},y.prototype.getShape=function(m,p){var M;return this.get("quickHit")?M=_.getShape(this,m,p):M=w.prototype.getShape.call(this,m,p,null),M},y.prototype._getRefreshRegion=function(){var m=this.get("refreshElements"),p=this.getViewRange(),M;if(m.length&&m[0]===this)M=p;else if(M=E.getMergedRegion(m),M){M.minX=Math.floor(M.minX),M.minY=Math.floor(M.minY),M.maxX=Math.ceil(M.maxX),M.maxY=Math.ceil(M.maxY),M.maxY+=1;var P=this.get("clipView");P&&(M=E.mergeView(M,p))}return M},y.prototype.refreshElement=function(m){var p=this.get("refreshElements");p.push(m)},y.prototype._clearFrame=function(){var m=this.get("drawFrame");m&&(C.clearAnimationFrame(m),this.set("drawFrame",null),this.set("refreshElements",[]))},y.prototype.draw=function(){var m=this.get("drawFrame");this.get("autoDraw")&&m||this._startDraw()},y.prototype._drawAll=function(){var m=this.get("context"),p=this.get("el"),M=this.getChildren();m.clearRect(0,0,p.width,p.height),E.applyAttrsToContext(m,this),E.drawChildren(m,M),this.set("refreshElements",[])},y.prototype._drawRegion=function(){var m=this.get("context"),p=this.get("refreshElements"),M=this.getChildren(),P=this._getRefreshRegion();P?(m.clearRect(P.minX,P.minY,P.maxX-P.minX,P.maxY-P.minY),m.save(),m.beginPath(),m.rect(P.minX,P.minY,P.maxX-P.minX,P.maxY-P.minY),m.clip(),E.applyAttrsToContext(m,this),E.checkRefresh(this,M,P),E.drawChildren(m,M,P),m.restore()):p.length&&E.clearChanged(p),C.each(p,function(B){B.get("hasChanged")&&B.set("hasChanged",!1)}),this.set("refreshElements",[])},y.prototype._startDraw=function(){var m=this,p=this.get("drawFrame");p||(p=C.requestAnimationFrame(function(){m.get("localRefresh")?m._drawRegion():m._drawAll(),m.set("drawFrame",null)}),this.set("drawFrame",p))},y.prototype.skipDraw=function(){},y.prototype.removeDom=function(){var m=this.get("el");m.width=0,m.height=0,m.parentNode.removeChild(m)},y}(k.AbstractCanvas);S.Z=g},64830:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(85622),k=v(63528),_=v(70530),T=v(49242),A=v(21927),C=function(E){x.__extends(g,E);function g(){return E!==null&&E.apply(this,arguments)||this}return g.prototype.onCanvasChange=function(w){_.refreshElement(this,w)},g.prototype.getShapeBase=function(){return k},g.prototype.getGroupBase=function(){return g},g.prototype._applyClip=function(w,y){y&&(w.save(),_.applyAttrsToContext(w,y),y.createPath(w),w.restore(),w.clip(),y._afterDraw())},g.prototype.cacheCanvasBBox=function(){var w=this.cfg.children,y=[],m=[];T.each(w,function(H){var Z=H.cfg.cacheCanvasBBox;Z&&H.cfg.isInView&&(y.push(Z.minX,Z.maxX),m.push(Z.minY,Z.maxY))});var p=null;if(y.length){var M=T.min(y),P=T.max(y),B=T.min(m),F=T.max(m);p={minX:M,minY:B,x:M,y:B,maxX:P,maxY:F,width:P-M,height:F-B};var W=this.cfg.canvas;if(W){var Q=W.getViewRange();this.set("isInView",A.intersectRect(p,Q))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",p)},g.prototype.draw=function(w,y){var m=this.cfg.children,p=y?this.cfg.refresh:!0;m.length&&p&&(w.save(),_.applyAttrsToContext(w,this),this._applyClip(w,this.getClip()),_.drawChildren(w,m,y),w.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},g.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},g}(O.AbstractGroup);S.default=C},41310:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(85622),k=v(21927),_=v(70530),T=v(85622),A=v(63528),C=v(64830),E=function(g){x.__extends(w,g);function w(){return g!==null&&g.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=g.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},y),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},w.prototype.getShapeBase=function(){return A},w.prototype.getGroupBase=function(){return C.default},w.prototype.onCanvasChange=function(y){_.refreshElement(this,y)},w.prototype.calculateBBox=function(){var y=this.get("type"),m=this.getHitLineWidth(),p=T.getBBoxMethod(y),M=p(this),P=m/2,B=M.x-P,F=M.y-P,W=M.x+M.width+P,Q=M.y+M.height+P;return{x:B,minX:B,y:F,minY:F,width:M.width+m,height:M.height+m,maxX:W,maxY:Q}},w.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},w.prototype.isStroke=function(){return!!this.attrs.stroke},w.prototype._applyClip=function(y,m){m&&(y.save(),_.applyAttrsToContext(y,m),m.createPath(y),y.restore(),y.clip(),m._afterDraw())},w.prototype.draw=function(y,m){var p=this.cfg.clipShape;if(m){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var M=this.getCanvasBBox();if(!k.intersectRect(m,M)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}y.save(),_.applyAttrsToContext(y,this),this._applyClip(y,p),this.drawPath(y),y.restore(),this._afterDraw()},w.prototype.getCanvasViewBox=function(){var y=this.cfg.canvas;return y?y.getViewRange():null},w.prototype.cacheCanvasBBox=function(){var y=this.getCanvasViewBox();if(y){var m=this.getCanvasBBox(),p=k.intersectRect(m,y);this.set("isInView",p),p?this.set("cacheCanvasBBox",m):this.set("cacheCanvasBBox",null)}},w.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},w.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},w.prototype.drawPath=function(y){this.createPath(y),this.strokeAndFill(y),this.afterDrawPath(y)},w.prototype.fill=function(y){y.fill()},w.prototype.stroke=function(y){y.stroke()},w.prototype.strokeAndFill=function(y){var m=this.attrs,p=m.lineWidth,M=m.opacity,P=m.strokeOpacity,B=m.fillOpacity;this.isFill()&&(!k.isNil(B)&&B!==1?(y.globalAlpha=B,this.fill(y),y.globalAlpha=M):this.fill(y)),this.isStroke()&&p>0&&(!k.isNil(P)&&P!==1&&(y.globalAlpha=P),this.stroke(y)),this.afterDrawPath(y)},w.prototype.createPath=function(y){},w.prototype.afterDrawPath=function(y){},w.prototype.isInShape=function(y,m){var p=this.isStroke(),M=this.isFill(),P=this.getHitLineWidth();return this.isInStrokeOrPath(y,m,p,M,P)},w.prototype.isInStrokeOrPath=function(y,m,p,M,P){return!1},w.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var y=this.attrs;return y.lineWidth+y.lineAppendWidth},w}(O.AbstractShape);S.default=E},22925:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(41310),k=v(21927),_=function(T){x.__extends(A,T);function A(){return T!==null&&T.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var C=T.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},C),{x:0,y:0,r:0})},A.prototype.isInStrokeOrPath=function(C,E,g,w,y){var m=this.attr(),p=m.x,M=m.y,P=m.r,B=y/2,F=k.distance(p,M,C,E);return w&&g?F<=P+B:w?F<=P:g?F>=P-B&&F<=P+B:!1},A.prototype.createPath=function(C){var E=this.attr(),g=E.x,w=E.y,y=E.r;C.beginPath(),C.arc(g,w,y,0,Math.PI*2,!1),C.closePath()},A}(O.default);S.default=_},21287:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(41310);function k(T,A,C,E){return T/(C*C)+A/(E*E)}var _=function(T){x.__extends(A,T);function A(){return T!==null&&T.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var C=T.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},C),{x:0,y:0,rx:0,ry:0})},A.prototype.isInStrokeOrPath=function(C,E,g,w,y){var m=this.attr(),p=y/2,M=m.x,P=m.y,B=m.rx,F=m.ry,W=(C-M)*(C-M),Q=(E-P)*(E-P);return w&&g?k(W,Q,B+p,F+p)<=1:w?k(W,Q,B,F)<=1:g?k(W,Q,B-p,F-p)>=1&&k(W,Q,B+p,F+p)<=1:!1},A.prototype.createPath=function(C){var E=this.attr(),g=E.x,w=E.y,y=E.rx,m=E.ry;if(C.beginPath(),C.ellipse)C.ellipse(g,w,y,m,0,0,Math.PI*2,!1);else{var p=y>m?y:m,M=y>m?1:y/m,P=y>m?m/y:1;C.save(),C.translate(g,w),C.scale(M,P),C.arc(0,0,p,0,Math.PI*2),C.restore(),C.closePath()}},A}(O.default);S.default=_},55303:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(41310),k=v(21927);function _(A){return A instanceof HTMLElement&&k.isString(A.nodeName)&&A.nodeName.toUpperCase()==="CANVAS"}var T=function(A){x.__extends(C,A);function C(){return A!==null&&A.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},E),{x:0,y:0,width:0,height:0})},C.prototype.initAttrs=function(E){this._setImage(E.img)},C.prototype.isStroke=function(){return!1},C.prototype.isOnlyHitBox=function(){return!0},C.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var E=this.get("canvas");E?E.draw():this.createPath(this.get("context"))}},C.prototype._setImage=function(E){var g=this,w=this.attrs;if(k.isString(E)){var y=new Image;y.onload=function(){if(g.destroyed)return!1;g.attr("img",y),g.set("loading",!1),g._afterLoading();var m=g.get("callback");m&&m.call(g)},y.crossOrigin="Anonymous",y.src=E,this.set("loading",!0)}else E instanceof Image?(w.width||(w.width=E.width),w.height||(w.height=E.height)):_(E)&&(w.width||(w.width=Number(E.getAttribute("width"))),w.height||(w.height,Number(E.getAttribute("height"))))},C.prototype.onAttrChange=function(E,g,w){A.prototype.onAttrChange.call(this,E,g,w),E==="img"&&this._setImage(g)},C.prototype.createPath=function(E){if(this.get("loading")){this.set("toDraw",!0),this.set("context",E);return}var g=this.attr(),w=g.x,y=g.y,m=g.width,p=g.height,M=g.sx,P=g.sy,B=g.swidth,F=g.sheight,W=g.img;(W instanceof Image||_(W))&&(!k.isNil(M)&&!k.isNil(P)&&!k.isNil(B)&&!k.isNil(F)?E.drawImage(W,M,P,B,F,w,y,m,p):E.drawImage(W,w,y,m,p))},C}(O.default);S.default=T},63528:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(41310);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return x.default}});var O=v(22925);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return O.default}});var k=v(21287);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return k.default}});var _=v(55303);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return _.default}});var T=v(65159);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return T.default}});var A=v(22034);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return A.default}});var C=v(55263);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return C.default}});var E=v(69324);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return E.default}});var g=v(49067);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return g.default}});var w=v(9558);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return w.default}});var y=v(17310);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return y.default}})},65159:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(89838),k=v(41310),_=v(63161),T=v(27836),A=function(C){x.__extends(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var g=C.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},g),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.initAttrs=function(g){this.setArrow()},E.prototype.onAttrChange=function(g,w,y){C.prototype.onAttrChange.call(this,g,w,y),this.setArrow()},E.prototype.setArrow=function(){var g=this.attr(),w=g.x1,y=g.y1,m=g.x2,p=g.y2,M=g.startArrow,P=g.endArrow;M&&T.addStartArrow(this,g,m,p,w,y),P&&T.addEndArrow(this,g,w,y,m,p)},E.prototype.isInStrokeOrPath=function(g,w,y,m,p){if(!y||!p)return!1;var M=this.attr(),P=M.x1,B=M.y1,F=M.x2,W=M.y2;return _.default(P,B,F,W,p,g,w)},E.prototype.createPath=function(g){var w=this.attr(),y=w.x1,m=w.y1,p=w.x2,M=w.y2,P=w.startArrow,B=w.endArrow,F={dx:0,dy:0},W={dx:0,dy:0};P&&P.d&&(F=T.getShortenOffset(y,m,p,M,w.startArrow.d)),B&&B.d&&(W=T.getShortenOffset(y,m,p,M,w.endArrow.d)),g.beginPath(),g.moveTo(y+F.dx,m+F.dy),g.lineTo(p-W.dx,M-W.dy)},E.prototype.afterDrawPath=function(g){var w=this.get("startArrowShape"),y=this.get("endArrowShape");w&&w.draw(g),y&&y.draw(g)},E.prototype.getTotalLength=function(){var g=this.attr(),w=g.x1,y=g.y1,m=g.x2,p=g.y2;return O.Line.length(w,y,m,p)},E.prototype.getPoint=function(g){var w=this.attr(),y=w.x1,m=w.y1,p=w.x2,M=w.y2;return O.Line.pointAt(y,m,p,M,g)},E}(k.default);S.default=A},22034:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(49242),k=v(57350),_=v(41310),T=v(21927),A=v(70530),C={circle:function(g,w,y){return[["M",g-y,w],["A",y,y,0,1,0,g+y,w],["A",y,y,0,1,0,g-y,w]]},square:function(g,w,y){return[["M",g-y,w-y],["L",g+y,w-y],["L",g+y,w+y],["L",g-y,w+y],["Z"]]},diamond:function(g,w,y){return[["M",g-y,w],["L",g,w-y],["L",g+y,w],["L",g,w+y],["Z"]]},triangle:function(g,w,y){var m=y*Math.sin(1/3*Math.PI);return[["M",g-y,w+m],["L",g,w-m],["L",g+y,w+m],["Z"]]},"triangle-down":function(g,w,y){var m=y*Math.sin(1/3*Math.PI);return[["M",g-y,w-m],["L",g+y,w-m],["L",g,w+m],["Z"]]}},E=function(g){x.__extends(w,g);function w(){return g!==null&&g.apply(this,arguments)||this}return w.prototype.initAttrs=function(y){this._resetParamsCache()},w.prototype._resetParamsCache=function(){this.set("paramsCache",{})},w.prototype.onAttrChange=function(y,m,p){g.prototype.onAttrChange.call(this,y,m,p),["symbol","x","y","r","radius"].indexOf(y)!==-1&&this._resetParamsCache()},w.prototype.isOnlyHitBox=function(){return!0},w.prototype._getR=function(y){return O.isNil(y.r)?y.radius:y.r},w.prototype._getPath=function(){var y=this.attr(),m=y.x,p=y.y,M=y.symbol||"circle",P=this._getR(y),B,F;if(T.isFunction(M))B=M,F=B(m,p,P),F=k.path2Absolute(F);else{if(B=w.Symbols[M],!B)return console.warn(M+" marker is not supported."),null;F=B(m,p,P)}return F},w.prototype.createPath=function(y){var m=this._getPath(),p=this.get("paramsCache");A.drawPath(this,y,{path:m},p)},w.Symbols=C,w}(_.default);S.default=E},55263:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(89838),k=v(49242),_=v(41310),T=v(57350),A=v(70530),C=v(31977),E=v(50970),g=v(55531),w=v(27836);function y(p,M,P){for(var B=!1,F=0;F<p.length;F++){var W=p[F];if(B=E.default(W,M,P),B)break}return B}var m=function(p){x.__extends(M,p);function M(){return p!==null&&p.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var P=p.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},P),{startArrow:!1,endArrow:!1})},M.prototype.initAttrs=function(P){this._setPathArr(P.path),this.setArrow()},M.prototype.onAttrChange=function(P,B,F){p.prototype.onAttrChange.call(this,P,B,F),P==="path"&&this._setPathArr(B),this.setArrow()},M.prototype._setPathArr=function(P){this.attrs.path=T.path2Absolute(P);var B=g.default.hasArc(P);this.set("hasArc",B),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},M.prototype.getSegments=function(){var P=this.get("segements");return P||(P=T.path2Segments(this.attr("path")),this.set("segments",P)),P},M.prototype.setArrow=function(){var P=this.attr(),B=P.startArrow,F=P.endArrow;if(B){var W=this.getStartTangent();w.addStartArrow(this,P,W[0][0],W[0][1],W[1][0],W[1][1])}if(F){var W=this.getEndTangent();w.addEndArrow(this,P,W[0][0],W[0][1],W[1][0],W[1][1])}},M.prototype.isInStrokeOrPath=function(P,B,F,W,Q){var H=this.getSegments(),Z=this.get("hasArc"),ot=!1;if(F){var rt=this.getTotalLength();ot=g.default.isPointInStroke(H,Q,P,B,rt)}if(!ot&&W)if(Z)ot=C.default(this,P,B);else{var At=this.attr("path"),pt=g.default.extractPolygons(At);ot=y(pt.polygons,P,B)||y(pt.polylines,P,B)}return ot},M.prototype.createPath=function(P){var B=this.attr(),F=this.get("paramsCache");A.drawPath(this,P,B,F)},M.prototype.afterDrawPath=function(P){var B=this.get("startArrowShape"),F=this.get("endArrowShape");B&&B.draw(P),F&&F.draw(P)},M.prototype.getTotalLength=function(){var P=this.get("totalLength");return k.isNil(P)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):P},M.prototype.getPoint=function(P){var B=this.get("tCache");B||(this._calculateCurve(),this._setTcache(),B=this.get("tCache"));var F,W,Q=this.get("curve");if(!B||B.length===0)return Q?{x:Q[0][1],y:Q[0][2]}:null;k.each(B,function(rt,At){P>=rt[0]&&P<=rt[1]&&(F=(P-rt[0])/(rt[1]-rt[0]),W=At)});var H=Q[W];if(k.isNil(H)||k.isNil(W))return null;var Z=H.length,ot=Q[W+1];return O.Cubic.pointAt(H[Z-2],H[Z-1],ot[1],ot[2],ot[3],ot[4],ot[5],ot[6],F)},M.prototype._calculateCurve=function(){var P=this.attr().path;this.set("curve",g.default.pathToCurve(P))},M.prototype._setTcache=function(){var P=0,B=0,F=[],W,Q,H,Z,ot=this.get("curve");if(!!ot){if(k.each(ot,function(rt,At){H=ot[At+1],Z=rt.length,H&&(P+=O.Cubic.length(rt[Z-2],rt[Z-1],H[1],H[2],H[3],H[4],H[5],H[6])||0)}),this.set("totalLength",P),P===0){this.set("tCache",[]);return}k.each(ot,function(rt,At){H=ot[At+1],Z=rt.length,H&&(W=[],W[0]=B/P,Q=O.Cubic.length(rt[Z-2],rt[Z-1],H[1],H[2],H[3],H[4],H[5],H[6]),B+=Q||0,W[1]=B/P,F.push(W))}),this.set("tCache",F)}},M.prototype.getStartTangent=function(){var P=this.getSegments(),B;if(P.length>1){var F=P[0].currentPoint,W=P[1].currentPoint,Q=P[1].startTangent;B=[],Q?(B.push([F[0]-Q[0],F[1]-Q[1]]),B.push([F[0],F[1]])):(B.push([W[0],W[1]]),B.push([F[0],F[1]]))}return B},M.prototype.getEndTangent=function(){var P=this.getSegments(),B=P.length,F;if(B>1){var W=P[B-2].currentPoint,Q=P[B-1].currentPoint,H=P[B-1].endTangent;F=[],H?(F.push([Q[0]-H[0],Q[1]-H[1]]),F.push([Q[0],Q[1]])):(F.push([W[0],W[1]]),F.push([Q[0],Q[1]]))}return F},M}(_.default);S.default=m},69324:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(41310),k=v(39761),_=v(50970),T=function(A){x.__extends(C,A);function C(){return A!==null&&A.apply(this,arguments)||this}return C.prototype.isInStrokeOrPath=function(E,g,w,y,m){var p=this.attr().points,M=!1;return w&&(M=k.default(p,m,E,g,!0)),!M&&y&&(M=_.default(p,E,g)),M},C.prototype.createPath=function(E){var g=this.attr(),w=g.points;if(!(w.length<2)){E.beginPath();for(var y=0;y<w.length;y++){var m=w[y];y===0?E.moveTo(m[0],m[1]):E.lineTo(m[0],m[1])}E.closePath()}},C}(O.default);S.default=T},49067:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(89838),k=v(89838),_=v(49242),T=v(41310),A=v(39761),C=v(27836),E=function(g){x.__extends(w,g);function w(){return g!==null&&g.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=g.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},y),{startArrow:!1,endArrow:!1})},w.prototype.initAttrs=function(y){this.setArrow()},w.prototype.onAttrChange=function(y,m,p){g.prototype.onAttrChange.call(this,y,m,p),this.setArrow(),["points"].indexOf(y)!==-1&&this._resetCache()},w.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},w.prototype.setArrow=function(){var y=this.attr(),m=this.attrs,p=m.points,M=m.startArrow,P=m.endArrow,B=p.length,F=p[0][0],W=p[0][1],Q=p[B-1][0],H=p[B-1][1];M&&C.addStartArrow(this,y,p[1][0],p[1][1],F,W),P&&C.addEndArrow(this,y,p[B-2][0],p[B-2][1],Q,H)},w.prototype.isFill=function(){return!1},w.prototype.isInStrokeOrPath=function(y,m,p,M,P){if(!p||!P)return!1;var B=this.attr().points;return A.default(B,P,y,m,!1)},w.prototype.isStroke=function(){return!0},w.prototype.createPath=function(y){var m=this.attr(),p=m.points,M=m.startArrow,P=m.endArrow,B=p.length;if(!(p.length<2)){var F=p[0][0],W=p[0][1],Q=p[B-1][0],H=p[B-1][1];if(M&&M.d){var Z=C.getShortenOffset(F,W,p[1][0],p[1][1],M.d);F+=Z.dx,W+=Z.dy}if(P&&P.d){var Z=C.getShortenOffset(p[B-2][0],p[B-2][1],Q,H,P.d);Q-=Z.dx,H-=Z.dy}y.beginPath(),y.moveTo(F,W);for(var ot=0;ot<B-1;ot++){var rt=p[ot];y.lineTo(rt[0],rt[1])}y.lineTo(Q,H)}},w.prototype.afterDrawPath=function(y){var m=this.get("startArrowShape"),p=this.get("endArrowShape");m&&m.draw(y),p&&p.draw(y)},w.prototype.getTotalLength=function(){var y=this.attr().points,m=this.get("totalLength");return _.isNil(m)?(this.set("totalLength",k.Polyline.length(y)),this.get("totalLength")):m},w.prototype.getPoint=function(y){var m=this.attr().points,p=this.get("tCache");p||(this._setTcache(),p=this.get("tCache"));var M,P;return _.each(p,function(B,F){y>=B[0]&&y<=B[1]&&(M=(y-B[0])/(B[1]-B[0]),P=F)}),O.Line.pointAt(m[P][0],m[P][1],m[P+1][0],m[P+1][1],M)},w.prototype._setTcache=function(){var y=this.attr().points;if(!(!y||y.length===0)){var m=this.getTotalLength();if(!(m<=0)){var p=0,M=[],P,B;_.each(y,function(F,W){y[W+1]&&(P=[],P[0]=p/m,B=O.Line.length(F[0],F[1],y[W+1][0],y[W+1][1]),p+=B,P[1]=p/m,M.push(P))}),this.set("tCache",M)}}},w.prototype.getStartTangent=function(){var y=this.attr().points,m=[];return m.push([y[1][0],y[1][1]]),m.push([y[0][0],y[0][1]]),m},w.prototype.getEndTangent=function(){var y=this.attr().points,m=y.length-1,p=[];return p.push([y[m-1][0],y[m-1][1]]),p.push([y[m][0],y[m][1]]),p},w}(T.default);S.default=E},9558:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(41310),k=v(93377),_=v(21927),T=v(21897),A=v(46647),C=v(31977),E=function(g){x.__extends(w,g);function w(){return g!==null&&g.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=g.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},y),{x:0,y:0,width:0,height:0,radius:0})},w.prototype.isInStrokeOrPath=function(y,m,p,M,P){var B=this.attr(),F=B.x,W=B.y,Q=B.width,H=B.height,Z=B.radius;if(Z){var rt=!1;return p&&(rt=A.default(F,W,Q,H,Z,P,y,m)),!rt&&M&&(rt=C.default(this,y,m)),rt}else{var ot=P/2;if(M&&p)return _.inBox(F-ot,W-ot,Q+ot,H+ot,y,m);if(M)return _.inBox(F,W,Q,H,y,m);if(p)return T.default(F,W,Q,H,P,y,m)}},w.prototype.createPath=function(y){var m=this.attr(),p=m.x,M=m.y,P=m.width,B=m.height,F=m.radius;if(y.beginPath(),F===0)y.rect(p,M,P,B);else{var W=k.parseRadius(F),Q=W[0],H=W[1],Z=W[2],ot=W[3];y.moveTo(p+Q,M),y.lineTo(p+P-H,M),H!==0&&y.arc(p+P-H,M+H,H,-Math.PI/2,0),y.lineTo(p+P,M+B-Z),Z!==0&&y.arc(p+P-Z,M+B-Z,Z,0,Math.PI/2),y.lineTo(p+ot,M+B),ot!==0&&y.arc(p+ot,M+B-ot,ot,Math.PI/2,Math.PI),y.lineTo(p,M+Q),Q!==0&&y.arc(p+Q,M+Q,Q,Math.PI,Math.PI*1.5),y.closePath()}},w}(O.default);S.default=E},17310:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(41310),k=v(21927),_=v(85622),T=function(A){x.__extends(C,A);function C(){return A!==null&&A.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},E),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},C.prototype.isOnlyHitBox=function(){return!0},C.prototype.initAttrs=function(E){this._assembleFont(),E.text&&this._setText(E.text)},C.prototype._assembleFont=function(){var E=this.attrs;E.font=_.assembleFont(E)},C.prototype._setText=function(E){var g=null;k.isString(E)&&E.indexOf(`
`)!==-1&&(g=E.split(`
`)),this.set("textArr",g)},C.prototype.onAttrChange=function(E,g,w){A.prototype.onAttrChange.call(this,E,g,w),E.startsWith("font")&&this._assembleFont(),E==="text"&&this._setText(g)},C.prototype._getSpaceingY=function(){var E=this.attrs,g=E.lineHeight,w=E.fontSize*1;return g?g-w:w*.14},C.prototype._drawTextArr=function(E,g,w){var y=this.attrs,m=y.textBaseline,p=y.x,M=y.y,P=y.fontSize*1,B=this._getSpaceingY(),F=_.getTextHeight(y.text,y.fontSize,y.lineHeight),W;k.each(g,function(Q,H){W=M+H*(B+P)-F+P,m==="middle"&&(W+=F-P-(F-P)/2),m==="top"&&(W+=F-P),k.isNil(Q)||(w?E.fillText(Q,p,W):E.strokeText(Q,p,W))})},C.prototype._drawText=function(E,g){var w=this.attr(),y=w.x,m=w.y,p=this.get("textArr");if(p)this._drawTextArr(E,p,g);else{var M=w.text;k.isNil(M)||(g?E.fillText(M,y,m):E.strokeText(M,y,m))}},C.prototype.strokeAndFill=function(E){var g=this.attrs,w=g.lineWidth,y=g.opacity,m=g.strokeOpacity,p=g.fillOpacity;this.isStroke()&&w>0&&(!k.isNil(m)&&m!==1&&(E.globalAlpha=y),this.stroke(E)),this.isFill()&&(!k.isNil(p)&&p!==1?(E.globalAlpha=p,this.fill(E),E.globalAlpha=y):this.fill(E)),this.afterDrawPath(E)},C.prototype.fill=function(E){this._drawText(E,!0)},C.prototype.stroke=function(E){this._drawText(E,!1)},C}(O.default);S.default=T},44706:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(21927);function O(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function k(A,C){return O(A)*O(C)?(A[0]*C[0]+A[1]*C[1])/(O(A)*O(C)):1}function _(A,C){return(A[0]*C[1]<A[1]*C[0]?-1:1)*Math.acos(k(A,C))}function T(A,C){var E=C[1],g=C[2],w=x.mod(x.toRadian(C[3]),Math.PI*2),y=C[4],m=C[5],p=A[0],M=A[1],P=C[6],B=C[7],F=Math.cos(w)*(p-P)/2+Math.sin(w)*(M-B)/2,W=-1*Math.sin(w)*(p-P)/2+Math.cos(w)*(M-B)/2,Q=F*F/(E*E)+W*W/(g*g);Q>1&&(E*=Math.sqrt(Q),g*=Math.sqrt(Q));var H=E*E*(W*W)+g*g*(F*F),Z=H?Math.sqrt((E*E*(g*g)-H)/H):1;y===m&&(Z*=-1),isNaN(Z)&&(Z=0);var ot=g?Z*E*W/g:0,rt=E?Z*-g*F/E:0,At=(p+P)/2+Math.cos(w)*ot-Math.sin(w)*rt,pt=(M+B)/2+Math.sin(w)*ot+Math.cos(w)*rt,Ft=[(F-ot)/E,(W-rt)/g],Tt=[(-1*F-ot)/E,(-1*W-rt)/g],Ot=_([1,0],Ft),xt=_(Ft,Tt);return k(Ft,Tt)<=-1&&(xt=Math.PI),k(Ft,Tt)>=1&&(xt=0),m===0&&xt>0&&(xt=xt-2*Math.PI),m===1&&xt<0&&(xt=xt+2*Math.PI),{cx:At,cy:pt,rx:x.isSamePoint(A,[P,B])?0:E,ry:x.isSamePoint(A,[P,B])?0:g,startAngle:Ot,endAngle:Ot+xt,xRotation:w,arcFlag:y,sweepFlag:m}}S.default=T},27836:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.addEndArrow=S.addStartArrow=S.getShortenOffset=void 0;var x=v(93470),O=v(63528),k=Math.sin,_=Math.cos,T=Math.atan2,A=Math.PI;function C(m,p,M,P,B,F,W){var Q=p.stroke,H=p.lineWidth,Z=M-B,ot=P-F,rt=T(ot,Z),At=new O.Path({type:"path",canvas:m.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*_(A/6)+","+10*k(A/6)+" L0,0 L"+10*_(A/6)+",-"+10*k(A/6),stroke:Q,lineWidth:H}});At.translate(B,F),At.rotateAtPoint(B,F,rt),m.set(W?"startArrowShape":"endArrowShape",At)}function E(m,p,M,P,B,F,W){var Q=p.startArrow,H=p.endArrow,Z=p.stroke,ot=p.lineWidth,rt=W?Q:H,At=rt.d,pt=rt.fill,Ft=rt.stroke,Tt=rt.lineWidth,Ot=x.__rest(rt,["d","fill","stroke","lineWidth"]),xt=M-B,ht=P-F,kt=T(ht,xt);At&&(B=B-_(kt)*At,F=F-k(kt)*At);var Gt=new O.Path({type:"path",canvas:m.get("canvas"),isArrowShape:!0,attrs:x.__assign(x.__assign({},Ot),{stroke:Ft||Z,lineWidth:Tt||ot,fill:pt})});Gt.translate(B,F),Gt.rotateAtPoint(B,F,kt),m.set(W?"startArrowShape":"endArrowShape",Gt)}function g(m,p,M,P,B){var F=T(P-p,M-m);return{dx:_(F)*B,dy:k(F)*B}}S.getShortenOffset=g;function w(m,p,M,P,B,F){typeof p.startArrow=="object"?E(m,p,M,P,B,F,!0):p.startArrow?C(m,p,M,P,B,F,!0):m.set("startArrowShape",null)}S.addStartArrow=w;function y(m,p,M,P,B,F){typeof p.endArrow=="object"?E(m,p,M,P,B,F,!1):p.endArrow?C(m,p,M,P,B,F,!1):m.set("startArrowShape",null)}S.addEndArrow=y},70530:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.mergeView=S.getMergedRegion=S.getRefreshRegion=S.refreshElement=S.drawPath=S.clearChanged=S.checkChildrenRefresh=S.checkRefresh=S.drawChildren=S.applyAttrsToContext=void 0;var x=v(49242),O=v(93377),k=v(44706),_=v(21927),T=v(27836),A={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function C(Q,H){var Z=H.attr();for(var ot in Z){var rt=Z[ot],At=A[ot]?A[ot]:ot;At==="matrix"&&rt?Q.transform(rt[0],rt[1],rt[3],rt[4],rt[6],rt[7]):At==="lineDash"&&Q.setLineDash?x.isArray(rt)&&Q.setLineDash(rt):(At==="strokeStyle"||At==="fillStyle"?rt=O.parseStyle(Q,H,rt):At==="globalAlpha"&&(rt=rt*Q.globalAlpha),Q[At]=rt)}}S.applyAttrsToContext=C;function E(Q,H,Z){for(var ot=0;ot<H.length;ot++){var rt=H[ot];rt.cfg.visible?rt.draw(Q,Z):rt.skipDraw()}}S.drawChildren=E;function g(Q,H,Z){var ot=Q.get("refreshElements");x.each(ot,function(rt){if(rt!==Q)for(var At=rt.cfg.parent;At&&At!==Q&&!At.cfg.refresh;)At.cfg.refresh=!0,At=At.cfg.parent}),ot[0]===Q?m(H,Z):w(H,Z)}S.checkRefresh=g;function w(Q,H){for(var Z=0;Z<Q.length;Z++){var ot=Q[Z];if(ot.cfg.visible)if(ot.cfg.hasChanged)ot.cfg.refresh=!0,ot.isGroup()&&m(ot.cfg.children,H);else if(ot.cfg.refresh)ot.isGroup()&&w(ot.cfg.children,H);else{var rt=p(ot,H);ot.cfg.refresh=rt,rt&&ot.isGroup()&&w(ot.cfg.children,H)}}}S.checkChildrenRefresh=w;function y(Q){for(var H=0;H<Q.length;H++){var Z=Q[H];Z.cfg.hasChanged=!1,Z.isGroup()&&!Z.destroyed&&y(Z.cfg.children)}}S.clearChanged=y;function m(Q,H){for(var Z=0;Z<Q.length;Z++){var ot=Q[Z];!ot.cfg.visible||(ot.cfg.refresh=!0,ot.isGroup()&&m(ot.get("children"),H))}}function p(Q,H){var Z=Q.cfg.cacheCanvasBBox,ot=Q.cfg.isInView&&Z&&_.intersectRect(Z,H);return ot}function M(Q,H,Z,ot){var rt=Z.path,At=Z.startArrow,pt=Z.endArrow;if(!!rt){var Ft=[0,0],Tt=[0,0],Ot={dx:0,dy:0};H.beginPath();for(var xt=0;xt<rt.length;xt++){var ht=rt[xt],kt=ht[0];if(xt===0&&At&&At.d){var Gt=Q.getStartTangent();Ot=T.getShortenOffset(Gt[0][0],Gt[0][1],Gt[1][0],Gt[1][1],At.d)}else if(xt===rt.length-2&&rt[xt+1][0]==="Z"&&pt&&pt.d){var dt=rt[xt+1];if(dt[0]==="Z"){var Gt=Q.getEndTangent();Ot=T.getShortenOffset(Gt[0][0],Gt[0][1],Gt[1][0],Gt[1][1],pt.d)}}else if(xt===rt.length-1&&pt&&pt.d&&rt[0]!=="Z"){var Gt=Q.getEndTangent();Ot=T.getShortenOffset(Gt[0][0],Gt[0][1],Gt[1][0],Gt[1][1],pt.d)}var tt=Ot.dx,I=Ot.dy;switch(kt){case"M":H.moveTo(ht[1]-tt,ht[2]-I),Tt=[ht[1],ht[2]];break;case"L":H.lineTo(ht[1]-tt,ht[2]-I);break;case"Q":H.quadraticCurveTo(ht[1],ht[2],ht[3]-tt,ht[4]-I);break;case"C":H.bezierCurveTo(ht[1],ht[2],ht[3],ht[4],ht[5]-tt,ht[6]-I);break;case"A":{var u=void 0;ot?(u=ot[xt],u||(u=k.default(Ft,ht),ot[xt]=u)):u=k.default(Ft,ht);var Y=u.cx,G=u.cy,X=u.rx,U=u.ry,J=u.startAngle,lt=u.endAngle,It=u.xRotation,bt=u.sweepFlag;if(H.ellipse)H.ellipse(Y,G,X,U,It,J,lt,1-bt);else{var et=X>U?X:U,Ct=X>U?1:X/U,it=X>U?U/X:1;H.translate(Y,G),H.rotate(It),H.scale(Ct,it),H.arc(0,0,et,J,lt,1-bt),H.scale(1/Ct,1/it),H.rotate(-It),H.translate(-Y,-G)}break}case"Z":H.closePath();break;default:break}if(kt==="Z")Ft=Tt;else{var st=ht.length;Ft=[ht[st-2],ht[st-1]]}}}}S.drawPath=M;function P(Q,H){var Z=Q.get("canvas");Z&&(H==="remove"&&(Q._cacheCanvasBBox=Q.get("cacheCanvasBBox")),Q.get("hasChanged")||(Q.set("hasChanged",!0),Q.cfg.parent&&Q.cfg.parent.get("hasChanged")||(Z.refreshElement(Q,H,Z),Z.get("autoDraw")&&Z.draw())))}S.refreshElement=P;function B(Q){var H;if(Q.destroyed)H=Q._cacheCanvasBBox;else{var Z=Q.get("cacheCanvasBBox"),ot=Z&&!!(Z.width&&Z.height),rt=Q.getCanvasBBox(),At=rt&&!!(rt.width&&rt.height);ot&&At?H=_.mergeRegion(Z,rt):ot?H=Z:At&&(H=rt)}return H}S.getRefreshRegion=B;function F(Q){if(!Q.length)return null;var H=[],Z=[],ot=[],rt=[];return x.each(Q,function(At){var pt=B(At);pt&&(H.push(pt.minX),Z.push(pt.minY),ot.push(pt.maxX),rt.push(pt.maxY))}),{minX:x.min(H),minY:x.min(Z),maxX:x.max(ot),maxY:x.max(rt)}}S.getMergedRegion=F;function W(Q,H){return!Q||!H||!_.intersectRect(Q,H)?null:{minX:Math.max(Q.minX,H.minX),minY:Math.max(Q.minY,H.minY),maxX:Math.min(Q.maxX,H.maxX),maxY:Math.min(Q.maxY,H.maxY)}}S.mergeView=W},77096:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getShape=void 0;var x=v(85622);function O(A,C){if(C){var E=x.invert(C);return x.multiplyVec2(E,A)}return A}function k(A,C,E){var g=A.getTotalMatrix();if(g){var w=O([C,E,1],g),y=w[0],m=w[1];return[y,m]}return[C,E]}function _(A,C,E){if(A.isCanvas&&A.isCanvas())return!0;if(!x.isAllowCapture(A)||A.cfg.isInView===!1)return!1;if(A.cfg.clipShape){var g=k(A,C,E),w=g[0],y=g[1];if(A.isClipped(w,y))return!1}var m=A.cfg.cacheCanvasBBox||A.getCanvasBBox();return C>=m.minX&&C<=m.maxX&&E>=m.minY&&E<=m.maxY}function T(A,C,E){if(!_(A,C,E))return null;for(var g=null,w=A.getChildren(),y=w.length,m=y-1;m>=0;m--){var p=w[m];if(p.isGroup())g=T(p,C,E);else if(_(p,C,E)){var M=p,P=k(p,C,E),B=P[0],F=P[1];M.isInShape(B,F)&&(g=p)}if(g)break}return g}S.getShape=T},31977:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(85622);function O(k,_,T){var A=x.getOffScreenContext();return k.createPath(A),A.isPointInPath(_,T)}S.default=O},50970:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=1e-6;function x(_){return Math.abs(_)<v?0:_<0?-1:1}function O(_,T,A){return(A[0]-_[0])*(T[1]-_[1])==(T[0]-_[0])*(A[1]-_[1])&&Math.min(_[0],T[0])<=A[0]&&A[0]<=Math.max(_[0],T[0])&&Math.min(_[1],T[1])<=A[1]&&A[1]<=Math.max(_[1],T[1])}function k(_,T,A){var C=!1,E=_.length;if(E<=2)return!1;for(var g=0;g<E;g++){var w=_[g],y=_[(g+1)%E];if(O(w,y,[T,A]))return!0;x(w[1]-A)>0!=x(y[1]-A)>0&&x(T-(A-w[1])*(w[0]-y[0])/(w[1]-y[1])-w[0])<0&&(C=!C)}return C}S.default=k},70122:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(21927);function O(k,_,T,A,C,E,g,w){var y=(Math.atan2(w-_,g-k)+Math.PI*2)%(Math.PI*2);if(y<A||y>C)return!1;var m={x:k+T*Math.cos(y),y:_+T*Math.sin(y)};return x.distance(m.x,m.y,g,w)<=E/2}S.default=O},63161:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(89838);function O(k,_,T,A,C,E,g){var w=Math.min(k,T),y=Math.max(k,T),m=Math.min(_,A),p=Math.max(_,A),M=C/2;return E>=w-M&&E<=y+M&&g>=m-M&&g<=p+M?x.Line.pointToLine(k,_,T,A,E,g)<=C/2:!1}S.default=O},39761:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(63161);function O(k,_,T,A,C){var E=k.length;if(E<2)return!1;for(var g=0;g<E-1;g++){var w=k[g][0],y=k[g][1],m=k[g+1][0],p=k[g+1][1];if(x.default(w,y,m,p,_,T,A))return!0}if(C){var M=k[0],P=k[E-1];if(x.default(M[0],M[1],P[0],P[1],_,T,A))return!0}return!1}S.default=O},46647:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(63161),O=v(70122);function k(_,T,A,C,E,g,w,y){var m=g/2;return x.default(_+E,T,_+A-E,T,g,w,y)||x.default(_+A,T+E,_+A,T+C-E,g,w,y)||x.default(_+A-E,T+C,_+E,T+C,g,w,y)||x.default(_,T+C-E,_,T+E,g,w,y)||O.default(_+A-E,T+E,E,1.5*Math.PI,2*Math.PI,g,w,y)||O.default(_+A-E,T+C-E,E,0,.5*Math.PI,g,w,y)||O.default(_+E,T+C-E,E,.5*Math.PI,Math.PI,g,w,y)||O.default(_+E,T+E,E,Math.PI,1.5*Math.PI,g,w,y)}S.default=k},21897:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(21927);function O(k,_,T,A,C,E,g){var w=C/2;return x.inBox(k-w,_-w,T,C,E,g)||x.inBox(k+T-w,_-w,C,A,E,g)||x.inBox(k+w,_+A-w,T,C,E,g)||x.inBox(k-w,_+w,C,A,E,g)}S.default=O},93377:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseRadius=S.parseStyle=S.parsePattern=S.parseRadialGradient=S.parseLineGradient=void 0;var x=v(21927),O=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,k=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,_=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function A(m,p){var M=m.match(T);x.each(M,function(P){var B=P.split(":");p.addColorStop(B[0],B[1])})}function C(m,p,M){var P=O.exec(M),B=parseFloat(P[1])%360*(Math.PI/180),F=P[2],W=p.getBBox(),Q,H;B>=0&&B<1/2*Math.PI?(Q={x:W.minX,y:W.minY},H={x:W.maxX,y:W.maxY}):1/2*Math.PI<=B&&B<Math.PI?(Q={x:W.maxX,y:W.minY},H={x:W.minX,y:W.maxY}):Math.PI<=B&&B<3/2*Math.PI?(Q={x:W.maxX,y:W.maxY},H={x:W.minX,y:W.minY}):(Q={x:W.minX,y:W.maxY},H={x:W.maxX,y:W.minY});var Z=Math.tan(B),ot=Z*Z,rt=(H.x-Q.x+Z*(H.y-Q.y))/(ot+1)+Q.x,At=Z*(H.x-Q.x+Z*(H.y-Q.y))/(ot+1)+Q.y,pt=m.createLinearGradient(Q.x,Q.y,rt,At);return A(F,pt),pt}S.parseLineGradient=C;function E(m,p,M){var P=k.exec(M),B=parseFloat(P[1]),F=parseFloat(P[2]),W=parseFloat(P[3]),Q=P[4];if(W===0){var H=Q.match(T);return H[H.length-1].split(":")[1]}var Z=p.getBBox(),ot=Z.maxX-Z.minX,rt=Z.maxY-Z.minY,At=Math.sqrt(ot*ot+rt*rt)/2,pt=m.createRadialGradient(Z.minX+ot*B,Z.minY+rt*F,0,Z.minX+ot/2,Z.minY+rt/2,W*At);return A(Q,pt),pt}S.parseRadialGradient=E;function g(m,p,M){if(p.get("patternSource")&&p.get("patternSource")===M)return p.get("pattern");var P,B,F=_.exec(M),W=F[1],Q=F[2];function H(){P=m.createPattern(B,W),p.set("pattern",P),p.set("patternSource",M)}switch(W){case"a":W="repeat";break;case"x":W="repeat-x";break;case"y":W="repeat-y";break;case"n":W="no-repeat";break;default:W="no-repeat"}return B=new Image,Q.match(/^data:/i)||(B.crossOrigin="Anonymous"),B.src=Q,B.complete?H():(B.onload=H,B.src=B.src),P}S.parsePattern=g;function w(m,p,M){var P=p.getBBox();if(isNaN(P.x)||isNaN(P.y)||isNaN(P.width)||isNaN(P.height))return M;if(x.isString(M)){if(M[1]==="("||M[2]==="("){if(M[0]==="l")return C(m,p,M);if(M[0]==="r")return E(m,p,M);if(M[0]==="p")return g(m,p,M)}return M}if(M instanceof CanvasPattern)return M}S.parseStyle=w;function y(m){var p=0,M=0,P=0,B=0;return x.isArray(m)?m.length===1?p=M=P=B=m[0]:m.length===2?(p=P=m[0],M=B=m[1]):m.length===3?(p=m[0],M=B=m[1],P=m[2]):(p=m[0],M=m[1],P=m[2],B=m[3]):p=M=P=B=m,[p,M,P,B]}S.parseRadius=y},55531:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(93470),O=v(85622),k=v(89838),_=v(89838),T=v(77788),A=v(77160),C=v(21927),E=v(63161),g=v(70122),w=T.ext.transform;function y(M){for(var P=!1,B=M.length,F=0;F<B;F++){var W=M[F],Q=W[0];if(Q==="C"||Q==="A"||Q==="Q"){P=!0;break}}return P}function m(M,P,B,F,W){for(var Q=!1,H=P/2,Z=0;Z<M.length;Z++){var ot=M[Z],rt=ot.currentPoint,At=ot.params,pt=ot.prePoint,Ft=ot.box;if(!(Ft&&!C.inBox(Ft.x-H,Ft.y-H,Ft.width+P,Ft.height+P,B,F))){switch(ot.command){case"L":case"Z":Q=E.default(pt[0],pt[1],rt[0],rt[1],P,B,F);break;case"Q":var Tt=k.Quad.pointDistance(pt[0],pt[1],At[1],At[2],At[3],At[4],B,F);Q=Tt<=P/2;break;case"C":var Ot=_.Cubic.pointDistance(pt[0],pt[1],At[1],At[2],At[3],At[4],At[5],At[6],B,F,W);Q=Ot<=P/2;break;case"A":var xt=ot.arcParams,ht=xt.cx,kt=xt.cy,Gt=xt.rx,dt=xt.ry,tt=xt.startAngle,I=xt.endAngle,u=xt.xRotation,Y=[B,F,1],G=Gt>dt?Gt:dt,X=Gt>dt?1:Gt/dt,U=Gt>dt?dt/Gt:1,J=w(null,[["t",-ht,-kt],["r",-u],["s",1/X,1/U]]);A.transformMat3(Y,Y,J),Q=g.default(0,0,G,tt,I,P,Y[0],Y[1]);break;default:break}if(Q)break}}return Q}function p(M){for(var P=M.length,B=[],F=[],W=[],Q=0;Q<P;Q++){var H=M[Q],Z=H[0];Z==="M"?(W.length&&(F.push(W),W=[]),W.push([H[1],H[2]])):Z==="Z"?W.length&&(B.push(W),W=[]):W.push([H[1],H[2]])}return W.length>0&&F.push(W),{polygons:B,polylines:F}}S.default=x.__assign({hasArc:y,extractPolygons:p,isPointInStroke:m},O.PathUtil)},21927:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function x(){return window?window.devicePixelRatio:1}S.getPixelRatio=x;function O(E,g,w,y){var m=E-w,p=g-y;return Math.sqrt(m*m+p*p)}S.distance=O;function k(E,g,w,y,m,p){return m>=E&&m<=E+w&&p>=g&&p<=g+y}S.inBox=k;function _(E,g){return!(g.minX>E.maxX||g.maxX<E.minX||g.minY>E.maxY||g.maxY<E.minY)}S.intersectRect=_;function T(E,g){return!E||!g?E||g:{minX:Math.min(E.minX,g.minX),minY:Math.min(E.minY,g.minY),maxX:Math.max(E.maxX,g.maxX),maxY:Math.max(E.maxY,g.maxY)}}S.mergeRegion=T;function A(E,g){return E[0]===g[0]&&E[1]===g[1]}S.isSamePoint=A;var C=v(49242);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return C.isNil}}),Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return C.isString}}),Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return C.isFunction}}),Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return C.isArray}}),Object.defineProperty(S,"each",{enumerable:!0,get:function(){return C.each}}),Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return C.toRadian}}),Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return C.mod}}),Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return C.isNumberEqual}}),Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return C.requestAnimationFrame}}),Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return C.clearAnimationFrame}})},77788:function(ft,S,v){"use strict";v.r(S),v.d(S,{ext:function(){return x},mat3:function(){return O},vec2:function(){return k},vec3:function(){return _}});var x={};v.r(x),v.d(x,{angleTo:function(){return y},direction:function(){return w},leftRotate:function(){return A},leftScale:function(){return C},leftTranslate:function(){return T},transform:function(){return g},vertical:function(){return m}});var O=v(35600),k=v(31437),_=v(77160);function T(p,M,P){var B=[0,0,0,0,0,0,0,0,0];return O.fromTranslation(B,P),O.multiply(p,B,M)}function A(p,M,P){var B=[0,0,0,0,0,0,0,0,0];return O.fromRotation(B,P),O.multiply(p,B,M)}function C(p,M,P){var B=[0,0,0,0,0,0,0,0,0];return O.fromScaling(B,P),O.multiply(p,B,M)}function E(p,M,P){return O.multiply(p,P,M)}function g(p,M){for(var P=p?[].concat(p):[1,0,0,0,1,0,0,0,1],B=0,F=M.length;B<F;B++){var W=M[B];switch(W[0]){case"t":T(P,P,[W[1],W[2]]);break;case"s":C(P,P,[W[1],W[2]]);break;case"r":A(P,P,W[1]);break;case"m":E(P,P,W[1]);break;default:break}}return P}function w(p,M){return p[0]*M[1]-M[0]*p[1]}function y(p,M,P){var B=k.angle(p,M),F=w(p,M)>=0;return P?F?Math.PI*2-B:B:F?B:Math.PI*2-B}function m(p,M,P){return P?(p[0]=M[1],p[1]=-1*M[0]):(p[0]=-1*M[1],p[1]=M[0]),p}},93470:function(ft,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return g},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return m},__generator:function(){return p},__createBinding:function(){return M},__exportStar:function(){return P},__values:function(){return B},__read:function(){return F},__spread:function(){return W},__spreadArrays:function(){return Q},__spreadArray:function(){return H},__await:function(){return Z},__asyncGenerator:function(){return ot},__asyncDelegator:function(){return rt},__asyncValues:function(){return At},__makeTemplateObject:function(){return pt},__importStar:function(){return Tt},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return xt},__classPrivateFieldSet:function(){return ht},__classPrivateFieldIn:function(){return kt},__addDisposableResource:function(){return Gt},__disposeResources:function(){return tt}});var x=function(I,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,G){Y.__proto__=G}||function(Y,G){for(var X in G)Object.prototype.hasOwnProperty.call(G,X)&&(Y[X]=G[X])},x(I,u)};function O(I,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(I,u);function Y(){this.constructor=I}I.prototype=u===null?Object.create(u):(Y.prototype=u.prototype,new Y)}var k=function(){return k=Object.assign||function(u){for(var Y,G=1,X=arguments.length;G<X;G++){Y=arguments[G];for(var U in Y)Object.prototype.hasOwnProperty.call(Y,U)&&(u[U]=Y[U])}return u},k.apply(this,arguments)};function _(I,u){var Y={};for(var G in I)Object.prototype.hasOwnProperty.call(I,G)&&u.indexOf(G)<0&&(Y[G]=I[G]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,G=Object.getOwnPropertySymbols(I);X<G.length;X++)u.indexOf(G[X])<0&&Object.prototype.propertyIsEnumerable.call(I,G[X])&&(Y[G[X]]=I[G[X]]);return Y}function T(I,u,Y,G){var X=arguments.length,U=X<3?u:G===null?G=Object.getOwnPropertyDescriptor(u,Y):G,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(I,u,Y,G);else for(var lt=I.length-1;lt>=0;lt--)(J=I[lt])&&(U=(X<3?J(U):X>3?J(u,Y,U):J(u,Y))||U);return X>3&&U&&Object.defineProperty(u,Y,U),U}function A(I,u){return function(Y,G){u(Y,G,I)}}function C(I,u,Y,G,X,U){function J(mt){if(mt!==void 0&&typeof mt!="function")throw new TypeError("Function expected");return mt}for(var lt=G.kind,It=lt==="getter"?"get":lt==="setter"?"set":"value",bt=!u&&I?G.static?I:I.prototype:null,et=u||(bt?Object.getOwnPropertyDescriptor(bt,G.name):{}),Ct,it=!1,st=Y.length-1;st>=0;st--){var St={};for(var at in G)St[at]=at==="access"?{}:G[at];for(var at in G.access)St.access[at]=G.access[at];St.addInitializer=function(mt){if(it)throw new TypeError("Cannot add initializers after decoration has completed");U.push(J(mt||null))};var nt=(0,Y[st])(lt==="accessor"?{get:et.get,set:et.set}:et[It],St);if(lt==="accessor"){if(nt===void 0)continue;if(nt===null||typeof nt!="object")throw new TypeError("Object expected");(Ct=J(nt.get))&&(et.get=Ct),(Ct=J(nt.set))&&(et.set=Ct),(Ct=J(nt.init))&&X.unshift(Ct)}else(Ct=J(nt))&&(lt==="field"?X.unshift(Ct):et[It]=Ct)}bt&&Object.defineProperty(bt,G.name,et),it=!0}function E(I,u,Y){for(var G=arguments.length>2,X=0;X<u.length;X++)Y=G?u[X].call(I,Y):u[X].call(I);return G?Y:void 0}function g(I){return typeof I=="symbol"?I:"".concat(I)}function w(I,u,Y){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(I,"name",{configurable:!0,value:Y?"".concat(Y," ",u):u})}function y(I,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,u)}function m(I,u,Y,G){function X(U){return U instanceof Y?U:new Y(function(J){J(U)})}return new(Y||(Y=Promise))(function(U,J){function lt(et){try{bt(G.next(et))}catch(Ct){J(Ct)}}function It(et){try{bt(G.throw(et))}catch(Ct){J(Ct)}}function bt(et){et.done?U(et.value):X(et.value).then(lt,It)}bt((G=G.apply(I,u||[])).next())})}function p(I,u){var Y={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},G,X,U,J;return J={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function lt(bt){return function(et){return It([bt,et])}}function It(bt){if(G)throw new TypeError("Generator is already executing.");for(;J&&(J=0,bt[0]&&(Y=0)),Y;)try{if(G=1,X&&(U=bt[0]&2?X.return:bt[0]?X.throw||((U=X.return)&&U.call(X),0):X.next)&&!(U=U.call(X,bt[1])).done)return U;switch(X=0,U&&(bt=[bt[0]&2,U.value]),bt[0]){case 0:case 1:U=bt;break;case 4:return Y.label++,{value:bt[1],done:!1};case 5:Y.label++,X=bt[1],bt=[0];continue;case 7:bt=Y.ops.pop(),Y.trys.pop();continue;default:if(U=Y.trys,!(U=U.length>0&&U[U.length-1])&&(bt[0]===6||bt[0]===2)){Y=0;continue}if(bt[0]===3&&(!U||bt[1]>U[0]&&bt[1]<U[3])){Y.label=bt[1];break}if(bt[0]===6&&Y.label<U[1]){Y.label=U[1],U=bt;break}if(U&&Y.label<U[2]){Y.label=U[2],Y.ops.push(bt);break}U[2]&&Y.ops.pop(),Y.trys.pop();continue}bt=u.call(I,Y)}catch(et){bt=[6,et],X=0}finally{G=U=0}if(bt[0]&5)throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}}var M=Object.create?function(I,u,Y,G){G===void 0&&(G=Y);var X=Object.getOwnPropertyDescriptor(u,Y);(!X||("get"in X?!u.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return u[Y]}}),Object.defineProperty(I,G,X)}:function(I,u,Y,G){G===void 0&&(G=Y),I[G]=u[Y]};function P(I,u){for(var Y in I)Y!=="default"&&!Object.prototype.hasOwnProperty.call(u,Y)&&M(u,I,Y)}function B(I){var u=typeof Symbol=="function"&&Symbol.iterator,Y=u&&I[u],G=0;if(Y)return Y.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&G>=I.length&&(I=void 0),{value:I&&I[G++],done:!I}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(I,u){var Y=typeof Symbol=="function"&&I[Symbol.iterator];if(!Y)return I;var G=Y.call(I),X,U=[],J;try{for(;(u===void 0||u-- >0)&&!(X=G.next()).done;)U.push(X.value)}catch(lt){J={error:lt}}finally{try{X&&!X.done&&(Y=G.return)&&Y.call(G)}finally{if(J)throw J.error}}return U}function W(){for(var I=[],u=0;u<arguments.length;u++)I=I.concat(F(arguments[u]));return I}function Q(){for(var I=0,u=0,Y=arguments.length;u<Y;u++)I+=arguments[u].length;for(var G=Array(I),X=0,u=0;u<Y;u++)for(var U=arguments[u],J=0,lt=U.length;J<lt;J++,X++)G[X]=U[J];return G}function H(I,u,Y){if(Y||arguments.length===2)for(var G=0,X=u.length,U;G<X;G++)(U||!(G in u))&&(U||(U=Array.prototype.slice.call(u,0,G)),U[G]=u[G]);return I.concat(U||Array.prototype.slice.call(u))}function Z(I){return this instanceof Z?(this.v=I,this):new Z(I)}function ot(I,u,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=Y.apply(I,u||[]),X,U=[];return X={},J("next"),J("throw"),J("return"),X[Symbol.asyncIterator]=function(){return this},X;function J(it){G[it]&&(X[it]=function(st){return new Promise(function(St,at){U.push([it,st,St,at])>1||lt(it,st)})})}function lt(it,st){try{It(G[it](st))}catch(St){Ct(U[0][3],St)}}function It(it){it.value instanceof Z?Promise.resolve(it.value.v).then(bt,et):Ct(U[0][2],it)}function bt(it){lt("next",it)}function et(it){lt("throw",it)}function Ct(it,st){it(st),U.shift(),U.length&&lt(U[0][0],U[0][1])}}function rt(I){var u,Y;return u={},G("next"),G("throw",function(X){throw X}),G("return"),u[Symbol.iterator]=function(){return this},u;function G(X,U){u[X]=I[X]?function(J){return(Y=!Y)?{value:Z(I[X](J)),done:!1}:U?U(J):J}:U}}function At(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=I[Symbol.asyncIterator],Y;return u?u.call(I):(I=typeof B=="function"?B(I):I[Symbol.iterator](),Y={},G("next"),G("throw"),G("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function G(U){Y[U]=I[U]&&function(J){return new Promise(function(lt,It){J=I[U](J),X(lt,It,J.done,J.value)})}}function X(U,J,lt,It){Promise.resolve(It).then(function(bt){U({value:bt,done:lt})},J)}}function pt(I,u){return Object.defineProperty?Object.defineProperty(I,"raw",{value:u}):I.raw=u,I}var Ft=Object.create?function(I,u){Object.defineProperty(I,"default",{enumerable:!0,value:u})}:function(I,u){I.default=u};function Tt(I){if(I&&I.__esModule)return I;var u={};if(I!=null)for(var Y in I)Y!=="default"&&Object.prototype.hasOwnProperty.call(I,Y)&&M(u,I,Y);return Ft(u,I),u}function Ot(I){return I&&I.__esModule?I:{default:I}}function xt(I,u,Y,G){if(Y==="a"&&!G)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?I!==u||!G:!u.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Y==="m"?G:Y==="a"?G.call(I):G?G.value:u.get(I)}function ht(I,u,Y,G,X){if(G==="m")throw new TypeError("Private method is not writable");if(G==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?I!==u||!X:!u.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return G==="a"?X.call(I,Y):X?X.value=Y:u.set(I,Y),Y}function kt(I,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof I=="function"?u===I:I.has(u)}function Gt(I,u,Y){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var G;if(Y){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");G=u[Symbol.asyncDispose]}if(G===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");G=u[Symbol.dispose]}if(typeof G!="function")throw new TypeError("Object not disposable.");I.stack.push({value:u,dispose:G,async:Y})}else Y&&I.stack.push({async:!0});return u}var dt=typeof SuppressedError=="function"?SuppressedError:function(I,u,Y){var G=new Error(Y);return G.name="SuppressedError",G.error=I,G.suppressed=u,G};function tt(I){function u(G){I.error=I.hasError?new dt(G,I.error,"An error was suppressed during disposal."):G,I.hasError=!0}function Y(){for(;I.stack.length;){var G=I.stack.pop();try{var X=G.dispose&&G.dispose.call(G.value);if(G.async)return Promise.resolve(X).then(Y,function(U){return u(U),Y()})}catch(U){u(U)}}if(I.hasError)throw I.error}return Y()}S.default={__extends:O,__assign:k,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:p,__createBinding:M,__exportStar:P,__values:B,__read:F,__spread:W,__spreadArrays:Q,__spreadArray:H,__await:Z,__asyncGenerator:ot,__asyncDelegator:rt,__asyncValues:At,__makeTemplateObject:pt,__importStar:Tt,__importDefault:Ot,__classPrivateFieldGet:xt,__classPrivateFieldSet:ht,__classPrivateFieldIn:kt,__addDisposableResource:Gt,__disposeResources:tt}},70673:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(58977),k=v(85622),_=v(65712),T=v(98820),A=v(50063),C=v(87596),E=v(4206),g=v(11694),w=v(21318),y=function(m){O.__extends(p,m);function p(M){return m.call(this,O.__assign(O.__assign({},M),{autoDraw:!0,renderer:"svg"}))||this}return p.prototype.getShapeBase=function(){return E},p.prototype.getGroupBase=function(){return g.default},p.prototype.getShape=function(M,P,B){var F=B.target||B.srcElement;if(!_.SHAPE_TO_TAGS[F.tagName]){for(var W=F.parentNode;W&&!_.SHAPE_TO_TAGS[W.tagName];)W=W.parentNode;F=W}return this.find(function(Q){return Q.get("el")===F})},p.prototype.createDom=function(){var M=C.createSVGElement("svg"),P=new w.default(M);return M.setAttribute("width",""+this.get("width")),M.setAttribute("height",""+this.get("height")),this.set("context",P),M},p.prototype.onCanvasChange=function(M){var P=this.get("context"),B=this.get("el");if(M==="sort"){var F=this.get("children");F&&F.length&&C.sortDom(this,function(Q,H){return F.indexOf(Q)-F.indexOf(H)?1:0})}else if(M==="clear"){if(B){B.innerHTML="";var W=P.el;W.innerHTML="",B.appendChild(W)}}else M==="matrix"?A.setTransform(this):M==="clip"?A.setClip(this,P):M==="changeSize"&&(B.setAttribute("width",""+this.get("width")),B.setAttribute("height",""+this.get("height")))},p.prototype.draw=function(){var M=this.get("context"),P=this.getChildren();A.setClip(this,M),P.length&&T.drawChildren(M,P)},p}(k.AbstractCanvas);S.Z=y},65712:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.EVENTS=S.SVG_ATTR_MAP=S.SHAPE_TO_TAGS=void 0,S.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},S.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},S.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},9353:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=v(87596),k=function(){function _(T,A){this.cfg={};var C=O.createSVGElement("marker"),E=x.uniqueId("marker_");C.setAttribute("id",E);var g=O.createSVGElement("path");g.setAttribute("stroke",T.stroke||"none"),g.setAttribute("fill",T.fill||"none"),C.appendChild(g),C.setAttribute("overflow","visible"),C.setAttribute("orient","auto-start-reverse"),this.el=C,this.child=g,this.id=E;var w=T[A==="marker-start"?"startArrow":"endArrow"];return this.stroke=T.stroke||"#000",w===!0?this._setDefaultPath(A,g):(this.cfg=w,this._setMarker(T.lineWidth,g)),this}return _.prototype.match=function(){return!1},_.prototype._setDefaultPath=function(T,A){var C=this.el;A.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),C.setAttribute("refX",""+10*Math.cos(Math.PI/6)),C.setAttribute("refY",""+5)},_.prototype._setMarker=function(T,A){var C=this.el,E=this.cfg.path,g=this.cfg.d;x.isArray(E)&&(E=E.map(function(w){return w.join(" ")}).join("")),A.setAttribute("d",E),C.appendChild(A),g&&C.setAttribute("refX",""+g/T)},_.prototype.update=function(T){var A=this.child;A.attr?A.attr("fill",T):A.setAttribute("fill",T)},_}();S.default=k},67926:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=v(87596),k=function(){function _(T){this.type="clip",this.cfg={};var A=O.createSVGElement("clipPath");this.el=A,this.id=x.uniqueId("clip_"),A.id=this.id;var C=T.cfg.el;return A.appendChild(C),this.cfg=T,this}return _.prototype.match=function(){return!1},_.prototype.remove=function(){var T=this.el;T.parentNode.removeChild(T)},_}();S.default=k},10052:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=v(87596),k=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,_=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function A(w){var y=w.match(T);if(!y)return"";var m="";return y.sort(function(p,M){return p=p.split(":"),M=M.split(":"),Number(p[0])-Number(M[0])}),x.each(y,function(p){p=p.split(":"),m+='<stop offset="'+p[0]+'" stop-color="'+p[1]+'"></stop>'}),m}function C(w,y){var m=k.exec(w),p=x.mod(x.toRadian(parseFloat(m[1])),Math.PI*2),M=m[2],P,B;p>=0&&p<.5*Math.PI?(P={x:0,y:0},B={x:1,y:1}):.5*Math.PI<=p&&p<Math.PI?(P={x:1,y:0},B={x:0,y:1}):Math.PI<=p&&p<1.5*Math.PI?(P={x:1,y:1},B={x:0,y:0}):(P={x:0,y:1},B={x:1,y:0});var F=Math.tan(p),W=F*F,Q=(B.x-P.x+F*(B.y-P.y))/(W+1)+P.x,H=F*(B.x-P.x+F*(B.y-P.y))/(W+1)+P.y;y.setAttribute("x1",P.x),y.setAttribute("y1",P.y),y.setAttribute("x2",Q),y.setAttribute("y2",H),y.innerHTML=A(M)}function E(w,y){var m=_.exec(w),p=parseFloat(m[1]),M=parseFloat(m[2]),P=parseFloat(m[3]),B=m[4];y.setAttribute("cx",p),y.setAttribute("cy",M),y.setAttribute("r",P),y.innerHTML=A(B)}var g=function(){function w(y){this.cfg={};var m=null,p=x.uniqueId("gradient_");return y.toLowerCase()[0]==="l"?(m=O.createSVGElement("linearGradient"),C(y,m)):(m=O.createSVGElement("radialGradient"),E(y,m)),m.setAttribute("id",p),this.el=m,this.id=p,this.cfg=y,this}return w.prototype.match=function(y,m){return this.cfg===m},w}();S.default=g},21318:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=v(10052),k=v(96526),_=v(9353),T=v(67926),A=v(10011),C=v(87596),E=function(){function g(w){var y=C.createSVGElement("defs"),m=x.uniqueId("defs_");y.id=m,w.appendChild(y),this.children=[],this.defaultArrow={},this.el=y,this.canvas=w}return g.prototype.find=function(w,y){for(var m=this.children,p=null,M=0;M<m.length;M++)if(m[M].match(w,y)){p=m[M].id;break}return p},g.prototype.findById=function(w){for(var y=this.children,m=null,p=0;p<y.length;p++)if(y[p].id===w){m=y[p];break}return m},g.prototype.add=function(w){this.children.push(w),w.canvas=this.canvas,w.parent=this},g.prototype.getDefaultArrow=function(w,y){var m=w.stroke||w.strokeStyle;if(this.defaultArrow[m])return this.defaultArrow[m].id;var p=new _.default(w,y);return this.defaultArrow[m]=p,this.el.appendChild(p.el),this.add(p),p.id},g.prototype.addGradient=function(w){var y=new O.default(w);return this.el.appendChild(y.el),this.add(y),y.id},g.prototype.addArrow=function(w,y){var m=new _.default(w,y);return this.el.appendChild(m.el),this.add(m),m.id},g.prototype.addShadow=function(w){var y=new k.default(w);return this.el.appendChild(y.el),this.add(y),y.id},g.prototype.addPattern=function(w){var y=new A.default(w);return this.el.appendChild(y.el),this.add(y),y.id},g.prototype.addClip=function(w){var y=new T.default(w);return this.el.appendChild(y.el),this.add(y),y.id},g}();S.default=E},10011:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=v(87596),k=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,_=function(){function T(A){this.cfg={};var C=O.createSVGElement("pattern");C.setAttribute("patternUnits","userSpaceOnUse");var E=O.createSVGElement("image");C.appendChild(E);var g=x.uniqueId("pattern_");C.id=g,this.el=C,this.id=g,this.cfg=A;var w=k.exec(A),y=w[2];E.setAttribute("href",y);var m=new Image;y.match(/^data:/i)||(m.crossOrigin="Anonymous"),m.src=y;function p(){C.setAttribute("width",""+m.width),C.setAttribute("height",""+m.height)}return m.complete?p():(m.onload=p,m.src=m.src),this}return T.prototype.match=function(A,C){return this.cfg===C},T}();S.default=_},96526:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=v(87596),k={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},_={x:"-40%",y:"-40%",width:"200%",height:"200%"},T=function(){function A(C){this.type="filter",this.cfg={},this.type="filter";var E=O.createSVGElement("filter");return x.each(_,function(g,w){E.setAttribute(w,g)}),this.el=E,this.id=x.uniqueId("filter_"),this.el.id=this.id,this.cfg=C,this._parseShadow(C,E),this}return A.prototype.match=function(C,E){if(this.type!==C)return!1;var g=!0,w=this.cfg;return x.each(Object.keys(w),function(y){if(w[y]!==E[y])return g=!1,!1}),g},A.prototype.update=function(C,E){var g=this.cfg;return g[k[C]]=E,this._parseShadow(g,this.el),this},A.prototype._parseShadow=function(C,E){var g=`<feDropShadow
      dx="`+(C.dx||0)+`"
      dy="`+(C.dy||0)+`"
      stdDeviation="`+(C.blur?C.blur/10:0)+`"
      flood-color="`+(C.color?C.color:"#000")+`"
      flood-opacity="`+(C.opacity?C.opacity:1)+`"
      />`;E.innerHTML=g},A}();S.default=T},11694:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(85622),k=v(49242),_=v(4206),T=v(98820),A=v(50063),C=v(65712),E=v(87596),g=function(w){x.__extends(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype.isEntityGroup=function(){return!0},y.prototype.createDom=function(){var m=E.createSVGElement("g");this.set("el",m);var p=this.getParent();if(p){var M=p.get("el");M||(M=p.createDom(),p.set("el",M)),M.appendChild(m)}return m},y.prototype.afterAttrsChange=function(m){w.prototype.afterAttrsChange.call(this,m);var p=this.get("canvas");if(p&&p.get("autoDraw")){var M=p.get("context");this.createPath(M,m)}},y.prototype.onCanvasChange=function(m){T.refreshElement(this,m)},y.prototype.getShapeBase=function(){return _},y.prototype.getGroupBase=function(){return y},y.prototype.draw=function(m){var p=this.getChildren(),M=this.get("el");this.get("destroyed")?M&&M.parentNode.removeChild(M):(M||this.createDom(),A.setClip(this,m),this.createPath(m),p.length&&T.drawChildren(m,p))},y.prototype.createPath=function(m,p){var M=this.attr(),P=this.get("el");k.each(p||M,function(B,F){C.SVG_ATTR_MAP[F]&&P.setAttribute(C.SVG_ATTR_MAP[F],B)}),A.setTransform(this)},y}(O.AbstractGroup);S.default=g},4050:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(85622),k=v(50063),_=v(87596),T=v(98820),A=v(65712),C=v(4206),E=v(11694),g=v(85622),w=function(y){x.__extends(m,y);function m(){var p=y!==null&&y.apply(this,arguments)||this;return p.type="svg",p.canFill=!1,p.canStroke=!1,p}return m.prototype.getDefaultAttrs=function(){var p=y.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},p),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},m.prototype.afterAttrsChange=function(p){y.prototype.afterAttrsChange.call(this,p);var M=this.get("canvas");if(M&&M.get("autoDraw")){var P=M.get("context");this.draw(P,p)}},m.prototype.getShapeBase=function(){return C},m.prototype.getGroupBase=function(){return E.default},m.prototype.onCanvasChange=function(p){T.refreshElement(this,p)},m.prototype.calculateBBox=function(){var p=this.get("el"),M=null;if(p)M=p.getBBox();else{var P=g.getBBoxMethod(this.get("type"));P&&(M=P(this))}if(M){var B=M.x,F=M.y,W=M.width,Q=M.height,H=this.getHitLineWidth(),Z=H/2,ot=B-Z,rt=F-Z,At=B+W+Z,pt=F+Q+Z;return{x:ot,y:rt,minX:ot,minY:rt,maxX:At,maxY:pt,width:W+H,height:Q+H}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},m.prototype.isFill=function(){var p=this.attr(),M=p.fill,P=p.fillStyle;return(M||P||this.isClipShape())&&this.canFill},m.prototype.isStroke=function(){var p=this.attr(),M=p.stroke,P=p.strokeStyle;return(M||P)&&this.canStroke},m.prototype.draw=function(p,M){var P=this.get("el");this.get("destroyed")?P&&P.parentNode.removeChild(P):(P||_.createDom(this),k.setClip(this,p),this.createPath(p,M),this.shadow(p,M),this.strokeAndFill(p,M),this.transform(M))},m.prototype.createPath=function(p,M){},m.prototype.strokeAndFill=function(p,M){var P=M||this.attr(),B=P.fill,F=P.fillStyle,W=P.stroke,Q=P.strokeStyle,H=P.fillOpacity,Z=P.strokeOpacity,ot=P.lineWidth,rt=this.get("el");this.canFill&&(M?"fill"in P?this._setColor(p,"fill",B):"fillStyle"in P&&this._setColor(p,"fill",F):this._setColor(p,"fill",B||F),H&&rt.setAttribute(A.SVG_ATTR_MAP.fillOpacity,H)),this.canStroke&&ot>0&&(M?"stroke"in P?this._setColor(p,"stroke",W):"strokeStyle"in P&&this._setColor(p,"stroke",Q):this._setColor(p,"stroke",W||Q),Z&&rt.setAttribute(A.SVG_ATTR_MAP.strokeOpacity,Z),ot&&rt.setAttribute(A.SVG_ATTR_MAP.lineWidth,ot))},m.prototype._setColor=function(p,M,P){var B=this.get("el");if(!P){B.setAttribute(A.SVG_ATTR_MAP[M],"none");return}if(P=P.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(P)){var F=p.find("gradient",P);F||(F=p.addGradient(P)),B.setAttribute(A.SVG_ATTR_MAP[M],"url(#"+F+")")}else if(/^[p,P]{1}[\s]*\(/.test(P)){var F=p.find("pattern",P);F||(F=p.addPattern(P)),B.setAttribute(A.SVG_ATTR_MAP[M],"url(#"+F+")")}else B.setAttribute(A.SVG_ATTR_MAP[M],P)},m.prototype.shadow=function(p,M){var P=this.attr(),B=M||P,F=B.shadowOffsetX,W=B.shadowOffsetY,Q=B.shadowBlur,H=B.shadowColor;(F||W||Q||H)&&k.setShadow(this,p)},m.prototype.transform=function(p){var M=this.attr(),P=(p||M).matrix;P&&k.setTransform(this)},m.prototype.isInShape=function(p,M){return this.isPointInPath(p,M)},m.prototype.isPointInPath=function(p,M){var P=this.get("el"),B=this.get("canvas"),F=B.get("el").getBoundingClientRect(),W=p+F.left,Q=M+F.top,H=document.elementFromPoint(W,Q);return!!(H&&H.isEqualNode(P))},m.prototype.getHitLineWidth=function(){var p=this.attrs,M=p.lineWidth,P=p.lineAppendWidth;return this.isStroke()?M+P:0},m}(O.AbstractShape);S.default=w},14661:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(49242),k=v(65712),_=v(4050),T=function(A){x.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="circle",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},E),{x:0,y:0,r:0})},C.prototype.createPath=function(E,g){var w=this.attr(),y=this.get("el");O.each(g||w,function(m,p){p==="x"||p==="y"?y.setAttribute("c"+p,m):k.SVG_ATTR_MAP[p]&&y.setAttribute(k.SVG_ATTR_MAP[p],m)})},C}(_.default);S.default=T},55504:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(49242),k=v(65712),_=v(4050),T=function(A){x.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="dom",E.canFill=!1,E.canStroke=!1,E}return C.prototype.createPath=function(E,g){var w=this.attr(),y=this.get("el");if(O.each(g||w,function(P,B){k.SVG_ATTR_MAP[B]&&y.setAttribute(k.SVG_ATTR_MAP[B],P)}),typeof w.html=="function"){var m=w.html.call(this,w);if(m instanceof Element||m instanceof HTMLDocument){for(var p=y.childNodes,M=p.length-1;M>=0;M--)y.removeChild(p[M]);y.appendChild(m)}else y.innerHTML=m}else y.innerHTML=w.html},C}(_.default);S.default=T},92502:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(49242),k=v(65712),_=v(4050),T=function(A){x.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="ellipse",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},E),{x:0,y:0,rx:0,ry:0})},C.prototype.createPath=function(E,g){var w=this.attr(),y=this.get("el");O.each(g||w,function(m,p){p==="x"||p==="y"?y.setAttribute("c"+p,m):k.SVG_ATTR_MAP[p]&&y.setAttribute(k.SVG_ATTR_MAP[p],m)})},C}(_.default);S.default=T},74729:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(49242),k=v(65712),_=v(4050),T=function(A){x.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="image",E.canFill=!1,E.canStroke=!1,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},E),{x:0,y:0,width:0,height:0})},C.prototype.createPath=function(E,g){var w=this,y=this.attr(),m=this.get("el");O.each(g||y,function(p,M){M==="img"?w._setImage(y.img):k.SVG_ATTR_MAP[M]&&m.setAttribute(k.SVG_ATTR_MAP[M],p)})},C.prototype.setAttr=function(E,g){this.attrs[E]=g,E==="img"&&this._setImage(g)},C.prototype._setImage=function(E){var g=this.attr(),w=this.get("el");if(O.isString(E))w.setAttribute("href",E);else if(E instanceof window.Image)g.width||(w.setAttribute("width",E.width),this.attr("width",E.width)),g.height||(w.setAttribute("height",E.height),this.attr("height",E.height)),w.setAttribute("href",E.src);else if(E instanceof HTMLElement&&O.isString(E.nodeName)&&E.nodeName.toUpperCase()==="CANVAS")w.setAttribute("href",E.toDataURL());else if(E instanceof ImageData){var y=document.createElement("canvas");y.setAttribute("width",""+E.width),y.setAttribute("height",""+E.height),y.getContext("2d").putImageData(E,0,0),g.width||(w.setAttribute("width",""+E.width),this.attr("width",E.width)),g.height||(w.setAttribute("height",""+E.height),this.attr("height",E.height)),w.setAttribute("href",y.toDataURL())}},C}(_.default);S.default=T},4206:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(4050);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return x.default}});var O=v(14661);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return O.default}});var k=v(55504);Object.defineProperty(S,"Dom",{enumerable:!0,get:function(){return k.default}});var _=v(92502);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return _.default}});var T=v(74729);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return T.default}});var A=v(34870);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return A.default}});var C=v(59408);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return C.default}});var E=v(51076);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return E.default}});var g=v(36361);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return g.default}});var w=v(46406);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return w.default}});var y=v(71320);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return y.default}});var m=v(35726);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return m.default}})},34870:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(89838),k=v(49242),_=v(65712),T=v(4050),A=function(C){x.__extends(E,C);function E(){var g=C!==null&&C.apply(this,arguments)||this;return g.type="line",g.canFill=!1,g.canStroke=!0,g}return E.prototype.getDefaultAttrs=function(){var g=C.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},g),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.createPath=function(g,w){var y=this.attr(),m=this.get("el");k.each(w||y,function(p,M){if(M==="startArrow"||M==="endArrow")if(p){var P=k.isObject(p)?g.addArrow(y,_.SVG_ATTR_MAP[M]):g.getDefaultArrow(y,_.SVG_ATTR_MAP[M]);m.setAttribute(_.SVG_ATTR_MAP[M],"url(#"+P+")")}else m.removeAttribute(_.SVG_ATTR_MAP[M]);else _.SVG_ATTR_MAP[M]&&m.setAttribute(_.SVG_ATTR_MAP[M],p)})},E.prototype.getTotalLength=function(){var g=this.attr(),w=g.x1,y=g.y1,m=g.x2,p=g.y2;return O.Line.length(w,y,m,p)},E.prototype.getPoint=function(g){var w=this.attr(),y=w.x1,m=w.y1,p=w.x2,M=w.y2;return O.Line.pointAt(y,m,p,M,g)},E}(T.default);S.default=A},59408:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(49242),k=v(4050),_=v(22505),T=function(A){x.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="marker",E.canFill=!0,E.canStroke=!0,E}return C.prototype.createPath=function(E){var g=this.get("el");g.setAttribute("d",this._assembleMarker())},C.prototype._assembleMarker=function(){var E=this._getPath();return O.isArray(E)?E.map(function(g){return g.join(" ")}).join(""):E},C.prototype._getPath=function(){var E=this.attr(),g=E.x,w=E.y,y=E.r||E.radius,m=E.symbol||"circle",p;return O.isFunction(m)?p=m:p=_.default.get(m),p?p(g,w,y):(console.warn(p+" symbol is not exist."),null)},C.symbolsFactory=_.default,C}(k.default);S.default=T},22505:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v={circle:function(x,O,k){return[["M",x,O],["m",-k,0],["a",k,k,0,1,0,k*2,0],["a",k,k,0,1,0,-k*2,0]]},square:function(x,O,k){return[["M",x-k,O-k],["L",x+k,O-k],["L",x+k,O+k],["L",x-k,O+k],["Z"]]},diamond:function(x,O,k){return[["M",x-k,O],["L",x,O-k],["L",x+k,O],["L",x,O+k],["Z"]]},triangle:function(x,O,k){var _=k*Math.sin(1/3*Math.PI);return[["M",x-k,O+_],["L",x,O-_],["L",x+k,O+_],["z"]]},triangleDown:function(x,O,k){var _=k*Math.sin(1/3*Math.PI);return[["M",x-k,O-_],["L",x+k,O-_],["L",x,O+_],["Z"]]}};S.default={get:function(x){return v[x]},register:function(x,O){v[x]=O},remove:function(x){delete v[x]},getAll:function(){return v}}},51076:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(49242),k=v(65712),_=v(4050),T=function(A){x.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="path",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},E),{startArrow:!1,endArrow:!1})},C.prototype.createPath=function(E,g){var w=this,y=this.attr(),m=this.get("el");O.each(g||y,function(p,M){if(M==="path"&&O.isArray(p))m.setAttribute("d",w._formatPath(p));else if(M==="startArrow"||M==="endArrow")if(p){var P=O.isObject(p)?E.addArrow(y,k.SVG_ATTR_MAP[M]):E.getDefaultArrow(y,k.SVG_ATTR_MAP[M]);m.setAttribute(k.SVG_ATTR_MAP[M],"url(#"+P+")")}else m.removeAttribute(k.SVG_ATTR_MAP[M]);else k.SVG_ATTR_MAP[M]&&m.setAttribute(k.SVG_ATTR_MAP[M],p)})},C.prototype._formatPath=function(E){var g=E.map(function(w){return w.join(" ")}).join("");return~g.indexOf("NaN")?"":g},C.prototype.getTotalLength=function(){var E=this.get("el");return E?E.getTotalLength():null},C.prototype.getPoint=function(E){var g=this.get("el"),w=this.getTotalLength();if(w===0)return null;var y=g?g.getPointAtLength(E*w):null;return y?{x:y.x,y:y.y}:null},C}(_.default);S.default=T},36361:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(49242),k=v(65712),_=v(4050),T=function(A){x.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="polygon",E.canFill=!0,E.canStroke=!0,E}return C.prototype.createPath=function(E,g){var w=this.attr(),y=this.get("el");O.each(g||w,function(m,p){p==="points"&&O.isArray(m)&&m.length>=2?y.setAttribute("points",m.map(function(M){return M[0]+","+M[1]}).join(" ")):k.SVG_ATTR_MAP[p]&&y.setAttribute(k.SVG_ATTR_MAP[p],m)})},C}(_.default);S.default=T},46406:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(89838),k=v(89838),_=v(49242),T=v(65712),A=v(4050),C=function(E){x.__extends(g,E);function g(){var w=E!==null&&E.apply(this,arguments)||this;return w.type="polyline",w.canFill=!0,w.canStroke=!0,w}return g.prototype.getDefaultAttrs=function(){var w=E.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},w),{startArrow:!1,endArrow:!1})},g.prototype.onAttrChange=function(w,y,m){E.prototype.onAttrChange.call(this,w,y,m),["points"].indexOf(w)!==-1&&this._resetCache()},g.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},g.prototype.createPath=function(w,y){var m=this.attr(),p=this.get("el");_.each(y||m,function(M,P){P==="points"&&_.isArray(M)&&M.length>=2?p.setAttribute("points",M.map(function(B){return B[0]+","+B[1]}).join(" ")):T.SVG_ATTR_MAP[P]&&p.setAttribute(T.SVG_ATTR_MAP[P],M)})},g.prototype.getTotalLength=function(){var w=this.attr().points,y=this.get("totalLength");return _.isNil(y)?(this.set("totalLength",O.Polyline.length(w)),this.get("totalLength")):y},g.prototype.getPoint=function(w){var y=this.attr().points,m=this.get("tCache");m||(this._setTcache(),m=this.get("tCache"));var p,M;return _.each(m,function(P,B){w>=P[0]&&w<=P[1]&&(p=(w-P[0])/(P[1]-P[0]),M=B)}),k.Line.pointAt(y[M][0],y[M][1],y[M+1][0],y[M+1][1],p)},g.prototype._setTcache=function(){var w=this.attr().points;if(!(!w||w.length===0)){var y=this.getTotalLength();if(!(y<=0)){var m=0,p=[],M,P;_.each(w,function(B,F){w[F+1]&&(M=[],M[0]=m/y,P=k.Line.length(B[0],B[1],w[F+1][0],w[F+1][1]),m+=P,M[1]=m/y,p.push(M))}),this.set("tCache",p)}}},g.prototype.getStartTangent=function(){var w=this.attr().points,y=[];return y.push([w[1][0],w[1][1]]),y.push([w[0][0],w[0][1]]),y},g.prototype.getEndTangent=function(){var w=this.attr().points,y=w.length-1,m=[];return m.push([w[y-1][0],w[y-1][1]]),m.push([w[y][0],w[y][1]]),m},g}(A.default);S.default=C},71320:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(49242),k=v(4050),_=v(65712),T=v(48490),A=function(C){x.__extends(E,C);function E(){var g=C!==null&&C.apply(this,arguments)||this;return g.type="rect",g.canFill=!0,g.canStroke=!0,g}return E.prototype.getDefaultAttrs=function(){var g=C.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},g),{x:0,y:0,width:0,height:0,radius:0})},E.prototype.createPath=function(g,w){var y=this,m=this.attr(),p=this.get("el"),M=!1,P=["x","y","width","height","radius"];O.each(w||m,function(B,F){P.indexOf(F)!==-1&&!M?(p.setAttribute("d",y._assembleRect(m)),M=!0):P.indexOf(F)===-1&&_.SVG_ATTR_MAP[F]&&p.setAttribute(_.SVG_ATTR_MAP[F],B)})},E.prototype._assembleRect=function(g){var w=g.x,y=g.y,m=g.width,p=g.height,M=g.radius;if(!M)return"M "+w+","+y+" l "+m+",0 l 0,"+p+" l"+-m+" 0 z";var P=T.parseRadius(M);O.isArray(M)?M.length===1?P.r1=P.r2=P.r3=P.r4=M[0]:M.length===2?(P.r1=P.r3=M[0],P.r2=P.r4=M[1]):M.length===3?(P.r1=M[0],P.r2=P.r4=M[1],P.r3=M[2]):(P.r1=M[0],P.r2=M[1],P.r3=M[2],P.r4=M[3]):P.r1=P.r2=P.r3=P.r4=M;var B=[["M "+(w+P.r1)+","+y],["l "+(m-P.r1-P.r2)+",0"],["a "+P.r2+","+P.r2+",0,0,1,"+P.r2+","+P.r2],["l 0,"+(p-P.r2-P.r3)],["a "+P.r3+","+P.r3+",0,0,1,"+-P.r3+","+P.r3],["l "+(P.r3+P.r4-m)+",0"],["a "+P.r4+","+P.r4+",0,0,1,"+-P.r4+","+-P.r4],["l 0,"+(P.r4+P.r1-p)],["a "+P.r1+","+P.r1+",0,0,1,"+P.r1+","+-P.r1],["z"]];return B.join(" ")},E}(k.default);S.default=A},35726:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(58977),O=v(49242),k=v(43631),_=v(50063),T=v(65712),A=v(4050),C=.3,E={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},g={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},w={left:"left",start:"left",center:"middle",right:"end",end:"end"},y=function(m){x.__extends(p,m);function p(){var M=m!==null&&m.apply(this,arguments)||this;return M.type="text",M.canFill=!0,M.canStroke=!0,M}return p.prototype.getDefaultAttrs=function(){var M=m.prototype.getDefaultAttrs.call(this);return x.__assign(x.__assign({},M),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},p.prototype.createPath=function(M,P){var B=this,F=this.attr(),W=this.get("el");this._setFont(),O.each(P||F,function(Q,H){H==="text"?B._setText(""+Q):H==="matrix"&&Q?_.setTransform(B):T.SVG_ATTR_MAP[H]&&W.setAttribute(T.SVG_ATTR_MAP[H],Q)}),W.setAttribute("paint-order","stroke"),W.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},p.prototype._setFont=function(){var M=this.get("el"),P=this.attr(),B=P.textBaseline,F=P.textAlign,W=k.detect();W&&W.name==="firefox"?M.setAttribute("dominant-baseline",g[B]||"alphabetic"):M.setAttribute("alignment-baseline",E[B]||"baseline"),M.setAttribute("text-anchor",w[F]||"left")},p.prototype._setText=function(M){var P=this.get("el"),B=this.attr(),F=B.x,W=B.textBaseline,Q=W===void 0?"bottom":W;if(!M)P.innerHTML="";else if(~M.indexOf(`
`)){var H=M.split(`
`),Z=H.length-1,ot="";O.each(H,function(rt,At){At===0?Q==="alphabetic"?ot+='<tspan x="'+F+'" dy="'+-Z+'em">'+rt+"</tspan>":Q==="top"?ot+='<tspan x="'+F+'" dy="0.9em">'+rt+"</tspan>":Q==="middle"?ot+='<tspan x="'+F+'" dy="'+-(Z-1)/2+'em">'+rt+"</tspan>":Q==="bottom"?ot+='<tspan x="'+F+'" dy="-'+(Z+C)+'em">'+rt+"</tspan>":Q==="hanging"&&(ot+='<tspan x="'+F+'" dy="'+(-(Z-1)-C)+'em">'+rt+"</tspan>"):ot+='<tspan x="'+F+'" dy="1em">'+rt+"</tspan>"}),P.innerHTML=ot}else P.innerHTML=M},p}(A.default);S.default=y},87596:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.moveTo=S.sortDom=S.createDom=S.createSVGElement=void 0;var x=v(49242),O=v(65712);function k(C){return document.createElementNS("http://www.w3.org/2000/svg",C)}S.createSVGElement=k;function _(C){var E=O.SHAPE_TO_TAGS[C.type],g=C.getParent();if(!E)throw new Error("the type "+C.type+" is not supported by svg");var w=k(E);if(C.get("id")&&(w.id=C.get("id")),C.set("el",w),C.set("attrs",{}),g){var y=g.get("el");y||(y=g.createDom(),g.set("el",y)),y.appendChild(w)}return w}S.createDom=_;function T(C,E){var g=C.get("el"),w=x.toArray(g.children).sort(E),y=document.createDocumentFragment();w.forEach(function(m){y.appendChild(m)}),g.appendChild(y)}S.sortDom=T;function A(C,E){var g=C.parentNode,w=Array.from(g.childNodes).filter(function(M){return M.nodeType===1&&M.nodeName.toLowerCase()!=="defs"}),y=w[E],m=w.indexOf(C);if(y){if(m>E)g.insertBefore(C,y);else if(m<E){var p=w[E+1];p?g.insertBefore(C,p):g.appendChild(C)}}else g.appendChild(C)}S.moveTo=A},98820:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.refreshElement=S.drawChildren=void 0;var x=v(50063),O=v(87596);function k(T,A){A.forEach(function(C){C.draw(T)})}S.drawChildren=k;function _(T,A){var C=T.get("canvas");if(C&&C.get("autoDraw")){var E=C.get("context"),g=T.getParent(),w=g?g.getChildren():[C],y=T.get("el");if(A==="remove"){var m=T.get("isClipShape");if(m){var p=y&&y.parentNode,M=p&&p.parentNode;p&&M&&M.removeChild(p)}else y&&y.parentNode&&y.parentNode.removeChild(y)}else if(A==="show")y.setAttribute("visibility","visible");else if(A==="hide")y.setAttribute("visibility","hidden");else if(A==="zIndex")O.moveTo(y,w.indexOf(T));else if(A==="sort"){var P=T.get("children");P&&P.length&&O.sortDom(T,function(B,F){return P.indexOf(B)-P.indexOf(F)?1:0})}else A==="clear"?y&&(y.innerHTML=""):A==="matrix"?x.setTransform(T):A==="clip"?x.setClip(T,E):A==="attr"||A==="add"&&T.draw(E)}}S.refreshElement=_},48490:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parsePath=S.parseRadius=void 0;var x=v(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,k=/[^\s,]+/gi;function _(A){var C=0,E=0,g=0,w=0;return x.isArray(A)?A.length===1?C=E=g=w=A[0]:A.length===2?(C=g=A[0],E=w=A[1]):A.length===3?(C=A[0],E=w=A[1],g=A[2]):(C=A[0],E=A[1],g=A[2],w=A[3]):C=E=g=w=A,{r1:C,r2:E,r3:g,r4:w}}S.parseRadius=_;function T(A){if(A=A||[],x.isArray(A))return A;if(x.isString(A))return A=A.match(O),x.each(A,function(C,E){if(C=C.match(k),C[0].length>1){var g=C[0].charAt(0);C.splice(1,0,C[0].substr(1)),C[0]=g}x.each(C,function(w,y){isNaN(w)||(C[y]=+w)}),A[E]=C}),A}S.parsePath=T},50063:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setClip=S.setTransform=S.setShadow=void 0;var x=v(87596);function O(T,A){var C=T.cfg.el,E=T.attr(),g={dx:E.shadowOffsetX,dy:E.shadowOffsetY,blur:E.shadowBlur,color:E.shadowColor};if(!g.dx&&!g.dy&&!g.blur&&!g.color)C.removeAttribute("filter");else{var w=A.find("filter",g);w||(w=A.addShadow(g)),C.setAttribute("filter","url(#"+w+")")}}S.setShadow=O;function k(T){var A=T.attr().matrix;if(A){for(var C=T.cfg.el,E=[],g=0;g<9;g+=3)E.push(A[g]+","+A[g+1]);E=E.join(","),E.indexOf("NaN")===-1?C.setAttribute("transform","matrix("+E+")"):console.warn("invalid matrix:",A)}}S.setTransform=k;function _(T,A){var C=T.getClip(),E=T.get("el");if(!C)E.removeAttribute("clip-path");else if(C&&!E.hasAttribute("clip-path")){x.createDom(C),C.createPath(A);var g=A.addClip(C);E.setAttribute("clip-path","url(#"+g+")")}}S.setClip=_},58977:function(ft,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return g},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return m},__generator:function(){return p},__createBinding:function(){return M},__exportStar:function(){return P},__values:function(){return B},__read:function(){return F},__spread:function(){return W},__spreadArrays:function(){return Q},__spreadArray:function(){return H},__await:function(){return Z},__asyncGenerator:function(){return ot},__asyncDelegator:function(){return rt},__asyncValues:function(){return At},__makeTemplateObject:function(){return pt},__importStar:function(){return Tt},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return xt},__classPrivateFieldSet:function(){return ht},__classPrivateFieldIn:function(){return kt},__addDisposableResource:function(){return Gt},__disposeResources:function(){return tt}});var x=function(I,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,G){Y.__proto__=G}||function(Y,G){for(var X in G)Object.prototype.hasOwnProperty.call(G,X)&&(Y[X]=G[X])},x(I,u)};function O(I,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(I,u);function Y(){this.constructor=I}I.prototype=u===null?Object.create(u):(Y.prototype=u.prototype,new Y)}var k=function(){return k=Object.assign||function(u){for(var Y,G=1,X=arguments.length;G<X;G++){Y=arguments[G];for(var U in Y)Object.prototype.hasOwnProperty.call(Y,U)&&(u[U]=Y[U])}return u},k.apply(this,arguments)};function _(I,u){var Y={};for(var G in I)Object.prototype.hasOwnProperty.call(I,G)&&u.indexOf(G)<0&&(Y[G]=I[G]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,G=Object.getOwnPropertySymbols(I);X<G.length;X++)u.indexOf(G[X])<0&&Object.prototype.propertyIsEnumerable.call(I,G[X])&&(Y[G[X]]=I[G[X]]);return Y}function T(I,u,Y,G){var X=arguments.length,U=X<3?u:G===null?G=Object.getOwnPropertyDescriptor(u,Y):G,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(I,u,Y,G);else for(var lt=I.length-1;lt>=0;lt--)(J=I[lt])&&(U=(X<3?J(U):X>3?J(u,Y,U):J(u,Y))||U);return X>3&&U&&Object.defineProperty(u,Y,U),U}function A(I,u){return function(Y,G){u(Y,G,I)}}function C(I,u,Y,G,X,U){function J(mt){if(mt!==void 0&&typeof mt!="function")throw new TypeError("Function expected");return mt}for(var lt=G.kind,It=lt==="getter"?"get":lt==="setter"?"set":"value",bt=!u&&I?G.static?I:I.prototype:null,et=u||(bt?Object.getOwnPropertyDescriptor(bt,G.name):{}),Ct,it=!1,st=Y.length-1;st>=0;st--){var St={};for(var at in G)St[at]=at==="access"?{}:G[at];for(var at in G.access)St.access[at]=G.access[at];St.addInitializer=function(mt){if(it)throw new TypeError("Cannot add initializers after decoration has completed");U.push(J(mt||null))};var nt=(0,Y[st])(lt==="accessor"?{get:et.get,set:et.set}:et[It],St);if(lt==="accessor"){if(nt===void 0)continue;if(nt===null||typeof nt!="object")throw new TypeError("Object expected");(Ct=J(nt.get))&&(et.get=Ct),(Ct=J(nt.set))&&(et.set=Ct),(Ct=J(nt.init))&&X.unshift(Ct)}else(Ct=J(nt))&&(lt==="field"?X.unshift(Ct):et[It]=Ct)}bt&&Object.defineProperty(bt,G.name,et),it=!0}function E(I,u,Y){for(var G=arguments.length>2,X=0;X<u.length;X++)Y=G?u[X].call(I,Y):u[X].call(I);return G?Y:void 0}function g(I){return typeof I=="symbol"?I:"".concat(I)}function w(I,u,Y){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(I,"name",{configurable:!0,value:Y?"".concat(Y," ",u):u})}function y(I,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,u)}function m(I,u,Y,G){function X(U){return U instanceof Y?U:new Y(function(J){J(U)})}return new(Y||(Y=Promise))(function(U,J){function lt(et){try{bt(G.next(et))}catch(Ct){J(Ct)}}function It(et){try{bt(G.throw(et))}catch(Ct){J(Ct)}}function bt(et){et.done?U(et.value):X(et.value).then(lt,It)}bt((G=G.apply(I,u||[])).next())})}function p(I,u){var Y={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},G,X,U,J;return J={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function lt(bt){return function(et){return It([bt,et])}}function It(bt){if(G)throw new TypeError("Generator is already executing.");for(;J&&(J=0,bt[0]&&(Y=0)),Y;)try{if(G=1,X&&(U=bt[0]&2?X.return:bt[0]?X.throw||((U=X.return)&&U.call(X),0):X.next)&&!(U=U.call(X,bt[1])).done)return U;switch(X=0,U&&(bt=[bt[0]&2,U.value]),bt[0]){case 0:case 1:U=bt;break;case 4:return Y.label++,{value:bt[1],done:!1};case 5:Y.label++,X=bt[1],bt=[0];continue;case 7:bt=Y.ops.pop(),Y.trys.pop();continue;default:if(U=Y.trys,!(U=U.length>0&&U[U.length-1])&&(bt[0]===6||bt[0]===2)){Y=0;continue}if(bt[0]===3&&(!U||bt[1]>U[0]&&bt[1]<U[3])){Y.label=bt[1];break}if(bt[0]===6&&Y.label<U[1]){Y.label=U[1],U=bt;break}if(U&&Y.label<U[2]){Y.label=U[2],Y.ops.push(bt);break}U[2]&&Y.ops.pop(),Y.trys.pop();continue}bt=u.call(I,Y)}catch(et){bt=[6,et],X=0}finally{G=U=0}if(bt[0]&5)throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}}var M=Object.create?function(I,u,Y,G){G===void 0&&(G=Y);var X=Object.getOwnPropertyDescriptor(u,Y);(!X||("get"in X?!u.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return u[Y]}}),Object.defineProperty(I,G,X)}:function(I,u,Y,G){G===void 0&&(G=Y),I[G]=u[Y]};function P(I,u){for(var Y in I)Y!=="default"&&!Object.prototype.hasOwnProperty.call(u,Y)&&M(u,I,Y)}function B(I){var u=typeof Symbol=="function"&&Symbol.iterator,Y=u&&I[u],G=0;if(Y)return Y.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&G>=I.length&&(I=void 0),{value:I&&I[G++],done:!I}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(I,u){var Y=typeof Symbol=="function"&&I[Symbol.iterator];if(!Y)return I;var G=Y.call(I),X,U=[],J;try{for(;(u===void 0||u-- >0)&&!(X=G.next()).done;)U.push(X.value)}catch(lt){J={error:lt}}finally{try{X&&!X.done&&(Y=G.return)&&Y.call(G)}finally{if(J)throw J.error}}return U}function W(){for(var I=[],u=0;u<arguments.length;u++)I=I.concat(F(arguments[u]));return I}function Q(){for(var I=0,u=0,Y=arguments.length;u<Y;u++)I+=arguments[u].length;for(var G=Array(I),X=0,u=0;u<Y;u++)for(var U=arguments[u],J=0,lt=U.length;J<lt;J++,X++)G[X]=U[J];return G}function H(I,u,Y){if(Y||arguments.length===2)for(var G=0,X=u.length,U;G<X;G++)(U||!(G in u))&&(U||(U=Array.prototype.slice.call(u,0,G)),U[G]=u[G]);return I.concat(U||Array.prototype.slice.call(u))}function Z(I){return this instanceof Z?(this.v=I,this):new Z(I)}function ot(I,u,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=Y.apply(I,u||[]),X,U=[];return X={},J("next"),J("throw"),J("return"),X[Symbol.asyncIterator]=function(){return this},X;function J(it){G[it]&&(X[it]=function(st){return new Promise(function(St,at){U.push([it,st,St,at])>1||lt(it,st)})})}function lt(it,st){try{It(G[it](st))}catch(St){Ct(U[0][3],St)}}function It(it){it.value instanceof Z?Promise.resolve(it.value.v).then(bt,et):Ct(U[0][2],it)}function bt(it){lt("next",it)}function et(it){lt("throw",it)}function Ct(it,st){it(st),U.shift(),U.length&&lt(U[0][0],U[0][1])}}function rt(I){var u,Y;return u={},G("next"),G("throw",function(X){throw X}),G("return"),u[Symbol.iterator]=function(){return this},u;function G(X,U){u[X]=I[X]?function(J){return(Y=!Y)?{value:Z(I[X](J)),done:!1}:U?U(J):J}:U}}function At(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=I[Symbol.asyncIterator],Y;return u?u.call(I):(I=typeof B=="function"?B(I):I[Symbol.iterator](),Y={},G("next"),G("throw"),G("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function G(U){Y[U]=I[U]&&function(J){return new Promise(function(lt,It){J=I[U](J),X(lt,It,J.done,J.value)})}}function X(U,J,lt,It){Promise.resolve(It).then(function(bt){U({value:bt,done:lt})},J)}}function pt(I,u){return Object.defineProperty?Object.defineProperty(I,"raw",{value:u}):I.raw=u,I}var Ft=Object.create?function(I,u){Object.defineProperty(I,"default",{enumerable:!0,value:u})}:function(I,u){I.default=u};function Tt(I){if(I&&I.__esModule)return I;var u={};if(I!=null)for(var Y in I)Y!=="default"&&Object.prototype.hasOwnProperty.call(I,Y)&&M(u,I,Y);return Ft(u,I),u}function Ot(I){return I&&I.__esModule?I:{default:I}}function xt(I,u,Y,G){if(Y==="a"&&!G)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?I!==u||!G:!u.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Y==="m"?G:Y==="a"?G.call(I):G?G.value:u.get(I)}function ht(I,u,Y,G,X){if(G==="m")throw new TypeError("Private method is not writable");if(G==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?I!==u||!X:!u.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return G==="a"?X.call(I,Y):X?X.value=Y:u.set(I,Y),Y}function kt(I,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof I=="function"?u===I:I.has(u)}function Gt(I,u,Y){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var G;if(Y){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");G=u[Symbol.asyncDispose]}if(G===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");G=u[Symbol.dispose]}if(typeof G!="function")throw new TypeError("Object not disposable.");I.stack.push({value:u,dispose:G,async:Y})}else Y&&I.stack.push({async:!0});return u}var dt=typeof SuppressedError=="function"?SuppressedError:function(I,u,Y){var G=new Error(Y);return G.name="SuppressedError",G.error=I,G.suppressed=u,G};function tt(I){function u(G){I.error=I.hasError?new dt(G,I.error,"An error was suppressed during disposal."):G,I.hasError=!0}function Y(){for(;I.stack.length;){var G=I.stack.pop();try{var X=G.dispose&&G.dispose.call(G.value);if(G.async)return Promise.resolve(X).then(Y,function(U){return u(U),Y()})}catch(U){u(U)}}if(I.hasError)throw I.error}return Y()}S.default={__extends:O,__assign:k,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:p,__createBinding:M,__exportStar:P,__values:B,__read:F,__spread:W,__spreadArrays:Q,__spreadArray:H,__await:Z,__asyncGenerator:ot,__asyncDelegator:rt,__asyncValues:At,__makeTemplateObject:pt,__importStar:Tt,__importDefault:Ot,__classPrivateFieldGet:xt,__classPrivateFieldSet:ht,__classPrivateFieldIn:kt,__addDisposableResource:Gt,__disposeResources:tt}},83077:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(16854);S.wO=O.default;var k=v(13841);x=k.default;var _=v(38269);x=_.default;var T=v(34302);S.vs=T.default},16854:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(31502);x.translate=function(O,k,_){var T=new Array(9);return x.fromTranslation(T,_),x.multiply(O,T,k)},x.rotate=function(O,k,_){var T=new Array(9);return x.fromRotation(T,_),x.multiply(O,T,k)},x.scale=function(O,k,_){var T=new Array(9);return x.fromScaling(T,_),x.multiply(O,T,k)},x.transform=function(O,k){for(var _=[].concat(O),T=0,A=k.length;T<A;T++){var C=k[T];switch(C[0]){case"t":x.translate(_,_,[C[1],C[2]]);break;case"s":x.scale(_,_,[C[1],C[2]]);break;case"r":x.rotate(_,_,C[1]);break;default:break}}return _},S.default=x},34302:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=v(16854);S.default=function(k,_){var T=k?x.clone(k):[1,0,0,0,1,0,0,0,1];return x.each(_,function(A){switch(A[0]){case"t":O.default.translate(T,T,[A[1],A[2]]);break;case"s":O.default.scale(T,T,[A[1],A[2]]);break;case"r":O.default.rotate(T,T,A[1]);break;case"m":O.default.multiply(T,T,A[1]);break;default:return!1}}),T}},13841:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(76172),O=v(49242);x.angle=function(k,_){var T=x.dot(k,_)/(x.length(k)*x.length(_));return Math.acos(O.clamp(T,-1,1))},x.direction=function(k,_){return k[0]*_[1]-_[0]*k[1]},x.angleTo=function(k,_,T){var A=x.angle(k,_),C=x.direction(k,_)>=0;return T?C?Math.PI*2-A:A:C?A:Math.PI*2-A},x.vertical=function(k,_,T){return T?(k[0]=_[1],k[1]=-1*_[0]):(k[0]=-1*_[1],k[1]=_[0]),k},S.default=x},38269:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(88395);S.default=x},55223:function(ft,S,v){"use strict";v.r(S);var x=v(49242),O=/rgba?\(([\s.,0-9]+)\)/,k=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,_=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,A=function(F){return/^[r,R,L,l]{1}[\s]*\(/.test(F)},C=function(){var F=document.createElement("i");return F.title="Web Colour Picker",F.style.display="none",document.body.appendChild(F),F},E=function(F,W,Q,H){return F[H]+(W[H]-F[H])*Q};function g(F){return"#"+y(F[0])+y(F[1])+y(F[2])}var w=function(F){return[parseInt(F.substr(1,2),16),parseInt(F.substr(3,2),16),parseInt(F.substr(5,2),16)]},y=function(F){var W=Math.round(F).toString(16);return W.length===1?"0"+W:W},m=function(F,W){var Q=isNaN(Number(W))||W<0?0:W>1?1:Number(W),H=F.length-1,Z=Math.floor(H*Q),ot=H*Q-Z,rt=F[Z],At=Z===H?rt:F[Z+1];return g([E(rt,At,ot,0),E(rt,At,ot,1),E(rt,At,ot,2)])},p,M=function(F){if(F[0]==="#"&&F.length===7)return F;p||(p=C()),p.style.color=F;var W=document.defaultView.getComputedStyle(p,"").getPropertyValue("color"),Q=O.exec(W),H=Q[1].split(/\s*,\s*/).map(function(Z){return Number(Z)});return W=g(H),W},P=function(F){var W=(0,x.isString)(F)?F.split("-"):F,Q=(0,x.map)(W,function(H){return w(H.indexOf("#")===-1?M(H):H)});return function(H){return m(Q,H)}},B=function(F){if(A(F)){var W,Q=void 0;if(F[0]==="l"){var H=k.exec(F),Z=+H[1]+90;Q=H[2],W="linear-gradient("+Z+"deg, "}else if(F[0]==="r"){W="radial-gradient(";var H=_.exec(F);Q=H[4]}var ot=Q.match(T);return(0,x.each)(ot,function(rt,At){var pt=rt.split(":");W+=pt[1]+" "+pt[0]*100+"%",At!==ot.length-1&&(W+=", ")}),W+=")",W}return F};S.default={rgb2arr:w,gradient:P,toRGB:(0,x.memoize)(M),toCSSGradient:B}},51441:function(ft,S,v){"use strict";v.r(S),v.d(S,{Annotation:function(){return x},Axis:function(){return A},Component:function(){return Ct},Crosshair:function(){return C},Grid:function(){return E},GroupComponent:function(){return nt},HtmlComponent:function(){return pr},Legend:function(){return g},Scrollbar:function(){return ga},Slider:function(){return pa},Tooltip:function(){return y}});var x={};v.r(x),v.d(x,{Arc:function(){return ui},DataMarker:function(){return me},DataRegion:function(){return Fe},Image:function(){return se},Line:function(){return In},Region:function(){return bi},RegionFilter:function(){return Ve},Text:function(){return xn}});var O={};v.r(O),v.d(O,{ellipsisHead:function(){return wr},ellipsisMiddle:function(){return Br},ellipsisTail:function(){return kr},getDefault:function(){return Lr}});var k={};v.r(k),v.d(k,{equidistance:function(){return Bt},getDefault:function(){return Qr},reserveBoth:function(){return cn},reserveFirst:function(){return zr},reserveLast:function(){return tn}});var _={};v.r(_),v.d(_,{fixedAngle:function(){return N},getDefault:function(){return R},unfixedAngle:function(){return j}});var T={};v.r(T),v.d(T,{autoEllipsis:function(){return O},autoHide:function(){return k},autoRotate:function(){return _}});var A={};v.r(A),v.d(A,{Base:function(){return qe},Circle:function(){return Ut},Line:function(){return jt}});var C={};v.r(C),v.d(C,{Base:function(){return Me},Circle:function(){return Cr},Html:function(){return ur},Line:function(){return ir}});var E={};v.r(E),v.d(E,{Base:function(){return ar},Circle:function(){return Wt},Line:function(){return fe}});var g={};v.r(g),v.d(g,{Base:function(){return Ae},Category:function(){return cr},Continuous:function(){return ut}});var w={};v.r(w),v.d(w,{CONTAINER_CLASS:function(){return Xt},CROSSHAIR_X:function(){return tr},CROSSHAIR_Y:function(){return Pr},LIST_CLASS:function(){return ve},LIST_ITEM_CLASS:function(){return be},MARKER_CLASS:function(){return we},NAME_CLASS:function(){return $e},TITLE_CLASS:function(){return ie},VALUE_CLASS:function(){return He}});var y={};v.r(y),v.d(y,{Html:function(){return Sr}});var m=v(62117),p=v(49242),M=v(66192);function P(Jt,Et,z){var q=new M.default(Et,z);q.target=Jt,q.propagationPath.push(Jt),Jt.emitDelegation(Et,q);for(var vt=Jt.getParent();vt;)vt.emitDelegation(Et,q),q.propagationPath.push(vt),vt=vt.getParent()}var B=v(31506),F=v(31437),W=[1,0,0,0,1,0,0,0,1];function Q(Jt,Et,z){if(z===void 0&&(z=W),!Et)return null;var q=B.transform(z,[["t",-Jt.x,-Jt.y],["r",Et],["t",Jt.x,Jt.y]]);return q}function H(Jt,Et){return!Jt.x&&!Jt.y?null:B.transform(Et||W,[["t",Jt.x,Jt.y]])}function Z(Jt){var Et=[1,0,0],z=[0,0,0];return vec3.transformMat3(z,Et,Jt),Math.atan2(z[1],z[0])}function ot(Jt,Et){var z=[0,0];return F.transformMat3(z,Et,Jt),z}function rt(Jt,Et){var z=ot(Jt,[Et.minX,Et.minY]),q=ot(Jt,[Et.maxX,Et.minY]),vt=ot(Jt,[Et.minX,Et.maxY]),Pt=ot(Jt,[Et.maxX,Et.maxY]),zt=Math.min(z[0],q[0],vt[0],Pt[0]),Kt=Math.max(z[0],q[0],vt[0],Pt[0]),he=Math.min(z[1],q[1],vt[1],Pt[1]),pe=Math.max(z[1],q[1],vt[1],Pt[1]);return{x:zt,y:he,minX:zt,minY:he,maxX:Kt,maxY:pe,width:Kt-zt,height:pe-he}}function At(Jt,Et,z,q){if(Et){var vt=Q({x:z,y:q},Et,Jt.getMatrix());Jt.setMatrix(vt)}}function pt(Jt,Et,z){var q=H({x:Et,y:z});Jt.attr("matrix",q)}function Ft(Jt){var Et=0,z=0,q=0,vt=0;return(0,p.isNumber)(Jt)?Et=z=q=vt=Jt:(0,p.isArray)(Jt)&&(Et=Jt[0],q=(0,p.isNil)(Jt[1])?Jt[0]:Jt[1],vt=(0,p.isNil)(Jt[2])?Jt[0]:Jt[2],z=(0,p.isNil)(Jt[3])?q:Jt[3]),[Et,q,vt,z]}function Tt(Jt){for(var Et=Jt.childNodes,z=Et.length,q=z-1;q>=0;q--)Jt.removeChild(Et[q])}function Ot(Jt,Et){return!!Jt.className.match(new RegExp("(\\s|^)"+Et+"(\\s|$)"))}function xt(Jt){var Et=Jt.start,z=Jt.end,q=Math.min(Et.x,z.x),vt=Math.min(Et.y,z.y),Pt=Math.max(Et.x,z.x),zt=Math.max(Et.y,z.y);return{x:q,y:vt,minX:q,minY:vt,maxX:Pt,maxY:zt,width:Pt-q,height:zt-vt}}function ht(Jt){var Et=Jt.map(function(Kt){return Kt.x}),z=Jt.map(function(Kt){return Kt.y}),q=Math.min.apply(Math,Et),vt=Math.min.apply(Math,z),Pt=Math.max.apply(Math,Et),zt=Math.max.apply(Math,z);return{x:q,y:vt,minX:q,minY:vt,maxX:Pt,maxY:zt,width:Pt-q,height:zt-vt}}function kt(Jt,Et,z,q){return{x:Jt,y:Et,width:z,height:q,minX:Jt,minY:Et,maxX:Jt+z,maxY:Et+q}}function Gt(Jt,Et,z){return(1-z)*Jt+Et*z}function dt(Jt,Et,z){return{x:Jt.x+Math.cos(z)*Et,y:Jt.y+Math.sin(z)*Et}}function tt(Jt,Et){var z=Et.x-Jt.x,q=Et.y-Jt.y;return Math.sqrt(z*z+q*q)}var I=function(Jt){return new Promise(function(Et){setTimeout(Et,Jt)})},u=function(Jt,Et){return[Jt,Et].includes(Infinity)?Math.abs(Jt)===Math.abs(Et):Math.abs(Jt-Et)<Math.pow(Number.EPSILON,.5)};function Y(Jt,Et){var z=Math.max(Jt.minX,Et.minX),q=Math.max(Jt.minY,Et.minY),vt=Math.min(Jt.maxX,Et.maxX),Pt=Math.min(Jt.maxY,Et.maxY);return kt(z,q,vt-z,Pt-q)}function G(Jt,Et){var z=Math.min(Jt.minX,Et.minX),q=Math.min(Jt.minY,Et.minY),vt=Math.max(Jt.maxX,Et.maxX),Pt=Math.max(Jt.maxY,Et.maxY);return kt(z,q,vt-z,Pt-q)}function X(Jt){var Et=Jt.getClip(),z=Et&&Et.getBBox(),q;if(!Jt.isGroup())q=Jt.getBBox();else{var vt=Infinity,Pt=-Infinity,zt=Infinity,Kt=-Infinity,he=Jt.getChildren();he.length>0?(0,p.each)(he,function(pe){if(pe.get("visible")){if(pe.isGroup()&&pe.get("children").length===0)return!0;var _e=X(pe),Ge=pe.applyToMatrix([_e.minX,_e.minY,1]),nr=pe.applyToMatrix([_e.minX,_e.maxY,1]),fr=pe.applyToMatrix([_e.maxX,_e.minY,1]),Fr=pe.applyToMatrix([_e.maxX,_e.maxY,1]),nn=Math.min(Ge[0],nr[0],fr[0],Fr[0]),rn=Math.max(Ge[0],nr[0],fr[0],Fr[0]),En=Math.min(Ge[1],nr[1],fr[1],Fr[1]),On=Math.max(Ge[1],nr[1],fr[1],Fr[1]);nn<vt&&(vt=nn),rn>Pt&&(Pt=rn),En<zt&&(zt=En),On>Kt&&(Kt=On)}}):(vt=0,Pt=0,zt=0,Kt=0),q=kt(vt,zt,Pt-vt,Kt-zt)}return z?Y(q,z):q}function U(Jt,Et){if(!(!Jt.getClip()&&!Et.getClip())){var z=Et.getClip();if(!z){Jt.setClip(null);return}var q={type:z.get("type"),attrs:z.attr()};Jt.setClip(q)}}function J(Jt){return Jt+"px"}function lt(Jt,Et,z,q){var vt=tt(Jt,Et),Pt=q/vt,zt=0;return z==="start"?zt=0-Pt:z==="end"&&(zt=1+Pt),{x:Gt(Jt.x,Et.x,zt),y:Gt(Jt.y,Et.y,zt)}}var It=v(65722),bt={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},et=function(Jt){(0,m.__extends)(Et,Jt);function Et(z){var q=Jt.call(this,z)||this;return q.initCfg(),q}return Et.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},Et.prototype.clear=function(){},Et.prototype.update=function(z){var q=this,vt=this.get("defaultCfg");(0,p.each)(z,function(Pt,zt){var Kt=q.get(zt),he=Pt;Kt!==Pt&&((0,p.isObject)(Pt)&&vt[zt]&&(he=(0,p.deepMix)({},vt[zt],Pt)),q.set(zt,he))}),this.updateInner(z),this.afterUpdate(z)},Et.prototype.updateInner=function(z){},Et.prototype.afterUpdate=function(z){(0,p.hasKey)(z,"visible")&&(z.visible?this.show():this.hide()),(0,p.hasKey)(z,"capture")&&this.setCapture(z.capture)},Et.prototype.getLayoutBBox=function(){return this.getBBox()},Et.prototype.getLocationType=function(){return this.get("locationType")},Et.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},Et.prototype.setOffset=function(z,q){this.update({offsetX:z,offsetY:q})},Et.prototype.setLocation=function(z){var q=(0,m.__assign)({},z);this.update(q)},Et.prototype.getLocation=function(){var z=this,q={},vt=this.get("locationType"),Pt=bt[vt];return(0,p.each)(Pt,function(zt){q[zt]=z.get(zt)}),q},Et.prototype.isList=function(){return!1},Et.prototype.isSlider=function(){return!1},Et.prototype.init=function(){},Et.prototype.initCfg=function(){var z=this,q=this.get("defaultCfg");(0,p.each)(q,function(vt,Pt){var zt=z.get(Pt);if((0,p.isObject)(zt)){var Kt=(0,p.deepMix)({},vt,zt);z.set(Pt,Kt)}})},Et}(It.Base),Ct=et,it="update_status",st=["visible","tip","delegateObject"],St=["container","group","shapesMap","isRegister","isUpdating","destroyed"],at=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},Et.prototype.remove=function(){this.clear();var z=this.get("group");z.remove()},Et.prototype.clear=function(){var z=this.get("group");z.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},Et.prototype.getChildComponentById=function(z){var q=this.getElementById(z),vt=q&&q.get("component");return vt},Et.prototype.getElementById=function(z){return this.get("shapesMap")[z]},Et.prototype.getElementByLocalId=function(z){var q=this.getElementId(z);return this.getElementById(q)},Et.prototype.getElementsByName=function(z){var q=[];return(0,p.each)(this.get("shapesMap"),function(vt){vt.get("name")===z&&q.push(vt)}),q},Et.prototype.getContainer=function(){return this.get("container")},Et.prototype.updateInner=function(z){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},Et.prototype.render=function(){var z=this.get("offScreenGroup");z||(z=this.offScreenRender());var q=this.get("group");this.updateElements(z,q),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},Et.prototype.show=function(){var z=this.get("group");z.show(),this.set("visible",!0)},Et.prototype.hide=function(){var z=this.get("group");z.hide(),this.set("visible",!1)},Et.prototype.setCapture=function(z){var q=this.get("group");q.set("capture",z),this.set("capture",z)},Et.prototype.destroy=function(){this.removeEvent(),this.remove(),Jt.prototype.destroy.call(this)},Et.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},Et.prototype.getLayoutBBox=function(){var z=this.get("group"),q=this.getInnerLayoutBBox(),vt=z.getTotalMatrix();return vt&&(q=rt(vt,q)),q},Et.prototype.on=function(z,q,vt){var Pt=this.get("group");return Pt.on(z,q,vt),this},Et.prototype.off=function(z,q){var vt=this.get("group");return vt&&vt.off(z,q),this},Et.prototype.emit=function(z,q){var vt=this.get("group");vt.emit(z,q)},Et.prototype.init=function(){Jt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},Et.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},Et.prototype.delegateEmit=function(z,q){var vt=this.get("group");q.target=vt,vt.emit(z,q),P(vt,z,q)},Et.prototype.createOffScreenGroup=function(){var z=this.get("group"),q=z.getGroupBase(),vt=new q({delegateObject:this.getDelegateObject()});return vt},Et.prototype.applyOffset=function(){var z=this.get("offsetX"),q=this.get("offsetY");this.moveElementTo(this.get("group"),{x:z,y:q})},Et.prototype.initGroup=function(){var z=this.get("container");this.set("group",z.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},Et.prototype.offScreenRender=function(){this.clearOffScreenCache();var z=this.createOffScreenGroup();return this.renderInner(z),this.set("offScreenGroup",z),this.set("offScreenBBox",X(z)),z},Et.prototype.addGroup=function(z,q){this.appendDelegateObject(z,q);var vt=z.addGroup(q);return this.get("isRegister")&&this.registerElement(vt),vt},Et.prototype.addShape=function(z,q){this.appendDelegateObject(z,q);var vt=z.addShape(q);return this.get("isRegister")&&this.registerElement(vt),vt},Et.prototype.addComponent=function(z,q){var vt=q.id,Pt=q.component,zt=(0,m.__rest)(q,["id","component"]),Kt=new Pt((0,m.__assign)((0,m.__assign)({},zt),{id:vt,container:z,updateAutoRender:this.get("updateAutoRender")}));return Kt.init(),Kt.render(),this.get("isRegister")&&this.registerElement(Kt.get("group")),Kt},Et.prototype.initEvent=function(){},Et.prototype.removeEvent=function(){var z=this.get("group");z.off()},Et.prototype.getElementId=function(z){var q=this.get("id"),vt=this.get("name");return q+"-"+vt+"-"+z},Et.prototype.registerElement=function(z){var q=z.get("id");this.get("shapesMap")[q]=z},Et.prototype.unregisterElement=function(z){var q=z.get("id");delete this.get("shapesMap")[q]},Et.prototype.moveElementTo=function(z,q){var vt=H(q);z.attr("matrix",vt)},Et.prototype.addAnimation=function(z,q,vt){var Pt=q.attr("opacity");(0,p.isNil)(Pt)&&(Pt=1),q.attr("opacity",0),q.animate({opacity:Pt},vt)},Et.prototype.removeAnimation=function(z,q,vt){q.animate({opacity:0},vt)},Et.prototype.updateAnimation=function(z,q,vt,Pt){q.animate(vt,Pt)},Et.prototype.updateElements=function(z,q){var vt=this,Pt=this.get("animate"),zt=this.get("animateOption"),Kt=z.getChildren().slice(0),he;(0,p.each)(Kt,function(pe){var _e=pe.get("id"),Ge=vt.getElementById(_e),nr=pe.get("name");if(Ge)if(pe.get("isComponent")){var fr=pe.get("component"),Fr=Ge.get("component"),nn=(0,p.pick)(fr.cfg,(0,p.difference)((0,p.keys)(fr.cfg),St));Fr.update(nn),Ge.set(it,"update")}else{var rn=vt.getReplaceAttrs(Ge,pe);Pt&&zt.update?vt.updateAnimation(nr,Ge,rn,zt.update):Ge.attr(rn),pe.isGroup()&&vt.updateElements(pe,Ge),(0,p.each)(st,function(Vt){Ge.set(Vt,pe.get(Vt))}),U(Ge,pe),he=Ge,Ge.set(it,"update")}else{q.add(pe);var En=q.getChildren();if(En.splice(En.length-1,1),he){var On=En.indexOf(he);En.splice(On+1,0,pe)}else En.unshift(pe);if(vt.registerElement(pe),pe.set(it,"add"),pe.get("isComponent")){var fr=pe.get("component");fr.set("container",q)}else pe.isGroup()&&vt.registerNewGroup(pe);if(he=pe,Pt){var An=vt.get("isInit")?zt.appear:zt.enter;An&&vt.addAnimation(nr,pe,An)}}})},Et.prototype.clearUpdateStatus=function(z){var q=z.getChildren();(0,p.each)(q,function(vt){vt.set(it,null)})},Et.prototype.clearOffScreenCache=function(){var z=this.get("offScreenGroup");z&&z.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},Et.prototype.getDelegateObject=function(){var z,q=this.get("name"),vt=(z={},z[q]=this,z.component=this,z);return vt},Et.prototype.appendDelegateObject=function(z,q){var vt=z.get("delegateObject");q.delegateObject||(q.delegateObject={}),(0,p.mix)(q.delegateObject,vt)},Et.prototype.getReplaceAttrs=function(z,q){var vt=z.attr(),Pt=q.attr();return(0,p.each)(vt,function(zt,Kt){Pt[Kt]===void 0&&(Pt[Kt]=void 0)}),Pt},Et.prototype.registerNewGroup=function(z){var q=this,vt=z.getChildren();(0,p.each)(vt,function(Pt){q.registerElement(Pt),Pt.set(it,"add"),Pt.isGroup()&&q.registerNewGroup(Pt)})},Et.prototype.deleteElements=function(){var z=this,q=this.get("shapesMap"),vt=[];(0,p.each)(q,function(Kt,he){!Kt.get(it)||Kt.destroyed?vt.push([he,Kt]):Kt.set(it,null)});var Pt=this.get("animate"),zt=this.get("animateOption");(0,p.each)(vt,function(Kt){var he=Kt[0],pe=Kt[1];if(!pe.destroyed){var _e=pe.get("name");if(Pt&&zt.leave){var Ge=(0,p.mix)({callback:function(){z.removeElement(pe)}},zt.leave);z.removeAnimation(_e,pe,Ge)}else z.removeElement(pe)}delete q[he]})},Et.prototype.removeElement=function(z){if(z.get("isGroup")){var q=z.get("component");q&&q.destroy()}z.remove()},Et}(Ct),nt=at,mt="\u2026";function Dt(Jt){for(var Et=0,z=0;z<Jt.length;z++)Et+=ee(Jt,z);return Et}function ee(Jt,Et){return Jt.charCodeAt(Et)>0&&Jt.charCodeAt(Et)<128?1:2}function ce(Jt,Et,z){z===void 0&&(z="tail");var q=Jt.length,vt="";if(z==="tail"){for(var Pt=0,zt=0;Pt<Et;){var Kt=ee(Jt,zt);if(Pt+Kt<=Et)vt+=Jt[zt],Pt+=ee(Jt,zt),zt++;else break}vt+=mt}else if(z==="head"){for(var Pt=0,zt=q-1;Pt<Et;){var Kt=ee(Jt,zt);if(Pt+Kt<=Et)vt+=Jt[zt],Pt+=ee(Jt,zt),zt--;else break}vt=mt+vt}else{for(var he="",pe="",Pt=0,_e=0,Ge=q-1;Pt<Et;){var nr=ee(Jt,_e),fr=!1;nr+Pt<=Et&&(he+=Jt[_e],_e++,Pt+=nr,fr=!0);var Fr=ee(Jt,Ge);if(Fr+Pt<=Et&&(pe=Jt[Ge]+pe,Pt+=Fr,Ge--,fr=!0),!fr)break}vt=he+mt+pe}return vt}var le="\u2026",Xe=2;function Ie(Jt){var Et=0;return(0,p.each)(Jt,function(z){var q=z.getBBox(),vt=q.width;Et<vt&&(Et=vt)}),Et}function Re(Jt,Et){var z=Et.getCanvasBBox();return Jt?z.width:z.height}function or(Jt,Et){return Jt.getBBox().width<Et}function lr(Jt,Et,z,q){q===void 0&&(q="tail");var vt=Et.attr("text"),Pt=Re(Jt,Et),zt=Dt(vt),Kt=!1;if(z<Pt){var he=Math.floor(z/Pt*zt)-Xe,pe=void 0;he>=0?pe=ce(vt,he,q):pe=le,pe&&(Et.attr("text",pe),Kt=!0)}return Kt?Et.set("tip",vt):Et.set("tip",null),Kt}function Ir(Jt,Et){var z=Et.x,q=Et.y,vt=Et.content,Pt=Et.style,zt=Et.id,Kt=Et.name,he=Et.rotate,pe=Et.maxLength,_e=Et.autoEllipsis,Ge=Et.isVertical,nr=Et.ellipsisPosition,fr=Et.background,Fr=Jt.addGroup({id:zt+"-group",name:Kt+"-group",attrs:{x:z,y:q}}),nn=Fr.addShape({type:"text",id:zt,name:Kt,attrs:(0,m.__assign)({x:0,y:0,text:vt},Pt)}),rn=Ft((0,p.get)(fr,"padding",0));if(pe&&_e){var En=pe-(rn[1]+rn[3]);lr(!Ge,nn,En,nr)}if(fr){var On=(0,p.get)(fr,"style",{}),An=nn.getCanvasBBox(),Vt=An.minX,de=An.minY,Ee=An.width,De=An.height,er=Fr.addShape("rect",{id:zt+"-bg",name:zt+"-bg",attrs:(0,m.__assign)({x:Vt-rn[3],y:de-rn[0],width:Ee+rn[1]+rn[3],height:De+rn[0]+rn[2]},On)});er.toBack()}pt(Fr,z,q),At(Fr,he,z,q)}var Er={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},on=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Er.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Er.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Er.lineColor,lineWidth:1}}}})},Et.prototype.renderInner=function(z){this.renderLine(z),this.get("text")&&this.renderLabel(z)},Et.prototype.renderLine=function(z){var q=this.get("start"),vt=this.get("end"),Pt=this.get("style");this.addShape(z,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,m.__assign)({x1:q.x,y1:q.y,x2:vt.x,y2:vt.y},Pt)})},Et.prototype.getLabelPoint=function(z,q,vt){var Pt;return vt==="start"?Pt=0:vt==="center"?Pt=.5:(0,p.isString)(vt)&&vt.indexOf("%")!==-1?Pt=parseInt(vt,10)/100:(0,p.isNumber)(vt)?Pt=vt:Pt=1,(Pt>1||Pt<0)&&(Pt=1),{x:Gt(z.x,q.x,Pt),y:Gt(z.y,q.y,Pt)}},Et.prototype.renderLabel=function(z){var q=this.get("text"),vt=this.get("start"),Pt=this.get("end"),zt=q.position,Kt=q.content,he=q.style,pe=q.offsetX,_e=q.offsetY,Ge=q.autoRotate,nr=q.maxLength,fr=q.autoEllipsis,Fr=q.ellipsisPosition,nn=q.background,rn=q.isVertical,En=rn===void 0?!1:rn,On=this.getLabelPoint(vt,Pt,zt),An=On.x+pe,Vt=On.y+_e,de={id:this.getElementId("line-text"),name:"annotation-line-text",x:An,y:Vt,content:Kt,style:he,maxLength:nr,autoEllipsis:fr,ellipsisPosition:Fr,background:nn,isVertical:En};if(Ge){var Ee=[Pt.x-vt.x,Pt.y-vt.y];de.rotate=Math.atan2(Ee[1],Ee[0])}Ir(z,de)},Et}(nt),In=on,fn=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Er.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Er.fontFamily}}})},Et.prototype.setLocation=function(z){this.set("x",z.x),this.set("y",z.y),this.resetLocation()},Et.prototype.renderInner=function(z){var q=this.getLocation(),vt=q.x,Pt=q.y,zt=this.get("content"),Kt=this.get("style"),he=this.getElementId("text"),pe=this.get("name")+"-text",_e=this.get("maxLength"),Ge=this.get("autoEllipsis"),nr=this.get("isVertical"),fr=this.get("ellipsisPosition"),Fr=this.get("background"),nn=this.get("rotate"),rn={id:he,name:pe,x:vt,y:Pt,content:zt,style:Kt,maxLength:_e,autoEllipsis:Ge,isVertical:nr,ellipsisPosition:fr,background:Fr,rotate:nn};Ir(z,rn)},Et.prototype.resetLocation=function(){var z=this.getElementByLocalId("text-group");if(z){var q=this.getLocation(),vt=q.x,Pt=q.y,zt=this.get("rotate");pt(z,vt,Pt),At(z,zt,vt,Pt)}},Et}(nt),xn=fn,$n=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},Et.prototype.renderInner=function(z){this.renderArc(z)},Et.prototype.getArcPath=function(){var z=this.getLocation(),q=z.center,vt=z.radius,Pt=z.startAngle,zt=z.endAngle,Kt=dt(q,vt,Pt),he=dt(q,vt,zt),pe=zt-Pt>Math.PI?1:0,_e=[["M",Kt.x,Kt.y]];if(zt-Pt==Math.PI*2){var Ge=dt(q,vt,Pt+Math.PI);_e.push(["A",vt,vt,0,pe,1,Ge.x,Ge.y]),_e.push(["A",vt,vt,0,pe,1,he.x,he.y])}else _e.push(["A",vt,vt,0,pe,1,he.x,he.y]);return _e},Et.prototype.renderArc=function(z){var q=this.getArcPath(),vt=this.get("style");this.addShape(z,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,m.__assign)({path:q},vt)})},Et}(nt),ui=$n,Si=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Er.regionColor,opacity:.4}}})},Et.prototype.renderInner=function(z){this.renderRegion(z)},Et.prototype.renderRegion=function(z){var q=this.get("start"),vt=this.get("end"),Pt=this.get("style"),zt=xt({start:q,end:vt});this.addShape(z,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,m.__assign)({x:zt.x,y:zt.y,width:zt.width,height:zt.height},Pt)})},Et}(nt),bi=Si,$t=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},Et.prototype.renderInner=function(z){this.renderImage(z)},Et.prototype.getImageAttrs=function(){var z=this.get("start"),q=this.get("end"),vt=this.get("style"),Pt=xt({start:z,end:q}),zt=this.get("src");return(0,m.__assign)({x:Pt.x,y:Pt.y,img:zt,width:Pt.width,height:Pt.height},vt)},Et.prototype.renderImage=function(z){this.addShape(z,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},Et}(nt),se=$t,ge=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Er.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Er.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Er.fontFamily}}}})},Et.prototype.renderInner=function(z){(0,p.get)(this.get("line"),"display")&&this.renderLine(z),(0,p.get)(this.get("text"),"display")&&this.renderText(z),(0,p.get)(this.get("point"),"display")&&this.renderPoint(z),this.get("autoAdjust")&&this.autoAdjust(z)},Et.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},Et.prototype.renderPoint=function(z){var q=this.getShapeAttrs().point;this.addShape(z,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:q})},Et.prototype.renderLine=function(z){var q=this.getShapeAttrs().line;this.addShape(z,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:q})},Et.prototype.renderText=function(z){var q=this.getShapeAttrs().text,vt=q.x,Pt=q.y,zt=q.text,Kt=(0,m.__rest)(q,["x","y","text"]),he=this.get("text"),pe=he.background,_e=he.maxLength,Ge=he.autoEllipsis,nr=he.isVertival,fr=he.ellipsisPosition,Fr={x:vt,y:Pt,id:this.getElementId("text"),name:"annotation-text",content:zt,style:Kt,background:pe,maxLength:_e,autoEllipsis:Ge,isVertival:nr,ellipsisPosition:fr};Ir(z,Fr)},Et.prototype.autoAdjust=function(z){var q=this.get("direction"),vt=this.get("x"),Pt=this.get("y"),zt=(0,p.get)(this.get("line"),"length",0),Kt=this.get("coordinateBBox"),he=z.getBBox(),pe=he.minX,_e=he.maxX,Ge=he.minY,nr=he.maxY,fr=z.findById(this.getElementId("text-group")),Fr=z.findById(this.getElementId("text")),nn=z.findById(this.getElementId("line"));if(!!Kt){if(fr){if(vt+pe<=Kt.minX){var rn=Kt.minX-(vt+pe);pt(fr,fr.attr("x")+rn,fr.attr("y"))}if(vt+_e>=Kt.maxX){var rn=vt+_e-Kt.maxX;pt(fr,fr.attr("x")-rn,fr.attr("y"))}}if(q==="upward"&&Pt+Ge<=Kt.minY||q!=="upward"&&Pt+nr>=Kt.maxY){var En=void 0,On=void 0;q==="upward"&&Pt+Ge<=Kt.minY?(En="top",On=1):(En="bottom",On=-1),Fr.attr("textBaseline",En),nn&&nn.attr("path",[["M",0,0],["L",0,zt*On]]),pt(fr,fr.attr("x"),(zt+2)*On)}}},Et.prototype.getShapeAttrs=function(){var z=(0,p.get)(this.get("line"),"display"),q=(0,p.get)(this.get("point"),"style",{}),vt=(0,p.get)(this.get("line"),"style",{}),Pt=(0,p.get)(this.get("text"),"style",{}),zt=this.get("direction"),Kt=z?(0,p.get)(this.get("line"),"length",0):0,he=zt==="upward"?-1:1;return{point:(0,m.__assign)({x:0,y:0},q),line:(0,m.__assign)({path:[["M",0,0],["L",0,Kt*he]]},vt),text:(0,m.__assign)({x:0,y:(Kt+2)*he,text:(0,p.get)(this.get("text"),"content",""),textBaseline:zt==="upward"?"bottom":"top"},Pt)}},Et}(nt),me=ge,ke=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Er.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Er.textColor,fontFamily:Er.fontFamily}}}})},Et.prototype.renderInner=function(z){var q=(0,p.get)(this.get("region"),"style",{}),vt=(0,p.get)(this.get("text"),"style",{}),Pt=this.get("lineLength")||0,zt=this.get("points");if(!!zt.length){var Kt=ht(zt),he=[];he.push(["M",zt[0].x,Kt.minY-Pt]),zt.forEach(function(_e){he.push(["L",_e.x,_e.y])}),he.push(["L",zt[zt.length-1].x,zt[zt.length-1].y-Pt]),this.addShape(z,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,m.__assign)({path:he},q)});var pe=(0,m.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(Kt.minX+Kt.maxX)/2,y:Kt.minY-Pt},this.get("text"));Ir(z,pe)}},Et}(nt),Fe=ke,Ne=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},Et.prototype.renderInner=function(z){var q=this,vt=this.get("start"),Pt=this.get("end"),zt=this.addGroup(z,{id:this.getElementId("region-filter"),capture:!1});(0,p.each)(this.get("shapes"),function(he,pe){var _e=he.get("type"),Ge=(0,p.clone)(he.attr());q.adjustShapeAttrs(Ge),q.addShape(zt,{id:q.getElementId("shape-"+_e+"-"+pe),capture:!1,type:_e,attrs:Ge})});var Kt=xt({start:vt,end:Pt});zt.setClip({type:"rect",attrs:{x:Kt.minX,y:Kt.minY,width:Kt.width,height:Kt.height}})},Et.prototype.adjustShapeAttrs=function(z){var q=this.get("color");z.fill&&(z.fill=z.fillStyle=q),z.stroke=z.strokeStyle=q},Et}(nt),Ve=Ne;function Te(Jt,Et,z){var q=Et+"Style",vt=null;return(0,p.each)(z,function(Pt,zt){Jt[zt]&&Pt[q]&&(vt||(vt={}),(0,p.mix)(vt,Pt[q]))}),vt}var vr=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Er.lineColor}},tickLine:{style:{lineWidth:1,stroke:Er.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Er.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Er.textColor,textBaseline:"middle",fontFamily:Er.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Er.textColor,textBaseline:"middle",fontFamily:Er.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Er.uncheckedColor}}}}})},Et.prototype.renderInner=function(z){this.get("line")&&this.drawLine(z),this.drawTicks(z),this.get("title")&&this.drawTitle(z)},Et.prototype.isList=function(){return!0},Et.prototype.getItems=function(){return this.get("ticks")},Et.prototype.setItems=function(z){this.update({ticks:z})},Et.prototype.updateItem=function(z,q){(0,p.mix)(z,q),this.clear(),this.render()},Et.prototype.clearItems=function(){var z=this.getElementByLocalId("label-group");z&&z.clear()},Et.prototype.setItemState=function(z,q,vt){z[q]=vt,this.updateTickStates(z)},Et.prototype.hasState=function(z,q){return!!z[q]},Et.prototype.getItemStates=function(z){var q=this.get("tickStates"),vt=[];return(0,p.each)(q,function(Pt,zt){z[zt]&&vt.push(zt)}),vt},Et.prototype.clearItemsState=function(z){var q=this,vt=this.getItemsByState(z);(0,p.each)(vt,function(Pt){q.setItemState(Pt,z,!1)})},Et.prototype.getItemsByState=function(z){var q=this,vt=this.getItems();return(0,p.filter)(vt,function(Pt){return q.hasState(Pt,z)})},Et.prototype.getSidePoint=function(z,q){var vt=this,Pt=vt.getSideVector(q,z);return{x:z.x+Pt[0],y:z.y+Pt[1]}},Et.prototype.getTextAnchor=function(z){var q;return(0,p.isNumberEqual)(z[0],0)?q="center":z[0]>0?q="start":z[0]<0&&(q="end"),q},Et.prototype.processOverlap=function(z){},Et.prototype.drawLine=function(z){var q=this.getLinePath(),vt=this.get("line");this.addShape(z,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,p.mix)({path:q},vt.style)})},Et.prototype.getTickLineItems=function(z){var q=this,vt=[],Pt=this.get("tickLine"),zt=Pt.alignTick,Kt=Pt.length,he=1,pe=z.length;return pe>=2&&(he=z[1].value-z[0].value),(0,p.each)(z,function(_e){var Ge=_e.point;zt||(Ge=q.getTickPoint(_e.value-he/2));var nr=q.getSidePoint(Ge,Kt);vt.push({startPoint:Ge,tickValue:_e.value,endPoint:nr,tickId:_e.id,id:"tickline-"+_e.id})}),vt},Et.prototype.getSubTickLineItems=function(z){var q=[],vt=this.get("subTickLine"),Pt=vt.count,zt=z.length;if(zt>=2)for(var Kt=0;Kt<zt-1;Kt++)for(var he=z[Kt],pe=z[Kt+1],_e=0;_e<Pt;_e++){var Ge=(_e+1)/(Pt+1),nr=(1-Ge)*he.tickValue+Ge*pe.tickValue,fr=this.getTickPoint(nr),Fr=this.getSidePoint(fr,vt.length);q.push({startPoint:fr,endPoint:Fr,tickValue:nr,id:"sub-"+he.id+"-"+_e})}return q},Et.prototype.getTickLineAttrs=function(z,q){var vt=this.get(q).style,Pt=z.startPoint,zt=z.endPoint,Kt=(0,p.mix)({x1:Pt.x,y1:Pt.y,x2:zt.x,y2:zt.y},vt);return Kt},Et.prototype.drawTick=function(z,q,vt){this.addShape(q,{type:"line",id:this.getElementId(z.id),name:"axis-"+vt,attrs:this.getTickLineAttrs(z,vt)})},Et.prototype.drawTickLines=function(z){var q=this,vt=this.get("ticks"),Pt=this.get("subTickLine"),zt=this.getTickLineItems(vt),Kt=this.addGroup(z,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),he=this.get("tickLine");if((0,p.each)(zt,function(_e){if(he.displayWithLabel){var Ge=q.getElementId("label-"+_e.tickId);z.findById(Ge)&&q.drawTick(_e,Kt,"tickLine")}else q.drawTick(_e,Kt,"tickLine")}),Pt){var pe=this.getSubTickLineItems(zt);(0,p.each)(pe,function(_e){q.drawTick(_e,Kt,"subTickLine")})}},Et.prototype.processTicks=function(){var z=this,q=this.get("ticks");(0,p.each)(q,function(vt){vt.point=z.getTickPoint(vt.value),(0,p.isNil)(vt.id)&&(vt.id=vt.name)})},Et.prototype.drawTicks=function(z){var q=this;this.processTicks(),this.get("label")&&this.drawLabels(z),this.get("tickLine")&&this.drawTickLines(z);var vt=this.get("ticks");(0,p.each)(vt,function(Pt){q.applyTickStates(Pt,z)})},Et.prototype.getLabelAttrs=function(z,q){var vt=this.get("label"),Pt=vt.offset,zt=vt.style,Kt=vt.rotate,he=vt.formatter,pe=this.getSidePoint(z.point,Pt),_e=this.getSideVector(Pt,pe),Ge=he?he(z.name,z,q):z.name,nr=(0,p.mix)({x:pe.x,y:pe.y,text:Ge,textAlign:this.getTextAnchor(_e)},zt);return Kt&&(nr.matrix=Q(pe,Kt)),nr},Et.prototype.drawLabels=function(z){var q=this,vt=this.get("ticks"),Pt=this.addGroup(z,{name:"axis-label-group",id:this.getElementId("label-group")});(0,p.each)(vt,function(zt,Kt){q.addShape(Pt,{type:"text",name:"axis-label",id:q.getElementId("label-"+zt.id),attrs:q.getLabelAttrs(zt,Kt),delegateObject:{tick:zt,item:zt,index:Kt}})}),this.processOverlap(Pt)},Et.prototype.getTitleAttrs=function(){var z=this.get("title"),q=z.style,vt=z.position,Pt=z.offset,zt=z.spacing,Kt=zt===void 0?0:zt,he=z.autoRotate,pe=q.fontSize,_e=.5;vt==="start"?_e=0:vt==="end"&&(_e=1);var Ge=this.getTickPoint(_e),nr=this.getSidePoint(Ge,Pt||Kt+pe/2),fr=(0,p.mix)({x:nr.x,y:nr.y,text:z.text},q),Fr=z.rotate,nn=Fr;if((0,p.isNil)(Fr)&&he){var rn=this.getAxisVector(Ge),En=[1,0];nn=B.angleTo(rn,En,!0)}if(nn){var On=Q(nr,nn);fr.matrix=On}return fr},Et.prototype.drawTitle=function(z){this.addShape(z,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},Et.prototype.applyTickStates=function(z,q){var vt=this.getItemStates(z);if(vt.length){var Pt=this.get("tickStates"),zt=this.getElementId("label-"+z.id),Kt=q.findById(zt);if(Kt){var he=Te(z,"label",Pt);he&&Kt.attr(he)}var pe=this.getElementId("tickline-"+z.id),_e=q.findById(pe);if(_e){var Ge=Te(z,"tickLine",Pt);Ge&&_e.attr(Ge)}}},Et.prototype.updateTickStates=function(z){var q=this.getItemStates(z),vt=this.get("tickStates"),Pt=this.get("label"),zt=this.getElementByLocalId("label-"+z.id),Kt=this.get("tickLine"),he=this.getElementByLocalId("tickline-"+z.id);if(q.length){if(zt){var pe=Te(z,"label",vt);pe&&zt.attr(pe)}if(he){var _e=Te(z,"tickLine",vt);_e&&he.attr(_e)}}else zt&&zt.attr(Pt.style),he&&he.attr(Kt.style)},Et}(nt),qe=vr;function yr(Jt,Et,z,q){var vt=Et.getChildren(),Pt=!1;return(0,p.each)(vt,function(zt){var Kt=lr(Jt,zt,z,q);Pt=Pt||Kt}),Pt}function Lr(){return kr}function wr(Jt,Et,z){return yr(Jt,Et,z,"head")}function kr(Jt,Et,z){return yr(Jt,Et,z,"tail")}function Br(Jt,Et,z){return yr(Jt,Et,z,"middle")}function Nr(Jt){var Et=Jt.attr("matrix");return Et&&Et[0]!==1}function gr(Jt,Et,z,q,vt){vt===void 0&&(vt=!1);var Pt=!1;if(Jt)Pt=Math.abs(z.y-q.y)<z.height;else if(Et){var zt=vt?q.height:z.height;Pt=Math.abs(z.x-q.x)<zt}else{var Kt=vt?q.width:z.width;Pt=Math.abs(z.x-q.x)<Kt}return Pt}function Vr(Jt,Et,z){var q=Et.getChildren().slice();if(!q.length)return!1;var vt=!1;z&&q.reverse();for(var Pt=q.length,zt=q[0],Kt=Nr(zt),he=zt.getBBox(),pe=1;pe<Pt;pe++){var _e=q[pe],Ge=_e.getBBox(),nr=gr(Jt,Kt,he,Ge,z);nr?(_e.hide(),vt=!0):he=Ge}return vt}function Qr(){return Bt}function zr(Jt,Et){return Vr(Jt,Et,!1)}function tn(Jt,Et){return Vr(Jt,Et,!0)}function cn(Jt,Et){var z=Et.getChildren().slice();if(z.length<=2)return!1;for(var q=!1,vt=z.length,Pt=z[0],zt=z[vt-1],Kt=Nr(Pt),he=Pt.getBBox(),pe=Pt,_e=1;_e<vt-1;_e++){var Ge=z[_e],nr=Ge.getBBox(),fr=gr(Jt,Kt,he,nr);fr?(Ge.hide(),q=!0):(he=nr,pe=Ge)}var Fr=zt.getBBox(),nn=gr(Jt,Kt,he,Fr);return nn&&(pe.hide(),q=!0),q}function Bt(Jt,Et){var z=Et.getChildren().slice();if(z.length<2)return!1;var q=!1,vt=z[0],Pt=vt.getBBox(),zt=z[1],Kt=Nr(vt),he=z.length,pe=0;if(Jt){var _e=Math.abs(zt.attr("y")-vt.attr("y"));pe=Pt.height/_e}else if(Kt){var _e=Math.abs(zt.attr("x")-vt.attr("x"));pe=Pt.width/_e}else{var Ge=Ie(z),_e=Math.abs(zt.attr("x")-vt.attr("x"));pe=Ge/_e}if(pe>1){pe=Math.ceil(pe);for(var nr=0;nr<he;nr++)nr%pe!=0&&(z[nr].hide(),q=!0)}return q}function Ht(Jt,Et){(0,p.each)(Jt,function(z){var q=z.attr("x"),vt=z.attr("y"),Pt=Q({x:q,y:vt},Et);z.attr("matrix",Pt)})}function ct(Jt,Et,z,q){var vt=Et.getChildren();if(!vt.length||!Jt&&vt.length<2)return!1;var Pt=Ie(vt),zt=!1;if(Jt)zt=!!z&&Pt>z;else{var Kt=Math.abs(vt[1].attr("x")-vt[0].attr("x"));zt=Pt>Kt}if(zt){var he=q(z,Pt);Ht(vt,he)}return zt}function R(){return N}function N(Jt,Et,z){return ct(Jt,Et,z,function(){return Jt?Er.verticalAxisRotate:Er.horizontalAxisRotate})}function j(Jt,Et,z){return ct(Jt,Et,z,function(q,vt){if(!q)return Jt?Er.verticalAxisRotate:Er.horizontalAxisRotate;if(Jt)return-Math.acos(q/vt);var Pt=0;return q>vt?Pt=Math.PI/4:(Pt=Math.asin(q/vt),Pt>Math.PI/4&&(Pt=Math.PI/4)),Pt})}var _t=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"line",locationType:"region",start:null,end:null})},Et.prototype.getLinePath=function(){var z=this.get("start"),q=this.get("end"),vt=[];return vt.push(["M",z.x,z.y]),vt.push(["L",q.x,q.y]),vt},Et.prototype.getInnerLayoutBBox=function(){var z=this.get("start"),q=this.get("end"),vt=Jt.prototype.getInnerLayoutBBox.call(this),Pt=Math.min(z.x,q.x,vt.x),zt=Math.min(z.y,q.y,vt.y),Kt=Math.max(z.x,q.x,vt.maxX),he=Math.max(z.y,q.y,vt.maxY);return{x:Pt,y:zt,minX:Pt,minY:zt,maxX:Kt,maxY:he,width:Kt-Pt,height:he-zt}},Et.prototype.isVertical=function(){var z=this.get("start"),q=this.get("end");return(0,p.isNumberEqual)(z.x,q.x)},Et.prototype.isHorizontal=function(){var z=this.get("start"),q=this.get("end");return(0,p.isNumberEqual)(z.y,q.y)},Et.prototype.getTickPoint=function(z){var q=this,vt=q.get("start"),Pt=q.get("end"),zt=Pt.x-vt.x,Kt=Pt.y-vt.y;return{x:vt.x+zt*z,y:vt.y+Kt*z}},Et.prototype.getSideVector=function(z){var q=this.getAxisVector(),vt=F.normalize([0,0],q),Pt=this.get("verticalFactor"),zt=[vt[1],vt[0]*-1];return F.scale([0,0],zt,z*Pt)},Et.prototype.getAxisVector=function(){var z=this.get("start"),q=this.get("end");return[q.x-z.x,q.y-z.y]},Et.prototype.processOverlap=function(z){var q=this,vt=this.isVertical(),Pt=this.isHorizontal();if(!(!vt&&!Pt)){var zt=this.get("label"),Kt=this.get("title"),he=this.get("verticalLimitLength"),pe=zt.offset,_e=he,Ge=0,nr=0;Kt&&(Ge=Kt.style.fontSize,nr=Kt.spacing),_e&&(_e=_e-pe-nr-Ge);var fr=this.get("overlapOrder");if((0,p.each)(fr,function(rn){zt[rn]&&q.autoProcessOverlap(rn,zt[rn],z,_e)}),Kt){var Fr=z.getBBox(),nn=vt?Fr.width:Fr.height;(0,p.isNil)(Kt.offset)&&(Kt.offset=pe+nn+nr+Ge/2)}}},Et.prototype.autoProcessOverlap=function(z,q,vt,Pt){var zt=this,Kt=this.isVertical(),he=!1,pe=T[z];if(q===!0?he=pe.getDefault()(Kt,vt,Pt):(0,p.isFunction)(q)?he=q(Kt,vt,Pt):pe[q]&&(he=pe[q](Kt,vt,Pt)),z==="autoRotate"){if(he){var _e=vt.getChildren(),Ge=this.get("verticalFactor");(0,p.each)(_e,function(fr){var Fr=fr.attr("textAlign");if(Fr==="center"){var nn=Ge>0?"end":"start";fr.attr("textAlign",nn)}})}}else if(z==="autoHide"){var nr=vt.getChildren().slice(0);(0,p.each)(nr,function(fr){fr.get("visible")||(zt.get("isRegister")&&zt.unregisterElement(fr),fr.remove())})}},Et}(qe),jt=_t,Nt=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},Et.prototype.getLinePath=function(){var z=this.get("center"),q=z.x,vt=z.y,Pt=this.get("radius"),zt=Pt,Kt=this.get("startAngle"),he=this.get("endAngle"),pe=[];if(Math.abs(he-Kt)===Math.PI*2)pe=[["M",q,vt-zt],["A",Pt,zt,0,1,1,q,vt+zt],["A",Pt,zt,0,1,1,q,vt-zt],["Z"]];else{var _e=this.getCirclePoint(Kt),Ge=this.getCirclePoint(he),nr=Math.abs(he-Kt)>Math.PI?1:0,fr=Kt>he?0:1;pe=[["M",q,vt],["L",_e.x,_e.y],["A",Pt,zt,0,nr,fr,Ge.x,Ge.y],["L",q,vt]]}return pe},Et.prototype.getTickPoint=function(z){var q=this.get("startAngle"),vt=this.get("endAngle"),Pt=q+(vt-q)*z;return this.getCirclePoint(Pt)},Et.prototype.getSideVector=function(z,q){var vt=this.get("center"),Pt=[q.x-vt.x,q.y-vt.y],zt=this.get("verticalFactor"),Kt=F.length(Pt);return F.scale(Pt,Pt,zt*z/Kt),Pt},Et.prototype.getAxisVector=function(z){var q=this.get("center"),vt=[z.x-q.x,z.y-q.y];return[vt[1],-1*vt[0]]},Et.prototype.getCirclePoint=function(z,q){var vt=this.get("center");return q=q||this.get("radius"),{x:vt.x+Math.cos(z)*q,y:vt.y+Math.sin(z)*q}},Et}(qe),Ut=Nt,Se=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Er.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Er.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Er.fontFamily}},textBackground:{padding:5,style:{stroke:Er.lineColor}}}})},Et.prototype.renderInner=function(z){this.get("line")&&this.renderLine(z),this.get("text")&&(this.renderText(z),this.renderBackground(z))},Et.prototype.renderText=function(z){var q=this.get("text"),vt=q.style,Pt=q.autoRotate,zt=q.content;if(!(0,p.isNil)(zt)){var Kt=this.getTextPoint(),he=null;if(Pt){var pe=this.getRotateAngle();he=Q(Kt,pe)}this.addShape(z,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,m.__assign)((0,m.__assign)((0,m.__assign)({},Kt),{text:zt,matrix:he}),vt)})}},Et.prototype.renderLine=function(z){var q=this.getLinePath(),vt=this.get("line"),Pt=vt.style;this.addShape(z,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,m.__assign)({path:q},Pt)})},Et.prototype.renderBackground=function(z){var q=this.getElementId("text"),vt=z.findById(q),Pt=this.get("textBackground");if(Pt&&vt){var zt=vt.getBBox(),Kt=Ft(Pt.padding),he=Pt.style,pe=this.addShape(z,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,m.__assign)({x:zt.x-Kt[3],y:zt.y-Kt[0],width:zt.width+Kt[1]+Kt[3],height:zt.height+Kt[0]+Kt[2],matrix:vt.attr("matrix")},he)});pe.toBack()}},Et}(nt),Me=Se,Oe=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"line",locationType:"region",start:null,end:null})},Et.prototype.getRotateAngle=function(){var z=this.getLocation(),q=z.start,vt=z.end,Pt=this.get("text").position,zt=Math.atan2(vt.y-q.y,vt.x-q.x),Kt=Pt==="start"?zt-Math.PI/2:zt+Math.PI/2;return Kt},Et.prototype.getTextPoint=function(){var z=this.getLocation(),q=z.start,vt=z.end,Pt=this.get("text"),zt=Pt.position,Kt=Pt.offset;return lt(q,vt,zt,Kt)},Et.prototype.getLinePath=function(){var z=this.getLocation(),q=z.start,vt=z.end;return[["M",q.x,q.y],["L",vt.x,vt.y]]},Et}(Me),ir=Oe,We=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},Et.prototype.getRotateAngle=function(){var z=this.getLocation(),q=z.startAngle,vt=z.endAngle,Pt=this.get("text").position,zt=Pt==="start"?q+Math.PI/2:vt-Math.PI/2;return zt},Et.prototype.getTextPoint=function(){var z=this.get("text"),q=z.position,vt=z.offset,Pt=this.getLocation(),zt=Pt.center,Kt=Pt.radius,he=Pt.startAngle,pe=Pt.endAngle,_e=q==="start"?he:pe,Ge=this.getRotateAngle()-Math.PI,nr=dt(zt,Kt,_e),fr=Math.cos(Ge)*vt,Fr=Math.sin(Ge)*vt;return{x:nr.x+fr,y:nr.y+Fr}},Et.prototype.getLinePath=function(){var z=this.getLocation(),q=z.center,vt=z.radius,Pt=z.startAngle,zt=z.endAngle,Kt=null;if(zt-Pt==Math.PI*2){var he=q.x,pe=q.y;Kt=[["M",he,pe-vt],["A",vt,vt,0,1,1,he,pe+vt],["A",vt,vt,0,1,1,he,pe-vt],["Z"]]}else{var _e=dt(q,vt,Pt),Ge=dt(q,vt,zt),nr=Math.abs(zt-Pt)>Math.PI?1:0,fr=Pt>zt?0:1;Kt=[["M",_e.x,_e.y],["A",vt,vt,0,nr,fr,Ge.x,Ge.y]]}return Kt},Et}(Me),Cr=We,en=v(6056),Be=v(45442),Ue=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},Et.prototype.getContainer=function(){return this.get("container")},Et.prototype.show=function(){var z=this.get("container");z.style.display="",this.set("visible",!0)},Et.prototype.hide=function(){var z=this.get("container");z.style.display="none",this.set("visible",!1)},Et.prototype.setCapture=function(z){var q=this.getContainer(),vt=z?"auto":"none";q.style.pointerEvents=vt,this.set("capture",z)},Et.prototype.getBBox=function(){var z=this.getContainer(),q=parseFloat(z.style.left)||0,vt=parseFloat(z.style.top)||0;return kt(q,vt,z.clientWidth,z.clientHeight)},Et.prototype.clear=function(){var z=this.get("container");Tt(z)},Et.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Jt.prototype.destroy.call(this)},Et.prototype.init=function(){Jt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},Et.prototype.initCapture=function(){this.setCapture(this.get("capture"))},Et.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},Et.prototype.initDom=function(){},Et.prototype.initContainer=function(){var z=this.get("container");if((0,p.isNil)(z)){z=this.createDom();var q=this.get("parent");(0,p.isString)(q)&&(q=document.getElementById(q),this.set("parent",q)),q.appendChild(z),this.set("container",z)}else(0,p.isString)(z)&&(z=document.getElementById(z),this.set("container",z));this.get("parent")||this.set("parent",z.parentNode)},Et.prototype.resetStyles=function(){var z=this.get("domStyles"),q=this.get("defaultStyles");z?z=(0,p.deepMix)({},q,z):z=q,this.set("domStyles",z)},Et.prototype.applyStyles=function(){var z=this.get("domStyles");if(!!z){var q=this.getContainer();this.applyChildrenStyles(q,z);var vt=this.get("containerClassName");if(vt&&Ot(q,vt)){var Pt=z[vt];(0,Be.Z)(q,Pt)}}},Et.prototype.applyChildrenStyles=function(z,q){(0,p.each)(q,function(vt,Pt){var zt=z.getElementsByClassName(Pt);(0,p.each)(zt,function(Kt){(0,Be.Z)(Kt,vt)})})},Et.prototype.applyStyle=function(z,q){var vt=this.get("domStyles");(0,Be.Z)(q,vt[z])},Et.prototype.createDom=function(){var z=this.get("containerTpl");return(0,en.Z)(z)},Et.prototype.initEvent=function(){},Et.prototype.removeDom=function(){var z=this.get("container");z&&z.parentNode.removeChild(z)},Et.prototype.removeEvent=function(){},Et.prototype.updateInner=function(z){(0,p.hasKey)(z,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},Et.prototype.resetPosition=function(){},Et}(Ct),pr=Ue,Qt="g2-crosshair",Yt=Qt+"-line",ae=Qt+"-text",xe,Le=(xe={},xe[""+Qt]={position:"relative"},xe[""+Yt]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},xe[""+ae]={position:"absolute",color:Er.textColor,fontFamily:Er.fontFamily},xe),Ke=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Qt+'"></div>',crosshairTpl:'<div class="'+Yt+'"></div>',textTpl:'<span class="'+ae+'">{content}</span>',domStyles:null,containerClassName:Qt,defaultStyles:Le,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},Et.prototype.render=function(){this.resetText(),this.resetPosition()},Et.prototype.initCrossHair=function(){var z=this.getContainer(),q=this.get("crosshairTpl"),vt=(0,en.Z)(q);z.appendChild(vt),this.applyStyle(Yt,vt),this.set("crosshairEl",vt)},Et.prototype.getTextPoint=function(){var z=this.getLocation(),q=z.start,vt=z.end,Pt=this.get("text"),zt=Pt.position,Kt=Pt.offset;return lt(q,vt,zt,Kt)},Et.prototype.resetText=function(){var z=this.get("text"),q=this.get("textEl");if(z){var vt=z.content;if(!q){var Pt=this.getContainer(),zt=(0,p.substitute)(this.get("textTpl"),z);q=(0,en.Z)(zt),Pt.appendChild(q),this.applyStyle(ae,q),this.set("textEl",q)}q.innerHTML=vt}else q&&q.remove()},Et.prototype.isVertical=function(z,q){return z.x===q.x},Et.prototype.resetPosition=function(){var z=this.get("crosshairEl");z||(this.initCrossHair(),z=this.get("crosshairEl"));var q=this.get("start"),vt=this.get("end"),Pt=Math.min(q.x,vt.x),zt=Math.min(q.y,vt.y);this.isVertical(q,vt)?(0,Be.Z)(z,{width:"1px",height:J(Math.abs(vt.y-q.y))}):(0,Be.Z)(z,{height:"1px",width:J(Math.abs(vt.x-q.x))}),(0,Be.Z)(z,{top:J(zt),left:J(Pt)}),this.alignText()},Et.prototype.alignText=function(){var z=this.get("textEl");if(z){var q=this.get("text").align,vt=z.clientWidth,Pt=this.getTextPoint();switch(q){case"center":Pt.x=Pt.x-vt/2;break;case"right":Pt.x=Pt.x-vt;case"left":break}(0,Be.Z)(z,{top:J(Pt.y),left:J(Pt.x)})}},Et.prototype.updateInner=function(z){(0,p.hasKey)(z,"text")&&this.resetText(),Jt.prototype.updateInner.call(this,z)},Et}(pr),ur=Ke,dr=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Er.lineColor}}}})},Et.prototype.getLineType=function(){var z=this.get("line")||this.get("defaultCfg").line;return z.type},Et.prototype.renderInner=function(z){this.drawGrid(z)},Et.prototype.getAlternatePath=function(z,q){var vt=this.getGridPath(z),Pt=q.slice(0).reverse(),zt=this.getGridPath(Pt,!0),Kt=this.get("closed");return Kt?vt=vt.concat(zt):(zt[0][0]="L",vt=vt.concat(zt),vt.push(["Z"])),vt},Et.prototype.getPathStyle=function(){return this.get("line").style},Et.prototype.drawGrid=function(z){var q=this,vt=this.get("line"),Pt=this.get("items"),zt=this.get("alternateColor"),Kt=null;(0,p.each)(Pt,function(he,pe){var _e=he.id||pe;if(vt){var Ge=q.getPathStyle(),nr=q.getElementId("line-"+_e),fr=q.getGridPath(he.points);q.addShape(z,{type:"path",name:"grid-line",id:nr,attrs:(0,p.mix)({path:fr},Ge)})}if(zt&&pe>0){var Fr=q.getElementId("region-"+_e),nn=pe%2==0;if((0,p.isString)(zt))nn&&q.drawAlternateRegion(Fr,z,Kt.points,he.points,zt);else{var rn=nn?zt[1]:zt[0];q.drawAlternateRegion(Fr,z,Kt.points,he.points,rn)}}Kt=he})},Et.prototype.drawAlternateRegion=function(z,q,vt,Pt,zt){var Kt=this.getAlternatePath(vt,Pt);this.addShape(q,{type:"path",id:z,name:"grid-region",attrs:{path:Kt,fill:zt}})},Et}(nt),ar=dr;function gn(Jt,Et,z,q){var vt=z-Jt,Pt=q-Et;return Math.sqrt(vt*vt+Pt*Pt)}var _n=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"circle",center:null,closed:!0})},Et.prototype.getGridPath=function(z,q){var vt=this.getLineType(),Pt=this.get("closed"),zt=[];if(z.length)if(vt==="circle"){var Kt=this.get("center"),he=z[0],pe=gn(Kt.x,Kt.y,he.x,he.y),_e=q?0:1;Pt?(zt.push(["M",Kt.x,Kt.y-pe]),zt.push(["A",pe,pe,0,0,_e,Kt.x,Kt.y+pe]),zt.push(["A",pe,pe,0,0,_e,Kt.x,Kt.y-pe]),zt.push(["Z"])):(0,p.each)(z,function(Ge,nr){nr===0?zt.push(["M",Ge.x,Ge.y]):zt.push(["A",pe,pe,0,0,_e,Ge.x,Ge.y])})}else(0,p.each)(z,function(Ge,nr){nr===0?zt.push(["M",Ge.x,Ge.y]):zt.push(["L",Ge.x,Ge.y])}),Pt&&zt.push(["Z"]);return zt},Et}(ar),Wt=_n,ne=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"line"})},Et.prototype.getGridPath=function(z){var q=[];return(0,p.each)(z,function(vt,Pt){Pt===0?q.push(["M",vt.x,vt.y]):q.push(["L",vt.x,vt.y])}),q},Et}(ar),fe=ne,Ce=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},Et.prototype.getLayoutBBox=function(){var z=Jt.prototype.getLayoutBBox.call(this),q=this.get("x"),vt=this.get("y"),Pt=this.get("offsetX"),zt=this.get("offsetY"),Kt=this.get("maxWidth"),he=this.get("maxHeight"),pe=q+Pt,_e=vt+zt,Ge=z.maxX-pe,nr=z.maxY-_e;return Kt&&(Ge=Math.min(Ge,Kt)),he&&(nr=Math.min(nr,he)),kt(pe,_e,Ge,nr)},Et.prototype.setLocation=function(z){this.set("x",z.x),this.set("y",z.y),this.resetLocation()},Et.prototype.resetLocation=function(){var z=this.get("x"),q=this.get("y"),vt=this.get("offsetX"),Pt=this.get("offsetY");this.moveElementTo(this.get("group"),{x:z+vt,y:q+Pt})},Et.prototype.applyOffset=function(){this.resetLocation()},Et.prototype.getDrawPoint=function(){return this.get("currentPoint")},Et.prototype.setDrawPoint=function(z){return this.set("currentPoint",z)},Et.prototype.renderInner=function(z){this.resetDraw(),this.get("title")&&this.drawTitle(z),this.drawLegendContent(z),this.get("background")&&this.drawBackground(z)},Et.prototype.drawBackground=function(z){var q=this.get("background"),vt=z.getBBox(),Pt=Ft(q.padding),zt=(0,m.__assign)({x:0,y:0,width:vt.width+Pt[1]+Pt[3],height:vt.height+Pt[0]+Pt[2]},q.style),Kt=this.addShape(z,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:zt});Kt.toBack()},Et.prototype.drawTitle=function(z){var q=this.get("currentPoint"),vt=this.get("title"),Pt=vt.spacing,zt=vt.style,Kt=vt.text,he=this.addShape(z,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,m.__assign)({text:Kt,x:q.x,y:q.y},zt)}),pe=he.getBBox();this.set("currentPoint",{x:q.x,y:pe.maxY+Pt})},Et.prototype.resetDraw=function(){var z=this.get("background"),q={x:0,y:0};if(z){var vt=Ft(z.padding);q.x=vt[3],q.y=vt[0]}this.set("currentPoint",q)},Et}(nt),Ae=Ce,Ye=function(Jt){(0,m.__extends)(Et,Jt);function Et(){var z=Jt!==null&&Jt.apply(this,arguments)||this;return z.currentPageIndex=1,z.totalPagesCnt=1,z.pageWidth=0,z.pageHeight=0,z.startX=0,z.startY=0,z.onNavigationBack=function(){var q=z.getElementByLocalId("item-group");if(z.currentPageIndex>1){z.currentPageIndex-=1,z.updateNavigation();var vt=z.getCurrentNavigationMatrix();z.get("animate")?q.animate({matrix:vt},100):q.attr({matrix:vt})}},z.onNavigationAfter=function(){var q=z.getElementByLocalId("item-group");if(z.currentPageIndex<z.totalPagesCnt){z.currentPageIndex+=1,z.updateNavigation();var vt=z.getCurrentNavigationMatrix();z.get("animate")?q.animate({matrix:vt},100):q.attr({matrix:vt})}},z}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:Er.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Er.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:Er.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:Er.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Er.uncheckedColor},markerStyle:{fill:Er.uncheckedColor,stroke:Er.uncheckedColor}},inactive:{nameStyle:{fill:Er.uncheckedColor},markerStyle:{opacity:.2}}}}})},Et.prototype.isList=function(){return!0},Et.prototype.getItems=function(){return this.get("items")},Et.prototype.setItems=function(z){this.update({items:z})},Et.prototype.updateItem=function(z,q){(0,p.mix)(z,q),this.clear(),this.render()},Et.prototype.clearItems=function(){var z=this.getElementByLocalId("item-group");z&&z.clear()},Et.prototype.setItemState=function(z,q,vt){z[q]=vt;var Pt=this.getElementByLocalId("item-"+z.id);if(Pt){var zt=this.getItems(),Kt=zt.indexOf(z),he=this.createOffScreenGroup(),pe=this.drawItem(z,Kt,this.getItemHeight(),he);this.updateElements(pe,Pt),this.clearUpdateStatus(Pt)}},Et.prototype.hasState=function(z,q){return!!z[q]},Et.prototype.getItemStates=function(z){var q=this.get("itemStates"),vt=[];return(0,p.each)(q,function(Pt,zt){z[zt]&&vt.push(zt)}),vt},Et.prototype.clearItemsState=function(z){var q=this,vt=this.getItemsByState(z);(0,p.each)(vt,function(Pt){q.setItemState(Pt,z,!1)})},Et.prototype.getItemsByState=function(z){var q=this,vt=this.getItems();return(0,p.filter)(vt,function(Pt){return q.hasState(Pt,z)})},Et.prototype.drawLegendContent=function(z){this.processItems(),this.drawItems(z)},Et.prototype.processItems=function(){var z=this.get("items");(0,p.each)(z,function(q){q.id||(q.id=q.name)})},Et.prototype.drawItems=function(z){var q=this,vt=this.addGroup(z,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),Pt=this.addGroup(vt,{id:this.getElementId("item-group"),name:"legend-item-group"}),zt=this.getItemHeight(),Kt=this.get("itemWidth"),he=this.get("itemSpacing"),pe=this.get("currentPoint"),_e=pe.x,Ge=pe.y,nr=this.get("layout"),fr=this.get("items"),Fr=!1,nn=0,rn=this.get("maxWidth"),En=this.get("maxHeight");(0,p.each)(fr,function(On,An){var Vt=q.drawItem(On,An,zt,Pt),de=Vt.getBBox(),Ee=Kt||de.width;Ee>nn&&(nn=Ee),nr==="horizontal"?(rn&&rn<pe.x+Ee-_e&&(Fr=!0,pe.x=_e,pe.y+=zt),q.moveElementTo(Vt,pe),pe.x+=Ee+he):(En&&En<pe.y+zt-Ge&&(Fr=!0,pe.x+=nn+he,pe.y=Ge,nn=0),q.moveElementTo(Vt,pe),pe.y+=zt)}),Fr&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=_e,this.startY=Ge,this.adjustNavigation(z,Pt))},Et.prototype.getItemHeight=function(){var z=this.get("itemHeight");if(!z){var q=this.get("itemName");q&&(z=q.style.fontSize+8)}return z},Et.prototype.drawMarker=function(z,q,vt,Pt){var zt=(0,m.__assign)((0,m.__assign)((0,m.__assign)({x:0,y:Pt/2},q.style),{symbol:(0,p.get)(vt.marker,"symbol","circle")}),(0,p.get)(vt.marker,"style",{})),Kt=this.addShape(z,{type:"marker",id:this.getElementId("item-"+vt.id+"-marker"),name:"legend-item-marker",attrs:zt}),he=Kt.getBBox();Kt.attr("x",he.width/2);var pe=Kt.attr(),_e=pe.stroke,Ge=pe.fill;return _e&&Kt.set("isStroke",!0),Ge&&Kt.set("isFill",!0),Kt},Et.prototype.drawItemText=function(z,q,vt,Pt,zt,Kt,he){var pe=vt.formatter,_e=(0,m.__assign)({x:Kt,y:zt/2,text:pe?pe(Pt[q],Pt,he):Pt[q]},vt.style);return this.addShape(z,{type:"text",id:this.getElementId("item-"+Pt.id+"-"+q),name:"legend-item-"+q,attrs:_e})},Et.prototype.drawItem=function(z,q,vt,Pt){var zt="item-"+z.id,Kt=this.addGroup(Pt,{name:"legend-item-container",id:this.getElementId("item-container-"+zt),delegateObject:{item:z,index:q}}),he=this.addGroup(Kt,{name:"legend-item",id:this.getElementId(zt),delegateObject:{item:z,index:q}}),pe=this.get("marker"),_e=this.get("itemName"),Ge=this.get("itemValue"),nr=this.get("itemBackground"),fr=this.getLimitItemWidth(),Fr=0;if(pe){var nn=this.drawMarker(he,pe,z,vt);Fr=nn.getBBox().maxX+pe.spacing}if(_e){var rn=this.drawItemText(he,"name",_e,z,vt,Fr,q);fr&&lr(!0,rn,(0,p.clamp)(fr-Fr,0,fr)),Fr=rn.getBBox().maxX+_e.spacing}if(Ge){var En=this.drawItemText(he,"value",Ge,z,vt,Fr,q);fr&&(Ge.alignRight?(En.attr({textAlign:"right",x:fr}),lr(!0,En,(0,p.clamp)(fr-Fr,0,fr),"head")):lr(!0,En,(0,p.clamp)(fr-Fr,0,fr)))}if(nr){var On=he.getBBox(),An=this.addShape(he,{type:"rect",name:"legend-item-background",id:this.getElementId(zt+"-background"),attrs:(0,m.__assign)({x:0,y:0,width:On.width,height:vt},nr.style)});An.toBack()}return this.applyItemStates(z,he),he},Et.prototype.adjustNavigation=function(z,q){var vt=this,Pt=this.startX,zt=this.startY,Kt=this.get("layout"),he=q.findAll(function(Ee){return Ee.get("name")==="legend-item"}),pe=this.get("maxWidth"),_e=this.get("maxHeight"),Ge=this.get("itemWidth"),nr=this.get("itemSpacing"),fr=this.getItemHeight(),Fr=this.drawNavigation(z,Kt,"00/00",12),nn=Fr.getBBox(),rn={x:Pt,y:zt},En=1,On=0,An=0,Vt=0;if(Kt==="horizontal")this.pageHeight=fr,(0,p.each)(he,function(Ee){var De=Ee.getBBox(),er=Ge||De.width;(On&&On<rn.x+er+nr||pe<rn.x+er+nr+nn.width)&&(En===1&&(On=rn.x+nr,vt.pageWidth=On,vt.moveElementTo(Fr,{x:pe-nr-nn.width-nn.minX,y:rn.y+fr/2-nn.height/2-nn.minY})),En+=1,rn.x=Pt,rn.y+=fr),vt.moveElementTo(Ee,rn),Ee.getParent().setClip({type:"rect",attrs:{x:rn.x,y:rn.y,width:er+nr,height:fr}}),rn.x+=er+nr});else{(0,p.each)(he,function(Ee){var De=Ee.getBBox();De.width>An&&(An=De.width)}),Vt=An,An+=nr,pe&&(An=Math.min(pe,An),Vt=Math.min(pe,Vt)),this.pageWidth=An,this.pageHeight=_e-Math.max(nn.height,fr);var de=Math.floor(this.pageHeight/fr);(0,p.each)(he,function(Ee,De){De!==0&&De%de==0&&(En+=1,rn.x+=An,rn.y=zt),vt.moveElementTo(Ee,rn),Ee.getParent().setClip({type:"rect",attrs:{x:rn.x,y:rn.y,width:An,height:fr}}),rn.y+=fr}),this.totalPagesCnt=En,this.moveElementTo(Fr,{x:Pt+Vt/2-nn.width/2-nn.minX,y:_e-nn.height-nn.minY})}this.pageHeight&&this.pageWidth&&q.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=En,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(Fr),q.attr("matrix",this.getCurrentNavigationMatrix())},Et.prototype.drawNavigation=function(z,q,vt,Pt){var zt={x:0,y:0},Kt=this.addGroup(z,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),he=this.drawArrow(Kt,zt,"navigation-arrow-left",q==="horizontal"?"up":"left",Pt);he.on("click",this.onNavigationBack);var pe=he.getBBox();zt.x+=pe.width+2;var _e=this.addShape(Kt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:zt.x,y:zt.y+Pt/2,text:vt,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),Ge=_e.getBBox();zt.x+=Ge.width+2;var nr=this.drawArrow(Kt,zt,"navigation-arrow-right",q==="horizontal"?"down":"right",Pt);return nr.on("click",this.onNavigationAfter),Kt},Et.prototype.updateNavigation=function(z){var q=this.currentPageIndex+"/"+this.totalPagesCnt,vt=z?z.getChildren()[1]:this.getElementByLocalId("navigation-text"),Pt=z?z.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),zt=z?z.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),Kt=vt.getBBox();vt.attr("text",q);var he=vt.getBBox();vt.attr("x",vt.attr("x")-(he.width-Kt.width)/2),Pt.attr("opacity",this.currentPageIndex===1?.45:1),Pt.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),zt.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),zt.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},Et.prototype.drawArrow=function(z,q,vt,Pt,zt){var Kt=q.x,he=q.y,pe={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},_e=this.addShape(z,{type:"path",id:this.getElementId(vt),name:vt,attrs:{path:[["M",Kt+zt/2,he],["L",Kt,he+zt],["L",Kt+zt,he+zt],["Z"]],fill:"#000",cursor:"pointer"}});return _e.attr("matrix",Q({x:Kt+zt/2,y:he+zt/2},pe[Pt])),_e},Et.prototype.getCurrentNavigationMatrix=function(){var z=this,q=z.currentPageIndex,vt=z.pageWidth,Pt=z.pageHeight,zt=this.get("layout"),Kt=zt==="horizontal"?{x:0,y:Pt*(1-q)}:{x:vt*(1-q),y:0};return H(Kt)},Et.prototype.applyItemStates=function(z,q){var vt=this.getItemStates(z),Pt=vt.length>0;if(Pt){var zt=q.getChildren(),Kt=this.get("itemStates");(0,p.each)(zt,function(he){var pe=he.get("name"),_e=pe.split("-")[2],Ge=Te(z,_e,Kt);Ge&&(he.attr(Ge),_e==="marker"&&!(he.get("isStroke")&&he.get("isFill"))&&(he.get("isStroke")&&he.attr("fill",null),he.get("isFill")&&he.attr("stroke",null)))})}},Et.prototype.getLimitItemWidth=function(){var z=this.get("itemWidth"),q=this.get("maxItemWidth");return q?z&&(q=z<=q?z:q):z&&(q=z),q},Et}(Ae),cr=Ye,sr=1.4,Lt=.4,gt=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Er.textColor,textBaseline:"middle",fontFamily:Er.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Er.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},Et.prototype.isSlider=function(){return!0},Et.prototype.getValue=function(){return this.getCurrentValue()},Et.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},Et.prototype.setRange=function(z,q){this.update({min:z,max:q})},Et.prototype.setValue=function(z){var q=this.getValue();this.set("value",z);var vt=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(vt),this.delegateEmit("valuechanged",{originValue:q,value:z})},Et.prototype.initEvent=function(){var z=this.get("group");this.bindSliderEvent(z),this.bindRailEvent(z),this.bindTrackEvent(z)},Et.prototype.drawLegendContent=function(z){this.drawRail(z),this.drawLabels(z),this.fixedElements(z),this.resetTrack(z),this.resetTrackClip(z),this.get("slidable")&&this.resetHandlers(z)},Et.prototype.bindSliderEvent=function(z){this.bindHandlersEvent(z)},Et.prototype.bindHandlersEvent=function(z){var q=this;z.on("legend-handler-min:drag",function(vt){var Pt=q.getValueByCanvasPoint(vt.x,vt.y),zt=q.getCurrentValue(),Kt=zt[1];Kt<Pt&&(Kt=Pt),q.setValue([Pt,Kt])}),z.on("legend-handler-max:drag",function(vt){var Pt=q.getValueByCanvasPoint(vt.x,vt.y),zt=q.getCurrentValue(),Kt=zt[0];Kt>Pt&&(Kt=Pt),q.setValue([Kt,Pt])})},Et.prototype.bindRailEvent=function(z){},Et.prototype.bindTrackEvent=function(z){var q=this,vt=null;z.on("legend-track:dragstart",function(Pt){vt={x:Pt.x,y:Pt.y}}),z.on("legend-track:drag",function(Pt){if(!!vt){var zt=q.getValueByCanvasPoint(vt.x,vt.y),Kt=q.getValueByCanvasPoint(Pt.x,Pt.y),he=q.getCurrentValue(),pe=he[1]-he[0],_e=q.getRange(),Ge=Kt-zt;Ge<0?he[0]+Ge>_e.min?q.setValue([he[0]+Ge,he[1]+Ge]):q.setValue([_e.min,_e.min+pe]):Ge>0&&(Ge>0&&he[1]+Ge<_e.max?q.setValue([he[0]+Ge,he[1]+Ge]):q.setValue([_e.max-pe,_e.max])),vt={x:Pt.x,y:Pt.y}}}),z.on("legend-track:dragend",function(Pt){vt=null})},Et.prototype.drawLabels=function(z){this.drawLabel("min",z),this.drawLabel("max",z)},Et.prototype.drawLabel=function(z,q){var vt=this.get("label"),Pt=vt.style,zt=vt.align,Kt=this.get(z),he=this.getLabelAlignAttrs(z,zt),pe="label-"+z;this.addShape(q,{type:"text",id:this.getElementId(pe),name:"legend-label-"+z,attrs:(0,m.__assign)((0,m.__assign)({x:0,y:0,text:Kt},Pt),he)})},Et.prototype.getLabelAlignAttrs=function(z,q){var vt=this.isVertical(),Pt="center",zt="middle";return vt?(Pt="start",q!=="rail"?z==="min"?zt="top":zt="bottom":zt="top"):q!=="rail"?(zt="top",z==="min"?Pt="start":Pt="end"):(Pt="start",zt="middle"),{textAlign:Pt,textBaseline:zt}},Et.prototype.getRailPath=function(z,q,vt,Pt){var zt=this.get("rail"),Kt=zt.size,he=zt.defaultLength,pe=zt.type,_e=this.isVertical(),Ge=he,nr=vt,fr=Pt;nr||(nr=_e?Kt:Ge),fr||(fr=_e?Ge:Kt);var Fr=[];return pe==="color"?(Fr.push(["M",z,q]),Fr.push(["L",z+nr,q]),Fr.push(["L",z+nr,q+fr]),Fr.push(["L",z,q+fr]),Fr.push(["Z"])):(Fr.push(["M",z+nr,q]),Fr.push(["L",z+nr,q+fr]),Fr.push(["L",z,q+fr]),Fr.push(["Z"])),Fr},Et.prototype.drawRail=function(z){var q=this.get("rail"),vt=q.style;this.addShape(z,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,m.__assign)({path:this.getRailPath(0,0)},vt)})},Et.prototype.getTrackColor=function(z){var q=z.length;if(!q)return null;if(q===1)return z[0];var vt;this.isVertical()?vt="l(90)":vt="l(0)";for(var Pt=0;Pt<q;Pt++){var zt=Pt/(q-1);vt+=" "+zt+":"+z[Pt]}return vt},Et.prototype.getTrackPath=function(z){var q=this.getRailShape(z),vt=q.attr("path");return(0,p.clone)(vt)},Et.prototype.getClipTrackAttrs=function(z){var q=this.getCurrentValue(),vt=q[0],Pt=q[1],zt=this.getRailBBox(z),Kt=this.getPointByValue(vt,z),he=this.getPointByValue(Pt,z),pe=this.isVertical(),_e,Ge,nr,fr;return pe?(_e=zt.minX,Ge=Kt.y,nr=zt.width,fr=he.y-Kt.y):(_e=Kt.x,Ge=zt.minY,nr=he.x-Kt.x,fr=zt.height),{x:_e,y:Ge,width:nr,height:fr}},Et.prototype.getTrackAttrs=function(z){var q=this.get("track"),vt=this.get("colors"),Pt=this.getTrackPath(z);return(0,p.mix)({path:Pt,fill:this.getTrackColor(vt)},q.style)},Et.prototype.resetTrackClip=function(z){var q=z||this.get("group"),vt=this.getElementId("track"),Pt=q.findById(vt),zt=Pt.getClip(),Kt=this.getClipTrackAttrs(z);zt?zt.attr(Kt):Pt.setClip({type:"rect",attrs:Kt})},Et.prototype.resetTrack=function(z){var q=this.getElementId("track"),vt=z.findById(q),Pt=this.getTrackAttrs(z);vt?vt.attr(Pt):this.addShape(z,{type:"path",id:q,draggable:this.get("slidable"),name:"legend-track",attrs:Pt})},Et.prototype.getPointByValue=function(z,q){var vt=this.getRange(),Pt=vt.min,zt=vt.max,Kt=(z-Pt)/(zt-Pt),he=this.getRailBBox(q),pe=this.isVertical(),_e={x:0,y:0};return pe?(_e.x=he.minX+he.width/2,_e.y=Gt(he.minY,he.maxY,Kt)):(_e.x=Gt(he.minX,he.maxX,Kt),_e.y=he.minY+he.height/2),_e},Et.prototype.getRailShape=function(z){var q=z||this.get("group");return q.findById(this.getElementId("rail"))},Et.prototype.getRailBBox=function(z){var q=this.getRailShape(z),vt=q.getBBox();return vt},Et.prototype.getRailCanvasBBox=function(){var z=this.get("group"),q=z.findById(this.getElementId("rail")),vt=q.getCanvasBBox();return vt},Et.prototype.isVertical=function(){return this.get("layout")==="vertical"},Et.prototype.getValueByCanvasPoint=function(z,q){var vt=this.getRange(),Pt=vt.min,zt=vt.max,Kt=this.getRailCanvasBBox(),he=this.isVertical(),pe=this.get("step"),_e;he?_e=(q-Kt.minY)/Kt.height:_e=(z-Kt.minX)/Kt.width;var Ge=Gt(Pt,zt,_e);if(pe){var nr=Math.round((Ge-Pt)/pe);Ge=Pt+nr*pe}return Ge>zt&&(Ge=zt),Ge<Pt&&(Ge=Pt),Ge},Et.prototype.getCurrentValue=function(){var z=this.get("value");return z||(z=[this.get("min"),this.get("max")]),z},Et.prototype.resetHandlers=function(z){var q=this.getCurrentValue(),vt=q[0],Pt=q[1];this.resetHandler(z,"min",vt),this.resetHandler(z,"max",Pt)},Et.prototype.getHandlerPath=function(z,q){var vt=this.isVertical(),Pt=[],zt=z.size,Kt=q.x,he=q.y,pe=zt*sr,_e=zt/2,Ge=zt/6;if(vt){var nr=Kt+pe*Lt;Pt.push(["M",Kt,he]),Pt.push(["L",nr,he+_e]),Pt.push(["L",Kt+pe,he+_e]),Pt.push(["L",Kt+pe,he-_e]),Pt.push(["L",nr,he-_e]),Pt.push(["Z"]),Pt.push(["M",nr,he+Ge]),Pt.push(["L",Kt+pe-2,he+Ge]),Pt.push(["M",nr,he-Ge]),Pt.push(["L",Kt+pe-2,he-Ge])}else{var fr=he+pe*Lt;Pt.push(["M",Kt,he]),Pt.push(["L",Kt-_e,fr]),Pt.push(["L",Kt-_e,he+pe]),Pt.push(["L",Kt+_e,he+pe]),Pt.push(["L",Kt+_e,fr]),Pt.push(["Z"]),Pt.push(["M",Kt-Ge,fr]),Pt.push(["L",Kt-Ge,he+pe-2]),Pt.push(["M",Kt+Ge,fr]),Pt.push(["L",Kt+Ge,he+pe-2])}return Pt},Et.prototype.resetHandler=function(z,q,vt){var Pt=this.getPointByValue(vt,z),zt=this.get("handler"),Kt=this.getHandlerPath(zt,Pt),he=this.getElementId("handler-"+q),pe=z.findById(he),_e=this.isVertical();pe?pe.attr("path",Kt):this.addShape(z,{type:"path",name:"legend-handler-"+q,draggable:!0,id:he,attrs:(0,m.__assign)((0,m.__assign)({path:Kt},zt.style),{cursor:_e?"ns-resize":"ew-resize"})})},Et.prototype.fixedElements=function(z){var q=z.findById(this.getElementId("rail")),vt=z.findById(this.getElementId("label-min")),Pt=z.findById(this.getElementId("label-max")),zt=this.getDrawPoint();this.isVertical()?this.fixedVertail(vt,Pt,q,zt):this.fixedHorizontal(vt,Pt,q,zt)},Et.prototype.fitRailLength=function(z,q,vt,Pt){var zt=this.isVertical(),Kt=zt?"height":"width",he=this.get("label"),pe=he.align,_e=he.spacing,Ge=this.get("max"+(0,p.upperFirst)(Kt));if(Ge){var nr=pe==="rail"?vt[Kt]+z[Kt]+q[Kt]+_e*2:vt[Kt],fr=nr-Ge;fr>0&&this.changeRailLength(Pt,Kt,vt[Kt]-fr)}},Et.prototype.changeRailLength=function(z,q,vt){var Pt=z.getBBox(),zt;q==="height"?zt=this.getRailPath(Pt.x,Pt.y,Pt.width,vt):zt=this.getRailPath(Pt.x,Pt.y,vt,Pt.height),z.attr("path",zt)},Et.prototype.changeRailPosition=function(z,q,vt){var Pt=z.getBBox(),zt=this.getRailPath(q,vt,Pt.width,Pt.height);z.attr("path",zt)},Et.prototype.fixedHorizontal=function(z,q,vt,Pt){var zt=this.get("label"),Kt=zt.align,he=zt.spacing,pe=vt.getBBox(),_e=z.getBBox(),Ge=q.getBBox(),nr=pe.height;this.fitRailLength(_e,Ge,pe,vt),pe=vt.getBBox(),Kt==="rail"?(z.attr({x:Pt.x,y:Pt.y+nr/2}),this.changeRailPosition(vt,Pt.x+_e.width+he,Pt.y),q.attr({x:Pt.x+_e.width+pe.width+he*2,y:Pt.y+nr/2})):Kt==="top"?(z.attr({x:Pt.x,y:Pt.y}),q.attr({x:Pt.x+pe.width,y:Pt.y}),this.changeRailPosition(vt,Pt.x,Pt.y+_e.height+he)):(this.changeRailPosition(vt,Pt.x,Pt.y),z.attr({x:Pt.x,y:Pt.y+pe.height+he}),q.attr({x:Pt.x+pe.width,y:Pt.y+pe.height+he}))},Et.prototype.fixedVertail=function(z,q,vt,Pt){var zt=this.get("label"),Kt=zt.align,he=zt.spacing,pe=vt.getBBox(),_e=z.getBBox(),Ge=q.getBBox();if(this.fitRailLength(_e,Ge,pe,vt),pe=vt.getBBox(),Kt==="rail")z.attr({x:Pt.x,y:Pt.y}),this.changeRailPosition(vt,Pt.x,Pt.y+_e.height+he),q.attr({x:Pt.x,y:Pt.y+_e.height+pe.height+he*2});else if(Kt==="right")z.attr({x:Pt.x+pe.width+he,y:Pt.y}),this.changeRailPosition(vt,Pt.x,Pt.y),q.attr({x:Pt.x+pe.width+he,y:Pt.y+pe.height});else{var nr=Math.max(_e.width,Ge.width);z.attr({x:Pt.x,y:Pt.y}),this.changeRailPosition(vt,Pt.x+nr+he,Pt.y),q.attr({x:Pt.x,y:Pt.y+pe.height})}},Et}(Ae),ut=gt,Mt=v(55223),Xt="g2-tooltip",ie="g2-tooltip-title",ve="g2-tooltip-list",be="g2-tooltip-list-item",we="g2-tooltip-marker",He="g2-tooltip-value",$e="g2-tooltip-name",tr="g2-tooltip-crosshair-x",Pr="g2-tooltip-crosshair-y",rr,Je=(rr={},rr[""+Xt]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Er.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},rr[""+ie]={marginBottom:"4px"},rr[""+ve]={margin:"0px",listStyleType:"none",padding:"0px"},rr[""+be]={listStyleType:"none",marginBottom:"4px"},rr[""+we]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},rr[""+He]={display:"inline-block",float:"right",marginLeft:"30px"},rr[""+tr]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},rr[""+Pr]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},rr);function Xr(Jt,Et,z,q,vt){var Pt={left:Jt<vt.x,right:Jt+z>vt.x+vt.width,top:Et<vt.y,bottom:Et+q>vt.y+vt.height};return Pt}function Yr(Jt,Et,z,q,vt,Pt){var zt=Jt,Kt=Et;switch(Pt){case"left":zt=Jt-q-z,Kt=Et-vt/2;break;case"right":zt=Jt+z,Kt=Et-vt/2;break;case"top":zt=Jt-q/2,Kt=Et-vt-z;break;case"bottom":zt=Jt-q/2,Kt=Et+z;break;default:zt=Jt+z,Kt=Et-vt-z;break}return{x:zt,y:Kt}}function $r(Jt,Et,z,q,vt,Pt,zt){var Kt=Yr(Jt,Et,z,q,vt,Pt);if(zt){var he=Xr(Kt.x,Kt.y,q,vt,zt);Pt==="auto"?(he.right&&(Kt.x=Math.max(0,Jt-q-z)),he.top&&(Kt.y=Math.max(0,Et-vt-z))):Pt==="top"||Pt==="bottom"?(he.left&&(Kt.x=zt.x),he.right&&(Kt.x=zt.x+zt.width-q),Pt==="top"&&he.top&&(Kt.y=Et+z),Pt==="bottom"&&he.bottom&&(Kt.y=Et-vt-z)):(he.top&&(Kt.y=zt.y),he.bottom&&(Kt.y=zt.y+zt.height-vt),Pt==="left"&&he.left&&(Kt.x=Jt+z),Pt==="right"&&he.right&&(Kt.x=Jt-q-z))}return Kt}function sn(Jt,Et){var z=!1;return(0,p.each)(Et,function(q){if((0,p.hasKey)(Jt,q))return z=!0,!1}),z}var Rr=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Xt+'"><div class="'+ie+'"></div><ul class="'+ve+'"></ul></div>',itemTpl:'<li class="'+be+`" data-index={index}>
          <span class="`+we+`" style="background:{color}"></span>
          <span class="`+$e+`">{name}</span>:
          <span class="`+He+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+tr+'"></div>',yCrosshairTpl:'<div class="'+Pr+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Xt,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Je})},Et.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},Et.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},Et.prototype.show=function(){var z=this.getContainer();!z||this.destroyed||(this.set("visible",!0),(0,Be.Z)(z,{visibility:"visible"}),this.setCrossHairsVisible(!0))},Et.prototype.hide=function(){var z=this.getContainer();!z||this.destroyed||(this.set("visible",!1),(0,Be.Z)(z,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},Et.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},Et.prototype.setLocation=function(z){this.set("x",z.x),this.set("y",z.y),this.resetPosition()},Et.prototype.setCrossHairsVisible=function(z){var q=z?"":"none",vt=this.get("xCrosshairDom"),Pt=this.get("yCrosshairDom");vt&&(0,Be.Z)(vt,{display:q}),Pt&&(0,Be.Z)(Pt,{display:q})},Et.prototype.initContainer=function(){if(Jt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var z=this.getHtmlContentNode();this.get("parent").appendChild(z),this.set("container",z),this.resetStyles(),this.applyStyles()}},Et.prototype.updateInner=function(z){this.get("customContent")?this.renderCustomContent():(sn(z,["title","showTitle"])&&this.resetTitle(),(0,p.hasKey)(z,"items")&&this.renderItems()),Jt.prototype.updateInner.call(this,z)},Et.prototype.initDom=function(){this.cacheDoms()},Et.prototype.removeDom=function(){Jt.prototype.removeDom.call(this),this.clearCrosshairs()},Et.prototype.resetPosition=function(){var z=this.get("x"),q=this.get("y"),vt=this.get("offset"),Pt=this.getOffset(),zt=Pt.offsetX,Kt=Pt.offsetY,he=this.get("position"),pe=this.get("region"),_e=this.getContainer(),Ge=this.getBBox(),nr=Ge.width,fr=Ge.height,Fr;pe&&(Fr=xt(pe));var nn=$r(z,q,vt,nr,fr,he,Fr);(0,Be.Z)(_e,{left:J(nn.x+zt),top:J(nn.y+Kt)}),this.resetCrosshairs()},Et.prototype.renderCustomContent=function(){var z=this.getHtmlContentNode(),q=this.get("parent"),vt=this.get("container");vt&&vt.parentNode===q?q.replaceChild(z,vt):q.appendChild(z),this.set("container",z),this.resetStyles(),this.applyStyles()},Et.prototype.getHtmlContentNode=function(){var z,q=this.get("customContent");if(q){var vt=q(this.get("title"),this.get("items"));(0,p.isElement)(vt)?z=vt:z=(0,en.Z)(vt)}return z},Et.prototype.cacheDoms=function(){var z=this.getContainer(),q=z.getElementsByClassName(ie)[0],vt=z.getElementsByClassName(ve)[0];this.set("titleDom",q),this.set("listDom",vt)},Et.prototype.resetTitle=function(){var z=this.get("title"),q=this.get("showTitle");q&&z?this.setTitle(z):this.setTitle("")},Et.prototype.setTitle=function(z){var q=this.get("titleDom");q&&(q.innerText=z)},Et.prototype.resetCrosshairs=function(){var z=this.get("crosshairsRegion"),q=this.get("crosshairs");if(!z||!q)this.clearCrosshairs();else{var vt=xt(z),Pt=this.get("xCrosshairDom"),zt=this.get("yCrosshairDom");q==="x"?(this.resetCrosshair("x",vt),zt&&(zt.remove(),this.set("yCrosshairDom",null))):q==="y"?(this.resetCrosshair("y",vt),Pt&&(Pt.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",vt),this.resetCrosshair("y",vt)),this.setCrossHairsVisible(this.get("visible"))}},Et.prototype.resetCrosshair=function(z,q){var vt=this.checkCrosshair(z),Pt=this.get(z);z==="x"?(0,Be.Z)(vt,{left:J(Pt),top:J(q.y),height:J(q.height)}):(0,Be.Z)(vt,{top:J(Pt),left:J(q.x),width:J(q.width)})},Et.prototype.checkCrosshair=function(z){var q=z+"CrosshairDom",vt=z+"CrosshairTpl",Pt="CROSSHAIR_"+z.toUpperCase(),zt=w[Pt],Kt=this.get(q),he=this.get("parent");return Kt||(Kt=(0,en.Z)(this.get(vt)),this.applyStyle(zt,Kt),he.appendChild(Kt),this.set(q,Kt)),Kt},Et.prototype.renderItems=function(){this.clearItemDoms();var z=this.get("items"),q=this.get("itemTpl"),vt=this.get("listDom");vt&&((0,p.each)(z,function(Pt){var zt=Mt.default.toCSSGradient(Pt.color),Kt=(0,m.__assign)((0,m.__assign)({},Pt),{color:zt}),he=(0,p.substitute)(q,Kt),pe=(0,en.Z)(he);vt.appendChild(pe)}),this.applyChildrenStyles(vt,this.get("domStyles")))},Et.prototype.clearItemDoms=function(){this.get("listDom")&&Tt(this.get("listDom"))},Et.prototype.clearCrosshairs=function(){var z=this.get("xCrosshairDom"),q=this.get("yCrosshairDom");z&&z.remove(),q&&q.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},Et}(pr),Sr=Rr,ln={opacity:0},kn={stroke:"#C5C5C5",strokeOpacity:.85},jn={fill:"#CACED4",opacity:.85},fi=v(57350),Ur=v(72469);function Wi(Jt){return(0,p.map)(Jt,function(Et,z){var q=z===0?"M":"L",vt=Et[0],Pt=Et[1];return[q,vt,Pt]})}function Gi(Jt){return Wi(Jt)}function ti(Jt){if(Jt.length<=2)return Gi(Jt);var Et=[];(0,p.each)(Jt,function(zt){(0,p.isEqual)(zt,Et.slice(Et.length-2))||Et.push(zt[0],zt[1])});var z=(0,fi.catmullRom2Bezier)(Et,!1),q=(0,p.head)(Jt),vt=q[0],Pt=q[1];return z.unshift(["M",vt,Pt]),z}function Qi(Jt,Et,z,q){q===void 0&&(q=!0);var vt=new Ur.Linear({values:Jt}),Pt=new Ur.Category({values:(0,p.map)(Jt,function(Kt,he){return he})}),zt=(0,p.map)(Jt,function(Kt,he){return[Pt.scale(he)*Et,z-vt.scale(Kt)*z]});return q?ti(zt):Gi(zt)}function ca(Jt,Et,z){var q=(0,m.__spreadArrays)(Jt);return q.push(["L",Et,0]),q.push(["L",0,z]),q.push(["Z"]),q}var Mi=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:ln,lineStyle:kn,areaStyle:jn})},Et.prototype.renderInner=function(z){var q=this.cfg,vt=q.width,Pt=q.height,zt=q.data,Kt=q.smooth,he=q.isArea,pe=q.backgroundStyle,_e=q.lineStyle,Ge=q.areaStyle;this.addShape(z,{id:this.getElementId("background"),type:"rect",attrs:(0,m.__assign)({x:0,y:0,width:vt,height:Pt},pe)});var nr=Qi(zt,vt,Pt,Kt);if(this.addShape(z,{id:this.getElementId("line"),type:"path",attrs:(0,m.__assign)({path:nr},_e)}),he){var fr=ca(nr,vt,Pt);this.addShape(z,{id:this.getElementId("area"),type:"path",attrs:(0,m.__assign)({path:fr},Ge)})}},Et.prototype.applyOffset=function(){var z=this.cfg,q=z.x,vt=z.y;this.moveElementTo(this.get("group"),{x:q,y:vt})},Et}(nt),wa=null,aa={fill:"#416180",opacity:.05},va={fill:"#5B8FF9",opacity:.15,cursor:"move"},_i=10,vi={width:_i,height:24},di={textBaseline:"middle",fill:"#000",opacity:.45},oa="sliderchange",da={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},sa=function(Jt){(0,m.__extends)(Et,Jt);function Et(){return Jt!==null&&Jt.apply(this,arguments)||this}return Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"handler",x:0,y:0,width:10,height:24,style:da})},Et.prototype.renderInner=function(z){var q=this.cfg,vt=q.width,Pt=q.height,zt=q.style,Kt=zt.fill,he=zt.stroke,pe=zt.radius,_e=zt.opacity,Ge=zt.cursor;this.addShape(z,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:vt,height:Pt,fill:Kt,stroke:he,radius:pe,opacity:_e,cursor:Ge}});var nr=1/3*vt,fr=2/3*vt,Fr=1/4*Pt,nn=3/4*Pt;this.addShape(z,{id:this.getElementId("line-left"),type:"line",attrs:{x1:nr,y1:Fr,x2:nr,y2:nn,stroke:he,cursor:Ge}}),this.addShape(z,{id:this.getElementId("line-right"),type:"line",attrs:{x1:fr,y1:Fr,x2:fr,y2:nn,stroke:he,cursor:Ge}})},Et.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},Et.prototype.initEvent=function(){this.bindEvents()},Et.prototype.bindEvents=function(){var z=this;this.get("group").on("mouseenter",function(){var q=z.get("style").highLightFill;z.getElementByLocalId("background").attr("fill",q),z.draw()}),this.get("group").on("mouseleave",function(){var q=z.get("style").fill;z.getElementByLocalId("background").attr("fill",q),z.draw()})},Et.prototype.draw=function(){var z=this.get("container").get("canvas");z&&z.draw()},Et}(nt),bn=null,pa=function(Jt){(0,m.__extends)(Et,Jt);function Et(){var z=Jt!==null&&Jt.apply(this,arguments)||this;return z.onMouseDown=function(q){return function(vt){z.currentTarget=q;var Pt=vt.originalEvent;Pt.stopPropagation(),Pt.preventDefault(),z.prevX=(0,p.get)(Pt,"touches.0.pageX",Pt.pageX),z.prevY=(0,p.get)(Pt,"touches.0.pageY",Pt.pageY);var zt=z.getContainerDOM();zt.addEventListener("mousemove",z.onMouseMove),zt.addEventListener("mouseup",z.onMouseUp),zt.addEventListener("mouseleave",z.onMouseUp),zt.addEventListener("touchmove",z.onMouseMove),zt.addEventListener("touchend",z.onMouseUp),zt.addEventListener("touchcancel",z.onMouseUp)}},z.onMouseMove=function(q){var vt=z.cfg.width,Pt=[z.get("start"),z.get("end")];q.stopPropagation(),q.preventDefault();var zt=(0,p.get)(q,"touches.0.pageX",q.pageX),Kt=(0,p.get)(q,"touches.0.pageY",q.pageY),he=zt-z.prevX,pe=z.adjustOffsetRange(he/vt);z.updateStartEnd(pe),z.updateUI(z.getElementByLocalId("foreground"),z.getElementByLocalId("minText"),z.getElementByLocalId("maxText")),z.prevX=zt,z.prevY=Kt,z.draw(),z.emit(oa,[z.get("start"),z.get("end")].sort()),z.delegateEmit("valuechanged",{originValue:Pt,value:[z.get("start"),z.get("end")]})},z.onMouseUp=function(){z.currentTarget&&(z.currentTarget=void 0);var q=z.getContainerDOM();q&&(q.removeEventListener("mousemove",z.onMouseMove),q.removeEventListener("mouseup",z.onMouseUp),q.removeEventListener("mouseleave",z.onMouseUp),q.removeEventListener("touchmove",z.onMouseMove),q.removeEventListener("touchend",z.onMouseUp),q.removeEventListener("touchcancel",z.onMouseUp))},z}return Et.prototype.setRange=function(z,q){this.set("minLimit",z),this.set("maxLimit",q);var vt=this.get("start"),Pt=this.get("end"),zt=(0,p.clamp)(vt,z,q),Kt=(0,p.clamp)(Pt,z,q);!this.get("isInit")&&(vt!==zt||Pt!==Kt)&&this.setValue([zt,Kt])},Et.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},Et.prototype.setValue=function(z){var q=this.getRange();if((0,p.isArray)(z)&&z.length===2){var vt=[this.get("start"),this.get("end")];this.update({start:(0,p.clamp)(z[0],q.min,q.max),end:(0,p.clamp)(z[1],q.min,q.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:vt,value:z})}},Et.prototype.getValue=function(){return[this.get("start"),this.get("end")]},Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:aa,foregroundStyle:va,handlerStyle:vi,textStyle:di}})},Et.prototype.update=function(z){var q=z.start,vt=z.end,Pt=(0,m.__assign)({},z);(0,p.isNil)(q)||(Pt.start=(0,p.clamp)(q,0,1)),(0,p.isNil)(vt)||(Pt.end=(0,p.clamp)(vt,0,1)),Jt.prototype.update.call(this,Pt),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},Et.prototype.init=function(){this.set("start",(0,p.clamp)(this.get("start"),0,1)),this.set("end",(0,p.clamp)(this.get("end"),0,1)),Jt.prototype.init.call(this)},Et.prototype.renderInner=function(z){var q=this.cfg,vt=q.start,Pt=q.end,zt=q.width,Kt=q.height,he=q.trendCfg,pe=he===void 0?{}:he,_e=q.minText,Ge=q.maxText,nr=q.backgroundStyle,fr=nr===void 0?{}:nr,Fr=q.foregroundStyle,nn=Fr===void 0?{}:Fr,rn=q.textStyle,En=rn===void 0?{}:rn,On=q.handlerStyle,An=On===void 0?{}:On,Vt=vt*zt,de=Pt*zt;(0,p.size)((0,p.get)(pe,"data"))&&this.addComponent(z,(0,m.__assign)({component:Mi,id:this.getElementId("trend"),x:0,y:0,width:zt,height:Kt},pe)),this.addShape(z,{id:this.getElementId("background"),type:"rect",attrs:(0,m.__assign)({x:0,y:0,width:zt,height:Kt},fr)});var Ee=this.addShape(z,{id:this.getElementId("minText"),type:"text",attrs:(0,m.__assign)({y:Kt/2,textAlign:"right",text:_e,silent:!1},En)}),De=this.addShape(z,{id:this.getElementId("maxText"),type:"text",attrs:(0,m.__assign)({y:Kt/2,textAlign:"left",text:Ge,silent:!1},En)}),er=this.addShape(z,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,m.__assign)({y:0,height:Kt},nn)}),Dr=(0,p.get)(An,"height",24);this.minHandler=this.addComponent(z,(0,m.__assign)({component:sa,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(Kt-Dr)/2,width:zt,height:Dr,cursor:"ew-resize"},An)),this.maxHandler=this.addComponent(z,(0,m.__assign)({component:sa,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(Kt-Dr)/2,width:zt,height:Dr,cursor:"ew-resize"},An)),this.updateUI(er,Ee,De)},Et.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},Et.prototype.initEvent=function(){this.bindEvents()},Et.prototype.updateUI=function(z,q,vt){var Pt=this.cfg,zt=Pt.start,Kt=Pt.end,he=Pt.width,pe=Pt.minText,_e=Pt.maxText,Ge=Pt.handlerStyle,nr=zt*he,fr=Kt*he;z.attr("x",nr),z.attr("width",fr-nr);var Fr=(0,p.get)(Ge,"width",_i);q.attr("text",pe),vt.attr("text",_e);var nn=this._dodgeText([nr,fr],q,vt),rn=nn[0],En=nn[1];this.minHandler&&(this.minHandler.update({x:nr-Fr/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,p.each)(rn,function(On,An){return q.attr(An,On)}),this.maxHandler&&(this.maxHandler.update({x:fr-Fr/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,p.each)(En,function(On,An){return vt.attr(An,On)})},Et.prototype.bindEvents=function(){var z=this.get("group");z.on("handler-min:mousedown",this.onMouseDown("minHandler")),z.on("handler-min:touchstart",this.onMouseDown("minHandler")),z.on("handler-max:mousedown",this.onMouseDown("maxHandler")),z.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var q=z.findById(this.getElementId("foreground"));q.on("mousedown",this.onMouseDown("foreground")),q.on("touchstart",this.onMouseDown("foreground"))},Et.prototype.adjustOffsetRange=function(z){var q=this.cfg,vt=q.start,Pt=q.end;switch(this.currentTarget){case"minHandler":{var zt=0-vt,Kt=1-vt;return Math.min(Kt,Math.max(zt,z))}case"maxHandler":{var zt=0-Pt,Kt=1-Pt;return Math.min(Kt,Math.max(zt,z))}case"foreground":{var zt=0-vt,Kt=1-Pt;return Math.min(Kt,Math.max(zt,z))}}},Et.prototype.updateStartEnd=function(z){var q=this.cfg,vt=q.start,Pt=q.end;switch(this.currentTarget){case"minHandler":vt+=z;break;case"maxHandler":Pt+=z;break;case"foreground":vt+=z,Pt+=z;break}this.set("start",vt),this.set("end",Pt)},Et.prototype._dodgeText=function(z,q,vt){var Pt,zt,Kt=this.cfg,he=Kt.handlerStyle,pe=Kt.width,_e=2,Ge=(0,p.get)(he,"width",_i),nr=z[0],fr=z[1],Fr=!1;nr>fr&&(Pt=[fr,nr],nr=Pt[0],fr=Pt[1],zt=[vt,q],q=zt[0],vt=zt[1],Fr=!0);var nn=q.getBBox(),rn=vt.getBBox(),En=nn.width>nr-_e?{x:nr+Ge/2+_e,textAlign:"left"}:{x:nr-Ge/2-_e,textAlign:"right"},On=rn.width>pe-fr-_e?{x:fr-Ge/2-_e,textAlign:"right"}:{x:fr+Ge/2+_e,textAlign:"left"};return Fr?[On,En]:[En,On]},Et.prototype.draw=function(){var z=this.get("container"),q=z&&z.get("canvas");q&&q.draw()},Et.prototype.getContainerDOM=function(){var z=this.get("container"),q=z&&z.get("canvas");return q&&q.get("container")},Et}(nt),ri=null,Fn=v(57817),ji={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},Bn={default:ji,hover:{thumbColor:"rgba(0,0,0,0.2)"}},ga=function(Jt){(0,m.__extends)(Et,Jt);function Et(){var z=Jt!==null&&Jt.apply(this,arguments)||this;return z.clearEvents=p.noop,z.onStartEvent=function(q){return function(vt){z.isMobile=q,vt.originalEvent.preventDefault();var Pt=q?(0,p.get)(vt.originalEvent,"touches.0.clientX"):vt.clientX,zt=q?(0,p.get)(vt.originalEvent,"touches.0.clientY"):vt.clientY;z.startPos=z.cfg.isHorizontal?Pt:zt,z.bindLaterEvent()}},z.bindLaterEvent=function(){var q=z.getContainerDOM(),vt=[];z.isMobile?vt=[(0,Fn.Z)(q,"touchmove",z.onMouseMove),(0,Fn.Z)(q,"touchend",z.onMouseUp),(0,Fn.Z)(q,"touchcancel",z.onMouseUp)]:vt=[(0,Fn.Z)(q,"mousemove",z.onMouseMove),(0,Fn.Z)(q,"mouseup",z.onMouseUp),(0,Fn.Z)(q,"mouseleave",z.onMouseUp)],z.clearEvents=function(){vt.forEach(function(Pt){Pt.remove()})}},z.onMouseMove=function(q){var vt=z.cfg,Pt=vt.isHorizontal,zt=vt.thumbOffset;q.preventDefault();var Kt=z.isMobile?(0,p.get)(q,"touches.0.clientX"):q.clientX,he=z.isMobile?(0,p.get)(q,"touches.0.clientY"):q.clientY,pe=Pt?Kt:he,_e=pe-z.startPos;z.startPos=pe,z.updateThumbOffset(zt+_e)},z.onMouseUp=function(q){q.preventDefault(),z.clearEvents()},z.onTrackClick=function(q){var vt=z.cfg,Pt=vt.isHorizontal,zt=vt.x,Kt=vt.y,he=vt.thumbLen,pe=z.getContainerDOM(),_e=pe.getBoundingClientRect(),Ge=q.clientX,nr=q.clientY,fr=Pt?Ge-_e.left-zt-he/2:nr-_e.top-Kt-he/2,Fr=z.validateRange(fr);z.updateThumbOffset(Fr)},z.onThumbMouseOver=function(){var q=z.cfg.theme.hover.thumbColor;z.getElementByLocalId("thumb").attr("stroke",q),z.draw()},z.onThumbMouseOut=function(){var q=z.cfg.theme.default.thumbColor;z.getElementByLocalId("thumb").attr("stroke",q),z.draw()},z}return Et.prototype.setRange=function(z,q){this.set("minLimit",z),this.set("maxLimit",q);var vt=this.getValue(),Pt=(0,p.clamp)(vt,z,q);vt!==Pt&&!this.get("isInit")&&this.setValue(Pt)},Et.prototype.getRange=function(){var z=this.get("minLimit")||0,q=this.get("maxLimit")||1;return{min:z,max:q}},Et.prototype.setValue=function(z){var q=this.getRange(),vt=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,p.clamp)(z,q.min,q.max)}),this.delegateEmit("valuechange",{originalValue:vt,value:this.getValue()})},Et.prototype.getValue=function(){return(0,p.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},Et.prototype.getDefaultCfg=function(){var z=Jt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:Bn})},Et.prototype.renderInner=function(z){this.renderTrackShape(z),this.renderThumbShape(z)},Et.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},Et.prototype.initEvent=function(){this.bindEvents()},Et.prototype.renderTrackShape=function(z){var q=this.cfg,vt=q.trackLen,Pt=q.theme,zt=Pt===void 0?{default:{}}:Pt,Kt=zt.default,he=Kt.lineCap,pe=Kt.trackColor,_e=Kt.size,Ge=this.get("isHorizontal")?{x1:0+_e/2,y1:_e/2,x2:vt-_e/2,y2:_e/2,lineWidth:_e,stroke:pe,lineCap:he}:{x1:_e/2,y1:0+_e/2,x2:_e/2,y2:vt-_e/2,lineWidth:_e,stroke:pe,lineCap:he};return this.addShape(z,{id:this.getElementId("track"),name:"track",type:"line",attrs:Ge})},Et.prototype.renderThumbShape=function(z){var q=this.cfg,vt=q.thumbOffset,Pt=q.thumbLen,zt=q.theme,Kt=zt===void 0?{default:{}}:zt,he=Kt.default,pe=he.size,_e=he.lineCap,Ge=he.thumbColor,nr=this.get("isHorizontal")?{x1:vt+pe/2,y1:pe/2,x2:vt+Pt-pe/2,y2:pe/2,lineWidth:pe,stroke:Ge,lineCap:_e,cursor:"default"}:{x1:pe/2,y1:vt+pe/2,x2:pe/2,y2:vt+Pt-pe/2,lineWidth:pe,stroke:Ge,lineCap:_e,cursor:"default"};return this.addShape(z,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:nr})},Et.prototype.bindEvents=function(){var z=this.get("group");z.on("mousedown",this.onStartEvent(!1)),z.on("mouseup",this.onMouseUp),z.on("touchstart",this.onStartEvent(!0)),z.on("touchend",this.onMouseUp);var q=z.findById(this.getElementId("track"));q.on("click",this.onTrackClick);var vt=z.findById(this.getElementId("thumb"));vt.on("mouseover",this.onThumbMouseOver),vt.on("mouseout",this.onThumbMouseOut)},Et.prototype.getContainerDOM=function(){var z=this.get("container"),q=z&&z.get("canvas");return q&&q.get("container")},Et.prototype.validateRange=function(z){var q=this.cfg,vt=q.thumbLen,Pt=q.trackLen,zt=z;return z+vt>Pt?zt=Pt-vt:z+vt<vt&&(zt=0),zt},Et.prototype.draw=function(){var z=this.get("container"),q=z&&z.get("canvas");q&&q.draw()},Et.prototype.updateThumbOffset=function(z){var q=this.cfg,vt=q.thumbOffset,Pt=q.isHorizontal,zt=q.thumbLen,Kt=q.size,he=this.validateRange(z);if(he!==vt){var pe=this.getElementByLocalId("thumb");Pt?pe.attr({x1:he+Kt/2,x2:he+zt-Kt/2}):pe.attr({y1:he+Kt/2,y2:he+zt-Kt/2}),this.emitOffsetChange(he)}},Et.prototype.emitOffsetChange=function(z){var q=this.cfg,vt=q.thumbOffset,Pt=q.trackLen,zt=q.thumbLen;this.cfg.thumbOffset=z,this.emit("scrollchange",{thumbOffset:z,ratio:(0,p.clamp)(z/(Pt-zt),0,1)}),this.delegateEmit("valuechange",{originalValue:vt,value:z})},Et}(nt)},15110:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(62117),O=v(65722),k=v(49242),_={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},T=function(A){x.__extends(C,A);function C(E){var g=A.call(this,E)||this;return g.initCfg(),g}return C.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},C.prototype.clear=function(){},C.prototype.update=function(E){var g=this,w=this.get("defaultCfg");k.each(E,function(y,m){var p=g.get(m),M=y;p!==y&&(k.isObject(y)&&w[m]&&(M=k.deepMix({},w[m],y)),g.set(m,M))}),this.updateInner(E),this.afterUpdate(E)},C.prototype.updateInner=function(E){},C.prototype.afterUpdate=function(E){k.hasKey(E,"visible")&&(E.visible?this.show():this.hide()),k.hasKey(E,"capture")&&this.setCapture(E.capture)},C.prototype.getLayoutBBox=function(){return this.getBBox()},C.prototype.getLocationType=function(){return this.get("locationType")},C.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},C.prototype.setOffset=function(E,g){this.update({offsetX:E,offsetY:g})},C.prototype.setLocation=function(E){var g=x.__assign({},E);this.update(g)},C.prototype.getLocation=function(){var E=this,g={},w=this.get("locationType"),y=_[w];return k.each(y,function(m){g[m]=E.get(m)}),g},C.prototype.isList=function(){return!1},C.prototype.isSlider=function(){return!1},C.prototype.init=function(){},C.prototype.initCfg=function(){var E=this,g=this.get("defaultCfg");k.each(g,function(w,y){var m=E.get(y);if(k.isObject(m)){var p=k.deepMix({},w,m);E.set(y,p)}})},C}(O.Base);S.default=T},51964:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(62117),O=v(80478),k=v(49242),_=v(11594),T=v(15110),A=function(C){x.__extends(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E.prototype.getDefaultCfg=function(){var g=C.prototype.getDefaultCfg.call(this);return x.__assign(x.__assign({},g),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},E.prototype.getContainer=function(){return this.get("container")},E.prototype.show=function(){var g=this.get("container");g.style.display="",this.set("visible",!0)},E.prototype.hide=function(){var g=this.get("container");g.style.display="none",this.set("visible",!1)},E.prototype.setCapture=function(g){var w=this.getContainer(),y=g?"auto":"none";w.style.pointerEvents=y,this.set("capture",g)},E.prototype.getBBox=function(){var g=this.getContainer(),w=parseFloat(g.style.left)||0,y=parseFloat(g.style.top)||0;return _.createBBox(w,y,g.clientWidth,g.clientHeight)},E.prototype.clear=function(){var g=this.get("container");_.clearDom(g)},E.prototype.destroy=function(){this.removeEvent(),this.removeDom(),C.prototype.destroy.call(this)},E.prototype.init=function(){C.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},E.prototype.initCapture=function(){this.setCapture(this.get("capture"))},E.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},E.prototype.initDom=function(){},E.prototype.initContainer=function(){var g=this.get("container");if(k.isNil(g)){g=this.createDom();var w=this.get("parent");k.isString(w)&&(w=document.getElementById(w),this.set("parent",w)),w.appendChild(g),this.set("container",g)}else k.isString(g)&&(g=document.getElementById(g),this.set("container",g));this.get("parent")||this.set("parent",g.parentNode)},E.prototype.resetStyles=function(){var g=this.get("domStyles"),w=this.get("defaultStyles");g?g=k.deepMix({},w,g):g=w,this.set("domStyles",g)},E.prototype.applyStyles=function(){var g=this.get("domStyles");if(!!g){var w=this.getContainer();this.applyChildrenStyles(w,g);var y=this.get("containerClassName");if(y&&_.hasClass(w,y)){var m=g[y];O.modifyCSS(w,m)}}},E.prototype.applyChildrenStyles=function(g,w){k.each(w,function(y,m){var p=g.getElementsByClassName(m);k.each(p,function(M){O.modifyCSS(M,y)})})},E.prototype.applyStyle=function(g,w){var y=this.get("domStyles");O.modifyCSS(w,y[g])},E.prototype.createDom=function(){var g=this.get("containerTpl");return O.createDom(g)},E.prototype.initEvent=function(){},E.prototype.removeDom=function(){var g=this.get("container");g&&g.parentNode.removeChild(g)},E.prototype.removeEvent=function(){},E.prototype.updateInner=function(g){k.hasKey(g,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},E.prototype.resetPosition=function(){},E}(T.default);S.default=A},7755:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CROSSHAIR_Y=S.CROSSHAIR_X=S.NAME_CLASS=S.VALUE_CLASS=S.MARKER_CLASS=S.LIST_ITEM_CLASS=S.LIST_CLASS=S.TITLE_CLASS=S.CONTAINER_CLASS=void 0,S.CONTAINER_CLASS="g2-tooltip",S.TITLE_CLASS="g2-tooltip-title",S.LIST_CLASS="g2-tooltip-list",S.LIST_ITEM_CLASS="g2-tooltip-list-item",S.MARKER_CLASS="g2-tooltip-marker",S.VALUE_CLASS="g2-tooltip-value",S.NAME_CLASS="g2-tooltip-name",S.CROSSHAIR_X="g2-tooltip-crosshair-x",S.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(ft,S,v){"use strict";var x;Object.defineProperty(S,"__esModule",{value:!0});var O=v(52782),k=v(7755);S.default=(x={},x[""+k.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:O.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},x[""+k.TITLE_CLASS]={marginBottom:"4px"},x[""+k.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},x[""+k.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},x[""+k.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},x[""+k.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},x[""+k.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},x[""+k.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},x)},88373:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(62117),k=v(55223),_=v(80478),T=v(49242),A=v(51964),C=v(11594),E=v(7755),g=v(55225),w=v(51227);function y(p,M){var P=!1;return T.each(M,function(B){if(T.hasKey(p,B))return P=!0,!1}),P}var m=function(p){O.__extends(M,p);function M(){return p!==null&&p.apply(this,arguments)||this}return M.prototype.getDefaultCfg=function(){var P=p.prototype.getDefaultCfg.call(this);return O.__assign(O.__assign({},P),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+E.CONTAINER_CLASS+'"><div class="'+E.TITLE_CLASS+'"></div><ul class="'+E.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+E.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+E.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+E.NAME_CLASS+`">{name}</span>:
          <span class="`+E.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+E.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+E.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:E.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:g.default})},M.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},M.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},M.prototype.show=function(){var P=this.getContainer();!P||this.destroyed||(this.set("visible",!0),_.modifyCSS(P,{visibility:"visible"}),this.setCrossHairsVisible(!0))},M.prototype.hide=function(){var P=this.getContainer();!P||this.destroyed||(this.set("visible",!1),_.modifyCSS(P,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},M.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},M.prototype.setLocation=function(P){this.set("x",P.x),this.set("y",P.y),this.resetPosition()},M.prototype.setCrossHairsVisible=function(P){var B=P?"":"none",F=this.get("xCrosshairDom"),W=this.get("yCrosshairDom");F&&_.modifyCSS(F,{display:B}),W&&_.modifyCSS(W,{display:B})},M.prototype.initContainer=function(){if(p.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var P=this.getHtmlContentNode();this.get("parent").appendChild(P),this.set("container",P),this.resetStyles(),this.applyStyles()}},M.prototype.updateInner=function(P){this.get("customContent")?this.renderCustomContent():(y(P,["title","showTitle"])&&this.resetTitle(),T.hasKey(P,"items")&&this.renderItems()),p.prototype.updateInner.call(this,P)},M.prototype.initDom=function(){this.cacheDoms()},M.prototype.removeDom=function(){p.prototype.removeDom.call(this),this.clearCrosshairs()},M.prototype.resetPosition=function(){var P=this.get("x"),B=this.get("y"),F=this.get("offset"),W=this.getOffset(),Q=W.offsetX,H=W.offsetY,Z=this.get("position"),ot=this.get("region"),rt=this.getContainer(),At=this.getBBox(),pt=At.width,Ft=At.height,Tt;ot&&(Tt=C.regionToBBox(ot));var Ot=w.getAlignPoint(P,B,F,pt,Ft,Z,Tt);_.modifyCSS(rt,{left:C.toPx(Ot.x+Q),top:C.toPx(Ot.y+H)}),this.resetCrosshairs()},M.prototype.renderCustomContent=function(){var P=this.getHtmlContentNode(),B=this.get("parent"),F=this.get("container");F&&F.parentNode===B?B.replaceChild(P,F):B.appendChild(P),this.set("container",P),this.resetStyles(),this.applyStyles()},M.prototype.getHtmlContentNode=function(){var P,B=this.get("customContent");if(B){var F=B(this.get("title"),this.get("items"));T.isElement(F)?P=F:P=_.createDom(F)}return P},M.prototype.cacheDoms=function(){var P=this.getContainer(),B=P.getElementsByClassName(E.TITLE_CLASS)[0],F=P.getElementsByClassName(E.LIST_CLASS)[0];this.set("titleDom",B),this.set("listDom",F)},M.prototype.resetTitle=function(){var P=this.get("title"),B=this.get("showTitle");B&&P?this.setTitle(P):this.setTitle("")},M.prototype.setTitle=function(P){var B=this.get("titleDom");B&&(B.innerText=P)},M.prototype.resetCrosshairs=function(){var P=this.get("crosshairsRegion"),B=this.get("crosshairs");if(!P||!B)this.clearCrosshairs();else{var F=C.regionToBBox(P),W=this.get("xCrosshairDom"),Q=this.get("yCrosshairDom");B==="x"?(this.resetCrosshair("x",F),Q&&(Q.remove(),this.set("yCrosshairDom",null))):B==="y"?(this.resetCrosshair("y",F),W&&(W.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",F),this.resetCrosshair("y",F)),this.setCrossHairsVisible(this.get("visible"))}},M.prototype.resetCrosshair=function(P,B){var F=this.checkCrosshair(P),W=this.get(P);P==="x"?_.modifyCSS(F,{left:C.toPx(W),top:C.toPx(B.y),height:C.toPx(B.height)}):_.modifyCSS(F,{top:C.toPx(W),left:C.toPx(B.x),width:C.toPx(B.width)})},M.prototype.checkCrosshair=function(P){var B=P+"CrosshairDom",F=P+"CrosshairTpl",W="CROSSHAIR_"+P.toUpperCase(),Q=E[W],H=this.get(B),Z=this.get("parent");return H||(H=_.createDom(this.get(F)),this.applyStyle(Q,H),Z.appendChild(H),this.set(B,H)),H},M.prototype.renderItems=function(){this.clearItemDoms();var P=this.get("items"),B=this.get("itemTpl"),F=this.get("listDom");F&&(T.each(P,function(W){var Q=k.default.toCSSGradient(W.color),H=O.__assign(O.__assign({},W),{color:Q}),Z=T.substitute(B,H),ot=_.createDom(Z);F.appendChild(ot)}),this.applyChildrenStyles(F,this.get("domStyles")))},M.prototype.clearItemDoms=function(){this.get("listDom")&&C.clearDom(this.get("listDom"))},M.prototype.clearCrosshairs=function(){var P=this.get("xCrosshairDom"),B=this.get("yCrosshairDom");P&&P.remove(),B&&B.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},M}(A.default);S.Z=m},51227:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getAlignPoint=S.getPointByPosition=S.getOutSides=void 0;function v(k,_,T,A,C){var E={left:k<C.x,right:k+T>C.x+C.width,top:_<C.y,bottom:_+A>C.y+C.height};return E}S.getOutSides=v;function x(k,_,T,A,C,E){var g=k,w=_;switch(E){case"left":g=k-A-T,w=_-C/2;break;case"right":g=k+T,w=_-C/2;break;case"top":g=k-A/2,w=_-C-T;break;case"bottom":g=k-A/2,w=_+T;break;default:g=k+T,w=_-C-T;break}return{x:g,y:w}}S.getPointByPosition=x;function O(k,_,T,A,C,E,g){var w=x(k,_,T,A,C,E);if(g){var y=v(w.x,w.y,A,C,g);E==="auto"?(y.right&&(w.x=Math.max(0,k-A-T)),y.top&&(w.y=Math.max(0,_-C-T))):E==="top"||E==="bottom"?(y.left&&(w.x=g.x),y.right&&(w.x=g.x+g.width-A),E==="top"&&y.top&&(w.y=_+T),E==="bottom"&&y.bottom&&(w.y=_-C-T)):(y.top&&(w.y=g.y),y.bottom&&(w.y=g.y+g.height-C),E==="left"&&y.left&&(w.x=k+T),E==="right"&&y.right&&(w.x=k-A-T))}return w}S.getAlignPoint=O},31207:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.propagationDelegate=void 0;var x=v(66192);function O(k,_,T){var A=new x.default(_,T);A.target=k,A.propagationPath.push(k),k.emitDelegation(_,A);for(var C=k.getParent();C;)C.emitDelegation(_,A),A.propagationPath.push(C),C=C.getParent()}S.propagationDelegate=O},52782:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTextPoint=S.toPx=S.updateClip=S.getBBoxWithClip=S.mergeBBox=S.intersectBBox=S.near=S.wait=S.distance=S.getCirclePoint=S.getValueByPercent=S.createBBox=S.pointsToBBox=S.regionToBBox=S.hasClass=S.clearDom=S.formatPadding=void 0;var x=v(49242);function O(F){var W=0,Q=0,H=0,Z=0;return x.isNumber(F)?W=Q=H=Z=F:x.isArray(F)&&(W=F[0],H=x.isNil(F[1])?F[0]:F[1],Z=x.isNil(F[2])?F[0]:F[2],Q=x.isNil(F[3])?H:F[3]),[W,H,Z,Q]}S.formatPadding=O;function k(F){for(var W=F.childNodes,Q=W.length,H=Q-1;H>=0;H--)F.removeChild(W[H])}S.clearDom=k;function _(F,W){return!!F.className.match(new RegExp("(\\s|^)"+W+"(\\s|$)"))}S.hasClass=_;function T(F){var W=F.start,Q=F.end,H=Math.min(W.x,Q.x),Z=Math.min(W.y,Q.y),ot=Math.max(W.x,Q.x),rt=Math.max(W.y,Q.y);return{x:H,y:Z,minX:H,minY:Z,maxX:ot,maxY:rt,width:ot-H,height:rt-Z}}S.regionToBBox=T;function A(F){var W=F.map(function(At){return At.x}),Q=F.map(function(At){return At.y}),H=Math.min.apply(Math,W),Z=Math.min.apply(Math,Q),ot=Math.max.apply(Math,W),rt=Math.max.apply(Math,Q);return{x:H,y:Z,minX:H,minY:Z,maxX:ot,maxY:rt,width:ot-H,height:rt-Z}}S.pointsToBBox=A;function C(F,W,Q,H){return{x:F,y:W,width:Q,height:H,minX:F,minY:W,maxX:F+Q,maxY:W+H}}S.createBBox=C;function E(F,W,Q){return(1-Q)*F+W*Q}S.getValueByPercent=E;function g(F,W,Q){return{x:F.x+Math.cos(Q)*W,y:F.y+Math.sin(Q)*W}}S.getCirclePoint=g;function w(F,W){var Q=W.x-F.x,H=W.y-F.y;return Math.sqrt(Q*Q+H*H)}S.distance=w,S.wait=function(F){return new Promise(function(W){setTimeout(W,F)})},S.near=function(F,W){return[F,W].includes(Infinity)?Math.abs(F)===Math.abs(W):Math.abs(F-W)<Math.pow(Number.EPSILON,.5)};function y(F,W){var Q=Math.max(F.minX,W.minX),H=Math.max(F.minY,W.minY),Z=Math.min(F.maxX,W.maxX),ot=Math.min(F.maxY,W.maxY);return C(Q,H,Z-Q,ot-H)}S.intersectBBox=y;function m(F,W){var Q=Math.min(F.minX,W.minX),H=Math.min(F.minY,W.minY),Z=Math.max(F.maxX,W.maxX),ot=Math.max(F.maxY,W.maxY);return C(Q,H,Z-Q,ot-H)}S.mergeBBox=m;function p(F){var W=F.getClip(),Q=W&&W.getBBox(),H;if(!F.isGroup())H=F.getBBox();else{var Z=Infinity,ot=-Infinity,rt=Infinity,At=-Infinity,pt=F.getChildren();pt.length>0?x.each(pt,function(Ft){if(Ft.get("visible")){if(Ft.isGroup()&&Ft.get("children").length===0)return!0;var Tt=p(Ft),Ot=Ft.applyToMatrix([Tt.minX,Tt.minY,1]),xt=Ft.applyToMatrix([Tt.minX,Tt.maxY,1]),ht=Ft.applyToMatrix([Tt.maxX,Tt.minY,1]),kt=Ft.applyToMatrix([Tt.maxX,Tt.maxY,1]),Gt=Math.min(Ot[0],xt[0],ht[0],kt[0]),dt=Math.max(Ot[0],xt[0],ht[0],kt[0]),tt=Math.min(Ot[1],xt[1],ht[1],kt[1]),I=Math.max(Ot[1],xt[1],ht[1],kt[1]);Gt<Z&&(Z=Gt),dt>ot&&(ot=dt),tt<rt&&(rt=tt),I>At&&(At=I)}}):(Z=0,ot=0,rt=0,At=0),H=C(Z,rt,ot-Z,At-rt)}return Q?y(H,Q):H}S.getBBoxWithClip=p;function M(F,W){if(!(!F.getClip()&&!W.getClip())){var Q=W.getClip();if(!Q){F.setClip(null);return}var H={type:Q.get("type"),attrs:Q.attr()};F.setClip(H)}}S.updateClip=M;function P(F){return F+"px"}S.toPx=P;function B(F,W,Q,H){var Z=w(F,W),ot=H/Z,rt=0;return Q==="start"?rt=0-ot:Q==="end"&&(rt=1+ot),{x:E(F.x,W.x,rt),y:E(F.y,W.y,rt)}}S.getTextPoint=B},13541:function(ft,S,v){"use strict";v.r(S),v.d(S,{Coordinate:function(){return C},getCoordinate:function(){return B},registerCoordinate:function(){return F}});var x=v(65353),O=v(77160),k=v(35600),_=v(31506),T=v(49242),A=function(){function W(Q){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var H=Q.start,Z=Q.end,ot=Q.matrix,rt=ot===void 0?[1,0,0,0,1,0,0,0,1]:ot,At=Q.isTransposed,pt=At===void 0?!1:At;this.start=H,this.end=Z,this.matrix=rt,this.originalMatrix=(0,x.__spreadArray)([],rt),this.isTransposed=pt}return W.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},W.prototype.update=function(Q){(0,T.assign)(this,Q),this.initial()},W.prototype.convertDim=function(Q,H){var Z,ot=this[H],rt=ot.start,At=ot.end;return this.isReflect(H)&&(Z=[At,rt],rt=Z[0],At=Z[1]),rt+Q*(At-rt)},W.prototype.invertDim=function(Q,H){var Z,ot=this[H],rt=ot.start,At=ot.end;return this.isReflect(H)&&(Z=[At,rt],rt=Z[0],At=Z[1]),(Q-rt)/(At-rt)},W.prototype.applyMatrix=function(Q,H,Z){Z===void 0&&(Z=0);var ot=this.matrix,rt=[Q,H,Z];return O.transformMat3(rt,rt,ot),rt},W.prototype.invertMatrix=function(Q,H,Z){Z===void 0&&(Z=0);var ot=this.matrix,rt=k.invert([0,0,0,0,0,0,0,0,0],ot),At=[Q,H,Z];return rt&&O.transformMat3(At,At,rt),At},W.prototype.convert=function(Q){var H=this.convertPoint(Q),Z=H.x,ot=H.y,rt=this.applyMatrix(Z,ot,1);return{x:rt[0],y:rt[1]}},W.prototype.invert=function(Q){var H=this.invertMatrix(Q.x,Q.y,1);return this.invertPoint({x:H[0],y:H[1]})},W.prototype.rotate=function(Q){var H=this.matrix,Z=this.center;return _.leftTranslate(H,H,[-Z.x,-Z.y]),_.leftRotate(H,H,Q),_.leftTranslate(H,H,[Z.x,Z.y]),this},W.prototype.reflect=function(Q){return Q==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},W.prototype.scale=function(Q,H){var Z=this.matrix,ot=this.center;return _.leftTranslate(Z,Z,[-ot.x,-ot.y]),_.leftScale(Z,Z,[Q,H]),_.leftTranslate(Z,Z,[ot.x,ot.y]),this},W.prototype.translate=function(Q,H){var Z=this.matrix;return _.leftTranslate(Z,Z,[Q,H]),this},W.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},W.prototype.getCenter=function(){return this.center},W.prototype.getWidth=function(){return this.width},W.prototype.getHeight=function(){return this.height},W.prototype.getRadius=function(){return this.radius},W.prototype.isReflect=function(Q){return Q==="x"?this.isReflectX:this.isReflectY},W.prototype.resetMatrix=function(Q){this.matrix=Q||(0,x.__spreadArray)([],this.originalMatrix)},W}(),C=A,E=function(W){(0,x.__extends)(Q,W);function Q(H){var Z=W.call(this,H)||this;return Z.isRect=!0,Z.type="cartesian",Z.initial(),Z}return Q.prototype.initial=function(){W.prototype.initial.call(this);var H=this.start,Z=this.end;this.x={start:H.x,end:Z.x},this.y={start:H.y,end:Z.y}},Q.prototype.convertPoint=function(H){var Z,ot=H.x,rt=H.y;return this.isTransposed&&(Z=[rt,ot],ot=Z[0],rt=Z[1]),{x:this.convertDim(ot,"x"),y:this.convertDim(rt,"y")}},Q.prototype.invertPoint=function(H){var Z,ot=this.invertDim(H.x,"x"),rt=this.invertDim(H.y,"y");return this.isTransposed&&(Z=[rt,ot],ot=Z[0],rt=Z[1]),{x:ot,y:rt}},Q}(C),g=E,w=v(31437),y=function(W){(0,x.__extends)(Q,W);function Q(H){var Z=W.call(this,H)||this;Z.isHelix=!0,Z.type="helix";var ot=H.startAngle,rt=ot===void 0?1.25*Math.PI:ot,At=H.endAngle,pt=At===void 0?7.25*Math.PI:At,Ft=H.innerRadius,Tt=Ft===void 0?0:Ft,Ot=H.radius;return Z.startAngle=rt,Z.endAngle=pt,Z.innerRadius=Tt,Z.radius=Ot,Z.initial(),Z}return Q.prototype.initial=function(){W.prototype.initial.call(this);var H=(this.endAngle-this.startAngle)/(2*Math.PI)+1,Z=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(Z=Z*this.radius),this.d=Math.floor(Z*(1-this.innerRadius)/H),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*Z,end:this.innerRadius*Z+this.d*.99}},Q.prototype.convertPoint=function(H){var Z,ot=H.x,rt=H.y;this.isTransposed&&(Z=[rt,ot],ot=Z[0],rt=Z[1]);var At=this.convertDim(ot,"x"),pt=this.a*At,Ft=this.convertDim(rt,"y");return{x:this.center.x+Math.cos(At)*(pt+Ft),y:this.center.y+Math.sin(At)*(pt+Ft)}},Q.prototype.invertPoint=function(H){var Z,ot=this.d+this.y.start,rt=w.subtract([0,0],[H.x,H.y],[this.center.x,this.center.y]),At=_.angleTo(rt,[1,0],!0),pt=At*this.a;w.length(rt)<pt&&(pt=w.length(rt));var Ft=Math.floor((w.length(rt)-pt)/ot);At=2*Ft*Math.PI+At;var Tt=this.a*At,Ot=w.length(rt)-Tt;Ot=(0,T.isNumberEqual)(Ot,0)?0:Ot;var xt=this.invertDim(At,"x"),ht=this.invertDim(Ot,"y");return xt=(0,T.isNumberEqual)(xt,0)?0:xt,ht=(0,T.isNumberEqual)(ht,0)?0:ht,this.isTransposed&&(Z=[ht,xt],xt=Z[0],ht=Z[1]),{x:xt,y:ht}},Q}(C),m=y,p=function(W){(0,x.__extends)(Q,W);function Q(H){var Z=W.call(this,H)||this;Z.isPolar=!0,Z.type="polar";var ot=H.startAngle,rt=ot===void 0?-Math.PI/2:ot,At=H.endAngle,pt=At===void 0?Math.PI*3/2:At,Ft=H.innerRadius,Tt=Ft===void 0?0:Ft,Ot=H.radius;return Z.startAngle=rt,Z.endAngle=pt,Z.innerRadius=Tt,Z.radius=Ot,Z.initial(),Z}return Q.prototype.initial=function(){for(W.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var H=this.getOneBox(),Z=H.maxX-H.minX,ot=H.maxY-H.minY,rt=Math.abs(H.minX)/Z,At=Math.abs(H.minY)/ot,pt;this.height/ot>this.width/Z?(pt=this.width/Z,this.circleCenter={x:this.center.x-(.5-rt)*this.width,y:this.center.y-(.5-At)*pt*ot}):(pt=this.height/ot,this.circleCenter={x:this.center.x-(.5-rt)*pt*Z,y:this.center.y-(.5-At)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=pt*this.radius:(this.radius<=0||this.radius>pt)&&(this.polarRadius=pt):this.polarRadius=pt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},Q.prototype.getRadius=function(){return this.polarRadius},Q.prototype.convertPoint=function(H){var Z,ot=this.getCenter(),rt=H.x,At=H.y;return this.isTransposed&&(Z=[At,rt],rt=Z[0],At=Z[1]),rt=this.convertDim(rt,"x"),At=this.convertDim(At,"y"),{x:ot.x+Math.cos(rt)*At,y:ot.y+Math.sin(rt)*At}},Q.prototype.invertPoint=function(H){var Z,ot=this.getCenter(),rt=[H.x-ot.x,H.y-ot.y],At=this,pt=At.startAngle,Ft=At.endAngle;this.isReflect("x")&&(Z=[Ft,pt],pt=Z[0],Ft=Z[1]);var Tt=[1,0,0,0,1,0,0,0,1];_.leftRotate(Tt,Tt,pt);var Ot=[1,0,0];O.transformMat3(Ot,Ot,Tt);var xt=[Ot[0],Ot[1]],ht=_.angleTo(xt,rt,Ft<pt);(0,T.isNumberEqual)(ht,Math.PI*2)&&(ht=0);var kt=w.length(rt),Gt=ht/(Ft-pt);Gt=Ft-pt>0?Gt:-Gt;var dt=this.invertDim(kt,"y"),tt={x:0,y:0};return tt.x=this.isTransposed?dt:Gt,tt.y=this.isTransposed?Gt:dt,tt},Q.prototype.getCenter=function(){return this.circleCenter},Q.prototype.getOneBox=function(){var H=this.startAngle,Z=this.endAngle;if(Math.abs(Z-H)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var ot=[0,Math.cos(H),Math.cos(Z)],rt=[0,Math.sin(H),Math.sin(Z)],At=Math.min(H,Z);At<Math.max(H,Z);At+=Math.PI/18)ot.push(Math.cos(At)),rt.push(Math.sin(At));return{minX:Math.min.apply(Math,ot),maxX:Math.max.apply(Math,ot),minY:Math.min.apply(Math,rt),maxY:Math.max.apply(Math,rt)}},Q}(C),M=p,P={},B=function(W){return P[W.toLowerCase()]},F=function(W,Q){P[W.toLowerCase()]=Q};F("rect",g),F("cartesian",g),F("polar",M),F("helix",m)},57817:function(ft,S,v){"use strict";v.d(S,{Z:function(){return x}});function x(O,k,_){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(k,_,!1),{remove:function(){O.removeEventListener(k,_,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+k,_),{remove:function(){O.detachEvent("on"+k,_)}}}}},6056:function(ft,S,v){"use strict";v.d(S,{Z:function(){return A}});var x,O,k,_;function T(){x=document.createElement("table"),O=document.createElement("tr"),k=/^\s*<(\w+|!)[^>]*>/,_={tr:document.createElement("tbody"),tbody:x,thead:x,tfoot:x,td:O,th:O,"*":document.createElement("div")}}function A(C){x||T();var E=k.test(C)&&RegExp.$1;(!E||!(E in _))&&(E="*");var g=_[E];C=typeof C=="string"?C.replace(/(^\s*)|(\s*$)/g,""):C,g.innerHTML=""+C;var w=g.childNodes[0];return w&&g.contains(w)&&g.removeChild(w),w}},10430:function(ft,S,v){"use strict";v.d(S,{Z:function(){return O}});var x=v(99911);function O(k,_){var T=(0,x.Z)(k,"height",_);return T==="auto"&&(T=k.offsetHeight),parseFloat(T)}},79189:function(ft,S,v){"use strict";v.d(S,{Z:function(){return k}});var x=v(99911),O=v(10430);function k(_,T){var A=(0,O.Z)(_,T),C=parseFloat((0,x.Z)(_,"borderTopWidth"))||0,E=parseFloat((0,x.Z)(_,"paddingTop"))||0,g=parseFloat((0,x.Z)(_,"paddingBottom"))||0,w=parseFloat((0,x.Z)(_,"borderBottomWidth"))||0,y=parseFloat((0,x.Z)(_,"marginTop"))||0,m=parseFloat((0,x.Z)(_,"marginBottom"))||0;return A+C+w+E+g+y+m}},89810:function(ft,S,v){"use strict";v.d(S,{Z:function(){return k}});var x=v(99911),O=v(23408);function k(_,T){var A=(0,O.Z)(_,T),C=parseFloat((0,x.Z)(_,"borderLeftWidth"))||0,E=parseFloat((0,x.Z)(_,"paddingLeft"))||0,g=parseFloat((0,x.Z)(_,"paddingRight"))||0,w=parseFloat((0,x.Z)(_,"borderRightWidth"))||0,y=parseFloat((0,x.Z)(_,"marginRight"))||0,m=parseFloat((0,x.Z)(_,"marginLeft"))||0;return A+C+w+E+g+m+y}},99911:function(ft,S,v){"use strict";v.d(S,{Z:function(){return x}});function x(O,k,_){var T;try{T=window.getComputedStyle?window.getComputedStyle(O,null)[k]:O.style[k]}catch(A){}finally{T=T===void 0?_:T}return T}},23408:function(ft,S,v){"use strict";v.d(S,{Z:function(){return O}});var x=v(99911);function O(k,_){var T=(0,x.Z)(k,"width",_);return T==="auto"&&(T=k.offsetWidth),parseFloat(T)}},80478:function(ft,S,v){"use strict";v.r(S),v.d(S,{addEventListener:function(){return x.Z},createDom:function(){return O.Z},getHeight:function(){return k.Z},getOuterHeight:function(){return _.Z},getOuterWidth:function(){return T.Z},getRatio:function(){return A},getStyle:function(){return C.Z},getWidth:function(){return E.Z},modifyCSS:function(){return g.Z}});var x=v(57817),O=v(6056),k=v(10430),_=v(79189),T=v(89810);function A(){return window.devicePixelRatio?window.devicePixelRatio:2}var C=v(99911),E=v(23408),g=v(45442)},45442:function(ft,S,v){"use strict";v.d(S,{Z:function(){return x}});function x(O,k){if(O)for(var _ in k)k.hasOwnProperty(_)&&(O.style[_]=k[_]);return O}},73136:function(ft,S){"use strict";var v;v={value:!0};function x(O,k,_){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(k,_,!1),{remove:function(){O.removeEventListener(k,_,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+k,_),{remove:function(){O.detachEvent("on"+k,_)}}}}S.Z=x},57821:function(ft,S){"use strict";var v;v={value:!0};var x,O,k,_;function T(){x=document.createElement("table"),O=document.createElement("tr"),k=/^\s*<(\w+|!)[^>]*>/,_={tr:document.createElement("tbody"),tbody:x,thead:x,tfoot:x,td:O,th:O,"*":document.createElement("div")}}function A(C){x||T();var E=k.test(C)&&RegExp.$1;(!E||!(E in _))&&(E="*");var g=_[E];C=typeof C=="string"?C.replace(/(^\s*)|(\s*$)/g,""):C,g.innerHTML=""+C;var w=g.childNodes[0];return w&&g.contains(w)&&g.removeChild(w),w}S.Z=A},1513:function(ft,S){"use strict";var v;v={value:!0};function x(O,k){if(O)for(var _ in k)k.hasOwnProperty(_)&&(O.style[_]=k[_]);return O}S.Z=x},90494:function(ft,S,v){"use strict";v.r(S);var x="*",O=function(){function k(){this._events={}}return k.prototype.on=function(_,T,A){return this._events[_]||(this._events[_]=[]),this._events[_].push({callback:T,once:!!A}),this},k.prototype.once=function(_,T){return this.on(_,T,!0)},k.prototype.emit=function(_){for(var T=this,A=[],C=1;C<arguments.length;C++)A[C-1]=arguments[C];var E=this._events[_]||[],g=this._events[x]||[],w=function(y){for(var m=y.length,p=0;p<m;p++)if(!!y[p]){var M=y[p],P=M.callback,B=M.once;B&&(y.splice(p,1),y.length===0&&delete T._events[_],m--,p--),P.apply(T,A)}};w(E),w(g)},k.prototype.off=function(_,T){if(!_)this._events={};else if(!T)delete this._events[_];else{for(var A=this._events[_]||[],C=A.length,E=0;E<C;E++)A[E].callback===T&&(A.splice(E,1),C--,E--);A.length===0&&delete this._events[_]}return this},k.prototype.getEvents=function(){return this._events},k}();S.default=O},65722:function(ft,S,v){"use strict";v.r(S),v.d(S,{AbstractCanvas:function(){return ne},AbstractGroup:function(){return Ce},AbstractShape:function(){return Ye},Base:function(){return Xe},Event:function(){return J},PathUtil:function(){return x},version:function(){return sr}});var x={};v.r(x),v.d(x,{catmullRomToBezier:function(){return C},fillPath:function(){return Gt},fillPathByDiff:function(){return u},formatPath:function(){return X},intersection:function(){return Ot},parsePathArray:function(){return P},parsePathString:function(){return A},pathToAbsolute:function(){return g},pathToCurve:function(){return p},rectPath:function(){return Z}});var O=v(49242),k=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,_=new RegExp("([a-z])["+k+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+k+"]*,?["+k+"]*)+)","ig"),T=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+k+"]*,?["+k+"]*","ig"),A=function(Lt){if(!Lt)return null;if((0,O.isArray)(Lt))return Lt;var gt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ut=[];return String(Lt).replace(_,function(Mt,Xt,ie){var ve=[],be=Xt.toLowerCase();if(ie.replace(T,function(we,He){He&&ve.push(+He)}),be==="m"&&ve.length>2&&(ut.push([Xt].concat(ve.splice(0,2))),be="l",Xt=Xt==="m"?"l":"L"),be==="o"&&ve.length===1&&ut.push([Xt,ve[0]]),be==="r")ut.push([Xt].concat(ve));else for(;ve.length>=gt[be]&&(ut.push([Xt].concat(ve.splice(0,gt[be]))),!!gt[be]););return Lt}),ut},C=function(Lt,gt){for(var ut=[],Mt=0,Xt=Lt.length;Xt-2*!gt>Mt;Mt+=2){var ie=[{x:+Lt[Mt-2],y:+Lt[Mt-1]},{x:+Lt[Mt],y:+Lt[Mt+1]},{x:+Lt[Mt+2],y:+Lt[Mt+3]},{x:+Lt[Mt+4],y:+Lt[Mt+5]}];gt?Mt?Xt-4===Mt?ie[3]={x:+Lt[0],y:+Lt[1]}:Xt-2===Mt&&(ie[2]={x:+Lt[0],y:+Lt[1]},ie[3]={x:+Lt[2],y:+Lt[3]}):ie[0]={x:+Lt[Xt-2],y:+Lt[Xt-1]}:Xt-4===Mt?ie[3]=ie[2]:Mt||(ie[0]={x:+Lt[Mt],y:+Lt[Mt+1]}),ut.push(["C",(-ie[0].x+6*ie[1].x+ie[2].x)/6,(-ie[0].y+6*ie[1].y+ie[2].y)/6,(ie[1].x+6*ie[2].x-ie[3].x)/6,(ie[1].y+6*ie[2].y-ie[3].y)/6,ie[2].x,ie[2].y])}return ut},E=function(Lt,gt,ut,Mt,Xt){var ie=[];if(Xt===null&&Mt===null&&(Mt=ut),Lt=+Lt,gt=+gt,ut=+ut,Mt=+Mt,Xt!==null){var ve=Math.PI/180,be=Lt+ut*Math.cos(-Mt*ve),we=Lt+ut*Math.cos(-Xt*ve),He=gt+ut*Math.sin(-Mt*ve),$e=gt+ut*Math.sin(-Xt*ve);ie=[["M",be,He],["A",ut,ut,0,+(Xt-Mt>180),0,we,$e]]}else ie=[["M",Lt,gt],["m",0,-Mt],["a",ut,Mt,0,1,1,0,2*Mt],["a",ut,Mt,0,1,1,0,-2*Mt],["z"]];return ie},g=function(Lt){if(Lt=A(Lt),!Lt||!Lt.length)return[["M",0,0]];var gt=[],ut=0,Mt=0,Xt=0,ie=0,ve=0,be,we;Lt[0][0]==="M"&&(ut=+Lt[0][1],Mt=+Lt[0][2],Xt=ut,ie=Mt,ve++,gt[0]=["M",ut,Mt]);for(var He=Lt.length===3&&Lt[0][0]==="M"&&Lt[1][0].toUpperCase()==="R"&&Lt[2][0].toUpperCase()==="Z",$e=void 0,tr=void 0,Pr=ve,rr=Lt.length;Pr<rr;Pr++){if(gt.push($e=[]),tr=Lt[Pr],be=tr[0],be!==be.toUpperCase())switch($e[0]=be.toUpperCase(),$e[0]){case"A":$e[1]=tr[1],$e[2]=tr[2],$e[3]=tr[3],$e[4]=tr[4],$e[5]=tr[5],$e[6]=+tr[6]+ut,$e[7]=+tr[7]+Mt;break;case"V":$e[1]=+tr[1]+Mt;break;case"H":$e[1]=+tr[1]+ut;break;case"R":we=[ut,Mt].concat(tr.slice(1));for(var Je=2,Xr=we.length;Je<Xr;Je++)we[Je]=+we[Je]+ut,we[++Je]=+we[Je]+Mt;gt.pop(),gt=gt.concat(C(we,He));break;case"O":gt.pop(),we=E(ut,Mt,tr[1],tr[2]),we.push(we[0]),gt=gt.concat(we);break;case"U":gt.pop(),gt=gt.concat(E(ut,Mt,tr[1],tr[2],tr[3])),$e=["U"].concat(gt[gt.length-1].slice(-2));break;case"M":Xt=+tr[1]+ut,ie=+tr[2]+Mt;break;default:for(var Je=1,Xr=tr.length;Je<Xr;Je++)$e[Je]=+tr[Je]+(Je%2?ut:Mt)}else if(be==="R")we=[ut,Mt].concat(tr.slice(1)),gt.pop(),gt=gt.concat(C(we,He)),$e=["R"].concat(tr.slice(-2));else if(be==="O")gt.pop(),we=E(ut,Mt,tr[1],tr[2]),we.push(we[0]),gt=gt.concat(we);else if(be==="U")gt.pop(),gt=gt.concat(E(ut,Mt,tr[1],tr[2],tr[3])),$e=["U"].concat(gt[gt.length-1].slice(-2));else for(var Yr=0,$r=tr.length;Yr<$r;Yr++)$e[Yr]=tr[Yr];if(be=be.toUpperCase(),be!=="O")switch($e[0]){case"Z":ut=+Xt,Mt=+ie;break;case"H":ut=$e[1];break;case"V":Mt=$e[1];break;case"M":Xt=$e[$e.length-2],ie=$e[$e.length-1];break;default:ut=$e[$e.length-2],Mt=$e[$e.length-1]}}return gt},w=function(Lt,gt,ut,Mt){return[Lt,gt,ut,Mt,ut,Mt]},y=function(Lt,gt,ut,Mt,Xt,ie){var ve=1/3,be=2/3;return[ve*Lt+be*ut,ve*gt+be*Mt,ve*Xt+be*ut,ve*ie+be*Mt,Xt,ie]},m=function(Lt,gt,ut,Mt,Xt,ie,ve,be,we,He){ut===Mt&&(ut+=1);var $e=Math.PI*120/180,tr=Math.PI/180*(+Xt||0),Pr=[],rr,Je,Xr,Yr,$r,sn=function(ri,Fn,ji){var Bn=ri*Math.cos(ji)-Fn*Math.sin(ji),ga=ri*Math.sin(ji)+Fn*Math.cos(ji);return{x:Bn,y:ga}};if(He)Je=He[0],Xr=He[1],Yr=He[2],$r=He[3];else{rr=sn(Lt,gt,-tr),Lt=rr.x,gt=rr.y,rr=sn(be,we,-tr),be=rr.x,we=rr.y,Lt===be&&gt===we&&(be+=1,we+=1);var Rr=(Lt-be)/2,Sr=(gt-we)/2,ln=Rr*Rr/(ut*ut)+Sr*Sr/(Mt*Mt);ln>1&&(ln=Math.sqrt(ln),ut=ln*ut,Mt=ln*Mt);var kn=ut*ut,jn=Mt*Mt,fi=(ie===ve?-1:1)*Math.sqrt(Math.abs((kn*jn-kn*Sr*Sr-jn*Rr*Rr)/(kn*Sr*Sr+jn*Rr*Rr)));Yr=fi*ut*Sr/Mt+(Lt+be)/2,$r=fi*-Mt*Rr/ut+(gt+we)/2,Je=Math.asin(((gt-$r)/Mt).toFixed(9)),Xr=Math.asin(((we-$r)/Mt).toFixed(9)),Je=Lt<Yr?Math.PI-Je:Je,Xr=be<Yr?Math.PI-Xr:Xr,Je<0&&(Je=Math.PI*2+Je),Xr<0&&(Xr=Math.PI*2+Xr),ve&&Je>Xr&&(Je=Je-Math.PI*2),!ve&&Xr>Je&&(Xr=Xr-Math.PI*2)}var Ur=Xr-Je;if(Math.abs(Ur)>$e){var Wi=Xr,Gi=be,ti=we;Xr=Je+$e*(ve&&Xr>Je?1:-1),be=Yr+ut*Math.cos(Xr),we=$r+Mt*Math.sin(Xr),Pr=m(be,we,ut,Mt,Xt,0,ve,Gi,ti,[Xr,Wi,Yr,$r])}Ur=Xr-Je;var Qi=Math.cos(Je),ca=Math.sin(Je),Mi=Math.cos(Xr),wa=Math.sin(Xr),aa=Math.tan(Ur/4),va=4/3*ut*aa,_i=4/3*Mt*aa,vi=[Lt,gt],di=[Lt+va*ca,gt-_i*Qi],oa=[be+va*wa,we-_i*Mi],da=[be,we];if(di[0]=2*vi[0]-di[0],di[1]=2*vi[1]-di[1],He)return[di,oa,da].concat(Pr);Pr=[di,oa,da].concat(Pr).join().split(",");for(var sa=[],bn=0,pa=Pr.length;bn<pa;bn++)sa[bn]=bn%2?sn(Pr[bn-1],Pr[bn],tr).y:sn(Pr[bn],Pr[bn+1],tr).x;return sa},p=function(Lt,gt){var ut=g(Lt),Mt=gt&&g(gt),Xt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ve=[],be=[],we="",He="",$e,tr=function(Rr,Sr,ln){var kn,jn;if(!Rr)return["C",Sr.x,Sr.y,Sr.x,Sr.y,Sr.x,Sr.y];switch(!(Rr[0]in{T:1,Q:1})&&(Sr.qx=Sr.qy=null),Rr[0]){case"M":Sr.X=Rr[1],Sr.Y=Rr[2];break;case"A":Rr=["C"].concat(m.apply(0,[Sr.x,Sr.y].concat(Rr.slice(1))));break;case"S":ln==="C"||ln==="S"?(kn=Sr.x*2-Sr.bx,jn=Sr.y*2-Sr.by):(kn=Sr.x,jn=Sr.y),Rr=["C",kn,jn].concat(Rr.slice(1));break;case"T":ln==="Q"||ln==="T"?(Sr.qx=Sr.x*2-Sr.qx,Sr.qy=Sr.y*2-Sr.qy):(Sr.qx=Sr.x,Sr.qy=Sr.y),Rr=["C"].concat(y(Sr.x,Sr.y,Sr.qx,Sr.qy,Rr[1],Rr[2]));break;case"Q":Sr.qx=Rr[1],Sr.qy=Rr[2],Rr=["C"].concat(y(Sr.x,Sr.y,Rr[1],Rr[2],Rr[3],Rr[4]));break;case"L":Rr=["C"].concat(w(Sr.x,Sr.y,Rr[1],Rr[2]));break;case"H":Rr=["C"].concat(w(Sr.x,Sr.y,Rr[1],Sr.y));break;case"V":Rr=["C"].concat(w(Sr.x,Sr.y,Sr.x,Rr[1]));break;case"Z":Rr=["C"].concat(w(Sr.x,Sr.y,Sr.X,Sr.Y));break;default:break}return Rr},Pr=function(Rr,Sr){if(Rr[Sr].length>7){Rr[Sr].shift();for(var ln=Rr[Sr];ln.length;)ve[Sr]="A",Mt&&(be[Sr]="A"),Rr.splice(Sr++,0,["C"].concat(ln.splice(0,6)));Rr.splice(Sr,1),$e=Math.max(ut.length,Mt&&Mt.length||0)}},rr=function(Rr,Sr,ln,kn,jn){Rr&&Sr&&Rr[jn][0]==="M"&&Sr[jn][0]!=="M"&&(Sr.splice(jn,0,["M",kn.x,kn.y]),ln.bx=0,ln.by=0,ln.x=Rr[jn][1],ln.y=Rr[jn][2],$e=Math.max(ut.length,Mt&&Mt.length||0))};$e=Math.max(ut.length,Mt&&Mt.length||0);for(var Je=0;Je<$e;Je++){ut[Je]&&(we=ut[Je][0]),we!=="C"&&(ve[Je]=we,Je&&(He=ve[Je-1])),ut[Je]=tr(ut[Je],Xt,He),ve[Je]!=="A"&&we==="C"&&(ve[Je]="C"),Pr(ut,Je),Mt&&(Mt[Je]&&(we=Mt[Je][0]),we!=="C"&&(be[Je]=we,Je&&(He=be[Je-1])),Mt[Je]=tr(Mt[Je],ie,He),be[Je]!=="A"&&we==="C"&&(be[Je]="C"),Pr(Mt,Je)),rr(ut,Mt,Xt,ie,Je),rr(Mt,ut,ie,Xt,Je);var Xr=ut[Je],Yr=Mt&&Mt[Je],$r=Xr.length,sn=Mt&&Yr.length;Xt.x=Xr[$r-2],Xt.y=Xr[$r-1],Xt.bx=parseFloat(Xr[$r-4])||Xt.x,Xt.by=parseFloat(Xr[$r-3])||Xt.y,ie.bx=Mt&&(parseFloat(Yr[sn-4])||ie.x),ie.by=Mt&&(parseFloat(Yr[sn-3])||ie.y),ie.x=Mt&&Yr[sn-2],ie.y=Mt&&Yr[sn-1]}return Mt?[ut,Mt]:ut},M=/,?([a-z]),?/gi,P=function(Lt){return Lt.join(",").replace(M,"$1")},B=function(Lt,gt,ut,Mt,Xt){var ie=-3*gt+9*ut-9*Mt+3*Xt,ve=Lt*ie+6*gt-12*ut+6*Mt;return Lt*ve-3*gt+3*ut},F=function(Lt,gt,ut,Mt,Xt,ie,ve,be,we){we===null&&(we=1),we=we>1?1:we<0?0:we;for(var He=we/2,$e=12,tr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Pr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],rr=0,Je=0;Je<$e;Je++){var Xr=He*tr[Je]+He,Yr=B(Xr,Lt,ut,Xt,ve),$r=B(Xr,gt,Mt,ie,be),sn=Yr*Yr+$r*$r;rr+=Pr[Je]*Math.sqrt(sn)}return He*rr},W=function(Lt,gt,ut,Mt,Xt,ie,ve,be){for(var we=[],He=[[],[]],$e,tr,Pr,rr,Je=0;Je<2;++Je){if(Je===0?(tr=6*Lt-12*ut+6*Xt,$e=-3*Lt+9*ut-9*Xt+3*ve,Pr=3*ut-3*Lt):(tr=6*gt-12*Mt+6*ie,$e=-3*gt+9*Mt-9*ie+3*be,Pr=3*Mt-3*gt),Math.abs($e)<1e-12){if(Math.abs(tr)<1e-12)continue;rr=-Pr/tr,rr>0&&rr<1&&we.push(rr);continue}var Xr=tr*tr-4*Pr*$e,Yr=Math.sqrt(Xr);if(!(Xr<0)){var $r=(-tr+Yr)/(2*$e);$r>0&&$r<1&&we.push($r);var sn=(-tr-Yr)/(2*$e);sn>0&&sn<1&&we.push(sn)}}for(var Rr=we.length,Sr=Rr,ln;Rr--;)rr=we[Rr],ln=1-rr,He[0][Rr]=ln*ln*ln*Lt+3*ln*ln*rr*ut+3*ln*rr*rr*Xt+rr*rr*rr*ve,He[1][Rr]=ln*ln*ln*gt+3*ln*ln*rr*Mt+3*ln*rr*rr*ie+rr*rr*rr*be;return He[0][Sr]=Lt,He[1][Sr]=gt,He[0][Sr+1]=ve,He[1][Sr+1]=be,He[0].length=He[1].length=Sr+2,{min:{x:Math.min.apply(0,He[0]),y:Math.min.apply(0,He[1])},max:{x:Math.max.apply(0,He[0]),y:Math.max.apply(0,He[1])}}},Q=function(Lt,gt,ut,Mt,Xt,ie,ve,be){if(!(Math.max(Lt,ut)<Math.min(Xt,ve)||Math.min(Lt,ut)>Math.max(Xt,ve)||Math.max(gt,Mt)<Math.min(ie,be)||Math.min(gt,Mt)>Math.max(ie,be))){var we=(Lt*Mt-gt*ut)*(Xt-ve)-(Lt-ut)*(Xt*be-ie*ve),He=(Lt*Mt-gt*ut)*(ie-be)-(gt-Mt)*(Xt*be-ie*ve),$e=(Lt-ut)*(ie-be)-(gt-Mt)*(Xt-ve);if(!!$e){var tr=we/$e,Pr=He/$e,rr=+tr.toFixed(2),Je=+Pr.toFixed(2);if(!(rr<+Math.min(Lt,ut).toFixed(2)||rr>+Math.max(Lt,ut).toFixed(2)||rr<+Math.min(Xt,ve).toFixed(2)||rr>+Math.max(Xt,ve).toFixed(2)||Je<+Math.min(gt,Mt).toFixed(2)||Je>+Math.max(gt,Mt).toFixed(2)||Je<+Math.min(ie,be).toFixed(2)||Je>+Math.max(ie,be).toFixed(2)))return{x:tr,y:Pr}}}},H=function(Lt,gt,ut){return gt>=Lt.x&&gt<=Lt.x+Lt.width&&ut>=Lt.y&&ut<=Lt.y+Lt.height},Z=function(Lt,gt,ut,Mt,Xt){if(Xt)return[["M",+Lt+ +Xt,gt],["l",ut-Xt*2,0],["a",Xt,Xt,0,0,1,Xt,Xt],["l",0,Mt-Xt*2],["a",Xt,Xt,0,0,1,-Xt,Xt],["l",Xt*2-ut,0],["a",Xt,Xt,0,0,1,-Xt,-Xt],["l",0,Xt*2-Mt],["a",Xt,Xt,0,0,1,Xt,-Xt],["z"]];var ie=[["M",Lt,gt],["l",ut,0],["l",0,Mt],["l",-ut,0],["z"]];return ie.parsePathArray=P,ie},ot=function(Lt,gt,ut,Mt){return Lt===null&&(Lt=gt=ut=Mt=0),gt===null&&(gt=Lt.y,ut=Lt.width,Mt=Lt.height,Lt=Lt.x),{x:Lt,y:gt,width:ut,w:ut,height:Mt,h:Mt,x2:Lt+ut,y2:gt+Mt,cx:Lt+ut/2,cy:gt+Mt/2,r1:Math.min(ut,Mt)/2,r2:Math.max(ut,Mt)/2,r0:Math.sqrt(ut*ut+Mt*Mt)/2,path:Z(Lt,gt,ut,Mt),vb:[Lt,gt,ut,Mt].join(" ")}},rt=function(Lt,gt){return Lt=ot(Lt),gt=ot(gt),H(gt,Lt.x,Lt.y)||H(gt,Lt.x2,Lt.y)||H(gt,Lt.x,Lt.y2)||H(gt,Lt.x2,Lt.y2)||H(Lt,gt.x,gt.y)||H(Lt,gt.x2,gt.y)||H(Lt,gt.x,gt.y2)||H(Lt,gt.x2,gt.y2)||(Lt.x<gt.x2&&Lt.x>gt.x||gt.x<Lt.x2&&gt.x>Lt.x)&&(Lt.y<gt.y2&&Lt.y>gt.y||gt.y<Lt.y2&&gt.y>Lt.y)},At=function(Lt,gt,ut,Mt,Xt,ie,ve,be){(0,O.isArray)(Lt)||(Lt=[Lt,gt,ut,Mt,Xt,ie,ve,be]);var we=W.apply(null,Lt);return ot(we.min.x,we.min.y,we.max.x-we.min.x,we.max.y-we.min.y)},pt=function(Lt,gt,ut,Mt,Xt,ie,ve,be,we){var He=1-we,$e=Math.pow(He,3),tr=Math.pow(He,2),Pr=we*we,rr=Pr*we,Je=$e*Lt+tr*3*we*ut+He*3*we*we*Xt+rr*ve,Xr=$e*gt+tr*3*we*Mt+He*3*we*we*ie+rr*be,Yr=Lt+2*we*(ut-Lt)+Pr*(Xt-2*ut+Lt),$r=gt+2*we*(Mt-gt)+Pr*(ie-2*Mt+gt),sn=ut+2*we*(Xt-ut)+Pr*(ve-2*Xt+ut),Rr=Mt+2*we*(ie-Mt)+Pr*(be-2*ie+Mt),Sr=He*Lt+we*ut,ln=He*gt+we*Mt,kn=He*Xt+we*ve,jn=He*ie+we*be,fi=90-Math.atan2(Yr-sn,$r-Rr)*180/Math.PI;return{x:Je,y:Xr,m:{x:Yr,y:$r},n:{x:sn,y:Rr},start:{x:Sr,y:ln},end:{x:kn,y:jn},alpha:fi}},Ft=function(Lt,gt,ut){var Mt=At(Lt),Xt=At(gt);if(!rt(Mt,Xt))return ut?0:[];for(var ie=F.apply(0,Lt),ve=F.apply(0,gt),be=~~(ie/8),we=~~(ve/8),He=[],$e=[],tr={},Pr=ut?0:[],rr=0;rr<be+1;rr++){var Je=pt.apply(0,Lt.concat(rr/be));He.push({x:Je.x,y:Je.y,t:rr/be})}for(var rr=0;rr<we+1;rr++){var Je=pt.apply(0,gt.concat(rr/we));$e.push({x:Je.x,y:Je.y,t:rr/we})}for(var rr=0;rr<be;rr++)for(var Xr=0;Xr<we;Xr++){var Yr=He[rr],$r=He[rr+1],sn=$e[Xr],Rr=$e[Xr+1],Sr=Math.abs($r.x-Yr.x)<.001?"y":"x",ln=Math.abs(Rr.x-sn.x)<.001?"y":"x",kn=Q(Yr.x,Yr.y,$r.x,$r.y,sn.x,sn.y,Rr.x,Rr.y);if(kn){if(tr[kn.x.toFixed(4)]===kn.y.toFixed(4))continue;tr[kn.x.toFixed(4)]=kn.y.toFixed(4);var jn=Yr.t+Math.abs((kn[Sr]-Yr[Sr])/($r[Sr]-Yr[Sr]))*($r.t-Yr.t),fi=sn.t+Math.abs((kn[ln]-sn[ln])/(Rr[ln]-sn[ln]))*(Rr.t-sn.t);jn>=0&&jn<=1&&fi>=0&&fi<=1&&(ut?Pr+=1:Pr.push({x:kn.x,y:kn.y,t1:jn,t2:fi}))}}return Pr},Tt=function(Lt,gt,ut){Lt=p(Lt),gt=p(gt);for(var Mt,Xt,ie,ve,be,we,He,$e,tr,Pr,rr=ut?0:[],Je=0,Xr=Lt.length;Je<Xr;Je++){var Yr=Lt[Je];if(Yr[0]==="M")Mt=be=Yr[1],Xt=we=Yr[2];else{Yr[0]==="C"?(tr=[Mt,Xt].concat(Yr.slice(1)),Mt=tr[6],Xt=tr[7]):(tr=[Mt,Xt,Mt,Xt,be,we,be,we],Mt=be,Xt=we);for(var $r=0,sn=gt.length;$r<sn;$r++){var Rr=gt[$r];if(Rr[0]==="M")ie=He=Rr[1],ve=$e=Rr[2];else{Rr[0]==="C"?(Pr=[ie,ve].concat(Rr.slice(1)),ie=Pr[6],ve=Pr[7]):(Pr=[ie,ve,ie,ve,He,$e,He,$e],ie=He,ve=$e);var Sr=Ft(tr,Pr,ut);if(ut)rr+=Sr;else{for(var ln=0,kn=Sr.length;ln<kn;ln++)Sr[ln].segment1=Je,Sr[ln].segment2=$r,Sr[ln].bez1=tr,Sr[ln].bez2=Pr;rr=rr.concat(Sr)}}}}}return rr},Ot=function(Lt,gt){return Tt(Lt,gt)};function xt(Lt,gt){var ut=[],Mt=[];function Xt(ie,ve){if(ie.length===1)ut.push(ie[0]),Mt.push(ie[0]);else{for(var be=[],we=0;we<ie.length-1;we++)we===0&&ut.push(ie[0]),we===ie.length-2&&Mt.push(ie[we+1]),be[we]=[(1-ve)*ie[we][0]+ve*ie[we+1][0],(1-ve)*ie[we][1]+ve*ie[we+1][1]];Xt(be,ve)}}return Lt.length&&Xt(Lt,gt),{left:ut,right:Mt.reverse()}}function ht(Lt,gt,ut){var Mt=[[Lt[1],Lt[2]]];ut=ut||2;var Xt=[];gt[0]==="A"?(Mt.push(gt[6]),Mt.push(gt[7])):gt[0]==="C"?(Mt.push([gt[1],gt[2]]),Mt.push([gt[3],gt[4]]),Mt.push([gt[5],gt[6]])):gt[0]==="S"||gt[0]==="Q"?(Mt.push([gt[1],gt[2]]),Mt.push([gt[3],gt[4]])):Mt.push([gt[1],gt[2]]);for(var ie=Mt,ve=1/ut,be=0;be<ut-1;be++){var we=ve/(1-ve*be),He=xt(ie,we);Xt.push(He.left),ie=He.right}Xt.push(ie);var $e=Xt.map(function(tr){var Pr=[];return tr.length===4&&(Pr.push("C"),Pr=Pr.concat(tr[2])),tr.length>=3&&(tr.length===3&&Pr.push("Q"),Pr=Pr.concat(tr[1])),tr.length===2&&Pr.push("L"),Pr=Pr.concat(tr[tr.length-1]),Pr});return $e}var kt=function(Lt,gt,ut){if(ut===1)return[[].concat(Lt)];var Mt=[];if(gt[0]==="L"||gt[0]==="C"||gt[0]==="Q")Mt=Mt.concat(ht(Lt,gt,ut));else{var Xt=[].concat(Lt);Xt[0]==="M"&&(Xt[0]="L");for(var ie=0;ie<=ut-1;ie++)Mt.push(Xt)}return Mt},Gt=function(Lt,gt){if(Lt.length===1)return Lt;var ut=Lt.length-1,Mt=gt.length-1,Xt=ut/Mt,ie=[];if(Lt.length===1&&Lt[0][0]==="M"){for(var ve=0;ve<Mt-ut;ve++)Lt.push(Lt[0]);return Lt}for(var ve=0;ve<Mt;ve++){var be=Math.floor(Xt*ve);ie[be]=(ie[be]||0)+1}var we=ie.reduce(function(He,$e,tr){return tr===ut?He.concat(Lt[ut]):He.concat(kt(Lt[tr],Lt[tr+1],$e))},[]);return we.unshift(Lt[0]),(gt[Mt]==="Z"||gt[Mt]==="z")&&we.push("Z"),we},dt=function(Lt,gt){if(Lt.length!==gt.length)return!1;var ut=!0;return(0,O.each)(Lt,function(Mt,Xt){if(Mt!==gt[Xt])return ut=!1,!1}),ut};function tt(Lt,gt,ut){var Mt=null,Xt=ut;return gt<Xt&&(Xt=gt,Mt="add"),Lt<Xt&&(Xt=Lt,Mt="del"),{type:Mt,min:Xt}}var I=function(Lt,gt){var ut=Lt.length,Mt=gt.length,Xt,ie,ve=0;if(ut===0||Mt===0)return null;for(var be=[],we=0;we<=ut;we++)be[we]=[],be[we][0]={min:we};for(var He=0;He<=Mt;He++)be[0][He]={min:He};for(var we=1;we<=ut;we++){Xt=Lt[we-1];for(var He=1;He<=Mt;He++){ie=gt[He-1],dt(Xt,ie)?ve=0:ve=1;var $e=be[we-1][He].min+1,tr=be[we][He-1].min+1,Pr=be[we-1][He-1].min+ve;be[we][He]=tt($e,tr,Pr)}}return be},u=function(Lt,gt){var ut=I(Lt,gt),Mt=Lt.length,Xt=gt.length,ie=[],ve=1,be=1;if(ut[Mt][Xt].min!==Mt){for(var we=1;we<=Mt;we++){var He=ut[we][we].min;be=we;for(var $e=ve;$e<=Xt;$e++)ut[we][$e].min<He&&(He=ut[we][$e].min,be=$e);ve=be,ut[we][ve].type&&ie.push({index:we-1,type:ut[we][ve].type})}for(var we=ie.length-1;we>=0;we--)ve=ie[we].index,ie[we].type==="add"?Lt.splice(ve,0,[].concat(Lt[ve])):Lt.splice(ve,1)}Mt=Lt.length;var tr=Xt-Mt;if(Mt<Xt)for(var we=0;we<tr;we++)Lt[Mt-1][0]==="z"||Lt[Mt-1][0]==="Z"?Lt.splice(Mt-2,0,Lt[Mt-2]):Lt.push(Lt[Mt-1]),Mt+=1;return Lt};function Y(Lt,gt,ut){for(var Mt=[].concat(Lt),Xt,ie=1/(ut+1),ve=G(gt)[0],be=1;be<=ut;be++)ie*=be,Xt=Math.floor(Lt.length*ie),Xt===0?Mt.unshift([ve[0]*ie+Lt[Xt][0]*(1-ie),ve[1]*ie+Lt[Xt][1]*(1-ie)]):Mt.splice(Xt,0,[ve[0]*ie+Lt[Xt][0]*(1-ie),ve[1]*ie+Lt[Xt][1]*(1-ie)]);return Mt}function G(Lt){var gt=[];switch(Lt[0]){case"M":gt.push([Lt[1],Lt[2]]);break;case"L":gt.push([Lt[1],Lt[2]]);break;case"A":gt.push([Lt[6],Lt[7]]);break;case"Q":gt.push([Lt[3],Lt[4]]),gt.push([Lt[1],Lt[2]]);break;case"T":gt.push([Lt[1],Lt[2]]);break;case"C":gt.push([Lt[5],Lt[6]]),gt.push([Lt[1],Lt[2]]),gt.push([Lt[3],Lt[4]]);break;case"S":gt.push([Lt[3],Lt[4]]),gt.push([Lt[1],Lt[2]]);break;case"H":gt.push([Lt[1],Lt[1]]);break;case"V":gt.push([Lt[1],Lt[1]]);break;default:}return gt}var X=function(Lt,gt){if(Lt.length<=1)return Lt;for(var ut,Mt=0;Mt<gt.length;Mt++)if(Lt[Mt][0]!==gt[Mt][0])switch(ut=G(Lt[Mt]),gt[Mt][0]){case"M":Lt[Mt]=["M"].concat(ut[0]);break;case"L":Lt[Mt]=["L"].concat(ut[0]);break;case"A":Lt[Mt]=[].concat(gt[Mt]),Lt[Mt][6]=ut[0][0],Lt[Mt][7]=ut[0][1];break;case"Q":if(ut.length<2)if(Mt>0)ut=Y(ut,Lt[Mt-1],1);else{Lt[Mt]=gt[Mt];break}Lt[Mt]=["Q"].concat(ut.reduce(function(Xt,ie){return Xt.concat(ie)},[]));break;case"T":Lt[Mt]=["T"].concat(ut[0]);break;case"C":if(ut.length<3)if(Mt>0)ut=Y(ut,Lt[Mt-1],2);else{Lt[Mt]=gt[Mt];break}Lt[Mt]=["C"].concat(ut.reduce(function(Xt,ie){return Xt.concat(ie)},[]));break;case"S":if(ut.length<2)if(Mt>0)ut=Y(ut,Lt[Mt-1],1);else{Lt[Mt]=gt[Mt];break}Lt[Mt]=["S"].concat(ut.reduce(function(Xt,ie){return Xt.concat(ie)},[]));break;default:Lt[Mt]=gt[Mt]}return Lt},U=function(){function Lt(gt,ut){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=gt,this.name=gt,this.originalEvent=ut,this.timeStamp=ut.timeStamp}return Lt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Lt.prototype.stopPropagation=function(){this.propagationStopped=!0},Lt.prototype.toString=function(){var gt=this.type;return"[Event (type="+gt+")]"},Lt.prototype.save=function(){},Lt.prototype.restore=function(){},Lt}(),J=U,lt=v(65353),It=v(90494),bt=v(73890),et=v(46812),Ct=v(21830),it=v(33643),st=v(66631),St=v(66974),at=v(27154),nt=v(85260);function mt(Lt,gt){var ut=Lt.indexOf(gt);ut!==-1&&Lt.splice(ut,1)}var Dt=typeof window!="undefined"&&typeof window.document!="undefined";function ee(Lt,gt){if(Lt.isCanvas())return!0;for(var ut=gt.getParent(),Mt=!1;ut;){if(ut===Lt){Mt=!0;break}ut=ut.getParent()}return Mt}function ce(Lt){return Lt.cfg.visible&&Lt.cfg.capture}var le=function(Lt){(0,lt.__extends)(gt,Lt);function gt(ut){var Mt=Lt.call(this)||this;Mt.destroyed=!1;var Xt=Mt.getDefaultCfg();return Mt.cfg=(0,St.default)(Xt,ut),Mt}return gt.prototype.getDefaultCfg=function(){return{}},gt.prototype.get=function(ut){return this.cfg[ut]},gt.prototype.set=function(ut,Mt){this.cfg[ut]=Mt},gt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},gt}(It.default),Xe=le,Ie=v(43631),Re=v(31506);function or(Lt,gt){var ut=[],Mt=Lt[0],Xt=Lt[1],ie=Lt[2],ve=Lt[3],be=Lt[4],we=Lt[5],He=Lt[6],$e=Lt[7],tr=Lt[8],Pr=gt[0],rr=gt[1],Je=gt[2],Xr=gt[3],Yr=gt[4],$r=gt[5],sn=gt[6],Rr=gt[7],Sr=gt[8];return ut[0]=Pr*Mt+rr*ve+Je*He,ut[1]=Pr*Xt+rr*be+Je*$e,ut[2]=Pr*ie+rr*we+Je*tr,ut[3]=Xr*Mt+Yr*ve+$r*He,ut[4]=Xr*Xt+Yr*be+$r*$e,ut[5]=Xr*ie+Yr*we+$r*tr,ut[6]=sn*Mt+Rr*ve+Sr*He,ut[7]=sn*Xt+Rr*be+Sr*$e,ut[8]=sn*ie+Rr*we+Sr*tr,ut}function lr(Lt,gt){var ut=[],Mt=gt[0],Xt=gt[1];return ut[0]=Lt[0]*Mt+Lt[3]*Xt+Lt[6],ut[1]=Lt[1]*Mt+Lt[4]*Xt+Lt[7],ut}function Ir(Lt){var gt=[],ut=Lt[0],Mt=Lt[1],Xt=Lt[2],ie=Lt[3],ve=Lt[4],be=Lt[5],we=Lt[6],He=Lt[7],$e=Lt[8],tr=$e*ve-be*He,Pr=-$e*ie+be*we,rr=He*ie-ve*we,Je=ut*tr+Mt*Pr+Xt*rr;return Je?(Je=1/Je,gt[0]=tr*Je,gt[1]=(-$e*Mt+Xt*He)*Je,gt[2]=(be*Mt-Xt*ve)*Je,gt[3]=Pr*Je,gt[4]=($e*ut-Xt*we)*Je,gt[5]=(-be*ut+Xt*ie)*Je,gt[6]=rr*Je,gt[7]=(-He*ut+Mt*we)*Je,gt[8]=(ve*ut-Mt*ie)*Je,gt):null}var Er="matrix",on=["zIndex","capture","visible","type"],In=["repeat"],fn=":",xn="*";function $n(Lt){for(var gt=[],ut=0;ut<Lt.length;ut++)(0,O.isArray)(Lt[ut])?gt.push([].concat(Lt[ut])):gt.push(Lt[ut]);return gt}function ui(Lt,gt){var ut={},Mt=gt.attrs;for(var Xt in Lt)ut[Xt]=Mt[Xt];return ut}function Si(Lt,gt){var ut={},Mt=gt.attr();return(0,O.each)(Lt,function(Xt,ie){In.indexOf(ie)===-1&&!(0,O.isEqual)(Mt[ie],Xt)&&(ut[ie]=Xt)}),ut}function bi(Lt,gt){if(gt.onFrame)return Lt;var ut=gt.startTime,Mt=gt.delay,Xt=gt.duration,ie=Object.prototype.hasOwnProperty;return(0,O.each)(Lt,function(ve){ut+Mt<ve.startTime+ve.delay+ve.duration&&Xt>ve.delay&&(0,O.each)(gt.toAttrs,function(be,we){ie.call(ve.toAttrs,we)&&(delete ve.toAttrs[we],delete ve.fromAttrs[we])})}),Lt}var $t=function(Lt){(0,lt.__extends)(gt,Lt);function gt(ut){var Mt=Lt.call(this,ut)||this;Mt.attrs={};var Xt=Mt.getDefaultAttrs();return(0,O.mix)(Xt,ut.attrs),Mt.attrs=Xt,Mt.initAttrs(Xt),Mt.initAnimate(),Mt}return gt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},gt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},gt.prototype.onCanvasChange=function(ut){},gt.prototype.initAttrs=function(ut){},gt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},gt.prototype.isGroup=function(){return!1},gt.prototype.getParent=function(){return this.get("parent")},gt.prototype.getCanvas=function(){return this.get("canvas")},gt.prototype.attr=function(){for(var ut,Mt=[],Xt=0;Xt<arguments.length;Xt++)Mt[Xt]=arguments[Xt];var ie=Mt[0],ve=Mt[1];if(!ie)return this.attrs;if((0,O.isObject)(ie)){for(var be in ie)this.setAttr(be,ie[be]);return this.afterAttrsChange(ie),this}return Mt.length===2?(this.setAttr(ie,ve),this.afterAttrsChange((ut={},ut[ie]=ve,ut)),this):this.attrs[ie]},gt.prototype.isClipped=function(ut,Mt){var Xt=this.getClip();return Xt&&!Xt.isHit(ut,Mt)},gt.prototype.setAttr=function(ut,Mt){var Xt=this.attrs[ut];Xt!==Mt&&(this.attrs[ut]=Mt,this.onAttrChange(ut,Mt,Xt))},gt.prototype.onAttrChange=function(ut,Mt,Xt){ut==="matrix"&&this.set("totalMatrix",null)},gt.prototype.afterAttrsChange=function(ut){this.onCanvasChange("attr")},gt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},gt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},gt.prototype.setZIndex=function(ut){this.set("zIndex",ut);var Mt=this.getParent();return Mt&&Mt.sort(),this},gt.prototype.toFront=function(){var ut=this.getParent();if(!!ut){var Mt=ut.getChildren(),Xt=this.get("el"),ie=Mt.indexOf(this);Mt.splice(ie,1),Mt.push(this),this.onCanvasChange("zIndex")}},gt.prototype.toBack=function(){var ut=this.getParent();if(!!ut){var Mt=ut.getChildren(),Xt=this.get("el"),ie=Mt.indexOf(this);Mt.splice(ie,1),Mt.unshift(this),this.onCanvasChange("zIndex")}},gt.prototype.remove=function(ut){ut===void 0&&(ut=!0);var Mt=this.getParent();Mt?(mt(Mt.getChildren(),this),Mt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),ut&&this.destroy()},gt.prototype.resetMatrix=function(){this.attr(Er,this.getDefaultMatrix()),this.onCanvasChange("matrix")},gt.prototype.getMatrix=function(){return this.attr(Er)},gt.prototype.setMatrix=function(ut){this.attr(Er,ut),this.onCanvasChange("matrix")},gt.prototype.getTotalMatrix=function(){var ut=this.get("totalMatrix");if(!ut){var Mt=this.attr("matrix"),Xt=this.get("parentMatrix");Xt&&Mt?ut=or(Xt,Mt):ut=Mt||Xt,this.set("totalMatrix",ut)}return ut},gt.prototype.applyMatrix=function(ut){var Mt=this.attr("matrix"),Xt=null;ut&&Mt?Xt=or(ut,Mt):Xt=Mt||ut,this.set("totalMatrix",Xt),this.set("parentMatrix",ut)},gt.prototype.getDefaultMatrix=function(){return null},gt.prototype.applyToMatrix=function(ut){var Mt=this.attr("matrix");return Mt?lr(Mt,ut):ut},gt.prototype.invertFromMatrix=function(ut){var Mt=this.attr("matrix");if(Mt){var Xt=Ir(Mt);if(Xt)return lr(Xt,ut)}return ut},gt.prototype.setClip=function(ut){var Mt=this.getCanvas(),Xt=null;if(ut){var ie=this.getShapeBase(),ve=(0,O.upperFirst)(ut.type),be=ie[ve];be&&(Xt=new be({type:ut.type,isClipShape:!0,attrs:ut.attrs,canvas:Mt}))}return this.set("clipShape",Xt),this.onCanvasChange("clip"),Xt},gt.prototype.getClip=function(){var ut=this.cfg.clipShape;return ut||null},gt.prototype.clone=function(){var ut=this,Mt=this.attrs,Xt={};(0,O.each)(Mt,function(be,we){(0,O.isArray)(Mt[we])?Xt[we]=$n(Mt[we]):Xt[we]=Mt[we]});var ie=this.constructor,ve=new ie({attrs:Xt});return(0,O.each)(on,function(be){ve.set(be,ut.get(be))}),ve},gt.prototype.destroy=function(){var ut=this.destroyed;ut||(this.attrs={},Lt.prototype.destroy.call(this))},gt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},gt.prototype.animate=function(){for(var ut=[],Mt=0;Mt<arguments.length;Mt++)ut[Mt]=arguments[Mt];this.set("animating",!0);var Xt=this.get("timeline");Xt||(Xt=this.get("canvas").get("timeline"),this.set("timeline",Xt));var ie=this.get("animations")||[];Xt.timer||Xt.initTimer();var ve=ut[0],be=ut[1],we=ut[2],He=we===void 0?"easeLinear":we,$e=ut[3],tr=$e===void 0?O.noop:$e,Pr=ut[4],rr=Pr===void 0?0:Pr,Je,Xr,Yr,$r,sn;(0,O.isFunction)(ve)?(Je=ve,ve={}):(0,O.isObject)(ve)&&ve.onFrame&&(Je=ve.onFrame,Xr=ve.repeat),(0,O.isObject)(be)?(sn=be,be=sn.duration,He=sn.easing||"easeLinear",rr=sn.delay||0,Xr=sn.repeat||Xr||!1,tr=sn.callback||O.noop,Yr=sn.pauseCallback||O.noop,$r=sn.resumeCallback||O.noop):((0,O.isNumber)(tr)&&(rr=tr,tr=null),(0,O.isFunction)(He)?(tr=He,He="easeLinear"):He=He||"easeLinear");var Rr=Si(ve,this),Sr={fromAttrs:ui(Rr,this),toAttrs:Rr,duration:be,easing:He,repeat:Xr,callback:tr,pauseCallback:Yr,resumeCallback:$r,delay:rr,startTime:Xt.getTime(),id:(0,O.uniqueId)(),onFrame:Je,pathFormatted:!1};ie.length>0?ie=bi(ie,Sr):Xt.addAnimator(this),ie.push(Sr),this.set("animations",ie),this.set("_pause",{isPaused:!1})},gt.prototype.stopAnimate=function(ut){var Mt=this;ut===void 0&&(ut=!0);var Xt=this.get("animations");(0,O.each)(Xt,function(ie){ut&&(ie.onFrame?Mt.attr(ie.onFrame(1)):Mt.attr(ie.toAttrs)),ie.callback&&ie.callback()}),this.set("animating",!1),this.set("animations",[])},gt.prototype.pauseAnimate=function(){var ut=this.get("timeline"),Mt=this.get("animations"),Xt=ut.getTime();return(0,O.each)(Mt,function(ie){ie._paused=!0,ie._pauseTime=Xt,ie.pauseCallback&&ie.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Xt}),this},gt.prototype.resumeAnimate=function(){var ut=this.get("timeline"),Mt=ut.getTime(),Xt=this.get("animations"),ie=this.get("_pause").pauseTime;return(0,O.each)(Xt,function(ve){ve.startTime=ve.startTime+(Mt-ie),ve._paused=!1,ve._pauseTime=null,ve.resumeCallback&&ve.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Xt),this},gt.prototype.emitDelegation=function(ut,Mt){var Xt=this,ie=Mt.propagationPath,ve=this.getEvents(),be;ut==="mouseenter"?be=Mt.fromShape:ut==="mouseleave"&&(be=Mt.toShape);for(var we=function(Pr){var rr=ie[Pr],Je=rr.get("name");if(Je){if((rr.isGroup()||rr.isCanvas&&rr.isCanvas())&&be&&ee(rr,be))return"break";(0,O.isArray)(Je)?(0,O.each)(Je,function(Xr){Xt.emitDelegateEvent(rr,Xr,Mt)}):He.emitDelegateEvent(rr,Je,Mt)}},He=this,$e=0;$e<ie.length;$e++){var tr=we($e);if(tr==="break")break}},gt.prototype.emitDelegateEvent=function(ut,Mt,Xt){var ie=this.getEvents(),ve=Mt+fn+Xt.type;(ie[ve]||ie[xn])&&(Xt.name=ve,Xt.currentTarget=ut,Xt.delegateTarget=this,Xt.delegateObject=ut.get("delegateObject"),this.emit(ve,Xt))},gt.prototype.translate=function(ut,Mt){ut===void 0&&(ut=0),Mt===void 0&&(Mt=0);var Xt=this.getMatrix(),ie=Re.transform(Xt,[["t",ut,Mt]]);return this.setMatrix(ie),this},gt.prototype.move=function(ut,Mt){var Xt=this.attr("x")||0,ie=this.attr("y")||0;return this.translate(ut-Xt,Mt-ie),this},gt.prototype.moveTo=function(ut,Mt){return this.move(ut,Mt)},gt.prototype.scale=function(ut,Mt){var Xt=this.getMatrix(),ie=Re.transform(Xt,[["s",ut,Mt||ut]]);return this.setMatrix(ie),this},gt.prototype.rotate=function(ut){var Mt=this.getMatrix(),Xt=Re.transform(Mt,[["r",ut]]);return this.setMatrix(Xt),this},gt.prototype.rotateAtStart=function(ut){var Mt=this.attr(),Xt=Mt.x,ie=Mt.y,ve=this.getMatrix(),be=Re.transform(ve,[["t",-Xt,-ie],["r",ut],["t",Xt,ie]]);return this.setMatrix(be),this},gt.prototype.rotateAtPoint=function(ut,Mt,Xt){var ie=this.getMatrix(),ve=Re.transform(ie,[["t",-ut,-Mt],["r",Xt],["t",ut,Mt]]);return this.setMatrix(ve),this},gt}(Xe),se=$t,ge={},me="_INDEX";function ke(Lt){Lt.isGroup()?(Lt.isEntityGroup()||Lt.get("children").length)&&Lt.onCanvasChange("add"):Lt.onCanvasChange("add")}function Fe(Lt,gt){if(Lt.set("canvas",gt),Lt.isGroup()){var ut=Lt.get("children");ut.length&&ut.forEach(function(Mt){Fe(Mt,gt)})}}function Ne(Lt,gt){if(Lt.set("timeline",gt),Lt.isGroup()){var ut=Lt.get("children");ut.length&&ut.forEach(function(Mt){Ne(Mt,gt)})}}function Ve(Lt,gt){var ut=Lt.getChildren();return ut.indexOf(gt)>=0}function Te(Lt,gt,ut){ut===void 0&&(ut=!0),ut?gt.destroy():(gt.set("parent",null),gt.set("canvas",null)),mt(Lt.getChildren(),gt)}function vr(Lt){return function(gt,ut){var Mt=Lt(gt,ut);return Mt===0?gt[me]-ut[me]:Mt}}var qe=function(Lt){(0,lt.__extends)(gt,Lt);function gt(){return Lt!==null&&Lt.apply(this,arguments)||this}return gt.prototype.isCanvas=function(){return!1},gt.prototype.getBBox=function(){var ut=Infinity,Mt=-Infinity,Xt=Infinity,ie=-Infinity,ve=[],be=[],we=this.getChildren().filter(function($e){return $e.get("visible")&&(!$e.isGroup()||$e.isGroup()&&$e.getChildren().length>0)});we.length>0?((0,at.default)(we,function($e){var tr=$e.getBBox();ve.push(tr.minX,tr.maxX),be.push(tr.minY,tr.maxY)}),ut=Math.min.apply(null,ve),Mt=Math.max.apply(null,ve),Xt=Math.min.apply(null,be),ie=Math.max.apply(null,be)):(ut=0,Mt=0,Xt=0,ie=0);var He={x:ut,y:Xt,minX:ut,minY:Xt,maxX:Mt,maxY:ie,width:Mt-ut,height:ie-Xt};return He},gt.prototype.getCanvasBBox=function(){var ut=Infinity,Mt=-Infinity,Xt=Infinity,ie=-Infinity,ve=[],be=[],we=this.getChildren().filter(function($e){return $e.get("visible")&&(!$e.isGroup()||$e.isGroup()&&$e.getChildren().length>0)});we.length>0?((0,at.default)(we,function($e){var tr=$e.getCanvasBBox();ve.push(tr.minX,tr.maxX),be.push(tr.minY,tr.maxY)}),ut=Math.min.apply(null,ve),Mt=Math.max.apply(null,ve),Xt=Math.min.apply(null,be),ie=Math.max.apply(null,be)):(ut=0,Mt=0,Xt=0,ie=0);var He={x:ut,y:Xt,minX:ut,minY:Xt,maxX:Mt,maxY:ie,width:Mt-ut,height:ie-Xt};return He},gt.prototype.getDefaultCfg=function(){var ut=Lt.prototype.getDefaultCfg.call(this);return ut.children=[],ut},gt.prototype.onAttrChange=function(ut,Mt,Xt){if(Lt.prototype.onAttrChange.call(this,ut,Mt,Xt),ut==="matrix"){var ie=this.getTotalMatrix();this._applyChildrenMarix(ie)}},gt.prototype.applyMatrix=function(ut){var Mt=this.getTotalMatrix();Lt.prototype.applyMatrix.call(this,ut);var Xt=this.getTotalMatrix();Xt!==Mt&&this._applyChildrenMarix(Xt)},gt.prototype._applyChildrenMarix=function(ut){var Mt=this.getChildren();(0,at.default)(Mt,function(Xt){Xt.applyMatrix(ut)})},gt.prototype.addShape=function(){for(var ut=[],Mt=0;Mt<arguments.length;Mt++)ut[Mt]=arguments[Mt];var Xt=ut[0],ie=ut[1];(0,it.default)(Xt)?ie=Xt:ie.type=Xt;var ve=ge[ie.type];ve||(ve=(0,nt.default)(ie.type),ge[ie.type]=ve);var be=this.getShapeBase(),we=new be[ve](ie);return this.add(we),we},gt.prototype.addGroup=function(){for(var ut=[],Mt=0;Mt<arguments.length;Mt++)ut[Mt]=arguments[Mt];var Xt=ut[0],ie=ut[1],ve;if((0,et.default)(Xt))ie?ve=new Xt(ie):ve=new Xt({parent:this});else{var be=Xt||{},we=this.getGroupBase();ve=new we(be)}return this.add(ve),ve},gt.prototype.getCanvas=function(){var ut;return this.isCanvas()?ut=this:ut=this.get("canvas"),ut},gt.prototype.getShape=function(ut,Mt,Xt){if(!ce(this))return null;var ie=this.getChildren(),ve;if(this.isCanvas())ve=this._findShape(ie,ut,Mt,Xt);else{var be=[ut,Mt,1];be=this.invertFromMatrix(be),this.isClipped(be[0],be[1])||(ve=this._findShape(ie,be[0],be[1],Xt))}return ve},gt.prototype._findShape=function(ut,Mt,Xt,ie){for(var ve=null,be=ut.length-1;be>=0;be--){var we=ut[be];if(ce(we)&&(we.isGroup()?ve=we.getShape(Mt,Xt,ie):we.isHit(Mt,Xt)&&(ve=we)),ve)break}return ve},gt.prototype.add=function(ut){var Mt=this.getCanvas(),Xt=this.getChildren(),ie=this.get("timeline"),ve=ut.getParent();ve&&Te(ve,ut,!1),ut.set("parent",this),Mt&&Fe(ut,Mt),ie&&Ne(ut,ie),Xt.push(ut),ke(ut),this._applyElementMatrix(ut)},gt.prototype._applyElementMatrix=function(ut){var Mt=this.getTotalMatrix();Mt&&ut.applyMatrix(Mt)},gt.prototype.getChildren=function(){return this.get("children")},gt.prototype.sort=function(){var ut=this.getChildren();(0,at.default)(ut,function(Mt,Xt){return Mt[me]=Xt,Mt}),ut.sort(vr(function(Mt,Xt){return Mt.get("zIndex")-Xt.get("zIndex")})),this.onCanvasChange("sort")},gt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var ut=this.getChildren(),Mt=ut.length-1;Mt>=0;Mt--)ut[Mt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},gt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Lt.prototype.destroy.call(this))},gt.prototype.getFirst=function(){return this.getChildByIndex(0)},gt.prototype.getLast=function(){var ut=this.getChildren();return this.getChildByIndex(ut.length-1)},gt.prototype.getChildByIndex=function(ut){var Mt=this.getChildren();return Mt[ut]},gt.prototype.getCount=function(){var ut=this.getChildren();return ut.length},gt.prototype.contain=function(ut){var Mt=this.getChildren();return Mt.indexOf(ut)>-1},gt.prototype.removeChild=function(ut,Mt){Mt===void 0&&(Mt=!0),this.contain(ut)&&ut.remove(Mt)},gt.prototype.findAll=function(ut){var Mt=[],Xt=this.getChildren();return(0,at.default)(Xt,function(ie){ut(ie)&&Mt.push(ie),ie.isGroup()&&(Mt=Mt.concat(ie.findAll(ut)))}),Mt},gt.prototype.find=function(ut){var Mt=null,Xt=this.getChildren();return(0,at.default)(Xt,function(ie){if(ut(ie)?Mt=ie:ie.isGroup()&&(Mt=ie.find(ut)),Mt)return!1}),Mt},gt.prototype.findById=function(ut){return this.find(function(Mt){return Mt.get("id")===ut})},gt.prototype.findByClassName=function(ut){return this.find(function(Mt){return Mt.get("className")===ut})},gt.prototype.findAllByName=function(ut){return this.findAll(function(Mt){return Mt.get("name")===ut})},gt}(se),yr=qe,Lr=0,wr=0,kr=0,Br=1e3,Nr,gr,Vr=0,Qr=0,zr=0,tn=typeof performance=="object"&&performance.now?performance:Date,cn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Lt){setTimeout(Lt,17)};function Bt(){return Qr||(cn(Ht),Qr=tn.now()+zr)}function Ht(){Qr=0}function ct(){this._call=this._time=this._next=null}ct.prototype=R.prototype={constructor:ct,restart:function(Lt,gt,ut){if(typeof Lt!="function")throw new TypeError("callback is not a function");ut=(ut==null?Bt():+ut)+(gt==null?0:+gt),!this._next&&gr!==this&&(gr?gr._next=this:Nr=this,gr=this),this._call=Lt,this._time=ut,Nt()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Nt())}};function R(Lt,gt,ut){var Mt=new ct;return Mt.restart(Lt,gt,ut),Mt}function N(){Bt(),++Lr;for(var Lt=Nr,gt;Lt;)(gt=Qr-Lt._time)>=0&&Lt._call.call(null,gt),Lt=Lt._next;--Lr}function j(){Qr=(Vr=tn.now())+zr,Lr=wr=0;try{N()}finally{Lr=0,jt(),Qr=0}}function _t(){var Lt=tn.now(),gt=Lt-Vr;gt>Br&&(zr-=gt,Vr=Lt)}function jt(){for(var Lt,gt=Nr,ut,Mt=Infinity;gt;)gt._call?(Mt>gt._time&&(Mt=gt._time),Lt=gt,gt=gt._next):(ut=gt._next,gt._next=null,gt=Lt?Lt._next=ut:Nr=ut);gr=Lt,Nt(Mt)}function Nt(Lt){if(!Lr){wr&&(wr=clearTimeout(wr));var gt=Lt-Qr;gt>24?(Lt<Infinity&&(wr=setTimeout(j,Lt-tn.now()-zr)),kr&&(kr=clearInterval(kr))):(kr||(Vr=tn.now(),kr=setInterval(_t,Br)),Lr=1,cn(j))}}var Ut=v(13681),Se=v(21775),Me=v(88122),Oe=function(Lt){return["fill","stroke","fillStyle","strokeStyle"].includes(Lt)},ir=function(Lt){return/^[r,R,L,l]{1}[\s]*\(/.test(Lt)},We=[1,0,0,0,1,0,0,0,1];function Cr(Lt,gt,ut){var Mt={},Xt=gt.fromAttrs,ie=gt.toAttrs;if(!Lt.destroyed){var ve;for(var be in ie)if(!(0,O.isEqual)(Xt[be],ie[be]))if(be==="path"){var we=ie[be],He=Xt[be];we.length>He.length?(we=A(ie[be]),He=A(Xt[be]),He=u(He,we),He=X(He,we),gt.fromAttrs.path=He,gt.toAttrs.path=we):gt.pathFormatted||(we=A(ie[be]),He=A(Xt[be]),He=X(He,we),gt.fromAttrs.path=He,gt.toAttrs.path=we,gt.pathFormatted=!0),Mt[be]=[];for(var $e=0;$e<we.length;$e++){for(var tr=we[$e],Pr=He[$e],rr=[],Je=0;Je<tr.length;Je++)(0,O.isNumber)(tr[Je])&&Pr&&(0,O.isNumber)(Pr[Je])?(ve=(0,Se.Z)(Pr[Je],tr[Je]),rr.push(ve(ut))):rr.push(tr[Je]);Mt[be].push(rr)}}else if(be==="matrix"){var Xr=(0,Me.Z)(Xt[be]||We,ie[be]||We),Yr=Xr(ut);Mt[be]=Yr}else Oe(be)&&ir(ie[be])?Mt[be]=ie[be]:(0,O.isFunction)(ie[be])||(ve=(0,Se.Z)(Xt[be],ie[be]),Mt[be]=ve(ut));Lt.attr(Mt)}}function en(Lt,gt,ut){var Mt=gt.startTime,Xt=gt.delay;if(ut<Mt+Xt||gt._paused)return!1;var ie,ve=gt.duration,be=gt.easing;if(ut=ut-Mt-gt.delay,gt.repeat)ie=ut%ve/ve,ie=Ut[be](ie);else if(ie=ut/ve,ie<1)ie=Ut[be](ie);else return gt.onFrame?Lt.attr(gt.onFrame(1)):Lt.attr(gt.toAttrs),!0;if(gt.onFrame){var we=gt.onFrame(ie);Lt.attr(we)}else Cr(Lt,gt,ie);return!1}var Be=function(){function Lt(gt){this.animators=[],this.current=0,this.timer=null,this.canvas=gt}return Lt.prototype.initTimer=function(){var gt=this,ut=!1,Mt,Xt,ie;this.timer=R(function(ve){if(gt.current=ve,gt.animators.length>0){for(var be=gt.animators.length-1;be>=0;be--){if(Mt=gt.animators[be],Mt.destroyed){gt.removeAnimator(be);continue}if(!Mt.isAnimatePaused()){Xt=Mt.get("animations");for(var we=Xt.length-1;we>=0;we--)ie=Xt[we],ut=en(Mt,ie,ve),ut&&(Xt.splice(we,1),ut=!1,ie.callback&&ie.callback())}Xt.length===0&&gt.removeAnimator(be)}var He=gt.canvas.get("autoDraw");He||gt.canvas.draw()}})},Lt.prototype.addAnimator=function(gt){this.animators.push(gt)},Lt.prototype.removeAnimator=function(gt){this.animators.splice(gt,1)},Lt.prototype.isAnimating=function(){return!!this.animators.length},Lt.prototype.stop=function(){this.timer&&this.timer.stop()},Lt.prototype.stopAllAnimations=function(gt){gt===void 0&&(gt=!0),this.animators.forEach(function(ut){ut.stopAnimate(gt)}),this.animators=[],this.canvas.draw()},Lt.prototype.getTime=function(){return this.current},Lt}(),Ue=Be,pr=40,Qt=0,Yt=":",ae=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function xe(Lt,gt){for(var ut in Lt)if(Lt.hasOwnProperty(ut)&&ut.indexOf(Yt+gt)>=0)return!0;return!1}function Le(Lt,gt,ut){ut.name=gt,ut.target=Lt,ut.currentTarget=Lt,ut.delegateTarget=Lt,Lt.emit(gt,ut)}function Ke(Lt,gt,ut){if(ut.bubbles){var Mt=void 0,Xt=!1;if(gt==="mouseenter"?(Mt=ut.fromShape,Xt=!0):gt==="mouseleave"&&(Xt=!0,Mt=ut.toShape),Lt.isCanvas()&&Xt)return;if(Mt&&ee(Lt,Mt)){ut.bubbles=!1;return}ut.name=gt,ut.currentTarget=Lt,ut.delegateTarget=Lt,Lt.emit(gt,ut)}}var ur=function(){function Lt(gt){var ut=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Mt){var Xt=Mt.type;ut._triggerEvent(Xt,Mt)},this._onDocumentMove=function(Mt){var Xt=ut.canvas,ie=Xt.get("el");if(ie!==Mt.target&&(ut.dragging||ut.currentShape)){var ve=ut._getPointInfo(Mt);ut.dragging&&ut._emitEvent("drag",Mt,ve,ut.draggingShape)}},this._onDocumentMouseUp=function(Mt){var Xt=ut.canvas,ie=Xt.get("el");if(ie!==Mt.target&&ut.dragging){var ve=ut._getPointInfo(Mt);ut.draggingShape&&ut._emitEvent("drop",Mt,ve,null),ut._emitEvent("dragend",Mt,ve,ut.draggingShape),ut._afterDrag(ut.draggingShape,ve,Mt)}},this.canvas=gt.canvas}return Lt.prototype.init=function(){this._bindEvents()},Lt.prototype._bindEvents=function(){var gt=this,ut=this.canvas.get("el");(0,at.default)(ae,function(Mt){ut.addEventListener(Mt,gt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Lt.prototype._clearEvents=function(){var gt=this,ut=this.canvas.get("el");(0,at.default)(ae,function(Mt){ut.removeEventListener(Mt,gt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Lt.prototype._getEventObj=function(gt,ut,Mt,Xt,ie,ve){var be=new J(gt,ut);return be.fromShape=ie,be.toShape=ve,be.x=Mt.x,be.y=Mt.y,be.clientX=Mt.clientX,be.clientY=Mt.clientY,be.propagationPath.push(Xt),be},Lt.prototype._getShape=function(gt,ut){return this.canvas.getShape(gt.x,gt.y,ut)},Lt.prototype._getPointInfo=function(gt){var ut=this.canvas,Mt=ut.getClientByEvent(gt),Xt=ut.getPointByEvent(gt);return{x:Xt.x,y:Xt.y,clientX:Mt.x,clientY:Mt.y}},Lt.prototype._triggerEvent=function(gt,ut){var Mt=this._getPointInfo(ut),Xt=this._getShape(Mt,ut),ie=this["_on"+gt],ve=!1;if(ie)ie.call(this,Mt,Xt,ut);else{var be=this.currentShape;gt==="mouseenter"||gt==="dragenter"||gt==="mouseover"?(this._emitEvent(gt,ut,Mt,null,null,Xt),Xt&&this._emitEvent(gt,ut,Mt,Xt,null,Xt),gt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",ut,Mt,null)):gt==="mouseleave"||gt==="dragleave"||gt==="mouseout"?(ve=!0,be&&this._emitEvent(gt,ut,Mt,be,be,null),this._emitEvent(gt,ut,Mt,null,be,null),gt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",ut,Mt,null)):this._emitEvent(gt,ut,Mt,Xt,null,null)}if(ve||(this.currentShape=Xt),Xt&&!Xt.get("destroyed")){var we=this.canvas,He=we.get("el");He.style.cursor=Xt.attr("cursor")||we.get("cursor")}},Lt.prototype._onmousedown=function(gt,ut,Mt){Mt.button===Qt&&(this.mousedownShape=ut,this.mousedownPoint=gt,this.mousedownTimeStamp=Mt.timeStamp),this._emitEvent("mousedown",Mt,gt,ut,null,null)},Lt.prototype._emitMouseoverEvents=function(gt,ut,Mt,Xt){var ie=this.canvas.get("el");Mt!==Xt&&(Mt&&(this._emitEvent("mouseout",gt,ut,Mt,Mt,Xt),this._emitEvent("mouseleave",gt,ut,Mt,Mt,Xt),(!Xt||Xt.get("destroyed"))&&(ie.style.cursor=this.canvas.get("cursor"))),Xt&&(this._emitEvent("mouseover",gt,ut,Xt,Mt,Xt),this._emitEvent("mouseenter",gt,ut,Xt,Mt,Xt)))},Lt.prototype._emitDragoverEvents=function(gt,ut,Mt,Xt,ie){Xt?(Xt!==Mt&&(Mt&&this._emitEvent("dragleave",gt,ut,Mt,Mt,Xt),this._emitEvent("dragenter",gt,ut,Xt,Mt,Xt)),ie||this._emitEvent("dragover",gt,ut,Xt)):Mt&&this._emitEvent("dragleave",gt,ut,Mt,Mt,Xt),ie&&this._emitEvent("dragover",gt,ut,Xt)},Lt.prototype._afterDrag=function(gt,ut,Mt){gt&&(gt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Xt=this._getShape(ut,Mt);Xt!==gt&&this._emitMouseoverEvents(Mt,ut,gt,Xt),this.currentShape=Xt},Lt.prototype._onmouseup=function(gt,ut,Mt){if(Mt.button===Qt){var Xt=this.draggingShape;this.dragging?(Xt&&this._emitEvent("drop",Mt,gt,ut),this._emitEvent("dragend",Mt,gt,Xt),this._afterDrag(Xt,gt,Mt)):(this._emitEvent("mouseup",Mt,gt,ut),ut===this.mousedownShape&&this._emitEvent("click",Mt,gt,ut),this.mousedownShape=null,this.mousedownPoint=null)}},Lt.prototype._ondragover=function(gt,ut,Mt){Mt.preventDefault();var Xt=this.currentShape;this._emitDragoverEvents(Mt,gt,Xt,ut,!0)},Lt.prototype._onmousemove=function(gt,ut,Mt){var Xt=this.canvas,ie=this.currentShape,ve=this.draggingShape;if(this.dragging)ve&&this._emitDragoverEvents(Mt,gt,ie,ut,!1),this._emitEvent("drag",Mt,gt,ve);else{var be=this.mousedownPoint;if(be){var we=this.mousedownShape,He=Mt.timeStamp,$e=He-this.mousedownTimeStamp,tr=be.clientX-gt.clientX,Pr=be.clientY-gt.clientY,rr=tr*tr+Pr*Pr;$e>120||rr>pr?we&&we.get("draggable")?(ve=this.mousedownShape,ve.set("capture",!1),this.draggingShape=ve,this.dragging=!0,this._emitEvent("dragstart",Mt,gt,ve),this.mousedownShape=null,this.mousedownPoint=null):!we&&Xt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Mt,gt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Mt,gt,ie,ut),this._emitEvent("mousemove",Mt,gt,ut)):(this._emitMouseoverEvents(Mt,gt,ie,ut),this._emitEvent("mousemove",Mt,gt,ut))}else this._emitMouseoverEvents(Mt,gt,ie,ut),this._emitEvent("mousemove",Mt,gt,ut)}},Lt.prototype._emitEvent=function(gt,ut,Mt,Xt,ie,ve){var be=this._getEventObj(gt,ut,Mt,Xt,ie,ve);if(Xt){be.shape=Xt,Le(Xt,gt,be);for(var we=Xt.getParent();we;)we.emitDelegation(gt,be),be.propagationStopped||Ke(we,gt,be),be.propagationPath.push(we),we=we.getParent()}else{var He=this.canvas;Le(He,gt,be)}},Lt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Lt}(),dr=ur,ar="px",gn=(0,Ie.detect)(),_n=gn&&gn.name==="firefox",Wt=function(Lt){(0,lt.__extends)(gt,Lt);function gt(ut){var Mt=Lt.call(this,ut)||this;return Mt.initContainer(),Mt.initDom(),Mt.initEvents(),Mt.initTimeline(),Mt}return gt.prototype.getDefaultCfg=function(){var ut=Lt.prototype.getDefaultCfg.call(this);return ut.cursor="default",ut.supportCSSTransform=!1,ut},gt.prototype.initContainer=function(){var ut=this.get("container");(0,Ct.default)(ut)&&(ut=document.getElementById(ut),this.set("container",ut))},gt.prototype.initDom=function(){var ut=this.createDom();this.set("el",ut);var Mt=this.get("container");Mt.appendChild(ut),this.setDOMSize(this.get("width"),this.get("height"))},gt.prototype.initEvents=function(){var ut=new dr({canvas:this});ut.init(),this.set("eventController",ut)},gt.prototype.initTimeline=function(){var ut=new Ue(this);this.set("timeline",ut)},gt.prototype.setDOMSize=function(ut,Mt){var Xt=this.get("el");Dt&&(Xt.style.width=ut+ar,Xt.style.height=Mt+ar)},gt.prototype.changeSize=function(ut,Mt){this.setDOMSize(ut,Mt),this.set("width",ut),this.set("height",Mt),this.onCanvasChange("changeSize")},gt.prototype.getRenderer=function(){return this.get("renderer")},gt.prototype.getCursor=function(){return this.get("cursor")},gt.prototype.setCursor=function(ut){this.set("cursor",ut);var Mt=this.get("el");Dt&&Mt&&(Mt.style.cursor=ut)},gt.prototype.getPointByEvent=function(ut){var Mt=this.get("supportCSSTransform");if(Mt){if(_n&&!(0,bt.default)(ut.layerX)&&ut.layerX!==ut.offsetX)return{x:ut.layerX,y:ut.layerY};if(!(0,bt.default)(ut.offsetX))return{x:ut.offsetX,y:ut.offsetY}}var Xt=this.getClientByEvent(ut),ie=Xt.x,ve=Xt.y;return this.getPointByClient(ie,ve)},gt.prototype.getClientByEvent=function(ut){var Mt=ut;return ut.touches&&(ut.type==="touchend"?Mt=ut.changedTouches[0]:Mt=ut.touches[0]),{x:Mt.clientX,y:Mt.clientY}},gt.prototype.getPointByClient=function(ut,Mt){var Xt=this.get("el"),ie=Xt.getBoundingClientRect();return{x:ut-ie.left,y:Mt-ie.top}},gt.prototype.getClientByPoint=function(ut,Mt){var Xt=this.get("el"),ie=Xt.getBoundingClientRect();return{x:ut+ie.left,y:Mt+ie.top}},gt.prototype.draw=function(){},gt.prototype.removeDom=function(){var ut=this.get("el");ut.parentNode.removeChild(ut)},gt.prototype.clearEvents=function(){var ut=this.get("eventController");ut.destroy()},gt.prototype.isCanvas=function(){return!0},gt.prototype.getParent=function(){return null},gt.prototype.destroy=function(){var ut=this.get("timeline");this.get("destroyed")||(this.clear(),ut&&ut.stop(),this.clearEvents(),this.removeDom(),Lt.prototype.destroy.call(this))},gt}(yr),ne=Wt,fe=function(Lt){(0,lt.__extends)(gt,Lt);function gt(){return Lt!==null&&Lt.apply(this,arguments)||this}return gt.prototype.isGroup=function(){return!0},gt.prototype.isEntityGroup=function(){return!1},gt.prototype.clone=function(){for(var ut=Lt.prototype.clone.call(this),Mt=this.getChildren(),Xt=0;Xt<Mt.length;Xt++){var ie=Mt[Xt];ut.add(ie.clone())}return ut},gt}(yr),Ce=fe,Ae=function(Lt){(0,lt.__extends)(gt,Lt);function gt(ut){return Lt.call(this,ut)||this}return gt.prototype._isInBBox=function(ut,Mt){var Xt=this.getBBox();return Xt.minX<=ut&&Xt.maxX>=ut&&Xt.minY<=Mt&&Xt.maxY>=Mt},gt.prototype.afterAttrsChange=function(ut){Lt.prototype.afterAttrsChange.call(this,ut),this.clearCacheBBox()},gt.prototype.getBBox=function(){var ut=this.get("bbox");return ut||(ut=this.calculateBBox(),this.set("bbox",ut)),ut},gt.prototype.getCanvasBBox=function(){var ut=this.get("canvasBox");return ut||(ut=this.calculateCanvasBBox(),this.set("canvasBox",ut)),ut},gt.prototype.applyMatrix=function(ut){Lt.prototype.applyMatrix.call(this,ut),this.set("canvasBox",null)},gt.prototype.calculateCanvasBBox=function(){var ut=this.getBBox(),Mt=this.getTotalMatrix(),Xt=ut.minX,ie=ut.minY,ve=ut.maxX,be=ut.maxY;if(Mt){var we=lr(Mt,[ut.minX,ut.minY]),He=lr(Mt,[ut.maxX,ut.minY]),$e=lr(Mt,[ut.minX,ut.maxY]),tr=lr(Mt,[ut.maxX,ut.maxY]);Xt=Math.min(we[0],He[0],$e[0],tr[0]),ve=Math.max(we[0],He[0],$e[0],tr[0]),ie=Math.min(we[1],He[1],$e[1],tr[1]),be=Math.max(we[1],He[1],$e[1],tr[1])}var Pr=this.attrs;if(Pr.shadowColor){var rr=Pr.shadowBlur,Je=rr===void 0?0:rr,Xr=Pr.shadowOffsetX,Yr=Xr===void 0?0:Xr,$r=Pr.shadowOffsetY,sn=$r===void 0?0:$r,Rr=Xt-Je+Yr,Sr=ve+Je+Yr,ln=ie-Je+sn,kn=be+Je+sn;Xt=Math.min(Xt,Rr),ve=Math.max(ve,Sr),ie=Math.min(ie,ln),be=Math.max(be,kn)}return{x:Xt,y:ie,minX:Xt,minY:ie,maxX:ve,maxY:be,width:ve-Xt,height:be-ie}},gt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},gt.prototype.isClipShape=function(){return this.get("isClipShape")},gt.prototype.isInShape=function(ut,Mt){return!1},gt.prototype.isOnlyHitBox=function(){return!1},gt.prototype.isHit=function(ut,Mt){var Xt=this.get("startArrowShape"),ie=this.get("endArrowShape"),ve=[ut,Mt,1];ve=this.invertFromMatrix(ve);var be=ve[0],we=ve[1],He=this._isInBBox(be,we);return this.isOnlyHitBox()?He:!!(He&&!this.isClipped(be,we)&&(this.isInShape(be,we)||Xt&&Xt.isHit(be,we)||ie&&ie.isHit(be,we)))},gt}(se),Ye=Ae,cr=v(76062),sr=cr.version},40455:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(x){var O=x.attr(),k=O.x,_=O.y,T=O.r;return{x:k-T,y:_-T,width:T*2,height:T*2}}S.default=v},27633:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(x){var O=x.attr(),k=O.x,_=O.y,T=O.rx,A=O.ry;return{x:k-T,y:_-A,width:T*2,height:A*2}}S.default=v},41056:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(28648);S.b=O.getMethod;var k=v(3541),_=v(40455),T=v(10687),A=v(19914),C=v(92933),E=v(89372),g=v(74461),w=v(27633);O.register("rect",k.default),O.register("image",k.default),O.register("circle",_.default),O.register("marker",_.default),O.register("polyline",T.default),O.register("polygon",A.default),O.register("text",C.default),O.register("path",E.default),O.register("line",g.default),O.register("ellipse",w.default)},74461:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(3406);function O(k){var _=k.attr(),T=_.x1,A=_.y1,C=_.x2,E=_.y2,g=Math.min(T,C),w=Math.max(T,C),y=Math.min(A,E),m=Math.max(A,E),p={minX:g,maxX:w,minY:y,maxY:m};return p=x.mergeArrowBBox(k,p),{x:p.minX,y:p.minY,width:p.maxX-p.minX,height:p.maxY-p.minY}}S.default=O},89372:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(2879),O=v(15730),k=v(33418),_=v(49274),T=v(39984),A=v(3406);function C(w,y){for(var m=[],p=[],M=[],P=0;P<w.length;P++){var B=w[P],F=B.currentPoint,W=B.params,Q=B.prePoint,H=void 0;switch(B.command){case"Q":H=x.default.box(Q[0],Q[1],W[1],W[2],W[3],W[4]);break;case"C":H=O.default.box(Q[0],Q[1],W[1],W[2],W[3],W[4],W[5],W[6]);break;case"A":var Z=B.arcParams;H=k.default.box(Z.cx,Z.cy,Z.rx,Z.ry,Z.xRotation,Z.startAngle,Z.endAngle);break;default:m.push(F[0]),p.push(F[1]);break}H&&(B.box=H,m.push(H.x,H.x+H.width),p.push(H.y,H.y+H.height)),y&&(B.command==="L"||B.command==="M")&&B.prePoint&&B.nextPoint&&M.push(B)}m=m.filter(function(Tt){return!Number.isNaN(Tt)}),p=p.filter(function(Tt){return!Number.isNaN(Tt)});var ot=Math.min.apply(null,m),rt=Math.min.apply(null,p),At=Math.max.apply(null,m),pt=Math.max.apply(null,p);if(M.length===0)return{x:ot,y:rt,width:At-ot,height:pt-rt};for(var P=0;P<M.length;P++){var B=M[P],F=B.currentPoint,Ft=void 0;F[0]===ot?(Ft=E(B,y),ot=ot-Ft.xExtra):F[0]===At&&(Ft=E(B,y),At=At+Ft.xExtra),F[1]===rt?(Ft=E(B,y),rt=rt-Ft.yExtra):F[1]===pt&&(Ft=E(B,y),pt=pt+Ft.yExtra)}return{x:ot,y:rt,width:At-ot,height:pt-rt}}function E(w,y){var m=w.prePoint,p=w.currentPoint,M=w.nextPoint,P=Math.pow(p[0]-m[0],2)+Math.pow(p[1]-m[1],2),B=Math.pow(p[0]-M[0],2)+Math.pow(p[1]-M[1],2),F=Math.pow(m[0]-M[0],2)+Math.pow(m[1]-M[1],2),W=Math.acos((P+B-F)/(2*Math.sqrt(P)*Math.sqrt(B)));if(!W||Math.sin(W)===0||T.default(W,0))return{xExtra:0,yExtra:0};var Q=Math.abs(Math.atan2(M[1]-p[1],M[0]-p[0])),H=Math.abs(Math.atan2(M[0]-p[0],M[1]-p[1]));Q=Q>Math.PI/2?Math.PI-Q:Q,H=H>Math.PI/2?Math.PI-H:H;var Z={xExtra:Math.cos(W/2-Q)*(y/2*(1/Math.sin(W/2)))-y/2||0,yExtra:Math.cos(H-W/2)*(y/2*(1/Math.sin(W/2)))-y/2||0};return Z}function g(w){var y=w.attr(),m=y.path,p=y.stroke,M=p?y.lineWidth:0,P=w.get("segments")||_.default(m),B=C(P,M),F=B.x,W=B.y,Q=B.width,H=B.height,Z={minX:F,minY:W,maxX:F+Q,maxY:W+H};return Z=A.mergeArrowBBox(w,Z),{x:Z.minX,y:Z.minY,width:Z.maxX-Z.minX,height:Z.maxY-Z.minY}}S.default=g},19914:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(76256);function O(k){for(var _=k.attr(),T=_.points,A=[],C=[],E=0;E<T.length;E++){var g=T[E];A.push(g[0]),C.push(g[1])}return x.getBBoxByArray(A,C)}S.default=O},10687:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(76256),O=v(3406);function k(_){for(var T=_.attr(),A=T.points,C=[],E=[],g=0;g<A.length;g++){var w=A[g];C.push(w[0]),E.push(w[1])}var y=x.getBBoxByArray(C,E),m=y.x,p=y.y,M=y.width,P=y.height,B={minX:m,minY:p,maxX:m+M,maxY:p+P};return B=O.mergeArrowBBox(_,B),{x:B.minX,y:B.minY,width:B.maxX-B.minX,height:B.maxY-B.minY}}S.default=k},3541:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(x){var O=x.attr(),k=O.x,_=O.y,T=O.width,A=O.height;return{x:k,y:_,width:T,height:A}}S.default=v},28648:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=new Map;function x(k,_){v.set(k,_)}S.register=x;function O(k){return v.get(k)}S.getMethod=O},92933:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(8914);function O(k){var _=k.attr(),T=_.x,A=_.y,C=_.text,E=_.fontSize,g=_.lineHeight,w=_.font;w||(w=x.assembleFont(_));var y=x.getTextWidth(C,w),m;if(!y)m={x:T,y:A,width:0,height:0};else{var p=_.textAlign,M=_.textBaseline,P=x.getTextHeight(C,E,g),B={x:T,y:A-P};p&&(p==="end"||p==="right"?B.x-=y:p==="center"&&(B.x-=y/2)),M&&(M==="top"?B.y+=P:M==="middle"&&(B.y+=P/2)),m={x:B.x,y:B.y,width:y,height:P}}return m}S.default=O},3406:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(O,k){return!O||!k?O||k:{minX:Math.min(O.minX,k.minX),minY:Math.min(O.minY,k.minY),maxX:Math.max(O.maxX,k.maxX),maxY:Math.max(O.maxY,k.maxY)}}S.mergeBBox=v;function x(O,k){var _=O.get("startArrowShape"),T=O.get("endArrowShape"),A=null,C=null;return _&&(A=_.getCanvasBBox(),k=v(k,A)),T&&(C=T.getCanvasBBox(),k=v(k,C)),k}S.mergeArrowBBox=x},66192:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(){function x(O,k){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=k,this.timeStamp=k.timeStamp}return x.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},x.prototype.stopPropagation=function(){this.propagationStopped=!0},x.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},x.prototype.save=function(){},x.prototype.restore=function(){},x}();S.default=v},85424:function(ft,S){"use strict";var v;v={value:!0}},4555:function(ft,S){"use strict";Object.defineProperty(S,"X",{value:!0})},6052:function(ft,S){"use strict";var v;v={value:!0};function x(_,T){var A=[],C=_[0],E=_[1],g=_[2],w=_[3],y=_[4],m=_[5],p=_[6],M=_[7],P=_[8],B=T[0],F=T[1],W=T[2],Q=T[3],H=T[4],Z=T[5],ot=T[6],rt=T[7],At=T[8];return A[0]=B*C+F*w+W*p,A[1]=B*E+F*y+W*M,A[2]=B*g+F*m+W*P,A[3]=Q*C+H*w+Z*p,A[4]=Q*E+H*y+Z*M,A[5]=Q*g+H*m+Z*P,A[6]=ot*C+rt*w+At*p,A[7]=ot*E+rt*y+At*M,A[8]=ot*g+rt*m+At*P,A}v=x;function O(_,T){var A=[],C=T[0],E=T[1];return A[0]=_[0]*C+_[3]*E+_[6],A[1]=_[1]*C+_[4]*E+_[7],A}S.rG=O;function k(_){var T=[],A=_[0],C=_[1],E=_[2],g=_[3],w=_[4],y=_[5],m=_[6],p=_[7],M=_[8],P=M*w-y*p,B=-M*g+y*m,F=p*g-w*m,W=A*P+C*B+E*F;return W?(W=1/W,T[0]=P*W,T[1]=(-M*C+E*p)*W,T[2]=(y*C-E*w)*W,T[3]=B*W,T[4]=(M*A-E*m)*W,T[5]=(-y*A+E*g)*W,T[6]=F*W,T[7]=(-p*A+C*m)*W,T[8]=(w*A-C*g)*W,T):null}S.U_=k},26632:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=null;function x(){if(!v){var O=document.createElement("canvas");O.width=1,O.height=1,v=O.getContext("2d")}return v}S.getOffScreenContext=x},8914:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(22487),O=v(26632);function k(C,E,g){var w=1;if(x.isString(C)&&(w=C.split(`
`).length),w>1){var y=_(E,g);return E*w+y*(w-1)}return E}S.getTextHeight=k;function _(C,E){return E?E-C:C*.14}S.getLineSpaceing=_;function T(C,E){var g=O.getOffScreenContext(),w=0;if(x.isNil(C)||C==="")return w;if(g.save(),g.font=E,x.isString(C)&&C.includes(`
`)){var y=C.split(`
`);x.each(y,function(m){var p=g.measureText(m).width;w<p&&(w=p)})}else w=g.measureText(C).width;return g.restore(),w}S.getTextWidth=T;function A(C){var E=C.fontSize,g=C.fontFamily,w=C.fontWeight,y=C.fontStyle,m=C.fontVariant;return[y,m,w,E+"px",g].join(" ").trim()}S.assembleFont=A},22487:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function x(m,p){var M=m.indexOf(p);M!==-1&&m.splice(M,1)}S.removeFromArray=x,S.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var O=v(73890);S.isNil=O.default;var k=v(46812);S.isFunction=k.default;var _=v(21830);S.isString=_.default;var T=v(33643);S.isObject=T.default;var A=v(66631);S.isArray=A.default;var C=v(66974);S.mix=C.default;var E=v(27154);S.each=E.default;var g=v(85260);S.upperFirst=g.default;function w(m,p){if(m.isCanvas())return!0;for(var M=p.getParent(),P=!1;M;){if(M===m){P=!0;break}M=M.getParent()}return P}S.isParent=w;function y(m){return m.cfg.visible&&m.cfg.capture}S.isAllowCapture=y},76062:function(ft){"use strict";ft.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},84909:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(48465);function k(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function _(C,E){return k(C)*k(E)?(C[0]*E[0]+C[1]*E[1])/(k(C)*k(E)):1}function T(C,E){return(C[0]*E[1]<C[1]*E[0]?-1:1)*Math.acos(_(C,E))}function A(C,E){var g=E[1],w=E[2],y=O.mod(O.toRadian(E[3]),Math.PI*2),m=E[4],p=E[5],M=C[0],P=C[1],B=E[6],F=E[7],W=Math.cos(y)*(M-B)/2+Math.sin(y)*(P-F)/2,Q=-1*Math.sin(y)*(M-B)/2+Math.cos(y)*(P-F)/2,H=W*W/(g*g)+Q*Q/(w*w);H>1&&(g*=Math.sqrt(H),w*=Math.sqrt(H));var Z=g*g*(Q*Q)+w*w*(W*W),ot=Z?Math.sqrt((g*g*(w*w)-Z)/Z):1;m===p&&(ot*=-1),isNaN(ot)&&(ot=0);var rt=w?ot*g*Q/w:0,At=g?ot*-w*W/g:0,pt=(M+B)/2+Math.cos(y)*rt-Math.sin(y)*At,Ft=(P+F)/2+Math.sin(y)*rt+Math.cos(y)*At,Tt=[(W-rt)/g,(Q-At)/w],Ot=[(-1*W-rt)/g,(-1*Q-At)/w],xt=T([1,0],Tt),ht=T(Tt,Ot);return _(Tt,Ot)<=-1&&(ht=Math.PI),_(Tt,Ot)>=1&&(ht=0),p===0&&ht>0&&(ht=ht-2*Math.PI),p===1&&ht<0&&(ht=ht+2*Math.PI),{cx:pt,cy:Ft,rx:O.isSamePoint(C,[B,F])?0:g,ry:O.isSamePoint(C,[B,F])?0:w,startAngle:xt,endAngle:xt+ht,xRotation:y,arcFlag:m,sweepFlag:p}}S.Z=A},48465:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function x(){return window?window.devicePixelRatio:1}S.getPixelRatio=x;function O(F,W,Q,H){var Z=F-Q,ot=W-H;return Math.sqrt(Z*Z+ot*ot)}S.distance=O;function k(F,W,Q,H,Z,ot){return Z>=F&&Z<=F+Q&&ot>=W&&ot<=W+H}S.inBox=k;function _(F,W){return!(W.minX>F.maxX||W.maxX<F.minX||W.minY>F.maxY||W.maxY<F.minY)}S.intersectRect=_;function T(F,W){return!F||!W?F||W:{minX:Math.min(F.minX,W.minX),minY:Math.min(F.minY,W.minY),maxX:Math.max(F.maxX,W.maxX),maxY:Math.max(F.maxY,W.maxY)}}S.mergeRegion=T;function A(F,W){return F[0]===W[0]&&F[1]===W[1]}S.isSamePoint=A;var C=v(73890);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return C.default}});var E=v(21830);Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return E.default}});var g=v(46812);Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return g.default}});var w=v(66631);Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return w.default}});var y=v(27154);Object.defineProperty(S,"each",{enumerable:!0,get:function(){return y.default}});var m=v(9217);Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return m.default}});var p=v(5253);Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return p.default}});var M=v(39984);Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return M.default}});var P=v(98229);Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return P.default}});var B=v(35755);Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return B.default}})},71270:function(ft){"use strict";ft.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.15","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":false,"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403"}')},89838:function(ft,S,v){"use strict";v.r(S),v.d(S,{Arc:function(){return u},Cubic:function(){return At},Line:function(){return g},Polygon:function(){return bt},Polyline:function(){return lt},Quad:function(){return W},Util:function(){return x}});var x={};v.r(x),v.d(x,{distance:function(){return k},getBBoxByArray:function(){return T},getBBoxRange:function(){return A},isNumberEqual:function(){return _},piMod:function(){return C}});var O=v(49242);function k(et,Ct,it,st){var St=et-it,at=Ct-st;return Math.sqrt(St*St+at*at)}function _(et,Ct){return Math.abs(et-Ct)<.001}function T(et,Ct){var it=(0,O.min)(et),st=(0,O.min)(Ct),St=(0,O.max)(et),at=(0,O.max)(Ct);return{x:it,y:st,width:St-it,height:at-st}}function A(et,Ct,it,st){return{minX:(0,O.min)([et,it]),maxX:(0,O.max)([et,it]),minY:(0,O.min)([Ct,st]),maxY:(0,O.max)([Ct,st])}}function C(et){return(et+Math.PI*2)%(Math.PI*2)}var E=v(31437),g={box:function(et,Ct,it,st){return T([et,it],[Ct,st])},length:function(et,Ct,it,st){return k(et,Ct,it,st)},pointAt:function(et,Ct,it,st,St){return{x:(1-St)*et+St*it,y:(1-St)*Ct+St*st}},pointDistance:function(et,Ct,it,st,St,at){var nt=(it-et)*(St-et)+(st-Ct)*(at-Ct);if(nt<0)return k(et,Ct,St,at);var mt=(it-et)*(it-et)+(st-Ct)*(st-Ct);return nt>mt?k(it,st,St,at):this.pointToLine(et,Ct,it,st,St,at)},pointToLine:function(et,Ct,it,st,St,at){var nt=[it-et,st-Ct];if(E.exactEquals(nt,[0,0]))return Math.sqrt((St-et)*(St-et)+(at-Ct)*(at-Ct));var mt=[-nt[1],nt[0]];E.normalize(mt,mt);var Dt=[St-et,at-Ct];return Math.abs(E.dot(Dt,mt))},tangentAngle:function(et,Ct,it,st){return Math.atan2(st-Ct,it-et)}},w=1e-4;function y(et,Ct,it,st,St,at){var nt,mt=Infinity,Dt=[it,st],ee=20;at&&at>200&&(ee=at/10);for(var ce=1/ee,le=ce/10,Xe=0;Xe<=ee;Xe++){var Ie=Xe*ce,Re=[St.apply(null,et.concat([Ie])),St.apply(null,Ct.concat([Ie]))],or=k(Dt[0],Dt[1],Re[0],Re[1]);or<mt&&(nt=Ie,mt=or)}if(nt===0)return{x:et[0],y:Ct[0]};if(nt===1){var lr=et.length;return{x:et[lr-1],y:Ct[lr-1]}}mt=Infinity;for(var Xe=0;Xe<32&&!(le<w);Xe++){var Ir=nt-le,Er=nt+le,Re=[St.apply(null,et.concat([Ir])),St.apply(null,Ct.concat([Ir]))],or=k(Dt[0],Dt[1],Re[0],Re[1]);if(Ir>=0&&or<mt)nt=Ir,mt=or;else{var on=[St.apply(null,et.concat([Er])),St.apply(null,Ct.concat([Er]))],In=k(Dt[0],Dt[1],on[0],on[1]);Er<=1&&In<mt?(nt=Er,mt=In):le*=.5}}return{x:St.apply(null,et.concat([nt])),y:St.apply(null,Ct.concat([nt]))}}function m(et,Ct){for(var it=0,st=et.length,St=0;St<st;St++){var at=et[St],nt=Ct[St],mt=et[(St+1)%st],Dt=Ct[(St+1)%st];it+=k(at,nt,mt,Dt)}return it/2}function p(et,Ct,it,st){var St=1-st;return St*St*et+2*st*St*Ct+st*st*it}function M(et,Ct,it){var st=et+it-2*Ct;if(_(st,0))return[.5];var St=(et-Ct)/st;return St<=1&&St>=0?[St]:[]}function P(et,Ct,it,st){return 2*(1-st)*(Ct-et)+2*st*(it-Ct)}function B(et,Ct,it,st,St,at,nt){var mt=p(et,it,St,nt),Dt=p(Ct,st,at,nt),ee=g.pointAt(et,Ct,it,st,nt),ce=g.pointAt(it,st,St,at,nt);return[[et,Ct,ee.x,ee.y,mt,Dt],[mt,Dt,ce.x,ce.y,St,at]]}function F(et,Ct,it,st,St,at,nt){if(nt===0)return(k(et,Ct,it,st)+k(it,st,St,at)+k(et,Ct,St,at))/2;var mt=B(et,Ct,it,st,St,at,.5),Dt=mt[0],ee=mt[1];return Dt.push(nt-1),ee.push(nt-1),F.apply(null,Dt)+F.apply(null,ee)}var W={box:function(et,Ct,it,st,St,at){var nt=M(et,it,St)[0],mt=M(Ct,st,at)[0],Dt=[et,St],ee=[Ct,at];return nt!==void 0&&Dt.push(p(et,it,St,nt)),mt!==void 0&&ee.push(p(Ct,st,at,mt)),T(Dt,ee)},length:function(et,Ct,it,st,St,at){return F(et,Ct,it,st,St,at,3)},nearestPoint:function(et,Ct,it,st,St,at,nt,mt){return y([et,it,St],[Ct,st,at],nt,mt,p)},pointDistance:function(et,Ct,it,st,St,at,nt,mt){var Dt=this.nearestPoint(et,Ct,it,st,St,at,nt,mt);return k(Dt.x,Dt.y,nt,mt)},interpolationAt:p,pointAt:function(et,Ct,it,st,St,at,nt){return{x:p(et,it,St,nt),y:p(Ct,st,at,nt)}},divide:function(et,Ct,it,st,St,at,nt){return B(et,Ct,it,st,St,at,nt)},tangentAngle:function(et,Ct,it,st,St,at,nt){var mt=P(et,it,St,nt),Dt=P(Ct,st,at,nt),ee=Math.atan2(Dt,mt);return C(ee)}};function Q(et,Ct,it,st,St){var at=1-St;return at*at*at*et+3*Ct*St*at*at+3*it*St*St*at+st*St*St*St}function H(et,Ct,it,st,St){var at=1-St;return 3*(at*at*(Ct-et)+2*at*St*(it-Ct)+St*St*(st-it))}function Z(et,Ct,it,st){var St=-3*et+9*Ct-9*it+3*st,at=6*et-12*Ct+6*it,nt=3*Ct-3*et,mt=[],Dt,ee,ce;if(_(St,0))_(at,0)||(Dt=-nt/at,Dt>=0&&Dt<=1&&mt.push(Dt));else{var le=at*at-4*St*nt;_(le,0)?mt.push(-at/(2*St)):le>0&&(ce=Math.sqrt(le),Dt=(-at+ce)/(2*St),ee=(-at-ce)/(2*St),Dt>=0&&Dt<=1&&mt.push(Dt),ee>=0&&ee<=1&&mt.push(ee))}return mt}function ot(et,Ct,it,st,St,at,nt,mt,Dt){var ee=Q(et,it,St,nt,Dt),ce=Q(Ct,st,at,mt,Dt),le=g.pointAt(et,Ct,it,st,Dt),Xe=g.pointAt(it,st,St,at,Dt),Ie=g.pointAt(St,at,nt,mt,Dt),Re=g.pointAt(le.x,le.y,Xe.x,Xe.y,Dt),or=g.pointAt(Xe.x,Xe.y,Ie.x,Ie.y,Dt);return[[et,Ct,le.x,le.y,Re.x,Re.y,ee,ce],[ee,ce,or.x,or.y,Ie.x,Ie.y,nt,mt]]}function rt(et,Ct,it,st,St,at,nt,mt,Dt){if(Dt===0)return m([et,it,St,nt],[Ct,st,at,mt]);var ee=ot(et,Ct,it,st,St,at,nt,mt,.5),ce=ee[0],le=ee[1];return ce.push(Dt-1),le.push(Dt-1),rt.apply(null,ce)+rt.apply(null,le)}var At={extrema:Z,box:function(et,Ct,it,st,St,at,nt,mt){for(var Dt=[et,nt],ee=[Ct,mt],ce=Z(et,it,St,nt),le=Z(Ct,st,at,mt),Xe=0;Xe<ce.length;Xe++)Dt.push(Q(et,it,St,nt,ce[Xe]));for(var Xe=0;Xe<le.length;Xe++)ee.push(Q(Ct,st,at,mt,le[Xe]));return T(Dt,ee)},length:function(et,Ct,it,st,St,at,nt,mt){return rt(et,Ct,it,st,St,at,nt,mt,3)},nearestPoint:function(et,Ct,it,st,St,at,nt,mt,Dt,ee,ce){return y([et,it,St,nt],[Ct,st,at,mt],Dt,ee,Q,ce)},pointDistance:function(et,Ct,it,st,St,at,nt,mt,Dt,ee,ce){var le=this.nearestPoint(et,Ct,it,st,St,at,nt,mt,Dt,ee,ce);return k(le.x,le.y,Dt,ee)},interpolationAt:Q,pointAt:function(et,Ct,it,st,St,at,nt,mt,Dt){return{x:Q(et,it,St,nt,Dt),y:Q(Ct,st,at,mt,Dt)}},divide:function(et,Ct,it,st,St,at,nt,mt,Dt){return ot(et,Ct,it,st,St,at,nt,mt,Dt)},tangentAngle:function(et,Ct,it,st,St,at,nt,mt,Dt){var ee=H(et,it,St,nt,Dt),ce=H(Ct,st,at,mt,Dt);return C(Math.atan2(ce,ee))}};function pt(et,Ct){var it=Math.abs(et);return Ct>0?it:it*-1}var Ft={box:function(et,Ct,it,st){return{x:et-it,y:Ct-st,width:it*2,height:st*2}},length:function(et,Ct,it,st){return Math.PI*(3*(it+st)-Math.sqrt((3*it+st)*(it+3*st)))},nearestPoint:function(et,Ct,it,st,St,at){var nt=it,mt=st;if(nt===0||mt===0)return{x:et,y:Ct};for(var Dt=St-et,ee=at-Ct,ce=Math.abs(Dt),le=Math.abs(ee),Xe=nt*nt,Ie=mt*mt,Re=Math.PI/4,or,lr,Ir=0;Ir<4;Ir++){or=nt*Math.cos(Re),lr=mt*Math.sin(Re);var Er=(Xe-Ie)*Math.pow(Math.cos(Re),3)/nt,on=(Ie-Xe)*Math.pow(Math.sin(Re),3)/mt,In=or-Er,fn=lr-on,xn=ce-Er,$n=le-on,ui=Math.hypot(fn,In),Si=Math.hypot($n,xn),bi=ui*Math.asin((In*$n-fn*xn)/(ui*Si)),$t=bi/Math.sqrt(Xe+Ie-or*or-lr*lr);Re+=$t,Re=Math.min(Math.PI/2,Math.max(0,Re))}return{x:et+pt(or,Dt),y:Ct+pt(lr,ee)}},pointDistance:function(et,Ct,it,st,St,at){var nt=this.nearestPoint(et,Ct,it,st,St,at);return k(nt.x,nt.y,St,at)},pointAt:function(et,Ct,it,st,St){var at=2*Math.PI*St;return{x:et+it*Math.cos(at),y:Ct+st*Math.sin(at)}},tangentAngle:function(et,Ct,it,st,St){var at=2*Math.PI*St,nt=Math.atan2(st*Math.cos(at),-it*Math.sin(at));return C(nt)}};function Tt(et,Ct,it,st,St,at,nt,mt){return-1*it*Math.cos(St)*Math.sin(mt)-st*Math.sin(St)*Math.cos(mt)}function Ot(et,Ct,it,st,St,at,nt,mt){return-1*it*Math.sin(St)*Math.sin(mt)+st*Math.cos(St)*Math.cos(mt)}function xt(et,Ct,it){return Math.atan(-Ct/et*Math.tan(it))}function ht(et,Ct,it){return Math.atan(Ct/(et*Math.tan(it)))}function kt(et,Ct,it,st,St,at){return it*Math.cos(St)*Math.cos(at)-st*Math.sin(St)*Math.sin(at)+et}function Gt(et,Ct,it,st,St,at){return it*Math.sin(St)*Math.cos(at)+st*Math.cos(St)*Math.sin(at)+Ct}function dt(et,Ct,it,st){var St=Math.atan2(st*et,it*Ct);return(St+Math.PI*2)%(Math.PI*2)}function tt(et,Ct,it){return{x:et*Math.cos(it),y:Ct*Math.sin(it)}}function I(et,Ct,it){var st=Math.cos(it),St=Math.sin(it);return[et*st-Ct*St,et*St+Ct*st]}var u={box:function(et,Ct,it,st,St,at,nt){for(var mt=xt(it,st,St),Dt=Infinity,ee=-Infinity,ce=[at,nt],le=-Math.PI*2;le<=Math.PI*2;le+=Math.PI){var Xe=mt+le;at<nt?at<Xe&&Xe<nt&&ce.push(Xe):nt<Xe&&Xe<at&&ce.push(Xe)}for(var le=0;le<ce.length;le++){var Ie=kt(et,Ct,it,st,St,ce[le]);Ie<Dt&&(Dt=Ie),Ie>ee&&(ee=Ie)}for(var Re=ht(it,st,St),or=Infinity,lr=-Infinity,Ir=[at,nt],le=-Math.PI*2;le<=Math.PI*2;le+=Math.PI){var Er=Re+le;at<nt?at<Er&&Er<nt&&Ir.push(Er):nt<Er&&Er<at&&Ir.push(Er)}for(var le=0;le<Ir.length;le++){var on=Gt(et,Ct,it,st,St,Ir[le]);on<or&&(or=on),on>lr&&(lr=on)}return{x:Dt,y:or,width:ee-Dt,height:lr-or}},length:function(et,Ct,it,st,St,at,nt){},nearestPoint:function(et,Ct,it,st,St,at,nt,mt,Dt){var ee=I(mt-et,Dt-Ct,-St),ce=ee[0],le=ee[1],Xe=Ft.nearestPoint(0,0,it,st,ce,le),Ie=dt(it,st,Xe.x,Xe.y);Ie<at?Xe=tt(it,st,at):Ie>nt&&(Xe=tt(it,st,nt));var Re=I(Xe.x,Xe.y,St);return{x:Re[0]+et,y:Re[1]+Ct}},pointDistance:function(et,Ct,it,st,St,at,nt,mt,Dt){var ee=this.nearestPoint(et,Ct,it,st,mt,Dt);return k(ee.x,ee.y,mt,Dt)},pointAt:function(et,Ct,it,st,St,at,nt,mt){var Dt=(nt-at)*mt+at;return{x:kt(et,Ct,it,st,St,Dt),y:Gt(et,Ct,it,st,St,Dt)}},tangentAngle:function(et,Ct,it,st,St,at,nt,mt){var Dt=(nt-at)*mt+at,ee=Tt(et,Ct,it,st,St,at,nt,Dt),ce=Ot(et,Ct,it,st,St,at,nt,Dt);return C(Math.atan2(ce,ee))}};function Y(et){for(var Ct=0,it=[],st=0;st<et.length-1;st++){var St=et[st],at=et[st+1],nt=k(St[0],St[1],at[0],at[1]),mt={from:St,to:at,length:nt};it.push(mt),Ct+=nt}return{segments:it,totalLength:Ct}}function G(et){if(et.length<2)return 0;for(var Ct=0,it=0;it<et.length-1;it++){var st=et[it],St=et[it+1];Ct+=k(st[0],st[1],St[0],St[1])}return Ct}function X(et,Ct){if(Ct>1||Ct<0||et.length<2)return null;var it=Y(et),st=it.segments,St=it.totalLength;if(St===0)return{x:et[0][0],y:et[0][1]};for(var at=0,nt=null,mt=0;mt<st.length;mt++){var Dt=st[mt],ee=Dt.from,ce=Dt.to,le=Dt.length/St;if(Ct>=at&&Ct<=at+le){var Xe=(Ct-at)/le;nt=g.pointAt(ee[0],ee[1],ce[0],ce[1],Xe);break}at+=le}return nt}function U(et,Ct){if(Ct>1||Ct<0||et.length<2)return 0;for(var it=Y(et),st=it.segments,St=it.totalLength,at=0,nt=0,mt=0;mt<st.length;mt++){var Dt=st[mt],ee=Dt.from,ce=Dt.to,le=Dt.length/St;if(Ct>=at&&Ct<=at+le){nt=Math.atan2(ce[1]-ee[1],ce[0]-ee[0]);break}at+=le}return nt}function J(et,Ct,it){for(var st=Infinity,St=0;St<et.length-1;St++){var at=et[St],nt=et[St+1],mt=g.pointDistance(at[0],at[1],nt[0],nt[1],Ct,it);mt<st&&(st=mt)}return st}var lt={box:function(et){for(var Ct=[],it=[],st=0;st<et.length;st++){var St=et[st];Ct.push(St[0]),it.push(St[1])}return T(Ct,it)},length:function(et){return G(et)},pointAt:function(et,Ct){return X(et,Ct)},pointDistance:function(et,Ct,it){return J(et,Ct,it)},tangentAngle:function(et,Ct){return U(et,Ct)}};function It(et){var Ct=et.slice(0);return et.length&&Ct.push(et[0]),Ct}var bt={box:function(et){return lt.box(et)},length:function(et){return G(It(et))},pointAt:function(et,Ct){return X(It(et),Ct)},pointDistance:function(et,Ct,it){return J(It(et),Ct,it)},tangentAngle:function(et,Ct){return U(It(et),Ct)}}},33418:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(76256),O=v(55397);function k(m,p,M,P,B,F,W,Q){return-1*M*Math.cos(B)*Math.sin(Q)-P*Math.sin(B)*Math.cos(Q)}function _(m,p,M,P,B,F,W,Q){return-1*M*Math.sin(B)*Math.sin(Q)+P*Math.cos(B)*Math.cos(Q)}function T(m,p,M){return Math.atan(-p/m*Math.tan(M))}function A(m,p,M){return Math.atan(p/(m*Math.tan(M)))}function C(m,p,M,P,B,F){return M*Math.cos(B)*Math.cos(F)-P*Math.sin(B)*Math.sin(F)+m}function E(m,p,M,P,B,F){return M*Math.sin(B)*Math.cos(F)+P*Math.cos(B)*Math.sin(F)+p}function g(m,p,M,P){var B=Math.atan2(P*m,M*p);return(B+Math.PI*2)%(Math.PI*2)}function w(m,p,M){return{x:m*Math.cos(M),y:p*Math.sin(M)}}function y(m,p,M){var P=Math.cos(M),B=Math.sin(M);return[m*P-p*B,m*B+p*P]}S.default={box:function(m,p,M,P,B,F,W){for(var Q=T(M,P,B),H=Infinity,Z=-Infinity,ot=[F,W],rt=-Math.PI*2;rt<=Math.PI*2;rt+=Math.PI){var At=Q+rt;F<W?F<At&&At<W&&ot.push(At):W<At&&At<F&&ot.push(At)}for(var rt=0;rt<ot.length;rt++){var pt=C(m,p,M,P,B,ot[rt]);pt<H&&(H=pt),pt>Z&&(Z=pt)}for(var Ft=A(M,P,B),Tt=Infinity,Ot=-Infinity,xt=[F,W],rt=-Math.PI*2;rt<=Math.PI*2;rt+=Math.PI){var ht=Ft+rt;F<W?F<ht&&ht<W&&xt.push(ht):W<ht&&ht<F&&xt.push(ht)}for(var rt=0;rt<xt.length;rt++){var kt=E(m,p,M,P,B,xt[rt]);kt<Tt&&(Tt=kt),kt>Ot&&(Ot=kt)}return{x:H,y:Tt,width:Z-H,height:Ot-Tt}},length:function(m,p,M,P,B,F,W){},nearestPoint:function(m,p,M,P,B,F,W,Q,H){var Z=y(Q-m,H-p,-B),ot=Z[0],rt=Z[1],At=O.default.nearestPoint(0,0,M,P,ot,rt),pt=g(M,P,At.x,At.y);pt<F?At=w(M,P,F):pt>W&&(At=w(M,P,W));var Ft=y(At.x,At.y,B);return{x:Ft[0]+m,y:Ft[1]+p}},pointDistance:function(m,p,M,P,B,F,W,Q,H){var Z=this.nearestPoint(m,p,M,P,Q,H);return x.distance(Z.x,Z.y,Q,H)},pointAt:function(m,p,M,P,B,F,W,Q){var H=(W-F)*Q+F;return{x:C(m,p,M,P,B,H),y:E(m,p,M,P,B,H)}},tangentAngle:function(m,p,M,P,B,F,W,Q){var H=(W-F)*Q+F,Z=k(m,p,M,P,B,F,W,H),ot=_(m,p,M,P,B,F,W,H);return x.piMod(Math.atan2(ot,Z))}}},87335:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.snapLength=S.nearestPoint=void 0;var x=v(76256),O=1e-4;function k(T,A,C,E,g,w){var y,m=Infinity,p=[C,E],M=20;w&&w>200&&(M=w/10);for(var P=1/M,B=P/10,F=0;F<=M;F++){var W=F*P,Q=[g.apply(null,T.concat([W])),g.apply(null,A.concat([W]))],H=x.distance(p[0],p[1],Q[0],Q[1]);H<m&&(y=W,m=H)}if(y===0)return{x:T[0],y:A[0]};if(y===1){var Z=T.length;return{x:T[Z-1],y:A[Z-1]}}m=Infinity;for(var F=0;F<32&&!(B<O);F++){var ot=y-B,rt=y+B,Q=[g.apply(null,T.concat([ot])),g.apply(null,A.concat([ot]))],H=x.distance(p[0],p[1],Q[0],Q[1]);if(ot>=0&&H<m)y=ot,m=H;else{var At=[g.apply(null,T.concat([rt])),g.apply(null,A.concat([rt]))],pt=x.distance(p[0],p[1],At[0],At[1]);rt<=1&&pt<m?(y=rt,m=pt):B*=.5}}return{x:g.apply(null,T.concat([y])),y:g.apply(null,A.concat([y]))}}S.nearestPoint=k;function _(T,A){for(var C=0,E=T.length,g=0;g<E;g++){var w=T[g],y=A[g],m=T[(g+1)%E],p=A[(g+1)%E];C+=x.distance(w,y,m,p)}return C/2}S.snapLength=_},15730:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(76256),O=v(23646),k=v(87335);function _(g,w,y,m,p){var M=1-p;return M*M*M*g+3*w*p*M*M+3*y*p*p*M+m*p*p*p}function T(g,w,y,m,p){var M=1-p;return 3*(M*M*(w-g)+2*M*p*(y-w)+p*p*(m-y))}function A(g,w,y,m){var p=-3*g+9*w-9*y+3*m,M=6*g-12*w+6*y,P=3*w-3*g,B=[],F,W,Q;if(x.isNumberEqual(p,0))x.isNumberEqual(M,0)||(F=-P/M,F>=0&&F<=1&&B.push(F));else{var H=M*M-4*p*P;x.isNumberEqual(H,0)?B.push(-M/(2*p)):H>0&&(Q=Math.sqrt(H),F=(-M+Q)/(2*p),W=(-M-Q)/(2*p),F>=0&&F<=1&&B.push(F),W>=0&&W<=1&&B.push(W))}return B}function C(g,w,y,m,p,M,P,B,F){var W=_(g,y,p,P,F),Q=_(w,m,M,B,F),H=O.default.pointAt(g,w,y,m,F),Z=O.default.pointAt(y,m,p,M,F),ot=O.default.pointAt(p,M,P,B,F),rt=O.default.pointAt(H.x,H.y,Z.x,Z.y,F),At=O.default.pointAt(Z.x,Z.y,ot.x,ot.y,F);return[[g,w,H.x,H.y,rt.x,rt.y,W,Q],[W,Q,At.x,At.y,ot.x,ot.y,P,B]]}function E(g,w,y,m,p,M,P,B,F){if(F===0)return k.snapLength([g,y,p,P],[w,m,M,B]);var W=C(g,w,y,m,p,M,P,B,.5),Q=W[0],H=W[1];return Q.push(F-1),H.push(F-1),E.apply(null,Q)+E.apply(null,H)}S.default={extrema:A,box:function(g,w,y,m,p,M,P,B){for(var F=[g,P],W=[w,B],Q=A(g,y,p,P),H=A(w,m,M,B),Z=0;Z<Q.length;Z++)F.push(_(g,y,p,P,Q[Z]));for(var Z=0;Z<H.length;Z++)W.push(_(w,m,M,B,H[Z]));return x.getBBoxByArray(F,W)},length:function(g,w,y,m,p,M,P,B){return E(g,w,y,m,p,M,P,B,3)},nearestPoint:function(g,w,y,m,p,M,P,B,F,W,Q){return k.nearestPoint([g,y,p,P],[w,m,M,B],F,W,_,Q)},pointDistance:function(g,w,y,m,p,M,P,B,F,W,Q){var H=this.nearestPoint(g,w,y,m,p,M,P,B,F,W,Q);return x.distance(H.x,H.y,F,W)},interpolationAt:_,pointAt:function(g,w,y,m,p,M,P,B,F){return{x:_(g,y,p,P,F),y:_(w,m,M,B,F)}},divide:function(g,w,y,m,p,M,P,B,F){return C(g,w,y,m,p,M,P,B,F)},tangentAngle:function(g,w,y,m,p,M,P,B,F){var W=T(g,y,p,P,F),Q=T(w,m,M,B,F);return x.piMod(Math.atan2(Q,W))}}},55397:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(76256);function O(k,_){var T=Math.abs(k);return _>0?T:T*-1}S.default={box:function(k,_,T,A){return{x:k-T,y:_-A,width:T*2,height:A*2}},length:function(k,_,T,A){return Math.PI*(3*(T+A)-Math.sqrt((3*T+A)*(T+3*A)))},nearestPoint:function(k,_,T,A,C,E){var g=T,w=A;if(g===0||w===0)return{x:k,y:_};for(var y=C-k,m=E-_,p=Math.abs(y),M=Math.abs(m),P=g*g,B=w*w,F=Math.PI/4,W,Q,H=0;H<4;H++){W=g*Math.cos(F),Q=w*Math.sin(F);var Z=(P-B)*Math.pow(Math.cos(F),3)/g,ot=(B-P)*Math.pow(Math.sin(F),3)/w,rt=W-Z,At=Q-ot,pt=p-Z,Ft=M-ot,Tt=Math.hypot(At,rt),Ot=Math.hypot(Ft,pt),xt=Tt*Math.asin((rt*Ft-At*pt)/(Tt*Ot)),ht=xt/Math.sqrt(P+B-W*W-Q*Q);F+=ht,F=Math.min(Math.PI/2,Math.max(0,F))}return{x:k+O(W,y),y:_+O(Q,m)}},pointDistance:function(k,_,T,A,C,E){var g=this.nearestPoint(k,_,T,A,C,E);return x.distance(g.x,g.y,C,E)},pointAt:function(k,_,T,A,C){var E=2*Math.PI*C;return{x:k+T*Math.cos(E),y:_+A*Math.sin(E)}},tangentAngle:function(k,_,T,A,C){var E=2*Math.PI*C,g=Math.atan2(A*Math.cos(E),-T*Math.sin(E));return x.piMod(g)}}},23646:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(76256),O=v(31437);S.default={box:function(k,_,T,A){return x.getBBoxByArray([k,T],[_,A])},length:function(k,_,T,A){return x.distance(k,_,T,A)},pointAt:function(k,_,T,A,C){return{x:(1-C)*k+C*T,y:(1-C)*_+C*A}},pointDistance:function(k,_,T,A,C,E){var g=(T-k)*(C-k)+(A-_)*(E-_);if(g<0)return x.distance(k,_,C,E);var w=(T-k)*(T-k)+(A-_)*(A-_);return g>w?x.distance(T,A,C,E):this.pointToLine(k,_,T,A,C,E)},pointToLine:function(k,_,T,A,C,E){var g=[T-k,A-_];if(O.exactEquals(g,[0,0]))return Math.sqrt((C-k)*(C-k)+(E-_)*(E-_));var w=[-g[1],g[0]];O.normalize(w,w);var y=[C-k,E-_];return Math.abs(O.dot(y,w))},tangentAngle:function(k,_,T,A){return Math.atan2(A-_,T-k)}}},65386:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(28171),k=v(76256);S.Z={box:function(_){for(var T=[],A=[],C=0;C<_.length;C++){var E=_[C];T.push(E[0]),A.push(E[1])}return k.getBBoxByArray(T,A)},length:function(_){return O.lengthOfSegment(_)},pointAt:function(_,T){return O.pointAtSegments(_,T)},pointDistance:function(_,T,A){return O.distanceAtSegment(_,T,A)},tangentAngle:function(_,T){return O.angleAtSegments(_,T)}}},2879:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(23646),O=v(76256),k=v(87335);function _(g,w,y,m){var p=1-m;return p*p*g+2*m*p*w+m*m*y}function T(g,w,y){var m=g+y-2*w;if(O.isNumberEqual(m,0))return[.5];var p=(g-w)/m;return p<=1&&p>=0?[p]:[]}function A(g,w,y,m){return 2*(1-m)*(w-g)+2*m*(y-w)}function C(g,w,y,m,p,M,P){var B=_(g,y,p,P),F=_(w,m,M,P),W=x.default.pointAt(g,w,y,m,P),Q=x.default.pointAt(y,m,p,M,P);return[[g,w,W.x,W.y,B,F],[B,F,Q.x,Q.y,p,M]]}function E(g,w,y,m,p,M,P){if(P===0)return(O.distance(g,w,y,m)+O.distance(y,m,p,M)+O.distance(g,w,p,M))/2;var B=C(g,w,y,m,p,M,.5),F=B[0],W=B[1];return F.push(P-1),W.push(P-1),E.apply(null,F)+E.apply(null,W)}S.default={box:function(g,w,y,m,p,M){var P=T(g,y,p)[0],B=T(w,m,M)[0],F=[g,p],W=[w,M];return P!==void 0&&F.push(_(g,y,p,P)),B!==void 0&&W.push(_(w,m,M,B)),O.getBBoxByArray(F,W)},length:function(g,w,y,m,p,M){return E(g,w,y,m,p,M,3)},nearestPoint:function(g,w,y,m,p,M,P,B){return k.nearestPoint([g,y,p],[w,m,M],P,B,_)},pointDistance:function(g,w,y,m,p,M,P,B){var F=this.nearestPoint(g,w,y,m,p,M,P,B);return O.distance(F.x,F.y,P,B)},interpolationAt:_,pointAt:function(g,w,y,m,p,M,P){return{x:_(g,y,p,P),y:_(w,m,M,P)}},divide:function(g,w,y,m,p,M,P){return C(g,w,y,m,p,M,P)},tangentAngle:function(g,w,y,m,p,M,P){var B=A(g,y,p,P),F=A(w,m,M,P),W=Math.atan2(F,B);return O.piMod(W)}}},28171:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.distanceAtSegment=S.angleAtSegments=S.pointAtSegments=S.lengthOfSegment=void 0;var x=v(23646),O=v(76256);function k(E){for(var g=0,w=[],y=0;y<E.length-1;y++){var m=E[y],p=E[y+1],M=O.distance(m[0],m[1],p[0],p[1]),P={from:m,to:p,length:M};w.push(P),g+=M}return{segments:w,totalLength:g}}function _(E){if(E.length<2)return 0;for(var g=0,w=0;w<E.length-1;w++){var y=E[w],m=E[w+1];g+=O.distance(y[0],y[1],m[0],m[1])}return g}S.lengthOfSegment=_;function T(E,g){if(g>1||g<0||E.length<2)return null;var w=k(E),y=w.segments,m=w.totalLength;if(m===0)return{x:E[0][0],y:E[0][1]};for(var p=0,M=null,P=0;P<y.length;P++){var B=y[P],F=B.from,W=B.to,Q=B.length/m;if(g>=p&&g<=p+Q){var H=(g-p)/Q;M=x.default.pointAt(F[0],F[1],W[0],W[1],H);break}p+=Q}return M}S.pointAtSegments=T;function A(E,g){if(g>1||g<0||E.length<2)return 0;for(var w=k(E),y=w.segments,m=w.totalLength,p=0,M=0,P=0;P<y.length;P++){var B=y[P],F=B.from,W=B.to,Q=B.length/m;if(g>=p&&g<=p+Q){M=Math.atan2(W[1]-F[1],W[0]-F[0]);break}p+=Q}return M}S.angleAtSegments=A;function C(E,g,w){for(var y=Infinity,m=0;m<E.length-1;m++){var p=E[m],M=E[m+1],P=x.default.pointDistance(p[0],p[1],M[0],M[1],g,w);P<y&&(y=P)}return y}S.distanceAtSegment=C},76256:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.piMod=S.getBBoxRange=S.getBBoxByArray=S.isNumberEqual=S.distance=void 0;var x=v(49242);function O(C,E,g,w){var y=C-g,m=E-w;return Math.sqrt(y*y+m*m)}S.distance=O;function k(C,E){return Math.abs(C-E)<.001}S.isNumberEqual=k;function _(C,E){var g=x.min(C),w=x.min(E),y=x.max(C),m=x.max(E);return{x:g,y:w,width:y-g,height:m-w}}S.getBBoxByArray=_;function T(C,E,g,w){return{minX:x.min([C,g]),maxX:x.max([C,g]),minY:x.min([E,w]),maxY:x.max([E,w])}}S.getBBoxRange=T;function A(C){return(C+Math.PI*2)%(Math.PI*2)}S.piMod=A},56463:function(ft,S,v){"use strict";var x=v(34155),O=this&&this.__spreadArrays||function(){for(var B=0,F=0,W=arguments.length;F<W;F++)B+=arguments[F].length;for(var Q=Array(B),H=0,F=0;F<W;F++)for(var Z=arguments[F],ot=0,rt=Z.length;ot<rt;ot++,H++)Q[H]=Z[ot];return Q};Object.defineProperty(S,"__esModule",{value:!0});var k=function(){function B(F,W,Q){this.name=F,this.version=W,this.os=Q}return B}();S.BrowserInfo=k;var _=function(){function B(F){this.version=F,this.name="node",this.os=x.platform}return B}();S.NodeInfo=_;var T=function(){function B(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return B}();S.BotInfo=T;var A=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,C=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,E=3,g=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",A]],w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",C]];function y(B){return B?m(B):typeof navigator!="undefined"?m(navigator.userAgent):M()}S.detect=y;function m(B){var F=B!==""&&g.reduce(function(Z,ot){var rt=ot[0],At=ot[1];if(Z)return Z;var pt=At.exec(B);return!!pt&&[rt,pt]},!1);if(!F)return null;var W=F[0],Q=F[1];if(W==="searchbot")return new T;var H=Q[1]&&Q[1].split(/[._]/).slice(0,3);return H?H.length<E&&(H=O(H,P(E-H.length))):H=[],new k(W,H.join("."),p(B))}S.parseUserAgent=m;function p(B){for(var F=0,W=w.length;F<W;F++){var Q=w[F],H=Q[0],Z=Q[1],ot=Z.test(B);if(ot)return H}return null}S.detectOS=p;function M(){var B=typeof x!="undefined"&&x.version;return B?new _(x.version.slice(1)):null}S.getNodeVersion=M;function P(B){for(var F=[],W=0;W<B;W++)F.push("0");return F}},23231:function(ft){"use strict";ft.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},52351:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=v(2810),k=function(){function _(T){var A=T.xField,C=T.yField,E=T.adjustNames,g=E===void 0?["x","y"]:E,w=T.dimValuesMap;this.adjustNames=g,this.xField=A,this.yField=C,this.dimValuesMap=w}return _.prototype.isAdjust=function(T){return this.adjustNames.indexOf(T)>=0},_.prototype.getAdjustRange=function(T,A,C){var E=this.yField,g=C.indexOf(A),w=C.length,y,m;return!E&&this.isAdjust("y")?(y=0,m=1):w>1?(y=C[g===0?0:g-1],m=C[g===w-1?w-1:g+1],g!==0?y+=(A-y)/2:y-=(m-A)/2,g!==w-1?m-=(m-A)/2:m+=(A-C[w-2])/2):(y=A===0?0:A-.5,m=A===0?1:A+.5),{pre:y,next:m}},_.prototype.adjustData=function(T,A){var C=this,E=this.getDimValues(A);x.each(T,function(g,w){x.each(E,function(y,m){C.adjustDim(m,y,g,w)})})},_.prototype.groupData=function(T,A){return x.each(T,function(C){C[A]===void 0&&(C[A]=O.DEFAULT_Y)}),x.groupBy(T,A)},_.prototype.adjustDim=function(T,A,C,E){},_.prototype.getDimValues=function(T){var A=this,C=A.xField,E=A.yField,g=x.assign({},this.dimValuesMap),w=[];if(C&&this.isAdjust("x")&&w.push(C),E&&this.isAdjust("y")&&w.push(E),w.forEach(function(m){g&&g[m]||(g[m]=x.valuesOfKey(T,m).sort(function(p,M){return p-M}))}),!E&&this.isAdjust("y")){var y="y";g[y]=[O.DEFAULT_Y,1]}return g},_}();S.default=k},2810:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.GAP=S.DODGE_RATIO=S.MARGIN_RATIO=S.DEFAULT_Y=void 0,S.DEFAULT_Y=0,S.MARGIN_RATIO=1/2,S.DODGE_RATIO=1/2,S.GAP=.05},68060:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Adjust=S.registerAdjust=S.getAdjust=void 0;var x=v(8108),O=v(52351);S.Adjust=O.default;var k={},_=function(A){return k[A.toLowerCase()]};S.getAdjust=_;var T=function(A,C){if(_(A))throw new Error("Adjust type '"+A+"' existed.");k[A.toLowerCase()]=C};S.registerAdjust=T,x.__exportStar(v(62056),S)},62056:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0})},58368:function(ft,S,v){"use strict";v.r(S),v.d(S,{Attribute:function(){return _},Color:function(){return E},Opacity:function(){return w},Position:function(){return m},Scale:function(){return F.Scale},Shape:function(){return M},Size:function(){return B},getAttribute:function(){return Q},registerAttribute:function(){return H}});var x=v(49242),O=function(Z,ot){return(0,x.isString)(ot)?ot:Z.invert(Z.scale(ot))},k=function(){function Z(ot){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(ot)}return Z.prototype.mapping=function(){for(var ot=this,rt=[],At=0;At<arguments.length;At++)rt[At]=arguments[At];var pt=rt.map(function(Ft,Tt){return ot._toOriginParam(Ft,ot.scales[Tt])});return this.callback.apply(this,pt)},Z.prototype.getLinearValue=function(ot){var rt=this.values.length-1,At=Math.floor(rt*ot),pt=rt*ot-At,Ft=this.values[At],Tt=At===rt?Ft:this.values[At+1];return Ft+(Tt-Ft)*pt},Z.prototype.getNames=function(){for(var ot=this.scales,rt=this.names,At=Math.min(ot.length,rt.length),pt=[],Ft=0;Ft<At;Ft+=1)pt.push(rt[Ft]);return pt},Z.prototype.getFields=function(){return this.scales.map(function(ot){return ot.field})},Z.prototype.getScale=function(ot){return this.scales[this.names.indexOf(ot)]},Z.prototype.defaultCallback=function(){for(var ot=this,rt=[],At=0;At<arguments.length;At++)rt[At]=arguments[At];return rt.length===0?this.values:rt.map(function(pt,Ft){var Tt=ot.scales[Ft];return Tt.type==="identity"?Tt.values[0]:ot._getAttributeValue(Tt,pt)})},Z.prototype._parseCfg=function(ot){var rt=this,At=ot.type,pt=At===void 0?"base":At,Ft=ot.names,Tt=Ft===void 0?[]:Ft,Ot=ot.scales,xt=Ot===void 0?[]:Ot,ht=ot.values,kt=ht===void 0?[]:ht,Gt=ot.callback;this.type=pt,this.scales=xt,this.values=kt,this.names=Tt,this.callback=function(){for(var dt=[],tt=0;tt<arguments.length;tt++)dt[tt]=arguments[tt];if(Gt){var I=Gt.apply(void 0,dt);if(!(0,x.isNil)(I))return[I]}return rt.defaultCallback.apply(rt,dt)}},Z.prototype._getAttributeValue=function(ot,rt){if(ot.isCategory&&!this.linear){var At=ot.translate(rt);return this.values[At%this.values.length]}var pt=ot.scale(rt);return this.getLinearValue(pt)},Z.prototype._toOriginParam=function(ot,rt){return rt.isLinear?ot:(0,x.isArray)(ot)?ot.map(function(At){return O(rt,At)}):O(rt,ot)},Z}(),_=k,T=v(11758),A=v(55223),C=function(Z){(0,T.__extends)(ot,Z);function ot(rt){var At=Z.call(this,rt)||this;return At.type="color",At.names=["color"],(0,x.isString)(At.values)&&(At.linear=!0),At.gradient=A.default.gradient(At.values),At}return ot.prototype.getLinearValue=function(rt){return this.gradient(rt)},ot}(_),E=C,g=function(Z){(0,T.__extends)(ot,Z);function ot(rt){var At=Z.call(this,rt)||this;return At.type="opacity",At.names=["opacity"],At}return ot}(_),w=g,y=function(Z){(0,T.__extends)(ot,Z);function ot(rt){var At=Z.call(this,rt)||this;return At.names=["x","y"],At.type="position",At}return ot.prototype.mapping=function(rt,At){var pt=this.scales,Ft=pt[0],Tt=pt[1];return(0,x.isNil)(rt)||(0,x.isNil)(At)?[]:[(0,x.isArray)(rt)?rt.map(function(Ot){return Ft.scale(Ot)}):Ft.scale(rt),(0,x.isArray)(At)?At.map(function(Ot){return Tt.scale(Ot)}):Tt.scale(At)]},ot}(_),m=y,p=function(Z){(0,T.__extends)(ot,Z);function ot(rt){var At=Z.call(this,rt)||this;return At.type="shape",At.names=["shape"],At}return ot.prototype.getLinearValue=function(rt){var At=Math.round((this.values.length-1)*rt);return this.values[At]},ot}(_),M=p,P=function(Z){(0,T.__extends)(ot,Z);function ot(rt){var At=Z.call(this,rt)||this;return At.type="size",At.names=["size"],At}return ot}(_),B=P,F=v(72469),W={},Q=function(Z){return W[Z.toLowerCase()]},H=function(Z,ot){if(Q(Z))throw new Error("Attribute type '".concat(Z,"' existed."));W[Z.toLowerCase()]=ot};H("Color",E),H("Opacity",w),H("Position",m),H("Shape",M),H("Size",B)},27210:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=function(_,T){return(0,x.isString)(T)?T:_.invert(_.scale(T))},k=function(){function _(T){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(T)}return _.prototype.mapping=function(){for(var T=this,A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];var E=A.map(function(g,w){return T._toOriginParam(g,T.scales[w])});return this.callback.apply(this,E)},_.prototype.getLinearValue=function(T){var A=this.values.length-1,C=Math.floor(A*T),E=A*T-C,g=this.values[C],w=C===A?g:this.values[C+1];return g+(w-g)*E},_.prototype.getNames=function(){for(var T=this.scales,A=this.names,C=Math.min(T.length,A.length),E=[],g=0;g<C;g+=1)E.push(A[g]);return E},_.prototype.getFields=function(){return this.scales.map(function(T){return T.field})},_.prototype.getScale=function(T){return this.scales[this.names.indexOf(T)]},_.prototype.defaultCallback=function(){for(var T=this,A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];return A.length===0?this.values:A.map(function(E,g){var w=T.scales[g];return w.type==="identity"?w.values[0]:T._getAttributeValue(w,E)})},_.prototype._parseCfg=function(T){var A=this,C=T.type,E=C===void 0?"base":C,g=T.names,w=g===void 0?[]:g,y=T.scales,m=y===void 0?[]:y,p=T.values,M=p===void 0?[]:p,P=T.callback;this.type=E,this.scales=m,this.values=M,this.names=w,this.callback=function(){for(var B=[],F=0;F<arguments.length;F++)B[F]=arguments[F];if(P){var W=P.apply(void 0,B);if(!(0,x.isNil)(W))return[W]}return A.defaultCallback.apply(A,B)}},_.prototype._getAttributeValue=function(T,A){if(T.isCategory&&!this.linear){var C=T.translate(A);return this.values[C%this.values.length]}var E=T.scale(A);return this.getLinearValue(E)},_.prototype._toOriginParam=function(T,A){return A.isLinear?T:(0,x.isArray)(T)?T.map(function(C){return O(A,C)}):O(A,T)},_}();S.default=k},25228:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Attribute=S.registerAttribute=S.getAttribute=void 0;var x=v(11758),O=v(27210);S.Attribute=O.default;var k={},_=function(A){return k[A.toLowerCase()]};S.getAttribute=_;var T=function(A,C){if(_(A))throw new Error("Attribute type '".concat(A,"' existed."));k[A.toLowerCase()]=C};S.registerAttribute=T,x.__exportStar(v(5925),S)},5925:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Scale=void 0;var x=v(72469);Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return x.Scale}})},11758:function(ft,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return g},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return m},__generator:function(){return p},__createBinding:function(){return M},__exportStar:function(){return P},__values:function(){return B},__read:function(){return F},__spread:function(){return W},__spreadArrays:function(){return Q},__spreadArray:function(){return H},__await:function(){return Z},__asyncGenerator:function(){return ot},__asyncDelegator:function(){return rt},__asyncValues:function(){return At},__makeTemplateObject:function(){return pt},__importStar:function(){return Tt},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return xt},__classPrivateFieldSet:function(){return ht},__classPrivateFieldIn:function(){return kt},__addDisposableResource:function(){return Gt},__disposeResources:function(){return tt}});var x=function(I,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,G){Y.__proto__=G}||function(Y,G){for(var X in G)Object.prototype.hasOwnProperty.call(G,X)&&(Y[X]=G[X])},x(I,u)};function O(I,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(I,u);function Y(){this.constructor=I}I.prototype=u===null?Object.create(u):(Y.prototype=u.prototype,new Y)}var k=function(){return k=Object.assign||function(u){for(var Y,G=1,X=arguments.length;G<X;G++){Y=arguments[G];for(var U in Y)Object.prototype.hasOwnProperty.call(Y,U)&&(u[U]=Y[U])}return u},k.apply(this,arguments)};function _(I,u){var Y={};for(var G in I)Object.prototype.hasOwnProperty.call(I,G)&&u.indexOf(G)<0&&(Y[G]=I[G]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,G=Object.getOwnPropertySymbols(I);X<G.length;X++)u.indexOf(G[X])<0&&Object.prototype.propertyIsEnumerable.call(I,G[X])&&(Y[G[X]]=I[G[X]]);return Y}function T(I,u,Y,G){var X=arguments.length,U=X<3?u:G===null?G=Object.getOwnPropertyDescriptor(u,Y):G,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(I,u,Y,G);else for(var lt=I.length-1;lt>=0;lt--)(J=I[lt])&&(U=(X<3?J(U):X>3?J(u,Y,U):J(u,Y))||U);return X>3&&U&&Object.defineProperty(u,Y,U),U}function A(I,u){return function(Y,G){u(Y,G,I)}}function C(I,u,Y,G,X,U){function J(mt){if(mt!==void 0&&typeof mt!="function")throw new TypeError("Function expected");return mt}for(var lt=G.kind,It=lt==="getter"?"get":lt==="setter"?"set":"value",bt=!u&&I?G.static?I:I.prototype:null,et=u||(bt?Object.getOwnPropertyDescriptor(bt,G.name):{}),Ct,it=!1,st=Y.length-1;st>=0;st--){var St={};for(var at in G)St[at]=at==="access"?{}:G[at];for(var at in G.access)St.access[at]=G.access[at];St.addInitializer=function(mt){if(it)throw new TypeError("Cannot add initializers after decoration has completed");U.push(J(mt||null))};var nt=(0,Y[st])(lt==="accessor"?{get:et.get,set:et.set}:et[It],St);if(lt==="accessor"){if(nt===void 0)continue;if(nt===null||typeof nt!="object")throw new TypeError("Object expected");(Ct=J(nt.get))&&(et.get=Ct),(Ct=J(nt.set))&&(et.set=Ct),(Ct=J(nt.init))&&X.unshift(Ct)}else(Ct=J(nt))&&(lt==="field"?X.unshift(Ct):et[It]=Ct)}bt&&Object.defineProperty(bt,G.name,et),it=!0}function E(I,u,Y){for(var G=arguments.length>2,X=0;X<u.length;X++)Y=G?u[X].call(I,Y):u[X].call(I);return G?Y:void 0}function g(I){return typeof I=="symbol"?I:"".concat(I)}function w(I,u,Y){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(I,"name",{configurable:!0,value:Y?"".concat(Y," ",u):u})}function y(I,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,u)}function m(I,u,Y,G){function X(U){return U instanceof Y?U:new Y(function(J){J(U)})}return new(Y||(Y=Promise))(function(U,J){function lt(et){try{bt(G.next(et))}catch(Ct){J(Ct)}}function It(et){try{bt(G.throw(et))}catch(Ct){J(Ct)}}function bt(et){et.done?U(et.value):X(et.value).then(lt,It)}bt((G=G.apply(I,u||[])).next())})}function p(I,u){var Y={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},G,X,U,J;return J={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function lt(bt){return function(et){return It([bt,et])}}function It(bt){if(G)throw new TypeError("Generator is already executing.");for(;J&&(J=0,bt[0]&&(Y=0)),Y;)try{if(G=1,X&&(U=bt[0]&2?X.return:bt[0]?X.throw||((U=X.return)&&U.call(X),0):X.next)&&!(U=U.call(X,bt[1])).done)return U;switch(X=0,U&&(bt=[bt[0]&2,U.value]),bt[0]){case 0:case 1:U=bt;break;case 4:return Y.label++,{value:bt[1],done:!1};case 5:Y.label++,X=bt[1],bt=[0];continue;case 7:bt=Y.ops.pop(),Y.trys.pop();continue;default:if(U=Y.trys,!(U=U.length>0&&U[U.length-1])&&(bt[0]===6||bt[0]===2)){Y=0;continue}if(bt[0]===3&&(!U||bt[1]>U[0]&&bt[1]<U[3])){Y.label=bt[1];break}if(bt[0]===6&&Y.label<U[1]){Y.label=U[1],U=bt;break}if(U&&Y.label<U[2]){Y.label=U[2],Y.ops.push(bt);break}U[2]&&Y.ops.pop(),Y.trys.pop();continue}bt=u.call(I,Y)}catch(et){bt=[6,et],X=0}finally{G=U=0}if(bt[0]&5)throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}}var M=Object.create?function(I,u,Y,G){G===void 0&&(G=Y);var X=Object.getOwnPropertyDescriptor(u,Y);(!X||("get"in X?!u.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return u[Y]}}),Object.defineProperty(I,G,X)}:function(I,u,Y,G){G===void 0&&(G=Y),I[G]=u[Y]};function P(I,u){for(var Y in I)Y!=="default"&&!Object.prototype.hasOwnProperty.call(u,Y)&&M(u,I,Y)}function B(I){var u=typeof Symbol=="function"&&Symbol.iterator,Y=u&&I[u],G=0;if(Y)return Y.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&G>=I.length&&(I=void 0),{value:I&&I[G++],done:!I}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(I,u){var Y=typeof Symbol=="function"&&I[Symbol.iterator];if(!Y)return I;var G=Y.call(I),X,U=[],J;try{for(;(u===void 0||u-- >0)&&!(X=G.next()).done;)U.push(X.value)}catch(lt){J={error:lt}}finally{try{X&&!X.done&&(Y=G.return)&&Y.call(G)}finally{if(J)throw J.error}}return U}function W(){for(var I=[],u=0;u<arguments.length;u++)I=I.concat(F(arguments[u]));return I}function Q(){for(var I=0,u=0,Y=arguments.length;u<Y;u++)I+=arguments[u].length;for(var G=Array(I),X=0,u=0;u<Y;u++)for(var U=arguments[u],J=0,lt=U.length;J<lt;J++,X++)G[X]=U[J];return G}function H(I,u,Y){if(Y||arguments.length===2)for(var G=0,X=u.length,U;G<X;G++)(U||!(G in u))&&(U||(U=Array.prototype.slice.call(u,0,G)),U[G]=u[G]);return I.concat(U||Array.prototype.slice.call(u))}function Z(I){return this instanceof Z?(this.v=I,this):new Z(I)}function ot(I,u,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=Y.apply(I,u||[]),X,U=[];return X={},J("next"),J("throw"),J("return"),X[Symbol.asyncIterator]=function(){return this},X;function J(it){G[it]&&(X[it]=function(st){return new Promise(function(St,at){U.push([it,st,St,at])>1||lt(it,st)})})}function lt(it,st){try{It(G[it](st))}catch(St){Ct(U[0][3],St)}}function It(it){it.value instanceof Z?Promise.resolve(it.value.v).then(bt,et):Ct(U[0][2],it)}function bt(it){lt("next",it)}function et(it){lt("throw",it)}function Ct(it,st){it(st),U.shift(),U.length&&lt(U[0][0],U[0][1])}}function rt(I){var u,Y;return u={},G("next"),G("throw",function(X){throw X}),G("return"),u[Symbol.iterator]=function(){return this},u;function G(X,U){u[X]=I[X]?function(J){return(Y=!Y)?{value:Z(I[X](J)),done:!1}:U?U(J):J}:U}}function At(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=I[Symbol.asyncIterator],Y;return u?u.call(I):(I=typeof B=="function"?B(I):I[Symbol.iterator](),Y={},G("next"),G("throw"),G("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function G(U){Y[U]=I[U]&&function(J){return new Promise(function(lt,It){J=I[U](J),X(lt,It,J.done,J.value)})}}function X(U,J,lt,It){Promise.resolve(It).then(function(bt){U({value:bt,done:lt})},J)}}function pt(I,u){return Object.defineProperty?Object.defineProperty(I,"raw",{value:u}):I.raw=u,I}var Ft=Object.create?function(I,u){Object.defineProperty(I,"default",{enumerable:!0,value:u})}:function(I,u){I.default=u};function Tt(I){if(I&&I.__esModule)return I;var u={};if(I!=null)for(var Y in I)Y!=="default"&&Object.prototype.hasOwnProperty.call(I,Y)&&M(u,I,Y);return Ft(u,I),u}function Ot(I){return I&&I.__esModule?I:{default:I}}function xt(I,u,Y,G){if(Y==="a"&&!G)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?I!==u||!G:!u.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Y==="m"?G:Y==="a"?G.call(I):G?G.value:u.get(I)}function ht(I,u,Y,G,X){if(G==="m")throw new TypeError("Private method is not writable");if(G==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?I!==u||!X:!u.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return G==="a"?X.call(I,Y):X?X.value=Y:u.set(I,Y),Y}function kt(I,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof I=="function"?u===I:I.has(u)}function Gt(I,u,Y){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var G;if(Y){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");G=u[Symbol.asyncDispose]}if(G===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");G=u[Symbol.dispose]}if(typeof G!="function")throw new TypeError("Object not disposable.");I.stack.push({value:u,dispose:G,async:Y})}else Y&&I.stack.push({async:!0});return u}var dt=typeof SuppressedError=="function"?SuppressedError:function(I,u,Y){var G=new Error(Y);return G.name="SuppressedError",G.error=I,G.suppressed=u,G};function tt(I){function u(G){I.error=I.hasError?new dt(G,I.error,"An error was suppressed during disposal."):G,I.hasError=!0}function Y(){for(;I.stack.length;){var G=I.stack.pop();try{var X=G.dispose&&G.dispose.call(G.value);if(G.async)return Promise.resolve(X).then(Y,function(U){return u(U),Y()})}catch(U){u(U)}}if(I.hasError)throw I.error}return Y()}S.default={__extends:O,__assign:k,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:p,__createBinding:M,__exportStar:P,__values:B,__read:F,__spread:W,__spreadArrays:Q,__spreadArray:H,__await:Z,__asyncGenerator:ot,__asyncDelegator:rt,__asyncValues:At,__makeTemplateObject:pt,__importStar:Tt,__importDefault:Ot,__classPrivateFieldGet:xt,__classPrivateFieldSet:ht,__classPrivateFieldIn:kt,__addDisposableResource:Gt,__disposeResources:tt}},61102:function(){},50817:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.registerAnimation=S.getAnimation=void 0;var v={};function x(k){return v[k.toLowerCase()]}S.getAnimation=x;function O(k,_){v[k.toLowerCase()]=_}S.registerAnimation=O},97488:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.doGroupAppearAnimate=S.doAnimate=S.getDefaultAnimateCfg=S.DEFAULT_ANIMATE_CFG=void 0;var x=v(13008),O=v(49242),k=v(78646),_=v(50817);S.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var T={interval:function(y){return{enter:{animation:y.isRect?y.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:y.isPolar&&y.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},A={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(y){var m;return y.isRect?m=y.isTransposed?"grow-in-x":"grow-in-y":(m="grow-in-xy",y.isPolar&&y.isTransposed&&(m="wave-in")),{animation:m}},schema:function(y){var m;return y.isRect?m=y.isTransposed?"grow-in-x":"grow-in-y":m="grow-in-xy",{animation:m}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function C(y,m){return{delay:O.isFunction(y.delay)?y.delay(m):y.delay,easing:O.isFunction(y.easing)?y.easing(m):y.easing,duration:O.isFunction(y.duration)?y.duration(m):y.duration,callback:y.callback}}function E(y,m,p){var M=T[y];return M&&(O.isFunction(M)&&(M=M(m)),M=O.deepMix({},S.DEFAULT_ANIMATE_CFG,M),p)?M[p]:M}S.getDefaultAnimateCfg=E;function g(y,m,p){var M=O.get(y.get("origin"),"data",k.FIELD_ORIGIN),P=m.animation,B=C(m,M);if(P){var F=_.getAnimation(P);F&&F(y,B,p)}else y.animate(p.toAttrs,B)}S.doAnimate=g;function w(y,m,p,M,P){if(A[p]){var B=A[p](M),F=_.getAnimation(O.get(B,"animation",""));if(F){var W=x.__assign(x.__assign(x.__assign({},S.DEFAULT_ANIMATE_CFG.appear),B),m);y.stopAnimate(),F(y,W,{coordinate:M,minYPoint:P,toAttrs:null})}}}S.doGroupAppearAnimate=w},51315:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(13008),O=x.__importDefault(v(90494)),k=function(_){x.__extends(T,_);function T(A){var C=_.call(this)||this;C.destroyed=!1;var E=A.visible,g=E===void 0?!0:E;return C.visible=g,C}return T.prototype.show=function(){var A=this.visible;A||this.changeVisible(!0)},T.prototype.hide=function(){var A=this.visible;A&&this.changeVisible(!1)},T.prototype.destroy=function(){this.off(),this.destroyed=!0},T.prototype.changeVisible=function(A){this.visible!==A&&(this.visible=A)},T}(O.default);S.default=k},72282:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Controller=void 0;var x=v(49242),O=function(){function k(_){this.visible=!0,this.components=[],this.view=_}return k.prototype.clear=function(){x.each(this.components,function(_){_.component.destroy()}),this.components=[]},k.prototype.destroy=function(){this.clear()},k.prototype.getComponents=function(){return this.components},k.prototype.changeVisible=function(_){this.visible!==_&&(this.components.forEach(function(T){_?T.component.show():T.component.hide()}),this.visible=_)},k}();S.Controller=O},67984:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(13008),k=v(72282),_=250,T=function(w,y){var m=y.x-w.x,p=y.y-w.y;return Math.abs(m)>Math.abs(p)?m>0?"right":"left":p>0?"down":"up"},A=function(w,y){var m=Math.abs(y.x-w.x),p=Math.abs(y.y-w.y);return Math.sqrt(m*m+p*p)},C=function(w,y){var m=(w.x+y.x)/2,p=(w.y+y.y)/2;return{x:m,y:p}},E=function(w,y){if(!!w){for(var m=[],p=w.length,M=0;M<p;M++){var P=w[M],B=P.clientX,F=P.clientY,W=y.getPointByClient(B,F);m.push(W)}return m}},g=function(w){O.__extends(y,w);function y(m){var p=w.call(this,m)||this;return p.processEvent={},p.touchStart=function(M){var P=E(M.originalEvent.touches,p.canvas);!P||(M.points=P,p.reset(),p.startTime=Date.now(),p.startPoints=P,P.length>1?(p.startDistance=A(P[0],P[1]),p.center=C(P[0],P[1])):p.pressTimeout=setTimeout(function(){var B="press";M.direction="none",p.emitStart(B,M),p.emitEvent(B,M),p.eventType=B},_))},p.touchMove=function(M){var P=E(M.originalEvent.touches,p.canvas);if(!!P){p.clearPressTimeout(),M.points=P;var B=p.startPoints;if(!!B)if(P.length>1){var F=p.startDistance,W=A(P[0],P[1]);M.zoom=W/F,M.center=p.center,p.emitStart("pinch",M),p.emitEvent("pinch",M)}else{var Q=P[0].x-B[0].x,H=P[0].y-B[0].y,Z=p.direction||T(B[0],P[0]);p.direction=Z;var ot=p.getEventType(P);M.direction=Z,M.deltaX=Q,M.deltaY=H,p.emitStart(ot,M),p.emitEvent(ot,M);var rt=p.lastMoveTime,At=Date.now();At-rt>0&&(p.prevMoveTime=rt,p.prevMovePoints=p.lastMovePoints,p.lastMoveTime=At,p.lastMovePoints=P)}}},p.touchEnd=function(M){p.emitEnd(M);var P=p.lastMoveTime,B=Date.now();if(B-P<100){var F=p.prevMoveTime||p.startTime,W=P-F;if(W>0){var Q=p.prevMovePoints||p.startPoints,H=p.lastMovePoints,Z=A(Q[0],H[0])/W;Z>.3&&(M.velocity=Z,M.direction=T(Q[0],H[0]),p.emitEvent("swipe",M))}}p.reset();var ot=M.touches;ot&&ot.length>0&&p.touchStart(M)},p.canvas=m.getCanvas(),p.delegateEvent(),p.processEvent={},p}return Object.defineProperty(y.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),y.prototype.init=function(){},y.prototype.render=function(){},y.prototype.layout=function(){},y.prototype.update=function(){},y.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},y.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},y.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},y.prototype.emitEvent=function(m,p){var M=this.view;M.emit(m,p)},y.prototype.emitStart=function(m,p){this.isProcess(m)||(this.enable(m),this.emitEvent(m+"start",p))},y.prototype.emitEnd=function(m){var p=this,M=this.processEvent;Object.keys(M).forEach(function(P){p.emitEvent(P+"end",m),delete M[P]})},y.prototype.enable=function(m){this.processEvent[m]=!0},y.prototype.isProcess=function(m){return this.processEvent[m]},y.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},y.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},y.prototype.getEventType=function(m){var p=this,M=p.eventType,P=p.view,B=p.startTime,F=p.startPoints;if(M)return M;var W,Q=P.getEvents().pan;if(!Q||!Q.length)W="press";else{var H=Date.now();H-B>_&&A(F[0],m[0])<10?W="press":W="pan"}return this.eventType=W,W},y}(k.Controller);S.Z=g},13733:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(13008),k=v(49242),_=v(96397),T=v(83714),A=v(38674),C=v(97127),E=v(72282);function g(y){for(var m=[],p=function(P){var B=y[P],F=k.find(m,function(W){return W.color===B.color&&W.name===B.name&&W.value===B.value&&W.title===B.title});F||m.push(B)},M=0;M<y.length;M++)p(M);return m}var w=function(y){O.__extends(m,y);function m(){var p=y!==null&&y.apply(this,arguments)||this;return p.isLocked=!1,p}return Object.defineProperty(m.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),m.prototype.init=function(){},m.prototype.isVisible=function(){var p=this.view.getOptions().tooltip;return p!==!1},m.prototype.render=function(){},m.prototype.showTooltip=function(p){if(this.point=p,!!this.isVisible()){var M=this.view,P=this.getTooltipItems(p);if(!P.length){this.hideTooltip();return}var B=this.getTitle(P),F={x:P[0].x,y:P[0].y};M.emit("tooltip:show",O.__assign({items:P,title:B},p));var W=this.getTooltipCfg(),Q=W.follow,H=W.showMarkers,Z=W.showCrosshairs,ot=W.showContent,rt=W.marker,At=this.items,pt=this.title;if(!k.isEqual(pt,B)||!k.isEqual(At,P)?(M.emit("tooltip:change",O.__assign({items:P,title:B},p)),ot&&(this.tooltip||this.renderTooltip(),this.tooltip.update(k.mix({},W,{items:P,title:B},Q?p:{})),this.tooltip.show()),H&&this.renderTooltipMarkers(P,rt)):(this.tooltip&&Q&&(this.tooltip.update(p),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=P,this.title=B,Z){var Ft=k.get(W,["crosshairs","follow"],!1);this.renderCrosshairs(Ft?p:F,W)}}},m.prototype.hideTooltip=function(){var p=this.getTooltipCfg().follow;if(!p){this.point=null;return}var M=this.tooltipMarkersGroup;M&&M.hide();var P=this.xCrosshair,B=this.yCrosshair;P&&P.hide(),B&&B.hide();var F=this.tooltip;F&&F.hide(),this.view.emit("tooltip:hide",{}),this.point=null},m.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},m.prototype.unlockTooltip=function(){this.isLocked=!1;var p=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(p.capture)},m.prototype.isTooltipLocked=function(){return this.isLocked},m.prototype.clear=function(){var p=this,M=p.tooltip,P=p.xCrosshair,B=p.yCrosshair,F=p.tooltipMarkersGroup;M&&(M.hide(),M.clear()),P&&P.clear(),B&&B.clear(),F&&F.clear()},m.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},m.prototype.changeVisible=function(p){if(this.visible!==p){var M=this,P=M.tooltip,B=M.tooltipMarkersGroup,F=M.xCrosshair,W=M.yCrosshair;p?(P&&P.show(),B&&B.show(),F&&F.show(),W&&W.show()):(P&&P.hide(),B&&B.hide(),F&&F.hide(),W&&W.hide()),this.visible=p}},m.prototype.getTooltipItems=function(p){var M=this.findItemsFromView(this.view,p);if(M.length){M=k.flatten(M);for(var P=0,B=M;P<B.length;P++)for(var F=B[P],W=0,Q=F;W<Q.length;W++){var H=Q[W],Z=H.mappingData,ot=Z.x,rt=Z.y;H.x=k.isArray(ot)?ot[ot.length-1]:ot,H.y=k.isArray(rt)?rt[rt.length-1]:rt}var At=this.getTooltipCfg().shared;if(At===!1&&M.length>1){for(var pt=M[0],Ft=Math.abs(p.y-pt[0].y),Tt=0,Ot=M;Tt<Ot.length;Tt++){var xt=Ot[Tt],ht=Math.abs(p.y-xt[0].y);ht<=Ft&&(pt=xt,Ft=ht)}M=[pt]}return g(k.flatten(M))}return[]},m.prototype.layout=function(){},m.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var p=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:p.get("width"),y:p.get("height")}})}},m.prototype.getTooltipCfg=function(){var p=this.view,M=p.getOptions().tooltip,P=p.getTheme(),B=k.get(P,["components","tooltip"],{}),F=k.isUndefined(k.get(M,"enterable"))?B.enterable:k.get(M,"enterable");return k.deepMix({},B,M,{capture:!!(F||this.isLocked)})},m.prototype.getTitle=function(p){var M=p[0].title||p[0].name;return this.title=M,M},m.prototype.renderTooltip=function(){var p=this.view.getCanvas(),M={start:{x:0,y:0},end:{x:p.get("width"),y:p.get("height")}},P=this.getTooltipCfg(),B=new _.HtmlTooltip(O.__assign(O.__assign({parent:p.get("el").parentNode,region:M},P),{visible:!1,crosshairs:null}));B.init(),this.tooltip=B},m.prototype.renderTooltipMarkers=function(p,M){for(var P=this.getTooltipMarkersGroup(),B=0,F=p;B<F.length;B++){var W=F[B],Q=W.x,H=W.y,Z=O.__assign(O.__assign({fill:W.color,symbol:"circle",shadowColor:W.color},M),{x:Q,y:H});P.addShape("marker",{attrs:Z})}},m.prototype.renderCrosshairs=function(p,M){var P=k.get(M,["crosshairs","type"],"x");P==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(p,M)):P==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(p,M)):P==="xy"&&(this.renderXCrosshairs(p,M),this.renderYCrosshairs(p,M))},m.prototype.renderXCrosshairs=function(p,M){var P=this.getViewWithGeometry(this.view).getCoordinate();if(!!T.isPointInCoordinate(P,p)){var B,F;if(P.isRect)P.isTransposed?(B={x:P.start.x,y:p.y},F={x:P.end.x,y:p.y}):(B={x:p.x,y:P.end.y},F={x:p.x,y:P.start.y});else{var W=T.getAngleByPoint(P,p),Q=P.getCenter(),H=P.getRadius();F=A.polarToCartesian(Q.x,Q.y,H,W),B=Q}var Z=k.deepMix({start:B,end:F,container:this.getTooltipCrosshairsGroup()},k.get(M,"crosshairs",{}),this.getCrosshairsText("x",p,M));delete Z.type;var ot=this.xCrosshair;ot?ot.update(Z):(ot=new _.Crosshair.Line(Z),ot.init()),ot.render(),ot.show(),this.xCrosshair=ot}},m.prototype.renderYCrosshairs=function(p,M){var P=this.getViewWithGeometry(this.view).getCoordinate();if(!!T.isPointInCoordinate(P,p)){var B,F;if(P.isRect){var W=void 0,Q=void 0;P.isTransposed?(W={x:p.x,y:P.end.y},Q={x:p.x,y:P.start.y}):(W={x:P.start.x,y:p.y},Q={x:P.end.x,y:p.y}),B={start:W,end:Q},F="Line"}else B={center:P.getCenter(),radius:T.getDistanceToCenter(P,p),startAngle:P.startAngle,endAngle:P.endAngle},F="Circle";B=k.deepMix({container:this.getTooltipCrosshairsGroup()},B,k.get(M,"crosshairs",{}),this.getCrosshairsText("y",p,M)),delete B.type;var H=this.yCrosshair;H?P.isRect&&H.get("type")==="circle"||!P.isRect&&H.get("type")==="line"?(H=new _.Crosshair[F](B),H.init()):H.update(B):(H=new _.Crosshair[F](B),H.init()),H.render(),H.show(),this.yCrosshair=H}},m.prototype.getCrosshairsText=function(p,M,P){var B=k.get(P,["crosshairs","text"]),F=k.get(P,["crosshairs","follow"]),W=this.items;if(B){var Q=this.getViewWithGeometry(this.view),H=W[0],Z=Q.getXScale(),ot=Q.getYScales()[0],rt=void 0,At=void 0;if(F){var pt=this.view.getCoordinate().invert(M);rt=Z.invert(pt.x),At=ot.invert(pt.y)}else rt=H.data[Z.field],At=H.data[ot.field];var Ft=p==="x"?rt:At;return k.isFunction(B)?B=B(p,Ft,W,M):B.content=Ft,{text:B}}},m.prototype.getGuideGroup=function(){if(!this.guideGroup){var p=this.view.foregroundGroup;this.guideGroup=p.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},m.prototype.getTooltipMarkersGroup=function(){var p=this.tooltipMarkersGroup;return p&&!p.destroyed?(p.clear(),p.show()):(p=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),p.toFront(),this.tooltipMarkersGroup=p),p},m.prototype.getTooltipCrosshairsGroup=function(){var p=this.tooltipCrosshairsGroup;return p||(p=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),p.toBack(),this.tooltipCrosshairsGroup=p),p},m.prototype.getTooltipItemsByHitShape=function(p,M,P){var B=[],F=p.container,W=F.getShape(M.x,M.y);if(W&&W.get("visible")&&W.get("origin")){var Q=W.get("origin").mappingData,H=C.getTooltipItems(Q,p,P);H.length&&B.push(H)}return B},m.prototype.getTooltipItemsByFindData=function(p,M,P){var B=[],F=p.dataArray;p.sort(F);for(var W=0,Q=F;W<Q.length;W++){var H=Q[W],Z=C.findDataByPoint(M,H,p);if(Z){var ot=p.getElementId(Z),rt=p.elementsMap[ot];if(p.type==="heatmap"||rt.visible){var At=C.getTooltipItems(Z,p,P);At.length&&B.push(At)}}}return B},m.prototype.findItemsFromView=function(p,M){if(p.getOptions().tooltip===!1)return[];for(var P=[],B=p.geometries,F=this.getTooltipCfg(),W=F.shared,Q=F.title,H=0,Z=B;H<Z.length;H++){var ot=Z[H];if(ot.visible&&ot.tooltipOption!==!1){var rt=ot.type,At=void 0;["point","edge","polygon"].includes(rt)?At=this.getTooltipItemsByHitShape(ot,M,Q):["area","line","path","heatmap"].includes(rt)?At=this.getTooltipItemsByFindData(ot,M,Q):W!==!1?At=this.getTooltipItemsByFindData(ot,M,Q):At=this.getTooltipItemsByHitShape(ot,M,Q),At.length&&P.push(At)}}for(var pt=0,Ft=p.views;pt<Ft.length;pt++){var Tt=Ft[pt];P=P.concat(this.findItemsFromView(Tt,M))}return P},m.prototype.getViewWithGeometry=function(p){var M=this;return p.geometries.length?p:k.find(p.views,function(P){return M.getViewWithGeometry(P)})},m}(E.Controller);S.Z=w},78646:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.COMPONENT_MAX_VIEW_PERCENTAGE=S.MIN_CHART_HEIGHT=S.MIN_CHART_WIDTH=S.FIELD_ORIGIN=S.GROUP_ATTRS=S.ELEMENT_STATE=S.PLOT_EVENTS=S.VIEW_LIFE_CIRCLE=S.GROUP_Z_INDEX=S.COMPONENT_TYPE=S.DIRECTION=S.LAYER=void 0;var v;(function(A){A.FORE="fore",A.MID="mid",A.BG="bg"})(v=S.LAYER||(S.LAYER={}));var x;(function(A){A.TOP="top",A.TOP_LEFT="top-left",A.TOP_RIGHT="top-right",A.RIGHT="right",A.RIGHT_TOP="right-top",A.RIGHT_BOTTOM="right-bottom",A.LEFT="left",A.LEFT_TOP="left-top",A.LEFT_BOTTOM="left-bottom",A.BOTTOM="bottom",A.BOTTOM_LEFT="bottom-left",A.BOTTOM_RIGHT="bottom-right",A.RADIUS="radius",A.CIRCLE="circle",A.NONE="none"})(x=S.DIRECTION||(S.DIRECTION={}));var O;(function(A){A.AXIS="axis",A.GRID="grid",A.LEGEND="legend",A.TOOLTIP="tooltip",A.ANNOTATION="annotation",A.OTHER="other"})(O=S.COMPONENT_TYPE||(S.COMPONENT_TYPE={})),S.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var k;(function(A){A.BEFORE_RENDER="beforerender",A.AFTER_RENDER="afterrender",A.BEFORE_PAINT="beforepaint",A.AFTER_PAINT="afterpaint",A.BEFORE_CHANGE_DATA="beforechangedata",A.AFTER_CHANGE_DATA="afterchangedata",A.BEFORE_CLEAR="beforeclear",A.AFTER_CLEAR="afterclear",A.BEFORE_DESTROY="beforedestroy"})(k=S.VIEW_LIFE_CIRCLE||(S.VIEW_LIFE_CIRCLE={}));var _;(function(A){A.MOUSE_ENTER="plot:mouseenter",A.MOUSE_DOWN="plot:mousedown",A.MOUSE_MOVE="plot:mousemove",A.MOUSE_UP="plot:mouseup",A.MOUSE_LEAVE="plot:mouseleave",A.TOUCH_START="plot:touchstart",A.TOUCH_MOVE="plot:touchmove",A.TOUCH_END="plot:touchend",A.TOUCH_CANCEL="plot:touchcancel",A.CLICK="plot:click",A.DBLCLICK="plot:dblclick",A.CONTEXTMENU="plot:contextmenu",A.LEAVE="plot:leave",A.ENTER="plot:enter"})(_=S.PLOT_EVENTS||(S.PLOT_EVENTS={}));var T;(function(A){A.ACTIVE="active",A.INACTIVE="inactive",A.SELECTED="selected",A.DEFAULT="default"})(T=S.ELEMENT_STATE||(S.ELEMENT_STATE={})),S.GROUP_ATTRS=["color","shape","size"],S.FIELD_ORIGIN="_origin",S.MIN_CHART_WIDTH=1,S.MIN_CHART_HEIGHT=1,S.COMPONENT_MAX_VIEW_PERCENTAGE=.25},96397:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Slider=S.HtmlTooltip=S.ContinuousLegend=S.CategoryLegend=S.CircleGrid=S.LineGrid=S.CircleAxis=S.LineAxis=S.Annotation=S.Crosshair=S.Component=S.GroupComponent=S.HtmlComponent=void 0;var x=v(65722);Object.defineProperty(S,"Event",{enumerable:!0,get:function(){return x.Event}}),Object.defineProperty(S,"AbstractGroup",{enumerable:!0,get:function(){return x.AbstractGroup}}),Object.defineProperty(S,"AbstractShape",{enumerable:!0,get:function(){return x.AbstractShape}});var O=v(68060);Object.defineProperty(S,"registerAdjust",{enumerable:!0,get:function(){return O.registerAdjust}}),Object.defineProperty(S,"getAdjust",{enumerable:!0,get:function(){return O.getAdjust}}),Object.defineProperty(S,"Adjust",{enumerable:!0,get:function(){return O.Adjust}});var k=v(25228);Object.defineProperty(S,"getAttribute",{enumerable:!0,get:function(){return k.getAttribute}}),Object.defineProperty(S,"Attribute",{enumerable:!0,get:function(){return k.Attribute}});var _=v(58368);Object.defineProperty(S,"Color",{enumerable:!0,get:function(){return _.Color}});var T=v(13541);Object.defineProperty(S,"getCoordinate",{enumerable:!0,get:function(){return T.getCoordinate}}),Object.defineProperty(S,"registerCoordinate",{enumerable:!0,get:function(){return T.registerCoordinate}}),Object.defineProperty(S,"Coordinate",{enumerable:!0,get:function(){return T.Coordinate}});var A=v(72469);Object.defineProperty(S,"getScale",{enumerable:!0,get:function(){return A.getScale}}),Object.defineProperty(S,"registerScale",{enumerable:!0,get:function(){return A.registerScale}}),Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return A.Scale}});var C=v(51441);Object.defineProperty(S,"Annotation",{enumerable:!0,get:function(){return C.Annotation}}),Object.defineProperty(S,"Component",{enumerable:!0,get:function(){return C.Component}}),Object.defineProperty(S,"Crosshair",{enumerable:!0,get:function(){return C.Crosshair}}),Object.defineProperty(S,"GroupComponent",{enumerable:!0,get:function(){return C.GroupComponent}}),Object.defineProperty(S,"HtmlComponent",{enumerable:!0,get:function(){return C.HtmlComponent}}),Object.defineProperty(S,"Slider",{enumerable:!0,get:function(){return C.Slider}});var E=C.Axis.Line,g=C.Axis.Circle;S.LineAxis=E,S.CircleAxis=g;var w=C.Grid.Line,y=C.Grid.Circle;S.LineGrid=w,S.CircleGrid=y;var m=C.Legend.Category,p=C.Legend.Continuous;S.CategoryLegend=m,S.ContinuousLegend=p;var M=C.Tooltip.Html;S.HtmlTooltip=M},98880:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(13008),k=v(49242),_=v(97488),T=O.__importDefault(v(51315)),A=v(38674),C=v(31207),E=function(g){O.__extends(w,g);function w(y){var m=g.call(this,y)||this;m.states=[];var p=y.shapeFactory,M=y.container,P=y.offscreenGroup,B=y.visible,F=B===void 0?!0:B;return m.shapeFactory=p,m.container=M,m.offscreenGroup=P,m.visible=F,m}return w.prototype.draw=function(y,m){m===void 0&&(m=!1),this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.drawShape(y,m),this.visible===!1&&this.changeVisible(!1)},w.prototype.update=function(y){var m=this,p=m.shapeFactory,M=m.shape;if(!!M){this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.setShapeInfo(M,y);var P=this.getOffscreenGroup(),B=p.drawShape(this.shapeType,y,P);B.cfg.data=this.data,B.cfg.origin=y,this.syncShapeStyle(M,B,"",this.getAnimateCfg("update"))}},w.prototype.destroy=function(){var y=this,m=y.shapeFactory,p=y.shape;if(p){var M=this.getAnimateCfg("leave");M?_.doAnimate(p,M,{coordinate:m.coordinate,toAttrs:O.__assign({},p.attr())}):p.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,g.prototype.destroy.call(this)},w.prototype.changeVisible=function(y){g.prototype.changeVisible.call(this,y),y?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(m){m.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(m){m.hide()}))},w.prototype.setState=function(y,m){var p=this,M=this,P=M.states,B=M.shapeFactory,F=M.model,W=M.shape,Q=M.shapeType,H=P.indexOf(y);if(m){if(H>-1)return;P.push(y),(y==="active"||y==="selected")&&W.toFront()}else{if(H===-1)return;P.splice(H,1),(y==="active"||y==="selected")&&W.toBack()}var Z=B.drawShape(Q,F,this.getOffscreenGroup());P.length?P.forEach(function(rt){p.syncShapeStyle(W,Z,rt,null)}):this.syncShapeStyle(W,Z,"reset",null),Z.remove(!0);var ot={state:y,stateStatus:m,element:this,target:this.container};this.container.emit("statechange",ot),C.propagationDelegate(this.shape,"statechange",ot)},w.prototype.clearStates=function(){var y=this,m=this.states;k.each(m,function(p){y.setState(p,!1)}),this.states=[]},w.prototype.hasState=function(y){return this.states.includes(y)},w.prototype.getStates=function(){return this.states},w.prototype.getData=function(){return this.data},w.prototype.getModel=function(){return this.model},w.prototype.getBBox=function(){var y=this,m=y.shape,p=y.labelShape,M={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return m&&(M=m.getCanvasBBox()),p&&p.forEach(function(P){var B=P.getCanvasBBox();M.x=Math.min(B.x,M.x),M.y=Math.min(B.y,M.y),M.minX=Math.min(B.minX,M.minX),M.minY=Math.min(B.minY,M.minY),M.maxX=Math.max(B.maxX,M.maxX),M.maxY=Math.max(B.maxY,M.maxY)}),M.width=M.maxX-M.minX,M.height=M.maxY-M.minY,M},w.prototype.getStatesStyle=function(){if(!this.statesStyle){var y=this,m=y.shapeType,p=y.geometry,M=y.shapeFactory,P=p.stateOption,B=M.defaultShapeType,F=M.theme[m]||M.theme[B];this.statesStyle=k.deepMix({},F,P)}return this.statesStyle},w.prototype.getStateStyle=function(y,m){var p=this.getStatesStyle(),M=k.get(p,[y,"style"],{}),P=M[m]||M;return k.isFunction(P)?P(this):P},w.prototype.getAnimateCfg=function(y){var m=this.animate;return m?m[y]:null},w.prototype.drawShape=function(y,m){m===void 0&&(m=!1);var p=this,M=p.shapeFactory,P=p.container,B=p.shapeType;if(this.shape=M.drawShape(B,y,P),this.shape){this.setShapeInfo(this.shape,y);var F=this.shape.cfg.name;F?k.isString(F)&&(this.shape.cfg.name=["element",F]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var W=m?"enter":"appear",Q=this.getAnimateCfg(W);Q&&_.doAnimate(this.shape,Q,{coordinate:M.coordinate,toAttrs:O.__assign({},this.shape.attr())})}},w.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var y=this.container.getGroupBase();this.offscreenGroup=new y({})}return this.offscreenGroup},w.prototype.setShapeInfo=function(y,m){var p=this;if(y.cfg.origin=m,y.cfg.element=this,y.isGroup()){var M=y.get("children");M.forEach(function(P){p.setShapeInfo(P,m)})}},w.prototype.syncShapeStyle=function(y,m,p,M,P){if(p===void 0&&(p=""),P===void 0&&(P=0),y.isGroup())for(var B=y.get("children"),F=m.get("children"),W=0;W<B.length;W++)this.syncShapeStyle(B[W],F[W],p,M,P+W);else{if(p&&p!=="reset"){var Q=y.get("name");k.isArray(Q)&&(Q=Q[1]);var H=this.getStateStyle(p,Q||P);m.attr(H)}var Z=A.getReplaceAttrs(y,m);this.animate?M?_.doAnimate(y,M,{coordinate:this.shapeFactory.coordinate,toAttrs:Z,shapeModel:this.model}):p?(y.stopAnimate(),y.animate(Z,{duration:300})):y.attr(Z):y.attr(Z)}},w.prototype.getShapeType=function(y){var m=k.get(y,"shape");return k.isArray(m)?m[0]:m},w}(T.default);x=E},78685:function(ft,S,v){"use strict";var x;x={value:!0},S.iV=x=x=void 0;var O=v(13008),k=v(90835),_=v(95280);x=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],x=["cross","tick","plus","hyphen","line"];function T(A,C,E,g,w){var y=_.getStyle(C,w,!w,"r"),m=A.parsePoints(C.points),p=m[0];if(C.isStack)p=m[1];else if(m.length>1){for(var M=E.addGroup(),P=0,B=m;P<B.length;P++){var F=B[P];M.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},y),{symbol:k.MarkerSymbols[g]||g}),F)})}return M}return E.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},y),{symbol:k.MarkerSymbols[g]||g}),p)})}S.iV=T},95280:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getStyle=void 0;var x=v(13008),O=v(49242);function k(_,T,A,C){C===void 0&&(C="");var E=_.style,g=E===void 0?{}:E,w=_.defaultStyle,y=_.color,m=_.size,p=x.__assign(x.__assign({},w),g);return y&&(T&&(g.stroke||(p.stroke=y)),A&&(g.fill||(p.fill=y))),C&&O.isNil(g[C])&&!O.isNil(m)&&(p[C]=m),p}S.getStyle=k},89921:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.convertPolarPath=S.convertNormalPath=S.getSplinePath=S.getLinePath=S.catmullRom2bezier=S.smoothBezier=void 0;var x=v(43567),O=v(49242),k=v(83714);function _(p,M){var P=[];if(p.length){P.push(["M",p[0].x,p[0].y]);for(var B=1,F=p.length;B<F;B+=1){var W=p[B];P.push(["L",W.x,W.y])}M&&P.push(["Z"])}return P}function T(p,M){for(var P=[p[0]],B=1,F=p.length;B<F;B=B+2){var W=M.convert({x:p[B],y:p[B+1]});P.push(W.x,W.y)}return P}function A(p,M,P){var B=P.isTransposed,F=P.startAngle,W=P.endAngle,Q={x:p[1],y:p[2]},H={x:M[1],y:M[2]},Z=[],ot=B?"y":"x",rt=Math.abs(H[ot]-Q[ot])*(W-F),At=H[ot]>=Q[ot]?1:0,pt=rt>Math.PI?1:0,Ft=P.convert(H),Tt=k.getDistanceToCenter(P,Ft);if(Tt>=.5)if(rt===Math.PI*2){var Ot={x:(H.x+Q.x)/2,y:(H.y+Q.y)/2},xt=P.convert(Ot);Z.push(["A",Tt,Tt,0,pt,At,xt.x,xt.y]),Z.push(["A",Tt,Tt,0,pt,At,Ft.x,Ft.y])}else Z.push(["A",Tt,Tt,0,pt,At,Ft.x,Ft.y]);return Z}function C(p){O.each(p,function(M,P){var B=M;if(B[0].toLowerCase()==="a"){var F=p[P-1],W=p[P+1];W&&W[0].toLowerCase()==="a"?F&&F[0].toLowerCase()==="l"&&(F[0]="M"):F&&F[0].toLowerCase()==="a"&&W&&W[0].toLowerCase()==="l"&&(W[0]="M")}})}S.smoothBezier=function(p,M,P,B){var F=[],W,Q,H=!!B,Z,ot;if(H){Z=[Infinity,Infinity],ot=[-Infinity,-Infinity];for(var rt=0,At=p.length;rt<At;rt++){var pt=p[rt];Z=x.vec2.min([0,0],Z,pt),ot=x.vec2.max([0,0],ot,pt)}Z=x.vec2.min([0,0],Z,B[0]),ot=x.vec2.max([0,0],ot,B[1])}for(var rt=0,Ft=p.length;rt<Ft;rt++){var pt=p[rt];if(P)W=p[rt?rt-1:Ft-1],Q=p[(rt+1)%Ft];else if(rt===0||rt===Ft-1){F.push(pt);continue}else W=p[rt-1],Q=p[rt+1];var Tt=[0,0];Tt=x.vec2.sub(Tt,Q,W),Tt=x.vec2.scale(Tt,Tt,M);var Ot=x.vec2.distance(pt,W),xt=x.vec2.distance(pt,Q),ht=Ot+xt;ht!==0&&(Ot/=ht,xt/=ht);var kt=x.vec2.scale([0,0],Tt,-Ot),Gt=x.vec2.scale([0,0],Tt,xt),dt=x.vec2.add([0,0],pt,kt),tt=x.vec2.add([0,0],pt,Gt);H&&(dt=x.vec2.max([0,0],dt,Z),dt=x.vec2.min([0,0],dt,ot),tt=x.vec2.max([0,0],tt,Z),tt=x.vec2.min([0,0],tt,ot)),F.push(dt),F.push(tt)}return P&&F.push(F.shift()),F};function E(p,M,P){for(var B=!!M,F=[],W=0,Q=p.length;W<Q;W+=2)F.push([p[W],p[W+1]]);for(var H=S.smoothBezier(F,.4,B,P),Z=F.length,ot=[],rt,At,pt,W=0;W<Z-1;W++)rt=H[W*2],At=H[W*2+1],pt=F[W+1],ot.push(["C",rt[0],rt[1],At[0],At[1],pt[0],pt[1]]);return B&&(rt=H[Z],At=H[Z+1],pt=F[0],ot.push(["C",rt[0],rt[1],At[0],At[1],pt[0],pt[1]])),ot}S.catmullRom2bezier=E;function g(p,M){return _(p,M)}S.getLinePath=g;function w(p,M,P){var B=[],F=p[0],W=null;if(p.length<=2)return g(p,M);for(var Q=0,H=p.length;Q<H;Q++){var Z=p[Q];(!W||!(W.x===Z.x&&W.y===Z.y))&&(B.push(Z.x),B.push(Z.y),W=Z)}var ot=P||[[0,0],[1,1]],rt=E(B,M,ot);return rt.unshift(["M",F.x,F.y]),rt}S.getSplinePath=w;function y(p,M){var P=[];return O.each(M,function(B){var F=B[0];switch(F.toLowerCase()){case"m":case"l":case"c":P.push(T(B,p));break;case"z":default:P.push(B);break}}),P}S.convertNormalPath=y;function m(p,M){var P=[],B,F,W,Q;return O.each(M,function(H,Z){var ot=H[0];switch(ot.toLowerCase()){case"m":case"c":case"q":P.push(T(H,p));break;case"l":B=M[Z-1],F=H,W=p.isTransposed,Q=W?B[B.length-2]===F[1]:B[B.length-1]===F[2],Q?P=P.concat(A(B,F,p)):P.push(T(H,p));break;case"z":default:P.push(H);break}}),C(P),P}S.convertPolarPath=m},54244:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=function(){function k(_,T){this.context=_,this.cfg=T,_.addAction(this)}return k.prototype.applyCfg=function(_){x.assign(this,_)},k.prototype.init=function(){this.applyCfg(this.cfg)},k.prototype.destroy=function(){this.context.removeAction(this),this.context=null},k}();S.default=O},32479:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(13008),O=x.__importDefault(v(54244)),k=function(_){x.__extends(T,_);function T(){return _!==null&&_.apply(this,arguments)||this}return T.prototype.execute=function(){this.callback&&this.callback(this.context)},T.prototype.destroy=function(){_.prototype.destroy.call(this),this.callback=null},T}(O.default);S.default=k},9154:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.createCallbackAction=S.unregisterAction=S.registerAction=S.getActionClass=S.createAction=void 0;var x=v(13008),O=x.__importDefault(v(32479)),k=v(49242),_={};function T(w,y){var m=_[w],p=null;if(m){var M=m.ActionClass,P=m.cfg;p=new M(y,P),p.name=w,p.init()}return p}S.createAction=T;function A(w){var y=_[w];return k.get(y,"ActionClass")}S.getActionClass=A;function C(w,y,m){_[w]={ActionClass:y,cfg:m}}S.registerAction=C;function E(w){delete _[w]}S.unregisterAction=E;function g(w,y){var m=new O.default(y);return m.callback=w,m.name="callback",m}S.createCallbackAction=g},85506:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getScaleByField=S.isInRecords=S.getSiblingPoint=S.getSilbings=S.isInBox=S.getSpline=S.distance=S.getComponents=S.getElementsByPath=S.getIntersectElements=S.intersectRect=S.getElementValue=S.getElementsByState=S.getElementsByField=S.getElements=S.getSiblingMaskElements=S.getMaskedElements=S.isMask=S.isSlider=S.isList=S.isElementChange=S.getDelegationObject=S.getCurrentElement=void 0;var x=v(13008),O=v(49242),k=v(89921),_=v(62810),T=x.__importDefault(v(70146));function A(dt,tt){var I=dt.event,u=I.target,Y=u.getCanvasBBox();return Y.width>=tt||Y.height>=tt?Y:null}function C(dt,tt){var I=dt.event,u=I.target,Y=u.getCanvasBBox();return Y.width>=tt||Y.height>=tt?u.attr("path"):null}function E(dt){var tt=dt.event,I,u=tt.target;return u&&(I=u.get("element")),I}S.getCurrentElement=E;function g(dt){var tt=dt.event,I=tt.target,u;return I&&(u=I.get("delegateObject")),u}S.getDelegationObject=g;function w(dt){var tt=dt.event.gEvent;return!(tt&&tt.fromShape&&tt.toShape&&tt.fromShape.get("element")===tt.toShape.get("element"))}S.isElementChange=w;function y(dt){return dt&&dt.component&&dt.component.isList()}S.isList=y;function m(dt){return dt&&dt.component&&dt.component.isSlider()}S.isSlider=m;function p(dt){var tt=dt.event,I=tt.target;return I&&I.get("name")==="mask"}S.isMask=p;function M(dt,tt){var I=dt.event.target;if(I.get("type")==="path"){var u=C(dt,tt);return u?rt(dt.view,u):void 0}var Y=A(dt,tt);return Y?Z(dt.view,Y):null}S.getMaskedElements=M;function P(dt,tt,I){var u=A(dt,I);if(!u)return null;var Y=dt.view,G=ht(Y,tt,{x:u.x,y:u.y}),X=ht(Y,tt,{x:u.maxX,y:u.maxY}),U={minX:G.x,minY:G.y,maxX:X.x,maxY:X.y};return Z(tt,U)}S.getSiblingMaskElements=P;function B(dt){var tt=dt.geometries,I=[];return O.each(tt,function(u){var Y=u.elements;I=I.concat(Y)}),dt.views&&dt.views.length&&O.each(dt.views,function(u){I=I.concat(B(u))}),I}S.getElements=B;function F(dt,tt,I){var u=B(dt);return u.filter(function(Y){return Q(Y,tt)===I})}S.getElementsByField=F;function W(dt,tt){var I=dt.geometries,u=[];return O.each(I,function(Y){var G=Y.getElementsBy(function(X){return X.hasState(tt)});u=u.concat(G)}),u}S.getElementsByState=W;function Q(dt,tt){var I=dt.getModel(),u=I.data,Y;return O.isArray(u)?Y=u[0][tt]:Y=u[tt],Y}S.getElementValue=Q;function H(dt,tt){return!(tt.minX>dt.maxX||tt.maxX<dt.minX||tt.minY>dt.maxY||tt.maxY<dt.minY)}S.intersectRect=H;function Z(dt,tt){var I=B(dt),u=[];return O.each(I,function(Y){var G=Y.shape,X=G.getCanvasBBox();H(tt,X)&&u.push(Y)}),u}S.getIntersectElements=Z;function ot(dt){var tt=[];return O.each(dt,function(I){var u=I[0];if(u!=="A")for(var Y=1;Y<I.length;Y=Y+2)tt.push([I[Y],I[Y+1]]);else{var G=I.length;tt.push([I[G-2],I[G-1]])}}),tt}function rt(dt,tt){var I=B(dt),u=ot(tt),Y=I.filter(function(G){var X=G.shape,U;if(X.get("type")==="path")U=ot(X.attr("path"));else{var J=X.getCanvasBBox();U=_.toPoints(J)}return T.default(u,U)});return Y}S.getElementsByPath=rt;function At(dt){return dt.getComponents().map(function(tt){return tt.component})}S.getComponents=At;function pt(dt,tt){var I=tt.x-dt.x,u=tt.y-dt.y;return Math.sqrt(I*I+u*u)}S.distance=pt;function Ft(dt,tt){if(dt.length<=2)return k.getLinePath(dt,!1);var I=dt[0],u=[];O.each(dt,function(G){u.push(G.x),u.push(G.y)});var Y=k.catmullRom2bezier(u,tt,null);return Y.unshift(["M",I.x,I.y]),Y}S.getSpline=Ft;function Tt(dt,tt){return dt.x<=tt.x&&dt.maxX>=tt.x&&dt.y<=tt.y&&dt.maxY>tt.y}S.isInBox=Tt;function Ot(dt){var tt=dt.parent,I=null;return tt&&(I=tt.views.filter(function(u){return u!==dt})),I}S.getSilbings=Ot;function xt(dt,tt){var I=dt.getCoordinate();return I.invert(tt)}function ht(dt,tt,I){var u=xt(dt,I);return tt.getCoordinate().convert(u)}S.getSiblingPoint=ht;function kt(dt,tt,I,u){var Y=!1;return O.each(dt,function(G){if(G[I]===tt[I]&&G[u]===tt[u])return Y=!0,!1}),Y}S.isInRecords=kt;function Gt(dt,tt){var I=dt.getScaleByField(tt);return!I&&dt.views&&O.each(dt.views,function(u){if(I=Gt(u,tt),I)return!1}),I}S.getScaleByField=Gt},94194:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=v(85506),k=function(){function _(T){this.actions=[],this.event=null,this.cacheMap={},this.view=T}return _.prototype.cache=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];if(T.length===1)return this.cacheMap[T[0]];T.length===2&&(this.cacheMap[T[0]]=T[1])},_.prototype.getAction=function(T){return this.actions.find(function(A){return A.name===T})},_.prototype.addAction=function(T){this.actions.push(T)},_.prototype.removeAction=function(T){var A=this.actions,C=this.actions.indexOf(T);C>=0&&A.splice(C,1)},_.prototype.getCurrentPoint=function(){var T=this.event;if(T)if(T.target instanceof HTMLElement){var A=this.view.getCanvas(),C=A.getPointByClient(T.clientX,T.clientY);return C}else return{x:T.x,y:T.y};return null},_.prototype.getCurrentShape=function(){return x.get(this.event,["gEvent","shape"])},_.prototype.isInPlot=function(){var T=this.getCurrentPoint();return T?this.view.isPointInPlot(T):!1},_.prototype.isInShape=function(T){var A=this.getCurrentShape();return A?A.get("name")===T:!1},_.prototype.isInComponent=function(T){var A=O.getComponents(this.view),C=this.getCurrentPoint();return C?!!A.find(function(E){var g=E.getBBox();return T?E.get("name")===T&&O.isInBox(g,C):O.isInBox(g,C)}):!1},_.prototype.destroy=function(){this.view=null,this.event=null,x.each(this.actions.slice(),function(T){T.destroy()}),this.actions=null,this.cacheMap=null},_}();S.default=k},86050:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(13008),k=v(49242),_=v(9154),T=O.__importDefault(v(94194)),A=O.__importDefault(v(38144));function C(y,m){var p=y.split(":"),M=p[0],P=m.getAction(M)||_.createAction(M,m);if(!P)throw new Error("There is no action named "+M);var B=p[1];return{action:P,methodName:B}}function E(y){var m=y.action,p=y.methodName;if(m[p])m[p]();else throw new Error("Action("+m.name+") doesn't have a method called "+p)}var g={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},w=function(y){O.__extends(m,y);function m(p,M){var P=y.call(this,p,M)||this;return P.callbackCaches={},P.emitCaches={},P.steps=M,P}return m.prototype.init=function(){this.initContext(),y.prototype.init.call(this)},m.prototype.destroy=function(){y.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},m.prototype.initEvents=function(){var p=this;k.each(this.steps,function(M,P){k.each(M,function(B){var F=p.getActionCallback(P,B);F&&p.bindEvent(B.trigger,F)})})},m.prototype.clearEvents=function(){var p=this;k.each(this.steps,function(M,P){k.each(M,function(B){var F=p.getActionCallback(P,B);F&&p.offEvent(B.trigger,F)})})},m.prototype.initContext=function(){var p=this.view,M=new T.default(p);this.context=M;var P=this.steps;k.each(P,function(B){k.each(B,function(F){if(k.isFunction(F.action))F.actionObject={action:_.createCallbackAction(F.action,M),methodName:"execute"};else if(k.isString(F.action))F.actionObject=C(F.action,M);else if(k.isArray(F.action)){var W=F.action;F.actionObject=[],k.each(W,function(Q){F.actionObject.push(C(Q,M))})}})})},m.prototype.isAllowStep=function(p){var M=this.currentStepName,P=this.steps;if(M===p||p===g.SHOW_ENABLE)return!0;if(p===g.PROCESSING)return M===g.START;if(p===g.START)return M!==g.PROCESSING;if(p===g.END)return M===g.PROCESSING||M===g.START;if(p===g.ROLLBACK){if(P[g.END])return M===g.END;if(M===g.START)return!0}return!1},m.prototype.isAllowExcute=function(p,M){if(this.isAllowStep(p)){var P=this.getKey(p,M);return M.once&&this.emitCaches[P]?!1:M.isEnable?M.isEnable(this.context):!0}return!1},m.prototype.enterStep=function(p){this.currentStepName=p,this.emitCaches={}},m.prototype.afterExecute=function(p,M){p!==g.SHOW_ENABLE&&this.currentStepName!==p&&this.enterStep(p);var P=this.getKey(p,M);this.emitCaches[P]=!0},m.prototype.getKey=function(p,M){return p+M.trigger+M.action},m.prototype.getActionCallback=function(p,M){var P=this,B=this.context,F=this.callbackCaches,W=M.actionObject;if(M.action&&W){var Q=this.getKey(p,M);if(!F[Q]){var H=function(Z){B.event=Z,P.isAllowExcute(p,M)?(k.isArray(W)?k.each(W,function(ot){B.event=Z,E(ot)}):(B.event=Z,E(W)),P.afterExecute(p,M),M.callback&&(B.event=Z,M.callback(B))):B.event=null};M.debounce?F[Q]=k.debounce(H,M.debounce.wait,M.debounce.immediate):M.throttle?F[Q]=k.throttle(H,M.throttle.wait,{leading:M.throttle.leading,trailing:M.throttle.trailing}):F[Q]=H}return F[Q]}return null},m.prototype.bindEvent=function(p,M){var P=p.split(":");P[0]==="window"?window.addEventListener(P[1],M):P[0]==="document"?document.addEventListener(P[1],M):this.view.on(p,M)},m.prototype.offEvent=function(p,M){var P=p.split(":");P[0]==="window"?window.removeEventListener(P[1],M):P[0]==="document"?document.removeEventListener(P[1],M):this.view.off(p,M)},m}(A.default);x=w},38144:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(){function x(O,k){this.view=O,this.cfg=k}return x.prototype.init=function(){this.initEvents()},x.prototype.initEvents=function(){},x.prototype.clearEvents=function(){},x.prototype.destroy=function(){this.clearEvents()},x}();S.default=v},62810:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.toPoints=S.getRegionBBox=S.BBox=void 0;var x=v(49242),O=v(78646),k=function(){function T(A,C,E,g){A===void 0&&(A=0),C===void 0&&(C=0),E===void 0&&(E=0),g===void 0&&(g=0),this.x=A,this.y=C,this.height=g,this.width=E}return T.fromRange=function(A,C,E,g){return new T(A,C,E-A,g-C)},Object.defineProperty(T.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),T.prototype.isEqual=function(A){return this.x===A.x&&this.y===A.y&&this.width===A.width&&this.height===A.height},T.prototype.clone=function(){return new T(this.x,this.y,this.width,this.height)},T.prototype.add=function(){for(var A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];var E=this.clone();return x.each(A,function(g){E.x=Math.min(g.x,E.x),E.y=Math.min(g.y,E.y),E.width=Math.max(g.maxX,E.maxX)-E.x,E.height=Math.max(g.maxY,E.maxY)-E.y}),E},T.prototype.merge=function(){for(var A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];var E=this.clone();return x.each(A,function(g){E.x=Math.max(g.x,E.x),E.y=Math.max(g.y,E.y),E.width=Math.min(g.maxX,E.maxX)-E.x,E.height=Math.min(g.maxY,E.maxY)-E.y}),E},T.prototype.cut=function(A,C){var E=A.width,g=A.height;switch(C){case O.DIRECTION.TOP:case O.DIRECTION.TOP_LEFT:case O.DIRECTION.TOP_RIGHT:return T.fromRange(this.minX,this.minY+g,this.maxX,this.maxY);case O.DIRECTION.RIGHT:case O.DIRECTION.RIGHT_TOP:case O.DIRECTION.RIGHT_BOTTOM:return T.fromRange(this.minX,this.minY,this.maxX-E,this.maxY);case O.DIRECTION.BOTTOM:case O.DIRECTION.BOTTOM_LEFT:case O.DIRECTION.BOTTOM_RIGHT:return T.fromRange(this.minX,this.minY,this.maxX,this.maxY-g);case O.DIRECTION.LEFT:case O.DIRECTION.LEFT_TOP:case O.DIRECTION.LEFT_BOTTOM:return T.fromRange(this.minX+E,this.minY,this.maxX,this.maxY);default:return this}},T.prototype.shrink=function(A){var C=A[0],E=A[1],g=A[2],w=A[3];return new T(this.x+w,this.y+C,this.width-w-E,this.height-C-g)},T.prototype.exceed=function(A){return[Math.max(-this.minY+A.minY,0),Math.max(this.maxX-A.maxX,0),Math.max(this.maxY-A.maxY,0),Math.max(-this.minX+A.minX,0)]},T.prototype.size=function(){return this.width*this.height},T}();S.BBox=k,S.getRegionBBox=function(T,A){var C=A.start,E=A.end;return new k(T.x+T.width*C.x,T.y+T.height*C.y,T.width*Math.abs(E.x-C.x),T.height*Math.abs(E.y-C.y))};function _(T){return[[T.minX,T.minY],[T.maxX,T.minY],[T.maxX,T.maxY],[T.minX,T.maxY]]}S.toPoints=_},83714:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getCoordinateClipCfg=S.getAngleByPoint=S.isPointInCoordinate=S.getDistanceToCenter=S.isFullCircle=S.getXDimensionLength=void 0;var x=v(38674),O=v(10521);function k(g){if(g.isPolar&&!g.isTransposed)return(g.endAngle-g.startAngle)*g.getRadius();var w=g.convert({x:0,y:0}),y=g.convert({x:1,y:0});return Math.sqrt(Math.pow(y.x-w.x,2)+Math.pow(y.y-w.y,2))}S.getXDimensionLength=k;function _(g){if(g.isPolar){var w=g.startAngle,y=g.endAngle;return y-w==Math.PI*2}return!1}S.isFullCircle=_;function T(g,w){var y=g.getCenter();return Math.sqrt(Math.pow(w.x-y.x,2)+Math.pow(w.y-y.y,2))}S.getDistanceToCenter=T;function A(g,w){var y=!1;if(g)if(g.type==="theta"){var m=g.start,p=g.end;y=O.isBetween(w.x,m.x,p.x)&&O.isBetween(w.y,m.y,p.y)}else{var M=g.invert(w);y=O.isBetween(M.x,0,1)&&O.isBetween(M.y,0,1)}return y}S.isPointInCoordinate=A;function C(g,w){var y=g.getCenter();return Math.atan2(w.y-y.y,w.x-y.x)}S.getAngleByPoint=C;function E(g,w){w===void 0&&(w=0);var y=g.start,m=g.end,p=g.getWidth(),M=g.getHeight();if(g.isPolar){var P=g.startAngle,B=g.endAngle,F=g.getCenter(),W=g.getRadius();return{type:"path",startState:{path:x.getSectorPath(F.x,F.y,W+w,P,P)},endState:function(H){var Z=(B-P)*H+P,ot=x.getSectorPath(F.x,F.y,W+w,P,Z);return{path:ot}},attrs:{path:x.getSectorPath(F.x,F.y,W+w,P,B)}}}var Q;return g.isTransposed?Q={height:M+w*2}:Q={width:p+w*2},{type:"rect",startState:{x:y.x-w,y:m.y-w,width:g.isTransposed?p+w*2:0,height:g.isTransposed?0:M+w*2},endState:Q,attrs:{x:y.x-w,y:m.y-w,width:p+w*2,height:M+w*2}}}S.getCoordinateClipCfg=E},38674:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getReplaceAttrs=S.getPolygonCentroid=S.getAngle=S.getArcPath=S.getSectorPath=S.polarToCartesian=void 0;var x=v(49242);function O(g){if(x.isEmpty(g))return null;var w=g[0].x,y=g[0].x,m=g[0].y,p=g[0].y;return x.each(g,function(M){w=w>M.x?M.x:w,y=y<M.x?M.x:y,m=m>M.y?M.y:m,p=p<M.y?M.y:p}),{minX:w,maxX:y,minY:m,maxY:p,centerX:(w+y)/2,centerY:(m+p)/2}}function k(g,w,y,m){return{x:g+y*Math.cos(m),y:w+y*Math.sin(m)}}S.polarToCartesian=k;function _(g,w,y,m,p,M){M===void 0&&(M=0);var P=k(g,w,y,m),B=k(g,w,y,p),F=k(g,w,M,m),W=k(g,w,M,p);if(p-m==Math.PI*2){var Q=k(g,w,y,m+Math.PI),H=k(g,w,M,m+Math.PI),Z=[["M",P.x,P.y],["A",y,y,0,1,1,Q.x,Q.y],["A",y,y,0,1,1,B.x,B.y],["M",F.x,F.y]];return M&&(Z.push(["A",M,M,0,1,0,H.x,H.y]),Z.push(["A",M,M,0,1,0,W.x,W.y])),Z.push(["M",P.x,P.y]),Z.push(["Z"]),Z}var ot=p-m<=Math.PI?0:1,rt=[["M",P.x,P.y],["A",y,y,0,ot,1,B.x,B.y],["L",W.x,W.y]];return M&&rt.push(["A",M,M,0,ot,0,F.x,F.y]),rt.push(["L",P.x,P.y]),rt.push(["Z"]),rt}S.getSectorPath=_;function T(g,w,y,m,p){var M=k(g,w,y,m),P=k(g,w,y,p);if(x.isNumberEqual(p-m,Math.PI*2)){var B=k(g,w,y,m+Math.PI);return[["M",M.x,M.y],["A",y,y,0,1,1,B.x,B.y],["A",y,y,0,1,1,M.x,M.y],["A",y,y,0,1,0,B.x,B.y],["A",y,y,0,1,0,M.x,M.y],["Z"]]}var F=p-m<=Math.PI?0:1;return[["M",M.x,M.y],["A",y,y,0,F,1,P.x,P.y]]}S.getArcPath=T;function A(g,w){var y=g.points,m=O(y),p,M,P=w.startAngle,B=w.endAngle,F=B-P;return w.isTransposed?(p=m.maxY*F,M=m.minY*F):(p=m.maxX*F,M=m.minX*F),p+=P,M+=P,{startAngle:M,endAngle:p}}S.getAngle=A;function C(g,w){if(x.isNumber(g)&&x.isNumber(w))return[g,w];for(var y=-1,m=0,p=0,M,P=g.length-1,B,F=0;++y<g.length;)M=P,P=y,F+=B=g[M]*w[P]-g[P]*w[M],m+=(g[M]+g[P])*B,p+=(w[M]+w[P])*B;return F*=3,[m/F,p/F]}S.getPolygonCentroid=C;function E(g,w){var y=g.attr(),m=w.attr();return x.each(y,function(p,M){m[M]===void 0&&(m[M]=void 0)}),m}S.getReplaceAttrs=E},10521:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.uniq=S.omit=S.padEnd=S.isBetween=void 0;var x=v(49242);function O(A,C,E){var g=Math.min(C,E),w=Math.max(C,E);return A>=g&&A<=w}S.isBetween=O;function k(A,C,E){if(x.isString(A))return A.padEnd(C,E);if(x.isArray(A)){var g=A.length;if(g<C)for(var w=C-g,y=0;y<w;y++)A.push(E)}return A}S.padEnd=k;function _(A,C){return C.forEach(function(E){delete A[E]}),A}S.omit=_;function T(A,C,E){C===void 0&&(C=[]),E===void 0&&(E={});for(var g=0,w=A;g<w.length;g++){var y=w[g];E[y]||(C.push(y),E[y]=!0)}return C}S.uniq=T},90835:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MarkerSymbols=void 0,S.MarkerSymbols={hexagon:function(v,x,O){var k=O/2*Math.sqrt(3);return[["M",v,x-O],["L",v+k,x-O/2],["L",v+k,x+O/2],["L",v,x+O],["L",v-k,x+O/2],["L",v-k,x-O/2],["Z"]]},bowtie:function(v,x,O){var k=O-1.5;return[["M",v-O,x-k],["L",v+O,x+k],["L",v+O,x-k],["L",v-O,x+k],["Z"]]},cross:function(v,x,O){return[["M",v-O,x-O],["L",v+O,x+O],["M",v+O,x-O],["L",v-O,x+O]]},tick:function(v,x,O){return[["M",v-O/2,x-O],["L",v+O/2,x-O],["M",v,x-O],["L",v,x+O],["M",v-O/2,x+O],["L",v+O/2,x+O]]},plus:function(v,x,O){return[["M",v-O,x],["L",v+O,x],["M",v,x-O],["L",v,x+O]]},hyphen:function(v,x,O){return[["M",v-O,x],["L",v+O,x]]},line:function(v,x,O){return[["M",v,x-O],["L",v,x+O]]}}},95152:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getName=S.syncScale=S.createScaleByField=void 0;var x=v(13008),O=v(49242),k=v(96397),_=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function T(g){var w="linear";return _.test(g)?w="time":O.isString(g)&&(w="cat"),w}function A(g,w,y){var m=w||[];if(O.isNumber(g)||O.isNil(O.firstValue(m,g))&&O.isEmpty(y)){var p=k.getScale("identity");return new p({field:g.toString(),values:[g]})}var M=O.valuesOfKey(m,g),P=O.get(y,"type",T(M[0])),B=k.getScale(P);return new B(x.__assign({field:g,values:M},y))}S.createScaleByField=A;function C(g,w){if(g.type!=="identity"&&w.type!=="identity"){var y={};for(var m in w)Object.prototype.hasOwnProperty.call(w,m)&&(y[m]=w[m]);g.change(y)}}S.syncScale=C;function E(g){return g.alias||g.field}S.getName=E},97127:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTooltipItems=S.findDataByPoint=void 0;var x=v(13008),O=v(49242),k=v(78646),_=v(95152);function T(B,F,W){var Q=W.translate(B),H=W.translate(F);return O.isNumberEqual(Q,H)}function A(B,F){var W=F.coordinate,Q=F.getXScale(),H=Q.range,Z=H[H.length-1],ot=H[0],rt=W.invert(B),At=rt.x;return W.isPolar&&At>(1+Z)/2&&(At=ot),Q.translate(Q.invert(At))}function C(B,F,W){var Q=W.coordinate,H=W.getYScale(),Z=H.field,ot=Q.invert(F),rt=H.invert(ot.y),At=O.find(B,function(pt){var Ft=pt[k.FIELD_ORIGIN];return Ft[Z][0]<=rt&&Ft[Z][1]>=rt});return At||B[B.length-1]}var E=O.memoize(function(B){if(B.isCategory)return 1;for(var F=B.values,W=F.length,Q=B.translate(F[0]),H=Q,Z=0;Z<W;Z++){var ot=F[Z],rt=B.translate(ot);rt<Q&&(Q=rt),rt>H&&(H=rt)}return(H-Q)/(W-1)});function g(B,F,W){var Q=W;if(!W){var H=F.getAttribute("position"),Z=H.getFields();Q=Z[0]}var ot=F.scales;return ot[Q]?ot[Q].getText(B[Q]):O.hasKey(B,Q)?B[Q]:Q}function w(B){var F=O.values(B.attributes);return O.filter(F,function(W){return O.contains(k.GROUP_ATTRS,W.type)})}function y(B){for(var F=w(B),W,Q=0,H=F;Q<H.length;Q++){var Z=H[Q],ot=Z.getScale(Z.type);if(ot&&ot.isLinear){W=ot;break}}var rt=B.getXScale(),At=B.getYScale();return W||At||rt}function m(B,F){var W=F.field,Q=B[W];if(O.isArray(Q)){var H=Q.map(function(Z){return F.getText(Z)});return H.join("-")}return F.getText(Q)}function p(B,F){var W,Q=F.getGroupScales();if(Q.length&&(W=Q[0]),W){var H=W.field;return W.getText(B[H])}var Z=y(F);return _.getName(Z)}function M(B,F,W){if(F.length===0)return null;var Q=W.type,H=W.getXScale(),Z=W.getYScale(),ot=H.field,rt=Z.field,At=null;if(Q==="heatmap"||Q==="point"){for(var pt=W.coordinate,Ft=pt.invert(B),Tt=H.invert(Ft.x),Ot=Z.invert(Ft.y),xt=Infinity,ht=0;ht<F.length;ht++){var kt=F[ht],Gt=kt[k.FIELD_ORIGIN],dt=Math.pow(Gt[ot]-Tt,2)+Math.pow(Gt[rt]-Ot,2);dt<xt&&(xt=dt,At=kt)}return At}var tt=F[0],I=F[F.length-1],u=A(B,W),Y=tt[k.FIELD_ORIGIN][ot],G=tt[k.FIELD_ORIGIN][rt],X=I[k.FIELD_ORIGIN][ot],U=Z.isLinear&&O.isArray(G);if(O.isArray(Y)){for(var ht=0;ht<F.length;ht++){var J=F[ht],Gt=J[k.FIELD_ORIGIN];if(H.translate(Gt[ot][0])<=u&&H.translate(Gt[ot][1])>=u)if(U)O.isArray(At)||(At=[]),At.push(J);else{At=J;break}}O.isArray(At)&&(At=C(At,B,W))}else{var lt=void 0;if(!H.isLinear&&H.type!=="timeCat"){for(var ht=0;ht<F.length;ht++){var J=F[ht],Gt=J[k.FIELD_ORIGIN];if(T(Gt[ot],u,H))if(U)O.isArray(At)||(At=[]),At.push(J);else{At=J;break}else H.translate(Gt[ot])<=u&&(I=J,lt=F[ht+1])}O.isArray(At)&&(At=C(At,B,W))}else{if((u>H.translate(X)||u<H.translate(Y))&&(u>H.max||u<H.min))return null;for(var It=0,bt=F.length-1,et=void 0;It<=bt;){et=Math.floor((It+bt)/2);var Ct=F[et][k.FIELD_ORIGIN][ot];if(T(Ct,u,H))return F[et];H.translate(Ct)<=H.translate(u)?(It=et+1,I=F[et],lt=F[et+1]):(bt===0&&(I=F[0]),bt=et-1)}}I&&lt&&Math.abs(H.translate(I[k.FIELD_ORIGIN][ot])-u)>Math.abs(H.translate(lt[k.FIELD_ORIGIN][ot])-u)&&(I=lt)}var it=E(W.getXScale());return!At&&Math.abs(H.translate(I[k.FIELD_ORIGIN][ot])-u)<=it/2&&(At=I),At}S.findDataByPoint=M;function P(B,F,W){W===void 0&&(W="");var Q=B[k.FIELD_ORIGIN],H=g(Q,F,W),Z=F.tooltipOption,ot=F.theme.defaultColor,rt=[],At,pt;function Ft(G,X){if(!O.isNil(X)&&X!==""){var U={title:H,data:Q,mappingData:B,name:G,value:X,color:B.color||ot,marker:!0};rt.push(U)}}if(O.isObject(Z)){var Tt=Z.fields,Ot=Z.callback;if(Ot){var xt=Tt.map(function(G){return B[k.FIELD_ORIGIN][G]}),ht=Ot.apply(void 0,xt),kt=x.__assign({data:B[k.FIELD_ORIGIN],mappingData:B,title:H,color:B.color||ot,marker:!0},ht);rt.push(kt)}else for(var Gt=F.scales,dt=0,tt=Tt;dt<tt.length;dt++){var I=tt[dt];if(!O.isNil(Q[I])){var u=Gt[I];At=_.getName(u),pt=u.getText(Q[I]),Ft(At,pt)}}}else{var Y=y(F);O.isNil(Q[Y.field])||(pt=m(Q,Y),At=p(Q,F),Ft(At,pt))}return rt}S.getTooltipItems=P},13008:function(ft,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return g},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return m},__generator:function(){return p},__createBinding:function(){return M},__exportStar:function(){return P},__values:function(){return B},__read:function(){return F},__spread:function(){return W},__spreadArrays:function(){return Q},__spreadArray:function(){return H},__await:function(){return Z},__asyncGenerator:function(){return ot},__asyncDelegator:function(){return rt},__asyncValues:function(){return At},__makeTemplateObject:function(){return pt},__importStar:function(){return Tt},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return xt},__classPrivateFieldSet:function(){return ht},__classPrivateFieldIn:function(){return kt},__addDisposableResource:function(){return Gt},__disposeResources:function(){return tt}});var x=function(I,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,G){Y.__proto__=G}||function(Y,G){for(var X in G)Object.prototype.hasOwnProperty.call(G,X)&&(Y[X]=G[X])},x(I,u)};function O(I,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(I,u);function Y(){this.constructor=I}I.prototype=u===null?Object.create(u):(Y.prototype=u.prototype,new Y)}var k=function(){return k=Object.assign||function(u){for(var Y,G=1,X=arguments.length;G<X;G++){Y=arguments[G];for(var U in Y)Object.prototype.hasOwnProperty.call(Y,U)&&(u[U]=Y[U])}return u},k.apply(this,arguments)};function _(I,u){var Y={};for(var G in I)Object.prototype.hasOwnProperty.call(I,G)&&u.indexOf(G)<0&&(Y[G]=I[G]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,G=Object.getOwnPropertySymbols(I);X<G.length;X++)u.indexOf(G[X])<0&&Object.prototype.propertyIsEnumerable.call(I,G[X])&&(Y[G[X]]=I[G[X]]);return Y}function T(I,u,Y,G){var X=arguments.length,U=X<3?u:G===null?G=Object.getOwnPropertyDescriptor(u,Y):G,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(I,u,Y,G);else for(var lt=I.length-1;lt>=0;lt--)(J=I[lt])&&(U=(X<3?J(U):X>3?J(u,Y,U):J(u,Y))||U);return X>3&&U&&Object.defineProperty(u,Y,U),U}function A(I,u){return function(Y,G){u(Y,G,I)}}function C(I,u,Y,G,X,U){function J(mt){if(mt!==void 0&&typeof mt!="function")throw new TypeError("Function expected");return mt}for(var lt=G.kind,It=lt==="getter"?"get":lt==="setter"?"set":"value",bt=!u&&I?G.static?I:I.prototype:null,et=u||(bt?Object.getOwnPropertyDescriptor(bt,G.name):{}),Ct,it=!1,st=Y.length-1;st>=0;st--){var St={};for(var at in G)St[at]=at==="access"?{}:G[at];for(var at in G.access)St.access[at]=G.access[at];St.addInitializer=function(mt){if(it)throw new TypeError("Cannot add initializers after decoration has completed");U.push(J(mt||null))};var nt=(0,Y[st])(lt==="accessor"?{get:et.get,set:et.set}:et[It],St);if(lt==="accessor"){if(nt===void 0)continue;if(nt===null||typeof nt!="object")throw new TypeError("Object expected");(Ct=J(nt.get))&&(et.get=Ct),(Ct=J(nt.set))&&(et.set=Ct),(Ct=J(nt.init))&&X.unshift(Ct)}else(Ct=J(nt))&&(lt==="field"?X.unshift(Ct):et[It]=Ct)}bt&&Object.defineProperty(bt,G.name,et),it=!0}function E(I,u,Y){for(var G=arguments.length>2,X=0;X<u.length;X++)Y=G?u[X].call(I,Y):u[X].call(I);return G?Y:void 0}function g(I){return typeof I=="symbol"?I:"".concat(I)}function w(I,u,Y){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(I,"name",{configurable:!0,value:Y?"".concat(Y," ",u):u})}function y(I,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,u)}function m(I,u,Y,G){function X(U){return U instanceof Y?U:new Y(function(J){J(U)})}return new(Y||(Y=Promise))(function(U,J){function lt(et){try{bt(G.next(et))}catch(Ct){J(Ct)}}function It(et){try{bt(G.throw(et))}catch(Ct){J(Ct)}}function bt(et){et.done?U(et.value):X(et.value).then(lt,It)}bt((G=G.apply(I,u||[])).next())})}function p(I,u){var Y={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},G,X,U,J;return J={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function lt(bt){return function(et){return It([bt,et])}}function It(bt){if(G)throw new TypeError("Generator is already executing.");for(;J&&(J=0,bt[0]&&(Y=0)),Y;)try{if(G=1,X&&(U=bt[0]&2?X.return:bt[0]?X.throw||((U=X.return)&&U.call(X),0):X.next)&&!(U=U.call(X,bt[1])).done)return U;switch(X=0,U&&(bt=[bt[0]&2,U.value]),bt[0]){case 0:case 1:U=bt;break;case 4:return Y.label++,{value:bt[1],done:!1};case 5:Y.label++,X=bt[1],bt=[0];continue;case 7:bt=Y.ops.pop(),Y.trys.pop();continue;default:if(U=Y.trys,!(U=U.length>0&&U[U.length-1])&&(bt[0]===6||bt[0]===2)){Y=0;continue}if(bt[0]===3&&(!U||bt[1]>U[0]&&bt[1]<U[3])){Y.label=bt[1];break}if(bt[0]===6&&Y.label<U[1]){Y.label=U[1],U=bt;break}if(U&&Y.label<U[2]){Y.label=U[2],Y.ops.push(bt);break}U[2]&&Y.ops.pop(),Y.trys.pop();continue}bt=u.call(I,Y)}catch(et){bt=[6,et],X=0}finally{G=U=0}if(bt[0]&5)throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}}var M=Object.create?function(I,u,Y,G){G===void 0&&(G=Y);var X=Object.getOwnPropertyDescriptor(u,Y);(!X||("get"in X?!u.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return u[Y]}}),Object.defineProperty(I,G,X)}:function(I,u,Y,G){G===void 0&&(G=Y),I[G]=u[Y]};function P(I,u){for(var Y in I)Y!=="default"&&!Object.prototype.hasOwnProperty.call(u,Y)&&M(u,I,Y)}function B(I){var u=typeof Symbol=="function"&&Symbol.iterator,Y=u&&I[u],G=0;if(Y)return Y.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&G>=I.length&&(I=void 0),{value:I&&I[G++],done:!I}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(I,u){var Y=typeof Symbol=="function"&&I[Symbol.iterator];if(!Y)return I;var G=Y.call(I),X,U=[],J;try{for(;(u===void 0||u-- >0)&&!(X=G.next()).done;)U.push(X.value)}catch(lt){J={error:lt}}finally{try{X&&!X.done&&(Y=G.return)&&Y.call(G)}finally{if(J)throw J.error}}return U}function W(){for(var I=[],u=0;u<arguments.length;u++)I=I.concat(F(arguments[u]));return I}function Q(){for(var I=0,u=0,Y=arguments.length;u<Y;u++)I+=arguments[u].length;for(var G=Array(I),X=0,u=0;u<Y;u++)for(var U=arguments[u],J=0,lt=U.length;J<lt;J++,X++)G[X]=U[J];return G}function H(I,u,Y){if(Y||arguments.length===2)for(var G=0,X=u.length,U;G<X;G++)(U||!(G in u))&&(U||(U=Array.prototype.slice.call(u,0,G)),U[G]=u[G]);return I.concat(U||Array.prototype.slice.call(u))}function Z(I){return this instanceof Z?(this.v=I,this):new Z(I)}function ot(I,u,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=Y.apply(I,u||[]),X,U=[];return X={},J("next"),J("throw"),J("return"),X[Symbol.asyncIterator]=function(){return this},X;function J(it){G[it]&&(X[it]=function(st){return new Promise(function(St,at){U.push([it,st,St,at])>1||lt(it,st)})})}function lt(it,st){try{It(G[it](st))}catch(St){Ct(U[0][3],St)}}function It(it){it.value instanceof Z?Promise.resolve(it.value.v).then(bt,et):Ct(U[0][2],it)}function bt(it){lt("next",it)}function et(it){lt("throw",it)}function Ct(it,st){it(st),U.shift(),U.length&&lt(U[0][0],U[0][1])}}function rt(I){var u,Y;return u={},G("next"),G("throw",function(X){throw X}),G("return"),u[Symbol.iterator]=function(){return this},u;function G(X,U){u[X]=I[X]?function(J){return(Y=!Y)?{value:Z(I[X](J)),done:!1}:U?U(J):J}:U}}function At(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=I[Symbol.asyncIterator],Y;return u?u.call(I):(I=typeof B=="function"?B(I):I[Symbol.iterator](),Y={},G("next"),G("throw"),G("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function G(U){Y[U]=I[U]&&function(J){return new Promise(function(lt,It){J=I[U](J),X(lt,It,J.done,J.value)})}}function X(U,J,lt,It){Promise.resolve(It).then(function(bt){U({value:bt,done:lt})},J)}}function pt(I,u){return Object.defineProperty?Object.defineProperty(I,"raw",{value:u}):I.raw=u,I}var Ft=Object.create?function(I,u){Object.defineProperty(I,"default",{enumerable:!0,value:u})}:function(I,u){I.default=u};function Tt(I){if(I&&I.__esModule)return I;var u={};if(I!=null)for(var Y in I)Y!=="default"&&Object.prototype.hasOwnProperty.call(I,Y)&&M(u,I,Y);return Ft(u,I),u}function Ot(I){return I&&I.__esModule?I:{default:I}}function xt(I,u,Y,G){if(Y==="a"&&!G)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?I!==u||!G:!u.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Y==="m"?G:Y==="a"?G.call(I):G?G.value:u.get(I)}function ht(I,u,Y,G,X){if(G==="m")throw new TypeError("Private method is not writable");if(G==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?I!==u||!X:!u.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return G==="a"?X.call(I,Y):X?X.value=Y:u.set(I,Y),Y}function kt(I,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof I=="function"?u===I:I.has(u)}function Gt(I,u,Y){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var G;if(Y){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");G=u[Symbol.asyncDispose]}if(G===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");G=u[Symbol.dispose]}if(typeof G!="function")throw new TypeError("Object not disposable.");I.stack.push({value:u,dispose:G,async:Y})}else Y&&I.stack.push({async:!0});return u}var dt=typeof SuppressedError=="function"?SuppressedError:function(I,u,Y){var G=new Error(Y);return G.name="SuppressedError",G.error=I,G.suppressed=u,G};function tt(I){function u(G){I.error=I.hasError?new dt(G,I.error,"An error was suppressed during disposal."):G,I.hasError=!0}function Y(){for(;I.stack.length;){var G=I.stack.pop();try{var X=G.dispose&&G.dispose.call(G.value);if(G.async)return Promise.resolve(X).then(Y,function(U){return u(U),Y()})}catch(U){u(U)}}if(I.hasError)throw I.error}return Y()}S.default={__extends:O,__assign:k,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:p,__createBinding:M,__exportStar:P,__values:B,__read:F,__spread:W,__spreadArrays:Q,__spreadArray:H,__await:Z,__asyncGenerator:ot,__asyncDelegator:rt,__asyncValues:At,__makeTemplateObject:pt,__importStar:Tt,__importDefault:Ot,__classPrivateFieldGet:xt,__classPrivateFieldSet:ht,__classPrivateFieldIn:kt,__addDisposableResource:Gt,__disposeResources:tt}},25155:function(ft){"use strict";var S=!1,v=function(){};if(S){var x=function(k,_){var T=arguments.length;_=new Array(T>1?T-1:0);for(var A=1;A<T;A++)_[A-1]=arguments[A];var C=0,E="Warning: "+k.replace(/%s/g,function(){return _[C++]});typeof console!="undefined"&&console.error(E);try{throw new Error(E)}catch(g){}};v=function(O,k,_){var T=arguments.length;_=new Array(T>2?T-2:0);for(var A=2;A<T;A++)_[A-2]=arguments[A];if(k===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");O||x.apply(null,[k].concat(_))}}ft.exports=v},74988:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setMatrixArrayType=k,S.toRadian=T,S.equals=A;var v=S.EPSILON=1e-6,x=S.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,O=S.RANDOM=Math.random;function k(C){S.ARRAY_TYPE=x=C}var _=Math.PI/180;function T(C){return C*_}function A(C,E){return Math.abs(C-E)<=v*Math.max(1,Math.abs(C),Math.abs(E))}},31502:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sub=S.mul=void 0,S.create=_,S.fromMat4=T,S.clone=A,S.copy=C,S.fromValues=E,S.set=g,S.identity=w,S.transpose=y,S.invert=m,S.adjoint=p,S.determinant=M,S.multiply=P,S.translate=B,S.rotate=F,S.scale=W,S.fromTranslation=Q,S.fromRotation=H,S.fromScaling=Z,S.fromMat2d=ot,S.fromQuat=rt,S.normalFromMat4=At,S.projection=pt,S.str=Ft,S.frob=Tt,S.add=Ot,S.subtract=xt,S.multiplyScalar=ht,S.multiplyScalarAndAdd=kt,S.exactEquals=Gt,S.equals=dt;var x=v(74988),O=k(x);function k(u){if(u&&u.__esModule)return u;var Y={};if(u!=null)for(var G in u)Object.prototype.hasOwnProperty.call(u,G)&&(Y[G]=u[G]);return Y.default=u,Y}function _(){var u=new O.ARRAY_TYPE(9);return O.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u}function T(u,Y){return u[0]=Y[0],u[1]=Y[1],u[2]=Y[2],u[3]=Y[4],u[4]=Y[5],u[5]=Y[6],u[6]=Y[8],u[7]=Y[9],u[8]=Y[10],u}function A(u){var Y=new O.ARRAY_TYPE(9);return Y[0]=u[0],Y[1]=u[1],Y[2]=u[2],Y[3]=u[3],Y[4]=u[4],Y[5]=u[5],Y[6]=u[6],Y[7]=u[7],Y[8]=u[8],Y}function C(u,Y){return u[0]=Y[0],u[1]=Y[1],u[2]=Y[2],u[3]=Y[3],u[4]=Y[4],u[5]=Y[5],u[6]=Y[6],u[7]=Y[7],u[8]=Y[8],u}function E(u,Y,G,X,U,J,lt,It,bt){var et=new O.ARRAY_TYPE(9);return et[0]=u,et[1]=Y,et[2]=G,et[3]=X,et[4]=U,et[5]=J,et[6]=lt,et[7]=It,et[8]=bt,et}function g(u,Y,G,X,U,J,lt,It,bt,et){return u[0]=Y,u[1]=G,u[2]=X,u[3]=U,u[4]=J,u[5]=lt,u[6]=It,u[7]=bt,u[8]=et,u}function w(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function y(u,Y){if(u===Y){var G=Y[1],X=Y[2],U=Y[5];u[1]=Y[3],u[2]=Y[6],u[3]=G,u[5]=Y[7],u[6]=X,u[7]=U}else u[0]=Y[0],u[1]=Y[3],u[2]=Y[6],u[3]=Y[1],u[4]=Y[4],u[5]=Y[7],u[6]=Y[2],u[7]=Y[5],u[8]=Y[8];return u}function m(u,Y){var G=Y[0],X=Y[1],U=Y[2],J=Y[3],lt=Y[4],It=Y[5],bt=Y[6],et=Y[7],Ct=Y[8],it=Ct*lt-It*et,st=-Ct*J+It*bt,St=et*J-lt*bt,at=G*it+X*st+U*St;return at?(at=1/at,u[0]=it*at,u[1]=(-Ct*X+U*et)*at,u[2]=(It*X-U*lt)*at,u[3]=st*at,u[4]=(Ct*G-U*bt)*at,u[5]=(-It*G+U*J)*at,u[6]=St*at,u[7]=(-et*G+X*bt)*at,u[8]=(lt*G-X*J)*at,u):null}function p(u,Y){var G=Y[0],X=Y[1],U=Y[2],J=Y[3],lt=Y[4],It=Y[5],bt=Y[6],et=Y[7],Ct=Y[8];return u[0]=lt*Ct-It*et,u[1]=U*et-X*Ct,u[2]=X*It-U*lt,u[3]=It*bt-J*Ct,u[4]=G*Ct-U*bt,u[5]=U*J-G*It,u[6]=J*et-lt*bt,u[7]=X*bt-G*et,u[8]=G*lt-X*J,u}function M(u){var Y=u[0],G=u[1],X=u[2],U=u[3],J=u[4],lt=u[5],It=u[6],bt=u[7],et=u[8];return Y*(et*J-lt*bt)+G*(-et*U+lt*It)+X*(bt*U-J*It)}function P(u,Y,G){var X=Y[0],U=Y[1],J=Y[2],lt=Y[3],It=Y[4],bt=Y[5],et=Y[6],Ct=Y[7],it=Y[8],st=G[0],St=G[1],at=G[2],nt=G[3],mt=G[4],Dt=G[5],ee=G[6],ce=G[7],le=G[8];return u[0]=st*X+St*lt+at*et,u[1]=st*U+St*It+at*Ct,u[2]=st*J+St*bt+at*it,u[3]=nt*X+mt*lt+Dt*et,u[4]=nt*U+mt*It+Dt*Ct,u[5]=nt*J+mt*bt+Dt*it,u[6]=ee*X+ce*lt+le*et,u[7]=ee*U+ce*It+le*Ct,u[8]=ee*J+ce*bt+le*it,u}function B(u,Y,G){var X=Y[0],U=Y[1],J=Y[2],lt=Y[3],It=Y[4],bt=Y[5],et=Y[6],Ct=Y[7],it=Y[8],st=G[0],St=G[1];return u[0]=X,u[1]=U,u[2]=J,u[3]=lt,u[4]=It,u[5]=bt,u[6]=st*X+St*lt+et,u[7]=st*U+St*It+Ct,u[8]=st*J+St*bt+it,u}function F(u,Y,G){var X=Y[0],U=Y[1],J=Y[2],lt=Y[3],It=Y[4],bt=Y[5],et=Y[6],Ct=Y[7],it=Y[8],st=Math.sin(G),St=Math.cos(G);return u[0]=St*X+st*lt,u[1]=St*U+st*It,u[2]=St*J+st*bt,u[3]=St*lt-st*X,u[4]=St*It-st*U,u[5]=St*bt-st*J,u[6]=et,u[7]=Ct,u[8]=it,u}function W(u,Y,G){var X=G[0],U=G[1];return u[0]=X*Y[0],u[1]=X*Y[1],u[2]=X*Y[2],u[3]=U*Y[3],u[4]=U*Y[4],u[5]=U*Y[5],u[6]=Y[6],u[7]=Y[7],u[8]=Y[8],u}function Q(u,Y){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=Y[0],u[7]=Y[1],u[8]=1,u}function H(u,Y){var G=Math.sin(Y),X=Math.cos(Y);return u[0]=X,u[1]=G,u[2]=0,u[3]=-G,u[4]=X,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function Z(u,Y){return u[0]=Y[0],u[1]=0,u[2]=0,u[3]=0,u[4]=Y[1],u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function ot(u,Y){return u[0]=Y[0],u[1]=Y[1],u[2]=0,u[3]=Y[2],u[4]=Y[3],u[5]=0,u[6]=Y[4],u[7]=Y[5],u[8]=1,u}function rt(u,Y){var G=Y[0],X=Y[1],U=Y[2],J=Y[3],lt=G+G,It=X+X,bt=U+U,et=G*lt,Ct=X*lt,it=X*It,st=U*lt,St=U*It,at=U*bt,nt=J*lt,mt=J*It,Dt=J*bt;return u[0]=1-it-at,u[3]=Ct-Dt,u[6]=st+mt,u[1]=Ct+Dt,u[4]=1-et-at,u[7]=St-nt,u[2]=st-mt,u[5]=St+nt,u[8]=1-et-it,u}function At(u,Y){var G=Y[0],X=Y[1],U=Y[2],J=Y[3],lt=Y[4],It=Y[5],bt=Y[6],et=Y[7],Ct=Y[8],it=Y[9],st=Y[10],St=Y[11],at=Y[12],nt=Y[13],mt=Y[14],Dt=Y[15],ee=G*It-X*lt,ce=G*bt-U*lt,le=G*et-J*lt,Xe=X*bt-U*It,Ie=X*et-J*It,Re=U*et-J*bt,or=Ct*nt-it*at,lr=Ct*mt-st*at,Ir=Ct*Dt-St*at,Er=it*mt-st*nt,on=it*Dt-St*nt,In=st*Dt-St*mt,fn=ee*In-ce*on+le*Er+Xe*Ir-Ie*lr+Re*or;return fn?(fn=1/fn,u[0]=(It*In-bt*on+et*Er)*fn,u[1]=(bt*Ir-lt*In-et*lr)*fn,u[2]=(lt*on-It*Ir+et*or)*fn,u[3]=(U*on-X*In-J*Er)*fn,u[4]=(G*In-U*Ir+J*lr)*fn,u[5]=(X*Ir-G*on-J*or)*fn,u[6]=(nt*Re-mt*Ie+Dt*Xe)*fn,u[7]=(mt*le-at*Re-Dt*ce)*fn,u[8]=(at*Ie-nt*le+Dt*ee)*fn,u):null}function pt(u,Y,G){return u[0]=2/Y,u[1]=0,u[2]=0,u[3]=0,u[4]=-2/G,u[5]=0,u[6]=-1,u[7]=1,u[8]=1,u}function Ft(u){return"mat3("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+", "+u[8]+")"}function Tt(u){return Math.sqrt(Math.pow(u[0],2)+Math.pow(u[1],2)+Math.pow(u[2],2)+Math.pow(u[3],2)+Math.pow(u[4],2)+Math.pow(u[5],2)+Math.pow(u[6],2)+Math.pow(u[7],2)+Math.pow(u[8],2))}function Ot(u,Y,G){return u[0]=Y[0]+G[0],u[1]=Y[1]+G[1],u[2]=Y[2]+G[2],u[3]=Y[3]+G[3],u[4]=Y[4]+G[4],u[5]=Y[5]+G[5],u[6]=Y[6]+G[6],u[7]=Y[7]+G[7],u[8]=Y[8]+G[8],u}function xt(u,Y,G){return u[0]=Y[0]-G[0],u[1]=Y[1]-G[1],u[2]=Y[2]-G[2],u[3]=Y[3]-G[3],u[4]=Y[4]-G[4],u[5]=Y[5]-G[5],u[6]=Y[6]-G[6],u[7]=Y[7]-G[7],u[8]=Y[8]-G[8],u}function ht(u,Y,G){return u[0]=Y[0]*G,u[1]=Y[1]*G,u[2]=Y[2]*G,u[3]=Y[3]*G,u[4]=Y[4]*G,u[5]=Y[5]*G,u[6]=Y[6]*G,u[7]=Y[7]*G,u[8]=Y[8]*G,u}function kt(u,Y,G,X){return u[0]=Y[0]+G[0]*X,u[1]=Y[1]+G[1]*X,u[2]=Y[2]+G[2]*X,u[3]=Y[3]+G[3]*X,u[4]=Y[4]+G[4]*X,u[5]=Y[5]+G[5]*X,u[6]=Y[6]+G[6]*X,u[7]=Y[7]+G[7]*X,u[8]=Y[8]+G[8]*X,u}function Gt(u,Y){return u[0]===Y[0]&&u[1]===Y[1]&&u[2]===Y[2]&&u[3]===Y[3]&&u[4]===Y[4]&&u[5]===Y[5]&&u[6]===Y[6]&&u[7]===Y[7]&&u[8]===Y[8]}function dt(u,Y){var G=u[0],X=u[1],U=u[2],J=u[3],lt=u[4],It=u[5],bt=u[6],et=u[7],Ct=u[8],it=Y[0],st=Y[1],St=Y[2],at=Y[3],nt=Y[4],mt=Y[5],Dt=Y[6],ee=Y[7],ce=Y[8];return Math.abs(G-it)<=O.EPSILON*Math.max(1,Math.abs(G),Math.abs(it))&&Math.abs(X-st)<=O.EPSILON*Math.max(1,Math.abs(X),Math.abs(st))&&Math.abs(U-St)<=O.EPSILON*Math.max(1,Math.abs(U),Math.abs(St))&&Math.abs(J-at)<=O.EPSILON*Math.max(1,Math.abs(J),Math.abs(at))&&Math.abs(lt-nt)<=O.EPSILON*Math.max(1,Math.abs(lt),Math.abs(nt))&&Math.abs(It-mt)<=O.EPSILON*Math.max(1,Math.abs(It),Math.abs(mt))&&Math.abs(bt-Dt)<=O.EPSILON*Math.max(1,Math.abs(bt),Math.abs(Dt))&&Math.abs(et-ee)<=O.EPSILON*Math.max(1,Math.abs(et),Math.abs(ee))&&Math.abs(Ct-ce)<=O.EPSILON*Math.max(1,Math.abs(Ct),Math.abs(ce))}var tt=S.mul=P,I=S.sub=xt},76172:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.sqrDist=S.dist=S.div=S.mul=S.sub=S.len=void 0,S.create=_,S.clone=T,S.fromValues=A,S.copy=C,S.set=E,S.add=g,S.subtract=w,S.multiply=y,S.divide=m,S.ceil=p,S.floor=M,S.min=P,S.max=B,S.round=F,S.scale=W,S.scaleAndAdd=Q,S.distance=H,S.squaredDistance=Z,S.length=ot,S.squaredLength=rt,S.negate=At,S.inverse=pt,S.normalize=Ft,S.dot=Tt,S.cross=Ot,S.lerp=xt,S.random=ht,S.transformMat2=kt,S.transformMat2d=Gt,S.transformMat3=dt,S.transformMat4=tt,S.rotate=I,S.angle=u,S.str=Y,S.exactEquals=G,S.equals=X;var x=v(74988),O=k(x);function k(st){if(st&&st.__esModule)return st;var St={};if(st!=null)for(var at in st)Object.prototype.hasOwnProperty.call(st,at)&&(St[at]=st[at]);return St.default=st,St}function _(){var st=new O.ARRAY_TYPE(2);return O.ARRAY_TYPE!=Float32Array&&(st[0]=0,st[1]=0),st}function T(st){var St=new O.ARRAY_TYPE(2);return St[0]=st[0],St[1]=st[1],St}function A(st,St){var at=new O.ARRAY_TYPE(2);return at[0]=st,at[1]=St,at}function C(st,St){return st[0]=St[0],st[1]=St[1],st}function E(st,St,at){return st[0]=St,st[1]=at,st}function g(st,St,at){return st[0]=St[0]+at[0],st[1]=St[1]+at[1],st}function w(st,St,at){return st[0]=St[0]-at[0],st[1]=St[1]-at[1],st}function y(st,St,at){return st[0]=St[0]*at[0],st[1]=St[1]*at[1],st}function m(st,St,at){return st[0]=St[0]/at[0],st[1]=St[1]/at[1],st}function p(st,St){return st[0]=Math.ceil(St[0]),st[1]=Math.ceil(St[1]),st}function M(st,St){return st[0]=Math.floor(St[0]),st[1]=Math.floor(St[1]),st}function P(st,St,at){return st[0]=Math.min(St[0],at[0]),st[1]=Math.min(St[1],at[1]),st}function B(st,St,at){return st[0]=Math.max(St[0],at[0]),st[1]=Math.max(St[1],at[1]),st}function F(st,St){return st[0]=Math.round(St[0]),st[1]=Math.round(St[1]),st}function W(st,St,at){return st[0]=St[0]*at,st[1]=St[1]*at,st}function Q(st,St,at,nt){return st[0]=St[0]+at[0]*nt,st[1]=St[1]+at[1]*nt,st}function H(st,St){var at=St[0]-st[0],nt=St[1]-st[1];return Math.sqrt(at*at+nt*nt)}function Z(st,St){var at=St[0]-st[0],nt=St[1]-st[1];return at*at+nt*nt}function ot(st){var St=st[0],at=st[1];return Math.sqrt(St*St+at*at)}function rt(st){var St=st[0],at=st[1];return St*St+at*at}function At(st,St){return st[0]=-St[0],st[1]=-St[1],st}function pt(st,St){return st[0]=1/St[0],st[1]=1/St[1],st}function Ft(st,St){var at=St[0],nt=St[1],mt=at*at+nt*nt;return mt>0&&(mt=1/Math.sqrt(mt),st[0]=St[0]*mt,st[1]=St[1]*mt),st}function Tt(st,St){return st[0]*St[0]+st[1]*St[1]}function Ot(st,St,at){var nt=St[0]*at[1]-St[1]*at[0];return st[0]=st[1]=0,st[2]=nt,st}function xt(st,St,at,nt){var mt=St[0],Dt=St[1];return st[0]=mt+nt*(at[0]-mt),st[1]=Dt+nt*(at[1]-Dt),st}function ht(st,St){St=St||1;var at=O.RANDOM()*2*Math.PI;return st[0]=Math.cos(at)*St,st[1]=Math.sin(at)*St,st}function kt(st,St,at){var nt=St[0],mt=St[1];return st[0]=at[0]*nt+at[2]*mt,st[1]=at[1]*nt+at[3]*mt,st}function Gt(st,St,at){var nt=St[0],mt=St[1];return st[0]=at[0]*nt+at[2]*mt+at[4],st[1]=at[1]*nt+at[3]*mt+at[5],st}function dt(st,St,at){var nt=St[0],mt=St[1];return st[0]=at[0]*nt+at[3]*mt+at[6],st[1]=at[1]*nt+at[4]*mt+at[7],st}function tt(st,St,at){var nt=St[0],mt=St[1];return st[0]=at[0]*nt+at[4]*mt+at[12],st[1]=at[1]*nt+at[5]*mt+at[13],st}function I(st,St,at,nt){var mt=St[0]-at[0],Dt=St[1]-at[1],ee=Math.sin(nt),ce=Math.cos(nt);return st[0]=mt*ce-Dt*ee+at[0],st[1]=mt*ee+Dt*ce+at[1],st}function u(st,St){var at=st[0],nt=st[1],mt=St[0],Dt=St[1],ee=at*at+nt*nt;ee>0&&(ee=1/Math.sqrt(ee));var ce=mt*mt+Dt*Dt;ce>0&&(ce=1/Math.sqrt(ce));var le=(at*mt+nt*Dt)*ee*ce;return le>1?0:le<-1?Math.PI:Math.acos(le)}function Y(st){return"vec2("+st[0]+", "+st[1]+")"}function G(st,St){return st[0]===St[0]&&st[1]===St[1]}function X(st,St){var at=st[0],nt=st[1],mt=St[0],Dt=St[1];return Math.abs(at-mt)<=O.EPSILON*Math.max(1,Math.abs(at),Math.abs(mt))&&Math.abs(nt-Dt)<=O.EPSILON*Math.max(1,Math.abs(nt),Math.abs(Dt))}var U=S.len=ot,J=S.sub=w,lt=S.mul=y,It=S.div=m,bt=S.dist=H,et=S.sqrDist=Z,Ct=S.sqrLen=rt,it=S.forEach=function(){var st=_();return function(St,at,nt,mt,Dt,ee){var ce=void 0,le=void 0;for(at||(at=2),nt||(nt=0),mt?le=Math.min(mt*at+nt,St.length):le=St.length,ce=nt;ce<le;ce+=at)st[0]=St[ce],st[1]=St[ce+1],Dt(st,st,ee),St[ce]=st[0],St[ce+1]=st[1];return St}}()},88395:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.len=S.sqrDist=S.dist=S.div=S.mul=S.sub=void 0,S.create=_,S.clone=T,S.length=A,S.fromValues=C,S.copy=E,S.set=g,S.add=w,S.subtract=y,S.multiply=m,S.divide=p,S.ceil=M,S.floor=P,S.min=B,S.max=F,S.round=W,S.scale=Q,S.scaleAndAdd=H,S.distance=Z,S.squaredDistance=ot,S.squaredLength=rt,S.negate=At,S.inverse=pt,S.normalize=Ft,S.dot=Tt,S.cross=Ot,S.lerp=xt,S.hermite=ht,S.bezier=kt,S.random=Gt,S.transformMat4=dt,S.transformMat3=tt,S.transformQuat=I,S.rotateX=u,S.rotateY=Y,S.rotateZ=G,S.angle=X,S.str=U,S.exactEquals=J,S.equals=lt;var x=v(74988),O=k(x);function k(nt){if(nt&&nt.__esModule)return nt;var mt={};if(nt!=null)for(var Dt in nt)Object.prototype.hasOwnProperty.call(nt,Dt)&&(mt[Dt]=nt[Dt]);return mt.default=nt,mt}function _(){var nt=new O.ARRAY_TYPE(3);return O.ARRAY_TYPE!=Float32Array&&(nt[0]=0,nt[1]=0,nt[2]=0),nt}function T(nt){var mt=new O.ARRAY_TYPE(3);return mt[0]=nt[0],mt[1]=nt[1],mt[2]=nt[2],mt}function A(nt){var mt=nt[0],Dt=nt[1],ee=nt[2];return Math.sqrt(mt*mt+Dt*Dt+ee*ee)}function C(nt,mt,Dt){var ee=new O.ARRAY_TYPE(3);return ee[0]=nt,ee[1]=mt,ee[2]=Dt,ee}function E(nt,mt){return nt[0]=mt[0],nt[1]=mt[1],nt[2]=mt[2],nt}function g(nt,mt,Dt,ee){return nt[0]=mt,nt[1]=Dt,nt[2]=ee,nt}function w(nt,mt,Dt){return nt[0]=mt[0]+Dt[0],nt[1]=mt[1]+Dt[1],nt[2]=mt[2]+Dt[2],nt}function y(nt,mt,Dt){return nt[0]=mt[0]-Dt[0],nt[1]=mt[1]-Dt[1],nt[2]=mt[2]-Dt[2],nt}function m(nt,mt,Dt){return nt[0]=mt[0]*Dt[0],nt[1]=mt[1]*Dt[1],nt[2]=mt[2]*Dt[2],nt}function p(nt,mt,Dt){return nt[0]=mt[0]/Dt[0],nt[1]=mt[1]/Dt[1],nt[2]=mt[2]/Dt[2],nt}function M(nt,mt){return nt[0]=Math.ceil(mt[0]),nt[1]=Math.ceil(mt[1]),nt[2]=Math.ceil(mt[2]),nt}function P(nt,mt){return nt[0]=Math.floor(mt[0]),nt[1]=Math.floor(mt[1]),nt[2]=Math.floor(mt[2]),nt}function B(nt,mt,Dt){return nt[0]=Math.min(mt[0],Dt[0]),nt[1]=Math.min(mt[1],Dt[1]),nt[2]=Math.min(mt[2],Dt[2]),nt}function F(nt,mt,Dt){return nt[0]=Math.max(mt[0],Dt[0]),nt[1]=Math.max(mt[1],Dt[1]),nt[2]=Math.max(mt[2],Dt[2]),nt}function W(nt,mt){return nt[0]=Math.round(mt[0]),nt[1]=Math.round(mt[1]),nt[2]=Math.round(mt[2]),nt}function Q(nt,mt,Dt){return nt[0]=mt[0]*Dt,nt[1]=mt[1]*Dt,nt[2]=mt[2]*Dt,nt}function H(nt,mt,Dt,ee){return nt[0]=mt[0]+Dt[0]*ee,nt[1]=mt[1]+Dt[1]*ee,nt[2]=mt[2]+Dt[2]*ee,nt}function Z(nt,mt){var Dt=mt[0]-nt[0],ee=mt[1]-nt[1],ce=mt[2]-nt[2];return Math.sqrt(Dt*Dt+ee*ee+ce*ce)}function ot(nt,mt){var Dt=mt[0]-nt[0],ee=mt[1]-nt[1],ce=mt[2]-nt[2];return Dt*Dt+ee*ee+ce*ce}function rt(nt){var mt=nt[0],Dt=nt[1],ee=nt[2];return mt*mt+Dt*Dt+ee*ee}function At(nt,mt){return nt[0]=-mt[0],nt[1]=-mt[1],nt[2]=-mt[2],nt}function pt(nt,mt){return nt[0]=1/mt[0],nt[1]=1/mt[1],nt[2]=1/mt[2],nt}function Ft(nt,mt){var Dt=mt[0],ee=mt[1],ce=mt[2],le=Dt*Dt+ee*ee+ce*ce;return le>0&&(le=1/Math.sqrt(le),nt[0]=mt[0]*le,nt[1]=mt[1]*le,nt[2]=mt[2]*le),nt}function Tt(nt,mt){return nt[0]*mt[0]+nt[1]*mt[1]+nt[2]*mt[2]}function Ot(nt,mt,Dt){var ee=mt[0],ce=mt[1],le=mt[2],Xe=Dt[0],Ie=Dt[1],Re=Dt[2];return nt[0]=ce*Re-le*Ie,nt[1]=le*Xe-ee*Re,nt[2]=ee*Ie-ce*Xe,nt}function xt(nt,mt,Dt,ee){var ce=mt[0],le=mt[1],Xe=mt[2];return nt[0]=ce+ee*(Dt[0]-ce),nt[1]=le+ee*(Dt[1]-le),nt[2]=Xe+ee*(Dt[2]-Xe),nt}function ht(nt,mt,Dt,ee,ce,le){var Xe=le*le,Ie=Xe*(2*le-3)+1,Re=Xe*(le-2)+le,or=Xe*(le-1),lr=Xe*(3-2*le);return nt[0]=mt[0]*Ie+Dt[0]*Re+ee[0]*or+ce[0]*lr,nt[1]=mt[1]*Ie+Dt[1]*Re+ee[1]*or+ce[1]*lr,nt[2]=mt[2]*Ie+Dt[2]*Re+ee[2]*or+ce[2]*lr,nt}function kt(nt,mt,Dt,ee,ce,le){var Xe=1-le,Ie=Xe*Xe,Re=le*le,or=Ie*Xe,lr=3*le*Ie,Ir=3*Re*Xe,Er=Re*le;return nt[0]=mt[0]*or+Dt[0]*lr+ee[0]*Ir+ce[0]*Er,nt[1]=mt[1]*or+Dt[1]*lr+ee[1]*Ir+ce[1]*Er,nt[2]=mt[2]*or+Dt[2]*lr+ee[2]*Ir+ce[2]*Er,nt}function Gt(nt,mt){mt=mt||1;var Dt=O.RANDOM()*2*Math.PI,ee=O.RANDOM()*2-1,ce=Math.sqrt(1-ee*ee)*mt;return nt[0]=Math.cos(Dt)*ce,nt[1]=Math.sin(Dt)*ce,nt[2]=ee*mt,nt}function dt(nt,mt,Dt){var ee=mt[0],ce=mt[1],le=mt[2],Xe=Dt[3]*ee+Dt[7]*ce+Dt[11]*le+Dt[15];return Xe=Xe||1,nt[0]=(Dt[0]*ee+Dt[4]*ce+Dt[8]*le+Dt[12])/Xe,nt[1]=(Dt[1]*ee+Dt[5]*ce+Dt[9]*le+Dt[13])/Xe,nt[2]=(Dt[2]*ee+Dt[6]*ce+Dt[10]*le+Dt[14])/Xe,nt}function tt(nt,mt,Dt){var ee=mt[0],ce=mt[1],le=mt[2];return nt[0]=ee*Dt[0]+ce*Dt[3]+le*Dt[6],nt[1]=ee*Dt[1]+ce*Dt[4]+le*Dt[7],nt[2]=ee*Dt[2]+ce*Dt[5]+le*Dt[8],nt}function I(nt,mt,Dt){var ee=Dt[0],ce=Dt[1],le=Dt[2],Xe=Dt[3],Ie=mt[0],Re=mt[1],or=mt[2],lr=ce*or-le*Re,Ir=le*Ie-ee*or,Er=ee*Re-ce*Ie,on=ce*Er-le*Ir,In=le*lr-ee*Er,fn=ee*Ir-ce*lr,xn=Xe*2;return lr*=xn,Ir*=xn,Er*=xn,on*=2,In*=2,fn*=2,nt[0]=Ie+lr+on,nt[1]=Re+Ir+In,nt[2]=or+Er+fn,nt}function u(nt,mt,Dt,ee){var ce=[],le=[];return ce[0]=mt[0]-Dt[0],ce[1]=mt[1]-Dt[1],ce[2]=mt[2]-Dt[2],le[0]=ce[0],le[1]=ce[1]*Math.cos(ee)-ce[2]*Math.sin(ee),le[2]=ce[1]*Math.sin(ee)+ce[2]*Math.cos(ee),nt[0]=le[0]+Dt[0],nt[1]=le[1]+Dt[1],nt[2]=le[2]+Dt[2],nt}function Y(nt,mt,Dt,ee){var ce=[],le=[];return ce[0]=mt[0]-Dt[0],ce[1]=mt[1]-Dt[1],ce[2]=mt[2]-Dt[2],le[0]=ce[2]*Math.sin(ee)+ce[0]*Math.cos(ee),le[1]=ce[1],le[2]=ce[2]*Math.cos(ee)-ce[0]*Math.sin(ee),nt[0]=le[0]+Dt[0],nt[1]=le[1]+Dt[1],nt[2]=le[2]+Dt[2],nt}function G(nt,mt,Dt,ee){var ce=[],le=[];return ce[0]=mt[0]-Dt[0],ce[1]=mt[1]-Dt[1],ce[2]=mt[2]-Dt[2],le[0]=ce[0]*Math.cos(ee)-ce[1]*Math.sin(ee),le[1]=ce[0]*Math.sin(ee)+ce[1]*Math.cos(ee),le[2]=ce[2],nt[0]=le[0]+Dt[0],nt[1]=le[1]+Dt[1],nt[2]=le[2]+Dt[2],nt}function X(nt,mt){var Dt=C(nt[0],nt[1],nt[2]),ee=C(mt[0],mt[1],mt[2]);Ft(Dt,Dt),Ft(ee,ee);var ce=Tt(Dt,ee);return ce>1?0:ce<-1?Math.PI:Math.acos(ce)}function U(nt){return"vec3("+nt[0]+", "+nt[1]+", "+nt[2]+")"}function J(nt,mt){return nt[0]===mt[0]&&nt[1]===mt[1]&&nt[2]===mt[2]}function lt(nt,mt){var Dt=nt[0],ee=nt[1],ce=nt[2],le=mt[0],Xe=mt[1],Ie=mt[2];return Math.abs(Dt-le)<=O.EPSILON*Math.max(1,Math.abs(Dt),Math.abs(le))&&Math.abs(ee-Xe)<=O.EPSILON*Math.max(1,Math.abs(ee),Math.abs(Xe))&&Math.abs(ce-Ie)<=O.EPSILON*Math.max(1,Math.abs(ce),Math.abs(Ie))}var It=S.sub=y,bt=S.mul=m,et=S.div=p,Ct=S.dist=Z,it=S.sqrDist=ot,st=S.len=A,St=S.sqrLen=rt,at=S.forEach=function(){var nt=_();return function(mt,Dt,ee,ce,le,Xe){var Ie=void 0,Re=void 0;for(Dt||(Dt=3),ee||(ee=0),ce?Re=Math.min(ce*Dt+ee,mt.length):Re=mt.length,Ie=ee;Ie<Re;Ie+=Dt)nt[0]=mt[Ie],nt[1]=mt[Ie+1],nt[2]=mt[Ie+2],le(nt,nt,Xe),mt[Ie]=nt[0],mt[Ie+1]=nt[1],mt[Ie+2]=nt[2];return mt}}()},92640:function(ft,S,v){function x(w,y){w.prototype=Object.create(y.prototype),w.prototype.constructor=w,O(w,y)}function O(w,y){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,M){return p.__proto__=M,p},O(w,y)}var k=v(4905),_=v(90390),T=v(30130),A=v(22965),C=function(w){x(y,w);function y(){return w.apply(this,arguments)||this}var m=y.prototype;return m.execute=function(){var M=this;return T(M.rootNode,M.options,_)},y}(k),E={};function g(w,y){return y=A.assign({},E,y),new C(w,y).execute()}ft.exports=g},34542:function(ft,S,v){function x(w,y){w.prototype=Object.create(y.prototype),w.prototype.constructor=w,O(w,y)}function O(w,y){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,M){return p.__proto__=M,p},O(w,y)}var k=v(4905),_=v(37133),T=v(30130),A=v(22965),C=function(w){x(y,w);function y(){return w.apply(this,arguments)||this}var m=y.prototype;return m.execute=function(){var M=this;return M.rootNode.width=0,T(M.rootNode,M.options,_)},y}(k),E={};function g(w,y){return y=A.assign({},E,y),new C(w,y).execute()}ft.exports=g},57088:function(ft,S,v){function x(m,p){m.prototype=Object.create(p.prototype),m.prototype.constructor=m,O(m,p)}function O(m,p){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,B){return P.__proto__=B,P},O(m,p)}var k=v(4905),_=v(10568),T=v(59286),A=v(22965),C=["LR","RL","H"],E=C[0],g=function(m){x(p,m);function p(){return m.apply(this,arguments)||this}var M=p.prototype;return M.execute=function(){var B=this,F=B.options,W=B.rootNode;F.isHorizontal=!0;var Q=F.indent,H=Q===void 0?20:Q,Z=F.dropCap,ot=Z===void 0?!0:Z,rt=F.direction,At=rt===void 0?E:rt,pt=F.align;if(At&&C.indexOf(At)===-1)throw new TypeError("Invalid direction: "+At);if(At===C[0])_(W,H,ot,pt);else if(At===C[1])_(W,H,ot,pt),W.right2left();else if(At===C[2]){var Ft=T(W,F),Tt=Ft.left,Ot=Ft.right;_(Tt,H,ot,pt),Tt.right2left(),_(Ot,H,ot,pt);var xt=Tt.getBoundingBox();Ot.translate(xt.width,0),W.x=Ot.x-W.width/2}return W},p}(k),w={};function y(m,p){return p=A.assign({},w,p),new g(m,p).execute()}ft.exports=y},77201:function(ft,S,v){var x={compactBox:v(92640),dendrogram:v(34542),indented:v(57088),mindmap:v(1355)};ft.exports=x},4905:function(ft,S,v){var x=v(27249),O=function(){function k(T,A){A===void 0&&(A={});var C=this;C.options=A,C.rootNode=x(T,A)}var _=k.prototype;return _.execute=function(){throw new Error("please override this method")},k}();ft.exports=O},37133:function(ft,S,v){var x=v(22965);function O(T,A){T===void 0&&(T=0),A===void 0&&(A=[]);var C=this;C.x=C.y=0,C.leftChild=C.rightChild=null,C.height=0,C.children=A}var k={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function _(T,A,C){C?(A.x=T.x,A.y=T.y):(A.x=T.y,A.y=T.x),T.children.forEach(function(E,g){_(E,A.children[g],C)})}ft.exports=function(T,A){A===void 0&&(A={}),A=x.assign({},k,A);var C=0;function E(p){if(!p)return null;p.width=0,p.depth&&p.depth>C&&(C=p.depth);var M=p.children,P=M.length,B=new O(p.height,[]);return M.forEach(function(F,W){var Q=E(F);B.children.push(Q),W===0&&(B.leftChild=Q),W===P-1&&(B.rightChild=Q)}),B.originNode=p,B.isLeaf=p.isLeaf(),B}function g(p){if(p.isLeaf||p.children.length===0)p.drawingDepth=C;else{var M=p.children.map(function(B){return g(B)}),P=Math.min.apply(null,M);p.drawingDepth=P-1}return p.drawingDepth}var w;function y(p){p.x=p.drawingDepth*A.rankSep,p.isLeaf?(p.y=0,w&&(p.y=w.y+w.height+A.nodeSep,p.originNode.parent!==w.originNode.parent&&(p.y+=A.subTreeSep)),w=p):(p.children.forEach(function(M){y(M)}),p.y=(p.leftChild.y+p.rightChild.y)/2)}var m=E(T);return g(m),y(m),_(m,T,A.isHorizontal),T}},30130:function(ft,S,v){var x=v(59286),O=["LR","RL","TB","BT","H","V"],k=["LR","RL","H"],_=function(C){return k.indexOf(C)>-1},T=O[0];ft.exports=function(A,C,E){var g=C.direction||T;if(C.isHorizontal=_(g),g&&O.indexOf(g)===-1)throw new TypeError("Invalid direction: "+g);if(g===O[0])E(A,C);else if(g===O[1])E(A,C),A.right2left();else if(g===O[2])E(A,C);else if(g===O[3])E(A,C),A.bottom2top();else if(g===O[4]||g===O[5]){var w=x(A,C),y=w.left,m=w.right;E(y,C),E(m,C),C.isHorizontal?y.right2left():y.bottom2top(),m.translate(y.x-m.x,y.y-m.y),A.x=y.x,A.y=m.y;var p=A.getBoundingBox();C.isHorizontal?p.top<0&&A.translate(0,-p.top):p.left<0&&A.translate(-p.left,0)}var M=C.fixedRoot;return M===void 0&&(M=!0),M&&A.translate(-(A.x+A.width/2+A.hgap),-(A.y+A.height/2+A.vgap)),A}},27249:function(ft,S,v){var x=v(22965),O=18,k=O*2,_=O,T={getId:function(g){return g.id||g.name},getPreH:function(g){return g.preH||0},getPreV:function(g){return g.preV||0},getHGap:function(g){return g.hgap||_},getVGap:function(g){return g.vgap||_},getChildren:function(g){return g.children},getHeight:function(g){return g.height||k},getWidth:function(g){var w=g.label||" ";return g.width||w.split("").length*O}};function A(E,g){var w=this;if(w.vgap=w.hgap=0,E instanceof A)return E;w.data=E;var y=g.getHGap(E),m=g.getVGap(E);return w.preH=g.getPreH(E),w.preV=g.getPreV(E),w.width=g.getWidth(E),w.height=g.getHeight(E),w.width+=w.preH,w.height+=w.preV,w.id=g.getId(E),w.x=w.y=0,w.depth=0,w.children||(w.children=[]),w.addGap(y,m),w}x.assign(A.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(g,w){var y=this;y.hgap+=g,y.vgap+=w,y.width+=2*g,y.height+=2*w},eachNode:function(g){for(var w=this,y=[w],m;m=y.shift();)g(m),y=m.children.concat(y)},DFTraverse:function(g){this.eachNode(g)},BFTraverse:function(g){for(var w=this,y=[w],m;m=y.shift();)g(m),y=y.concat(m.children)},getBoundingBox:function(){var g={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(w){g.left=Math.min(g.left,w.x),g.top=Math.min(g.top,w.y),g.width=Math.max(g.width,w.x+w.width),g.height=Math.max(g.height,w.y+w.height)}),g},translate:function(g,w){g===void 0&&(g=0),w===void 0&&(w=0),this.eachNode(function(y){y.x+=g,y.y+=w,y.x+=y.preH,y.y+=y.preV})},right2left:function(){var g=this,w=g.getBoundingBox();g.eachNode(function(y){y.x=y.x-(y.x-w.left)*2-y.width}),g.translate(w.width,0)},bottom2top:function(){var g=this,w=g.getBoundingBox();g.eachNode(function(y){y.y=y.y-(y.y-w.top)*2-y.height}),g.translate(0,w.height)}});function C(E,g,w){g===void 0&&(g={}),g=x.assign({},T,g);var y=new A(E,g),m=[y],p;if(!w&&!E.collapsed){for(;p=m.shift();)if(!p.data.collapsed){var M=g.getChildren(p.data),P=M?M.length:0;if(p.children=new Array(P),M&&P)for(var B=0;B<P;B++){var F=new A(M[B],g);p.children[B]=F,m.push(F),F.parent=p,F.depth=p.depth+1}}}return y}ft.exports=C},10568:function(ft,S,v){var x=v(22965);function O(k,_,T,A,C){var E=typeof T=="function"?T(k):T*k.depth;if(!A)try{if(k.id===k.parent.children[0].id){k.x+=E,k.y=_?_.y:0;return}}catch(y){}if(k.x+=E,_){if(k.y=_.y+x.getHeight(_,k,C),_.parent&&k.parent.id!==_.parent.id){var g=_.parent,w=g.y+x.getHeight(g,k,C);k.y=w>k.y?w:k.y}}else k.y=0}ft.exports=function(k,_,T,A){var C=null;k.eachNode(function(E){O(E,C,_,T,A),C=E})}},24461:function(ft,S,v){var x=v(22965);function O(T,A){var C=0;return T.children.length?T.children.forEach(function(E){C+=O(E,A)}):C=T.height,T._subTreeSep=A.getSubTreeSep(T.data),T.totalHeight=Math.max(T.height,C)+2*T._subTreeSep,T.totalHeight}function k(T){var A=T.children,C=A.length;if(C){A.forEach(function(p){k(p)});var E=A[0],g=A[C-1],w=g.y-E.y+g.height,y=0;if(A.forEach(function(p){y+=p.totalHeight}),w>T.height)T.y=E.y+w/2-T.height/2;else if(A.length!==1||T.height>y){var m=T.y+(T.height-w)/2-E.y;A.forEach(function(p){p.translate(0,m)})}else T.y=(E.y+E.height/2+g.y+g.height/2)/2-T.height/2}}var _={getSubTreeSep:function(){return 0}};ft.exports=function(T,A){A===void 0&&(A={}),A=x.assign({},_,A),T.parent={x:0,width:0,height:0,y:0},T.BFTraverse(function(C){C.x=C.parent.x+C.parent.width}),T.parent=null,O(T,A),T.startY=0,T.y=T.totalHeight/2-T.height/2,T.eachNode(function(C){var E=C.children,g=E.length;if(g){var w=E[0];if(w.startY=C.startY+C._subTreeSep,g===1)w.y=C.y+C.height/2-w.height/2;else{w.y=w.startY+w.totalHeight/2-w.height/2;for(var y=1;y<g;y++){var m=E[y];m.startY=E[y-1].startY+E[y-1].totalHeight,m.y=m.startY+m.totalHeight/2-m.height/2}}}}),k(T)}},90390:function(ft){function S(T,A,C,E){E===void 0&&(E=[]);var g=this;g.w=T||0,g.h=A||0,g.y=C||0,g.x=0,g.c=E||[],g.cs=E.length,g.prelim=0,g.mod=0,g.shift=0,g.change=0,g.tl=null,g.tr=null,g.el=null,g.er=null,g.msel=0,g.mser=0}S.fromNode=function(T,A){if(!T)return null;var C=[];return T.children.forEach(function(E){C.push(S.fromNode(E,A))}),A?new S(T.height,T.width,T.x,C):new S(T.width,T.height,T.y,C)};function v(T,A,C){C?T.y+=A:T.x+=A,T.children.forEach(function(E){v(E,A,C)})}function x(T,A){var C=A?T.y:T.x;return T.children.forEach(function(E){C=Math.min(x(E,A),C)}),C}function O(T,A){var C=x(T,A);v(T,-C,A)}function k(T,A,C){C?A.y=T.x:A.x=T.x,T.c.forEach(function(E,g){k(E,A.children[g],C)})}function _(T,A,C){C===void 0&&(C=0),A?(T.x=C,C+=T.width):(T.y=C,C+=T.height),T.children.forEach(function(E){_(E,A,C)})}ft.exports=function(T,A){A===void 0&&(A={});var C=A.isHorizontal;function E(rt){if(rt.cs===0){g(rt);return}E(rt.c[0]);for(var At=Z(M(rt.c[0].el),0,null),pt=1;pt<rt.cs;++pt){E(rt.c[pt]);var Ft=M(rt.c[pt].er);w(rt,pt,At),At=Z(Ft,pt,At)}F(rt),g(rt)}function g(rt){rt.cs===0?(rt.el=rt,rt.er=rt,rt.msel=rt.mser=0):(rt.el=rt.c[0].el,rt.msel=rt.c[0].msel,rt.er=rt.c[rt.cs-1].er,rt.mser=rt.c[rt.cs-1].mser)}function w(rt,At,pt){for(var Ft=rt.c[At-1],Tt=Ft.mod,Ot=rt.c[At],xt=Ot.mod;Ft!==null&&Ot!==null;){M(Ft)>pt.low&&(pt=pt.nxt);var ht=Tt+Ft.prelim+Ft.w-(xt+Ot.prelim);ht>0&&(xt+=ht,y(rt,At,pt.index,ht));var kt=M(Ft),Gt=M(Ot);kt<=Gt&&(Ft=p(Ft),Ft!==null&&(Tt+=Ft.mod)),kt>=Gt&&(Ot=m(Ot),Ot!==null&&(xt+=Ot.mod))}!Ft&&!!Ot?P(rt,At,Ot,xt):!!Ft&&!Ot&&B(rt,At,Ft,Tt)}function y(rt,At,pt,Ft){rt.c[At].mod+=Ft,rt.c[At].msel+=Ft,rt.c[At].mser+=Ft,Q(rt,At,pt,Ft)}function m(rt){return rt.cs===0?rt.tl:rt.c[0]}function p(rt){return rt.cs===0?rt.tr:rt.c[rt.cs-1]}function M(rt){return rt.y+rt.h}function P(rt,At,pt,Ft){var Tt=rt.c[0].el;Tt.tl=pt;var Ot=Ft-pt.mod-rt.c[0].msel;Tt.mod+=Ot,Tt.prelim-=Ot,rt.c[0].el=rt.c[At].el,rt.c[0].msel=rt.c[At].msel}function B(rt,At,pt,Ft){var Tt=rt.c[At].er;Tt.tr=pt;var Ot=Ft-pt.mod-rt.c[At].mser;Tt.mod+=Ot,Tt.prelim-=Ot,rt.c[At].er=rt.c[At-1].er,rt.c[At].mser=rt.c[At-1].mser}function F(rt){rt.prelim=(rt.c[0].prelim+rt.c[0].mod+rt.c[rt.cs-1].mod+rt.c[rt.cs-1].prelim+rt.c[rt.cs-1].w)/2-rt.w/2}function W(rt,At){At+=rt.mod,rt.x=rt.prelim+At,H(rt);for(var pt=0;pt<rt.cs;pt++)W(rt.c[pt],At)}function Q(rt,At,pt,Ft){if(pt!==At-1){var Tt=At-pt;rt.c[pt+1].shift+=Ft/Tt,rt.c[At].shift-=Ft/Tt,rt.c[At].change-=Ft-Ft/Tt}}function H(rt){for(var At=0,pt=0,Ft=0;Ft<rt.cs;Ft++)At+=rt.c[Ft].shift,pt+=At+rt.c[Ft].change,rt.c[Ft].mod+=pt}function Z(rt,At,pt){for(;pt!==null&&rt>=pt.low;)pt=pt.nxt;return{low:rt,index:At,nxt:pt}}_(T,C);var ot=S.fromNode(T,C);return E(ot),W(ot,0),k(ot,T,C),O(T,C),T}},59286:function(ft,S,v){var x=v(27249);ft.exports=function(O,k){for(var _=x(O.data,k,!0),T=x(O.data,k,!0),A=O.children.length,C=Math.round(A/2),E=k.getSide||function(m,p){return p<C?"right":"left"},g=0;g<A;g++){var w=O.children[g],y=E(w,g);y==="right"?T.children.push(w):_.children.push(w)}return _.eachNode(function(m){m.isRoot()||(m.side="left")}),T.eachNode(function(m){m.isRoot()||(m.side="right")}),{left:_,right:T}}},1355:function(ft,S,v){function x(w,y){w.prototype=Object.create(y.prototype),w.prototype.constructor=w,O(w,y)}function O(w,y){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,M){return p.__proto__=M,p},O(w,y)}var k=v(4905),_=v(24461),T=v(30130),A=v(22965),C=function(w){x(y,w);function y(){return w.apply(this,arguments)||this}var m=y.prototype;return m.execute=function(){var M=this;return T(M.rootNode,M.options,_)},y}(k),E={};function g(w,y){return y=A.assign({},E,y),new C(w,y).execute()}ft.exports=g},22965:function(ft,S,v){var x=v(49242),O=x.mix;function k(_,T,A,C){return C===void 0&&(C="height"),A==="center"?(_[C]+T[C])/2:_.height}ft.exports={assign:O,getHeight:k}},31506:function(ft,S,v){"use strict";v.r(S),v.d(S,{leftTranslate:function(){return k},leftRotate:function(){return _},leftScale:function(){return T},transform:function(){return C},direction:function(){return E},angleTo:function(){return g},vertical:function(){return w}});var x=v(35600),O=v(31437);function k(y,m,p){var M=[0,0,0,0,0,0,0,0,0];return x.fromTranslation(M,p),x.multiply(y,M,m)}function _(y,m,p){var M=[0,0,0,0,0,0,0,0,0];return x.fromRotation(M,p),x.multiply(y,M,m)}function T(y,m,p){var M=[0,0,0,0,0,0,0,0,0];return x.fromScaling(M,p),x.multiply(y,M,m)}function A(y,m,p){return x.multiply(y,p,m)}function C(y,m){for(var p=y?[].concat(y):[1,0,0,0,1,0,0,0,1],M=0,P=m.length;M<P;M++){var B=m[M];switch(B[0]){case"t":k(p,p,[B[1],B[2]]);break;case"s":T(p,p,[B[1],B[2]]);break;case"r":_(p,p,B[1]);break;case"m":A(p,p,B[1]);break;default:break}}return p}function E(y,m){return y[0]*m[1]-m[0]*y[1]}function g(y,m,p){var M=O.angle(y,m),P=E(y,m)>=0;return p?P?Math.PI*2-M:M:P?M:Math.PI*2-M}function w(y,m,p){return p?(y[0]=m[1],y[1]=-1*m[0]):(y[0]=-1*m[1],y[1]=m[0]),y}},43567:function(ft,S,v){"use strict";v.r(S),v.d(S,{mat3:function(){return x},vec2:function(){return O},vec3:function(){return k},ext:function(){return _}});var x=v(35600),O=v(31437),k=v(77160),_=v(31506)},57350:function(ft,S,v){"use strict";v.r(S),v.d(S,{catmullRom2Bezier:function(){return g},fillPath:function(){return p},fillPathByDiff:function(){return B},formatPath:function(){return Q},getArcParams:function(){return Ie},getLineIntersect:function(){return Ir},isPointInPolygon:function(){return fn},isPolygonsIntersect:function(){return bi},parsePath:function(){return T},parsePathArray:function(){return Dt},parsePathString:function(){return At},path2Absolute:function(){return Tt},path2Curve:function(){return G},path2Segments:function(){return or},pathIntersection:function(){return nt},reactPath:function(){return H}});var x=v(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,k=/[^\s\,]+/ig;function _($t){var se=$t||[];if((0,x.isArray)(se))return se;if((0,x.isString)(se))return se=se.match(O),(0,x.each)(se,function(ge,me){if(ge=ge.match(k),ge[0].length>1){var ke=ge[0].charAt(0);ge.splice(1,0,ge[0].substr(1)),ge[0]=ke}(0,x.each)(ge,function(Fe,Ne){isNaN(Fe)||(ge[Ne]=+Fe)}),se[me]=ge}),se}var T=_,A=v(31437);function C($t,se,ge,me){var ke=[],Fe=!!me,Ne,Ve,Te,vr,qe,yr,Lr;if(Fe){Te=me[0],vr=me[1];for(var wr=0,kr=$t.length;wr<kr;wr+=1){var Br=$t[wr];Te=A.min([0,0],Te,Br),vr=A.max([0,0],vr,Br)}}for(var wr=0,Nr=$t.length;wr<Nr;wr+=1){var Br=$t[wr];if(wr===0&&!ge)Lr=Br;else if(wr===Nr-1&&!ge)yr=Br,ke.push(Lr),ke.push(yr);else{var gr=[wr?wr-1:Nr-1,wr-1][ge?0:1];Ne=$t[gr],Ve=$t[ge?(wr+1)%Nr:wr+1];var Vr=[0,0];Vr=A.sub(Vr,Ve,Ne),Vr=A.scale(Vr,Vr,se);var Qr=A.distance(Br,Ne),zr=A.distance(Br,Ve),tn=Qr+zr;tn!==0&&(Qr/=tn,zr/=tn);var cn=A.scale([0,0],Vr,-Qr),Bt=A.scale([0,0],Vr,zr);yr=A.add([0,0],Br,cn),qe=A.add([0,0],Br,Bt),qe=A.min([0,0],qe,A.max([0,0],Ve,Br)),qe=A.max([0,0],qe,A.min([0,0],Ve,Br)),cn=A.sub([0,0],qe,Br),cn=A.scale([0,0],cn,-Qr/zr),yr=A.add([0,0],Br,cn),yr=A.min([0,0],yr,A.max([0,0],Ne,Br)),yr=A.max([0,0],yr,A.min([0,0],Ne,Br)),Bt=A.sub([0,0],Br,yr),Bt=A.scale([0,0],Bt,zr/Qr),qe=A.add([0,0],Br,Bt),Fe&&(yr=A.max([0,0],yr,Te),yr=A.min([0,0],yr,vr),qe=A.max([0,0],qe,Te),qe=A.min([0,0],qe,vr)),ke.push(Lr),ke.push(yr),Lr=qe}}return ge&&ke.push(ke.shift()),ke}function E($t,se,ge){se===void 0&&(se=!1),ge===void 0&&(ge=[[0,0],[1,1]]);for(var me=!!se,ke=[],Fe=0,Ne=$t.length;Fe<Ne;Fe+=2)ke.push([$t[Fe],$t[Fe+1]]);for(var Ve=C(ke,.4,me,ge),Te=ke.length,vr=[],qe,yr,Lr,Fe=0;Fe<Te-1;Fe+=1)qe=Ve[Fe*2],yr=Ve[Fe*2+1],Lr=ke[Fe+1],vr.push(["C",qe[0],qe[1],yr[0],yr[1],Lr[0],Lr[1]]);return me&&(qe=Ve[Te],yr=Ve[Te+1],Lr=ke[0],vr.push(["C",qe[0],qe[1],yr[0],yr[1],Lr[0],Lr[1]])),vr}var g=E;function w($t,se){var ge=[],me=[];function ke(Fe,Ne){if(Fe.length===1)ge.push(Fe[0]),me.push(Fe[0]);else{for(var Ve=[],Te=0;Te<Fe.length-1;Te++)Te===0&&ge.push(Fe[0]),Te===Fe.length-2&&me.push(Fe[Te+1]),Ve[Te]=[(1-Ne)*Fe[Te][0]+Ne*Fe[Te+1][0],(1-Ne)*Fe[Te][1]+Ne*Fe[Te+1][1]];ke(Ve,Ne)}}return $t.length&&ke($t,se),{left:ge,right:me.reverse()}}function y($t,se,ge){var me=[[$t[1],$t[2]]];ge=ge||2;var ke=[];se[0]==="A"?(me.push(se[6]),me.push(se[7])):se[0]==="C"?(me.push([se[1],se[2]]),me.push([se[3],se[4]]),me.push([se[5],se[6]])):se[0]==="S"||se[0]==="Q"?(me.push([se[1],se[2]]),me.push([se[3],se[4]])):me.push([se[1],se[2]]);for(var Fe=me,Ne=1/ge,Ve=0;Ve<ge-1;Ve++){var Te=Ne/(1-Ne*Ve),vr=w(Fe,Te);ke.push(vr.left),Fe=vr.right}ke.push(Fe);var qe=ke.map(function(yr){var Lr=[];return yr.length===4&&(Lr.push("C"),Lr=Lr.concat(yr[2])),yr.length>=3&&(yr.length===3&&Lr.push("Q"),Lr=Lr.concat(yr[1])),yr.length===2&&Lr.push("L"),Lr=Lr.concat(yr[yr.length-1]),Lr});return qe}function m($t,se,ge){if(ge===1)return[[].concat($t)];var me=[];if(se[0]==="L"||se[0]==="C"||se[0]==="Q")me=me.concat(y($t,se,ge));else{var ke=[].concat($t);ke[0]==="M"&&(ke[0]="L");for(var Fe=0;Fe<=ge-1;Fe++)me.push(ke)}return me}function p($t,se){if($t.length===1)return $t;var ge=$t.length-1,me=se.length-1,ke=ge/me,Fe=[];if($t.length===1&&$t[0][0]==="M"){for(var Ne=0;Ne<me-ge;Ne++)$t.push($t[0]);return $t}for(var Ne=0;Ne<me;Ne++){var Ve=Math.floor(ke*Ne);Fe[Ve]=(Fe[Ve]||0)+1}var Te=Fe.reduce(function(vr,qe,yr){return yr===ge?vr.concat($t[ge]):vr.concat(m($t[yr],$t[yr+1],qe))},[]);return Te.unshift($t[0]),(se[me]==="Z"||se[me]==="z")&&Te.push("Z"),Te}function M($t,se,ge){var me=null,ke=ge;return se<ke&&(ke=se,me="add"),$t<ke&&(ke=$t,me="del"),{type:me,min:ke}}var P=function($t,se){var ge=$t.length,me=se.length,ke,Fe,Ne=0;if(ge===0||me===0)return null;for(var Ve=[],Te=0;Te<=ge;Te++)Ve[Te]=[],Ve[Te][0]={min:Te};for(var vr=0;vr<=me;vr++)Ve[0][vr]={min:vr};for(var Te=1;Te<=ge;Te++){ke=$t[Te-1];for(var vr=1;vr<=me;vr++){Fe=se[vr-1],(0,x.isEqual)(ke,Fe)?Ne=0:Ne=1;var qe=Ve[Te-1][vr].min+1,yr=Ve[Te][vr-1].min+1,Lr=Ve[Te-1][vr-1].min+Ne;Ve[Te][vr]=M(qe,yr,Lr)}}return Ve};function B($t,se){var ge=P($t,se),me=$t.length,ke=se.length,Fe=[],Ne=1,Ve=1;if(ge[me][ke]!==me){for(var Te=1;Te<=me;Te++){var vr=ge[Te][Te].min;Ve=Te;for(var qe=Ne;qe<=ke;qe++)ge[Te][qe].min<vr&&(vr=ge[Te][qe].min,Ve=qe);Ne=Ve,ge[Te][Ne].type&&Fe.push({index:Te-1,type:ge[Te][Ne].type})}for(var Te=Fe.length-1;Te>=0;Te--)Ne=Fe[Te].index,Fe[Te].type==="add"?$t.splice(Ne,0,[].concat($t[Ne])):$t.splice(Ne,1)}if(me=$t.length,me<ke)for(var Te=0;Te<ke-me;Te++)$t[me-1][0]==="z"||$t[me-1][0]==="Z"?$t.splice(me-2,0,$t[me-2]):$t.push($t[me-1]);return $t}function F($t){var se=[];switch($t[0]){case"M":se.push([$t[1],$t[2]]);break;case"L":se.push([$t[1],$t[2]]);break;case"A":se.push([$t[6],$t[7]]);break;case"Q":se.push([$t[3],$t[4]]),se.push([$t[1],$t[2]]);break;case"T":se.push([$t[1],$t[2]]);break;case"C":se.push([$t[5],$t[6]]),se.push([$t[1],$t[2]]),se.push([$t[3],$t[4]]);break;case"S":se.push([$t[3],$t[4]]),se.push([$t[1],$t[2]]);break;case"H":se.push([$t[1],$t[1]]);break;case"V":se.push([$t[1],$t[1]]);break;default:}return se}function W($t,se,ge){for(var me=[].concat($t),ke,Fe=1/(ge+1),Ne=F(se)[0],Ve=1;Ve<=ge;Ve++)Fe*=Ve,ke=Math.floor($t.length*Fe),ke===0?me.unshift([Ne[0]*Fe+$t[ke][0]*(1-Fe),Ne[1]*Fe+$t[ke][1]*(1-Fe)]):me.splice(ke,0,[Ne[0]*Fe+$t[ke][0]*(1-Fe),Ne[1]*Fe+$t[ke][1]*(1-Fe)]);return me}function Q($t,se){if($t.length<=1)return $t;for(var ge,me=0;me<se.length;me++)if($t[me][0]!==se[me][0])switch(ge=F($t[me]),se[me][0]){case"M":$t[me]=["M"].concat(ge[0]);break;case"L":$t[me]=["L"].concat(ge[0]);break;case"A":$t[me]=[].concat(se[me]),$t[me][6]=ge[0][0],$t[me][7]=ge[0][1];break;case"Q":if(ge.length<2)if(me>0)ge=W(ge,$t[me-1],1);else{$t[me]=se[me];break}$t[me]=["Q"].concat(ge.reduce(function(ke,Fe){return ke.concat(Fe)},[]));break;case"T":$t[me]=["T"].concat(ge[0]);break;case"C":if(ge.length<3)if(me>0)ge=W(ge,$t[me-1],2);else{$t[me]=se[me];break}$t[me]=["C"].concat(ge.reduce(function(ke,Fe){return ke.concat(Fe)},[]));break;case"S":if(ge.length<2)if(me>0)ge=W(ge,$t[me-1],1);else{$t[me]=se[me];break}$t[me]=["S"].concat(ge.reduce(function(ke,Fe){return ke.concat(Fe)},[]));break;default:$t[me]=se[me]}return $t}function H($t,se,ge,me,ke){return ke?[["M",+$t+ +ke,se],["l",ge-ke*2,0],["a",ke,ke,0,0,1,ke,ke],["l",0,me-ke*2],["a",ke,ke,0,0,1,-ke,ke],["l",ke*2-ge,0],["a",ke,ke,0,0,1,-ke,-ke],["l",0,ke*2-me],["a",ke,ke,0,0,1,ke,-ke],["z"]]:[["M",$t,se],["l",ge,0],["l",0,me],["l",-ge,0],["z"]]}var Z=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,ot=new RegExp("([a-z])["+Z+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Z+"]*,?["+Z+"]*)+)","ig"),rt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Z+"]*,?["+Z+"]*","ig");function At($t){if(!$t)return null;if((0,x.isArray)($t))return $t;var se={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ge=[];return String($t).replace(ot,function(me,ke,Fe){var Ne=[],Ve=ke.toLowerCase();if(Fe.replace(rt,function(Te,vr){vr&&Ne.push(+vr)}),Ve==="m"&&Ne.length>2&&(ge.push([ke].concat(Ne.splice(0,2))),Ve="l",ke=ke==="m"?"l":"L"),Ve==="o"&&Ne.length===1&&ge.push([ke,Ne[0]]),Ve==="r")ge.push([ke].concat(Ne));else for(;Ne.length>=se[Ve]&&(ge.push([ke].concat(Ne.splice(0,se[Ve]))),!!se[Ve]););return""}),ge}var pt=/[a-z]/;function Ft($t,se){return[se[0]+(se[0]-$t[0]),se[1]+(se[1]-$t[1])]}function Tt($t){var se=At($t);if(!se||!se.length)return[["M",0,0]];for(var ge=!1,me=0;me<se.length;me++){var ke=se[me][0];if(pt.test(ke)||["V","H","T","S"].indexOf(ke)>=0){ge=!0;break}}if(!ge)return se;var Fe=[],Ne=0,Ve=0,Te=0,vr=0,qe=0,yr,Lr,wr=se[0];(wr[0]==="M"||wr[0]==="m")&&(Ne=+wr[1],Ve=+wr[2],Te=Ne,vr=Ve,qe++,Fe[0]=["M",Ne,Ve]);for(var me=qe,kr=se.length;me<kr;me++){var Br=se[me],Nr=Fe[me-1],gr=[],ke=Br[0],Vr=ke.toUpperCase();if(ke!==Vr)switch(gr[0]=Vr,Vr){case"A":gr[1]=Br[1],gr[2]=Br[2],gr[3]=Br[3],gr[4]=Br[4],gr[5]=Br[5],gr[6]=+Br[6]+Ne,gr[7]=+Br[7]+Ve;break;case"V":gr[1]=+Br[1]+Ve;break;case"H":gr[1]=+Br[1]+Ne;break;case"M":Te=+Br[1]+Ne,vr=+Br[2]+Ve,gr[1]=Te,gr[2]=vr;break;default:for(var Qr=1,zr=Br.length;Qr<zr;Qr++)gr[Qr]=+Br[Qr]+(Qr%2?Ne:Ve)}else gr=se[me];switch(Vr){case"Z":Ne=+Te,Ve=+vr;break;case"H":Ne=gr[1],gr=["L",Ne,Ve];break;case"V":Ve=gr[1],gr=["L",Ne,Ve];break;case"T":Ne=gr[1],Ve=gr[2];var tn=Ft([Nr[1],Nr[2]],[Nr[3],Nr[4]]);gr=["Q",tn[0],tn[1],Ne,Ve];break;case"S":Ne=gr[gr.length-2],Ve=gr[gr.length-1];var cn=Nr.length,Bt=Ft([Nr[cn-4],Nr[cn-3]],[Nr[cn-2],Nr[cn-1]]);gr=["C",Bt[0],Bt[1],gr[1],gr[2],Ne,Ve];break;case"M":Te=gr[gr.length-2],vr=gr[gr.length-1];break;default:Ne=gr[gr.length-2],Ve=gr[gr.length-1]}Fe.push(gr)}return Fe}var Ot=Math.PI*2,xt=function($t,se,ge,me,ke,Fe,Ne){var Ve=$t.x,Te=$t.y;Ve*=se,Te*=ge;var vr=me*Ve-ke*Te,qe=ke*Ve+me*Te;return{x:vr+Fe,y:qe+Ne}},ht=function($t,se){var ge=se===1.5707963267948966?.551915024494:se===-1.5707963267948966?-.551915024494:4/3*Math.tan(se/4),me=Math.cos($t),ke=Math.sin($t),Fe=Math.cos($t+se),Ne=Math.sin($t+se);return[{x:me-ke*ge,y:ke+me*ge},{x:Fe+Ne*ge,y:Ne-Fe*ge},{x:Fe,y:Ne}]},kt=function($t,se,ge,me){var ke=$t*me-se*ge<0?-1:1,Fe=$t*ge+se*me;return Fe>1&&(Fe=1),Fe<-1&&(Fe=-1),ke*Math.acos(Fe)},Gt=function($t,se,ge,me,ke,Fe,Ne,Ve,Te,vr,qe,yr){var Lr=Math.pow(ke,2),wr=Math.pow(Fe,2),kr=Math.pow(qe,2),Br=Math.pow(yr,2),Nr=Lr*wr-Lr*Br-wr*kr;Nr<0&&(Nr=0),Nr/=Lr*Br+wr*kr,Nr=Math.sqrt(Nr)*(Ne===Ve?-1:1);var gr=Nr*ke/Fe*yr,Vr=Nr*-Fe/ke*qe,Qr=vr*gr-Te*Vr+($t+ge)/2,zr=Te*gr+vr*Vr+(se+me)/2,tn=(qe-gr)/ke,cn=(yr-Vr)/Fe,Bt=(-qe-gr)/ke,Ht=(-yr-Vr)/Fe,ct=kt(1,0,tn,cn),R=kt(tn,cn,Bt,Ht);return Ve===0&&R>0&&(R-=Ot),Ve===1&&R<0&&(R+=Ot),[Qr,zr,ct,R]},dt=function($t){var se=$t.px,ge=$t.py,me=$t.cx,ke=$t.cy,Fe=$t.rx,Ne=$t.ry,Ve=$t.xAxisRotation,Te=Ve===void 0?0:Ve,vr=$t.largeArcFlag,qe=vr===void 0?0:vr,yr=$t.sweepFlag,Lr=yr===void 0?0:yr,wr=[];if(Fe===0||Ne===0)return[{x1:0,y1:0,x2:0,y2:0,x:me,y:ke}];var kr=Math.sin(Te*Ot/360),Br=Math.cos(Te*Ot/360),Nr=Br*(se-me)/2+kr*(ge-ke)/2,gr=-kr*(se-me)/2+Br*(ge-ke)/2;if(Nr===0&&gr===0)return[{x1:0,y1:0,x2:0,y2:0,x:me,y:ke}];Fe=Math.abs(Fe),Ne=Math.abs(Ne);var Vr=Math.pow(Nr,2)/Math.pow(Fe,2)+Math.pow(gr,2)/Math.pow(Ne,2);Vr>1&&(Fe*=Math.sqrt(Vr),Ne*=Math.sqrt(Vr));var Qr=Gt(se,ge,me,ke,Fe,Ne,qe,Lr,kr,Br,Nr,gr),zr=Qr[0],tn=Qr[1],cn=Qr[2],Bt=Qr[3],Ht=Math.abs(Bt)/(Ot/4);Math.abs(1-Ht)<1e-7&&(Ht=1);var ct=Math.max(Math.ceil(Ht),1);Bt/=ct;for(var R=0;R<ct;R++)wr.push(ht(cn,Bt)),cn+=Bt;return wr.map(function(N){var j=xt(N[0],Fe,Ne,Br,kr,zr,tn),_t=j.x,jt=j.y,Nt=xt(N[1],Fe,Ne,Br,kr,zr,tn),Ut=Nt.x,Se=Nt.y,Me=xt(N[2],Fe,Ne,Br,kr,zr,tn),Oe=Me.x,ir=Me.y;return{x1:_t,y1:jt,x2:Ut,y2:Se,x:Oe,y:ir}})};function tt($t,se,ge,me,ke,Fe,Ne,Ve,Te){var vr=dt({px:$t,py:se,cx:Ve,cy:Te,rx:ge,ry:me,xAxisRotation:ke,largeArcFlag:Fe,sweepFlag:Ne});return vr.reduce(function(qe,yr){var Lr=yr.x1,wr=yr.y1,kr=yr.x2,Br=yr.y2,Nr=yr.x,gr=yr.y;return qe.push(Lr,wr,kr,Br,Nr,gr),qe},[])}function I($t,se,ge,me,ke,Fe){var Ne=1/3,Ve=2/3;return[Ne*$t+Ve*ge,Ne*se+Ve*me,Ne*ke+Ve*ge,Ne*Fe+Ve*me,ke,Fe]}function u($t,se,ge,me){return[$t,se,ge,me,ge,me]}function Y($t,se){"TQ".indexOf($t[0])<0&&(se.qx=null,se.qy=null);var ge=$t.slice(1),me=ge[0],ke=ge[1];switch($t[0]){case"M":return se.x=me,se.y=ke,$t;case"A":return["C"].concat(tt.apply(0,[se.x1,se.y1].concat($t.slice(1))));case"Q":return se.qx=me,se.qy=ke,["C"].concat(I.apply(0,[se.x1,se.y1].concat($t.slice(1))));case"L":return["C"].concat(u(se.x1,se.y1,$t[1],$t[2]));case"H":return["C"].concat(u(se.x1,se.y1,$t[1],se.y1));case"V":return["C"].concat(u(se.x1,se.y1,se.x1,$t[1]));case"Z":return["C"].concat(u(se.x1,se.y1,se.x,se.y));default:}return $t}function G($t,se){se===void 0&&(se=!1);for(var ge=Tt($t),me={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},ke=[],Fe="",Ne=ge.length,Ve,Te,vr=[],qe=0;qe<Ne;qe+=1)ge[qe]&&(Fe=ge[qe][0]),ke[qe]=Fe,ge[qe]=Y(ge[qe],me),X(ge,ke,qe),Ne=ge.length,Fe==="Z"&&vr.push(qe),Ve=ge[qe],Te=Ve.length,me.x1=+Ve[Te-2],me.y1=+Ve[Te-1],me.x2=+Ve[Te-4]||me.x1,me.y2=+Ve[Te-3]||me.y1;return se?[ge,vr]:ge}function X($t,se,ge){if($t[ge].length>7){$t[ge].shift();for(var me=$t[ge],ke=ge;me.length;)se[ge]="A",$t.splice(ke+=1,0,["C"].concat(me.splice(0,6)));$t.splice(ge,1)}}var U=function($t,se,ge,me,ke){var Fe=-3*se+9*ge-9*me+3*ke,Ne=$t*Fe+6*se-12*ge+6*me;return $t*Ne-3*se+3*ge},J=function($t,se,ge,me,ke,Fe,Ne,Ve,Te){Te===null&&(Te=1),Te=Te>1?1:Te<0?0:Te;for(var vr=Te/2,qe=12,yr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Lr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],wr=0,kr=0;kr<qe;kr++){var Br=vr*yr[kr]+vr,Nr=U(Br,$t,ge,ke,Ne),gr=U(Br,se,me,Fe,Ve),Vr=Nr*Nr+gr*gr;wr+=Lr[kr]*Math.sqrt(Vr)}return vr*wr},lt=function($t,se,ge,me,ke,Fe,Ne,Ve){for(var Te=[],vr=[[],[]],qe,yr,Lr,wr,kr=0;kr<2;++kr){if(kr===0?(yr=6*$t-12*ge+6*ke,qe=-3*$t+9*ge-9*ke+3*Ne,Lr=3*ge-3*$t):(yr=6*se-12*me+6*Fe,qe=-3*se+9*me-9*Fe+3*Ve,Lr=3*me-3*se),Math.abs(qe)<1e-12){if(Math.abs(yr)<1e-12)continue;wr=-Lr/yr,wr>0&&wr<1&&Te.push(wr);continue}var Br=yr*yr-4*Lr*qe,Nr=Math.sqrt(Br);if(!(Br<0)){var gr=(-yr+Nr)/(2*qe);gr>0&&gr<1&&Te.push(gr);var Vr=(-yr-Nr)/(2*qe);Vr>0&&Vr<1&&Te.push(Vr)}}for(var Qr=Te.length,zr=Qr,tn;Qr--;)wr=Te[Qr],tn=1-wr,vr[0][Qr]=tn*tn*tn*$t+3*tn*tn*wr*ge+3*tn*wr*wr*ke+wr*wr*wr*Ne,vr[1][Qr]=tn*tn*tn*se+3*tn*tn*wr*me+3*tn*wr*wr*Fe+wr*wr*wr*Ve;return vr[0][zr]=$t,vr[1][zr]=se,vr[0][zr+1]=Ne,vr[1][zr+1]=Ve,vr[0].length=vr[1].length=zr+2,{min:{x:Math.min.apply(0,vr[0]),y:Math.min.apply(0,vr[1])},max:{x:Math.max.apply(0,vr[0]),y:Math.max.apply(0,vr[1])}}},It=function($t,se,ge,me,ke,Fe,Ne,Ve){if(!(Math.max($t,ge)<Math.min(ke,Ne)||Math.min($t,ge)>Math.max(ke,Ne)||Math.max(se,me)<Math.min(Fe,Ve)||Math.min(se,me)>Math.max(Fe,Ve))){var Te=($t*me-se*ge)*(ke-Ne)-($t-ge)*(ke*Ve-Fe*Ne),vr=($t*me-se*ge)*(Fe-Ve)-(se-me)*(ke*Ve-Fe*Ne),qe=($t-ge)*(Fe-Ve)-(se-me)*(ke-Ne);if(!!qe){var yr=Te/qe,Lr=vr/qe,wr=+yr.toFixed(2),kr=+Lr.toFixed(2);if(!(wr<+Math.min($t,ge).toFixed(2)||wr>+Math.max($t,ge).toFixed(2)||wr<+Math.min(ke,Ne).toFixed(2)||wr>+Math.max(ke,Ne).toFixed(2)||kr<+Math.min(se,me).toFixed(2)||kr>+Math.max(se,me).toFixed(2)||kr<+Math.min(Fe,Ve).toFixed(2)||kr>+Math.max(Fe,Ve).toFixed(2)))return{x:yr,y:Lr}}}},bt=function($t,se,ge){return se>=$t.x&&se<=$t.x+$t.width&&ge>=$t.y&&ge<=$t.y+$t.height},et=function($t,se,ge,me){return $t===null&&($t=se=ge=me=0),se===null&&(se=$t.y,ge=$t.width,me=$t.height,$t=$t.x),{x:$t,y:se,width:ge,w:ge,height:me,h:me,x2:$t+ge,y2:se+me,cx:$t+ge/2,cy:se+me/2,r1:Math.min(ge,me)/2,r2:Math.max(ge,me)/2,r0:Math.sqrt(ge*ge+me*me)/2,path:H($t,se,ge,me),vb:[$t,se,ge,me].join(" ")}},Ct=function($t,se){return $t=et($t),se=et(se),bt(se,$t.x,$t.y)||bt(se,$t.x2,$t.y)||bt(se,$t.x,$t.y2)||bt(se,$t.x2,$t.y2)||bt($t,se.x,se.y)||bt($t,se.x2,se.y)||bt($t,se.x,se.y2)||bt($t,se.x2,se.y2)||($t.x<se.x2&&$t.x>se.x||se.x<$t.x2&&se.x>$t.x)&&($t.y<se.y2&&$t.y>se.y||se.y<$t.y2&&se.y>$t.y)},it=function($t,se,ge,me,ke,Fe,Ne,Ve){(0,x.isArray)($t)||($t=[$t,se,ge,me,ke,Fe,Ne,Ve]);var Te=lt.apply(null,$t);return et(Te.min.x,Te.min.y,Te.max.x-Te.min.x,Te.max.y-Te.min.y)},st=function($t,se,ge,me,ke,Fe,Ne,Ve,Te){var vr=1-Te,qe=Math.pow(vr,3),yr=Math.pow(vr,2),Lr=Te*Te,wr=Lr*Te,kr=qe*$t+yr*3*Te*ge+vr*3*Te*Te*ke+wr*Ne,Br=qe*se+yr*3*Te*me+vr*3*Te*Te*Fe+wr*Ve,Nr=$t+2*Te*(ge-$t)+Lr*(ke-2*ge+$t),gr=se+2*Te*(me-se)+Lr*(Fe-2*me+se),Vr=ge+2*Te*(ke-ge)+Lr*(Ne-2*ke+ge),Qr=me+2*Te*(Fe-me)+Lr*(Ve-2*Fe+me),zr=vr*$t+Te*ge,tn=vr*se+Te*me,cn=vr*ke+Te*Ne,Bt=vr*Fe+Te*Ve,Ht=90-Math.atan2(Nr-Vr,gr-Qr)*180/Math.PI;return{x:kr,y:Br,m:{x:Nr,y:gr},n:{x:Vr,y:Qr},start:{x:zr,y:tn},end:{x:cn,y:Bt},alpha:Ht}},St=function($t,se,ge){var me=it($t),ke=it(se);if(!Ct(me,ke))return ge?0:[];for(var Fe=J.apply(0,$t),Ne=J.apply(0,se),Ve=~~(Fe/8),Te=~~(Ne/8),vr=[],qe=[],yr={},Lr=ge?0:[],wr=0;wr<Ve+1;wr++){var kr=st.apply(0,$t.concat(wr/Ve));vr.push({x:kr.x,y:kr.y,t:wr/Ve})}for(var wr=0;wr<Te+1;wr++){var kr=st.apply(0,se.concat(wr/Te));qe.push({x:kr.x,y:kr.y,t:wr/Te})}for(var wr=0;wr<Ve;wr++)for(var Br=0;Br<Te;Br++){var Nr=vr[wr],gr=vr[wr+1],Vr=qe[Br],Qr=qe[Br+1],zr=Math.abs(gr.x-Nr.x)<.001?"y":"x",tn=Math.abs(Qr.x-Vr.x)<.001?"y":"x",cn=It(Nr.x,Nr.y,gr.x,gr.y,Vr.x,Vr.y,Qr.x,Qr.y);if(cn){if(yr[cn.x.toFixed(4)]===cn.y.toFixed(4))continue;yr[cn.x.toFixed(4)]=cn.y.toFixed(4);var Bt=Nr.t+Math.abs((cn[zr]-Nr[zr])/(gr[zr]-Nr[zr]))*(gr.t-Nr.t),Ht=Vr.t+Math.abs((cn[tn]-Vr[tn])/(Qr[tn]-Vr[tn]))*(Qr.t-Vr.t);Bt>=0&&Bt<=1&&Ht>=0&&Ht<=1&&(ge?Lr++:Lr.push({x:cn.x,y:cn.y,t1:Bt,t2:Ht}))}}return Lr},at=function($t,se,ge){$t=G($t),se=G(se);for(var me,ke,Fe,Ne,Ve,Te,vr,qe,yr,Lr,wr=ge?0:[],kr=0,Br=$t.length;kr<Br;kr++){var Nr=$t[kr];if(Nr[0]==="M")me=Ve=Nr[1],ke=Te=Nr[2];else{Nr[0]==="C"?(yr=[me,ke].concat(Nr.slice(1)),me=yr[6],ke=yr[7]):(yr=[me,ke,me,ke,Ve,Te,Ve,Te],me=Ve,ke=Te);for(var gr=0,Vr=se.length;gr<Vr;gr++){var Qr=se[gr];if(Qr[0]==="M")Fe=vr=Qr[1],Ne=qe=Qr[2];else{Qr[0]==="C"?(Lr=[Fe,Ne].concat(Qr.slice(1)),Fe=Lr[6],Ne=Lr[7]):(Lr=[Fe,Ne,Fe,Ne,vr,qe,vr,qe],Fe=vr,Ne=qe);var zr=St(yr,Lr,ge);if(ge)wr+=zr;else{for(var tn=0,cn=zr.length;tn<cn;tn++)zr[tn].segment1=kr,zr[tn].segment2=gr,zr[tn].bez1=yr,zr[tn].bez2=Lr;wr=wr.concat(zr)}}}}}return wr};function nt($t,se){return at($t,se)}var mt=/,?([a-z]),?/gi;function Dt($t){return $t.join(",").replace(mt,"$1")}function ee($t){return Math.sqrt($t[0]*$t[0]+$t[1]*$t[1])}function ce($t,se){return ee($t)*ee(se)?($t[0]*se[0]+$t[1]*se[1])/(ee($t)*ee(se)):1}function le($t,se){return($t[0]*se[1]<$t[1]*se[0]?-1:1)*Math.acos(ce($t,se))}function Xe($t,se){return $t[0]===se[0]&&$t[1]===se[1]}function Ie($t,se){var ge=se[1],me=se[2],ke=(0,x.mod)((0,x.toRadian)(se[3]),Math.PI*2),Fe=se[4],Ne=se[5],Ve=$t[0],Te=$t[1],vr=se[6],qe=se[7],yr=Math.cos(ke)*(Ve-vr)/2+Math.sin(ke)*(Te-qe)/2,Lr=-1*Math.sin(ke)*(Ve-vr)/2+Math.cos(ke)*(Te-qe)/2,wr=yr*yr/(ge*ge)+Lr*Lr/(me*me);wr>1&&(ge*=Math.sqrt(wr),me*=Math.sqrt(wr));var kr=ge*ge*(Lr*Lr)+me*me*(yr*yr),Br=kr?Math.sqrt((ge*ge*(me*me)-kr)/kr):1;Fe===Ne&&(Br*=-1),isNaN(Br)&&(Br=0);var Nr=me?Br*ge*Lr/me:0,gr=ge?Br*-me*yr/ge:0,Vr=(Ve+vr)/2+Math.cos(ke)*Nr-Math.sin(ke)*gr,Qr=(Te+qe)/2+Math.sin(ke)*Nr+Math.cos(ke)*gr,zr=[(yr-Nr)/ge,(Lr-gr)/me],tn=[(-1*yr-Nr)/ge,(-1*Lr-gr)/me],cn=le([1,0],zr),Bt=le(zr,tn);return ce(zr,tn)<=-1&&(Bt=Math.PI),ce(zr,tn)>=1&&(Bt=0),Ne===0&&Bt>0&&(Bt=Bt-2*Math.PI),Ne===1&&Bt<0&&(Bt=Bt+2*Math.PI),{cx:Vr,cy:Qr,rx:Xe($t,[vr,qe])?0:ge,ry:Xe($t,[vr,qe])?0:me,startAngle:cn,endAngle:cn+Bt,xRotation:ke,arcFlag:Fe,sweepFlag:Ne}}function Re($t,se){return[se[0]+(se[0]-$t[0]),se[1]+(se[1]-$t[1])]}function or($t){$t=T($t);for(var se=[],ge=null,me=null,ke=null,Fe=0,Ne=$t.length,Ve=0;Ve<Ne;Ve++){var Te=$t[Ve];me=$t[Ve+1];var vr=Te[0],qe={command:vr,prePoint:ge,params:Te,startTangent:null,endTangent:null};switch(vr){case"M":ke=[Te[1],Te[2]],Fe=Ve;break;case"A":var yr=Ie(ge,Te);qe.arcParams=yr;break;default:break}if(vr==="Z")ge=ke,me=$t[Fe+1];else{var Lr=Te.length;ge=[Te[Lr-2],Te[Lr-1]]}me&&me[0]==="Z"&&(me=$t[Fe],se[Fe]&&(se[Fe].prePoint=ge)),qe.currentPoint=ge,se[Fe]&&Xe(ge,se[Fe].currentPoint)&&(se[Fe].prePoint=qe.prePoint);var wr=me?[me[me.length-2],me[me.length-1]]:null;qe.nextPoint=wr;var kr=qe.prePoint;if(["L","H","V"].includes(vr))qe.startTangent=[kr[0]-ge[0],kr[1]-ge[1]],qe.endTangent=[ge[0]-kr[0],ge[1]-kr[1]];else if(vr==="Q"){var Br=[Te[1],Te[2]];qe.startTangent=[kr[0]-Br[0],kr[1]-Br[1]],qe.endTangent=[ge[0]-Br[0],ge[1]-Br[1]]}else if(vr==="T"){var Nr=se[Ve-1],Br=Re(Nr.currentPoint,kr);Nr.command==="Q"?(qe.command="Q",qe.startTangent=[kr[0]-Br[0],kr[1]-Br[1]],qe.endTangent=[ge[0]-Br[0],ge[1]-Br[1]]):(qe.command="TL",qe.startTangent=[kr[0]-ge[0],kr[1]-ge[1]],qe.endTangent=[ge[0]-kr[0],ge[1]-kr[1]])}else if(vr==="C"){var gr=[Te[1],Te[2]],Vr=[Te[3],Te[4]];qe.startTangent=[kr[0]-gr[0],kr[1]-gr[1]],qe.endTangent=[ge[0]-Vr[0],ge[1]-Vr[1]],qe.startTangent[0]===0&&qe.startTangent[1]===0&&(qe.startTangent=[gr[0]-Vr[0],gr[1]-Vr[1]]),qe.endTangent[0]===0&&qe.endTangent[1]===0&&(qe.endTangent=[Vr[0]-gr[0],Vr[1]-gr[1]])}else if(vr==="S"){var Nr=se[Ve-1],gr=Re(Nr.currentPoint,kr),Vr=[Te[1],Te[2]];Nr.command==="C"?(qe.command="C",qe.startTangent=[kr[0]-gr[0],kr[1]-gr[1]],qe.endTangent=[ge[0]-Vr[0],ge[1]-Vr[1]]):(qe.command="SQ",qe.startTangent=[kr[0]-Vr[0],kr[1]-Vr[1]],qe.endTangent=[ge[0]-Vr[0],ge[1]-Vr[1]])}else if(vr==="A"){var Qr=.001,zr=qe.arcParams||{},tn=zr.cx,cn=tn===void 0?0:tn,Bt=zr.cy,Ht=Bt===void 0?0:Bt,ct=zr.rx,R=ct===void 0?0:ct,N=zr.ry,j=N===void 0?0:N,_t=zr.sweepFlag,jt=_t===void 0?0:_t,Nt=zr.startAngle,Ut=Nt===void 0?0:Nt,Se=zr.endAngle,Me=Se===void 0?0:Se;jt===0&&(Qr*=-1);var Oe=R*Math.cos(Ut-Qr)+cn,ir=j*Math.sin(Ut-Qr)+Ht;qe.startTangent=[Oe-ke[0],ir-ke[1]];var We=R*Math.cos(Ut+Me+Qr)+cn,Cr=j*Math.sin(Ut+Me-Qr)+Ht;qe.endTangent=[kr[0]-We,kr[1]-Cr]}se.push(qe)}return se}var lr=function($t,se,ge){return $t>=se&&$t<=ge};function Ir($t,se,ge,me){var ke=.001,Fe={x:ge.x-$t.x,y:ge.y-$t.y},Ne={x:se.x-$t.x,y:se.y-$t.y},Ve={x:me.x-ge.x,y:me.y-ge.y},Te=Ne.x*Ve.y-Ne.y*Ve.x,vr=Te*Te,qe=Ne.x*Ne.x+Ne.y*Ne.y,yr=Ve.x*Ve.x+Ve.y*Ve.y,Lr=null;if(vr>ke*qe*yr){var wr=(Fe.x*Ve.y-Fe.y*Ve.x)/Te,kr=(Fe.x*Ne.y-Fe.y*Ne.x)/Te;lr(wr,0,1)&&lr(kr,0,1)&&(Lr={x:$t.x+wr*Ne.x,y:$t.y+wr*Ne.y})}return Lr}var Er=1e-6;function on($t){return Math.abs($t)<Er?0:$t<0?-1:1}function In($t,se,ge){return(ge[0]-$t[0])*(se[1]-$t[1])==(se[0]-$t[0])*(ge[1]-$t[1])&&Math.min($t[0],se[0])<=ge[0]&&ge[0]<=Math.max($t[0],se[0])&&Math.min($t[1],se[1])<=ge[1]&&ge[1]<=Math.max($t[1],se[1])}function fn($t,se,ge){var me=!1,ke=$t.length;if(ke<=2)return!1;for(var Fe=0;Fe<ke;Fe++){var Ne=$t[Fe],Ve=$t[(Fe+1)%ke];if(In(Ne,Ve,[se,ge]))return!0;on(Ne[1]-ge)>0!=on(Ve[1]-ge)>0&&on(se-(ge-Ne[1])*(Ne[0]-Ve[0])/(Ne[1]-Ve[1])-Ne[0])<0&&(me=!me)}return me}function xn($t){for(var se=[],ge=$t.length,me=0;me<ge-1;me++){var ke=$t[me],Fe=$t[me+1];se.push({from:{x:ke[0],y:ke[1]},to:{x:Fe[0],y:Fe[1]}})}if(se.length>1){var Ne=$t[0],Ve=$t[ge-1];se.push({from:{x:Ve[0],y:Ve[1]},to:{x:Ne[0],y:Ne[1]}})}return se}function $n($t,se){var ge=!1;return(0,x.each)($t,function(me){if(Ir(me.from,me.to,se.from,se.to))return ge=!0,!1}),ge}function ui($t){var se=$t.map(function(me){return me[0]}),ge=$t.map(function(me){return me[1]});return{minX:Math.min.apply(null,se),maxX:Math.max.apply(null,se),minY:Math.min.apply(null,ge),maxY:Math.max.apply(null,ge)}}function Si($t,se){return!(se.minX>$t.maxX||se.maxX<$t.minX||se.minY>$t.maxY||se.maxY<$t.minY)}function bi($t,se){if($t.length<2||se.length<2)return!1;var ge=ui($t),me=ui(se);if(!Si(ge,me))return!1;var ke=!1;if((0,x.each)(se,function(Te){if(fn($t,Te[0],Te[1]))return ke=!0,!1}),ke||((0,x.each)($t,function(Te){if(fn(se,Te[0],Te[1]))return ke=!0,!1}),ke))return!0;var Fe=xn($t),Ne=xn(se),Ve=!1;return(0,x.each)(Ne,function(Te){if($n(Fe,Te))return Ve=!0,!1}),Ve}},84023:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=void 0;var x=v(49242);function O(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function k(C,E){return O(C)*O(E)?(C[0]*E[0]+C[1]*E[1])/(O(C)*O(E)):1}function _(C,E){return(C[0]*E[1]<C[1]*E[0]?-1:1)*Math.acos(k(C,E))}function T(C,E){return C[0]===E[0]&&C[1]===E[1]}S.isSamePoint=T;function A(C,E){var g=E[1],w=E[2],y=(0,x.mod)((0,x.toRadian)(E[3]),Math.PI*2),m=E[4],p=E[5],M=C[0],P=C[1],B=E[6],F=E[7],W=Math.cos(y)*(M-B)/2+Math.sin(y)*(P-F)/2,Q=-1*Math.sin(y)*(M-B)/2+Math.cos(y)*(P-F)/2,H=W*W/(g*g)+Q*Q/(w*w);H>1&&(g*=Math.sqrt(H),w*=Math.sqrt(H));var Z=g*g*(Q*Q)+w*w*(W*W),ot=Z?Math.sqrt((g*g*(w*w)-Z)/Z):1;m===p&&(ot*=-1),isNaN(ot)&&(ot=0);var rt=w?ot*g*Q/w:0,At=g?ot*-w*W/g:0,pt=(M+B)/2+Math.cos(y)*rt-Math.sin(y)*At,Ft=(P+F)/2+Math.sin(y)*rt+Math.cos(y)*At,Tt=[(W-rt)/g,(Q-At)/w],Ot=[(-1*W-rt)/g,(-1*Q-At)/w],xt=_([1,0],Tt),ht=_(Tt,Ot);return k(Tt,Ot)<=-1&&(ht=Math.PI),k(Tt,Ot)>=1&&(ht=0),p===0&&ht>0&&(ht=ht-2*Math.PI),p===1&&ht<0&&(ht=ht+2*Math.PI),{cx:pt,cy:Ft,rx:T(C,[B,F])?0:g,ry:T(C,[B,F])?0:w,startAngle:xt,endAngle:xt+ht,xRotation:y,arcFlag:m,sweepFlag:p}}S.default=A},21528:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(O,k,_){return O>=k&&O<=_};function x(O,k,_,T){var A=.001,C={x:_.x-O.x,y:_.y-O.y},E={x:k.x-O.x,y:k.y-O.y},g={x:T.x-_.x,y:T.y-_.y},w=E.x*g.y-E.y*g.x,y=w*w,m=E.x*E.x+E.y*E.y,p=g.x*g.x+g.y*g.y,M=null;if(y>A*m*p){var P=(C.x*g.y-C.y*g.x)/w,B=(C.x*E.y-C.y*E.x)/w;v(P,0,1)&&v(B,0,1)&&(M={x:O.x+P*E.x,y:O.y+P*E.y})}return M}S.default=x},70146:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66957),O=v(21528),k=v(49242);function _(g){for(var w=[],y=g.length,m=0;m<y-1;m++){var p=g[m],M=g[m+1];w.push({from:{x:p[0],y:p[1]},to:{x:M[0],y:M[1]}})}if(w.length>1){var P=g[0],B=g[y-1];w.push({from:{x:B[0],y:B[1]},to:{x:P[0],y:P[1]}})}return w}function T(g,w){var y=!1;return(0,k.each)(g,function(m){if((0,O.default)(m.from,m.to,w.from,w.to))return y=!0,!1}),y}function A(g){var w=g.map(function(m){return m[0]}),y=g.map(function(m){return m[1]});return{minX:Math.min.apply(null,w),maxX:Math.max.apply(null,w),minY:Math.min.apply(null,y),maxY:Math.max.apply(null,y)}}function C(g,w){return!(w.minX>g.maxX||w.maxX<g.minX||w.minY>g.maxY||w.maxY<g.minY)}function E(g,w){if(g.length<2||w.length<2)return!1;var y=A(g),m=A(w);if(!C(y,m))return!1;var p=!1;if((0,k.each)(w,function(F){if((0,x.default)(g,F[0],F[1]))return p=!0,!1}),p||((0,k.each)(g,function(F){if((0,x.default)(w,F[0],F[1]))return p=!0,!1}),p))return!0;var M=_(g),P=_(w),B=!1;return(0,k.each)(P,function(F){if(T(M,F))return B=!0,!1}),B}S.default=E},28498:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,k=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),_=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig");function T(A){if(!A)return null;if((0,x.isArray)(A))return A;var C={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},E=[];return String(A).replace(k,function(g,w,y){var m=[],p=w.toLowerCase();if(y.replace(_,function(M,P){P&&m.push(+P)}),p==="m"&&m.length>2&&(E.push([w].concat(m.splice(0,2))),p="l",w=w==="m"?"l":"L"),p==="o"&&m.length===1&&E.push([w,m[0]]),p==="r")E.push([w].concat(m));else for(;m.length>=C[p]&&(E.push([w].concat(m.splice(0,C[p]))),!!C[p]););return""}),E}S.default=T},80315:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,k=/[^\s\,]+/ig;function _(T){var A=T||[];if((0,x.isArray)(A))return A;if((0,x.isString)(A))return A=A.match(O),(0,x.each)(A,function(C,E){if(C=C.match(k),C[0].length>1){var g=C[0].charAt(0);C.splice(1,0,C[0].substr(1)),C[0]=g}(0,x.each)(C,function(w,y){isNaN(w)||(C[y]=+w)}),A[E]=C}),A}S.default=_},74479:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(28498),k=/[a-z]/;function _(A,C){return[C[0]+(C[0]-A[0]),C[1]+(C[1]-A[1])]}function T(A){var C=(0,O.default)(A);if(!C||!C.length)return[["M",0,0]];for(var E=!1,g=0;g<C.length;g++){var w=C[g][0];if(k.test(w)||["V","H","T","S"].indexOf(w)>=0){E=!0;break}}if(!E)return C;var y=[],m=0,p=0,M=0,P=0,B=0,F,W,Q=C[0];(Q[0]==="M"||Q[0]==="m")&&(m=+Q[1],p=+Q[2],M=m,P=p,B++,y[0]=["M",m,p]);for(var g=B,H=C.length;g<H;g++){var Z=C[g],ot=y[g-1],rt=[],w=Z[0],At=w.toUpperCase();if(w!==At)switch(rt[0]=At,At){case"A":rt[1]=Z[1],rt[2]=Z[2],rt[3]=Z[3],rt[4]=Z[4],rt[5]=Z[5],rt[6]=+Z[6]+m,rt[7]=+Z[7]+p;break;case"V":rt[1]=+Z[1]+p;break;case"H":rt[1]=+Z[1]+m;break;case"M":M=+Z[1]+m,P=+Z[2]+p,rt[1]=M,rt[2]=P;break;default:for(var pt=1,Ft=Z.length;pt<Ft;pt++)rt[pt]=+Z[pt]+(pt%2?m:p)}else rt=C[g];switch(At){case"Z":m=+M,p=+P;break;case"H":m=rt[1],rt=["L",m,p];break;case"V":p=rt[1],rt=["L",m,p];break;case"T":m=rt[1],p=rt[2];var Tt=_([ot[1],ot[2]],[ot[3],ot[4]]);rt=["Q",Tt[0],Tt[1],m,p];break;case"S":m=rt[rt.length-2],p=rt[rt.length-1];var Ot=ot.length,xt=_([ot[Ot-4],ot[Ot-3]],[ot[Ot-2],ot[Ot-1]]);rt=["C",xt[0],xt[1],rt[1],rt[2],m,p];break;case"M":M=rt[rt.length-2],P=rt[rt.length-1];break;default:m=rt[rt.length-2],p=rt[rt.length-1]}y.push(rt)}return y}S.Z=T},49274:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(84023),O=v(84023),k=v(80315);function _(A,C){return[C[0]+(C[0]-A[0]),C[1]+(C[1]-A[1])]}function T(A){A=(0,k.default)(A);for(var C=[],E=null,g=null,w=null,y=0,m=A.length,p=0;p<m;p++){var M=A[p];g=A[p+1];var P=M[0],B={command:P,prePoint:E,params:M,startTangent:null,endTangent:null};switch(P){case"M":w=[M[1],M[2]],y=p;break;case"A":var F=(0,x.default)(E,M);B.arcParams=F;break;default:break}if(P==="Z")E=w,g=A[y+1];else{var W=M.length;E=[M[W-2],M[W-1]]}g&&g[0]==="Z"&&(g=A[y],C[y]&&(C[y].prePoint=E)),B.currentPoint=E,C[y]&&(0,O.isSamePoint)(E,C[y].currentPoint)&&(C[y].prePoint=B.prePoint);var Q=g?[g[g.length-2],g[g.length-1]]:null;B.nextPoint=Q;var H=B.prePoint;if(["L","H","V"].includes(P))B.startTangent=[H[0]-E[0],H[1]-E[1]],B.endTangent=[E[0]-H[0],E[1]-H[1]];else if(P==="Q"){var Z=[M[1],M[2]];B.startTangent=[H[0]-Z[0],H[1]-Z[1]],B.endTangent=[E[0]-Z[0],E[1]-Z[1]]}else if(P==="T"){var ot=C[p-1],Z=_(ot.currentPoint,H);ot.command==="Q"?(B.command="Q",B.startTangent=[H[0]-Z[0],H[1]-Z[1]],B.endTangent=[E[0]-Z[0],E[1]-Z[1]]):(B.command="TL",B.startTangent=[H[0]-E[0],H[1]-E[1]],B.endTangent=[E[0]-H[0],E[1]-H[1]])}else if(P==="C"){var rt=[M[1],M[2]],At=[M[3],M[4]];B.startTangent=[H[0]-rt[0],H[1]-rt[1]],B.endTangent=[E[0]-At[0],E[1]-At[1]],B.startTangent[0]===0&&B.startTangent[1]===0&&(B.startTangent=[rt[0]-At[0],rt[1]-At[1]]),B.endTangent[0]===0&&B.endTangent[1]===0&&(B.endTangent=[At[0]-rt[0],At[1]-rt[1]])}else if(P==="S"){var ot=C[p-1],rt=_(ot.currentPoint,H),At=[M[1],M[2]];ot.command==="C"?(B.command="C",B.startTangent=[H[0]-rt[0],H[1]-rt[1]],B.endTangent=[E[0]-At[0],E[1]-At[1]]):(B.command="SQ",B.startTangent=[H[0]-At[0],H[1]-At[1]],B.endTangent=[E[0]-At[0],E[1]-At[1]])}else if(P==="A"){var pt=.001,Ft=B.arcParams||{},Tt=Ft.cx,Ot=Tt===void 0?0:Tt,xt=Ft.cy,ht=xt===void 0?0:xt,kt=Ft.rx,Gt=kt===void 0?0:kt,dt=Ft.ry,tt=dt===void 0?0:dt,I=Ft.sweepFlag,u=I===void 0?0:I,Y=Ft.startAngle,G=Y===void 0?0:Y,X=Ft.endAngle,U=X===void 0?0:X;u===0&&(pt*=-1);var J=Gt*Math.cos(G-pt)+Ot,lt=tt*Math.sin(G-pt)+ht;B.startTangent=[J-w[0],lt-w[1]];var It=Gt*Math.cos(G+U+pt)+Ot,bt=tt*Math.sin(G+U-pt)+ht;B.endTangent=[H[0]-It,H[1]-bt]}C.push(B)}return C}S.default=T},66957:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=1e-6;function x(_){return Math.abs(_)<v?0:_<0?-1:1}function O(_,T,A){return(A[0]-_[0])*(T[1]-_[1])==(T[0]-_[0])*(A[1]-_[1])&&Math.min(_[0],T[0])<=A[0]&&A[0]<=Math.max(_[0],T[0])&&Math.min(_[1],T[1])<=A[1]&&A[1]<=Math.max(_[1],T[1])}function k(_,T,A){var C=!1,E=_.length;if(E<=2)return!1;for(var g=0;g<E;g++){var w=_[g],y=_[(g+1)%E];if(O(w,y,[T,A]))return!0;x(w[1]-A)>0!=x(y[1]-A)>0&&x(T-(A-w[1])*(w[0]-y[0])/(w[1]-y[1])-w[0])<0&&(C=!C)}return C}S.default=k},72469:function(ft,S,v){"use strict";v.r(S),v.d(S,{Category:function(){return w},Identity:function(){return Te},Linear:function(){return or},Log:function(){return xn},Pow:function(){return ui},Quantile:function(){return me},Quantize:function(){return se},Scale:function(){return C},Time:function(){return bi},TimeCat:function(){return le},getScale:function(){return Fe},getTickMethod:function(){return _},registerScale:function(){return Ne},registerTickMethod:function(){return T}});var x={};v.r(x),v.d(x,{assign:function(){return H},default:function(){return lt},defaultI18n:function(){return pt},format:function(){return X},parse:function(){return U},setGlobalDateI18n:function(){return Tt},setGlobalDateMasks:function(){return G}});var O=v(49242),k={};function _(Wt){return k[Wt]}function T(Wt,ne){k[Wt]=ne}var A=function(){function Wt(ne){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=ne,this.initCfg(),this.init()}return Wt.prototype.translate=function(ne){return ne},Wt.prototype.change=function(ne){(0,O.assign)(this.__cfg__,ne),this.init()},Wt.prototype.clone=function(){return this.constructor(this.__cfg__)},Wt.prototype.getTicks=function(){var ne=this;return(0,O.map)(this.ticks,function(fe,Ce){return(0,O.isObject)(fe)?fe:{text:ne.getText(fe,Ce),tickValue:fe,value:ne.scale(fe)}})},Wt.prototype.getText=function(ne,fe){var Ce=this.formatter,Ae=Ce?Ce(ne,fe):ne;return(0,O.isNil)(Ae)||!(0,O.isFunction)(Ae.toString)?"":Ae.toString()},Wt.prototype.getConfig=function(ne){return this.__cfg__[ne]},Wt.prototype.init=function(){(0,O.assign)(this,this.__cfg__),this.setDomain(),(0,O.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Wt.prototype.initCfg=function(){},Wt.prototype.setDomain=function(){},Wt.prototype.calculateTicks=function(){var ne=this.tickMethod,fe=[];if((0,O.isString)(ne)){var Ce=_(ne);if(!Ce)throw new Error("There is no method to to calculate ticks!");fe=Ce(this)}else(0,O.isFunction)(ne)&&(fe=ne(this));return fe},Wt.prototype.rangeMin=function(){return this.range[0]},Wt.prototype.rangeMax=function(){return this.range[1]},Wt.prototype.calcPercent=function(ne,fe,Ce){return(0,O.isNumber)(ne)?(ne-fe)/(Ce-fe):NaN},Wt.prototype.calcValue=function(ne,fe,Ce){return fe+ne*(Ce-fe)},Wt}(),C=A,E=v(65353),g=function(Wt){(0,E.__extends)(ne,Wt);function ne(){var fe=Wt!==null&&Wt.apply(this,arguments)||this;return fe.type="cat",fe.isCategory=!0,fe}return ne.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var fe=0;fe<this.values.length;fe++)this.translateIndexMap.set(this.values[fe],fe)}},ne.prototype.translate=function(fe){this.buildIndexMap();var Ce=this.translateIndexMap.get(fe);return Ce===void 0&&(Ce=(0,O.isNumber)(fe)?fe:NaN),Ce},ne.prototype.scale=function(fe){var Ce=this.translate(fe),Ae=this.calcPercent(Ce,this.min,this.max);return this.calcValue(Ae,this.rangeMin(),this.rangeMax())},ne.prototype.invert=function(fe){var Ce=this.max-this.min,Ae=this.calcPercent(fe,this.rangeMin(),this.rangeMax()),Ye=Math.round(Ce*Ae)+this.min;return Ye<this.min||Ye>this.max?NaN:this.values[Ye]},ne.prototype.getText=function(fe){for(var Ce=[],Ae=1;Ae<arguments.length;Ae++)Ce[Ae-1]=arguments[Ae];var Ye=fe;return(0,O.isNumber)(fe)&&!this.values.includes(fe)&&(Ye=this.values[Ye]),Wt.prototype.getText.apply(this,(0,E.__spreadArrays)([Ye],Ce))},ne.prototype.initCfg=function(){this.tickMethod="cat"},ne.prototype.setDomain=function(){if((0,O.isNil)(this.getConfig("min"))&&(this.min=0),(0,O.isNil)(this.getConfig("max"))){var fe=this.values.length;this.max=fe>1?fe-1:fe}this.translateIndexMap&&(this.translateIndexMap=void 0)},ne}(C),w=g,y=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,m="\\d\\d?",p="\\d\\d",M="\\d{3}",P="\\d{4}",B="[^\\s]+",F=/\[([^]*?)\]/gm;function W(Wt,ne){for(var fe=[],Ce=0,Ae=Wt.length;Ce<Ae;Ce++)fe.push(Wt[Ce].substr(0,ne));return fe}var Q=function(Wt){return function(ne,fe){var Ce=fe[Wt].map(function(Ye){return Ye.toLowerCase()}),Ae=Ce.indexOf(ne.toLowerCase());return Ae>-1?Ae:null}};function H(Wt){for(var ne=[],fe=1;fe<arguments.length;fe++)ne[fe-1]=arguments[fe];for(var Ce=0,Ae=ne;Ce<Ae.length;Ce++){var Ye=Ae[Ce];for(var cr in Ye)Wt[cr]=Ye[cr]}return Wt}var Z=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ot=["January","February","March","April","May","June","July","August","September","October","November","December"],rt=W(ot,3),At=W(Z,3),pt={dayNamesShort:At,dayNames:Z,monthNamesShort:rt,monthNames:ot,amPm:["am","pm"],DoFn:function(Wt){return Wt+["th","st","nd","rd"][Wt%10>3?0:(Wt-Wt%10!=10?1:0)*Wt%10]}},Ft=H({},pt),Tt=function(Wt){return Ft=H(Ft,Wt)},Ot=function(Wt){return Wt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},xt=function(Wt,ne){for(ne===void 0&&(ne=2),Wt=String(Wt);Wt.length<ne;)Wt="0"+Wt;return Wt},ht={D:function(Wt){return String(Wt.getDate())},DD:function(Wt){return xt(Wt.getDate())},Do:function(Wt,ne){return ne.DoFn(Wt.getDate())},d:function(Wt){return String(Wt.getDay())},dd:function(Wt){return xt(Wt.getDay())},ddd:function(Wt,ne){return ne.dayNamesShort[Wt.getDay()]},dddd:function(Wt,ne){return ne.dayNames[Wt.getDay()]},M:function(Wt){return String(Wt.getMonth()+1)},MM:function(Wt){return xt(Wt.getMonth()+1)},MMM:function(Wt,ne){return ne.monthNamesShort[Wt.getMonth()]},MMMM:function(Wt,ne){return ne.monthNames[Wt.getMonth()]},YY:function(Wt){return xt(String(Wt.getFullYear()),4).substr(2)},YYYY:function(Wt){return xt(Wt.getFullYear(),4)},h:function(Wt){return String(Wt.getHours()%12||12)},hh:function(Wt){return xt(Wt.getHours()%12||12)},H:function(Wt){return String(Wt.getHours())},HH:function(Wt){return xt(Wt.getHours())},m:function(Wt){return String(Wt.getMinutes())},mm:function(Wt){return xt(Wt.getMinutes())},s:function(Wt){return String(Wt.getSeconds())},ss:function(Wt){return xt(Wt.getSeconds())},S:function(Wt){return String(Math.round(Wt.getMilliseconds()/100))},SS:function(Wt){return xt(Math.round(Wt.getMilliseconds()/10),2)},SSS:function(Wt){return xt(Wt.getMilliseconds(),3)},a:function(Wt,ne){return Wt.getHours()<12?ne.amPm[0]:ne.amPm[1]},A:function(Wt,ne){return Wt.getHours()<12?ne.amPm[0].toUpperCase():ne.amPm[1].toUpperCase()},ZZ:function(Wt){var ne=Wt.getTimezoneOffset();return(ne>0?"-":"+")+xt(Math.floor(Math.abs(ne)/60)*100+Math.abs(ne)%60,4)},Z:function(Wt){var ne=Wt.getTimezoneOffset();return(ne>0?"-":"+")+xt(Math.floor(Math.abs(ne)/60),2)+":"+xt(Math.abs(ne)%60,2)}},kt=function(Wt){return+Wt-1},Gt=[null,m],dt=[null,B],tt=["isPm",B,function(Wt,ne){var fe=Wt.toLowerCase();return fe===ne.amPm[0]?0:fe===ne.amPm[1]?1:null}],I=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Wt){var ne=(Wt+"").match(/([+-]|\d\d)/gi);if(ne){var fe=+ne[1]*60+parseInt(ne[2],10);return ne[0]==="+"?fe:-fe}return 0}],u={D:["day",m],DD:["day",p],Do:["day",m+B,function(Wt){return parseInt(Wt,10)}],M:["month",m,kt],MM:["month",p,kt],YY:["year",p,function(Wt){var ne=new Date,fe=+(""+ne.getFullYear()).substr(0,2);return+(""+(+Wt>68?fe-1:fe)+Wt)}],h:["hour",m,void 0,"isPm"],hh:["hour",p,void 0,"isPm"],H:["hour",m],HH:["hour",p],m:["minute",m],mm:["minute",p],s:["second",m],ss:["second",p],YYYY:["year",P],S:["millisecond","\\d",function(Wt){return+Wt*100}],SS:["millisecond",p,function(Wt){return+Wt*10}],SSS:["millisecond",M],d:Gt,dd:Gt,ddd:dt,dddd:dt,MMM:["month",B,Q("monthNamesShort")],MMMM:["month",B,Q("monthNames")],a:tt,A:tt,ZZ:I,Z:I},Y={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},G=function(Wt){return H(Y,Wt)},X=function(Wt,ne,fe){if(ne===void 0&&(ne=Y.default),fe===void 0&&(fe={}),typeof Wt=="number"&&(Wt=new Date(Wt)),Object.prototype.toString.call(Wt)!=="[object Date]"||isNaN(Wt.getTime()))throw new Error("Invalid Date pass to format");ne=Y[ne]||ne;var Ce=[];ne=ne.replace(F,function(Ye,cr){return Ce.push(cr),"@@@"});var Ae=H(H({},Ft),fe);return ne=ne.replace(y,function(Ye){return ht[Ye](Wt,Ae)}),ne.replace(/@@@/g,function(){return Ce.shift()})};function U(Wt,ne,fe){if(fe===void 0&&(fe={}),typeof ne!="string")throw new Error("Invalid format in fecha parse");if(ne=Y[ne]||ne,Wt.length>1e3)return null;var Ce=new Date,Ae={year:Ce.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Ye=[],cr=[],sr=ne.replace(F,function(Pr,rr){return cr.push(Ot(rr)),"@@@"}),Lt={},gt={};sr=Ot(sr).replace(y,function(Pr){var rr=u[Pr],Je=rr[0],Xr=rr[1],Yr=rr[3];if(Lt[Je])throw new Error("Invalid format. "+Je+" specified twice in format");return Lt[Je]=!0,Yr&&(gt[Yr]=!0),Ye.push(rr),"("+Xr+")"}),Object.keys(gt).forEach(function(Pr){if(!Lt[Pr])throw new Error("Invalid format. "+Pr+" is required in specified format")}),sr=sr.replace(/@@@/g,function(){return cr.shift()});var ut=Wt.match(new RegExp(sr,"i"));if(!ut)return null;for(var Mt=H(H({},Ft),fe),Xt=1;Xt<ut.length;Xt++){var ie=Ye[Xt-1],ve=ie[0],be=ie[2],we=be?be(ut[Xt],Mt):+ut[Xt];if(we==null)return null;Ae[ve]=we}Ae.isPm===1&&Ae.hour!=null&&+Ae.hour!=12?Ae.hour=+Ae.hour+12:Ae.isPm===0&&+Ae.hour==12&&(Ae.hour=0);var He;if(Ae.timezoneOffset==null){He=new Date(Ae.year,Ae.month,Ae.day,Ae.hour,Ae.minute,Ae.second,Ae.millisecond);for(var $e=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Xt=0,tr=$e.length;Xt<tr;Xt++)if(Lt[$e[Xt][0]]&&Ae[$e[Xt][0]]!==He[$e[Xt][1]]())return null}else if(He=new Date(Date.UTC(Ae.year,Ae.month,Ae.day,Ae.hour,Ae.minute-Ae.timezoneOffset,Ae.second,Ae.millisecond)),Ae.month>11||Ae.month<0||Ae.day>31||Ae.day<1||Ae.hour>23||Ae.hour<0||Ae.minute>59||Ae.minute<0||Ae.second>59||Ae.second<0)return null;return He}var J={format:X,parse:U,defaultI18n:pt,setGlobalDateI18n:Tt,setGlobalDateMasks:G},lt=J;function It(Wt){return function(ne,fe,Ce,Ae){for(var Ye=(0,O.isNil)(Ce)?0:Ce,cr=(0,O.isNil)(Ae)?ne.length:Ae;Ye<cr;){var sr=Ye+cr>>>1;Wt(ne[sr])>fe?cr=sr:Ye=sr+1}return Ye}}var bt="format";function et(Wt,ne){var fe=x[bt]||lt[bt];return fe(Wt,ne)}function Ct(Wt){return(0,O.isString)(Wt)&&(Wt.indexOf("T")>0?Wt=new Date(Wt).getTime():Wt=new Date(Wt.replace(/-/gi,"/")).getTime()),(0,O.isDate)(Wt)&&(Wt=Wt.getTime()),Wt}var it=1e3,st=60*it,St=60*st,at=24*St,nt=at*31,mt=at*365,Dt=[["HH:mm:ss",it],["HH:mm:ss",it*10],["HH:mm:ss",it*30],["HH:mm",st],["HH:mm",st*10],["HH:mm",st*30],["HH",St],["HH",St*6],["HH",St*12],["YYYY-MM-DD",at],["YYYY-MM-DD",at*4],["YYYY-WW",at*7],["YYYY-MM",nt],["YYYY-MM",nt*4],["YYYY-MM",nt*6],["YYYY",at*380]];function ee(Wt,ne,fe){var Ce=(ne-Wt)/fe,Ae=It(function(cr){return cr[1]})(Dt,Ce)-1,Ye=Dt[Ae];return Ae<0?Ye=Dt[0]:Ae>=Dt.length&&(Ye=(0,O.last)(Dt)),Ye}var ce=function(Wt){(0,E.__extends)(ne,Wt);function ne(){var fe=Wt!==null&&Wt.apply(this,arguments)||this;return fe.type="timeCat",fe}return ne.prototype.translate=function(fe){fe=Ct(fe);var Ce=this.values.indexOf(fe);return Ce===-1&&((0,O.isNumber)(fe)&&fe<this.values.length?Ce=fe:Ce=NaN),Ce},ne.prototype.getText=function(fe,Ce){var Ae=this.translate(fe);if(Ae>-1){var Ye=this.values[Ae],cr=this.formatter;return Ye=cr?cr(Ye,Ce):et(Ye,this.mask),Ye}return fe},ne.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},ne.prototype.setDomain=function(){var fe=this.values;(0,O.each)(fe,function(Ce,Ae){fe[Ae]=Ct(Ce)}),fe.sort(function(Ce,Ae){return Ce-Ae}),Wt.prototype.setDomain.call(this)},ne}(w),le=ce,Xe=function(Wt){(0,E.__extends)(ne,Wt);function ne(){var fe=Wt!==null&&Wt.apply(this,arguments)||this;return fe.isContinuous=!0,fe}return ne.prototype.scale=function(fe){if((0,O.isNil)(fe))return NaN;var Ce=this.rangeMin(),Ae=this.rangeMax(),Ye=this.max,cr=this.min;if(Ye===cr)return Ce;var sr=this.getScalePercent(fe);return Ce+sr*(Ae-Ce)},ne.prototype.init=function(){Wt.prototype.init.call(this);var fe=this.ticks,Ce=(0,O.head)(fe),Ae=(0,O.last)(fe);Ce<this.min&&(this.min=Ce),Ae>this.max&&(this.max=Ae),(0,O.isNil)(this.minLimit)||(this.min=Ce),(0,O.isNil)(this.maxLimit)||(this.max=Ae)},ne.prototype.setDomain=function(){var fe=(0,O.getRange)(this.values),Ce=fe.min,Ae=fe.max;(0,O.isNil)(this.min)&&(this.min=Ce),(0,O.isNil)(this.max)&&(this.max=Ae),this.min>this.max&&(this.min=Ce,this.max=Ae)},ne.prototype.calculateTicks=function(){var fe=this,Ce=Wt.prototype.calculateTicks.call(this);return this.nice||(Ce=(0,O.filter)(Ce,function(Ae){return Ae>=fe.min&&Ae<=fe.max})),Ce},ne.prototype.getScalePercent=function(fe){var Ce=this.max,Ae=this.min;return(fe-Ae)/(Ce-Ae)},ne.prototype.getInvertPercent=function(fe){return(fe-this.rangeMin())/(this.rangeMax()-this.rangeMin())},ne}(C),Ie=Xe,Re=function(Wt){(0,E.__extends)(ne,Wt);function ne(){var fe=Wt!==null&&Wt.apply(this,arguments)||this;return fe.type="linear",fe.isLinear=!0,fe}return ne.prototype.invert=function(fe){var Ce=this.getInvertPercent(fe);return this.min+Ce*(this.max-this.min)},ne.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},ne}(Ie),or=Re;function lr(Wt,ne){var fe=Math.E,Ce;return ne>=0?Ce=Math.pow(fe,Math.log(ne)/Wt):Ce=Math.pow(fe,Math.log(-ne)/Wt)*-1,Ce}function Ir(Wt,ne){return Wt===1?1:Math.log(ne)/Math.log(Wt)}function Er(Wt,ne,fe){(0,O.isNil)(fe)&&(fe=Math.max.apply(null,Wt));var Ce=fe;return(0,O.each)(Wt,function(Ae){Ae>0&&Ae<Ce&&(Ce=Ae)}),Ce===fe&&(Ce=fe/ne),Ce>1&&(Ce=1),Ce}function on(Wt){var ne=Wt.toString().split(/[eE]/),fe=(ne[0].split(".")[1]||"").length-+(ne[1]||0);return fe>0?fe:0}function In(Wt,ne){var fe=on(Wt),Ce=on(ne),Ae=Math.pow(10,Math.max(fe,Ce));return(Wt*Ae+ne*Ae)/Ae}var fn=function(Wt){(0,E.__extends)(ne,Wt);function ne(){var fe=Wt!==null&&Wt.apply(this,arguments)||this;return fe.type="log",fe}return ne.prototype.invert=function(fe){var Ce=this.base,Ae=Ir(Ce,this.max),Ye=this.rangeMin(),cr=this.rangeMax()-Ye,sr,Lt=this.positiveMin;if(Lt){if(fe===0)return 0;sr=Ir(Ce,Lt/Ce);var gt=1/(Ae-sr)*cr;if(fe<gt)return fe/gt*Lt}else sr=Ir(Ce,this.min);var ut=(fe-Ye)/cr,Mt=ut*(Ae-sr)+sr;return Math.pow(Ce,Mt)},ne.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},ne.prototype.setDomain=function(){Wt.prototype.setDomain.call(this);var fe=this.min;if(fe<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");fe===0&&(this.positiveMin=Er(this.values,this.base,this.max))},ne.prototype.getScalePercent=function(fe){var Ce=this.max,Ae=this.min;if(Ce===Ae||fe<=0)return 0;var Ye=this.base,cr=this.positiveMin;cr&&(Ae=cr*1/Ye);var sr;return fe<cr?sr=fe/cr/(Ir(Ye,Ce)-Ir(Ye,Ae)):sr=(Ir(Ye,fe)-Ir(Ye,Ae))/(Ir(Ye,Ce)-Ir(Ye,Ae)),sr},ne}(Ie),xn=fn,$n=function(Wt){(0,E.__extends)(ne,Wt);function ne(){var fe=Wt!==null&&Wt.apply(this,arguments)||this;return fe.type="pow",fe}return ne.prototype.invert=function(fe){var Ce=this.getInvertPercent(fe),Ae=this.exponent,Ye=lr(Ae,this.max),cr=lr(Ae,this.min),sr=Ce*(Ye-cr)+cr,Lt=sr>=0?1:-1;return Math.pow(sr,Ae)*Lt},ne.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},ne.prototype.getScalePercent=function(fe){var Ce=this.max,Ae=this.min;if(Ce===Ae)return 0;var Ye=this.exponent,cr=(lr(Ye,fe)-lr(Ye,Ae))/(lr(Ye,Ce)-lr(Ye,Ae));return cr},ne}(Ie),ui=$n,Si=function(Wt){(0,E.__extends)(ne,Wt);function ne(){var fe=Wt!==null&&Wt.apply(this,arguments)||this;return fe.type="time",fe}return ne.prototype.getText=function(fe,Ce){var Ae=this.translate(fe),Ye=this.formatter;return Ye?Ye(Ae,Ce):et(Ae,this.mask)},ne.prototype.scale=function(fe){var Ce=fe;return((0,O.isString)(Ce)||(0,O.isDate)(Ce))&&(Ce=this.translate(Ce)),Wt.prototype.scale.call(this,Ce)},ne.prototype.translate=function(fe){return Ct(fe)},ne.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},ne.prototype.setDomain=function(){var fe=this.values,Ce=this.getConfig("min"),Ae=this.getConfig("max");if((!(0,O.isNil)(Ce)||!(0,O.isNumber)(Ce))&&(this.min=this.translate(this.min)),(!(0,O.isNil)(Ae)||!(0,O.isNumber)(Ae))&&(this.max=this.translate(this.max)),fe&&fe.length){var Ye=[],cr=Infinity,sr=cr,Lt=0;(0,O.each)(fe,function(gt){var ut=Ct(gt);if(isNaN(ut))throw new TypeError("Invalid Time: "+gt+" in time scale!");cr>ut?(sr=cr,cr=ut):sr>ut&&(sr=ut),Lt<ut&&(Lt=ut),Ye.push(ut)}),fe.length>1&&(this.minTickInterval=sr-cr),(0,O.isNil)(Ce)&&(this.min=cr),(0,O.isNil)(Ae)&&(this.max=Lt)}},ne}(or),bi=Si,$t=function(Wt){(0,E.__extends)(ne,Wt);function ne(){var fe=Wt!==null&&Wt.apply(this,arguments)||this;return fe.type="quantize",fe}return ne.prototype.invert=function(fe){var Ce=this.ticks,Ae=Ce.length,Ye=this.getInvertPercent(fe),cr=Math.floor(Ye*(Ae-1));if(cr>=Ae-1)return(0,O.last)(Ce);if(cr<0)return(0,O.head)(Ce);var sr=Ce[cr],Lt=Ce[cr+1],gt=cr/(Ae-1),ut=(cr+1)/(Ae-1);return sr+(Ye-gt)/(ut-gt)*(Lt-sr)},ne.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},ne.prototype.calculateTicks=function(){var fe=Wt.prototype.calculateTicks.call(this);return this.nice||((0,O.last)(fe)!==this.max&&fe.push(this.max),(0,O.head)(fe)!==this.min&&fe.unshift(this.min)),fe},ne.prototype.getScalePercent=function(fe){var Ce=this.ticks;if(fe<(0,O.head)(Ce))return 0;if(fe>(0,O.last)(Ce))return 1;var Ae=0;return(0,O.each)(Ce,function(Ye,cr){if(fe>=Ye)Ae=cr;else return!1}),Ae/(Ce.length-1)},ne}(Ie),se=$t,ge=function(Wt){(0,E.__extends)(ne,Wt);function ne(){var fe=Wt!==null&&Wt.apply(this,arguments)||this;return fe.type="quantile",fe}return ne.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},ne}(se),me=ge,ke={};function Fe(Wt){return ke[Wt]}function Ne(Wt,ne){if(Fe(Wt))throw new Error("type '"+Wt+"' existed.");ke[Wt]=ne}var Ve=function(Wt){(0,E.__extends)(ne,Wt);function ne(){var fe=Wt!==null&&Wt.apply(this,arguments)||this;return fe.type="identity",fe.isIdentity=!0,fe}return ne.prototype.calculateTicks=function(){return this.values},ne.prototype.scale=function(fe){return this.values[0]!==fe&&(0,O.isNumber)(fe)?fe:this.range[0]},ne.prototype.invert=function(fe){var Ce=this.range;return fe<Ce[0]||fe>Ce[1]?NaN:this.values[0]},ne}(C),Te=Ve;function vr(Wt){var ne=Wt.values,fe=Wt.tickInterval,Ce=Wt.tickCount,Ae=Wt.showLast;if((0,O.isNumber)(fe)){var Ye=(0,O.filter)(ne,function(ve,be){return be%fe==0}),cr=(0,O.last)(ne);return Ae&&(0,O.last)(Ye)!==cr&&Ye.push(cr),Ye}var sr=ne.length,Lt=Wt.min,gt=Wt.max;if((0,O.isNil)(Lt)&&(Lt=0),(0,O.isNil)(gt)&&(gt=ne.length-1),!(0,O.isNumber)(Ce)||Ce>=sr)return ne.slice(Lt,gt+1);if(Ce<=0||gt<=0)return[];for(var ut=Ce===1?sr:Math.floor(sr/(Ce-1)),Mt=[],Xt=Lt,ie=0;ie<Ce&&!(Xt>=gt);ie++)Xt=Math.min(Lt+ie*ut,gt),ie===Ce-1&&Ae?Mt.push(ne[gt]):Mt.push(ne[Xt]);return Mt}function qe(Wt){var ne=Wt.min,fe=Wt.max,Ce=Wt.nice,Ae=Wt.tickCount,Ye=new Br;return Ye.domain([ne,fe]),Ce&&Ye.nice(Ae),Ye.ticks(Ae)}var yr=5,Lr=Math.sqrt(50),wr=Math.sqrt(10),kr=Math.sqrt(2),Br=function(){function Wt(){this._domain=[0,1]}return Wt.prototype.domain=function(ne){return ne?(this._domain=Array.from(ne,Number),this):this._domain.slice()},Wt.prototype.nice=function(ne){var fe,Ce;ne===void 0&&(ne=yr);var Ae=this._domain.slice(),Ye=0,cr=this._domain.length-1,sr=this._domain[Ye],Lt=this._domain[cr],gt;return Lt<sr&&(fe=[Lt,sr],sr=fe[0],Lt=fe[1],Ce=[cr,Ye],Ye=Ce[0],cr=Ce[1]),gt=gr(sr,Lt,ne),gt>0?(sr=Math.floor(sr/gt)*gt,Lt=Math.ceil(Lt/gt)*gt,gt=gr(sr,Lt,ne)):gt<0&&(sr=Math.ceil(sr*gt)/gt,Lt=Math.floor(Lt*gt)/gt,gt=gr(sr,Lt,ne)),gt>0?(Ae[Ye]=Math.floor(sr/gt)*gt,Ae[cr]=Math.ceil(Lt/gt)*gt,this.domain(Ae)):gt<0&&(Ae[Ye]=Math.ceil(sr*gt)/gt,Ae[cr]=Math.floor(Lt*gt)/gt,this.domain(Ae)),this},Wt.prototype.ticks=function(ne){return ne===void 0&&(ne=yr),Nr(this._domain[0],this._domain[this._domain.length-1],ne||yr)},Wt}();function Nr(Wt,ne,fe){var Ce,Ae=-1,Ye,cr,sr;if(ne=+ne,Wt=+Wt,fe=+fe,Wt===ne&&fe>0)return[Wt];if((Ce=ne<Wt)&&(Ye=Wt,Wt=ne,ne=Ye),(sr=gr(Wt,ne,fe))===0||!isFinite(sr))return[];if(sr>0)for(Wt=Math.ceil(Wt/sr),ne=Math.floor(ne/sr),cr=new Array(Ye=Math.ceil(ne-Wt+1));++Ae<Ye;)cr[Ae]=(Wt+Ae)*sr;else for(Wt=Math.floor(Wt*sr),ne=Math.ceil(ne*sr),cr=new Array(Ye=Math.ceil(Wt-ne+1));++Ae<Ye;)cr[Ae]=(Wt-Ae)/sr;return Ce&&cr.reverse(),cr}function gr(Wt,ne,fe){var Ce=(ne-Wt)/Math.max(0,fe),Ae=Math.floor(Math.log(Ce)/Math.LN10),Ye=Ce/Math.pow(10,Ae);return Ae>=0?(Ye>=Lr?10:Ye>=wr?5:Ye>=kr?2:1)*Math.pow(10,Ae):-Math.pow(10,-Ae)/(Ye>=Lr?10:Ye>=wr?5:Ye>=kr?2:1)}function Vr(Wt,ne,fe){var Ce;return fe==="ceil"?Ce=Math.ceil(Wt/ne):fe==="floor"?Ce=Math.floor(Wt/ne):Ce=Math.round(Wt/ne),Ce*ne}function Qr(Wt,ne,fe){var Ce=Vr(Wt,fe,"floor"),Ae=Vr(ne,fe,"ceil");Ce=(0,O.fixedBase)(Ce,fe),Ae=(0,O.fixedBase)(Ae,fe);for(var Ye=[],cr=Math.max((Ae-Ce)/(Math.pow(2,12)-1),fe),sr=Ce;sr<=Ae;sr=sr+cr){var Lt=(0,O.fixedBase)(sr,cr);Ye.push(Lt)}return{min:Ce,max:Ae,ticks:Ye}}function zr(Wt,ne,fe){var Ce,Ae=Wt.minLimit,Ye=Wt.maxLimit,cr=Wt.min,sr=Wt.max,Lt=Wt.tickCount,gt=Lt===void 0?5:Lt,ut=(0,O.isNil)(Ae)?(0,O.isNil)(ne)?cr:ne:Ae,Mt=(0,O.isNil)(Ye)?(0,O.isNil)(fe)?sr:fe:Ye;if(ut>Mt&&(Ce=[ut,Mt],Mt=Ce[0],ut=Ce[1]),gt<=2)return[ut,Mt];for(var Xt=(Mt-ut)/(gt-1),ie=[],ve=0;ve<gt;ve++)ie.push(ut+Xt*ve);return ie}function tn(Wt){var ne=Wt.min,fe=Wt.max,Ce=Wt.tickInterval,Ae=Wt.minLimit,Ye=Wt.maxLimit,cr=qe(Wt);return!(0,O.isNil)(Ae)||!(0,O.isNil)(Ye)?zr(Wt,(0,O.head)(cr),(0,O.last)(cr)):Ce?Qr(ne,fe,Ce).ticks:cr}function cn(Wt){return Math.abs(Wt)<1e-15?Wt:parseFloat(Wt.toFixed(15))}var Bt=[1,5,2,2.5,4,3],Ht=null,ct=Number.EPSILON*100;function R(Wt,ne){return(Wt%ne+ne)%ne}function N(Wt){return Math.round(Wt*1e12)/1e12}function j(Wt,ne,fe,Ce,Ae,Ye){var cr=(0,O.size)(ne),sr=(0,O.indexOf)(ne,Wt),Lt=0,gt=R(Ce,Ye);return(gt<ct||Ye-gt<ct)&&Ce<=0&&Ae>=0&&(Lt=1),1-sr/(cr-1)-fe+Lt}function _t(Wt,ne,fe){var Ce=(0,O.size)(ne),Ae=(0,O.indexOf)(ne,Wt),Ye=1;return 1-Ae/(Ce-1)-fe+Ye}function jt(Wt,ne,fe,Ce,Ae,Ye){var cr=(Wt-1)/(Ye-Ae),sr=(ne-1)/(Math.max(Ye,Ce)-Math.min(fe,Ae));return 2-Math.max(cr/sr,sr/cr)}function Nt(Wt,ne){return Wt>=ne?2-(Wt-1)/(ne-1):1}function Ut(Wt,ne,fe,Ce){var Ae=ne-Wt;return 1-.5*(Math.pow(ne-Ce,2)+Math.pow(Wt-fe,2))/Math.pow(.1*Ae,2)}function Se(Wt,ne,fe){var Ce=ne-Wt;if(fe>Ce){var Ae=(fe-Ce)/2;return 1-Math.pow(Ae,2)/Math.pow(.1*Ce,2)}return 1}function Me(){return 1}function Oe(Wt,ne,fe,Ce,Ae,Ye){fe===void 0&&(fe=5),Ce===void 0&&(Ce=!0),Ae===void 0&&(Ae=Bt),Ye===void 0&&(Ye=[.25,.2,.5,.05]);var cr=fe<0?0:Math.round(fe);if(Number.isNaN(Wt)||Number.isNaN(ne)||typeof Wt!="number"||typeof ne!="number"||!cr)return{min:0,max:0,ticks:[]};if(ne-Wt<1e-15||cr===1)return{min:Wt,max:ne,ticks:[Wt]};if(ne-Wt>1e148){var sr=fe||5,Lt=(ne-Wt)/sr;return{min:Wt,max:ne,ticks:Array(sr).fill(null).map(function(Qi,ca){return cn(Wt+Lt*ca)})}}for(var gt={score:-2,lmin:0,lmax:0,lstep:0},ut=1;ut<Infinity;){for(var Mt=0;Mt<Ae.length;Mt+=1){var Xt=Ae[Mt],ie=_t(Xt,Ae,ut);if(Ye[0]*ie+Ye[1]+Ye[2]+Ye[3]<gt.score){ut=Infinity;break}for(var ve=2;ve<Infinity;){var be=Nt(ve,cr);if(Ye[0]*ie+Ye[1]+Ye[2]*be+Ye[3]<gt.score)break;for(var we=(ne-Wt)/(ve+1)/ut/Xt,He=Math.ceil(Math.log10(we));He<Infinity;){var $e=ut*Xt*Math.pow(10,He),tr=Se(Wt,ne,$e*(ve-1));if(Ye[0]*ie+Ye[1]*tr+Ye[2]*be+Ye[3]<gt.score)break;var Pr=Math.floor(ne/$e)*ut-(ve-1)*ut,rr=Math.ceil(Wt/$e)*ut;if(Pr<=rr)for(var sr=rr-Pr,Je=0;Je<=sr;Je+=1){var Xr=Pr+Je,Yr=Xr*($e/ut),$r=Yr+$e*(ve-1),sn=$e,Rr=j(Xt,Ae,ut,Yr,$r,sn),Sr=Ut(Wt,ne,Yr,$r),ln=jt(ve,cr,Wt,ne,Yr,$r),kn=Me(),jn=Ye[0]*Rr+Ye[1]*Sr+Ye[2]*ln+Ye[3]*kn;jn>gt.score&&(!Ce||Yr<=Wt&&$r>=ne)&&(gt.lmin=Yr,gt.lmax=$r,gt.lstep=sn,gt.score=jn)}He+=1}ve+=1}}ut+=1}var fi=cn(gt.lmax),Ur=cn(gt.lmin),Wi=cn(gt.lstep),Gi=Math.floor(N((fi-Ur)/Wi))+1,ti=new Array(Gi);ti[0]=cn(Ur);for(var Mt=1;Mt<Gi;Mt++)ti[Mt]=cn(ti[Mt-1]+Wi);return{min:Math.min(Wt,(0,O.head)(ti)),max:Math.max(ne,(0,O.last)(ti)),ticks:ti}}function ir(Wt){var ne=Wt.min,fe=Wt.max,Ce=Wt.tickCount,Ae=Wt.nice,Ye=Wt.tickInterval,cr=Wt.minLimit,sr=Wt.maxLimit,Lt=Oe(ne,fe,Ce,Ae).ticks;return!(0,O.isNil)(cr)||!(0,O.isNil)(sr)?zr(Wt,(0,O.head)(Lt),(0,O.last)(Lt)):Ye?Qr(ne,fe,Ye).ticks:Lt}function We(Wt){var ne=Wt.base,fe=Wt.tickCount,Ce=Wt.min,Ae=Wt.max,Ye=Wt.values,cr,sr=Ir(ne,Ae);if(Ce>0)cr=Math.floor(Ir(ne,Ce));else{var Lt=Er(Ye,ne,Ae);cr=Math.floor(Ir(ne,Lt))}for(var gt=sr-cr,ut=Math.ceil(gt/fe),Mt=[],Xt=cr;Xt<sr+ut;Xt=Xt+ut)Mt.push(Math.pow(ne,Xt));return Ce<=0&&Mt.unshift(0),Mt}function Cr(Wt,ne,fe){if(fe===void 0&&(fe=5),Wt===ne)return{max:ne,min:Wt,ticks:[Wt]};var Ce=fe<0?0:Math.round(fe);if(Ce===0)return{max:ne,min:Wt,ticks:[]};var Ae=1.5,Ye=.5+1.5*Ae,cr=ne-Wt,sr=cr/Ce,Lt=Math.pow(10,Math.floor(Math.log10(sr))),gt=Lt;2*Lt-sr<Ae*(sr-gt)&&(gt=2*Lt,5*Lt-sr<Ye*(sr-gt)&&(gt=5*Lt,10*Lt-sr<Ae*(sr-gt)&&(gt=10*Lt)));for(var ut=Math.ceil(ne/gt),Mt=Math.floor(Wt/gt),Xt=Math.max(ut*gt,ne),ie=Math.min(Mt*gt,Wt),ve=Math.floor((Xt-ie)/gt)+1,be=new Array(ve),we=0;we<ve;we++)be[we]=cn(ie+we*gt);return{min:ie,max:Xt,ticks:be}}function en(Wt){var ne=Wt.exponent,fe=Wt.tickCount,Ce=Math.ceil(lr(ne,Wt.max)),Ae=Math.floor(lr(ne,Wt.min)),Ye=Cr(Ae,Ce,fe).ticks;return Ye.map(function(cr){var sr=cr>=0?1:-1;return Math.pow(cr,ne)*sr})}function Be(Wt,ne){var fe=Wt.length*ne;return ne===1?Wt[Wt.length-1]:ne===0?Wt[0]:fe%1!=0?Wt[Math.ceil(fe)-1]:Wt.length%2==0?(Wt[fe-1]+Wt[fe])/2:Wt[fe]}function Ue(Wt){var ne=Wt.tickCount,fe=Wt.values;if(!fe||!fe.length)return[];for(var Ce=fe.slice().sort(function(sr,Lt){return sr-Lt}),Ae=[],Ye=0;Ye<ne;Ye++){var cr=Ye/(ne-1);Ae.push(Be(Ce,cr))}return Ae}function pr(Wt){var ne=Wt.min,fe=Wt.max,Ce=Wt.tickCount,Ae=Wt.tickInterval,Ye=Wt.minLimit,cr=Wt.maxLimit,sr=Cr(ne,fe,Ce).ticks;return!(0,O.isNil)(Ye)||!(0,O.isNil)(cr)?zr(Wt,(0,O.head)(sr),(0,O.last)(sr)):Ae?Qr(ne,fe,Ae).ticks:sr}function Qt(Wt){var ne=Wt.min,fe=Wt.max,Ce=Wt.minTickInterval,Ae=Wt.tickInterval,Ye=Wt.tickCount;if(Ae)Ye=Math.ceil((fe-ne)/Ae);else{Ae=ee(ne,fe,Ye)[1];var cr=(fe-ne)/Ae,sr=cr/Ye;sr>1&&(Ae=Ae*Math.ceil(sr)),Ce&&Ae<Ce&&(Ae=Ce)}Ae=Math.max(Math.floor((fe-ne)/(Math.pow(2,12)-1)),Ae);for(var Lt=[],gt=ne;gt<fe+Ae;gt+=Ae)Lt.push(gt);return Lt}function Yt(Wt){var ne=vr((0,E.__assign)({showLast:!0},Wt));return ne}function ae(Wt){return new Date(Wt).getFullYear()}function xe(Wt){return new Date(Wt,0,1).getTime()}function Le(Wt){return new Date(Wt).getMonth()}function Ke(Wt,ne){var fe=ae(Wt),Ce=ae(ne),Ae=Le(Wt),Ye=Le(ne);return(Ce-fe)*12+(Ye-Ae)%12}function ur(Wt,ne){return new Date(Wt,ne,1).getTime()}function dr(Wt,ne){return Math.ceil((ne-Wt)/at)}function ar(Wt,ne){return Math.ceil((ne-Wt)/St)}function gn(Wt,ne){return Math.ceil((ne-Wt)/(60*1e3))}function _n(Wt){var ne=Wt.min,fe=Wt.max,Ce=Wt.minTickInterval,Ae=Wt.tickCount,Ye=Wt.tickInterval,cr=[];Ye||(Ye=(fe-ne)/Ae,Ce&&Ye<Ce&&(Ye=Ce)),Ye=Math.max(Math.floor((fe-ne)/(Math.pow(2,12)-1)),Ye);var sr=ae(ne);if(Ye>mt)for(var Lt=ae(fe),gt=Math.ceil(Ye/mt),ut=sr;ut<=Lt+gt;ut=ut+gt)cr.push(xe(ut));else if(Ye>nt)for(var Mt=Math.ceil(Ye/nt),Xt=Le(ne),ie=Ke(ne,fe),ut=0;ut<=ie+Mt;ut=ut+Mt)cr.push(ur(sr,ut+Xt));else if(Ye>at)for(var ve=new Date(ne),be=ve.getFullYear(),we=ve.getMonth(),He=ve.getDate(),$e=Math.ceil(Ye/at),tr=dr(ne,fe),ut=0;ut<tr+$e;ut=ut+$e)cr.push(new Date(be,we,He+ut).getTime());else if(Ye>St)for(var ve=new Date(ne),be=ve.getFullYear(),we=ve.getMonth(),$e=ve.getDate(),Pr=ve.getHours(),rr=Math.ceil(Ye/St),Je=ar(ne,fe),ut=0;ut<=Je+rr;ut=ut+rr)cr.push(new Date(be,we,$e,Pr+ut).getTime());else if(Ye>st)for(var Xr=gn(ne,fe),Yr=Math.ceil(Ye/st),ut=0;ut<=Xr+Yr;ut=ut+Yr)cr.push(ne+ut*st);else{var $r=Ye;$r<it&&($r=it);for(var sn=Math.floor(ne/it)*it,Rr=Math.ceil((fe-ne)/it),Sr=Math.ceil($r/it),ut=0;ut<Rr+Sr;ut=ut+Sr)cr.push(sn+ut*it)}return cr.length>=512&&console.warn("Notice: current ticks length("+cr.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+Ye+") is too small, increase the value to solve the problem!"),cr}T("cat",vr),T("time-cat",Yt),T("wilkinson-extended",ir),T("r-pretty",pr),T("time",Qt),T("time-pretty",_n),T("log",We),T("pow",en),T("quantile",Ue),T("d3-linear",tn),Ne("cat",w),Ne("category",w),Ne("identity",Te),Ne("linear",or),Ne("log",xn),Ne("pow",ui),Ne("time",bi),Ne("timeCat",le),Ne("quantize",se),Ne("quantile",me)},49242:function(ft,S,v){"use strict";v.r(S),v.d(S,{Cache:function(){return An},assign:function(){return fi},augment:function(){return Wi},clamp:function(){return wr},clearAnimationFrame:function(){return kn},clone:function(){return ti},contains:function(){return _},debounce:function(){return ca},deepMix:function(){return _i},difference:function(){return E},each:function(){return W},endsWith:function(){return In},every:function(){return xn},extend:function(){return di},filter:function(){return A},find:function(){return Ot},findIndex:function(){return ht},firstValue:function(){return Gt},fixedBase:function(){return Br},flatten:function(){return tt},flattenDeep:function(){return u},forIn:function(){return Qt},get:function(){return z},getEllipsisText:function(){return En},getRange:function(){return U},getType:function(){return Lt},getWrapBehavior:function(){return ke},group:function(){return ge},groupBy:function(){return $t},groupToMap:function(){return se},has:function(){return Yt},hasKey:function(){return ae},hasValue:function(){return Ke},head:function(){return or},identity:function(){return nr},includes:function(){return _},indexOf:function(){return da},isArguments:function(){return ut},isArray:function(){return P},isArrayLike:function(){return O},isBoolean:function(){return Xt},isDate:function(){return ve},isDecimal:function(){return Qr},isElement:function(){return Sr},isEmpty:function(){return pa},isEqual:function(){return Fn},isEqualWith:function(){return ji},isError:function(){return we},isEven:function(){return tn},isFinite:function(){return He},isFunction:function(){return m},isInteger:function(){return Bt},isMatch:function(){return ot},isNegative:function(){return ct},isNil:function(){return M},isNull:function(){return tr},isNumber:function(){return gr},isNumberEqual:function(){return N},isObject:function(){return B},isObjectLike:function(){return At},isOdd:function(){return _t},isPlainObject:function(){return Ft},isPositive:function(){return Nt},isPrototype:function(){return Je},isRegExp:function(){return Yr},isString:function(){return Dt},isType:function(){return y},isUndefined:function(){return sn},keys:function(){return H},last:function(){return lr},lowerCase:function(){return ar},lowerFirst:function(){return _n},map:function(){return ga},mapValues:function(){return Et},max:function(){return Y},maxBy:function(){return Ut},measureTextWidth:function(){return rn},memoize:function(){return Mi},min:function(){return G},minBy:function(){return Se},mix:function(){return fi},mod:function(){return Oe},noop:function(){return Ge},number2color:function(){return vr},omit:function(){return zt},parseRadius:function(){return yr},pick:function(){return Pt},pull:function(){return et},pullAt:function(){return st},reduce:function(){return at},remove:function(){return mt},requestAnimationFrame:function(){return ln},set:function(){return q},size:function(){return fr},some:function(){return ui},sortBy:function(){return ce},startsWith:function(){return Er},substitute:function(){return ne},throttle:function(){return Kt},toArray:function(){return he},toDegree:function(){return Cr},toInteger:function(){return en},toRadian:function(){return pr},toString:function(){return ur},union:function(){return Ie},uniq:function(){return le},uniqueId:function(){return _e},upperCase:function(){return Ce},upperFirst:function(){return Ye},values:function(){return Le},valuesOfKey:function(){return Re},wrapBehavior:function(){return Ne}});var x=function(Vt){return Vt!==null&&typeof Vt!="function"&&isFinite(Vt.length)},O=x,k=function(Vt,de){return O(Vt)?Vt.indexOf(de)>-1:!1},_=k,T=function(Vt,de){if(!O(Vt))return Vt;for(var Ee=[],De=0;De<Vt.length;De++){var er=Vt[De];de(er,De)&&Ee.push(er)}return Ee},A=T,C=function(Vt,de){return de===void 0&&(de=[]),A(Vt,function(Ee){return!_(de,Ee)})},E=C,g={}.toString,w=function(Vt,de){return g.call(Vt)==="[object "+de+"]"},y=w,m=function(Vt){return y(Vt,"Function")},p=function(Vt){return Vt==null},M=p,P=function(Vt){return Array.isArray?Array.isArray(Vt):y(Vt,"Array")},B=function(Vt){var de=typeof Vt;return Vt!==null&&de==="object"||de==="function"};function F(Vt,de){if(!!Vt){var Ee;if(P(Vt))for(var De=0,er=Vt.length;De<er&&(Ee=de(Vt[De],De),Ee!==!1);De++);else if(B(Vt)){for(var Dr in Vt)if(Vt.hasOwnProperty(Dr)&&(Ee=de(Vt[Dr],Dr),Ee===!1))break}}}var W=F,Q=Object.keys?function(Vt){return Object.keys(Vt)}:function(Vt){var de=[];return W(Vt,function(Ee,De){m(Vt)&&De==="prototype"||de.push(De)}),de},H=Q;function Z(Vt,de){var Ee=H(de),De=Ee.length;if(M(Vt))return!De;for(var er=0;er<De;er+=1){var Dr=Ee[er];if(de[Dr]!==Vt[Dr]||!(Dr in Vt))return!1}return!0}var ot=Z,rt=function(Vt){return typeof Vt=="object"&&Vt!==null},At=rt,pt=function(Vt){if(!At(Vt)||!y(Vt,"Object"))return!1;if(Object.getPrototypeOf(Vt)===null)return!0;for(var de=Vt;Object.getPrototypeOf(de)!==null;)de=Object.getPrototypeOf(de);return Object.getPrototypeOf(Vt)===de},Ft=pt;function Tt(Vt,de){if(!P(Vt))return null;var Ee;if(m(de)&&(Ee=de),Ft(de)&&(Ee=function(er){return ot(er,de)}),Ee){for(var De=0;De<Vt.length;De+=1)if(Ee(Vt[De]))return Vt[De]}return null}var Ot=Tt;function xt(Vt,de,Ee){Ee===void 0&&(Ee=0);for(var De=Ee;De<Vt.length;De++)if(de(Vt[De],De))return De;return-1}var ht=xt,kt=function(Vt,de){for(var Ee=null,De=0;De<Vt.length;De++){var er=Vt[De],Dr=er[de];if(!M(Dr)){P(Dr)?Ee=Dr[0]:Ee=Dr;break}}return Ee},Gt=kt,dt=function(Vt){if(!P(Vt))return[];for(var de=[],Ee=0;Ee<Vt.length;Ee++)de=de.concat(Vt[Ee]);return de},tt=dt,I=function(Vt,de){if(de===void 0&&(de=[]),!P(Vt))de.push(Vt);else for(var Ee=0;Ee<Vt.length;Ee+=1)I(Vt[Ee],de);return de},u=I,Y=function(Vt){if(!!P(Vt))return Vt.reduce(function(de,Ee){return Math.max(de,Ee)},Vt[0])},G=function(Vt){if(!!P(Vt))return Vt.reduce(function(de,Ee){return Math.min(de,Ee)},Vt[0])},X=function(Vt){var de=Vt.filter(function(hn){return!isNaN(hn)});if(!de.length)return{min:0,max:0};if(P(Vt[0])){for(var Ee=[],De=0;De<Vt.length;De++)Ee=Ee.concat(Vt[De]);de=Ee}var er=Y(de),Dr=G(de);return{min:Dr,max:er}},U=X,J=Array.prototype,lt=J.splice,It=J.indexOf,bt=function(Vt){for(var de=[],Ee=1;Ee<arguments.length;Ee++)de[Ee-1]=arguments[Ee];for(var De=0;De<de.length;De++)for(var er=de[De],Dr=-1;(Dr=It.call(Vt,er))>-1;)lt.call(Vt,Dr,1);return Vt},et=bt,Ct=Array.prototype.splice,it=function(de,Ee){if(!O(de))return[];for(var De=de?Ee.length:0,er=De-1;De--;){var Dr=void 0,hn=Ee[De];(De===er||hn!==Dr)&&(Dr=hn,Ct.call(de,hn,1))}return de},st=it,St=function(Vt,de,Ee){if(!P(Vt)&&!Ft(Vt))return Vt;var De=Ee;return W(Vt,function(er,Dr){De=de(De,er,Dr)}),De},at=St,nt=function(Vt,de){var Ee=[];if(!O(Vt))return Ee;for(var De=-1,er=[],Dr=Vt.length;++De<Dr;){var hn=Vt[De];de(hn,De,Vt)&&(Ee.push(hn),er.push(De))}return st(Vt,er),Ee},mt=nt,Dt=function(Vt){return y(Vt,"String")};function ee(Vt,de){var Ee;if(m(de))Ee=function(er,Dr){return de(er)-de(Dr)};else{var De=[];Dt(de)?De.push(de):P(de)&&(De=de),Ee=function(er,Dr){for(var hn=0;hn<De.length;hn+=1){var Hn=De[hn];if(er[Hn]>Dr[Hn])return 1;if(er[Hn]<Dr[Hn])return-1}return 0}}return Vt.sort(Ee),Vt}var ce=ee;function le(Vt,de){de===void 0&&(de=new Map);var Ee=[];if(Array.isArray(Vt))for(var De=0,er=Vt.length;De<er;De++){var Dr=Vt[De];de.has(Dr)||(Ee.push(Dr),de.set(Dr,!0))}return Ee}var Xe=function(){for(var Vt=[],de=0;de<arguments.length;de++)Vt[de]=arguments[de];return le([].concat.apply([],Vt))},Ie=Xe,Re=function(Vt,de){for(var Ee=[],De={},er=0;er<Vt.length;er++){var Dr=Vt[er],hn=Dr[de];if(!M(hn)){P(hn)||(hn=[hn]);for(var Hn=0;Hn<hn.length;Hn++){var Li=hn[Hn];De[Li]||(Ee.push(Li),De[Li]=!0)}}}return Ee};function or(Vt){if(O(Vt))return Vt[0]}function lr(Vt){if(O(Vt)){var de=Vt;return de[de.length-1]}}function Ir(Vt,de){return P(Vt)||Dt(Vt)?Vt[0]===de:!1}var Er=Ir;function on(Vt,de){return P(Vt)||Dt(Vt)?Vt[Vt.length-1]===de:!1}var In=on,fn=function(Vt,de){for(var Ee=0;Ee<Vt.length;Ee++)if(!de(Vt[Ee],Ee))return!1;return!0},xn=fn,$n=function(Vt,de){for(var Ee=0;Ee<Vt.length;Ee++)if(de(Vt[Ee],Ee))return!0;return!1},ui=$n,Si=Object.prototype.hasOwnProperty;function bi(Vt,de){if(!de||!P(Vt))return{};for(var Ee={},De=m(de)?de:function(Hn){return Hn[de]},er,Dr=0;Dr<Vt.length;Dr++){var hn=Vt[Dr];er=De(hn),Si.call(Ee,er)?Ee[er].push(hn):Ee[er]=[hn]}return Ee}var $t=bi;function se(Vt,de){if(!de)return{0:Vt};if(!m(de)){var Ee=P(de)?de:de.replace(/\s+/g,"").split("*");de=function(De){for(var er="_",Dr=0,hn=Ee.length;Dr<hn;Dr++)er+=De[Ee[Dr]]&&De[Ee[Dr]].toString();return er}}return $t(Vt,de)}var ge=function(Vt,de){if(!de)return[Vt];var Ee=se(Vt,de),De=[];for(var er in Ee)De.push(Ee[er]);return De};function me(Vt,de){return Vt["_wrap_"+de]}var ke=me;function Fe(Vt,de){if(Vt["_wrap_"+de])return Vt["_wrap_"+de];var Ee=function(De){Vt[de](De)};return Vt["_wrap_"+de]=Ee,Ee}var Ne=Fe,Ve={};function Te(Vt){var de=Ve[Vt];if(!de){for(var Ee=Vt.toString(16),De=Ee.length;De<6;De++)Ee="0"+Ee;de="#"+Ee,Ve[Vt]=de}return de}var vr=Te;function qe(Vt){var de=0,Ee=0,De=0,er=0;return P(Vt)?Vt.length===1?de=Ee=De=er=Vt[0]:Vt.length===2?(de=De=Vt[0],Ee=er=Vt[1]):Vt.length===3?(de=Vt[0],Ee=er=Vt[1],De=Vt[2]):(de=Vt[0],Ee=Vt[1],De=Vt[2],er=Vt[3]):de=Ee=De=er=Vt,{r1:de,r2:Ee,r3:De,r4:er}}var yr=qe,Lr=function(Vt,de,Ee){return Vt<de?de:Vt>Ee?Ee:Vt},wr=Lr,kr=function(Vt,de){var Ee=de.toString(),De=Ee.indexOf(".");if(De===-1)return Math.round(Vt);var er=Ee.substr(De+1).length;return er>20&&(er=20),parseFloat(Vt.toFixed(er))},Br=kr,Nr=function(Vt){return y(Vt,"Number")},gr=Nr,Vr=function(Vt){return gr(Vt)&&Vt%1!=0},Qr=Vr,zr=function(Vt){return gr(Vt)&&Vt%2==0},tn=zr,cn=Number.isInteger?Number.isInteger:function(Vt){return gr(Vt)&&Vt%1==0},Bt=cn,Ht=function(Vt){return gr(Vt)&&Vt<0},ct=Ht,R=1e-5;function N(Vt,de,Ee){return Ee===void 0&&(Ee=R),Math.abs(Vt-de)<Ee}var j=function(Vt){return gr(Vt)&&Vt%2!=0},_t=j,jt=function(Vt){return gr(Vt)&&Vt>0},Nt=jt,Ut=function(Vt,de){if(!!P(Vt)){for(var Ee,De=-Infinity,er=0;er<Vt.length;er++){var Dr=Vt[er],hn=m(de)?de(Dr):Dr[de];hn>De&&(Ee=Dr,De=hn)}return Ee}},Se=function(Vt,de){if(!!P(Vt)){for(var Ee,De=Infinity,er=0;er<Vt.length;er++){var Dr=Vt[er],hn=m(de)?de(Dr):Dr[de];hn<De&&(Ee=Dr,De=hn)}return Ee}},Me=function(Vt,de){return(Vt%de+de)%de},Oe=Me,ir=180/Math.PI,We=function(Vt){return ir*Vt},Cr=We,en=parseInt,Be=Math.PI/180,Ue=function(Vt){return Be*Vt},pr=Ue,Qt=W,Yt=function(Vt,de){return Vt.hasOwnProperty(de)},ae=Yt,xe=Object.values?function(Vt){return Object.values(Vt)}:function(Vt){var de=[];return W(Vt,function(Ee,De){m(Vt)&&De==="prototype"||de.push(Ee)}),de},Le=xe,Ke=function(Vt,de){return _(Le(Vt),de)},ur=function(Vt){return M(Vt)?"":Vt.toString()},dr=function(Vt){return ur(Vt).toLowerCase()},ar=dr,gn=function(Vt){var de=ur(Vt);return de.charAt(0).toLowerCase()+de.substring(1)},_n=gn;function Wt(Vt,de){return!Vt||!de?Vt:Vt.replace(/\\?\{([^{}]+)\}/g,function(Ee,De){return Ee.charAt(0)==="\\"?Ee.slice(1):de[De]===void 0?"":de[De]})}var ne=Wt,fe=function(Vt){return ur(Vt).toUpperCase()},Ce=fe,Ae=function(Vt){var de=ur(Vt);return de.charAt(0).toUpperCase()+de.substring(1)},Ye=Ae,cr={}.toString,sr=function(Vt){return cr.call(Vt).replace(/^\[object /,"").replace(/]$/,"")},Lt=sr,gt=function(Vt){return y(Vt,"Arguments")},ut=gt,Mt=function(Vt){return y(Vt,"Boolean")},Xt=Mt,ie=function(Vt){return y(Vt,"Date")},ve=ie,be=function(Vt){return y(Vt,"Error")},we=be;function He(Vt){return gr(Vt)&&isFinite(Vt)}var $e=function(Vt){return Vt===null},tr=$e,Pr=Object.prototype,rr=function(Vt){var de=Vt&&Vt.constructor,Ee=typeof de=="function"&&de.prototype||Pr;return Vt===Ee},Je=rr,Xr=function(Vt){return y(Vt,"RegExp")},Yr=Xr,$r=function(Vt){return Vt===void 0},sn=$r,Rr=function(Vt){return Vt instanceof Element||Vt instanceof HTMLDocument},Sr=Rr;function ln(Vt){var de=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Ee){return setTimeout(Ee,16)};return de(Vt)}function kn(Vt){var de=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;de(Vt)}function jn(Vt,de){for(var Ee in de)de.hasOwnProperty(Ee)&&Ee!=="constructor"&&de[Ee]!==void 0&&(Vt[Ee]=de[Ee])}function fi(Vt,de,Ee,De){return de&&jn(Vt,de),Ee&&jn(Vt,Ee),De&&jn(Vt,De),Vt}var Ur=function(){for(var Vt=[],de=0;de<arguments.length;de++)Vt[de]=arguments[de];for(var Ee=Vt[0],De=1;De<Vt.length;De++){var er=Vt[De];m(er)&&(er=er.prototype),fi(Ee.prototype,er)}},Wi=Ur,Gi=function(Vt){if(typeof Vt!="object"||Vt===null)return Vt;var de;if(P(Vt)){de=[];for(var Ee=0,De=Vt.length;Ee<De;Ee++)typeof Vt[Ee]=="object"&&Vt[Ee]!=null?de[Ee]=Gi(Vt[Ee]):de[Ee]=Vt[Ee]}else{de={};for(var er in Vt)typeof Vt[er]=="object"&&Vt[er]!=null?de[er]=Gi(Vt[er]):de[er]=Vt[er]}return de},ti=Gi;function Qi(Vt,de,Ee){var De;return function(){var er=this,Dr=arguments,hn=function(){De=null,Ee||Vt.apply(er,Dr)},Hn=Ee&&!De;clearTimeout(De),De=setTimeout(hn,de),Hn&&Vt.apply(er,Dr)}}var ca=Qi,Mi=function(Vt,de){if(!m(Vt))throw new TypeError("Expected a function");var Ee=function(){for(var De=[],er=0;er<arguments.length;er++)De[er]=arguments[er];var Dr=de?de.apply(this,De):De[0],hn=Ee.cache;if(hn.has(Dr))return hn.get(Dr);var Hn=Vt.apply(this,De);return hn.set(Dr,Hn),Hn};return Ee.cache=new Map,Ee},wa=5;function aa(Vt,de,Ee,De){Ee=Ee||0,De=De||wa;for(var er in de)if(de.hasOwnProperty(er)){var Dr=de[er];Dr!==null&&Ft(Dr)?(Ft(Vt[er])||(Vt[er]={}),Ee<De?aa(Vt[er],Dr,Ee+1,De):Vt[er]=de[er]):P(Dr)?(Vt[er]=[],Vt[er]=Vt[er].concat(Dr)):Dr!==void 0&&(Vt[er]=Dr)}}var va=function(Vt){for(var de=[],Ee=1;Ee<arguments.length;Ee++)de[Ee-1]=arguments[Ee];for(var De=0;De<de.length;De+=1)aa(Vt,de[De]);return Vt},_i=va,vi=function(Vt,de,Ee,De){m(de)||(Ee=de,de=Vt,Vt=function(){});var er=Object.create?function(hn,Hn){return Object.create(hn,{constructor:{value:Hn}})}:function(hn,Hn){function Li(){}Li.prototype=hn;var la=new Li;return la.constructor=Hn,la},Dr=er(de.prototype,Vt);return Vt.prototype=fi(Dr,Vt.prototype),Vt.superclass=er(de.prototype,de),fi(Dr,Ee),fi(Vt,De),Vt},di=vi,oa=function(Vt,de){if(!O(Vt))return-1;var Ee=Array.prototype.indexOf;if(Ee)return Ee.call(Vt,de);for(var De=-1,er=0;er<Vt.length;er++)if(Vt[er]===de){De=er;break}return De},da=oa,sa=Object.prototype.hasOwnProperty;function bn(Vt){if(M(Vt))return!0;if(O(Vt))return!Vt.length;var de=Lt(Vt);if(de==="Map"||de==="Set")return!Vt.size;if(Je(Vt))return!Object.keys(Vt).length;for(var Ee in Vt)if(sa.call(Vt,Ee))return!1;return!0}var pa=bn,ri=function(Vt,de){if(Vt===de)return!0;if(!Vt||!de||Dt(Vt)||Dt(de))return!1;if(O(Vt)||O(de)){if(Vt.length!==de.length)return!1;for(var Ee=!0,De=0;De<Vt.length&&(Ee=ri(Vt[De],de[De]),!!Ee);De++);return Ee}if(At(Vt)||At(de)){var er=Object.keys(Vt),Dr=Object.keys(de);if(er.length!==Dr.length)return!1;for(var Ee=!0,De=0;De<er.length&&(Ee=ri(Vt[er[De]],de[er[De]]),!!Ee);De++);return Ee}return!1},Fn=ri,ji=function(Vt,de,Ee){return m(Ee)?!!Ee(Vt,de):Fn(Vt,de)},Bn=function(Vt,de){if(!O(Vt))return Vt;for(var Ee=[],De=0;De<Vt.length;De++){var er=Vt[De];Ee.push(de(er,De))}return Ee},ga=Bn,Jt=function(Vt){return Vt},Et=function(Vt,de){de===void 0&&(de=Jt);var Ee={};return B(Vt)&&!M(Vt)&&Object.keys(Vt).forEach(function(De){Ee[De]=de(Vt[De],De)}),Ee},z=function(Vt,de,Ee){for(var De=0,er=Dt(de)?de.split("."):de;Vt&&De<er.length;)Vt=Vt[er[De++]];return Vt===void 0||De<er.length?Ee:Vt},q=function(Vt,de,Ee){var De=Vt,er=Dt(de)?de.split("."):de;return er.forEach(function(Dr,hn){hn<er.length-1?(B(De[Dr])||(De[Dr]=gr(er[hn+1])?[]:{}),De=De[Dr]):De[Dr]=Ee}),Vt},vt=Object.prototype.hasOwnProperty,Pt=function(Vt,de){if(Vt===null||!Ft(Vt))return{};var Ee={};return W(de,function(De){vt.call(Vt,De)&&(Ee[De]=Vt[De])}),Ee},zt=function(Vt,de){return at(Vt,function(Ee,De,er){return de.includes(er)||(Ee[er]=De),Ee},{})},Kt=function(Vt,de,Ee){var De,er,Dr,hn,Hn=0;Ee||(Ee={});var Li=function(){Hn=Ee.leading===!1?0:Date.now(),De=null,hn=Vt.apply(er,Dr),De||(er=Dr=null)},la=function(){var ya=Date.now();!Hn&&Ee.leading===!1&&(Hn=ya);var Ko=de-(ya-Hn);return er=this,Dr=arguments,Ko<=0||Ko>de?(De&&(clearTimeout(De),De=null),Hn=ya,hn=Vt.apply(er,Dr),De||(er=Dr=null)):!De&&Ee.trailing!==!1&&(De=setTimeout(Li,Ko)),hn};return la.cancel=function(){clearTimeout(De),Hn=0,De=er=Dr=null},la},he=function(Vt){return O(Vt)?Array.prototype.slice.call(Vt):[]},pe={},_e=function(Vt){return Vt=Vt||"g",pe[Vt]?pe[Vt]+=1:pe[Vt]=1,Vt+pe[Vt]},Ge=function(){},nr=function(Vt){return Vt};function fr(Vt){return M(Vt)?0:O(Vt)?Vt.length:Object.keys(Vt).length}var Fr=v(65353),nn,rn=Mi(function(Vt,de){de===void 0&&(de={});var Ee=de.fontSize,De=de.fontFamily,er=de.fontWeight,Dr=de.fontStyle,hn=de.fontVariant;return nn||(nn=document.createElement("canvas").getContext("2d")),nn.font=[Dr,hn,er,Ee+"px",De].join(" "),nn.measureText(Dt(Vt)?Vt:"").width},function(Vt,de){return de===void 0&&(de={}),(0,Fr.__spreadArrays)([Vt],Le(de)).join("")}),En=function(Vt,de,Ee,De){De===void 0&&(De="...");var er=16,Dr=rn(De,Ee),hn=Dt(Vt)?Vt:ur(Vt),Hn=de,Li=[],la,ya;if(rn(Vt,Ee)<=de)return Vt;for(;la=hn.substr(0,er),ya=rn(la,Ee),!(ya+Dr>Hn&&ya>Hn);)if(Li.push(la),Hn-=ya,hn=hn.substr(er),!hn)return Li.join("");for(;la=hn.substr(0,1),ya=rn(la,Ee),!(ya+Dr>Hn);)if(Li.push(la),Hn-=ya,hn=hn.substr(1),!hn)return Li.join("");return""+Li.join("")+De},On=function(){function Vt(){this.map={}}return Vt.prototype.has=function(de){return this.map[de]!==void 0},Vt.prototype.get=function(de,Ee){var De=this.map[de];return De===void 0?Ee:De},Vt.prototype.set=function(de,Ee){this.map[de]=Ee},Vt.prototype.clear=function(){this.map={}},Vt.prototype.delete=function(de){delete this.map[de]},Vt.prototype.size=function(){return Object.keys(this.map).length},Vt}(),An=On},99581:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66974),O=v(46812),k=function(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];for(var A=_[0],C=1;C<_.length;C++){var E=_[C];O.default(E)&&(E=E.prototype),x.default(A.prototype,E)}};S.default=k},68039:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(){function x(){this.map={}}return x.prototype.has=function(O){return this.map[O]!==void 0},x.prototype.get=function(O,k){var _=this.map[O];return _===void 0?k:_},x.prototype.set=function(O,k){this.map[O]=k},x.prototype.clear=function(){this.map={}},x.prototype.delete=function(O){delete this.map[O]},x.prototype.size=function(){return Object.keys(this.map).length},x}();S.default=v},37339:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(x,O,k){return x<O?O:x>k?k:x};S.default=v},35755:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(x){var O=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;O(x)}S.default=v},8289:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=function(k){if(typeof k!="object"||k===null)return k;var _;if(x.default(k)){_=[];for(var T=0,A=k.length;T<A;T++)typeof k[T]=="object"&&k[T]!=null?_[T]=O(k[T]):_[T]=k[T]}else{_={};for(var C in k)typeof k[C]=="object"&&k[C]!=null?_[C]=O(k[C]):_[C]=k[C]}return _};S.default=O},75349:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(48102),O=function(k,_){return x.default(k)?k.indexOf(_)>-1:!1};S.default=O},79663:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(x,O,k){var _;return function(){var T=this,A=arguments,C=function(){_=null,k||x.apply(T,A)},E=k&&!_;clearTimeout(_),_=setTimeout(C,O),E&&x.apply(T,A)}}S.default=v},90497:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=v(15907),k=5;function _(A,C,E,g){E=E||0,g=g||k;for(var w in C)if(C.hasOwnProperty(w)){var y=C[w];y!==null&&O.default(y)?(O.default(A[w])||(A[w]={}),E<g?_(A[w],y,E+1,g):A[w]=C[w]):x.default(y)?(A[w]=[],A[w]=A[w].concat(y)):y!==void 0&&(A[w]=y)}}var T=function(A){for(var C=[],E=1;E<arguments.length;E++)C[E-1]=arguments[E];for(var g=0;g<C.length;g+=1)_(A,C[g]);return A};S.default=T},25430:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(40007),O=v(75349),k=function(_,T){return T===void 0&&(T=[]),x.default(_,function(A){return!O.default(T,A)})};S.default=k},27154:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=v(33643);function k(_,T){if(!!_){var A;if(x.default(_))for(var C=0,E=_.length;C<E&&(A=T(_[C],C),A!==!1);C++);else if(O.default(_)){for(var g in _)if(_.hasOwnProperty(g)&&(A=T(_[g],g),A===!1))break}}}S.default=k},61846:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=v(21830);function k(_,T){return x.default(_)||O.default(_)?_[_.length-1]===T:!1}S.default=k},8153:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(x,O){for(var k=0;k<x.length;k++)if(!O(x[k],k))return!1;return!0};S.default=v},13829:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66974),O=v(46812),k=function(_,T,A,C){O.default(T)||(A=T,T=_,_=function(){});var E=Object.create?function(w,y){return Object.create(w,{constructor:{value:y}})}:function(w,y){function m(){}m.prototype=w;var p=new m;return p.constructor=y,p},g=E(T.prototype,_);return _.prototype=x.default(g,_.prototype),_.superclass=E(T.prototype,T),x.default(g,A),x.default(_,C),_};S.default=k},40007:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(48102),O=function(k,_){if(!x.default(k))return k;for(var T=[],A=0;A<k.length;A++){var C=k[A];_(C,A)&&T.push(C)}return T};S.default=O},90871:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(x,O,k){k===void 0&&(k=0);for(var _=k;_<x.length;_++)if(O(x[_],_))return _;return-1}S.default=v},32114:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(46812),O=v(20253),k=v(66631),_=v(15907);function T(A,C){if(!k.default(A))return null;var E;if(x.default(C)&&(E=C),_.default(C)&&(E=function(w){return O.default(w,C)}),E){for(var g=0;g<A.length;g+=1)if(E(A[g]))return A[g]}return null}S.default=T},84521:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(73890),O=v(66631),k=function(_,T){for(var A=null,C=0;C<_.length;C++){var E=_[C],g=E[T];if(!x.default(g)){O.default(g)?A=g[0]:A=g;break}}return A};S.default=k},14266:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(x,O){var k=O.toString(),_=k.indexOf(".");if(_===-1)return Math.round(x);var T=k.substr(_+1).length;return T>20&&(T=20),parseFloat(x.toFixed(T))};S.default=v},61917:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=function(k,_){if(_===void 0&&(_=[]),!x.default(k))_.push(k);else for(var T=0;T<k.length;T+=1)O(k[T],_);return _};S.default=O},30267:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=function(k){if(!x.default(k))return[];for(var _=[],T=0;T<k.length;T++)_=_.concat(k[T]);return _};S.default=O},8361:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(27154);S.default=x.default},65616:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(21830),O=v(78127),k=v(13754);S.default=function(_,T,A,C){C===void 0&&(C="...");var E=16,g=k.default(C,A),w=x.default(_)?_:O.default(_),y=T,m=[],p,M;if(k.default(_,A)<=T)return _;for(;p=w.substr(0,E),M=k.default(p,A),!(M+g>y&&M>y);)if(m.push(p),y-=M,w=w.substr(E),!w)return m.join("");for(;p=w.substr(0,1),M=k.default(p,A),!(M+g>y);)if(m.push(p),y-=M,w=w.substr(1),!w)return m.join("");return""+m.join("")+C}},83236:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=v(14705),k=v(45356),_=function(T){var A=T.filter(function(y){return!isNaN(y)});if(!A.length)return{min:0,max:0};if(x.default(T[0])){for(var C=[],E=0;E<T.length;E++)C=C.concat(T[E]);A=C}var g=O.default(A),w=k.default(A);return{min:w,max:g}};S.default=_},89175:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v={}.toString,x=function(O){return v.call(O).replace(/^\[object /,"").replace(/]$/,"")};S.default=x},71668:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(x,O){return x["_wrap_"+O]}S.default=v},58070:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(21830);S.default=function(O,k,_){for(var T=0,A=x.default(k)?k.split("."):k;O&&T<A.length;)O=O[A[T++]];return O===void 0||T<A.length?_:O}},54544:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=v(46812),k=Object.prototype.hasOwnProperty;function _(T,A){if(!A||!x.default(T))return{};for(var C={},E=O.default(A)?A:function(m){return m[A]},g,w=0;w<T.length;w++){var y=T[w];g=E(y),k.call(C,g)?C[g].push(y):C[g]=[y]}return C}S.default=_},64725:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=v(46812),k=v(54544);function _(T,A){if(!A)return{0:T};if(!O.default(A)){var C=x.default(A)?A:A.replace(/\s+/g,"").split("*");A=function(E){for(var g="_",w=0,y=C.length;w<y;w++)g+=E[C[w]]&&E[C[w]].toString();return g}}return k.default(T,A)}S.default=_},93597:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(64725);S.default=function(O,k){if(!k)return[O];var _=x.default(O,k),T=[];for(var A in _)T.push(_[A]);return T}},97507:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(57921);S.default=x.default},99969:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(75349),O=v(91161);S.default=function(k,_){return x.default(O.default(k),_)}},57921:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(v,x){return v.hasOwnProperty(x)}},41169:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(48102);function O(k){if(x.default(k))return k[0]}S.default=O},80870:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(v){return v}},40035:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(48102),O=function(k,_){if(!x.default(k))return-1;var T=Array.prototype.indexOf;if(T)return T.call(k,_);for(var A=-1,C=0;C<k.length;C++)if(k[C]===_){A=C;break}return A};S.default=O},50229:function(ft,S,v){"use strict";var x;x={value:!0};var O=v(75349);x={enumerable:!0,get:function(){return O.default}},x={enumerable:!0,get:function(){return O.default}};var k=v(25430);x={enumerable:!0,get:function(){return k.default}};var _=v(32114);x={enumerable:!0,get:function(){return _.default}};var T=v(90871);x={enumerable:!0,get:function(){return T.default}};var A=v(84521);x={enumerable:!0,get:function(){return A.default}};var C=v(30267);x={enumerable:!0,get:function(){return C.default}};var E=v(61917);x={enumerable:!0,get:function(){return E.default}};var g=v(83236);x={enumerable:!0,get:function(){return g.default}};var w=v(5220);x={enumerable:!0,get:function(){return w.default}};var y=v(50779);x={enumerable:!0,get:function(){return y.default}};var m=v(13847);x={enumerable:!0,get:function(){return m.default}};var p=v(89757);x={enumerable:!0,get:function(){return p.default}};var M=v(27599);x={enumerable:!0,get:function(){return M.default}};var P=v(58632);x={enumerable:!0,get:function(){return P.default}};var B=v(12619);x={enumerable:!0,get:function(){return B.default}};var F=v(29208);x={enumerable:!0,get:function(){return F.default}};var W=v(41169);x={enumerable:!0,get:function(){return W.default}};var Q=v(95145);x={enumerable:!0,get:function(){return Q.default}};var H=v(680);x={enumerable:!0,get:function(){return H.default}};var Z=v(61846);x={enumerable:!0,get:function(){return Z.default}};var ot=v(40007);x={enumerable:!0,get:function(){return ot.default}};var rt=v(8153);x={enumerable:!0,get:function(){return rt.default}};var At=v(58175);x={enumerable:!0,get:function(){return At.default}};var pt=v(93597);x={enumerable:!0,get:function(){return pt.default}};var Ft=v(54544);x={enumerable:!0,get:function(){return Ft.default}};var Tt=v(64725);x={enumerable:!0,get:function(){return Tt.default}};var Ot=v(71668);x={enumerable:!0,get:function(){return Ot.default}};var xt=v(61262);Object.defineProperty(S,"Ko",{enumerable:!0,get:function(){return xt.default}});var ht=v(45145);x={enumerable:!0,get:function(){return ht.default}};var kt=v(85418);x={enumerable:!0,get:function(){return kt.default}};var Gt=v(37339);x={enumerable:!0,get:function(){return Gt.default}};var dt=v(14266);x={enumerable:!0,get:function(){return dt.default}};var tt=v(51008);x={enumerable:!0,get:function(){return tt.default}};var I=v(45420);x={enumerable:!0,get:function(){return I.default}};var u=v(68221);x={enumerable:!0,get:function(){return u.default}};var Y=v(58706);x={enumerable:!0,get:function(){return Y.default}};var G=v(39984);x={enumerable:!0,get:function(){return G.default}};var X=v(32705);x={enumerable:!0,get:function(){return X.default}};var U=v(75732);x={enumerable:!0,get:function(){return U.default}};var J=v(14705);x={enumerable:!0,get:function(){return J.default}};var lt=v(38935);x={enumerable:!0,get:function(){return lt.default}};var It=v(45356);x={enumerable:!0,get:function(){return It.default}};var bt=v(89857);x={enumerable:!0,get:function(){return bt.default}};var et=v(5253);x={enumerable:!0,get:function(){return et.default}};var Ct=v(2119);x={enumerable:!0,get:function(){return Ct.default}};var it=v(23196);x={enumerable:!0,get:function(){return it.default}};var st=v(9217);x={enumerable:!0,get:function(){return st.default}};var St=v(8361);x={enumerable:!0,get:function(){return St.default}};var at=v(57921);x={enumerable:!0,get:function(){return at.default}};var nt=v(97507);x={enumerable:!0,get:function(){return nt.default}};var mt=v(99969);x={enumerable:!0,get:function(){return mt.default}};var Dt=v(85050);x={enumerable:!0,get:function(){return Dt.default}};var ee=v(20253);x={enumerable:!0,get:function(){return ee.default}};var ce=v(91161);x={enumerable:!0,get:function(){return ce.default}};var le=v(88362);x={enumerable:!0,get:function(){return le.default}};var Xe=v(56095);x={enumerable:!0,get:function(){return Xe.default}};var Ie=v(35541);x={enumerable:!0,get:function(){return Ie.default}};var Re=v(72660);x={enumerable:!0,get:function(){return Re.default}};var or=v(85260);x={enumerable:!0,get:function(){return or.default}};var lr=v(89175);x={enumerable:!0,get:function(){return lr.default}};var Ir=v(55039);x={enumerable:!0,get:function(){return Ir.default}};var Er=v(66631);x={enumerable:!0,get:function(){return Er.default}};var on=v(48102);x={enumerable:!0,get:function(){return on.default}};var In=v(25873);x={enumerable:!0,get:function(){return In.default}};var fn=v(79396);x={enumerable:!0,get:function(){return fn.default}};var xn=v(14230);x={enumerable:!0,get:function(){return xn.default}};var $n=v(46812);x={enumerable:!0,get:function(){return $n.default}};var ui=v(73420);x={enumerable:!0,get:function(){return ui.default}};var Si=v(73890);x={enumerable:!0,get:function(){return Si.default}};var bi=v(85497);x={enumerable:!0,get:function(){return bi.default}};var $t=v(16185);x={enumerable:!0,get:function(){return $t.default}};var se=v(33643);x={enumerable:!0,get:function(){return se.default}};var ge=v(70441);x={enumerable:!0,get:function(){return ge.default}};var me=v(15907);x={enumerable:!0,get:function(){return me.default}};var ke=v(26296);x={enumerable:!0,get:function(){return ke.default}};var Fe=v(7877);x={enumerable:!0,get:function(){return Fe.default}};var Ne=v(21830);Object.defineProperty(S,"HD",{enumerable:!0,get:function(){return Ne.default}});var Ve=v(44235);x={enumerable:!0,get:function(){return Ve.default}};var Te=v(25523);x={enumerable:!0,get:function(){return Te.default}};var vr=v(58417);x={enumerable:!0,get:function(){return vr.default}};var qe=v(98229);x={enumerable:!0,get:function(){return qe.default}};var yr=v(35755);x={enumerable:!0,get:function(){return yr.default}};var Lr=v(99581);x={enumerable:!0,get:function(){return Lr.default}};var wr=v(8289);Object.defineProperty(S,"d9",{enumerable:!0,get:function(){return wr.default}});var kr=v(79663);x={enumerable:!0,get:function(){return kr.default}};var Br=v(99834);x={enumerable:!0,get:function(){return Br.default}};var Nr=v(90497);Object.defineProperty(S,"b$",{enumerable:!0,get:function(){return Nr.default}});var gr=v(27154);Object.defineProperty(S,"S6",{enumerable:!0,get:function(){return gr.default}});var Vr=v(13829);x={enumerable:!0,get:function(){return Vr.default}};var Qr=v(40035);x={enumerable:!0,get:function(){return Qr.default}};var zr=v(64029);x={enumerable:!0,get:function(){return zr.default}};var tn=v(212);x={enumerable:!0,get:function(){return tn.default}};var cn=v(18112);x={enumerable:!0,get:function(){return cn.default}};var Bt=v(92693);x={enumerable:!0,get:function(){return Bt.default}};var Ht=v(53497);x={enumerable:!0,get:function(){return Ht.default}};var ct=v(66974);x={enumerable:!0,get:function(){return ct.default}},x={enumerable:!0,get:function(){return ct.default}};var R=v(58070);x={enumerable:!0,get:function(){return R.default}};var N=v(64119);x={enumerable:!0,get:function(){return N.default}};var j=v(24263);x={enumerable:!0,get:function(){return j.default}};var _t=v(14179);x={enumerable:!0,get:function(){return _t.default}};var jt=v(60979);x={enumerable:!0,get:function(){return jt.default}};var Nt=v(66668);x={enumerable:!0,get:function(){return Nt.default}};var Ut=v(78127);x={enumerable:!0,get:function(){return Ut.default}};var Se=v(67250);x={enumerable:!0,get:function(){return Se.default}};var Me=v(26851);x={enumerable:!0,get:function(){return Me.default}};var Oe=v(80870);x={enumerable:!0,get:function(){return Oe.default}};var ir=v(30597);x={enumerable:!0,get:function(){return ir.default}};var We=v(13754);x={enumerable:!0,get:function(){return We.default}};var Cr=v(65616);x={enumerable:!0,get:function(){return Cr.default}};var en=v(68039);x={enumerable:!0,get:function(){return en.default}}},55039:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(44235),O=function(k){return x.default(k,"Arguments")};S.default=O},48102:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(x){return x!==null&&typeof x!="function"&&isFinite(x.length)};S.default=v},66631:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(44235);S.default=function(O){return Array.isArray?Array.isArray(O):x.default(O,"Array")}},25873:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(44235),O=function(k){return x.default(k,"Boolean")};S.default=O},79396:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(44235),O=function(k){return x.default(k,"Date")};S.default=O},51008:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(16185),O=function(k){return x.default(k)&&k%1!=0};S.default=O},58417:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(x){return x instanceof Element||x instanceof HTMLDocument};S.default=v},64029:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(73890),O=v(48102),k=v(89175),_=v(26296),T=Object.prototype.hasOwnProperty;function A(C){if(x.default(C))return!0;if(O.default(C))return!C.length;var E=k.default(C);if(E==="Map"||E==="Set")return!C.size;if(_.default(C))return!Object.keys(C).length;for(var g in C)if(T.call(C,g))return!1;return!0}S.default=A},18112:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(46812),O=v(212);S.default=function(k,_,T){return x.default(T)?!!T(k,_):O.default(k,_)}},212:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(70441),O=v(48102),k=v(21830),_=function(T,A){if(T===A)return!0;if(!T||!A||k.default(T)||k.default(A))return!1;if(O.default(T)||O.default(A)){if(T.length!==A.length)return!1;for(var C=!0,E=0;E<T.length&&(C=_(T[E],A[E]),!!C);E++);return C}if(x.default(T)||x.default(A)){var g=Object.keys(T),w=Object.keys(A);if(g.length!==w.length)return!1;for(var C=!0,E=0;E<g.length&&(C=_(T[g[E]],A[g[E]]),!!C);E++);return C}return!1};S.default=_},14230:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(44235),O=function(k){return x.default(k,"Error")};S.default=O},45420:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(16185),O=function(k){return x.default(k)&&k%2==0};S.default=O},73420:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(16185);function O(k){return x.default(k)&&isFinite(k)}S.default=O},46812:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(44235);S.default=function(O){return x.default(O,"Function")}},68221:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(16185),O=Number.isInteger?Number.isInteger:function(k){return x.default(k)&&k%1==0};S.default=O},20253:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(73890),O=v(85050);function k(_,T){var A=O.default(T),C=A.length;if(x.default(_))return!C;for(var E=0;E<C;E+=1){var g=A[E];if(T[g]!==_[g]||!(g in _))return!1}return!0}S.default=k},58706:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(16185),O=function(k){return x.default(k)&&k<0};S.default=O},73890:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(x){return x==null};S.default=v},85497:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(x){return x===null};S.default=v},39984:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=1e-5;function x(O,k,_){return _===void 0&&(_=v),Math.abs(O-k)<_}S.default=x},16185:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(44235),O=function(k){return x.default(k,"Number")};S.default=O},70441:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(x){return typeof x=="object"&&x!==null};S.default=v},33643:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(v){var x=typeof v;return v!==null&&x==="object"||x==="function"}},32705:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(16185),O=function(k){return x.default(k)&&k%2!=0};S.default=O},15907:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(70441),O=v(44235),k=function(_){if(!x.default(_)||!O.default(_,"Object"))return!1;if(Object.getPrototypeOf(_)===null)return!0;for(var T=_;Object.getPrototypeOf(T)!==null;)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(_)===T};S.default=k},75732:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(16185),O=function(k){return x.default(k)&&k>0};S.default=O},26296:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=Object.prototype,x=function(O){var k=O&&O.constructor,_=typeof k=="function"&&k.prototype||v;return O===_};S.default=x},7877:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(44235),O=function(k){return x.default(k,"RegExp")};S.default=O},21830:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(44235);S.default=function(O){return x.default(O,"String")}},44235:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v={}.toString,x=function(O,k){return v.call(O)==="[object "+k+"]"};S.default=x},25523:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(x){return x===void 0};S.default=v},85050:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(27154),O=v(46812),k=Object.keys?function(_){return Object.keys(_)}:function(_){var T=[];return x.default(_,function(A,C){O.default(_)&&C==="prototype"||T.push(C)}),T};S.default=k},95145:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(48102);function O(k){if(x.default(k)){var _=k;return _[_.length-1]}}S.default=O},88362:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(78127),O=function(k){return x.default(k).toLowerCase()};S.default=O},56095:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(78127),O=function(k){var _=x.default(k);return _.charAt(0).toLowerCase()+_.substring(1)};S.default=O},53497:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(73890),O=v(33643),k=function(_){return _};S.default=function(_,T){T===void 0&&(T=k);var A={};return O.default(_)&&!x.default(_)&&Object.keys(_).forEach(function(C){A[C]=T(_[C],C)}),A}},92693:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(48102),O=function(k,_){if(!x.default(k))return k;for(var T=[],A=0;A<k.length;A++){var C=k[A];T.push(_(C,A))}return T};S.default=O},38935:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=v(46812);S.default=function(k,_){if(!!x.default(k)){for(var T,A=-Infinity,C=0;C<k.length;C++){var E=k[C],g=O.default(_)?_(E):E[_];g>A&&(T=E,A=g)}return T}}},14705:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631);S.default=function(O){if(!!x.default(O))return O.reduce(function(k,_){return Math.max(k,_)},O[0])}},13754:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(65353),O=v(91161),k=v(99834),_=v(21830),T;S.default=k.default(function(A,C){C===void 0&&(C={});var E=C.fontSize,g=C.fontFamily,w=C.fontWeight,y=C.fontStyle,m=C.fontVariant;return T||(T=document.createElement("canvas").getContext("2d")),T.font=[y,m,w,E+"px",g].join(" "),T.measureText(_.default(A)?A:"").width},function(A,C){return C===void 0&&(C={}),x.__spreadArrays([A],O.default(C)).join("")})},99834:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(46812);S.default=function(O,k){if(!x.default(O))throw new TypeError("Expected a function");var _=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];var C=k?k.apply(this,T):T[0],E=_.cache;if(E.has(C))return E.get(C);var g=O.apply(this,T);return E.set(C,g),g};return _.cache=new Map,_}},89857:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=v(46812);S.default=function(k,_){if(!!x.default(k)){for(var T,A=Infinity,C=0;C<k.length;C++){var E=k[C],g=O.default(_)?_(E):E[_];g<A&&(T=E,A=g)}return T}}},45356:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631);S.default=function(O){if(!!x.default(O))return O.reduce(function(k,_){return Math.min(k,_)},O[0])}},66974:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(O,k){for(var _ in k)k.hasOwnProperty(_)&&_!=="constructor"&&k[_]!==void 0&&(O[_]=k[_])}function x(O,k,_,T){return k&&v(O,k),_&&v(O,_),T&&v(O,T),O}S.default=x},5253:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(x,O){return(x%O+O)%O};S.default=v},26851:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){}},45145:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v={};function x(O){var k=v[O];if(!k){for(var _=O.toString(16),T=_.length;T<6;T++)_="0"+_;k="#"+_,v[O]=k}return k}S.default=x},14179:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(13847);S.default=function(O,k){return x.default(O,function(_,T,A){return k.includes(A)||(_[A]=T),_},{})}},85418:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631);function O(k){var _=0,T=0,A=0,C=0;return x.default(k)?k.length===1?_=T=A=C=k[0]:k.length===2?(_=A=k[0],T=C=k[1]):k.length===3?(_=k[0],T=C=k[1],A=k[2]):(_=k[0],T=k[1],A=k[2],C=k[3]):_=T=A=C=k,{r1:_,r2:T,r3:A,r4:C}}S.default=O},24263:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(27154),O=v(15907),k=Object.prototype.hasOwnProperty;S.default=function(_,T){if(_===null||!O.default(_))return{};var A={};return x.default(T,function(C){k.call(_,C)&&(A[C]=_[C])}),A}},50779:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(48102),O=Array.prototype.splice,k=function(T,A){if(!x.default(T))return[];for(var C=T?A.length:0,E=C-1;C--;){var g=void 0,w=A[C];(C===E||w!==g)&&(g=w,O.call(T,w,1))}return T};S.default=k},5220:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=Array.prototype,x=v.splice,O=v.indexOf,k=function(_){for(var T=[],A=1;A<arguments.length;A++)T[A-1]=arguments[A];for(var C=0;C<T.length;C++)for(var E=T[C],g=-1;(g=O.call(_,E))>-1;)x.call(_,g,1);return _};S.default=k},13847:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(27154),O=v(66631),k=v(15907),_=function(T,A,C){if(!O.default(T)&&!k.default(T))return T;var E=C;return x.default(T,function(g,w){E=A(E,g,w)}),E};S.default=_},89757:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(48102),O=v(50779),k=function(_,T){var A=[];if(!x.default(_))return A;for(var C=-1,E=[],g=_.length;++C<g;){var w=_[C];T(w,C,_)&&(A.push(w),E.push(C))}return O.default(_,E),A};S.default=k},98229:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(x){var O=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(k){return setTimeout(k,16)};return O(x)}S.default=v},64119:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(33643),O=v(21830),k=v(16185);S.default=function(_,T,A){var C=_,E=O.default(T)?T.split("."):T;return E.forEach(function(g,w){w<E.length-1?(x.default(C[g])||(C[g]=k.default(E[w+1])?[]:{}),C=C[g]):C[g]=A}),_}},30597:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(73890),O=v(48102);function k(_){return x.default(_)?0:O.default(_)?_.length:Object.keys(_).length}S.default=k},58175:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=function(x,O){for(var k=0;k<x.length;k++)if(O(x[k],k))return!0;return!1};S.default=v},27599:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=v(21830),k=v(46812);function _(T,A){var C;if(k.default(A))C=function(g,w){return A(g)-A(w)};else{var E=[];O.default(A)?E.push(A):x.default(A)&&(E=A),C=function(g,w){for(var y=0;y<E.length;y+=1){var m=E[y];if(g[m]>w[m])return 1;if(g[m]<w[m])return-1}return 0}}return T.sort(C),T}S.default=_},680:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=v(21830);function k(_,T){return x.default(_)||O.default(_)?_[0]===T:!1}S.default=k},35541:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(x,O){return!x||!O?x:x.replace(/\\?\{([^{}]+)\}/g,function(k,_){return k.charAt(0)==="\\"?k.slice(1):O[_]===void 0?"":O[_]})}S.default=v},60979:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(v,x,O){var k,_,T,A,C=0;O||(O={});var E=function(){C=O.leading===!1?0:Date.now(),k=null,A=v.apply(_,T),k||(_=T=null)},g=function(){var w=Date.now();!C&&O.leading===!1&&(C=w);var y=x-(w-C);return _=this,T=arguments,y<=0||y>x?(k&&(clearTimeout(k),k=null),C=w,A=v.apply(_,T),k||(_=T=null)):!k&&O.trailing!==!1&&(k=setTimeout(E,y)),A};return g.cancel=function(){clearTimeout(k),C=0,k=_=T=null},g}},66668:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(48102);S.default=function(O){return x.default(O)?Array.prototype.slice.call(O):[]}},2119:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=180/Math.PI,x=function(O){return v*O};S.default=x},23196:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=parseInt},9217:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v=Math.PI/180,x=function(O){return v*O};S.default=x},78127:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(73890);S.default=function(O){return x.default(O)?"":O.toString()}},58632:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(12619),O=function(){for(var k=[],_=0;_<arguments.length;_++)k[_]=arguments[_];return x.default([].concat.apply([],k))};S.default=O},12619:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(x,O){O===void 0&&(O=new Map);var k=[];if(Array.isArray(x))for(var _=0,T=x.length;_<T;_++){var A=x[_];O.has(A)||(k.push(A),O.set(A,!0))}return k}S.default=v},67250:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var v={};S.default=function(x){return x=x||"g",v[x]?v[x]+=1:v[x]=1,x+v[x]}},72660:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(78127),O=function(k){return x.default(k).toUpperCase()};S.default=O},85260:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(78127),O=function(k){var _=x.default(k);return _.charAt(0).toUpperCase()+_.substring(1)};S.default=O},29208:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(66631),O=v(73890);S.default=function(k,_){for(var T=[],A={},C=0;C<k.length;C++){var E=k[C],g=E[_];if(!O.default(g)){x.default(g)||(g=[g]);for(var w=0;w<g.length;w++){var y=g[w];A[y]||(T.push(y),A[y]=!0)}}}return T}},91161:function(ft,S,v){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var x=v(27154),O=v(46812),k=Object.values?function(_){return Object.values(_)}:function(_){var T=[];return x.default(_,function(A,C){O.default(_)&&C==="prototype"||T.push(A)}),T};S.default=k},61262:function(ft,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function v(x,O){if(x["_wrap_"+O])return x["_wrap_"+O];var k=function(_){x[O](_)};return x["_wrap_"+O]=k,k}S.default=v},263:function(ft){function S(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}ft.exports=S,ft.exports.__esModule=!0,ft.exports.default=ft.exports},46507:function(ft){function S(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}ft.exports=S,ft.exports.__esModule=!0,ft.exports.default=ft.exports},6820:function(ft){function S(v,x){if(!Object.prototype.hasOwnProperty.call(v,x))throw new TypeError("attempted to use private field on non-instance");return v}ft.exports=S,ft.exports.__esModule=!0,ft.exports.default=ft.exports},82467:function(ft){var S=0;function v(x){return"__private_"+S+++"_"+x}ft.exports=v,ft.exports.__esModule=!0,ft.exports.default=ft.exports},21364:function(ft){function S(x,O){for(var k=0;k<O.length;k++){var _=O[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(x,_.key,_)}}function v(x,O,k){return O&&S(x.prototype,O),k&&S(x,k),Object.defineProperty(x,"prototype",{writable:!1}),x}ft.exports=v,ft.exports.__esModule=!0,ft.exports.default=ft.exports},25102:function(ft,S,v){var x=v(74752),O=v(63213),k=v(26416);function _(T){var A=O();return function(){var E=x(T),g;if(A){var w=x(this).constructor;g=Reflect.construct(E,arguments,w)}else g=E.apply(this,arguments);return k(this,g)}}ft.exports=_,ft.exports.__esModule=!0,ft.exports.default=ft.exports},28287:function(ft,S,v){var x=v(99039);function O(){return typeof Reflect!="undefined"&&Reflect.get?(ft.exports=O=Reflect.get.bind(),ft.exports.__esModule=!0,ft.exports.default=ft.exports):(ft.exports=O=function(_,T,A){var C=x(_,T);if(!!C){var E=Object.getOwnPropertyDescriptor(C,T);return E.get?E.get.call(arguments.length<3?_:A):E.value}},ft.exports.__esModule=!0,ft.exports.default=ft.exports),O.apply(this,arguments)}ft.exports=O,ft.exports.__esModule=!0,ft.exports.default=ft.exports},74752:function(ft){function S(v){return ft.exports=S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},ft.exports.__esModule=!0,ft.exports.default=ft.exports,S(v)}ft.exports=S,ft.exports.__esModule=!0,ft.exports.default=ft.exports},79764:function(ft,S,v){var x=v(31748);function O(k,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(_&&_.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),_&&x(k,_)}ft.exports=O,ft.exports.__esModule=!0,ft.exports.default=ft.exports},63213:function(ft){function S(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}ft.exports=S,ft.exports.__esModule=!0,ft.exports.default=ft.exports},26416:function(ft,S,v){var x=v(74770).default,O=v(263);function k(_,T){if(T&&(x(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(_)}ft.exports=k,ft.exports.__esModule=!0,ft.exports.default=ft.exports},35229:function(ft,S,v){var x=v(74770).default;function O(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ft.exports=O=function(){return k},ft.exports.__esModule=!0,ft.exports.default=ft.exports;var k={},_=Object.prototype,T=_.hasOwnProperty,A=typeof Symbol=="function"?Symbol:{},C=A.iterator||"@@iterator",E=A.asyncIterator||"@@asyncIterator",g=A.toStringTag||"@@toStringTag";function w(xt,ht,kt){return Object.defineProperty(xt,ht,{value:kt,enumerable:!0,configurable:!0,writable:!0}),xt[ht]}try{w({},"")}catch(xt){w=function(kt,Gt,dt){return kt[Gt]=dt}}function y(xt,ht,kt,Gt){var dt=ht&&ht.prototype instanceof M?ht:M,tt=Object.create(dt.prototype),I=new Ft(Gt||[]);return tt._invoke=function(u,Y,G){var X="suspendedStart";return function(U,J){if(X==="executing")throw new Error("Generator is already running");if(X==="completed"){if(U==="throw")throw J;return Ot()}for(G.method=U,G.arg=J;;){var lt=G.delegate;if(lt){var It=rt(lt,G);if(It){if(It===p)continue;return It}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(X==="suspendedStart")throw X="completed",G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);X="executing";var bt=m(u,Y,G);if(bt.type==="normal"){if(X=G.done?"completed":"suspendedYield",bt.arg===p)continue;return{value:bt.arg,done:G.done}}bt.type==="throw"&&(X="completed",G.method="throw",G.arg=bt.arg)}}}(xt,kt,I),tt}function m(xt,ht,kt){try{return{type:"normal",arg:xt.call(ht,kt)}}catch(Gt){return{type:"throw",arg:Gt}}}k.wrap=y;var p={};function M(){}function P(){}function B(){}var F={};w(F,C,function(){return this});var W=Object.getPrototypeOf,Q=W&&W(W(Tt([])));Q&&Q!==_&&T.call(Q,C)&&(F=Q);var H=B.prototype=M.prototype=Object.create(F);function Z(xt){["next","throw","return"].forEach(function(ht){w(xt,ht,function(kt){return this._invoke(ht,kt)})})}function ot(xt,ht){function kt(dt,tt,I,u){var Y=m(xt[dt],xt,tt);if(Y.type!=="throw"){var G=Y.arg,X=G.value;return X&&x(X)=="object"&&T.call(X,"__await")?ht.resolve(X.__await).then(function(U){kt("next",U,I,u)},function(U){kt("throw",U,I,u)}):ht.resolve(X).then(function(U){G.value=U,I(G)},function(U){return kt("throw",U,I,u)})}u(Y.arg)}var Gt;this._invoke=function(dt,tt){function I(){return new ht(function(u,Y){kt(dt,tt,u,Y)})}return Gt=Gt?Gt.then(I,I):I()}}function rt(xt,ht){var kt=xt.iterator[ht.method];if(kt===void 0){if(ht.delegate=null,ht.method==="throw"){if(xt.iterator.return&&(ht.method="return",ht.arg=void 0,rt(xt,ht),ht.method==="throw"))return p;ht.method="throw",ht.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var Gt=m(kt,xt.iterator,ht.arg);if(Gt.type==="throw")return ht.method="throw",ht.arg=Gt.arg,ht.delegate=null,p;var dt=Gt.arg;return dt?dt.done?(ht[xt.resultName]=dt.value,ht.next=xt.nextLoc,ht.method!=="return"&&(ht.method="next",ht.arg=void 0),ht.delegate=null,p):dt:(ht.method="throw",ht.arg=new TypeError("iterator result is not an object"),ht.delegate=null,p)}function At(xt){var ht={tryLoc:xt[0]};1 in xt&&(ht.catchLoc=xt[1]),2 in xt&&(ht.finallyLoc=xt[2],ht.afterLoc=xt[3]),this.tryEntries.push(ht)}function pt(xt){var ht=xt.completion||{};ht.type="normal",delete ht.arg,xt.completion=ht}function Ft(xt){this.tryEntries=[{tryLoc:"root"}],xt.forEach(At,this),this.reset(!0)}function Tt(xt){if(xt){var ht=xt[C];if(ht)return ht.call(xt);if(typeof xt.next=="function")return xt;if(!isNaN(xt.length)){var kt=-1,Gt=function dt(){for(;++kt<xt.length;)if(T.call(xt,kt))return dt.value=xt[kt],dt.done=!1,dt;return dt.value=void 0,dt.done=!0,dt};return Gt.next=Gt}}return{next:Ot}}function Ot(){return{value:void 0,done:!0}}return P.prototype=B,w(H,"constructor",B),w(B,"constructor",P),P.displayName=w(B,g,"GeneratorFunction"),k.isGeneratorFunction=function(xt){var ht=typeof xt=="function"&&xt.constructor;return!!ht&&(ht===P||(ht.displayName||ht.name)==="GeneratorFunction")},k.mark=function(xt){return Object.setPrototypeOf?Object.setPrototypeOf(xt,B):(xt.__proto__=B,w(xt,g,"GeneratorFunction")),xt.prototype=Object.create(H),xt},k.awrap=function(xt){return{__await:xt}},Z(ot.prototype),w(ot.prototype,E,function(){return this}),k.AsyncIterator=ot,k.async=function(xt,ht,kt,Gt,dt){dt===void 0&&(dt=Promise);var tt=new ot(y(xt,ht,kt,Gt),dt);return k.isGeneratorFunction(ht)?tt:tt.next().then(function(I){return I.done?I.value:tt.next()})},Z(H),w(H,g,"Generator"),w(H,C,function(){return this}),w(H,"toString",function(){return"[object Generator]"}),k.keys=function(xt){var ht=[];for(var kt in xt)ht.push(kt);return ht.reverse(),function Gt(){for(;ht.length;){var dt=ht.pop();if(dt in xt)return Gt.value=dt,Gt.done=!1,Gt}return Gt.done=!0,Gt}},k.values=Tt,Ft.prototype={constructor:Ft,reset:function(ht){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(pt),!ht)for(var kt in this)kt.charAt(0)==="t"&&T.call(this,kt)&&!isNaN(+kt.slice(1))&&(this[kt]=void 0)},stop:function(){this.done=!0;var ht=this.tryEntries[0].completion;if(ht.type==="throw")throw ht.arg;return this.rval},dispatchException:function(ht){if(this.done)throw ht;var kt=this;function Gt(G,X){return I.type="throw",I.arg=ht,kt.next=G,X&&(kt.method="next",kt.arg=void 0),!!X}for(var dt=this.tryEntries.length-1;dt>=0;--dt){var tt=this.tryEntries[dt],I=tt.completion;if(tt.tryLoc==="root")return Gt("end");if(tt.tryLoc<=this.prev){var u=T.call(tt,"catchLoc"),Y=T.call(tt,"finallyLoc");if(u&&Y){if(this.prev<tt.catchLoc)return Gt(tt.catchLoc,!0);if(this.prev<tt.finallyLoc)return Gt(tt.finallyLoc)}else if(u){if(this.prev<tt.catchLoc)return Gt(tt.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<tt.finallyLoc)return Gt(tt.finallyLoc)}}}},abrupt:function(ht,kt){for(var Gt=this.tryEntries.length-1;Gt>=0;--Gt){var dt=this.tryEntries[Gt];if(dt.tryLoc<=this.prev&&T.call(dt,"finallyLoc")&&this.prev<dt.finallyLoc){var tt=dt;break}}tt&&(ht==="break"||ht==="continue")&&tt.tryLoc<=kt&&kt<=tt.finallyLoc&&(tt=null);var I=tt?tt.completion:{};return I.type=ht,I.arg=kt,tt?(this.method="next",this.next=tt.finallyLoc,p):this.complete(I)},complete:function(ht,kt){if(ht.type==="throw")throw ht.arg;return ht.type==="break"||ht.type==="continue"?this.next=ht.arg:ht.type==="return"?(this.rval=this.arg=ht.arg,this.method="return",this.next="end"):ht.type==="normal"&&kt&&(this.next=kt),p},finish:function(ht){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Gt=this.tryEntries[kt];if(Gt.finallyLoc===ht)return this.complete(Gt.completion,Gt.afterLoc),pt(Gt),p}},catch:function(ht){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Gt=this.tryEntries[kt];if(Gt.tryLoc===ht){var dt=Gt.completion;if(dt.type==="throw"){var tt=dt.arg;pt(Gt)}return tt}}throw new Error("illegal catch attempt")},delegateYield:function(ht,kt,Gt){return this.delegate={iterator:Tt(ht),resultName:kt,nextLoc:Gt},this.method==="next"&&(this.arg=void 0),p}},k}ft.exports=O,ft.exports.__esModule=!0,ft.exports.default=ft.exports},31748:function(ft){function S(v,x){return ft.exports=S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,_){return k.__proto__=_,k},ft.exports.__esModule=!0,ft.exports.default=ft.exports,S(v,x)}ft.exports=S,ft.exports.__esModule=!0,ft.exports.default=ft.exports},99039:function(ft,S,v){var x=v(74752);function O(k,_){for(;!Object.prototype.hasOwnProperty.call(k,_)&&(k=x(k),k!==null););return k}ft.exports=O,ft.exports.__esModule=!0,ft.exports.default=ft.exports},74770:function(ft){function S(v){return ft.exports=S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},ft.exports.__esModule=!0,ft.exports.default=ft.exports,S(v)}ft.exports=S,ft.exports.__esModule=!0,ft.exports.default=ft.exports},62117:function(ft,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__metadata:function(){return C},__awaiter:function(){return E},__generator:function(){return g},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return m},__read:function(){return p},__spread:function(){return M},__spreadArrays:function(){return P},__await:function(){return B},__asyncGenerator:function(){return F},__asyncDelegator:function(){return W},__asyncValues:function(){return Q},__makeTemplateObject:function(){return H},__importStar:function(){return Z},__importDefault:function(){return ot},__classPrivateFieldGet:function(){return rt},__classPrivateFieldSet:function(){return At}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var x=function(Ft,Tt){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ot,xt){Ot.__proto__=xt}||function(Ot,xt){for(var ht in xt)xt.hasOwnProperty(ht)&&(Ot[ht]=xt[ht])},x(Ft,Tt)};function O(pt,Ft){x(pt,Ft);function Tt(){this.constructor=pt}pt.prototype=Ft===null?Object.create(Ft):(Tt.prototype=Ft.prototype,new Tt)}var k=function(){return k=Object.assign||function(Tt){for(var Ot,xt=1,ht=arguments.length;xt<ht;xt++){Ot=arguments[xt];for(var kt in Ot)Object.prototype.hasOwnProperty.call(Ot,kt)&&(Tt[kt]=Ot[kt])}return Tt},k.apply(this,arguments)};function _(pt,Ft){var Tt={};for(var Ot in pt)Object.prototype.hasOwnProperty.call(pt,Ot)&&Ft.indexOf(Ot)<0&&(Tt[Ot]=pt[Ot]);if(pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,Ot=Object.getOwnPropertySymbols(pt);xt<Ot.length;xt++)Ft.indexOf(Ot[xt])<0&&Object.prototype.propertyIsEnumerable.call(pt,Ot[xt])&&(Tt[Ot[xt]]=pt[Ot[xt]]);return Tt}function T(pt,Ft,Tt,Ot){var xt=arguments.length,ht=xt<3?Ft:Ot===null?Ot=Object.getOwnPropertyDescriptor(Ft,Tt):Ot,kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ht=Reflect.decorate(pt,Ft,Tt,Ot);else for(var Gt=pt.length-1;Gt>=0;Gt--)(kt=pt[Gt])&&(ht=(xt<3?kt(ht):xt>3?kt(Ft,Tt,ht):kt(Ft,Tt))||ht);return xt>3&&ht&&Object.defineProperty(Ft,Tt,ht),ht}function A(pt,Ft){return function(Tt,Ot){Ft(Tt,Ot,pt)}}function C(pt,Ft){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(pt,Ft)}function E(pt,Ft,Tt,Ot){function xt(ht){return ht instanceof Tt?ht:new Tt(function(kt){kt(ht)})}return new(Tt||(Tt=Promise))(function(ht,kt){function Gt(I){try{tt(Ot.next(I))}catch(u){kt(u)}}function dt(I){try{tt(Ot.throw(I))}catch(u){kt(u)}}function tt(I){I.done?ht(I.value):xt(I.value).then(Gt,dt)}tt((Ot=Ot.apply(pt,Ft||[])).next())})}function g(pt,Ft){var Tt={label:0,sent:function(){if(ht[0]&1)throw ht[1];return ht[1]},trys:[],ops:[]},Ot,xt,ht,kt;return kt={next:Gt(0),throw:Gt(1),return:Gt(2)},typeof Symbol=="function"&&(kt[Symbol.iterator]=function(){return this}),kt;function Gt(tt){return function(I){return dt([tt,I])}}function dt(tt){if(Ot)throw new TypeError("Generator is already executing.");for(;Tt;)try{if(Ot=1,xt&&(ht=tt[0]&2?xt.return:tt[0]?xt.throw||((ht=xt.return)&&ht.call(xt),0):xt.next)&&!(ht=ht.call(xt,tt[1])).done)return ht;switch(xt=0,ht&&(tt=[tt[0]&2,ht.value]),tt[0]){case 0:case 1:ht=tt;break;case 4:return Tt.label++,{value:tt[1],done:!1};case 5:Tt.label++,xt=tt[1],tt=[0];continue;case 7:tt=Tt.ops.pop(),Tt.trys.pop();continue;default:if(ht=Tt.trys,!(ht=ht.length>0&&ht[ht.length-1])&&(tt[0]===6||tt[0]===2)){Tt=0;continue}if(tt[0]===3&&(!ht||tt[1]>ht[0]&&tt[1]<ht[3])){Tt.label=tt[1];break}if(tt[0]===6&&Tt.label<ht[1]){Tt.label=ht[1],ht=tt;break}if(ht&&Tt.label<ht[2]){Tt.label=ht[2],Tt.ops.push(tt);break}ht[2]&&Tt.ops.pop(),Tt.trys.pop();continue}tt=Ft.call(pt,Tt)}catch(I){tt=[6,I],xt=0}finally{Ot=ht=0}if(tt[0]&5)throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}}function w(pt,Ft,Tt,Ot){Ot===void 0&&(Ot=Tt),pt[Ot]=Ft[Tt]}function y(pt,Ft){for(var Tt in pt)Tt!=="default"&&!Ft.hasOwnProperty(Tt)&&(Ft[Tt]=pt[Tt])}function m(pt){var Ft=typeof Symbol=="function"&&Symbol.iterator,Tt=Ft&&pt[Ft],Ot=0;if(Tt)return Tt.call(pt);if(pt&&typeof pt.length=="number")return{next:function(){return pt&&Ot>=pt.length&&(pt=void 0),{value:pt&&pt[Ot++],done:!pt}}};throw new TypeError(Ft?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(pt,Ft){var Tt=typeof Symbol=="function"&&pt[Symbol.iterator];if(!Tt)return pt;var Ot=Tt.call(pt),xt,ht=[],kt;try{for(;(Ft===void 0||Ft-- >0)&&!(xt=Ot.next()).done;)ht.push(xt.value)}catch(Gt){kt={error:Gt}}finally{try{xt&&!xt.done&&(Tt=Ot.return)&&Tt.call(Ot)}finally{if(kt)throw kt.error}}return ht}function M(){for(var pt=[],Ft=0;Ft<arguments.length;Ft++)pt=pt.concat(p(arguments[Ft]));return pt}function P(){for(var pt=0,Ft=0,Tt=arguments.length;Ft<Tt;Ft++)pt+=arguments[Ft].length;for(var Ot=Array(pt),xt=0,Ft=0;Ft<Tt;Ft++)for(var ht=arguments[Ft],kt=0,Gt=ht.length;kt<Gt;kt++,xt++)Ot[xt]=ht[kt];return Ot}function B(pt){return this instanceof B?(this.v=pt,this):new B(pt)}function F(pt,Ft,Tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot=Tt.apply(pt,Ft||[]),xt,ht=[];return xt={},kt("next"),kt("throw"),kt("return"),xt[Symbol.asyncIterator]=function(){return this},xt;function kt(Y){Ot[Y]&&(xt[Y]=function(G){return new Promise(function(X,U){ht.push([Y,G,X,U])>1||Gt(Y,G)})})}function Gt(Y,G){try{dt(Ot[Y](G))}catch(X){u(ht[0][3],X)}}function dt(Y){Y.value instanceof B?Promise.resolve(Y.value.v).then(tt,I):u(ht[0][2],Y)}function tt(Y){Gt("next",Y)}function I(Y){Gt("throw",Y)}function u(Y,G){Y(G),ht.shift(),ht.length&&Gt(ht[0][0],ht[0][1])}}function W(pt){var Ft,Tt;return Ft={},Ot("next"),Ot("throw",function(xt){throw xt}),Ot("return"),Ft[Symbol.iterator]=function(){return this},Ft;function Ot(xt,ht){Ft[xt]=pt[xt]?function(kt){return(Tt=!Tt)?{value:B(pt[xt](kt)),done:xt==="return"}:ht?ht(kt):kt}:ht}}function Q(pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ft=pt[Symbol.asyncIterator],Tt;return Ft?Ft.call(pt):(pt=typeof m=="function"?m(pt):pt[Symbol.iterator](),Tt={},Ot("next"),Ot("throw"),Ot("return"),Tt[Symbol.asyncIterator]=function(){return this},Tt);function Ot(ht){Tt[ht]=pt[ht]&&function(kt){return new Promise(function(Gt,dt){kt=pt[ht](kt),xt(Gt,dt,kt.done,kt.value)})}}function xt(ht,kt,Gt,dt){Promise.resolve(dt).then(function(tt){ht({value:tt,done:Gt})},kt)}}function H(pt,Ft){return Object.defineProperty?Object.defineProperty(pt,"raw",{value:Ft}):pt.raw=Ft,pt}function Z(pt){if(pt&&pt.__esModule)return pt;var Ft={};if(pt!=null)for(var Tt in pt)Object.hasOwnProperty.call(pt,Tt)&&(Ft[Tt]=pt[Tt]);return Ft.default=pt,Ft}function ot(pt){return pt&&pt.__esModule?pt:{default:pt}}function rt(pt,Ft){if(!Ft.has(pt))throw new TypeError("attempted to get private field on non-instance");return Ft.get(pt)}function At(pt,Ft,Tt){if(!Ft.has(pt))throw new TypeError("attempted to set private field on non-instance");return Ft.set(pt,Tt),Tt}},8108:function(ft,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__metadata:function(){return C},__awaiter:function(){return E},__generator:function(){return g},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return m},__read:function(){return p},__spread:function(){return M},__spreadArrays:function(){return P},__await:function(){return B},__asyncGenerator:function(){return F},__asyncDelegator:function(){return W},__asyncValues:function(){return Q},__makeTemplateObject:function(){return H},__importStar:function(){return Z},__importDefault:function(){return ot},__classPrivateFieldGet:function(){return rt},__classPrivateFieldSet:function(){return At}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var x=function(Ft,Tt){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ot,xt){Ot.__proto__=xt}||function(Ot,xt){for(var ht in xt)xt.hasOwnProperty(ht)&&(Ot[ht]=xt[ht])},x(Ft,Tt)};function O(pt,Ft){x(pt,Ft);function Tt(){this.constructor=pt}pt.prototype=Ft===null?Object.create(Ft):(Tt.prototype=Ft.prototype,new Tt)}var k=function(){return k=Object.assign||function(Tt){for(var Ot,xt=1,ht=arguments.length;xt<ht;xt++){Ot=arguments[xt];for(var kt in Ot)Object.prototype.hasOwnProperty.call(Ot,kt)&&(Tt[kt]=Ot[kt])}return Tt},k.apply(this,arguments)};function _(pt,Ft){var Tt={};for(var Ot in pt)Object.prototype.hasOwnProperty.call(pt,Ot)&&Ft.indexOf(Ot)<0&&(Tt[Ot]=pt[Ot]);if(pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,Ot=Object.getOwnPropertySymbols(pt);xt<Ot.length;xt++)Ft.indexOf(Ot[xt])<0&&Object.prototype.propertyIsEnumerable.call(pt,Ot[xt])&&(Tt[Ot[xt]]=pt[Ot[xt]]);return Tt}function T(pt,Ft,Tt,Ot){var xt=arguments.length,ht=xt<3?Ft:Ot===null?Ot=Object.getOwnPropertyDescriptor(Ft,Tt):Ot,kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ht=Reflect.decorate(pt,Ft,Tt,Ot);else for(var Gt=pt.length-1;Gt>=0;Gt--)(kt=pt[Gt])&&(ht=(xt<3?kt(ht):xt>3?kt(Ft,Tt,ht):kt(Ft,Tt))||ht);return xt>3&&ht&&Object.defineProperty(Ft,Tt,ht),ht}function A(pt,Ft){return function(Tt,Ot){Ft(Tt,Ot,pt)}}function C(pt,Ft){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(pt,Ft)}function E(pt,Ft,Tt,Ot){function xt(ht){return ht instanceof Tt?ht:new Tt(function(kt){kt(ht)})}return new(Tt||(Tt=Promise))(function(ht,kt){function Gt(I){try{tt(Ot.next(I))}catch(u){kt(u)}}function dt(I){try{tt(Ot.throw(I))}catch(u){kt(u)}}function tt(I){I.done?ht(I.value):xt(I.value).then(Gt,dt)}tt((Ot=Ot.apply(pt,Ft||[])).next())})}function g(pt,Ft){var Tt={label:0,sent:function(){if(ht[0]&1)throw ht[1];return ht[1]},trys:[],ops:[]},Ot,xt,ht,kt;return kt={next:Gt(0),throw:Gt(1),return:Gt(2)},typeof Symbol=="function"&&(kt[Symbol.iterator]=function(){return this}),kt;function Gt(tt){return function(I){return dt([tt,I])}}function dt(tt){if(Ot)throw new TypeError("Generator is already executing.");for(;Tt;)try{if(Ot=1,xt&&(ht=tt[0]&2?xt.return:tt[0]?xt.throw||((ht=xt.return)&&ht.call(xt),0):xt.next)&&!(ht=ht.call(xt,tt[1])).done)return ht;switch(xt=0,ht&&(tt=[tt[0]&2,ht.value]),tt[0]){case 0:case 1:ht=tt;break;case 4:return Tt.label++,{value:tt[1],done:!1};case 5:Tt.label++,xt=tt[1],tt=[0];continue;case 7:tt=Tt.ops.pop(),Tt.trys.pop();continue;default:if(ht=Tt.trys,!(ht=ht.length>0&&ht[ht.length-1])&&(tt[0]===6||tt[0]===2)){Tt=0;continue}if(tt[0]===3&&(!ht||tt[1]>ht[0]&&tt[1]<ht[3])){Tt.label=tt[1];break}if(tt[0]===6&&Tt.label<ht[1]){Tt.label=ht[1],ht=tt;break}if(ht&&Tt.label<ht[2]){Tt.label=ht[2],Tt.ops.push(tt);break}ht[2]&&Tt.ops.pop(),Tt.trys.pop();continue}tt=Ft.call(pt,Tt)}catch(I){tt=[6,I],xt=0}finally{Ot=ht=0}if(tt[0]&5)throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}}function w(pt,Ft,Tt,Ot){Ot===void 0&&(Ot=Tt),pt[Ot]=Ft[Tt]}function y(pt,Ft){for(var Tt in pt)Tt!=="default"&&!Ft.hasOwnProperty(Tt)&&(Ft[Tt]=pt[Tt])}function m(pt){var Ft=typeof Symbol=="function"&&Symbol.iterator,Tt=Ft&&pt[Ft],Ot=0;if(Tt)return Tt.call(pt);if(pt&&typeof pt.length=="number")return{next:function(){return pt&&Ot>=pt.length&&(pt=void 0),{value:pt&&pt[Ot++],done:!pt}}};throw new TypeError(Ft?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(pt,Ft){var Tt=typeof Symbol=="function"&&pt[Symbol.iterator];if(!Tt)return pt;var Ot=Tt.call(pt),xt,ht=[],kt;try{for(;(Ft===void 0||Ft-- >0)&&!(xt=Ot.next()).done;)ht.push(xt.value)}catch(Gt){kt={error:Gt}}finally{try{xt&&!xt.done&&(Tt=Ot.return)&&Tt.call(Ot)}finally{if(kt)throw kt.error}}return ht}function M(){for(var pt=[],Ft=0;Ft<arguments.length;Ft++)pt=pt.concat(p(arguments[Ft]));return pt}function P(){for(var pt=0,Ft=0,Tt=arguments.length;Ft<Tt;Ft++)pt+=arguments[Ft].length;for(var Ot=Array(pt),xt=0,Ft=0;Ft<Tt;Ft++)for(var ht=arguments[Ft],kt=0,Gt=ht.length;kt<Gt;kt++,xt++)Ot[xt]=ht[kt];return Ot}function B(pt){return this instanceof B?(this.v=pt,this):new B(pt)}function F(pt,Ft,Tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ot=Tt.apply(pt,Ft||[]),xt,ht=[];return xt={},kt("next"),kt("throw"),kt("return"),xt[Symbol.asyncIterator]=function(){return this},xt;function kt(Y){Ot[Y]&&(xt[Y]=function(G){return new Promise(function(X,U){ht.push([Y,G,X,U])>1||Gt(Y,G)})})}function Gt(Y,G){try{dt(Ot[Y](G))}catch(X){u(ht[0][3],X)}}function dt(Y){Y.value instanceof B?Promise.resolve(Y.value.v).then(tt,I):u(ht[0][2],Y)}function tt(Y){Gt("next",Y)}function I(Y){Gt("throw",Y)}function u(Y,G){Y(G),ht.shift(),ht.length&&Gt(ht[0][0],ht[0][1])}}function W(pt){var Ft,Tt;return Ft={},Ot("next"),Ot("throw",function(xt){throw xt}),Ot("return"),Ft[Symbol.iterator]=function(){return this},Ft;function Ot(xt,ht){Ft[xt]=pt[xt]?function(kt){return(Tt=!Tt)?{value:B(pt[xt](kt)),done:xt==="return"}:ht?ht(kt):kt}:ht}}function Q(pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ft=pt[Symbol.asyncIterator],Tt;return Ft?Ft.call(pt):(pt=typeof m=="function"?m(pt):pt[Symbol.iterator](),Tt={},Ot("next"),Ot("throw"),Ot("return"),Tt[Symbol.asyncIterator]=function(){return this},Tt);function Ot(ht){Tt[ht]=pt[ht]&&function(kt){return new Promise(function(Gt,dt){kt=pt[ht](kt),xt(Gt,dt,kt.done,kt.value)})}}function xt(ht,kt,Gt,dt){Promise.resolve(dt).then(function(tt){ht({value:tt,done:Gt})},kt)}}function H(pt,Ft){return Object.defineProperty?Object.defineProperty(pt,"raw",{value:Ft}):pt.raw=Ft,pt}function Z(pt){if(pt&&pt.__esModule)return pt;var Ft={};if(pt!=null)for(var Tt in pt)Object.hasOwnProperty.call(pt,Tt)&&(Ft[Tt]=pt[Tt]);return Ft.default=pt,Ft}function ot(pt){return pt&&pt.__esModule?pt:{default:pt}}function rt(pt,Ft){if(!Ft.has(pt))throw new TypeError("attempted to get private field on non-instance");return Ft.get(pt)}function At(pt,Ft,Tt){if(!Ft.has(pt))throw new TypeError("attempted to set private field on non-instance");return Ft.set(pt,Tt),Tt}},37651:function(ft,S,v){"use strict";var x,O=v(28287).default,k=v(74752).default,_=v(263).default,T=v(79764).default,A=v(25102).default,C=v(6820).default,E=v(82467).default,g=v(37306).default,w=v(66933).default,y=v(35229).default,m=v(46507).default,p=v(21364).default;x={value:!0};var M=v(44091),P=v(74805),B=" ".repeat(2),F=" ".repeat(4);function W(){return Q(this)}function Q(Bt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ct=Ht.maxRows,R=ct===void 0?15:ct,N=Ht.maxColumns,j=N===void 0?10:N,_t=Ht.maxNumSize,jt=_t===void 0?8:_t,Nt=Ht.padMinus,Ut=Nt===void 0?"auto":Nt;return"".concat(Bt.constructor.name,` {
`).concat(B,`[
`).concat(F).concat(H(Bt,R,j,jt,Ut),`
`).concat(B,`]
`).concat(B,"rows: ").concat(Bt.rows,`
`).concat(B,"columns: ").concat(Bt.columns,`
}`)}function H(Bt,Ht,ct,R,N){var j=Bt.rows,_t=Bt.columns,jt=Math.min(j,Ht),Nt=Math.min(_t,ct),Ut=[];if(N==="auto"){N=!1;t:for(var Se=0;Se<jt;Se++)for(var Me=0;Me<Nt;Me++)if(Bt.get(Se,Me)<0){N=!0;break t}}for(var Oe=0;Oe<jt;Oe++){for(var ir=[],We=0;We<Nt;We++)ir.push(Z(Bt.get(Oe,We),R,N));Ut.push("".concat(ir.join(" ")))}return Nt!==_t&&(Ut[Ut.length-1]+=" ... ".concat(_t-ct," more columns")),jt!==j&&Ut.push("... ".concat(j-Ht," more rows")),Ut.join(`
`.concat(F))}function Z(Bt,Ht,ct){return(Bt>=0&&ct?" ".concat(ot(Bt,Ht-1)):ot(Bt,Ht)).padEnd(Ht)}function ot(Bt,Ht){var ct=Bt.toString();if(ct.length<=Ht)return ct;var R=Bt.toFixed(Ht);if(R.length>Ht&&(R=Bt.toFixed(Math.max(0,Ht-(R.length-Ht)))),R.length<=Ht&&!R.startsWith("0.000")&&!R.startsWith("-0.000"))return R;var N=Bt.toExponential(Ht);return N.length>Ht&&(N=Bt.toExponential(Math.max(0,Ht-(N.length-Ht)))),N.slice(0)}function rt(Bt,Ht){Bt.prototype.add=function(R){return typeof R=="number"?this.addS(R):this.addM(R)},Bt.prototype.addS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)+R);return this},Bt.prototype.addM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)+R.get(N,j));return this},Bt.add=function(R,N){var j=new Ht(R);return j.add(N)},Bt.prototype.sub=function(R){return typeof R=="number"?this.subS(R):this.subM(R)},Bt.prototype.subS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)-R);return this},Bt.prototype.subM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)-R.get(N,j));return this},Bt.sub=function(R,N){var j=new Ht(R);return j.sub(N)},Bt.prototype.subtract=Bt.prototype.sub,Bt.prototype.subtractS=Bt.prototype.subS,Bt.prototype.subtractM=Bt.prototype.subM,Bt.subtract=Bt.sub,Bt.prototype.mul=function(R){return typeof R=="number"?this.mulS(R):this.mulM(R)},Bt.prototype.mulS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)*R);return this},Bt.prototype.mulM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)*R.get(N,j));return this},Bt.mul=function(R,N){var j=new Ht(R);return j.mul(N)},Bt.prototype.multiply=Bt.prototype.mul,Bt.prototype.multiplyS=Bt.prototype.mulS,Bt.prototype.multiplyM=Bt.prototype.mulM,Bt.multiply=Bt.mul,Bt.prototype.div=function(R){return typeof R=="number"?this.divS(R):this.divM(R)},Bt.prototype.divS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)/R);return this},Bt.prototype.divM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)/R.get(N,j));return this},Bt.div=function(R,N){var j=new Ht(R);return j.div(N)},Bt.prototype.divide=Bt.prototype.div,Bt.prototype.divideS=Bt.prototype.divS,Bt.prototype.divideM=Bt.prototype.divM,Bt.divide=Bt.div,Bt.prototype.mod=function(R){return typeof R=="number"?this.modS(R):this.modM(R)},Bt.prototype.modS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)%R);return this},Bt.prototype.modM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)%R.get(N,j));return this},Bt.mod=function(R,N){var j=new Ht(R);return j.mod(N)},Bt.prototype.modulus=Bt.prototype.mod,Bt.prototype.modulusS=Bt.prototype.modS,Bt.prototype.modulusM=Bt.prototype.modM,Bt.modulus=Bt.mod,Bt.prototype.and=function(R){return typeof R=="number"?this.andS(R):this.andM(R)},Bt.prototype.andS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)&R);return this},Bt.prototype.andM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)&R.get(N,j));return this},Bt.and=function(R,N){var j=new Ht(R);return j.and(N)},Bt.prototype.or=function(R){return typeof R=="number"?this.orS(R):this.orM(R)},Bt.prototype.orS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)|R);return this},Bt.prototype.orM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)|R.get(N,j));return this},Bt.or=function(R,N){var j=new Ht(R);return j.or(N)},Bt.prototype.xor=function(R){return typeof R=="number"?this.xorS(R):this.xorM(R)},Bt.prototype.xorS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)^R);return this},Bt.prototype.xorM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)^R.get(N,j));return this},Bt.xor=function(R,N){var j=new Ht(R);return j.xor(N)},Bt.prototype.leftShift=function(R){return typeof R=="number"?this.leftShiftS(R):this.leftShiftM(R)},Bt.prototype.leftShiftS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)<<R);return this},Bt.prototype.leftShiftM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)<<R.get(N,j));return this},Bt.leftShift=function(R,N){var j=new Ht(R);return j.leftShift(N)},Bt.prototype.signPropagatingRightShift=function(R){return typeof R=="number"?this.signPropagatingRightShiftS(R):this.signPropagatingRightShiftM(R)},Bt.prototype.signPropagatingRightShiftS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)>>R);return this},Bt.prototype.signPropagatingRightShiftM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)>>R.get(N,j));return this},Bt.signPropagatingRightShift=function(R,N){var j=new Ht(R);return j.signPropagatingRightShift(N)},Bt.prototype.rightShift=function(R){return typeof R=="number"?this.rightShiftS(R):this.rightShiftM(R)},Bt.prototype.rightShiftS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)>>>R);return this},Bt.prototype.rightShiftM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)>>>R.get(N,j));return this},Bt.rightShift=function(R,N){var j=new Ht(R);return j.rightShift(N)},Bt.prototype.zeroFillRightShift=Bt.prototype.rightShift,Bt.prototype.zeroFillRightShiftS=Bt.prototype.rightShiftS,Bt.prototype.zeroFillRightShiftM=Bt.prototype.rightShiftM,Bt.zeroFillRightShift=Bt.rightShift,Bt.prototype.not=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,~this.get(R,N));return this},Bt.not=function(R){var N=new Ht(R);return N.not()},Bt.prototype.abs=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.abs(this.get(R,N)));return this},Bt.abs=function(R){var N=new Ht(R);return N.abs()},Bt.prototype.acos=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.acos(this.get(R,N)));return this},Bt.acos=function(R){var N=new Ht(R);return N.acos()},Bt.prototype.acosh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.acosh(this.get(R,N)));return this},Bt.acosh=function(R){var N=new Ht(R);return N.acosh()},Bt.prototype.asin=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.asin(this.get(R,N)));return this},Bt.asin=function(R){var N=new Ht(R);return N.asin()},Bt.prototype.asinh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.asinh(this.get(R,N)));return this},Bt.asinh=function(R){var N=new Ht(R);return N.asinh()},Bt.prototype.atan=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.atan(this.get(R,N)));return this},Bt.atan=function(R){var N=new Ht(R);return N.atan()},Bt.prototype.atanh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.atanh(this.get(R,N)));return this},Bt.atanh=function(R){var N=new Ht(R);return N.atanh()},Bt.prototype.cbrt=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.cbrt(this.get(R,N)));return this},Bt.cbrt=function(R){var N=new Ht(R);return N.cbrt()},Bt.prototype.ceil=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.ceil(this.get(R,N)));return this},Bt.ceil=function(R){var N=new Ht(R);return N.ceil()},Bt.prototype.clz32=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.clz32(this.get(R,N)));return this},Bt.clz32=function(R){var N=new Ht(R);return N.clz32()},Bt.prototype.cos=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.cos(this.get(R,N)));return this},Bt.cos=function(R){var N=new Ht(R);return N.cos()},Bt.prototype.cosh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.cosh(this.get(R,N)));return this},Bt.cosh=function(R){var N=new Ht(R);return N.cosh()},Bt.prototype.exp=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.exp(this.get(R,N)));return this},Bt.exp=function(R){var N=new Ht(R);return N.exp()},Bt.prototype.expm1=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.expm1(this.get(R,N)));return this},Bt.expm1=function(R){var N=new Ht(R);return N.expm1()},Bt.prototype.floor=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.floor(this.get(R,N)));return this},Bt.floor=function(R){var N=new Ht(R);return N.floor()},Bt.prototype.fround=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.fround(this.get(R,N)));return this},Bt.fround=function(R){var N=new Ht(R);return N.fround()},Bt.prototype.log=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.log(this.get(R,N)));return this},Bt.log=function(R){var N=new Ht(R);return N.log()},Bt.prototype.log1p=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.log1p(this.get(R,N)));return this},Bt.log1p=function(R){var N=new Ht(R);return N.log1p()},Bt.prototype.log10=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.log10(this.get(R,N)));return this},Bt.log10=function(R){var N=new Ht(R);return N.log10()},Bt.prototype.log2=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.log2(this.get(R,N)));return this},Bt.log2=function(R){var N=new Ht(R);return N.log2()},Bt.prototype.round=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.round(this.get(R,N)));return this},Bt.round=function(R){var N=new Ht(R);return N.round()},Bt.prototype.sign=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.sign(this.get(R,N)));return this},Bt.sign=function(R){var N=new Ht(R);return N.sign()},Bt.prototype.sin=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.sin(this.get(R,N)));return this},Bt.sin=function(R){var N=new Ht(R);return N.sin()},Bt.prototype.sinh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.sinh(this.get(R,N)));return this},Bt.sinh=function(R){var N=new Ht(R);return N.sinh()},Bt.prototype.sqrt=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.sqrt(this.get(R,N)));return this},Bt.sqrt=function(R){var N=new Ht(R);return N.sqrt()},Bt.prototype.tan=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.tan(this.get(R,N)));return this},Bt.tan=function(R){var N=new Ht(R);return N.tan()},Bt.prototype.tanh=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.tanh(this.get(R,N)));return this},Bt.tanh=function(R){var N=new Ht(R);return N.tanh()},Bt.prototype.trunc=function(){for(var R=0;R<this.rows;R++)for(var N=0;N<this.columns;N++)this.set(R,N,Math.trunc(this.get(R,N)));return this},Bt.trunc=function(R){var N=new Ht(R);return N.trunc()},Bt.pow=function(R,N){var j=new Ht(R);return j.pow(N)},Bt.prototype.pow=function(R){return typeof R=="number"?this.powS(R):this.powM(R)},Bt.prototype.powS=function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,Math.pow(this.get(N,j),R));return this},Bt.prototype.powM=function(R){if(R=Ht.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,Math.pow(this.get(N,j),R.get(N,j)));return this}}function At(Bt,Ht,ct){var R=ct?Bt.rows:Bt.rows-1;if(Ht<0||Ht>R)throw new RangeError("Row index out of range")}function pt(Bt,Ht,ct){var R=ct?Bt.columns:Bt.columns-1;if(Ht<0||Ht>R)throw new RangeError("Column index out of range")}function Ft(Bt,Ht){if(Ht.to1DArray&&(Ht=Ht.to1DArray()),Ht.length!==Bt.columns)throw new RangeError("vector size must be the same as the number of columns");return Ht}function Tt(Bt,Ht){if(Ht.to1DArray&&(Ht=Ht.to1DArray()),Ht.length!==Bt.rows)throw new RangeError("vector size must be the same as the number of rows");return Ht}function Ot(Bt,Ht){if(!M.isAnyArray(Ht))throw new TypeError("row indices must be an array");for(var ct=0;ct<Ht.length;ct++)if(Ht[ct]<0||Ht[ct]>=Bt.rows)throw new RangeError("row indices are out of range")}function xt(Bt,Ht){if(!M.isAnyArray(Ht))throw new TypeError("column indices must be an array");for(var ct=0;ct<Ht.length;ct++)if(Ht[ct]<0||Ht[ct]>=Bt.columns)throw new RangeError("column indices are out of range")}function ht(Bt,Ht,ct,R,N){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Gt("startRow",Ht),Gt("endRow",ct),Gt("startColumn",R),Gt("endColumn",N),Ht>ct||R>N||Ht<0||Ht>=Bt.rows||ct<0||ct>=Bt.rows||R<0||R>=Bt.columns||N<0||N>=Bt.columns)throw new RangeError("Submatrix indices are out of range")}function kt(Bt){for(var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ct=[],R=0;R<Bt;R++)ct.push(Ht);return ct}function Gt(Bt,Ht){if(typeof Ht!="number")throw new TypeError("".concat(Bt," must be a number"))}function dt(Bt){if(Bt.isEmpty())throw new Error("Empty matrix has no elements to index")}function tt(Bt){for(var Ht=kt(Bt.rows),ct=0;ct<Bt.rows;++ct)for(var R=0;R<Bt.columns;++R)Ht[ct]+=Bt.get(ct,R);return Ht}function I(Bt){for(var Ht=kt(Bt.columns),ct=0;ct<Bt.rows;++ct)for(var R=0;R<Bt.columns;++R)Ht[R]+=Bt.get(ct,R);return Ht}function u(Bt){for(var Ht=0,ct=0;ct<Bt.rows;ct++)for(var R=0;R<Bt.columns;R++)Ht+=Bt.get(ct,R);return Ht}function Y(Bt){for(var Ht=kt(Bt.rows,1),ct=0;ct<Bt.rows;++ct)for(var R=0;R<Bt.columns;++R)Ht[ct]*=Bt.get(ct,R);return Ht}function G(Bt){for(var Ht=kt(Bt.columns,1),ct=0;ct<Bt.rows;++ct)for(var R=0;R<Bt.columns;++R)Ht[R]*=Bt.get(ct,R);return Ht}function X(Bt){for(var Ht=1,ct=0;ct<Bt.rows;ct++)for(var R=0;R<Bt.columns;R++)Ht*=Bt.get(ct,R);return Ht}function U(Bt,Ht,ct){for(var R=Bt.rows,N=Bt.columns,j=[],_t=0;_t<R;_t++){for(var jt=0,Nt=0,Ut=0,Se=0;Se<N;Se++)Ut=Bt.get(_t,Se)-ct[_t],jt+=Ut,Nt+=Ut*Ut;Ht?j.push((Nt-jt*jt/N)/(N-1)):j.push((Nt-jt*jt/N)/N)}return j}function J(Bt,Ht,ct){for(var R=Bt.rows,N=Bt.columns,j=[],_t=0;_t<N;_t++){for(var jt=0,Nt=0,Ut=0,Se=0;Se<R;Se++)Ut=Bt.get(Se,_t)-ct[_t],jt+=Ut,Nt+=Ut*Ut;Ht?j.push((Nt-jt*jt/R)/(R-1)):j.push((Nt-jt*jt/R)/R)}return j}function lt(Bt,Ht,ct){for(var R=Bt.rows,N=Bt.columns,j=R*N,_t=0,jt=0,Nt=0,Ut=0;Ut<R;Ut++)for(var Se=0;Se<N;Se++)Nt=Bt.get(Ut,Se)-ct,_t+=Nt,jt+=Nt*Nt;return Ht?(jt-_t*_t/j)/(j-1):(jt-_t*_t/j)/j}function It(Bt,Ht){for(var ct=0;ct<Bt.rows;ct++)for(var R=0;R<Bt.columns;R++)Bt.set(ct,R,Bt.get(ct,R)-Ht[ct])}function bt(Bt,Ht){for(var ct=0;ct<Bt.rows;ct++)for(var R=0;R<Bt.columns;R++)Bt.set(ct,R,Bt.get(ct,R)-Ht[R])}function et(Bt,Ht){for(var ct=0;ct<Bt.rows;ct++)for(var R=0;R<Bt.columns;R++)Bt.set(ct,R,Bt.get(ct,R)-Ht)}function Ct(Bt){for(var Ht=[],ct=0;ct<Bt.rows;ct++){for(var R=0,N=0;N<Bt.columns;N++)R+=Math.pow(Bt.get(ct,N),2)/(Bt.columns-1);Ht.push(Math.sqrt(R))}return Ht}function it(Bt,Ht){for(var ct=0;ct<Bt.rows;ct++)for(var R=0;R<Bt.columns;R++)Bt.set(ct,R,Bt.get(ct,R)/Ht[ct])}function st(Bt){for(var Ht=[],ct=0;ct<Bt.columns;ct++){for(var R=0,N=0;N<Bt.rows;N++)R+=Math.pow(Bt.get(N,ct),2)/(Bt.rows-1);Ht.push(Math.sqrt(R))}return Ht}function St(Bt,Ht){for(var ct=0;ct<Bt.rows;ct++)for(var R=0;R<Bt.columns;R++)Bt.set(ct,R,Bt.get(ct,R)/Ht[R])}function at(Bt){for(var Ht=Bt.size-1,ct=0,R=0;R<Bt.columns;R++)for(var N=0;N<Bt.rows;N++)ct+=Math.pow(Bt.get(N,R),2)/Ht;return Math.sqrt(ct)}function nt(Bt,Ht){for(var ct=0;ct<Bt.rows;ct++)for(var R=0;R<Bt.columns;R++)Bt.set(ct,R,Bt.get(ct,R)/Ht)}var mt=function(Bt){function Ht(){m(this,Ht)}return p(Ht,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(R){if(typeof R!="function")throw new TypeError("callback must be a function");for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)R.call(this,N,j);return this}},{key:"to1DArray",value:function(){for(var R=[],N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)R.push(this.get(N,j));return R}},{key:"to2DArray",value:function(){for(var R=[],N=0;N<this.rows;N++){R.push([]);for(var j=0;j<this.columns;j++)R[N].push(this.get(N,j))}return R}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var R=0;R<this.rows;R++)for(var N=0;N<=R;N++)if(this.get(R,N)!==this.get(N,R))return!1;return!0}return!1}},{key:"isDistance",value:function(){if(!this.isSymmetric())return!1;for(var R=0;R<this.rows;R++)if(this.get(R,R)!==0)return!1;return!0}},{key:"isEchelonForm",value:function(){for(var R=0,N=0,j=-1,_t=!0,jt=!1;R<this.rows&&_t;){for(N=0,jt=!1;N<this.columns&&jt===!1;)this.get(R,N)===0?N++:this.get(R,N)===1&&N>j?(jt=!0,j=N):(_t=!1,jt=!0);R++}return _t}},{key:"isReducedEchelonForm",value:function(){for(var R=0,N=0,j=-1,_t=!0,jt=!1;R<this.rows&&_t;){for(N=0,jt=!1;N<this.columns&&jt===!1;)this.get(R,N)===0?N++:this.get(R,N)===1&&N>j?(jt=!0,j=N):(_t=!1,jt=!0);for(var Nt=N+1;Nt<this.rows;Nt++)this.get(R,Nt)!==0&&(_t=!1);R++}return _t}},{key:"echelonForm",value:function(){for(var R=this.clone(),N=0,j=0;N<R.rows&&j<R.columns;){for(var _t=N,jt=N;jt<R.rows;jt++)R.get(jt,j)>R.get(_t,j)&&(_t=jt);if(R.get(_t,j)===0)j++;else{R.swapRows(N,_t);for(var Nt=R.get(N,j),Ut=j;Ut<R.columns;Ut++)R.set(N,Ut,R.get(N,Ut)/Nt);for(var Se=N+1;Se<R.rows;Se++){var Me=R.get(Se,j)/R.get(N,j);R.set(Se,j,0);for(var Oe=j+1;Oe<R.columns;Oe++)R.set(Se,Oe,R.get(Se,Oe)-R.get(N,Oe)*Me)}N++,j++}}return R}},{key:"reducedEchelonForm",value:function(){for(var R=this.echelonForm(),N=R.columns,j=R.rows,_t=j-1;_t>=0;)if(R.maxRow(_t)===0)_t--;else{for(var jt=0,Nt=!1;jt<j&&Nt===!1;)R.get(_t,jt)===1?Nt=!0:jt++;for(var Ut=0;Ut<_t;Ut++)for(var Se=R.get(Ut,jt),Me=jt;Me<N;Me++){var Oe=R.get(Ut,Me)-Se*R.get(_t,Me);R.set(Ut,Me,Oe)}_t--}return R}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof R!="object")throw new TypeError("options must be an object");var N=R.rows,j=N===void 0?1:N,_t=R.columns,jt=_t===void 0?1:_t;if(!Number.isInteger(j)||j<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(jt)||jt<=0)throw new TypeError("columns must be a positive integer");for(var Nt=new le(this.rows*j,this.columns*jt),Ut=0;Ut<j;Ut++)for(var Se=0;Se<jt;Se++)Nt.setSubMatrix(this,this.rows*Ut,this.columns*Se);return Nt}},{key:"fill",value:function(R){for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,R);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(R){At(this,R);for(var N=[],j=0;j<this.columns;j++)N.push(this.get(R,j));return N}},{key:"getRowVector",value:function(R){return le.rowVector(this.getRow(R))}},{key:"setRow",value:function(R,N){At(this,R),N=Ft(this,N);for(var j=0;j<this.columns;j++)this.set(R,j,N[j]);return this}},{key:"swapRows",value:function(R,N){At(this,R),At(this,N);for(var j=0;j<this.columns;j++){var _t=this.get(R,j);this.set(R,j,this.get(N,j)),this.set(N,j,_t)}return this}},{key:"getColumn",value:function(R){pt(this,R);for(var N=[],j=0;j<this.rows;j++)N.push(this.get(j,R));return N}},{key:"getColumnVector",value:function(R){return le.columnVector(this.getColumn(R))}},{key:"setColumn",value:function(R,N){pt(this,R),N=Tt(this,N);for(var j=0;j<this.rows;j++)this.set(j,R,N[j]);return this}},{key:"swapColumns",value:function(R,N){pt(this,R),pt(this,N);for(var j=0;j<this.rows;j++){var _t=this.get(j,R);this.set(j,R,this.get(j,N)),this.set(j,N,_t)}return this}},{key:"addRowVector",value:function(R){R=Ft(this,R);for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)+R[j]);return this}},{key:"subRowVector",value:function(R){R=Ft(this,R);for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)-R[j]);return this}},{key:"mulRowVector",value:function(R){R=Ft(this,R);for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)*R[j]);return this}},{key:"divRowVector",value:function(R){R=Ft(this,R);for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)/R[j]);return this}},{key:"addColumnVector",value:function(R){R=Tt(this,R);for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)+R[N]);return this}},{key:"subColumnVector",value:function(R){R=Tt(this,R);for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)-R[N]);return this}},{key:"mulColumnVector",value:function(R){R=Tt(this,R);for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)*R[N]);return this}},{key:"divColumnVector",value:function(R){R=Tt(this,R);for(var N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)this.set(N,j,this.get(N,j)/R[N]);return this}},{key:"mulRow",value:function(R,N){At(this,R);for(var j=0;j<this.columns;j++)this.set(R,j,this.get(R,j)*N);return this}},{key:"mulColumn",value:function(R,N){pt(this,R);for(var j=0;j<this.rows;j++)this.set(j,R,this.get(j,R)*N);return this}},{key:"max",value:function(R){if(this.isEmpty())return NaN;switch(R){case"row":{for(var N=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),j=0;j<this.rows;j++)for(var _t=0;_t<this.columns;_t++)this.get(j,_t)>N[j]&&(N[j]=this.get(j,_t));return N}case"column":{for(var jt=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),Nt=0;Nt<this.rows;Nt++)for(var Ut=0;Ut<this.columns;Ut++)this.get(Nt,Ut)>jt[Ut]&&(jt[Ut]=this.get(Nt,Ut));return jt}case void 0:{for(var Se=this.get(0,0),Me=0;Me<this.rows;Me++)for(var Oe=0;Oe<this.columns;Oe++)this.get(Me,Oe)>Se&&(Se=this.get(Me,Oe));return Se}default:throw new Error("invalid option: ".concat(R))}}},{key:"maxIndex",value:function(){dt(this);for(var R=this.get(0,0),N=[0,0],j=0;j<this.rows;j++)for(var _t=0;_t<this.columns;_t++)this.get(j,_t)>R&&(R=this.get(j,_t),N[0]=j,N[1]=_t);return N}},{key:"min",value:function(R){if(this.isEmpty())return NaN;switch(R){case"row":{for(var N=new Array(this.rows).fill(Number.POSITIVE_INFINITY),j=0;j<this.rows;j++)for(var _t=0;_t<this.columns;_t++)this.get(j,_t)<N[j]&&(N[j]=this.get(j,_t));return N}case"column":{for(var jt=new Array(this.columns).fill(Number.POSITIVE_INFINITY),Nt=0;Nt<this.rows;Nt++)for(var Ut=0;Ut<this.columns;Ut++)this.get(Nt,Ut)<jt[Ut]&&(jt[Ut]=this.get(Nt,Ut));return jt}case void 0:{for(var Se=this.get(0,0),Me=0;Me<this.rows;Me++)for(var Oe=0;Oe<this.columns;Oe++)this.get(Me,Oe)<Se&&(Se=this.get(Me,Oe));return Se}default:throw new Error("invalid option: ".concat(R))}}},{key:"minIndex",value:function(){dt(this);for(var R=this.get(0,0),N=[0,0],j=0;j<this.rows;j++)for(var _t=0;_t<this.columns;_t++)this.get(j,_t)<R&&(R=this.get(j,_t),N[0]=j,N[1]=_t);return N}},{key:"maxRow",value:function(R){if(At(this,R),this.isEmpty())return NaN;for(var N=this.get(R,0),j=1;j<this.columns;j++)this.get(R,j)>N&&(N=this.get(R,j));return N}},{key:"maxRowIndex",value:function(R){At(this,R),dt(this);for(var N=this.get(R,0),j=[R,0],_t=1;_t<this.columns;_t++)this.get(R,_t)>N&&(N=this.get(R,_t),j[1]=_t);return j}},{key:"minRow",value:function(R){if(At(this,R),this.isEmpty())return NaN;for(var N=this.get(R,0),j=1;j<this.columns;j++)this.get(R,j)<N&&(N=this.get(R,j));return N}},{key:"minRowIndex",value:function(R){At(this,R),dt(this);for(var N=this.get(R,0),j=[R,0],_t=1;_t<this.columns;_t++)this.get(R,_t)<N&&(N=this.get(R,_t),j[1]=_t);return j}},{key:"maxColumn",value:function(R){if(pt(this,R),this.isEmpty())return NaN;for(var N=this.get(0,R),j=1;j<this.rows;j++)this.get(j,R)>N&&(N=this.get(j,R));return N}},{key:"maxColumnIndex",value:function(R){pt(this,R),dt(this);for(var N=this.get(0,R),j=[0,R],_t=1;_t<this.rows;_t++)this.get(_t,R)>N&&(N=this.get(_t,R),j[0]=_t);return j}},{key:"minColumn",value:function(R){if(pt(this,R),this.isEmpty())return NaN;for(var N=this.get(0,R),j=1;j<this.rows;j++)this.get(j,R)<N&&(N=this.get(j,R));return N}},{key:"minColumnIndex",value:function(R){pt(this,R),dt(this);for(var N=this.get(0,R),j=[0,R],_t=1;_t<this.rows;_t++)this.get(_t,R)<N&&(N=this.get(_t,R),j[0]=_t);return j}},{key:"diag",value:function(){for(var R=Math.min(this.rows,this.columns),N=[],j=0;j<R;j++)N.push(this.get(j,j));return N}},{key:"norm",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius";switch(R){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError("unknown norm type: ".concat(R))}}},{key:"cumulativeSum",value:function(){for(var R=0,N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)R+=this.get(N,j),this.set(N,j,R);return this}},{key:"dot",value:function(R){Ht.isMatrix(R)&&(R=R.to1DArray());var N=this.to1DArray();if(N.length!==R.length)throw new RangeError("vectors do not have the same size");for(var j=0,_t=0;_t<N.length;_t++)j+=N[_t]*R[_t];return j}},{key:"mmul",value:function(R){R=le.checkMatrix(R);for(var N=this.rows,j=this.columns,_t=R.columns,jt=new le(N,_t),Nt=new Float64Array(j),Ut=0;Ut<_t;Ut++){for(var Se=0;Se<j;Se++)Nt[Se]=R.get(Se,Ut);for(var Me=0;Me<N;Me++){for(var Oe=0,ir=0;ir<j;ir++)Oe+=this.get(Me,ir)*Nt[ir];jt.set(Me,Ut,Oe)}}return jt}},{key:"strassen2x2",value:function(R){R=le.checkMatrix(R);var N=new le(2,2),j=this.get(0,0),_t=R.get(0,0),jt=this.get(0,1),Nt=R.get(0,1),Ut=this.get(1,0),Se=R.get(1,0),Me=this.get(1,1),Oe=R.get(1,1),ir=(j+Me)*(_t+Oe),We=(Ut+Me)*_t,Cr=j*(Nt-Oe),en=Me*(Se-_t),Be=(j+jt)*Oe,Ue=(Ut-j)*(_t+Nt),pr=(jt-Me)*(Se+Oe),Qt=ir+en-Be+pr,Yt=Cr+Be,ae=We+en,xe=ir-We+Cr+Ue;return N.set(0,0,Qt),N.set(0,1,Yt),N.set(1,0,ae),N.set(1,1,xe),N}},{key:"strassen3x3",value:function(R){R=le.checkMatrix(R);var N=new le(3,3),j=this.get(0,0),_t=this.get(0,1),jt=this.get(0,2),Nt=this.get(1,0),Ut=this.get(1,1),Se=this.get(1,2),Me=this.get(2,0),Oe=this.get(2,1),ir=this.get(2,2),We=R.get(0,0),Cr=R.get(0,1),en=R.get(0,2),Be=R.get(1,0),Ue=R.get(1,1),pr=R.get(1,2),Qt=R.get(2,0),Yt=R.get(2,1),ae=R.get(2,2),xe=(j+_t+jt-Nt-Ut-Oe-ir)*Ue,Le=(j-Nt)*(-Cr+Ue),Ke=Ut*(-We+Cr+Be-Ue-pr-Qt+ae),ur=(-j+Nt+Ut)*(We-Cr+Ue),dr=(Nt+Ut)*(-We+Cr),ar=j*We,gn=(-j+Me+Oe)*(We-en+pr),_n=(-j+Me)*(en-pr),Wt=(Me+Oe)*(-We+en),ne=(j+_t+jt-Ut-Se-Me-Oe)*pr,fe=Oe*(-We+en+Be-Ue-pr-Qt+Yt),Ce=(-jt+Oe+ir)*(Ue+Qt-Yt),Ae=(jt-ir)*(Ue-Yt),Ye=jt*Qt,cr=(Oe+ir)*(-Qt+Yt),sr=(-jt+Ut+Se)*(pr+Qt-ae),Lt=(jt-Se)*(pr-ae),gt=(Ut+Se)*(-Qt+ae),ut=_t*Be,Mt=Se*Yt,Xt=Nt*en,ie=Me*Cr,ve=ir*ae,be=ar+Ye+ut,we=xe+ur+dr+ar+Ce+Ye+cr,He=ar+gn+Wt+ne+Ye+sr+gt,$e=Le+Ke+ur+ar+Ye+sr+Lt,tr=Le+ur+dr+ar+Mt,Pr=Ye+sr+Lt+gt+Xt,rr=ar+gn+_n+fe+Ce+Ae+Ye,Je=Ce+Ae+Ye+cr+ie,Xr=ar+gn+_n+Wt+ve;return N.set(0,0,be),N.set(0,1,we),N.set(0,2,He),N.set(1,0,$e),N.set(1,1,tr),N.set(1,2,Pr),N.set(2,0,rr),N.set(2,1,Je),N.set(2,2,Xr),N}},{key:"mmulStrassen",value:function(R){R=le.checkMatrix(R);var N=this.clone(),j=N.rows,_t=N.columns,jt=R.rows,Nt=R.columns;_t!==jt&&console.warn("Multiplying ".concat(j," x ").concat(_t," and ").concat(jt," x ").concat(Nt," matrix: dimensions do not match."));function Ut(ir,We,Cr){var en=ir.rows,Be=ir.columns;if(en===We&&Be===Cr)return ir;var Ue=Ht.zeros(We,Cr);return Ue=Ue.setSubMatrix(ir,0,0),Ue}var Se=Math.max(j,jt),Me=Math.max(_t,Nt);N=Ut(N,Se,Me),R=Ut(R,Se,Me);function Oe(ir,We,Cr,en){if(Cr<=512||en<=512)return ir.mmul(We);Cr%2==1&&en%2==1?(ir=Ut(ir,Cr+1,en+1),We=Ut(We,Cr+1,en+1)):Cr%2==1?(ir=Ut(ir,Cr+1,en),We=Ut(We,Cr+1,en)):en%2==1&&(ir=Ut(ir,Cr,en+1),We=Ut(We,Cr,en+1));var Be=parseInt(ir.rows/2,10),Ue=parseInt(ir.columns/2,10),pr=ir.subMatrix(0,Be-1,0,Ue-1),Qt=We.subMatrix(0,Be-1,0,Ue-1),Yt=ir.subMatrix(0,Be-1,Ue,ir.columns-1),ae=We.subMatrix(0,Be-1,Ue,We.columns-1),xe=ir.subMatrix(Be,ir.rows-1,0,Ue-1),Le=We.subMatrix(Be,We.rows-1,0,Ue-1),Ke=ir.subMatrix(Be,ir.rows-1,Ue,ir.columns-1),ur=We.subMatrix(Be,We.rows-1,Ue,We.columns-1),dr=Oe(Ht.add(pr,Ke),Ht.add(Qt,ur),Be,Ue),ar=Oe(Ht.add(xe,Ke),Qt,Be,Ue),gn=Oe(pr,Ht.sub(ae,ur),Be,Ue),_n=Oe(Ke,Ht.sub(Le,Qt),Be,Ue),Wt=Oe(Ht.add(pr,Yt),ur,Be,Ue),ne=Oe(Ht.sub(xe,pr),Ht.add(Qt,ae),Be,Ue),fe=Oe(Ht.sub(Yt,Ke),Ht.add(Le,ur),Be,Ue),Ce=Ht.add(dr,_n);Ce.sub(Wt),Ce.add(fe);var Ae=Ht.add(gn,Wt),Ye=Ht.add(ar,_n),cr=Ht.sub(dr,ar);cr.add(gn),cr.add(ne);var sr=Ht.zeros(2*Ce.rows,2*Ce.columns);return sr=sr.setSubMatrix(Ce,0,0),sr=sr.setSubMatrix(Ae,Ce.rows,0),sr=sr.setSubMatrix(Ye,0,Ce.columns),sr=sr.setSubMatrix(cr,Ce.rows,Ce.columns),sr.subMatrix(0,Cr-1,0,en-1)}return Oe(N,R,Se,Me)}},{key:"scaleRows",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof R!="object")throw new TypeError("options must be an object");var N=R.min,j=N===void 0?0:N,_t=R.max,jt=_t===void 0?1:_t;if(!Number.isFinite(j))throw new TypeError("min must be a number");if(!Number.isFinite(jt))throw new TypeError("max must be a number");if(j>=jt)throw new RangeError("min must be smaller than max");for(var Nt=new le(this.rows,this.columns),Ut=0;Ut<this.rows;Ut++){var Se=this.getRow(Ut);Se.length>0&&P(Se,{min:j,max:jt,output:Se}),Nt.setRow(Ut,Se)}return Nt}},{key:"scaleColumns",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof R!="object")throw new TypeError("options must be an object");var N=R.min,j=N===void 0?0:N,_t=R.max,jt=_t===void 0?1:_t;if(!Number.isFinite(j))throw new TypeError("min must be a number");if(!Number.isFinite(jt))throw new TypeError("max must be a number");if(j>=jt)throw new RangeError("min must be smaller than max");for(var Nt=new le(this.rows,this.columns),Ut=0;Ut<this.columns;Ut++){var Se=this.getColumn(Ut);Se.length&&P(Se,{min:j,max:jt,output:Se}),Nt.setColumn(Ut,Se)}return Nt}},{key:"flipRows",value:function(){for(var R=Math.ceil(this.columns/2),N=0;N<this.rows;N++)for(var j=0;j<R;j++){var _t=this.get(N,j),jt=this.get(N,this.columns-1-j);this.set(N,j,jt),this.set(N,this.columns-1-j,_t)}return this}},{key:"flipColumns",value:function(){for(var R=Math.ceil(this.rows/2),N=0;N<this.columns;N++)for(var j=0;j<R;j++){var _t=this.get(j,N),jt=this.get(this.rows-1-j,N);this.set(j,N,jt),this.set(this.rows-1-j,N,_t)}return this}},{key:"kroneckerProduct",value:function(R){R=le.checkMatrix(R);for(var N=this.rows,j=this.columns,_t=R.rows,jt=R.columns,Nt=new le(N*_t,j*jt),Ut=0;Ut<N;Ut++)for(var Se=0;Se<j;Se++)for(var Me=0;Me<_t;Me++)for(var Oe=0;Oe<jt;Oe++)Nt.set(_t*Ut+Me,jt*Se+Oe,this.get(Ut,Se)*R.get(Me,Oe));return Nt}},{key:"kroneckerSum",value:function(R){if(R=le.checkMatrix(R),!this.isSquare()||!R.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var N=this.rows,j=R.rows,_t=this.kroneckerProduct(le.eye(j,j)),jt=le.eye(N,N).kroneckerProduct(R);return _t.add(jt)}},{key:"transpose",value:function(){for(var R=new le(this.columns,this.rows),N=0;N<this.rows;N++)for(var j=0;j<this.columns;j++)R.set(j,N,this.get(N,j));return R}},{key:"sortRows",value:function(){for(var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dt,N=0;N<this.rows;N++)this.setRow(N,this.getRow(N).sort(R));return this}},{key:"sortColumns",value:function(){for(var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dt,N=0;N<this.columns;N++)this.setColumn(N,this.getColumn(N).sort(R));return this}},{key:"subMatrix",value:function(R,N,j,_t){ht(this,R,N,j,_t);for(var jt=new le(N-R+1,_t-j+1),Nt=R;Nt<=N;Nt++)for(var Ut=j;Ut<=_t;Ut++)jt.set(Nt-R,Ut-j,this.get(Nt,Ut));return jt}},{key:"subMatrixRow",value:function(R,N,j){if(N===void 0&&(N=0),j===void 0&&(j=this.columns-1),N>j||N<0||N>=this.columns||j<0||j>=this.columns)throw new RangeError("Argument out of range");for(var _t=new le(R.length,j-N+1),jt=0;jt<R.length;jt++)for(var Nt=N;Nt<=j;Nt++){if(R[jt]<0||R[jt]>=this.rows)throw new RangeError("Row index out of range: ".concat(R[jt]));_t.set(jt,Nt-N,this.get(R[jt],Nt))}return _t}},{key:"subMatrixColumn",value:function(R,N,j){if(N===void 0&&(N=0),j===void 0&&(j=this.rows-1),N>j||N<0||N>=this.rows||j<0||j>=this.rows)throw new RangeError("Argument out of range");for(var _t=new le(j-N+1,R.length),jt=0;jt<R.length;jt++)for(var Nt=N;Nt<=j;Nt++){if(R[jt]<0||R[jt]>=this.columns)throw new RangeError("Column index out of range: ".concat(R[jt]));_t.set(Nt-N,jt,this.get(Nt,R[jt]))}return _t}},{key:"setSubMatrix",value:function(R,N,j){if(R=le.checkMatrix(R),R.isEmpty())return this;var _t=N+R.rows-1,jt=j+R.columns-1;ht(this,N,_t,j,jt);for(var Nt=0;Nt<R.rows;Nt++)for(var Ut=0;Ut<R.columns;Ut++)this.set(N+Nt,j+Ut,R.get(Nt,Ut));return this}},{key:"selection",value:function(R,N){Ot(this,R),xt(this,N);for(var j=new le(R.length,N.length),_t=0;_t<R.length;_t++)for(var jt=R[_t],Nt=0;Nt<N.length;Nt++){var Ut=N[Nt];j.set(_t,Nt,this.get(jt,Ut))}return j}},{key:"trace",value:function(){for(var R=Math.min(this.rows,this.columns),N=0,j=0;j<R;j++)N+=this.get(j,j);return N}},{key:"clone",value:function(){return this.constructor.copy(this,new le(this.rows,this.columns))}},{key:"sum",value:function(R){switch(R){case"row":return tt(this);case"column":return I(this);case void 0:return u(this);default:throw new Error("invalid option: ".concat(R))}}},{key:"product",value:function(R){switch(R){case"row":return Y(this);case"column":return G(this);case void 0:return X(this);default:throw new Error("invalid option: ".concat(R))}}},{key:"mean",value:function(R){var N=this.sum(R);switch(R){case"row":{for(var j=0;j<this.rows;j++)N[j]/=this.columns;return N}case"column":{for(var _t=0;_t<this.columns;_t++)N[_t]/=this.rows;return N}case void 0:return N/this.size;default:throw new Error("invalid option: ".concat(R))}}},{key:"variance",value:function(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof R=="object"&&(N=R,R=void 0),typeof N!="object")throw new TypeError("options must be an object");var j=N,_t=j.unbiased,jt=_t===void 0?!0:_t,Nt=j.mean,Ut=Nt===void 0?this.mean(R):Nt;if(typeof jt!="boolean")throw new TypeError("unbiased must be a boolean");switch(R){case"row":{if(!M.isAnyArray(Ut))throw new TypeError("mean must be an array");return U(this,jt,Ut)}case"column":{if(!M.isAnyArray(Ut))throw new TypeError("mean must be an array");return J(this,jt,Ut)}case void 0:{if(typeof Ut!="number")throw new TypeError("mean must be a number");return lt(this,jt,Ut)}default:throw new Error("invalid option: ".concat(R))}}},{key:"standardDeviation",value:function(R,N){typeof R=="object"&&(N=R,R=void 0);var j=this.variance(R,N);if(R===void 0)return Math.sqrt(j);for(var _t=0;_t<j.length;_t++)j[_t]=Math.sqrt(j[_t]);return j}},{key:"center",value:function(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof R=="object"&&(N=R,R=void 0),typeof N!="object")throw new TypeError("options must be an object");var j=N,_t=j.center,jt=_t===void 0?this.mean(R):_t;switch(R){case"row":{if(!M.isAnyArray(jt))throw new TypeError("center must be an array");return It(this,jt),this}case"column":{if(!M.isAnyArray(jt))throw new TypeError("center must be an array");return bt(this,jt),this}case void 0:{if(typeof jt!="number")throw new TypeError("center must be a number");return et(this,jt),this}default:throw new Error("invalid option: ".concat(R))}}},{key:"scale",value:function(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof R=="object"&&(N=R,R=void 0),typeof N!="object")throw new TypeError("options must be an object");var j=N.scale;switch(R){case"row":{if(j===void 0)j=Ct(this);else if(!M.isAnyArray(j))throw new TypeError("scale must be an array");return it(this,j),this}case"column":{if(j===void 0)j=st(this);else if(!M.isAnyArray(j))throw new TypeError("scale must be an array");return St(this,j),this}case void 0:{if(j===void 0)j=at(this);else if(typeof j!="number")throw new TypeError("scale must be a number");return nt(this,j),this}default:throw new Error("invalid option: ".concat(R))}}},{key:"toString",value:function(R){return Q(this,R)}},{key:Bt,value:function(){return this.entries()}},{key:"entries",value:y().mark(function ct(){var R,N;return y().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:R=0;case 1:if(!(R<this.rows)){_t.next=12;break}N=0;case 3:if(!(N<this.columns)){_t.next=9;break}return _t.next=6,[R,N,this.get(R,N)];case 6:N++,_t.next=3;break;case 9:R++,_t.next=1;break;case 12:case"end":return _t.stop()}},ct,this)})},{key:"values",value:y().mark(function ct(){var R,N;return y().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:R=0;case 1:if(!(R<this.rows)){_t.next=12;break}N=0;case 3:if(!(N<this.columns)){_t.next=9;break}return _t.next=6,this.get(R,N);case 6:N++,_t.next=3;break;case 9:R++,_t.next=1;break;case 12:case"end":return _t.stop()}},ct,this)})}],[{key:"from1DArray",value:function(R,N,j){var _t=R*N;if(_t!==j.length)throw new RangeError("data length does not match given dimensions");for(var jt=new le(R,N),Nt=0;Nt<R;Nt++)for(var Ut=0;Ut<N;Ut++)jt.set(Nt,Ut,j[Nt*N+Ut]);return jt}},{key:"rowVector",value:function(R){for(var N=new le(1,R.length),j=0;j<R.length;j++)N.set(0,j,R[j]);return N}},{key:"columnVector",value:function(R){for(var N=new le(R.length,1),j=0;j<R.length;j++)N.set(j,0,R[j]);return N}},{key:"zeros",value:function(R,N){return new le(R,N)}},{key:"ones",value:function(R,N){return new le(R,N).fill(1)}},{key:"rand",value:function(R,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof j!="object")throw new TypeError("options must be an object");for(var _t=j.random,jt=_t===void 0?Math.random:_t,Nt=new le(R,N),Ut=0;Ut<R;Ut++)for(var Se=0;Se<N;Se++)Nt.set(Ut,Se,jt());return Nt}},{key:"randInt",value:function(R,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof j!="object")throw new TypeError("options must be an object");var _t=j.min,jt=_t===void 0?0:_t,Nt=j.max,Ut=Nt===void 0?1e3:Nt,Se=j.random,Me=Se===void 0?Math.random:Se;if(!Number.isInteger(jt))throw new TypeError("min must be an integer");if(!Number.isInteger(Ut))throw new TypeError("max must be an integer");if(jt>=Ut)throw new RangeError("min must be smaller than max");for(var Oe=Ut-jt,ir=new le(R,N),We=0;We<R;We++)for(var Cr=0;Cr<N;Cr++){var en=jt+Math.round(Me()*Oe);ir.set(We,Cr,en)}return ir}},{key:"eye",value:function(R,N,j){N===void 0&&(N=R),j===void 0&&(j=1);for(var _t=Math.min(R,N),jt=this.zeros(R,N),Nt=0;Nt<_t;Nt++)jt.set(Nt,Nt,j);return jt}},{key:"diag",value:function(R,N,j){var _t=R.length;N===void 0&&(N=_t),j===void 0&&(j=N);for(var jt=Math.min(_t,N,j),Nt=this.zeros(N,j),Ut=0;Ut<jt;Ut++)Nt.set(Ut,Ut,R[Ut]);return Nt}},{key:"min",value:function(R,N){R=this.checkMatrix(R),N=this.checkMatrix(N);for(var j=R.rows,_t=R.columns,jt=new le(j,_t),Nt=0;Nt<j;Nt++)for(var Ut=0;Ut<_t;Ut++)jt.set(Nt,Ut,Math.min(R.get(Nt,Ut),N.get(Nt,Ut)));return jt}},{key:"max",value:function(R,N){R=this.checkMatrix(R),N=this.checkMatrix(N);for(var j=R.rows,_t=R.columns,jt=new this(j,_t),Nt=0;Nt<j;Nt++)for(var Ut=0;Ut<_t;Ut++)jt.set(Nt,Ut,Math.max(R.get(Nt,Ut),N.get(Nt,Ut)));return jt}},{key:"checkMatrix",value:function(R){return Ht.isMatrix(R)?R:new le(R)}},{key:"isMatrix",value:function(R){return R!=null&&R.klass==="Matrix"}},{key:"copy",value:function(R,N){var j=g(R.entries()),_t;try{for(j.s();!(_t=j.n()).done;){var jt=_t.value,Nt=w(jt,3),Ut=Nt[0],Se=Nt[1],Me=Nt[2];N.set(Ut,Se,Me)}}catch(Oe){j.e(Oe)}finally{j.f()}return N}}]),Ht}(Symbol.iterator);mt.prototype.klass="Matrix",typeof Symbol!="undefined"&&(mt.prototype[Symbol.for("nodejs.util.inspect.custom")]=W);function Dt(Bt,Ht){return Bt-Ht}function ee(Bt){return Bt.every(function(Ht){return typeof Ht=="number"})}mt.random=mt.rand,mt.randomInt=mt.randInt,mt.diagonal=mt.diag,mt.prototype.diagonal=mt.prototype.diag,mt.identity=mt.eye,mt.prototype.negate=mt.prototype.neg,mt.prototype.tensorProduct=mt.prototype.kroneckerProduct;var ce=E("initData"),le=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R,N){var j;if(m(this,ct),j=Ht.call(this),Object.defineProperty(_(j),ce,{value:Xe}),j.data=void 0,ct.isMatrix(R))C(_(j),ce)[ce](R.rows,R.columns),ct.copy(R,_(j));else if(Number.isInteger(R)&&R>=0)C(_(j),ce)[ce](R,N);else if(M.isAnyArray(R)){var _t=R;if(R=_t.length,N=R?_t[0].length:0,typeof N!="number")throw new TypeError("Data must be a 2D array with at least one element");j.data=[];for(var jt=0;jt<R;jt++){if(_t[jt].length!==N)throw new RangeError("Inconsistent array dimensions");if(!ee(_t[jt]))throw new TypeError("Input data contains non-numeric values");j.data.push(Float64Array.from(_t[jt]))}j.rows=R,j.columns=N}else throw new TypeError("First argument must be a positive number or an array");return j}return p(ct,[{key:"set",value:function(N,j,_t){return this.data[N][j]=_t,this}},{key:"get",value:function(N,j){return this.data[N][j]}},{key:"removeRow",value:function(N){return At(this,N),this.data.splice(N,1),this.rows-=1,this}},{key:"addRow",value:function(N,j){return j===void 0&&(j=N,N=this.rows),At(this,N,!0),j=Float64Array.from(Ft(this,j)),this.data.splice(N,0,j),this.rows+=1,this}},{key:"removeColumn",value:function(N){pt(this,N);for(var j=0;j<this.rows;j++){for(var _t=new Float64Array(this.columns-1),jt=0;jt<N;jt++)_t[jt]=this.data[j][jt];for(var Nt=N+1;Nt<this.columns;Nt++)_t[Nt-1]=this.data[j][Nt];this.data[j]=_t}return this.columns-=1,this}},{key:"addColumn",value:function(N,j){typeof j=="undefined"&&(j=N,N=this.columns),pt(this,N,!0),j=Tt(this,j);for(var _t=0;_t<this.rows;_t++){for(var jt=new Float64Array(this.columns+1),Nt=0;Nt<N;Nt++)jt[Nt]=this.data[_t][Nt];for(jt[Nt++]=j[_t];Nt<this.columns+1;Nt++)jt[Nt]=this.data[_t][Nt-1];this.data[_t]=jt}return this.columns+=1,this}}]),ct}(mt);function Xe(Bt,Ht){if(this.data=[],Number.isInteger(Ht)&&Ht>=0)for(var ct=0;ct<Bt;ct++)this.data.push(new Float64Array(Ht));else throw new TypeError("nColumns must be a positive integer");this.rows=Bt,this.columns=Ht}rt(mt,le);var Ie=E("matrix"),Re=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R){var N;if(m(this,ct),N=Ht.call(this),Object.defineProperty(_(N),Ie,{writable:!0,value:void 0}),le.isMatrix(R)){if(!R.isSymmetric())throw new TypeError("not symmetric data");C(_(N),Ie)[Ie]=le.copy(R,new le(R.rows,R.rows))}else if(Number.isInteger(R)&&R>=0)C(_(N),Ie)[Ie]=new le(R,R);else if(C(_(N),Ie)[Ie]=new le(R),!N.isSymmetric())throw new TypeError("not symmetric data");return N}return p(ct,[{key:"size",get:function(){return C(this,Ie)[Ie].size}},{key:"rows",get:function(){return C(this,Ie)[Ie].rows}},{key:"columns",get:function(){return C(this,Ie)[Ie].columns}},{key:"diagonalSize",get:function(){return this.rows}},{key:"clone",value:function(){var N=new ct(this.diagonalSize),j=g(this.upperRightEntries()),_t;try{for(j.s();!(_t=j.n()).done;){var jt=_t.value,Nt=w(jt,3),Ut=Nt[0],Se=Nt[1],Me=Nt[2];N.set(Ut,Se,Me)}}catch(Oe){j.e(Oe)}finally{j.f()}return N}},{key:"toMatrix",value:function(){return new le(this)}},{key:"get",value:function(N,j){return C(this,Ie)[Ie].get(N,j)}},{key:"set",value:function(N,j,_t){return C(this,Ie)[Ie].set(N,j,_t),C(this,Ie)[Ie].set(j,N,_t),this}},{key:"removeCross",value:function(N){return C(this,Ie)[Ie].removeRow(N),C(this,Ie)[Ie].removeColumn(N),this}},{key:"addCross",value:function(N,j){j===void 0&&(j=N,N=this.diagonalSize);var _t=j.slice();return _t.splice(N,1),C(this,Ie)[Ie].addRow(N,_t),C(this,Ie)[Ie].addColumn(N,j),this}},{key:"applyMask",value:function(N){if(N.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");var j=[],_t=g(N.entries()),jt;try{for(_t.s();!(jt=_t.n()).done;){var Nt=jt.value,Ut=w(Nt,2),Se=Ut[0],Me=Ut[1];Me||j.push(Se)}}catch(Cr){_t.e(Cr)}finally{_t.f()}j.reverse();for(var Oe=0,ir=j;Oe<ir.length;Oe++){var We=ir[Oe];this.removeCross(We)}return this}},{key:"toCompact",value:function(){for(var N=this.diagonalSize,j=new Array(N*(N+1)/2),_t=0,jt=0,Nt=0;Nt<j.length;Nt++)j[Nt]=this.get(jt,_t),++_t>=N&&(_t=++jt);return j}},{key:"upperRightEntries",value:y().mark(function R(){var N,j,_t;return y().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:N=0,j=0;case 1:if(!(N<this.diagonalSize)){Nt.next=9;break}return _t=this.get(N,j),Nt.next=5,[N,j,_t];case 5:++j>=this.diagonalSize&&(j=++N);case 6:Nt.next=1;break;case 9:case"end":return Nt.stop()}},R,this)})},{key:"upperRightValues",value:y().mark(function R(){var N,j,_t;return y().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:N=0,j=0;case 1:if(!(N<this.diagonalSize)){Nt.next=9;break}return _t=this.get(N,j),Nt.next=5,_t;case 5:++j>=this.diagonalSize&&(j=++N);case 6:Nt.next=1;break;case 9:case"end":return Nt.stop()}},R,this)})}],[{key:"isSymmetricMatrix",value:function(N){return le.isMatrix(N)&&N.klassType==="SymmetricMatrix"}},{key:"zeros",value:function(N){return new this(N)}},{key:"ones",value:function(N){return new this(N).fill(1)}},{key:"fromCompact",value:function(N){var j=N.length,_t=(Math.sqrt(8*j+1)-1)/2;if(!Number.isInteger(_t))throw new TypeError("This array is not a compact representation of a Symmetric Matrix, ".concat(JSON.stringify(N)));for(var jt=new ct(_t),Nt=0,Ut=0,Se=0;Se<j;Se++)jt.set(Nt,Ut,N[Se]),++Nt>=_t&&(Nt=++Ut);return jt}}]),ct}(mt);Re.prototype.klassType="SymmetricMatrix";var or=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R){var N;if(m(this,ct),N=Ht.call(this,R),!N.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix");return N}return p(ct,[{key:"set",value:function(N,j,_t){return N===j&&(_t=0),O(k(ct.prototype),"set",this).call(this,N,j,_t)}},{key:"addCross",value:function(N,j){return j===void 0&&(j=N,N=this.diagonalSize),j=j.slice(),j[N]=0,O(k(ct.prototype),"addCross",this).call(this,N,j)}},{key:"toSymmetricMatrix",value:function(){return new Re(this)}},{key:"clone",value:function(){var N=new ct(this.diagonalSize),j=g(this.upperRightEntries()),_t;try{for(j.s();!(_t=j.n()).done;){var jt=_t.value,Nt=w(jt,3),Ut=Nt[0],Se=Nt[1],Me=Nt[2];Ut!==Se&&N.set(Ut,Se,Me)}}catch(Oe){j.e(Oe)}finally{j.f()}return N}},{key:"toCompact",value:function(){for(var N=this.diagonalSize,j=(N-1)*N/2,_t=new Array(j),jt=1,Nt=0,Ut=0;Ut<_t.length;Ut++)_t[Ut]=this.get(Nt,jt),++jt>=N&&(jt=++Nt+1);return _t}}],[{key:"isDistanceMatrix",value:function(N){return Re.isSymmetricMatrix(N)&&N.klassSubType==="DistanceMatrix"}},{key:"fromCompact",value:function(N){var j=N.length,_t=(Math.sqrt(8*j+1)+1)/2;if(!Number.isInteger(_t))throw new TypeError("This array is not a compact representation of a DistanceMatrix, ".concat(JSON.stringify(N)));for(var jt=new this(_t),Nt=1,Ut=0,Se=0;Se<j;Se++)jt.set(Nt,Ut,N[Se]),++Nt>=_t&&(Nt=++Ut+1);return jt}}]),ct}(Re);or.prototype.klassSubType="DistanceMatrix";var lr=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R,N,j){var _t;return m(this,ct),_t=Ht.call(this),_t.matrix=R,_t.rows=N,_t.columns=j,_t}return p(ct)}(mt),Ir=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R,N){var j;return m(this,ct),pt(R,N),j=Ht.call(this,R,R.rows,1),j.column=N,j}return p(ct,[{key:"set",value:function(N,j,_t){return this.matrix.set(N,this.column,_t),this}},{key:"get",value:function(N){return this.matrix.get(N,this.column)}}]),ct}(lr),Er=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R,N){var j;return m(this,ct),xt(R,N),j=Ht.call(this,R,R.rows,N.length),j.columnIndices=N,j}return p(ct,[{key:"set",value:function(N,j,_t){return this.matrix.set(N,this.columnIndices[j],_t),this}},{key:"get",value:function(N,j){return this.matrix.get(N,this.columnIndices[j])}}]),ct}(lr),on=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R){return m(this,ct),Ht.call(this,R,R.rows,R.columns)}return p(ct,[{key:"set",value:function(N,j,_t){return this.matrix.set(N,this.columns-j-1,_t),this}},{key:"get",value:function(N,j){return this.matrix.get(N,this.columns-j-1)}}]),ct}(lr),In=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R){return m(this,ct),Ht.call(this,R,R.rows,R.columns)}return p(ct,[{key:"set",value:function(N,j,_t){return this.matrix.set(this.rows-N-1,j,_t),this}},{key:"get",value:function(N,j){return this.matrix.get(this.rows-N-1,j)}}]),ct}(lr),fn=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R,N){var j;return m(this,ct),At(R,N),j=Ht.call(this,R,1,R.columns),j.row=N,j}return p(ct,[{key:"set",value:function(N,j,_t){return this.matrix.set(this.row,j,_t),this}},{key:"get",value:function(N,j){return this.matrix.get(this.row,j)}}]),ct}(lr),xn=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R,N){var j;return m(this,ct),Ot(R,N),j=Ht.call(this,R,N.length,R.columns),j.rowIndices=N,j}return p(ct,[{key:"set",value:function(N,j,_t){return this.matrix.set(this.rowIndices[N],j,_t),this}},{key:"get",value:function(N,j){return this.matrix.get(this.rowIndices[N],j)}}]),ct}(lr),$n=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R,N,j){var _t;return m(this,ct),Ot(R,N),xt(R,j),_t=Ht.call(this,R,N.length,j.length),_t.rowIndices=N,_t.columnIndices=j,_t}return p(ct,[{key:"set",value:function(N,j,_t){return this.matrix.set(this.rowIndices[N],this.columnIndices[j],_t),this}},{key:"get",value:function(N,j){return this.matrix.get(this.rowIndices[N],this.columnIndices[j])}}]),ct}(lr),ui=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R,N,j,_t,jt){var Nt;return m(this,ct),ht(R,N,j,_t,jt),Nt=Ht.call(this,R,j-N+1,jt-_t+1),Nt.startRow=N,Nt.startColumn=_t,Nt}return p(ct,[{key:"set",value:function(N,j,_t){return this.matrix.set(this.startRow+N,this.startColumn+j,_t),this}},{key:"get",value:function(N,j){return this.matrix.get(this.startRow+N,this.startColumn+j)}}]),ct}(lr),Si=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R){return m(this,ct),Ht.call(this,R,R.columns,R.rows)}return p(ct,[{key:"set",value:function(N,j,_t){return this.matrix.set(j,N,_t),this}},{key:"get",value:function(N,j){return this.matrix.get(j,N)}}]),ct}(lr),bi=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R){var N,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};m(this,ct);var _t=j.rows,jt=_t===void 0?1:_t;if(R.length%jt!=0)throw new Error("the data length is not divisible by the number of rows");return N=Ht.call(this),N.rows=jt,N.columns=R.length/jt,N.data=R,N}return p(ct,[{key:"set",value:function(N,j,_t){var jt=this._calculateIndex(N,j);return this.data[jt]=_t,this}},{key:"get",value:function(N,j){var _t=this._calculateIndex(N,j);return this.data[_t]}},{key:"_calculateIndex",value:function(N,j){return N*this.columns+j}}]),ct}(mt),$t=function(Bt){T(ct,Bt);var Ht=A(ct);function ct(R){var N;return m(this,ct),N=Ht.call(this),N.data=R,N.rows=R.length,N.columns=R[0].length,N}return p(ct,[{key:"set",value:function(N,j,_t){return this.data[N][j]=_t,this}},{key:"get",value:function(N,j){return this.data[N][j]}}]),ct}(mt);function se(Bt,Ht){if(M.isAnyArray(Bt))return Bt[0]&&M.isAnyArray(Bt[0])?new $t(Bt):new bi(Bt,Ht);throw new Error("the argument is not an array")}var ge=function(){function Bt(Ht){m(this,Bt),Ht=$t.checkMatrix(Ht);var ct=Ht.clone(),R=ct.rows,N=ct.columns,j=new Float64Array(R),_t=1,jt,Nt,Ut,Se,Me,Oe,ir,We,Cr;for(jt=0;jt<R;jt++)j[jt]=jt;for(We=new Float64Array(R),Nt=0;Nt<N;Nt++){for(jt=0;jt<R;jt++)We[jt]=ct.get(jt,Nt);for(jt=0;jt<R;jt++){for(Cr=Math.min(jt,Nt),Me=0,Ut=0;Ut<Cr;Ut++)Me+=ct.get(jt,Ut)*We[Ut];We[jt]-=Me,ct.set(jt,Nt,We[jt])}for(Se=Nt,jt=Nt+1;jt<R;jt++)Math.abs(We[jt])>Math.abs(We[Se])&&(Se=jt);if(Se!==Nt){for(Ut=0;Ut<N;Ut++)Oe=ct.get(Se,Ut),ct.set(Se,Ut,ct.get(Nt,Ut)),ct.set(Nt,Ut,Oe);ir=j[Se],j[Se]=j[Nt],j[Nt]=ir,_t=-_t}if(Nt<R&&ct.get(Nt,Nt)!==0)for(jt=Nt+1;jt<R;jt++)ct.set(jt,Nt,ct.get(jt,Nt)/ct.get(Nt,Nt))}this.LU=ct,this.pivotVector=j,this.pivotSign=_t}return p(Bt,[{key:"isSingular",value:function(){for(var ct=this.LU,R=ct.columns,N=0;N<R;N++)if(ct.get(N,N)===0)return!0;return!1}},{key:"solve",value:function(ct){ct=le.checkMatrix(ct);var R=this.LU,N=R.rows;if(N!==ct.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var j=ct.columns,_t=ct.subMatrixRow(this.pivotVector,0,j-1),jt=R.columns,Nt,Ut,Se;for(Se=0;Se<jt;Se++)for(Nt=Se+1;Nt<jt;Nt++)for(Ut=0;Ut<j;Ut++)_t.set(Nt,Ut,_t.get(Nt,Ut)-_t.get(Se,Ut)*R.get(Nt,Se));for(Se=jt-1;Se>=0;Se--){for(Ut=0;Ut<j;Ut++)_t.set(Se,Ut,_t.get(Se,Ut)/R.get(Se,Se));for(Nt=0;Nt<Se;Nt++)for(Ut=0;Ut<j;Ut++)_t.set(Nt,Ut,_t.get(Nt,Ut)-_t.get(Se,Ut)*R.get(Nt,Se))}return _t}},{key:"determinant",get:function(){var ct=this.LU;if(!ct.isSquare())throw new Error("Matrix must be square");for(var R=this.pivotSign,N=ct.columns,j=0;j<N;j++)R*=ct.get(j,j);return R}},{key:"lowerTriangularMatrix",get:function(){for(var ct=this.LU,R=ct.rows,N=ct.columns,j=new le(R,N),_t=0;_t<R;_t++)for(var jt=0;jt<N;jt++)_t>jt?j.set(_t,jt,ct.get(_t,jt)):_t===jt?j.set(_t,jt,1):j.set(_t,jt,0);return j}},{key:"upperTriangularMatrix",get:function(){for(var ct=this.LU,R=ct.rows,N=ct.columns,j=new le(R,N),_t=0;_t<R;_t++)for(var jt=0;jt<N;jt++)_t<=jt?j.set(_t,jt,ct.get(_t,jt)):j.set(_t,jt,0);return j}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),Bt}();function me(Bt,Ht){var ct=0;return Math.abs(Bt)>Math.abs(Ht)?(ct=Ht/Bt,Math.abs(Bt)*Math.sqrt(1+ct*ct)):Ht!==0?(ct=Bt/Ht,Math.abs(Ht)*Math.sqrt(1+ct*ct)):0}var ke=function(){function Bt(Ht){m(this,Bt),Ht=$t.checkMatrix(Ht);var ct=Ht.clone(),R=Ht.rows,N=Ht.columns,j=new Float64Array(N),_t,jt,Nt,Ut;for(Nt=0;Nt<N;Nt++){var Se=0;for(_t=Nt;_t<R;_t++)Se=me(Se,ct.get(_t,Nt));if(Se!==0){for(ct.get(Nt,Nt)<0&&(Se=-Se),_t=Nt;_t<R;_t++)ct.set(_t,Nt,ct.get(_t,Nt)/Se);for(ct.set(Nt,Nt,ct.get(Nt,Nt)+1),jt=Nt+1;jt<N;jt++){for(Ut=0,_t=Nt;_t<R;_t++)Ut+=ct.get(_t,Nt)*ct.get(_t,jt);for(Ut=-Ut/ct.get(Nt,Nt),_t=Nt;_t<R;_t++)ct.set(_t,jt,ct.get(_t,jt)+Ut*ct.get(_t,Nt))}}j[Nt]=-Se}this.QR=ct,this.Rdiag=j}return p(Bt,[{key:"solve",value:function(ct){ct=le.checkMatrix(ct);var R=this.QR,N=R.rows;if(ct.rows!==N)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var j=ct.columns,_t=ct.clone(),jt=R.columns,Nt,Ut,Se,Me;for(Se=0;Se<jt;Se++)for(Ut=0;Ut<j;Ut++){for(Me=0,Nt=Se;Nt<N;Nt++)Me+=R.get(Nt,Se)*_t.get(Nt,Ut);for(Me=-Me/R.get(Se,Se),Nt=Se;Nt<N;Nt++)_t.set(Nt,Ut,_t.get(Nt,Ut)+Me*R.get(Nt,Se))}for(Se=jt-1;Se>=0;Se--){for(Ut=0;Ut<j;Ut++)_t.set(Se,Ut,_t.get(Se,Ut)/this.Rdiag[Se]);for(Nt=0;Nt<Se;Nt++)for(Ut=0;Ut<j;Ut++)_t.set(Nt,Ut,_t.get(Nt,Ut)-_t.get(Se,Ut)*R.get(Nt,Se))}return _t.subMatrix(0,jt-1,0,j-1)}},{key:"isFullRank",value:function(){for(var ct=this.QR.columns,R=0;R<ct;R++)if(this.Rdiag[R]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var ct=this.QR,R=ct.columns,N=new le(R,R),j,_t;for(j=0;j<R;j++)for(_t=0;_t<R;_t++)j<_t?N.set(j,_t,ct.get(j,_t)):j===_t?N.set(j,_t,this.Rdiag[j]):N.set(j,_t,0);return N}},{key:"orthogonalMatrix",get:function(){var ct=this.QR,R=ct.rows,N=ct.columns,j=new le(R,N),_t,jt,Nt,Ut;for(Nt=N-1;Nt>=0;Nt--){for(_t=0;_t<R;_t++)j.set(_t,Nt,0);for(j.set(Nt,Nt,1),jt=Nt;jt<N;jt++)if(ct.get(Nt,Nt)!==0){for(Ut=0,_t=Nt;_t<R;_t++)Ut+=ct.get(_t,Nt)*j.get(_t,jt);for(Ut=-Ut/ct.get(Nt,Nt),_t=Nt;_t<R;_t++)j.set(_t,jt,j.get(_t,jt)+Ut*ct.get(_t,Nt))}}return j}}]),Bt}(),Fe=function(){function Bt(Ht){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(m(this,Bt),Ht=$t.checkMatrix(Ht),Ht.isEmpty())throw new Error("Matrix must be non-empty");var R=Ht.rows,N=Ht.columns,j=ct.computeLeftSingularVectors,_t=j===void 0?!0:j,jt=ct.computeRightSingularVectors,Nt=jt===void 0?!0:jt,Ut=ct.autoTranspose,Se=Ut===void 0?!1:Ut,Me=Boolean(_t),Oe=Boolean(Nt),ir=!1,We;if(R<N)if(!Se)We=Ht.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{We=Ht.transpose(),R=We.rows,N=We.columns,ir=!0;var Cr=Me;Me=Oe,Oe=Cr}else We=Ht.clone();for(var en=Math.min(R,N),Be=Math.min(R+1,N),Ue=new Float64Array(Be),pr=new le(R,en),Qt=new le(N,N),Yt=new Float64Array(N),ae=new Float64Array(R),xe=new Float64Array(Be),Le=0;Le<Be;Le++)xe[Le]=Le;for(var Ke=Math.min(R-1,N),ur=Math.max(0,Math.min(N-2,R)),dr=Math.max(Ke,ur),ar=0;ar<dr;ar++){if(ar<Ke){Ue[ar]=0;for(var gn=ar;gn<R;gn++)Ue[ar]=me(Ue[ar],We.get(gn,ar));if(Ue[ar]!==0){We.get(ar,ar)<0&&(Ue[ar]=-Ue[ar]);for(var _n=ar;_n<R;_n++)We.set(_n,ar,We.get(_n,ar)/Ue[ar]);We.set(ar,ar,We.get(ar,ar)+1)}Ue[ar]=-Ue[ar]}for(var Wt=ar+1;Wt<N;Wt++){if(ar<Ke&&Ue[ar]!==0){for(var ne=0,fe=ar;fe<R;fe++)ne+=We.get(fe,ar)*We.get(fe,Wt);ne=-ne/We.get(ar,ar);for(var Ce=ar;Ce<R;Ce++)We.set(Ce,Wt,We.get(Ce,Wt)+ne*We.get(Ce,ar))}Yt[Wt]=We.get(ar,Wt)}if(Me&&ar<Ke)for(var Ae=ar;Ae<R;Ae++)pr.set(Ae,ar,We.get(Ae,ar));if(ar<ur){Yt[ar]=0;for(var Ye=ar+1;Ye<N;Ye++)Yt[ar]=me(Yt[ar],Yt[Ye]);if(Yt[ar]!==0){Yt[ar+1]<0&&(Yt[ar]=0-Yt[ar]);for(var cr=ar+1;cr<N;cr++)Yt[cr]/=Yt[ar];Yt[ar+1]+=1}if(Yt[ar]=-Yt[ar],ar+1<R&&Yt[ar]!==0){for(var sr=ar+1;sr<R;sr++)ae[sr]=0;for(var Lt=ar+1;Lt<R;Lt++)for(var gt=ar+1;gt<N;gt++)ae[Lt]+=Yt[gt]*We.get(Lt,gt);for(var ut=ar+1;ut<N;ut++)for(var Mt=-Yt[ut]/Yt[ar+1],Xt=ar+1;Xt<R;Xt++)We.set(Xt,ut,We.get(Xt,ut)+Mt*ae[Xt])}if(Oe)for(var ie=ar+1;ie<N;ie++)Qt.set(ie,ar,Yt[ie])}}var ve=Math.min(N,R+1);if(Ke<N&&(Ue[Ke]=We.get(Ke,Ke)),R<ve&&(Ue[ve-1]=0),ur+1<ve&&(Yt[ur]=We.get(ur,ve-1)),Yt[ve-1]=0,Me){for(var be=Ke;be<en;be++){for(var we=0;we<R;we++)pr.set(we,be,0);pr.set(be,be,1)}for(var He=Ke-1;He>=0;He--)if(Ue[He]!==0){for(var $e=He+1;$e<en;$e++){for(var tr=0,Pr=He;Pr<R;Pr++)tr+=pr.get(Pr,He)*pr.get(Pr,$e);tr=-tr/pr.get(He,He);for(var rr=He;rr<R;rr++)pr.set(rr,$e,pr.get(rr,$e)+tr*pr.get(rr,He))}for(var Je=He;Je<R;Je++)pr.set(Je,He,-pr.get(Je,He));pr.set(He,He,1+pr.get(He,He));for(var Xr=0;Xr<He-1;Xr++)pr.set(Xr,He,0)}else{for(var Yr=0;Yr<R;Yr++)pr.set(Yr,He,0);pr.set(He,He,1)}}if(Oe)for(var $r=N-1;$r>=0;$r--){if($r<ur&&Yt[$r]!==0)for(var sn=$r+1;sn<N;sn++){for(var Rr=0,Sr=$r+1;Sr<N;Sr++)Rr+=Qt.get(Sr,$r)*Qt.get(Sr,sn);Rr=-Rr/Qt.get($r+1,$r);for(var ln=$r+1;ln<N;ln++)Qt.set(ln,sn,Qt.get(ln,sn)+Rr*Qt.get(ln,$r))}for(var kn=0;kn<N;kn++)Qt.set(kn,$r,0);Qt.set($r,$r,1)}for(var jn=ve-1,fi=Number.EPSILON;ve>0;){var Ur=void 0,Wi=void 0;for(Ur=ve-2;Ur>=-1&&Ur!==-1;Ur--){var Gi=Number.MIN_VALUE+fi*Math.abs(Ue[Ur]+Math.abs(Ue[Ur+1]));if(Math.abs(Yt[Ur])<=Gi||Number.isNaN(Yt[Ur])){Yt[Ur]=0;break}}if(Ur===ve-2)Wi=4;else{var ti=void 0;for(ti=ve-1;ti>=Ur&&ti!==Ur;ti--){var Qi=(ti!==ve?Math.abs(Yt[ti]):0)+(ti!==Ur+1?Math.abs(Yt[ti-1]):0);if(Math.abs(Ue[ti])<=fi*Qi){Ue[ti]=0;break}}ti===Ur?Wi=3:ti===ve-1?Wi=1:(Wi=2,Ur=ti)}switch(Ur++,Wi){case 1:{var ca=Yt[ve-2];Yt[ve-2]=0;for(var Mi=ve-2;Mi>=Ur;Mi--){var wa=me(Ue[Mi],ca),aa=Ue[Mi]/wa,va=ca/wa;if(Ue[Mi]=wa,Mi!==Ur&&(ca=-va*Yt[Mi-1],Yt[Mi-1]=aa*Yt[Mi-1]),Oe)for(var _i=0;_i<N;_i++)wa=aa*Qt.get(_i,Mi)+va*Qt.get(_i,ve-1),Qt.set(_i,ve-1,-va*Qt.get(_i,Mi)+aa*Qt.get(_i,ve-1)),Qt.set(_i,Mi,wa)}break}case 2:{var vi=Yt[Ur-1];Yt[Ur-1]=0;for(var di=Ur;di<ve;di++){var oa=me(Ue[di],vi),da=Ue[di]/oa,sa=vi/oa;if(Ue[di]=oa,vi=-sa*Yt[di],Yt[di]=da*Yt[di],Me)for(var bn=0;bn<R;bn++)oa=da*pr.get(bn,di)+sa*pr.get(bn,Ur-1),pr.set(bn,Ur-1,-sa*pr.get(bn,di)+da*pr.get(bn,Ur-1)),pr.set(bn,di,oa)}break}case 3:{var pa=Math.max(Math.abs(Ue[ve-1]),Math.abs(Ue[ve-2]),Math.abs(Yt[ve-2]),Math.abs(Ue[Ur]),Math.abs(Yt[Ur])),ri=Ue[ve-1]/pa,Fn=Ue[ve-2]/pa,ji=Yt[ve-2]/pa,Bn=Ue[Ur]/pa,ga=Yt[Ur]/pa,Jt=((Fn+ri)*(Fn-ri)+ji*ji)/2,Et=ri*ji*(ri*ji),z=0;(Jt!==0||Et!==0)&&(Jt<0?z=0-Math.sqrt(Jt*Jt+Et):z=Math.sqrt(Jt*Jt+Et),z=Et/(Jt+z));for(var q=(Bn+ri)*(Bn-ri)+z,vt=Bn*ga,Pt=Ur;Pt<ve-1;Pt++){var zt=me(q,vt);zt===0&&(zt=Number.MIN_VALUE);var Kt=q/zt,he=vt/zt;if(Pt!==Ur&&(Yt[Pt-1]=zt),q=Kt*Ue[Pt]+he*Yt[Pt],Yt[Pt]=Kt*Yt[Pt]-he*Ue[Pt],vt=he*Ue[Pt+1],Ue[Pt+1]=Kt*Ue[Pt+1],Oe)for(var pe=0;pe<N;pe++)zt=Kt*Qt.get(pe,Pt)+he*Qt.get(pe,Pt+1),Qt.set(pe,Pt+1,-he*Qt.get(pe,Pt)+Kt*Qt.get(pe,Pt+1)),Qt.set(pe,Pt,zt);if(zt=me(q,vt),zt===0&&(zt=Number.MIN_VALUE),Kt=q/zt,he=vt/zt,Ue[Pt]=zt,q=Kt*Yt[Pt]+he*Ue[Pt+1],Ue[Pt+1]=-he*Yt[Pt]+Kt*Ue[Pt+1],vt=he*Yt[Pt+1],Yt[Pt+1]=Kt*Yt[Pt+1],Me&&Pt<R-1)for(var _e=0;_e<R;_e++)zt=Kt*pr.get(_e,Pt)+he*pr.get(_e,Pt+1),pr.set(_e,Pt+1,-he*pr.get(_e,Pt)+Kt*pr.get(_e,Pt+1)),pr.set(_e,Pt,zt)}Yt[ve-2]=q;break}case 4:{if(Ue[Ur]<=0&&(Ue[Ur]=Ue[Ur]<0?-Ue[Ur]:0,Oe))for(var Ge=0;Ge<=jn;Ge++)Qt.set(Ge,Ur,-Qt.get(Ge,Ur));for(;Ur<jn&&!(Ue[Ur]>=Ue[Ur+1]);){var nr=Ue[Ur];if(Ue[Ur]=Ue[Ur+1],Ue[Ur+1]=nr,Oe&&Ur<N-1)for(var fr=0;fr<N;fr++)nr=Qt.get(fr,Ur+1),Qt.set(fr,Ur+1,Qt.get(fr,Ur)),Qt.set(fr,Ur,nr);if(Me&&Ur<R-1)for(var Fr=0;Fr<R;Fr++)nr=pr.get(Fr,Ur+1),pr.set(Fr,Ur+1,pr.get(Fr,Ur)),pr.set(Fr,Ur,nr);Ur++}ve--;break}}}if(ir){var nn=Qt;Qt=pr,pr=nn}this.m=R,this.n=N,this.s=Ue,this.U=pr,this.V=Qt}return p(Bt,[{key:"solve",value:function(ct){for(var R=ct,N=this.threshold,j=this.s.length,_t=le.zeros(j,j),jt=0;jt<j;jt++)Math.abs(this.s[jt])<=N?_t.set(jt,jt,0):_t.set(jt,jt,1/this.s[jt]);for(var Nt=this.U,Ut=this.rightSingularVectors,Se=Ut.mmul(_t),Me=Ut.rows,Oe=Nt.rows,ir=le.zeros(Me,Oe),We=0;We<Me;We++)for(var Cr=0;Cr<Oe;Cr++){for(var en=0,Be=0;Be<j;Be++)en+=Se.get(We,Be)*Nt.get(Cr,Be);ir.set(We,Cr,en)}return ir.mmul(R)}},{key:"solveForDiagonal",value:function(ct){return this.solve(le.diag(ct))}},{key:"inverse",value:function(){for(var ct=this.V,R=this.threshold,N=ct.rows,j=ct.columns,_t=new le(N,this.s.length),jt=0;jt<N;jt++)for(var Nt=0;Nt<j;Nt++)Math.abs(this.s[Nt])>R&&_t.set(jt,Nt,ct.get(jt,Nt)/this.s[Nt]);for(var Ut=this.U,Se=Ut.rows,Me=Ut.columns,Oe=new le(N,Se),ir=0;ir<N;ir++)for(var We=0;We<Se;We++){for(var Cr=0,en=0;en<Me;en++)Cr+=_t.get(ir,en)*Ut.get(We,en);Oe.set(ir,We,Cr)}return Oe}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var ct=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,R=0,N=this.s,j=0,_t=N.length;j<_t;j++)N[j]>ct&&R++;return R}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return le.diag(this.s)}}]),Bt}();function Ne(Bt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Bt=$t.checkMatrix(Bt),Ht?new Fe(Bt).inverse():Ve(Bt,le.eye(Bt.rows))}function Ve(Bt,Ht){var ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Bt=$t.checkMatrix(Bt),Ht=$t.checkMatrix(Ht),ct?new Fe(Bt).solve(Ht):Bt.isSquare()?new ge(Bt).solve(Ht):new ke(Bt).solve(Ht)}function Te(Bt){if(Bt=le.checkMatrix(Bt),Bt.isSquare()){if(Bt.columns===0)return 1;var Ht,ct,R,N;if(Bt.columns===2)return Ht=Bt.get(0,0),ct=Bt.get(0,1),R=Bt.get(1,0),N=Bt.get(1,1),Ht*N-ct*R;if(Bt.columns===3){var j,_t,jt;return j=new $n(Bt,[1,2],[1,2]),_t=new $n(Bt,[1,2],[0,2]),jt=new $n(Bt,[1,2],[0,1]),Ht=Bt.get(0,0),ct=Bt.get(0,1),R=Bt.get(0,2),Ht*Te(j)-ct*Te(_t)+R*Te(jt)}else return new ge(Bt).determinant}else throw Error("determinant can only be calculated for a square matrix")}function vr(Bt,Ht){for(var ct=[],R=0;R<Bt;R++)R!==Ht&&ct.push(R);return ct}function qe(Bt,Ht,ct){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(Bt>N)return new Array(Ht.rows+1).fill(0);for(var j=Ht.addRow(ct,[0]),_t=0;_t<j.rows;_t++)Math.abs(j.get(_t,0))<R&&j.set(_t,0,0);return j.to1DArray()}function yr(Bt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ct=Ht.thresholdValue,R=ct===void 0?1e-9:ct,N=Ht.thresholdError,j=N===void 0?1e-9:N;Bt=le.checkMatrix(Bt);for(var _t=Bt.rows,jt=new le(_t,_t),Nt=0;Nt<_t;Nt++){var Ut=le.columnVector(Bt.getRow(Nt)),Se=Bt.subMatrixRow(vr(_t,Nt)).transpose(),Me=new Fe(Se),Oe=Me.solve(Ut),ir=le.sub(Ut,Se.mmul(Oe)).abs().max();jt.setRow(Nt,qe(ir,Oe,Nt,R,j))}return jt}function Lr(Bt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(Bt=le.checkMatrix(Bt),Bt.isEmpty())return Bt.transpose();for(var ct=new Fe(Bt,{autoTranspose:!0}),R=ct.leftSingularVectors,N=ct.rightSingularVectors,j=ct.diagonal,_t=0;_t<j.length;_t++)Math.abs(j[_t])>Ht?j[_t]=1/j[_t]:j[_t]=0;return N.mmul(le.diag(j).mmul(R.transpose()))}function wr(Bt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bt,ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Bt=new le(Bt);var R=!1;if(typeof Ht=="object"&&!le.isMatrix(Ht)&&!M.isAnyArray(Ht)?(ct=Ht,Ht=Bt,R=!0):Ht=new le(Ht),Bt.rows!==Ht.rows)throw new TypeError("Both matrices must have the same number of rows");var N=ct,j=N.center,_t=j===void 0?!0:j;_t&&(Bt=Bt.center("column"),R||(Ht=Ht.center("column")));for(var jt=Bt.transpose().mmul(Ht),Nt=0;Nt<jt.rows;Nt++)for(var Ut=0;Ut<jt.columns;Ut++)jt.set(Nt,Ut,jt.get(Nt,Ut)*(1/(Bt.rows-1)));return jt}function kr(Bt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bt,ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Bt=new le(Bt);var R=!1;if(typeof Ht=="object"&&!le.isMatrix(Ht)&&!M.isAnyArray(Ht)?(ct=Ht,Ht=Bt,R=!0):Ht=new le(Ht),Bt.rows!==Ht.rows)throw new TypeError("Both matrices must have the same number of rows");var N=ct,j=N.center,_t=j===void 0?!0:j,jt=N.scale,Nt=jt===void 0?!0:jt;_t&&(Bt.center("column"),R||Ht.center("column")),Nt&&(Bt.scale("column"),R||Ht.scale("column"));for(var Ut=Bt.standardDeviation("column",{unbiased:!0}),Se=R?Ut:Ht.standardDeviation("column",{unbiased:!0}),Me=Bt.transpose().mmul(Ht),Oe=0;Oe<Me.rows;Oe++)for(var ir=0;ir<Me.columns;ir++)Me.set(Oe,ir,Me.get(Oe,ir)*(1/(Ut[Oe]*Se[ir]))*(1/(Bt.rows-1)));return Me}var Br=function(){function Bt(Ht){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};m(this,Bt);var R=ct.assumeSymmetric,N=R===void 0?!1:R;if(Ht=$t.checkMatrix(Ht),!Ht.isSquare())throw new Error("Matrix is not a square matrix");if(Ht.isEmpty())throw new Error("Matrix must be non-empty");var j=Ht.columns,_t=new le(j,j),jt=new Float64Array(j),Nt=new Float64Array(j),Ut=Ht,Se,Me,Oe=!1;if(N?Oe=!0:Oe=Ht.isSymmetric(),Oe){for(Se=0;Se<j;Se++)for(Me=0;Me<j;Me++)_t.set(Se,Me,Ut.get(Se,Me));Nr(j,Nt,jt,_t),gr(j,Nt,jt,_t)}else{var ir=new le(j,j),We=new Float64Array(j);for(Me=0;Me<j;Me++)for(Se=0;Se<j;Se++)ir.set(Se,Me,Ut.get(Se,Me));Vr(j,ir,We,_t),Qr(j,Nt,jt,_t,ir)}this.n=j,this.e=Nt,this.d=jt,this.V=_t}return p(Bt,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var ct=this.n,R=this.e,N=this.d,j=new le(ct,ct),_t,jt;for(_t=0;_t<ct;_t++){for(jt=0;jt<ct;jt++)j.set(_t,jt,0);j.set(_t,_t,N[_t]),R[_t]>0?j.set(_t,_t+1,R[_t]):R[_t]<0&&j.set(_t,_t-1,R[_t])}return j}}]),Bt}();function Nr(Bt,Ht,ct,R){var N,j,_t,jt,Nt,Ut,Se,Me;for(Nt=0;Nt<Bt;Nt++)ct[Nt]=R.get(Bt-1,Nt);for(jt=Bt-1;jt>0;jt--){for(Me=0,_t=0,Ut=0;Ut<jt;Ut++)Me=Me+Math.abs(ct[Ut]);if(Me===0)for(Ht[jt]=ct[jt-1],Nt=0;Nt<jt;Nt++)ct[Nt]=R.get(jt-1,Nt),R.set(jt,Nt,0),R.set(Nt,jt,0);else{for(Ut=0;Ut<jt;Ut++)ct[Ut]/=Me,_t+=ct[Ut]*ct[Ut];for(N=ct[jt-1],j=Math.sqrt(_t),N>0&&(j=-j),Ht[jt]=Me*j,_t=_t-N*j,ct[jt-1]=N-j,Nt=0;Nt<jt;Nt++)Ht[Nt]=0;for(Nt=0;Nt<jt;Nt++){for(N=ct[Nt],R.set(Nt,jt,N),j=Ht[Nt]+R.get(Nt,Nt)*N,Ut=Nt+1;Ut<=jt-1;Ut++)j+=R.get(Ut,Nt)*ct[Ut],Ht[Ut]+=R.get(Ut,Nt)*N;Ht[Nt]=j}for(N=0,Nt=0;Nt<jt;Nt++)Ht[Nt]/=_t,N+=Ht[Nt]*ct[Nt];for(Se=N/(_t+_t),Nt=0;Nt<jt;Nt++)Ht[Nt]-=Se*ct[Nt];for(Nt=0;Nt<jt;Nt++){for(N=ct[Nt],j=Ht[Nt],Ut=Nt;Ut<=jt-1;Ut++)R.set(Ut,Nt,R.get(Ut,Nt)-(N*Ht[Ut]+j*ct[Ut]));ct[Nt]=R.get(jt-1,Nt),R.set(jt,Nt,0)}}ct[jt]=_t}for(jt=0;jt<Bt-1;jt++){if(R.set(Bt-1,jt,R.get(jt,jt)),R.set(jt,jt,1),_t=ct[jt+1],_t!==0){for(Ut=0;Ut<=jt;Ut++)ct[Ut]=R.get(Ut,jt+1)/_t;for(Nt=0;Nt<=jt;Nt++){for(j=0,Ut=0;Ut<=jt;Ut++)j+=R.get(Ut,jt+1)*R.get(Ut,Nt);for(Ut=0;Ut<=jt;Ut++)R.set(Ut,Nt,R.get(Ut,Nt)-j*ct[Ut])}}for(Ut=0;Ut<=jt;Ut++)R.set(Ut,jt+1,0)}for(Nt=0;Nt<Bt;Nt++)ct[Nt]=R.get(Bt-1,Nt),R.set(Bt-1,Nt,0);R.set(Bt-1,Bt-1,1),Ht[0]=0}function gr(Bt,Ht,ct,R){var N,j,_t,jt,Nt,Ut,Se,Me,Oe,ir,We,Cr,en,Be,Ue,pr;for(_t=1;_t<Bt;_t++)Ht[_t-1]=Ht[_t];Ht[Bt-1]=0;var Qt=0,Yt=0,ae=Number.EPSILON;for(Ut=0;Ut<Bt;Ut++){for(Yt=Math.max(Yt,Math.abs(ct[Ut])+Math.abs(Ht[Ut])),Se=Ut;Se<Bt&&!(Math.abs(Ht[Se])<=ae*Yt);)Se++;if(Se>Ut)do{for(N=ct[Ut],Me=(ct[Ut+1]-N)/(2*Ht[Ut]),Oe=me(Me,1),Me<0&&(Oe=-Oe),ct[Ut]=Ht[Ut]/(Me+Oe),ct[Ut+1]=Ht[Ut]*(Me+Oe),ir=ct[Ut+1],j=N-ct[Ut],_t=Ut+2;_t<Bt;_t++)ct[_t]-=j;for(Qt=Qt+j,Me=ct[Se],We=1,Cr=We,en=We,Be=Ht[Ut+1],Ue=0,pr=0,_t=Se-1;_t>=Ut;_t--)for(en=Cr,Cr=We,pr=Ue,N=We*Ht[_t],j=We*Me,Oe=me(Me,Ht[_t]),Ht[_t+1]=Ue*Oe,Ue=Ht[_t]/Oe,We=Me/Oe,Me=We*ct[_t]-Ue*N,ct[_t+1]=j+Ue*(We*N+Ue*ct[_t]),Nt=0;Nt<Bt;Nt++)j=R.get(Nt,_t+1),R.set(Nt,_t+1,Ue*R.get(Nt,_t)+We*j),R.set(Nt,_t,We*R.get(Nt,_t)-Ue*j);Me=-Ue*pr*en*Be*Ht[Ut]/ir,Ht[Ut]=Ue*Me,ct[Ut]=We*Me}while(Math.abs(Ht[Ut])>ae*Yt);ct[Ut]=ct[Ut]+Qt,Ht[Ut]=0}for(_t=0;_t<Bt-1;_t++){for(Nt=_t,Me=ct[_t],jt=_t+1;jt<Bt;jt++)ct[jt]<Me&&(Nt=jt,Me=ct[jt]);if(Nt!==_t)for(ct[Nt]=ct[_t],ct[_t]=Me,jt=0;jt<Bt;jt++)Me=R.get(jt,_t),R.set(jt,_t,R.get(jt,Nt)),R.set(jt,Nt,Me)}}function Vr(Bt,Ht,ct,R){var N=0,j=Bt-1,_t,jt,Nt,Ut,Se,Me,Oe;for(Me=N+1;Me<=j-1;Me++){for(Oe=0,Ut=Me;Ut<=j;Ut++)Oe=Oe+Math.abs(Ht.get(Ut,Me-1));if(Oe!==0){for(Nt=0,Ut=j;Ut>=Me;Ut--)ct[Ut]=Ht.get(Ut,Me-1)/Oe,Nt+=ct[Ut]*ct[Ut];for(jt=Math.sqrt(Nt),ct[Me]>0&&(jt=-jt),Nt=Nt-ct[Me]*jt,ct[Me]=ct[Me]-jt,Se=Me;Se<Bt;Se++){for(_t=0,Ut=j;Ut>=Me;Ut--)_t+=ct[Ut]*Ht.get(Ut,Se);for(_t=_t/Nt,Ut=Me;Ut<=j;Ut++)Ht.set(Ut,Se,Ht.get(Ut,Se)-_t*ct[Ut])}for(Ut=0;Ut<=j;Ut++){for(_t=0,Se=j;Se>=Me;Se--)_t+=ct[Se]*Ht.get(Ut,Se);for(_t=_t/Nt,Se=Me;Se<=j;Se++)Ht.set(Ut,Se,Ht.get(Ut,Se)-_t*ct[Se])}ct[Me]=Oe*ct[Me],Ht.set(Me,Me-1,Oe*jt)}}for(Ut=0;Ut<Bt;Ut++)for(Se=0;Se<Bt;Se++)R.set(Ut,Se,Ut===Se?1:0);for(Me=j-1;Me>=N+1;Me--)if(Ht.get(Me,Me-1)!==0){for(Ut=Me+1;Ut<=j;Ut++)ct[Ut]=Ht.get(Ut,Me-1);for(Se=Me;Se<=j;Se++){for(jt=0,Ut=Me;Ut<=j;Ut++)jt+=ct[Ut]*R.get(Ut,Se);for(jt=jt/ct[Me]/Ht.get(Me,Me-1),Ut=Me;Ut<=j;Ut++)R.set(Ut,Se,R.get(Ut,Se)+jt*ct[Ut])}}}function Qr(Bt,Ht,ct,R,N){var j=Bt-1,_t=0,jt=Bt-1,Nt=Number.EPSILON,Ut=0,Se=0,Me=0,Oe=0,ir=0,We=0,Cr=0,en=0,Be,Ue,pr,Qt,Yt,ae,xe,Le,Ke,ur,dr,ar,gn,_n,Wt;for(Be=0;Be<Bt;Be++)for((Be<_t||Be>jt)&&(ct[Be]=N.get(Be,Be),Ht[Be]=0),Ue=Math.max(Be-1,0);Ue<Bt;Ue++)Se=Se+Math.abs(N.get(Be,Ue));for(;j>=_t;){for(Qt=j;Qt>_t&&(We=Math.abs(N.get(Qt-1,Qt-1))+Math.abs(N.get(Qt,Qt)),We===0&&(We=Se),!(Math.abs(N.get(Qt,Qt-1))<Nt*We));)Qt--;if(Qt===j)N.set(j,j,N.get(j,j)+Ut),ct[j]=N.get(j,j),Ht[j]=0,j--,en=0;else if(Qt===j-1){if(xe=N.get(j,j-1)*N.get(j-1,j),Me=(N.get(j-1,j-1)-N.get(j,j))/2,Oe=Me*Me+xe,Cr=Math.sqrt(Math.abs(Oe)),N.set(j,j,N.get(j,j)+Ut),N.set(j-1,j-1,N.get(j-1,j-1)+Ut),Le=N.get(j,j),Oe>=0){for(Cr=Me>=0?Me+Cr:Me-Cr,ct[j-1]=Le+Cr,ct[j]=ct[j-1],Cr!==0&&(ct[j]=Le-xe/Cr),Ht[j-1]=0,Ht[j]=0,Le=N.get(j,j-1),We=Math.abs(Le)+Math.abs(Cr),Me=Le/We,Oe=Cr/We,ir=Math.sqrt(Me*Me+Oe*Oe),Me=Me/ir,Oe=Oe/ir,Ue=j-1;Ue<Bt;Ue++)Cr=N.get(j-1,Ue),N.set(j-1,Ue,Oe*Cr+Me*N.get(j,Ue)),N.set(j,Ue,Oe*N.get(j,Ue)-Me*Cr);for(Be=0;Be<=j;Be++)Cr=N.get(Be,j-1),N.set(Be,j-1,Oe*Cr+Me*N.get(Be,j)),N.set(Be,j,Oe*N.get(Be,j)-Me*Cr);for(Be=_t;Be<=jt;Be++)Cr=R.get(Be,j-1),R.set(Be,j-1,Oe*Cr+Me*R.get(Be,j)),R.set(Be,j,Oe*R.get(Be,j)-Me*Cr)}else ct[j-1]=Le+Me,ct[j]=Le+Me,Ht[j-1]=Cr,Ht[j]=-Cr;j=j-2,en=0}else{if(Le=N.get(j,j),Ke=0,xe=0,Qt<j&&(Ke=N.get(j-1,j-1),xe=N.get(j,j-1)*N.get(j-1,j)),en===10){for(Ut+=Le,Be=_t;Be<=j;Be++)N.set(Be,Be,N.get(Be,Be)-Le);We=Math.abs(N.get(j,j-1))+Math.abs(N.get(j-1,j-2)),Le=Ke=.75*We,xe=-.4375*We*We}if(en===30&&(We=(Ke-Le)/2,We=We*We+xe,We>0)){for(We=Math.sqrt(We),Ke<Le&&(We=-We),We=Le-xe/((Ke-Le)/2+We),Be=_t;Be<=j;Be++)N.set(Be,Be,N.get(Be,Be)-We);Ut+=We,Le=Ke=xe=.964}for(en=en+1,Yt=j-2;Yt>=Qt&&(Cr=N.get(Yt,Yt),ir=Le-Cr,We=Ke-Cr,Me=(ir*We-xe)/N.get(Yt+1,Yt)+N.get(Yt,Yt+1),Oe=N.get(Yt+1,Yt+1)-Cr-ir-We,ir=N.get(Yt+2,Yt+1),We=Math.abs(Me)+Math.abs(Oe)+Math.abs(ir),Me=Me/We,Oe=Oe/We,ir=ir/We,!(Yt===Qt||Math.abs(N.get(Yt,Yt-1))*(Math.abs(Oe)+Math.abs(ir))<Nt*(Math.abs(Me)*(Math.abs(N.get(Yt-1,Yt-1))+Math.abs(Cr)+Math.abs(N.get(Yt+1,Yt+1))))));)Yt--;for(Be=Yt+2;Be<=j;Be++)N.set(Be,Be-2,0),Be>Yt+2&&N.set(Be,Be-3,0);for(pr=Yt;pr<=j-1&&(_n=pr!==j-1,pr!==Yt&&(Me=N.get(pr,pr-1),Oe=N.get(pr+1,pr-1),ir=_n?N.get(pr+2,pr-1):0,Le=Math.abs(Me)+Math.abs(Oe)+Math.abs(ir),Le!==0&&(Me=Me/Le,Oe=Oe/Le,ir=ir/Le)),Le!==0);pr++)if(We=Math.sqrt(Me*Me+Oe*Oe+ir*ir),Me<0&&(We=-We),We!==0){for(pr!==Yt?N.set(pr,pr-1,-We*Le):Qt!==Yt&&N.set(pr,pr-1,-N.get(pr,pr-1)),Me=Me+We,Le=Me/We,Ke=Oe/We,Cr=ir/We,Oe=Oe/Me,ir=ir/Me,Ue=pr;Ue<Bt;Ue++)Me=N.get(pr,Ue)+Oe*N.get(pr+1,Ue),_n&&(Me=Me+ir*N.get(pr+2,Ue),N.set(pr+2,Ue,N.get(pr+2,Ue)-Me*Cr)),N.set(pr,Ue,N.get(pr,Ue)-Me*Le),N.set(pr+1,Ue,N.get(pr+1,Ue)-Me*Ke);for(Be=0;Be<=Math.min(j,pr+3);Be++)Me=Le*N.get(Be,pr)+Ke*N.get(Be,pr+1),_n&&(Me=Me+Cr*N.get(Be,pr+2),N.set(Be,pr+2,N.get(Be,pr+2)-Me*ir)),N.set(Be,pr,N.get(Be,pr)-Me),N.set(Be,pr+1,N.get(Be,pr+1)-Me*Oe);for(Be=_t;Be<=jt;Be++)Me=Le*R.get(Be,pr)+Ke*R.get(Be,pr+1),_n&&(Me=Me+Cr*R.get(Be,pr+2),R.set(Be,pr+2,R.get(Be,pr+2)-Me*ir)),R.set(Be,pr,R.get(Be,pr)-Me),R.set(Be,pr+1,R.get(Be,pr+1)-Me*Oe)}}}if(Se!==0){for(j=Bt-1;j>=0;j--)if(Me=ct[j],Oe=Ht[j],Oe===0)for(Qt=j,N.set(j,j,1),Be=j-1;Be>=0;Be--){for(xe=N.get(Be,Be)-Me,ir=0,Ue=Qt;Ue<=j;Ue++)ir=ir+N.get(Be,Ue)*N.get(Ue,j);if(Ht[Be]<0)Cr=xe,We=ir;else if(Qt=Be,Ht[Be]===0?N.set(Be,j,xe!==0?-ir/xe:-ir/(Nt*Se)):(Le=N.get(Be,Be+1),Ke=N.get(Be+1,Be),Oe=(ct[Be]-Me)*(ct[Be]-Me)+Ht[Be]*Ht[Be],ae=(Le*We-Cr*ir)/Oe,N.set(Be,j,ae),N.set(Be+1,j,Math.abs(Le)>Math.abs(Cr)?(-ir-xe*ae)/Le:(-We-Ke*ae)/Cr)),ae=Math.abs(N.get(Be,j)),Nt*ae*ae>1)for(Ue=Be;Ue<=j;Ue++)N.set(Ue,j,N.get(Ue,j)/ae)}else if(Oe<0)for(Qt=j-1,Math.abs(N.get(j,j-1))>Math.abs(N.get(j-1,j))?(N.set(j-1,j-1,Oe/N.get(j,j-1)),N.set(j-1,j,-(N.get(j,j)-Me)/N.get(j,j-1))):(Wt=zr(0,-N.get(j-1,j),N.get(j-1,j-1)-Me,Oe),N.set(j-1,j-1,Wt[0]),N.set(j-1,j,Wt[1])),N.set(j,j-1,0),N.set(j,j,1),Be=j-2;Be>=0;Be--){for(ur=0,dr=0,Ue=Qt;Ue<=j;Ue++)ur=ur+N.get(Be,Ue)*N.get(Ue,j-1),dr=dr+N.get(Be,Ue)*N.get(Ue,j);if(xe=N.get(Be,Be)-Me,Ht[Be]<0)Cr=xe,ir=ur,We=dr;else if(Qt=Be,Ht[Be]===0?(Wt=zr(-ur,-dr,xe,Oe),N.set(Be,j-1,Wt[0]),N.set(Be,j,Wt[1])):(Le=N.get(Be,Be+1),Ke=N.get(Be+1,Be),ar=(ct[Be]-Me)*(ct[Be]-Me)+Ht[Be]*Ht[Be]-Oe*Oe,gn=(ct[Be]-Me)*2*Oe,ar===0&&gn===0&&(ar=Nt*Se*(Math.abs(xe)+Math.abs(Oe)+Math.abs(Le)+Math.abs(Ke)+Math.abs(Cr))),Wt=zr(Le*ir-Cr*ur+Oe*dr,Le*We-Cr*dr-Oe*ur,ar,gn),N.set(Be,j-1,Wt[0]),N.set(Be,j,Wt[1]),Math.abs(Le)>Math.abs(Cr)+Math.abs(Oe)?(N.set(Be+1,j-1,(-ur-xe*N.get(Be,j-1)+Oe*N.get(Be,j))/Le),N.set(Be+1,j,(-dr-xe*N.get(Be,j)-Oe*N.get(Be,j-1))/Le)):(Wt=zr(-ir-Ke*N.get(Be,j-1),-We-Ke*N.get(Be,j),Cr,Oe),N.set(Be+1,j-1,Wt[0]),N.set(Be+1,j,Wt[1]))),ae=Math.max(Math.abs(N.get(Be,j-1)),Math.abs(N.get(Be,j))),Nt*ae*ae>1)for(Ue=Be;Ue<=j;Ue++)N.set(Ue,j-1,N.get(Ue,j-1)/ae),N.set(Ue,j,N.get(Ue,j)/ae)}for(Be=0;Be<Bt;Be++)if(Be<_t||Be>jt)for(Ue=Be;Ue<Bt;Ue++)R.set(Be,Ue,N.get(Be,Ue));for(Ue=Bt-1;Ue>=_t;Ue--)for(Be=_t;Be<=jt;Be++){for(Cr=0,pr=_t;pr<=Math.min(Ue,jt);pr++)Cr=Cr+R.get(Be,pr)*N.get(pr,Ue);R.set(Be,Ue,Cr)}}}function zr(Bt,Ht,ct,R){var N,j;return Math.abs(ct)>Math.abs(R)?(N=R/ct,j=ct+N*R,[(Bt+N*Ht)/j,(Ht-N*Bt)/j]):(N=ct/R,j=R+N*ct,[(N*Bt+Ht)/j,(N*Ht-Bt)/j])}var tn=function(){function Bt(Ht){if(m(this,Bt),Ht=$t.checkMatrix(Ht),!Ht.isSymmetric())throw new Error("Matrix is not symmetric");var ct=Ht,R=ct.rows,N=new le(R,R),j=!0,_t,jt,Nt;for(jt=0;jt<R;jt++){var Ut=0;for(Nt=0;Nt<jt;Nt++){var Se=0;for(_t=0;_t<Nt;_t++)Se+=N.get(Nt,_t)*N.get(jt,_t);Se=(ct.get(jt,Nt)-Se)/N.get(Nt,Nt),N.set(jt,Nt,Se),Ut=Ut+Se*Se}for(Ut=ct.get(jt,jt)-Ut,j&=Ut>0,N.set(jt,jt,Math.sqrt(Math.max(Ut,0))),Nt=jt+1;Nt<R;Nt++)N.set(jt,Nt,0)}this.L=N,this.positiveDefinite=Boolean(j)}return p(Bt,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(ct){ct=$t.checkMatrix(ct);var R=this.L,N=R.rows;if(ct.rows!==N)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var j=ct.columns,_t=ct.clone(),jt,Nt,Ut;for(Ut=0;Ut<N;Ut++)for(Nt=0;Nt<j;Nt++){for(jt=0;jt<Ut;jt++)_t.set(Ut,Nt,_t.get(Ut,Nt)-_t.get(jt,Nt)*R.get(Ut,jt));_t.set(Ut,Nt,_t.get(Ut,Nt)/R.get(Ut,Ut))}for(Ut=N-1;Ut>=0;Ut--)for(Nt=0;Nt<j;Nt++){for(jt=Ut+1;jt<N;jt++)_t.set(Ut,Nt,_t.get(Ut,Nt)-_t.get(jt,Nt)*R.get(jt,Ut));_t.set(Ut,Nt,_t.get(Ut,Nt)/R.get(Ut,Ut))}return _t}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),Bt}(),cn=p(function Bt(Ht){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};m(this,Bt),Ht=$t.checkMatrix(Ht);var R=ct.Y,N=ct.scaleScores,j=N===void 0?!1:N,_t=ct.maxIterations,jt=_t===void 0?1e3:_t,Nt=ct.terminationCriteria,Ut=Nt===void 0?1e-10:Nt,Se;if(R){if(M.isAnyArray(R)&&typeof R[0]=="number"?R=le.columnVector(R):R=$t.checkMatrix(R),R.rows!==Ht.rows)throw new Error("Y should have the same number of rows as X");Se=R.getColumnVector(0)}else Se=Ht.getColumnVector(0);for(var Me=1,Oe,ir,We,Cr,en=0;en<jt&&Me>Ut;en++)We=Ht.transpose().mmul(Se).div(Se.transpose().mmul(Se).get(0,0)),We=We.div(We.norm()),Oe=Ht.mmul(We).div(We.transpose().mmul(We).get(0,0)),en>0&&(Me=Oe.clone().sub(Cr).pow(2).sum()),Cr=Oe.clone(),R?(ir=R.transpose().mmul(Oe).div(Oe.transpose().mmul(Oe).get(0,0)),ir=ir.div(ir.norm()),Se=R.mmul(ir).div(ir.transpose().mmul(ir).get(0,0))):Se=Oe;if(R){var Be=Ht.transpose().mmul(Oe).div(Oe.transpose().mmul(Oe).get(0,0));Be=Be.div(Be.norm());var Ue=Ht.clone().sub(Oe.clone().mmul(Be.transpose())),pr=Se.transpose().mmul(Oe).div(Oe.transpose().mmul(Oe).get(0,0)),Qt=R.clone().sub(Oe.clone().mulS(pr.get(0,0)).mmul(ir.transpose()));this.t=Oe,this.p=Be.transpose(),this.w=We.transpose(),this.q=ir,this.u=Se,this.s=Oe.transpose().mmul(Oe),this.xResidual=Ue,this.yResidual=Qt,this.betas=pr}else this.w=We.transpose(),this.s=Oe.transpose().mmul(Oe).sqrt(),j?this.t=Oe.clone().div(this.s.get(0,0)):this.t=Oe,this.xResidual=Ht.sub(Oe.mmul(We.transpose()))});S.XA=mt,S.a_=tn,S.yQ=tn,S.Hs=or,S.Ec=Br,S.dx=Br,S.LU=ge,S.Rm=ge,S.y3=le,S.qK=Er,S.pb=Ir,S.j=on,S.sO=In,S.BZ=xn,S.EK=fn,S.Db=$n,S.Fx=ui,S.tU=Si,S.Ym=cn,S.rs=cn,S.QR=ke,S.TB=ke,S.oH=Fe,S.Sc=Fe,S.BN=Re,S.it=bi,S.$r=$t,S.QM=kr,S.AV=wr,x=le,S.GH=Te,S.SO=Ne,S.uZ=yr,S.yU=Lr,S.F1=Ve,S.re=se},15746:function(ft,S,v){"use strict";var x=v(21584);S.Z=x.Z},89032:function(ft,S,v){"use strict";var x=v(38663),O=v.n(x),k=v(6999)},71230:function(ft,S,v){"use strict";var x=v(92820);S.Z=x.Z},13062:function(ft,S,v){"use strict";var x=v(38663),O=v.n(x),k=v(6999)},48168:function(ft,S,v){var x=v(39092),O={};for(var k in x)x.hasOwnProperty(k)&&(O[x[k]]=k);var _=ft.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var T in _)if(_.hasOwnProperty(T)){if(!("channels"in _[T]))throw new Error("missing channels property: "+T);if(!("labels"in _[T]))throw new Error("missing channel labels property: "+T);if(_[T].labels.length!==_[T].channels)throw new Error("channel and label counts mismatch: "+T);var A=_[T].channels,C=_[T].labels;delete _[T].channels,delete _[T].labels,Object.defineProperty(_[T],"channels",{value:A}),Object.defineProperty(_[T],"labels",{value:C})}_.rgb.hsl=function(g){var w=g[0]/255,y=g[1]/255,m=g[2]/255,p=Math.min(w,y,m),M=Math.max(w,y,m),P=M-p,B,F,W;return M===p?B=0:w===M?B=(y-m)/P:y===M?B=2+(m-w)/P:m===M&&(B=4+(w-y)/P),B=Math.min(B*60,360),B<0&&(B+=360),W=(p+M)/2,M===p?F=0:W<=.5?F=P/(M+p):F=P/(2-M-p),[B,F*100,W*100]},_.rgb.hsv=function(g){var w,y,m,p,M,P=g[0]/255,B=g[1]/255,F=g[2]/255,W=Math.max(P,B,F),Q=W-Math.min(P,B,F),H=function(Z){return(W-Z)/6/Q+1/2};return Q===0?p=M=0:(M=Q/W,w=H(P),y=H(B),m=H(F),P===W?p=m-y:B===W?p=1/3+w-m:F===W&&(p=2/3+y-w),p<0?p+=1:p>1&&(p-=1)),[p*360,M*100,W*100]},_.rgb.hwb=function(g){var w=g[0],y=g[1],m=g[2],p=_.rgb.hsl(g)[0],M=1/255*Math.min(w,Math.min(y,m));return m=1-1/255*Math.max(w,Math.max(y,m)),[p,M*100,m*100]},_.rgb.cmyk=function(g){var w=g[0]/255,y=g[1]/255,m=g[2]/255,p,M,P,B;return B=Math.min(1-w,1-y,1-m),p=(1-w-B)/(1-B)||0,M=(1-y-B)/(1-B)||0,P=(1-m-B)/(1-B)||0,[p*100,M*100,P*100,B*100]};function E(g,w){return Math.pow(g[0]-w[0],2)+Math.pow(g[1]-w[1],2)+Math.pow(g[2]-w[2],2)}_.rgb.keyword=function(g){var w=O[g];if(w)return w;var y=Infinity,m;for(var p in x)if(x.hasOwnProperty(p)){var M=x[p],P=E(g,M);P<y&&(y=P,m=p)}return m},_.keyword.rgb=function(g){return x[g]},_.rgb.xyz=function(g){var w=g[0]/255,y=g[1]/255,m=g[2]/255;w=w>.04045?Math.pow((w+.055)/1.055,2.4):w/12.92,y=y>.04045?Math.pow((y+.055)/1.055,2.4):y/12.92,m=m>.04045?Math.pow((m+.055)/1.055,2.4):m/12.92;var p=w*.4124+y*.3576+m*.1805,M=w*.2126+y*.7152+m*.0722,P=w*.0193+y*.1192+m*.9505;return[p*100,M*100,P*100]},_.rgb.lab=function(g){var w=_.rgb.xyz(g),y=w[0],m=w[1],p=w[2],M,P,B;return y/=95.047,m/=100,p/=108.883,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,p=p>.008856?Math.pow(p,1/3):7.787*p+16/116,M=116*m-16,P=500*(y-m),B=200*(m-p),[M,P,B]},_.hsl.rgb=function(g){var w=g[0]/360,y=g[1]/100,m=g[2]/100,p,M,P,B,F;if(y===0)return F=m*255,[F,F,F];m<.5?M=m*(1+y):M=m+y-m*y,p=2*m-M,B=[0,0,0];for(var W=0;W<3;W++)P=w+1/3*-(W-1),P<0&&P++,P>1&&P--,6*P<1?F=p+(M-p)*6*P:2*P<1?F=M:3*P<2?F=p+(M-p)*(2/3-P)*6:F=p,B[W]=F*255;return B},_.hsl.hsv=function(g){var w=g[0],y=g[1]/100,m=g[2]/100,p=y,M=Math.max(m,.01),P,B;return m*=2,y*=m<=1?m:2-m,p*=M<=1?M:2-M,B=(m+y)/2,P=m===0?2*p/(M+p):2*y/(m+y),[w,P*100,B*100]},_.hsv.rgb=function(g){var w=g[0]/60,y=g[1]/100,m=g[2]/100,p=Math.floor(w)%6,M=w-Math.floor(w),P=255*m*(1-y),B=255*m*(1-y*M),F=255*m*(1-y*(1-M));switch(m*=255,p){case 0:return[m,F,P];case 1:return[B,m,P];case 2:return[P,m,F];case 3:return[P,B,m];case 4:return[F,P,m];case 5:return[m,P,B]}},_.hsv.hsl=function(g){var w=g[0],y=g[1]/100,m=g[2]/100,p=Math.max(m,.01),M,P,B;return B=(2-y)*m,M=(2-y)*p,P=y*p,P/=M<=1?M:2-M,P=P||0,B/=2,[w,P*100,B*100]},_.hwb.rgb=function(g){var w=g[0]/360,y=g[1]/100,m=g[2]/100,p=y+m,M,P,B,F;p>1&&(y/=p,m/=p),M=Math.floor(6*w),P=1-m,B=6*w-M,(M&1)!=0&&(B=1-B),F=y+B*(P-y);var W,Q,H;switch(M){default:case 6:case 0:W=P,Q=F,H=y;break;case 1:W=F,Q=P,H=y;break;case 2:W=y,Q=P,H=F;break;case 3:W=y,Q=F,H=P;break;case 4:W=F,Q=y,H=P;break;case 5:W=P,Q=y,H=F;break}return[W*255,Q*255,H*255]},_.cmyk.rgb=function(g){var w=g[0]/100,y=g[1]/100,m=g[2]/100,p=g[3]/100,M,P,B;return M=1-Math.min(1,w*(1-p)+p),P=1-Math.min(1,y*(1-p)+p),B=1-Math.min(1,m*(1-p)+p),[M*255,P*255,B*255]},_.xyz.rgb=function(g){var w=g[0]/100,y=g[1]/100,m=g[2]/100,p,M,P;return p=w*3.2406+y*-1.5372+m*-.4986,M=w*-.9689+y*1.8758+m*.0415,P=w*.0557+y*-.204+m*1.057,p=p>.0031308?1.055*Math.pow(p,1/2.4)-.055:p*12.92,M=M>.0031308?1.055*Math.pow(M,1/2.4)-.055:M*12.92,P=P>.0031308?1.055*Math.pow(P,1/2.4)-.055:P*12.92,p=Math.min(Math.max(0,p),1),M=Math.min(Math.max(0,M),1),P=Math.min(Math.max(0,P),1),[p*255,M*255,P*255]},_.xyz.lab=function(g){var w=g[0],y=g[1],m=g[2],p,M,P;return w/=95.047,y/=100,m/=108.883,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,p=116*y-16,M=500*(w-y),P=200*(y-m),[p,M,P]},_.lab.xyz=function(g){var w=g[0],y=g[1],m=g[2],p,M,P;M=(w+16)/116,p=y/500+M,P=M-m/200;var B=Math.pow(M,3),F=Math.pow(p,3),W=Math.pow(P,3);return M=B>.008856?B:(M-16/116)/7.787,p=F>.008856?F:(p-16/116)/7.787,P=W>.008856?W:(P-16/116)/7.787,p*=95.047,M*=100,P*=108.883,[p,M,P]},_.lab.lch=function(g){var w=g[0],y=g[1],m=g[2],p,M,P;return p=Math.atan2(m,y),M=p*360/2/Math.PI,M<0&&(M+=360),P=Math.sqrt(y*y+m*m),[w,P,M]},_.lch.lab=function(g){var w=g[0],y=g[1],m=g[2],p,M,P;return P=m/360*2*Math.PI,p=y*Math.cos(P),M=y*Math.sin(P),[w,p,M]},_.rgb.ansi16=function(g){var w=g[0],y=g[1],m=g[2],p=1 in arguments?arguments[1]:_.rgb.hsv(g)[2];if(p=Math.round(p/50),p===0)return 30;var M=30+(Math.round(m/255)<<2|Math.round(y/255)<<1|Math.round(w/255));return p===2&&(M+=60),M},_.hsv.ansi16=function(g){return _.rgb.ansi16(_.hsv.rgb(g),g[2])},_.rgb.ansi256=function(g){var w=g[0],y=g[1],m=g[2];if(w===y&&y===m)return w<8?16:w>248?231:Math.round((w-8)/247*24)+232;var p=16+36*Math.round(w/255*5)+6*Math.round(y/255*5)+Math.round(m/255*5);return p},_.ansi16.rgb=function(g){var w=g%10;if(w===0||w===7)return g>50&&(w+=3.5),w=w/10.5*255,[w,w,w];var y=(~~(g>50)+1)*.5,m=(w&1)*y*255,p=(w>>1&1)*y*255,M=(w>>2&1)*y*255;return[m,p,M]},_.ansi256.rgb=function(g){if(g>=232){var w=(g-232)*10+8;return[w,w,w]}g-=16;var y,m=Math.floor(g/36)/5*255,p=Math.floor((y=g%36)/6)/5*255,M=y%6/5*255;return[m,p,M]},_.rgb.hex=function(g){var w=((Math.round(g[0])&255)<<16)+((Math.round(g[1])&255)<<8)+(Math.round(g[2])&255),y=w.toString(16).toUpperCase();return"000000".substring(y.length)+y},_.hex.rgb=function(g){var w=g.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!w)return[0,0,0];var y=w[0];w[0].length===3&&(y=y.split("").map(function(B){return B+B}).join(""));var m=parseInt(y,16),p=m>>16&255,M=m>>8&255,P=m&255;return[p,M,P]},_.rgb.hcg=function(g){var w=g[0]/255,y=g[1]/255,m=g[2]/255,p=Math.max(Math.max(w,y),m),M=Math.min(Math.min(w,y),m),P=p-M,B,F;return P<1?B=M/(1-P):B=0,P<=0?F=0:p===w?F=(y-m)/P%6:p===y?F=2+(m-w)/P:F=4+(w-y)/P+4,F/=6,F%=1,[F*360,P*100,B*100]},_.hsl.hcg=function(g){var w=g[1]/100,y=g[2]/100,m=1,p=0;return y<.5?m=2*w*y:m=2*w*(1-y),m<1&&(p=(y-.5*m)/(1-m)),[g[0],m*100,p*100]},_.hsv.hcg=function(g){var w=g[1]/100,y=g[2]/100,m=w*y,p=0;return m<1&&(p=(y-m)/(1-m)),[g[0],m*100,p*100]},_.hcg.rgb=function(g){var w=g[0]/360,y=g[1]/100,m=g[2]/100;if(y===0)return[m*255,m*255,m*255];var p=[0,0,0],M=w%1*6,P=M%1,B=1-P,F=0;switch(Math.floor(M)){case 0:p[0]=1,p[1]=P,p[2]=0;break;case 1:p[0]=B,p[1]=1,p[2]=0;break;case 2:p[0]=0,p[1]=1,p[2]=P;break;case 3:p[0]=0,p[1]=B,p[2]=1;break;case 4:p[0]=P,p[1]=0,p[2]=1;break;default:p[0]=1,p[1]=0,p[2]=B}return F=(1-y)*m,[(y*p[0]+F)*255,(y*p[1]+F)*255,(y*p[2]+F)*255]},_.hcg.hsv=function(g){var w=g[1]/100,y=g[2]/100,m=w+y*(1-w),p=0;return m>0&&(p=w/m),[g[0],p*100,m*100]},_.hcg.hsl=function(g){var w=g[1]/100,y=g[2]/100,m=y*(1-w)+.5*w,p=0;return m>0&&m<.5?p=w/(2*m):m>=.5&&m<1&&(p=w/(2*(1-m))),[g[0],p*100,m*100]},_.hcg.hwb=function(g){var w=g[1]/100,y=g[2]/100,m=w+y*(1-w);return[g[0],(m-w)*100,(1-m)*100]},_.hwb.hcg=function(g){var w=g[1]/100,y=g[2]/100,m=1-y,p=m-w,M=0;return p<1&&(M=(m-p)/(1-p)),[g[0],p*100,M*100]},_.apple.rgb=function(g){return[g[0]/65535*255,g[1]/65535*255,g[2]/65535*255]},_.rgb.apple=function(g){return[g[0]/255*65535,g[1]/255*65535,g[2]/255*65535]},_.gray.rgb=function(g){return[g[0]/100*255,g[0]/100*255,g[0]/100*255]},_.gray.hsl=_.gray.hsv=function(g){return[0,0,g[0]]},_.gray.hwb=function(g){return[0,100,g[0]]},_.gray.cmyk=function(g){return[0,0,0,g[0]]},_.gray.lab=function(g){return[g[0],0,0]},_.gray.hex=function(g){var w=Math.round(g[0]/100*255)&255,y=(w<<16)+(w<<8)+w,m=y.toString(16).toUpperCase();return"000000".substring(m.length)+m},_.rgb.gray=function(g){var w=(g[0]+g[1]+g[2])/3;return[w/255*100]}},12085:function(ft,S,v){var x=v(48168),O=v(4111),k={},_=Object.keys(x);function T(C){var E=function(g){return g==null?g:(arguments.length>1&&(g=Array.prototype.slice.call(arguments)),C(g))};return"conversion"in C&&(E.conversion=C.conversion),E}function A(C){var E=function(g){if(g==null)return g;arguments.length>1&&(g=Array.prototype.slice.call(arguments));var w=C(g);if(typeof w=="object")for(var y=w.length,m=0;m<y;m++)w[m]=Math.round(w[m]);return w};return"conversion"in C&&(E.conversion=C.conversion),E}_.forEach(function(C){k[C]={},Object.defineProperty(k[C],"channels",{value:x[C].channels}),Object.defineProperty(k[C],"labels",{value:x[C].labels});var E=O(C),g=Object.keys(E);g.forEach(function(w){var y=E[w];k[C][w]=A(y),k[C][w].raw=T(y)})}),ft.exports=k},39092:function(ft){"use strict";ft.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4111:function(ft,S,v){var x=v(48168);function O(){for(var A={},C=Object.keys(x),E=C.length,g=0;g<E;g++)A[C[g]]={distance:-1,parent:null};return A}function k(A){var C=O(),E=[A];for(C[A].distance=0;E.length;)for(var g=E.pop(),w=Object.keys(x[g]),y=w.length,m=0;m<y;m++){var p=w[m],M=C[p];M.distance===-1&&(M.distance=C[g].distance+1,M.parent=g,E.unshift(p))}return C}function _(A,C){return function(E){return C(A(E))}}function T(A,C){for(var E=[C[A].parent,A],g=x[C[A].parent][A],w=C[A].parent;C[w].parent;)E.unshift(C[w].parent),g=_(x[C[w].parent][w],g),w=C[w].parent;return g.conversion=E,g}ft.exports=function(A){for(var C=k(A),E={},g=Object.keys(C),w=g.length,y=0;y<w;y++){var m=g[y],p=C[m];p.parent!==null&&(E[m]=T(m,C))}return E}},8874:function(ft){"use strict";ft.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(ft,S,v){var x=v(8874),O=v(86851),k=Object.hasOwnProperty,_=Object.create(null);for(var T in x)k.call(x,T)&&(_[x[T]]=T);var A=ft.exports={to:{},get:{}};A.get=function(g){var w=g.substring(0,3).toLowerCase(),y,m;switch(w){case"hsl":y=A.get.hsl(g),m="hsl";break;case"hwb":y=A.get.hwb(g),m="hwb";break;default:y=A.get.rgb(g),m="rgb";break}return y?{model:m,value:y}:null},A.get.rgb=function(g){if(!g)return null;var w=/^#([a-f0-9]{3,4})$/i,y=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,m=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,p=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,M=/^(\w+)$/,P=[0,0,0,1],B,F,W;if(B=g.match(y)){for(W=B[2],B=B[1],F=0;F<3;F++){var Q=F*2;P[F]=parseInt(B.slice(Q,Q+2),16)}W&&(P[3]=parseInt(W,16)/255)}else if(B=g.match(w)){for(B=B[1],W=B[3],F=0;F<3;F++)P[F]=parseInt(B[F]+B[F],16);W&&(P[3]=parseInt(W+W,16)/255)}else if(B=g.match(m)){for(F=0;F<3;F++)P[F]=parseInt(B[F+1],0);B[4]&&(B[5]?P[3]=parseFloat(B[4])*.01:P[3]=parseFloat(B[4]))}else if(B=g.match(p)){for(F=0;F<3;F++)P[F]=Math.round(parseFloat(B[F+1])*2.55);B[4]&&(B[5]?P[3]=parseFloat(B[4])*.01:P[3]=parseFloat(B[4]))}else return(B=g.match(M))?B[1]==="transparent"?[0,0,0,0]:k.call(x,B[1])?(P=x[B[1]],P[3]=1,P):null:null;for(F=0;F<3;F++)P[F]=C(P[F],0,255);return P[3]=C(P[3],0,1),P},A.get.hsl=function(g){if(!g)return null;var w=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=g.match(w);if(y){var m=parseFloat(y[4]),p=(parseFloat(y[1])%360+360)%360,M=C(parseFloat(y[2]),0,100),P=C(parseFloat(y[3]),0,100),B=C(isNaN(m)?1:m,0,1);return[p,M,P,B]}return null},A.get.hwb=function(g){if(!g)return null;var w=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=g.match(w);if(y){var m=parseFloat(y[4]),p=(parseFloat(y[1])%360+360)%360,M=C(parseFloat(y[2]),0,100),P=C(parseFloat(y[3]),0,100),B=C(isNaN(m)?1:m,0,1);return[p,M,P,B]}return null},A.to.hex=function(){var g=O(arguments);return"#"+E(g[0])+E(g[1])+E(g[2])+(g[3]<1?E(Math.round(g[3]*255)):"")},A.to.rgb=function(){var g=O(arguments);return g.length<4||g[3]===1?"rgb("+Math.round(g[0])+", "+Math.round(g[1])+", "+Math.round(g[2])+")":"rgba("+Math.round(g[0])+", "+Math.round(g[1])+", "+Math.round(g[2])+", "+g[3]+")"},A.to.rgb.percent=function(){var g=O(arguments),w=Math.round(g[0]/255*100),y=Math.round(g[1]/255*100),m=Math.round(g[2]/255*100);return g.length<4||g[3]===1?"rgb("+w+"%, "+y+"%, "+m+"%)":"rgba("+w+"%, "+y+"%, "+m+"%, "+g[3]+")"},A.to.hsl=function(){var g=O(arguments);return g.length<4||g[3]===1?"hsl("+g[0]+", "+g[1]+"%, "+g[2]+"%)":"hsla("+g[0]+", "+g[1]+"%, "+g[2]+"%, "+g[3]+")"},A.to.hwb=function(){var g=O(arguments),w="";return g.length>=4&&g[3]!==1&&(w=", "+g[3]),"hwb("+g[0]+", "+g[1]+"%, "+g[2]+"%"+w+")"},A.to.keyword=function(g){return _[g.slice(0,3)]};function C(g,w,y){return Math.min(Math.max(w,g),y)}function E(g){var w=Math.round(g).toString(16).toUpperCase();return w.length<2?"0"+w:w}},6767:function(ft,S,v){"use strict";var x=v(19818),O=v(12085),k=[].slice,_=["keyword","gray","hex"],T={};Object.keys(O).forEach(function(M){T[k.call(O[M].labels).sort().join("")]=M});var A={};function C(M,P){if(!(this instanceof C))return new C(M,P);if(P&&P in _&&(P=null),P&&!(P in O))throw new Error("Unknown model: "+P);var B,F;if(M==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(M instanceof C)this.model=M.model,this.color=M.color.slice(),this.valpha=M.valpha;else if(typeof M=="string"){var W=x.get(M);if(W===null)throw new Error("Unable to parse color from string: "+M);this.model=W.model,F=O[this.model].channels,this.color=W.value.slice(0,F),this.valpha=typeof W.value[F]=="number"?W.value[F]:1}else if(M.length){this.model=P||"rgb",F=O[this.model].channels;var Q=k.call(M,0,F);this.color=p(Q,F),this.valpha=typeof M[F]=="number"?M[F]:1}else if(typeof M=="number")M&=16777215,this.model="rgb",this.color=[M>>16&255,M>>8&255,M&255],this.valpha=1;else{this.valpha=1;var H=Object.keys(M);"alpha"in M&&(H.splice(H.indexOf("alpha"),1),this.valpha=typeof M.alpha=="number"?M.alpha:0);var Z=H.sort().join("");if(!(Z in T))throw new Error("Unable to parse color from object: "+JSON.stringify(M));this.model=T[Z];var ot=O[this.model].labels,rt=[];for(B=0;B<ot.length;B++)rt.push(M[ot[B]]);this.color=p(rt)}if(A[this.model])for(F=O[this.model].channels,B=0;B<F;B++){var At=A[this.model][B];At&&(this.color[B]=At(this.color[B]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}C.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(M){var P=this.model in x.to?this:this.rgb();P=P.round(typeof M=="number"?M:1);var B=P.valpha===1?P.color:P.color.concat(this.valpha);return x.to[P.model](B)},percentString:function(M){var P=this.rgb().round(typeof M=="number"?M:1),B=P.valpha===1?P.color:P.color.concat(this.valpha);return x.to.rgb.percent(B)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var M={},P=O[this.model].channels,B=O[this.model].labels,F=0;F<P;F++)M[B[F]]=this.color[F];return this.valpha!==1&&(M.alpha=this.valpha),M},unitArray:function(){var M=this.rgb().color;return M[0]/=255,M[1]/=255,M[2]/=255,this.valpha!==1&&M.push(this.valpha),M},unitObject:function(){var M=this.rgb().object();return M.r/=255,M.g/=255,M.b/=255,this.valpha!==1&&(M.alpha=this.valpha),M},round:function(M){return M=Math.max(M||0,0),new C(this.color.map(g(M)).concat(this.valpha),this.model)},alpha:function(M){return arguments.length?new C(this.color.concat(Math.max(0,Math.min(1,M))),this.model):this.valpha},red:w("rgb",0,y(255)),green:w("rgb",1,y(255)),blue:w("rgb",2,y(255)),hue:w(["hsl","hsv","hsl","hwb","hcg"],0,function(M){return(M%360+360)%360}),saturationl:w("hsl",1,y(100)),lightness:w("hsl",2,y(100)),saturationv:w("hsv",1,y(100)),value:w("hsv",2,y(100)),chroma:w("hcg",1,y(100)),gray:w("hcg",2,y(100)),white:w("hwb",1,y(100)),wblack:w("hwb",2,y(100)),cyan:w("cmyk",0,y(100)),magenta:w("cmyk",1,y(100)),yellow:w("cmyk",2,y(100)),black:w("cmyk",3,y(100)),x:w("xyz",0,y(100)),y:w("xyz",1,y(100)),z:w("xyz",2,y(100)),l:w("lab",0,y(100)),a:w("lab",1),b:w("lab",2),keyword:function(M){return arguments.length?new C(M):O[this.model].keyword(this.color)},hex:function(M){return arguments.length?new C(M):x.to.hex(this.rgb().round().color)},rgbNumber:function(){var M=this.rgb().color;return(M[0]&255)<<16|(M[1]&255)<<8|M[2]&255},luminosity:function(){for(var M=this.rgb().color,P=[],B=0;B<M.length;B++){var F=M[B]/255;P[B]=F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4)}return .2126*P[0]+.7152*P[1]+.0722*P[2]},contrast:function(M){var P=this.luminosity(),B=M.luminosity();return P>B?(P+.05)/(B+.05):(B+.05)/(P+.05)},level:function(M){var P=this.contrast(M);return P>=7.1?"AAA":P>=4.5?"AA":""},isDark:function(){var M=this.rgb().color,P=(M[0]*299+M[1]*587+M[2]*114)/1e3;return P<128},isLight:function(){return!this.isDark()},negate:function(){for(var M=this.rgb(),P=0;P<3;P++)M.color[P]=255-M.color[P];return M},lighten:function(M){var P=this.hsl();return P.color[2]+=P.color[2]*M,P},darken:function(M){var P=this.hsl();return P.color[2]-=P.color[2]*M,P},saturate:function(M){var P=this.hsl();return P.color[1]+=P.color[1]*M,P},desaturate:function(M){var P=this.hsl();return P.color[1]-=P.color[1]*M,P},whiten:function(M){var P=this.hwb();return P.color[1]+=P.color[1]*M,P},blacken:function(M){var P=this.hwb();return P.color[2]+=P.color[2]*M,P},grayscale:function(){var M=this.rgb().color,P=M[0]*.3+M[1]*.59+M[2]*.11;return C.rgb(P,P,P)},fade:function(M){return this.alpha(this.valpha-this.valpha*M)},opaquer:function(M){return this.alpha(this.valpha+this.valpha*M)},rotate:function(M){var P=this.hsl(),B=P.color[0];return B=(B+M)%360,B=B<0?360+B:B,P.color[0]=B,P},mix:function(M,P){if(!M||!M.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof M);var B=M.rgb(),F=this.rgb(),W=P===void 0?.5:P,Q=2*W-1,H=B.alpha()-F.alpha(),Z=((Q*H==-1?Q:(Q+H)/(1+Q*H))+1)/2,ot=1-Z;return C.rgb(Z*B.red()+ot*F.red(),Z*B.green()+ot*F.green(),Z*B.blue()+ot*F.blue(),B.alpha()*W+F.alpha()*(1-W))}},Object.keys(O).forEach(function(M){if(_.indexOf(M)===-1){var P=O[M].channels;C.prototype[M]=function(){if(this.model===M)return new C(this);if(arguments.length)return new C(arguments,M);var B=typeof arguments[P]=="number"?P:this.valpha;return new C(m(O[this.model][M].raw(this.color)).concat(B),M)},C[M]=function(B){return typeof B=="number"&&(B=p(k.call(arguments),P)),new C(B,M)}}});function E(M,P){return Number(M.toFixed(P))}function g(M){return function(P){return E(P,M)}}function w(M,P,B){return M=Array.isArray(M)?M:[M],M.forEach(function(F){(A[F]||(A[F]=[]))[P]=B}),M=M[0],function(F){var W;return arguments.length?(B&&(F=B(F)),W=this[M](),W.color[P]=F,W):(W=this[M]().color[P],B&&(W=B(W)),W)}}function y(M){return function(P){return Math.max(0,Math.min(M,P))}}function m(M){return Array.isArray(M)?M:[M]}function p(M,P){for(var B=0;B<P;B++)typeof M[B]!="number"&&(M[B]=0);return M}ft.exports=C},2650:function(ft,S,v){"use strict";v.d(S,{ZP:function(){return H},B8:function(){return At}});function x(tt,I,u){tt.prototype=I.prototype=u,u.constructor=tt}function O(tt,I){var u=Object.create(tt.prototype);for(var Y in I)u[Y]=I[Y];return u}function k(){}var _=.7,T=1/_,A="\\s*([+-]?\\d+)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g=/^#([0-9a-f]{3,8})$/,w=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),y=new RegExp("^rgb\\("+[E,E,E]+"\\)$"),m=new RegExp("^rgba\\("+[A,A,A,C]+"\\)$"),p=new RegExp("^rgba\\("+[E,E,E,C]+"\\)$"),M=new RegExp("^hsl\\("+[C,E,E]+"\\)$"),P=new RegExp("^hsla\\("+[C,E,E,C]+"\\)$"),B={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};x(k,H,{copy:function(tt){return Object.assign(new this.constructor,this,tt)},displayable:function(){return this.rgb().displayable()},hex:F,formatHex:F,formatHsl:W,formatRgb:Q,toString:Q});function F(){return this.rgb().formatHex()}function W(){return ht(this).formatHsl()}function Q(){return this.rgb().formatRgb()}function H(tt){var I,u;return tt=(tt+"").trim().toLowerCase(),(I=g.exec(tt))?(u=I[1].length,I=parseInt(I[1],16),u===6?Z(I):u===3?new pt(I>>8&15|I>>4&240,I>>4&15|I&240,(I&15)<<4|I&15,1):u===8?ot(I>>24&255,I>>16&255,I>>8&255,(I&255)/255):u===4?ot(I>>12&15|I>>8&240,I>>8&15|I>>4&240,I>>4&15|I&240,((I&15)<<4|I&15)/255):null):(I=w.exec(tt))?new pt(I[1],I[2],I[3],1):(I=y.exec(tt))?new pt(I[1]*255/100,I[2]*255/100,I[3]*255/100,1):(I=m.exec(tt))?ot(I[1],I[2],I[3],I[4]):(I=p.exec(tt))?ot(I[1]*255/100,I[2]*255/100,I[3]*255/100,I[4]):(I=M.exec(tt))?xt(I[1],I[2]/100,I[3]/100,1):(I=P.exec(tt))?xt(I[1],I[2]/100,I[3]/100,I[4]):B.hasOwnProperty(tt)?Z(B[tt]):tt==="transparent"?new pt(NaN,NaN,NaN,0):null}function Z(tt){return new pt(tt>>16&255,tt>>8&255,tt&255,1)}function ot(tt,I,u,Y){return Y<=0&&(tt=I=u=NaN),new pt(tt,I,u,Y)}function rt(tt){return tt instanceof k||(tt=H(tt)),tt?(tt=tt.rgb(),new pt(tt.r,tt.g,tt.b,tt.opacity)):new pt}function At(tt,I,u,Y){return arguments.length===1?rt(tt):new pt(tt,I,u,Y==null?1:Y)}function pt(tt,I,u,Y){this.r=+tt,this.g=+I,this.b=+u,this.opacity=+Y}x(pt,At,O(k,{brighter:function(tt){return tt=tt==null?T:Math.pow(T,tt),new pt(this.r*tt,this.g*tt,this.b*tt,this.opacity)},darker:function(tt){return tt=tt==null?_:Math.pow(_,tt),new pt(this.r*tt,this.g*tt,this.b*tt,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ft,formatHex:Ft,formatRgb:Tt,toString:Tt}));function Ft(){return"#"+Ot(this.r)+Ot(this.g)+Ot(this.b)}function Tt(){var tt=this.opacity;return tt=isNaN(tt)?1:Math.max(0,Math.min(1,tt)),(tt===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(tt===1?")":", "+tt+")")}function Ot(tt){return tt=Math.max(0,Math.min(255,Math.round(tt)||0)),(tt<16?"0":"")+tt.toString(16)}function xt(tt,I,u,Y){return Y<=0?tt=I=u=NaN:u<=0||u>=1?tt=I=NaN:I<=0&&(tt=NaN),new Gt(tt,I,u,Y)}function ht(tt){if(tt instanceof Gt)return new Gt(tt.h,tt.s,tt.l,tt.opacity);if(tt instanceof k||(tt=H(tt)),!tt)return new Gt;if(tt instanceof Gt)return tt;tt=tt.rgb();var I=tt.r/255,u=tt.g/255,Y=tt.b/255,G=Math.min(I,u,Y),X=Math.max(I,u,Y),U=NaN,J=X-G,lt=(X+G)/2;return J?(I===X?U=(u-Y)/J+(u<Y)*6:u===X?U=(Y-I)/J+2:U=(I-u)/J+4,J/=lt<.5?X+G:2-X-G,U*=60):J=lt>0&&lt<1?0:U,new Gt(U,J,lt,tt.opacity)}function kt(tt,I,u,Y){return arguments.length===1?ht(tt):new Gt(tt,I,u,Y==null?1:Y)}function Gt(tt,I,u,Y){this.h=+tt,this.s=+I,this.l=+u,this.opacity=+Y}x(Gt,kt,O(k,{brighter:function(tt){return tt=tt==null?T:Math.pow(T,tt),new Gt(this.h,this.s,this.l*tt,this.opacity)},darker:function(tt){return tt=tt==null?_:Math.pow(_,tt),new Gt(this.h,this.s,this.l*tt,this.opacity)},rgb:function(){var tt=this.h%360+(this.h<0)*360,I=isNaN(tt)||isNaN(this.s)?0:this.s,u=this.l,Y=u+(u<.5?u:1-u)*I,G=2*u-Y;return new pt(dt(tt>=240?tt-240:tt+120,G,Y),dt(tt,G,Y),dt(tt<120?tt+240:tt-120,G,Y),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var tt=this.opacity;return tt=isNaN(tt)?1:Math.max(0,Math.min(1,tt)),(tt===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(tt===1?")":", "+tt+")")}}));function dt(tt,I,u){return(tt<60?I+(u-I)*tt/60:tt<180?u:tt<240?I+(u-I)*(240-tt)/60:I)*255}},68716:function(ft,S,v){"use strict";v.d(S,{yD:function(){return x},_e:function(){return O},tw:function(){return k}});function x(_){return _*_*_}function O(_){return--_*_*_+1}function k(_){return((_*=2)<=1?_*_*_:(_-=2)*_*_+2)/2}},13681:function(ft,S,v){"use strict";v.r(S),v.d(S,{easeBack:function(){return G},easeBackIn:function(){return u},easeBackInOut:function(){return G},easeBackOut:function(){return Y},easeBounce:function(){return dt},easeBounceIn:function(){return Gt},easeBounceInOut:function(){return tt},easeBounceOut:function(){return dt},easeCircle:function(){return Z},easeCircleIn:function(){return Q},easeCircleInOut:function(){return Z},easeCircleOut:function(){return H},easeCubic:function(){return T.tw},easeCubicIn:function(){return T.yD},easeCubicInOut:function(){return T.tw},easeCubicOut:function(){return T._e},easeElastic:function(){return It},easeElasticIn:function(){return lt},easeElasticInOut:function(){return bt},easeElasticOut:function(){return It},easeExp:function(){return W},easeExpIn:function(){return B},easeExpInOut:function(){return W},easeExpOut:function(){return F},easeLinear:function(){return x},easePoly:function(){return g},easePolyIn:function(){return C},easePolyInOut:function(){return g},easePolyOut:function(){return E},easeQuad:function(){return _},easeQuadIn:function(){return O},easeQuadInOut:function(){return _},easeQuadOut:function(){return k},easeSin:function(){return M},easeSinIn:function(){return m},easeSinInOut:function(){return M},easeSinOut:function(){return p}});function x(et){return+et}function O(et){return et*et}function k(et){return et*(2-et)}function _(et){return((et*=2)<=1?et*et:--et*(2-et)+1)/2}var T=v(68716),A=3,C=function et(Ct){Ct=+Ct;function it(st){return Math.pow(st,Ct)}return it.exponent=et,it}(A),E=function et(Ct){Ct=+Ct;function it(st){return 1-Math.pow(1-st,Ct)}return it.exponent=et,it}(A),g=function et(Ct){Ct=+Ct;function it(st){return((st*=2)<=1?Math.pow(st,Ct):2-Math.pow(2-st,Ct))/2}return it.exponent=et,it}(A),w=Math.PI,y=w/2;function m(et){return+et==1?1:1-Math.cos(et*y)}function p(et){return Math.sin(et*y)}function M(et){return(1-Math.cos(w*et))/2}function P(et){return(Math.pow(2,-10*et)-.0009765625)*1.0009775171065494}function B(et){return P(1-+et)}function F(et){return 1-P(et)}function W(et){return((et*=2)<=1?P(1-et):2-P(et-1))/2}function Q(et){return 1-Math.sqrt(1-et*et)}function H(et){return Math.sqrt(1- --et*et)}function Z(et){return((et*=2)<=1?1-Math.sqrt(1-et*et):Math.sqrt(1-(et-=2)*et)+1)/2}var ot=4/11,rt=6/11,At=8/11,pt=3/4,Ft=9/11,Tt=10/11,Ot=15/16,xt=21/22,ht=63/64,kt=1/ot/ot;function Gt(et){return 1-dt(1-et)}function dt(et){return(et=+et)<ot?kt*et*et:et<At?kt*(et-=rt)*et+pt:et<Tt?kt*(et-=Ft)*et+Ot:kt*(et-=xt)*et+ht}function tt(et){return((et*=2)<=1?1-dt(1-et):dt(et-1)+1)/2}var I=1.70158,u=function et(Ct){Ct=+Ct;function it(st){return(st=+st)*st*(Ct*(st-1)+st)}return it.overshoot=et,it}(I),Y=function et(Ct){Ct=+Ct;function it(st){return--st*st*((st+1)*Ct+st)+1}return it.overshoot=et,it}(I),G=function et(Ct){Ct=+Ct;function it(st){return((st*=2)<1?st*st*((Ct+1)*st-Ct):(st-=2)*st*((Ct+1)*st+Ct)+2)/2}return it.overshoot=et,it}(I),X=2*Math.PI,U=1,J=.3,lt=function et(Ct,it){var st=Math.asin(1/(Ct=Math.max(1,Ct)))*(it/=X);function St(at){return Ct*P(- --at)*Math.sin((st-at)/it)}return St.amplitude=function(at){return et(at,it*X)},St.period=function(at){return et(Ct,at)},St}(U,J),It=function et(Ct,it){var st=Math.asin(1/(Ct=Math.max(1,Ct)))*(it/=X);function St(at){return 1-Ct*P(at=+at)*Math.sin((at+st)/it)}return St.amplitude=function(at){return et(at,it*X)},St.period=function(at){return et(Ct,at)},St}(U,J),bt=function et(Ct,it){var st=Math.asin(1/(Ct=Math.max(1,Ct)))*(it/=X);function St(at){return((at=at*2-1)<0?Ct*P(-at)*Math.sin((st-at)/it):2-Ct*P(at)*Math.sin((st+at)/it))/2}return St.amplitude=function(at){return et(at,it*X)},St.period=function(at){return et(Ct,at)},St}(U,J)},88122:function(ft,S,v){"use strict";v.d(S,{Z:function(){return k},M:function(){return _}});var x=v(21775),O=v(67896);function k(T,A){return((0,O.v)(A)?O.Z:_)(T,A)}function _(T,A){var C=A?A.length:0,E=T?Math.min(C,T.length):0,g=new Array(E),w=new Array(C),y;for(y=0;y<E;++y)g[y]=(0,x.Z)(T[y],A[y]);for(;y<C;++y)w[y]=A[y];return function(m){for(y=0;y<E;++y)w[y]=g[y](m);return w}}},55302:function(ft,S,v){"use strict";v.d(S,{Z:function(){return x}});function x(O){return function(){return O}}},73626:function(ft,S,v){"use strict";v.d(S,{Z:function(){return x}});function x(O,k){return O=+O,k=+k,function(_){return O*(1-_)+k*_}}},67896:function(ft,S,v){"use strict";v.d(S,{Z:function(){return x},v:function(){return O}});function x(k,_){_||(_=[]);var T=k?Math.min(_.length,k.length):0,A=_.slice(),C;return function(E){for(C=0;C<T;++C)A[C]=k[C]*(1-E)+_[C]*E;return A}}function O(k){return ArrayBuffer.isView(k)&&!(k instanceof DataView)}},87765:function(ft,S,v){"use strict";v.d(S,{ZP:function(){return y},hD:function(){return p}});var x=v(2650);function O(P,B,F,W,Q){var H=P*P,Z=H*P;return((1-3*P+3*H-Z)*B+(4-6*H+3*Z)*F+(1+3*P+3*H-3*Z)*W+Z*Q)/6}function k(P){var B=P.length-1;return function(F){var W=F<=0?F=0:F>=1?(F=1,B-1):Math.floor(F*B),Q=P[W],H=P[W+1],Z=W>0?P[W-1]:2*Q-H,ot=W<B-1?P[W+2]:2*H-Q;return O((F-W/B)*B,Z,Q,H,ot)}}function _(P){var B=P.length;return function(F){var W=Math.floor(((F%=1)<0?++F:F)*B),Q=P[(W+B-1)%B],H=P[W%B],Z=P[(W+1)%B],ot=P[(W+2)%B];return O((F-W/B)*B,Q,H,Z,ot)}}var T=v(55302);function A(P,B){return function(F){return P+F*B}}function C(P,B,F){return P=Math.pow(P,F),B=Math.pow(B,F)-P,F=1/F,function(W){return Math.pow(P+W*B,F)}}function E(P,B){var F=B-P;return F?A(P,F>180||F<-180?F-360*Math.round(F/360):F):constant(isNaN(P)?B:P)}function g(P){return(P=+P)==1?w:function(B,F){return F-B?C(B,F,P):(0,T.Z)(isNaN(B)?F:B)}}function w(P,B){var F=B-P;return F?A(P,F):(0,T.Z)(isNaN(P)?B:P)}var y=function P(B){var F=g(B);function W(Q,H){var Z=F((Q=(0,x.B8)(Q)).r,(H=(0,x.B8)(H)).r),ot=F(Q.g,H.g),rt=F(Q.b,H.b),At=w(Q.opacity,H.opacity);return function(pt){return Q.r=Z(pt),Q.g=ot(pt),Q.b=rt(pt),Q.opacity=At(pt),Q+""}}return W.gamma=P,W}(1);function m(P){return function(B){var F=B.length,W=new Array(F),Q=new Array(F),H=new Array(F),Z,ot;for(Z=0;Z<F;++Z)ot=(0,x.B8)(B[Z]),W[Z]=ot.r||0,Q[Z]=ot.g||0,H[Z]=ot.b||0;return W=P(W),Q=P(Q),H=P(H),ot.opacity=1,function(rt){return ot.r=W(rt),ot.g=Q(rt),ot.b=H(rt),ot+""}}}var p=m(k),M=m(_)},21775:function(ft,S,v){"use strict";v.d(S,{Z:function(){return M}});var x=v(2650),O=v(87765),k=v(88122);function _(P,B){var F=new Date;return P=+P,B=+B,function(W){return F.setTime(P*(1-W)+B*W),F}}var T=v(73626);function A(P,B){var F={},W={},Q;(P===null||typeof P!="object")&&(P={}),(B===null||typeof B!="object")&&(B={});for(Q in B)Q in P?F[Q]=M(P[Q],B[Q]):W[Q]=B[Q];return function(H){for(Q in F)W[Q]=F[Q](H);return W}}var C=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E=new RegExp(C.source,"g");function g(P){return function(){return P}}function w(P){return function(B){return P(B)+""}}function y(P,B){var F=C.lastIndex=E.lastIndex=0,W,Q,H,Z=-1,ot=[],rt=[];for(P=P+"",B=B+"";(W=C.exec(P))&&(Q=E.exec(B));)(H=Q.index)>F&&(H=B.slice(F,H),ot[Z]?ot[Z]+=H:ot[++Z]=H),(W=W[0])===(Q=Q[0])?ot[Z]?ot[Z]+=Q:ot[++Z]=Q:(ot[++Z]=null,rt.push({i:Z,x:(0,T.Z)(W,Q)})),F=E.lastIndex;return F<B.length&&(H=B.slice(F),ot[Z]?ot[Z]+=H:ot[++Z]=H),ot.length<2?rt[0]?w(rt[0].x):g(B):(B=rt.length,function(At){for(var pt=0,Ft;pt<B;++pt)ot[(Ft=rt[pt]).i]=Ft.x(At);return ot.join("")})}var m=v(55302),p=v(67896);function M(P,B){var F=typeof B,W;return B==null||F==="boolean"?(0,m.Z)(B):(F==="number"?T.Z:F==="string"?(W=(0,x.ZP)(B))?(B=W,O.ZP):y:B instanceof x.ZP?O.ZP:B instanceof Date?_:(0,p.v)(B)?p.Z:Array.isArray(B)?k.M:typeof B.valueOf!="function"&&typeof B.toString!="function"||isNaN(B)?A:T.Z)(P,B)}},56645:function(ft,S){(function(v,x){x(S)})(this,function(v){"use strict";function x(Tt,Ot){return O(Tt)||k(Tt,Ot)||_()}function O(Tt){if(Array.isArray(Tt))return Tt}function k(Tt,Ot){var xt=[],ht=!0,kt=!1,Gt=void 0;try{for(var dt=Tt[Symbol.iterator](),tt;!(ht=(tt=dt.next()).done)&&(xt.push(tt.value),!(Ot&&xt.length===Ot));ht=!0);}catch(I){kt=!0,Gt=I}finally{try{!ht&&dt.return!=null&&dt.return()}finally{if(kt)throw Gt}}return xt}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function T(Tt,Ot,xt,ht){Tt=Tt.filter(function(J,lt){var It=Ot(J,lt),bt=xt(J,lt);return It!=null&&isFinite(It)&&bt!=null&&isFinite(bt)}),ht&&Tt.sort(function(J,lt){return Ot(J)-Ot(lt)});for(var kt=Tt.length,Gt=new Float64Array(kt),dt=new Float64Array(kt),tt=0,I=0,u,Y,G,X=0;X<kt;)G=Tt[X],Gt[X]=u=+Ot(G,X,Tt),dt[X]=Y=+xt(G,X,Tt),++X,tt+=(u-tt)/X,I+=(Y-I)/X;for(var U=0;U<kt;++U)Gt[U]-=tt,dt[U]-=I;return[Gt,dt,tt,I]}function A(Tt,Ot,xt,ht){for(var kt=0,Gt=0,dt=Tt.length;Gt<dt;Gt++){var tt=Tt[Gt],I=+Ot(tt,Gt,Tt),u=+xt(tt,Gt,Tt);I!=null&&isFinite(I)&&u!=null&&isFinite(u)&&ht(I,u,kt++)}}function C(Tt,Ot,xt,ht,kt){var Gt=0,dt=0;return A(Tt,Ot,xt,function(tt,I){var u=I-kt(tt),Y=I-ht;Gt+=u*u,dt+=Y*Y}),1-Gt/dt}function E(Tt){return Math.atan2(Tt[1][1]-Tt[0][1],Tt[1][0]-Tt[0][0])*180/Math.PI}function g(Tt){return[(Tt[0][0]+Tt[1][0])/2,(Tt[0][1]+Tt[1][1])/2]}function w(Tt,Ot,xt){for(var ht=Math.log(Ot-Tt)*Math.LOG10E+1|0,kt=1*Math.pow(10,-ht/2-1),Gt=1e4,dt=[I(Tt),I(Ot)],tt=0;u(dt)&&tt<Gt;);return dt;function I(Y){return[Y,xt(Y)]}function u(Y){tt++;for(var G=Y.length,X=!1,U=0;U<G-1;U++){var J=Y[U],lt=Y[U+1],It=g([J,lt]),bt=I(It[0]),et=E([J,It]),Ct=E([J,bt]),it=Math.abs(et-Ct);it>kt&&(Y.splice(U+1,0,bt),X=!0)}return X}}function y(Tt,Ot,xt,ht){var kt=ht-Tt*Tt,Gt=Math.abs(kt)<1e-24?0:(xt-Tt*Ot)/kt,dt=Ot-Gt*Tt;return[dt,Gt]}function m(){var Tt=function(Gt){return Gt[0]},Ot=function(Gt){return Gt[1]},xt;function ht(kt){var Gt=0,dt=0,tt=0,I=0,u=0,Y=0,G=xt?+xt[0]:Infinity,X=xt?+xt[1]:-Infinity;A(kt,Tt,Ot,function(Ct,it){var st=Math.log(it),St=Ct*it;++Gt,dt+=(it-dt)/Gt,I+=(St-I)/Gt,Y+=(Ct*St-Y)/Gt,tt+=(it*st-tt)/Gt,u+=(St*st-u)/Gt,xt||(Ct<G&&(G=Ct),Ct>X&&(X=Ct))});var U=y(I/dt,tt/dt,u/dt,Y/dt),J=x(U,2),lt=J[0],It=J[1];lt=Math.exp(lt);var bt=function(it){return lt*Math.exp(It*it)},et=w(G,X,bt);return et.a=lt,et.b=It,et.predict=bt,et.rSquared=C(kt,Tt,Ot,dt,bt),et}return ht.domain=function(kt){return arguments.length?(xt=kt,ht):xt},ht.x=function(kt){return arguments.length?(Tt=kt,ht):Tt},ht.y=function(kt){return arguments.length?(Ot=kt,ht):Ot},ht}function p(){var Tt=function(Gt){return Gt[0]},Ot=function(Gt){return Gt[1]},xt;function ht(kt){var Gt=0,dt=0,tt=0,I=0,u=0,Y=xt?+xt[0]:Infinity,G=xt?+xt[1]:-Infinity;A(kt,Tt,Ot,function(et,Ct){++Gt,dt+=(et-dt)/Gt,tt+=(Ct-tt)/Gt,I+=(et*Ct-I)/Gt,u+=(et*et-u)/Gt,xt||(et<Y&&(Y=et),et>G&&(G=et))});var X=y(dt,tt,I,u),U=x(X,2),J=U[0],lt=U[1],It=function(Ct){return lt*Ct+J},bt=[[Y,It(Y)],[G,It(G)]];return bt.a=lt,bt.b=J,bt.predict=It,bt.rSquared=C(kt,Tt,Ot,tt,It),bt}return ht.domain=function(kt){return arguments.length?(xt=kt,ht):xt},ht.x=function(kt){return arguments.length?(Tt=kt,ht):Tt},ht.y=function(kt){return arguments.length?(Ot=kt,ht):Ot},ht}function M(Tt){Tt.sort(function(xt,ht){return xt-ht});var Ot=Tt.length/2;return Ot%1==0?(Tt[Ot-1]+Tt[Ot])/2:Tt[Math.floor(Ot)]}var P=2,B=1e-12;function F(){var Tt=function(Gt){return Gt[0]},Ot=function(Gt){return Gt[1]},xt=.3;function ht(kt){for(var Gt=T(kt,Tt,Ot,!0),dt=x(Gt,4),tt=dt[0],I=dt[1],u=dt[2],Y=dt[3],G=tt.length,X=Math.max(2,~~(xt*G)),U=new Float64Array(G),J=new Float64Array(G),lt=new Float64Array(G).fill(1),It=-1;++It<=P;){for(var bt=[0,X-1],et=0;et<G;++et){for(var Ct=tt[et],it=bt[0],st=bt[1],St=Ct-tt[it]>tt[st]-Ct?it:st,at=0,nt=0,mt=0,Dt=0,ee=0,ce=1/Math.abs(tt[St]-Ct||1),le=it;le<=st;++le){var Xe=tt[le],Ie=I[le],Re=W(Math.abs(Ct-Xe)*ce)*lt[le],or=Xe*Re;at+=Re,nt+=or,mt+=Ie*Re,Dt+=Ie*or,ee+=Xe*or}var lr=y(nt/at,mt/at,Dt/at,ee/at),Ir=x(lr,2),Er=Ir[0],on=Ir[1];U[et]=Er+on*Ct,J[et]=Math.abs(I[et]-U[et]),Q(tt,et+1,bt)}if(It===P)break;var In=M(J);if(Math.abs(In)<B)break;for(var fn=0,xn,$n;fn<G;++fn)xn=J[fn]/(6*In),lt[fn]=xn>=1?B:($n=1-xn*xn)*$n}return H(tt,U,u,Y)}return ht.bandwidth=function(kt){return arguments.length?(xt=kt,ht):xt},ht.x=function(kt){return arguments.length?(Tt=kt,ht):Tt},ht.y=function(kt){return arguments.length?(Ot=kt,ht):Ot},ht}function W(Tt){return(Tt=1-Tt*Tt*Tt)*Tt*Tt}function Q(Tt,Ot,xt){var ht=Tt[Ot],kt=xt[0],Gt=xt[1]+1;if(!(Gt>=Tt.length))for(;Ot>kt&&Tt[Gt]-ht<=ht-Tt[kt];)xt[0]=++kt,xt[1]=Gt,++Gt}function H(Tt,Ot,xt,ht){for(var kt=Tt.length,Gt=[],dt=0,tt=0,I=[],u;dt<kt;++dt)u=Tt[dt]+xt,I[0]===u?I[1]+=(Ot[dt]-I[1])/++tt:(tt=0,I[1]+=ht,I=[u,Ot[dt]],Gt.push(I));return I[1]+=ht,Gt}function Z(){var Tt=function(dt){return dt[0]},Ot=function(dt){return dt[1]},xt=Math.E,ht;function kt(Gt){var dt=0,tt=0,I=0,u=0,Y=0,G=ht?+ht[0]:Infinity,X=ht?+ht[1]:-Infinity,U=Math.log(xt);A(Gt,Tt,Ot,function(it,st){var St=Math.log(it)/U;++dt,tt+=(St-tt)/dt,I+=(st-I)/dt,u+=(St*st-u)/dt,Y+=(St*St-Y)/dt,ht||(it<G&&(G=it),it>X&&(X=it))});var J=y(tt,I,u,Y),lt=x(J,2),It=lt[0],bt=lt[1],et=function(st){return bt*Math.log(st)/U+It},Ct=w(G,X,et);return Ct.a=bt,Ct.b=It,Ct.predict=et,Ct.rSquared=C(Gt,Tt,Ot,I,et),Ct}return kt.domain=function(Gt){return arguments.length?(ht=Gt,kt):ht},kt.x=function(Gt){return arguments.length?(Tt=Gt,kt):Tt},kt.y=function(Gt){return arguments.length?(Ot=Gt,kt):Ot},kt.base=function(Gt){return arguments.length?(xt=Gt,kt):xt},kt}function ot(){var Tt=function(Gt){return Gt[0]},Ot=function(Gt){return Gt[1]},xt;function ht(kt){var Gt=T(kt,Tt,Ot),dt=x(Gt,4),tt=dt[0],I=dt[1],u=dt[2],Y=dt[3],G=tt.length,X=0,U=0,J=0,lt=0,It=0,bt,et,Ct,it;for(bt=0;bt<G;)et=tt[bt],Ct=I[bt++],it=et*et,X+=(it-X)/bt,U+=(it*et-U)/bt,J+=(it*it-J)/bt,lt+=(et*Ct-lt)/bt,It+=(it*Ct-It)/bt;var st=0,St=0,at=xt?+xt[0]:Infinity,nt=xt?+xt[1]:-Infinity;A(kt,Tt,Ot,function(Re,or){St++,st+=(or-st)/St,xt||(Re<at&&(at=Re),Re>nt&&(nt=Re))});var mt=J-X*X,Dt=X*mt-U*U,ee=(It*X-lt*U)/Dt,ce=(lt*mt-It*U)/Dt,le=-ee*X,Xe=function(or){return or=or-u,ee*or*or+ce*or+le+Y},Ie=w(at,nt,Xe);return Ie.a=ee,Ie.b=ce-2*ee*u,Ie.c=le-ce*u+ee*u*u+Y,Ie.predict=Xe,Ie.rSquared=C(kt,Tt,Ot,st,Xe),Ie}return ht.domain=function(kt){return arguments.length?(xt=kt,ht):xt},ht.x=function(kt){return arguments.length?(Tt=kt,ht):Tt},ht.y=function(kt){return arguments.length?(Ot=kt,ht):Ot},ht}function rt(){var Tt=function(dt){return dt[0]},Ot=function(dt){return dt[1]},xt=3,ht;function kt(Gt){if(xt===1){var dt=p().x(Tt).y(Ot).domain(ht)(Gt);return dt.coefficients=[dt.b,dt.a],delete dt.a,delete dt.b,dt}if(xt===2){var tt=ot().x(Tt).y(Ot).domain(ht)(Gt);return tt.coefficients=[tt.c,tt.b,tt.a],delete tt.a,delete tt.b,delete tt.c,tt}var I=T(Gt,Tt,Ot),u=x(I,4),Y=u[0],G=u[1],X=u[2],U=u[3],J=Y.length,lt=[],It=[],bt=xt+1,et=0,Ct=0,it=ht?+ht[0]:Infinity,st=ht?+ht[1]:-Infinity;A(Gt,Tt,Ot,function(Xe,Ie){++Ct,et+=(Ie-et)/Ct,ht||(Xe<it&&(it=Xe),Xe>st&&(st=Xe))});var St,at,nt,mt,Dt;for(St=0;St<bt;++St){for(nt=0,mt=0;nt<J;++nt)mt+=Math.pow(Y[nt],St)*G[nt];for(lt.push(mt),Dt=new Float64Array(bt),at=0;at<bt;++at){for(nt=0,mt=0;nt<J;++nt)mt+=Math.pow(Y[nt],St+at);Dt[at]=mt}It.push(Dt)}It.push(lt);var ee=pt(It),ce=function(Ie){Ie-=X;var Re=U+ee[0]+ee[1]*Ie+ee[2]*Ie*Ie;for(St=3;St<bt;++St)Re+=ee[St]*Math.pow(Ie,St);return Re},le=w(it,st,ce);return le.coefficients=At(bt,ee,-X,U),le.predict=ce,le.rSquared=C(Gt,Tt,Ot,et,ce),le}return kt.domain=function(Gt){return arguments.length?(ht=Gt,kt):ht},kt.x=function(Gt){return arguments.length?(Tt=Gt,kt):Tt},kt.y=function(Gt){return arguments.length?(Ot=Gt,kt):Ot},kt.order=function(Gt){return arguments.length?(xt=Gt,kt):xt},kt}function At(Tt,Ot,xt,ht){var kt=Array(Tt),Gt,dt,tt,I;for(Gt=0;Gt<Tt;++Gt)kt[Gt]=0;for(Gt=Tt-1;Gt>=0;--Gt)for(tt=Ot[Gt],I=1,kt[Gt]+=tt,dt=1;dt<=Gt;++dt)I*=(Gt+1-dt)/dt,kt[Gt-dt]+=tt*Math.pow(xt,dt)*I;return kt[0]+=ht,kt}function pt(Tt){var Ot=Tt.length-1,xt=[],ht,kt,Gt,dt,tt;for(ht=0;ht<Ot;++ht){for(dt=ht,kt=ht+1;kt<Ot;++kt)Math.abs(Tt[ht][kt])>Math.abs(Tt[ht][dt])&&(dt=kt);for(Gt=ht;Gt<Ot+1;++Gt)tt=Tt[Gt][ht],Tt[Gt][ht]=Tt[Gt][dt],Tt[Gt][dt]=tt;for(kt=ht+1;kt<Ot;++kt)for(Gt=Ot;Gt>=ht;Gt--)Tt[Gt][kt]-=Tt[Gt][ht]*Tt[ht][kt]/Tt[ht][ht]}for(kt=Ot-1;kt>=0;--kt){for(tt=0,Gt=kt+1;Gt<Ot;++Gt)tt+=Tt[Gt][kt]*xt[Gt];xt[kt]=(Tt[Ot][kt]-tt)/Tt[kt][kt]}return xt}function Ft(){var Tt=function(Gt){return Gt[0]},Ot=function(Gt){return Gt[1]},xt;function ht(kt){var Gt=0,dt=0,tt=0,I=0,u=0,Y=0,G=xt?+xt[0]:Infinity,X=xt?+xt[1]:-Infinity;A(kt,Tt,Ot,function(Ct,it){var st=Math.log(Ct),St=Math.log(it);++Gt,dt+=(st-dt)/Gt,tt+=(St-tt)/Gt,I+=(st*St-I)/Gt,u+=(st*st-u)/Gt,Y+=(it-Y)/Gt,xt||(Ct<G&&(G=Ct),Ct>X&&(X=Ct))});var U=y(dt,tt,I,u),J=x(U,2),lt=J[0],It=J[1];lt=Math.exp(lt);var bt=function(it){return lt*Math.pow(it,It)},et=w(G,X,bt);return et.a=lt,et.b=It,et.predict=bt,et.rSquared=C(kt,Tt,Ot,Y,bt),et}return ht.domain=function(kt){return arguments.length?(xt=kt,ht):xt},ht.x=function(kt){return arguments.length?(Tt=kt,ht):Tt},ht.y=function(kt){return arguments.length?(Ot=kt,ht):Ot},ht}v.regressionExp=m,v.regressionLinear=p,v.regressionLoess=F,v.regressionLog=Z,v.regressionPoly=rt,v.regressionPow=Ft,v.regressionQuad=ot,Object.defineProperty(v,"__esModule",{value:!0})})},49772:function(ft,S,v){ft.exports={graphlib:v(70574),layout:v(98123),debug:v(27570),util:{time:v(11138).time,notime:v(11138).notime},version:v(88177)}},92188:function(ft,S,v){"use strict";var x=v(38436),O=v(74079);ft.exports={run:k,undo:T};function k(A){var C=A.graph().acyclicer==="greedy"?O(A,E(A)):_(A);x.forEach(C,function(g){var w=A.edge(g);A.removeEdge(g),w.forwardName=g.name,w.reversed=!0,A.setEdge(g.w,g.v,w,x.uniqueId("rev"))});function E(g){return function(w){return g.edge(w).weight}}}function _(A){var C=[],E={},g={};function w(y){x.has(g,y)||(g[y]=!0,E[y]=!0,x.forEach(A.outEdges(y),function(m){x.has(E,m.w)?C.push(m):w(m.w)}),delete E[y])}return x.forEach(A.nodes(),w),C}function T(A){x.forEach(A.edges(),function(C){var E=A.edge(C);if(E.reversed){A.removeEdge(C);var g=E.forwardName;delete E.reversed,delete E.forwardName,A.setEdge(C.w,C.v,E,g)}})}},61133:function(ft,S,v){var x=v(38436),O=v(11138);ft.exports=k;function k(T){function A(C){var E=T.children(C),g=T.node(C);if(E.length&&x.forEach(E,A),x.has(g,"minRank")){g.borderLeft=[],g.borderRight=[];for(var w=g.minRank,y=g.maxRank+1;w<y;++w)_(T,"borderLeft","_bl",C,g,w),_(T,"borderRight","_br",C,g,w)}}x.forEach(T.children(),A)}function _(T,A,C,E,g,w){var y={width:0,height:0,rank:w,borderType:A},m=g[A][w-1],p=O.addDummyNode(T,"border",y,C);g[A][w]=p,T.setParent(p,E),m&&T.setEdge(m,p,{weight:1})}},53258:function(ft,S,v){"use strict";var x=v(38436);ft.exports={adjust:O,undo:k};function O(w){var y=w.graph().rankdir.toLowerCase();(y==="lr"||y==="rl")&&_(w)}function k(w){var y=w.graph().rankdir.toLowerCase();(y==="bt"||y==="rl")&&A(w),(y==="lr"||y==="rl")&&(E(w),_(w))}function _(w){x.forEach(w.nodes(),function(y){T(w.node(y))}),x.forEach(w.edges(),function(y){T(w.edge(y))})}function T(w){var y=w.width;w.width=w.height,w.height=y}function A(w){x.forEach(w.nodes(),function(y){C(w.node(y))}),x.forEach(w.edges(),function(y){var m=w.edge(y);x.forEach(m.points,C),x.has(m,"y")&&C(m)})}function C(w){w.y=-w.y}function E(w){x.forEach(w.nodes(),function(y){g(w.node(y))}),x.forEach(w.edges(),function(y){var m=w.edge(y);x.forEach(m.points,g),x.has(m,"x")&&g(m)})}function g(w){var y=w.x;w.x=w.y,w.y=y}},77822:function(ft){ft.exports=S;function S(){var O={};O._next=O._prev=O,this._sentinel=O}S.prototype.dequeue=function(){var O=this._sentinel,k=O._prev;if(k!==O)return v(k),k},S.prototype.enqueue=function(O){var k=this._sentinel;O._prev&&O._next&&v(O),O._next=k._next,k._next._prev=O,k._next=O,O._prev=k},S.prototype.toString=function(){for(var O=[],k=this._sentinel,_=k._prev;_!==k;)O.push(JSON.stringify(_,x)),_=_._prev;return"["+O.join(", ")+"]"};function v(O){O._prev._next=O._next,O._next._prev=O._prev,delete O._next,delete O._prev}function x(O,k){if(O!=="_next"&&O!=="_prev")return k}},27570:function(ft,S,v){var x=v(38436),O=v(11138),k=v(70574).Graph;ft.exports={debugOrdering:_};function _(T){var A=O.buildLayerMatrix(T),C=new k({compound:!0,multigraph:!0}).setGraph({});return x.forEach(T.nodes(),function(E){C.setNode(E,{label:E}),C.setParent(E,"layer"+T.node(E).rank)}),x.forEach(T.edges(),function(E){C.setEdge(E.v,E.w,{},E.name)}),x.forEach(A,function(E,g){var w="layer"+g;C.setNode(w,{rank:"same"}),x.reduce(E,function(y,m){return C.setEdge(y,m,{style:"invis"}),m})}),C}},70574:function(ft,S,v){var x;try{x=v(28282)}catch(O){}x||(x=window.graphlib),ft.exports=x},74079:function(ft,S,v){var x=v(38436),O=v(70574).Graph,k=v(77822);ft.exports=T;var _=x.constant(1);function T(w,y){if(w.nodeCount()<=1)return[];var m=E(w,y||_),p=A(m.graph,m.buckets,m.zeroIdx);return x.flatten(x.map(p,function(M){return w.outEdges(M.v,M.w)}),!0)}function A(w,y,m){for(var p=[],M=y[y.length-1],P=y[0],B;w.nodeCount();){for(;B=P.dequeue();)C(w,y,m,B);for(;B=M.dequeue();)C(w,y,m,B);if(w.nodeCount()){for(var F=y.length-2;F>0;--F)if(B=y[F].dequeue(),B){p=p.concat(C(w,y,m,B,!0));break}}}return p}function C(w,y,m,p,M){var P=M?[]:void 0;return x.forEach(w.inEdges(p.v),function(B){var F=w.edge(B),W=w.node(B.v);M&&P.push({v:B.v,w:B.w}),W.out-=F,g(y,m,W)}),x.forEach(w.outEdges(p.v),function(B){var F=w.edge(B),W=B.w,Q=w.node(W);Q.in-=F,g(y,m,Q)}),w.removeNode(p.v),P}function E(w,y){var m=new O,p=0,M=0;x.forEach(w.nodes(),function(F){m.setNode(F,{v:F,in:0,out:0})}),x.forEach(w.edges(),function(F){var W=m.edge(F.v,F.w)||0,Q=y(F),H=W+Q;m.setEdge(F.v,F.w,H),M=Math.max(M,m.node(F.v).out+=Q),p=Math.max(p,m.node(F.w).in+=Q)});var P=x.range(M+p+3).map(function(){return new k}),B=p+1;return x.forEach(m.nodes(),function(F){g(P,B,m.node(F))}),{graph:m,buckets:P,zeroIdx:B}}function g(w,y,m){m.out?m.in?w[m.out-m.in+y].enqueue(m):w[w.length-1].enqueue(m):w[0].enqueue(m)}},98123:function(ft,S,v){"use strict";var x=v(38436),O=v(92188),k=v(45995),_=v(78093),T=v(11138).normalizeRanks,A=v(24219),C=v(11138).removeEmptyRanks,E=v(72981),g=v(61133),w=v(53258),y=v(53408),m=v(17873),p=v(11138),M=v(70574).Graph;ft.exports=P;function P(J,lt){var It=lt&&lt.debugTiming?p.time:p.notime;It("layout",function(){var bt=It("  buildLayoutGraph",function(){return Ft(J)});It("  runLayout",function(){B(bt,It)}),It("  updateInputGraph",function(){F(J,bt)})})}function B(J,lt){lt("    makeSpaceForEdgeLabels",function(){Tt(J)}),lt("    removeSelfEdges",function(){u(J)}),lt("    acyclic",function(){O.run(J)}),lt("    nestingGraph.run",function(){E.run(J)}),lt("    rank",function(){_(p.asNonCompoundGraph(J))}),lt("    injectEdgeLabelProxies",function(){Ot(J)}),lt("    removeEmptyRanks",function(){C(J)}),lt("    nestingGraph.cleanup",function(){E.cleanup(J)}),lt("    normalizeRanks",function(){T(J)}),lt("    assignRankMinMax",function(){xt(J)}),lt("    removeEdgeLabelProxies",function(){ht(J)}),lt("    normalize.run",function(){k.run(J)}),lt("    parentDummyChains",function(){A(J)}),lt("    addBorderSegments",function(){g(J)}),lt("    order",function(){y(J)}),lt("    insertSelfEdges",function(){Y(J)}),lt("    adjustCoordinateSystem",function(){w.adjust(J)}),lt("    position",function(){m(J)}),lt("    positionSelfEdges",function(){G(J)}),lt("    removeBorderNodes",function(){I(J)}),lt("    normalize.undo",function(){k.undo(J)}),lt("    fixupEdgeLabelCoords",function(){dt(J)}),lt("    undoCoordinateSystem",function(){w.undo(J)}),lt("    translateGraph",function(){kt(J)}),lt("    assignNodeIntersects",function(){Gt(J)}),lt("    reversePoints",function(){tt(J)}),lt("    acyclic.undo",function(){O.undo(J)})}function F(J,lt){x.forEach(J.nodes(),function(It){var bt=J.node(It),et=lt.node(It);bt&&(bt.x=et.x,bt.y=et.y,lt.children(It).length&&(bt.width=et.width,bt.height=et.height))}),x.forEach(J.edges(),function(It){var bt=J.edge(It),et=lt.edge(It);bt.points=et.points,x.has(et,"x")&&(bt.x=et.x,bt.y=et.y)}),J.graph().width=lt.graph().width,J.graph().height=lt.graph().height}var W=["nodesep","edgesep","ranksep","marginx","marginy"],Q={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},H=["acyclicer","ranker","rankdir","align"],Z=["width","height"],ot={width:0,height:0},rt=["minlen","weight","width","height","labeloffset"],At={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},pt=["labelpos"];function Ft(J){var lt=new M({multigraph:!0,compound:!0}),It=U(J.graph());return lt.setGraph(x.merge({},Q,X(It,W),x.pick(It,H))),x.forEach(J.nodes(),function(bt){var et=U(J.node(bt));lt.setNode(bt,x.defaults(X(et,Z),ot)),lt.setParent(bt,J.parent(bt))}),x.forEach(J.edges(),function(bt){var et=U(J.edge(bt));lt.setEdge(bt,x.merge({},At,X(et,rt),x.pick(et,pt)))}),lt}function Tt(J){var lt=J.graph();lt.ranksep/=2,x.forEach(J.edges(),function(It){var bt=J.edge(It);bt.minlen*=2,bt.labelpos.toLowerCase()!=="c"&&(lt.rankdir==="TB"||lt.rankdir==="BT"?bt.width+=bt.labeloffset:bt.height+=bt.labeloffset)})}function Ot(J){x.forEach(J.edges(),function(lt){var It=J.edge(lt);if(It.width&&It.height){var bt=J.node(lt.v),et=J.node(lt.w),Ct={rank:(et.rank-bt.rank)/2+bt.rank,e:lt};p.addDummyNode(J,"edge-proxy",Ct,"_ep")}})}function xt(J){var lt=0;x.forEach(J.nodes(),function(It){var bt=J.node(It);bt.borderTop&&(bt.minRank=J.node(bt.borderTop).rank,bt.maxRank=J.node(bt.borderBottom).rank,lt=x.max(lt,bt.maxRank))}),J.graph().maxRank=lt}function ht(J){x.forEach(J.nodes(),function(lt){var It=J.node(lt);It.dummy==="edge-proxy"&&(J.edge(It.e).labelRank=It.rank,J.removeNode(lt))})}function kt(J){var lt=Number.POSITIVE_INFINITY,It=0,bt=Number.POSITIVE_INFINITY,et=0,Ct=J.graph(),it=Ct.marginx||0,st=Ct.marginy||0;function St(at){var nt=at.x,mt=at.y,Dt=at.width,ee=at.height;lt=Math.min(lt,nt-Dt/2),It=Math.max(It,nt+Dt/2),bt=Math.min(bt,mt-ee/2),et=Math.max(et,mt+ee/2)}x.forEach(J.nodes(),function(at){St(J.node(at))}),x.forEach(J.edges(),function(at){var nt=J.edge(at);x.has(nt,"x")&&St(nt)}),lt-=it,bt-=st,x.forEach(J.nodes(),function(at){var nt=J.node(at);nt.x-=lt,nt.y-=bt}),x.forEach(J.edges(),function(at){var nt=J.edge(at);x.forEach(nt.points,function(mt){mt.x-=lt,mt.y-=bt}),x.has(nt,"x")&&(nt.x-=lt),x.has(nt,"y")&&(nt.y-=bt)}),Ct.width=It-lt+it,Ct.height=et-bt+st}function Gt(J){x.forEach(J.edges(),function(lt){var It=J.edge(lt),bt=J.node(lt.v),et=J.node(lt.w),Ct,it;It.points?(Ct=It.points[0],it=It.points[It.points.length-1]):(It.points=[],Ct=et,it=bt),It.points.unshift(p.intersectRect(bt,Ct)),It.points.push(p.intersectRect(et,it))})}function dt(J){x.forEach(J.edges(),function(lt){var It=J.edge(lt);if(x.has(It,"x"))switch((It.labelpos==="l"||It.labelpos==="r")&&(It.width-=It.labeloffset),It.labelpos){case"l":It.x-=It.width/2+It.labeloffset;break;case"r":It.x+=It.width/2+It.labeloffset;break}})}function tt(J){x.forEach(J.edges(),function(lt){var It=J.edge(lt);It.reversed&&It.points.reverse()})}function I(J){x.forEach(J.nodes(),function(lt){if(J.children(lt).length){var It=J.node(lt),bt=J.node(It.borderTop),et=J.node(It.borderBottom),Ct=J.node(x.last(It.borderLeft)),it=J.node(x.last(It.borderRight));It.width=Math.abs(it.x-Ct.x),It.height=Math.abs(et.y-bt.y),It.x=Ct.x+It.width/2,It.y=bt.y+It.height/2}}),x.forEach(J.nodes(),function(lt){J.node(lt).dummy==="border"&&J.removeNode(lt)})}function u(J){x.forEach(J.edges(),function(lt){if(lt.v===lt.w){var It=J.node(lt.v);It.selfEdges||(It.selfEdges=[]),It.selfEdges.push({e:lt,label:J.edge(lt)}),J.removeEdge(lt)}})}function Y(J){var lt=p.buildLayerMatrix(J);x.forEach(lt,function(It){var bt=0;x.forEach(It,function(et,Ct){var it=J.node(et);it.order=Ct+bt,x.forEach(it.selfEdges,function(st){p.addDummyNode(J,"selfedge",{width:st.label.width,height:st.label.height,rank:it.rank,order:Ct+ ++bt,e:st.e,label:st.label},"_se")}),delete it.selfEdges})})}function G(J){x.forEach(J.nodes(),function(lt){var It=J.node(lt);if(It.dummy==="selfedge"){var bt=J.node(It.e.v),et=bt.x+bt.width/2,Ct=bt.y,it=It.x-et,st=bt.height/2;J.setEdge(It.e,It.label),J.removeNode(lt),It.label.points=[{x:et+2*it/3,y:Ct-st},{x:et+5*it/6,y:Ct-st},{x:et+it,y:Ct},{x:et+5*it/6,y:Ct+st},{x:et+2*it/3,y:Ct+st}],It.label.x=It.x,It.label.y=It.y}})}function X(J,lt){return x.mapValues(x.pick(J,lt),Number)}function U(J){var lt={};return x.forEach(J,function(It,bt){lt[bt.toLowerCase()]=It}),lt}},38436:function(ft,S,v){var x;try{x={cloneDeep:v(50361),constant:v(75703),defaults:v(91747),each:v(66073),filter:v(63105),find:v(13311),flatten:v(85564),forEach:v(84486),forIn:v(62620),has:v(18721),isUndefined:v(52353),last:v(10928),map:v(35161),mapValues:v(66604),max:v(6162),merge:v(82492),min:v(53632),minBy:v(22762),now:v(7771),pick:v(78718),range:v(96026),reduce:v(54061),sortBy:v(89734),uniqueId:v(73955),values:v(52628),zipObject:v(7287)}}catch(O){}x||(x=window._),ft.exports=x},72981:function(ft,S,v){var x=v(38436),O=v(11138);ft.exports={run:k,cleanup:C};function k(E){var g=O.addDummyNode(E,"root",{},"_root"),w=T(E),y=x.max(x.values(w))-1,m=2*y+1;E.graph().nestingRoot=g,x.forEach(E.edges(),function(M){E.edge(M).minlen*=m});var p=A(E)+1;x.forEach(E.children(),function(M){_(E,g,m,p,y,w,M)}),E.graph().nodeRankFactor=m}function _(E,g,w,y,m,p,M){var P=E.children(M);if(!P.length){M!==g&&E.setEdge(g,M,{weight:0,minlen:w});return}var B=O.addBorderNode(E,"_bt"),F=O.addBorderNode(E,"_bb"),W=E.node(M);E.setParent(B,M),W.borderTop=B,E.setParent(F,M),W.borderBottom=F,x.forEach(P,function(Q){_(E,g,w,y,m,p,Q);var H=E.node(Q),Z=H.borderTop?H.borderTop:Q,ot=H.borderBottom?H.borderBottom:Q,rt=H.borderTop?y:2*y,At=Z!==ot?1:m-p[M]+1;E.setEdge(B,Z,{weight:rt,minlen:At,nestingEdge:!0}),E.setEdge(ot,F,{weight:rt,minlen:At,nestingEdge:!0})}),E.parent(M)||E.setEdge(g,B,{weight:0,minlen:m+p[M]})}function T(E){var g={};function w(y,m){var p=E.children(y);p&&p.length&&x.forEach(p,function(M){w(M,m+1)}),g[y]=m}return x.forEach(E.children(),function(y){w(y,1)}),g}function A(E){return x.reduce(E.edges(),function(g,w){return g+E.edge(w).weight},0)}function C(E){var g=E.graph();E.removeNode(g.nestingRoot),delete g.nestingRoot,x.forEach(E.edges(),function(w){var y=E.edge(w);y.nestingEdge&&E.removeEdge(w)})}},45995:function(ft,S,v){"use strict";var x=v(38436),O=v(11138);ft.exports={run:k,undo:T};function k(A){A.graph().dummyChains=[],x.forEach(A.edges(),function(C){_(A,C)})}function _(A,C){var E=C.v,g=A.node(E).rank,w=C.w,y=A.node(w).rank,m=C.name,p=A.edge(C),M=p.labelRank;if(y!==g+1){A.removeEdge(C);var P,B,F;for(F=0,++g;g<y;++F,++g)p.points=[],B={width:0,height:0,edgeLabel:p,edgeObj:C,rank:g},P=O.addDummyNode(A,"edge",B,"_d"),g===M&&(B.width=p.width,B.height=p.height,B.dummy="edge-label",B.labelpos=p.labelpos),A.setEdge(E,P,{weight:p.weight},m),F===0&&A.graph().dummyChains.push(P),E=P;A.setEdge(E,w,{weight:p.weight},m)}}function T(A){x.forEach(A.graph().dummyChains,function(C){var E=A.node(C),g=E.edgeLabel,w;for(A.setEdge(E.edgeObj,g);E.dummy;)w=A.successors(C)[0],A.removeNode(C),g.points.push({x:E.x,y:E.y}),E.dummy==="edge-label"&&(g.x=E.x,g.y=E.y,g.width=E.width,g.height=E.height),C=w,E=A.node(C)})}},55093:function(ft,S,v){var x=v(38436);ft.exports=O;function O(k,_,T){var A={},C;x.forEach(T,function(E){for(var g=k.parent(E),w,y;g;){if(w=k.parent(g),w?(y=A[w],A[w]=g):(y=C,C=g),y&&y!==g){_.setEdge(y,g);return}g=w}})}},35439:function(ft,S,v){var x=v(38436);ft.exports=O;function O(k,_){return x.map(_,function(T){var A=k.inEdges(T);if(A.length){var C=x.reduce(A,function(E,g){var w=k.edge(g),y=k.node(g.v);return{sum:E.sum+w.weight*y.order,weight:E.weight+w.weight}},{sum:0,weight:0});return{v:T,barycenter:C.sum/C.weight,weight:C.weight}}else return{v:T}})}},23128:function(ft,S,v){var x=v(38436),O=v(70574).Graph;ft.exports=k;function k(T,A,C){var E=_(T),g=new O({compound:!0}).setGraph({root:E}).setDefaultNodeLabel(function(w){return T.node(w)});return x.forEach(T.nodes(),function(w){var y=T.node(w),m=T.parent(w);(y.rank===A||y.minRank<=A&&A<=y.maxRank)&&(g.setNode(w),g.setParent(w,m||E),x.forEach(T[C](w),function(p){var M=p.v===w?p.w:p.v,P=g.edge(M,w),B=x.isUndefined(P)?0:P.weight;g.setEdge(M,w,{weight:T.edge(p).weight+B})}),x.has(y,"minRank")&&g.setNode(w,{borderLeft:y.borderLeft[A],borderRight:y.borderRight[A]}))}),g}function _(T){for(var A;T.hasNode(A=x.uniqueId("_root")););return A}},56630:function(ft,S,v){"use strict";var x=v(38436);ft.exports=O;function O(_,T){for(var A=0,C=1;C<T.length;++C)A+=k(_,T[C-1],T[C]);return A}function k(_,T,A){for(var C=x.zipObject(A,x.map(A,function(p,M){return M})),E=x.flatten(x.map(T,function(p){return x.sortBy(x.map(_.outEdges(p),function(M){return{pos:C[M.w],weight:_.edge(M).weight}}),"pos")}),!0),g=1;g<A.length;)g<<=1;var w=2*g-1;g-=1;var y=x.map(new Array(w),function(){return 0}),m=0;return x.forEach(E.forEach(function(p){var M=p.pos+g;y[M]+=p.weight;for(var P=0;M>0;)M%2&&(P+=y[M+1]),M=M-1>>1,y[M]+=p.weight;m+=p.weight*P})),m}},53408:function(ft,S,v){"use strict";var x=v(38436),O=v(2588),k=v(56630),_=v(61026),T=v(23128),A=v(55093),C=v(70574).Graph,E=v(11138);ft.exports=g;function g(p){var M=E.maxRank(p),P=w(p,x.range(1,M+1),"inEdges"),B=w(p,x.range(M-1,-1,-1),"outEdges"),F=O(p);m(p,F);for(var W=Number.POSITIVE_INFINITY,Q,H=0,Z=0;Z<4;++H,++Z){y(H%2?P:B,H%4>=2),F=E.buildLayerMatrix(p);var ot=k(p,F);ot<W&&(Z=0,Q=x.cloneDeep(F),W=ot)}m(p,Q)}function w(p,M,P){return x.map(M,function(B){return T(p,B,P)})}function y(p,M){var P=new C;x.forEach(p,function(B){var F=B.graph().root,W=_(B,F,P,M);x.forEach(W.vs,function(Q,H){B.node(Q).order=H}),A(B,P,W.vs)})}function m(p,M){x.forEach(M,function(P){x.forEach(P,function(B,F){p.node(B).order=F})})}},2588:function(ft,S,v){"use strict";var x=v(38436);ft.exports=O;function O(k){var _={},T=x.filter(k.nodes(),function(w){return!k.children(w).length}),A=x.max(x.map(T,function(w){return k.node(w).rank})),C=x.map(x.range(A+1),function(){return[]});function E(w){if(!x.has(_,w)){_[w]=!0;var y=k.node(w);C[y.rank].push(w),x.forEach(k.successors(w),E)}}var g=x.sortBy(T,function(w){return k.node(w).rank});return x.forEach(g,E),C}},83678:function(ft,S,v){"use strict";var x=v(38436);ft.exports=O;function O(T,A){var C={};x.forEach(T,function(g,w){var y=C[g.v]={indegree:0,in:[],out:[],vs:[g.v],i:w};x.isUndefined(g.barycenter)||(y.barycenter=g.barycenter,y.weight=g.weight)}),x.forEach(A.edges(),function(g){var w=C[g.v],y=C[g.w];!x.isUndefined(w)&&!x.isUndefined(y)&&(y.indegree++,w.out.push(C[g.w]))});var E=x.filter(C,function(g){return!g.indegree});return k(E)}function k(T){var A=[];function C(w){return function(y){y.merged||(x.isUndefined(y.barycenter)||x.isUndefined(w.barycenter)||y.barycenter>=w.barycenter)&&_(w,y)}}function E(w){return function(y){y.in.push(w),--y.indegree==0&&T.push(y)}}for(;T.length;){var g=T.pop();A.push(g),x.forEach(g.in.reverse(),C(g)),x.forEach(g.out,E(g))}return x.map(x.filter(A,function(w){return!w.merged}),function(w){return x.pick(w,["vs","i","barycenter","weight"])})}function _(T,A){var C=0,E=0;T.weight&&(C+=T.barycenter*T.weight,E+=T.weight),A.weight&&(C+=A.barycenter*A.weight,E+=A.weight),T.vs=A.vs.concat(T.vs),T.barycenter=C/E,T.weight=E,T.i=Math.min(A.i,T.i),A.merged=!0}},61026:function(ft,S,v){var x=v(38436),O=v(35439),k=v(83678),_=v(87304);ft.exports=T;function T(E,g,w,y){var m=E.children(g),p=E.node(g),M=p?p.borderLeft:void 0,P=p?p.borderRight:void 0,B={};M&&(m=x.filter(m,function(ot){return ot!==M&&ot!==P}));var F=O(E,m);x.forEach(F,function(ot){if(E.children(ot.v).length){var rt=T(E,ot.v,w,y);B[ot.v]=rt,x.has(rt,"barycenter")&&C(ot,rt)}});var W=k(F,w);A(W,B);var Q=_(W,y);if(M&&(Q.vs=x.flatten([M,Q.vs,P],!0),E.predecessors(M).length)){var H=E.node(E.predecessors(M)[0]),Z=E.node(E.predecessors(P)[0]);x.has(Q,"barycenter")||(Q.barycenter=0,Q.weight=0),Q.barycenter=(Q.barycenter*Q.weight+H.order+Z.order)/(Q.weight+2),Q.weight+=2}return Q}function A(E,g){x.forEach(E,function(w){w.vs=x.flatten(w.vs.map(function(y){return g[y]?g[y].vs:y}),!0)})}function C(E,g){x.isUndefined(E.barycenter)?(E.barycenter=g.barycenter,E.weight=g.weight):(E.barycenter=(E.barycenter*E.weight+g.barycenter*g.weight)/(E.weight+g.weight),E.weight+=g.weight)}},87304:function(ft,S,v){var x=v(38436),O=v(11138);ft.exports=k;function k(A,C){var E=O.partition(A,function(B){return x.has(B,"barycenter")}),g=E.lhs,w=x.sortBy(E.rhs,function(B){return-B.i}),y=[],m=0,p=0,M=0;g.sort(T(!!C)),M=_(y,w,M),x.forEach(g,function(B){M+=B.vs.length,y.push(B.vs),m+=B.barycenter*B.weight,p+=B.weight,M=_(y,w,M)});var P={vs:x.flatten(y,!0)};return p&&(P.barycenter=m/p,P.weight=p),P}function _(A,C,E){for(var g;C.length&&(g=x.last(C)).i<=E;)C.pop(),A.push(g.vs),E++;return E}function T(A){return function(C,E){return C.barycenter<E.barycenter?-1:C.barycenter>E.barycenter?1:A?E.i-C.i:C.i-E.i}}},24219:function(ft,S,v){var x=v(38436);ft.exports=O;function O(T){var A=_(T);x.forEach(T.graph().dummyChains,function(C){for(var E=T.node(C),g=E.edgeObj,w=k(T,A,g.v,g.w),y=w.path,m=w.lca,p=0,M=y[p],P=!0;C!==g.w;){if(E=T.node(C),P){for(;(M=y[p])!==m&&T.node(M).maxRank<E.rank;)p++;M===m&&(P=!1)}if(!P){for(;p<y.length-1&&T.node(M=y[p+1]).minRank<=E.rank;)p++;M=y[p]}T.setParent(C,M),C=T.successors(C)[0]}})}function k(T,A,C,E){var g=[],w=[],y=Math.min(A[C].low,A[E].low),m=Math.max(A[C].lim,A[E].lim),p,M;p=C;do p=T.parent(p),g.push(p);while(p&&(A[p].low>y||m>A[p].lim));for(M=p,p=E;(p=T.parent(p))!==M;)w.push(p);return{path:g.concat(w.reverse()),lca:M}}function _(T){var A={},C=0;function E(g){var w=C;x.forEach(T.children(g),E),A[g]={low:w,lim:C++}}return x.forEach(T.children(),E),A}},3573:function(ft,S,v){"use strict";var x=v(38436),O=v(70574).Graph,k=v(11138);ft.exports={positionX:P,findType1Conflicts:_,findType2Conflicts:T,addConflict:C,hasConflict:E,verticalAlignment:g,horizontalCompaction:w,alignCoordinates:p,findSmallestWidthAlignment:m,balance:M};function _(W,Q){var H={};function Z(ot,rt){var At=0,pt=0,Ft=ot.length,Tt=x.last(rt);return x.forEach(rt,function(Ot,xt){var ht=A(W,Ot),kt=ht?W.node(ht).order:Ft;(ht||Ot===Tt)&&(x.forEach(rt.slice(pt,xt+1),function(Gt){x.forEach(W.predecessors(Gt),function(dt){var tt=W.node(dt),I=tt.order;(I<At||kt<I)&&!(tt.dummy&&W.node(Gt).dummy)&&C(H,dt,Gt)})}),pt=xt+1,At=kt)}),rt}return x.reduce(Q,Z),H}function T(W,Q){var H={};function Z(rt,At,pt,Ft,Tt){var Ot;x.forEach(x.range(At,pt),function(xt){Ot=rt[xt],W.node(Ot).dummy&&x.forEach(W.predecessors(Ot),function(ht){var kt=W.node(ht);kt.dummy&&(kt.order<Ft||kt.order>Tt)&&C(H,ht,Ot)})})}function ot(rt,At){var pt=-1,Ft,Tt=0;return x.forEach(At,function(Ot,xt){if(W.node(Ot).dummy==="border"){var ht=W.predecessors(Ot);ht.length&&(Ft=W.node(ht[0]).order,Z(At,Tt,xt,pt,Ft),Tt=xt,pt=Ft)}Z(At,Tt,At.length,Ft,rt.length)}),At}return x.reduce(Q,ot),H}function A(W,Q){if(W.node(Q).dummy)return x.find(W.predecessors(Q),function(H){return W.node(H).dummy})}function C(W,Q,H){if(Q>H){var Z=Q;Q=H,H=Z}var ot=W[Q];ot||(W[Q]=ot={}),ot[H]=!0}function E(W,Q,H){if(Q>H){var Z=Q;Q=H,H=Z}return x.has(W[Q],H)}function g(W,Q,H,Z){var ot={},rt={},At={};return x.forEach(Q,function(pt){x.forEach(pt,function(Ft,Tt){ot[Ft]=Ft,rt[Ft]=Ft,At[Ft]=Tt})}),x.forEach(Q,function(pt){var Ft=-1;x.forEach(pt,function(Tt){var Ot=Z(Tt);if(Ot.length){Ot=x.sortBy(Ot,function(dt){return At[dt]});for(var xt=(Ot.length-1)/2,ht=Math.floor(xt),kt=Math.ceil(xt);ht<=kt;++ht){var Gt=Ot[ht];rt[Tt]===Tt&&Ft<At[Gt]&&!E(H,Tt,Gt)&&(rt[Gt]=Tt,rt[Tt]=ot[Tt]=ot[Gt],Ft=At[Gt])}}})}),{root:ot,align:rt}}function w(W,Q,H,Z,ot){var rt={},At=y(W,Q,H,ot),pt=ot?"borderLeft":"borderRight";function Ft(xt,ht){for(var kt=At.nodes(),Gt=kt.pop(),dt={};Gt;)dt[Gt]?xt(Gt):(dt[Gt]=!0,kt.push(Gt),kt=kt.concat(ht(Gt))),Gt=kt.pop()}function Tt(xt){rt[xt]=At.inEdges(xt).reduce(function(ht,kt){return Math.max(ht,rt[kt.v]+At.edge(kt))},0)}function Ot(xt){var ht=At.outEdges(xt).reduce(function(Gt,dt){return Math.min(Gt,rt[dt.w]-At.edge(dt))},Number.POSITIVE_INFINITY),kt=W.node(xt);ht!==Number.POSITIVE_INFINITY&&kt.borderType!==pt&&(rt[xt]=Math.max(rt[xt],ht))}return Ft(Tt,At.predecessors.bind(At)),Ft(Ot,At.successors.bind(At)),x.forEach(Z,function(xt){rt[xt]=rt[H[xt]]}),rt}function y(W,Q,H,Z){var ot=new O,rt=W.graph(),At=B(rt.nodesep,rt.edgesep,Z);return x.forEach(Q,function(pt){var Ft;x.forEach(pt,function(Tt){var Ot=H[Tt];if(ot.setNode(Ot),Ft){var xt=H[Ft],ht=ot.edge(xt,Ot);ot.setEdge(xt,Ot,Math.max(At(W,Tt,Ft),ht||0))}Ft=Tt})}),ot}function m(W,Q){return x.minBy(x.values(Q),function(H){var Z=Number.NEGATIVE_INFINITY,ot=Number.POSITIVE_INFINITY;return x.forIn(H,function(rt,At){var pt=F(W,At)/2;Z=Math.max(rt+pt,Z),ot=Math.min(rt-pt,ot)}),Z-ot})}function p(W,Q){var H=x.values(Q),Z=x.min(H),ot=x.max(H);x.forEach(["u","d"],function(rt){x.forEach(["l","r"],function(At){var pt=rt+At,Ft=W[pt],Tt;if(Ft!==Q){var Ot=x.values(Ft);Tt=At==="l"?Z-x.min(Ot):ot-x.max(Ot),Tt&&(W[pt]=x.mapValues(Ft,function(xt){return xt+Tt}))}})})}function M(W,Q){return x.mapValues(W.ul,function(H,Z){if(Q)return W[Q.toLowerCase()][Z];var ot=x.sortBy(x.map(W,Z));return(ot[1]+ot[2])/2})}function P(W){var Q=k.buildLayerMatrix(W),H=x.merge(_(W,Q),T(W,Q)),Z={},ot;x.forEach(["u","d"],function(At){ot=At==="u"?Q:x.values(Q).reverse(),x.forEach(["l","r"],function(pt){pt==="r"&&(ot=x.map(ot,function(xt){return x.values(xt).reverse()}));var Ft=(At==="u"?W.predecessors:W.successors).bind(W),Tt=g(W,ot,H,Ft),Ot=w(W,ot,Tt.root,Tt.align,pt==="r");pt==="r"&&(Ot=x.mapValues(Ot,function(xt){return-xt})),Z[At+pt]=Ot})});var rt=m(W,Z);return p(Z,rt),M(Z,W.graph().align)}function B(W,Q,H){return function(Z,ot,rt){var At=Z.node(ot),pt=Z.node(rt),Ft=0,Tt;if(Ft+=At.width/2,x.has(At,"labelpos"))switch(At.labelpos.toLowerCase()){case"l":Tt=-At.width/2;break;case"r":Tt=At.width/2;break}if(Tt&&(Ft+=H?Tt:-Tt),Tt=0,Ft+=(At.dummy?Q:W)/2,Ft+=(pt.dummy?Q:W)/2,Ft+=pt.width/2,x.has(pt,"labelpos"))switch(pt.labelpos.toLowerCase()){case"l":Tt=pt.width/2;break;case"r":Tt=-pt.width/2;break}return Tt&&(Ft+=H?Tt:-Tt),Tt=0,Ft}}function F(W,Q){return W.node(Q).width}},17873:function(ft,S,v){"use strict";var x=v(38436),O=v(11138),k=v(3573).positionX;ft.exports=_;function _(A){A=O.asNonCompoundGraph(A),T(A),x.forEach(k(A),function(C,E){A.node(E).x=C})}function T(A){var C=O.buildLayerMatrix(A),E=A.graph().ranksep,g=0;x.forEach(C,function(w){var y=x.max(x.map(w,function(m){return A.node(m).height}));x.forEach(w,function(m){A.node(m).y=g+y/2}),g+=y+E})}},20300:function(ft,S,v){"use strict";var x=v(38436),O=v(70574).Graph,k=v(76681).slack;ft.exports=_;function _(E){var g=new O({directed:!1}),w=E.nodes()[0],y=E.nodeCount();g.setNode(w,{});for(var m,p;T(g,E)<y;)m=A(g,E),p=g.hasNode(m.v)?k(E,m):-k(E,m),C(g,E,p);return g}function T(E,g){function w(y){x.forEach(g.nodeEdges(y),function(m){var p=m.v,M=y===p?m.w:p;!E.hasNode(M)&&!k(g,m)&&(E.setNode(M,{}),E.setEdge(y,M,{}),w(M))})}return x.forEach(E.nodes(),w),E.nodeCount()}function A(E,g){return x.minBy(g.edges(),function(w){if(E.hasNode(w.v)!==E.hasNode(w.w))return k(g,w)})}function C(E,g,w){x.forEach(E.nodes(),function(y){g.node(y).rank+=w})}},78093:function(ft,S,v){"use strict";var x=v(76681),O=x.longestPath,k=v(20300),_=v(42472);ft.exports=T;function T(g){switch(g.graph().ranker){case"network-simplex":E(g);break;case"tight-tree":C(g);break;case"longest-path":A(g);break;default:E(g)}}var A=O;function C(g){O(g),k(g)}function E(g){_(g)}},42472:function(ft,S,v){"use strict";var x=v(38436),O=v(20300),k=v(76681).slack,_=v(76681).longestPath,T=v(70574).alg.preorder,A=v(70574).alg.postorder,C=v(11138).simplify;ft.exports=E,E.initLowLimValues=m,E.initCutValues=g,E.calcCutValue=y,E.leaveEdge=M,E.enterEdge=P,E.exchangeEdges=B;function E(H){H=C(H),_(H);var Z=O(H);m(Z),g(Z,H);for(var ot,rt;ot=M(Z);)rt=P(Z,H,ot),B(Z,H,ot,rt)}function g(H,Z){var ot=A(H,H.nodes());ot=ot.slice(0,ot.length-1),x.forEach(ot,function(rt){w(H,Z,rt)})}function w(H,Z,ot){var rt=H.node(ot),At=rt.parent;H.edge(ot,At).cutvalue=y(H,Z,ot)}function y(H,Z,ot){var rt=H.node(ot),At=rt.parent,pt=!0,Ft=Z.edge(ot,At),Tt=0;return Ft||(pt=!1,Ft=Z.edge(At,ot)),Tt=Ft.weight,x.forEach(Z.nodeEdges(ot),function(Ot){var xt=Ot.v===ot,ht=xt?Ot.w:Ot.v;if(ht!==At){var kt=xt===pt,Gt=Z.edge(Ot).weight;if(Tt+=kt?Gt:-Gt,W(H,ot,ht)){var dt=H.edge(ot,ht).cutvalue;Tt+=kt?-dt:dt}}}),Tt}function m(H,Z){arguments.length<2&&(Z=H.nodes()[0]),p(H,{},1,Z)}function p(H,Z,ot,rt,At){var pt=ot,Ft=H.node(rt);return Z[rt]=!0,x.forEach(H.neighbors(rt),function(Tt){x.has(Z,Tt)||(ot=p(H,Z,ot,Tt,rt))}),Ft.low=pt,Ft.lim=ot++,At?Ft.parent=At:delete Ft.parent,ot}function M(H){return x.find(H.edges(),function(Z){return H.edge(Z).cutvalue<0})}function P(H,Z,ot){var rt=ot.v,At=ot.w;Z.hasEdge(rt,At)||(rt=ot.w,At=ot.v);var pt=H.node(rt),Ft=H.node(At),Tt=pt,Ot=!1;pt.lim>Ft.lim&&(Tt=Ft,Ot=!0);var xt=x.filter(Z.edges(),function(ht){return Ot===Q(H,H.node(ht.v),Tt)&&Ot!==Q(H,H.node(ht.w),Tt)});return x.minBy(xt,function(ht){return k(Z,ht)})}function B(H,Z,ot,rt){var At=ot.v,pt=ot.w;H.removeEdge(At,pt),H.setEdge(rt.v,rt.w,{}),m(H),g(H,Z),F(H,Z)}function F(H,Z){var ot=x.find(H.nodes(),function(At){return!Z.node(At).parent}),rt=T(H,ot);rt=rt.slice(1),x.forEach(rt,function(At){var pt=H.node(At).parent,Ft=Z.edge(At,pt),Tt=!1;Ft||(Ft=Z.edge(pt,At),Tt=!0),Z.node(At).rank=Z.node(pt).rank+(Tt?Ft.minlen:-Ft.minlen)})}function W(H,Z,ot){return H.hasEdge(Z,ot)}function Q(H,Z,ot){return ot.low<=Z.lim&&Z.lim<=ot.lim}},76681:function(ft,S,v){"use strict";var x=v(38436);ft.exports={longestPath:O,slack:k};function O(_){var T={};function A(C){var E=_.node(C);if(x.has(T,C))return E.rank;T[C]=!0;var g=x.min(x.map(_.outEdges(C),function(w){return A(w.w)-_.edge(w).minlen}));return(g===Number.POSITIVE_INFINITY||g===void 0||g===null)&&(g=0),E.rank=g}x.forEach(_.sources(),A)}function k(_,T){return _.node(T.w).rank-_.node(T.v).rank-_.edge(T).minlen}},11138:function(ft,S,v){"use strict";var x=v(38436),O=v(70574).Graph;ft.exports={addDummyNode:k,simplify:_,asNonCompoundGraph:T,successorWeights:A,predecessorWeights:C,intersectRect:E,buildLayerMatrix:g,normalizeRanks:w,removeEmptyRanks:y,addBorderNode:m,maxRank:p,partition:M,time:P,notime:B};function k(F,W,Q,H){var Z;do Z=x.uniqueId(H);while(F.hasNode(Z));return Q.dummy=W,F.setNode(Z,Q),Z}function _(F){var W=new O().setGraph(F.graph());return x.forEach(F.nodes(),function(Q){W.setNode(Q,F.node(Q))}),x.forEach(F.edges(),function(Q){var H=W.edge(Q.v,Q.w)||{weight:0,minlen:1},Z=F.edge(Q);W.setEdge(Q.v,Q.w,{weight:H.weight+Z.weight,minlen:Math.max(H.minlen,Z.minlen)})}),W}function T(F){var W=new O({multigraph:F.isMultigraph()}).setGraph(F.graph());return x.forEach(F.nodes(),function(Q){F.children(Q).length||W.setNode(Q,F.node(Q))}),x.forEach(F.edges(),function(Q){W.setEdge(Q,F.edge(Q))}),W}function A(F){var W=x.map(F.nodes(),function(Q){var H={};return x.forEach(F.outEdges(Q),function(Z){H[Z.w]=(H[Z.w]||0)+F.edge(Z).weight}),H});return x.zipObject(F.nodes(),W)}function C(F){var W=x.map(F.nodes(),function(Q){var H={};return x.forEach(F.inEdges(Q),function(Z){H[Z.v]=(H[Z.v]||0)+F.edge(Z).weight}),H});return x.zipObject(F.nodes(),W)}function E(F,W){var Q=F.x,H=F.y,Z=W.x-Q,ot=W.y-H,rt=F.width/2,At=F.height/2;if(!Z&&!ot)throw new Error("Not possible to find intersection inside of the rectangle");var pt,Ft;return Math.abs(ot)*rt>Math.abs(Z)*At?(ot<0&&(At=-At),pt=At*Z/ot,Ft=At):(Z<0&&(rt=-rt),pt=rt,Ft=rt*ot/Z),{x:Q+pt,y:H+Ft}}function g(F){var W=x.map(x.range(p(F)+1),function(){return[]});return x.forEach(F.nodes(),function(Q){var H=F.node(Q),Z=H.rank;x.isUndefined(Z)||(W[Z][H.order]=Q)}),W}function w(F){var W=x.min(x.map(F.nodes(),function(Q){return F.node(Q).rank}));x.forEach(F.nodes(),function(Q){var H=F.node(Q);x.has(H,"rank")&&(H.rank-=W)})}function y(F){var W=x.min(x.map(F.nodes(),function(ot){return F.node(ot).rank})),Q=[];x.forEach(F.nodes(),function(ot){var rt=F.node(ot).rank-W;Q[rt]||(Q[rt]=[]),Q[rt].push(ot)});var H=0,Z=F.graph().nodeRankFactor;x.forEach(Q,function(ot,rt){x.isUndefined(ot)&&rt%Z!=0?--H:H&&x.forEach(ot,function(At){F.node(At).rank+=H})})}function m(F,W,Q,H){var Z={width:0,height:0};return arguments.length>=4&&(Z.rank=Q,Z.order=H),k(F,"border",Z,W)}function p(F){return x.max(x.map(F.nodes(),function(W){var Q=F.node(W).rank;if(!x.isUndefined(Q))return Q}))}function M(F,W){var Q={lhs:[],rhs:[]};return x.forEach(F,function(H){W(H)?Q.lhs.push(H):Q.rhs.push(H)}),Q}function P(F,W){var Q=x.now();try{return W()}finally{console.log(F+" time: "+(x.now()-Q)+"ms")}}function B(F,W){return W()}},88177:function(ft){ft.exports="0.8.5"},43631:function(ft,S,v){"use strict";v.r(S),v.d(S,{BrowserInfo:function(){return k},NodeInfo:function(){return _},SearchBotDeviceInfo:function(){return T},BotInfo:function(){return A},ReactNativeInfo:function(){return C},detect:function(){return p},browserName:function(){return P},parseUserAgent:function(){return B},detectOS:function(){return F},getNodeVersion:function(){return W}});var x=v(34155),O=function(H,Z,ot){if(ot||arguments.length===2)for(var rt=0,At=Z.length,pt;rt<At;rt++)(pt||!(rt in Z))&&(pt||(pt=Array.prototype.slice.call(Z,0,rt)),pt[rt]=Z[rt]);return H.concat(pt||Array.prototype.slice.call(Z))},k=function(){function H(Z,ot,rt){this.name=Z,this.version=ot,this.os=rt,this.type="browser"}return H}(),_=function(){function H(Z){this.version=Z,this.type="node",this.name="node",this.os=x.platform}return H}(),T=function(){function H(Z,ot,rt,At){this.name=Z,this.version=ot,this.os=rt,this.bot=At,this.type="bot-device"}return H}(),A=function(){function H(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return H}(),C=function(){function H(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return H}(),E=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,g=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,w=3,y=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",E]],m=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function p(H){return H?B(H):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new C:typeof navigator!="undefined"?B(navigator.userAgent):W()}function M(H){return H!==""&&y.reduce(function(Z,ot){var rt=ot[0],At=ot[1];if(Z)return Z;var pt=At.exec(H);return!!pt&&[rt,pt]},!1)}function P(H){var Z=M(H);return Z?Z[0]:null}function B(H){var Z=M(H);if(!Z)return null;var ot=Z[0],rt=Z[1];if(ot==="searchbot")return new A;var At=rt[1]&&rt[1].split(".").join("_").split("_").slice(0,3);At?At.length<w&&(At=O(O([],At,!0),Q(w-At.length),!0)):At=[];var pt=At.join("."),Ft=F(H),Tt=g.exec(H);return Tt&&Tt[1]?new T(ot,pt,Ft,Tt[1]):new k(ot,pt,Ft)}function F(H){for(var Z=0,ot=m.length;Z<ot;Z++){var rt=m[Z],At=rt[0],pt=rt[1],Ft=pt.exec(H);if(Ft)return At}return null}function W(){var H=typeof x!="undefined"&&x.version;return H?new _(x.version.slice(1)):null}function Q(H){for(var Z=[],ot=0;ot<H;ot++)Z.push("0");return Z}},82097:function(ft,S,v){var x;(function(O){"use strict";var k={},_=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,T=/\d\d?/,A=/\d{3}/,C=/\d{4}/,E=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,g=/\[([^]*?)\]/gm,w=function(){};function y(H,Z){for(var ot=[],rt=0,At=H.length;rt<At;rt++)ot.push(H[rt].substr(0,Z));return ot}function m(H){return function(Z,ot,rt){var At=rt[H].indexOf(ot.charAt(0).toUpperCase()+ot.substr(1).toLowerCase());~At&&(Z.month=At)}}function p(H,Z){for(H=String(H),Z=Z||2;H.length<Z;)H="0"+H;return H}var M=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],P=["January","February","March","April","May","June","July","August","September","October","November","December"],B=y(P,3),F=y(M,3);k.i18n={dayNamesShort:F,dayNames:M,monthNamesShort:B,monthNames:P,amPm:["am","pm"],DoFn:function(Z){return Z+["th","st","nd","rd"][Z%10>3?0:(Z-Z%10!=10)*Z%10]}};var W={D:function(H){return H.getDate()},DD:function(H){return p(H.getDate())},Do:function(H,Z){return Z.DoFn(H.getDate())},d:function(H){return H.getDay()},dd:function(H){return p(H.getDay())},ddd:function(H,Z){return Z.dayNamesShort[H.getDay()]},dddd:function(H,Z){return Z.dayNames[H.getDay()]},M:function(H){return H.getMonth()+1},MM:function(H){return p(H.getMonth()+1)},MMM:function(H,Z){return Z.monthNamesShort[H.getMonth()]},MMMM:function(H,Z){return Z.monthNames[H.getMonth()]},YY:function(H){return String(H.getFullYear()).substr(2)},YYYY:function(H){return p(H.getFullYear(),4)},h:function(H){return H.getHours()%12||12},hh:function(H){return p(H.getHours()%12||12)},H:function(H){return H.getHours()},HH:function(H){return p(H.getHours())},m:function(H){return H.getMinutes()},mm:function(H){return p(H.getMinutes())},s:function(H){return H.getSeconds()},ss:function(H){return p(H.getSeconds())},S:function(H){return Math.round(H.getMilliseconds()/100)},SS:function(H){return p(Math.round(H.getMilliseconds()/10),2)},SSS:function(H){return p(H.getMilliseconds(),3)},a:function(H,Z){return H.getHours()<12?Z.amPm[0]:Z.amPm[1]},A:function(H,Z){return H.getHours()<12?Z.amPm[0].toUpperCase():Z.amPm[1].toUpperCase()},ZZ:function(H){var Z=H.getTimezoneOffset();return(Z>0?"-":"+")+p(Math.floor(Math.abs(Z)/60)*100+Math.abs(Z)%60,4)}},Q={D:[T,function(H,Z){H.day=Z}],Do:[new RegExp(T.source+E.source),function(H,Z){H.day=parseInt(Z,10)}],M:[T,function(H,Z){H.month=Z-1}],YY:[T,function(H,Z){var ot=new Date,rt=+(""+ot.getFullYear()).substr(0,2);H.year=""+(Z>68?rt-1:rt)+Z}],h:[T,function(H,Z){H.hour=Z}],m:[T,function(H,Z){H.minute=Z}],s:[T,function(H,Z){H.second=Z}],YYYY:[C,function(H,Z){H.year=Z}],S:[/\d/,function(H,Z){H.millisecond=Z*100}],SS:[/\d{2}/,function(H,Z){H.millisecond=Z*10}],SSS:[A,function(H,Z){H.millisecond=Z}],d:[T,w],ddd:[E,w],MMM:[E,m("monthNamesShort")],MMMM:[E,m("monthNames")],a:[E,function(H,Z,ot){var rt=Z.toLowerCase();rt===ot.amPm[0]?H.isPm=!1:rt===ot.amPm[1]&&(H.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(H,Z){Z==="Z"&&(Z="+00:00");var ot=(Z+"").match(/([\+\-]|\d\d)/gi),rt;ot&&(rt=+(ot[1]*60)+parseInt(ot[2],10),H.timezoneOffset=ot[0]==="+"?rt:-rt)}]};Q.dd=Q.d,Q.dddd=Q.ddd,Q.DD=Q.D,Q.mm=Q.m,Q.hh=Q.H=Q.HH=Q.h,Q.MM=Q.M,Q.ss=Q.s,Q.A=Q.a,k.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},k.format=function(H,Z,ot){var rt=ot||k.i18n;if(typeof H=="number"&&(H=new Date(H)),Object.prototype.toString.call(H)!=="[object Date]"||isNaN(H.getTime()))throw new Error("Invalid Date in fecha.format");Z=k.masks[Z]||Z||k.masks.default;var At=[];return Z=Z.replace(g,function(pt,Ft){return At.push(Ft),"??"}),Z=Z.replace(_,function(pt){return pt in W?W[pt](H,rt):pt.slice(1,pt.length-1)}),Z.replace(/\?\?/g,function(){return At.shift()})},k.parse=function(H,Z,ot){var rt=ot||k.i18n;if(typeof Z!="string")throw new Error("Invalid format in fecha.parse");if(Z=k.masks[Z]||Z,H.length>1e3)return!1;var At=!0,pt={};if(Z.replace(_,function(Ot){if(Q[Ot]){var xt=Q[Ot],ht=H.search(xt[0]);~ht?H.replace(xt[0],function(kt){return xt[1](pt,kt,rt),H=H.substr(ht+kt.length),kt}):At=!1}return Q[Ot]?"":Ot.slice(1,Ot.length-1)}),!At)return!1;var Ft=new Date;pt.isPm===!0&&pt.hour!=null&&+pt.hour!=12?pt.hour=+pt.hour+12:pt.isPm===!1&&+pt.hour==12&&(pt.hour=0);var Tt;return pt.timezoneOffset!=null?(pt.minute=+(pt.minute||0)-+pt.timezoneOffset,Tt=new Date(Date.UTC(pt.year||Ft.getFullYear(),pt.month||0,pt.day||1,pt.hour||0,pt.minute||0,pt.second||0,pt.millisecond||0))):Tt=new Date(pt.year||Ft.getFullYear(),pt.month||0,pt.day||1,pt.hour||0,pt.minute||0,pt.second||0,pt.millisecond||0),Tt},ft.exports?ft.exports=k:(x=function(){return k}.call(S,v,S,ft),x!==void 0&&(ft.exports=x))})(this)},49685:function(ft,S,v){"use strict";v.d(S,{Ib:function(){return x},WT:function(){return O},FD:function(){return k}});var x=1e-6,O=typeof Float32Array!="undefined"?Float32Array:Array,k=Math.random;function _(E){O=E}var T=Math.PI/180;function A(E){return E*T}function C(E,g){return Math.abs(E-g)<=x*Math.max(1,Math.abs(E),Math.abs(g))}Math.hypot||(Math.hypot=function(){for(var E=0,g=arguments.length;g--;)E+=arguments[g]*arguments[g];return Math.sqrt(E)})},35600:function(ft,S,v){"use strict";v.r(S),v.d(S,{create:function(){return O},fromMat4:function(){return k},clone:function(){return _},copy:function(){return T},fromValues:function(){return A},set:function(){return C},identity:function(){return E},transpose:function(){return g},invert:function(){return w},adjoint:function(){return y},determinant:function(){return m},multiply:function(){return p},translate:function(){return M},rotate:function(){return P},scale:function(){return B},fromTranslation:function(){return F},fromRotation:function(){return W},fromScaling:function(){return Q},fromMat2d:function(){return H},fromQuat:function(){return Z},normalFromMat4:function(){return ot},projection:function(){return rt},str:function(){return At},frob:function(){return pt},add:function(){return Ft},subtract:function(){return Tt},multiplyScalar:function(){return Ot},multiplyScalarAndAdd:function(){return xt},exactEquals:function(){return ht},equals:function(){return kt},mul:function(){return Gt},sub:function(){return dt}});var x=v(49685);function O(){var tt=new x.WT(9);return x.WT!=Float32Array&&(tt[1]=0,tt[2]=0,tt[3]=0,tt[5]=0,tt[6]=0,tt[7]=0),tt[0]=1,tt[4]=1,tt[8]=1,tt}function k(tt,I){return tt[0]=I[0],tt[1]=I[1],tt[2]=I[2],tt[3]=I[4],tt[4]=I[5],tt[5]=I[6],tt[6]=I[8],tt[7]=I[9],tt[8]=I[10],tt}function _(tt){var I=new x.WT(9);return I[0]=tt[0],I[1]=tt[1],I[2]=tt[2],I[3]=tt[3],I[4]=tt[4],I[5]=tt[5],I[6]=tt[6],I[7]=tt[7],I[8]=tt[8],I}function T(tt,I){return tt[0]=I[0],tt[1]=I[1],tt[2]=I[2],tt[3]=I[3],tt[4]=I[4],tt[5]=I[5],tt[6]=I[6],tt[7]=I[7],tt[8]=I[8],tt}function A(tt,I,u,Y,G,X,U,J,lt){var It=new x.WT(9);return It[0]=tt,It[1]=I,It[2]=u,It[3]=Y,It[4]=G,It[5]=X,It[6]=U,It[7]=J,It[8]=lt,It}function C(tt,I,u,Y,G,X,U,J,lt,It){return tt[0]=I,tt[1]=u,tt[2]=Y,tt[3]=G,tt[4]=X,tt[5]=U,tt[6]=J,tt[7]=lt,tt[8]=It,tt}function E(tt){return tt[0]=1,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=1,tt[5]=0,tt[6]=0,tt[7]=0,tt[8]=1,tt}function g(tt,I){if(tt===I){var u=I[1],Y=I[2],G=I[5];tt[1]=I[3],tt[2]=I[6],tt[3]=u,tt[5]=I[7],tt[6]=Y,tt[7]=G}else tt[0]=I[0],tt[1]=I[3],tt[2]=I[6],tt[3]=I[1],tt[4]=I[4],tt[5]=I[7],tt[6]=I[2],tt[7]=I[5],tt[8]=I[8];return tt}function w(tt,I){var u=I[0],Y=I[1],G=I[2],X=I[3],U=I[4],J=I[5],lt=I[6],It=I[7],bt=I[8],et=bt*U-J*It,Ct=-bt*X+J*lt,it=It*X-U*lt,st=u*et+Y*Ct+G*it;return st?(st=1/st,tt[0]=et*st,tt[1]=(-bt*Y+G*It)*st,tt[2]=(J*Y-G*U)*st,tt[3]=Ct*st,tt[4]=(bt*u-G*lt)*st,tt[5]=(-J*u+G*X)*st,tt[6]=it*st,tt[7]=(-It*u+Y*lt)*st,tt[8]=(U*u-Y*X)*st,tt):null}function y(tt,I){var u=I[0],Y=I[1],G=I[2],X=I[3],U=I[4],J=I[5],lt=I[6],It=I[7],bt=I[8];return tt[0]=U*bt-J*It,tt[1]=G*It-Y*bt,tt[2]=Y*J-G*U,tt[3]=J*lt-X*bt,tt[4]=u*bt-G*lt,tt[5]=G*X-u*J,tt[6]=X*It-U*lt,tt[7]=Y*lt-u*It,tt[8]=u*U-Y*X,tt}function m(tt){var I=tt[0],u=tt[1],Y=tt[2],G=tt[3],X=tt[4],U=tt[5],J=tt[6],lt=tt[7],It=tt[8];return I*(It*X-U*lt)+u*(-It*G+U*J)+Y*(lt*G-X*J)}function p(tt,I,u){var Y=I[0],G=I[1],X=I[2],U=I[3],J=I[4],lt=I[5],It=I[6],bt=I[7],et=I[8],Ct=u[0],it=u[1],st=u[2],St=u[3],at=u[4],nt=u[5],mt=u[6],Dt=u[7],ee=u[8];return tt[0]=Ct*Y+it*U+st*It,tt[1]=Ct*G+it*J+st*bt,tt[2]=Ct*X+it*lt+st*et,tt[3]=St*Y+at*U+nt*It,tt[4]=St*G+at*J+nt*bt,tt[5]=St*X+at*lt+nt*et,tt[6]=mt*Y+Dt*U+ee*It,tt[7]=mt*G+Dt*J+ee*bt,tt[8]=mt*X+Dt*lt+ee*et,tt}function M(tt,I,u){var Y=I[0],G=I[1],X=I[2],U=I[3],J=I[4],lt=I[5],It=I[6],bt=I[7],et=I[8],Ct=u[0],it=u[1];return tt[0]=Y,tt[1]=G,tt[2]=X,tt[3]=U,tt[4]=J,tt[5]=lt,tt[6]=Ct*Y+it*U+It,tt[7]=Ct*G+it*J+bt,tt[8]=Ct*X+it*lt+et,tt}function P(tt,I,u){var Y=I[0],G=I[1],X=I[2],U=I[3],J=I[4],lt=I[5],It=I[6],bt=I[7],et=I[8],Ct=Math.sin(u),it=Math.cos(u);return tt[0]=it*Y+Ct*U,tt[1]=it*G+Ct*J,tt[2]=it*X+Ct*lt,tt[3]=it*U-Ct*Y,tt[4]=it*J-Ct*G,tt[5]=it*lt-Ct*X,tt[6]=It,tt[7]=bt,tt[8]=et,tt}function B(tt,I,u){var Y=u[0],G=u[1];return tt[0]=Y*I[0],tt[1]=Y*I[1],tt[2]=Y*I[2],tt[3]=G*I[3],tt[4]=G*I[4],tt[5]=G*I[5],tt[6]=I[6],tt[7]=I[7],tt[8]=I[8],tt}function F(tt,I){return tt[0]=1,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=1,tt[5]=0,tt[6]=I[0],tt[7]=I[1],tt[8]=1,tt}function W(tt,I){var u=Math.sin(I),Y=Math.cos(I);return tt[0]=Y,tt[1]=u,tt[2]=0,tt[3]=-u,tt[4]=Y,tt[5]=0,tt[6]=0,tt[7]=0,tt[8]=1,tt}function Q(tt,I){return tt[0]=I[0],tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=I[1],tt[5]=0,tt[6]=0,tt[7]=0,tt[8]=1,tt}function H(tt,I){return tt[0]=I[0],tt[1]=I[1],tt[2]=0,tt[3]=I[2],tt[4]=I[3],tt[5]=0,tt[6]=I[4],tt[7]=I[5],tt[8]=1,tt}function Z(tt,I){var u=I[0],Y=I[1],G=I[2],X=I[3],U=u+u,J=Y+Y,lt=G+G,It=u*U,bt=Y*U,et=Y*J,Ct=G*U,it=G*J,st=G*lt,St=X*U,at=X*J,nt=X*lt;return tt[0]=1-et-st,tt[3]=bt-nt,tt[6]=Ct+at,tt[1]=bt+nt,tt[4]=1-It-st,tt[7]=it-St,tt[2]=Ct-at,tt[5]=it+St,tt[8]=1-It-et,tt}function ot(tt,I){var u=I[0],Y=I[1],G=I[2],X=I[3],U=I[4],J=I[5],lt=I[6],It=I[7],bt=I[8],et=I[9],Ct=I[10],it=I[11],st=I[12],St=I[13],at=I[14],nt=I[15],mt=u*J-Y*U,Dt=u*lt-G*U,ee=u*It-X*U,ce=Y*lt-G*J,le=Y*It-X*J,Xe=G*It-X*lt,Ie=bt*St-et*st,Re=bt*at-Ct*st,or=bt*nt-it*st,lr=et*at-Ct*St,Ir=et*nt-it*St,Er=Ct*nt-it*at,on=mt*Er-Dt*Ir+ee*lr+ce*or-le*Re+Xe*Ie;return on?(on=1/on,tt[0]=(J*Er-lt*Ir+It*lr)*on,tt[1]=(lt*or-U*Er-It*Re)*on,tt[2]=(U*Ir-J*or+It*Ie)*on,tt[3]=(G*Ir-Y*Er-X*lr)*on,tt[4]=(u*Er-G*or+X*Re)*on,tt[5]=(Y*or-u*Ir-X*Ie)*on,tt[6]=(St*Xe-at*le+nt*ce)*on,tt[7]=(at*ee-st*Xe-nt*Dt)*on,tt[8]=(st*le-St*ee+nt*mt)*on,tt):null}function rt(tt,I,u){return tt[0]=2/I,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=-2/u,tt[5]=0,tt[6]=-1,tt[7]=1,tt[8]=1,tt}function At(tt){return"mat3("+tt[0]+", "+tt[1]+", "+tt[2]+", "+tt[3]+", "+tt[4]+", "+tt[5]+", "+tt[6]+", "+tt[7]+", "+tt[8]+")"}function pt(tt){return Math.hypot(tt[0],tt[1],tt[2],tt[3],tt[4],tt[5],tt[6],tt[7],tt[8])}function Ft(tt,I,u){return tt[0]=I[0]+u[0],tt[1]=I[1]+u[1],tt[2]=I[2]+u[2],tt[3]=I[3]+u[3],tt[4]=I[4]+u[4],tt[5]=I[5]+u[5],tt[6]=I[6]+u[6],tt[7]=I[7]+u[7],tt[8]=I[8]+u[8],tt}function Tt(tt,I,u){return tt[0]=I[0]-u[0],tt[1]=I[1]-u[1],tt[2]=I[2]-u[2],tt[3]=I[3]-u[3],tt[4]=I[4]-u[4],tt[5]=I[5]-u[5],tt[6]=I[6]-u[6],tt[7]=I[7]-u[7],tt[8]=I[8]-u[8],tt}function Ot(tt,I,u){return tt[0]=I[0]*u,tt[1]=I[1]*u,tt[2]=I[2]*u,tt[3]=I[3]*u,tt[4]=I[4]*u,tt[5]=I[5]*u,tt[6]=I[6]*u,tt[7]=I[7]*u,tt[8]=I[8]*u,tt}function xt(tt,I,u,Y){return tt[0]=I[0]+u[0]*Y,tt[1]=I[1]+u[1]*Y,tt[2]=I[2]+u[2]*Y,tt[3]=I[3]+u[3]*Y,tt[4]=I[4]+u[4]*Y,tt[5]=I[5]+u[5]*Y,tt[6]=I[6]+u[6]*Y,tt[7]=I[7]+u[7]*Y,tt[8]=I[8]+u[8]*Y,tt}function ht(tt,I){return tt[0]===I[0]&&tt[1]===I[1]&&tt[2]===I[2]&&tt[3]===I[3]&&tt[4]===I[4]&&tt[5]===I[5]&&tt[6]===I[6]&&tt[7]===I[7]&&tt[8]===I[8]}function kt(tt,I){var u=tt[0],Y=tt[1],G=tt[2],X=tt[3],U=tt[4],J=tt[5],lt=tt[6],It=tt[7],bt=tt[8],et=I[0],Ct=I[1],it=I[2],st=I[3],St=I[4],at=I[5],nt=I[6],mt=I[7],Dt=I[8];return Math.abs(u-et)<=x.Ib*Math.max(1,Math.abs(u),Math.abs(et))&&Math.abs(Y-Ct)<=x.Ib*Math.max(1,Math.abs(Y),Math.abs(Ct))&&Math.abs(G-it)<=x.Ib*Math.max(1,Math.abs(G),Math.abs(it))&&Math.abs(X-st)<=x.Ib*Math.max(1,Math.abs(X),Math.abs(st))&&Math.abs(U-St)<=x.Ib*Math.max(1,Math.abs(U),Math.abs(St))&&Math.abs(J-at)<=x.Ib*Math.max(1,Math.abs(J),Math.abs(at))&&Math.abs(lt-nt)<=x.Ib*Math.max(1,Math.abs(lt),Math.abs(nt))&&Math.abs(It-mt)<=x.Ib*Math.max(1,Math.abs(It),Math.abs(mt))&&Math.abs(bt-Dt)<=x.Ib*Math.max(1,Math.abs(bt),Math.abs(Dt))}var Gt=p,dt=Tt},31437:function(ft,S,v){"use strict";v.r(S),v.d(S,{create:function(){return O},clone:function(){return k},fromValues:function(){return _},copy:function(){return T},set:function(){return A},add:function(){return C},subtract:function(){return E},multiply:function(){return g},divide:function(){return w},ceil:function(){return y},floor:function(){return m},min:function(){return p},max:function(){return M},round:function(){return P},scale:function(){return B},scaleAndAdd:function(){return F},distance:function(){return W},squaredDistance:function(){return Q},length:function(){return H},squaredLength:function(){return Z},negate:function(){return ot},inverse:function(){return rt},normalize:function(){return At},dot:function(){return pt},cross:function(){return Ft},lerp:function(){return Tt},random:function(){return Ot},transformMat2:function(){return xt},transformMat2d:function(){return ht},transformMat3:function(){return kt},transformMat4:function(){return Gt},rotate:function(){return dt},angle:function(){return tt},zero:function(){return I},str:function(){return u},exactEquals:function(){return Y},equals:function(){return G},len:function(){return X},sub:function(){return U},mul:function(){return J},div:function(){return lt},dist:function(){return It},sqrDist:function(){return bt},sqrLen:function(){return et},forEach:function(){return Ct}});var x=v(49685);function O(){var it=new x.WT(2);return x.WT!=Float32Array&&(it[0]=0,it[1]=0),it}function k(it){var st=new x.WT(2);return st[0]=it[0],st[1]=it[1],st}function _(it,st){var St=new x.WT(2);return St[0]=it,St[1]=st,St}function T(it,st){return it[0]=st[0],it[1]=st[1],it}function A(it,st,St){return it[0]=st,it[1]=St,it}function C(it,st,St){return it[0]=st[0]+St[0],it[1]=st[1]+St[1],it}function E(it,st,St){return it[0]=st[0]-St[0],it[1]=st[1]-St[1],it}function g(it,st,St){return it[0]=st[0]*St[0],it[1]=st[1]*St[1],it}function w(it,st,St){return it[0]=st[0]/St[0],it[1]=st[1]/St[1],it}function y(it,st){return it[0]=Math.ceil(st[0]),it[1]=Math.ceil(st[1]),it}function m(it,st){return it[0]=Math.floor(st[0]),it[1]=Math.floor(st[1]),it}function p(it,st,St){return it[0]=Math.min(st[0],St[0]),it[1]=Math.min(st[1],St[1]),it}function M(it,st,St){return it[0]=Math.max(st[0],St[0]),it[1]=Math.max(st[1],St[1]),it}function P(it,st){return it[0]=Math.round(st[0]),it[1]=Math.round(st[1]),it}function B(it,st,St){return it[0]=st[0]*St,it[1]=st[1]*St,it}function F(it,st,St,at){return it[0]=st[0]+St[0]*at,it[1]=st[1]+St[1]*at,it}function W(it,st){var St=st[0]-it[0],at=st[1]-it[1];return Math.hypot(St,at)}function Q(it,st){var St=st[0]-it[0],at=st[1]-it[1];return St*St+at*at}function H(it){var st=it[0],St=it[1];return Math.hypot(st,St)}function Z(it){var st=it[0],St=it[1];return st*st+St*St}function ot(it,st){return it[0]=-st[0],it[1]=-st[1],it}function rt(it,st){return it[0]=1/st[0],it[1]=1/st[1],it}function At(it,st){var St=st[0],at=st[1],nt=St*St+at*at;return nt>0&&(nt=1/Math.sqrt(nt)),it[0]=st[0]*nt,it[1]=st[1]*nt,it}function pt(it,st){return it[0]*st[0]+it[1]*st[1]}function Ft(it,st,St){var at=st[0]*St[1]-st[1]*St[0];return it[0]=it[1]=0,it[2]=at,it}function Tt(it,st,St,at){var nt=st[0],mt=st[1];return it[0]=nt+at*(St[0]-nt),it[1]=mt+at*(St[1]-mt),it}function Ot(it,st){st=st||1;var St=x.FD()*2*Math.PI;return it[0]=Math.cos(St)*st,it[1]=Math.sin(St)*st,it}function xt(it,st,St){var at=st[0],nt=st[1];return it[0]=St[0]*at+St[2]*nt,it[1]=St[1]*at+St[3]*nt,it}function ht(it,st,St){var at=st[0],nt=st[1];return it[0]=St[0]*at+St[2]*nt+St[4],it[1]=St[1]*at+St[3]*nt+St[5],it}function kt(it,st,St){var at=st[0],nt=st[1];return it[0]=St[0]*at+St[3]*nt+St[6],it[1]=St[1]*at+St[4]*nt+St[7],it}function Gt(it,st,St){var at=st[0],nt=st[1];return it[0]=St[0]*at+St[4]*nt+St[12],it[1]=St[1]*at+St[5]*nt+St[13],it}function dt(it,st,St,at){var nt=st[0]-St[0],mt=st[1]-St[1],Dt=Math.sin(at),ee=Math.cos(at);return it[0]=nt*ee-mt*Dt+St[0],it[1]=nt*Dt+mt*ee+St[1],it}function tt(it,st){var St=it[0],at=it[1],nt=st[0],mt=st[1],Dt=Math.sqrt(St*St+at*at)*Math.sqrt(nt*nt+mt*mt),ee=Dt&&(St*nt+at*mt)/Dt;return Math.acos(Math.min(Math.max(ee,-1),1))}function I(it){return it[0]=0,it[1]=0,it}function u(it){return"vec2("+it[0]+", "+it[1]+")"}function Y(it,st){return it[0]===st[0]&&it[1]===st[1]}function G(it,st){var St=it[0],at=it[1],nt=st[0],mt=st[1];return Math.abs(St-nt)<=x.Ib*Math.max(1,Math.abs(St),Math.abs(nt))&&Math.abs(at-mt)<=x.Ib*Math.max(1,Math.abs(at),Math.abs(mt))}var X=H,U=E,J=g,lt=w,It=W,bt=Q,et=Z,Ct=function(){var it=O();return function(st,St,at,nt,mt,Dt){var ee,ce;for(St||(St=2),at||(at=0),nt?ce=Math.min(nt*St+at,st.length):ce=st.length,ee=at;ee<ce;ee+=St)it[0]=st[ee],it[1]=st[ee+1],mt(it,it,Dt),st[ee]=it[0],st[ee+1]=it[1];return st}}()},77160:function(ft,S,v){"use strict";v.r(S),v.d(S,{create:function(){return O},clone:function(){return k},length:function(){return _},fromValues:function(){return T},copy:function(){return A},set:function(){return C},add:function(){return E},subtract:function(){return g},multiply:function(){return w},divide:function(){return y},ceil:function(){return m},floor:function(){return p},min:function(){return M},max:function(){return P},round:function(){return B},scale:function(){return F},scaleAndAdd:function(){return W},distance:function(){return Q},squaredDistance:function(){return H},squaredLength:function(){return Z},negate:function(){return ot},inverse:function(){return rt},normalize:function(){return At},dot:function(){return pt},cross:function(){return Ft},lerp:function(){return Tt},hermite:function(){return Ot},bezier:function(){return xt},random:function(){return ht},transformMat4:function(){return kt},transformMat3:function(){return Gt},transformQuat:function(){return dt},rotateX:function(){return tt},rotateY:function(){return I},rotateZ:function(){return u},angle:function(){return Y},zero:function(){return G},str:function(){return X},exactEquals:function(){return U},equals:function(){return J},sub:function(){return lt},mul:function(){return It},div:function(){return bt},dist:function(){return et},sqrDist:function(){return Ct},len:function(){return it},sqrLen:function(){return st},forEach:function(){return St}});var x=v(49685);function O(){var at=new x.WT(3);return x.WT!=Float32Array&&(at[0]=0,at[1]=0,at[2]=0),at}function k(at){var nt=new x.WT(3);return nt[0]=at[0],nt[1]=at[1],nt[2]=at[2],nt}function _(at){var nt=at[0],mt=at[1],Dt=at[2];return Math.hypot(nt,mt,Dt)}function T(at,nt,mt){var Dt=new x.WT(3);return Dt[0]=at,Dt[1]=nt,Dt[2]=mt,Dt}function A(at,nt){return at[0]=nt[0],at[1]=nt[1],at[2]=nt[2],at}function C(at,nt,mt,Dt){return at[0]=nt,at[1]=mt,at[2]=Dt,at}function E(at,nt,mt){return at[0]=nt[0]+mt[0],at[1]=nt[1]+mt[1],at[2]=nt[2]+mt[2],at}function g(at,nt,mt){return at[0]=nt[0]-mt[0],at[1]=nt[1]-mt[1],at[2]=nt[2]-mt[2],at}function w(at,nt,mt){return at[0]=nt[0]*mt[0],at[1]=nt[1]*mt[1],at[2]=nt[2]*mt[2],at}function y(at,nt,mt){return at[0]=nt[0]/mt[0],at[1]=nt[1]/mt[1],at[2]=nt[2]/mt[2],at}function m(at,nt){return at[0]=Math.ceil(nt[0]),at[1]=Math.ceil(nt[1]),at[2]=Math.ceil(nt[2]),at}function p(at,nt){return at[0]=Math.floor(nt[0]),at[1]=Math.floor(nt[1]),at[2]=Math.floor(nt[2]),at}function M(at,nt,mt){return at[0]=Math.min(nt[0],mt[0]),at[1]=Math.min(nt[1],mt[1]),at[2]=Math.min(nt[2],mt[2]),at}function P(at,nt,mt){return at[0]=Math.max(nt[0],mt[0]),at[1]=Math.max(nt[1],mt[1]),at[2]=Math.max(nt[2],mt[2]),at}function B(at,nt){return at[0]=Math.round(nt[0]),at[1]=Math.round(nt[1]),at[2]=Math.round(nt[2]),at}function F(at,nt,mt){return at[0]=nt[0]*mt,at[1]=nt[1]*mt,at[2]=nt[2]*mt,at}function W(at,nt,mt,Dt){return at[0]=nt[0]+mt[0]*Dt,at[1]=nt[1]+mt[1]*Dt,at[2]=nt[2]+mt[2]*Dt,at}function Q(at,nt){var mt=nt[0]-at[0],Dt=nt[1]-at[1],ee=nt[2]-at[2];return Math.hypot(mt,Dt,ee)}function H(at,nt){var mt=nt[0]-at[0],Dt=nt[1]-at[1],ee=nt[2]-at[2];return mt*mt+Dt*Dt+ee*ee}function Z(at){var nt=at[0],mt=at[1],Dt=at[2];return nt*nt+mt*mt+Dt*Dt}function ot(at,nt){return at[0]=-nt[0],at[1]=-nt[1],at[2]=-nt[2],at}function rt(at,nt){return at[0]=1/nt[0],at[1]=1/nt[1],at[2]=1/nt[2],at}function At(at,nt){var mt=nt[0],Dt=nt[1],ee=nt[2],ce=mt*mt+Dt*Dt+ee*ee;return ce>0&&(ce=1/Math.sqrt(ce)),at[0]=nt[0]*ce,at[1]=nt[1]*ce,at[2]=nt[2]*ce,at}function pt(at,nt){return at[0]*nt[0]+at[1]*nt[1]+at[2]*nt[2]}function Ft(at,nt,mt){var Dt=nt[0],ee=nt[1],ce=nt[2],le=mt[0],Xe=mt[1],Ie=mt[2];return at[0]=ee*Ie-ce*Xe,at[1]=ce*le-Dt*Ie,at[2]=Dt*Xe-ee*le,at}function Tt(at,nt,mt,Dt){var ee=nt[0],ce=nt[1],le=nt[2];return at[0]=ee+Dt*(mt[0]-ee),at[1]=ce+Dt*(mt[1]-ce),at[2]=le+Dt*(mt[2]-le),at}function Ot(at,nt,mt,Dt,ee,ce){var le=ce*ce,Xe=le*(2*ce-3)+1,Ie=le*(ce-2)+ce,Re=le*(ce-1),or=le*(3-2*ce);return at[0]=nt[0]*Xe+mt[0]*Ie+Dt[0]*Re+ee[0]*or,at[1]=nt[1]*Xe+mt[1]*Ie+Dt[1]*Re+ee[1]*or,at[2]=nt[2]*Xe+mt[2]*Ie+Dt[2]*Re+ee[2]*or,at}function xt(at,nt,mt,Dt,ee,ce){var le=1-ce,Xe=le*le,Ie=ce*ce,Re=Xe*le,or=3*ce*Xe,lr=3*Ie*le,Ir=Ie*ce;return at[0]=nt[0]*Re+mt[0]*or+Dt[0]*lr+ee[0]*Ir,at[1]=nt[1]*Re+mt[1]*or+Dt[1]*lr+ee[1]*Ir,at[2]=nt[2]*Re+mt[2]*or+Dt[2]*lr+ee[2]*Ir,at}function ht(at,nt){nt=nt||1;var mt=x.FD()*2*Math.PI,Dt=x.FD()*2-1,ee=Math.sqrt(1-Dt*Dt)*nt;return at[0]=Math.cos(mt)*ee,at[1]=Math.sin(mt)*ee,at[2]=Dt*nt,at}function kt(at,nt,mt){var Dt=nt[0],ee=nt[1],ce=nt[2],le=mt[3]*Dt+mt[7]*ee+mt[11]*ce+mt[15];return le=le||1,at[0]=(mt[0]*Dt+mt[4]*ee+mt[8]*ce+mt[12])/le,at[1]=(mt[1]*Dt+mt[5]*ee+mt[9]*ce+mt[13])/le,at[2]=(mt[2]*Dt+mt[6]*ee+mt[10]*ce+mt[14])/le,at}function Gt(at,nt,mt){var Dt=nt[0],ee=nt[1],ce=nt[2];return at[0]=Dt*mt[0]+ee*mt[3]+ce*mt[6],at[1]=Dt*mt[1]+ee*mt[4]+ce*mt[7],at[2]=Dt*mt[2]+ee*mt[5]+ce*mt[8],at}function dt(at,nt,mt){var Dt=mt[0],ee=mt[1],ce=mt[2],le=mt[3],Xe=nt[0],Ie=nt[1],Re=nt[2],or=ee*Re-ce*Ie,lr=ce*Xe-Dt*Re,Ir=Dt*Ie-ee*Xe,Er=ee*Ir-ce*lr,on=ce*or-Dt*Ir,In=Dt*lr-ee*or,fn=le*2;return or*=fn,lr*=fn,Ir*=fn,Er*=2,on*=2,In*=2,at[0]=Xe+or+Er,at[1]=Ie+lr+on,at[2]=Re+Ir+In,at}function tt(at,nt,mt,Dt){var ee=[],ce=[];return ee[0]=nt[0]-mt[0],ee[1]=nt[1]-mt[1],ee[2]=nt[2]-mt[2],ce[0]=ee[0],ce[1]=ee[1]*Math.cos(Dt)-ee[2]*Math.sin(Dt),ce[2]=ee[1]*Math.sin(Dt)+ee[2]*Math.cos(Dt),at[0]=ce[0]+mt[0],at[1]=ce[1]+mt[1],at[2]=ce[2]+mt[2],at}function I(at,nt,mt,Dt){var ee=[],ce=[];return ee[0]=nt[0]-mt[0],ee[1]=nt[1]-mt[1],ee[2]=nt[2]-mt[2],ce[0]=ee[2]*Math.sin(Dt)+ee[0]*Math.cos(Dt),ce[1]=ee[1],ce[2]=ee[2]*Math.cos(Dt)-ee[0]*Math.sin(Dt),at[0]=ce[0]+mt[0],at[1]=ce[1]+mt[1],at[2]=ce[2]+mt[2],at}function u(at,nt,mt,Dt){var ee=[],ce=[];return ee[0]=nt[0]-mt[0],ee[1]=nt[1]-mt[1],ee[2]=nt[2]-mt[2],ce[0]=ee[0]*Math.cos(Dt)-ee[1]*Math.sin(Dt),ce[1]=ee[0]*Math.sin(Dt)+ee[1]*Math.cos(Dt),ce[2]=ee[2],at[0]=ce[0]+mt[0],at[1]=ce[1]+mt[1],at[2]=ce[2]+mt[2],at}function Y(at,nt){var mt=at[0],Dt=at[1],ee=at[2],ce=nt[0],le=nt[1],Xe=nt[2],Ie=Math.sqrt(mt*mt+Dt*Dt+ee*ee),Re=Math.sqrt(ce*ce+le*le+Xe*Xe),or=Ie*Re,lr=or&&pt(at,nt)/or;return Math.acos(Math.min(Math.max(lr,-1),1))}function G(at){return at[0]=0,at[1]=0,at[2]=0,at}function X(at){return"vec3("+at[0]+", "+at[1]+", "+at[2]+")"}function U(at,nt){return at[0]===nt[0]&&at[1]===nt[1]&&at[2]===nt[2]}function J(at,nt){var mt=at[0],Dt=at[1],ee=at[2],ce=nt[0],le=nt[1],Xe=nt[2];return Math.abs(mt-ce)<=x.Ib*Math.max(1,Math.abs(mt),Math.abs(ce))&&Math.abs(Dt-le)<=x.Ib*Math.max(1,Math.abs(Dt),Math.abs(le))&&Math.abs(ee-Xe)<=x.Ib*Math.max(1,Math.abs(ee),Math.abs(Xe))}var lt=g,It=w,bt=y,et=Q,Ct=H,it=_,st=Z,St=function(){var at=O();return function(nt,mt,Dt,ee,ce,le){var Xe,Ie;for(mt||(mt=3),Dt||(Dt=0),ee?Ie=Math.min(ee*mt+Dt,nt.length):Ie=nt.length,Xe=Dt;Xe<Ie;Xe+=mt)at[0]=nt[Xe],at[1]=nt[Xe+1],at[2]=nt[Xe+2],ce(at,at,le),nt[Xe]=at[0],nt[Xe+1]=at[1],nt[Xe+2]=at[2];return nt}}()},28282:function(ft,S,v){var x=v(82354);ft.exports={Graph:x.Graph,json:v(28974),alg:v(12440),version:x.version}},2842:function(ft,S,v){var x=v(89126);ft.exports=O;function O(k){var _={},T=[],A;function C(E){x.has(_,E)||(_[E]=!0,A.push(E),x.each(k.successors(E),C),x.each(k.predecessors(E),C))}return x.each(k.nodes(),function(E){A=[],C(E),A.length&&T.push(A)}),T}},53984:function(ft,S,v){var x=v(89126);ft.exports=O;function O(_,T,A){x.isArray(T)||(T=[T]);var C=(_.isDirected()?_.successors:_.neighbors).bind(_),E=[],g={};return x.each(T,function(w){if(!_.hasNode(w))throw new Error("Graph does not have node: "+w);k(_,w,A==="post",g,C,E)}),E}function k(_,T,A,C,E,g){x.has(C,T)||(C[T]=!0,A||g.push(T),x.each(E(T),function(w){k(_,w,A,C,E,g)}),A&&g.push(T))}},84847:function(ft,S,v){var x=v(63763),O=v(89126);ft.exports=k;function k(_,T,A){return O.transform(_.nodes(),function(C,E){C[E]=x(_,E,T,A)},{})}},63763:function(ft,S,v){var x=v(89126),O=v(75639);ft.exports=_;var k=x.constant(1);function _(A,C,E,g){return T(A,String(C),E||k,g||function(w){return A.outEdges(w)})}function T(A,C,E,g){var w={},y=new O,m,p,M=function(P){var B=P.v!==m?P.v:P.w,F=w[B],W=E(P),Q=p.distance+W;if(W<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+P+" Weight: "+W);Q<F.distance&&(F.distance=Q,F.predecessor=m,y.decrease(B,Q))};for(A.nodes().forEach(function(P){var B=P===C?0:Number.POSITIVE_INFINITY;w[P]={distance:B},y.add(P,B)});y.size()>0&&(m=y.removeMin(),p=w[m],p.distance!==Number.POSITIVE_INFINITY);)g(m).forEach(M);return w}},9096:function(ft,S,v){var x=v(89126),O=v(5023);ft.exports=k;function k(_){return x.filter(O(_),function(T){return T.length>1||T.length===1&&_.hasEdge(T[0],T[0])})}},38924:function(ft,S,v){var x=v(89126);ft.exports=k;var O=x.constant(1);function k(T,A,C){return _(T,A||O,C||function(E){return T.outEdges(E)})}function _(T,A,C){var E={},g=T.nodes();return g.forEach(function(w){E[w]={},E[w][w]={distance:0},g.forEach(function(y){w!==y&&(E[w][y]={distance:Number.POSITIVE_INFINITY})}),C(w).forEach(function(y){var m=y.v===w?y.w:y.v,p=A(y);E[w][m]={distance:p,predecessor:w}})}),g.forEach(function(w){var y=E[w];g.forEach(function(m){var p=E[m];g.forEach(function(M){var P=p[w],B=y[M],F=p[M],W=P.distance+B.distance;W<F.distance&&(F.distance=W,F.predecessor=B.predecessor)})})}),E}},12440:function(ft,S,v){ft.exports={components:v(2842),dijkstra:v(63763),dijkstraAll:v(84847),findCycles:v(9096),floydWarshall:v(38924),isAcyclic:v(62707),postorder:v(58828),preorder:v(92648),prim:v(80514),tarjan:v(5023),topsort:v(2166)}},62707:function(ft,S,v){var x=v(2166);ft.exports=O;function O(k){try{x(k)}catch(_){if(_ instanceof x.CycleException)return!1;throw _}return!0}},58828:function(ft,S,v){var x=v(53984);ft.exports=O;function O(k,_){return x(k,_,"post")}},92648:function(ft,S,v){var x=v(53984);ft.exports=O;function O(k,_){return x(k,_,"pre")}},80514:function(ft,S,v){var x=v(89126),O=v(30771),k=v(75639);ft.exports=_;function _(T,A){var C=new O,E={},g=new k,w;function y(p){var M=p.v===w?p.w:p.v,P=g.priority(M);if(P!==void 0){var B=A(p);B<P&&(E[M]=w,g.decrease(M,B))}}if(T.nodeCount()===0)return C;x.each(T.nodes(),function(p){g.add(p,Number.POSITIVE_INFINITY),C.setNode(p)}),g.decrease(T.nodes()[0],0);for(var m=!1;g.size()>0;){if(w=g.removeMin(),x.has(E,w))C.setEdge(w,E[w]);else{if(m)throw new Error("Input graph is not connected: "+T);m=!0}T.nodeEdges(w).forEach(y)}return C}},5023:function(ft,S,v){var x=v(89126);ft.exports=O;function O(k){var _=0,T=[],A={},C=[];function E(g){var w=A[g]={onStack:!0,lowlink:_,index:_++};if(T.push(g),k.successors(g).forEach(function(p){x.has(A,p)?A[p].onStack&&(w.lowlink=Math.min(w.lowlink,A[p].index)):(E(p),w.lowlink=Math.min(w.lowlink,A[p].lowlink))}),w.lowlink===w.index){var y=[],m;do m=T.pop(),A[m].onStack=!1,y.push(m);while(g!==m);C.push(y)}}return k.nodes().forEach(function(g){x.has(A,g)||E(g)}),C}},2166:function(ft,S,v){var x=v(89126);ft.exports=O,O.CycleException=k;function O(_){var T={},A={},C=[];function E(g){if(x.has(A,g))throw new k;x.has(T,g)||(A[g]=!0,T[g]=!0,x.each(_.predecessors(g),E),delete A[g],C.push(g))}if(x.each(_.sinks(),E),x.size(T)!==_.nodeCount())throw new k;return C}function k(){}k.prototype=new Error},75639:function(ft,S,v){var x=v(89126);ft.exports=O;function O(){this._arr=[],this._keyIndices={}}O.prototype.size=function(){return this._arr.length},O.prototype.keys=function(){return this._arr.map(function(k){return k.key})},O.prototype.has=function(k){return x.has(this._keyIndices,k)},O.prototype.priority=function(k){var _=this._keyIndices[k];if(_!==void 0)return this._arr[_].priority},O.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},O.prototype.add=function(k,_){var T=this._keyIndices;if(k=String(k),!x.has(T,k)){var A=this._arr,C=A.length;return T[k]=C,A.push({key:k,priority:_}),this._decrease(C),!0}return!1},O.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var k=this._arr.pop();return delete this._keyIndices[k.key],this._heapify(0),k.key},O.prototype.decrease=function(k,_){var T=this._keyIndices[k];if(_>this._arr[T].priority)throw new Error("New priority is greater than current priority. Key: "+k+" Old: "+this._arr[T].priority+" New: "+_);this._arr[T].priority=_,this._decrease(T)},O.prototype._heapify=function(k){var _=this._arr,T=2*k,A=T+1,C=k;T<_.length&&(C=_[T].priority<_[C].priority?T:C,A<_.length&&(C=_[A].priority<_[C].priority?A:C),C!==k&&(this._swap(k,C),this._heapify(C)))},O.prototype._decrease=function(k){for(var _=this._arr,T=_[k].priority,A;k!==0&&(A=k>>1,!(_[A].priority<T));)this._swap(k,A),k=A},O.prototype._swap=function(k,_){var T=this._arr,A=this._keyIndices,C=T[k],E=T[_];T[k]=E,T[_]=C,A[E.key]=k,A[C.key]=_}},30771:function(ft,S,v){"use strict";var x=v(89126);ft.exports=T;var O="\0",k="\0",_="";function T(y){this._isDirected=x.has(y,"directed")?y.directed:!0,this._isMultigraph=x.has(y,"multigraph")?y.multigraph:!1,this._isCompound=x.has(y,"compound")?y.compound:!1,this._label=void 0,this._defaultNodeLabelFn=x.constant(void 0),this._defaultEdgeLabelFn=x.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[k]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}T.prototype._nodeCount=0,T.prototype._edgeCount=0,T.prototype.isDirected=function(){return this._isDirected},T.prototype.isMultigraph=function(){return this._isMultigraph},T.prototype.isCompound=function(){return this._isCompound},T.prototype.setGraph=function(y){return this._label=y,this},T.prototype.graph=function(){return this._label},T.prototype.setDefaultNodeLabel=function(y){return x.isFunction(y)||(y=x.constant(y)),this._defaultNodeLabelFn=y,this},T.prototype.nodeCount=function(){return this._nodeCount},T.prototype.nodes=function(){return x.keys(this._nodes)},T.prototype.sources=function(){var y=this;return x.filter(this.nodes(),function(m){return x.isEmpty(y._in[m])})},T.prototype.sinks=function(){var y=this;return x.filter(this.nodes(),function(m){return x.isEmpty(y._out[m])})},T.prototype.setNodes=function(y,m){var p=arguments,M=this;return x.each(y,function(P){p.length>1?M.setNode(P,m):M.setNode(P)}),this},T.prototype.setNode=function(y,m){return x.has(this._nodes,y)?(arguments.length>1&&(this._nodes[y]=m),this):(this._nodes[y]=arguments.length>1?m:this._defaultNodeLabelFn(y),this._isCompound&&(this._parent[y]=k,this._children[y]={},this._children[k][y]=!0),this._in[y]={},this._preds[y]={},this._out[y]={},this._sucs[y]={},++this._nodeCount,this)},T.prototype.node=function(y){return this._nodes[y]},T.prototype.hasNode=function(y){return x.has(this._nodes,y)},T.prototype.removeNode=function(y){var m=this;if(x.has(this._nodes,y)){var p=function(M){m.removeEdge(m._edgeObjs[M])};delete this._nodes[y],this._isCompound&&(this._removeFromParentsChildList(y),delete this._parent[y],x.each(this.children(y),function(M){m.setParent(M)}),delete this._children[y]),x.each(x.keys(this._in[y]),p),delete this._in[y],delete this._preds[y],x.each(x.keys(this._out[y]),p),delete this._out[y],delete this._sucs[y],--this._nodeCount}return this},T.prototype.setParent=function(y,m){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(x.isUndefined(m))m=k;else{m+="";for(var p=m;!x.isUndefined(p);p=this.parent(p))if(p===y)throw new Error("Setting "+m+" as parent of "+y+" would create a cycle");this.setNode(m)}return this.setNode(y),this._removeFromParentsChildList(y),this._parent[y]=m,this._children[m][y]=!0,this},T.prototype._removeFromParentsChildList=function(y){delete this._children[this._parent[y]][y]},T.prototype.parent=function(y){if(this._isCompound){var m=this._parent[y];if(m!==k)return m}},T.prototype.children=function(y){if(x.isUndefined(y)&&(y=k),this._isCompound){var m=this._children[y];if(m)return x.keys(m)}else{if(y===k)return this.nodes();if(this.hasNode(y))return[]}},T.prototype.predecessors=function(y){var m=this._preds[y];if(m)return x.keys(m)},T.prototype.successors=function(y){var m=this._sucs[y];if(m)return x.keys(m)},T.prototype.neighbors=function(y){var m=this.predecessors(y);if(m)return x.union(m,this.successors(y))},T.prototype.isLeaf=function(y){var m;return this.isDirected()?m=this.successors(y):m=this.neighbors(y),m.length===0},T.prototype.filterNodes=function(y){var m=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});m.setGraph(this.graph());var p=this;x.each(this._nodes,function(B,F){y(F)&&m.setNode(F,B)}),x.each(this._edgeObjs,function(B){m.hasNode(B.v)&&m.hasNode(B.w)&&m.setEdge(B,p.edge(B))});var M={};function P(B){var F=p.parent(B);return F===void 0||m.hasNode(F)?(M[B]=F,F):F in M?M[F]:P(F)}return this._isCompound&&x.each(m.nodes(),function(B){m.setParent(B,P(B))}),m},T.prototype.setDefaultEdgeLabel=function(y){return x.isFunction(y)||(y=x.constant(y)),this._defaultEdgeLabelFn=y,this},T.prototype.edgeCount=function(){return this._edgeCount},T.prototype.edges=function(){return x.values(this._edgeObjs)},T.prototype.setPath=function(y,m){var p=this,M=arguments;return x.reduce(y,function(P,B){return M.length>1?p.setEdge(P,B,m):p.setEdge(P,B),B}),this},T.prototype.setEdge=function(){var y,m,p,M,P=!1,B=arguments[0];typeof B=="object"&&B!==null&&"v"in B?(y=B.v,m=B.w,p=B.name,arguments.length===2&&(M=arguments[1],P=!0)):(y=B,m=arguments[1],p=arguments[3],arguments.length>2&&(M=arguments[2],P=!0)),y=""+y,m=""+m,x.isUndefined(p)||(p=""+p);var F=E(this._isDirected,y,m,p);if(x.has(this._edgeLabels,F))return P&&(this._edgeLabels[F]=M),this;if(!x.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(y),this.setNode(m),this._edgeLabels[F]=P?M:this._defaultEdgeLabelFn(y,m,p);var W=g(this._isDirected,y,m,p);return y=W.v,m=W.w,Object.freeze(W),this._edgeObjs[F]=W,A(this._preds[m],y),A(this._sucs[y],m),this._in[m][F]=W,this._out[y][F]=W,this._edgeCount++,this},T.prototype.edge=function(y,m,p){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,m,p);return this._edgeLabels[M]},T.prototype.hasEdge=function(y,m,p){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,m,p);return x.has(this._edgeLabels,M)},T.prototype.removeEdge=function(y,m,p){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,m,p),P=this._edgeObjs[M];return P&&(y=P.v,m=P.w,delete this._edgeLabels[M],delete this._edgeObjs[M],C(this._preds[m],y),C(this._sucs[y],m),delete this._in[m][M],delete this._out[y][M],this._edgeCount--),this},T.prototype.inEdges=function(y,m){var p=this._in[y];if(p){var M=x.values(p);return m?x.filter(M,function(P){return P.v===m}):M}},T.prototype.outEdges=function(y,m){var p=this._out[y];if(p){var M=x.values(p);return m?x.filter(M,function(P){return P.w===m}):M}},T.prototype.nodeEdges=function(y,m){var p=this.inEdges(y,m);if(p)return p.concat(this.outEdges(y,m))};function A(y,m){y[m]?y[m]++:y[m]=1}function C(y,m){--y[m]||delete y[m]}function E(y,m,p,M){var P=""+m,B=""+p;if(!y&&P>B){var F=P;P=B,B=F}return P+_+B+_+(x.isUndefined(M)?O:M)}function g(y,m,p,M){var P=""+m,B=""+p;if(!y&&P>B){var F=P;P=B,B=F}var W={v:P,w:B};return M&&(W.name=M),W}function w(y,m){return E(y,m.v,m.w,m.name)}},82354:function(ft,S,v){ft.exports={Graph:v(30771),version:v(49631)}},28974:function(ft,S,v){var x=v(89126),O=v(30771);ft.exports={write:k,read:A};function k(C){var E={options:{directed:C.isDirected(),multigraph:C.isMultigraph(),compound:C.isCompound()},nodes:_(C),edges:T(C)};return x.isUndefined(C.graph())||(E.value=x.clone(C.graph())),E}function _(C){return x.map(C.nodes(),function(E){var g=C.node(E),w=C.parent(E),y={v:E};return x.isUndefined(g)||(y.value=g),x.isUndefined(w)||(y.parent=w),y})}function T(C){return x.map(C.edges(),function(E){var g=C.edge(E),w={v:E.v,w:E.w};return x.isUndefined(E.name)||(w.name=E.name),x.isUndefined(g)||(w.value=g),w})}function A(C){var E=new O(C.options).setGraph(C.value);return x.each(C.nodes,function(g){E.setNode(g.v,g.value),g.parent&&E.setParent(g.v,g.parent)}),x.each(C.edges,function(g){E.setEdge({v:g.v,w:g.w,name:g.name},g.value)}),E}},89126:function(ft,S,v){var x;try{x={clone:v(66678),constant:v(75703),each:v(66073),filter:v(63105),has:v(18721),isArray:v(1469),isEmpty:v(41609),isFunction:v(23560),isUndefined:v(52353),keys:v(3674),map:v(35161),reduce:v(54061),size:v(84238),transform:v(68718),union:v(93386),values:v(52628)}}catch(O){}x||(x=window._),ft.exports=x},49631:function(ft){ft.exports="2.1.8"},38186:function(ft){var S=[],v=[],x="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function O(_,T){if(T=T||{},_===void 0)throw new Error(x);var A=T.prepend===!0?"prepend":"append",C=T.container!==void 0?T.container:document.querySelector("head"),E=S.indexOf(C);E===-1&&(E=S.push(C)-1,v[E]={});var g;return v[E]!==void 0&&v[E][A]!==void 0?g=v[E][A]:(g=v[E][A]=k(),A==="prepend"?C.insertBefore(g,C.childNodes[0]):C.appendChild(g)),_.charCodeAt(0)===65279&&(_=_.substr(1,_.length)),g.styleSheet?g.styleSheet.cssText+=_:g.textContent+=_,g}function k(){var _=document.createElement("style");return _.setAttribute("type","text/css"),_}ft.exports=O,ft.exports.insertCss=O},44091:function(ft,S,v){"use strict";v.r(S),v.d(S,{isAnyArray:function(){return O}});const x=Object.prototype.toString;function O(k){const _=x.call(k);return _.endsWith("Array]")&&!_.includes("Big")}},47443:function(ft,S,v){var x=v(42118);function O(k,_){var T=k==null?0:k.length;return!!T&&x(k,_,0)>-1}ft.exports=O},1196:function(ft){function S(v,x,O){for(var k=-1,_=v==null?0:v.length;++k<_;)if(O(x,v[k]))return!0;return!1}ft.exports=S},48983:function(ft,S,v){var x=v(40371),O=x("length");ft.exports=O},56029:function(ft,S,v){var x=v(33448);function O(k,_,T){for(var A=-1,C=k.length;++A<C;){var E=k[A],g=_(E);if(g!=null&&(w===void 0?g===g&&!x(g):T(g,w)))var w=g,y=E}return y}ft.exports=O},80760:function(ft,S,v){var x=v(89881);function O(k,_){var T=[];return x(k,function(A,C,E){_(A,C,E)&&T.push(A)}),T}ft.exports=O},41848:function(ft){function S(v,x,O,k){for(var _=v.length,T=O+(k?1:-1);k?T--:++T<_;)if(x(v[T],T,v))return T;return-1}ft.exports=S},21078:function(ft,S,v){var x=v(62488),O=v(37285);function k(_,T,A,C,E){var g=-1,w=_.length;for(A||(A=O),E||(E=[]);++g<w;){var y=_[g];T>0&&A(y)?T>1?k(y,T-1,A,C,E):x(E,y):C||(E[E.length]=y)}return E}ft.exports=k},53325:function(ft){function S(v,x){return v>x}ft.exports=S},78565:function(ft){var S=Object.prototype,v=S.hasOwnProperty;function x(O,k){return O!=null&&v.call(O,k)}ft.exports=x},42118:function(ft,S,v){var x=v(41848),O=v(62722),k=v(42351);function _(T,A,C){return A===A?k(T,A,C):x(T,O,C)}ft.exports=_},62722:function(ft){function S(v){return v!==v}ft.exports=S},70433:function(ft){function S(v,x){return v<x}ft.exports=S},82689:function(ft,S,v){var x=v(29932),O=v(97786),k=v(67206),_=v(69199),T=v(71131),A=v(7518),C=v(85022),E=v(6557),g=v(1469);function w(y,m,p){m.length?m=x(m,function(B){return g(B)?function(F){return O(F,B.length===1?B[0]:B)}:B}):m=[E];var M=-1;m=x(m,A(k));var P=_(y,function(B,F,W){var Q=x(m,function(H){return H(B)});return{criteria:Q,index:++M,value:B}});return T(P,function(B,F){return C(B,F,p)})}ft.exports=w},25970:function(ft,S,v){var x=v(63012),O=v(79095);function k(_,T){return x(_,T,function(A,C){return O(_,C)})}ft.exports=k},63012:function(ft,S,v){var x=v(97786),O=v(10611),k=v(71811);function _(T,A,C){for(var E=-1,g=A.length,w={};++E<g;){var y=A[E],m=x(T,y);C(m,y)&&O(w,k(y,T),m)}return w}ft.exports=_},40098:function(ft){var S=Math.ceil,v=Math.max;function x(O,k,_,T){for(var A=-1,C=v(S((k-O)/(_||1)),0),E=Array(C);C--;)E[T?C:++A]=O,O+=_;return E}ft.exports=x},10107:function(ft){function S(v,x,O,k,_){return _(v,function(T,A,C){O=k?(k=!1,T):x(O,T,A,C)}),O}ft.exports=S},10611:function(ft,S,v){var x=v(34865),O=v(71811),k=v(65776),_=v(13218),T=v(40327);function A(C,E,g,w){if(!_(C))return C;E=O(E,C);for(var y=-1,m=E.length,p=m-1,M=C;M!=null&&++y<m;){var P=T(E[y]),B=g;if(P==="__proto__"||P==="constructor"||P==="prototype")return C;if(y!=p){var F=M[P];B=w?w(F,P,M):void 0,B===void 0&&(B=_(F)?F:k(E[y+1])?[]:{})}x(M,P,B),M=M[P]}return C}ft.exports=A},71131:function(ft){function S(v,x){var O=v.length;for(v.sort(x);O--;)v[O]=v[O].value;return v}ft.exports=S},45652:function(ft,S,v){var x=v(88668),O=v(47443),k=v(1196),_=v(74757),T=v(23593),A=v(21814),C=200;function E(g,w,y){var m=-1,p=O,M=g.length,P=!0,B=[],F=B;if(y)P=!1,p=k;else if(M>=C){var W=w?null:T(g);if(W)return A(W);P=!1,p=_,F=new x}else F=w?[]:B;t:for(;++m<M;){var Q=g[m],H=w?w(Q):Q;if(Q=y||Q!==0?Q:0,P&&H===H){for(var Z=F.length;Z--;)if(F[Z]===H)continue t;w&&F.push(H),B.push(Q)}else p(F,H,y)||(F!==B&&F.push(H),B.push(Q))}return B}ft.exports=E},47415:function(ft,S,v){var x=v(29932);function O(k,_){return x(_,function(T){return k[T]})}ft.exports=O},1757:function(ft){function S(v,x,O){for(var k=-1,_=v.length,T=x.length,A={};++k<_;){var C=k<T?x[k]:void 0;O(A,v[k],C)}return A}ft.exports=S},26393:function(ft,S,v){var x=v(33448);function O(k,_){if(k!==_){var T=k!==void 0,A=k===null,C=k===k,E=x(k),g=_!==void 0,w=_===null,y=_===_,m=x(_);if(!w&&!m&&!E&&k>_||E&&g&&y&&!w&&!m||A&&g&&y||!T&&y||!C)return 1;if(!A&&!E&&!m&&k<_||m&&T&&C&&!A&&!E||w&&T&&C||!g&&C||!y)return-1}return 0}ft.exports=O},85022:function(ft,S,v){var x=v(26393);function O(k,_,T){for(var A=-1,C=k.criteria,E=_.criteria,g=C.length,w=T.length;++A<g;){var y=x(C[A],E[A]);if(y){if(A>=w)return y;var m=T[A];return y*(m=="desc"?-1:1)}}return k.index-_.index}ft.exports=O},67740:function(ft,S,v){var x=v(67206),O=v(98612),k=v(3674);function _(T){return function(A,C,E){var g=Object(A);if(!O(A)){var w=x(C,3);A=k(A),C=function(m){return w(g[m],m,g)}}var y=T(A,C,E);return y>-1?g[w?A[y]:y]:void 0}}ft.exports=_},47445:function(ft,S,v){var x=v(40098),O=v(16612),k=v(18601);function _(T){return function(A,C,E){return E&&typeof E!="number"&&O(A,C,E)&&(C=E=void 0),A=k(A),C===void 0?(C=A,A=0):C=k(C),E=E===void 0?A<C?1:-1:k(E),x(A,C,E,T)}}ft.exports=_},23593:function(ft,S,v){var x=v(58525),O=v(50308),k=v(21814),_=1/0,T=x&&1/k(new x([,-0]))[1]==_?function(A){return new x(A)}:O;ft.exports=T},99021:function(ft,S,v){var x=v(85564),O=v(45357),k=v(30061);function _(T){return k(O(T,void 0,x),T+"")}ft.exports=_},37285:function(ft,S,v){var x=v(62705),O=v(35694),k=v(1469),_=x?x.isConcatSpreadable:void 0;function T(A){return k(A)||O(A)||!!(_&&A&&A[_])}ft.exports=T},42351:function(ft){function S(v,x,O){for(var k=O-1,_=v.length;++k<_;)if(v[k]===x)return k;return-1}ft.exports=S},88016:function(ft,S,v){var x=v(48983),O=v(62689),k=v(21903);function _(T){return O(T)?k(T):x(T)}ft.exports=_},21903:function(ft){var S="\\ud800-\\udfff",v="\\u0300-\\u036f",x="\\ufe20-\\ufe2f",O="\\u20d0-\\u20ff",k=v+x+O,_="\\ufe0e\\ufe0f",T="["+S+"]",A="["+k+"]",C="\\ud83c[\\udffb-\\udfff]",E="(?:"+A+"|"+C+")",g="[^"+S+"]",w="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",p=E+"?",M="["+_+"]?",P="(?:"+m+"(?:"+[g,w,y].join("|")+")"+M+p+")*",B=M+p+P,F="(?:"+[g+A+"?",A,w,y,T].join("|")+")",W=RegExp(C+"(?="+C+")|"+F+B,"g");function Q(H){for(var Z=W.lastIndex=0;W.test(H);)++Z;return Z}ft.exports=Q},66678:function(ft,S,v){var x=v(85990),O=4;function k(_){return x(_,O)}ft.exports=k},91747:function(ft,S,v){var x=v(5976),O=v(77813),k=v(16612),_=v(81704),T=Object.prototype,A=T.hasOwnProperty,C=x(function(E,g){E=Object(E);var w=-1,y=g.length,m=y>2?g[2]:void 0;for(m&&k(g[0],g[1],m)&&(y=1);++w<y;)for(var p=g[w],M=_(p),P=-1,B=M.length;++P<B;){var F=M[P],W=E[F];(W===void 0||O(W,T[F])&&!A.call(E,F))&&(E[F]=p[F])}return E});ft.exports=C},63105:function(ft,S,v){var x=v(34963),O=v(80760),k=v(67206),_=v(1469);function T(A,C){var E=_(A)?x:O;return E(A,k(C,3))}ft.exports=T},13311:function(ft,S,v){var x=v(67740),O=v(30998),k=x(O);ft.exports=k},30998:function(ft,S,v){var x=v(41848),O=v(67206),k=v(40554),_=Math.max;function T(A,C,E){var g=A==null?0:A.length;if(!g)return-1;var w=E==null?0:k(E);return w<0&&(w=_(g+w,0)),x(A,O(C,3),w)}ft.exports=T},85564:function(ft,S,v){var x=v(21078);function O(k){var _=k==null?0:k.length;return _?x(k,1):[]}ft.exports=O},62620:function(ft,S,v){var x=v(28483),O=v(54290),k=v(81704);function _(T,A){return T==null?T:x(T,O(A),k)}ft.exports=_},18721:function(ft,S,v){var x=v(78565),O=v(222);function k(_,T){return _!=null&&O(_,T,x)}ft.exports=k},41609:function(ft,S,v){var x=v(280),O=v(64160),k=v(35694),_=v(1469),T=v(98612),A=v(44144),C=v(25726),E=v(36719),g="[object Map]",w="[object Set]",y=Object.prototype,m=y.hasOwnProperty;function p(M){if(M==null)return!0;if(T(M)&&(_(M)||typeof M=="string"||typeof M.splice=="function"||A(M)||E(M)||k(M)))return!M.length;var P=O(M);if(P==g||P==w)return!M.size;if(C(M))return!x(M).length;for(var B in M)if(m.call(M,B))return!1;return!0}ft.exports=p},52353:function(ft){function S(v){return v===void 0}ft.exports=S},10928:function(ft){function S(v){var x=v==null?0:v.length;return x?v[x-1]:void 0}ft.exports=S},66604:function(ft,S,v){var x=v(89465),O=v(47816),k=v(67206);function _(T,A){var C={};return A=k(A,3),O(T,function(E,g,w){x(C,g,A(E,g,w))}),C}ft.exports=_},6162:function(ft,S,v){var x=v(56029),O=v(53325),k=v(6557);function _(T){return T&&T.length?x(T,k,O):void 0}ft.exports=_},53632:function(ft,S,v){var x=v(56029),O=v(70433),k=v(6557);function _(T){return T&&T.length?x(T,k,O):void 0}ft.exports=_},22762:function(ft,S,v){var x=v(56029),O=v(67206),k=v(70433);function _(T,A){return T&&T.length?x(T,O(A,2),k):void 0}ft.exports=_},50308:function(ft){function S(){}ft.exports=S},78718:function(ft,S,v){var x=v(25970),O=v(99021),k=O(function(_,T){return _==null?{}:x(_,T)});ft.exports=k},96026:function(ft,S,v){var x=v(47445),O=x();ft.exports=O},54061:function(ft,S,v){var x=v(62663),O=v(89881),k=v(67206),_=v(10107),T=v(1469);function A(C,E,g){var w=T(C)?x:_,y=arguments.length<3;return w(C,k(E,4),g,y,O)}ft.exports=A},84238:function(ft,S,v){var x=v(280),O=v(64160),k=v(98612),_=v(47037),T=v(88016),A="[object Map]",C="[object Set]";function E(g){if(g==null)return 0;if(k(g))return _(g)?T(g):g.length;var w=O(g);return w==A||w==C?g.size:x(g).length}ft.exports=E},89734:function(ft,S,v){var x=v(21078),O=v(82689),k=v(5976),_=v(16612),T=k(function(A,C){if(A==null)return[];var E=C.length;return E>1&&_(A,C[0],C[1])?C=[]:E>2&&_(C[0],C[1],C[2])&&(C=[C[0]]),O(A,x(C,1),[])});ft.exports=T},18601:function(ft,S,v){var x=v(14841),O=1/0,k=17976931348623157e292;function _(T){if(!T)return T===0?T:0;if(T=x(T),T===O||T===-O){var A=T<0?-1:1;return A*k}return T===T?T:0}ft.exports=_},40554:function(ft,S,v){var x=v(18601);function O(k){var _=x(k),T=_%1;return _===_?T?_-T:_:0}ft.exports=O},68718:function(ft,S,v){var x=v(77412),O=v(3118),k=v(47816),_=v(67206),T=v(85924),A=v(1469),C=v(44144),E=v(23560),g=v(13218),w=v(36719);function y(m,p,M){var P=A(m),B=P||C(m)||w(m);if(p=_(p,4),M==null){var F=m&&m.constructor;B?M=P?new F:[]:g(m)?M=E(F)?O(T(m)):{}:M={}}return(B?x:k)(m,function(W,Q,H){return p(M,W,Q,H)}),M}ft.exports=y},93386:function(ft,S,v){var x=v(21078),O=v(5976),k=v(45652),_=v(29246),T=O(function(A){return k(x(A,1,_,!0))});ft.exports=T},73955:function(ft,S,v){var x=v(79833),O=0;function k(_){var T=++O;return x(_)+T}ft.exports=k},52628:function(ft,S,v){var x=v(47415),O=v(3674);function k(_){return _==null?[]:x(_,O(_))}ft.exports=k},7287:function(ft,S,v){var x=v(34865),O=v(1757);function k(_,T){return O(_||[],T||[],x)}ft.exports=k},74805:function(ft,S,v){"use strict";v.r(S),v.d(S,{default:function(){return _}});var x=v(44091);function O(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,x.isAnyArray)(T))throw new TypeError("input must be an array");if(T.length===0)throw new TypeError("input must not be empty");var C=A.fromIndex,E=C===void 0?0:C,g=A.toIndex,w=g===void 0?T.length:g;if(E<0||E>=T.length||!Number.isInteger(E))throw new Error("fromIndex must be a positive integer smaller than length");if(w<=E||w>T.length||!Number.isInteger(w))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var y=T[E],m=E+1;m<w;m++)T[m]>y&&(y=T[m]);return y}function k(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,x.isAnyArray)(T))throw new TypeError("input must be an array");if(T.length===0)throw new TypeError("input must not be empty");var C=A.fromIndex,E=C===void 0?0:C,g=A.toIndex,w=g===void 0?T.length:g;if(E<0||E>=T.length||!Number.isInteger(E))throw new Error("fromIndex must be a positive integer smaller than length");if(w<=E||w>T.length||!Number.isInteger(w))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var y=T[E],m=E+1;m<w;m++)T[m]<y&&(y=T[m]);return y}function _(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,x.isAnyArray)(T)){if(T.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var C;if(A.output!==void 0){if(!(0,x.isAnyArray)(A.output))throw new TypeError("output option must be an array if specified");C=A.output}else C=new Array(T.length);var E=k(T),g=O(T);if(E===g)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var w=A.min,y=w===void 0?A.autoMinMax?E:0:w,m=A.max,p=m===void 0?A.autoMinMax?g:1:m;if(y>=p)throw new RangeError("min option must be smaller than max option");for(var M=(p-y)/(g-E),P=0;P<T.length;P++)C[P]=(T[P]-E)*M+y;return C}},86851:function(ft,S,v){"use strict";var x=v(89594),O=Array.prototype.concat,k=Array.prototype.slice,_=ft.exports=function(A){for(var C=[],E=0,g=A.length;E<g;E++){var w=A[E];x(w)?C=O.call(C,k.call(w)):C.push(w)}return C};_.wrap=function(T){return function(){return T(_(arguments))}}},89594:function(ft){ft.exports=function(v){return!v||typeof v=="string"?!1:v instanceof Array||Array.isArray(v)||v.length>=0&&(v.splice instanceof Function||Object.getOwnPropertyDescriptor(v,v.length-1)&&v.constructor.name!=="String")}},65353:function(ft,S,v){"use strict";v.r(S),v.d(S,{__extends:function(){return O},__assign:function(){return k},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return g},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return m},__generator:function(){return p},__createBinding:function(){return M},__exportStar:function(){return P},__values:function(){return B},__read:function(){return F},__spread:function(){return W},__spreadArrays:function(){return Q},__spreadArray:function(){return H},__await:function(){return Z},__asyncGenerator:function(){return ot},__asyncDelegator:function(){return rt},__asyncValues:function(){return At},__makeTemplateObject:function(){return pt},__importStar:function(){return Tt},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return xt},__classPrivateFieldSet:function(){return ht},__classPrivateFieldIn:function(){return kt},__addDisposableResource:function(){return Gt},__disposeResources:function(){return tt}});var x=function(I,u){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,G){Y.__proto__=G}||function(Y,G){for(var X in G)Object.prototype.hasOwnProperty.call(G,X)&&(Y[X]=G[X])},x(I,u)};function O(I,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");x(I,u);function Y(){this.constructor=I}I.prototype=u===null?Object.create(u):(Y.prototype=u.prototype,new Y)}var k=function(){return k=Object.assign||function(u){for(var Y,G=1,X=arguments.length;G<X;G++){Y=arguments[G];for(var U in Y)Object.prototype.hasOwnProperty.call(Y,U)&&(u[U]=Y[U])}return u},k.apply(this,arguments)};function _(I,u){var Y={};for(var G in I)Object.prototype.hasOwnProperty.call(I,G)&&u.indexOf(G)<0&&(Y[G]=I[G]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,G=Object.getOwnPropertySymbols(I);X<G.length;X++)u.indexOf(G[X])<0&&Object.prototype.propertyIsEnumerable.call(I,G[X])&&(Y[G[X]]=I[G[X]]);return Y}function T(I,u,Y,G){var X=arguments.length,U=X<3?u:G===null?G=Object.getOwnPropertyDescriptor(u,Y):G,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(I,u,Y,G);else for(var lt=I.length-1;lt>=0;lt--)(J=I[lt])&&(U=(X<3?J(U):X>3?J(u,Y,U):J(u,Y))||U);return X>3&&U&&Object.defineProperty(u,Y,U),U}function A(I,u){return function(Y,G){u(Y,G,I)}}function C(I,u,Y,G,X,U){function J(mt){if(mt!==void 0&&typeof mt!="function")throw new TypeError("Function expected");return mt}for(var lt=G.kind,It=lt==="getter"?"get":lt==="setter"?"set":"value",bt=!u&&I?G.static?I:I.prototype:null,et=u||(bt?Object.getOwnPropertyDescriptor(bt,G.name):{}),Ct,it=!1,st=Y.length-1;st>=0;st--){var St={};for(var at in G)St[at]=at==="access"?{}:G[at];for(var at in G.access)St.access[at]=G.access[at];St.addInitializer=function(mt){if(it)throw new TypeError("Cannot add initializers after decoration has completed");U.push(J(mt||null))};var nt=(0,Y[st])(lt==="accessor"?{get:et.get,set:et.set}:et[It],St);if(lt==="accessor"){if(nt===void 0)continue;if(nt===null||typeof nt!="object")throw new TypeError("Object expected");(Ct=J(nt.get))&&(et.get=Ct),(Ct=J(nt.set))&&(et.set=Ct),(Ct=J(nt.init))&&X.unshift(Ct)}else(Ct=J(nt))&&(lt==="field"?X.unshift(Ct):et[It]=Ct)}bt&&Object.defineProperty(bt,G.name,et),it=!0}function E(I,u,Y){for(var G=arguments.length>2,X=0;X<u.length;X++)Y=G?u[X].call(I,Y):u[X].call(I);return G?Y:void 0}function g(I){return typeof I=="symbol"?I:"".concat(I)}function w(I,u,Y){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(I,"name",{configurable:!0,value:Y?"".concat(Y," ",u):u})}function y(I,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,u)}function m(I,u,Y,G){function X(U){return U instanceof Y?U:new Y(function(J){J(U)})}return new(Y||(Y=Promise))(function(U,J){function lt(et){try{bt(G.next(et))}catch(Ct){J(Ct)}}function It(et){try{bt(G.throw(et))}catch(Ct){J(Ct)}}function bt(et){et.done?U(et.value):X(et.value).then(lt,It)}bt((G=G.apply(I,u||[])).next())})}function p(I,u){var Y={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},G,X,U,J;return J={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function lt(bt){return function(et){return It([bt,et])}}function It(bt){if(G)throw new TypeError("Generator is already executing.");for(;J&&(J=0,bt[0]&&(Y=0)),Y;)try{if(G=1,X&&(U=bt[0]&2?X.return:bt[0]?X.throw||((U=X.return)&&U.call(X),0):X.next)&&!(U=U.call(X,bt[1])).done)return U;switch(X=0,U&&(bt=[bt[0]&2,U.value]),bt[0]){case 0:case 1:U=bt;break;case 4:return Y.label++,{value:bt[1],done:!1};case 5:Y.label++,X=bt[1],bt=[0];continue;case 7:bt=Y.ops.pop(),Y.trys.pop();continue;default:if(U=Y.trys,!(U=U.length>0&&U[U.length-1])&&(bt[0]===6||bt[0]===2)){Y=0;continue}if(bt[0]===3&&(!U||bt[1]>U[0]&&bt[1]<U[3])){Y.label=bt[1];break}if(bt[0]===6&&Y.label<U[1]){Y.label=U[1],U=bt;break}if(U&&Y.label<U[2]){Y.label=U[2],Y.ops.push(bt);break}U[2]&&Y.ops.pop(),Y.trys.pop();continue}bt=u.call(I,Y)}catch(et){bt=[6,et],X=0}finally{G=U=0}if(bt[0]&5)throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}}var M=Object.create?function(I,u,Y,G){G===void 0&&(G=Y);var X=Object.getOwnPropertyDescriptor(u,Y);(!X||("get"in X?!u.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return u[Y]}}),Object.defineProperty(I,G,X)}:function(I,u,Y,G){G===void 0&&(G=Y),I[G]=u[Y]};function P(I,u){for(var Y in I)Y!=="default"&&!Object.prototype.hasOwnProperty.call(u,Y)&&M(u,I,Y)}function B(I){var u=typeof Symbol=="function"&&Symbol.iterator,Y=u&&I[u],G=0;if(Y)return Y.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&G>=I.length&&(I=void 0),{value:I&&I[G++],done:!I}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(I,u){var Y=typeof Symbol=="function"&&I[Symbol.iterator];if(!Y)return I;var G=Y.call(I),X,U=[],J;try{for(;(u===void 0||u-- >0)&&!(X=G.next()).done;)U.push(X.value)}catch(lt){J={error:lt}}finally{try{X&&!X.done&&(Y=G.return)&&Y.call(G)}finally{if(J)throw J.error}}return U}function W(){for(var I=[],u=0;u<arguments.length;u++)I=I.concat(F(arguments[u]));return I}function Q(){for(var I=0,u=0,Y=arguments.length;u<Y;u++)I+=arguments[u].length;for(var G=Array(I),X=0,u=0;u<Y;u++)for(var U=arguments[u],J=0,lt=U.length;J<lt;J++,X++)G[X]=U[J];return G}function H(I,u,Y){if(Y||arguments.length===2)for(var G=0,X=u.length,U;G<X;G++)(U||!(G in u))&&(U||(U=Array.prototype.slice.call(u,0,G)),U[G]=u[G]);return I.concat(U||Array.prototype.slice.call(u))}function Z(I){return this instanceof Z?(this.v=I,this):new Z(I)}function ot(I,u,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=Y.apply(I,u||[]),X,U=[];return X={},J("next"),J("throw"),J("return"),X[Symbol.asyncIterator]=function(){return this},X;function J(it){G[it]&&(X[it]=function(st){return new Promise(function(St,at){U.push([it,st,St,at])>1||lt(it,st)})})}function lt(it,st){try{It(G[it](st))}catch(St){Ct(U[0][3],St)}}function It(it){it.value instanceof Z?Promise.resolve(it.value.v).then(bt,et):Ct(U[0][2],it)}function bt(it){lt("next",it)}function et(it){lt("throw",it)}function Ct(it,st){it(st),U.shift(),U.length&&lt(U[0][0],U[0][1])}}function rt(I){var u,Y;return u={},G("next"),G("throw",function(X){throw X}),G("return"),u[Symbol.iterator]=function(){return this},u;function G(X,U){u[X]=I[X]?function(J){return(Y=!Y)?{value:Z(I[X](J)),done:!1}:U?U(J):J}:U}}function At(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=I[Symbol.asyncIterator],Y;return u?u.call(I):(I=typeof B=="function"?B(I):I[Symbol.iterator](),Y={},G("next"),G("throw"),G("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function G(U){Y[U]=I[U]&&function(J){return new Promise(function(lt,It){J=I[U](J),X(lt,It,J.done,J.value)})}}function X(U,J,lt,It){Promise.resolve(It).then(function(bt){U({value:bt,done:lt})},J)}}function pt(I,u){return Object.defineProperty?Object.defineProperty(I,"raw",{value:u}):I.raw=u,I}var Ft=Object.create?function(I,u){Object.defineProperty(I,"default",{enumerable:!0,value:u})}:function(I,u){I.default=u};function Tt(I){if(I&&I.__esModule)return I;var u={};if(I!=null)for(var Y in I)Y!=="default"&&Object.prototype.hasOwnProperty.call(I,Y)&&M(u,I,Y);return Ft(u,I),u}function Ot(I){return I&&I.__esModule?I:{default:I}}function xt(I,u,Y,G){if(Y==="a"&&!G)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?I!==u||!G:!u.has(I))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Y==="m"?G:Y==="a"?G.call(I):G?G.value:u.get(I)}function ht(I,u,Y,G,X){if(G==="m")throw new TypeError("Private method is not writable");if(G==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?I!==u||!X:!u.has(I))throw new TypeError("Cannot write private member to an object whose class did not declare it");return G==="a"?X.call(I,Y):X?X.value=Y:u.set(I,Y),Y}function kt(I,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof I=="function"?u===I:I.has(u)}function Gt(I,u,Y){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var G;if(Y){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");G=u[Symbol.asyncDispose]}if(G===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");G=u[Symbol.dispose]}if(typeof G!="function")throw new TypeError("Object not disposable.");I.stack.push({value:u,dispose:G,async:Y})}else Y&&I.stack.push({async:!0});return u}var dt=typeof SuppressedError=="function"?SuppressedError:function(I,u,Y){var G=new Error(Y);return G.name="SuppressedError",G.error=I,G.suppressed=u,G};function tt(I){function u(G){I.error=I.hasError?new dt(G,I.error,"An error was suppressed during disposal."):G,I.hasError=!0}function Y(){for(;I.stack.length;){var G=I.stack.pop();try{var X=G.dispose&&G.dispose.call(G.value);if(G.async)return Promise.resolve(X).then(Y,function(U){return u(U),Y()})}catch(U){u(U)}}if(I.hasError)throw I.error}return Y()}S.default={__extends:O,__assign:k,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:p,__createBinding:M,__exportStar:P,__values:B,__read:F,__spread:W,__spreadArrays:Q,__spreadArray:H,__await:Z,__asyncGenerator:ot,__asyncDelegator:rt,__asyncValues:At,__makeTemplateObject:pt,__importStar:Tt,__importDefault:Ot,__classPrivateFieldGet:xt,__classPrivateFieldSet:ht,__classPrivateFieldIn:kt,__addDisposableResource:Gt,__disposeResources:tt}},91496:function(ft){typeof Object.create=="function"?ft.exports=function(v,x){v.super_=x,v.prototype=Object.create(x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}})}:ft.exports=function(v,x){v.super_=x;var O=function(){};O.prototype=x.prototype,v.prototype=new O,v.prototype.constructor=v}},20384:function(ft){ft.exports=function(v){return v&&typeof v=="object"&&typeof v.copy=="function"&&typeof v.fill=="function"&&typeof v.readUInt8=="function"}},89539:function(ft,S,v){var x=v(34155),O=Object.getOwnPropertyDescriptors||function(X){for(var U=Object.keys(X),J={},lt=0;lt<U.length;lt++)J[U[lt]]=Object.getOwnPropertyDescriptor(X,U[lt]);return J},k=/%[sdj%]/g;S.format=function(G){if(!Z(G)){for(var X=[],U=0;U<arguments.length;U++)X.push(A(arguments[U]));return X.join(" ")}for(var U=1,J=arguments,lt=J.length,It=String(G).replace(k,function(et){if(et==="%%")return"%";if(U>=lt)return et;switch(et){case"%s":return String(J[U++]);case"%d":return Number(J[U++]);case"%j":try{return JSON.stringify(J[U++])}catch(Ct){return"[Circular]"}default:return et}}),bt=J[U];U<lt;bt=J[++U])W(bt)||!pt(bt)?It+=" "+bt:It+=" "+A(bt);return It},S.deprecate=function(G,X){if(typeof x!="undefined"&&x.noDeprecation===!0)return G;if(typeof x=="undefined")return function(){return S.deprecate(G,X).apply(this,arguments)};var U=!1;function J(){if(!U){if(x.throwDeprecation)throw new Error(X);x.traceDeprecation?console.trace(X):console.error(X),U=!0}return G.apply(this,arguments)}return J};var _={},T;S.debuglog=function(G){if(rt(T)&&(T={NODE_ENV:"production"}.NODE_DEBUG||""),G=G.toUpperCase(),!_[G])if(new RegExp("\\b"+G+"\\b","i").test(T)){var X=x.pid;_[G]=function(){var U=S.format.apply(S,arguments);console.error("%s %d: %s",G,X,U)}}else _[G]=function(){};return _[G]};function A(G,X){var U={seen:[],stylize:E};return arguments.length>=3&&(U.depth=arguments[2]),arguments.length>=4&&(U.colors=arguments[3]),F(X)?U.showHidden=X:X&&S._extend(U,X),rt(U.showHidden)&&(U.showHidden=!1),rt(U.depth)&&(U.depth=2),rt(U.colors)&&(U.colors=!1),rt(U.customInspect)&&(U.customInspect=!0),U.colors&&(U.stylize=C),w(U,G,U.depth)}S.inspect=A,A.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},A.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function C(G,X){var U=A.styles[X];return U?"["+A.colors[U][0]+"m"+G+"["+A.colors[U][1]+"m":G}function E(G,X){return G}function g(G){var X={};return G.forEach(function(U,J){X[U]=!0}),X}function w(G,X,U){if(G.customInspect&&X&&Ot(X.inspect)&&X.inspect!==S.inspect&&!(X.constructor&&X.constructor.prototype===X)){var J=X.inspect(U,G);return Z(J)||(J=w(G,J,U)),J}var lt=y(G,X);if(lt)return lt;var It=Object.keys(X),bt=g(It);if(G.showHidden&&(It=Object.getOwnPropertyNames(X)),Tt(X)&&(It.indexOf("message")>=0||It.indexOf("description")>=0))return m(X);if(It.length===0){if(Ot(X)){var et=X.name?": "+X.name:"";return G.stylize("[Function"+et+"]","special")}if(At(X))return G.stylize(RegExp.prototype.toString.call(X),"regexp");if(Ft(X))return G.stylize(Date.prototype.toString.call(X),"date");if(Tt(X))return m(X)}var Ct="",it=!1,st=["{","}"];if(B(X)&&(it=!0,st=["[","]"]),Ot(X)){var St=X.name?": "+X.name:"";Ct=" [Function"+St+"]"}if(At(X)&&(Ct=" "+RegExp.prototype.toString.call(X)),Ft(X)&&(Ct=" "+Date.prototype.toUTCString.call(X)),Tt(X)&&(Ct=" "+m(X)),It.length===0&&(!it||X.length==0))return st[0]+Ct+st[1];if(U<0)return At(X)?G.stylize(RegExp.prototype.toString.call(X),"regexp"):G.stylize("[Object]","special");G.seen.push(X);var at;return it?at=p(G,X,U,bt,It):at=It.map(function(nt){return M(G,X,U,bt,nt,it)}),G.seen.pop(),P(at,Ct,st)}function y(G,X){if(rt(X))return G.stylize("undefined","undefined");if(Z(X)){var U="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return G.stylize(U,"string")}if(H(X))return G.stylize(""+X,"number");if(F(X))return G.stylize(""+X,"boolean");if(W(X))return G.stylize("null","null")}function m(G){return"["+Error.prototype.toString.call(G)+"]"}function p(G,X,U,J,lt){for(var It=[],bt=0,et=X.length;bt<et;++bt)tt(X,String(bt))?It.push(M(G,X,U,J,String(bt),!0)):It.push("");return lt.forEach(function(Ct){Ct.match(/^\d+$/)||It.push(M(G,X,U,J,Ct,!0))}),It}function M(G,X,U,J,lt,It){var bt,et,Ct;if(Ct=Object.getOwnPropertyDescriptor(X,lt)||{value:X[lt]},Ct.get?Ct.set?et=G.stylize("[Getter/Setter]","special"):et=G.stylize("[Getter]","special"):Ct.set&&(et=G.stylize("[Setter]","special")),tt(J,lt)||(bt="["+lt+"]"),et||(G.seen.indexOf(Ct.value)<0?(W(U)?et=w(G,Ct.value,null):et=w(G,Ct.value,U-1),et.indexOf(`
`)>-1&&(It?et=et.split(`
`).map(function(it){return"  "+it}).join(`
`).substr(2):et=`
`+et.split(`
`).map(function(it){return"   "+it}).join(`
`))):et=G.stylize("[Circular]","special")),rt(bt)){if(It&&lt.match(/^\d+$/))return et;bt=JSON.stringify(""+lt),bt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(bt=bt.substr(1,bt.length-2),bt=G.stylize(bt,"name")):(bt=bt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),bt=G.stylize(bt,"string"))}return bt+": "+et}function P(G,X,U){var J=0,lt=G.reduce(function(It,bt){return J++,bt.indexOf(`
`)>=0&&J++,It+bt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return lt>60?U[0]+(X===""?"":X+`
 `)+" "+G.join(`,
  `)+" "+U[1]:U[0]+X+" "+G.join(", ")+" "+U[1]}function B(G){return Array.isArray(G)}S.isArray=B;function F(G){return typeof G=="boolean"}S.isBoolean=F;function W(G){return G===null}S.isNull=W;function Q(G){return G==null}S.isNullOrUndefined=Q;function H(G){return typeof G=="number"}S.isNumber=H;function Z(G){return typeof G=="string"}S.isString=Z;function ot(G){return typeof G=="symbol"}S.isSymbol=ot;function rt(G){return G===void 0}S.isUndefined=rt;function At(G){return pt(G)&&ht(G)==="[object RegExp]"}S.isRegExp=At;function pt(G){return typeof G=="object"&&G!==null}S.isObject=pt;function Ft(G){return pt(G)&&ht(G)==="[object Date]"}S.isDate=Ft;function Tt(G){return pt(G)&&(ht(G)==="[object Error]"||G instanceof Error)}S.isError=Tt;function Ot(G){return typeof G=="function"}S.isFunction=Ot;function xt(G){return G===null||typeof G=="boolean"||typeof G=="number"||typeof G=="string"||typeof G=="symbol"||typeof G=="undefined"}S.isPrimitive=xt,S.isBuffer=v(20384);function ht(G){return Object.prototype.toString.call(G)}function kt(G){return G<10?"0"+G.toString(10):G.toString(10)}var Gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function dt(){var G=new Date,X=[kt(G.getHours()),kt(G.getMinutes()),kt(G.getSeconds())].join(":");return[G.getDate(),Gt[G.getMonth()],X].join(" ")}S.log=function(){console.log("%s - %s",dt(),S.format.apply(S,arguments))},S.inherits=v(91496),S._extend=function(G,X){if(!X||!pt(X))return G;for(var U=Object.keys(X),J=U.length;J--;)G[U[J]]=X[U[J]];return G};function tt(G,X){return Object.prototype.hasOwnProperty.call(G,X)}var I=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;S.promisify=function(X){if(typeof X!="function")throw new TypeError('The "original" argument must be of type Function');if(I&&X[I]){var U=X[I];if(typeof U!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(U,I,{value:U,enumerable:!1,writable:!1,configurable:!0}),U}function U(){for(var J,lt,It=new Promise(function(Ct,it){J=Ct,lt=it}),bt=[],et=0;et<arguments.length;et++)bt.push(arguments[et]);bt.push(function(Ct,it){Ct?lt(Ct):J(it)});try{X.apply(this,bt)}catch(Ct){lt(Ct)}return It}return Object.setPrototypeOf(U,Object.getPrototypeOf(X)),I&&Object.defineProperty(U,I,{value:U,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(U,O(X))},S.promisify.custom=I;function u(G,X){if(!G){var U=new Error("Promise was rejected with a falsy value");U.reason=G,G=U}return X(G)}function Y(G){if(typeof G!="function")throw new TypeError('The "original" argument must be of type Function');function X(){for(var U=[],J=0;J<arguments.length;J++)U.push(arguments[J]);var lt=U.pop();if(typeof lt!="function")throw new TypeError("The last argument must be of type Function");var It=this,bt=function(){return lt.apply(It,arguments)};G.apply(this,U).then(function(et){x.nextTick(bt,null,et)},function(et){x.nextTick(u,et,bt)})}return Object.setPrototypeOf(X,Object.getPrototypeOf(G)),Object.defineProperties(X,O(G)),X}S.callbackify=Y}}]);

//# sourceMappingURL=1287.a48f0596.async.js.map